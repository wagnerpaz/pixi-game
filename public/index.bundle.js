/*! For license information please see index.bundle.js.LICENSE.txt */
(()=>{var t={187:t=>{"use strict";function e(t,e,o){o=o||2;var s,a,h,c,d,f,m,v=e&&e.length,y=v?e[0]*o:t.length,g=r(t,0,y,o,!0),_=[];if(!g||g.next===g.prev)return _;if(v&&(g=function(t,e,n,o){var s,a,h,c=[];for(s=0,a=e.length;s<a;s++)(h=r(t,e[s]*o,s<a-1?e[s+1]*o:t.length,o,!1))===h.next&&(h.steiner=!0),c.push(p(h));for(c.sort(u),s=0;s<c.length;s++)l(c[s],n),n=i(n,n.next);return n}(t,e,g,o)),t.length>80*o){s=h=t[0],a=c=t[1];for(var x=o;x<y;x+=o)(d=t[x])<s&&(s=d),(f=t[x+1])<a&&(a=f),d>h&&(h=d),f>c&&(c=f);m=0!==(m=Math.max(h-s,c-a))?1/m:0}return n(g,_,o,s,a,m),_}function r(t,e,r,i,n){var o,s;if(n===S(t,e,r,i)>0)for(o=e;o<r;o+=i)s=E(o,t[o],t[o+1],s);else for(o=r-i;o>=e;o-=i)s=E(o,t[o],t[o+1],s);return s&&y(s,s.next)&&(w(s),s=s.next),s}function i(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!y(i,i.next)&&0!==v(i.prev,i,i.next))i=i.next;else{if(w(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function n(t,e,r,u,l,c,p){if(t){!p&&c&&function(t,e,r,i){var n=t;do{null===n.z&&(n.z=d(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,o,s,a,h,u=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,i=r,a=0,e=0;e<u&&(a++,i=i.nextZ);e++);for(h=u;a>0||h>0&&i;)0!==a&&(0===h||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,h--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,u*=2}while(s>1)}(n)}(t,u,l,c);for(var f,m,v=t;t.prev!==t.next;)if(f=t.prev,m=t.next,c?s(t,u,l,c):o(t))e.push(f.i/r),e.push(t.i/r),e.push(m.i/r),w(t),t=m.next,v=m.next;else if((t=m)===v){p?1===p?n(t=a(i(t),e,r),e,r,u,l,c,2):2===p&&h(t,e,r,u,l,c):n(i(t),e,r,u,l,c,1);break}}}function o(t){var e=t.prev,r=t,i=t.next;if(v(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(f(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&v(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function s(t,e,r,i){var n=t.prev,o=t,s=t.next;if(v(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,h=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,u=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,l=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,c=d(a,h,e,r,i),p=d(u,l,e,r,i),m=t.prevZ,y=t.nextZ;m&&m.z>=c&&y&&y.z<=p;){if(m!==t.prev&&m!==t.next&&f(n.x,n.y,o.x,o.y,s.x,s.y,m.x,m.y)&&v(m.prev,m,m.next)>=0)return!1;if(m=m.prevZ,y!==t.prev&&y!==t.next&&f(n.x,n.y,o.x,o.y,s.x,s.y,y.x,y.y)&&v(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;m&&m.z>=c;){if(m!==t.prev&&m!==t.next&&f(n.x,n.y,o.x,o.y,s.x,s.y,m.x,m.y)&&v(m.prev,m,m.next)>=0)return!1;m=m.prevZ}for(;y&&y.z<=p;){if(y!==t.prev&&y!==t.next&&f(n.x,n.y,o.x,o.y,s.x,s.y,y.x,y.y)&&v(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function a(t,e,r){var n=t;do{var o=n.prev,s=n.next.next;!y(o,s)&&g(o,n,n.next,s)&&b(o,s)&&b(s,o)&&(e.push(o.i/r),e.push(n.i/r),e.push(s.i/r),w(n),w(n.next),n=t=s),n=n.next}while(n!==t);return i(n)}function h(t,e,r,o,s,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&m(h,u)){var l=T(h,u);return h=i(h,h.next),l=i(l,l.next),n(h,e,r,o,s,a),void n(l,e,r,o,s,a)}u=u.next}h=h.next}while(h!==t)}function u(t,e){return t.x-e.x}function l(t,e){if(e=function(t,e){var r,i=e,n=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&a>s){if(s=a,a===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===s)return r;var h,u=r,l=r.x,d=r.y,p=1/0;i=r;do{n>=i.x&&i.x>=l&&n!==i.x&&f(o<d?n:s,o,l,d,o<d?s:n,o,i.x,i.y)&&(h=Math.abs(o-i.y)/(n-i.x),b(i,t)&&(h<p||h===p&&(i.x>r.x||i.x===r.x&&c(r,i)))&&(r=i,p=h)),i=i.next}while(i!==u);return r}(t,e)){var r=T(e,t);i(e,e.next),i(r,r.next)}}function c(t,e){return v(t.prev,t,e.prev)<0&&v(e.next,t,t.next)<0}function d(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function f(t,e,r,i,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(n-s)*(i-a)>=0}function m(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&g(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(b(t,e)&&b(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)&&(v(t.prev,t,e.prev)||v(t,e.prev,e))||y(t,e)&&v(t.prev,t,t.next)>0&&v(e.prev,e,e.next)>0)}function v(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function y(t,e){return t.x===e.x&&t.y===e.y}function g(t,e,r,i){var n=x(v(t,e,r)),o=x(v(t,e,i)),s=x(v(r,i,t)),a=x(v(r,i,e));return n!==o&&s!==a||!(0!==n||!_(t,r,e))||!(0!==o||!_(t,i,e))||!(0!==s||!_(r,t,i))||!(0!==a||!_(r,e,i))}function _(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function x(t){return t>0?1:t<0?-1:0}function b(t,e){return v(t.prev,t,t.next)<0?v(t,e,t.next)>=0&&v(t,t.prev,e)>=0:v(t,e,t.prev)<0||v(t,t.next,e)<0}function T(t,e){var r=new A(t.i,t.x,t.y),i=new A(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function E(t,e,r,i){var n=new A(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function w(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function A(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,r,i){for(var n=0,o=e,s=r-i;o<r;o+=i)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}t.exports=e,t.exports.default=e,e.deviation=function(t,e,r,i){var n=e&&e.length,o=n?e[0]*r:t.length,s=Math.abs(S(t,0,o,r));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*r,l=a<h-1?e[a+1]*r:t.length;s-=Math.abs(S(t,u,l,r))}var c=0;for(a=0;a<i.length;a+=3){var d=i[a]*r,p=i[a+1]*r,f=i[a+2]*r;c+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},e.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[n][o][s]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r}},713:function(t,e,r){var i;!function(n){var o=n.Promise,s=o&&"resolve"in o&&"reject"in o&&"all"in o&&"race"in o&&function(){var t;return new o((function(e){t=e})),"function"==typeof t}();e?(e.Promise=s?o:S,e.Polyfill=S):void 0===(i=function(){return s?o:S}.call(e,r,e,t))||(t.exports=i);var a="pending",h="sealed",u="fulfilled",l="rejected",c=function(){};function d(t){return"[object Array]"===Object.prototype.toString.call(t)}var p,f="undefined"!=typeof setImmediate?setImmediate:setTimeout,m=[];function v(){for(var t=0;t<m.length;t++)m[t][0](m[t][1]);m=[],p=!1}function y(t,e){m.push([t,e]),p||(p=!0,f(v,0))}function g(t){var e=t.owner,r=e.state_,i=e.data_,n=t[r],o=t.then;if("function"==typeof n){r=u;try{i=n(i)}catch(t){T(o,t)}}_(o,i)||(r===u&&x(o,i),r===l&&T(o,i))}function _(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var i=e.then;if("function"==typeof i)return i.call(e,(function(i){r||(r=!0,e!==i?x(t,i):b(t,i))}),(function(e){r||(r=!0,T(t,e))})),!0}}catch(e){return r||T(t,e),!0}return!1}function x(t,e){t!==e&&_(t,e)||b(t,e)}function b(t,e){t.state_===a&&(t.state_=h,t.data_=e,y(w,t))}function T(t,e){t.state_===a&&(t.state_=h,t.data_=e,y(A,t))}function E(t){var e=t.then_;t.then_=void 0;for(var r=0;r<e.length;r++)g(e[r])}function w(t){t.state_=u,E(t)}function A(t){t.state_=l,E(t)}function S(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof S==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function r(t){T(e,t)}try{t((function(t){x(e,t)}),r)}catch(t){r(t)}}(t,this)}S.prototype={constructor:S,state_:a,then_:null,data_:void 0,then:function(t,e){var r={owner:this,then:new this.constructor(c),fulfilled:t,rejected:e};return this.state_===u||this.state_===l?y(g,r):this.then_.push(r),r.then},catch:function(t){return this.then(null,t)}},S.all=function(t){if(!d(t))throw new TypeError("You must pass an array to Promise.all().");return new this((function(e,r){var i=[],n=0;function o(t){return n++,function(r){i[t]=r,--n||e(i)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),r):i[a]=s;n||e(i)}))},S.race=function(t){if(!d(t))throw new TypeError("You must pass an array to Promise.race().");return new this((function(e,r){for(var i,n=0;n<t.length;n++)(i=t[n])&&"function"==typeof i.then?i.then(e,r):e(i)}))},S.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this((function(e){e(t)}))},S.reject=function(t){return new this((function(e,r){r(t)}))}}("undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:this)},729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function i(){}function n(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,i,o,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new n(i,o||t,s),h=r?r+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,i,n=[];if(0===this._eventsCount)return n;for(i in t=this._events)e.call(t,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=r?r+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,s=new Array(o);n<o;n++)s[n]=i[n].fn;return s},a.prototype.listenerCount=function(t){var e=r?r+t:t,i=this._events[e];return i?i.fn?1:i.length:0},a.prototype.emit=function(t,e,i,n,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var h,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,i),!0;case 4:return l.fn.call(l.context,e,i,n),!0;case 5:return l.fn.call(l.context,e,i,n,o),!0;case 6:return l.fn.call(l.context,e,i,n,o,s),!0}for(u=1,h=new Array(c-1);u<c;u++)h[u-1]=arguments[u];l.fn.apply(l.context,h)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,i);break;case 4:l[u].fn.call(l[u].context,e,i,n);break;default:if(!h)for(d=1,h=new Array(c-1);d<c;d++)h[d-1]=arguments[d];l[u].fn.apply(l[u].context,h)}}return!0},a.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,i,n){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||n&&!a.once||i&&a.context!==i||s(this,o);else{for(var h=0,u=[],l=a.length;h<l;h++)(a[h].fn!==e||n&&!a[h].once||i&&a[h].context!==i)&&u.push(a[h]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},940:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(e,r,n){void 0===r&&(r=!1),i(this,t),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return r(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){i(this,t),this._head=this._tail=void 0}return r(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new n(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new n(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=n,e.default=s,t.exports=e.default},418:t=>{"use strict";var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function n(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var s,a,h=n(t),u=1;u<arguments.length;u++){for(var l in s=Object(arguments[u]))r.call(s,l)&&(h[l]=s[l]);if(e){a=e(s);for(var c=0;c<a.length;c++)i.call(s,a[c])&&(h[a[c]]=s[a[c]])}}return h}},571:t=>{"use strict";t.exports=function(t,e){if(t){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[r.key[o]]=i[o]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,(function(t,e,i){e&&(n[r.q.name][e]=i)})),n}}},971:function(t,e,r){var i;t=r.nmd(t),function(n){e&&e.nodeType,t&&t.nodeType;var o="object"==typeof r.g&&r.g;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,h=36,u=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function m(t){throw RangeError(d[t])}function v(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function y(t,e){var r=t.split("@"),i="";return r.length>1&&(i=r[0]+"@",t=r[1]),i+v((t=t.replace(c,".")).split("."),e).join(".")}function g(t){for(var e,r,i=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function _(t){return v(t,(function(t){var e="";return t>65535&&(e+=f((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+f(t)})).join("")}function x(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function b(t,e,r){var i=0;for(t=r?p(t/700):t>>1,t+=p(t/e);t>455;i+=h)t=p(t/35);return p(i+36*t/(t+38))}function T(t){var e,r,i,n,o,s,u,l,c,d,f,v=[],y=t.length,g=0,x=128,T=72;for((r=t.lastIndexOf("-"))<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&m("not-basic"),v.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<y;){for(o=g,s=1,u=h;n>=y&&m("invalid-input"),((l=(f=t.charCodeAt(n++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:h)>=h||l>p((a-g)/s))&&m("overflow"),g+=l*s,!(l<(c=u<=T?1:u>=T+26?26:u-T));u+=h)s>p(a/(d=h-c))&&m("overflow"),s*=d;T=b(g-o,e=v.length+1,0==o),p(g/e)>a-x&&m("overflow"),x+=p(g/e),g%=e,v.splice(g++,0,x)}return _(v)}function E(t){var e,r,i,n,o,s,u,l,c,d,v,y,_,T,E,w=[];for(y=(t=g(t)).length,e=128,r=0,o=72,s=0;s<y;++s)(v=t[s])<128&&w.push(f(v));for(i=n=w.length,n&&w.push("-");i<y;){for(u=a,s=0;s<y;++s)(v=t[s])>=e&&v<u&&(u=v);for(u-e>p((a-r)/(_=i+1))&&m("overflow"),r+=(u-e)*_,e=u,s=0;s<y;++s)if((v=t[s])<e&&++r>a&&m("overflow"),v==e){for(l=r,c=h;!(l<(d=c<=o?1:c>=o+26?26:c-o));c+=h)E=l-d,T=h-d,w.push(f(x(d+E%T,0))),l=p(E/T);w.push(f(x(l,0))),o=b(r,_,i==n),r=0,++i}++r,++e}return w.join("")}s={version:"1.3.2",ucs2:{decode:g,encode:_},decode:T,encode:E,toASCII:function(t){return y(t,(function(t){return l.test(t)?"xn--"+E(t):t}))},toUnicode:function(t){return y(t,(function(t){return u.test(t)?T(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return s}.call(e,r,e,t))||(t.exports=i)}()},587:t=>{"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,r,i,n){r=r||"&",i=i||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(r);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var h=t.length;a>0&&h>a&&(h=a);for(var u=0;u<h;++u){var l,c,d,p,f=t[u].replace(s,"%20"),m=f.indexOf(i);m>=0?(l=f.substr(0,m),c=f.substr(m+1)):(l=f,c=""),d=decodeURIComponent(l),p=decodeURIComponent(c),e(o,d)?Array.isArray(o[d])?o[d].push(p):o[d]=[o[d],p]:o[d]=p}return o}},361:t=>{"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,r,i,n){return r=r||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(n){var o=encodeURIComponent(e(n))+i;return Array.isArray(t[n])?t[n].map((function(t){return o+encodeURIComponent(e(t))})).join(r):o+encodeURIComponent(e(t[n]))})).join(r):n?encodeURIComponent(e(n))+i+encodeURIComponent(e(t)):""}},673:(t,e,r)=>{"use strict";e.decode=e.parse=r(587),e.encode=e.stringify=r(361)},575:(t,e,r)=>{"use strict";var i=r(971),n=r(502);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){return n.isString(t)&&(t=_(t)),t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=r(673);function _(t,e,r){if(t&&n.isObject(t)&&t instanceof o)return t;var i=new o;return i.parse(t,e,r),i}o.prototype.parse=function(t,e,r){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var _=t=u.join(a);if(_=_.trim(),!r&&1===t.split("#").length){var x=h.exec(_);if(x)return this.path=_,this.href=_,this.pathname=x[1],x[2]?(this.search=x[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var b=s.exec(_);if(b){var T=(b=b[0]).toLowerCase();this.protocol=T,_=_.substr(b.length)}if(r||b||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===_.substr(0,2);!E||b&&v[b]||(_=_.substr(2),this.slashes=!0)}if(!v[b]&&(E||b&&!y[b])){for(var w,A,S=-1,P=0;P<d.length;P++)-1!==(O=_.indexOf(d[P]))&&(-1===S||O<S)&&(S=O);for(-1!==(A=-1===S?_.lastIndexOf("@"):_.lastIndexOf("@",S))&&(w=_.slice(0,A),_=_.slice(A+1),this.auth=decodeURIComponent(w)),S=-1,P=0;P<c.length;P++){var O;-1!==(O=_.indexOf(c[P]))&&(-1===S||O<S)&&(S=O)}-1===S&&(S=_.length),this.host=_.slice(0,S),_=_.slice(S),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var C=this.hostname.split(/\./),M=(P=0,C.length);P<M;P++){var D=C[P];if(D&&!D.match(p)){for(var R="",N=0,L=D.length;N<L;N++)D.charCodeAt(N)>127?R+="x":R+=D[N];if(!R.match(p)){var F=C.slice(0,P),U=C.slice(P+1),B=D.match(f);B&&(F.push(B[1]),U.unshift(B[2])),U.length&&(_="/"+U.join(".")+_),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=i.toASCII(this.hostname));var k=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+k,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!m[T])for(P=0,M=l.length;P<M;P++){var H=l[P];if(-1!==_.indexOf(H)){var X=encodeURIComponent(H);X===H&&(X=escape(H)),_=_.split(H).join(X)}}var G=_.indexOf("#");-1!==G&&(this.hash=_.substr(G),_=_.slice(0,G));var z=_.indexOf("?");if(-1!==z?(this.search=_.substr(z),this.query=_.substr(z+1),e&&(this.query=g.parse(this.query)),_=_.slice(0,z)):e&&(this.search="",this.query={}),_&&(this.pathname=_),y[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"";var Y=this.search||"";this.path=k+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(s=g.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+i},o.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(n.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,i=Object.keys(this),s=0;s<i.length;s++){var a=i[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var l=h[u];"protocol"!==l&&(r[l]=t[l])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!y[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var p=c[d];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||v[t.protocol])r.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",g=r.search||"";r.path=m+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),x=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=x||_||r.host&&t.pathname,T=b,E=r.pathname&&r.pathname.split("/")||[],w=(f=t.pathname&&t.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(w&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),b=b&&(""===f[0]||""===E[0])),x)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=f;else if(f.length)E||(E=[]),E.pop(),E=E.concat(f),r.search=t.search,r.query=t.query;else if(!n.isNullOrUndefined(t.search))return w&&(r.hostname=r.host=E.shift(),(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift())),r.search=t.search,r.query=t.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var A=E.slice(-1)[0],S=(r.host||t.host||E.length>1)&&("."===A||".."===A)||""===A,P=0,O=E.length;O>=0;O--)"."===(A=E[O])?E.splice(O,1):".."===A?(E.splice(O,1),P++):P&&(E.splice(O,1),P--);if(!b&&!T)for(;P--;P)E.unshift("..");!b||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),S&&"/"!==E.join("/").substr(-1)&&E.push("");var I,C=""===E[0]||E[0]&&"/"===E[0].charAt(0);return w&&(r.hostname=r.host=C?"":E.length?E.shift():"",(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift())),(b=b||r.host&&E.length)&&!C&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},502:t=>{"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}}},e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t=r(713),e=r(418),i=r.n(e);if(window.Promise||(window.Promise=t.Polyfill),Object.assign||(Object.assign=i()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var n=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-n}}for(var o=Date.now(),s=["ms","moz","webkit","o"],a=0;a<s.length&&!window.requestAnimationFrame;++a){var h=s[a];window.requestAnimationFrame=window[h+"RequestAnimationFrame"],window.cancelAnimationFrame=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+o-e;return r<0&&(r=0),o=e,window.setTimeout((function(){o=Date.now(),t(performance.now())}),r)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var u,l,c,d,p,f,m,v,y,g,_,x,b,T,E,w,A,S=/iPhone/i,P=/iPod/i,O=/iPad/i,I=/\biOS-universal(?:.+)Mac\b/i,C=/\bAndroid(?:.+)Mobile\b/i,M=/Android/i,D=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,R=/Silk/i,N=/Windows Phone/i,L=/\bWindows(?:.+)ARM\b/i,F=/BlackBerry/i,U=/BB10/i,B=/Opera Mini/i,k=/\b(CriOS|Chrome)(?:.+)Mobile/i,j=/Mobile(?:.+)Firefox\b/i,H=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream},X=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=e.userAgent,i=r.split("[FBAN");void 0!==i[1]&&(r=i[0]),void 0!==(i=r.split("Twitter"))[1]&&(r=i[0]);var n=function(t){return function(e){return e.test(t)}}(r),o={apple:{phone:n(S)&&!n(N),ipod:n(P),tablet:!n(S)&&(n(O)||H(e))&&!n(N),universal:n(I),device:(n(S)||n(P)||n(O)||n(I)||H(e))&&!n(N)},amazon:{phone:n(D),tablet:!n(D)&&n(R),device:n(D)||n(R)},android:{phone:!n(N)&&n(D)||!n(N)&&n(C),tablet:!n(N)&&!n(D)&&!n(C)&&(n(R)||n(M)),device:!n(N)&&(n(D)||n(R)||n(C)||n(M))||n(/\bokhttp\b/i)},windows:{phone:n(N),tablet:n(L),device:n(N)||n(L)},other:{blackberry:n(F),blackberry10:n(U),opera:n(B),firefox:n(j),chrome:n(k),device:n(F)||n(U)||n(B)||n(j)||n(k)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(window.navigator),G={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(t){var e,r=!0;(X.tablet||X.phone)&&(X.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(r=!1),X.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(r=!1));return r?32:4}(),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:X.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!X.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},z=r(729),Y=r.n(z),V=r(187),W=r.n(V),q=r(575);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(u||(u={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(l||(l={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(c||(c={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(d||(d={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(p||(p={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(f||(f={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(m||(m={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(v||(v={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(y||(y={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(g||(g={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(_||(_={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(x||(x={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(b||(b={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(T||(T={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(E||(E={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(w||(w={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(A||(A={})),G.RETINA_PREFIX=/@([0-9\.]+)x/,G.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var Z,K=!1;function J(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function Q(t){var e=t.toString(16);return"#"+("000000".substr(0,6-e.length)+e)}function $(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}var tt=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[d.NORMAL_NPM]=d.NORMAL,t[d.ADD_NPM]=d.ADD,t[d.SCREEN_NPM]=d.SCREEN,e[d.NORMAL]=d.NORMAL_NPM,e[d.ADD]=d.ADD_NPM,e[d.SCREEN]=d.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}();function et(t,e){return tt[e?1:0][t]}function rt(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,i=t>>8&255,n=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((i=i*e+.5|0)<<8)+(n*e+.5|0)}function it(t,e,r,i){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(i||void 0===i)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function nt(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)}function ot(t){return!(t&t-1||!t)}function st(t){var e=(t>65535?1:0)<<4,r=((t>>>=e)>255?1:0)<<3;return e|=r,e|=r=((t>>>=r)>15?1:0)<<2,(e|=r=((t>>>=r)>3?1:0)<<1)|(t>>>=r)>>1}function at(t,e,r){var i,n=t.length;if(!(e>=n||0===r)){var o=n-(r=e+r>n?n-e:r);for(i=e;i<o;++i)t[i]=t[i+r];t.length=o}}function ht(t){return 0===t?0:t<0?-1:1}Float32Array,Uint32Array,Int32Array,Uint8Array;var ut=0;function lt(){return++ut}var ct={};function dt(t,e,r){if(void 0===r&&(r=3),!ct[e]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(i=i.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(i))),ct[e]=!0}}var pt,ft={},mt=Object.create(null),vt=Object.create(null),yt=function(){function t(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||G.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),t}();function gt(t,e){var r=G.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}var _t,xt=2*Math.PI,bt=180/Math.PI,Tt=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(_t||(_t={}));var Et=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(i),this.type=_t.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(n-i,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=i,this.height=n-i,this},t}(),wt=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=_t.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,n=this.y-e;return(i*=i)+(n*=n)<=r},t.prototype.getBounds=function(){return new Et(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}(),At=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=r,this.height=i,this.type=_t.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return(r*=r)+(i*=i)<=1},t.prototype.getBounds=function(){return new Et(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),St=function(){function t(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var i=Array.isArray(e[0])?e[0]:e;if("number"!=typeof i[0]){for(var n=[],o=0,s=i.length;o<s;o++)n.push(i[o].x,i[o].y);i=n}this.points=i,this.type=_t.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,o=i-1;n<i;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],u=this.points[2*o+1];a>e!=u>e&&t<(e-a)/(u-a)*(h-s)+s&&(r=!r)}return r},t}(),Pt=function(){function t(t,e,r,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=r,this.height=i,this.radius=n,this.type=_t.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),i=e-(this.y+this.radius),n=this.radius*this.radius;if(r*r+i*i<=n)return!0;if((r=t-(this.x+this.width-this.radius))*r+i*i<=n)return!0;if(r*r+(i=e-(this.y+this.height-this.radius))*i<=n)return!0;if((r=t-(this.x+this.radius))*r+i*i<=n)return!0}return!1},t}(),Ot=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t}(),It=function(){function t(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=e}return t.prototype.clone=function(e,r){return void 0===e&&(e=this.cb),void 0===r&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Ct=function(){function t(t,e,r,i,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new Ot;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new Ot;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,n=t.y;return e.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,o=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},t.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return this.a=Math.cos(s+h)*n,this.b=Math.sin(s+h)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,n=this.d,o=-Math.atan2(-i,n),s=Math.atan2(r,e),a=Math.abs(o+s);return a<1e-5||Math.abs(xt-a)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,o=t*i-e*r;return this.a=i/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(t*this.ty-e*n)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),Mt=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Dt=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Rt=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Nt=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Lt=[],Ft=[],Ut=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];Lt.push(e);for(var r=0;r<16;r++)for(var i=Ut(Mt[t]*Mt[r]+Rt[t]*Dt[r]),n=Ut(Dt[t]*Mt[r]+Nt[t]*Dt[r]),o=Ut(Mt[t]*Rt[r]+Rt[t]*Nt[r]),s=Ut(Dt[t]*Rt[r]+Nt[t]*Nt[r]),a=0;a<16;a++)if(Mt[a]===i&&Dt[a]===n&&Rt[a]===o&&Nt[a]===s){e.push(a);break}}for(t=0;t<16;t++){var h=new Ct;h.set(Mt[t],Dt[t],Rt[t],Nt[t],0,0),Ft.push(h)}}();var Bt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Mt[t]},uY:function(t){return Dt[t]},vX:function(t){return Rt[t]},vY:function(t){return Nt[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return Lt[t][e]},sub:function(t,e){return Lt[t][Bt.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Bt.S:Bt.N:2*Math.abs(e)<=Math.abs(t)?t>0?Bt.E:Bt.W:e>0?t>0?Bt.SE:Bt.SW:t>0?Bt.NE:Bt.NW},matrixAppendRotationInv:function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=Ft[Bt.inv(e)];n.tx=r,n.ty=i,t.append(n)}},kt=function(){function t(){this.worldTransform=new Ct,this.localTransform=new Ct,this.position=new It(this.onChange,this,0,0),this.scale=new It(this.onChange,this,1,1),this.pivot=new It(this.onChange,this,0,0),this.skew=new It(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();G.SORTABLE_CHILDREN=!1;var jt=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Et.EMPTY:((t=t||new Et(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[2])<e?o:e,r=(s=t[3])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[4])<e?o:e,r=(s=t[5])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[6])<e?o:e,r=(s=t[7])<r?s:r,i=o>i?o:i,n=s>n?s:n,this.minX=e,this.minY=r,this.maxX=i,this.maxY=n},t.prototype.addFrame=function(t,e,r,i,n){this.addFrameMatrix(t.worldTransform,e,r,i,n)},t.prototype.addFrameMatrix=function(t,e,r,i,n){var o=t.a,s=t.b,a=t.c,h=t.d,u=t.tx,l=t.ty,c=this.minX,d=this.minY,p=this.maxX,f=this.maxY,m=o*e+a*r+u,v=s*e+h*r+l;c=m<c?m:c,d=v<d?v:d,p=m>p?m:p,f=v>f?v:f,c=(m=o*i+a*r+u)<c?m:c,d=(v=s*i+h*r+l)<d?v:d,p=m>p?m:p,f=v>f?v:f,c=(m=o*e+a*n+u)<c?m:c,d=(v=s*e+h*n+l)<d?v:d,p=m>p?m:p,f=v>f?v:f,c=(m=o*i+a*n+u)<c?m:c,d=(v=s*i+h*n+l)<d?v:d,p=m>p?m:p,f=v>f?v:f,this.minX=c,this.minY=d,this.maxX=p,this.maxY=f},t.prototype.addVertexData=function(t,e,r){for(var i=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=e;a<r;a+=2){var h=t[a],u=t[a+1];i=h<i?h:i,n=u<n?u:n,o=h>o?h:o,s=u>s?u:s}this.minX=i,this.minY=n,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(t,e,r,i){this.addVerticesMatrix(t.worldTransform,e,r,i)},t.prototype.addVerticesMatrix=function(t,e,r,i,n,o){void 0===n&&(n=0),void 0===o&&(o=n);for(var s=t.a,a=t.b,h=t.c,u=t.d,l=t.tx,c=t.ty,d=this.minX,p=this.minY,f=this.maxX,m=this.maxY,v=r;v<i;v+=2){var y=e[v],g=e[v+1],_=s*y+h*g+l,x=u*g+a*y+c;d=Math.min(d,_-n),f=Math.max(f,_+n),p=Math.min(p,x-o),m=Math.max(m,x+o)}this.minX=d,this.minY=p,this.maxX=f,this.maxY=m},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>n?t.maxY:n},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,r,i,n,o){t-=n,e-=o,r+=n,i+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i},t}(),Ht=function(t,e){return(Ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Xt(t,e){function r(){this.constructor=t}Ht(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Gt=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new kt,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new jt,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return Xt(e,t),e.mixin=function(t){for(var r=Object.keys(t),i=0;i<r.length;++i){var n=r[i];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new Et),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new Et),t=this._localBoundsRect),this._localBounds||(this._localBounds=new jt);var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var i=this._bounds,n=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,t);return this.parent=r,this.transform=e,this._bounds=i,this._bounds.updateID+=this._boundsID-n,o},e.prototype.toGlobal=function(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,i){return e&&(t=e.toGlobal(t,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new zt),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*bt},set:function(t){this.transform.rotation=t*Tt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1),this._mask=t,this._mask&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),e}(Y()),zt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return Xt(e,t),e}(Gt);function Yt(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Gt.prototype.displayObjectUpdateTransform=Gt.prototype.updateTransform;var Vt=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=G.SORTABLE_CHILDREN,e.sortDirty=!1,e}return Xt(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var i=0;i<e.length;i++)this.addChild(e[i]);else{var n=e[0];n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);at(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var i=0;i<e.length;i++)this.removeChild(e[i]);else{var n=e[0],o=this.children.indexOf(n);if(-1===o)return null;n.parent=null,n.transform._parentID=-1,at(this.children,o,1),this._boundsID++,this.onChildrenChange(o),n.emit("removed",this),this.emit("childRemoved",n,this,o)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,at(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var r,i=t,n=e-i;if(n>0&&n<=e){r=this.children.splice(i,n);for(var o=0;o<r.length;++o)r[o].parent=null,r[o].transform&&(r[o].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(t),o=0;o<r.length;++o)r[o].emit("removed",this),this.emit("childRemoved",r[o],this,o);return r}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var i=this.children[e];i._lastSortedIndex=e,t||0===i.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(Yt),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var r=e._mask.maskObject||e._mask;r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,r){void 0===r&&(r=!1);var i=t.prototype.getLocalBounds.call(this,e);if(!r)for(var n=0,o=this.children.length;n<o;++n){var s=this.children[n];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}r&&t.mask.push(this,this._mask),this._render(t),i=0;for(var n=this.children.length;i<n;i++)this.children[i].render(t);t.batch.flush(),r&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<i.length;++n)i[n].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(Gt);Vt.prototype.containerUpdateTransform=Vt.prototype.updateTransform,Gt.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var Wt,qt=function(){function t(t){this._hookDiv=null,(X.tablet||X.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",(function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){var t=performance.now();if(!(X.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=this.renderer.resolution,i=e.width/this.renderer.width*r,n=e.height/this.renderer.height*r,o=this.div;o.style.left=e.left+"px",o.style.top=e.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var a=this.children[s];if(a.renderId!==this.renderId)a._accessibleActive=!1,at(this.children,s,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,s--;else{o=a._accessibleDiv;var h=a.hitArea,u=a.worldTransform;a.hitArea?(o.style.left=(u.tx+h.x*u.a)*i+"px",o.style.top=(u.ty+h.y*u.d)*n+"px",o.style.width=h.width*u.a*i+"px",o.style.height=h.height*u.d*n+"px"):(h=a.getBounds(),this.capHitArea(h),o.style.left=h.x*i+"px",o.style.top=h.y*n+"px",o.style.width=h.width*i+"px",o.style.height=h.height*n+"px",o.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(o.title=a.accessibleTitle),o.getAttribute("aria-label")!==a.accessibleHint&&null!==a.accessibleHint&&o.setAttribute("aria-label",a.accessibleHint)),a.accessibleTitle===o.title&&a.tabIndex===o.tabIndex||(o.title=a.accessibleTitle,o.tabIndex=a.tabIndex,this.debug&&this.updateDebugHTML(o))}}this.renderId++}},t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();G.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(Wt||(Wt={}));var Zt=function(){function t(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.fn=t,this.context=e,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),Kt=function(){function t(){var t=this;this._head=new Zt(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/G.TARGET_FPMS,this.elapsedMS=1/G.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,r){return void 0===r&&(r=Wt.NORMAL),this._addListener(new Zt(t,e,r))},t.prototype.addOnce=function(t,e,r){return void 0===r&&(r=Wt.NORMAL),this._addListener(new Zt(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*G.TARGET_FPMS;for(var i=this._head,n=i.next;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,G.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),Jt=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Wt.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Kt.shared:new Kt,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}(),Qt=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Ot,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),$t=function(t,e){return($t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},te=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),ee=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!=(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!=(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!=(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),re=function(){function t(){this._tempPoint=new Ot}return t.prototype.recursiveFindHit=function(t,e,r,i,n){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=n=e.interactive||n,h=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,h=!1)),a=!1):e._mask&&i&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(i=!1)),h&&e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;l>=0;l--){var c=u[l],d=this.recursiveFindHit(t,c,r,i,a);if(d){if(!c.parent)continue;a=!1,d&&(t.target&&(i=!1),s=!0)}}return n&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},t.prototype.findHit=function(t,e,r,i){this.recursiveFindHit(t,e,r,i,!1)},t}(),ie={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Gt.mixin(ie);var ne={target:null,data:{global:null}},oe=function(t){function e(e,r){var i=t.call(this)||this;return r=r||{},i.renderer=e,i.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,i.interactionFrequency=r.interactionFrequency||10,i.mouse=new Qt,i.mouse.identifier=1,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[1]=i.mouse,i.interactionDataPool=[],i.eventData=new te,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new re,i._tempDisplayObject=new zt,i._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return function(t,e){function r(){this.constructor=t}$t(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,e){return ne.target=null,ne.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(ne,e,null,!0),ne.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Kt.system.add(this.tickerUpdate,this,Wt.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(Kt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopPropagationHint&&t!==r.stopsPropagatingAt||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})},e.prototype.mapPositionToPoint=function(t,e,r){var i;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*n,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n},e.prototype.processInteractive=function(t,e,r,i){var n=this.search.findHit(t,e,r,i),o=this.delayedEvents;if(!o.length)return n;t.stopPropagationHint=!1;var s=o.length;this.delayedEvents=[];for(var a=0;a<s;a++){var h=o[a],u=h.displayObject,l=h.eventString,c=h.eventData;c.stopsPropagatingAt===u&&(c.stopPropagationHint=!0),this.dispatchEvent(u,l,c)}return n},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var i=t.data,n=t.data.identifier;if(r)if(e.trackedPointers[n]||(e.trackedPointers[n]=new ee(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===i.pointerType||"pen"===i.pointerType){var o=2===i.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var i=this.normalizeToPointerData(t),n=i.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=i[s],h=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,h);if(u.data.originalEvent=t,this.processInteractive(u,this.lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,u),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(a.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var i=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===i.pointerType,a="mouse"===i.pointerType||"pen"===i.pointerType,h=!1;if(a){var u=2===i.button,l=ee.FLAGS,c=u?l.RIGHT_DOWN:l.LEFT_DOWN,d=void 0!==o&&o.flags&c;r?(this.dispatchEvent(e,u?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,u?"rightclick":"click",t),h=!0)):d&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var i=t.data,n="touch"===i.pointerType,o="mouse"===i.pointerType||"pen"===i.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var i=t.data,n=t.data.identifier,o="mouse"===i.pointerType||"pen"===i.pointerType,s=e.trackedPointers[n];r&&!s&&(s=e.trackedPointers[n]=new ee(n)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",i)},e.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return 1===r||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:((e=this.interactionDataPool.pop()||new Qt).identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,i=t.changedTouches.length;r<i;r++){var n=t.changedTouches[r];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else if(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent)e.push(t);else{var o=t;void 0===o.isPrimary&&(o.isPrimary=!0),void 0===o.width&&(o.width=1),void 0===o.height&&(o.height=1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="mouse"),void 0===o.pointerId&&(o.pointerId=1),void 0===o.pressure&&(o.pressure=.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,e.push(o)}return e},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(Y()),se=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,r,i,n,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");var h=this,u=h.name,l=h.items;this._aliasCount++;for(var c=0,d=l.length;c<d;c++)l[c][u](t,e,r,i,n,o,s,a);return l===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(se.prototype,{dispatch:{value:se.prototype.emit},run:{value:se.prototype.emit}}),G.PREFER_ENV=X.any?u.WEBGL:u.WEBGL2,G.STRICT_TEXTURE_CACHE=!1;var ae=[];function he(t,e){if(!t)return null;var r="";if("string"==typeof t){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(var n=ae.length-1;n>=0;--n){var o=ae[n];if(o.test&&o.test(t,r))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var ue=function(t,e){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function le(t,e){function r(){this.constructor=t}ue(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var ce=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new se("setRealSize"),this.onUpdate=new se("update"),this.onError=new se("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,r){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),de=function(t){function e(e,r){var i=this,n=r||{},o=n.width,s=n.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return(i=t.call(this,o,s)||this).data=e,i}return le(e,t),e.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===x.UNPACK),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,r.internalFormat,e.width,e.height,0,e.format,r.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(ce),pe={scaleMode:y.NEAREST,format:f.RGBA,alphaMode:x.NPM},fe=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=null);var i=t.call(this)||this,n=(r=r||{}).alphaMode,o=r.mipmap,s=r.anisotropicLevel,a=r.scaleMode,h=r.width,u=r.height,l=r.wrapMode,c=r.format,d=r.type,p=r.target,y=r.resolution,g=r.resourceOptions;return!e||e instanceof ce||((e=he(e,g)).internal=!0),i.width=h||0,i.height=u||0,i.resolution=y||G.RESOLUTION,i.mipmap=void 0!==o?o:G.MIPMAP_TEXTURES,i.anisotropicLevel=void 0!==s?s:G.ANISOTROPIC_LEVEL,i.wrapMode=l||G.WRAP_MODE,i.scaleMode=void 0!==a?a:G.SCALE_MODE,i.format=c||f.RGBA,i.type=d||v.UNSIGNED_BYTE,i.target=p||m.TEXTURE_2D,i.alphaMode=void 0!==n?n:x.UNPACK,void 0!==r.premultiplyAlpha&&(i.premultiplyAlpha=r.premultiplyAlpha),i.uid=lt(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=h>0&&u>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(e),i}return le(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=ot(this.realWidth)&&ot(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete vt[this.cacheId],delete mt[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,r,i){void 0===i&&(i=G.STRICT_TEXTURE_CACHE);var n="string"==typeof t,o=null;n?o=t:(t._pixiId||(t._pixiId="pixiid_"+lt()),o=t._pixiId);var s=vt[o];if(n&&i&&!s)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return s||((s=new e(t,r)).cacheId=o,e.addToCache(s,o)),s},e.fromBuffer=function(t,r,i,n){t=t||new Float32Array(r*i*4);var o=new de(t,{width:r,height:i}),s=t instanceof Float32Array?v.FLOAT:v.UNSIGNED_BYTE;return new e(o,Object.assign(pe,n||{width:r,height:i,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),vt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),vt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=vt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete vt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete vt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(Y()),me=function(t){function e(e,r){var i=this,n=r||{},o=n.width,s=n.height;(i=t.call(this,o,s)||this).items=[],i.itemDirtyIds=[];for(var a=0;a<e;a++){var h=new fe;i.items.push(h),i.itemDirtyIds.push(-2)}return i.length=e,i._load=null,i.baseTexture=null,i}return le(e,t),e.prototype.initFromArray=function(t,e){for(var r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof ce?this.addResourceAt(t[r],r):this.addResourceAt(he(t[r],e),r))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],r=e.realWidth,i=e.realHeight;return t.resize(r,i),Promise.resolve(t)})),this._load},e}(ce),ve=function(t){function e(e,r){var i,n,o=this,s=r||{},a=s.width,h=s.height;return Array.isArray(e)?(i=e,n=e.length):n=e,o=t.call(this,n,{width:a,height:h})||this,i&&o.initFromArray(i,r),o}return le(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=m.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,r){var i=this,n=i.length,o=i.itemDirtyIds,s=i.items,a=t.gl;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,n,0,e.format,e.type,null);for(var h=0;h<n;h++){var u=s[h];o[h]<u.dirtyId&&(o[h]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,h,u.resource.width,u.resource.height,1,e.format,e.type,u.resource.source))}return!0},e}(me),ye=function(t){function e(e){var r=this,i=e,n=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return(r=t.call(this,n,o)||this).source=e,r.noSubImage=!1,r}return le(e,t),e.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=function(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,pt||(pt=document.createElement("a")),pt.href=t;var r=(0,q.parse)(pt.href),i=!r.port&&""===e.port||r.port===e.port;return r.hostname===e.hostname&&i&&r.protocol===e.protocol?"":"anonymous"}(e):!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous")},e.prototype.upload=function(t,e,r,i){var n=t.gl,o=e.realWidth,s=e.realHeight;return i=i||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===x.UNPACK),this.noSubImage||e.target!==n.TEXTURE_2D||r.width!==o||r.height!==s?(r.width=o,r.height=s,n.texImage2D(e.target,0,e.format,e.format,e.type,i)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,i),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(r,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(ce),ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return le(e,t),e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(ye),_e=function(t){function e(r,i){var n=this,o=i||{},s=o.width,a=o.height,h=o.autoLoad,u=o.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");n=t.call(this,6,{width:s,height:a})||this;for(var l=0;l<e.SIDES;l++)n.items[l].target=m.TEXTURE_CUBE_MAP_POSITIVE_X+l;return n.linkBaseTexture=!1!==u,r&&n.initFromArray(r,i),!1!==h&&n.load(),n}return le(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=m.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=m.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,r,i){for(var n=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];n[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(t,s,i),n[o]=s.dirtyId):n[o]<-1&&(t.gl.texImage2D(s.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),n[o]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(me),xe=function(t){function e(e,r){var i=this;if(r=r||{},!(e instanceof HTMLImageElement)){var n=new Image;ye.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}return i=t.call(this,e)||this,!e.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=e.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(void 0!==r.createBitmap?r.createBitmap:G.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,i.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,void 0!==r.premultiplyAlpha&&(i.premultiplyAlpha=r.premultiplyAlpha),i.bitmap=null,i._load=null,!1!==r.autoLoad&&i.load(),i}return le(e,t),e.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,r){var i=e.source;e.url=i.src;var n=function(){e.destroyed||(i.onload=null,i.onerror=null,e.resize(i.width,i.height),e._load=null,e.createBitmap?t(e.process()):t(e))};i.complete&&i.src?n():(i.onload=n,i.onerror=function(t){r(t),e.onError.emit(t)})}))),this._load},e.prototype.process=function(){var t=this,e=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(e,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===x.UNPACK?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,r,i){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,r,i,this.bitmap),!this.preserveBitmap){var n=!0,o=r._glTextures;for(var s in o){var a=o[s];if(a!==i&&a.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},e}(ye),be=function(t){function e(e,r){var i=this;return r=r||{},(i=t.call(this,document.createElement("canvas"))||this)._width=0,i._height=0,i.svg=e,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,!1!==r.autoLoad&&i.load(),i}return le(e,t),e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var t=this,e=new Image;ye.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(r){t._resolve&&(e.onerror=null,t.onError.emit(r))},e.onload=function(){if(t._resolve){var r=e.width,i=e.height;if(!r||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=r*t.scale,o=i*t.scale;(t._overrideWidth||t._overrideHeight)&&(n=t._overrideWidth||t._overrideHeight/i*r,o=t._overrideHeight||t._overrideWidth/r*i),n=Math.round(n),o=Math.round(o);var s=t.source;s.width=n,s.height=o,s._pixiId="canvas_"+lt(),s.getContext("2d").drawImage(e,0,0,r,i,0,0,n,o),t._resolve(),t._resolve=null}}},e.getSize=function(t){var r=e.SVG_SIZE.exec(t),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&0===t.indexOf("data:image/svg+xml;base64")||"string"==typeof t&&0===t.indexOf("<svg")},e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(ye),Te=function(t){function e(r,i){var n=this;if(i=i||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof r&&(r=[r]);var s=r[0].src||r[0];ye.crossOrigin(o,s,i.crossorigin);for(var a=0;a<r.length;++a){var h=document.createElement("source"),u=r[a],l=u.src,c=u.mime,d=(l=l||r[a]).split("?").shift().toLowerCase(),p=d.substr(d.lastIndexOf(".")+1);c=c||e.MIME_TYPES[p]||"video/"+p,h.src=l,h.type=c,o.appendChild(h)}r=o}return(n=t.call(this,r)||this).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=i.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==i.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==i.autoLoad&&n.load(),n}return le(e,t),e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var r=Kt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(r){t.valid?r(t):(t._resolve=r,e.load())})),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Kt.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Kt.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&Kt.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Kt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Kt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,r){return t instanceof HTMLVideoElement||e.TYPES.indexOf(r)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(ye),Ee=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return le(e,t),e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(ye);ae.push(xe,Ee,ge,Te,be,de,_e,ve);var we=function(){function t(t){this.renderer=t}return t.prototype.destroy=function(){this.renderer=null},t}(),Ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return le(e,t),e.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===x.UNPACK),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,1===t.context.webGLVersion?i.DEPTH_COMPONENT:i.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(de),Se=function(){function t(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new se("disposeFramebuffer"),this.multisample=A.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new fe(null,{scaleMode:y.NEAREST,resolution:1,mipmap:_.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new fe(new Ae(null,{width:this.width,height:this.height}),{scaleMode:y.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:_.OFF,format:f.DEPTH_COMPONENT,type:v.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],n=i.resolution;i.setSize(t/n,e/n)}this.depthTexture&&(n=this.depthTexture.resolution,this.depthTexture.setSize(t/n,e/n))}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),Pe=function(t){function e(e){var r=this;if("number"==typeof e){var i=arguments[0],n=arguments[1],o=arguments[2],s=arguments[3];e={width:i,height:n,scaleMode:o,resolution:s}}r=t.call(this,null,e)||this;var a=e||{},h=a.width,u=a.height;return r.mipmap=0,r.width=Math.ceil(h)||100,r.height=Math.ceil(u)||100,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new Se(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r),r.maskStack=[],r.filterStack=[{}],r}return le(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(fe),Oe=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,r){var i=e.width,n=e.height;if(r){var o=t.width/2/i,s=t.height/2/n,a=t.x/i+o,h=t.y/n+s;r=Bt.add(r,Bt.NW),this.x0=a+o*Bt.uX(r),this.y0=h+s*Bt.uY(r),r=Bt.add(r,2),this.x1=a+o*Bt.uX(r),this.y1=h+s*Bt.uY(r),r=Bt.add(r,2),this.x2=a+o*Bt.uX(r),this.y2=h+s*Bt.uY(r),r=Bt.add(r,2),this.x3=a+o*Bt.uX(r),this.y3=h+s*Bt.uY(r)}else this.x0=t.x/i,this.y0=t.y/n,this.x1=(t.x+t.width)/i,this.y1=t.y/n,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/n,this.x3=t.x/i,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t}(),Ie=new Oe,Ce=function(t){function e(r,i,n,o,s,a){var h=t.call(this)||this;if(h.noFrame=!1,i||(h.noFrame=!0,i=new Et(0,0,1,1)),r instanceof e&&(r=r.baseTexture),h.baseTexture=r,h._frame=i,h.trim=o,h.valid=!1,h._uvs=Ie,h.uvMatrix=null,h.orig=n||i,h._rotate=Number(s||0),!0===s)h._rotate=2;else if(h._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=a?new Ot(a.x,a.y):new Ot(0,0),h._updateID=0,h.textureCacheIds=[],r.valid?h.noFrame?r.valid&&h.onBaseTextureUpdated(r):h.frame=i:r.once("loaded",h.onBaseTextureUpdated,h),h.noFrame&&r.on("update",h.onBaseTextureUpdated,h),h}return le(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var r=this.baseTexture;r&&r.url&&mt[r.url]&&e.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===Ie&&(this._uvs=new Oe),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,r,i){void 0===r&&(r={}),void 0===i&&(i=G.STRICT_TEXTURE_CACHE);var n="string"==typeof t,o=null;n?o=t:(t._pixiId||(t._pixiId="pixiid_"+lt()),o=t._pixiId);var s=mt[o];if(n&&i&&!s)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return s||(r.resolution||(r.resolution=gt(t)),(s=new e(new fe(t,r))).baseTexture.cacheId=o,fe.addToCache(s.baseTexture,o),e.addToCache(s,o)),s},e.fromURL=function(t,r){var i=Object.assign({autoLoad:!1},null==r?void 0:r.resourceOptions),n=e.from(t,Object.assign({resourceOptions:i},r),!1),o=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):o.load().then((function(){return Promise.resolve(n)}))},e.fromBuffer=function(t,r,i,n){return new e(fe.fromBuffer(t,r,i,n))},e.fromLoader=function(t,r,i){var n=new xe(t);n.url=r;var o=new e(new fe(n,{scaleMode:G.SCALE_MODE,resolution:gt(r)}));return i||(i=r),fe.addToCache(o.baseTexture,i),e.addToCache(o,i),i!==r&&(fe.addToCache(o.baseTexture,r),e.addToCache(o,r)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),mt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),mt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=mt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete mt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)mt[t.textureCacheIds[i]]===t&&delete mt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,o=e+i>this.baseTexture.width,s=r+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",h="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,u="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(Y());function Me(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}Ce.EMPTY=new Ce(new fe),Me(Ce.EMPTY),Me(Ce.EMPTY.baseTexture),Ce.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new Ce(new fe(new ge(t)))}(),Me(Ce.WHITE),Me(Ce.WHITE.baseTexture);var De=function(t){function e(e,r){var i=this,n=null;if(!(e instanceof Pe)){var o=arguments[1],s=arguments[2],a=arguments[3],h=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+s+") instead of the ctor directly."),n=arguments[0],r=null,e=new Pe({width:o,height:s,scaleMode:a,resolution:h})}return(i=t.call(this,e,r)||this).legacyRenderer=n,i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return le(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,r){void 0===r&&(r=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new Pe(t))},e}(Ce),Re=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e){var r=new Pe(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new De(r)},t.prototype.getOptimalTexture=function(e,r,i){void 0===i&&(i=1);var n=t.SCREEN_KEY;e*=i,r*=i,this.enableFullScreen&&e===this._pixelsWidth&&r===this._pixelsHeight||(n=(65535&(e=nt(e)))<<16|65535&(r=nt(r))),this.texturePool[n]||(this.texturePool[n]=[]);var o=this.texturePool[n].pop();return o||(o=this.createTexture(e,r)),o.filterPoolKey=n,o.setResolution(i),o},t.prototype.getFilterTexture=function(t,e){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){var r=t.SCREEN_KEY,i=this.texturePool[r];if(this.enableFullScreen=e.width>0&&e.height>0,i)for(var n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[r]=[],this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY="screen",t}(),Ne=function(){function t(t,e,r,i,n,o,s){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===i&&(i=5126),this.buffer=t,this.size=e,this.normalized=r,this.type=i,this.stride=n,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,i,n,o){return new t(e,r,i,n,o)},t}(),Le=0,Fe=function(){function t(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=Le++,this.disposeRunner=new se("disposeBuffer")}return t.prototype.update=function(t){this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}();function Ue(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var Be={Float32Array,Uint32Array,Int32Array,Uint8Array},ke={5126:4,5123:2,5121:1},je=0,He={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Xe=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=je++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new se("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,r,i,n,o,s,a){if(void 0===r&&(r=0),void 0===i&&(i=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Fe||(e instanceof Array&&(e=new Float32Array(e)),e=new Fe(e));var h=t.split("|");if(h.length>1){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,r,i,n);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new Ne(l,r,i,n,o,s,a),this.instanced=this.instanced||a,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof Fe||(t instanceof Array&&(t=new Uint16Array(t)),t=new Fe(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],i=new Fe;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),r.push(n.size*ke[n.type]/4),n.buffer=0}for(i.data=function(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;var s=new ArrayBuffer(4*r),a=null,h=0;for(o=0;o<t.length;o++){var u=e[o],l=t[o],c=Ue(l);n[c]||(n[c]=new Be[c](s)),a=n[c];for(var d=0;d<l.length;d++)a[(d/u|0)*i+h+d%u]=l[d];h+=u}return new Float32Array(s)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new Fe(this.buffers[r].data.slice(0));for(var r in this.attributes){var i=this.attributes[r];e.attributes[r]=new Ne(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.index=!0),e},t.merge=function(e){for(var r,i=new t,n=[],o=[],s=[],a=0;a<e.length;a++){r=e[a];for(var h=0;h<r.buffers.length;h++)o[h]=o[h]||0,o[h]+=r.buffers[h].data.length,s[h]=0}for(a=0;a<r.buffers.length;a++)n[a]=new(He[Ue(r.buffers[a].data)])(o[a]),i.buffers[a]=new Fe(n[a]);for(a=0;a<e.length;a++)for(r=e[a],h=0;h<r.buffers.length;h++)n[h].set(r.buffers[h].data,s[h]),s[h]+=r.buffers[h].data.length;if(i.attributes=r.attributes,r.indexBuffer){i.indexBuffer=i.buffers[r.buffers.indexOf(r.indexBuffer)],i.indexBuffer.index=!0;var u=0,l=0,c=0,d=0;for(a=0;a<r.buffers.length;a++)if(r.buffers[a]!==r.indexBuffer){d=a;break}for(var a in r.attributes){var p=r.attributes[a];(0|p.buffer)===d&&(l+=p.size*ke[p.type]/4)}for(a=0;a<e.length;a++){var f=e[a].indexBuffer.data;for(h=0;h<f.length;h++)i.indexBuffer.data[h+c]+=u;u+=r.buffers[d].data.length/l,c+=f.length}}return i},t}(),Ge=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return le(e,t),e}(Xe),ze=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Fe(e.vertices),e.uvBuffer=new Fe(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return le(e,t),e.prototype.map=function(t,e){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Xe),Ye=0,Ve=function(){function t(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ye++,this.static=!!e}return t.prototype.update=function(){this.dirtyId++},t.prototype.add=function(e,r,i){this.uniforms[e]=new t(r,i)},t.from=function(e,r){return new t(e,r)},t}(),We=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Et,this.destinationFrame=new Et,this.filters=[]}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),qe=function(t){function e(e){var r=t.call(this,e)||this;return r.defaultFilterStack=[{}],r.texturePool=new Re,r.texturePool.setScreenSize(e.view),r.statePool=[],r.quad=new Ge,r.quadUv=new ze,r.tempRect=new Et,r.activeState={},r.globalUniforms=new Ve({outputFrame:r.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),r.forceClear=!1,r.useMaxPadding=!1,r}return le(e,t),e.prototype.push=function(t,e){for(var r=this.renderer,i=this.defaultFilterStack,n=this.statePool.pop()||new We,o=e[0].resolution,s=e[0].padding,a=e[0].autoFit,h=e[0].legacy,u=1;u<e.length;u++){var l=e[u];o=Math.min(o,l.resolution),s=this.useMaxPadding?Math.max(s,l.padding):s+l.padding,a=a||l.autoFit,h=h||l.legacy}1===i.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),i.push(n),n.resolution=o,n.legacy=h,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;var c=this.tempRect;c.width=n.sourceFrame.width,c.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,r.renderTexture.bind(n.renderTexture,n.sourceFrame,c),r.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var n=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],o[0]=n[0]*e.resolution,o[1]=n[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*n[2]-.5*o[2],s[3]=e.sourceFrame.height*n[3]-.5*o[3],e.legacy){var a=i.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(e.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,h.renderTexture,b.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,l=this.getOptimalFilterTexture(u.width,u.height,e.resolution);l.filterFrame=u.filterFrame;var c=0;for(c=0;c<r.length-1;++c){r[c].apply(this,u,l,b.CLEAR,e);var d=u;u=l,l=d}r[c].apply(this,u,h.renderTexture,b.BLEND,e),this.returnFilterTexture(u),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},e.prototype.bindAndClear=function(t,e){if(void 0===e&&(e=b.CLEAR),t&&t.filterFrame){var r=this.tempRect;r.width=t.filterFrame.width,r.height=t.filterFrame.height,this.renderer.renderTexture.bind(t,t.filterFrame,r)}else this.renderer.renderTexture.bind(t);"boolean"==typeof e&&(e=e?b.CLEAR:b.BLEND,dt("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(e===b.CLEAR||e===b.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},e.prototype.applyFilter=function(t,e,r,i){var n=this.renderer;this.bindAndClear(r,i),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.state.set(t.state),n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(p.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(p.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame,o=e._texture.orig,s=t.set(n.width,0,0,n.height,i.x,i.y),a=e.worldTransform.copyTo(Ct.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(t,e,r)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var r=t;t=e,e=r}t=t||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(we),Ze=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),Ke=function(t){function e(e){var r=t.call(this,e)||this;return r.emptyRenderer=new Ze(e),r.currentRenderer=r.emptyRenderer,r}return le(e,t),e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,e){for(var r=this.renderer.texture.boundTextures,i=e-1;i>=0;--i)t[i]=r[i]||null,t[i]&&(t[i]._batchLocation=i)},e.prototype.boundArray=function(t,e,r,i){for(var n=t.elements,o=t.ids,s=t.count,a=0,h=0;h<s;h++){var u=n[h],l=u._batchLocation;if(l>=0&&l<i&&e[l]===u)o[h]=l;else for(;a<i;){var c=e[a];if(!c||c._batchEnabled!==r||c._batchLocation!==a){o[h]=a,u._batchLocation=a,e[a]=u;break}a++}}},e}(we),Je=0,Qe=function(t){function e(e){var r=t.call(this,e)||this;return r.webGLVersion=1,r.extensions={},r.supports={uint32Indices:!1},r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),e.view.addEventListener("webglcontextlost",r.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r}return le(e,t),Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Je++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Je++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var r;if(G.PREFER_ENV>=u.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var e="WebGL2RenderingContext"in window&&t instanceof window.WebGL2RenderingContext||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=e,e||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(we),$e=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=A.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},tr=new Et,er=function(t){function e(e){var r=t.call(this,e)||this;return r.managedFramebuffers=[],r.unknownFramebuffer=new Se(10,10),r.msaaSamples=null,r}return le(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Et,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;G.PREFER_ENV===u.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,e){var r=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++){var o=t.colorTextures[n];this.renderer.texture.unbind(o.parentTextureArray||o)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,r,i){var n=this.viewport;n.width===r&&n.height===i&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=r,n.height=i,this.gl.viewport(t,e,r,i))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,e,r,i,n){void 0===n&&(n=c.COLOR|c.DEPTH);var o=this.gl;o.clearColor(t,e,r,i),o.clear(n)},e.prototype.initFramebuffer=function(t){var e=this.gl,r=new $e(e.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r},e.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var i=t.colorTextures,n=0;n<i.length;n++)this.renderer.texture.bind(i[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures.length;e.drawBuffers||(i=Math.min(i,1)),r.multisample>1&&(r.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,r.msaaBuffer));for(var n=[],o=0;o<i;o++)if(!(0===o&&r.multisample>1)){var s=t.colorTextures[o],a=s.parentTextureArray||s;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,s.target,a._glTextures[this.CONTEXT_UID].texture,0),n.push(e.COLOR_ATTACHMENT0+o)}if(n.length>1&&e.drawBuffers(n),t.depthTexture&&this.writeDepthTexture){var h=t.depthTexture;this.renderer.texture.bind(h,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,0)}r.stencil||!t.stencil&&!t.depth||(r.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,r.stencil))},e.prototype.detectSamples=function(t){var e=this.msaaSamples,r=A.NONE;if(t<=1||null===e)return r;for(var i=0;i<e.length;i++)if(e[i]<=t){r=e[i];break}return 1===r&&(r=A.NONE),r},e.prototype.blit=function(t,e,r){var i=this,n=i.current,o=i.renderer,s=i.gl,a=i.CONTEXT_UID;if(2===o.context.webGLVersion&&n){var h=n.glFramebuffers[a];if(h){if(!t){if(h.multisample<=1)return;h.blitFramebuffer||(h.blitFramebuffer=new Se(n.width,n.height),h.blitFramebuffer.addColorTexture(0,n.colorTextures[0])),(t=h.blitFramebuffer).width=n.width,t.height=n.height}e||((e=tr).width=n.width,e.height=n.height),r||(r=e);var u=e.width===r.width&&e.height===r.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,h.framebuffer),s.blitFramebuffer(e.x,e.y,e.width,e.height,r.x,r.y,r.width,r.height,s.COLOR_BUFFER_BIT,u?s.NEAREST:s.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(i.deleteFramebuffer(r.framebuffer),r.stencil&&i.deleteRenderbuffer(r.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var r=t.width,i=t.height,n=this.gl,o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r,i),e.stencil=o,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Et},e}(we),rr=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},ir={5126:4,5123:2,5121:1},nr=function(t){function e(e){var r=t.call(this,e)||this;return r._activeGeometry=null,r._activeVao=null,r.hasVao=!0,r.hasInstance=!0,r.canUseUInt32ElementIndex=!1,r.managedGeometries={},r.managedBuffers={},r}return le(e,t),e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!t.createVertexArray){var r=this.renderer.context.extensions.vertexArrayObject;G.PREFER_ENV===u.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(t){return r.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return r.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(!t.vertexAttribDivisor){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(t,e){return i.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,n,o){return i.drawElementsInstancedANGLE(t,e,r,n,o)},t.drawArraysInstanced=function(t,e,r,n){return i.drawArraysInstancedANGLE(t,e,r,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID];i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={});var n=i[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==n&&(this._activeVao=n,this.hasVao?r.bindVertexArray(n):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,r=0;r<t.buffers.length;r++){var i=t.buffers[r],n=i._glBuffers[this.CONTEXT_UID];if(i._updateID!==n.updateID){n.updateID=i._updateID;var o=i.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,n.buffer),this._boundBuffer=n,n.byteLength>=i.data.byteLength)e.bufferSubData(o,0,i.data);else{var s=i.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=i.data.byteLength,e.bufferData(o,i.data,s)}}}},e.prototype.checkCompatibility=function(t,e){var r=t.attributes,i=e.attributeData;for(var n in i)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(t,e){var r=t.attributes,i=e.attributeData,n=["g",t.id];for(var o in r)i[o]&&n.push(o);return n.join("-")},e.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var r=this.gl,i=this.CONTEXT_UID,n=this.getSignature(t,e),o=t.glVertexArrayObjects[this.CONTEXT_UID],s=o[n];if(s)return o[e.id]=s,s;var a=t.buffers,h=t.attributes,u={},l={};for(var c in a)u[c]=0,l[c]=0;for(var c in h)!h[c].size&&e.attributeData[c]?h[c].size=e.attributeData[c].size:h[c].size||console.warn("PIXI Geometry attribute '"+c+"' size cannot be determined (likely the bound shader does not have the attribute)"),u[h[c].buffer]+=h[c].size*ir[h[c].type];for(var c in h){var d=h[c],p=d.size;void 0===d.stride&&(u[d.buffer]===p*ir[d.type]?d.stride=0:d.stride=u[d.buffer]),void 0===d.start&&(d.start=l[d.buffer],l[d.buffer]+=p*ir[d.type])}s=r.createVertexArray(),r.bindVertexArray(s);for(var f=0;f<a.length;f++){var m=a[f];m._glBuffers[i]||(m._glBuffers[i]=new rr(r.createBuffer()),this.managedBuffers[m.id]=m,m.disposeRunner.add(this)),m._glBuffers[i].refCount++}return this.activateVao(t,e),this._activeVao=s,o[e.id]=s,o[n]=s,s},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),r&&(e||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),r){for(var o=0;o<n.length;o++){var s=n[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||e||this.disposeBuffer(n[o],e)}if(!e)for(var a in r)if("g"===a[0]){var h=r[a];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t);for(e=Object.keys(this.managedBuffers),r=0;r<e.length;r++)this.disposeBuffer(this.managedBuffers[e[r]],t)},e.prototype.activateVao=function(t,e){var r=this.gl,i=this.CONTEXT_UID,n=t.buffers,o=t.attributes;t.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[i].buffer);var s=null;for(var a in o){var h=o[a],u=n[h.buffer]._glBuffers[i];if(e.attributeData[a]){s!==u&&(r.bindBuffer(r.ARRAY_BUFFER,u.buffer),s=u);var l=e.attributeData[a].location;if(r.enableVertexAttribArray(l),r.vertexAttribPointer(l,h.size,h.type||r.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(l,1)}}}},e.prototype.draw=function(t,e,r,i){var n=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(t,e||o.indexBuffer.data.length,a,(r||0)*s,i||1):n.drawElements(t,e||o.indexBuffer.data.length,a,(r||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(t,r,e||o.getSize(),i||1):n.drawArrays(t,r,e||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(we),or=function(){function t(t){void 0===t&&(t=null),this.type=w.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=w.NONE,this.autoDetect=!0),this._target=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function sr(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),i}function ar(t,e,r,i){var n=sr(t,t.VERTEX_SHADER,e),o=sr(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),i)for(var a in i)t.bindAttribLocation(s,i[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(n))),t.getShaderParameter(o,t.COMPILE_STATUS)||(console.warn(r),console.error(t.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}function hr(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function ur(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return hr(2*e);case"bvec3":return hr(3*e);case"bvec4":return hr(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var lr,cr={},dr=cr;function pr(){if(dr===cr||dr&&dr.isContextLost()){var t=document.createElement("canvas"),e=void 0;G.PREFER_ENV>=u.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),dr=e}return dr}function fr(t,e,r){if("precision"!==t.substring(0,9)){var i=e;return e===E.HIGH&&r!==E.HIGH&&(i=E.MEDIUM),"precision "+i+" float;\n"+t}return r!==E.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var mr={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function vr(t){return mr[t]}var yr=null,gr={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function _r(t,e){if(!yr){var r=Object.keys(gr);yr={};for(var i=0;i<r.length;++i){var n=r[i];yr[t[n]]=gr[n]}}return yr[e]}var xr,br=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Tr={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Er={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},wr=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Ar(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}var Sr=0,Pr={},Or=function(){function t(e,r,i){void 0===i&&(i="pixi-shader"),this.id=Sr++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),Pr[i]?(Pr[i]++,i+="-"+Pr[i]):Pr[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=fr(this.vertexSrc,G.PRECISION_VERTEX,E.HIGH),this.fragmentSrc=fr(this.fragmentSrc,G.PRECISION_FRAGMENT,function(){if(!lr){lr=E.MEDIUM;var t=pr();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);lr=e.precision?E.HIGH:E.MEDIUM}}return lr}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return t.prototype.extractData=function(t,e){var r=pr();if(r){var i=ar(r,t,e);this.attributeData=this.getAttributeData(i,r),this.uniformData=this.getUniformData(i,r),r.deleteProgram(i)}else this.uniformData={},this.attributeData={}},t.prototype.getAttributeData=function(t,e){for(var r={},i=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=e.getActiveAttrib(t,o),a=_r(e,s.type),h={type:a,name:s.name,size:vr(a),location:0};r[s.name]=h,i.push(h)}for(i.sort((function(t,e){return t.name>e.name?1:-1})),o=0;o<i.length;o++)i[o].location=o;return r},t.prototype.getUniformData=function(t,e){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]$/,""),a=o.name.match(/\[.*?\]$/),h=_r(e,o.type);r[s]={type:h,size:o.size,isArray:a,value:ur(h,o.size)}}return r},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(e,r,i){var n=e+r,o=ft[n];return o||(ft[n]=o=new t(e,r,i)),o},t}(),Ir=function(){function t(t,e){for(var r in this.program=t,this.uniformGroup=e?e instanceof Ve?e:new Ve(e):new Ve({}),t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var i=e.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,i){return new t(Or.from(e,r),i)},t}(),Cr=function(){function t(){this.data=0,this.blendMode=d.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==d.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),Mr=function(t){function e(r,i,n){var o=this,s=Or.from(r||e.defaultVertexSrc,i||e.defaultFragmentSrc);return(o=t.call(this,s,n)||this).padding=0,o.resolution=G.FILTER_RESOLUTION,o.enabled=!0,o.autoFit=!0,o.legacy=!!o.program.attributeData.aTextureCoord,o.state=new Cr,o}return le(e,t),e.prototype.apply=function(t,e,r,i,n){t.applyFilter(this,e,r,i)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),e}(Ir),Dr=new Ct,Rr=function(){function t(t,e){this._texture=t,this.mapCoord=new Ct,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e[i]=n*r.a+o*r.c+r.tx,e[i+1]=n*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,n=e.trim;n&&(Dr.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(Dr));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+a+h)/o.width,s[1]=(e._frame.y+a+h)/o.height,s[2]=(e._frame.x+e._frame.width-a+h)/o.width,s[3]=(e._frame.y+e._frame.height-a+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},t}(),Nr=function(t){function e(e){var r=this,i=new Ct;return r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,e.renderable=!1,r.maskSprite=e,r.maskMatrix=i,r}return le(e,t),e.prototype.apply=function(t,e,r,i){var n=this.maskSprite,o=n._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Rr(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,r,i))},e}(Mr),Lr=function(t){function e(e){var r=t.call(this,e)||this;return r.enableScissor=!1,r.alphaMaskPool=[],r.maskDataPool=[],r.maskStack=[],r.alphaMaskIndex=0,r}return le(e,t),e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,e){var r=e;if(!r.isMaskData){var i=this.maskDataPool.pop()||new or;i.pooled=!0,i.maskObject=e,r=i}switch(r.autoDetect&&this.detect(r),r.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),r._target=t,r.type){case w.SCISSOR:this.maskStack.push(r),this.renderer.scissor.push(r);break;case w.STENCIL:this.maskStack.push(r),this.renderer.stencil.push(r);break;case w.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r),this.maskStack.push(r)}},e.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case w.SCISSOR:this.renderer.scissor.pop();break;case w.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case w.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},e.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=w.SPRITE;else if(t.type=w.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var r=e.worldTransform,i=Math.atan2(r.b,r.a),n=Math.atan2(r.d,r.c);i=Math.round(i*(180/Math.PI)*100),n=((n=Math.round(n*(180/Math.PI)*100)-i)%18e3+18e3)%18e3,0==(i=(i%9e3+9e3)%9e3)&&9e3===n&&(t.type=w.SCISSOR)}},e.prototype.pushSpriteMask=function(t){var e=t.maskObject,r=t._target,i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new Nr(e)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=e;var n=r.filterArea;r.filterArea=e.getBounds(!0),this.renderer.filter.push(r,i),r.filterArea=n,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(we),Fr=function(t){function e(e){var r=t.call(this,e)||this;return r.maskStack=[],r.glConst=0,r}return le(e,t),e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==r&&(0===i?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.maskStack=null},e}(we),Ur=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return le(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var r=t._scissorRect,i=e.getBounds(!0),n=this.renderer.gl;e.renderable=!1,r?i.fit(r):n.enable(n.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=i,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,r=this.renderer.projection,i=r.transform,n=r.sourceFrame,o=r.destinationFrame,s=e?e.resolution:this.renderer.resolution,a=(t.x-n.x)*s+o.x,h=(t.y-n.y)*s+o.y,u=t.width*s,l=t.height*s;i&&(a+=i.tx*s,h+=i.ty*s),e||(h=this.renderer.height-l-h),this.renderer.gl.scissor(a,h,u,l)},e}(Fr),Br=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return le(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,r=this.renderer.gl,i=t._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),t._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,i,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(Fr),kr=function(t){function e(e){var r=t.call(this,e)||this;return r.destinationFrame=null,r.sourceFrame=null,r.defaultFrame=null,r.projectionMatrix=new Ct,r.transform=null,r}return le(e,t),e.prototype.update=function(t,e,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,r,i){var n=this.projectionMatrix,o=i?-1:1;n.identity(),n.a=1/e.width*2,n.d=o*(1/e.height*2),n.tx=-1-e.x*n.a,n.ty=-o-e.y*n.d},e.prototype.setTransform=function(t){},e}(we),jr=new Et,Hr=new Et,Xr=new Et,Gr=function(t){function e(e){var r=t.call(this,e)||this;return r.clearColor=e._backgroundColorRgba,r.defaultMaskStack=[],r.current=null,r.sourceFrame=new Et,r.destinationFrame=new Et,r}return le(e,t),e.prototype.bind=function(t,e,r){void 0===t&&(t=null);var i,n,o,s=this.renderer;this.current=t,t?(o=(i=t.baseTexture).resolution,e||(jr.width=t.frame.width,jr.height=t.frame.height,e=jr),r||(Hr.x=t.frame.x,Hr.y=t.frame.y,Hr.width=e.width,Hr.height=e.height,r=Hr),n=i.framebuffer):(o=s.resolution,e||(jr.width=s.screen.width,jr.height=s.screen.height,e=jr),r||((r=jr).width=e.width,r.height=e.height)),Xr.x=r.x*o,Xr.y=r.y*o,Xr.width=r.width*o,Xr.height=r.height*o,this.renderer.framebuffer.bind(n,Xr),this.renderer.projection.update(r,e,o,!n),t?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)},e.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e)},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(we),zr=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},t}(),Yr=0,Vr={textureCount:0},Wr=function(t){function e(e){var r=t.call(this,e)||this;return r.destroyed=!1,r.systemCheck(),r.gl=null,r.shader=null,r.program=null,r.cache={},r.id=Yr++,r}return le(e,t),e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof xr)return xr;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");xr=!0===t({a:"b"},"a","b")}catch(t){xr=!1}return xr}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),e||(Vr.textureCount=0,this.syncUniformGroup(t.uniformGroup,Vr)),i},e.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,e){var r=this.getglProgram();t.static&&t.dirtyId===r.uniformGroups[t.id]||(r.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))},e.prototype.syncUniforms=function(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var i in t.uniforms){var n=e[i];if(n){for(var o=t.uniforms[i],s=!1,a=0;a<br.length;a++)if(br[a].test(n,o)){r.push(br[a].code(i,o)),s=!0;break}if(!s){var h=(1===n.size?Tr:Er)[n.type].replace("location",'ud["'+i+'"].location');r.push('\n            cv = ud["'+i+'"].value;\n            v = uv["'+i+'"];\n            '+h+";")}}else t.uniforms[i].group&&r.push('\n                    renderer.shader.syncUniformGroup(uv["'+i+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var r=t.uniforms,i=[];for(var n in r)i.push(n),e[n]&&i.push(e[n].type);return i.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,r=t.program,i={};for(var n in r.attributeData)i[n]=r.attributeData[n].location;var o=ar(e,r.vertexSrc,r.fragmentSrc,i),s={};for(var n in r.uniformData){var a=r.uniformData[n];s[n]={location:e.getUniformLocation(o,n),value:ur(a.type,a.size)}}var h=new zr(o,s);return r.glPrograms[this.renderer.CONTEXT_UID]=h,h},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(we),qr=function(t){function e(e){var r=t.call(this,e)||this;return r.gl=null,r.stateId=0,r.polygonOffset=0,r.blendMode=d.NONE,r._blendEq=!1,r.map=[],r.map[0]=r.setBlend,r.map[1]=r.setOffset,r.map[2]=r.setCullFace,r.map[3]=r.setDepthTest,r.map[4]=r.setFrontFace,r.checks=[],r.defaultState=new Cr,r.defaultState.blend=!0,r}return le(e,t),e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[d.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.ADD]=[t.ONE,t.ONE],e[d.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.NONE]=[0,0],e[d.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[d.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[d.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[d.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[d.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[d.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[d.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[d.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[d.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[d.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},e}(we),Zr=function(t){function e(e){var r=t.call(this,e)||this;return r.count=0,r.checkCount=0,r.maxIdle=G.GC_MAX_IDLE,r.checkCountMax=G.GC_MAX_CHECK_COUNT,r.mode=G.GC_MODE,r}return le(e,t),e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==T.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){var o=0;for(i=0;i<e.length;i++)null!==e[i]&&(e[o++]=e[i]);e.length=o}},e.prototype.unload=function(t){var e,r=this.renderer.texture;(null===(e=t._texture)||void 0===e?void 0:e.framebuffer)&&r.destroyTexture(t._texture);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},e}(we),Kr=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Jr=function(t){function e(e){var r=t.call(this,e)||this;return r.boundTextures=[],r.currentLocation=-1,r.managedTextures=[],r._unknownBoundTextures=!1,r.unknownTexture=new fe,r}return le(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new Kr(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Kr(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),r=0;r<this.boundTextures.length;r++)this.bind(null,r)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var r=this.gl;if(t){if((t=t.castToBaseTexture()).parentTextureArray)return;if(t.valid){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(i=0;i<r.length;i++)r[i]===t&&(this.currentLocation!==i&&(e.activeTexture(e.TEXTURE0+i),this.currentLocation=i),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[t.target].texture),r[i]=null)},e.prototype.initTexture=function(t){var e=new Kr(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var r=this.renderer.gl;t.type===r.FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA32F),t.type===v.HALF_FLOAT&&(e.type=r.HALF_FLOAT),e.type===r.HALF_FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var r=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(r,t,e));else{var i=t.realWidth,n=t.realHeight,o=r.gl;(e.width!==i||e.height!==n||e.dirtyId<0)&&(e.width=i,e.height=n,o.texImage2D(t.target,0,e.internalFormat,i,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var r=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var i=this.managedTextures.indexOf(t);-1!==i&&at(this.managedTextures,i,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==_.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=g.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var r=this.gl;if(e.mipmap&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===y.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===y.LINEAR){var n=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===y.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===y.LINEAR?r.LINEAR:r.NEAREST)},e}(we),Qr=new Ct,$r=function(t){function e(r){var i=t.call(this,l.WEBGL,r)||this;return r=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new se("destroy"),contextChange:new se("contextChange"),reset:new se("reset"),update:new se("update"),postrender:new se("postrender"),prerender:new se("prerender"),resize:new se("resize")},i.globalUniforms=new Ve({projectionMatrix:new Ct},!0),i.addSystem(Lr,"mask").addSystem(Qe,"context").addSystem(qr,"state").addSystem(Wr,"shader").addSystem(Jr,"texture").addSystem(nr,"geometry").addSystem(er,"framebuffer").addSystem(Ur,"scissor").addSystem(Br,"stencil").addSystem(kr,"projection").addSystem(Zr,"textureGC").addSystem(qe,"filter").addSystem(Gr,"renderTexture").addSystem(Ke,"batch"),i.initPlugins(e.__plugins),r.context?i.context.initFromContext(r.context):i.context.initFromOptions({alpha:!!i.transparent,antialias:r.antialias,premultipliedAlpha:i.transparent&&"notMultiplied"!==i.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,function(t){var e;if(!K){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS 5.3.3 -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=window.console).log.apply(e,r)}else window.console&&window.console.log("PixiJS 5.3.3 - "+t+" - http://www.pixijs.com/");K=!0}}(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}return le(e,t),e.create=function(t){if(void 0===Z&&(Z=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:G.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,i}catch(t){return!1}}()),Z)return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var i in this[e]=r,this.runners)this.runners[i].add(r);return this},e.prototype.render=function(t,e,r,i,n){if(this.renderingToScreen=!e,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(e||(this._lastObjectRendered=t),!n){var o=t.enableTempParent();t.updateTransform(),t.disableTempParent(o)}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.runners.resize.emit(e,r)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(function(t){function e(e,r){void 0===e&&(e=l.UNKNOWN);var i=t.call(this)||this;return(r=Object.assign({},G.RENDER_OPTIONS,r)).roundPixels&&(G.ROUND_PIXELS=r.roundPixels,dt("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),i.options=r,i.type=e,i.screen=new Et(0,0,r.width,r.height),i.view=r.view||document.createElement("canvas"),i.resolution=r.resolution||G.RESOLUTION,i.transparent=r.transparent,i.autoDensity=r.autoDensity||r.autoResize||!1,i.preserveDrawingBuffer=r.preserveDrawingBuffer,i.clearBeforeRender=r.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,0],i._backgroundColorString="#000000",i.backgroundColor=r.backgroundColor||i._backgroundColor,i._lastObjectRendered=null,i.plugins={},i}return le(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},e.prototype.generateTexture=function(t,e,r,i){0===(i=i||t.getLocalBounds(null,!0)).width&&(i.width=1),0===i.height&&(i.height=1);var n=De.create({width:0|i.width,height:0|i.height,scaleMode:e,resolution:r});return Qr.tx=-i.x,Qr.ty=-i.y,this.render(t,n,!1,Qr,!!t.parent),n},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=l.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=Q(t),J(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),e}(Y())),ti="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",ei=function(){this.texArray=null,this.blend=0,this.type=p.TRIANGLES,this.start=0,this.size=0,this.data=null},ri=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),ii=function(){function t(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),ni=function(t){function e(e){var r=t.call(this,e)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=Cr.for2d(),r.size=4*G.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),e.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return le(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;G.PREFER_ENV===u.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),G.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var i=wr.replace(/%forloop%/gi,Ar(t));if(e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,r=e._textureArrayPool,i=this.size/4,n=Math.floor(i/this.MAX_TEXTURES)+1;t.length<i;)t.push(new ei);for(;r.length<n;)r.push(new ri);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,r=this.MAX_TEXTURES,i=e._textureArrayPool,n=this.renderer.batch,o=this._tempBoundTextures,s=this.renderer.textureGC.count,a=++fe._globalBatch,h=0,u=i[0],l=0;n.copyBoundTextures(o,r);for(var c=0;c<this._bufferSize;++c){var d=t[c];t[c]=null,d._batchEnabled!==a&&(u.count>=r&&(n.boundArray(u,o,a,r),this.buildDrawCalls(u,l,c),l=c,u=i[++h],++a),d._batchEnabled=a,d.touched=s,u.elements[u.count++]=d)}for(u.count>0&&(n.boundArray(u,o,a,r),this.buildDrawCalls(u,l,this._bufferSize),++h,++a),c=0;c<o.length;c++)o[c]=null;fe._globalBatch=a},e.prototype.buildDrawCalls=function(t,r,i){var n=this,o=n._bufferedElements,s=n._attributeBuffer,a=n._indexBuffer,h=n.vertexSize,u=e._drawCallPool,l=this._dcIndex,c=this._aIndex,d=this._iIndex,p=u[l];p.start=this._iIndex,p.texArray=t;for(var f=r;f<i;++f){var m=o[f],v=m._texture.baseTexture,y=tt[v.alphaMode?1:0][m.blendMode];o[f]=null,r<f&&p.blend!==y&&(p.size=d-p.start,r=f,(p=u[++l]).texArray=t,p.start=d),this.packInterleavedGeometry(m,s,a,c,d),c+=m.vertexData.length/2*h,d+=m.indices.length,p.blend=y}r<i&&(p.size=d-p.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=d},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this,e=t._packedGeometries,r=t._attributeBuffer,i=t._indexBuffer;G.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,r=this.renderer,i=r.gl,n=r.state,o=e._drawCallPool,s=null,a=0;a<t;a++){var h=o[a],u=h.texArray,l=h.type,c=h.size,d=h.start,p=h.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=p,n.set(this.state),i.drawElements(l,c,i.UNSIGNED_SHORT,2*d)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),G.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=nt(Math.ceil(t/8)),r=st(e),i=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new ii(i*this.vertexSize*4)),n},e.prototype.getIndexBuffer=function(t){var e=nt(Math.ceil(t/12)),r=st(e),i=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n},e.prototype.packInterleavedGeometry=function(t,e,r,i,n){for(var o=e.uint32View,s=e.float32View,a=i/this.vertexSize,h=t.uvs,u=t.indices,l=t.vertexData,c=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),p=d<1&&t._texture.baseTexture.alphaMode?rt(t._tintRGB,d):t._tintRGB+(255*d<<24),f=0;f<l.length;f+=2)s[i++]=l[f],s[i++]=l[f+1],s[i++]=h[f],s[i++]=h[f+1],o[i++]=p,s[i++]=c;for(f=0;f<u.length;f++)r[n++]=a+u[f]},e._drawCallPool=[],e._textureArrayPool=[],e}(Ze),oi=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=Ve.from({uSamplers:e},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Or(this.vertexSrc,i)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ct,default:this.defaultGroupCache[t]};return new Ir(this.programCache[t],n)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},t}(),si=function(t){function e(e){void 0===e&&(e=!1);var r=t.call(this)||this;return r._buffer=new Fe(null,e,!1),r._indexBuffer=new Fe(null,e,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,v.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,v.FLOAT).addAttribute("aColor",r._buffer,4,!0,v.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,v.FLOAT).addIndex(r._indexBuffer),r}return le(e,t),e}(Xe),ai="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",hi="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",ui=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:ai,fragment:hi,geometryClass:si,vertexSize:6},t),r=e.vertex,i=e.fragment,n=e.vertexSize,o=e.geometryClass;return function(t){function e(e){var s=t.call(this,e)||this;return s.shaderGenerator=new oi(r,i),s.geometryClass=o,s.vertexSize=n,s}return le(e,t),e}(ni)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return ai},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return hi},enumerable:!1,configurable:!0}),t}().create(),li=function(){function t(e){var r=this;e=Object.assign({forceCanvas:!1},e),this.renderer=function(t){return $r.create(t)}(e),this.stage=new Vt,t._plugins.forEach((function(t){t.init.call(r,e)}))}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var i=this,n=t._plugins.slice(0);n.reverse(),n.forEach((function(t){t.destroy.call(i)})),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t}();li._plugins=[];var ci=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,r;if(e.cancelResize(),e._resizeTo===window)t=window.innerWidth,r=window.innerHeight;else{var i=e._resizeTo;t=i.clientWidth,r=i.clientHeight}e.renderer.resize(t,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();li.registerPlugin(ci);var di=new Et,pi=function(){function t(t){this.renderer=t,t.extract=this}return t.prototype.image=function(t,e,r){var i=new Image;return i.src=this.base64(t,e,r),i},t.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},t.prototype.canvas=function(e){var r,i,n,o=this.renderer,s=!1,a=!1;e&&(e instanceof De?n=e:(n=this.renderer.generateTexture(e),a=!0)),n?(r=n.baseTexture.resolution,i=n.frame,s=!1,o.renderTexture.bind(n)):(r=this.renderer.resolution,s=!0,(i=di).width=this.renderer.width,i.height=this.renderer.height,o.renderTexture.bind(null));var h=Math.floor(i.width*r+1e-4),u=Math.floor(i.height*r+1e-4),l=new yt(h,u,1),c=new Uint8Array(4*h*u),d=o.gl;d.readPixels(i.x*r,i.y*r,h,u,d.RGBA,d.UNSIGNED_BYTE,c);var p=l.context.getImageData(0,0,h,u);if(t.arrayPostDivide(c,p.data),l.context.putImageData(p,0,0),s){var f=new yt(l.width,l.height,1);f.context.scale(1,-1),f.context.drawImage(l.canvas,0,-u),l.destroy(),l=f}return a&&n.destroy(!0),l.canvas},t.prototype.pixels=function(e){var r,i,n,o=this.renderer,s=!1;e&&(e instanceof De?n=e:(n=this.renderer.generateTexture(e),s=!0)),n?(r=n.baseTexture.resolution,i=n.frame,o.renderTexture.bind(n)):(r=o.resolution,(i=di).width=o.width,i.height=o.height,o.renderTexture.bind(null));var a=i.width*r,h=i.height*r,u=new Uint8Array(4*a*h),l=o.gl;return l.readPixels(i.x*r,i.y*r,a,h,l.RGBA,l.UNSIGNED_BYTE,u),s&&n.destroy(!0),t.arrayPostDivide(u,u),u},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var i=e[r+3]=t[r+3];0!==i?(e[r]=Math.round(Math.min(255*t[r]/i,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/i,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/i,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}},t}(),fi=r(571),mi=r.n(fi),vi=r(940),yi=r.n(vi);function gi(){}function _i(t,e,r,i){var n=0,o=t.length;!function s(a){a||n===o?r&&r(a):i?setTimeout((function(){e(t[n++],s)}),1):e(t[n++],s)}()}function xi(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}var bi={};function Ti(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ei(t,e,r){return e&&Ti(t.prototype,e),r&&Ti(t,r),t}var wi=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),Ai=null;function Si(){}var Pi=function(){function t(e,r,i){if("string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Si,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new(yi()),this.onProgress=new(yi()),this.onComplete=new(yi()),this.onAfterMiddleware=new(yi())}t.setExtensionLoadType=function(e,r){Oi(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){Oi(t._xhrTypeMap,e,r)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(r)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:wi&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},e._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(Ii(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(Ii(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(Ii(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,r="",i=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===i&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2==(i/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,Ai||(Ai=document.createElement("a")),Ai.href=t;var r=!(t=mi()(Ai.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,i=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&i===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(i>-1?i:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Ei(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function Oi(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function Ii(t){return t.toString().replace("object ","")}Pi.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Pi.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Pi.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Pi.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Pi._loadTypeMap={gif:Pi.LOAD_TYPE.IMAGE,png:Pi.LOAD_TYPE.IMAGE,bmp:Pi.LOAD_TYPE.IMAGE,jpg:Pi.LOAD_TYPE.IMAGE,jpeg:Pi.LOAD_TYPE.IMAGE,tif:Pi.LOAD_TYPE.IMAGE,tiff:Pi.LOAD_TYPE.IMAGE,webp:Pi.LOAD_TYPE.IMAGE,tga:Pi.LOAD_TYPE.IMAGE,svg:Pi.LOAD_TYPE.IMAGE,"svg+xml":Pi.LOAD_TYPE.IMAGE,mp3:Pi.LOAD_TYPE.AUDIO,ogg:Pi.LOAD_TYPE.AUDIO,wav:Pi.LOAD_TYPE.AUDIO,mp4:Pi.LOAD_TYPE.VIDEO,webm:Pi.LOAD_TYPE.VIDEO},Pi._xhrTypeMap={xhtml:Pi.XHR_RESPONSE_TYPE.DOCUMENT,html:Pi.XHR_RESPONSE_TYPE.DOCUMENT,htm:Pi.XHR_RESPONSE_TYPE.DOCUMENT,xml:Pi.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Pi.XHR_RESPONSE_TYPE.DOCUMENT,svg:Pi.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Pi.XHR_RESPONSE_TYPE.DOCUMENT,gif:Pi.XHR_RESPONSE_TYPE.BLOB,png:Pi.XHR_RESPONSE_TYPE.BLOB,bmp:Pi.XHR_RESPONSE_TYPE.BLOB,jpg:Pi.XHR_RESPONSE_TYPE.BLOB,jpeg:Pi.XHR_RESPONSE_TYPE.BLOB,tif:Pi.XHR_RESPONSE_TYPE.BLOB,tiff:Pi.XHR_RESPONSE_TYPE.BLOB,webp:Pi.XHR_RESPONSE_TYPE.BLOB,tga:Pi.XHR_RESPONSE_TYPE.BLOB,json:Pi.XHR_RESPONSE_TYPE.JSON,text:Pi.XHR_RESPONSE_TYPE.TEXT,txt:Pi.XHR_RESPONSE_TYPE.TEXT,ttf:Pi.XHR_RESPONSE_TYPE.BUFFER,otf:Pi.XHR_RESPONSE_TYPE.BUFFER},Pi.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Ci=window.URL||window.webkitURL,Mi={caching:function(t,e){var r=this;bi[t.url]?(t.data=bi[t.url],t.complete()):t.onComplete.once((function(){return bi[r.url]=r.data})),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===Pi.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=Ci.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=Pi.TYPE.IMAGE,void(t.data.onload=function(){Ci.revokeObjectURL(r),t.data.onload=null,e()})}}else{var i=t.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return t.data=new Image,t.data.src="data:"+i+";base64,"+function(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],n=[0,0,0,0],o=0;o<i.length;++o)r<t.length?i[o]=255&t.charCodeAt(r++):i[o]=0;switch(n[0]=i[0]>>2,n[1]=(3&i[0])<<4|i[1]>>4,n[2]=(15&i[1])<<2|i[2]>>6,n[3]=63&i[2],r-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var s=0;s<n.length;++s)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n[s])}return e}(t.xhr.responseText),t.type=Pi.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},Di=/(#[\w-]+)?$/,Ri=function(){function t(e,r){var i=this;void 0===e&&(e=""),void 0===r&&(r=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this._queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,i={_tasks:[],concurrency:e,saturated:gi,unsaturated:gi,buffer:e/4,empty:gi,drain:gi,error:gi,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){r=0,i.drain=gi,i.started=!1,i._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!i.paused&&r<i.concurrency&&i._tasks.length;){var e=i._tasks.shift();0===i._tasks.length&&i.empty(),(r+=1)===i.concurrency&&i.saturated(),t(e.data,xi(o(e)))}},length:function(){return i._tasks.length},running:function(){return r},idle:function(){return i._tasks.length+r===0},pause:function(){!0!==i.paused&&(i.paused=!0)},resume:function(){if(!1!==i.paused){i.paused=!1;for(var t=1;t<=i.concurrency;t++)i.process()}}};function n(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(i.started=!0,null==t&&i.idle())setTimeout((function(){return i.drain()}),1);else{var n={data:t,callback:"function"==typeof r?r:gi};e?i._tasks.unshift(n):i._tasks.push(n),setTimeout((function(){return i.process()}),1)}}function o(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&i.error(arguments[0],t.data),r<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}}return i}(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new(yi()),this.onError=new(yi()),this.onLoad=new(yi()),this.onStart=new(yi()),this.onComplete=new(yi());for(var n=0;n<t._defaultBeforeMiddleware.length;++n)this.pre(t._defaultBeforeMiddleware[n]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}var e=t.prototype;return e.add=function(t,e,r,i){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new Pi(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=r.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var h=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=h;for(var u=0;u<s.length;++u)s[u].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,r=mi()(t,{strictMode:!0});if(e=r.protocol||!r.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var i=Di.exec(e)[0];-1!==(e=e.substr(0,e.length-i.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=i}return e},e._loadResource=function(t,e){var r=this;t._dequeue=e,_i(this._beforeMiddleware,(function(e,i){e.call(r,t,(function(){i(t.isComplete?{}:null)}))}),(function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())}),!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),_i(this._afterMiddleware,(function(r,i){r.call(e,t,i)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},Ei(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();Ri._defaultBeforeMiddleware=[],Ri._defaultAfterMiddleware=[],Ri.pre=function(t){return Ri._defaultBeforeMiddleware.push(t),Ri},Ri.use=function(t){return Ri._defaultAfterMiddleware.push(t),Ri};var Ni=Pi,Li=function(t,e){return(Li=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},Fi=function(){function t(){}return t.use=function(t,e){t.data&&t.type===Pi.TYPE.IMAGE&&(t.texture=Ce.fromLoader(t.data,t.url,t.name)),e()},t}(),Ui=function(t){function e(r,i){for(var n=t.call(this,r,i)||this,o=0;o<e._plugins.length;++o){var s=e._plugins[o],a=s.pre,h=s.use;a&&n.pre(a),h&&n.use(h)}return n._protected=!1,n}return function(t,e){function r(){this.constructor=t}Li(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}(Ri);Ui.registerPlugin({use:Mi.parsing}),Ui.registerPlugin(Fi);var Bi=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Ui.shared:new Ui},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),ki=function(t,e){return(ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function ji(t,e){function r(){this.constructor=t}ki(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}!function(t){function e(e,r,i,n){void 0===e&&(e=1500),void 0===i&&(i=16384),void 0===n&&(n=!1);var o=t.call(this)||this;return i>16384&&(i=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=d.NORMAL,o.autoResize=n,o.roundPixels=!0,o.baseTexture=null,o.setProperties(r),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}ji(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,J(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}(Vt);var Hi,Xi,Gi=function(){function t(t,e,r){this.geometry=new Xe,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var n=t[i];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||v.FLOAT,offset:n.offset},e[i]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Fe(function(t,e){void 0===e&&(e=null);var r=6*t;if((e=e||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r)(s=this.dynamicProperties[r]).offset=e,e+=s.size,this.dynamicStride+=s.size;var i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new Fe(this.dynamicData,!1,!1);var n=0;for(this.staticStride=0,r=0;r<this.staticProperties.length;++r)(s=this.staticProperties[r]).offset=n,n+=s.size,this.staticStride+=s.size;var o=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new Fe(this.staticData,!0,!1),r=0;r<this.dynamicProperties.length;++r){var s=this.dynamicProperties[r];t.addAttribute(s.attributeName,this.dynamicBuffer,0,s.type===v.UNSIGNED_BYTE,s.type,4*this.dynamicStride,4*s.offset)}for(r=0;r<this.staticProperties.length;++r)s=this.staticProperties[r],t.addAttribute(s.attributeName,this.staticBuffer,0,s.type===v.UNSIGNED_BYTE,s.type,4*this.staticStride,4*s.offset)},t.prototype.uploadDynamic=function(t,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var n=this.dynamicProperties[i];n.uploadFunction(t,e,r,n.type===v.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(t,e,r){for(var i=0;i<this.staticProperties.length;i++){var n=this.staticProperties[i];n.uploadFunction(t,e,r,n.type===v.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),zi=function(t){function e(e){var r=t.call(this,e)||this;return r.shader=null,r.properties=null,r.tempMatrix=new Ct,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:v.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=Ir.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=Cr.for2d(),r}return ji(e,t),e.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,n=this.renderer,o=e.length;if(0!==o){o>r&&!t.autoResize&&(o=r);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.state.blendMode=et(t.blendMode,a.alphaMode),n.state.set(this.state);var h,u,l,c,d=n.gl,p=t.worldTransform.copyTo(this.tempMatrix);p.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=(h=t.tintRgb,u=t.worldAlpha,l=this.shader.uniforms.uColor,c=a.alphaMode,l=l||new Float32Array(4),c||void 0===c?(l[0]=h[0]*u,l[1]=h[1]*u,l[2]=h[2]*u):(l[0]=h[0],l[1]=h[1],l[2]=h[2]),l[3]=u,l),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var f=!1,m=0,v=0;m<o;m+=i,v+=1){var y=o-m;y>i&&(y=i),v>=s.length&&s.push(this._generateOneMoreBuffer(t));var g=s[v];g.uploadDynamic(e,m,y);var _=t._bufferUpdateIDs[v]||0;(f=f||g._updateID<_)&&(g._updateID=t._updateID,g.uploadStatic(e,m,y)),n.geometry.bind(g.geometry),d.drawElements(d.TRIANGLES,6*y,d.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,i=t._batchSize,n=t._properties,o=0;o<r;o+=i)e.push(new Gi(this.properties,n,i));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,r=t._properties;return new Gi(this.properties,r,e)},e.prototype.uploadVertices=function(t,e,r,i,n,o){for(var s=0,a=0,h=0,u=0,l=0;l<r;++l){var c=t[e+l],d=c._texture,p=c.scale.x,f=c.scale.y,m=d.trim,v=d.orig;m?(s=(a=m.x-c.anchor.x*v.width)+m.width,h=(u=m.y-c.anchor.y*v.height)+m.height):(s=v.width*(1-c.anchor.x),a=v.width*-c.anchor.x,h=v.height*(1-c.anchor.y),u=v.height*-c.anchor.y),i[o]=a*p,i[o+1]=u*f,i[o+n]=s*p,i[o+n+1]=u*f,i[o+2*n]=s*p,i[o+2*n+1]=h*f,i[o+3*n]=a*p,i[o+3*n+1]=h*f,o+=4*n}},e.prototype.uploadPosition=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},e.prototype.uploadRotation=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},e.prototype.uploadUvs=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3,o+=4*n):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0,o+=4*n)}},e.prototype.uploadTint=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s],h=a._texture.baseTexture.alphaMode>0,u=a.alpha,l=u<1&&h?rt(a._tintRGB,u):a._tintRGB+(255*u<<24);i[o]=l,i[o+n]=l,i[o+2*n]=l,i[o+3*n]=l,o+=4*n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Ze);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(Hi||(Hi={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(Xi||(Xi={}));var Yi={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},Vi=function(){function t(){this.color=16777215,this.alpha=1,this.texture=Ce.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Ce.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),Wi=function(t,e){return(Wi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function qi(t,e){function r(){this.constructor=t}Wi(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Zi={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,i=t.holes,n=e.points,o=e.indices;if(r.length>=6){for(var s=[],a=0;a<i.length;a++){var h=i[a];s.push(r.length/2),r=r.concat(h.points)}var u=W()(r,s,2);if(!u)return;var l=n.length/2;for(a=0;a<u.length;a+=3)o.push(u[a]+l),o.push(u[a+1]+l),o.push(u[a+2]+l);for(a=0;a<r.length;a++)n.push(r[a])}}},Ki={build:function(t){var e,r,i=t.shape,n=t.points,o=i.x,s=i.y;if(n.length=0,t.type===_t.CIRC)e=i.radius,r=i.radius;else{var a=t.shape;e=a.width,r=a.height}if(0!==e&&0!==r){var h=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(e+r));h/=2.3;for(var u=2*Math.PI/h,l=0;l<h-.5;l++)n.push(o+Math.sin(-u*l)*e,s+Math.cos(-u*l)*r);n.push(n[0],n[1])}},triangulate:function(t,e){var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=o,a=t.shape,h=t.matrix,u=a.x,l=a.y;i.push(t.matrix?h.a*u+h.c*l+h.tx:u,t.matrix?h.b*u+h.d*l+h.ty:l);for(var c=0;c<r.length;c+=2)i.push(r[c],r[c+1]),n.push(o++,s,o)}};function Ji(t,e,r){return t+(e-t)*r}function Qi(t,e,r,i,n,o,s){void 0===s&&(s=[]);for(var a=s,h=0,u=0,l=0,c=0,d=0,p=0,f=0,m=0;f<=20;++f)h=Ji(t,r,m=f/20),u=Ji(e,i,m),l=Ji(r,n,m),c=Ji(i,o,m),d=Ji(h,l,m),p=Ji(u,c,m),a.push(d,p);return a}var $i={build:function(t){var e=t.shape,r=t.points,i=e.x,n=e.y,o=e.width,s=e.height,a=Math.max(0,Math.min(e.radius,Math.min(o,s)/2));r.length=0,a?(Qi(i,n+a,i,n,i+a,n,r),Qi(i+o-a,n,i+o,n,i+o,n+a,r),Qi(i+o,n+s-a,i+o,n+s,i+o-a,n+s,r),Qi(i+a,n+s,i,n+s,i,n+s-a,r)):r.push(i,n,i+o,n,i+o,n+s,i,n+s)},triangulate:function(t,e){for(var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=W()(r,null,2),a=0,h=s.length;a<h;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(a=0,h=r.length;a<h;a++)i.push(r[a],r[++a])}};function tn(t,e,r,i,n,o,s,a){var h,u;s?(h=i,u=-r):(h=-i,u=r);var l=t-r*n+h,c=e-i*n+u,d=t+r*o+h,p=e+i*o+u;return a.push(l,c),a.push(d,p),2}function en(t,e,r,i,n,o,s,a){var h=r-t,u=i-e,l=Math.atan2(h,u),c=Math.atan2(n-t,o-e);a&&l<c?l+=2*Math.PI:!a&&l>c&&(c+=2*Math.PI);var d=l,p=c-l,f=Math.abs(p),m=Math.sqrt(h*h+u*u),v=1+(15*f*Math.sqrt(m)/Math.PI>>0),y=p/v;if(d+=y,a){s.push(t,e),s.push(r,i);for(var g=1,_=d;g<v;g++,_+=y)s.push(t,e),s.push(t+Math.sin(_)*m,e+Math.cos(_)*m);s.push(t,e),s.push(n,o)}else{for(s.push(r,i),s.push(t,e),g=1,_=d;g<v;g++,_+=y)s.push(t+Math.sin(_)*m,e+Math.cos(_)*m),s.push(t,e);s.push(n,o),s.push(t,e)}return 2*v}function rn(t,e){t.lineStyle.native?function(t,e){var r=0,i=t.shape,n=t.points||i.points,o=i.type!==_t.POLY||i.closeStroke;if(0!==n.length){var s=e.points,a=e.indices,h=n.length/2,u=s.length/2,l=u;for(s.push(n[0],n[1]),r=1;r<h;r++)s.push(n[2*r],n[2*r+1]),a.push(l,l+1),l++;o&&a.push(l,u)}}(t,e):function(t,e){var r=t.shape,i=t.points||r.points.slice(),n=e.closePointEps;if(0!==i.length){var o=t.lineStyle,s=new Ot(i[0],i[1]),a=new Ot(i[i.length-2],i[i.length-1]),h=r.type!==_t.POLY||r.closeStroke,u=Math.abs(s.x-a.x)<n&&Math.abs(s.y-a.y)<n;if(h){i=i.slice(),u&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));var l=.5*(s.x+a.x),c=.5*(a.y+s.y);i.unshift(l,c),i.push(l,c)}var d=e.points,p=i.length/2,f=i.length,m=d.length/2,v=o.width/2,y=v*v,g=o.miterLimit*o.miterLimit,_=i[0],x=i[1],b=i[2],T=i[3],E=0,w=0,A=-(x-T),S=_-b,P=0,O=0,I=Math.sqrt(A*A+S*S);A/=I,S/=I,A*=v,S*=v;var C=o.alignment,M=2*(1-C),D=2*C;h||(o.cap===Xi.ROUND?f+=en(_-A*(M-D)*.5,x-S*(M-D)*.5,_-A*M,x-S*M,_+A*D,x+S*D,d,!0)+2:o.cap===Xi.SQUARE&&(f+=tn(_,x,A,S,M,D,!0,d))),d.push(_-A*M,x-S*M),d.push(_+A*D,x+S*D);for(var R=1;R<p-1;++R){_=i[2*(R-1)],x=i[2*(R-1)+1],b=i[2*R],T=i[2*R+1],E=i[2*(R+1)],w=i[2*(R+1)+1],A=-(x-T),S=_-b,A/=I=Math.sqrt(A*A+S*S),S/=I,A*=v,S*=v,P=-(T-w),O=b-E,P/=I=Math.sqrt(P*P+O*O),O/=I,P*=v,O*=v;var N=b-_,L=x-T,F=b-E,U=w-T,B=L*F-U*N,k=B<0;if(Math.abs(B)<.1)d.push(b-A*M,T-S*M),d.push(b+A*D,T+S*D);else{var j=(-A+_)*(-S+T)-(-A+b)*(-S+x),H=(-P+E)*(-O+T)-(-P+b)*(-O+w),X=(N*H-F*j)/B,G=(U*j-L*H)/B,z=(X-b)*(X-b)+(G-T)*(G-T),Y=b+(X-b)*M,V=T+(G-T)*M,W=b-(X-b)*D,q=T-(G-T)*D;o.join===Hi.BEVEL||z/y>g?(k?(d.push(Y,V),d.push(b+A*D,T+S*D),d.push(Y,V),d.push(b+P*D,T+O*D)):(d.push(b-A*M,T-S*M),d.push(W,q),d.push(b-P*M,T-O*M),d.push(W,q)),f+=2):o.join===Hi.ROUND?k?(d.push(Y,V),d.push(b+A*D,T+S*D),f+=en(b,T,b+A*D,T+S*D,b+P*D,T+O*D,d,!0)+4,d.push(Y,V),d.push(b+P*D,T+O*D)):(d.push(b-A*M,T-S*M),d.push(W,q),f+=en(b,T,b-A*M,T-S*M,b-P*M,T-O*M,d,!1)+4,d.push(b-P*M,T-O*M),d.push(W,q)):(d.push(Y,V),d.push(W,q))}}_=i[2*(p-2)],x=i[2*(p-2)+1],b=i[2*(p-1)],A=-(x-(T=i[2*(p-1)+1])),S=_-b,A/=I=Math.sqrt(A*A+S*S),S/=I,A*=v,S*=v,d.push(b-A*M,T-S*M),d.push(b+A*D,T+S*D),h||(o.cap===Xi.ROUND?f+=en(b-A*(M-D)*.5,T-S*(M-D)*.5,b-A*M,T-S*M,b+A*D,T+S*D,d,!1)+2:o.cap===Xi.SQUARE&&(f+=tn(b,T,A,S,M,D,!1,d)));var Z=e.indices,K=Yi.epsilon*Yi.epsilon;for(R=m;R<f+m-2;++R)_=d[2*R],x=d[2*R+1],b=d[2*(R+1)],T=d[2*(R+1)+1],E=d[2*(R+2)],w=d[2*(R+2)+1],Math.abs(_*(T-w)+b*(w-x)+E*(x-T))<K||Z.push(R,R+1,R+2)}}(t,e)}var nn,on,sn=function(t){function e(e,r,i,n,o,s){void 0===s&&(s=0),o=o||n/2;for(var a=-1*Math.PI/2+s,h=2*i,u=xt/h,l=[],c=0;c<h;c++){var d=c%2?o:n,p=c*u+a;l.push(e+d*Math.cos(p),r+d*Math.sin(p))}return t.call(this,l)||this}return qi(e,t),e}(St),an=function(){function t(){}return t.curveTo=function(t,e,r,i,n,o){var s=o[o.length-2],a=o[o.length-1]-e,h=s-t,u=i-e,l=r-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var d=a*a+h*h,p=u*u+l*l,f=a*u+h*l,m=n*Math.sqrt(d)/c,v=n*Math.sqrt(p)/c,y=m*f/d,g=v*f/p,_=m*l+v*h,x=m*u+v*a,b=h*(v+y),T=a*(v+y),E=l*(m+g),w=u*(m+g);return{cx:_+t,cy:x+e,radius:n,startAngle:Math.atan2(T-x,b-_),endAngle:Math.atan2(w-x,E-_),anticlockwise:h*u>l*a}},t.arc=function(t,e,r,i,n,o,s,a,h){for(var u=s-o,l=Yi._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/xt)),c=u/(2*l),d=2*c,p=Math.cos(c),f=Math.sin(c),m=l-1,v=m%1/m,y=0;y<=m;++y){var g=c+o+d*(y+v*y),_=Math.cos(g),x=-Math.sin(g);h.push((p*_+f*x)*n+r,(p*-x+f*_)*n+i)}},t}(),hn=function(){function t(){}return t.curveLength=function(t,e,r,i,n,o,s,a){for(var h=0,u=0,l=0,c=0,d=0,p=0,f=0,m=0,v=0,y=0,g=0,_=t,x=e,b=1;b<=10;++b)y=_-(m=(f=(p=(d=1-(u=b/10))*d)*d)*t+3*p*u*r+3*d*(l=u*u)*n+(c=l*u)*s),g=x-(v=f*e+3*p*u*i+3*d*l*o+c*a),_=m,x=v,h+=Math.sqrt(y*y+g*g);return h},t.curveTo=function(e,r,i,n,o,s,a){var h=a[a.length-2],u=a[a.length-1];a.length-=2;var l=Yi._segmentsCount(t.curveLength(h,u,e,r,i,n,o,s)),c=0,d=0,p=0,f=0,m=0;a.push(h,u);for(var v=1,y=0;v<=l;++v)p=(d=(c=1-(y=v/l))*c)*c,m=(f=y*y)*y,a.push(p*h+3*d*y*e+3*c*f*i+m*o,p*u+3*d*y*r+3*c*f*n+m*s)},t}(),un=function(){function t(){}return t.curveLength=function(t,e,r,i,n,o){var s=t-2*r+n,a=e-2*i+o,h=2*r-2*t,u=2*i-2*e,l=4*(s*s+a*a),c=4*(s*h+a*u),d=h*h+u*u,p=2*Math.sqrt(l+c+d),f=Math.sqrt(l),m=2*l*f,v=2*Math.sqrt(d),y=c/f;return(m*p+f*c*(p-v)+(4*d*l-c*c)*Math.log((2*f+y+p)/(y+v)))/(4*m)},t.curveTo=function(e,r,i,n,o){for(var s=o[o.length-2],a=o[o.length-1],h=Yi._segmentsCount(t.curveLength(s,a,e,r,i,n)),u=0,l=0,c=1;c<=h;++c){var d=c/h;u=s+(e-s)*d,l=a+(r-a)*d,o.push(u+(e+(i-e)*d-u)*d,l+(r+(n-r)*d-l)*d)}},t}(),ln=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),cn=((nn={})[_t.POLY]=Zi,nn[_t.CIRC]=Ki,nn[_t.ELIP]=Ki,nn[_t.RECT]={build:function(t){var e=t.shape,r=e.x,i=e.y,n=e.width,o=e.height,s=t.points;s.length=0,s.push(r,i,r+n,i,r+n,i+o,r,i+o)},triangulate:function(t,e){var r=t.points,i=e.points,n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},nn[_t.RREC]=$i,nn),dn=[],pn=[],fn=function(){function t(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null),this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=i,this.type=t.type,this.points=[],this.holes=[]}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),mn=new Ot,vn=new jt,yn=function(t){function e(){var e=t.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new jt,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return qi(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),pn.push(this.drawCalls[t]);for(this.drawCalls.length=0,t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),dn.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null);var n=new fn(t,e,r,i);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var r=new fn(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var i=e[r];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(t,mn):mn.copyFrom(t),i.shape.contains(mn.x,mn.y))){var n=!1;if(i.holes)for(var o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(mn.x,mn.y)){n=!0;break}if(!n)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,r=this.graphicsData,i=null,n=null;this.batches.length>0&&(n=(i=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<r.length;o++){this.shapeIndex++;var s=r[o],a=s.fillStyle,h=s.lineStyle;cn[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix);for(var u=0;u<2;u++){var l=0===u?a:h;if(l.visible){var c=l.texture.baseTexture,d=this.indices.length,p=this.points.length/2;c.wrapMode=g.REPEAT,0===u?this.processFill(s):this.processLine(s);var f=this.points.length/2-p;0!==f&&(i&&!this._compareStyles(n,l)&&(i.end(d,p),i=null),i||((i=dn.pop()||new ln).begin(l,d,p),this.batches.push(i),n=l),this.addUvs(this.points,e,l.texture,p,f,l.matrix))}}}var m=this.indices.length,v=this.points.length/2;if(i&&i.end(m,v),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var y=v>65535&&t;this.indicesUint16=y?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&t.texture.baseTexture===e.texture.baseTexture&&t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var r=this.graphicsData[t],i=r.fillStyle,n=r.lineStyle;if(i&&!i.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,r=t.length;e<r;e++)for(var i=t[e],n=0;n<i.size;n++){var o=i.start+n;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,r=0;r<t.length;r++)if(t[r].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++fe._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),pn.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,i=this.textureIds,n=pn.pop();n||((n=new ei).texArray=new ri),n.texArray.count=0,n.start=0,n.size=0,n.type=p.TRIANGLES;var o=0,s=null,a=0,h=!1,u=p.TRIANGLES,l=0;for(this.drawCalls.push(n),e=0;e<this.batches.length;e++){var c=this.batches[e],d=c.style,f=d.texture.baseTexture;h!==!!d.native&&(u=(h=!!d.native)?p.LINES:p.TRIANGLES,s=null,o=8,t++),s!==f&&(s=f,f._batchEnabled!==t&&(8===o&&(t++,o=0,n.size>0&&((n=pn.pop())||((n=new ei).texArray=new ri),this.drawCalls.push(n)),n.start=l,n.size=0,n.texArray.count=0,n.type=u),f.touched=1,f._batchEnabled=t,f._batchLocation=o,f.wrapMode=10497,n.texArray.elements[n.texArray.count++]=f,o++)),n.size+=c.size,l+=c.size,a=f._batchLocation,this.addColors(r,d.color,d.alpha,c.attribSize),this.addTextureIds(i,a,c.attribSize)}fe._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,r=this.colors,i=this.textureIds,n=new ArrayBuffer(3*t.length*4),o=new Float32Array(n),s=new Uint32Array(n),a=0,h=0;h<t.length/2;h++)o[a++]=t[2*h],o[a++]=t[2*h+1],o[a++]=e[2*h],o[a++]=e[2*h+1],s[a++]=r[h],o[a++]=i[h];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),Zi.triangulate(t,this)):cn[t.type].triangulate(t,this)},e.prototype.processLine=function(t){rn(t,this);for(var e=0;e<t.holes.length;e++)rn(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];cn[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=vn,r=Ct.IDENTITY;this._bounds.clear(),e.clear();for(var i=0;i<this.graphicsData.length;i++){var n=this.graphicsData[i],o=n.shape,s=n.type,a=n.lineStyle,h=n.matrix||Ct.IDENTITY,u=0;if(a&&a.visible){var l=a.alignment;u=a.width,s===_t.POLY?u*=.5+Math.abs(.5-l):u*=Math.max(0,l)}if(r!==h&&(e.isEmpty()||(t.addBoundsMatrix(e,r),e.clear()),r=h),s===_t.RECT||s===_t.RREC){var c=o;e.addFramePad(c.x,c.y,c.x+c.width,c.y+c.height,u,u)}else if(s===_t.CIRC){var d=o;e.addFramePad(d.x,d.y,d.x,d.y,d.radius+u,d.radius+u)}else if(s===_t.ELIP){var p=o;e.addFramePad(p.x,p.y,p.x,p.y,p.width+u,p.height+u)}else{var f=o;t.addVerticesMatrix(r,f.points,0,f.points.length,u,u)}}e.isEmpty()||t.addBoundsMatrix(e,r),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var i=t[2*r],n=t[2*r+1];t[2*r]=e.a*i+e.c*n+e.tx,t[2*r+1]=e.b*i+e.d*n+e.ty}},e.prototype.addColors=function(t,e,r,i){for(var n=rt((e>>16)+(65280&e)+((255&e)<<16),r);i-- >0;)t.push(n)},e.prototype.addTextureIds=function(t,e,r){for(;r-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,r,i,n,o){void 0===o&&(o=null);for(var s=0,a=e.length,h=r.frame;s<n;){var u=t[2*(i+s)],l=t[2*(i+s)+1];if(o){var c=o.a*u+o.c*l+o.tx;l=o.b*u+o.d*l+o.ty,u=c}s++,e.push(u/h.width,l/h.height)}var d=r.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,r,a,n)},e.prototype.adjustUvs=function(t,e,r,i){for(var n=e.baseTexture,o=1e-6,s=r+2*i,a=e.frame,h=a.width/n.width,u=a.height/n.height,l=a.x/a.width,c=a.y/a.height,d=Math.floor(t[r]+o),p=Math.floor(t[r+1]+o),f=r+2;f<s;f+=2)d=Math.min(d,Math.floor(t[f]+o)),p=Math.min(p,Math.floor(t[f+1]+o));for(l-=d,c-=p,f=r;f<s;f+=2)t[f]=(t[f]+l)*h,t[f+1]=(t[f+1]+c)*u},e.BATCHABLE_SIZE=100,e}(si),gn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=Xi.BUTT,e.join=Hi.MITER,e.miterLimit=10,e}return qi(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(Vi),_n=new Float32Array(3),xn={},bn=function(t){function e(e){void 0===e&&(e=null);var r=t.call(this)||this;return r._geometry=e||new yn,r._geometry.refCount++,r.shader=null,r.state=Cr.for2d(),r._fillStyle=new Vi,r._lineStyle=new gn,r._matrix=null,r._holeMode=!1,r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r.pluginName="batch",r._transformID=-1,r.tint=16777215,r.blendMode=d.NORMAL,r}return qi(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t){if(void 0===t&&(t=null),"number"==typeof t){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){if("number"==typeof t){dt("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var e=arguments,r=e[0],i=e[1],n=e[2],o=e[3],s=e[4],a=e[5],h=e[6];t={width:r,texture:i,color:n,alpha:o,matrix:s,alignment:a,native:h},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({width:0,texture:Ce.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Xi.BUTT,join:Hi.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var u=t.width>0&&t.alpha>0;return u?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:u},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new St,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new St,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===t&&n===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,i){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),un.curveTo(t,e,r,i,n),this},e.prototype.bezierCurveTo=function(t,e,r,i,n,o){return this._initCurve(),hn.curveTo(t,e,r,i,n,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,r,i,n){this._initCurve(t,e);var o=this.currentPath.points,s=an.curveTo(t,e,r,i,n,o);if(s){var a=s.cx,h=s.cy,u=s.radius,l=s.startAngle,c=s.endAngle,d=s.anticlockwise;this.arc(a,h,u,l,c,d)}return this},e.prototype.arc=function(t,e,r,i,n,o){if(void 0===o&&(o=!1),i===n)return this;if(!o&&n<=i?n+=xt:o&&i<=n&&(i+=xt),0==n-i)return this;var s=t+Math.cos(i)*r,a=e+Math.sin(i)*r,h=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var l=Math.abs(u[u.length-2]-s),c=Math.abs(u[u.length-1]-a);l<h&&c<h||u.push(s,a)}else this.moveTo(s,a),u=this.currentPath.points;return an.arc(s,a,t,e,r,i,n,o,u),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:Ce.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){if(t instanceof Ce){dt("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments,r=e[0],i=e[1],n=e[2],o=e[3];t={texture:r,color:i,alpha:n,matrix:o},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({texture:Ce.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var s=t.alpha>0;return s?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:s},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,r,i){return this.drawShape(new Et(t,e,r,i))},e.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new Pt(t,e,r,i,n))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new wt(t,e,r))},e.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new At(t,e,r,i))},e.prototype.drawPolygon=function(){for(var t,e=arguments,r=[],i=0;i<arguments.length;i++)r[i]=e[i];var n=!0,o=r[0];o.points?(n=o.closeStroke,t=o.points):t=Array.isArray(r[0])?r[0]:r;var s=new St(t);return s.closeStroke=n,this.drawShape(s),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,r,i,n,o){return void 0===o&&(o=0),this.drawPolygon(new sn(t,e,r,i,n,o))},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===_t.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry,r=t.context.supports.uint32Indices;e.updateBatches(r),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(var i=0;i<r;i++){var n=t.batches[i],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:J(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=h}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this._geometry,i=this.tint,n=this.worldAlpha,o=e.uniforms,s=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(i>>16&255)/255*n,o.tint[1]=(i>>8&255)/255*n,o.tint[2]=(255&i)/255*n,o.tint[3]=n,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var a=0,h=s.length;a<h;a++)this._renderDrawCallDirect(t,r.drawCalls[a])},e.prototype._renderDrawCallDirect=function(t,e){for(var r=e.texArray,i=e.type,n=e.size,o=e.start,s=r.count,a=0;a<s;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(i,n,o)},e.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!xn[r]){for(var i=new Int32Array(16),n=0;n<16;n++)i[n]=n;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ct,default:Ve.from({uSamplers:i},!0)},s=t.plugins[r]._shader.program;xn[r]=new Ir(s,o)}e=xn[r]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,r=e.minX,i=e.minY,n=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,r,i,n,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=J(this.tint,_n),e=0;e<this.batches.length;e++){var r=this.batches[e],i=r._batchRGB,n=(t[0]*i[0]*255<<16)+(t[1]*i[1]*255<<8)+(0|t[2]*i[2]*255);r._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this._geometry.points,u=this.vertexData,l=0,c=0;c<h.length;c+=2){var d=h[c],p=h[c+1];u[l++]=r*d+n*p+s,u[l++]=o*p+i*d+a}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e._TEMP_POINT=new Ot,e}(Vt),Tn=function(t,e){return(Tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},En=new Ot,wn=new Uint16Array([0,1,2,0,2,3]),An=function(t){function e(e){var r=t.call(this)||this;return r._anchor=new It(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=d.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=e||Ce.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=wn,r.pluginName="batch",r.isSprite=!0,r._roundPixels=G.ROUND_PIXELS,r}return function(t,e){function r(){this.constructor=t}Tn(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ht(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ht(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,d=0,p=0,f=0,m=0;if(u?(d=(p=u.x-c._x*l.width)+u.width,f=(m=u.y-c._y*l.height)+u.height):(d=(p=-c._x*l.width)+l.width,f=(m=-c._y*l.height)+l.height),h[0]=r*p+n*m+s,h[1]=o*m+i*p+a,h[2]=r*d+n*m+s,h[3]=o*m+i*d+a,h[4]=r*d+n*f+s,h[5]=o*f+i*d+a,h[6]=r*p+n*f+s,h[7]=o*f+i*p+a,this._roundPixels)for(var v=G.RESOLUTION,y=0;y<h.length;++y)h[y]=Math.round((h[y]*v|0)/v)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=-i._x*r.width,d=c+r.width,p=-i._y*r.height,f=p+r.height;e[0]=o*c+a*p+u,e[1]=h*p+s*c+l,e[2]=o*d+a*p+u,e[3]=h*p+s*d+l,e[4]=o*d+a*f+u,e[5]=h*f+s*d+l,e[6]=o*c+a*f+u,e[7]=h*f+s*c+l},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Et),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,En);var e=this._texture.orig.width,r=this._texture.orig.height,i=-e*this.anchor.x,n=0;return En.x>=i&&En.x<i+e&&(n=-r*this.anchor.y,En.y>=n&&En.y<n+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null},e.from=function(t,r){return new e(t instanceof Ce?t:Ce.from(t,r))},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=ht(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=ht(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||Ce.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Vt),Sn=function(t,e){return(Sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(on||(on={}));var Pn={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:on.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},On=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],In=function(){function t(t){this.styleID=0,this.reset(),Dn(this,t,t)}return t.prototype.clone=function(){var e={};return Dn(e,this,Pn),new t(e)},t.prototype.reset=function(){Dn(this,Pn,Pn)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=Mn(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=Mn(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=Mn(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&On.indexOf(i)<0&&(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function Cn(t){return"number"==typeof t?Q(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function Mn(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=Cn(t[e]);return t}return Cn(t)}function Dn(t,e,r){for(var i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}var Rn=function(){function t(t,e,r,i,n,o,s,a,h){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h}return t.measureText=function(e,r,i,n){void 0===n&&(n=t._canvas),i=null==i?r.wordWrap:i;var o=r.toFontString(),s=t.measureFont(o);0===s.fontSize&&(s.fontSize=r.fontSize,s.ascent=r.fontSize);var a=n.getContext("2d");a.font=o;for(var h=(i?t.wordWrap(e,r,n):e).split(/(?:\r\n|\r|\n)/),u=new Array(h.length),l=0,c=0;c<h.length;c++){var d=a.measureText(h[c]).width+(h[c].length-1)*r.letterSpacing;u[c]=d,l=Math.max(l,d)}var p=l+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);var f=r.lineHeight||s.fontSize+r.strokeThickness,m=Math.max(f,s.fontSize+r.strokeThickness)+(h.length-1)*(f+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new t(e,r,p,m,h,u,f+r.leading,l,s)},t.wordWrap=function(e,r,i){void 0===i&&(i=t._canvas);for(var n=i.getContext("2d"),o=0,s="",a="",h={},u=r.letterSpacing,l=r.whiteSpace,c=t.collapseSpaces(l),d=t.collapseNewlines(l),p=!c,f=r.wordWrapWidth+u,m=t.tokenize(e),v=0;v<m.length;v++){var y=m[v];if(t.isNewline(y)){if(!d){a+=t.addLine(s),p=!c,s="",o=0;continue}y=" "}if(c){var g=t.isBreakingSpace(y),_=t.isBreakingSpace(s[s.length-1]);if(g&&_)continue}var x=t.getFromCache(y,u,h,n);if(x>f)if(""!==s&&(a+=t.addLine(s),s="",o=0),t.canBreakWords(y,r.breakWords))for(var b=t.wordWrapSplit(y),T=0;T<b.length;T++){for(var E=b[T],w=1;b[T+w];){var A=b[T+w],S=E[E.length-1];if(t.canBreakChars(S,A,y,T,r.breakWords))break;E+=A,w++}T+=E.length-1;var P=t.getFromCache(E,u,h,n);P+o>f&&(a+=t.addLine(s),p=!1,s="",o=0),s+=E,o+=P}else{s.length>0&&(a+=t.addLine(s),s="",o=0);var O=v===m.length-1;a+=t.addLine(y,!O),p=!1,s="",o=0}else x+o>f&&(p=!1,a+=t.addLine(s),s="",o=0),(s.length>0||!t.isBreakingSpace(y)||p)&&(s+=y,o+=x)}return a+t.addLine(s,!1)},t.addLine=function(e,r){return void 0===r&&(r=!0),e=t.trimRight(e),r?e+"\n":e},t.getFromCache=function(t,e,r,i){var n=r[t];if(void 0===n){var o=t.length*e;n=i.measureText(t).width+o,r[t]=n}return n},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var r=e.length-1;r>=0;r--){var i=e[r];if(!t.isBreakingSpace(i))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],i="";if("string"!=typeof e)return r;for(var n=0;n<e.length;n++){var o=e[n];t.isBreakingSpace(o)||t.isNewline(o)?(""!==i&&(r.push(i),i=""),r.push(o)):i+=o}return""!==i&&r.push(i),r},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,r,i,n){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},i=t._canvas,n=t._context;n.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(n.measureText(o).width),a=Math.ceil(n.measureText(t.BASELINE_SYMBOL).width),h=2*a;a=a*t.BASELINE_MULTIPLIER|0,i.width=s,i.height=h,n.fillStyle="#f00",n.fillRect(0,0,s,h),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(o,0,a);var u=n.getImageData(0,0,s,h).data,l=u.length,c=4*s,d=0,p=0,f=!1;for(d=0;d<a;++d){for(var m=0;m<c;m+=4)if(255!==u[p+m]){f=!0;break}if(f)break;p+=c}for(r.ascent=a-d,p=l-c,f=!1,d=h;d>a;--d){for(m=0;m<c;m+=4)if(255!==u[p+m]){f=!0;break}if(f)break;p-=c}return r.descent=d-a,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),Nn=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();Nn.width=Nn.height=10,Rn._canvas=Nn,Rn._context=Nn.getContext("2d"),Rn._fonts={},Rn.METRICS_STRING="|q",Rn.BASELINE_SYMBOL="M",Rn.BASELINE_MULTIPLIER=1.4,Rn._newlines=[10,13],Rn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Ln={texture:!0,children:!1,baseTexture:!0},Fn=function(t){function e(e,r,i){var n=this,o=!1;i||(i=document.createElement("canvas"),o=!0),i.width=3,i.height=3;var s=Ce.from(i);return s.orig=new Et,s.trim=new Et,(n=t.call(this,s)||this)._ownCanvas=o,n.canvas=i,n.context=n.canvas.getContext("2d"),n._resolution=G.RESOLUTION,n._autoResolution=!0,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=e,n.style=r,n.localStyleID=-1,n}return function(t,e){function r(){this.constructor=t}Sn(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,i,n=this.context,o=Rn.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,h=o.lines,u=o.lineHeight,l=o.lineWidths,c=o.maxLineWidth,d=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,f=0;f<p;++f){var m=e.dropShadow&&0===f,v=m?2*a:0,y=v*this.resolution;if(m){n.fillStyle="black",n.strokeStyle="black";var g=e.dropShadowColor,_=J("number"==typeof g?g:$(g));n.shadowColor="rgba("+255*_[0]+","+255*_[1]+","+255*_[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+y}else n.fillStyle=this._generateFillStyle(e,h,o),n.strokeStyle=e.stroke,n.shadowColor="0",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var x=0;x<h.length;x++)r=e.strokeThickness/2,i=e.strokeThickness/2+x*u+d.ascent,"right"===e.align?r+=c-l[x]:"center"===e.align&&(r+=(c-l[x])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(h[x],r+e.padding,i+e.padding-v,!0),e.fill&&this.drawLetterSpacing(h[x],r+e.padding,i+e.padding-v)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r,i){void 0===i&&(i=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=this.context.measureText(t).width,h=0,u=0;u<s.length;++u){var l=s[u];i?this.context.strokeText(l,o,r):this.context.fillText(l,o,r),o+=a-(h=this.context.measureText(t.substring(u+1)).width)+n,a=h}else i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=function(t){var e,r,i,n=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,n,o).data,h=a.length,u={top:null,left:null,right:null,bottom:null},l=null;for(e=0;e<h;e+=4)0!==a[e+3]&&(r=e/4%n,i=~~(e/4/n),null===u.top&&(u.top=i),(null===u.left||r<u.left)&&(u.left=r),(null===u.right||u.right<r)&&(u.right=r+1),(null===u.bottom||u.bottom<i)&&(u.bottom=i));return null!==u.top&&(n=u.right-u.left,o=u.bottom-u.top+1,l=s.getImageData(u.left,u.top,n,o)),{height:o,width:n,data:l}}(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,i=this._style,n=i.trim?0:i.padding,o=r.baseTexture;r.trim.width=r._frame.width=Math.ceil(t.width/this._resolution),r.trim.height=r._frame.height=Math.ceil(t.height/this._resolution),r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,r){var i,n=t.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];var o=t.dropShadow?t.dropShadowDistance:0,s=t.padding||0,a=Math.ceil(this.canvas.width/this._resolution)-o-2*s,h=Math.ceil(this.canvas.height/this._resolution)-o-2*s,u=n.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var c=u.length+1,d=1;d<c;++d)l.push(d/c);if(u.unshift(n[0]),l.unshift(0),u.push(n[n.length-1]),l.push(1),t.fillGradientType===on.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,s,a/2,h+s);var p=0,f=(r.fontProperties.fontSize+t.strokeThickness)/h;for(d=0;d<e.length;d++)for(var m=r.lineHeight*d,v=0;v<u.length;v++){var y=m/h+("number"==typeof l[v]?l[v]:v/u.length)*f,g=Math.max(p,y);g=Math.min(g,1),i.addColorStop(g,u[v]),p=g}}else{i=this.context.createLinearGradient(s,h/2,a+s,h/2);var _=u.length+1,x=1;for(d=0;d<u.length;d++){var b;b="number"==typeof l[d]?l[d]:x/_,i.addColorStop(b,u[d]),x++}}return i},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},Ln,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=ht(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=ht(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof In?t:new In(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e}(An);G.UPLOADS_PER_FRAME=4;var Un=function(t,e){return(Un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},Bn=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function kn(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var i=0;i<t._textures.length;i++)if(t._textures[i]instanceof Ce){var n=t._textures[i].baseTexture;-1===e.indexOf(n)&&(e.push(n),r=!0)}return r}function jn(t,e){if(t.baseTexture instanceof fe){var r=t.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function Hn(t,e){if(t._texture&&t._texture instanceof Ce){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function Xn(t,e){return e instanceof Fn&&(e.updateText(!0),!0)}function Gn(t,e){if(e instanceof In){var r=e.toFontString();return Rn.measureFont(r),!0}return!1}function zn(t,e){if(t instanceof Fn){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function Yn(t,e){return t instanceof In&&(-1===e.indexOf(t)&&e.push(t),!0)}function Vn(t,e){return e instanceof fe&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function Wn(t,e){if(!(e instanceof bn))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var i=r.batches,n=0;n<i.length;n++){var o=i[n].style.texture;o&&Vn(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function qn(t,e){return t instanceof bn&&(e.push(t),!0)}var Zn=function(t){function e(e){var r=t.call(this,e)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(qn),r.registerUploadHook(Vn),r.registerUploadHook(Wn),r}return function(t,e){function r(){this.constructor=t}Un(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e}(function(){function t(t){var e=this;this.limiter=new Bn(G.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(zn),this.registerFindHook(Yn),this.registerFindHook(kn),this.registerFindHook(jn),this.registerFindHook(Hn),this.registerUploadHook(Xn),this.registerUploadHook(Gn)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Kt.system.addOnce(this.tick,this,Wt.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)Kt.system.addOnce(this.tick,this,Wt.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);for(this.completes.length=0,r=0,i=n.length;r<i;r++)n[r]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Vt)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&Kt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}()),Kn=(function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds}}(),function(){function t(t,e,r){void 0===r&&(r=null),this._texture=t instanceof Ce?t:null,this.baseTexture=t instanceof fe?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,r=gt(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,i=t.BATCH_SIZE;r-e<i&&r<this._frameKeys.length;){var n=this._frameKeys[r],o=this._frames[n],s=o.frame;if(s){var a,h=null,u=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,l=new Et(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);a=o.rotated?new Et(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new Et(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(h=new Et(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new Ce(this.baseTexture,a,l,h,o.rotated?2:0,o.anchor),Ce.addToCache(this.textures[n],n)}r++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var i=t[e][r];this.animations[e].push(this.textures[i])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(t){var e;for(var r in void 0===t&&(t=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}()),Jn=function(){function t(){}return t.use=function(e,r){var i=this,n=e.name+"_image";if(e.data&&e.type===Ni.TYPE.JSON&&e.data.frames&&!i.resources[n]){var o={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},s=t.getResourcePath(e,i.baseUrl);i.add(n,s,o,(function(t){if(t.error)r(t.error);else{var i=new Kn(t.texture,e.data,e.url);i.parse((function(){e.spritesheet=i,e.textures=i.textures,r()}))}}))}else r()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:q.resolve(t.url.replace(e,""),t.data.meta.image)},t}(),Qn=function(t,e){return(Qn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function $n(t,e){function r(){this.constructor=t}Qn(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var to=new Ot,eo=(function(t){function e(e,r,i){void 0===r&&(r=100),void 0===i&&(i=100);var n=t.call(this,e)||this;return n.tileTransform=new kt,n._width=r,n._height=i,n.uvMatrix=e.uvMatrix||new Rr(e),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n}$n(e,t),Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Et),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,to);var e=this._width,r=this._height,i=-e*this.anchor._x;if(to.x>=i&&to.x<i+e){var n=-r*this.anchor._y;if(to.y>=n&&to.y<n+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,r){return"number"==typeof r&&(dt("5.3.0","TilingSprite.from use options instead of width and height args"),r={width:r,height:arguments[2]}),new e(Ce.from(t,r),r.width,r.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0})}(An),"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"),ro=new Ct,io=function(t){function e(e){var r=t.call(this,e)||this,i={globals:r.renderer.globalUniforms};return r.shader=Ir.from(eo,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord - floor(vTextureCoord - uClampOffset);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",i),r.simpleShader=Ir.from(eo,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",i),r.quad=new ze,r.state=Cr.for2d(),r}return $n(e,t),e.prototype.render=function(t){var e=this.renderer,r=this.quad,i=r.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((i=r.uvs)[0]=i[6]=-t.anchor.x,i[1]=i[3]=-t.anchor.y,i[2]=i[4]=1-t.anchor.x,i[5]=i[7]=1-t.anchor.y),r.invalidate();var n=t._texture,o=n.baseTexture,s=t.tileTransform.localTransform,a=t.uvMatrix,h=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;h&&(o._glTextures[e.CONTEXT_UID]?h=o.wrapMode!==g.CLAMP:o.wrapMode===g.CLAMP&&(o.wrapMode=g.REPEAT));var u=h?this.simpleShader:this.shader,l=n.width,c=n.height,d=t._width,p=t._height;ro.set(s.a*l/d,s.b*l/p,s.c*c/d,s.d*c/p,s.tx/d,s.ty/p),ro.invert(),h?ro.prepend(a.mapCoord):(u.uniforms.uMapCoord=a.mapCoord.toArray(!0),u.uniforms.uClampFrame=a.uClampFrame,u.uniforms.uClampOffset=a.uClampOffset),u.uniforms.uTransform=ro.toArray(!0),u.uniforms.uColor=it(t.tint,t.worldAlpha,u.uniforms.uColor,o.alphaMode),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.uSampler=n,e.shader.bind(u),e.geometry.bind(r),this.state.blendMode=et(t.blendMode,o.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Ze),no=function(t,e){return(no=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function oo(t,e){function r(){this.constructor=t}no(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var so=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),ao=new Ot,ho=new St,uo=function(t){function e(e,r,i,n){void 0===n&&(n=p.TRIANGLES);var o=t.call(this)||this;return o.geometry=e,e.refCount++,o.shader=r,o.state=i||Cr.for2d(),o.drawMode=n,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=0,o._transformID=-1,o.tint=16777215,o.blendMode=d.NORMAL,o._roundPixels=G.ROUND_PIXELS,o.batchUvs=null,o}return oo(e,t),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===p.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,i=r.a,n=r.b,o=r.c,s=r.d,a=r.tx,h=r.ty,u=this.vertexData,l=0;l<u.length/2;l++){var c=e[2*l],d=e[2*l+1];u[2*l]=i*c+o*d+a,u[2*l+1]=n*c+s*d+h}if(this._roundPixels){var p=G.RESOLUTION;for(l=0;l<u.length;++l)u[l]=Math.round((u[l]*p|0)/p)}this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new so(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,ao);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=ho.points,i=this.geometry.getIndex().data,n=i.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*i[s],h=2*i[s+1],u=2*i[s+2];if(r[0]=e[a],r[1]=e[a+1],r[2]=e[h],r[3]=e[h+1],r[4]=e[u],r[5]=e[u+1],ho.contains(ao.x,ao.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Vt),lo=function(t){function e(e,r){var i=this,n={uSampler:e,alpha:1,uTextureMatrix:Ct.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(n,r.uniforms),(i=t.call(this,r.program||Or.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),n)||this)._colorDirty=!1,i.uvMatrix=new Rr(e),i.batchable=void 0===r.program,i.pluginName=r.pluginName,i.tint=r.tint,i.alpha=r.alpha,i}return oo(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;it(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(Ir),co=function(t){function e(e,r,i){var n=t.call(this)||this,o=new Fe(e),s=new Fe(r,!0),a=new Fe(i,!0,!0);return n.addAttribute("aVertexPosition",o,2,!1,v.FLOAT).addAttribute("aTextureCoord",s,2,!1,v.FLOAT).addIndex(a),n._updateId=-1,n}return oo(e,t),Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(Xe),po=function(t,e){return(po=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},fo=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},mo=[function(){function t(){}return t.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[]};for(var i in e){var n=e[i].match(/^[a-z]+/gm)[0],o=e[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var a in o){var h=o[a].split("="),u=h[0],l=h[1].replace(/"/gm,""),c=parseFloat(l),d=isNaN(c)?l:c;s[u]=d}r[n].push(s)}var p=new fo;return r.info.forEach((function(t){return p.info.push({face:t.face,size:parseInt(t.size,10)})})),r.common.forEach((function(t){return p.common.push({lineHeight:parseInt(t.lineHeight,10)})})),r.page.forEach((function(t){return p.page.push({id:parseInt(t.id,10),file:t.file})})),r.char.forEach((function(t){return p.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),r.kerning.forEach((function(t){return p.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),p},t}(),function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new fo,r=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),n=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),a=0;a<r.length;a++)e.info.push({face:r[a].getAttribute("face"),size:parseInt(r[a].getAttribute("size"),10)});for(a=0;a<i.length;a++)e.common.push({lineHeight:parseInt(i[a].getAttribute("lineHeight"),10)});for(a=0;a<n.length;a++)e.page.push({id:parseInt(n[a].getAttribute("id"),10)||0,file:n[a].getAttribute("file")});for(a=0;a<o.length;a++){var h=o[a];e.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(a=0;a<s.length;a++)e.kerning.push({first:parseInt(s[a].getAttribute("first"),10),second:parseInt(s[a].getAttribute("second"),10),amount:parseInt(s[a].getAttribute("amount"),10)});return e},t}()];function vo(t){for(var e=0;e<mo.length;e++)if(mo[e].test(t))return mo[e];return null}function yo(t,e,r,i,n,o){var s,a=r.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var h=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,l=Math.ceil(t.width/i)-h-2*u,c=Math.ceil(t.height/i)-h-2*u,d=a.slice(),p=r.fillGradientStops.slice();if(!p.length)for(var f=d.length+1,m=1;m<f;++m)p.push(m/f);if(d.unshift(a[0]),p.unshift(0),d.push(a[a.length-1]),p.push(1),r.fillGradientType===on.LINEAR_VERTICAL){s=e.createLinearGradient(l/2,u,l/2,c+u);var v=0,y=(o.fontProperties.fontSize+r.strokeThickness)/c;for(m=0;m<n.length;m++)for(var g=o.lineHeight*m,_=0;_<d.length;_++){var x=g/c+("number"==typeof p[_]?p[_]:_/d.length)*y,b=Math.max(v,x);b=Math.min(b,1),s.addColorStop(b,d[_]),v=b}}else{s=e.createLinearGradient(u,c/2,l+u,c/2);var T=d.length+1,E=1;for(m=0;m<d.length;m++){var w;w="number"==typeof p[m]?p[m]:E/T,s.addColorStop(w,d[m]),E++}}return s}function go(t,e,r,i,n,o,s){var a=r.text,h=r.fontProperties;e.translate(i,n),e.scale(o,o);var u=s.strokeThickness/2,l=-s.strokeThickness/2;e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=yo(t,e,s,o,[a],r),e.strokeStyle=s.stroke,e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=yo(t,e,s,o,[a],r),e.strokeStyle=s.stroke;var c=s.dropShadowColor,d=J("number"==typeof c?c:$(c));s.dropShadow?(e.shadowColor="rgba("+255*d[0]+","+255*d[1]+","+255*d[2]+","+s.dropShadowAlpha+")",e.shadowBlur=s.dropShadowBlur,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*s.dropShadowDistance,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*s.dropShadowDistance):(e.shadowColor="0",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),s.stroke&&s.strokeThickness&&e.strokeText(a,u,l+r.lineHeight-h.descent),s.fill&&e.fillText(a,u,l+r.lineHeight-h.descent),e.setTransform(),e.fillStyle="rgba(0, 0, 0, 0)"}var _o=function(){function t(t,e){var r=t.info[0],i=t.common[0],n=gt(t.page[0].file),o={};this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/n,this.chars={},this.pageTextures=o;for(var s=0;s<t.page.length;s++){var a=t.page[s],h=a.id,u=a.file;o[h]=e instanceof Array?e[s]:e[u]}for(s=0;s<t.char.length;s++){var l=t.char[s],c=(h=l.id,l.page),d=t.char[s],p=d.x,f=d.y,m=d.width,v=d.height,y=d.xoffset,g=d.yoffset,_=d.xadvance;f/=n,m/=n,v/=n,y/=n,g/=n,_/=n;var x=new Et((p/=n)+o[c].frame.x/n,f+o[c].frame.y/n,m,v);this.chars[h]={xOffset:y,yOffset:g,xAdvance:_,kerning:{},texture:new Ce(o[c].baseTexture,x),page:c}}for(s=0;s<t.kerning.length;s++){var b=t.kerning[s],T=b.first,E=b.second,w=b.amount;T/=n,E/=n,w/=n,this.chars[E]&&(this.chars[E].kerning[T]=w)}}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r){var i;if(e instanceof fo)i=e;else{var n=vo(e);if(!n)throw new Error("Unrecognized data format for font.");i=n.parse(e)}r instanceof Ce&&(r=[r]);var o=new t(i,r);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,i){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},t.defaultOptions,i),o=n.chars,s=n.padding,a=n.resolution,h=n.textureWidth,u=n.textureHeight,l=function(t){"string"==typeof t&&(t=[t]);for(var e=[],r=0,i=t.length;r<i;r++){var n=t[r];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var o=n[0].charCodeAt(0),s=n[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,h=s;a<=h;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,n.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(o),c=r instanceof In?r:new In(r),d=h,p=new fo;p.info[0]={face:c.fontFamily,size:c.fontSize},p.common[0]={lineHeight:c.fontSize};for(var f,m,v,y=0,g=0,_=0,x=[],b=0;b<l.length;b++){f||((f=document.createElement("canvas")).width=h,f.height=u,m=f.getContext("2d"),v=new fe(f,{resolution:a}),x.push(new Ce(v)),p.page.push({id:x.length-1,file:""}));var T=Rn.measureText(l[b],c,!1,f),E=T.width,w=Math.ceil(T.height),A=Math.ceil(("italic"===c.fontStyle?2:1)*E);if(g>=u-w*a){if(0===g)throw new Error("[BitmapFont] textureHeight "+u+"px is too small for "+c.fontSize+"px fonts");--b,f=null,m=null,v=null,g=0,y=0,_=0}else if(_=Math.max(w+T.fontProperties.descent,_),A*a+y>=d)--b,g+=_*a,g=Math.ceil(g),y=0,_=0;else{go(f,m,T,y,g,a,c);var S=T.text.charCodeAt(0);p.char.push({id:S,page:x.length-1,x:y/a,y:g/a,width:A,height:w,xoffset:0,yoffset:0,xadvance:Math.ceil(E-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0))}),y+=(A+2*s)*a,y=Math.ceil(y)}}var P=new t(p,x);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=P,P},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),xo=[],bo=[],To=(function(t){function e(r,i){void 0===i&&(i={});var n=t.call(this)||this;n._tint=16777215,i.font&&(dt("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),n._upgradeStyle(i));var o=Object.assign({},e.styleDefaults,i),s=o.align,a=o.tint,h=o.maxWidth,u=o.letterSpacing,l=o.fontName,c=o.fontSize;if(!_o.available[l])throw new Error('Missing BitmapFont "'+l+'"');return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=s,n._tint=a,n._fontName=l,n._fontSize=c||_o.available[l].size,n._text=r,n._maxWidth=h,n._maxLineHeight=0,n._letterSpacing=u,n._anchor=new It((function(){n.dirty=!0}),n,0,0),n.roundPixels=G.ROUND_PIXELS,n.dirty=!0,n}(function(t,e){function r(){this.constructor=t}po(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),e.prototype.updateText=function(){for(var t,e=_o.available[this._fontName],r=this._fontSize/e.size,i=new Ot,n=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=s.length,h=this._maxWidth*e.size/this._fontSize,u=null,l=0,c=0,d=0,p=-1,f=0,m=0,v=0,y=0;y<a;y++){var g=s.charCodeAt(y),_=s.charAt(y);if(/(?:\s)/.test(_)&&(p=y,f=l),"\r"!==_&&"\n"!==_){var x=e.chars[g];if(x){u&&x.kerning[u]&&(i.x+=x.kerning[u]);var b=bo.pop()||{texture:Ce.EMPTY,line:0,charCode:0,position:new Ot};b.texture=x.texture,b.line=d,b.charCode=g,b.position.x=i.x+x.xOffset+this._letterSpacing/2,b.position.y=i.y+x.yOffset,n.push(b),i.x+=x.xAdvance+this._letterSpacing,l=i.x,v=Math.max(v,x.yOffset+x.texture.height),u=g,-1!==p&&h>0&&i.x>h&&(at(n,1+p-++m,1+y-p),y=p,p=-1,o.push(f),c=Math.max(c,f),d++,i.x=0,i.y+=e.lineHeight,u=null)}}else o.push(l),c=Math.max(c,l),++d,++m,i.x=0,i.y+=e.lineHeight,u=null}var T=s.charAt(s.length-1);"\r"!==T&&"\n"!==T&&(/(?:\s)/.test(T)&&(l=f),o.push(l),c=Math.max(c,l));var E=[];for(y=0;y<=d;y++){var w=0;"right"===this._align?w=c-o[y]:"center"===this._align&&(w=(c-o[y])/2),E.push(w)}var A=n.length,S={},P=[],O=this._activePagesMeshData;for(y=0;y<O.length;y++)xo.push(O[y]);for(y=0;y<A;y++){var I=(R=n[y].texture).baseTexture.uid;if(!S[I]){if(!(j=xo.pop())){var C=new co,M=new lo(Ce.EMPTY);j={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new uo(C,M),vertices:null,uvs:null,indices:null}}j.index=0,j.indexCount=0,j.vertexCount=0,j.uvsCount=0,j.total=0,j.mesh.texture=new Ce(R.baseTexture),j.mesh.tint=this._tint,P.push(j),S[I]=j}S[I].total++}for(y=0;y<O.length;y++)-1===P.indexOf(O[y])&&this.removeChild(O[y].mesh);for(y=0;y<P.length;y++)P[y].mesh.parent!==this&&this.addChild(P[y].mesh);for(var y in this._activePagesMeshData=P,S){var D=(j=S[y]).total;(null===(t=j.indices)||void 0===t?void 0:t.length)>6*D&&!(j.vertices.length<2*uo.BATCHABLE_SIZE)||(j.vertices=new Float32Array(8*D),j.uvs=new Float32Array(8*D),j.indices=new Uint16Array(6*D)),j.mesh.size=6*D}for(y=0;y<A;y++){var R,N=((_=n[y]).position.x+E[_.line])*r,L=_.position.y*r,F=S[(R=_.texture).baseTexture.uid],U=R.frame,B=R._uvs,k=F.index++;F.indices[6*k+0]=0+4*k,F.indices[6*k+1]=1+4*k,F.indices[6*k+2]=2+4*k,F.indices[6*k+3]=0+4*k,F.indices[6*k+4]=2+4*k,F.indices[6*k+5]=3+4*k,F.vertices[8*k+0]=N,F.vertices[8*k+1]=L,F.vertices[8*k+2]=N+U.width*r,F.vertices[8*k+3]=L,F.vertices[8*k+4]=N+U.width*r,F.vertices[8*k+5]=L+U.height*r,F.vertices[8*k+6]=N,F.vertices[8*k+7]=L+U.height*r,F.uvs[8*k+0]=B.x0,F.uvs[8*k+1]=B.y0,F.uvs[8*k+2]=B.x1,F.uvs[8*k+3]=B.y1,F.uvs[8*k+4]=B.x2,F.uvs[8*k+5]=B.y2,F.uvs[8*k+6]=B.x3,F.uvs[8*k+7]=B.y3}for(var y in this._textWidth=c*r,this._textHeight=(i.y+e.lineHeight)*r,S){var j=S[y];if(0!==this.anchor.x||0!==this.anchor.y)for(var H=0,X=this._textWidth*this.anchor.x,G=this._textHeight*this.anchor.y,z=0;z<j.total;z++)j.vertices[H++]-=X,j.vertices[H++]-=G,j.vertices[H++]-=X,j.vertices[H++]-=G,j.vertices[H++]-=X,j.vertices[H++]-=G,j.vertices[H++]-=X,j.vertices[H++]-=G;this._maxLineHeight=v*r;var Y=j.mesh.geometry.getBuffer("aVertexPosition"),V=j.mesh.geometry.getBuffer("aTextureCoord"),W=j.mesh.geometry.getIndex();Y.data=j.vertices,V.data=j.uvs,W.data=j.indices,Y.update(),V.update(),W.update()}for(y=0;y<n.length;y++)bo.push(n[y])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!_o.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype._upgradeStyle=function(t){if("string"==typeof t.font){var e=t.font.split(" ");t.fontName=1===e.length?e[0]:e.slice(1).join(" "),e.length>=2&&(t.fontSize=parseInt(e[0],10))}else t.fontName=t.font.name,t.fontSize="number"==typeof t.font.size?t.font.size:parseInt(t.font.size,10)},e.registerFont=function(t,e){return dt("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),_o.install(t,e)},Object.defineProperty(e,"fonts",{get:function(){return dt("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),_o.available},enumerable:!1,configurable:!0}),e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0}}(Vt),function(){function t(){}return t.add=function(){Ni.setExtensionXhrType("fnt",Ni.XHR_RESPONSE_TYPE.DOCUMENT)},t.use=function(e,r){var i=vo(e.data);if(i)for(var n=t.getBaseUrl(this,e),o=i.parse(e.data),s={},a=function(t){s[t.metadata.pageFile]=t.texture,Object.keys(s).length===o.page.length&&(e.bitmapFont=_o.install(o,s),r())},h=0;h<o.page.length;++h){var u=o.page[h].file,l=n+u,c=!1;for(var d in this.resources){var p=this.resources[d];if(p.url===l){p.metadata.pageFile=u,p.texture?a(p):p.onAfterMiddleware.add(a),c=!0;break}}if(!c){var f={crossOrigin:e.crossOrigin,loadType:Ni.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},e.metadata.imageMetadata),parentResource:e};this.add(l,f,a)}}else r()},t.getBaseUrl=function(e,r){var i=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&("."===i&&(i=""),e.baseUrl&&i&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(i+="/")),(i=i.replace(e.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t}()),Eo=function(t,e){return(Eo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){function e(e){void 0===e&&(e=1);var r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return r.alpha=e,r}(function(t,e){function r(){this.constructor=t}Eo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0})}(Mr);var wo=function(t,e){return(wo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Ao(t,e){function r(){this.constructor=t}wo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var So,Po,Oo,Io,Co,Mo,Do,Ro,No,Lo,Fo,Uo,Bo,ko,jo,Ho,Xo,Go={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},zo=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(So||(So={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Po||(Po={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(Oo||(Oo={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(Io||(Io={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Co||(Co={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Mo||(Mo={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Do||(Do={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(Ro||(Ro={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(No||(No={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Lo||(Lo={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(Fo||(Fo={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(Uo||(Uo={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(Bo||(Bo={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(ko||(ko={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(jo||(jo={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(Ho||(Ho={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(Xo||(Xo={}));var Yo=function(t){function e(e,r,i,n,o){void 0===r&&(r=8),void 0===i&&(i=4),void 0===n&&(n=G.RESOLUTION),void 0===o&&(o=5);var s=this,a=function(t,e){var r,i=Math.ceil(t/2),n="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=r.replace("%index%",s.toString());o+=a=a.replace("%sampleIndex%",s-(i-1)+".0"),o+="\n"}return(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o,e),h=function(t){for(var e,r=Go[t],i=r.length,n=zo,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString());e=s,s>=i&&(e=t-s-1),o+=a=a.replace("%value%",r[e].toString()),o+="\n"}return(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o);return(s=t.call(this,a,h)||this).horizontal=e,s.resolution=n,s._quality=0,s.quality=i,s.blur=r,s}return Ao(e,t),e.prototype.apply=function(t,e,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{var n=t.getFilterTexture(),o=t.renderer,s=e,a=n;this.state.blend=!1,t.applyFilter(this,s,a,Bo.CLEAR);for(var h=1;h<this.passes-1;h++){t.bindAndClear(s,Bo.BLIT),this.uniforms.uSampler=a;var u=a;a=s,s=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,r,i),t.returnFilterTexture(n)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(Mr),Vo=(function(t){function e(e,r,i,n){void 0===e&&(e=8),void 0===r&&(r=4),void 0===i&&(i=G.RESOLUTION),void 0===n&&(n=5);var o=t.call(this)||this;return o.blurXFilter=new Yo(!0,e,r,i,n),o.blurYFilter=new Yo(!1,e,r,i,n),o.resolution=i,o.quality=r,o.blur=e,o.repeatEdgePixels=!1,o}Ao(e,t),e.prototype.apply=function(t,e,r,i){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,Bo.CLEAR),this.blurYFilter.apply(t,s,r,i),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,r,i):this.blurXFilter.apply(t,e,r,i)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0})}(Mr),function(t,e){return(Vo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)}),Wo=function(t){function e(){var e=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,ti,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)||this).alpha=1,e}return function(t,e){function r(){this.constructor=t}Vo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),s=[r+(1-r)*n,n*(1-r)-o*i,n*(1-r)+o*i,0,0,n*(1-r)+o*i,r+n*(1-r),n*(1-r)-o*i,0,0,n*(1-r)-o*i,n*(1-r)+o*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,i,n){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,h=((i=i||3375104)>>16&255)/255,u=(i>>8&255)/255,l=(255&i)/255,c=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,h,u,l,e=e||.15,0,o-h,s-u,a-l,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(Mr);Wo.prototype.grayscale=Wo.prototype.greyscale;var qo=function(t,e){return(qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){function e(e,r){var i=this,n=new Ct;return e.renderable=!1,(i=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,i.maskMatrix=n,null==r&&(r=20),i.scale=new Ot(r,r),i}(function(t,e){function r(){this.constructor=t}qo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),e.prototype.apply=function(t,e,r,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,r,i)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0})}(Mr);var Zo,Ko=function(t,e){return(Ko=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};(function(t,e){function r(){this.constructor=t}Ko(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})((function(){return Zo.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}),Zo=Mr);var Jo=function(t,e){return(Jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var i=t.call(this,ti,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return i.noise=e,i.seed=r,i}(function(t,e){function r(){this.constructor=t}Jo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0})}(Mr);var Qo=new Ct;Gt.prototype._cacheAsBitmap=!1,Gt.prototype._cacheData=null;var $o=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Gt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new $o),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),Gt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Gt.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters){var i=this.filters[0].padding;r.pad(i)}r.ceil(G.RESOLUTION);var n=t.renderTexture.current,o=t.renderTexture.sourceFrame.clone(),s=t.projection.transform,a=De.create({width:r.width,height:r.height}),h="cacheAsBitmap_"+lt();this._cacheData.textureCacheId=h,fe.addToCache(a.baseTexture,h),Ce.addToCache(a,h);var u=this.transform.localTransform.copyTo(Qo).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,a,!0,u,!1),t.projection.transform=s,t.renderTexture.bind(n,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new An(a);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-r.x/r.width,l.anchor.y=-r.y/r.height,l.alpha=e,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=l.containsPoint.bind(l)}},Gt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Gt.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var i=t.context,n=t._projTransform;e.ceil(G.RESOLUTION);var o=De.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+lt();this._cacheData.textureCacheId=s,fe.addToCache(o.baseTexture,s),Ce.addToCache(o,s);var a=Qo;this.transform.localTransform.copyTo(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,o,!0,a,!1),t.context=i,t._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new An(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-e.x/e.width,h.anchor.y=-e.y/e.height,h.alpha=r,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}},Gt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Gt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Gt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,fe.removeFromCache(this._cacheData.textureCacheId),Ce.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Gt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},Gt.prototype.name=null,Vt.prototype.getChildByName=function(t,e){for(var r=0,i=this.children.length;r<i;r++)if(this.children[r].name===t)return this.children[r];if(e)for(r=0,i=this.children.length;r<i;r++)if(this.children[r].getChildByName){var n=this.children[r].getChildByName(t,!0);if(n)return n}return null},Gt.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new Ot),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var ts=function(t,e){return(ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function es(t,e){function r(){this.constructor=t}ts(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var rs=function(t){function e(e,r,i,n){void 0===e&&(e=100),void 0===r&&(r=100),void 0===i&&(i=10),void 0===n&&(n=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=n,o.width=e,o.height=r,o.build(),o}return es(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],i=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,h=0;h<t;h++){var u=h%this.segWidth,l=h/this.segWidth|0;e.push(u*s,l*a),r.push(u/n,l/o)}var c=n*o;for(h=0;h<c;h++){var d=h%n,p=h/n|0,f=p*this.segWidth+d,m=p*this.segWidth+d+1,v=(p+1)*this.segWidth+d,y=(p+1)*this.segWidth+d+1;i.push(f,m,v,m,y,v)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(co),is=function(t){function e(e,r,i){void 0===e&&(e=200),void 0===i&&(i=0);var n=t.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return n.points=r,n._width=e,n.textureScale=i,n.build(),n}return es(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),i.data=new Uint16Array(6*(t.length-1)));var n=r.data,o=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=0,a=t[0],h=this._width*this.textureScale,u=t.length,l=0;l<u;l++){var c=4*l;if(this.textureScale>0){var d=a.x-t[l].x,p=a.y-t[l].y,f=Math.sqrt(d*d+p*p);a=t[l],s+=f/h}else s=l/(u-1);n[c]=s,n[c+1]=0,n[c+2]=s,n[c+3]=1}var m=0;for(l=0;l<u-1;l++)c=2*l,o[m++]=c,o[m++]=c+1,o[m++]=c+2,o[m++]=c+2,o[m++]=c+1,o[m++]=c+3;r.update(),i.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,r=t[0],i=0,n=0,o=this.buffers[0].data,s=t.length,a=0;a<s;a++){var h=t[a],u=4*a;n=-((e=a<t.length-1?t[a+1]:h).x-r.x),i=e.y-r.y;var l=Math.sqrt(i*i+n*n),c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;i/=l,n/=l,i*=c,n*=c,o[u]=h.x+i,o[u+1]=h.y+n,o[u+2]=h.x-i,o[u+3]=h.y-n,r=h}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(co),ns=(function(t){function e(e,r,i){void 0===i&&(i=0);var n=this,o=new is(e.height,r,i),s=new lo(e);return i>0&&(e.baseTexture.wrapMode=g.REPEAT),(n=t.call(this,o,s)||this).autoUpdate=!0,n}es(e,t),e.prototype._render=function(e){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),t.prototype._render.call(this,e)}}(uo),function(t){function e(e,r,i){var n=this,o=new rs(e.width,e.height,r,i),s=new lo(Ce.WHITE);return(n=t.call(this,o,s)||this).texture=e,n}return es(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e}(uo)),os=(function(t){function e(e,r,i,n,o){void 0===e&&(e=Ce.EMPTY);var s=this,a=new co(r,i,n);a.getBuffer("aVertexPosition").static=!1;var h=new lo(e);return(s=t.call(this,a,h,null,o)||this).autoUpdate=!0,s}es(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)}}(uo),function(t){function e(e,r,i,n,o){void 0===r&&(r=10),void 0===i&&(i=10),void 0===n&&(n=10),void 0===o&&(o=10);var s=t.call(this,Ce.WHITE,4,4)||this;return s._origWidth=e.orig.width,s._origHeight=e.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=r,s._rightWidth=n,s._topHeight=i,s._bottomHeight=o,s.texture=e,s}es(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(e,i)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}(ns),function(t,e){return(os=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)});!function(t){function e(e,r){void 0===r&&(r=!0);var i=t.call(this,e[0]instanceof Ce?e[0]:e[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=r,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=e,i}(function(t,e){function r(){this.constructor=t}os(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Kt.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Kt.shared.add(this.update,this,Wt.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var r=[],i=0;i<t.length;++i)r.push(Ce.from(t[i]));return new e(r)},e.fromImages=function(t){for(var r=[],i=0;i<t.length;++i)r.push(Ce.from(t[i]));return new e(r)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof Ce)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Kt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Kt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0})}(An),$r.registerPlugin("accessibility",qt),$r.registerPlugin("extract",pi),$r.registerPlugin("interaction",oe),$r.registerPlugin("particle",zi),$r.registerPlugin("prepare",Zn),$r.registerPlugin("batch",ui),$r.registerPlugin("tilingSprite",io),Ui.registerPlugin(To),Ui.registerPlugin(Jn),li.registerPlugin(Jt),li.registerPlugin(Bi);const ss=new li;document.body.appendChild(ss.view),ss.loader.add("bunny","bunny.png").load(((t,e)=>{const r=new An(e.bunny.texture);r.x=ss.renderer.width/2,r.y=ss.renderer.height/2,r.anchor.x=.5,r.anchor.y=.5,ss.stage.addChild(r),ss.ticker.add((()=>{r.rotation+=.01}))}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvZWFyY3V0L3NyYy9lYXJjdXQuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL2VzNi1wcm9taXNlLXBvbHlmaWxsL3Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL2V2ZW50ZW1pdHRlcjMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL21pbmktc2lnbmFscy9saWIvbWluaS1zaWduYWxzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9wYXJzZS11cmkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL3B1bnljb2RlL3B1bnljb2RlLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy9kZWNvZGUuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nL2VuY29kZS5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL3VybC91cmwuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL3VybC91dGlsLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9waXhpLWdhbWUvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9waXhpLWdhbWUvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9waXhpLWdhbWUvd2VicGFjay9ydW50aW1lL25vZGUgbW9kdWxlIGRlY29yYXRvciIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvcG9seWZpbGwvbGliL3BvbHlmaWxsLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9pc21vYmlsZWpzL2VzbS9pc01vYmlsZS5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29uc3RhbnRzL2xpYi9jb25zdGFudHMuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3NldHRpbmdzL2xpYi9zZXR0aW5ncy5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL3V0aWxzLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9tYXRoL2xpYi9tYXRoLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9kaXNwbGF5L2xpYi9kaXNwbGF5LmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9hY2Nlc3NpYmlsaXR5L2xpYi9hY2Nlc3NpYmlsaXR5LmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90aWNrZXIvbGliL3RpY2tlci5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvaW50ZXJhY3Rpb24vbGliL2ludGVyYWN0aW9uLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9ydW5uZXIvbGliL3J1bm5lci5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvY29yZS5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXBwL2xpYi9hcHAuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2V4dHJhY3QvbGliL2V4dHJhY3QuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9kaXN0L3Jlc291cmNlLWxvYWRlci5lc20uanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2xvYWRlcnMvbGliL2xvYWRlcnMuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3BhcnRpY2xlcy9saWIvcGFydGljbGVzLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9ncmFwaGljcy9saWIvZ3JhcGhpY3MuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQvbGliL3RleHQuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS9saWIvc3ByaXRlLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9wcmVwYXJlL2xpYi9wcmVwYXJlLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGVzaGVldC9saWIvc3ByaXRlc2hlZXQuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS10aWxpbmcvbGliL3Nwcml0ZS10aWxpbmcuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gvbGliL21lc2guZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQtYml0bWFwL2xpYi90ZXh0LWJpdG1hcC5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWFscGhhL2xpYi9maWx0ZXItYWxwaGEuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1ibHVyL2xpYi9maWx0ZXItYmx1ci5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeC9saWIvZmlsdGVyLWNvbG9yLW1hdHJpeC5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudC9saWIvZmlsdGVyLWRpc3BsYWNlbWVudC5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWZ4YWEvbGliL2ZpbHRlci1meGFhLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItbm9pc2UvbGliL2ZpbHRlci1ub2lzZS5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwL2xpYi9taXhpbi1jYWNoZS1hcy1iaXRtYXAuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21peGluLWdldC1jaGlsZC1ieS1uYW1lL2xpYi9taXhpbi1nZXQtY2hpbGQtYnktbmFtZS5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbi9saWIvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbi5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWVzaC1leHRyYXMvbGliL21lc2gtZXh0cmFzLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGUtYW5pbWF0ZWQvbGliL3Nwcml0ZS1hbmltYXRlZC5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcGl4aS5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiZWFyY3V0IiwiZGF0YSIsImhvbGVJbmRpY2VzIiwiZGltIiwibWluWCIsIm1pblkiLCJtYXhYIiwibWF4WSIsIngiLCJ5IiwiaW52U2l6ZSIsImhhc0hvbGVzIiwibGVuZ3RoIiwib3V0ZXJMZW4iLCJvdXRlck5vZGUiLCJsaW5rZWRMaXN0IiwidHJpYW5nbGVzIiwibmV4dCIsInByZXYiLCJpIiwibGVuIiwibGlzdCIsInF1ZXVlIiwic3RlaW5lciIsInB1c2giLCJnZXRMZWZ0bW9zdCIsInNvcnQiLCJjb21wYXJlWCIsImVsaW1pbmF0ZUhvbGUiLCJmaWx0ZXJQb2ludHMiLCJlbGltaW5hdGVIb2xlcyIsIk1hdGgiLCJtYXgiLCJlYXJjdXRMaW5rZWQiLCJzdGFydCIsImVuZCIsImNsb2Nrd2lzZSIsImxhc3QiLCJzaWduZWRBcmVhIiwiaW5zZXJ0Tm9kZSIsImVxdWFscyIsInJlbW92ZU5vZGUiLCJhZ2FpbiIsInAiLCJhcmVhIiwiZWFyIiwicGFzcyIsInoiLCJ6T3JkZXIiLCJwcmV2WiIsIm5leHRaIiwicSIsImUiLCJ0YWlsIiwibnVtTWVyZ2VzIiwicFNpemUiLCJxU2l6ZSIsImluU2l6ZSIsInNvcnRMaW5rZWQiLCJpbmRleEN1cnZlIiwic3RvcCIsImlzRWFySGFzaGVkIiwiaXNFYXIiLCJjdXJlTG9jYWxJbnRlcnNlY3Rpb25zIiwic3BsaXRFYXJjdXQiLCJhIiwiYiIsImMiLCJwb2ludEluVHJpYW5nbGUiLCJtaW5UWCIsIm1pblRZIiwibWF4VFgiLCJtYXhUWSIsIm1pbloiLCJtYXhaIiwibiIsImludGVyc2VjdHMiLCJsb2NhbGx5SW5zaWRlIiwiaXNWYWxpZERpYWdvbmFsIiwic3BsaXRQb2x5Z29uIiwiaG9sZSIsIm0iLCJoeCIsImh5IiwicXgiLCJ0YW4iLCJteCIsIm15IiwidGFuTWluIiwiSW5maW5pdHkiLCJhYnMiLCJzZWN0b3JDb250YWluc1NlY3RvciIsImZpbmRIb2xlQnJpZGdlIiwibGVmdG1vc3QiLCJheCIsImF5IiwiYngiLCJieSIsImN4IiwiY3kiLCJweCIsInB5IiwiaW50ZXJzZWN0c1BvbHlnb24iLCJpbnNpZGUiLCJtaWRkbGVJbnNpZGUiLCJyIiwicDEiLCJwMiIsInExIiwicTIiLCJvMSIsInNpZ24iLCJvMiIsIm8zIiwibzQiLCJvblNlZ21lbnQiLCJtaW4iLCJudW0iLCJhMiIsIk5vZGUiLCJiMiIsImFuIiwiYnAiLCJ0aGlzIiwic3VtIiwiaiIsIm1vZHVsZSIsImV4cG9ydHMiLCJkZWZhdWx0IiwiZGV2aWF0aW9uIiwicG9seWdvbkFyZWEiLCJ0cmlhbmdsZXNBcmVhIiwiZmxhdHRlbiIsInJlc3VsdCIsInZlcnRpY2VzIiwiaG9sZXMiLCJkaW1lbnNpb25zIiwiaG9sZUluZGV4IiwiZCIsIk5hdGl2ZVByb21pc2UiLCJnbG9iYWwiLCJuYXRpdmVQcm9taXNlU3VwcG9ydGVkIiwicmVzb2x2ZSIsIlByb21pc2UiLCJQb2x5ZmlsbCIsIlBFTkRJTkciLCJTRUFMRUQiLCJGVUxGSUxMRUQiLCJSRUpFQ1RFRCIsIk5PT1AiLCJpc0FycmF5IiwidmFsdWUiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJhc3luY1RpbWVyIiwiYXN5bmNTZXRUaW1lciIsInNldEltbWVkaWF0ZSIsInNldFRpbWVvdXQiLCJhc3luY1F1ZXVlIiwiYXN5bmNGbHVzaCIsImFzeW5jQ2FsbCIsImNhbGxiYWNrIiwiYXJnIiwiaW52b2tlQ2FsbGJhY2siLCJzdWJzY3JpYmVyIiwib3duZXIiLCJzZXR0bGVkIiwic3RhdGVfIiwiZGF0YV8iLCJwcm9taXNlIiwidGhlbiIsInJlamVjdCIsImhhbmRsZVRoZW5hYmxlIiwicmVzb2x2ZWQiLCJUeXBlRXJyb3IiLCJ2YWwiLCJmdWxmaWxsIiwicmVhc29uIiwicHVibGlzaEZ1bGZpbGxtZW50IiwicHVibGlzaFJlamVjdGlvbiIsInB1Ymxpc2giLCJjYWxsYmFja3MiLCJ0aGVuXyIsInVuZGVmaW5lZCIsInJlc29sdmVyIiwicmVqZWN0UHJvbWlzZSIsImludm9rZVJlc29sdmVyIiwiY29uc3RydWN0b3IiLCJvbkZ1bGZpbGxtZW50Iiwib25SZWplY3Rpb24iLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsImFsbCIsInByb21pc2VzIiwicmVzdWx0cyIsInJlbWFpbmluZyIsImluZGV4IiwicmFjZSIsIndpbmRvdyIsImciLCJzZWxmIiwiaGFzIiwiaGFzT3duUHJvcGVydHkiLCJwcmVmaXgiLCJFdmVudHMiLCJFRSIsImZuIiwiY29udGV4dCIsIm9uY2UiLCJhZGRMaXN0ZW5lciIsImVtaXR0ZXIiLCJldmVudCIsImxpc3RlbmVyIiwiZXZ0IiwiX2V2ZW50cyIsIl9ldmVudHNDb3VudCIsImNsZWFyRXZlbnQiLCJFdmVudEVtaXR0ZXIiLCJjcmVhdGUiLCJfX3Byb3RvX18iLCJldmVudE5hbWVzIiwiZXZlbnRzIiwibmFtZSIsIm5hbWVzIiwic2xpY2UiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJjb25jYXQiLCJsaXN0ZW5lcnMiLCJoYW5kbGVycyIsImwiLCJlZSIsIkFycmF5IiwibGlzdGVuZXJDb3VudCIsImVtaXQiLCJhMSIsImEzIiwiYTQiLCJhNSIsImFyZ3MiLCJhcmd1bWVudHMiLCJyZW1vdmVMaXN0ZW5lciIsImFwcGx5Iiwib24iLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJvZmYiLCJwcmVmaXhlZCIsImRlZmluZVByb3BlcnR5IiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImtleSIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJNaW5pU2lnbmFsQmluZGluZyIsInRoaXNBcmciLCJfZm4iLCJfb25jZSIsIl90aGlzQXJnIiwiX25leHQiLCJfcHJldiIsIl9vd25lciIsImRldGFjaCIsIl9hZGRNaW5pU2lnbmFsQmluZGluZyIsIm5vZGUiLCJfaGVhZCIsIl90YWlsIiwiTWluaVNpZ25hbCIsImV4aXN0cyIsIkVycm9yIiwicHJvcElzRW51bWVyYWJsZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidG9PYmplY3QiLCJhc3NpZ24iLCJ0ZXN0MSIsIlN0cmluZyIsImdldE93blByb3BlcnR5TmFtZXMiLCJ0ZXN0MiIsImZyb21DaGFyQ29kZSIsIm1hcCIsImpvaW4iLCJ0ZXN0MyIsInNwbGl0IiwiZm9yRWFjaCIsImxldHRlciIsImtleXMiLCJlcnIiLCJzaG91bGRVc2VOYXRpdmUiLCJzb3VyY2UiLCJmcm9tIiwic3ltYm9scyIsInRvIiwicyIsInN0ciIsIm9wdHMiLCJvIiwicGFyc2VyIiwic3RyaWN0IiwibG9vc2UiLCJzdHJpY3RNb2RlIiwiZXhlYyIsInVyaSIsInJlcGxhY2UiLCIkMCIsIiQxIiwiJDIiLCJyb290Iiwibm9kZVR5cGUiLCJmcmVlR2xvYmFsIiwicHVueWNvZGUiLCJtYXhJbnQiLCJiYXNlIiwicmVnZXhQdW55Y29kZSIsInJlZ2V4Tm9uQVNDSUkiLCJyZWdleFNlcGFyYXRvcnMiLCJlcnJvcnMiLCJmbG9vciIsInN0cmluZ0Zyb21DaGFyQ29kZSIsImVycm9yIiwidHlwZSIsIlJhbmdlRXJyb3IiLCJhcnJheSIsIm1hcERvbWFpbiIsInN0cmluZyIsInBhcnRzIiwidWNzMmRlY29kZSIsImV4dHJhIiwib3V0cHV0IiwiY291bnRlciIsImNoYXJDb2RlQXQiLCJ1Y3MyZW5jb2RlIiwiZGlnaXRUb0Jhc2ljIiwiZGlnaXQiLCJmbGFnIiwiYWRhcHQiLCJkZWx0YSIsIm51bVBvaW50cyIsImZpcnN0VGltZSIsImsiLCJiYXNlTWludXNUTWluIiwiZGVjb2RlIiwiaW5wdXQiLCJvdXQiLCJiYXNpYyIsIm9sZGkiLCJ3IiwidCIsImJhc2VNaW51c1QiLCJjb2RlUG9pbnQiLCJpbnB1dExlbmd0aCIsImJpYXMiLCJsYXN0SW5kZXhPZiIsInNwbGljZSIsImVuY29kZSIsImhhbmRsZWRDUENvdW50IiwiYmFzaWNMZW5ndGgiLCJjdXJyZW50VmFsdWUiLCJoYW5kbGVkQ1BDb3VudFBsdXNPbmUiLCJxTWludXNUIiwidGVzdCIsInRvTG93ZXJDYXNlIiwib2JqIiwicHJvcCIsInFzIiwic2VwIiwiZXEiLCJvcHRpb25zIiwicmVnZXhwIiwibWF4S2V5cyIsImtzdHIiLCJ2c3RyIiwidiIsImlkeCIsImluZGV4T2YiLCJzdWJzdHIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJzdHJpbmdpZnlQcmltaXRpdmUiLCJpc0Zpbml0ZSIsImtzIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicGFyc2UiLCJzdHJpbmdpZnkiLCJ1dGlsIiwiVXJsIiwicHJvdG9jb2wiLCJzbGFzaGVzIiwiYXV0aCIsImhvc3QiLCJwb3J0IiwiaG9zdG5hbWUiLCJoYXNoIiwic2VhcmNoIiwicXVlcnkiLCJwYXRobmFtZSIsInBhdGgiLCJocmVmIiwidXJsUGFyc2UiLCJyZWxhdGl2ZSIsInJlc29sdmVPYmplY3QiLCJmb3JtYXQiLCJpc1N0cmluZyIsInByb3RvY29sUGF0dGVybiIsInBvcnRQYXR0ZXJuIiwic2ltcGxlUGF0aFBhdHRlcm4iLCJ1bndpc2UiLCJhdXRvRXNjYXBlIiwibm9uSG9zdENoYXJzIiwiaG9zdEVuZGluZ0NoYXJzIiwiaG9zdG5hbWVQYXJ0UGF0dGVybiIsImhvc3RuYW1lUGFydFN0YXJ0IiwidW5zYWZlUHJvdG9jb2wiLCJob3N0bGVzc1Byb3RvY29sIiwic2xhc2hlZFByb3RvY29sIiwicXVlcnlzdHJpbmciLCJ1cmwiLCJwYXJzZVF1ZXJ5U3RyaW5nIiwic2xhc2hlc0Rlbm90ZUhvc3QiLCJpc09iamVjdCIsInUiLCJxdWVyeUluZGV4Iiwic3BsaXR0ZXIiLCJ1U3BsaXQiLCJyZXN0IiwidHJpbSIsInNpbXBsZVBhdGgiLCJwcm90byIsImxvd2VyUHJvdG8iLCJtYXRjaCIsImF0U2lnbiIsImhvc3RFbmQiLCJoZWMiLCJwYXJzZUhvc3QiLCJpcHY2SG9zdG5hbWUiLCJob3N0cGFydHMiLCJwYXJ0IiwibmV3cGFydCIsInZhbGlkUGFydHMiLCJub3RIb3N0IiwiYml0IiwidW5zaGlmdCIsInRvQVNDSUkiLCJoIiwiYWUiLCJlc2MiLCJlc2NhcGUiLCJxbSIsImNoYXJBdCIsInJlbCIsInRrZXlzIiwidGsiLCJ0a2V5IiwicmtleXMiLCJyayIsInJrZXkiLCJyZWxQYXRoIiwic2hpZnQiLCJpc1NvdXJjZUFicyIsImlzUmVsQWJzIiwibXVzdEVuZEFicyIsInJlbW92ZUFsbERvdHMiLCJzcmNQYXRoIiwicHN5Y2hvdGljIiwicG9wIiwiaXNOdWxsT3JVbmRlZmluZWQiLCJhdXRoSW5Ib3N0IiwiaXNOdWxsIiwiaGFzVHJhaWxpbmdTbGFzaCIsInVwIiwiaXNBYnNvbHV0ZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImlkIiwibG9hZGVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkZWZpbml0aW9uIiwiZ2V0IiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwibm1kIiwicGF0aHMiLCJjaGlsZHJlbiIsIkRhdGUiLCJub3ciLCJnZXRUaW1lIiwicGVyZm9ybWFuY2UiLCJzdGFydFRpbWVfMSIsImxhc3RUaW1lIiwidmVuZG9ycyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY3VycmVudFRpbWUiLCJkZWxheSIsImNsZWFyVGltZW91dCIsIk51bWJlciIsImlzTmFOIiwiaXNJbnRlZ2VyIiwiQXJyYXlCdWZmZXIiLCJGbG9hdDMyQXJyYXkiLCJVaW50MzJBcnJheSIsIlVpbnQxNkFycmF5IiwiVWludDhBcnJheSIsIkludDMyQXJyYXkiLCJFTlYiLCJSRU5ERVJFUl9UWVBFIiwiQlVGRkVSX0JJVFMiLCJCTEVORF9NT0RFUyIsIkRSQVdfTU9ERVMiLCJGT1JNQVRTIiwiVEFSR0VUUyIsIlRZUEVTIiwiU0NBTEVfTU9ERVMiLCJXUkFQX01PREVTIiwiTUlQTUFQX01PREVTIiwiQUxQSEFfTU9ERVMiLCJDTEVBUl9NT0RFUyIsIkdDX01PREVTIiwiUFJFQ0lTSU9OIiwiTUFTS19UWVBFUyIsIk1TQUFfUVVBTElUWSIsImFwcGxlSXBob25lIiwiYXBwbGVJcG9kIiwiYXBwbGVUYWJsZXQiLCJhcHBsZVVuaXZlcnNhbCIsImFuZHJvaWRQaG9uZSIsImFuZHJvaWRUYWJsZXQiLCJhbWF6b25QaG9uZSIsImFtYXpvblRhYmxldCIsIndpbmRvd3NQaG9uZSIsIndpbmRvd3NUYWJsZXQiLCJvdGhlckJsYWNrQmVycnkiLCJvdGhlckJsYWNrQmVycnkxMCIsIm90aGVyT3BlcmEiLCJvdGhlckNocm9tZSIsIm90aGVyRmlyZWZveCIsImlzQXBwbGVUYWJsZXRPbklvczEzIiwibmF2aWdhdG9yIiwicGxhdGZvcm0iLCJtYXhUb3VjaFBvaW50cyIsIk1TU3RyZWFtIiwicGFyYW0iLCJuYXYiLCJ1c2VyQWdlbnQiLCJ0bXAiLCJyZWdleCIsImNyZWF0ZU1hdGNoIiwiYXBwbGUiLCJwaG9uZSIsImlwb2QiLCJ0YWJsZXQiLCJ1bml2ZXJzYWwiLCJkZXZpY2UiLCJhbWF6b24iLCJhbmRyb2lkIiwid2luZG93cyIsIm90aGVyIiwiYmxhY2tiZXJyeSIsImJsYWNrYmVycnkxMCIsIm9wZXJhIiwiZmlyZWZveCIsImNocm9tZSIsImFueSIsImlzTW9iaWxlIiwic2V0dGluZ3MiLCJNSVBNQVBfVEVYVFVSRVMiLCJBTklTT1RST1BJQ19MRVZFTCIsIlJFU09MVVRJT04iLCJGSUxURVJfUkVTT0xVVElPTiIsIlNQUklURV9NQVhfVEVYVFVSRVMiLCJhbGxvd01heCIsInBhcnNlSW50IiwibWF4UmVjb21tZW5kZWRUZXh0dXJlcyIsIlNQUklURV9CQVRDSF9TSVpFIiwiUkVOREVSX09QVElPTlMiLCJ2aWV3IiwiYW50aWFsaWFzIiwiYXV0b0RlbnNpdHkiLCJ0cmFuc3BhcmVudCIsImJhY2tncm91bmRDb2xvciIsImNsZWFyQmVmb3JlUmVuZGVyIiwicHJlc2VydmVEcmF3aW5nQnVmZmVyIiwid2lkdGgiLCJoZWlnaHQiLCJsZWdhY3kiLCJHQ19NT0RFIiwiR0NfTUFYX0lETEUiLCJHQ19NQVhfQ0hFQ0tfQ09VTlQiLCJXUkFQX01PREUiLCJTQ0FMRV9NT0RFIiwiUFJFQ0lTSU9OX1ZFUlRFWCIsIlBSRUNJU0lPTl9GUkFHTUVOVCIsIkNBTl9VUExPQURfU0FNRV9CVUZGRVIiLCJDUkVBVEVfSU1BR0VfQklUTUFQIiwiUk9VTkRfUElYRUxTIiwiUkVUSU5BX1BSRUZJWCIsIkZBSUxfSUZfTUFKT1JfUEVSRk9STUFOQ0VfQ0FWRUFUIiwic3VwcG9ydGVkIiwic2FpZEhlbGxvIiwiaGV4MnJnYiIsImhleCIsImhleDJzdHJpbmciLCJoZXhTdHJpbmciLCJzdHJpbmcyaGV4IiwicHJlbXVsdGlwbHlCbGVuZE1vZGUiLCJwbSIsIm5wbSIsIk5PUk1BTF9OUE0iLCJOT1JNQUwiLCJBRERfTlBNIiwiQUREIiwiU0NSRUVOX05QTSIsIlNDUkVFTiIsIm1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzIiwiY29ycmVjdEJsZW5kTW9kZSIsImJsZW5kTW9kZSIsInByZW11bHRpcGxpZWQiLCJwcmVtdWx0aXBseVRpbnQiLCJ0aW50IiwiYWxwaGEiLCJSIiwiRyIsIkIiLCJwcmVtdWx0aXBseVRpbnRUb1JnYmEiLCJwcmVtdWx0aXBseSIsIm5leHRQb3cyIiwiaXNQb3cyIiwibG9nMiIsInJlbW92ZUl0ZW1zIiwiYXJyIiwic3RhcnRJZHgiLCJyZW1vdmVDb3VudCIsIm5leHRVaWQiLCJ1aWQiLCJ3YXJuaW5ncyIsInZlcnNpb24iLCJtZXNzYWdlIiwiaWdub3JlRGVwdGgiLCJzdGFjayIsImNvbnNvbGUiLCJ3YXJuIiwiZ3JvdXBDb2xsYXBzZWQiLCJncm91cEVuZCIsInRlbXBBbmNob3IiLCJQcm9ncmFtQ2FjaGUiLCJUZXh0dXJlQ2FjaGUiLCJCYXNlVGV4dHVyZUNhY2hlIiwiQ2FudmFzUmVuZGVyVGFyZ2V0IiwicmVzb2x1dGlvbiIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImdldENvbnRleHQiLCJyZXNpemUiLCJjbGVhciIsInNldFRyYW5zZm9ybSIsImNsZWFyUmVjdCIsImRlc3Ryb3kiLCJzZXQiLCJnZXRSZXNvbHV0aW9uT2ZVcmwiLCJkZWZhdWx0VmFsdWUiLCJwYXJzZUZsb2F0IiwiU0hBUEVTIiwiUElfMiIsIlBJIiwiUkFEX1RPX0RFRyIsIkRFR19UT19SQUQiLCJSZWN0YW5nbGUiLCJSRUNUIiwiY2xvbmUiLCJjb3B5RnJvbSIsInJlY3RhbmdsZSIsImNvcHlUbyIsImNvbnRhaW5zIiwicGFkIiwicGFkZGluZ1giLCJwYWRkaW5nWSIsImZpdCIsIngxIiwieDIiLCJ5MSIsInkyIiwiY2VpbCIsImVwcyIsImVubGFyZ2UiLCJDaXJjbGUiLCJyYWRpdXMiLCJDSVJDIiwicjIiLCJkeCIsImR5IiwiZ2V0Qm91bmRzIiwiRWxsaXBzZSIsImhhbGZXaWR0aCIsImhhbGZIZWlnaHQiLCJFTElQIiwibm9ybXgiLCJub3JteSIsIlBvbHlnb24iLCJhcmd1bWVudHMkMSIsInBvaW50cyIsIl9pIiwiZmxhdCIsImlsIiwiUE9MWSIsImNsb3NlU3Ryb2tlIiwicG9seWdvbiIsInhpIiwieWkiLCJ4aiIsInlqIiwiUm91bmRlZFJlY3RhbmdsZSIsIlJSRUMiLCJyYWRpdXMyIiwiUG9pbnQiLCJPYnNlcnZhYmxlUG9pbnQiLCJjYiIsInNjb3BlIiwiX3giLCJfeSIsIk1hdHJpeCIsInR4IiwidHkiLCJmcm9tQXJyYXkiLCJ0b0FycmF5IiwidHJhbnNwb3NlIiwicG9zIiwibmV3UG9zIiwiYXBwbHlJbnZlcnNlIiwidHJhbnNsYXRlIiwic2NhbGUiLCJyb3RhdGUiLCJhbmdsZSIsImNvcyIsInNpbiIsImMxIiwidHgxIiwiYXBwZW5kIiwibWF0cml4IiwiYjEiLCJkMSIsInBpdm90WCIsInBpdm90WSIsInNjYWxlWCIsInNjYWxlWSIsInJvdGF0aW9uIiwic2tld1giLCJza2V3WSIsInByZXBlbmQiLCJkZWNvbXBvc2UiLCJ0cmFuc2Zvcm0iLCJhdGFuMiIsInNrZXciLCJzcXJ0IiwicG9zaXRpb24iLCJpbnZlcnQiLCJpZGVudGl0eSIsInV4IiwidXkiLCJ2eCIsInZ5Iiwicm90YXRpb25DYXlsZXkiLCJyb3RhdGlvbk1hdHJpY2VzIiwic2lnbnVtIiwicm93IiwiX3V4IiwiX3V5IiwiX3Z4IiwiX3Z5IiwibWF0IiwiaW5pdCIsImdyb3VwRDgiLCJFIiwiU0UiLCJTIiwiU1ciLCJXIiwiTlciLCJOIiwiTkUiLCJNSVJST1JfVkVSVElDQUwiLCJNQUlOX0RJQUdPTkFMIiwiTUlSUk9SX0hPUklaT05UQUwiLCJSRVZFUlNFX0RJQUdPTkFMIiwidVgiLCJpbmQiLCJ1WSIsInZYIiwidlkiLCJpbnYiLCJhZGQiLCJyb3RhdGlvblNlY29uZCIsInJvdGF0aW9uRmlyc3QiLCJzdWIiLCJyb3RhdGUxODAiLCJpc1ZlcnRpY2FsIiwiYnlEaXJlY3Rpb24iLCJtYXRyaXhBcHBlbmRSb3RhdGlvbkludiIsIlRyYW5zZm9ybSIsIndvcmxkVHJhbnNmb3JtIiwibG9jYWxUcmFuc2Zvcm0iLCJvbkNoYW5nZSIsInBpdm90IiwidXBkYXRlU2tldyIsIl9yb3RhdGlvbiIsIl9jeCIsIl9zeCIsIl9jeSIsIl9zeSIsIl9sb2NhbElEIiwiX2N1cnJlbnRMb2NhbElEIiwiX3dvcmxkSUQiLCJfcGFyZW50SUQiLCJ1cGRhdGVMb2NhbFRyYW5zZm9ybSIsImx0IiwidXBkYXRlVHJhbnNmb3JtIiwicGFyZW50VHJhbnNmb3JtIiwicHQiLCJ3dCIsInNldEZyb21NYXRyaXgiLCJJREVOVElUWSIsIlNPUlRBQkxFX0NISUxEUkVOIiwiQm91bmRzIiwicmVjdCIsInVwZGF0ZUlEIiwiaXNFbXB0eSIsImdldFJlY3RhbmdsZSIsIkVNUFRZIiwiYWRkUG9pbnQiLCJwb2ludCIsImFkZFF1YWQiLCJhZGRGcmFtZSIsIngwIiwieTAiLCJhZGRGcmFtZU1hdHJpeCIsImFkZFZlcnRleERhdGEiLCJ2ZXJ0ZXhEYXRhIiwiYmVnaW5PZmZzZXQiLCJlbmRPZmZzZXQiLCJhZGRWZXJ0aWNlcyIsImFkZFZlcnRpY2VzTWF0cml4IiwicGFkWCIsInBhZFkiLCJyYXdYIiwicmF3WSIsImFkZEJvdW5kcyIsImJvdW5kcyIsImFkZEJvdW5kc01hc2siLCJtYXNrIiwiX21pblgiLCJfbWluWSIsIl9tYXhYIiwiX21heFkiLCJhZGRCb3VuZHNNYXRyaXgiLCJhZGRCb3VuZHNBcmVhIiwiYWRkRnJhbWVQYWQiLCJleHRlbmRTdGF0aWNzIiwic2V0UHJvdG90eXBlT2YiLCJfX2V4dGVuZHMiLCJfXyIsIkRpc3BsYXlPYmplY3QiLCJfc3VwZXIiLCJfdGhpcyIsInRlbXBEaXNwbGF5T2JqZWN0UGFyZW50IiwidmlzaWJsZSIsInJlbmRlcmFibGUiLCJwYXJlbnQiLCJ3b3JsZEFscGhhIiwiX2xhc3RTb3J0ZWRJbmRleCIsIl96SW5kZXgiLCJmaWx0ZXJBcmVhIiwiZmlsdGVycyIsIl9lbmFibGVkRmlsdGVycyIsIl9ib3VuZHMiLCJfbG9jYWxCb3VuZHMiLCJfYm91bmRzSUQiLCJfYm91bmRzUmVjdCIsIl9sb2NhbEJvdW5kc1JlY3QiLCJfbWFzayIsIl9kZXN0cm95ZWQiLCJpc1Nwcml0ZSIsImlzTWFzayIsIm1peGluIiwicHJvcGVydHlOYW1lIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0iLCJfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJza2lwVXBkYXRlIiwiY2FsY3VsYXRlQm91bmRzIiwiZ2V0TG9jYWxCb3VuZHMiLCJ0cmFuc2Zvcm1SZWYiLCJwYXJlbnRSZWYiLCJ3b3JsZEJvdW5kcyIsIndvcmxkQm91bmRzSUQiLCJ0b0dsb2JhbCIsImRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0iLCJ0b0xvY2FsIiwic2V0UGFyZW50IiwiY29udGFpbmVyIiwiYWRkQ2hpbGQiLCJfb3B0aW9ucyIsInJlbW92ZUNoaWxkIiwiaGl0QXJlYSIsImludGVyYWN0aXZlIiwiaW50ZXJhY3RpdmVDaGlsZHJlbiIsIlRlbXBvcmFyeURpc3BsYXlPYmplY3QiLCJlbmFibGVUZW1wUGFyZW50IiwibXlQYXJlbnQiLCJkaXNhYmxlVGVtcFBhcmVudCIsImNhY2hlUGFyZW50Iiwic29ydERpcnR5IiwiaXRlbSIsIm1hc2tPYmplY3QiLCJzb3J0Q2hpbGRyZW4iLCJ6SW5kZXgiLCJDb250YWluZXIiLCJzb3J0YWJsZUNoaWxkcmVuIiwib25DaGlsZHJlbkNoYW5nZSIsIl9sZW5ndGgiLCJjaGlsZCIsImFkZENoaWxkQXQiLCJzd2FwQ2hpbGRyZW4iLCJjaGlsZDIiLCJpbmRleDEiLCJnZXRDaGlsZEluZGV4IiwiaW5kZXgyIiwic2V0Q2hpbGRJbmRleCIsImN1cnJlbnRJbmRleCIsImdldENoaWxkQXQiLCJyZW1vdmVDaGlsZEF0IiwicmVtb3ZlQ2hpbGRyZW4iLCJiZWdpbkluZGV4IiwiZW5kSW5kZXgiLCJyZW1vdmVkIiwiYmVnaW4iLCJyYW5nZSIsInNvcnRSZXF1aXJlZCIsIl9jYWxjdWxhdGVCb3VuZHMiLCJza2lwQ2hpbGRyZW5VcGRhdGUiLCJyZW5kZXIiLCJyZW5kZXJlciIsInJlbmRlckFkdmFuY2VkIiwiX3JlbmRlciIsImJhdGNoIiwiZmx1c2giLCJlbmFibGVkIiwiZmlsdGVyIiwiX3JlbmRlcmVyIiwiZGVzdHJveUNoaWxkcmVuIiwib2xkQ2hpbGRyZW4iLCJfd2lkdGgiLCJfaGVpZ2h0IiwiY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtIiwiYWNjZXNzaWJsZSIsImFjY2Vzc2libGVUaXRsZSIsImFjY2Vzc2libGVIaW50IiwidGFiSW5kZXgiLCJfYWNjZXNzaWJsZUFjdGl2ZSIsIl9hY2Nlc3NpYmxlRGl2IiwiYWNjZXNzaWJsZVR5cGUiLCJhY2Nlc3NpYmxlUG9pbnRlckV2ZW50cyIsImFjY2Vzc2libGVDaGlsZHJlbiIsInJlbmRlcklkIiwiVVBEQVRFX1BSSU9SSVRZIiwiQWNjZXNzaWJpbGl0eU1hbmFnZXIiLCJfaG9va0RpdiIsImNyZWF0ZVRvdWNoSG9vayIsImRpdiIsInN0eWxlIiwiRElWX1RPVUNIX1NJWkUiLCJ0b3AiLCJESVZfVE9VQ0hfUE9TX1giLCJsZWZ0IiwiRElWX1RPVUNIX1BPU19ZIiwicG9vbCIsImRlYnVnIiwiX29uS2V5RG93biIsImJpbmQiLCJfb25Nb3VzZU1vdmUiLCJfaXNBY3RpdmUiLCJfaXNNb2JpbGVBY2Nlc3NpYmlsaXR5IiwiYW5kcm9pZFVwZGF0ZUNvdW50IiwiYW5kcm9pZFVwZGF0ZUZyZXF1ZW5jeSIsImFkZEV2ZW50TGlzdGVuZXIiLCJob29rRGl2IiwiRElWX0hPT0tfU0laRSIsIkRJVl9IT09LX1BPU19YIiwiRElWX0hPT0tfUE9TX1kiLCJ0aXRsZSIsImFjdGl2YXRlIiwiZGVzdHJveVRvdWNoSG9vayIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1cGRhdGUiLCJwYXJlbnROb2RlIiwiZGVhY3RpdmF0ZSIsInVwZGF0ZUFjY2Vzc2libGVPYmplY3RzIiwiZGlzcGxheU9iamVjdCIsInJlbmRlcmluZ1RvU2NyZWVuIiwiX2xhc3RPYmplY3RSZW5kZXJlZCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInN4Iiwic3kiLCJjYXBIaXRBcmVhIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwidXBkYXRlRGVidWdIVE1MIiwiaW5uZXJIVE1MIiwiYm9yZGVyU3R5bGUiLCJfb25DbGljayIsIl9vbkZvY3VzIiwiX29uRm9jdXNPdXQiLCJwb2ludGVyRXZlbnRzIiwiaW50ZXJhY3Rpb25NYW5hZ2VyIiwicGx1Z2lucyIsImludGVyYWN0aW9uIiwiZGlzcGF0Y2hFdmVudCIsImV2ZW50RGF0YSIsImtleUNvZGUiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJUQVJHRVRfRlBNUyIsIlRpY2tlckxpc3RlbmVyIiwicHJpb3JpdHkiLCJwcmV2aW91cyIsImRlbHRhVGltZSIsInJlZGlyZWN0IiwiY29ubmVjdCIsImhhcmQiLCJUaWNrZXIiLCJfcmVxdWVzdElkIiwiX21heEVsYXBzZWRNUyIsIl9taW5FbGFwc2VkTVMiLCJhdXRvU3RhcnQiLCJkZWx0YU1TIiwiZWxhcHNlZE1TIiwic3BlZWQiLCJzdGFydGVkIiwiX3Byb3RlY3RlZCIsIl9sYXN0RnJhbWUiLCJfdGljayIsInRpbWUiLCJfcmVxdWVzdElmTmVlZGVkIiwiX2NhbmNlbElmTmVlZGVkIiwiX3N0YXJ0SWZQb3NzaWJsZSIsIl9hZGRMaXN0ZW5lciIsImFkZE9uY2UiLCJjdXJyZW50IiwicmVtb3ZlIiwiY291bnQiLCJoZWFkIiwiZnBzIiwibWluRlBTIiwibWF4RlBTIiwibWluRlBNUyIsInJvdW5kIiwiX3NoYXJlZCIsInNoYXJlZCIsIl9zeXN0ZW0iLCJzeXN0ZW0iLCJUaWNrZXJQbHVnaW4iLCJzaGFyZWRUaWNrZXIiLCJ0aWNrZXIiLCJfdGlja2VyIiwiTE9XIiwib2xkVGlja2VyIiwiSW50ZXJhY3Rpb25EYXRhIiwicHJlc3N1cmUiLCJyb3RhdGlvbkFuZ2xlIiwidHdpc3QiLCJ0YW5nZW50aWFsUHJlc3N1cmUiLCJvcmlnaW5hbEV2ZW50IiwiaWRlbnRpZmllciIsImlzUHJpbWFyeSIsImJ1dHRvbiIsImJ1dHRvbnMiLCJ0aWx0WCIsInRpbHRZIiwicG9pbnRlclR5cGUiLCJnZXRMb2NhbFBvc2l0aW9uIiwiZ2xvYmFsUG9zIiwiY29weUV2ZW50Iiwid2hpY2giLCJyZXNldCIsIkludGVyYWN0aW9uRXZlbnQiLCJzdG9wcGVkIiwic3RvcHNQcm9wYWdhdGluZ0F0Iiwic3RvcFByb3BhZ2F0aW9uSGludCIsImN1cnJlbnRUYXJnZXQiLCJzdG9wUHJvcGFnYXRpb24iLCJJbnRlcmFjdGlvblRyYWNraW5nRGF0YSIsInBvaW50ZXJJZCIsIl9wb2ludGVySWQiLCJfZmxhZ3MiLCJGTEFHUyIsIk5PTkUiLCJfZG9TZXQiLCJ5biIsImZsYWdzIiwiT1ZFUiIsIlJJR0hUX0RPV04iLCJMRUZUX0RPV04iLCJmcmVlemUiLCJUcmVlU2VhcmNoIiwiX3RlbXBQb2ludCIsInJlY3Vyc2l2ZUZpbmRIaXQiLCJpbnRlcmFjdGlvbkV2ZW50IiwiZnVuYyIsImhpdFRlc3QiLCJoaXQiLCJpbnRlcmFjdGl2ZVBhcmVudCIsImhpdFRlc3RDaGlsZHJlbiIsImNvbnRhaW5zUG9pbnQiLCJjaGlsZEhpdCIsImZpbmRIaXQiLCJpbnRlcmFjdGl2ZVRhcmdldCIsImN1cnNvciIsIl90cmFja2VkUG9pbnRlcnMiLCJoaXRUZXN0RXZlbnQiLCJJbnRlcmFjdGlvbk1hbmFnZXIiLCJhdXRvUHJldmVudERlZmF1bHQiLCJpbnRlcmFjdGlvbkZyZXF1ZW5jeSIsIm1vdXNlIiwiYWN0aXZlSW50ZXJhY3Rpb25EYXRhIiwiaW50ZXJhY3Rpb25EYXRhUG9vbCIsImludGVyYWN0aW9uRE9NRWxlbWVudCIsIm1vdmVXaGVuSW5zaWRlIiwiZXZlbnRzQWRkZWQiLCJ0aWNrZXJBZGRlZCIsIm1vdXNlT3ZlclJlbmRlcmVyIiwic3VwcG9ydHNUb3VjaEV2ZW50cyIsInN1cHBvcnRzUG9pbnRlckV2ZW50cyIsIlBvaW50ZXJFdmVudCIsIm9uUG9pbnRlclVwIiwicHJvY2Vzc1BvaW50ZXJVcCIsIm9uUG9pbnRlckNhbmNlbCIsInByb2Nlc3NQb2ludGVyQ2FuY2VsIiwib25Qb2ludGVyRG93biIsInByb2Nlc3NQb2ludGVyRG93biIsIm9uUG9pbnRlck1vdmUiLCJwcm9jZXNzUG9pbnRlck1vdmUiLCJvblBvaW50ZXJPdXQiLCJwcm9jZXNzUG9pbnRlck92ZXJPdXQiLCJvblBvaW50ZXJPdmVyIiwiY3Vyc29yU3R5bGVzIiwicG9pbnRlciIsImN1cnJlbnRDdXJzb3JNb2RlIiwiZGVsYXllZEV2ZW50cyIsIl90ZW1wRGlzcGxheU9iamVjdCIsIl91c2VTeXN0ZW1UaWNrZXIiLCJ1c2VTeXN0ZW1UaWNrZXIiLCJzZXRUYXJnZXRFbGVtZW50IiwiYWRkVGlja2VyTGlzdGVuZXIiLCJyZW1vdmVUaWNrZXJMaXN0ZW5lciIsImdsb2JhbFBvaW50IiwibGFzdE9iamVjdFJlbmRlcmVkIiwicHJvY2Vzc0ludGVyYWN0aXZlIiwiZWxlbWVudCIsInJlbW92ZUV2ZW50cyIsImFkZEV2ZW50cyIsInRpY2tlclVwZGF0ZSIsIklOVEVSQUNUSU9OIiwibXNQb2ludGVyRW5hYmxlZCIsIm1zQ29udGVudFpvb21pbmciLCJtc1RvdWNoQWN0aW9uIiwidG91Y2hBY3Rpb24iLCJfZGVsdGFUaW1lIiwiX2RpZE1vdmUiLCJpbnRlcmFjdGlvbkRhdGEiLCJjb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQiLCJzZXRDdXJzb3JNb2RlIiwibW9kZSIsImV2ZW50U3RyaW5nIiwiZGVsYXlEaXNwYXRjaEV2ZW50IiwibWFwUG9zaXRpb25Ub1BvaW50IiwicGFyZW50RWxlbWVudCIsInJlc29sdXRpb25NdWx0aXBsaWVyIiwiZGVsYXllZExlbiIsIl9hIiwiZGlzcGxheU9iamVjdF8xIiwibm9ybWFsaXplVG9Qb2ludGVyRGF0YSIsImlzTm9ybWFsaXplZCIsImNhbmNlbGFibGUiLCJwcmV2ZW50RGVmYXVsdCIsImV2ZW50TGVuIiwiZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIiwiaXNSaWdodEJ1dHRvbiIsInRyYWNrZWRQb2ludGVycyIsInJpZ2h0RG93biIsImxlZnREb3duIiwib25Qb2ludGVyQ29tcGxldGUiLCJjYW5jZWxsZWQiLCJldmVudEFwcGVuZCIsInJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQiLCJ0cmFja2luZ0RhdGEiLCJpc1RvdWNoIiwiaXNNb3VzZSIsImlzTW91c2VUYXAiLCJpc0Rvd24iLCJvdmVyIiwibm9uZSIsInBvaW50ZXJFdmVudCIsImNsaWVudFgiLCJjbGllbnRZIiwiZ2xvYmFsWCIsImdsb2JhbFkiLCJub3JtYWxpemVkRXZlbnRzIiwiVG91Y2hFdmVudCIsImxpIiwiY2hhbmdlZFRvdWNoZXMiLCJ0b3VjaCIsInRvdWNoZXMiLCJyYWRpdXNYIiwicmFkaXVzWSIsImZvcmNlIiwibGF5ZXJYIiwib2Zmc2V0WCIsImxheWVyWSIsIm9mZnNldFkiLCJNb3VzZUV2ZW50IiwidGVtcEV2ZW50IiwiUnVubmVyIiwiaXRlbXMiLCJfbmFtZSIsIl9hbGlhc0NvdW50IiwiYTAiLCJhNiIsImE3IiwiZW5zdXJlTm9uQWxpYXNlZEl0ZW1zIiwicmVtb3ZlQWxsIiwiZGlzcGF0Y2giLCJydW4iLCJQUkVGRVJfRU5WIiwiV0VCR0wiLCJXRUJHTDIiLCJTVFJJQ1RfVEVYVFVSRV9DQUNIRSIsIklOU1RBTExFRCIsImF1dG9EZXRlY3RSZXNvdXJjZSIsImV4dGVuc2lvbiIsIlJlc291cmNlUGx1Z2luIiwiUmVzb3VyY2UiLCJkZXN0cm95ZWQiLCJpbnRlcm5hbCIsIm9uUmVzaXplIiwib25VcGRhdGUiLCJvbkVycm9yIiwiYmFzZVRleHR1cmUiLCJ1bmJpbmQiLCJsb2FkIiwiX2Jhc2VUZXh0dXJlIiwiX2dsVGV4dHVyZSIsImRpc3Bvc2UiLCJfc291cmNlIiwiX2V4dGVuc2lvbiIsIkJ1ZmZlclJlc291cmNlIiwidXBsb2FkIiwiZ2xUZXh0dXJlIiwiZ2wiLCJwaXhlbFN0b3JlaSIsIlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCIsImFscGhhTW9kZSIsIlVOUEFDSyIsInRleFN1YkltYWdlMkQiLCJ0ZXhJbWFnZTJEIiwiaW50ZXJuYWxGb3JtYXQiLCJkZWZhdWx0QnVmZmVyT3B0aW9ucyIsInNjYWxlTW9kZSIsIk5FQVJFU1QiLCJSR0JBIiwiTlBNIiwiQmFzZVRleHR1cmUiLCJyZXNvdXJjZSIsIm1pcG1hcCIsImFuaXNvdHJvcGljTGV2ZWwiLCJ3cmFwTW9kZSIsInJlc291cmNlT3B0aW9ucyIsIlVOU0lHTkVEX0JZVEUiLCJURVhUVVJFXzJEIiwicHJlbXVsdGlwbHlBbHBoYSIsInRvdWNoZWQiLCJpc1Bvd2VyT2ZUd28iLCJfcmVmcmVzaFBPVCIsIl9nbFRleHR1cmVzIiwiZGlydHlJZCIsImRpcnR5U3R5bGVJZCIsImNhY2hlSWQiLCJ2YWxpZCIsInRleHR1cmVDYWNoZUlkcyIsIl9iYXRjaEVuYWJsZWQiLCJfYmF0Y2hMb2NhdGlvbiIsInBhcmVudFRleHR1cmVBcnJheSIsInNldFJlc291cmNlIiwic2V0U3R5bGUiLCJkaXJ0eSIsInNldFNpemUiLCJzZXRSZWFsU2l6ZSIsInJlYWxXaWR0aCIsInJlYWxIZWlnaHQiLCJzZXRSZXNvbHV0aW9uIiwib2xkUmVzb2x1dGlvbiIsInJlbW92ZUZyb21DYWNoZSIsImNhc3RUb0Jhc2VUZXh0dXJlIiwiaXNGcmFtZSIsIl9waXhpSWQiLCJhZGRUb0NhY2hlIiwiZnJvbUJ1ZmZlciIsImJ1ZmZlciIsIkZMT0FUIiwiYmFzZVRleHR1cmVGcm9tQ2FjaGUiLCJfZ2xvYmFsQmF0Y2giLCJBYnN0cmFjdE11bHRpUmVzb3VyY2UiLCJpdGVtRGlydHlJZHMiLCJwYXJ0VGV4dHVyZSIsIl9sb2FkIiwiaW5pdEZyb21BcnJheSIsInJlc291cmNlcyIsImFkZEJhc2VUZXh0dXJlQXQiLCJhZGRSZXNvdXJjZUF0IiwiQXJyYXlSZXNvdXJjZSIsInVybHMiLCJURVhUVVJFXzJEX0FSUkFZIiwidGV4dHVyZSIsInRleEltYWdlM0QiLCJ0ZXhTdWJJbWFnZTNEIiwiQmFzZUltYWdlUmVzb3VyY2UiLCJzb3VyY2VBbnkiLCJuYXR1cmFsV2lkdGgiLCJ2aWRlb1dpZHRoIiwibmF0dXJhbEhlaWdodCIsInZpZGVvSGVpZ2h0Iiwibm9TdWJJbWFnZSIsImNyb3NzT3JpZ2luIiwiY3Jvc3NvcmlnaW4iLCJsb2MiLCJsb2NhdGlvbiIsInBhcnNlZFVybCIsInNhbWVQb3J0IiwiZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4iLCJDYW52YXNSZXNvdXJjZSIsIk9mZnNjcmVlbkNhbnZhcyIsIkhUTUxDYW52YXNFbGVtZW50IiwiQ3ViZVJlc291cmNlIiwiYXV0b0xvYWQiLCJsaW5rQmFzZVRleHR1cmUiLCJTSURFUyIsIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCIsIlRFWFRVUkVfQ1VCRV9NQVAiLCJzaWRlIiwiSW1hZ2VSZXNvdXJjZSIsIkhUTUxJbWFnZUVsZW1lbnQiLCJpbWFnZUVsZW1lbnQiLCJJbWFnZSIsInNyYyIsImNvbXBsZXRlIiwiX3Byb2Nlc3MiLCJwcmVzZXJ2ZUJpdG1hcCIsImNyZWF0ZUJpdG1hcCIsImNyZWF0ZUltYWdlQml0bWFwIiwiYml0bWFwIiwiY29tcGxldGVkIiwib25sb2FkIiwib25lcnJvciIsInByb2Nlc3MiLCJnbFRleHR1cmVzIiwib3RoZXJUZXgiLCJjbG9zZSIsIlNWR1Jlc291cmNlIiwic291cmNlQmFzZTY0Iiwic3ZnIiwiX292ZXJyaWRlV2lkdGgiLCJfb3ZlcnJpZGVIZWlnaHQiLCJfcmVzb2x2ZSIsIl9jcm9zc29yaWdpbiIsImJ0b2EiLCJ1bmVzY2FwZSIsIl9sb2FkU3ZnIiwidGVtcEltYWdlIiwic3ZnV2lkdGgiLCJzdmdIZWlnaHQiLCJkcmF3SW1hZ2UiLCJnZXRTaXplIiwic3ZnU3RyaW5nIiwic2l6ZU1hdGNoIiwiU1ZHX1NJWkUiLCJzaXplIiwiVmlkZW9SZXNvdXJjZSIsIkhUTUxWaWRlb0VsZW1lbnQiLCJ2aWRlb0VsZW1lbnQiLCJmaXJzdFNyYyIsInNvdXJjZUVsZW1lbnQiLCJtaW1lIiwiYmFzZVNyYyIsImV4dCIsIk1JTUVfVFlQRVMiLCJfYXV0b1VwZGF0ZSIsIl9pc0Nvbm5lY3RlZFRvVGlja2VyIiwiX3VwZGF0ZUZQUyIsInVwZGF0ZUZQUyIsIl9tc1RvTmV4dFVwZGF0ZSIsImF1dG9QbGF5IiwiX29uQ2FuUGxheSIsIl9vbkVycm9yIiwicGxheWJhY2tSYXRlIiwicmVhZHlTdGF0ZSIsIkhBVkVfRU5PVUdIX0RBVEEiLCJIQVZFX0ZVVFVSRV9EQVRBIiwiX29uUGxheVN0YXJ0IiwiX29uUGxheVN0b3AiLCJfaXNTb3VyY2VSZWFkeSIsIl9pc1NvdXJjZVBsYXlpbmciLCJwYXVzZWQiLCJlbmRlZCIsImF1dG9VcGRhdGUiLCJwbGF5IiwicGF1c2UiLCJvZ3YiLCJtb3YiLCJtNHYiLCJJbWFnZUJpdG1hcFJlc291cmNlIiwiSW1hZ2VCaXRtYXAiLCJTeXN0ZW0iLCJEZXB0aFJlc291cmNlIiwid2ViR0xWZXJzaW9uIiwiREVQVEhfQ09NUE9ORU5UIiwiREVQVEhfQ09NUE9ORU5UMTYiLCJGcmFtZWJ1ZmZlciIsInN0ZW5jaWwiLCJkZXB0aCIsImRpcnR5Rm9ybWF0IiwiZGlydHlTaXplIiwiZGVwdGhUZXh0dXJlIiwiY29sb3JUZXh0dXJlcyIsImdsRnJhbWVidWZmZXJzIiwiZGlzcG9zZVJ1bm5lciIsIm11bHRpc2FtcGxlIiwiYWRkQ29sb3JUZXh0dXJlIiwiT0ZGIiwiYWRkRGVwdGhUZXh0dXJlIiwiVU5TSUdORURfU0hPUlQiLCJlbmFibGVEZXB0aCIsImVuYWJsZVN0ZW5jaWwiLCJkZXN0cm95RGVwdGhUZXh0dXJlIiwiQmFzZVJlbmRlclRleHR1cmUiLCJ3aWR0aF8xIiwiaGVpZ2h0XzEiLCJjbGVhckNvbG9yIiwiZnJhbWVidWZmZXIiLCJtYXNrU3RhY2siLCJmaWx0ZXJTdGFjayIsIlRleHR1cmVVdnMiLCJ4MyIsInkzIiwidXZzRmxvYXQzMiIsImZyYW1lIiwiYmFzZUZyYW1lIiwidHciLCJ0aCIsIncyIiwiaDIiLCJjWCIsImNZIiwiREVGQVVMVF9VVlMiLCJUZXh0dXJlIiwib3JpZyIsImFuY2hvciIsIm5vRnJhbWUiLCJfZnJhbWUiLCJfdXZzIiwidXZNYXRyaXgiLCJfcm90YXRlIiwiZGVmYXVsdEFuY2hvciIsIl91cGRhdGVJRCIsIm9uQmFzZVRleHR1cmVVcGRhdGVkIiwidXBkYXRlVXZzIiwiZGVzdHJveUJhc2UiLCJmcm9tVVJMIiwiZnJvbUxvYWRlciIsImltYWdlVXJsIiwidGV4dHVyZUZyb21DYWNoZSIsInhOb3RGaXQiLCJ5Tm90Rml0IiwicmVsYXRpb25zaGlwIiwiZXJyb3JYIiwiZXJyb3JZIiwicmVtb3ZlQWxsSGFuZGxlcnMiLCJ0ZXgiLCJXSElURSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiY3JlYXRlV2hpdGVUZXh0dXJlIiwiUmVuZGVyVGV4dHVyZSIsImJhc2VSZW5kZXJUZXh0dXJlIiwiX2xlZ2FjeVJlbmRlcmVyIiwibGVnYWN5UmVuZGVyZXIiLCJmaWx0ZXJGcmFtZSIsImZpbHRlclBvb2xLZXkiLCJyZXNpemVCYXNlVGV4dHVyZSIsIlJlbmRlclRleHR1cmVQb29sIiwidGV4dHVyZU9wdGlvbnMiLCJ0ZXh0dXJlUG9vbCIsImVuYWJsZUZ1bGxTY3JlZW4iLCJfcGl4ZWxzV2lkdGgiLCJfcGl4ZWxzSGVpZ2h0IiwiY3JlYXRlVGV4dHVyZSIsImdldE9wdGltYWxUZXh0dXJlIiwibWluV2lkdGgiLCJtaW5IZWlnaHQiLCJTQ1JFRU5fS0VZIiwicmVuZGVyVGV4dHVyZSIsImdldEZpbHRlclRleHR1cmUiLCJmaWx0ZXJUZXh0dXJlIiwicmV0dXJuVGV4dHVyZSIsInJldHVybkZpbHRlclRleHR1cmUiLCJkZXN0cm95VGV4dHVyZXMiLCJ0ZXh0dXJlcyIsInNldFNjcmVlblNpemUiLCJzY3JlZW5LZXkiLCJBdHRyaWJ1dGUiLCJub3JtYWxpemVkIiwic3RyaWRlIiwiVUlEIiwiQnVmZmVyIiwiX3N0YXRpYyIsIl9nbEJ1ZmZlcnMiLCJzdGF0aWMiLCJCWVRFU19QRVJfRUxFTUVOVCIsImJ5dGVTaXplTWFwIiwiNTEyNiIsIjUxMjMiLCI1MTIxIiwiVUlEJDEiLCJtYXAkMSIsIkdlb21ldHJ5IiwiYnVmZmVycyIsImF0dHJpYnV0ZXMiLCJpbmRleEJ1ZmZlciIsImdsVmVydGV4QXJyYXlPYmplY3RzIiwiaW5zdGFuY2VkIiwiaW5zdGFuY2VDb3VudCIsInJlZkNvdW50IiwiYWRkQXR0cmlidXRlIiwiaWRzIiwiYnVmZmVySW5kZXgiLCJnZXRCdWZmZXIiLCJhZGRJbmRleCIsImdldEluZGV4IiwiaW50ZXJsZWF2ZSIsImFycmF5cyIsInNpemVzIiwiaW50ZXJsZWF2ZWRCdWZmZXIiLCJhdHRyaWJ1dGUiLCJvdXRTaXplIiwidmlld3MiLCJsaXR0bGVPZmZzZXQiLCJnZW9tZXRyeSIsImF0dHJpYiIsIm1lcmdlIiwiZ2VvbWV0cmllcyIsImdlb21ldHJ5T3V0Iiwib2Zmc2V0cyIsIm9mZnNldCIsIm9mZnNldDIiLCJidWZmZXJJbmRleFRvQ291bnQiLCJpbmRleEJ1ZmZlckRhdGEiLCJRdWFkIiwiUXVhZFV2IiwidXZzIiwidmVydGV4QnVmZmVyIiwidXZCdWZmZXIiLCJ0YXJnZXRUZXh0dXJlRnJhbWUiLCJkZXN0aW5hdGlvbkZyYW1lIiwiaW52YWxpZGF0ZSIsIlVJRCQyIiwiVW5pZm9ybUdyb3VwIiwidW5pZm9ybXMiLCJncm91cCIsInN5bmNVbmlmb3JtcyIsIkZpbHRlclN0YXRlIiwic291cmNlRnJhbWUiLCJGaWx0ZXJTeXN0ZW0iLCJkZWZhdWx0RmlsdGVyU3RhY2siLCJzdGF0ZVBvb2wiLCJxdWFkIiwicXVhZFV2IiwidGVtcFJlY3QiLCJhY3RpdmVTdGF0ZSIsImdsb2JhbFVuaWZvcm1zIiwib3V0cHV0RnJhbWUiLCJpbnB1dFNpemUiLCJpbnB1dFBpeGVsIiwiaW5wdXRDbGFtcCIsImZpbHRlckNsYW1wIiwiZm9yY2VDbGVhciIsInVzZU1heFBhZGRpbmciLCJzdGF0ZSIsInBhZGRpbmciLCJhdXRvRml0IiwiZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUiLCJsYXN0U3RhdGUiLCJibGl0IiwiQkxFTkQiLCJmbGlwIiwiZmxvcCIsIkNMRUFSIiwiYmluZEFuZENsZWFyIiwiY2xlYXJNb2RlIiwiQkxJVCIsImFwcGx5RmlsdGVyIiwidVNhbXBsZXIiLCJmaWx0ZXJHbG9iYWxzIiwic2hhZGVyIiwiZHJhdyIsIlRSSUFOR0xFUyIsIlRSSUFOR0xFX1NUUklQIiwiY2FsY3VsYXRlU3ByaXRlTWF0cml4Iiwib3V0cHV0TWF0cml4Iiwic3ByaXRlIiwiX3RleHR1cmUiLCJtYXBwZWRNYXRyaXgiLCJURU1QX01BVFJJWCIsInN3YXAiLCJlbXB0eVBvb2wiLCJPYmplY3RSZW5kZXJlciIsIl9vYmplY3QiLCJCYXRjaFN5c3RlbSIsImVtcHR5UmVuZGVyZXIiLCJjdXJyZW50UmVuZGVyZXIiLCJzZXRPYmplY3RSZW5kZXJlciIsIm9iamVjdFJlbmRlcmVyIiwiY29weUJvdW5kVGV4dHVyZXMiLCJtYXhUZXh0dXJlcyIsImJvdW5kVGV4dHVyZXMiLCJib3VuZEFycmF5IiwidGV4QXJyYXkiLCJiYXRjaElkIiwiZWxlbWVudHMiLCJib3VuZCIsIkNPTlRFWFRfVUlEX0NPVU5URVIiLCJDb250ZXh0U3lzdGVtIiwiZXh0ZW5zaW9ucyIsInN1cHBvcnRzIiwidWludDMySW5kaWNlcyIsImhhbmRsZUNvbnRleHRMb3N0IiwiaGFuZGxlQ29udGV4dFJlc3RvcmVkIiwiaXNDb250ZXh0TG9zdCIsImNvbnRleHRDaGFuZ2UiLCJDT05URVhUX1VJRCIsImdldEV4dGVuc2lvbiIsInJlc3RvcmVDb250ZXh0IiwiaW5pdEZyb21Db250ZXh0IiwidmFsaWRhdGVDb250ZXh0IiwicnVubmVycyIsImluaXRGcm9tT3B0aW9ucyIsImNyZWF0ZUNvbnRleHQiLCJnZXRFeHRlbnNpb25zIiwiZHJhd0J1ZmZlcnMiLCJsb3NlQ29udGV4dCIsInZlcnRleEFycmF5T2JqZWN0IiwiYW5pc290cm9waWNGaWx0ZXJpbmciLCJ1aW50MzJFbGVtZW50SW5kZXgiLCJmbG9hdFRleHR1cmUiLCJmbG9hdFRleHR1cmVMaW5lYXIiLCJ0ZXh0dXJlSGFsZkZsb2F0IiwidGV4dHVyZUhhbGZGbG9hdExpbmVhciIsImNvbG9yQnVmZmVyRmxvYXQiLCJ1c2VQcm9ncmFtIiwicG9zdHJlbmRlciIsImdldENvbnRleHRBdHRyaWJ1dGVzIiwiaGFzdWludDMyIiwiV2ViR0wyUmVuZGVyaW5nQ29udGV4dCIsIkdMRnJhbWVidWZmZXIiLCJtc2FhQnVmZmVyIiwiYmxpdEZyYW1lYnVmZmVyIiwidGVtcFJlY3RhbmdsZSIsIkZyYW1lYnVmZmVyU3lzdGVtIiwibWFuYWdlZEZyYW1lYnVmZmVycyIsInVua25vd25GcmFtZWJ1ZmZlciIsIm1zYWFTYW1wbGVzIiwidmlld3BvcnQiLCJoYXNNUlQiLCJ3cml0ZURlcHRoVGV4dHVyZSIsImRpc3Bvc2VBbGwiLCJuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbl8xIiwibmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uIiwiV0VCR0xfTEVHQUNZIiwiYWN0aXZlVGV4dHVyZXMiLCJkcmF3QnVmZmVyc1dFQkdMIiwiZ2V0SW50ZXJuYWxmb3JtYXRQYXJhbWV0ZXIiLCJSRU5ERVJCVUZGRVIiLCJSR0JBOCIsIlNBTVBMRVMiLCJmYm8iLCJpbml0RnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsInVwZGF0ZUZyYW1lYnVmZmVyIiwicmVzaXplRnJhbWVidWZmZXIiLCJzZXRWaWV3cG9ydCIsIkNPTE9SIiwiREVQVEgiLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImRldGVjdFNhbXBsZXMiLCJiaW5kUmVuZGVyYnVmZmVyIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsIkRFUFRIX1NURU5DSUwiLCJjcmVhdGVSZW5kZXJidWZmZXIiLCJyZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUiLCJmcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlciIsIkNPTE9SX0FUVEFDSE1FTlQwIiwicGFyZW50VGV4dHVyZSIsImZyYW1lYnVmZmVyVGV4dHVyZTJEIiwiREVQVEhfQVRUQUNITUVOVCIsIkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCIsInNhbXBsZXMiLCJyZXMiLCJzb3VyY2VQaXhlbHMiLCJkZXN0UGl4ZWxzIiwic2FtZVNpemUiLCJSRUFEX0ZSQU1FQlVGRkVSIiwiQ09MT1JfQlVGRkVSX0JJVCIsIkxJTkVBUiIsImRpc3Bvc2VGcmFtZWJ1ZmZlciIsImNvbnRleHRMb3N0IiwiZGVsZXRlRnJhbWVidWZmZXIiLCJkZWxldGVSZW5kZXJidWZmZXIiLCJmb3JjZVN0ZW5jaWwiLCJHTEJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJieXRlU2l6ZU1hcCQxIiwiR2VvbWV0cnlTeXN0ZW0iLCJfYWN0aXZlR2VvbWV0cnkiLCJfYWN0aXZlVmFvIiwiaGFzVmFvIiwiaGFzSW5zdGFuY2UiLCJjYW5Vc2VVSW50MzJFbGVtZW50SW5kZXgiLCJtYW5hZ2VkR2VvbWV0cmllcyIsIm1hbmFnZWRCdWZmZXJzIiwiY3JlYXRlVmVydGV4QXJyYXkiLCJuYXRpdmVWYW9FeHRlbnNpb25fMSIsImNyZWF0ZVZlcnRleEFycmF5T0VTIiwiYmluZFZlcnRleEFycmF5IiwidmFvIiwiYmluZFZlcnRleEFycmF5T0VTIiwiZGVsZXRlVmVydGV4QXJyYXkiLCJkZWxldGVWZXJ0ZXhBcnJheU9FUyIsInZlcnRleEF0dHJpYkRpdmlzb3IiLCJpbnN0YW5jZUV4dF8xIiwidmVydGV4QXR0cmliRGl2aXNvckFOR0xFIiwiZHJhd0VsZW1lbnRzSW5zdGFuY2VkIiwiZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUiLCJkcmF3QXJyYXlzSW5zdGFuY2VkIiwiZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFIiwidmFvcyIsInByb2dyYW0iLCJpbml0R2VvbWV0cnlWYW8iLCJhY3RpdmF0ZVZhbyIsInVwZGF0ZUJ1ZmZlcnMiLCJnbEJ1ZmZlciIsIkVMRU1FTlRfQVJSQVlfQlVGRkVSIiwiQVJSQVlfQlVGRkVSIiwiYmluZEJ1ZmZlciIsIl9ib3VuZEJ1ZmZlciIsImJ1ZmZlclN1YkRhdGEiLCJkcmF3VHlwZSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQ19EUkFXIiwiYnVmZmVyRGF0YSIsImNoZWNrQ29tcGF0aWJpbGl0eSIsImdlb21ldHJ5QXR0cmlidXRlcyIsInNoYWRlckF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVEYXRhIiwiZ2V0U2lnbmF0dXJlIiwiYXR0cmlicyIsInN0cmluZ3MiLCJzaWduYXR1cmUiLCJ2YW9PYmplY3RIYXNoIiwidGVtcFN0cmlkZSIsInRlbXBTdGFydCIsImF0dHJpYlNpemUiLCJjcmVhdGVCdWZmZXIiLCJkaXNwb3NlQnVmZmVyIiwiZGVsZXRlQnVmZmVyIiwiZGlzcG9zZUdlb21ldHJ5IiwiYnVmIiwidmFvSWQiLCJsYXN0QnVmZmVyIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiYnl0ZVNpemUiLCJnbFR5cGUiLCJVTlNJR05FRF9JTlQiLCJkcmF3RWxlbWVudHMiLCJkcmF3QXJyYXlzIiwiTWFza0RhdGEiLCJhdXRvRGV0ZWN0IiwicG9vbGVkIiwiaXNNYXNrRGF0YSIsIl9zdGVuY2lsQ291bnRlciIsIl9zY2lzc29yQ291bnRlciIsIl9zY2lzc29yUmVjdCIsIl90YXJnZXQiLCJjb3B5Q291bnRlcnNPclJlc2V0IiwibWFza0Fib3ZlIiwiY29tcGlsZVNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsImNvbXBpbGVQcm9ncmFtIiwidmVydGV4U3JjIiwiZnJhZ21lbnRTcmMiLCJhdHRyaWJ1dGVMb2NhdGlvbnMiLCJnbFZlcnRTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiZ2xGcmFnU2hhZGVyIiwiRlJBR01FTlRfU0hBREVSIiwiY3JlYXRlUHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImJpbmRBdHRyaWJMb2NhdGlvbiIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJnZXRTaGFkZXJJbmZvTG9nIiwiVkFMSURBVEVfU1RBVFVTIiwiZ2V0RXJyb3IiLCJnZXRQcm9ncmFtSW5mb0xvZyIsImRlbGV0ZVByb2dyYW0iLCJkZWxldGVTaGFkZXIiLCJib29sZWFuQXJyYXkiLCJtYXhGcmFnbWVudFByZWNpc2lvbiIsInVua25vd25Db250ZXh0IiwiZ2V0VGVzdENvbnRleHQiLCJzZXRQcmVjaXNpb24iLCJyZXF1ZXN0ZWRQcmVjaXNpb24iLCJtYXhTdXBwb3J0ZWRQcmVjaXNpb24iLCJzdWJzdHJpbmciLCJwcmVjaXNpb24iLCJISUdIIiwiTUVESVVNIiwiR0xTTF9UT19TSVpFIiwiZmxvYXQiLCJ2ZWMyIiwidmVjMyIsInZlYzQiLCJpbnQiLCJpdmVjMiIsIml2ZWMzIiwiaXZlYzQiLCJib29sIiwiYnZlYzIiLCJidmVjMyIsImJ2ZWM0IiwibWF0MiIsIm1hdDMiLCJtYXQ0Iiwic2FtcGxlcjJEIiwibWFwU2l6ZSIsIkdMX1RBQkxFIiwiR0xfVE9fR0xTTF9UWVBFUyIsIkZMT0FUX1ZFQzIiLCJGTE9BVF9WRUMzIiwiRkxPQVRfVkVDNCIsIklOVCIsIklOVF9WRUMyIiwiSU5UX1ZFQzMiLCJJTlRfVkVDNCIsIkJPT0wiLCJCT09MX1ZFQzIiLCJCT09MX1ZFQzMiLCJCT09MX1ZFQzQiLCJGTE9BVF9NQVQyIiwiRkxPQVRfTUFUMyIsIkZMT0FUX01BVDQiLCJTQU1QTEVSXzJEIiwiSU5UX1NBTVBMRVJfMkQiLCJVTlNJR05FRF9JTlRfU0FNUExFUl8yRCIsIlNBTVBMRVJfQ1VCRSIsIklOVF9TQU1QTEVSX0NVQkUiLCJVTlNJR05FRF9JTlRfU0FNUExFUl9DVUJFIiwiU0FNUExFUl8yRF9BUlJBWSIsIklOVF9TQU1QTEVSXzJEX0FSUkFZIiwiVU5TSUdORURfSU5UX1NBTVBMRVJfMkRfQVJSQVkiLCJtYXBUeXBlIiwidHlwZU5hbWVzIiwidG4iLCJ1bnNhZmVFdmFsIiwidW5pZm9ybVBhcnNlcnMiLCJjb2RlIiwidW5pZm9ybSIsIkdMU0xfVE9fU0lOR0xFX1NFVFRFUlNfQ0FDSEVEIiwic2FtcGxlckN1YmUiLCJzYW1wbGVyMkRBcnJheSIsIkdMU0xfVE9fQVJSQVlfU0VUVEVSUyIsImZyYWdUZW1wbGF0ZSIsImdlbmVyYXRlSWZUZXN0U3JjIiwibWF4SWZzIiwiVUlEJDMiLCJuYW1lQ2FjaGUiLCJQcm9ncmFtIiwiZGVmYXVsdFZlcnRleFNyYyIsImRlZmF1bHRGcmFnbWVudFNyYyIsImdldFNoYWRlclByZWNpc2lvbkZvcm1hdCIsInNoYWRlckZyYWdtZW50IiwiSElHSF9GTE9BVCIsImdldE1heEZyYWdtZW50UHJlY2lzaW9uIiwiZXh0cmFjdERhdGEiLCJnbFByb2dyYW1zIiwiZ2V0QXR0cmlidXRlRGF0YSIsInVuaWZvcm1EYXRhIiwiZ2V0VW5pZm9ybURhdGEiLCJhdHRyaWJ1dGVzQXJyYXkiLCJ0b3RhbEF0dHJpYnV0ZXMiLCJBQ1RJVkVfQVRUUklCVVRFUyIsImF0dHJpYkRhdGEiLCJnZXRBY3RpdmVBdHRyaWIiLCJ0b3RhbFVuaWZvcm1zIiwiQUNUSVZFX1VOSUZPUk1TIiwiZ2V0QWN0aXZlVW5pZm9ybSIsIlNoYWRlciIsInVuaWZvcm1Hcm91cCIsImNoZWNrVW5pZm9ybUV4aXN0cyIsIlN0YXRlIiwicG9seWdvbk9mZnNldCIsImJsZW5kIiwiX2JsZW5kTW9kZSIsIl9wb2x5Z29uT2Zmc2V0IiwiZm9yMmQiLCJkZXB0aFRlc3QiLCJGaWx0ZXIiLCJhVGV4dHVyZUNvb3JkIiwiZmlsdGVyTWFuYWdlciIsIl9jdXJyZW50U3RhdGUiLCJ0ZW1wTWF0IiwiVGV4dHVyZU1hdHJpeCIsImNsYW1wTWFyZ2luIiwibWFwQ29vcmQiLCJ1Q2xhbXBGcmFtZSIsInVDbGFtcE9mZnNldCIsIl90ZXh0dXJlSUQiLCJjbGFtcE9mZnNldCIsImlzU2ltcGxlIiwibXVsdGlwbHlVdnMiLCJmb3JjZVVwZGF0ZSIsInRleEJhc2UiLCJtYXJnaW4iLCJTcHJpdGVNYXNrRmlsdGVyIiwibWFza01hdHJpeCIsIm1hc2tTcHJpdGUiLCJucG1BbHBoYSIsIm90aGVyTWF0cml4IiwibWFza0NsYW1wIiwiTWFza1N5c3RlbSIsImVuYWJsZVNjaXNzb3IiLCJhbHBoYU1hc2tQb29sIiwibWFza0RhdGFQb29sIiwiYWxwaGFNYXNrSW5kZXgiLCJzZXRNYXNrU3RhY2siLCJzY2lzc29yIiwibWFza0RhdGFPclRhcmdldCIsIm1hc2tEYXRhIiwiZGV0ZWN0IiwiU0NJU1NPUiIsIlNURU5DSUwiLCJTUFJJVEUiLCJwdXNoU3ByaXRlTWFzayIsInBvcFNwcml0ZU1hc2siLCJpc0Zhc3RSZWN0Iiwicm90WCIsInJvdFhZIiwiYWxwaGFNYXNrRmlsdGVyIiwic3Rhc2hGaWx0ZXJBcmVhIiwiQWJzdHJhY3RNYXNrU3lzdGVtIiwiZ2xDb25zdCIsImdldFN0YWNrTGVuZ3RoIiwiY3VyU3RhY2tMZW4iLCJuZXdTdGFja0xlbiIsImRpc2FibGUiLCJlbmFibGUiLCJfdXNlQ3VycmVudCIsIlNjaXNzb3JTeXN0ZW0iLCJXZWJHTFJlbmRlcmluZ0NvbnRleHQiLCJTQ0lTU09SX1RFU1QiLCJwcmV2RGF0YSIsInJ0IiwicHJvamVjdGlvbiIsIlN0ZW5jaWxTeXN0ZW0iLCJTVEVOQ0lMX1RFU1QiLCJwcmV2TWFza0NvdW50IiwiY29sb3JNYXNrIiwic3RlbmNpbEZ1bmMiLCJFUVVBTCIsIl9nZXRCaXR3aXNlTWFzayIsInN0ZW5jaWxPcCIsIktFRVAiLCJJTkNSIiwiU1RFTkNJTF9CVUZGRVJfQklUIiwiY2xlYXJTdGVuY2lsIiwiREVDUiIsIlByb2plY3Rpb25TeXN0ZW0iLCJkZWZhdWx0RnJhbWUiLCJwcm9qZWN0aW9uTWF0cml4IiwiY2FsY3VsYXRlUHJvamVjdGlvbiIsInN5bmNVbmlmb3JtR3JvdXAiLCJnbG9iYWxzIiwiX2Rlc3RpbmF0aW9uRnJhbWUiLCJfcmVzb2x1dGlvbiIsIl9tYXRyaXgiLCJ0ZW1wUmVjdDIiLCJ2aWV3cG9ydEZyYW1lIiwiUmVuZGVyVGV4dHVyZVN5c3RlbSIsIl9iYWNrZ3JvdW5kQ29sb3JSZ2JhIiwiZGVmYXVsdE1hc2tTdGFjayIsInNjcmVlbiIsIkdMUHJvZ3JhbSIsInVuaWZvcm1Hcm91cHMiLCJVSUQkNCIsImRlZmF1bHRTeW5jRGF0YSIsInRleHR1cmVDb3VudCIsIlNoYWRlclN5c3RlbSIsInN5c3RlbUNoZWNrIiwiY2FjaGUiLCJ1bnNhZmVFdmFsU3VwcG9ydGVkIiwiZG9udFN5bmMiLCJnbFByb2dyYW0iLCJnZW5lcmF0ZVNoYWRlciIsInNldFVuaWZvcm1zIiwic3luY0RhdGEiLCJnZXRnbFByb2dyYW0iLCJjcmVhdGVTeW5jR3JvdXBzIiwiZnVuY0ZyYWdtZW50cyIsInBhcnNlZCIsInRlbXBsYXRlIiwiZ2VuZXJhdGVVbmlmb3Jtc1N5bmMiLCJhdHRyaWJNYXAiLCJzaGFkZXJQcm9ncmFtIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiU3RhdGVTeXN0ZW0iLCJzdGF0ZUlkIiwiX2JsZW5kRXEiLCJzZXRCbGVuZCIsInNldE9mZnNldCIsInNldEN1bGxGYWNlIiwic2V0RGVwdGhUZXN0Iiwic2V0RnJvbnRGYWNlIiwiY2hlY2tzIiwiZGVmYXVsdFN0YXRlIiwiYmxlbmRNb2RlcyIsIk9ORSIsIk9ORV9NSU5VU19TUkNfQUxQSEEiLCJNVUxUSVBMWSIsIkRTVF9DT0xPUiIsIk9ORV9NSU5VU19TUkNfQ09MT1IiLCJPVkVSTEFZIiwiREFSS0VOIiwiTElHSFRFTiIsIkNPTE9SX0RPREdFIiwiQ09MT1JfQlVSTiIsIkhBUkRfTElHSFQiLCJTT0ZUX0xJR0hUIiwiRElGRkVSRU5DRSIsIkVYQ0xVU0lPTiIsIkhVRSIsIlNBVFVSQVRJT04iLCJMVU1JTk9TSVRZIiwiU1JDX0FMUEhBIiwiU1JDX0lOIiwiRFNUX0FMUEhBIiwiWkVSTyIsIlNSQ19PVVQiLCJPTkVfTUlOVVNfRFNUX0FMUEhBIiwiU1JDX0FUT1AiLCJEU1RfT1ZFUiIsIkRTVF9JTiIsIkRTVF9PVVQiLCJEU1RfQVRPUCIsIlhPUiIsIlNVQlRSQUNUIiwiRlVOQ19SRVZFUlNFX1NVQlRSQUNUIiwiRlVOQ19BREQiLCJtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkiLCJkaWZmIiwiZm9yY2VTdGF0ZSIsInVwZGF0ZUNoZWNrIiwiY2hlY2tCbGVuZE1vZGUiLCJjaGVja1BvbHlnb25PZmZzZXQiLCJQT0xZR09OX09GRlNFVF9GSUxMIiwiREVQVEhfVEVTVCIsIkNVTExfRkFDRSIsImZyb250RmFjZSIsInNldEJsZW5kTW9kZSIsImJsZW5kRnVuYyIsImJsZW5kRnVuY1NlcGFyYXRlIiwiYmxlbmRFcXVhdGlvblNlcGFyYXRlIiwic2V0UG9seWdvbk9mZnNldCIsIlVOUEFDS19GTElQX1lfV0VCR0wiLCJUZXh0dXJlR0NTeXN0ZW0iLCJjaGVja0NvdW50IiwibWF4SWRsZSIsImNoZWNrQ291bnRNYXgiLCJNQU5VQUwiLCJ0bSIsIm1hbmFnZWRUZXh0dXJlcyIsIndhc1JlbW92ZWQiLCJkZXN0cm95VGV4dHVyZSIsInVubG9hZCIsIkdMVGV4dHVyZSIsIlRleHR1cmVTeXN0ZW0iLCJjdXJyZW50TG9jYXRpb24iLCJfdW5rbm93bkJvdW5kVGV4dHVyZXMiLCJ1bmtub3duVGV4dHVyZSIsImdldFBhcmFtZXRlciIsIk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTIiwiZW1wdHlUZXh0dXJlcyIsImVtcHR5VGV4dHVyZTJEIiwiYmluZFRleHR1cmUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwidGV4dHVyZUdDIiwiaW5pdFRleHR1cmUiLCJhY3RpdmVUZXh0dXJlIiwiVEVYVFVSRTAiLCJ1cGRhdGVUZXh0dXJlIiwiaW5pdFRleHR1cmVUeXBlIiwiUkdCQTMyRiIsIkhBTEZfRkxPQVQiLCJSR0JBMTZGIiwidXBkYXRlVGV4dHVyZVN0eWxlIiwic2tpcFJlbW92ZSIsImRlbGV0ZVRleHR1cmUiLCJQT1cyIiwiQ0xBTVAiLCJnZW5lcmF0ZU1pcG1hcCIsIlRFWFRVUkVfV1JBUF9TIiwiVEVYVFVSRV9XUkFQX1QiLCJMSU5FQVJfTUlQTUFQX0xJTkVBUiIsIk5FQVJFU1RfTUlQTUFQX05FQVJFU1QiLCJhbmlzb3Ryb3BpY0V4dCIsImxldmVsIiwiTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUIiwidGV4UGFyYW1ldGVyZiIsIlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUIiwidGVtcE1hdHJpeCIsIlJlbmRlcmVyIiwicHJlcmVuZGVyIiwiYWRkU3lzdGVtIiwiaW5pdFBsdWdpbnMiLCJfX3BsdWdpbnMiLCJwcmVtdWx0aXBsaWVkQWxwaGEiLCJwb3dlclByZWZlcmVuY2UiLCJsb2ciLCJzYXlIZWxsbyIsImNvbnRleHRPcHRpb25zIiwiZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCIsInN1Y2Nlc3MiLCJDbGFzc1JlZiIsInNraXBVcGRhdGVUcmFuc2Zvcm0iLCJpc0xvc3QiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsInJlbW92ZVZpZXciLCJyZWdpc3RlclBsdWdpbiIsInBsdWdpbk5hbWUiLCJjdG9yIiwiQWJzdHJhY3RSZW5kZXJlciIsIlVOS05PV04iLCJyb3VuZFBpeGVscyIsImF1dG9SZXNpemUiLCJfYmFja2dyb3VuZENvbG9yIiwiX2JhY2tncm91bmRDb2xvclN0cmluZyIsInN0YXRpY01hcCIsImdlbmVyYXRlVGV4dHVyZSIsInJlZ2lvbiIsInRoaXNBbnkiLCJkZWZhdWx0RmlsdGVyIiwiQmF0Y2hEcmF3Q2FsbCIsIkJhdGNoVGV4dHVyZUFycmF5IiwiVmlld2FibGVCdWZmZXIiLCJyYXdCaW5hcnlEYXRhIiwidWludDMyVmlldyIsImZsb2F0MzJWaWV3IiwiX2ludDhWaWV3IiwiSW50OEFycmF5IiwiX3VpbnQ4VmlldyIsIl9pbnQxNlZpZXciLCJJbnQxNkFycmF5IiwiX3VpbnQxNlZpZXciLCJfaW50MzJWaWV3Iiwic2l6ZU9mIiwiQWJzdHJhY3RCYXRjaFJlbmRlcmVyIiwic2hhZGVyR2VuZXJhdG9yIiwiZ2VvbWV0cnlDbGFzcyIsInZlcnRleFNpemUiLCJfdmVydGV4Q291bnQiLCJfaW5kZXhDb3VudCIsIl9idWZmZXJlZEVsZW1lbnRzIiwiX2J1ZmZlcmVkVGV4dHVyZXMiLCJfYnVmZmVyU2l6ZSIsIl9zaGFkZXIiLCJfcGFja2VkR2VvbWV0cmllcyIsIl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplIiwiX2ZsdXNoSWQiLCJfYUJ1ZmZlcnMiLCJfaUJ1ZmZlcnMiLCJNQVhfVEVYVFVSRVMiLCJvblByZXJlbmRlciIsIl9kY0luZGV4IiwiX2FJbmRleCIsIl9pSW5kZXgiLCJfYXR0cmlidXRlQnVmZmVyIiwiX2luZGV4QnVmZmVyIiwiX3RlbXBCb3VuZFRleHR1cmVzIiwiY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlciIsImluaXRGbHVzaEJ1ZmZlcnMiLCJfZHJhd0NhbGxQb29sIiwiX3RleHR1cmVBcnJheVBvb2wiLCJNQVhfU1BSSVRFUyIsIk1BWF9UQSIsImluZGljZXMiLCJidWlsZFRleHR1cmVzQW5kRHJhd0NhbGxzIiwidGV4dHVyZUFycmF5cyIsIlRJQ0siLCJjb3VudFRleEFycmF5cyIsImJ1aWxkRHJhd0NhbGxzIiwiZmluaXNoIiwiZHJhd0NhbGxzIiwiZGNJbmRleCIsImFJbmRleCIsImlJbmRleCIsImRyYXdDYWxsIiwic3ByaXRlQmxlbmRNb2RlIiwicGFja0ludGVybGVhdmVkR2VvbWV0cnkiLCJiaW5kQW5kQ2xlYXJUZXhBcnJheSIsInRleHR1cmVTeXN0ZW0iLCJ1cGRhdGVHZW9tZXRyeSIsInBhY2tlZEdlb21ldHJpZXMiLCJhdHRyaWJ1dGVCdWZmZXIiLCJfYnVmZmVyIiwiZHJhd0JhdGNoZXMiLCJkY0NvdW50Iiwic3RhdGVTeXN0ZW0iLCJjdXJUZXhBcnJheSIsIl9iIiwiZ2V0QXR0cmlidXRlQnVmZmVyIiwiZ2V0SW5kZXhCdWZmZXIiLCJyb3VuZGVkUDIiLCJyb3VuZGVkU2l6ZUluZGV4Iiwicm91bmRlZFNpemUiLCJwYWNrZWRWZXJ0aWNlcyIsImluZGljaWVzIiwidGV4dHVyZUlkIiwiYXJnYiIsIl90aW50UkdCIiwiQmF0Y2hTaGFkZXJHZW5lcmF0b3IiLCJwcm9ncmFtQ2FjaGUiLCJkZWZhdWx0R3JvdXBDYWNoZSIsInNhbXBsZVZhbHVlcyIsInVTYW1wbGVycyIsImdlbmVyYXRlU2FtcGxlU3JjIiwidHJhbnNsYXRpb25NYXRyaXgiLCJCYXRjaEdlb21ldHJ5IiwiZGVmYXVsdFZlcnRleCQyIiwiZGVmYXVsdEZyYWdtZW50JDIiLCJCYXRjaFJlbmRlcmVyIiwiQmF0Y2hQbHVnaW5GYWN0b3J5IiwidmVydGV4IiwiZnJhZ21lbnQiLCJCYXRjaFBsdWdpbiIsIkFwcGxpY2F0aW9uIiwiZm9yY2VDYW52YXMiLCJhdXRvRGV0ZWN0UmVuZGVyZXIiLCJzdGFnZSIsIl9wbHVnaW5zIiwicGx1Z2luIiwic3RhZ2VPcHRpb25zIiwicmV2ZXJzZSIsIlJlc2l6ZVBsdWdpbiIsImRvbSIsInF1ZXVlUmVzaXplIiwiX3Jlc2l6ZVRvIiwiY2FuY2VsUmVzaXplIiwiX3Jlc2l6ZUlkIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJyZXNpemVUbyIsIlRFTVBfUkVDVCIsIkV4dHJhY3QiLCJleHRyYWN0IiwiaW1hZ2UiLCJxdWFsaXR5IiwiYmFzZTY0IiwidG9EYXRhVVJMIiwiZmxpcFkiLCJnZW5lcmF0ZWQiLCJjYW52YXNCdWZmZXIiLCJ3ZWJnbFBpeGVscyIsInJlYWRQaXhlbHMiLCJjYW52YXNEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwiYXJyYXlQb3N0RGl2aWRlIiwicHV0SW1hZ2VEYXRhIiwidGFyZ2V0XzEiLCJwaXhlbHMiLCJfbm9vcCIsImVhY2hTZXJpZXMiLCJpdGVyYXRvciIsImRlZmVyTmV4dCIsIm9ubHlPbmNlIiwiY2FsbEZuIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ1c2VYZHIiLCJYRG9tYWluUmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0IiwiX25vb3AkMSIsIl9zZXRGbGFnIiwiU1RBVFVTX0ZMQUdTIiwiREFUQV9VUkwiLCJfZ2V0RXh0ZW5zaW9uIiwidGltZW91dCIsImxvYWRUeXBlIiwiX2RldGVybWluZUxvYWRUeXBlIiwieGhyVHlwZSIsIm1ldGFkYXRhIiwieGhyIiwiVFlQRSIsInByb2dyZXNzQ2h1bmsiLCJfZGVxdWV1ZSIsIl9vbkxvYWRCaW5kaW5nIiwiX2VsZW1lbnRUaW1lciIsIl9ib3VuZENvbXBsZXRlIiwiX2JvdW5kT25FcnJvciIsIl9ib3VuZE9uUHJvZ3Jlc3MiLCJfb25Qcm9ncmVzcyIsIl9ib3VuZE9uVGltZW91dCIsIl9vblRpbWVvdXQiLCJfYm91bmRYaHJPbkVycm9yIiwiX3hock9uRXJyb3IiLCJfYm91bmRYaHJPblRpbWVvdXQiLCJfeGhyT25UaW1lb3V0IiwiX2JvdW5kWGhyT25BYm9ydCIsIl94aHJPbkFib3J0IiwiX2JvdW5kWGhyT25Mb2FkIiwiX3hock9uTG9hZCIsIm9uU3RhcnQiLCJvblByb2dyZXNzIiwib25Db21wbGV0ZSIsIm9uQWZ0ZXJNaWRkbGV3YXJlIiwic2V0RXh0ZW5zaW9uTG9hZFR5cGUiLCJleHRuYW1lIiwic2V0RXh0TWFwIiwiX2xvYWRUeXBlTWFwIiwic2V0RXh0ZW5zaW9uWGhyVHlwZSIsIl94aHJUeXBlTWFwIiwiX3Byb3RvIiwiX2NsZWFyRXZlbnRzIiwiX2ZpbmlzaCIsImFib3J0IiwieGRyIiwiRU1QVFlfR0lGIiwiZmlyc3RDaGlsZCIsImlzTG9hZGluZyIsImlzQ29tcGxldGUiLCJMT0FESU5HIiwiX2RldGVybWluZUNyb3NzT3JpZ2luIiwiTE9BRF9UWVBFIiwiSU1BR0UiLCJfbG9hZEVsZW1lbnQiLCJBVURJTyIsIl9sb2FkU291cmNlRWxlbWVudCIsIlZJREVPIiwiWEhSIiwiX2xvYWRYZHIiLCJfbG9hZFhociIsIl9oYXNGbGFnIiwib250aW1lb3V0Iiwib25wcm9ncmVzcyIsIkNPTVBMRVRFIiwibG9hZEVsZW1lbnQiLCJza2lwU291cmNlIiwiQXVkaW8iLCJpc0NvY29vbkpTIiwibWltZVR5cGVzIiwibWltZVR5cGUiLCJfY3JlYXRlU291cmNlIiwiX21pbWVUeXBlcyIsIl9kZXRlcm1pbmVYaHJUeXBlIiwib3BlbiIsIlhIUl9SRVNQT05TRV9UWVBFIiwiSlNPTiIsIkRPQ1VNRU5UIiwicmVzcG9uc2VUeXBlIiwiVEVYVCIsInNlbmQiLCJub2RlTmFtZSIsImxlbmd0aENvbXB1dGFibGUiLCJ0b3RhbCIsInJlcVR5cGUiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwidGV4dCIsInJlc3BvbnNlVGV4dCIsIkJVRkZFUiIsIkRPTVBhcnNlciIsImRvbXBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsIlhNTCIsInJlc3BvbnNlIiwicmVzcG9uc2VVUkwiLCJvcmlnaW4iLCJpc0RhdGFVcmwiLCJzbGFzaEluZGV4IiwicXVlcnlTdGFydCIsImhhc2hTdGFydCIsIl9nZXRNaW1lRnJvbVhoclR5cGUiLCJCTE9CIiwiREVGQVVMVCIsImdpZiIsInBuZyIsImJtcCIsImpwZyIsImpwZWciLCJ0aWYiLCJ0aWZmIiwid2VicCIsInRnYSIsIm1wMyIsIm9nZyIsIndhdiIsIm1wNCIsIndlYm0iLCJ4aHRtbCIsImh0bWwiLCJodG0iLCJ4bWwiLCJ0bXgiLCJ0c3giLCJqc29uIiwidHh0IiwidHRmIiwib3RmIiwiVVJMIiwid2Via2l0VVJMIiwiY2FjaGluZyIsInBhcnNpbmciLCJCbG9iIiwiY3JlYXRlT2JqZWN0VVJMIiwiYmxvYiIsInJldm9rZU9iamVjdFVSTCIsImdldFJlc3BvbnNlSGVhZGVyIiwiaW54IiwiYnl0ZWJ1ZmZlciIsImVuY29kZWRDaGFySW5kZXhlcyIsImpueCIsIl9qbngiLCJlbmNvZGVCaW5hcnkiLCJyZ3hFeHRyYWN0VXJsSGFzaCIsIkxvYWRlciIsImJhc2VVcmwiLCJjb25jdXJyZW5jeSIsInByb2dyZXNzIiwibG9hZGluZyIsImRlZmF1bHRRdWVyeVN0cmluZyIsIl9iZWZvcmVNaWRkbGV3YXJlIiwiX2FmdGVyTWlkZGxld2FyZSIsIl9yZXNvdXJjZXNQYXJzaW5nIiwiX2JvdW5kTG9hZFJlc291cmNlIiwiX2xvYWRSZXNvdXJjZSIsIl9xdWV1ZSIsIndvcmtlciIsIndvcmtlcnMiLCJfdGFza3MiLCJzYXR1cmF0ZWQiLCJ1bnNhdHVyYXRlZCIsImVtcHR5IiwiZHJhaW4iLCJfaW5zZXJ0Iiwia2lsbCIsInRhc2siLCJydW5uaW5nIiwiaWRsZSIsInJlc3VtZSIsImluc2VydEF0RnJvbnQiLCJvbkxvYWQiLCJfZGVmYXVsdEJlZm9yZU1pZGRsZXdhcmUiLCJwcmUiLCJfZGVmYXVsdEFmdGVyTWlkZGxld2FyZSIsInVzZSIsInBhcmVudFJlc291cmNlIiwiX3ByZXBhcmVVcmwiLCJpbmNvbXBsZXRlQ2hpbGRyZW4iLCJfaTIiLCJlYWNoQ2h1bmsiLCJfaTMiLCJfb25TdGFydCIsIl9vbkNvbXBsZXRlIiwiY2h1bmsiLCJkZXF1ZXVlIiwiX3RoaXMyIiwiX29uTG9hZCIsIl90aGlzMyIsIkxvYWRlclJlc291cmNlIiwiVGV4dHVyZUxvYWRlciIsIkFwcExvYWRlclBsdWdpbiIsInNoYXJlZExvYWRlciIsImxvYWRlciIsIlBhcnRpY2xlQ29udGFpbmVyIiwibWF4U2l6ZSIsInByb3BlcnRpZXMiLCJiYXRjaFNpemUiLCJfcHJvcGVydGllcyIsIl9tYXhTaXplIiwiX2JhdGNoU2l6ZSIsIl9idWZmZXJzIiwiX2J1ZmZlclVwZGF0ZUlEcyIsInNldFByb3BlcnRpZXMiLCJfdGludCIsInRpbnRSZ2IiLCJwYXJ0aWNsZSIsInNtYWxsZXN0Q2hpbGRJbmRleCIsIkxJTkVfSk9JTiIsIkxJTkVfQ0FQIiwiUGFydGljbGVCdWZmZXIiLCJkeW5hbWljUHJvcGVydHlGbGFncyIsImR5bmFtaWNQcm9wZXJ0aWVzIiwic3RhdGljUHJvcGVydGllcyIsInByb3BlcnR5IiwiYXR0cmlidXRlTmFtZSIsInVwbG9hZEZ1bmN0aW9uIiwic3RhdGljU3RyaWRlIiwic3RhdGljQnVmZmVyIiwic3RhdGljRGF0YSIsInN0YXRpY0RhdGFVaW50MzIiLCJkeW5hbWljU3RyaWRlIiwiZHluYW1pY0J1ZmZlciIsImR5bmFtaWNEYXRhIiwiZHluYW1pY0RhdGFVaW50MzIiLCJpbml0QnVmZmVycyIsImR5bmFtaWNPZmZzZXQiLCJvdXRCdWZmZXIiLCJ0b3RhbEluZGljZXMiLCJjcmVhdGVJbmRpY2VzRm9yUXVhZHMiLCJkeW5CdWZmZXIiLCJzdGF0aWNPZmZzZXQiLCJzdGF0QnVmZmVyIiwidXBsb2FkRHluYW1pYyIsInN0YXJ0SW5kZXgiLCJhbW91bnQiLCJ1cGxvYWRTdGF0aWMiLCJQYXJ0aWNsZVJlbmRlcmVyIiwidXBsb2FkVmVydGljZXMiLCJ1cGxvYWRQb3NpdGlvbiIsInVwbG9hZFJvdGF0aW9uIiwidXBsb2FkVXZzIiwidXBsb2FkVGludCIsInRvdGFsQ2hpbGRyZW4iLCJnZW5lcmF0ZUJ1ZmZlcnMiLCJyZ2IiLCJ1Q29sb3IiLCJ1cGRhdGVTdGF0aWMiLCJfZ2VuZXJhdGVPbmVNb3JlQnVmZmVyIiwiYmlkIiwidzAiLCJ3MSIsImgwIiwiaDEiLCJzcHJpdGVQb3NpdGlvbiIsInNwcml0ZVJvdGF0aW9uIiwidGV4dHVyZVV2cyIsIkdSQVBISUNTX0NVUlZFUyIsImFkYXB0aXZlIiwibWF4TGVuZ3RoIiwibWluU2VnbWVudHMiLCJtYXhTZWdtZW50cyIsImVwc2lsb24iLCJfc2VnbWVudHNDb3VudCIsImRlZmF1bHRTZWdtZW50cyIsIkZpbGxTdHlsZSIsImNvbG9yIiwiYnVpbGRQb2x5IiwiYnVpbGQiLCJncmFwaGljc0RhdGEiLCJzaGFwZSIsInRyaWFuZ3VsYXRlIiwiZ3JhcGhpY3NHZW9tZXRyeSIsInZlcnRzIiwiaG9sZUFycmF5IiwidmVydFBvcyIsImJ1aWxkQ2lyY2xlIiwiY2lyY2xlRGF0YSIsImVsbGlwc2VEYXRhIiwidG90YWxTZWdzIiwic2VnIiwiY2VudGVyIiwiY2lyY2xlIiwiZ2V0UHQiLCJuMSIsIm4yIiwicGVyYyIsInF1YWRyYXRpY0JlemllckN1cnZlIiwiZnJvbVgiLCJmcm9tWSIsImNwWCIsImNwWSIsInRvWCIsInRvWSIsInhhIiwieWEiLCJ4YiIsInliIiwiYnVpbGRSb3VuZGVkUmVjdGFuZ2xlIiwicnJlY3REYXRhIiwidmVjUG9zIiwic3F1YXJlIiwibngiLCJueSIsImlubmVyV2VpZ2h0Iiwib3V0ZXJXZWlnaHQiLCJleHgiLCJleXkiLCJlaXgiLCJlaXkiLCJlb3giLCJlb3kiLCJleCIsImV5IiwiY3gycDB4IiwiY3kycDB5IiwiYW5nbGUwIiwiYW5nbGUxIiwic3RhcnRBbmdsZSIsImFuZ2xlRGlmZiIsImFic0FuZ2xlRGlmZiIsInNlZ0NvdW50IiwiYW5nbGVJbmMiLCJidWlsZExpbmUiLCJsaW5lU3R5bGUiLCJuYXRpdmUiLCJjbG9zZWRTaGFwZSIsImJ1aWxkTmF0aXZlTGluZSIsImNsb3NlUG9pbnRFcHMiLCJmaXJzdFBvaW50IiwibGFzdFBvaW50IiwiY2xvc2VkUGF0aCIsIm1pZFBvaW50WCIsIm1pZFBvaW50WSIsImluZGV4Q291bnQiLCJpbmRleFN0YXJ0Iiwid2lkdGhTcXVhcmVkIiwibWl0ZXJMaW1pdFNxdWFyZWQiLCJtaXRlckxpbWl0IiwicGVycHgiLCJwZXJweSIsInBlcnAxeCIsInBlcnAxeSIsImRpc3QiLCJyYXRpbyIsImFsaWdubWVudCIsImNhcCIsIlJPVU5EIiwiU1FVQVJFIiwiZHgwIiwiZHkwIiwiZHgxIiwiZHkxIiwiY3Jvc3MiLCJjMiIsInBkaXN0IiwiaW14IiwiaW15Iiwib214Iiwib215IiwiQkVWRUwiLCJlcHMyIiwiYnVpbGROb25OYXRpdmVMaW5lIiwiVEVYVF9HUkFESUVOVCIsIlN0YXIiLCJpbm5lclJhZGl1cyIsIkFyY1V0aWxzIiwiY3VydmVUbyIsIm1tIiwiZGQiLCJjYyIsInR0IiwiazEiLCJrMiIsImoxIiwiajIiLCJxeSIsImVuZEFuZ2xlIiwiYW50aWNsb2Nrd2lzZSIsImFyYyIsIl9zdGFydFgiLCJfc3RhcnRZIiwiX2FudGljbG9ja3dpc2UiLCJzd2VlcCIsInRoZXRhIiwidGhldGEyIiwiY1RoZXRhIiwic1RoZXRhIiwic2VnTWludXMiLCJyZW1haW5kZXIiLCJCZXppZXJVdGlscyIsImN1cnZlTGVuZ3RoIiwiY3BYMiIsImNwWTIiLCJ0MiIsInQzIiwibnQiLCJudDIiLCJudDMiLCJwcmV2WCIsInByZXZZIiwiZHQiLCJkdDIiLCJkdDMiLCJRdWFkcmF0aWNVdGlscyIsImEzMiIsImJhIiwiQmF0Y2hQYXJ0IiwiYXR0cmliU3RhcnQiLCJlbmRBdHRyaWIiLCJGSUxMX0NPTU1BTkRTIiwicmVjdERhdGEiLCJCQVRDSF9QT09MIiwiRFJBV19DQUxMX1BPT0wiLCJHcmFwaGljc0RhdGEiLCJ0bXBQb2ludCIsInRtcEJvdW5kcyIsIkdyYXBoaWNzR2VvbWV0cnkiLCJpbmRpY2VzVWludDE2IiwiY29sb3JzIiwidGV4dHVyZUlkcyIsImJhdGNoRGlydHkiLCJjYWNoZURpcnR5IiwiY2xlYXJEaXJ0eSIsImJhdGNoZXMiLCJzaGFwZUluZGV4IiwiYm91bmRzRGlydHkiLCJib3VuZHNQYWRkaW5nIiwiYmF0Y2hhYmxlIiwiYmF0Y2hQYXJ0IiwiZHJhd1NoYXBlIiwiZHJhd0hvbGUiLCJsYXN0U2hhcGUiLCJoaXRIb2xlIiwiaV8xIiwidXBkYXRlQmF0Y2hlcyIsImFsbG93MzJJbmRpY2VzIiwidmFsaWRhdGVCYXRjaGluZyIsImN1cnJlbnRTdHlsZSIsInRyYW5zZm9ybVBvaW50cyIsIm5leHRUZXh0dXJlIiwiaW5kZXhfMSIsImF0dHJpYkluZGV4IiwiUkVQRUFUIiwicHJvY2Vzc0ZpbGwiLCJwcm9jZXNzTGluZSIsIl9jb21wYXJlU3R5bGVzIiwiYWRkVXZzIiwibmVlZDMyIiwiaXNCYXRjaGFibGUiLCJwYWNrQmF0Y2hlcyIsInN0eWxlQSIsInN0eWxlQiIsImZpbGwiLCJsaW5lIiwiQkFUQ0hBQkxFX1NJWkUiLCJjdXJyZW50R3JvdXAiLCJjdXJyZW50VGV4dHVyZSIsImRyYXdNb2RlIiwiTElORVMiLCJhZGRDb2xvcnMiLCJhZGRUZXh0dXJlSWRzIiwicGFja0F0dHJpYnV0ZXMiLCJnbFBvaW50cyIsImYzMiIsInUzMiIsInByb2Nlc3NIb2xlcyIsInNlcXVlbmNlQm91bmRzIiwiY3VyTWF0cml4IiwibmV4dE1hdHJpeCIsImxpbmVXaWR0aCIsImVsbGlwc2UiLCJwb2x5IiwicmdiYSIsInV2c1N0YXJ0IiwiYWRqdXN0VXZzIiwiTGluZVN0eWxlIiwiQlVUVCIsIk1JVEVSIiwidGVtcCIsIkRFRkFVTFRfU0hBREVSUyIsIkdyYXBoaWNzIiwiX2dlb21ldHJ5IiwiX2ZpbGxTdHlsZSIsIl9saW5lU3R5bGUiLCJfaG9sZU1vZGUiLCJjdXJyZW50UGF0aCIsImJhdGNoVGludCIsIl90cmFuc2Zvcm1JRCIsImZpbmlzaFBvbHkiLCJsaW5lVGV4dHVyZVN0eWxlIiwic3RhcnRQb2x5IiwibW92ZVRvIiwibGluZVRvIiwiX2luaXRDdXJ2ZSIsInF1YWRyYXRpY0N1cnZlVG8iLCJiZXppZXJDdXJ2ZVRvIiwiYXJjVG8iLCJyYWRpdXNfMSIsInN0YXJ0WCIsInN0YXJ0WSIsInhEaWZmIiwieURpZmYiLCJiZWdpbkZpbGwiLCJiZWdpblRleHR1cmVGaWxsIiwiZW5kRmlsbCIsImRyYXdSZWN0IiwiZHJhd1JvdW5kZWRSZWN0IiwiZHJhd0NpcmNsZSIsImRyYXdFbGxpcHNlIiwiZHJhd1BvbHlnb24iLCJkcmF3U3RhciIsImhhc3VpdDMyIiwiX3BvcHVsYXRlQmF0Y2hlcyIsIl9yZW5kZXJCYXRjaGVkIiwiX3JlbmRlckRpcmVjdCIsImdJIiwiX2JhdGNoUkdCIiwiY2FsY3VsYXRlVmVydGljZXMiLCJjYWxjdWxhdGVUaW50cyIsIl9yZXNvbHZlRGlyZWN0U2hhZGVyIiwiX3JlbmRlckRyYXdDYWxsRGlyZWN0IiwiZ3JvdXBUZXh0dXJlQ291bnQiLCJfVEVNUF9QT0lOVCIsInRpbnRSR0IiLCJ3dElEIiwiY2xvc2VQYXRoIiwic2V0TWF0cml4IiwiYmVnaW5Ib2xlIiwiZW5kSG9sZSIsInRlbXBQb2ludCIsIlNwcml0ZSIsIl9hbmNob3IiLCJfb25BbmNob3JVcGRhdGUiLCJfY2FjaGVkVGludCIsInZlcnRleFRyaW1tZWREYXRhIiwiX3RyYW5zZm9ybVRyaW1tZWRJRCIsIl90ZXh0dXJlVHJpbW1lZElEIiwiX3JvdW5kUGl4ZWxzIiwiX29uVGV4dHVyZVVwZGF0ZSIsImNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcyIsImRlc3Ryb3lCYXNlVGV4dHVyZSIsImRlZmF1bHRTdHlsZSIsImFsaWduIiwiYnJlYWtXb3JkcyIsImRyb3BTaGFkb3ciLCJkcm9wU2hhZG93QWxwaGEiLCJkcm9wU2hhZG93QW5nbGUiLCJkcm9wU2hhZG93Qmx1ciIsImRyb3BTaGFkb3dDb2xvciIsImRyb3BTaGFkb3dEaXN0YW5jZSIsImZpbGxHcmFkaWVudFR5cGUiLCJMSU5FQVJfVkVSVElDQUwiLCJmaWxsR3JhZGllbnRTdG9wcyIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImZvbnRTdHlsZSIsImZvbnRWYXJpYW50IiwiZm9udFdlaWdodCIsImxldHRlclNwYWNpbmciLCJsaW5lSGVpZ2h0IiwibGluZUpvaW4iLCJzdHJva2UiLCJzdHJva2VUaGlja25lc3MiLCJ0ZXh0QmFzZWxpbmUiLCJ3aGl0ZVNwYWNlIiwid29yZFdyYXAiLCJ3b3JkV3JhcFdpZHRoIiwibGVhZGluZyIsImdlbmVyaWNGb250RmFtaWxpZXMiLCJUZXh0U3R5bGUiLCJzdHlsZUlEIiwiZGVlcENvcHlQcm9wZXJ0aWVzIiwiY2xvbmVkUHJvcGVydGllcyIsIl9hbGlnbiIsIl9icmVha1dvcmRzIiwiX2Ryb3BTaGFkb3ciLCJfZHJvcFNoYWRvd0FscGhhIiwiX2Ryb3BTaGFkb3dBbmdsZSIsIl9kcm9wU2hhZG93Qmx1ciIsIl9kcm9wU2hhZG93Q29sb3IiLCJvdXRwdXRDb2xvciIsImdldENvbG9yIiwiX2Ryb3BTaGFkb3dEaXN0YW5jZSIsIl9maWxsIiwiX2ZpbGxHcmFkaWVudFR5cGUiLCJfZmlsbEdyYWRpZW50U3RvcHMiLCJhcnJheTEiLCJhcnJheTIiLCJhcmVBcnJheXNFcXVhbCIsIl9mb250RmFtaWx5IiwiX2ZvbnRTaXplIiwiX2ZvbnRTdHlsZSIsIl9mb250VmFyaWFudCIsIl9mb250V2VpZ2h0IiwiX2xldHRlclNwYWNpbmciLCJfbGluZUhlaWdodCIsIl9sZWFkaW5nIiwiX2xpbmVKb2luIiwiX21pdGVyTGltaXQiLCJfcGFkZGluZyIsIl9zdHJva2UiLCJfc3Ryb2tlVGhpY2tuZXNzIiwiX3RleHRCYXNlbGluZSIsIl90cmltIiwiX3doaXRlU3BhY2UiLCJfd29yZFdyYXAiLCJfd29yZFdyYXBXaWR0aCIsInRvRm9udFN0cmluZyIsImZvbnRTaXplU3RyaW5nIiwiZm9udEZhbWlsaWVzIiwiZ2V0U2luZ2xlQ29sb3IiLCJwcm9wZXJ0eU9iaiIsIlRleHRNZXRyaWNzIiwibGluZXMiLCJsaW5lV2lkdGhzIiwibWF4TGluZVdpZHRoIiwiZm9udFByb3BlcnRpZXMiLCJtZWFzdXJlVGV4dCIsIl9jYW52YXMiLCJmb250IiwibWVhc3VyZUZvbnQiLCJhc2NlbnQiLCJjb2xsYXBzZVNwYWNlcyIsImNvbGxhcHNlTmV3bGluZXMiLCJjYW5QcmVwZW5kU3BhY2VzIiwidG9rZW5zIiwidG9rZW5pemUiLCJ0b2tlbiIsImlzTmV3bGluZSIsImFkZExpbmUiLCJjdXJySXNCcmVha2luZ1NwYWNlIiwiaXNCcmVha2luZ1NwYWNlIiwibGFzdElzQnJlYWtpbmdTcGFjZSIsInRva2VuV2lkdGgiLCJnZXRGcm9tQ2FjaGUiLCJjYW5CcmVha1dvcmRzIiwiY2hhcmFjdGVycyIsIndvcmRXcmFwU3BsaXQiLCJjaGFyIiwibmV4dENoYXIiLCJsYXN0Q2hhciIsImNhbkJyZWFrQ2hhcnMiLCJjaGFyYWN0ZXJXaWR0aCIsImlzTGFzdFRva2VuIiwibmV3TGluZSIsInRyaW1SaWdodCIsInNwYWNpbmciLCJfbmV3bGluZXMiLCJfYnJlYWtpbmdTcGFjZXMiLCJfdG9rZW4iLCJfY2hhciIsIl9uZXh0Q2hhciIsIl9pbmRleCIsIl9mb250cyIsImRlc2NlbnQiLCJfY29udGV4dCIsIm1ldHJpY3NTdHJpbmciLCJNRVRSSUNTX1NUUklORyIsIkJBU0VMSU5FX1NZTUJPTCIsImJhc2VsaW5lIiwiQkFTRUxJTkVfTVVMVElQTElFUiIsImZpbGxUZXh0IiwiaW1hZ2VkYXRhIiwiY2xlYXJNZXRyaWNzIiwiZGVmYXVsdERlc3Ryb3lPcHRpb25zIiwiVGV4dCIsIm93bkNhbnZhcyIsIl9vd25DYW52YXMiLCJfYXV0b1Jlc29sdXRpb24iLCJfdGV4dCIsIl9zdHlsZSIsIl9zdHlsZUxpc3RlbmVyIiwiX2ZvbnQiLCJsb2NhbFN0eWxlSUQiLCJ1cGRhdGVUZXh0IiwicmVzcGVjdERpcnR5IiwibGluZVBvc2l0aW9uWCIsImxpbmVQb3NpdGlvblkiLCJtZWFzdXJlZCIsInBhc3Nlc0NvdW50IiwiaXNTaGFkb3dQYXNzIiwiZHNPZmZzZXRUZXh0IiwiZHNPZmZzZXRTaGFkb3ciLCJzdHJva2VTdHlsZSIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwiX2dlbmVyYXRlRmlsbFN0eWxlIiwiZHJhd0xldHRlclNwYWNpbmciLCJpc1N0cm9rZSIsImN1cnJlbnRQb3NpdGlvbiIsInN0cmluZ0FycmF5IiwicHJldmlvdXNXaWR0aCIsImN1cnJlbnRXaWR0aCIsImN1cnJlbnRDaGFyIiwic3Ryb2tlVGV4dCIsInRyaW1tZWQiLCJyaWdodCIsImJvdHRvbSIsInRyaW1DYW52YXMiLCJtZXRyaWNzIiwiZ3JhZGllbnQiLCJkcm9wU2hhZG93Q29ycmVjdGlvbiIsImxlbmd0aFBsdXMxIiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJsYXN0SXRlcmF0aW9uU3RvcCIsImdyYWRTdG9wTGluZUhlaWdodCIsInRoaXNMaW5lVG9wIiwiZ2xvYmFsU3RvcCIsImNsYW1wZWRTdG9wIiwiYWRkQ29sb3JTdG9wIiwidG90YWxJdGVyYXRpb25zIiwiY3VycmVudEl0ZXJhdGlvbiIsIlVQTE9BRFNfUEVSX0ZSQU1FIiwiQ291bnRMaW1pdGVyIiwibWF4SXRlbXNQZXJGcmFtZSIsIml0ZW1zTGVmdCIsImJlZ2luRnJhbWUiLCJhbGxvd2VkVG9VcGxvYWQiLCJmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMiLCJfdGV4dHVyZXMiLCJmaW5kQmFzZVRleHR1cmUiLCJmaW5kVGV4dHVyZSIsImRyYXdUZXh0IiwiX2hlbHBlciIsImNhbGN1bGF0ZVRleHRTdHlsZSIsImZpbmRUZXh0IiwiZmluZFRleHRTdHlsZSIsInVwbG9hZEJhc2VUZXh0dXJlcyIsInVwbG9hZEdyYXBoaWNzIiwiZmluZEdyYXBoaWNzIiwiUHJlcGFyZSIsInVwbG9hZEhvb2tIZWxwZXIiLCJyZWdpc3RlckZpbmRIb29rIiwicmVnaXN0ZXJVcGxvYWRIb29rIiwiQmFzZVByZXBhcmUiLCJsaW1pdGVyIiwiYWRkSG9va3MiLCJ1cGxvYWRIb29rcyIsImNvbXBsZXRlcyIsInRpY2tpbmciLCJkZWxheWVkVGljayIsInByZXBhcmVJdGVtcyIsImRvbmUiLCJ0aWNrIiwiVVRJTElUWSIsInVwbG9hZGVkIiwiYWRkSG9vayIsInVwbG9hZEhvb2siLCJTcHJpdGVzaGVldCIsIlRpbWVMaW1pdGVyIiwibWF4TWlsbGlzZWNvbmRzIiwiZnJhbWVTdGFydCIsInJlc29sdXRpb25GaWxlbmFtZSIsImFuaW1hdGlvbnMiLCJfdXBkYXRlUmVzb2x1dGlvbiIsIl9mcmFtZXMiLCJmcmFtZXMiLCJfZnJhbWVLZXlzIiwiX2JhdGNoSW5kZXgiLCJfY2FsbGJhY2siLCJtZXRhIiwiQkFUQ0hfU0laRSIsIl9wcm9jZXNzRnJhbWVzIiwiX3Byb2Nlc3NBbmltYXRpb25zIiwiX3BhcnNlQ29tcGxldGUiLCJfbmV4dEJhdGNoIiwiaW5pdGlhbEZyYW1lSW5kZXgiLCJmcmFtZUluZGV4IiwibWF4RnJhbWVzIiwic291cmNlU2l6ZSIsInJvdGF0ZWQiLCJzcHJpdGVTb3VyY2VTaXplIiwiYW5pbU5hbWUiLCJmcmFtZU5hbWUiLCJTcHJpdGVzaGVldExvYWRlciIsImltYWdlUmVzb3VyY2VOYW1lIiwibG9hZE9wdGlvbnMiLCJpbWFnZU1ldGFkYXRhIiwicmVzb3VyY2VQYXRoIiwiZ2V0UmVzb3VyY2VQYXRoIiwic3ByaXRlc2hlZXQiLCJUaWxpbmdTcHJpdGUiLCJ0aWxlVHJhbnNmb3JtIiwidXZSZXNwZWN0QW5jaG9yIiwiVGlsaW5nU3ByaXRlUmVuZGVyZXIiLCJzaW1wbGVTaGFkZXIiLCJ0cyIsImJhc2VUZXgiLCJ1diIsIkgiLCJ1TWFwQ29vcmQiLCJ1VHJhbnNmb3JtIiwiTWVzaEJhdGNoVXZzIiwiX2J1ZmZlclVwZGF0ZUlkIiwiX3RleHR1cmVVcGRhdGVJZCIsInRlbXBQb2x5Z29uIiwiTWVzaCIsInZlcnRleERpcnR5IiwiYmF0Y2hVdnMiLCJfcmVuZGVyVG9CYXRjaCIsIl9yZW5kZXJEZWZhdWx0IiwiY2FsY3VsYXRlVXZzIiwibWF0ZXJpYWwiLCJ2ZXJ0ZXhEaXJ0eUlkIiwiZ2VvbVV2cyIsInN0ZXAiLCJpbmQwIiwiaW5kMSIsImluZDIiLCJNZXNoTWF0ZXJpYWwiLCJ1VGV4dHVyZU1hdHJpeCIsIl9jb2xvckRpcnR5IiwiX2FscGhhIiwiTWVzaEdlb21ldHJ5IiwidmVydGljZXNCdWZmZXIiLCJ1dnNCdWZmZXIiLCJfdXBkYXRlSWQiLCJCaXRtYXBGb250RGF0YSIsImluZm8iLCJjb21tb24iLCJwYWdlIiwia2VybmluZyIsImZvcm1hdHMiLCJUZXh0Rm9ybWF0IiwicmF3RGF0YSIsImNoYXJzIiwiYXR0cmlidXRlTGlzdCIsIml0ZW1EYXRhIiwic3RyVmFsdWUiLCJmbG9hdFZhbHVlIiwiZmFjZSIsImZpbGUiLCJ4b2Zmc2V0IiwieW9mZnNldCIsInhhZHZhbmNlIiwiZmlyc3QiLCJzZWNvbmQiLCJYTUxGb3JtYXQiLCJYTUxEb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiYXV0b0RldGVjdEZvcm1hdCIsImdlbmVyYXRlRmlsbFN0eWxlIiwiZHJhd0dseXBoIiwiQml0bWFwRm9udCIsInBhZ2VUZXh0dXJlcyIsInBhZ2VfMSIsIl9jIiwieE9mZnNldCIsInlPZmZzZXQiLCJ4QWR2YW5jZSIsIl9kIiwiaW5zdGFsbCIsImZvbnREYXRhIiwiYXZhaWxhYmxlIiwidW5pbnN0YWxsIiwidGV4dFN0eWxlIiwiZGVmYXVsdE9wdGlvbnMiLCJ0ZXh0dXJlV2lkdGgiLCJ0ZXh0dXJlSGVpZ2h0IiwiY2hhcnNMaXN0Iiwic3RhcnRDb2RlIiwiZW5kQ29kZSIsImpfMSIsInJlc29sdmVDaGFyYWN0ZXJzIiwicG9zaXRpb25YIiwicG9zaXRpb25ZIiwibWF4Q2hhckhlaWdodCIsInRleHR1cmVHbHlwaFdpZHRoIiwiQUxQSEEiLCJOVU1FUklDIiwiQUxQSEFOVU1FUklDIiwiQVNDSUkiLCJwYWdlTWVzaERhdGFQb29sIiwiY2hhclJlbmRlckRhdGFQb29sIiwiQml0bWFwRm9udExvYWRlciIsIkJpdG1hcFRleHQiLCJfdXBncmFkZVN0eWxlIiwic3R5bGVEZWZhdWx0cyIsIm1heFdpZHRoIiwiZm9udE5hbWUiLCJfYWN0aXZlUGFnZXNNZXNoRGF0YSIsIl90ZXh0V2lkdGgiLCJfdGV4dEhlaWdodCIsIl9mb250TmFtZSIsIl9tYXhXaWR0aCIsIl9tYXhMaW5lSGVpZ2h0IiwidGV4dExlbmd0aCIsInByZXZDaGFyQ29kZSIsImxhc3RMaW5lV2lkdGgiLCJsYXN0QnJlYWtQb3MiLCJsYXN0QnJlYWtXaWR0aCIsInNwYWNlc1JlbW92ZWQiLCJtYXhMaW5lSGVpZ2h0IiwiY2hhckNvZGUiLCJjaGFyRGF0YSIsImNoYXJSZW5kZXJEYXRhIiwibGluZUFsaWduT2Zmc2V0cyIsImFsaWduT2Zmc2V0IiwibGVuQ2hhcnMiLCJwYWdlc01lc2hEYXRhIiwibmV3UGFnZXNNZXNoRGF0YSIsImFjdGl2ZVBhZ2VzTWVzaERhdGEiLCJiYXNlVGV4dHVyZVVpZCIsInBhZ2VNZXNoRGF0YSIsInZlcnRleENvdW50IiwidXZzQ291bnQiLCJtZXNoIiwieFBvcyIsInlQb3MiLCJwYWdlTWVzaCIsInRleHR1cmVGcmFtZSIsImFuY2hvck9mZnNldFgiLCJhbmNob3JPZmZzZXRZIiwidGV4dHVyZUJ1ZmZlciIsInZhbGlkYXRlIiwidmFsdWVTcGxpdCIsInJlZ2lzdGVyRm9udCIsImdldEJhc2VVcmwiLCJwYWdlRmlsZSIsImJpdG1hcEZvbnQiLCJiaXRtYXBSZXNvdXJjZSIsInJlc1VybCIsImRpcm5hbWUiLCJkaXIiLCJBbHBoYUZpbHRlciIsInVBbHBoYSIsIkdBVVNTSUFOX1ZBTFVFUyIsIjUiLCI3IiwiOSIsIjExIiwiMTMiLCIxNSIsIkJsdXJGaWx0ZXJQYXNzIiwiaG9yaXpvbnRhbCIsInN0cmVuZ3RoIiwia2VybmVsU2l6ZSIsInZlcnRTcmMiLCJoYWxmTGVuZ3RoIiwidmVydFNvdXJjZSIsImJsdXJMb29wIiwiYmx1ciIsImdlbmVyYXRlQmx1clZlcnRTb3VyY2UiLCJmcmFnU3JjIiwia2VybmVsIiwiZnJhZ1NvdXJjZSIsImdlbmVyYXRlQmx1ckZyYWdTb3VyY2UiLCJfcXVhbGl0eSIsInBhc3NlcyIsInJlbmRlclRhcmdldCIsIkJsdXJGaWx0ZXIiLCJibHVyWEZpbHRlciIsImJsdXJZRmlsdGVyIiwicmVwZWF0RWRnZVBpeGVscyIsInhTdHJlbmd0aCIsInlTdHJlbmd0aCIsInVwZGF0ZVBhZGRpbmciLCJfcmVwZWF0RWRnZVBpeGVscyIsIkNvbG9yTWF0cml4RmlsdGVyIiwiX2xvYWRNYXRyaXgiLCJtdWx0aXBseSIsIm5ld01hdHJpeCIsIl9tdWx0aXBseSIsIl9jb2xvck1hdHJpeCIsImJyaWdodG5lc3MiLCJncmV5c2NhbGUiLCJibGFja0FuZFdoaXRlIiwiaHVlIiwiY29zUiIsInNpblIiLCJzcXJXIiwiY29udHJhc3QiLCJzYXR1cmF0ZSIsImRlc2F0dXJhdGUiLCJuZWdhdGl2ZSIsInNlcGlhIiwidGVjaG5pY29sb3IiLCJwb2xhcm9pZCIsInRvQkdSIiwia29kYWNocm9tZSIsImJyb3duaSIsInZpbnRhZ2UiLCJjb2xvclRvbmUiLCJkZXNhdHVyYXRpb24iLCJ0b25lZCIsImxpZ2h0Q29sb3IiLCJkYXJrQ29sb3IiLCJsUiIsImxHIiwibEIiLCJkUiIsImRHIiwiZEIiLCJuaWdodCIsImludGVuc2l0eSIsInByZWRhdG9yIiwibHNkIiwiZ3JheXNjYWxlIiwiRGlzcGxhY2VtZW50RmlsdGVyIiwibWFwU2FtcGxlciIsImZpbHRlck1hdHJpeCIsImxlblgiLCJsZW5ZIiwiTm9pc2VGaWx0ZXIiLCJub2lzZSIsInNlZWQiLCJyYW5kb20iLCJ1Tm9pc2UiLCJ1U2VlZCIsIl90ZW1wTWF0cml4IiwiX2NhY2hlQXNCaXRtYXAiLCJfY2FjaGVEYXRhIiwiQ2FjaGVEYXRhIiwidGV4dHVyZUNhY2hlSWQiLCJvcmlnaW5hbFJlbmRlciIsIm9yaWdpbmFsUmVuZGVyQ2FudmFzIiwib3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMiLCJvcmlnaW5hbEdldExvY2FsQm91bmRzIiwib3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0iLCJvcmlnaW5hbERlc3Ryb3kiLCJvcmlnaW5hbE1hc2siLCJvcmlnaW5hbEZpbHRlckFyZWEiLCJvcmlnaW5hbENvbnRhaW5zUG9pbnQiLCJjYWNoZUFzQml0bWFwIiwicmVuZGVyQ2FudmFzIiwiX3JlbmRlckNhY2hlZCIsIl9yZW5kZXJDYWNoZWRDYW52YXMiLCJfY2FjaGVBc0JpdG1hcERlc3Ryb3kiLCJfZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QiLCJfaW5pdENhY2hlZERpc3BsYXlPYmplY3QiLCJjYWNoZUFscGhhIiwiY2FjaGVkUmVuZGVyVGV4dHVyZSIsImNhY2hlZFNvdXJjZUZyYW1lIiwiY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybSIsIl9jYWxjdWxhdGVDYWNoZWRCb3VuZHMiLCJfZ2V0Q2FjaGVkTG9jYWxCb3VuZHMiLCJjYWNoZWRTcHJpdGUiLCJfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMiLCJfcmVuZGVyQ2FudmFzIiwiY2FjaGVkUmVuZGVyVGFyZ2V0IiwiX3Byb2pUcmFuc2Zvcm0iLCJnZXRDaGlsZEJ5TmFtZSIsImRlZXAiLCJnZXRHbG9iYWxQb3NpdGlvbiIsIlBsYW5lR2VvbWV0cnkiLCJzZWdXaWR0aCIsInNlZ0hlaWdodCIsInNlZ21lbnRzWCIsInNlZ21lbnRzWSIsInNpemVYIiwic2l6ZVkiLCJ0b3RhbFN1YiIsInhwb3MiLCJ5cG9zIiwidmFsdWUyIiwidmFsdWUzIiwidmFsdWU0IiwiUm9wZUdlb21ldHJ5IiwidGV4dHVyZVNjYWxlIiwiZGlzdGFuY2UiLCJ1cGRhdGVWZXJ0aWNlcyIsIm5leHRQb2ludCIsInBlcnBYIiwicGVycFkiLCJwZXJwTGVuZ3RoIiwiU2ltcGxlUGxhbmUiLCJTaW1wbGVSb3BlIiwicm9wZUdlb21ldHJ5IiwibWVzaE1hdGVyaWFsIiwidmVydGljZXNYIiwidmVydGljZXNZIiwicGxhbmVHZW9tZXRyeSIsInRleHR1cmVVcGRhdGVkIiwiU2ltcGxlTWVzaCIsIk5pbmVTbGljZVBsYW5lIiwibGVmdFdpZHRoIiwidG9wSGVpZ2h0IiwicmlnaHRXaWR0aCIsImJvdHRvbUhlaWdodCIsIl9vcmlnV2lkdGgiLCJfb3JpZ0hlaWdodCIsIl9sZWZ0V2lkdGgiLCJfcmlnaHRXaWR0aCIsIl90b3BIZWlnaHQiLCJfYm90dG9tSGVpZ2h0IiwiX3JlZnJlc2giLCJ1cGRhdGVIb3Jpem9udGFsVmVydGljZXMiLCJfZ2V0TWluU2NhbGUiLCJ1cGRhdGVWZXJ0aWNhbFZlcnRpY2VzIiwic2NhbGVXIiwic2NhbGVIIiwiX3V2dyIsIl91dmgiLCJBbmltYXRlZFNwcml0ZSIsIl9kdXJhdGlvbnMiLCJhbmltYXRpb25TcGVlZCIsImxvb3AiLCJ1cGRhdGVBbmNob3IiLCJvbkZyYW1lQ2hhbmdlIiwib25Mb29wIiwiX2N1cnJlbnRUaW1lIiwiX3BsYXlpbmciLCJfcHJldmlvdXNGcmFtZSIsImdvdG9BbmRTdG9wIiwiZnJhbWVOdW1iZXIiLCJwcmV2aW91c0ZyYW1lIiwiY3VycmVudEZyYW1lIiwiZ290b0FuZFBsYXkiLCJlbGFwc2VkIiwibGFnIiwiZnJvbUZyYW1lcyIsImZyb21JbWFnZXMiLCJpbWFnZXMiLCJhcHAiLCJidW5ueSJdLCJtYXBwaW5ncyI6IjtrQ0FLQSxTQUFTQSxFQUFPQyxFQUFNQyxFQUFhQyxHQUUvQkEsRUFBTUEsR0FBTyxFQUViLElBT0lDLEVBQU1DLEVBQU1DLEVBQU1DLEVBQU1DLEVBQUdDLEVBQUdDLEVBUDlCQyxFQUFXVCxHQUFlQSxFQUFZVSxPQUN0Q0MsRUFBV0YsRUFBV1QsRUFBWSxHQUFLQyxFQUFNRixFQUFLVyxPQUNsREUsRUFBWUMsRUFBV2QsRUFBTSxFQUFHWSxFQUFVVixHQUFLLEdBQy9DYSxFQUFZLEdBRWhCLElBQUtGLEdBQWFBLEVBQVVHLE9BQVNILEVBQVVJLEtBQU0sT0FBT0YsRUFPNUQsR0FISUwsSUFBVUcsRUFxUGxCLFNBQXdCYixFQUFNQyxFQUFhWSxFQUFXWCxHQUNsRCxJQUNJZ0IsRUFBR0MsRUFBaUJDLEVBRHBCQyxFQUFRLEdBR1osSUFBS0gsRUFBSSxFQUFHQyxFQUFNbEIsRUFBWVUsT0FBUU8sRUFBSUMsRUFBS0QsS0FHM0NFLEVBQU9OLEVBQVdkLEVBRlZDLEVBQVlpQixHQUFLaEIsRUFDbkJnQixFQUFJQyxFQUFNLEVBQUlsQixFQUFZaUIsRUFBSSxHQUFLaEIsRUFBTUYsRUFBS1csT0FDaEJULEdBQUssTUFDNUJrQixFQUFLSixPQUFNSSxFQUFLRSxTQUFVLEdBQ3ZDRCxFQUFNRSxLQUFLQyxFQUFZSixJQU0zQixJQUhBQyxFQUFNSSxLQUFLQyxHQUdOUixFQUFJLEVBQUdBLEVBQUlHLEVBQU1WLE9BQVFPLElBQzFCUyxFQUFjTixFQUFNSCxHQUFJTCxHQUN4QkEsRUFBWWUsRUFBYWYsRUFBV0EsRUFBVUcsTUFH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cEU2UixFQUFJLEdBQU05UixFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEU2UixFQUFJLEdBQU05UixFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFBT0QsRUFBRSxHQUU3RThSLEVBQUksR0FBTTlSLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRTZSLEVBQUksR0FBTTlSLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRTZSLEVBQUksR0FBTTlSLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRTZSLEVBQUksR0FBTTlSLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRTZSLEVBQUksR0FBTTlSLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUFPRCxFQUFFLEdBRTdFOFIsRUFBSSxJQUFPOVIsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQ3pFNlIsRUFBSSxJQUFPOVIsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxF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QVMsYUFBYTJjLE1BQUssQ0FBQzB1QyxFQUFRdnFDLEtBRS9DLE1BQU1ta0UsRUFBUSxJQUFJLEdBQVlua0UsRUFBVW1rRSxNQUFNN2pFLFNBRzlDNmpFLEVBQU16MkcsRUFBSXcyRyxHQUFJMTdFLFNBQVN0VyxNQUFRLEVBQy9CaXlGLEVBQU14MkcsRUFBSXUyRyxHQUFJMTdFLFNBQVNyVyxPQUFTLEVBR2hDZ3lGLEVBQU05NkQsT0FBTzM3QyxFQUFJLEdBQ2pCeTJHLEVBQU05NkQsT0FBTzE3QyxFQUFJLEdBR2pCdTJHLEdBQUl0b0MsTUFBTTcxQyxTQUFTbytFLEdBR25CRCxHQUFJL3pFLE9BQU9qUixLQUFJLEtBRVhpbEYsRUFBTTluRixVQUFZLFciLCJmaWxlIjoiaW5kZXguYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVhcmN1dDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBlYXJjdXQ7XG5cbmZ1bmN0aW9uIGVhcmN1dChkYXRhLCBob2xlSW5kaWNlcywgZGltKSB7XG5cbiAgICBkaW0gPSBkaW0gfHwgMjtcblxuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aCxcbiAgICAgICAgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGgsXG4gICAgICAgIG91dGVyTm9kZSA9IGxpbmtlZExpc3QoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSwgdHJ1ZSksXG4gICAgICAgIHRyaWFuZ2xlcyA9IFtdO1xuXG4gICAgaWYgKCFvdXRlck5vZGUgfHwgb3V0ZXJOb2RlLm5leHQgPT09IG91dGVyTm9kZS5wcmV2KSByZXR1cm4gdHJpYW5nbGVzO1xuXG4gICAgdmFyIG1pblgsIG1pblksIG1heFgsIG1heFksIHgsIHksIGludlNpemU7XG5cbiAgICBpZiAoaGFzSG9sZXMpIG91dGVyTm9kZSA9IGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSk7XG5cbiAgICAvLyBpZiB0aGUgc2hhcGUgaXMgbm90IHRvbyBzaW1wbGUsIHdlJ2xsIHVzZSB6LW9yZGVyIGN1cnZlIGhhc2ggbGF0ZXI7IGNhbGN1bGF0ZSBwb2x5Z29uIGJib3hcbiAgICBpZiAoZGF0YS5sZW5ndGggPiA4MCAqIGRpbSkge1xuICAgICAgICBtaW5YID0gbWF4WCA9IGRhdGFbMF07XG4gICAgICAgIG1pblkgPSBtYXhZID0gZGF0YVsxXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gZGltOyBpIDwgb3V0ZXJMZW47IGkgKz0gZGltKSB7XG4gICAgICAgICAgICB4ID0gZGF0YVtpXTtcbiAgICAgICAgICAgIHkgPSBkYXRhW2kgKyAxXTtcbiAgICAgICAgICAgIGlmICh4IDwgbWluWCkgbWluWCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA8IG1pblkpIG1pblkgPSB5O1xuICAgICAgICAgICAgaWYgKHggPiBtYXhYKSBtYXhYID0geDtcbiAgICAgICAgICAgIGlmICh5ID4gbWF4WSkgbWF4WSA9IHk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtaW5YLCBtaW5ZIGFuZCBpbnZTaXplIGFyZSBsYXRlciB1c2VkIHRvIHRyYW5zZm9ybSBjb29yZHMgaW50byBpbnRlZ2VycyBmb3Igei1vcmRlciBjYWxjdWxhdGlvblxuICAgICAgICBpbnZTaXplID0gTWF0aC5tYXgobWF4WCAtIG1pblgsIG1heFkgLSBtaW5ZKTtcbiAgICAgICAgaW52U2l6ZSA9IGludlNpemUgIT09IDAgPyAxIC8gaW52U2l6ZSA6IDA7XG4gICAgfVxuXG4gICAgZWFyY3V0TGlua2VkKG91dGVyTm9kZSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgcmV0dXJuIHRyaWFuZ2xlcztcbn1cblxuLy8gY3JlYXRlIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0IGZyb20gcG9seWdvbiBwb2ludHMgaW4gdGhlIHNwZWNpZmllZCB3aW5kaW5nIG9yZGVyXG5mdW5jdGlvbiBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgY2xvY2t3aXNlKSB7XG4gICAgdmFyIGksIGxhc3Q7XG5cbiAgICBpZiAoY2xvY2t3aXNlID09PSAoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pID4gMCkpIHtcbiAgICAgICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpID0gZW5kIC0gZGltOyBpID49IHN0YXJ0OyBpIC09IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH1cblxuICAgIGlmIChsYXN0ICYmIGVxdWFscyhsYXN0LCBsYXN0Lm5leHQpKSB7XG4gICAgICAgIHJlbW92ZU5vZGUobGFzdCk7XG4gICAgICAgIGxhc3QgPSBsYXN0Lm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhc3Q7XG59XG5cbi8vIGVsaW1pbmF0ZSBjb2xpbmVhciBvciBkdXBsaWNhdGUgcG9pbnRzXG5mdW5jdGlvbiBmaWx0ZXJQb2ludHMoc3RhcnQsIGVuZCkge1xuICAgIGlmICghc3RhcnQpIHJldHVybiBzdGFydDtcbiAgICBpZiAoIWVuZCkgZW5kID0gc3RhcnQ7XG5cbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBhZ2FpbjtcbiAgICBkbyB7XG4gICAgICAgIGFnYWluID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFwLnN0ZWluZXIgJiYgKGVxdWFscyhwLCBwLm5leHQpIHx8IGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID09PSAwKSkge1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwKTtcbiAgICAgICAgICAgIHAgPSBlbmQgPSBwLnByZXY7XG4gICAgICAgICAgICBpZiAocCA9PT0gcC5uZXh0KSBicmVhaztcbiAgICAgICAgICAgIGFnYWluID0gdHJ1ZTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcCA9IHAubmV4dDtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKGFnYWluIHx8IHAgIT09IGVuZCk7XG5cbiAgICByZXR1cm4gZW5kO1xufVxuXG4vLyBtYWluIGVhciBzbGljaW5nIGxvb3Agd2hpY2ggdHJpYW5ndWxhdGVzIGEgcG9seWdvbiAoZ2l2ZW4gYXMgYSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCBwYXNzKSB7XG4gICAgaWYgKCFlYXIpIHJldHVybjtcblxuICAgIC8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbiAgICBpZiAoIXBhc3MgJiYgaW52U2l6ZSkgaW5kZXhDdXJ2ZShlYXIsIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgdmFyIHN0b3AgPSBlYXIsXG4gICAgICAgIHByZXYsIG5leHQ7XG5cbiAgICAvLyBpdGVyYXRlIHRocm91Z2ggZWFycywgc2xpY2luZyB0aGVtIG9uZSBieSBvbmVcbiAgICB3aGlsZSAoZWFyLnByZXYgIT09IGVhci5uZXh0KSB7XG4gICAgICAgIHByZXYgPSBlYXIucHJldjtcbiAgICAgICAgbmV4dCA9IGVhci5uZXh0O1xuXG4gICAgICAgIGlmIChpbnZTaXplID8gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSA6IGlzRWFyKGVhcikpIHtcbiAgICAgICAgICAgIC8vIGN1dCBvZmYgdGhlIHRyaWFuZ2xlXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwcmV2LmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goZWFyLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gobmV4dC5pIC8gZGltKTtcblxuICAgICAgICAgICAgcmVtb3ZlTm9kZShlYXIpO1xuXG4gICAgICAgICAgICAvLyBza2lwcGluZyB0aGUgbmV4dCB2ZXJ0ZXggbGVhZHMgdG8gbGVzcyBzbGl2ZXIgdHJpYW5nbGVzXG4gICAgICAgICAgICBlYXIgPSBuZXh0Lm5leHQ7XG4gICAgICAgICAgICBzdG9wID0gbmV4dC5uZXh0O1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVhciA9IG5leHQ7XG5cbiAgICAgICAgLy8gaWYgd2UgbG9vcGVkIHRocm91Z2ggdGhlIHdob2xlIHJlbWFpbmluZyBwb2x5Z29uIGFuZCBjYW4ndCBmaW5kIGFueSBtb3JlIGVhcnNcbiAgICAgICAgaWYgKGVhciA9PT0gc3RvcCkge1xuICAgICAgICAgICAgLy8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW5cbiAgICAgICAgICAgIGlmICghcGFzcykge1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDEpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGRpZG4ndCB3b3JrLCB0cnkgY3VyaW5nIGFsbCBzbWFsbCBzZWxmLWludGVyc2VjdGlvbnMgbG9jYWxseVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZWFyID0gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0pO1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAyKTtcblxuICAgICAgICAgICAgLy8gYXMgYSBsYXN0IHJlc29ydCwgdHJ5IHNwbGl0dGluZyB0aGUgcmVtYWluaW5nIHBvbHlnb24gaW50byB0d29cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMikge1xuICAgICAgICAgICAgICAgIHNwbGl0RWFyY3V0KGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gY2hlY2sgd2hldGhlciBhIHBvbHlnb24gbm9kZSBmb3JtcyBhIHZhbGlkIGVhciB3aXRoIGFkamFjZW50IG5vZGVzXG5mdW5jdGlvbiBpc0VhcihlYXIpIHtcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxuICAgICAgICBiID0gZWFyLFxuICAgICAgICBjID0gZWFyLm5leHQ7XG5cbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG5cbiAgICAvLyBub3cgbWFrZSBzdXJlIHdlIGRvbid0IGhhdmUgb3RoZXIgcG9pbnRzIGluc2lkZSB0aGUgcG90ZW50aWFsIGVhclxuICAgIHZhciBwID0gZWFyLm5leHQubmV4dDtcblxuICAgIHdoaWxlIChwICE9PSBlYXIucHJldikge1xuICAgICAgICBpZiAocG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxuICAgICAgICBiID0gZWFyLFxuICAgICAgICBjID0gZWFyLm5leHQ7XG5cbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG5cbiAgICAvLyB0cmlhbmdsZSBiYm94OyBtaW4gJiBtYXggYXJlIGNhbGN1bGF0ZWQgbGlrZSB0aGlzIGZvciBzcGVlZFxuICAgIHZhciBtaW5UWCA9IGEueCA8IGIueCA/IChhLnggPCBjLnggPyBhLnggOiBjLngpIDogKGIueCA8IGMueCA/IGIueCA6IGMueCksXG4gICAgICAgIG1pblRZID0gYS55IDwgYi55ID8gKGEueSA8IGMueSA/IGEueSA6IGMueSkgOiAoYi55IDwgYy55ID8gYi55IDogYy55KSxcbiAgICAgICAgbWF4VFggPSBhLnggPiBiLnggPyAoYS54ID4gYy54ID8gYS54IDogYy54KSA6IChiLnggPiBjLnggPyBiLnggOiBjLngpLFxuICAgICAgICBtYXhUWSA9IGEueSA+IGIueSA/IChhLnkgPiBjLnkgPyBhLnkgOiBjLnkpIDogKGIueSA+IGMueSA/IGIueSA6IGMueSk7XG5cbiAgICAvLyB6LW9yZGVyIHJhbmdlIGZvciB0aGUgY3VycmVudCB0cmlhbmdsZSBiYm94O1xuICAgIHZhciBtaW5aID0gek9yZGVyKG1pblRYLCBtaW5UWSwgbWluWCwgbWluWSwgaW52U2l6ZSksXG4gICAgICAgIG1heFogPSB6T3JkZXIobWF4VFgsIG1heFRZLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHZhciBwID0gZWFyLnByZXZaLFxuICAgICAgICBuID0gZWFyLm5leHRaO1xuXG4gICAgLy8gbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgaW4gYm90aCBkaXJlY3Rpb25zXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblogJiYgbiAmJiBuLnogPD0gbWF4Wikge1xuICAgICAgICBpZiAocCAhPT0gZWFyLnByZXYgJiYgcCAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAucHJldlo7XG5cbiAgICAgICAgaWYgKG4gIT09IGVhci5wcmV2ICYmIG4gIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgbi54LCBuLnkpICYmXG4gICAgICAgICAgICBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gZGVjcmVhc2luZyB6LW9yZGVyXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblopIHtcbiAgICAgICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gaW5jcmVhc2luZyB6LW9yZGVyXG4gICAgd2hpbGUgKG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKG4gIT09IGVhci5wcmV2ICYmIG4gIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgbi54LCBuLnkpICYmXG4gICAgICAgICAgICBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vLyBnbyB0aHJvdWdoIGFsbCBwb2x5Z29uIG5vZGVzIGFuZCBjdXJlIHNtYWxsIGxvY2FsIHNlbGYtaW50ZXJzZWN0aW9uc1xuZnVuY3Rpb24gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhzdGFydCwgdHJpYW5nbGVzLCBkaW0pIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGEgPSBwLnByZXYsXG4gICAgICAgICAgICBiID0gcC5uZXh0Lm5leHQ7XG5cbiAgICAgICAgaWYgKCFlcXVhbHMoYSwgYikgJiYgaW50ZXJzZWN0cyhhLCBwLCBwLm5leHQsIGIpICYmIGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSkge1xuXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChhLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocC5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGIuaSAvIGRpbSk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSB0d28gbm9kZXMgaW52b2x2ZWRcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHAubmV4dCk7XG5cbiAgICAgICAgICAgIHAgPSBzdGFydCA9IGI7XG4gICAgICAgIH1cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gZmlsdGVyUG9pbnRzKHApO1xufVxuXG4vLyB0cnkgc3BsaXR0aW5nIHBvbHlnb24gaW50byB0d28gYW5kIHRyaWFuZ3VsYXRlIHRoZW0gaW5kZXBlbmRlbnRseVxuZnVuY3Rpb24gc3BsaXRFYXJjdXQoc3RhcnQsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgLy8gbG9vayBmb3IgYSB2YWxpZCBkaWFnb25hbCB0aGF0IGRpdmlkZXMgdGhlIHBvbHlnb24gaW50byB0d29cbiAgICB2YXIgYSA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGIgPSBhLm5leHQubmV4dDtcbiAgICAgICAgd2hpbGUgKGIgIT09IGEucHJldikge1xuICAgICAgICAgICAgaWYgKGEuaSAhPT0gYi5pICYmIGlzVmFsaWREaWFnb25hbChhLCBiKSkge1xuICAgICAgICAgICAgICAgIC8vIHNwbGl0IHRoZSBwb2x5Z29uIGluIHR3byBieSB0aGUgZGlhZ29uYWxcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHNwbGl0UG9seWdvbihhLCBiKTtcblxuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBjb2xpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXG4gICAgICAgICAgICAgICAgYSA9IGZpbHRlclBvaW50cyhhLCBhLm5leHQpO1xuICAgICAgICAgICAgICAgIGMgPSBmaWx0ZXJQb2ludHMoYywgYy5uZXh0KTtcblxuICAgICAgICAgICAgICAgIC8vIHJ1biBlYXJjdXQgb24gZWFjaCBoYWxmXG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGEsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYywgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGIgPSBiLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgYSA9IGEubmV4dDtcbiAgICB9IHdoaWxlIChhICE9PSBzdGFydCk7XG59XG5cbi8vIGxpbmsgZXZlcnkgaG9sZSBpbnRvIHRoZSBvdXRlciBsb29wLCBwcm9kdWNpbmcgYSBzaW5nbGUtcmluZyBwb2x5Z29uIHdpdGhvdXQgaG9sZXNcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSkge1xuICAgIHZhciBxdWV1ZSA9IFtdLFxuICAgICAgICBpLCBsZW4sIHN0YXJ0LCBlbmQsIGxpc3Q7XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xuICAgICAgICBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICBsaXN0ID0gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGZhbHNlKTtcbiAgICAgICAgaWYgKGxpc3QgPT09IGxpc3QubmV4dCkgbGlzdC5zdGVpbmVyID0gdHJ1ZTtcbiAgICAgICAgcXVldWUucHVzaChnZXRMZWZ0bW9zdChsaXN0KSk7XG4gICAgfVxuXG4gICAgcXVldWUuc29ydChjb21wYXJlWCk7XG5cbiAgICAvLyBwcm9jZXNzIGhvbGVzIGZyb20gbGVmdCB0byByaWdodFxuICAgIGZvciAoaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBlbGltaW5hdGVIb2xlKHF1ZXVlW2ldLCBvdXRlck5vZGUpO1xuICAgICAgICBvdXRlck5vZGUgPSBmaWx0ZXJQb2ludHMob3V0ZXJOb2RlLCBvdXRlck5vZGUubmV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dGVyTm9kZTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZVgoYSwgYikge1xuICAgIHJldHVybiBhLnggLSBiLng7XG59XG5cbi8vIGZpbmQgYSBicmlkZ2UgYmV0d2VlbiB2ZXJ0aWNlcyB0aGF0IGNvbm5lY3RzIGhvbGUgd2l0aCBhbiBvdXRlciByaW5nIGFuZCBhbmQgbGluayBpdFxuZnVuY3Rpb24gZWxpbWluYXRlSG9sZShob2xlLCBvdXRlck5vZGUpIHtcbiAgICBvdXRlck5vZGUgPSBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpO1xuICAgIGlmIChvdXRlck5vZGUpIHtcbiAgICAgICAgdmFyIGIgPSBzcGxpdFBvbHlnb24ob3V0ZXJOb2RlLCBob2xlKTtcblxuICAgICAgICAvLyBmaWx0ZXIgY29sbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHNcbiAgICAgICAgZmlsdGVyUG9pbnRzKG91dGVyTm9kZSwgb3V0ZXJOb2RlLm5leHQpO1xuICAgICAgICBmaWx0ZXJQb2ludHMoYiwgYi5uZXh0KTtcbiAgICB9XG59XG5cbi8vIERhdmlkIEViZXJseSdzIGFsZ29yaXRobSBmb3IgZmluZGluZyBhIGJyaWRnZSBiZXR3ZWVuIGhvbGUgYW5kIG91dGVyIHBvbHlnb25cbmZ1bmN0aW9uIGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIHZhciBwID0gb3V0ZXJOb2RlLFxuICAgICAgICBoeCA9IGhvbGUueCxcbiAgICAgICAgaHkgPSBob2xlLnksXG4gICAgICAgIHF4ID0gLUluZmluaXR5LFxuICAgICAgICBtO1xuXG4gICAgLy8gZmluZCBhIHNlZ21lbnQgaW50ZXJzZWN0ZWQgYnkgYSByYXkgZnJvbSB0aGUgaG9sZSdzIGxlZnRtb3N0IHBvaW50IHRvIHRoZSBsZWZ0O1xuICAgIC8vIHNlZ21lbnQncyBlbmRwb2ludCB3aXRoIGxlc3NlciB4IHdpbGwgYmUgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnRcbiAgICBkbyB7XG4gICAgICAgIGlmIChoeSA8PSBwLnkgJiYgaHkgPj0gcC5uZXh0LnkgJiYgcC5uZXh0LnkgIT09IHAueSkge1xuICAgICAgICAgICAgdmFyIHggPSBwLnggKyAoaHkgLSBwLnkpICogKHAubmV4dC54IC0gcC54KSAvIChwLm5leHQueSAtIHAueSk7XG4gICAgICAgICAgICBpZiAoeCA8PSBoeCAmJiB4ID4gcXgpIHtcbiAgICAgICAgICAgICAgICBxeCA9IHg7XG4gICAgICAgICAgICAgICAgaWYgKHggPT09IGh4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoeSA9PT0gcC55KSByZXR1cm4gcDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5ID09PSBwLm5leHQueSkgcmV0dXJuIHAubmV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbSA9IHAueCA8IHAubmV4dC54ID8gcCA6IHAubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IG91dGVyTm9kZSk7XG5cbiAgICBpZiAoIW0pIHJldHVybiBudWxsO1xuXG4gICAgaWYgKGh4ID09PSBxeCkgcmV0dXJuIG07IC8vIGhvbGUgdG91Y2hlcyBvdXRlciBzZWdtZW50OyBwaWNrIGxlZnRtb3N0IGVuZHBvaW50XG5cbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBvZiBob2xlIHBvaW50LCBzZWdtZW50IGludGVyc2VjdGlvbiBhbmQgZW5kcG9pbnQ7XG4gICAgLy8gaWYgdGhlcmUgYXJlIG5vIHBvaW50cyBmb3VuZCwgd2UgaGF2ZSBhIHZhbGlkIGNvbm5lY3Rpb247XG4gICAgLy8gb3RoZXJ3aXNlIGNob29zZSB0aGUgcG9pbnQgb2YgdGhlIG1pbmltdW0gYW5nbGUgd2l0aCB0aGUgcmF5IGFzIGNvbm5lY3Rpb24gcG9pbnRcblxuICAgIHZhciBzdG9wID0gbSxcbiAgICAgICAgbXggPSBtLngsXG4gICAgICAgIG15ID0gbS55LFxuICAgICAgICB0YW5NaW4gPSBJbmZpbml0eSxcbiAgICAgICAgdGFuO1xuXG4gICAgcCA9IG07XG5cbiAgICBkbyB7XG4gICAgICAgIGlmIChoeCA+PSBwLnggJiYgcC54ID49IG14ICYmIGh4ICE9PSBwLnggJiZcbiAgICAgICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoaHkgPCBteSA/IGh4IDogcXgsIGh5LCBteCwgbXksIGh5IDwgbXkgPyBxeCA6IGh4LCBoeSwgcC54LCBwLnkpKSB7XG5cbiAgICAgICAgICAgIHRhbiA9IE1hdGguYWJzKGh5IC0gcC55KSAvIChoeCAtIHAueCk7IC8vIHRhbmdlbnRpYWxcblxuICAgICAgICAgICAgaWYgKGxvY2FsbHlJbnNpZGUocCwgaG9sZSkgJiZcbiAgICAgICAgICAgICAgICAodGFuIDwgdGFuTWluIHx8ICh0YW4gPT09IHRhbk1pbiAmJiAocC54ID4gbS54IHx8IChwLnggPT09IG0ueCAmJiBzZWN0b3JDb250YWluc1NlY3RvcihtLCBwKSkpKSkpIHtcbiAgICAgICAgICAgICAgICBtID0gcDtcbiAgICAgICAgICAgICAgICB0YW5NaW4gPSB0YW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0b3ApO1xuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIHdoZXRoZXIgc2VjdG9yIGluIHZlcnRleCBtIGNvbnRhaW5zIHNlY3RvciBpbiB2ZXJ0ZXggcCBpbiB0aGUgc2FtZSBjb29yZGluYXRlc1xuZnVuY3Rpb24gc2VjdG9yQ29udGFpbnNTZWN0b3IobSwgcCkge1xuICAgIHJldHVybiBhcmVhKG0ucHJldiwgbSwgcC5wcmV2KSA8IDAgJiYgYXJlYShwLm5leHQsIG0sIG0ubmV4dCkgPCAwO1xufVxuXG4vLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXG5mdW5jdGlvbiBpbmRleEN1cnZlKHN0YXJ0LCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnogPT09IG51bGwpIHAueiA9IHpPcmRlcihwLngsIHAueSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgIHAucHJldlogPSBwLnByZXY7XG4gICAgICAgIHAubmV4dFogPSBwLm5leHQ7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcC5wcmV2Wi5uZXh0WiA9IG51bGw7XG4gICAgcC5wcmV2WiA9IG51bGw7XG5cbiAgICBzb3J0TGlua2VkKHApO1xufVxuXG4vLyBTaW1vbiBUYXRoYW0ncyBsaW5rZWQgbGlzdCBtZXJnZSBzb3J0IGFsZ29yaXRobVxuLy8gaHR0cDovL3d3dy5jaGlhcmsuZ3JlZW5lbmQub3JnLnVrL35zZ3RhdGhhbS9hbGdvcml0aG1zL2xpc3Rzb3J0Lmh0bWxcbmZ1bmN0aW9uIHNvcnRMaW5rZWQobGlzdCkge1xuICAgIHZhciBpLCBwLCBxLCBlLCB0YWlsLCBudW1NZXJnZXMsIHBTaXplLCBxU2l6ZSxcbiAgICAgICAgaW5TaXplID0gMTtcblxuICAgIGRvIHtcbiAgICAgICAgcCA9IGxpc3Q7XG4gICAgICAgIGxpc3QgPSBudWxsO1xuICAgICAgICB0YWlsID0gbnVsbDtcbiAgICAgICAgbnVtTWVyZ2VzID0gMDtcblxuICAgICAgICB3aGlsZSAocCkge1xuICAgICAgICAgICAgbnVtTWVyZ2VzKys7XG4gICAgICAgICAgICBxID0gcDtcbiAgICAgICAgICAgIHBTaXplID0gMDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpblNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIHBTaXplKys7XG4gICAgICAgICAgICAgICAgcSA9IHEubmV4dFo7XG4gICAgICAgICAgICAgICAgaWYgKCFxKSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHFTaXplID0gaW5TaXplO1xuXG4gICAgICAgICAgICB3aGlsZSAocFNpemUgPiAwIHx8IChxU2l6ZSA+IDAgJiYgcSkpIHtcblxuICAgICAgICAgICAgICAgIGlmIChwU2l6ZSAhPT0gMCAmJiAocVNpemUgPT09IDAgfHwgIXEgfHwgcC56IDw9IHEueikpIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHA7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBwLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBwU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBxO1xuICAgICAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICAgICAgcVNpemUtLTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGFpbCkgdGFpbC5uZXh0WiA9IGU7XG4gICAgICAgICAgICAgICAgZWxzZSBsaXN0ID0gZTtcblxuICAgICAgICAgICAgICAgIGUucHJldlogPSB0YWlsO1xuICAgICAgICAgICAgICAgIHRhaWwgPSBlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwID0gcTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhaWwubmV4dFogPSBudWxsO1xuICAgICAgICBpblNpemUgKj0gMjtcblxuICAgIH0gd2hpbGUgKG51bU1lcmdlcyA+IDEpO1xuXG4gICAgcmV0dXJuIGxpc3Q7XG59XG5cbi8vIHotb3JkZXIgb2YgYSBwb2ludCBnaXZlbiBjb29yZHMgYW5kIGludmVyc2Ugb2YgdGhlIGxvbmdlciBzaWRlIG9mIGRhdGEgYmJveFxuZnVuY3Rpb24gek9yZGVyKHgsIHksIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICAvLyBjb29yZHMgYXJlIHRyYW5zZm9ybWVkIGludG8gbm9uLW5lZ2F0aXZlIDE1LWJpdCBpbnRlZ2VyIHJhbmdlXG4gICAgeCA9IDMyNzY3ICogKHggLSBtaW5YKSAqIGludlNpemU7XG4gICAgeSA9IDMyNzY3ICogKHkgLSBtaW5ZKSAqIGludlNpemU7XG5cbiAgICB4ID0gKHggfCAoeCA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHggPSAoeCB8ICh4IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeCA9ICh4IHwgKHggPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB4ID0gKHggfCAoeCA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgeSA9ICh5IHwgKHkgPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgICB5ID0gKHkgfCAoeSA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gICAgeSA9ICh5IHwgKHkgPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICAgIHJldHVybiB4IHwgKHkgPDwgMSk7XG59XG5cbi8vIGZpbmQgdGhlIGxlZnRtb3N0IG5vZGUgb2YgYSBwb2x5Z29uIHJpbmdcbmZ1bmN0aW9uIGdldExlZnRtb3N0KHN0YXJ0KSB7XG4gICAgdmFyIHAgPSBzdGFydCxcbiAgICAgICAgbGVmdG1vc3QgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnggPCBsZWZ0bW9zdC54IHx8IChwLnggPT09IGxlZnRtb3N0LnggJiYgcC55IDwgbGVmdG1vc3QueSkpIGxlZnRtb3N0ID0gcDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gbGVmdG1vc3Q7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGVcbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBweCwgcHkpIHtcbiAgICByZXR1cm4gKGN4IC0gcHgpICogKGF5IC0gcHkpIC0gKGF4IC0gcHgpICogKGN5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGF4IC0gcHgpICogKGJ5IC0gcHkpIC0gKGJ4IC0gcHgpICogKGF5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGJ4IC0gcHgpICogKGN5IC0gcHkpIC0gKGN4IC0gcHgpICogKGJ5IC0gcHkpID49IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgZGlhZ29uYWwgYmV0d2VlbiB0d28gcG9seWdvbiBub2RlcyBpcyB2YWxpZCAobGllcyBpbiBwb2x5Z29uIGludGVyaW9yKVxuZnVuY3Rpb24gaXNWYWxpZERpYWdvbmFsKGEsIGIpIHtcbiAgICByZXR1cm4gYS5uZXh0LmkgIT09IGIuaSAmJiBhLnByZXYuaSAhPT0gYi5pICYmICFpbnRlcnNlY3RzUG9seWdvbihhLCBiKSAmJiAvLyBkb25lcyd0IGludGVyc2VjdCBvdGhlciBlZGdlc1xuICAgICAgICAgICAobG9jYWxseUluc2lkZShhLCBiKSAmJiBsb2NhbGx5SW5zaWRlKGIsIGEpICYmIG1pZGRsZUluc2lkZShhLCBiKSAmJiAvLyBsb2NhbGx5IHZpc2libGVcbiAgICAgICAgICAgIChhcmVhKGEucHJldiwgYSwgYi5wcmV2KSB8fCBhcmVhKGEsIGIucHJldiwgYikpIHx8IC8vIGRvZXMgbm90IGNyZWF0ZSBvcHBvc2l0ZS1mYWNpbmcgc2VjdG9yc1xuICAgICAgICAgICAgZXF1YWxzKGEsIGIpICYmIGFyZWEoYS5wcmV2LCBhLCBhLm5leHQpID4gMCAmJiBhcmVhKGIucHJldiwgYiwgYi5uZXh0KSA+IDApOyAvLyBzcGVjaWFsIHplcm8tbGVuZ3RoIGNhc2Vcbn1cblxuLy8gc2lnbmVkIGFyZWEgb2YgYSB0cmlhbmdsZVxuZnVuY3Rpb24gYXJlYShwLCBxLCByKSB7XG4gICAgcmV0dXJuIChxLnkgLSBwLnkpICogKHIueCAtIHEueCkgLSAocS54IC0gcC54KSAqIChyLnkgLSBxLnkpO1xufVxuXG4vLyBjaGVjayBpZiB0d28gcG9pbnRzIGFyZSBlcXVhbFxuZnVuY3Rpb24gZXF1YWxzKHAxLCBwMikge1xuICAgIHJldHVybiBwMS54ID09PSBwMi54ICYmIHAxLnkgPT09IHAyLnk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBzZWdtZW50cyBpbnRlcnNlY3RcbmZ1bmN0aW9uIGludGVyc2VjdHMocDEsIHExLCBwMiwgcTIpIHtcbiAgICB2YXIgbzEgPSBzaWduKGFyZWEocDEsIHExLCBwMikpO1xuICAgIHZhciBvMiA9IHNpZ24oYXJlYShwMSwgcTEsIHEyKSk7XG4gICAgdmFyIG8zID0gc2lnbihhcmVhKHAyLCBxMiwgcDEpKTtcbiAgICB2YXIgbzQgPSBzaWduKGFyZWEocDIsIHEyLCBxMSkpO1xuXG4gICAgaWYgKG8xICE9PSBvMiAmJiBvMyAhPT0gbzQpIHJldHVybiB0cnVlOyAvLyBnZW5lcmFsIGNhc2VcblxuICAgIGlmIChvMSA9PT0gMCAmJiBvblNlZ21lbnQocDEsIHAyLCBxMSkpIHJldHVybiB0cnVlOyAvLyBwMSwgcTEgYW5kIHAyIGFyZSBjb2xsaW5lYXIgYW5kIHAyIGxpZXMgb24gcDFxMVxuICAgIGlmIChvMiA9PT0gMCAmJiBvblNlZ21lbnQocDEsIHEyLCBxMSkpIHJldHVybiB0cnVlOyAvLyBwMSwgcTEgYW5kIHEyIGFyZSBjb2xsaW5lYXIgYW5kIHEyIGxpZXMgb24gcDFxMVxuICAgIGlmIChvMyA9PT0gMCAmJiBvblNlZ21lbnQocDIsIHAxLCBxMikpIHJldHVybiB0cnVlOyAvLyBwMiwgcTIgYW5kIHAxIGFyZSBjb2xsaW5lYXIgYW5kIHAxIGxpZXMgb24gcDJxMlxuICAgIGlmIChvNCA9PT0gMCAmJiBvblNlZ21lbnQocDIsIHExLCBxMikpIHJldHVybiB0cnVlOyAvLyBwMiwgcTIgYW5kIHExIGFyZSBjb2xsaW5lYXIgYW5kIHExIGxpZXMgb24gcDJxMlxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBmb3IgY29sbGluZWFyIHBvaW50cyBwLCBxLCByLCBjaGVjayBpZiBwb2ludCBxIGxpZXMgb24gc2VnbWVudCBwclxuZnVuY3Rpb24gb25TZWdtZW50KHAsIHEsIHIpIHtcbiAgICByZXR1cm4gcS54IDw9IE1hdGgubWF4KHAueCwgci54KSAmJiBxLnggPj0gTWF0aC5taW4ocC54LCByLngpICYmIHEueSA8PSBNYXRoLm1heChwLnksIHIueSkgJiYgcS55ID49IE1hdGgubWluKHAueSwgci55KTtcbn1cblxuZnVuY3Rpb24gc2lnbihudW0pIHtcbiAgICByZXR1cm4gbnVtID4gMCA/IDEgOiBudW0gPCAwID8gLTEgOiAwO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50c1xuZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSwgYikge1xuICAgIHZhciBwID0gYTtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLmkgIT09IGEuaSAmJiBwLm5leHQuaSAhPT0gYS5pICYmIHAuaSAhPT0gYi5pICYmIHAubmV4dC5pICE9PSBiLmkgJiZcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RzKHAsIHAubmV4dCwgYSwgYikpIHJldHVybiB0cnVlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIGxvY2FsbHlJbnNpZGUoYSwgYikge1xuICAgIHJldHVybiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA8IDAgP1xuICAgICAgICBhcmVhKGEsIGIsIGEubmV4dCkgPj0gMCAmJiBhcmVhKGEsIGEucHJldiwgYikgPj0gMCA6XG4gICAgICAgIGFyZWEoYSwgYiwgYS5wcmV2KSA8IDAgfHwgYXJlYShhLCBhLm5leHQsIGIpIDwgMDtcbn1cblxuLy8gY2hlY2sgaWYgdGhlIG1pZGRsZSBwb2ludCBvZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBtaWRkbGVJbnNpZGUoYSwgYikge1xuICAgIHZhciBwID0gYSxcbiAgICAgICAgaW5zaWRlID0gZmFsc2UsXG4gICAgICAgIHB4ID0gKGEueCArIGIueCkgLyAyLFxuICAgICAgICBweSA9IChhLnkgKyBiLnkpIC8gMjtcbiAgICBkbyB7XG4gICAgICAgIGlmICgoKHAueSA+IHB5KSAhPT0gKHAubmV4dC55ID4gcHkpKSAmJiBwLm5leHQueSAhPT0gcC55ICYmXG4gICAgICAgICAgICAgICAgKHB4IDwgKHAubmV4dC54IC0gcC54KSAqIChweSAtIHAueSkgLyAocC5uZXh0LnkgLSBwLnkpICsgcC54KSlcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gaW5zaWRlO1xufVxuXG4vLyBsaW5rIHR3byBwb2x5Z29uIHZlcnRpY2VzIHdpdGggYSBicmlkZ2U7IGlmIHRoZSB2ZXJ0aWNlcyBiZWxvbmcgdG8gdGhlIHNhbWUgcmluZywgaXQgc3BsaXRzIHBvbHlnb24gaW50byB0d287XG4vLyBpZiBvbmUgYmVsb25ncyB0byB0aGUgb3V0ZXIgcmluZyBhbmQgYW5vdGhlciB0byBhIGhvbGUsIGl0IG1lcmdlcyBpdCBpbnRvIGEgc2luZ2xlIHJpbmdcbmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLCBiKSB7XG4gICAgdmFyIGEyID0gbmV3IE5vZGUoYS5pLCBhLngsIGEueSksXG4gICAgICAgIGIyID0gbmV3IE5vZGUoYi5pLCBiLngsIGIueSksXG4gICAgICAgIGFuID0gYS5uZXh0LFxuICAgICAgICBicCA9IGIucHJldjtcblxuICAgIGEubmV4dCA9IGI7XG4gICAgYi5wcmV2ID0gYTtcblxuICAgIGEyLm5leHQgPSBhbjtcbiAgICBhbi5wcmV2ID0gYTI7XG5cbiAgICBiMi5uZXh0ID0gYTI7XG4gICAgYTIucHJldiA9IGIyO1xuXG4gICAgYnAubmV4dCA9IGIyO1xuICAgIGIyLnByZXYgPSBicDtcblxuICAgIHJldHVybiBiMjtcbn1cblxuLy8gY3JlYXRlIGEgbm9kZSBhbmQgb3B0aW9uYWxseSBsaW5rIGl0IHdpdGggcHJldmlvdXMgb25lIChpbiBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGluc2VydE5vZGUoaSwgeCwgeSwgbGFzdCkge1xuICAgIHZhciBwID0gbmV3IE5vZGUoaSwgeCwgeSk7XG5cbiAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgcC5wcmV2ID0gcDtcbiAgICAgICAgcC5uZXh0ID0gcDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHAubmV4dCA9IGxhc3QubmV4dDtcbiAgICAgICAgcC5wcmV2ID0gbGFzdDtcbiAgICAgICAgbGFzdC5uZXh0LnByZXYgPSBwO1xuICAgICAgICBsYXN0Lm5leHQgPSBwO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShwKSB7XG4gICAgcC5uZXh0LnByZXYgPSBwLnByZXY7XG4gICAgcC5wcmV2Lm5leHQgPSBwLm5leHQ7XG5cbiAgICBpZiAocC5wcmV2WikgcC5wcmV2Wi5uZXh0WiA9IHAubmV4dFo7XG4gICAgaWYgKHAubmV4dFopIHAubmV4dFoucHJldlogPSBwLnByZXZaO1xufVxuXG5mdW5jdGlvbiBOb2RlKGksIHgsIHkpIHtcbiAgICAvLyB2ZXJ0ZXggaW5kZXggaW4gY29vcmRpbmF0ZXMgYXJyYXlcbiAgICB0aGlzLmkgPSBpO1xuXG4gICAgLy8gdmVydGV4IGNvb3JkaW5hdGVzXG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgdmVydGV4IG5vZGVzIGluIGEgcG9seWdvbiByaW5nXG4gICAgdGhpcy5wcmV2ID0gbnVsbDtcbiAgICB0aGlzLm5leHQgPSBudWxsO1xuXG4gICAgLy8gei1vcmRlciBjdXJ2ZSB2YWx1ZVxuICAgIHRoaXMueiA9IG51bGw7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCBub2RlcyBpbiB6LW9yZGVyXG4gICAgdGhpcy5wcmV2WiA9IG51bGw7XG4gICAgdGhpcy5uZXh0WiA9IG51bGw7XG5cbiAgICAvLyBpbmRpY2F0ZXMgd2hldGhlciB0aGlzIGlzIGEgc3RlaW5lciBwb2ludFxuICAgIHRoaXMuc3RlaW5lciA9IGZhbHNlO1xufVxuXG4vLyByZXR1cm4gYSBwZXJjZW50YWdlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgcG9seWdvbiBhcmVhIGFuZCBpdHMgdHJpYW5ndWxhdGlvbiBhcmVhO1xuLy8gdXNlZCB0byB2ZXJpZnkgY29ycmVjdG5lc3Mgb2YgdHJpYW5ndWxhdGlvblxuZWFyY3V0LmRldmlhdGlvbiA9IGZ1bmN0aW9uIChkYXRhLCBob2xlSW5kaWNlcywgZGltLCB0cmlhbmdsZXMpIHtcbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGg7XG4gICAgdmFyIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuXG4gICAgdmFyIHBvbHlnb25BcmVhID0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCAwLCBvdXRlckxlbiwgZGltKSk7XG4gICAgaWYgKGhhc0hvbGVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgICAgICB2YXIgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIHBvbHlnb25BcmVhIC09IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdHJpYW5nbGVzQXJlYSA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICB2YXIgYSA9IHRyaWFuZ2xlc1tpXSAqIGRpbTtcbiAgICAgICAgdmFyIGIgPSB0cmlhbmdsZXNbaSArIDFdICogZGltO1xuICAgICAgICB2YXIgYyA9IHRyaWFuZ2xlc1tpICsgMl0gKiBkaW07XG4gICAgICAgIHRyaWFuZ2xlc0FyZWEgKz0gTWF0aC5hYnMoXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbY10pICogKGRhdGFbYiArIDFdIC0gZGF0YVthICsgMV0pIC1cbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtiXSkgKiAoZGF0YVtjICsgMV0gLSBkYXRhW2EgKyAxXSkpO1xuICAgIH1cblxuICAgIHJldHVybiBwb2x5Z29uQXJlYSA9PT0gMCAmJiB0cmlhbmdsZXNBcmVhID09PSAwID8gMCA6XG4gICAgICAgIE1hdGguYWJzKCh0cmlhbmdsZXNBcmVhIC0gcG9seWdvbkFyZWEpIC8gcG9seWdvbkFyZWEpO1xufTtcblxuZnVuY3Rpb24gc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pIHtcbiAgICB2YXIgc3VtID0gMDtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQsIGogPSBlbmQgLSBkaW07IGkgPCBlbmQ7IGkgKz0gZGltKSB7XG4gICAgICAgIHN1bSArPSAoZGF0YVtqXSAtIGRhdGFbaV0pICogKGRhdGFbaSArIDFdICsgZGF0YVtqICsgMV0pO1xuICAgICAgICBqID0gaTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn1cblxuLy8gdHVybiBhIHBvbHlnb24gaW4gYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSBmb3JtIChlLmcuIGFzIGluIEdlb0pTT04pIGludG8gYSBmb3JtIEVhcmN1dCBhY2NlcHRzXG5lYXJjdXQuZmxhdHRlbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGRpbSA9IGRhdGFbMF1bMF0ubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSB7dmVydGljZXM6IFtdLCBob2xlczogW10sIGRpbWVuc2lvbnM6IGRpbX0sXG4gICAgICAgIGhvbGVJbmRleCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGRpbTsgZCsrKSByZXN1bHQudmVydGljZXMucHVzaChkYXRhW2ldW2pdW2RdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIGhvbGVJbmRleCArPSBkYXRhW2kgLSAxXS5sZW5ndGg7XG4gICAgICAgICAgICByZXN1bHQuaG9sZXMucHVzaChob2xlSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuIiwiKGZ1bmN0aW9uKGdsb2JhbCl7XG5cbi8vXG4vLyBDaGVjayBmb3IgbmF0aXZlIFByb21pc2UgYW5kIGl0IGhhcyBjb3JyZWN0IGludGVyZmFjZVxuLy9cblxudmFyIE5hdGl2ZVByb21pc2UgPSBnbG9iYWxbJ1Byb21pc2UnXTtcbnZhciBuYXRpdmVQcm9taXNlU3VwcG9ydGVkID1cbiAgTmF0aXZlUHJvbWlzZSAmJlxuICAvLyBTb21lIG9mIHRoZXNlIG1ldGhvZHMgYXJlIG1pc3NpbmcgZnJvbVxuICAvLyBGaXJlZm94L0Nocm9tZSBleHBlcmltZW50YWwgaW1wbGVtZW50YXRpb25zXG4gICdyZXNvbHZlJyBpbiBOYXRpdmVQcm9taXNlICYmXG4gICdyZWplY3QnIGluIE5hdGl2ZVByb21pc2UgJiZcbiAgJ2FsbCcgaW4gTmF0aXZlUHJvbWlzZSAmJlxuICAncmFjZScgaW4gTmF0aXZlUHJvbWlzZSAmJlxuICAvLyBPbGRlciB2ZXJzaW9uIG9mIHRoZSBzcGVjIGhhZCBhIHJlc29sdmVyIG9iamVjdFxuICAvLyBhcyB0aGUgYXJnIHJhdGhlciB0aGFuIGEgZnVuY3Rpb25cbiAgKGZ1bmN0aW9uKCl7XG4gICAgdmFyIHJlc29sdmU7XG4gICAgbmV3IE5hdGl2ZVByb21pc2UoZnVuY3Rpb24ocil7IHJlc29sdmUgPSByOyB9KTtcbiAgICByZXR1cm4gdHlwZW9mIHJlc29sdmUgPT09ICdmdW5jdGlvbic7XG4gIH0pKCk7XG5cblxuLy9cbi8vIGV4cG9ydCBpZiBuZWNlc3Nhcnlcbi8vXG5cbmlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgZXhwb3J0cylcbntcbiAgLy8gbm9kZS5qc1xuICBleHBvcnRzLlByb21pc2UgPSBuYXRpdmVQcm9taXNlU3VwcG9ydGVkID8gTmF0aXZlUHJvbWlzZSA6IFByb21pc2U7XG4gIGV4cG9ydHMuUG9seWZpbGwgPSBQcm9taXNlO1xufVxuZWxzZVxue1xuICAvLyBBTURcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuICB7XG4gICAgZGVmaW5lKGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gbmF0aXZlUHJvbWlzZVN1cHBvcnRlZCA/IE5hdGl2ZVByb21pc2UgOiBQcm9taXNlO1xuICAgIH0pO1xuICB9XG4gIGVsc2VcbiAge1xuICAgIC8vIGluIGJyb3dzZXIgYWRkIHRvIGdsb2JhbFxuICAgIGlmICghbmF0aXZlUHJvbWlzZVN1cHBvcnRlZClcbiAgICAgIGdsb2JhbFsnUHJvbWlzZSddID0gUHJvbWlzZTtcbiAgfVxufVxuXG5cbi8vXG4vLyBQb2x5ZmlsbFxuLy9cblxudmFyIFBFTkRJTkcgPSAncGVuZGluZyc7XG52YXIgU0VBTEVEID0gJ3NlYWxlZCc7XG52YXIgRlVMRklMTEVEID0gJ2Z1bGZpbGxlZCc7XG52YXIgUkVKRUNURUQgPSAncmVqZWN0ZWQnO1xudmFyIE5PT1AgPSBmdW5jdGlvbigpe307XG5cbmZ1bmN0aW9uIGlzQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbi8vIGFzeW5jIGNhbGxzXG52YXIgYXN5bmNTZXRUaW1lciA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgIT09ICd1bmRlZmluZWQnID8gc2V0SW1tZWRpYXRlIDogc2V0VGltZW91dDtcbnZhciBhc3luY1F1ZXVlID0gW107XG52YXIgYXN5bmNUaW1lcjtcblxuZnVuY3Rpb24gYXN5bmNGbHVzaCgpe1xuICAvLyBydW4gcHJvbWlzZSBjYWxsYmFja3NcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhc3luY1F1ZXVlLmxlbmd0aDsgaSsrKVxuICAgIGFzeW5jUXVldWVbaV1bMF0oYXN5bmNRdWV1ZVtpXVsxXSk7XG5cbiAgLy8gcmVzZXQgYXN5bmMgYXN5bmNRdWV1ZVxuICBhc3luY1F1ZXVlID0gW107XG4gIGFzeW5jVGltZXIgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gYXN5bmNDYWxsKGNhbGxiYWNrLCBhcmcpe1xuICBhc3luY1F1ZXVlLnB1c2goW2NhbGxiYWNrLCBhcmddKTtcblxuICBpZiAoIWFzeW5jVGltZXIpXG4gIHtcbiAgICBhc3luY1RpbWVyID0gdHJ1ZTtcbiAgICBhc3luY1NldFRpbWVyKGFzeW5jRmx1c2gsIDApO1xuICB9XG59XG5cblxuZnVuY3Rpb24gaW52b2tlUmVzb2x2ZXIocmVzb2x2ZXIsIHByb21pc2UpIHtcbiAgZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpIHtcbiAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gIH1cblxuICB0cnkge1xuICAgIHJlc29sdmVyKHJlc29sdmVQcm9taXNlLCByZWplY3RQcm9taXNlKTtcbiAgfSBjYXRjaChlKSB7XG4gICAgcmVqZWN0UHJvbWlzZShlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnZva2VDYWxsYmFjayhzdWJzY3JpYmVyKXtcbiAgdmFyIG93bmVyID0gc3Vic2NyaWJlci5vd25lcjtcbiAgdmFyIHNldHRsZWQgPSBvd25lci5zdGF0ZV87XG4gIHZhciB2YWx1ZSA9IG93bmVyLmRhdGFfOyAgXG4gIHZhciBjYWxsYmFjayA9IHN1YnNjcmliZXJbc2V0dGxlZF07XG4gIHZhciBwcm9taXNlID0gc3Vic2NyaWJlci50aGVuO1xuXG4gIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpXG4gIHtcbiAgICBzZXR0bGVkID0gRlVMRklMTEVEO1xuICAgIHRyeSB7XG4gICAgICB2YWx1ZSA9IGNhbGxiYWNrKHZhbHVlKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhhbmRsZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlKSlcbiAge1xuICAgIGlmIChzZXR0bGVkID09PSBGVUxGSUxMRUQpXG4gICAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcblxuICAgIGlmIChzZXR0bGVkID09PSBSRUpFQ1RFRClcbiAgICAgIHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpIHtcbiAgdmFyIHJlc29sdmVkO1xuXG4gIHRyeSB7XG4gICAgaWYgKHByb21pc2UgPT09IHZhbHVlKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLicpO1xuXG4gICAgaWYgKHZhbHVlICYmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykpXG4gICAge1xuICAgICAgdmFyIHRoZW4gPSB2YWx1ZS50aGVuOyAgLy8gdGhlbiBzaG91bGQgYmUgcmV0cml2ZWQgb25seSBvbmNlXG5cbiAgICAgIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgIHtcbiAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBmdW5jdGlvbih2YWwpe1xuICAgICAgICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHZhbClcbiAgICAgICAgICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWwpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICByZWplY3QocHJvbWlzZSwgZSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSl7XG4gIGlmIChwcm9taXNlID09PSB2YWx1ZSB8fCAhaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpKVxuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xufVxuXG5mdW5jdGlvbiBmdWxmaWxsKHByb21pc2UsIHZhbHVlKXtcbiAgaWYgKHByb21pc2Uuc3RhdGVfID09PSBQRU5ESU5HKVxuICB7XG4gICAgcHJvbWlzZS5zdGF0ZV8gPSBTRUFMRUQ7XG4gICAgcHJvbWlzZS5kYXRhXyA9IHZhbHVlO1xuXG4gICAgYXN5bmNDYWxsKHB1Ymxpc2hGdWxmaWxsbWVudCwgcHJvbWlzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVqZWN0KHByb21pc2UsIHJlYXNvbil7XG4gIGlmIChwcm9taXNlLnN0YXRlXyA9PT0gUEVORElORylcbiAge1xuICAgIHByb21pc2Uuc3RhdGVfID0gU0VBTEVEO1xuICAgIHByb21pc2UuZGF0YV8gPSByZWFzb247XG5cbiAgICBhc3luY0NhbGwocHVibGlzaFJlamVjdGlvbiwgcHJvbWlzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaChwcm9taXNlKSB7XG4gIHZhciBjYWxsYmFja3MgPSBwcm9taXNlLnRoZW5fO1xuICBwcm9taXNlLnRoZW5fID0gdW5kZWZpbmVkO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgaW52b2tlQ2FsbGJhY2soY2FsbGJhY2tzW2ldKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoRnVsZmlsbG1lbnQocHJvbWlzZSl7XG4gIHByb21pc2Uuc3RhdGVfID0gRlVMRklMTEVEO1xuICBwdWJsaXNoKHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoUmVqZWN0aW9uKHByb21pc2Upe1xuICBwcm9taXNlLnN0YXRlXyA9IFJFSkVDVEVEO1xuICBwdWJsaXNoKHByb21pc2UpO1xufVxuXG4vKipcbiogQGNsYXNzXG4qL1xuZnVuY3Rpb24gUHJvbWlzZShyZXNvbHZlcil7XG4gIGlmICh0eXBlb2YgcmVzb2x2ZXIgIT09ICdmdW5jdGlvbicpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvbWlzZSBjb25zdHJ1Y3RvciB0YWtlcyBhIGZ1bmN0aW9uIGFyZ3VtZW50Jyk7XG5cbiAgaWYgKHRoaXMgaW5zdGFuY2VvZiBQcm9taXNlID09PSBmYWxzZSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGYWlsZWQgdG8gY29uc3RydWN0IFxcJ1Byb21pc2VcXCc6IFBsZWFzZSB1c2UgdGhlIFxcJ25ld1xcJyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLicpO1xuXG4gIHRoaXMudGhlbl8gPSBbXTtcblxuICBpbnZva2VSZXNvbHZlcihyZXNvbHZlciwgdGhpcyk7XG59XG5cblByb21pc2UucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogUHJvbWlzZSxcblxuICBzdGF0ZV86IFBFTkRJTkcsXG4gIHRoZW5fOiBudWxsLFxuICBkYXRhXzogdW5kZWZpbmVkLFxuXG4gIHRoZW46IGZ1bmN0aW9uKG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKXtcbiAgICB2YXIgc3Vic2NyaWJlciA9IHtcbiAgICAgIG93bmVyOiB0aGlzLFxuICAgICAgdGhlbjogbmV3IHRoaXMuY29uc3RydWN0b3IoTk9PUCksXG4gICAgICBmdWxmaWxsZWQ6IG9uRnVsZmlsbG1lbnQsXG4gICAgICByZWplY3RlZDogb25SZWplY3Rpb25cbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuc3RhdGVfID09PSBGVUxGSUxMRUQgfHwgdGhpcy5zdGF0ZV8gPT09IFJFSkVDVEVEKVxuICAgIHtcbiAgICAgIC8vIGFscmVhZHkgcmVzb2x2ZWQsIGNhbGwgY2FsbGJhY2sgYXN5bmNcbiAgICAgIGFzeW5jQ2FsbChpbnZva2VDYWxsYmFjaywgc3Vic2NyaWJlcik7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAvLyBzdWJzY3JpYmVcbiAgICAgIHRoaXMudGhlbl8ucHVzaChzdWJzY3JpYmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3Vic2NyaWJlci50aGVuO1xuICB9LFxuXG4gICdjYXRjaCc6IGZ1bmN0aW9uKG9uUmVqZWN0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGlvbik7XG4gIH1cbn07XG5cblByb21pc2UuYWxsID0gZnVuY3Rpb24ocHJvbWlzZXMpe1xuICB2YXIgQ2xhc3MgPSB0aGlzO1xuXG4gIGlmICghaXNBcnJheShwcm9taXNlcykpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byBQcm9taXNlLmFsbCgpLicpO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHZhciByZW1haW5pbmcgPSAwO1xuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZXIoaW5kZXgpe1xuICAgICAgcmVtYWluaW5nKys7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICByZXN1bHRzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICBpZiAoIS0tcmVtYWluaW5nKVxuICAgICAgICAgIHJlc29sdmUocmVzdWx0cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwLCBwcm9taXNlOyBpIDwgcHJvbWlzZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2VzW2ldO1xuXG4gICAgICBpZiAocHJvbWlzZSAmJiB0eXBlb2YgcHJvbWlzZS50aGVuID09PSAnZnVuY3Rpb24nKVxuICAgICAgICBwcm9taXNlLnRoZW4ocmVzb2x2ZXIoaSksIHJlamVjdCk7XG4gICAgICBlbHNlXG4gICAgICAgIHJlc3VsdHNbaV0gPSBwcm9taXNlO1xuICAgIH1cblxuICAgIGlmICghcmVtYWluaW5nKVxuICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJhY2UgPSBmdW5jdGlvbihwcm9taXNlcyl7XG4gIHZhciBDbGFzcyA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KHByb21pc2VzKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIFByb21pc2UucmFjZSgpLicpO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIHByb21pc2U7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZXNbaV07XG5cbiAgICAgIGlmIChwcm9taXNlICYmIHR5cGVvZiBwcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgZWxzZVxuICAgICAgICByZXNvbHZlKHByb21pc2UpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSl7XG4gIHZhciBDbGFzcyA9IHRoaXM7XG5cbiAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IENsYXNzKVxuICAgIHJldHVybiB2YWx1ZTtcblxuICByZXR1cm4gbmV3IENsYXNzKGZ1bmN0aW9uKHJlc29sdmUpe1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9KTtcbn07XG5cblByb21pc2UucmVqZWN0ID0gZnVuY3Rpb24ocmVhc29uKXtcbiAgdmFyIENsYXNzID0gdGhpcztcblxuICByZXR1cm4gbmV3IENsYXNzKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgcmVqZWN0KHJlYXNvbik7XG4gIH0pO1xufTtcblxufSkodHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IGVtaXR0ZXIsIG9uY2UpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0pIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIGVtaXR0ZXIuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XS5mbikgZW1pdHRlci5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBbZW1pdHRlci5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gZW1pdHRlcjtcbn1cblxuLyoqXG4gKiBDbGVhciBldmVudCBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZ0IFRoZSBFdmVudCBuYW1lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJFdmVudChlbWl0dGVyLCBldnQpIHtcbiAgaWYgKC0tZW1pdHRlci5fZXZlbnRzQ291bnQgPT09IDApIGVtaXR0ZXIuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgZWxzZSBkZWxldGUgZW1pdHRlci5fZXZlbnRzW2V2dF07XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWhhbmRsZXJzKSByZXR1cm4gW107XG4gIGlmIChoYW5kbGVycy5mbikgcmV0dXJuIFtoYW5kbGVycy5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBoYW5kbGVyc1tpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIDA7XG4gIGlmIChsaXN0ZW5lcnMuZm4pIHJldHVybiAxO1xuICByZXR1cm4gbGlzdGVuZXJzLmxlbmd0aDtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgbGlzdGVuZXJzLmZuID09PSBmbiAmJlxuICAgICAgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKSAmJlxuICAgICAgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8XG4gICAgICAgIChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSkgfHxcbiAgICAgICAgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG52YXIgTWluaVNpZ25hbEJpbmRpbmcgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNaW5pU2lnbmFsQmluZGluZyhmbiwgb25jZSwgdGhpc0FyZykge1xuICAgIGlmIChvbmNlID09PSB1bmRlZmluZWQpIG9uY2UgPSBmYWxzZTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaW5pU2lnbmFsQmluZGluZyk7XG5cbiAgICB0aGlzLl9mbiA9IGZuO1xuICAgIHRoaXMuX29uY2UgPSBvbmNlO1xuICAgIHRoaXMuX3RoaXNBcmcgPSB0aGlzQXJnO1xuICAgIHRoaXMuX25leHQgPSB0aGlzLl9wcmV2ID0gdGhpcy5fb3duZXIgPSBudWxsO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1pbmlTaWduYWxCaW5kaW5nLCBbe1xuICAgIGtleTogJ2RldGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaCgpIHtcbiAgICAgIGlmICh0aGlzLl9vd25lciA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgdGhpcy5fb3duZXIuZGV0YWNoKHRoaXMpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1pbmlTaWduYWxCaW5kaW5nO1xufSkoKTtcblxuZnVuY3Rpb24gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHNlbGYsIG5vZGUpIHtcbiAgaWYgKCFzZWxmLl9oZWFkKSB7XG4gICAgc2VsZi5faGVhZCA9IG5vZGU7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH0gZWxzZSB7XG4gICAgc2VsZi5fdGFpbC5fbmV4dCA9IG5vZGU7XG4gICAgbm9kZS5fcHJldiA9IHNlbGYuX3RhaWw7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH1cblxuICBub2RlLl9vd25lciA9IHNlbGY7XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbnZhciBNaW5pU2lnbmFsID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWluaVNpZ25hbCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWluaVNpZ25hbCk7XG5cbiAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNaW5pU2lnbmFsLCBbe1xuICAgIGtleTogJ2hhbmRsZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlcnMoKSB7XG4gICAgICB2YXIgZXhpc3RzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMF07XG5cbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKGV4aXN0cykgcmV0dXJuICEhbm9kZTtcblxuICAgICAgdmFyIGVlID0gW107XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGVlLnB1c2gobm9kZSk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2hhcygpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vZGUuX293bmVyID09PSB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rpc3BhdGNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5fb25jZSkgdGhpcy5kZXRhY2gobm9kZSk7XG4gICAgICAgIG5vZGUuX2ZuLmFwcGx5KG5vZGUuX3RoaXNBcmcsIGFyZ3VtZW50cyk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdhZGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQoZm4pIHtcbiAgICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjYWRkKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBNaW5pU2lnbmFsQmluZGluZyhmbiwgZmFsc2UsIHRoaXNBcmcpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbmNlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25jZShmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNvbmNlKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBNaW5pU2lnbmFsQmluZGluZyhmbiwgdHJ1ZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG4gICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgTWluaVNpZ25hbEJpbmRpbmcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNkZXRhY2goKTogRmlyc3QgYXJnIG11c3QgYmUgYSBNaW5pU2lnbmFsQmluZGluZyBvYmplY3QuJyk7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5fb3duZXIgIT09IHRoaXMpIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobm9kZS5fcHJldikgbm9kZS5fcHJldi5fbmV4dCA9IG5vZGUuX25leHQ7XG4gICAgICBpZiAobm9kZS5fbmV4dCkgbm9kZS5fbmV4dC5fcHJldiA9IG5vZGUuX3ByZXY7XG5cbiAgICAgIGlmIChub2RlID09PSB0aGlzLl9oZWFkKSB7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBub2RlLl9uZXh0O1xuICAgICAgICBpZiAobm9kZS5fbmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuX3RhaWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUgPT09IHRoaXMuX3RhaWwpIHtcbiAgICAgICAgdGhpcy5fdGFpbCA9IG5vZGUuX3ByZXY7XG4gICAgICAgIHRoaXMuX3RhaWwuX25leHQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBub2RlLl9vd25lciA9IG51bGw7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXRhY2hBbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2hBbGwoKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG4gICAgICBpZiAoIW5vZGUpIHJldHVybiB0aGlzO1xuXG4gICAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IG51bGw7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbDtcbn0pKCk7XG5cbk1pbmlTaWduYWwuTWluaVNpZ25hbEJpbmRpbmcgPSBNaW5pU2lnbmFsQmluZGluZztcblxuZXhwb3J0c1snZGVmYXVsdCddID0gTWluaVNpZ25hbDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuIiwiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsIid1c2Ugc3RyaWN0J1xuXG5mdW5jdGlvbiBwYXJzZVVSSSAoc3RyLCBvcHRzKSB7XG4gIGlmICghc3RyKSByZXR1cm4gdW5kZWZpbmVkXG5cbiAgb3B0cyA9IG9wdHMgfHwge31cblxuICB2YXIgbyA9IHtcbiAgICBrZXk6IFtcbiAgICAgICdzb3VyY2UnLFxuICAgICAgJ3Byb3RvY29sJyxcbiAgICAgICdhdXRob3JpdHknLFxuICAgICAgJ3VzZXJJbmZvJyxcbiAgICAgICd1c2VyJyxcbiAgICAgICdwYXNzd29yZCcsXG4gICAgICAnaG9zdCcsXG4gICAgICAncG9ydCcsXG4gICAgICAncmVsYXRpdmUnLFxuICAgICAgJ3BhdGgnLFxuICAgICAgJ2RpcmVjdG9yeScsXG4gICAgICAnZmlsZScsXG4gICAgICAncXVlcnknLFxuICAgICAgJ2FuY2hvcidcbiAgICBdLFxuICAgIHE6IHtcbiAgICAgIG5hbWU6ICdxdWVyeUtleScsXG4gICAgICBwYXJzZXI6IC8oPzpefCYpKFteJj1dKik9PyhbXiZdKikvZ1xuICAgIH0sXG4gICAgcGFyc2VyOiB7XG4gICAgICBzdHJpY3Q6IC9eKD86KFteOlxcLz8jXSspOik/KD86XFwvXFwvKCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKT8oKCgoPzpbXj8jXFwvXSpcXC8pKikoW14/I10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS8sXG4gICAgICBsb29zZTogL14oPzooPyFbXjpAXSs6W146QFxcL10qQCkoW146XFwvPyMuXSspOik/KD86XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvXG4gICAgfVxuICB9XG5cbiAgdmFyIG0gPSBvLnBhcnNlcltvcHRzLnN0cmljdE1vZGUgPyAnc3RyaWN0JyA6ICdsb29zZSddLmV4ZWMoc3RyKVxuICB2YXIgdXJpID0ge31cbiAgdmFyIGkgPSAxNFxuXG4gIHdoaWxlIChpLS0pIHVyaVtvLmtleVtpXV0gPSBtW2ldIHx8ICcnXG5cbiAgdXJpW28ucS5uYW1lXSA9IHt9XG4gIHVyaVtvLmtleVsxMl1dLnJlcGxhY2Uoby5xLnBhcnNlciwgZnVuY3Rpb24gKCQwLCAkMSwgJDIpIHtcbiAgICBpZiAoJDEpIHVyaVtvLnEubmFtZV1bJDFdID0gJDJcbiAgfSlcblxuICByZXR1cm4gdXJpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyc2VVUklcbiIsIi8qISBodHRwczovL210aHMuYmUvcHVueWNvZGUgdjEuMy4yIGJ5IEBtYXRoaWFzICovXG47KGZ1bmN0aW9uKHJvb3QpIHtcblxuXHQvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovXG5cdHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiZcblx0XHQhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXHR2YXIgZnJlZU1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmXG5cdFx0IW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cdHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7XG5cdGlmIChcblx0XHRmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsXG5cdCkge1xuXHRcdHJvb3QgPSBmcmVlR2xvYmFsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBgcHVueWNvZGVgIG9iamVjdC5cblx0ICogQG5hbWUgcHVueWNvZGVcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqL1xuXHR2YXIgcHVueWNvZGUsXG5cblx0LyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqL1xuXHRtYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xXG5cblx0LyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqL1xuXHRiYXNlID0gMzYsXG5cdHRNaW4gPSAxLFxuXHR0TWF4ID0gMjYsXG5cdHNrZXcgPSAzOCxcblx0ZGFtcCA9IDcwMCxcblx0aW5pdGlhbEJpYXMgPSA3Mixcblx0aW5pdGlhbE4gPSAxMjgsIC8vIDB4ODBcblx0ZGVsaW1pdGVyID0gJy0nLCAvLyAnXFx4MkQnXG5cblx0LyoqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgKi9cblx0cmVnZXhQdW55Y29kZSA9IC9eeG4tLS8sXG5cdHJlZ2V4Tm9uQVNDSUkgPSAvW15cXHgyMC1cXHg3RV0vLCAvLyB1bnByaW50YWJsZSBBU0NJSSBjaGFycyArIG5vbi1BU0NJSSBjaGFyc1xuXHRyZWdleFNlcGFyYXRvcnMgPSAvW1xceDJFXFx1MzAwMlxcdUZGMEVcXHVGRjYxXS9nLCAvLyBSRkMgMzQ5MCBzZXBhcmF0b3JzXG5cblx0LyoqIEVycm9yIG1lc3NhZ2VzICovXG5cdGVycm9ycyA9IHtcblx0XHQnb3ZlcmZsb3cnOiAnT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MnLFxuXHRcdCdub3QtYmFzaWMnOiAnSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KScsXG5cdFx0J2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCdcblx0fSxcblxuXHQvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovXG5cdGJhc2VNaW51c1RNaW4gPSBiYXNlIC0gdE1pbixcblx0Zmxvb3IgPSBNYXRoLmZsb29yLFxuXHRzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLFxuXG5cdC8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi9cblx0a2V5O1xuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgZXJyb3IgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGVycm9yIHR5cGUuXG5cdCAqIEByZXR1cm5zIHtFcnJvcn0gVGhyb3dzIGEgYFJhbmdlRXJyb3JgIHdpdGggdGhlIGFwcGxpY2FibGUgZXJyb3IgbWVzc2FnZS5cblx0ICovXG5cdGZ1bmN0aW9uIGVycm9yKHR5cGUpIHtcblx0XHR0aHJvdyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7XG5cdH1cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGBBcnJheSNtYXBgIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeSBhcnJheVxuXHQgKiBpdGVtLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7XG5cdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0d2hpbGUgKGxlbmd0aC0tKSB7XG5cdFx0XHRyZXN1bHRbbGVuZ3RoXSA9IGZuKGFycmF5W2xlbmd0aF0pO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbFxuXHQgKiBhZGRyZXNzZXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeVxuXHQgKiBjaGFyYWN0ZXIuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrXG5cdCAqIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHtcblx0XHR2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTtcblx0XHR2YXIgcmVzdWx0ID0gJyc7XG5cdFx0aWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdC8vIEluIGVtYWlsIGFkZHJlc3Nlcywgb25seSB0aGUgZG9tYWluIG5hbWUgc2hvdWxkIGJlIHB1bnljb2RlZC4gTGVhdmVcblx0XHRcdC8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuXG5cdFx0XHRyZXN1bHQgPSBwYXJ0c1swXSArICdAJztcblx0XHRcdHN0cmluZyA9IHBhcnRzWzFdO1xuXHRcdH1cblx0XHQvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuXG5cdFx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnZXhTZXBhcmF0b3JzLCAnXFx4MkUnKTtcblx0XHR2YXIgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7XG5cdFx0dmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpO1xuXHRcdHJldHVybiByZXN1bHQgKyBlbmNvZGVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGVcblx0ICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LFxuXHQgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaFxuXHQgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCxcblx0ICogbWF0Y2hpbmcgVVRGLTE2LlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWBcblx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGRlY29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBuZXcgYXJyYXkgb2YgY29kZSBwb2ludHMuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykge1xuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgY291bnRlciA9IDAsXG5cdFx0ICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBleHRyYTtcblx0XHR3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0dmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0XHQvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcblx0XHRcdFx0ZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZVxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcblx0XHRcdFx0XHQvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcblx0XHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0Y291bnRlci0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmRlY29kZWBcblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZW5jb2RlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNvZGVQb2ludHMgVGhlIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHtcblx0XHRyZXR1cm4gbWFwKGFycmF5LCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIG91dHB1dCA9ICcnO1xuXHRcdFx0aWYgKHZhbHVlID4gMHhGRkZGKSB7XG5cdFx0XHRcdHZhbHVlIC09IDB4MTAwMDA7XG5cdFx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuXHRcdFx0XHR2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTtcblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cdFx0fSkuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLlxuXHQgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW5cblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZlxuXHQgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS5cblx0ICovXG5cdGZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHtcblx0XHRpZiAoY29kZVBvaW50IC0gNDggPCAxMCkge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDIyO1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gNjUgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDY1O1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gOTcgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDk3O1xuXHRcdH1cblx0XHRyZXR1cm4gYmFzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvclxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGBkaWdpdGAsIHdoaWNoIG5lZWRzIHRvIGJlIGluIHRoZSByYW5nZVxuXHQgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXNcblx0ICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWRcblx0ICogaWYgYGZsYWdgIGlzIG5vbi16ZXJvIGFuZCBgZGlnaXRgIGhhcyBubyB1cHBlcmNhc2UgZm9ybS5cblx0ICovXG5cdGZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykge1xuXHRcdC8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aXG5cdFx0Ly8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45XG5cdFx0cmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLlxuXHQgKiBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcblx0XHR2YXIgayA9IDA7XG5cdFx0ZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTtcblx0XHRkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG5cdFx0Zm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRcdGRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGVcblx0ICogc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdFx0Ly8gRG9uJ3QgdXNlIFVDUy0yXG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHQgICAgb3V0LFxuXHRcdCAgICBpID0gMCxcblx0XHQgICAgbiA9IGluaXRpYWxOLFxuXHRcdCAgICBiaWFzID0gaW5pdGlhbEJpYXMsXG5cdFx0ICAgIGJhc2ljLFxuXHRcdCAgICBqLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgb2xkaSxcblx0XHQgICAgdyxcblx0XHQgICAgayxcblx0XHQgICAgZGlnaXQsXG5cdFx0ICAgIHQsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBiYXNlTWludXNUO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlXG5cdFx0Ly8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHlcblx0XHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHRcdGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTtcblx0XHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0XHRiYXNpYyA9IDA7XG5cdFx0fVxuXG5cdFx0Zm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHtcblx0XHRcdC8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludFxuXHRcdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0XHRlcnJvcignbm90LWJhc2ljJyk7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlXG5cdFx0Ly8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS5cblxuXHRcdGZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7XG5cblx0XHRcdC8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC5cblx0XHRcdC8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCxcblx0XHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0XHQvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuXHRcdFx0Ly8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC5cblx0XHRcdGZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblxuXHRcdFx0XHRpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHtcblx0XHRcdFx0XHRlcnJvcignaW52YWxpZC1pbnB1dCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aSArPSBkaWdpdCAqIHc7XG5cdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA8IHQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0aWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXG5cdFx0XHR9XG5cblx0XHRcdG91dCA9IG91dHB1dC5sZW5ndGggKyAxO1xuXHRcdFx0YmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7XG5cblx0XHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0XHQvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OlxuXHRcdFx0aWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0biArPSBmbG9vcihpIC8gb3V0KTtcblx0XHRcdGkgJT0gb3V0O1xuXG5cdFx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0XG5cdFx0XHRvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG5cdCAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGVuY29kZShpbnB1dCkge1xuXHRcdHZhciBuLFxuXHRcdCAgICBkZWx0YSxcblx0XHQgICAgaGFuZGxlZENQQ291bnQsXG5cdFx0ICAgIGJhc2ljTGVuZ3RoLFxuXHRcdCAgICBiaWFzLFxuXHRcdCAgICBqLFxuXHRcdCAgICBtLFxuXHRcdCAgICBxLFxuXHRcdCAgICBrLFxuXHRcdCAgICB0LFxuXHRcdCAgICBjdXJyZW50VmFsdWUsXG5cdFx0ICAgIG91dHB1dCA9IFtdLFxuXHRcdCAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqL1xuXHRcdCAgICBpbnB1dExlbmd0aCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSxcblx0XHQgICAgYmFzZU1pbnVzVCxcblx0XHQgICAgcU1pbnVzVDtcblxuXHRcdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGVcblx0XHRpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpO1xuXG5cdFx0Ly8gQ2FjaGUgdGhlIGxlbmd0aFxuXHRcdGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgc3RhdGVcblx0XHRuID0gaW5pdGlhbE47XG5cdFx0ZGVsdGEgPSAwO1xuXHRcdGJpYXMgPSBpbml0aWFsQmlhcztcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHNcblx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkge1xuXHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cblx0XHQvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDtcblx0XHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0XHQvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXJcblx0XHRpZiAoYmFzaWNMZW5ndGgpIHtcblx0XHRcdG91dHB1dC5wdXNoKGRlbGltaXRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBlbmNvZGluZyBsb29wOlxuXHRcdHdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7XG5cblx0XHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHRcdC8vIGxhcmdlciBvbmU6XG5cdFx0XHRmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93XG5cdFx0XHRoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7XG5cdFx0XHRpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTtcblx0XHRcdG4gPSBtO1xuXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID09IG4pIHtcblx0XHRcdFx0XHQvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlclxuXHRcdFx0XHRcdGZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXHRcdFx0XHRcdFx0aWYgKHEgPCB0KSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnB1c2goXG5cdFx0XHRcdFx0XHRcdHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTtcblx0XHRcdFx0XHRiaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpO1xuXHRcdFx0XHRcdGRlbHRhID0gMDtcblx0XHRcdFx0XHQrK2hhbmRsZWRDUENvdW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCsrZGVsdGE7XG5cdFx0XHQrK247XG5cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG5cdCAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS5cblx0ICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuXG5cdCAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZVxuXHQgKiBzdHJpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLFxuXHQgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cblx0ICogQVNDSUkuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuXHQgKiBVbmljb2RlIHN0cmluZy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvclxuXHQgKiBlbWFpbCBhZGRyZXNzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gJ3huLS0nICsgZW5jb2RlKHN0cmluZylcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG5cdHB1bnljb2RlID0ge1xuXHRcdC8qKlxuXHRcdCAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKi9cblx0XHQndmVyc2lvbic6ICcxLjMuMicsXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXJcblx0XHQgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLlxuXHRcdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqL1xuXHRcdCd1Y3MyJzoge1xuXHRcdFx0J2RlY29kZSc6IHVjczJkZWNvZGUsXG5cdFx0XHQnZW5jb2RlJzogdWNzMmVuY29kZVxuXHRcdH0sXG5cdFx0J2RlY29kZSc6IGRlY29kZSxcblx0XHQnZW5jb2RlJzogZW5jb2RlLFxuXHRcdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0XHQndG9Vbmljb2RlJzogdG9Vbmljb2RlXG5cdH07XG5cblx0LyoqIEV4cG9zZSBgcHVueWNvZGVgICovXG5cdC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJuc1xuXHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdGlmIChcblx0XHR0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiZcblx0XHR0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJlxuXHRcdGRlZmluZS5hbWRcblx0KSB7XG5cdFx0ZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHB1bnljb2RlO1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcblx0XHRpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHsgLy8gaW4gTm9kZS5qcyBvciBSaW5nb0pTIHYwLjguMCtcblx0XHRcdGZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlO1xuXHRcdH0gZWxzZSB7IC8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtXG5cdFx0XHRmb3IgKGtleSBpbiBwdW55Y29kZSkge1xuXHRcdFx0XHRwdW55Y29kZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gcHVueWNvZGVba2V5XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2UgeyAvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyXG5cdFx0cm9vdC5wdW55Y29kZSA9IHB1bnljb2RlO1xuXHR9XG5cbn0odGhpcykpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihxcywgc2VwLCBlcSwgb3B0aW9ucykge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgdmFyIG9iaiA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcXMgIT09ICdzdHJpbmcnIHx8IHFzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVnZXhwID0gL1xcKy9nO1xuICBxcyA9IHFzLnNwbGl0KHNlcCk7XG5cbiAgdmFyIG1heEtleXMgPSAxMDAwO1xuICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhLZXlzID09PSAnbnVtYmVyJykge1xuICAgIG1heEtleXMgPSBvcHRpb25zLm1heEtleXM7XG4gIH1cblxuICB2YXIgbGVuID0gcXMubGVuZ3RoO1xuICAvLyBtYXhLZXlzIDw9IDAgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IGxpbWl0IGtleXMgY291bnRcbiAgaWYgKG1heEtleXMgPiAwICYmIGxlbiA+IG1heEtleXMpIHtcbiAgICBsZW4gPSBtYXhLZXlzO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciB4ID0gcXNbaV0ucmVwbGFjZShyZWdleHAsICclMjAnKSxcbiAgICAgICAgaWR4ID0geC5pbmRleE9mKGVxKSxcbiAgICAgICAga3N0ciwgdnN0ciwgaywgdjtcblxuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAga3N0ciA9IHguc3Vic3RyKDAsIGlkeCk7XG4gICAgICB2c3RyID0geC5zdWJzdHIoaWR4ICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzdHIgPSB4O1xuICAgICAgdnN0ciA9ICcnO1xuICAgIH1cblxuICAgIGsgPSBkZWNvZGVVUklDb21wb25lbnQoa3N0cik7XG4gICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2c3RyKTtcblxuICAgIGlmICghaGFzT3duUHJvcGVydHkob2JqLCBrKSkge1xuICAgICAgb2JqW2tdID0gdjtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgb2JqW2tdLnB1c2godik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrXSA9IFtvYmpba10sIHZdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeVByaW1pdGl2ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubWFwKGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBvYmpba10ubWFwKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKHYpKTtcbiAgICAgICAgfSkuam9pbihzZXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmpba10pKTtcbiAgICAgIH1cbiAgICB9KS5qb2luKHNlcCk7XG5cbiAgfVxuXG4gIGlmICghbmFtZSkgcmV0dXJuICcnO1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShuYW1lKSkgKyBlcSArXG4gICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9iaikpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5kZWNvZGUgPSBleHBvcnRzLnBhcnNlID0gcmVxdWlyZSgnLi9kZWNvZGUnKTtcbmV4cG9ydHMuZW5jb2RlID0gZXhwb3J0cy5zdHJpbmdpZnkgPSByZXF1aXJlKCcuL2VuY29kZScpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHB1bnljb2RlID0gcmVxdWlyZSgncHVueWNvZGUnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbmV4cG9ydHMucGFyc2UgPSB1cmxQYXJzZTtcbmV4cG9ydHMucmVzb2x2ZSA9IHVybFJlc29sdmU7XG5leHBvcnRzLnJlc29sdmVPYmplY3QgPSB1cmxSZXNvbHZlT2JqZWN0O1xuZXhwb3J0cy5mb3JtYXQgPSB1cmxGb3JtYXQ7XG5cbmV4cG9ydHMuVXJsID0gVXJsO1xuXG5mdW5jdGlvbiBVcmwoKSB7XG4gIHRoaXMucHJvdG9jb2wgPSBudWxsO1xuICB0aGlzLnNsYXNoZXMgPSBudWxsO1xuICB0aGlzLmF1dGggPSBudWxsO1xuICB0aGlzLmhvc3QgPSBudWxsO1xuICB0aGlzLnBvcnQgPSBudWxsO1xuICB0aGlzLmhvc3RuYW1lID0gbnVsbDtcbiAgdGhpcy5oYXNoID0gbnVsbDtcbiAgdGhpcy5zZWFyY2ggPSBudWxsO1xuICB0aGlzLnF1ZXJ5ID0gbnVsbDtcbiAgdGhpcy5wYXRobmFtZSA9IG51bGw7XG4gIHRoaXMucGF0aCA9IG51bGw7XG4gIHRoaXMuaHJlZiA9IG51bGw7XG59XG5cbi8vIFJlZmVyZW5jZTogUkZDIDM5ODYsIFJGQyAxODA4LCBSRkMgMjM5NlxuXG4vLyBkZWZpbmUgdGhlc2UgaGVyZSBzbyBhdCBsZWFzdCB0aGV5IG9ubHkgaGF2ZSB0byBiZVxuLy8gY29tcGlsZWQgb25jZSBvbiB0aGUgZmlyc3QgbW9kdWxlIGxvYWQuXG52YXIgcHJvdG9jb2xQYXR0ZXJuID0gL14oW2EtejAtOS4rLV0rOikvaSxcbiAgICBwb3J0UGF0dGVybiA9IC86WzAtOV0qJC8sXG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIGEgc2ltcGxlIHBhdGggVVJMXG4gICAgc2ltcGxlUGF0aFBhdHRlcm4gPSAvXihcXC9cXC8/KD8hXFwvKVteXFw/XFxzXSopKFxcP1teXFxzXSopPyQvLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgcmVzZXJ2ZWQgZm9yIGRlbGltaXRpbmcgVVJMcy5cbiAgICAvLyBXZSBhY3R1YWxseSBqdXN0IGF1dG8tZXNjYXBlIHRoZXNlLlxuICAgIGRlbGltcyA9IFsnPCcsICc+JywgJ1wiJywgJ2AnLCAnICcsICdcXHInLCAnXFxuJywgJ1xcdCddLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgbm90IGFsbG93ZWQgZm9yIHZhcmlvdXMgcmVhc29ucy5cbiAgICB1bndpc2UgPSBbJ3snLCAnfScsICd8JywgJ1xcXFwnLCAnXicsICdgJ10uY29uY2F0KGRlbGltcyksXG5cbiAgICAvLyBBbGxvd2VkIGJ5IFJGQ3MsIGJ1dCBjYXVzZSBvZiBYU1MgYXR0YWNrcy4gIEFsd2F5cyBlc2NhcGUgdGhlc2UuXG4gICAgYXV0b0VzY2FwZSA9IFsnXFwnJ10uY29uY2F0KHVud2lzZSksXG4gICAgLy8gQ2hhcmFjdGVycyB0aGF0IGFyZSBuZXZlciBldmVyIGFsbG93ZWQgaW4gYSBob3N0bmFtZS5cbiAgICAvLyBOb3RlIHRoYXQgYW55IGludmFsaWQgY2hhcnMgYXJlIGFsc28gaGFuZGxlZCwgYnV0IHRoZXNlXG4gICAgLy8gYXJlIHRoZSBvbmVzIHRoYXQgYXJlICpleHBlY3RlZCogdG8gYmUgc2Vlbiwgc28gd2UgZmFzdC1wYXRoXG4gICAgLy8gdGhlbS5cbiAgICBub25Ib3N0Q2hhcnMgPSBbJyUnLCAnLycsICc/JywgJzsnLCAnIyddLmNvbmNhdChhdXRvRXNjYXBlKSxcbiAgICBob3N0RW5kaW5nQ2hhcnMgPSBbJy8nLCAnPycsICcjJ10sXG4gICAgaG9zdG5hbWVNYXhMZW4gPSAyNTUsXG4gICAgaG9zdG5hbWVQYXJ0UGF0dGVybiA9IC9eWythLXowLTlBLVpfLV17MCw2M30kLyxcbiAgICBob3N0bmFtZVBhcnRTdGFydCA9IC9eKFsrYS16MC05QS1aXy1dezAsNjN9KSguKikkLyxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBjYW4gYWxsb3cgXCJ1bnNhZmVcIiBhbmQgXCJ1bndpc2VcIiBjaGFycy5cbiAgICB1bnNhZmVQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IG5ldmVyIGhhdmUgYSBob3N0bmFtZS5cbiAgICBob3N0bGVzc1Byb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgYWx3YXlzIGNvbnRhaW4gYSAvLyBiaXQuXG4gICAgc2xhc2hlZFByb3RvY29sID0ge1xuICAgICAgJ2h0dHAnOiB0cnVlLFxuICAgICAgJ2h0dHBzJzogdHJ1ZSxcbiAgICAgICdmdHAnOiB0cnVlLFxuICAgICAgJ2dvcGhlcic6IHRydWUsXG4gICAgICAnZmlsZSc6IHRydWUsXG4gICAgICAnaHR0cDonOiB0cnVlLFxuICAgICAgJ2h0dHBzOic6IHRydWUsXG4gICAgICAnZnRwOic6IHRydWUsXG4gICAgICAnZ29waGVyOic6IHRydWUsXG4gICAgICAnZmlsZTonOiB0cnVlXG4gICAgfSxcbiAgICBxdWVyeXN0cmluZyA9IHJlcXVpcmUoJ3F1ZXJ5c3RyaW5nJyk7XG5cbmZ1bmN0aW9uIHVybFBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKHVybCAmJiB1dGlsLmlzT2JqZWN0KHVybCkgJiYgdXJsIGluc3RhbmNlb2YgVXJsKSByZXR1cm4gdXJsO1xuXG4gIHZhciB1ID0gbmV3IFVybDtcbiAgdS5wYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KTtcbiAgcmV0dXJuIHU7XG59XG5cblVybC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbih1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICghdXRpbC5pc1N0cmluZyh1cmwpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhcmFtZXRlciAndXJsJyBtdXN0IGJlIGEgc3RyaW5nLCBub3QgXCIgKyB0eXBlb2YgdXJsKTtcbiAgfVxuXG4gIC8vIENvcHkgY2hyb21lLCBJRSwgb3BlcmEgYmFja3NsYXNoLWhhbmRsaW5nIGJlaGF2aW9yLlxuICAvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXNcbiAgLy8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTZcbiAgdmFyIHF1ZXJ5SW5kZXggPSB1cmwuaW5kZXhPZignPycpLFxuICAgICAgc3BsaXR0ZXIgPVxuICAgICAgICAgIChxdWVyeUluZGV4ICE9PSAtMSAmJiBxdWVyeUluZGV4IDwgdXJsLmluZGV4T2YoJyMnKSkgPyAnPycgOiAnIycsXG4gICAgICB1U3BsaXQgPSB1cmwuc3BsaXQoc3BsaXR0ZXIpLFxuICAgICAgc2xhc2hSZWdleCA9IC9cXFxcL2c7XG4gIHVTcGxpdFswXSA9IHVTcGxpdFswXS5yZXBsYWNlKHNsYXNoUmVnZXgsICcvJyk7XG4gIHVybCA9IHVTcGxpdC5qb2luKHNwbGl0dGVyKTtcblxuICB2YXIgcmVzdCA9IHVybDtcblxuICAvLyB0cmltIGJlZm9yZSBwcm9jZWVkaW5nLlxuICAvLyBUaGlzIGlzIHRvIHN1cHBvcnQgcGFyc2Ugc3R1ZmYgbGlrZSBcIiAgaHR0cDovL2Zvby5jb20gIFxcblwiXG4gIHJlc3QgPSByZXN0LnRyaW0oKTtcblxuICBpZiAoIXNsYXNoZXNEZW5vdGVIb3N0ICYmIHVybC5zcGxpdCgnIycpLmxlbmd0aCA9PT0gMSkge1xuICAgIC8vIFRyeSBmYXN0IHBhdGggcmVnZXhwXG4gICAgdmFyIHNpbXBsZVBhdGggPSBzaW1wbGVQYXRoUGF0dGVybi5leGVjKHJlc3QpO1xuICAgIGlmIChzaW1wbGVQYXRoKSB7XG4gICAgICB0aGlzLnBhdGggPSByZXN0O1xuICAgICAgdGhpcy5ocmVmID0gcmVzdDtcbiAgICAgIHRoaXMucGF0aG5hbWUgPSBzaW1wbGVQYXRoWzFdO1xuICAgICAgaWYgKHNpbXBsZVBhdGhbMl0pIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBzaW1wbGVQYXRoWzJdO1xuICAgICAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnNlYXJjaC5zdWJzdHIoMSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSB0aGlzLnNlYXJjaC5zdWJzdHIoMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgICAgICB0aGlzLnF1ZXJ5ID0ge307XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cblxuICB2YXIgcHJvdG8gPSBwcm90b2NvbFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgaWYgKHByb3RvKSB7XG4gICAgcHJvdG8gPSBwcm90b1swXTtcbiAgICB2YXIgbG93ZXJQcm90byA9IHByb3RvLnRvTG93ZXJDYXNlKCk7XG4gICAgdGhpcy5wcm90b2NvbCA9IGxvd2VyUHJvdG87XG4gICAgcmVzdCA9IHJlc3Quc3Vic3RyKHByb3RvLmxlbmd0aCk7XG4gIH1cblxuICAvLyBmaWd1cmUgb3V0IGlmIGl0J3MgZ290IGEgaG9zdFxuICAvLyB1c2VyQHNlcnZlciBpcyAqYWx3YXlzKiBpbnRlcnByZXRlZCBhcyBhIGhvc3RuYW1lLCBhbmQgdXJsXG4gIC8vIHJlc29sdXRpb24gd2lsbCB0cmVhdCAvL2Zvby9iYXIgYXMgaG9zdD1mb28scGF0aD1iYXIgYmVjYXVzZSB0aGF0J3NcbiAgLy8gaG93IHRoZSBicm93c2VyIHJlc29sdmVzIHJlbGF0aXZlIFVSTHMuXG4gIGlmIChzbGFzaGVzRGVub3RlSG9zdCB8fCBwcm90byB8fCByZXN0Lm1hdGNoKC9eXFwvXFwvW15AXFwvXStAW15AXFwvXSsvKSkge1xuICAgIHZhciBzbGFzaGVzID0gcmVzdC5zdWJzdHIoMCwgMikgPT09ICcvLyc7XG4gICAgaWYgKHNsYXNoZXMgJiYgIShwcm90byAmJiBob3N0bGVzc1Byb3RvY29sW3Byb3RvXSkpIHtcbiAgICAgIHJlc3QgPSByZXN0LnN1YnN0cigyKTtcbiAgICAgIHRoaXMuc2xhc2hlcyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFob3N0bGVzc1Byb3RvY29sW3Byb3RvXSAmJlxuICAgICAgKHNsYXNoZXMgfHwgKHByb3RvICYmICFzbGFzaGVkUHJvdG9jb2xbcHJvdG9dKSkpIHtcblxuICAgIC8vIHRoZXJlJ3MgYSBob3N0bmFtZS5cbiAgICAvLyB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgLywgPywgOywgb3IgIyBlbmRzIHRoZSBob3N0LlxuICAgIC8vXG4gICAgLy8gSWYgdGhlcmUgaXMgYW4gQCBpbiB0aGUgaG9zdG5hbWUsIHRoZW4gbm9uLWhvc3QgY2hhcnMgKmFyZSogYWxsb3dlZFxuICAgIC8vIHRvIHRoZSBsZWZ0IG9mIHRoZSBsYXN0IEAgc2lnbiwgdW5sZXNzIHNvbWUgaG9zdC1lbmRpbmcgY2hhcmFjdGVyXG4gICAgLy8gY29tZXMgKmJlZm9yZSogdGhlIEAtc2lnbi5cbiAgICAvLyBVUkxzIGFyZSBvYm5veGlvdXMuXG4gICAgLy9cbiAgICAvLyBleDpcbiAgICAvLyBodHRwOi8vYUBiQGMvID0+IHVzZXI6YUBiIGhvc3Q6Y1xuICAgIC8vIGh0dHA6Ly9hQGI/QGMgPT4gdXNlcjphIGhvc3Q6YyBwYXRoOi8/QGNcblxuICAgIC8vIHYwLjEyIFRPRE8oaXNhYWNzKTogVGhpcyBpcyBub3QgcXVpdGUgaG93IENocm9tZSBkb2VzIHRoaW5ncy5cbiAgICAvLyBSZXZpZXcgb3VyIHRlc3QgY2FzZSBhZ2FpbnN0IGJyb3dzZXJzIG1vcmUgY29tcHJlaGVuc2l2ZWx5LlxuXG4gICAgLy8gZmluZCB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgYW55IGhvc3RFbmRpbmdDaGFyc1xuICAgIHZhciBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob3N0RW5kaW5nQ2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2YoaG9zdEVuZGluZ0NoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG5cbiAgICAvLyBhdCB0aGlzIHBvaW50LCBlaXRoZXIgd2UgaGF2ZSBhbiBleHBsaWNpdCBwb2ludCB3aGVyZSB0aGVcbiAgICAvLyBhdXRoIHBvcnRpb24gY2Fubm90IGdvIHBhc3QsIG9yIHRoZSBsYXN0IEAgY2hhciBpcyB0aGUgZGVjaWRlci5cbiAgICB2YXIgYXV0aCwgYXRTaWduO1xuICAgIGlmIChob3N0RW5kID09PSAtMSkge1xuICAgICAgLy8gYXRTaWduIGNhbiBiZSBhbnl3aGVyZS5cbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYXRTaWduIG11c3QgYmUgaW4gYXV0aCBwb3J0aW9uLlxuICAgICAgLy8gaHR0cDovL2FAYi9jQGQgPT4gaG9zdDpiIGF1dGg6YSBwYXRoOi9jQGRcbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnLCBob3N0RW5kKTtcbiAgICB9XG5cbiAgICAvLyBOb3cgd2UgaGF2ZSBhIHBvcnRpb24gd2hpY2ggaXMgZGVmaW5pdGVseSB0aGUgYXV0aC5cbiAgICAvLyBQdWxsIHRoYXQgb2ZmLlxuICAgIGlmIChhdFNpZ24gIT09IC0xKSB7XG4gICAgICBhdXRoID0gcmVzdC5zbGljZSgwLCBhdFNpZ24pO1xuICAgICAgcmVzdCA9IHJlc3Quc2xpY2UoYXRTaWduICsgMSk7XG4gICAgICB0aGlzLmF1dGggPSBkZWNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgfVxuXG4gICAgLy8gdGhlIGhvc3QgaXMgdGhlIHJlbWFpbmluZyB0byB0aGUgbGVmdCBvZiB0aGUgZmlyc3Qgbm9uLWhvc3QgY2hhclxuICAgIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vbkhvc3RDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihub25Ib3N0Q2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cbiAgICAvLyBpZiB3ZSBzdGlsbCBoYXZlIG5vdCBoaXQgaXQsIHRoZW4gdGhlIGVudGlyZSB0aGluZyBpcyBhIGhvc3QuXG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKVxuICAgICAgaG9zdEVuZCA9IHJlc3QubGVuZ3RoO1xuXG4gICAgdGhpcy5ob3N0ID0gcmVzdC5zbGljZSgwLCBob3N0RW5kKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZShob3N0RW5kKTtcblxuICAgIC8vIHB1bGwgb3V0IHBvcnQuXG4gICAgdGhpcy5wYXJzZUhvc3QoKTtcblxuICAgIC8vIHdlJ3ZlIGluZGljYXRlZCB0aGF0IHRoZXJlIGlzIGEgaG9zdG5hbWUsXG4gICAgLy8gc28gZXZlbiBpZiBpdCdzIGVtcHR5LCBpdCBoYXMgdG8gYmUgcHJlc2VudC5cbiAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcblxuICAgIC8vIGlmIGhvc3RuYW1lIGJlZ2lucyB3aXRoIFsgYW5kIGVuZHMgd2l0aCBdXG4gICAgLy8gYXNzdW1lIHRoYXQgaXQncyBhbiBJUHY2IGFkZHJlc3MuXG4gICAgdmFyIGlwdjZIb3N0bmFtZSA9IHRoaXMuaG9zdG5hbWVbMF0gPT09ICdbJyAmJlxuICAgICAgICB0aGlzLmhvc3RuYW1lW3RoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMV0gPT09ICddJztcblxuICAgIC8vIHZhbGlkYXRlIGEgbGl0dGxlLlxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB2YXIgaG9zdHBhcnRzID0gdGhpcy5ob3N0bmFtZS5zcGxpdCgvXFwuLyk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGhvc3RwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcnQgPSBob3N0cGFydHNbaV07XG4gICAgICAgIGlmICghcGFydCkgY29udGludWU7XG4gICAgICAgIGlmICghcGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgIHZhciBuZXdwYXJ0ID0gJyc7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGsgPSBwYXJ0Lmxlbmd0aDsgaiA8IGs7IGorKykge1xuICAgICAgICAgICAgaWYgKHBhcnQuY2hhckNvZGVBdChqKSA+IDEyNykge1xuICAgICAgICAgICAgICAvLyB3ZSByZXBsYWNlIG5vbi1BU0NJSSBjaGFyIHdpdGggYSB0ZW1wb3JhcnkgcGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0aGlzIHRvIG1ha2Ugc3VyZSBzaXplIG9mIGhvc3RuYW1lIGlzIG5vdFxuICAgICAgICAgICAgICAvLyBicm9rZW4gYnkgcmVwbGFjaW5nIG5vbi1BU0NJSSBieSBub3RoaW5nXG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gJ3gnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3cGFydCArPSBwYXJ0W2pdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyB3ZSB0ZXN0IGFnYWluIHdpdGggQVNDSUkgY2hhciBvbmx5XG4gICAgICAgICAgaWYgKCFuZXdwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgICB2YXIgdmFsaWRQYXJ0cyA9IGhvc3RwYXJ0cy5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgIHZhciBub3RIb3N0ID0gaG9zdHBhcnRzLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgICAgIHZhciBiaXQgPSBwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFN0YXJ0KTtcbiAgICAgICAgICAgIGlmIChiaXQpIHtcbiAgICAgICAgICAgICAgdmFsaWRQYXJ0cy5wdXNoKGJpdFsxXSk7XG4gICAgICAgICAgICAgIG5vdEhvc3QudW5zaGlmdChiaXRbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vdEhvc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHJlc3QgPSAnLycgKyBub3RIb3N0LmpvaW4oJy4nKSArIHJlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhvc3RuYW1lID0gdmFsaWRQYXJ0cy5qb2luKCcuJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5ob3N0bmFtZS5sZW5ndGggPiBob3N0bmFtZU1heExlbikge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBob3N0bmFtZXMgYXJlIGFsd2F5cyBsb3dlciBjYXNlLlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgLy8gSUROQSBTdXBwb3J0OiBSZXR1cm5zIGEgcHVueWNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIFwiZG9tYWluXCIuXG4gICAgICAvLyBJdCBvbmx5IGNvbnZlcnRzIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB0aGF0XG4gICAgICAvLyBoYXZlIG5vbi1BU0NJSSBjaGFyYWN0ZXJzLCBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmXG4gICAgICAvLyB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQgYWxyZWFkeSBpcyBBU0NJSS1vbmx5LlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5ob3N0bmFtZSk7XG4gICAgfVxuXG4gICAgdmFyIHAgPSB0aGlzLnBvcnQgPyAnOicgKyB0aGlzLnBvcnQgOiAnJztcbiAgICB2YXIgaCA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG4gICAgdGhpcy5ob3N0ID0gaCArIHA7XG4gICAgdGhpcy5ocmVmICs9IHRoaXMuaG9zdDtcblxuICAgIC8vIHN0cmlwIFsgYW5kIF0gZnJvbSB0aGUgaG9zdG5hbWVcbiAgICAvLyB0aGUgaG9zdCBmaWVsZCBzdGlsbCByZXRhaW5zIHRoZW0sIHRob3VnaFxuICAgIGlmIChpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnN1YnN0cigxLCB0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgaWYgKHJlc3RbMF0gIT09ICcvJykge1xuICAgICAgICByZXN0ID0gJy8nICsgcmVzdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBub3cgcmVzdCBpcyBzZXQgdG8gdGhlIHBvc3QtaG9zdCBzdHVmZi5cbiAgLy8gY2hvcCBvZmYgYW55IGRlbGltIGNoYXJzLlxuICBpZiAoIXVuc2FmZVByb3RvY29sW2xvd2VyUHJvdG9dKSB7XG5cbiAgICAvLyBGaXJzdCwgbWFrZSAxMDAlIHN1cmUgdGhhdCBhbnkgXCJhdXRvRXNjYXBlXCIgY2hhcnMgZ2V0XG4gICAgLy8gZXNjYXBlZCwgZXZlbiBpZiBlbmNvZGVVUklDb21wb25lbnQgZG9lc24ndCB0aGluayB0aGV5XG4gICAgLy8gbmVlZCB0byBiZS5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF1dG9Fc2NhcGUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgYWUgPSBhdXRvRXNjYXBlW2ldO1xuICAgICAgaWYgKHJlc3QuaW5kZXhPZihhZSkgPT09IC0xKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIHZhciBlc2MgPSBlbmNvZGVVUklDb21wb25lbnQoYWUpO1xuICAgICAgaWYgKGVzYyA9PT0gYWUpIHtcbiAgICAgICAgZXNjID0gZXNjYXBlKGFlKTtcbiAgICAgIH1cbiAgICAgIHJlc3QgPSByZXN0LnNwbGl0KGFlKS5qb2luKGVzYyk7XG4gICAgfVxuICB9XG5cblxuICAvLyBjaG9wIG9mZiBmcm9tIHRoZSB0YWlsIGZpcnN0LlxuICB2YXIgaGFzaCA9IHJlc3QuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaCAhPT0gLTEpIHtcbiAgICAvLyBnb3QgYSBmcmFnbWVudCBzdHJpbmcuXG4gICAgdGhpcy5oYXNoID0gcmVzdC5zdWJzdHIoaGFzaCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgaGFzaCk7XG4gIH1cbiAgdmFyIHFtID0gcmVzdC5pbmRleE9mKCc/Jyk7XG4gIGlmIChxbSAhPT0gLTEpIHtcbiAgICB0aGlzLnNlYXJjaCA9IHJlc3Quc3Vic3RyKHFtKTtcbiAgICB0aGlzLnF1ZXJ5ID0gcmVzdC5zdWJzdHIocW0gKyAxKTtcbiAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMucXVlcnkpO1xuICAgIH1cbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBxbSk7XG4gIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgIC8vIG5vIHF1ZXJ5IHN0cmluZywgYnV0IHBhcnNlUXVlcnlTdHJpbmcgc3RpbGwgcmVxdWVzdGVkXG4gICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICB0aGlzLnF1ZXJ5ID0ge307XG4gIH1cbiAgaWYgKHJlc3QpIHRoaXMucGF0aG5hbWUgPSByZXN0O1xuICBpZiAoc2xhc2hlZFByb3RvY29sW2xvd2VyUHJvdG9dICYmXG4gICAgICB0aGlzLmhvc3RuYW1lICYmICF0aGlzLnBhdGhuYW1lKSB7XG4gICAgdGhpcy5wYXRobmFtZSA9ICcvJztcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgaWYgKHRoaXMucGF0aG5hbWUgfHwgdGhpcy5zZWFyY2gpIHtcbiAgICB2YXIgcCA9IHRoaXMucGF0aG5hbWUgfHwgJyc7XG4gICAgdmFyIHMgPSB0aGlzLnNlYXJjaCB8fCAnJztcbiAgICB0aGlzLnBhdGggPSBwICsgcztcbiAgfVxuXG4gIC8vIGZpbmFsbHksIHJlY29uc3RydWN0IHRoZSBocmVmIGJhc2VkIG9uIHdoYXQgaGFzIGJlZW4gdmFsaWRhdGVkLlxuICB0aGlzLmhyZWYgPSB0aGlzLmZvcm1hdCgpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGZvcm1hdCBhIHBhcnNlZCBvYmplY3QgaW50byBhIHVybCBzdHJpbmdcbmZ1bmN0aW9uIHVybEZvcm1hdChvYmopIHtcbiAgLy8gZW5zdXJlIGl0J3MgYW4gb2JqZWN0LCBhbmQgbm90IGEgc3RyaW5nIHVybC5cbiAgLy8gSWYgaXQncyBhbiBvYmosIHRoaXMgaXMgYSBuby1vcC5cbiAgLy8gdGhpcyB3YXksIHlvdSBjYW4gY2FsbCB1cmxfZm9ybWF0KCkgb24gc3RyaW5nc1xuICAvLyB0byBjbGVhbiB1cCBwb3RlbnRpYWxseSB3b25reSB1cmxzLlxuICBpZiAodXRpbC5pc1N0cmluZyhvYmopKSBvYmogPSB1cmxQYXJzZShvYmopO1xuICBpZiAoIShvYmogaW5zdGFuY2VvZiBVcmwpKSByZXR1cm4gVXJsLnByb3RvdHlwZS5mb3JtYXQuY2FsbChvYmopO1xuICByZXR1cm4gb2JqLmZvcm1hdCgpO1xufVxuXG5VcmwucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYXV0aCA9IHRoaXMuYXV0aCB8fCAnJztcbiAgaWYgKGF1dGgpIHtcbiAgICBhdXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIGF1dGggPSBhdXRoLnJlcGxhY2UoLyUzQS9pLCAnOicpO1xuICAgIGF1dGggKz0gJ0AnO1xuICB9XG5cbiAgdmFyIHByb3RvY29sID0gdGhpcy5wcm90b2NvbCB8fCAnJyxcbiAgICAgIHBhdGhuYW1lID0gdGhpcy5wYXRobmFtZSB8fCAnJyxcbiAgICAgIGhhc2ggPSB0aGlzLmhhc2ggfHwgJycsXG4gICAgICBob3N0ID0gZmFsc2UsXG4gICAgICBxdWVyeSA9ICcnO1xuXG4gIGlmICh0aGlzLmhvc3QpIHtcbiAgICBob3N0ID0gYXV0aCArIHRoaXMuaG9zdDtcbiAgfSBlbHNlIGlmICh0aGlzLmhvc3RuYW1lKSB7XG4gICAgaG9zdCA9IGF1dGggKyAodGhpcy5ob3N0bmFtZS5pbmRleE9mKCc6JykgPT09IC0xID9cbiAgICAgICAgdGhpcy5ob3N0bmFtZSA6XG4gICAgICAgICdbJyArIHRoaXMuaG9zdG5hbWUgKyAnXScpO1xuICAgIGlmICh0aGlzLnBvcnQpIHtcbiAgICAgIGhvc3QgKz0gJzonICsgdGhpcy5wb3J0O1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLnF1ZXJ5ICYmXG4gICAgICB1dGlsLmlzT2JqZWN0KHRoaXMucXVlcnkpICYmXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5KS5sZW5ndGgpIHtcbiAgICBxdWVyeSA9IHF1ZXJ5c3RyaW5nLnN0cmluZ2lmeSh0aGlzLnF1ZXJ5KTtcbiAgfVxuXG4gIHZhciBzZWFyY2ggPSB0aGlzLnNlYXJjaCB8fCAocXVlcnkgJiYgKCc/JyArIHF1ZXJ5KSkgfHwgJyc7XG5cbiAgaWYgKHByb3RvY29sICYmIHByb3RvY29sLnN1YnN0cigtMSkgIT09ICc6JykgcHJvdG9jb2wgKz0gJzonO1xuXG4gIC8vIG9ubHkgdGhlIHNsYXNoZWRQcm90b2NvbHMgZ2V0IHRoZSAvLy4gIE5vdCBtYWlsdG86LCB4bXBwOiwgZXRjLlxuICAvLyB1bmxlc3MgdGhleSBoYWQgdGhlbSB0byBiZWdpbiB3aXRoLlxuICBpZiAodGhpcy5zbGFzaGVzIHx8XG4gICAgICAoIXByb3RvY29sIHx8IHNsYXNoZWRQcm90b2NvbFtwcm90b2NvbF0pICYmIGhvc3QgIT09IGZhbHNlKSB7XG4gICAgaG9zdCA9ICcvLycgKyAoaG9zdCB8fCAnJyk7XG4gICAgaWYgKHBhdGhuYW1lICYmIHBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSBwYXRobmFtZSA9ICcvJyArIHBhdGhuYW1lO1xuICB9IGVsc2UgaWYgKCFob3N0KSB7XG4gICAgaG9zdCA9ICcnO1xuICB9XG5cbiAgaWYgKGhhc2ggJiYgaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgaGFzaCA9ICcjJyArIGhhc2g7XG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBzZWFyY2ggPSAnPycgKyBzZWFyY2g7XG5cbiAgcGF0aG5hbWUgPSBwYXRobmFtZS5yZXBsYWNlKC9bPyNdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChtYXRjaCk7XG4gIH0pO1xuICBzZWFyY2ggPSBzZWFyY2gucmVwbGFjZSgnIycsICclMjMnKTtcblxuICByZXR1cm4gcHJvdG9jb2wgKyBob3N0ICsgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZShzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlKHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgcmV0dXJuIHRoaXMucmVzb2x2ZU9iamVjdCh1cmxQYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpKS5mb3JtYXQoKTtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmVPYmplY3Qoc291cmNlLCByZWxhdGl2ZSkge1xuICBpZiAoIXNvdXJjZSkgcmV0dXJuIHJlbGF0aXZlO1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZU9iamVjdChyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZU9iamVjdCA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIGlmICh1dGlsLmlzU3RyaW5nKHJlbGF0aXZlKSkge1xuICAgIHZhciByZWwgPSBuZXcgVXJsKCk7XG4gICAgcmVsLnBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgcmVsYXRpdmUgPSByZWw7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gbmV3IFVybCgpO1xuICB2YXIgdGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgZm9yICh2YXIgdGsgPSAwOyB0ayA8IHRrZXlzLmxlbmd0aDsgdGsrKykge1xuICAgIHZhciB0a2V5ID0gdGtleXNbdGtdO1xuICAgIHJlc3VsdFt0a2V5XSA9IHRoaXNbdGtleV07XG4gIH1cblxuICAvLyBoYXNoIGlzIGFsd2F5cyBvdmVycmlkZGVuLCBubyBtYXR0ZXIgd2hhdC5cbiAgLy8gZXZlbiBocmVmPVwiXCIgd2lsbCByZW1vdmUgaXQuXG4gIHJlc3VsdC5oYXNoID0gcmVsYXRpdmUuaGFzaDtcblxuICAvLyBpZiB0aGUgcmVsYXRpdmUgdXJsIGlzIGVtcHR5LCB0aGVuIHRoZXJlJ3Mgbm90aGluZyBsZWZ0IHRvIGRvIGhlcmUuXG4gIGlmIChyZWxhdGl2ZS5ocmVmID09PSAnJykge1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBocmVmcyBsaWtlIC8vZm9vL2JhciBhbHdheXMgY3V0IHRvIHRoZSBwcm90b2NvbC5cbiAgaWYgKHJlbGF0aXZlLnNsYXNoZXMgJiYgIXJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgLy8gdGFrZSBldmVyeXRoaW5nIGV4Y2VwdCB0aGUgcHJvdG9jb2wgZnJvbSByZWxhdGl2ZVxuICAgIHZhciBya2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICBmb3IgKHZhciByayA9IDA7IHJrIDwgcmtleXMubGVuZ3RoOyByaysrKSB7XG4gICAgICB2YXIgcmtleSA9IHJrZXlzW3JrXTtcbiAgICAgIGlmIChya2V5ICE9PSAncHJvdG9jb2wnKVxuICAgICAgICByZXN1bHRbcmtleV0gPSByZWxhdGl2ZVtya2V5XTtcbiAgICB9XG5cbiAgICAvL3VybFBhcnNlIGFwcGVuZHMgdHJhaWxpbmcgLyB0byB1cmxzIGxpa2UgaHR0cDovL3d3dy5leGFtcGxlLmNvbVxuICAgIGlmIChzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXSAmJlxuICAgICAgICByZXN1bHQuaG9zdG5hbWUgJiYgIXJlc3VsdC5wYXRobmFtZSkge1xuICAgICAgcmVzdWx0LnBhdGggPSByZXN1bHQucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuXG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmIChyZWxhdGl2ZS5wcm90b2NvbCAmJiByZWxhdGl2ZS5wcm90b2NvbCAhPT0gcmVzdWx0LnByb3RvY29sKSB7XG4gICAgLy8gaWYgaXQncyBhIGtub3duIHVybCBwcm90b2NvbCwgdGhlbiBjaGFuZ2luZ1xuICAgIC8vIHRoZSBwcm90b2NvbCBkb2VzIHdlaXJkIHRoaW5nc1xuICAgIC8vIGZpcnN0LCBpZiBpdCdzIG5vdCBmaWxlOiwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBob3N0LFxuICAgIC8vIGFuZCBpZiB0aGVyZSB3YXMgYSBwYXRoXG4gICAgLy8gdG8gYmVnaW4gd2l0aCwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBwYXRoLlxuICAgIC8vIGlmIGl0IGlzIGZpbGU6LCB0aGVuIHRoZSBob3N0IGlzIGRyb3BwZWQsXG4gICAgLy8gYmVjYXVzZSB0aGF0J3Mga25vd24gdG8gYmUgaG9zdGxlc3MuXG4gICAgLy8gYW55dGhpbmcgZWxzZSBpcyBhc3N1bWVkIHRvIGJlIGFic29sdXRlLlxuICAgIGlmICghc2xhc2hlZFByb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgICBmb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHtcbiAgICAgICAgdmFyIGsgPSBrZXlzW3ZdO1xuICAgICAgICByZXN1bHRba10gPSByZWxhdGl2ZVtrXTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXN1bHQucHJvdG9jb2wgPSByZWxhdGl2ZS5wcm90b2NvbDtcbiAgICBpZiAoIXJlbGF0aXZlLmhvc3QgJiYgIWhvc3RsZXNzUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIgcmVsUGF0aCA9IChyZWxhdGl2ZS5wYXRobmFtZSB8fCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIHdoaWxlIChyZWxQYXRoLmxlbmd0aCAmJiAhKHJlbGF0aXZlLmhvc3QgPSByZWxQYXRoLnNoaWZ0KCkpKTtcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdCkgcmVsYXRpdmUuaG9zdCA9ICcnO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0bmFtZSkgcmVsYXRpdmUuaG9zdG5hbWUgPSAnJztcbiAgICAgIGlmIChyZWxQYXRoWzBdICE9PSAnJykgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIGlmIChyZWxQYXRoLmxlbmd0aCA8IDIpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxQYXRoLmpvaW4oJy8nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsYXRpdmUucGF0aG5hbWU7XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgcmVzdWx0Lmhvc3QgPSByZWxhdGl2ZS5ob3N0IHx8ICcnO1xuICAgIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0O1xuICAgIHJlc3VsdC5wb3J0ID0gcmVsYXRpdmUucG9ydDtcbiAgICAvLyB0byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQucGF0aG5hbWUgfHwgcmVzdWx0LnNlYXJjaCkge1xuICAgICAgdmFyIHAgPSByZXN1bHQucGF0aG5hbWUgfHwgJyc7XG4gICAgICB2YXIgcyA9IHJlc3VsdC5zZWFyY2ggfHwgJyc7XG4gICAgICByZXN1bHQucGF0aCA9IHAgKyBzO1xuICAgIH1cbiAgICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHZhciBpc1NvdXJjZUFicyA9IChyZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSxcbiAgICAgIGlzUmVsQWJzID0gKFxuICAgICAgICAgIHJlbGF0aXZlLmhvc3QgfHxcbiAgICAgICAgICByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJ1xuICAgICAgKSxcbiAgICAgIG11c3RFbmRBYnMgPSAoaXNSZWxBYnMgfHwgaXNTb3VyY2VBYnMgfHxcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5ob3N0ICYmIHJlbGF0aXZlLnBhdGhuYW1lKSksXG4gICAgICByZW1vdmVBbGxEb3RzID0gbXVzdEVuZEFicyxcbiAgICAgIHNyY1BhdGggPSByZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICByZWxQYXRoID0gcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHBzeWNob3RpYyA9IHJlc3VsdC5wcm90b2NvbCAmJiAhc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF07XG5cbiAgLy8gaWYgdGhlIHVybCBpcyBhIG5vbi1zbGFzaGVkIHVybCwgdGhlbiByZWxhdGl2ZVxuICAvLyBsaW5rcyBsaWtlIC4uLy4uIHNob3VsZCBiZSBhYmxlXG4gIC8vIHRvIGNyYXdsIHVwIHRvIHRoZSBob3N0bmFtZSwgYXMgd2VsbC4gIFRoaXMgaXMgc3RyYW5nZS5cbiAgLy8gcmVzdWx0LnByb3RvY29sIGhhcyBhbHJlYWR5IGJlZW4gc2V0IGJ5IG5vdy5cbiAgLy8gTGF0ZXIgb24sIHB1dCB0aGUgZmlyc3QgcGF0aCBwYXJ0IGludG8gdGhlIGhvc3QgZmllbGQuXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAnJztcbiAgICByZXN1bHQucG9ydCA9IG51bGw7XG4gICAgaWYgKHJlc3VsdC5ob3N0KSB7XG4gICAgICBpZiAoc3JjUGF0aFswXSA9PT0gJycpIHNyY1BhdGhbMF0gPSByZXN1bHQuaG9zdDtcbiAgICAgIGVsc2Ugc3JjUGF0aC51bnNoaWZ0KHJlc3VsdC5ob3N0KTtcbiAgICB9XG4gICAgcmVzdWx0Lmhvc3QgPSAnJztcbiAgICBpZiAocmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAgIHJlbGF0aXZlLmhvc3RuYW1lID0gbnVsbDtcbiAgICAgIHJlbGF0aXZlLnBvcnQgPSBudWxsO1xuICAgICAgaWYgKHJlbGF0aXZlLmhvc3QpIHtcbiAgICAgICAgaWYgKHJlbFBhdGhbMF0gPT09ICcnKSByZWxQYXRoWzBdID0gcmVsYXRpdmUuaG9zdDtcbiAgICAgICAgZWxzZSByZWxQYXRoLnVuc2hpZnQocmVsYXRpdmUuaG9zdCk7XG4gICAgICB9XG4gICAgICByZWxhdGl2ZS5ob3N0ID0gbnVsbDtcbiAgICB9XG4gICAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgJiYgKHJlbFBhdGhbMF0gPT09ICcnIHx8IHNyY1BhdGhbMF0gPT09ICcnKTtcbiAgfVxuXG4gIGlmIChpc1JlbEFicykge1xuICAgIC8vIGl0J3MgYWJzb2x1dGUuXG4gICAgcmVzdWx0Lmhvc3QgPSAocmVsYXRpdmUuaG9zdCB8fCByZWxhdGl2ZS5ob3N0ID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdCA6IHJlc3VsdC5ob3N0O1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IChyZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0bmFtZSA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0bmFtZSA6IHJlc3VsdC5ob3N0bmFtZTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHNyY1BhdGggPSByZWxQYXRoO1xuICAgIC8vIGZhbGwgdGhyb3VnaCB0byB0aGUgZG90LWhhbmRsaW5nIGJlbG93LlxuICB9IGVsc2UgaWYgKHJlbFBhdGgubGVuZ3RoKSB7XG4gICAgLy8gaXQncyByZWxhdGl2ZVxuICAgIC8vIHRocm93IGF3YXkgdGhlIGV4aXN0aW5nIGZpbGUsIGFuZCB0YWtlIHRoZSBuZXcgcGF0aCBpbnN0ZWFkLlxuICAgIGlmICghc3JjUGF0aCkgc3JjUGF0aCA9IFtdO1xuICAgIHNyY1BhdGgucG9wKCk7XG4gICAgc3JjUGF0aCA9IHNyY1BhdGguY29uY2F0KHJlbFBhdGgpO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gIH0gZWxzZSBpZiAoIXV0aWwuaXNOdWxsT3JVbmRlZmluZWQocmVsYXRpdmUuc2VhcmNoKSkge1xuICAgIC8vIGp1c3QgcHVsbCBvdXQgdGhlIHNlYXJjaC5cbiAgICAvLyBsaWtlIGhyZWY9Jz9mb28nLlxuICAgIC8vIFB1dCB0aGlzIGFmdGVyIHRoZSBvdGhlciB0d28gY2FzZXMgYmVjYXVzZSBpdCBzaW1wbGlmaWVzIHRoZSBib29sZWFuc1xuICAgIGlmIChwc3ljaG90aWMpIHtcbiAgICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gc3JjUGF0aC5zaGlmdCgpO1xuICAgICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgLy8gbm8gcGF0aCBhdCBhbGwuICBlYXN5LlxuICAgIC8vIHdlJ3ZlIGFscmVhZHkgaGFuZGxlZCB0aGUgb3RoZXIgc3R1ZmYgYWJvdmUuXG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gJy8nICsgcmVzdWx0LnNlYXJjaDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaWYgYSB1cmwgRU5EcyBpbiAuIG9yIC4uLCB0aGVuIGl0IG11c3QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIC8vIGhvd2V2ZXIsIGlmIGl0IGVuZHMgaW4gYW55dGhpbmcgZWxzZSBub24tc2xhc2h5LFxuICAvLyB0aGVuIGl0IG11c3QgTk9UIGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICB2YXIgbGFzdCA9IHNyY1BhdGguc2xpY2UoLTEpWzBdO1xuICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IChcbiAgICAgIChyZXN1bHQuaG9zdCB8fCByZWxhdGl2ZS5ob3N0IHx8IHNyY1BhdGgubGVuZ3RoID4gMSkgJiZcbiAgICAgIChsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJykgfHwgbGFzdCA9PT0gJycpO1xuXG4gIC8vIHN0cmlwIHNpbmdsZSBkb3RzLCByZXNvbHZlIGRvdWJsZSBkb3RzIHRvIHBhcmVudCBkaXJcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHNyY1BhdGgubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIGxhc3QgPSBzcmNQYXRoW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmICghbXVzdEVuZEFicyAmJiAhcmVtb3ZlQWxsRG90cykge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgc3JjUGF0aC51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChtdXN0RW5kQWJzICYmIHNyY1BhdGhbMF0gIT09ICcnICYmXG4gICAgICAoIXNyY1BhdGhbMF0gfHwgc3JjUGF0aFswXS5jaGFyQXQoMCkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKGhhc1RyYWlsaW5nU2xhc2ggJiYgKHNyY1BhdGguam9pbignLycpLnN1YnN0cigtMSkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnB1c2goJycpO1xuICB9XG5cbiAgdmFyIGlzQWJzb2x1dGUgPSBzcmNQYXRoWzBdID09PSAnJyB8fFxuICAgICAgKHNyY1BhdGhbMF0gJiYgc3JjUGF0aFswXS5jaGFyQXQoMCkgPT09ICcvJyk7XG5cbiAgLy8gcHV0IHRoZSBob3N0IGJhY2tcbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gaXNBYnNvbHV0ZSA/ICcnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyY1BhdGgubGVuZ3RoID8gc3JjUGF0aC5zaGlmdCgpIDogJyc7XG4gICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICB9XG4gIH1cblxuICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyB8fCAocmVzdWx0Lmhvc3QgJiYgc3JjUGF0aC5sZW5ndGgpO1xuXG4gIGlmIChtdXN0RW5kQWJzICYmICFpc0Fic29sdXRlKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBzcmNQYXRoLmpvaW4oJy8nKTtcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCByZXF1ZXN0Lmh0dHBcbiAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gIH1cbiAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoIHx8IHJlc3VsdC5hdXRoO1xuICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuVXJsLnByb3RvdHlwZS5wYXJzZUhvc3QgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGhvc3QgPSB0aGlzLmhvc3Q7XG4gIHZhciBwb3J0ID0gcG9ydFBhdHRlcm4uZXhlYyhob3N0KTtcbiAgaWYgKHBvcnQpIHtcbiAgICBwb3J0ID0gcG9ydFswXTtcbiAgICBpZiAocG9ydCAhPT0gJzonKSB7XG4gICAgICB0aGlzLnBvcnQgPSBwb3J0LnN1YnN0cigxKTtcbiAgICB9XG4gICAgaG9zdCA9IGhvc3Quc3Vic3RyKDAsIGhvc3QubGVuZ3RoIC0gcG9ydC5sZW5ndGgpO1xuICB9XG4gIGlmIChob3N0KSB0aGlzLmhvc3RuYW1lID0gaG9zdDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc1N0cmluZzogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnc3RyaW5nJztcbiAgfSxcbiAgaXNPYmplY3Q6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xuICB9LFxuICBpc051bGw6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbE9yVW5kZWZpbmVkOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09IG51bGw7XG4gIH1cbn07XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0bG9hZGVkOiBmYWxzZSxcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gbW9kdWxlWydkZWZhdWx0J10gOlxuXHRcdCgpID0+IG1vZHVsZTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5tZCA9IChtb2R1bGUpID0+IHtcblx0bW9kdWxlLnBhdGhzID0gW107XG5cdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0cmV0dXJuIG1vZHVsZTtcbn07IiwiLyohXG4gKiBAcGl4aS9wb2x5ZmlsbCAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9wb2x5ZmlsbCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFBvbHlmaWxsIH0gZnJvbSAnZXM2LXByb21pc2UtcG9seWZpbGwnO1xuaW1wb3J0IG9iamVjdEFzc2lnbiBmcm9tICdvYmplY3QtYXNzaWduJztcblxuLy8gU3VwcG9ydCBmb3IgSUUgOSAtIDExIHdoaWNoIGRvZXMgbm90IGluY2x1ZGUgUHJvbWlzZXNcbmlmICghd2luZG93LlByb21pc2UpIHtcbiAgICB3aW5kb3cuUHJvbWlzZSA9IFBvbHlmaWxsO1xufVxuXG4vLyBSZWZlcmVuY2VzOlxuaWYgKCFPYmplY3QuYXNzaWduKSB7XG4gICAgT2JqZWN0LmFzc2lnbiA9IG9iamVjdEFzc2lnbjtcbn1cblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHA6Ly9wYXVsaXJpc2guY29tLzIwMTEvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1hbmltYXRpbmcvXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xNTc5NjcxXG4vLyBodHRwOi8vdXBkYXRlcy5odG1sNXJvY2tzLmNvbS8yMDEyLzA1L3JlcXVlc3RBbmltYXRpb25GcmFtZS1BUEktbm93LXdpdGgtc3ViLW1pbGxpc2Vjb25kLXByZWNpc2lvblxuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vdGltaGFsbC80MDc4NjE0XG4vLyBodHRwczovL2dpdGh1Yi5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLXNlcnZpY2UvdHJlZS9tYXN0ZXIvcG9seWZpbGxzL3JlcXVlc3RBbmltYXRpb25GcmFtZVxuLy8gRXhwZWN0ZWQgdG8gYmUgdXNlZCB3aXRoIEJyb3dzZXJmaXlcbi8vIEJyb3dzZXJpZnkgYXV0b21hdGljYWxseSBkZXRlY3RzIHRoZSB1c2Ugb2YgYGdsb2JhbGAgYW5kIHBhc3NlcyB0aGVcbi8vIGNvcnJlY3QgcmVmZXJlbmNlIG9mIGBnbG9iYWxgLCBgc2VsZmAsIGFuZCBmaW5hbGx5IGB3aW5kb3dgXG52YXIgT05FX0ZSQU1FX1RJTUUgPSAxNjtcbi8vIERhdGUubm93XG5pZiAoIShEYXRlLm5vdyAmJiBEYXRlLnByb3RvdHlwZS5nZXRUaW1lKSkge1xuICAgIERhdGUubm93ID0gZnVuY3Rpb24gbm93KCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfTtcbn1cbi8vIHBlcmZvcm1hbmNlLm5vd1xuaWYgKCEod2luZG93LnBlcmZvcm1hbmNlICYmIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cpKSB7XG4gICAgdmFyIHN0YXJ0VGltZV8xID0gRGF0ZS5ub3coKTtcbiAgICBpZiAoIXdpbmRvdy5wZXJmb3JtYW5jZSkge1xuICAgICAgICB3aW5kb3cucGVyZm9ybWFuY2UgPSB7fTtcbiAgICB9XG4gICAgd2luZG93LnBlcmZvcm1hbmNlLm5vdyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIERhdGUubm93KCkgLSBzdGFydFRpbWVfMTsgfTtcbn1cbi8vIHJlcXVlc3RBbmltYXRpb25GcmFtZVxudmFyIGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcbnZhciB2ZW5kb3JzID0gWydtcycsICdtb3onLCAnd2Via2l0JywgJ28nXTtcbmZvciAodmFyIHggPSAwOyB4IDwgdmVuZG9ycy5sZW5ndGggJiYgIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7ICsreCkge1xuICAgIHZhciBwID0gdmVuZG9yc1t4XTtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gd2luZG93W3AgKyBcIlJlcXVlc3RBbmltYXRpb25GcmFtZVwiXTtcbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSB3aW5kb3dbcCArIFwiQ2FuY2VsQW5pbWF0aW9uRnJhbWVcIl1cbiAgICAgICAgfHwgd2luZG93W3AgKyBcIkNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZVwiXTtcbn1cbmlmICghd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihjYWxsYmFjayArIFwiaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIGRlbGF5ID0gT05FX0ZSQU1FX1RJTUUgKyBsYXN0VGltZSAtIGN1cnJlbnRUaW1lO1xuICAgICAgICBpZiAoZGVsYXkgPCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgfSwgZGVsYXkpO1xuICAgIH07XG59XG5pZiAoIXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSkge1xuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gY2xlYXJUaW1lb3V0KGlkKTsgfTtcbn1cblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvc2lnblxuaWYgKCFNYXRoLnNpZ24pIHtcbiAgICBNYXRoLnNpZ24gPSBmdW5jdGlvbiBtYXRoU2lnbih4KSB7XG4gICAgICAgIHggPSBOdW1iZXIoeCk7XG4gICAgICAgIGlmICh4ID09PSAwIHx8IGlzTmFOKHgpKSB7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geCA+IDAgPyAxIDogLTE7XG4gICAgfTtcbn1cblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL051bWJlci9pc0ludGVnZXJcbmlmICghTnVtYmVyLmlzSW50ZWdlcikge1xuICAgIE51bWJlci5pc0ludGVnZXIgPSBmdW5jdGlvbiBudW1iZXJJc0ludGVnZXIodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsdWUpICYmIE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZTtcbiAgICB9O1xufVxuXG5pZiAoIXdpbmRvdy5BcnJheUJ1ZmZlcikge1xuICAgIHdpbmRvdy5BcnJheUJ1ZmZlciA9IEFycmF5O1xufVxuaWYgKCF3aW5kb3cuRmxvYXQzMkFycmF5KSB7XG4gICAgd2luZG93LkZsb2F0MzJBcnJheSA9IEFycmF5O1xufVxuaWYgKCF3aW5kb3cuVWludDMyQXJyYXkpIHtcbiAgICB3aW5kb3cuVWludDMyQXJyYXkgPSBBcnJheTtcbn1cbmlmICghd2luZG93LlVpbnQxNkFycmF5KSB7XG4gICAgd2luZG93LlVpbnQxNkFycmF5ID0gQXJyYXk7XG59XG5pZiAoIXdpbmRvdy5VaW50OEFycmF5KSB7XG4gICAgd2luZG93LlVpbnQ4QXJyYXkgPSBBcnJheTtcbn1cbmlmICghd2luZG93LkludDMyQXJyYXkpIHtcbiAgICB3aW5kb3cuSW50MzJBcnJheSA9IEFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9seWZpbGwuZXMuanMubWFwXG4iLCJ2YXIgYXBwbGVJcGhvbmUgPSAvaVBob25lL2k7XG52YXIgYXBwbGVJcG9kID0gL2lQb2QvaTtcbnZhciBhcHBsZVRhYmxldCA9IC9pUGFkL2k7XG52YXIgYXBwbGVVbml2ZXJzYWwgPSAvXFxiaU9TLXVuaXZlcnNhbCg/Oi4rKU1hY1xcYi9pO1xudmFyIGFuZHJvaWRQaG9uZSA9IC9cXGJBbmRyb2lkKD86LispTW9iaWxlXFxiL2k7XG52YXIgYW5kcm9pZFRhYmxldCA9IC9BbmRyb2lkL2k7XG52YXIgYW1hem9uUGhvbmUgPSAvKD86U0Q0OTMwVVJ8XFxiU2lsayg/Oi4rKU1vYmlsZVxcYikvaTtcbnZhciBhbWF6b25UYWJsZXQgPSAvU2lsay9pO1xudmFyIHdpbmRvd3NQaG9uZSA9IC9XaW5kb3dzIFBob25lL2k7XG52YXIgd2luZG93c1RhYmxldCA9IC9cXGJXaW5kb3dzKD86LispQVJNXFxiL2k7XG52YXIgb3RoZXJCbGFja0JlcnJ5ID0gL0JsYWNrQmVycnkvaTtcbnZhciBvdGhlckJsYWNrQmVycnkxMCA9IC9CQjEwL2k7XG52YXIgb3RoZXJPcGVyYSA9IC9PcGVyYSBNaW5pL2k7XG52YXIgb3RoZXJDaHJvbWUgPSAvXFxiKENyaU9TfENocm9tZSkoPzouKylNb2JpbGUvaTtcbnZhciBvdGhlckZpcmVmb3ggPSAvTW9iaWxlKD86LispRmlyZWZveFxcYi9pO1xudmFyIGlzQXBwbGVUYWJsZXRPbklvczEzID0gZnVuY3Rpb24gKG5hdmlnYXRvcikge1xuICAgIHJldHVybiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgbmF2aWdhdG9yLnBsYXRmb3JtID09PSAnTWFjSW50ZWwnICYmXG4gICAgICAgIHR5cGVvZiBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPT09ICdudW1iZXInICYmXG4gICAgICAgIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDEgJiZcbiAgICAgICAgdHlwZW9mIE1TU3RyZWFtID09PSAndW5kZWZpbmVkJyk7XG59O1xuZnVuY3Rpb24gY3JlYXRlTWF0Y2godXNlckFnZW50KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZWdleCkgeyByZXR1cm4gcmVnZXgudGVzdCh1c2VyQWdlbnQpOyB9O1xufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNNb2JpbGUocGFyYW0pIHtcbiAgICB2YXIgbmF2ID0ge1xuICAgICAgICB1c2VyQWdlbnQ6ICcnLFxuICAgICAgICBwbGF0Zm9ybTogJycsXG4gICAgICAgIG1heFRvdWNoUG9pbnRzOiAwXG4gICAgfTtcbiAgICBpZiAoIXBhcmFtICYmIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG5hdiA9IHtcbiAgICAgICAgICAgIHVzZXJBZ2VudDogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgIHBsYXRmb3JtOiBuYXZpZ2F0b3IucGxhdGZvcm0sXG4gICAgICAgICAgICBtYXhUb3VjaFBvaW50czogbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzIHx8IDBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHBhcmFtID09PSAnc3RyaW5nJykge1xuICAgICAgICBuYXYudXNlckFnZW50ID0gcGFyYW07XG4gICAgfVxuICAgIGVsc2UgaWYgKHBhcmFtICYmIHBhcmFtLnVzZXJBZ2VudCkge1xuICAgICAgICBuYXYgPSB7XG4gICAgICAgICAgICB1c2VyQWdlbnQ6IHBhcmFtLnVzZXJBZ2VudCxcbiAgICAgICAgICAgIHBsYXRmb3JtOiBwYXJhbS5wbGF0Zm9ybSxcbiAgICAgICAgICAgIG1heFRvdWNoUG9pbnRzOiBwYXJhbS5tYXhUb3VjaFBvaW50cyB8fCAwXG4gICAgICAgIH07XG4gICAgfVxuICAgIHZhciB1c2VyQWdlbnQgPSBuYXYudXNlckFnZW50O1xuICAgIHZhciB0bXAgPSB1c2VyQWdlbnQuc3BsaXQoJ1tGQkFOJyk7XG4gICAgaWYgKHR5cGVvZiB0bXBbMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHVzZXJBZ2VudCA9IHRtcFswXTtcbiAgICB9XG4gICAgdG1wID0gdXNlckFnZW50LnNwbGl0KCdUd2l0dGVyJyk7XG4gICAgaWYgKHR5cGVvZiB0bXBbMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHVzZXJBZ2VudCA9IHRtcFswXTtcbiAgICB9XG4gICAgdmFyIG1hdGNoID0gY3JlYXRlTWF0Y2godXNlckFnZW50KTtcbiAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICBhcHBsZToge1xuICAgICAgICAgICAgcGhvbmU6IG1hdGNoKGFwcGxlSXBob25lKSAmJiAhbWF0Y2god2luZG93c1Bob25lKSxcbiAgICAgICAgICAgIGlwb2Q6IG1hdGNoKGFwcGxlSXBvZCksXG4gICAgICAgICAgICB0YWJsZXQ6ICFtYXRjaChhcHBsZUlwaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAobWF0Y2goYXBwbGVUYWJsZXQpIHx8IGlzQXBwbGVUYWJsZXRPbklvczEzKG5hdikpICYmXG4gICAgICAgICAgICAgICAgIW1hdGNoKHdpbmRvd3NQaG9uZSksXG4gICAgICAgICAgICB1bml2ZXJzYWw6IG1hdGNoKGFwcGxlVW5pdmVyc2FsKSxcbiAgICAgICAgICAgIGRldmljZTogKG1hdGNoKGFwcGxlSXBob25lKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKGFwcGxlSXBvZCkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChhcHBsZVRhYmxldCkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChhcHBsZVVuaXZlcnNhbCkgfHxcbiAgICAgICAgICAgICAgICBpc0FwcGxlVGFibGV0T25Jb3MxMyhuYXYpKSAmJlxuICAgICAgICAgICAgICAgICFtYXRjaCh3aW5kb3dzUGhvbmUpXG4gICAgICAgIH0sXG4gICAgICAgIGFtYXpvbjoge1xuICAgICAgICAgICAgcGhvbmU6IG1hdGNoKGFtYXpvblBob25lKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFtYXpvblBob25lKSAmJiBtYXRjaChhbWF6b25UYWJsZXQpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaChhbWF6b25QaG9uZSkgfHwgbWF0Y2goYW1hem9uVGFibGV0KVxuICAgICAgICB9LFxuICAgICAgICBhbmRyb2lkOiB7XG4gICAgICAgICAgICBwaG9uZTogKCFtYXRjaCh3aW5kb3dzUGhvbmUpICYmIG1hdGNoKGFtYXpvblBob25lKSkgfHxcbiAgICAgICAgICAgICAgICAoIW1hdGNoKHdpbmRvd3NQaG9uZSkgJiYgbWF0Y2goYW5kcm9pZFBob25lKSksXG4gICAgICAgICAgICB0YWJsZXQ6ICFtYXRjaCh3aW5kb3dzUGhvbmUpICYmXG4gICAgICAgICAgICAgICAgIW1hdGNoKGFtYXpvblBob25lKSAmJlxuICAgICAgICAgICAgICAgICFtYXRjaChhbmRyb2lkUGhvbmUpICYmXG4gICAgICAgICAgICAgICAgKG1hdGNoKGFtYXpvblRhYmxldCkgfHwgbWF0Y2goYW5kcm9pZFRhYmxldCkpLFxuICAgICAgICAgICAgZGV2aWNlOiAoIW1hdGNoKHdpbmRvd3NQaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAobWF0Y2goYW1hem9uUGhvbmUpIHx8XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoKGFtYXpvblRhYmxldCkgfHxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2goYW5kcm9pZFBob25lKSB8fFxuICAgICAgICAgICAgICAgICAgICBtYXRjaChhbmRyb2lkVGFibGV0KSkpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2goL1xcYm9raHR0cFxcYi9pKVxuICAgICAgICB9LFxuICAgICAgICB3aW5kb3dzOiB7XG4gICAgICAgICAgICBwaG9uZTogbWF0Y2god2luZG93c1Bob25lKSxcbiAgICAgICAgICAgIHRhYmxldDogbWF0Y2god2luZG93c1RhYmxldCksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKHdpbmRvd3NQaG9uZSkgfHwgbWF0Y2god2luZG93c1RhYmxldClcbiAgICAgICAgfSxcbiAgICAgICAgb3RoZXI6IHtcbiAgICAgICAgICAgIGJsYWNrYmVycnk6IG1hdGNoKG90aGVyQmxhY2tCZXJyeSksXG4gICAgICAgICAgICBibGFja2JlcnJ5MTA6IG1hdGNoKG90aGVyQmxhY2tCZXJyeTEwKSxcbiAgICAgICAgICAgIG9wZXJhOiBtYXRjaChvdGhlck9wZXJhKSxcbiAgICAgICAgICAgIGZpcmVmb3g6IG1hdGNoKG90aGVyRmlyZWZveCksXG4gICAgICAgICAgICBjaHJvbWU6IG1hdGNoKG90aGVyQ2hyb21lKSxcbiAgICAgICAgICAgIGRldmljZTogbWF0Y2gob3RoZXJCbGFja0JlcnJ5KSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKG90aGVyQmxhY2tCZXJyeTEwKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKG90aGVyT3BlcmEpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2gob3RoZXJGaXJlZm94KSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKG90aGVyQ2hyb21lKVxuICAgICAgICB9LFxuICAgICAgICBhbnk6IGZhbHNlLFxuICAgICAgICBwaG9uZTogZmFsc2UsXG4gICAgICAgIHRhYmxldDogZmFsc2VcbiAgICB9O1xuICAgIHJlc3VsdC5hbnkgPVxuICAgICAgICByZXN1bHQuYXBwbGUuZGV2aWNlIHx8XG4gICAgICAgICAgICByZXN1bHQuYW5kcm9pZC5kZXZpY2UgfHxcbiAgICAgICAgICAgIHJlc3VsdC53aW5kb3dzLmRldmljZSB8fFxuICAgICAgICAgICAgcmVzdWx0Lm90aGVyLmRldmljZTtcbiAgICByZXN1bHQucGhvbmUgPVxuICAgICAgICByZXN1bHQuYXBwbGUucGhvbmUgfHwgcmVzdWx0LmFuZHJvaWQucGhvbmUgfHwgcmVzdWx0LndpbmRvd3MucGhvbmU7XG4gICAgcmVzdWx0LnRhYmxldCA9XG4gICAgICAgIHJlc3VsdC5hcHBsZS50YWJsZXQgfHwgcmVzdWx0LmFuZHJvaWQudGFibGV0IHx8IHJlc3VsdC53aW5kb3dzLnRhYmxldDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNNb2JpbGUuanMubWFwIiwiLyohXG4gKiBAcGl4aS9jb25zdGFudHMgLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvY29uc3RhbnRzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuLyoqXG4gKiBEaWZmZXJlbnQgdHlwZXMgb2YgZW52aXJvbm1lbnRzIGZvciBXZWJHTC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgRU5WXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMX0xFR0FDWSAtIFVzZWQgZm9yIG9sZGVyIHYxIFdlYkdMIGRldmljZXMuIFBpeGlKUyB3aWxsIGFpbSB0byBlbnN1cmUgY29tcGF0aWJpbGl0eVxuICogIHdpdGggb2xkZXIgLyBsZXNzIGFkdmFuY2VkIGRldmljZXMuIElmIHlvdSBleHBlcmllbmNlIHVuZXhwbGFpbmVkIGZsaWNrZXJpbmcgcHJlZmVyIHRoaXMgZW52aXJvbm1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0wgLSBWZXJzaW9uIDEgb2YgV2ViR0xcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTDIgLSBWZXJzaW9uIDIgb2YgV2ViR0xcbiAqL1xudmFyIEVOVjtcbihmdW5jdGlvbiAoRU5WKSB7XG4gICAgRU5WW0VOVltcIldFQkdMX0xFR0FDWVwiXSA9IDBdID0gXCJXRUJHTF9MRUdBQ1lcIjtcbiAgICBFTlZbRU5WW1wiV0VCR0xcIl0gPSAxXSA9IFwiV0VCR0xcIjtcbiAgICBFTlZbRU5WW1wiV0VCR0wyXCJdID0gMl0gPSBcIldFQkdMMlwiO1xufSkoRU5WIHx8IChFTlYgPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudCB0byBpZGVudGlmeSB0aGUgUmVuZGVyZXIgVHlwZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgUkVOREVSRVJfVFlQRVxuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTktOT1dOIC0gVW5rbm93biByZW5kZXIgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFdlYkdMIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENBTlZBUyAtIENhbnZhcyByZW5kZXIgdHlwZS5cbiAqL1xudmFyIFJFTkRFUkVSX1RZUEU7XG4oZnVuY3Rpb24gKFJFTkRFUkVSX1RZUEUpIHtcbiAgICBSRU5ERVJFUl9UWVBFW1JFTkRFUkVSX1RZUEVbXCJVTktOT1dOXCJdID0gMF0gPSBcIlVOS05PV05cIjtcbiAgICBSRU5ERVJFUl9UWVBFW1JFTkRFUkVSX1RZUEVbXCJXRUJHTFwiXSA9IDFdID0gXCJXRUJHTFwiO1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIkNBTlZBU1wiXSA9IDJdID0gXCJDQU5WQVNcIjtcbn0pKFJFTkRFUkVSX1RZUEUgfHwgKFJFTkRFUkVSX1RZUEUgPSB7fSkpO1xuLyoqXG4gKiBCaXR3aXNlIE9SIG9mIG1hc2tzIHRoYXQgaW5kaWNhdGUgdGhlIGJ1ZmZlcnMgdG8gYmUgY2xlYXJlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgQlVGRkVSX0JJVFNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1IgLSBJbmRpY2F0ZXMgdGhlIGJ1ZmZlcnMgY3VycmVudGx5IGVuYWJsZWQgZm9yIGNvbG9yIHdyaXRpbmcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEggLSBJbmRpY2F0ZXMgdGhlIGRlcHRoIGJ1ZmZlci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVEVOQ0lMIC0gSW5kaWNhdGVzIHRoZSBzdGVuY2lsIGJ1ZmZlci5cbiAqL1xudmFyIEJVRkZFUl9CSVRTO1xuKGZ1bmN0aW9uIChCVUZGRVJfQklUUykge1xuICAgIEJVRkZFUl9CSVRTW0JVRkZFUl9CSVRTW1wiQ09MT1JcIl0gPSAxNjM4NF0gPSBcIkNPTE9SXCI7XG4gICAgQlVGRkVSX0JJVFNbQlVGRkVSX0JJVFNbXCJERVBUSFwiXSA9IDI1Nl0gPSBcIkRFUFRIXCI7XG4gICAgQlVGRkVSX0JJVFNbQlVGRkVSX0JJVFNbXCJTVEVOQ0lMXCJdID0gMTAyNF0gPSBcIlNURU5DSUxcIjtcbn0pKEJVRkZFUl9CSVRTIHx8IChCVUZGRVJfQklUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgYmxlbmQgbW9kZXMgc3VwcG9ydGVkIGJ5IFBJWEkuXG4gKlxuICogSU1QT1JUQU5UIC0gVGhlIFdlYkdMIHJlbmRlcmVyIG9ubHkgc3VwcG9ydHMgdGhlIE5PUk1BTCwgQURELCBNVUxUSVBMWSBhbmQgU0NSRUVOIGJsZW5kIG1vZGVzLlxuICogQW55dGhpbmcgZWxzZSB3aWxsIHNpbGVudGx5IGFjdCBsaWtlIE5PUk1BTC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgQkxFTkRfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUREXG4gKiBAcHJvcGVydHkge251bWJlcn0gTVVMVElQTFlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ1JFRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPVkVSTEFZXG4gKiBAcHJvcGVydHkge251bWJlcn0gREFSS0VOXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElHSFRFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SX0RPREdFXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfQlVSTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhBUkRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTT0ZUX0xJR0hUXG4gKiBAcHJvcGVydHkge251bWJlcn0gRElGRkVSRU5DRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVYQ0xVU0lPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhVRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNBVFVSQVRJT05cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOT1NJVFlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxfTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUREX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTl9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX0lOXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX09VVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19BVE9QXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX09WRVJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfSU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfT1VUXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX0FUT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVUJUUkFDVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19PVkVSXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVJBU0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBYT1JcbiAqL1xudmFyIEJMRU5EX01PREVTO1xuKGZ1bmN0aW9uIChCTEVORF9NT0RFUykge1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTk9STUFMXCJdID0gMF0gPSBcIk5PUk1BTFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQUREXCJdID0gMV0gPSBcIkFERFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTVVMVElQTFlcIl0gPSAyXSA9IFwiTVVMVElQTFlcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNDUkVFTlwiXSA9IDNdID0gXCJTQ1JFRU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk9WRVJMQVlcIl0gPSA0XSA9IFwiT1ZFUkxBWVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiREFSS0VOXCJdID0gNV0gPSBcIkRBUktFTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTElHSFRFTlwiXSA9IDZdID0gXCJMSUdIVEVOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUl9ET0RHRVwiXSA9IDddID0gXCJDT0xPUl9ET0RHRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQ09MT1JfQlVSTlwiXSA9IDhdID0gXCJDT0xPUl9CVVJOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJIQVJEX0xJR0hUXCJdID0gOV0gPSBcIkhBUkRfTElHSFRcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNPRlRfTElHSFRcIl0gPSAxMF0gPSBcIlNPRlRfTElHSFRcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRJRkZFUkVOQ0VcIl0gPSAxMV0gPSBcIkRJRkZFUkVOQ0VcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkVYQ0xVU0lPTlwiXSA9IDEyXSA9IFwiRVhDTFVTSU9OXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJIVUVcIl0gPSAxM10gPSBcIkhVRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU0FUVVJBVElPTlwiXSA9IDE0XSA9IFwiU0FUVVJBVElPTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQ09MT1JcIl0gPSAxNV0gPSBcIkNPTE9SXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJMVU1JTk9TSVRZXCJdID0gMTZdID0gXCJMVU1JTk9TSVRZXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT1JNQUxfTlBNXCJdID0gMTddID0gXCJOT1JNQUxfTlBNXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJBRERfTlBNXCJdID0gMThdID0gXCJBRERfTlBNXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTQ1JFRU5fTlBNXCJdID0gMTldID0gXCJTQ1JFRU5fTlBNXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT05FXCJdID0gMjBdID0gXCJOT05FXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfT1ZFUlwiXSA9IDBdID0gXCJTUkNfT1ZFUlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX0lOXCJdID0gMjFdID0gXCJTUkNfSU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19PVVRcIl0gPSAyMl0gPSBcIlNSQ19PVVRcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19BVE9QXCJdID0gMjNdID0gXCJTUkNfQVRPUFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRFNUX09WRVJcIl0gPSAyNF0gPSBcIkRTVF9PVkVSXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfSU5cIl0gPSAyNV0gPSBcIkRTVF9JTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRFNUX09VVFwiXSA9IDI2XSA9IFwiRFNUX09VVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRFNUX0FUT1BcIl0gPSAyN10gPSBcIkRTVF9BVE9QXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJFUkFTRVwiXSA9IDI2XSA9IFwiRVJBU0VcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNVQlRSQUNUXCJdID0gMjhdID0gXCJTVUJUUkFDVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiWE9SXCJdID0gMjldID0gXCJYT1JcIjtcbn0pKEJMRU5EX01PREVTIHx8IChCTEVORF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgd2ViZ2wgZHJhdyBtb2Rlcy4gVGhlc2UgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSB3aGljaCBHTCBkcmF3TW9kZSB0byB1c2VcbiAqIHVuZGVyIGNlcnRhaW4gc2l0dWF0aW9ucyBhbmQgcmVuZGVyZXJzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBEUkFXX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPSU5UU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORV9MT09QXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORV9TVFJJUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfRkFOXG4gKi9cbnZhciBEUkFXX01PREVTO1xuKGZ1bmN0aW9uIChEUkFXX01PREVTKSB7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiUE9JTlRTXCJdID0gMF0gPSBcIlBPSU5UU1wiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIkxJTkVTXCJdID0gMV0gPSBcIkxJTkVTXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORV9MT09QXCJdID0gMl0gPSBcIkxJTkVfTE9PUFwiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIkxJTkVfU1RSSVBcIl0gPSAzXSA9IFwiTElORV9TVFJJUFwiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlRSSUFOR0xFU1wiXSA9IDRdID0gXCJUUklBTkdMRVNcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJUUklBTkdMRV9TVFJJUFwiXSA9IDVdID0gXCJUUklBTkdMRV9TVFJJUFwiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlRSSUFOR0xFX0ZBTlwiXSA9IDZdID0gXCJUUklBTkdMRV9GQU5cIjtcbn0pKERSQVdfTU9ERVMgfHwgKERSQVdfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIEdMIHRleHR1cmUvcmVzb3VyY2VzIGZvcm1hdHMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIEZPUk1BVFNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUkdCQT02NDA4XG4gKiBAcHJvcGVydHkge251bWJlcn0gUkdCPTY0MDdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBTFBIQT02NDA2XG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5BTkNFPTY0MDlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTkFOQ0VfQUxQSEE9NjQxMFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERFUFRIX0NPTVBPTkVOVD02NDAyXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEhfU1RFTkNJTD0zNDA0MVxuICovXG52YXIgRk9STUFUUztcbihmdW5jdGlvbiAoRk9STUFUUykge1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIlJHQkFcIl0gPSA2NDA4XSA9IFwiUkdCQVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIlJHQlwiXSA9IDY0MDddID0gXCJSR0JcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJBTFBIQVwiXSA9IDY0MDZdID0gXCJBTFBIQVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkxVTUlOQU5DRVwiXSA9IDY0MDldID0gXCJMVU1JTkFOQ0VcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJMVU1JTkFOQ0VfQUxQSEFcIl0gPSA2NDEwXSA9IFwiTFVNSU5BTkNFX0FMUEhBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiREVQVEhfQ09NUE9ORU5UXCJdID0gNjQwMl0gPSBcIkRFUFRIX0NPTVBPTkVOVFwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkRFUFRIX1NURU5DSUxcIl0gPSAzNDA0MV0gPSBcIkRFUFRIX1NURU5DSUxcIjtcbn0pKEZPUk1BVFMgfHwgKEZPUk1BVFMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIEdMIHRhcmdldCB0eXBlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgVEFSR0VUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFXzJEPTM1NTNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQPTM0MDY3XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV8yRF9BUlJBWT0zNTg2NlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWD0zNDA2OVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWD0zNDA3MFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWT0zNDA3MVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWT0zNDA3MlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWj0zNDA3M1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWj0zNDA3NFxuICovXG52YXIgVEFSR0VUUztcbihmdW5jdGlvbiAoVEFSR0VUUykge1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfMkRcIl0gPSAzNTUzXSA9IFwiVEVYVFVSRV8yRFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBcIl0gPSAzNDA2N10gPSBcIlRFWFRVUkVfQ1VCRV9NQVBcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFXzJEX0FSUkFZXCJdID0gMzU4NjZdID0gXCJURVhUVVJFXzJEX0FSUkFZXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YXCJdID0gMzQwNjldID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1hcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1hcIl0gPSAzNDA3MF0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWVwiXSA9IDM0MDcxXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZXCJdID0gMzQwNzJdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1lcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1pcIl0gPSAzNDA3M10gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWlwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWlwiXSA9IDM0MDc0XSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aXCI7XG59KShUQVJHRVRTIHx8IChUQVJHRVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBHTCBkYXRhIGZvcm1hdCB0eXBlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgVFlQRVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfQllURT01MTIxXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlQ9NTEyM1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUXzVfNl81PTMzNjM1XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNF80XzRfND0zMjgxOVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUXzVfNV81XzE9MzI4MjBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBGTE9BVD01MTI2XG4gKiBAcHJvcGVydHkge251bWJlcn0gSEFMRl9GTE9BVD0zNjE5M1xuICovXG52YXIgVFlQRVM7XG4oZnVuY3Rpb24gKFRZUEVTKSB7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9CWVRFXCJdID0gNTEyMV0gPSBcIlVOU0lHTkVEX0JZVEVcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXCJdID0gNTEyM10gPSBcIlVOU0lHTkVEX1NIT1JUXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVF81XzZfNVwiXSA9IDMzNjM1XSA9IFwiVU5TSUdORURfU0hPUlRfNV82XzVcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXzRfNF80XzRcIl0gPSAzMjgxOV0gPSBcIlVOU0lHTkVEX1NIT1JUXzRfNF80XzRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXzVfNV81XzFcIl0gPSAzMjgyMF0gPSBcIlVOU0lHTkVEX1NIT1JUXzVfNV81XzFcIjtcbiAgICBUWVBFU1tUWVBFU1tcIkZMT0FUXCJdID0gNTEyNl0gPSBcIkZMT0FUXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJIQUxGX0ZMT0FUXCJdID0gMzYxOTNdID0gXCJIQUxGX0ZMT0FUXCI7XG59KShUWVBFUyB8fCAoVFlQRVMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgc2NhbGUgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLlNDQUxFX01PREV9IHNjYWxlIG1vZGUgYWZmZWN0cyB0aGUgZGVmYXVsdCBzY2FsaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIExJTkVBUiBvciBORUFSRVNULCBkZXBlbmRpbmcgdXBvbiBzdWl0YWJpbGl0eS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgU0NBTEVfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSIFNtb290aCBzY2FsaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gTkVBUkVTVCBQaXhlbGF0aW5nIHNjYWxpbmdcbiAqL1xudmFyIFNDQUxFX01PREVTO1xuKGZ1bmN0aW9uIChTQ0FMRV9NT0RFUykge1xuICAgIFNDQUxFX01PREVTW1NDQUxFX01PREVTW1wiTkVBUkVTVFwiXSA9IDBdID0gXCJORUFSRVNUXCI7XG4gICAgU0NBTEVfTU9ERVNbU0NBTEVfTU9ERVNbXCJMSU5FQVJcIl0gPSAxXSA9IFwiTElORUFSXCI7XG59KShTQ0FMRV9NT0RFUyB8fCAoU0NBTEVfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgd3JhcCBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuV1JBUF9NT0RFfSB3cmFwIG1vZGUgYWZmZWN0cyB0aGUgZGVmYXVsdCB3cmFwcGluZyBtb2RlIG9mIGZ1dHVyZSBvcGVyYXRpb25zLlxuICogSXQgY2FuIGJlIHJlLWFzc2lnbmVkIHRvIGVpdGhlciBDTEFNUCBvciBSRVBFQVQsIGRlcGVuZGluZyB1cG9uIHN1aXRhYmlsaXR5LlxuICogSWYgdGhlIHRleHR1cmUgaXMgbm9uIHBvd2VyIG9mIHR3byB0aGVuIGNsYW1wIHdpbGwgYmUgdXNlZCByZWdhcmRsZXNzIGFzIFdlYkdMIGNhblxuICogb25seSB1c2UgUkVQRUFUIGlmIHRoZSB0ZXh0dXJlIGlzIHBvMi5cbiAqXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAbmFtZSBXUkFQX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDTEFNUCAtIFRoZSB0ZXh0dXJlcyB1dnMgYXJlIGNsYW1wZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0XG4gKiBAcHJvcGVydHkge251bWJlcn0gTUlSUk9SRURfUkVQRUFUIC0gVGhlIHRleHR1cmUgdXZzIHRpbGUgYW5kIHJlcGVhdCB3aXRoIG1pcnJvcmluZ1xuICovXG52YXIgV1JBUF9NT0RFUztcbihmdW5jdGlvbiAoV1JBUF9NT0RFUykge1xuICAgIFdSQVBfTU9ERVNbV1JBUF9NT0RFU1tcIkNMQU1QXCJdID0gMzMwNzFdID0gXCJDTEFNUFwiO1xuICAgIFdSQVBfTU9ERVNbV1JBUF9NT0RFU1tcIlJFUEVBVFwiXSA9IDEwNDk3XSA9IFwiUkVQRUFUXCI7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiTUlSUk9SRURfUkVQRUFUXCJdID0gMzM2NDhdID0gXCJNSVJST1JFRF9SRVBFQVRcIjtcbn0pKFdSQVBfTU9ERVMgfHwgKFdSQVBfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBNaXBtYXAgZmlsdGVyaW5nIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVN9IGFmZmVjdHMgZGVmYXVsdCB0ZXh0dXJlIGZpbHRlcmluZy5cbiAqIE1pcG1hcHMgYXJlIGdlbmVyYXRlZCBmb3IgYSBiYXNlVGV4dHVyZSBpZiBpdHMgYG1pcG1hcGAgZmllbGQgaXMgYE9OYCxcbiAqIG9yIGl0cyBgUE9XMmAgYW5kIHRleHR1cmUgZGltZW5zaW9ucyBhcmUgcG93ZXJzIG9mIDIuXG4gKiBEdWUgdG8gcGxhdGZvcm0gcmVzdHJpY3Rpb24sIGBPTmAgb3B0aW9uIHdpbGwgd29yayBsaWtlIGBQT1cyYCBmb3Igd2ViZ2wtMS5cbiAqXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAbmFtZSBNSVBNQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9GRiAtIE5vIG1pcG1hcHNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT1cyIC0gR2VuZXJhdGUgbWlwbWFwcyBpZiB0ZXh0dXJlIGRpbWVuc2lvbnMgYXJlIHBvdzJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPTiAtIEFsd2F5cyBnZW5lcmF0ZSBtaXBtYXBzXG4gKi9cbnZhciBNSVBNQVBfTU9ERVM7XG4oZnVuY3Rpb24gKE1JUE1BUF9NT0RFUykge1xuICAgIE1JUE1BUF9NT0RFU1tNSVBNQVBfTU9ERVNbXCJPRkZcIl0gPSAwXSA9IFwiT0ZGXCI7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIlBPVzJcIl0gPSAxXSA9IFwiUE9XMlwiO1xuICAgIE1JUE1BUF9NT0RFU1tNSVBNQVBfTU9ERVNbXCJPTlwiXSA9IDJdID0gXCJPTlwiO1xufSkoTUlQTUFQX01PREVTIHx8IChNSVBNQVBfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBIb3cgdG8gdHJlYXQgdGV4dHVyZXMgd2l0aCBwcmVtdWx0aXBsaWVkIGFscGhhXG4gKlxuICogQG5hbWUgQUxQSEFfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PX1BSRU1VTFRJUExJRURfQUxQSEEgLSBTb3VyY2UgaXMgbm90IHByZW11bHRpcGxpZWQsIGxlYXZlIGl0IGxpa2UgdGhhdC5cbiAqICBPcHRpb24gZm9yIGNvbXByZXNzZWQgYW5kIGRhdGEgdGV4dHVyZXMgdGhhdCBhcmUgY3JlYXRlZCBmcm9tIHR5cGVkIGFycmF5cy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQUkVNVUxUSVBMWV9PTl9VUExPQUQgLSBTb3VyY2UgaXMgbm90IHByZW11bHRpcGxpZWQsIHByZW11bHRpcGx5IG9uIHVwbG9hZC5cbiAqICBEZWZhdWx0IG9wdGlvbiwgdXNlZCBmb3IgYWxsIGxvYWRlZCBpbWFnZXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gUFJFTVVMVElQTElFRF9BTFBIQSAtIFNvdXJjZSBpcyBhbHJlYWR5IHByZW11bHRpcGxpZWRcbiAqICBFeGFtcGxlOiBzcGluZSBhdGxhc2VzIHdpdGggYF9wbWFgIHN1ZmZpeC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOUE0gLSBBbGlhcyBmb3IgTk9fUFJFTVVMVElQTElFRF9BTFBIQS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlBBQ0sgLSBEZWZhdWx0IG9wdGlvbiwgYWxpYXMgZm9yIFBSRU1VTFRJUExZX09OX1VQTE9BRC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQTUEgLSBBbGlhcyBmb3IgUFJFTVVMVElQTElFRF9BTFBIQS5cbiAqL1xudmFyIEFMUEhBX01PREVTO1xuKGZ1bmN0aW9uIChBTFBIQV9NT0RFUykge1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiTlBNXCJdID0gMF0gPSBcIk5QTVwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiVU5QQUNLXCJdID0gMV0gPSBcIlVOUEFDS1wiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiUE1BXCJdID0gMl0gPSBcIlBNQVwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiTk9fUFJFTVVMVElQTElFRF9BTFBIQVwiXSA9IDBdID0gXCJOT19QUkVNVUxUSVBMSUVEX0FMUEhBXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJQUkVNVUxUSVBMWV9PTl9VUExPQURcIl0gPSAxXSA9IFwiUFJFTVVMVElQTFlfT05fVVBMT0FEXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJQUkVNVUxUSVBMWV9BTFBIQVwiXSA9IDJdID0gXCJQUkVNVUxUSVBMWV9BTFBIQVwiO1xufSkoQUxQSEFfTU9ERVMgfHwgKEFMUEhBX01PREVTID0ge30pKTtcbi8qKlxuICogSG93IHRvIGNsZWFyIHJlbmRlclRleHR1cmVzIGluIGZpbHRlclxuICpcbiAqIEBuYW1lIENMRUFSX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBCTEVORCAtIFByZXNlcnZlIHRoZSBpbmZvcm1hdGlvbiBpbiB0aGUgdGV4dHVyZSwgYmxlbmQgYWJvdmVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDTEVBUiAtIE11c3QgdXNlIGBnbC5jbGVhcmAgb3BlcmF0aW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gQkxJVCAtIENsZWFyIG9yIGJsaXQgaXQsIGRlcGVuZHMgb24gZGV2aWNlIGFuZCBsZXZlbCBvZiBwYXJhbm9pYVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PIC0gQWxpYXMgZm9yIEJMRU5ELCBzYW1lIGFzIGBmYWxzZWAgaW4gZWFybGllciB2ZXJzaW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFlFUyAtIEFsaWFzIGZvciBDTEVBUiwgc2FtZSBhcyBgdHJ1ZWAgaW4gZWFybGllciB2ZXJzaW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEFVVE8gLSBBbGlhcyBmb3IgQkxJVFxuICovXG52YXIgQ0xFQVJfTU9ERVM7XG4oZnVuY3Rpb24gKENMRUFSX01PREVTKSB7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJOT1wiXSA9IDBdID0gXCJOT1wiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiWUVTXCJdID0gMV0gPSBcIllFU1wiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQVVUT1wiXSA9IDJdID0gXCJBVVRPXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJCTEVORFwiXSA9IDBdID0gXCJCTEVORFwiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQ0xFQVJcIl0gPSAxXSA9IFwiQ0xFQVJcIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkJMSVRcIl0gPSAyXSA9IFwiQkxJVFwiO1xufSkoQ0xFQVJfTU9ERVMgfHwgKENMRUFSX01PREVTID0ge30pKTtcbi8qKlxuICogVGhlIGdjIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5HQ19NT0RFfSBHYXJiYWdlIENvbGxlY3Rpb24gbW9kZSBmb3IgUGl4aUpTIHRleHR1cmVzIGlzIEFVVE9cbiAqIElmIHNldCB0byBHQ19NT0RFLCB0aGUgcmVuZGVyZXIgd2lsbCBvY2Nhc2lvbmFsbHkgY2hlY2sgdGV4dHVyZXMgdXNhZ2UuIElmIHRoZXkgYXJlIG5vdFxuICogdXNlZCBmb3IgYSBzcGVjaWZpZWQgcGVyaW9kIG9mIHRpbWUgdGhleSB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVLiBUaGV5IHdpbGwgb2YgY291cnNlXG4gKiBiZSB1cGxvYWRlZCBhZ2FpbiB3aGVuIHRoZXkgYXJlIHJlcXVpcmVkLiBUaGlzIGlzIGEgc2lsZW50IGJlaGluZCB0aGUgc2NlbmVzIHByb2Nlc3MgdGhhdFxuICogc2hvdWxkIGVuc3VyZSB0aGF0IHRoZSBHUFUgZG9lcyBub3QgIGdldCBmaWxsZWQgdXAuXG4gKlxuICogSGFuZHkgZm9yIG1vYmlsZSBkZXZpY2VzIVxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQG5hbWUgR0NfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFVVE8gLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBoYXBwZW4gcGVyaW9kaWNhbGx5IGF1dG9tYXRpY2FsbHlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNQU5VQUwgLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBuZWVkIHRvIGJlIGNhbGxlZCBtYW51YWxseVxuICovXG52YXIgR0NfTU9ERVM7XG4oZnVuY3Rpb24gKEdDX01PREVTKSB7XG4gICAgR0NfTU9ERVNbR0NfTU9ERVNbXCJBVVRPXCJdID0gMF0gPSBcIkFVVE9cIjtcbiAgICBHQ19NT0RFU1tHQ19NT0RFU1tcIk1BTlVBTFwiXSA9IDFdID0gXCJNQU5VQUxcIjtcbn0pKEdDX01PREVTIHx8IChHQ19NT0RFUyA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50cyB0aGF0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIHNoYWRlcnMuXG4gKlxuICogQG5hbWUgUFJFQ0lTSU9OXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGNvbnN0YW50XG4gKiBAc3RhdGljXG4gKiBAZW51bSB7c3RyaW5nfVxuICogQHByb3BlcnR5IHtzdHJpbmd9IExPVz0nbG93cCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBNRURJVU09J21lZGl1bXAnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gSElHSD0naGlnaHAnXG4gKi9cbnZhciBQUkVDSVNJT047XG4oZnVuY3Rpb24gKFBSRUNJU0lPTikge1xuICAgIFBSRUNJU0lPTltcIkxPV1wiXSA9IFwibG93cFwiO1xuICAgIFBSRUNJU0lPTltcIk1FRElVTVwiXSA9IFwibWVkaXVtcFwiO1xuICAgIFBSRUNJU0lPTltcIkhJR0hcIl0gPSBcImhpZ2hwXCI7XG59KShQUkVDSVNJT04gfHwgKFBSRUNJU0lPTiA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50cyBmb3IgbWFzayBpbXBsZW1lbnRhdGlvbnMuXG4gKiBXZSB1c2UgYHR5cGVgIHN1ZmZpeCBiZWNhdXNlIGl0IGxlYWRzIHRvIHZlcnkgZGlmZmVyZW50IGJlaGF2aW91cnNcbiAqXG4gKiBAbmFtZSBNQVNLX1RZUEVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FIC0gTWFzayBpcyBpZ25vcmVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NJU1NPUiAtIFNjaXNzb3IgbWFzaywgcmVjdGFuZ2xlIG9uIHNjcmVlbiwgY2hlYXBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVEVOQ0lMIC0gU3RlbmNpbCBtYXNrLCAxLWJpdCwgbWVkaXVtLCB3b3JrcyBvbmx5IGlmIHJlbmRlcmVyIHN1cHBvcnRzIHN0ZW5jaWxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUFJJVEUgLSBNYXNrIHRoYXQgdXNlcyBTcHJpdGVNYXNrRmlsdGVyLCB1c2VzIHRlbXBvcmFyeSBSZW5kZXJUZXh0dXJlXG4gKi9cbnZhciBNQVNLX1RZUEVTO1xuKGZ1bmN0aW9uIChNQVNLX1RZUEVTKSB7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiU0NJU1NPUlwiXSA9IDFdID0gXCJTQ0lTU09SXCI7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiU1RFTkNJTFwiXSA9IDJdID0gXCJTVEVOQ0lMXCI7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiU1BSSVRFXCJdID0gM10gPSBcIlNQUklURVwiO1xufSkoTUFTS19UWVBFUyB8fCAoTUFTS19UWVBFUyA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50cyBmb3IgbXVsdGktc2FtcGxpbmcgYW50aWFsaWFzaW5nLlxuICpcbiAqIEBzZWUgUElYSS5GcmFtZWJ1ZmZlciNtdWx0aXNhbXBsZVxuICpcbiAqIEBuYW1lIE1TQUFfUVVBTElUWVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9ORSAtIE5vIG11bHRpc2FtcGxpbmcgZm9yIHRoaXMgcmVuZGVyVGV4dHVyZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExPVyAtIFRyeSAyIHNhbXBsZXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNRURJVU0gLSBUcnkgNCBzYW1wbGVzXG4gKiBAcHJvcGVydHkge251bWJlcn0gSElHSCAtIFRyeSA4IHNhbXBsZXNcbiAqL1xudmFyIE1TQUFfUVVBTElUWTtcbihmdW5jdGlvbiAoTVNBQV9RVUFMSVRZKSB7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJMT1dcIl0gPSAyXSA9IFwiTE9XXCI7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIk1FRElVTVwiXSA9IDRdID0gXCJNRURJVU1cIjtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiSElHSFwiXSA9IDhdID0gXCJISUdIXCI7XG59KShNU0FBX1FVQUxJVFkgfHwgKE1TQUFfUVVBTElUWSA9IHt9KSk7XG5cbmV4cG9ydCB7IEFMUEhBX01PREVTLCBCTEVORF9NT0RFUywgQlVGRkVSX0JJVFMsIENMRUFSX01PREVTLCBEUkFXX01PREVTLCBFTlYsIEZPUk1BVFMsIEdDX01PREVTLCBNQVNLX1RZUEVTLCBNSVBNQVBfTU9ERVMsIE1TQUFfUVVBTElUWSwgUFJFQ0lTSU9OLCBSRU5ERVJFUl9UWVBFLCBTQ0FMRV9NT0RFUywgVEFSR0VUUywgVFlQRVMsIFdSQVBfTU9ERVMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvc2V0dGluZ3MgLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvc2V0dGluZ3MgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgaXNNb2JpbGVDYWxsIGZyb20gJ2lzbW9iaWxlanMnO1xuXG4vLyBUaGUgRVNNL0NKUyB2ZXJzaW9ucyBvZiBpc21vYmlsZWpzIG9ubHlcbnZhciBpc01vYmlsZSA9IGlzTW9iaWxlQ2FsbCh3aW5kb3cubmF2aWdhdG9yKTtcblxuLyoqXG4gKiBUaGUgbWF4aW11bSByZWNvbW1lbmRlZCB0ZXh0dXJlIHVuaXRzIHRvIHVzZS5cbiAqIEluIHRoZW9yeSB0aGUgYmlnZ2VyIHRoZSBiZXR0ZXIsIGFuZCBmb3IgZGVza3RvcCB3ZSdsbCB1c2UgYXMgbWFueSBhcyB3ZSBjYW4uXG4gKiBCdXQgc29tZSBtb2JpbGUgZGV2aWNlcyBzbG93IGRvd24gaWYgdGhlcmUgaXMgdG8gbWFueSBicmFuY2hlcyBpbiB0aGUgc2hhZGVyLlxuICogU28gaW4gcHJhY3RpY2UgdGhlcmUgc2VlbXMgdG8gYmUgYSBzd2VldCBzcG90IHNpemUgdGhhdCB2YXJpZXMgZGVwZW5kaW5nIG9uIHRoZSBkZXZpY2UuXG4gKlxuICogSW4gdjQsIGFsbCBtb2JpbGUgZGV2aWNlcyB3ZXJlIGxpbWl0ZWQgdG8gNCB0ZXh0dXJlIHVuaXRzIGJlY2F1c2UgZm9yIHRoaXMuXG4gKiBJbiB2NSwgd2UgYWxsb3cgYWxsIHRleHR1cmUgdW5pdHMgdG8gYmUgdXNlZCBvbiBtb2Rlcm4gQXBwbGUgb3IgQW5kcm9pZCBkZXZpY2VzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBtYXhSZWNvbW1lbmRlZFRleHR1cmVzKG1heCkge1xuICAgIHZhciBhbGxvd01heCA9IHRydWU7XG4gICAgaWYgKGlzTW9iaWxlLnRhYmxldCB8fCBpc01vYmlsZS5waG9uZSkge1xuICAgICAgICBpZiAoaXNNb2JpbGUuYXBwbGUuZGV2aWNlKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2ggPSAobmF2aWdhdG9yLnVzZXJBZ2VudCkubWF0Y2goL09TIChcXGQrKV8oXFxkKyk/Lyk7XG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFqb3JWZXJzaW9uID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICAgICAgICAgICAgICAvLyBMaW1pdCB0ZXh0dXJlIHVuaXRzIG9uIGRldmljZXMgYmVsb3cgaU9TIDExLCB3aGljaCB3aWxsIGJlIG9sZGVyIGhhcmR3YXJlXG4gICAgICAgICAgICAgICAgaWYgKG1ham9yVmVyc2lvbiA8IDExKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbG93TWF4ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc01vYmlsZS5hbmRyb2lkLmRldmljZSkge1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gKG5hdmlnYXRvci51c2VyQWdlbnQpLm1hdGNoKC9BbmRyb2lkXFxzKFswLTkuXSopLyk7XG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFqb3JWZXJzaW9uID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICAgICAgICAgICAgICAvLyBMaW1pdCB0ZXh0dXJlIHVuaXRzIG9uIGRldmljZXMgYmVsb3cgQW5kcm9pZCA3IChOb3VnYXQpLCB3aGljaCB3aWxsIGJlIG9sZGVyIGhhcmR3YXJlXG4gICAgICAgICAgICAgICAgaWYgKG1ham9yVmVyc2lvbiA8IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dNYXggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFsbG93TWF4ID8gbWF4IDogNDtcbn1cblxuLyoqXG4gKiBVcGxvYWRpbmcgdGhlIHNhbWUgYnVmZmVyIG11bHRpcGxlIHRpbWVzIGluIGEgc2luZ2xlIGZyYW1lIGNhbiBjYXVzZSBwZXJmb3JtYW5jZSBpc3N1ZXMuXG4gKiBBcHBhcmVudCBvbiBpT1Mgc28gb25seSBjaGVjayBmb3IgdGhhdCBhdCB0aGUgbW9tZW50XG4gKiBUaGlzIGNoZWNrIG1heSBiZWNvbWUgbW9yZSBjb21wbGV4IGlmIHRoaXMgaXNzdWUgcG9wcyB1cCBlbHNld2hlcmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBjYW5VcGxvYWRTYW1lQnVmZmVyKCkge1xuICAgIHJldHVybiAhaXNNb2JpbGUuYXBwbGUuZGV2aWNlO1xufVxuXG4vKipcbiAqIFVzZXIncyBjdXN0b21pemFibGUgZ2xvYmFscyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBQSVhJIHNldHRpbmdzLCBzdWNoXG4gKiBhcyBhIHJlbmRlcmVyJ3MgZGVmYXVsdCByZXNvbHV0aW9uLCBmcmFtZXJhdGUsIGZsb2F0IHByZWNpc2lvbiwgZXRjLlxuICogQGV4YW1wbGVcbiAqIC8vIFVzZSB0aGUgbmF0aXZlIHdpbmRvdyByZXNvbHV0aW9uIGFzIHRoZSBkZWZhdWx0IHJlc29sdXRpb25cbiAqIC8vIHdpbGwgc3VwcG9ydCBoaWdoLWRlbnNpdHkgZGlzcGxheXMgd2hlbiByZW5kZXJpbmdcbiAqIFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTiA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICpcbiAqIC8vIERpc2FibGUgaW50ZXJwb2xhdGlvbiB3aGVuIHNjYWxpbmcsIHdpbGwgbWFrZSB0ZXh0dXJlIGJlIHBpeGVsYXRlZFxuICogUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFID0gUElYSS5TQ0FMRV9NT0RFUy5ORUFSRVNUO1xuICogQG5hbWVzcGFjZSBQSVhJLnNldHRpbmdzXG4gKi9cbnZhciBzZXR0aW5ncyA9IHtcbiAgICAvKipcbiAgICAgKiBJZiBzZXQgdG8gdHJ1ZSBXZWJHTCB3aWxsIGF0dGVtcHQgbWFrZSB0ZXh0dXJlcyBtaW1wYXBlZCBieSBkZWZhdWx0LlxuICAgICAqIE1pcG1hcHBpbmcgd2lsbCBvbmx5IHN1Y2NlZWQgaWYgdGhlIGJhc2UgdGV4dHVyZSB1cGxvYWRlZCBoYXMgcG93ZXIgb2YgdHdvIGRpbWVuc2lvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgTUlQTUFQX1RFWFRVUkVTXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5NSVBNQVBfTU9ERVN9XG4gICAgICogQGRlZmF1bHQgUElYSS5NSVBNQVBfTU9ERVMuUE9XMlxuICAgICAqL1xuICAgIE1JUE1BUF9URVhUVVJFUzogMSxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGFuaXNvdHJvcGljIGZpbHRlcmluZyBsZXZlbCBvZiB0ZXh0dXJlcy5cbiAgICAgKiBVc3VhbGx5IGZyb20gMCB0byAxNlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEFOSVNPVFJPUElDX0xFVkVMXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBBTklTT1RST1BJQ19MRVZFTDogMCxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFJFU09MVVRJT05cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIFJFU09MVVRJT046IDEsXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBmaWx0ZXIgcmVzb2x1dGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBGSUxURVJfUkVTT0xVVElPTlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgRklMVEVSX1JFU09MVVRJT046IDEsXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gdGV4dHVyZXMgdGhhdCB0aGlzIGRldmljZSBzdXBwb3J0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBTUFJJVEVfTUFYX1RFWFRVUkVTXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDMyXG4gICAgICovXG4gICAgU1BSSVRFX01BWF9URVhUVVJFUzogbWF4UmVjb21tZW5kZWRUZXh0dXJlcygzMiksXG4gICAgLy8gVE9ETzogbWF5YmUgY2hhbmdlIHRvIFNQUklURS5CQVRDSF9TSVpFOiAyMDAwXG4gICAgLy8gVE9ETzogbWF5YmUgYWRkIFBBUlRJQ0xFLkJBVENIX1NJWkU6IDE1MDAwXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgc3ByaXRlIGJhdGNoIHNpemUuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdCBhaW1zIHRvIGJhbGFuY2UgZGVza3RvcCBhbmQgbW9iaWxlIGRldmljZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgU1BSSVRFX0JBVENIX1NJWkVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgNDA5NlxuICAgICAqL1xuICAgIFNQUklURV9CQVRDSF9TSVpFOiA0MDk2LFxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHJlbmRlciBvcHRpb25zIGlmIG5vbmUgYXJlIHN1cHBsaWVkIHRvIHtAbGluayBQSVhJLlJlbmRlcmVyfVxuICAgICAqIG9yIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyfS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBSRU5ERVJfT1BUSU9OU1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge0hUTUxDYW52YXNFbGVtZW50fSB2aWV3PW51bGxcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gcmVzb2x1dGlvbj0xXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBhbnRpYWxpYXM9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGF1dG9EZW5zaXR5PWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSB0cmFuc3BhcmVudD1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBiYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGNsZWFyQmVmb3JlUmVuZGVyPXRydWVcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aD04MDBcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0PTYwMFxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbGVnYWN5PWZhbHNlXG4gICAgICovXG4gICAgUkVOREVSX09QVElPTlM6IHtcbiAgICAgICAgdmlldzogbnVsbCxcbiAgICAgICAgYW50aWFsaWFzOiBmYWxzZSxcbiAgICAgICAgYXV0b0RlbnNpdHk6IGZhbHNlLFxuICAgICAgICB0cmFuc3BhcmVudDogZmFsc2UsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogMHgwMDAwMDAsXG4gICAgICAgIGNsZWFyQmVmb3JlUmVuZGVyOiB0cnVlLFxuICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IGZhbHNlLFxuICAgICAgICB3aWR0aDogODAwLFxuICAgICAgICBoZWlnaHQ6IDYwMCxcbiAgICAgICAgbGVnYWN5OiBmYWxzZSxcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1vZGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgR0NfTU9ERVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuR0NfTU9ERVN9XG4gICAgICogQGRlZmF1bHQgUElYSS5HQ19NT0RFUy5BVVRPXG4gICAgICovXG4gICAgR0NfTU9ERTogMCxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXggaWRsZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBHQ19NQVhfSURMRVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAzNjAwXG4gICAgICovXG4gICAgR0NfTUFYX0lETEU6IDYwICogNjAsXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBHYXJiYWdlIENvbGxlY3Rpb24gbWF4aW11bSBjaGVjayBjb3VudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBHQ19NQVhfQ0hFQ0tfQ09VTlRcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgNjAwXG4gICAgICovXG4gICAgR0NfTUFYX0NIRUNLX0NPVU5UOiA2MCAqIDEwLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgd3JhcCBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBXUkFQX01PREVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLldSQVBfTU9ERVN9XG4gICAgICogQGRlZmF1bHQgUElYSS5XUkFQX01PREVTLkNMQU1QXG4gICAgICovXG4gICAgV1JBUF9NT0RFOiAzMzA3MSxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHNjYWxlIG1vZGUgZm9yIHRleHR1cmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFNDQUxFX01PREVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLlNDQUxFX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuU0NBTEVfTU9ERVMuTElORUFSXG4gICAgICovXG4gICAgU0NBTEVfTU9ERTogMSxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIHZlcnRleCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgUFJFQ0lTSU9OX1ZFUlRFWFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuUFJFQ0lTSU9OfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuUFJFQ0lTSU9OLkhJR0hcbiAgICAgKi9cbiAgICBQUkVDSVNJT05fVkVSVEVYOiAnaGlnaHAnLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIGlPUyBpcyBiZXN0IHNldCBhdCBoaWdocCBkdWUgdG8gaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy8zNzQyXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgUFJFQ0lTSU9OX0ZSQUdNRU5UXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uTUVESVVNXG4gICAgICovXG4gICAgUFJFQ0lTSU9OX0ZSQUdNRU5UOiBpc01vYmlsZS5hcHBsZS5kZXZpY2UgPyAnaGlnaHAnIDogJ21lZGl1bXAnLFxuICAgIC8qKlxuICAgICAqIENhbiB3ZSB1cGxvYWQgdGhlIHNhbWUgYnVmZmVyIGluIGEgc2luZ2xlIGZyYW1lP1xuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIENBTl9VUExPQURfU0FNRV9CVUZGRVJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIENBTl9VUExPQURfU0FNRV9CVUZGRVI6IGNhblVwbG9hZFNhbWVCdWZmZXIoKSxcbiAgICAvKipcbiAgICAgKiBFbmFibGVzIGJpdG1hcCBjcmVhdGlvbiBiZWZvcmUgaW1hZ2UgbG9hZC4gVGhpcyBmZWF0dXJlIGlzIGV4cGVyaW1lbnRhbC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBDUkVBVEVfSU1BR0VfQklUTUFQXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIENSRUFURV9JTUFHRV9CSVRNQVA6IGZhbHNlLFxuICAgIC8qKlxuICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIFJPVU5EX1BJWEVMUzogZmFsc2UsXG59O1xuXG5leHBvcnQgeyBpc01vYmlsZSwgc2V0dGluZ3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldHRpbmdzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS91dGlscyAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS91dGlscyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuZXhwb3J0IHsgaXNNb2JpbGUgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50ZW1pdHRlcjMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBlYXJjdXQgfSBmcm9tICdlYXJjdXQnO1xuaW1wb3J0IHsgcGFyc2UgfSBmcm9tICd1cmwnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1cmwgfSBmcm9tICd1cmwnO1xuaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKipcbiAqIFRoZSBwcmVmaXggdGhhdCBkZW5vdGVzIGEgVVJMIGlzIGZvciBhIHJldGluYSBhc3NldC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBSRVRJTkFfUFJFRklYXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge1JlZ0V4cH1cbiAqIEBkZWZhdWx0IC9AKFswLTlcXC5dKyl4L1xuICogQGV4YW1wbGUgYEAyeGBcbiAqL1xuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWCA9IC9AKFswLTlcXC5dKyl4Lztcbi8qKlxuICogU2hvdWxkIHRoZSBgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdGAgZmxhZyBiZSBlbmFibGVkIGFzIGEgY29udGV4dCBvcHRpb24gdXNlZCBpbiB0aGUgYGlzV2ViR0xTdXBwb3J0ZWRgIGZ1bmN0aW9uLlxuICogRm9yIG1vc3Qgc2NlbmFyaW9zIHRoaXMgc2hvdWxkIGJlIGxlZnQgYXMgdHJ1ZSwgYXMgb3RoZXJ3aXNlIHRoZSB1c2VyIG1heSBoYXZlIGEgcG9vciBleHBlcmllbmNlLlxuICogSG93ZXZlciwgaXQgY2FuIGJlIHVzZWZ1bCB0byBkaXNhYmxlIHVuZGVyIGNlcnRhaW4gc2NlbmFyaW9zLCBzdWNoIGFzIGhlYWRsZXNzIHVuaXQgdGVzdHMuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVRcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IHRydWVcbiAqL1xuc2V0dGluZ3MuRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQgPSB0cnVlO1xuXG52YXIgc2FpZEhlbGxvID0gZmFsc2U7XG52YXIgVkVSU0lPTiA9ICc1LjMuMyc7XG4vKipcbiAqIFNraXBzIHRoZSBoZWxsbyBtZXNzYWdlIG9mIHJlbmRlcmVycyB0aGF0IGFyZSBjcmVhdGVkIGFmdGVyIHRoaXMgaXMgcnVuLlxuICpcbiAqIEBmdW5jdGlvbiBza2lwSGVsbG9cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKi9cbmZ1bmN0aW9uIHNraXBIZWxsbygpIHtcbiAgICBzYWlkSGVsbG8gPSB0cnVlO1xufVxuLyoqXG4gKiBMb2dzIG91dCB0aGUgdmVyc2lvbiBhbmQgcmVuZGVyZXIgaW5mb3JtYXRpb24gZm9yIHRoaXMgcnVubmluZyBpbnN0YW5jZSBvZiBQSVhJLlxuICogSWYgeW91IGRvbid0IHdhbnQgdG8gc2VlIHRoaXMgbWVzc2FnZSB5b3UgY2FuIHJ1biBgUElYSS51dGlscy5za2lwSGVsbG8oKWAgYmVmb3JlXG4gKiBjcmVhdGluZyB5b3VyIHJlbmRlcmVyLiBLZWVwIGluIG1pbmQgdGhhdCBkb2luZyB0aGF0IHdpbGwgZm9yZXZlciBtYWtlIHlvdSBhIGplcmsgZmFjZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAZnVuY3Rpb24gc2F5SGVsbG9cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBzdHJpbmcgcmVuZGVyZXIgdHlwZSB0byBsb2cuXG4gKi9cbmZ1bmN0aW9uIHNheUhlbGxvKHR5cGUpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKHNhaWRIZWxsbykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPiAtMSkge1xuICAgICAgICB2YXIgYXJncyA9IFtcbiAgICAgICAgICAgIFwiXFxuICVjICVjICVjIFBpeGlKUyBcIiArIFZFUlNJT04gKyBcIiAtIFxcdTI3MzAgXCIgKyB0eXBlICsgXCIgXFx1MjczMCAgJWMgICVjICBodHRwOi8vd3d3LnBpeGlqcy5jb20vICAlYyAlYyBcXHUyNjY1JWNcXHUyNjY1JWNcXHUyNjY1IFxcblxcblwiLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjY2YTU7IGJhY2tncm91bmQ6ICMwMzAzMDc7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmYzNkYzsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JyBdO1xuICAgICAgICAoX2EgPSB3aW5kb3cuY29uc29sZSkubG9nLmFwcGx5KF9hLCBhcmdzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAod2luZG93LmNvbnNvbGUpIHtcbiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKFwiUGl4aUpTIFwiICsgVkVSU0lPTiArIFwiIC0gXCIgKyB0eXBlICsgXCIgLSBodHRwOi8vd3d3LnBpeGlqcy5jb20vXCIpO1xuICAgIH1cbiAgICBzYWlkSGVsbG8gPSB0cnVlO1xufVxuXG52YXIgc3VwcG9ydGVkO1xuLyoqXG4gKiBIZWxwZXIgZm9yIGNoZWNraW5nIGZvciBXZWJHTCBzdXBwb3J0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaXNXZWJHTFN1cHBvcnRlZFxuICogQHJldHVybiB7Ym9vbGVhbn0gSXMgV2ViR0wgc3VwcG9ydGVkLlxuICovXG5mdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkKCkge1xuICAgIGlmICh0eXBlb2Ygc3VwcG9ydGVkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzdXBwb3J0ZWQgPSAoZnVuY3Rpb24gc3VwcG9ydGVkKCkge1xuICAgICAgICAgICAgdmFyIGNvbnRleHRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHN0ZW5jaWw6IHRydWUsXG4gICAgICAgICAgICAgICAgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDogc2V0dGluZ3MuRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICAgICAgdmFyIGdsID0gKGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIGNvbnRleHRPcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgY29udGV4dE9wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICB2YXIgc3VjY2VzcyA9ICEhKGdsICYmIGdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCkuc3RlbmNpbCk7XG4gICAgICAgICAgICAgICAgaWYgKGdsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb3NlQ29udGV4dCA9IGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsb3NlQ29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBnbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlciB0byBhbiBbUiwgRywgQl0gYXJyYXkgb2Ygbm9ybWFsaXplZCBmbG9hdHMgKG51bWJlcnMgZnJvbSAwLjAgdG8gMS4wKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5oZXgycmdiKDB4ZmZmZmZmKTsgLy8gcmV0dXJucyBbMSwgMSwgMV1cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIFRoZSBoZXhhZGVjaW1hbCBudW1iZXIgdG8gY29udmVydFxuICogQHBhcmFtICB7bnVtYmVyW119IFtvdXQ9W11dIC0gSWYgc3VwcGxpZWQsIHRoaXMgYXJyYXkgd2lsbCBiZSB1c2VkIHJhdGhlciB0aGFuIHJldHVybmluZyBhIG5ldyBvbmVcbiAqIEByZXR1cm4ge251bWJlcltdfSBBbiBhcnJheSByZXByZXNlbnRpbmcgdGhlIFtSLCBHLCBCXSBvZiB0aGUgY29sb3Igd2hlcmUgYWxsIHZhbHVlcyBhcmUgZmxvYXRzLlxuICovXG5mdW5jdGlvbiBoZXgycmdiKGhleCwgb3V0KSB7XG4gICAgaWYgKG91dCA9PT0gdm9pZCAwKSB7IG91dCA9IFtdOyB9XG4gICAgb3V0WzBdID0gKChoZXggPj4gMTYpICYgMHhGRikgLyAyNTU7XG4gICAgb3V0WzFdID0gKChoZXggPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICBvdXRbMl0gPSAoaGV4ICYgMHhGRikgLyAyNTU7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29udmVydHMgYSBoZXhhZGVjaW1hbCBjb2xvciBudW1iZXIgdG8gYSBzdHJpbmcuXG4gKlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMuaGV4MnN0cmluZygweGZmZmZmZik7IC8vIHJldHVybnMgXCIjZmZmZmZmXCJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnN0cmluZ1xuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIE51bWJlciBpbiBoZXggKGUuZy4sIGAweGZmZmZmZmApXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmcgY29sb3IgKGUuZy4sIGBcIiNmZmZmZmZcImApLlxuICovXG5mdW5jdGlvbiBoZXgyc3RyaW5nKGhleCkge1xuICAgIHZhciBoZXhTdHJpbmcgPSBoZXgudG9TdHJpbmcoMTYpO1xuICAgIGhleFN0cmluZyA9ICcwMDAwMDAnLnN1YnN0cigwLCA2IC0gaGV4U3RyaW5nLmxlbmd0aCkgKyBoZXhTdHJpbmc7XG4gICAgcmV0dXJuIFwiI1wiICsgaGV4U3RyaW5nO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIHN0cmluZyB0byBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5zdHJpbmcyaGV4KFwiI2ZmZmZmZlwiKTsgLy8gcmV0dXJucyAweGZmZmZmZlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBzdHJpbmcyaGV4XG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIC0gVGhlIHN0cmluZyBjb2xvciAoZS5nLiwgYFwiI2ZmZmZmZlwiYClcbiAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIGluIGhleGFkZWNpbWFsLlxuICovXG5mdW5jdGlvbiBzdHJpbmcyaGV4KHN0cmluZykge1xuICAgIGlmICh0eXBlb2Ygc3RyaW5nID09PSAnc3RyaW5nJyAmJiBzdHJpbmdbMF0gPT09ICcjJykge1xuICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyKDEpO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VJbnQoc3RyaW5nLCAxNik7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgY29sb3IgYXMgYW4gW1IsIEcsIEJdIGFycmF5IG9mIG5vcm1hbGl6ZWQgZmxvYXRzIHRvIGEgaGV4YWRlY2ltYWwgbnVtYmVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBQSVhJLnV0aWxzLnJnYjJoZXgoWzEsIDEsIDFdKTsgLy8gcmV0dXJucyAweGZmZmZmZlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiByZ2IyaGV4XG4gKiBAcGFyYW0ge251bWJlcltdfSByZ2IgLSBBcnJheSBvZiBudW1iZXJzIHdoZXJlIGFsbCB2YWx1ZXMgYXJlIG5vcm1hbGl6ZWQgZmxvYXRzIGZyb20gMC4wIHRvIDEuMC5cbiAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIGluIGhleGFkZWNpbWFsLlxuICovXG5mdW5jdGlvbiByZ2IyaGV4KHJnYikge1xuICAgIHJldHVybiAoKChyZ2JbMF0gKiAyNTUpIDw8IDE2KSArICgocmdiWzFdICogMjU1KSA8PCA4KSArIChyZ2JbMl0gKiAyNTUgfCAwKSk7XG59XG5cbi8qKlxuICogQ29ycmVjdHMgUGl4aUpTIGJsZW5kLCB0YWtlcyBwcmVtdWx0aXBsaWVkIGFscGhhIGludG8gYWNjb3VudFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXNcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXJbXT59IE1hcHBlZCBtb2Rlcy5cbiAqL1xuZnVuY3Rpb24gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMoKSB7XG4gICAgdmFyIHBtID0gW107XG4gICAgdmFyIG5wbSA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzI7IGkrKykge1xuICAgICAgICBwbVtpXSA9IGk7XG4gICAgICAgIG5wbVtpXSA9IGk7XG4gICAgfVxuICAgIHBtW0JMRU5EX01PREVTLk5PUk1BTF9OUE1dID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgIHBtW0JMRU5EX01PREVTLkFERF9OUE1dID0gQkxFTkRfTU9ERVMuQUREO1xuICAgIHBtW0JMRU5EX01PREVTLlNDUkVFTl9OUE1dID0gQkxFTkRfTU9ERVMuU0NSRUVOO1xuICAgIG5wbVtCTEVORF9NT0RFUy5OT1JNQUxdID0gQkxFTkRfTU9ERVMuTk9STUFMX05QTTtcbiAgICBucG1bQkxFTkRfTU9ERVMuQUREXSA9IEJMRU5EX01PREVTLkFERF9OUE07XG4gICAgbnBtW0JMRU5EX01PREVTLlNDUkVFTl0gPSBCTEVORF9NT0RFUy5TQ1JFRU5fTlBNO1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIGFycmF5LnB1c2gobnBtKTtcbiAgICBhcnJheS5wdXNoKHBtKTtcbiAgICByZXR1cm4gYXJyYXk7XG59XG4vKipcbiAqIG1hcHMgcHJlbXVsdGlwbHkgZmxhZyBhbmQgYmxlbmRNb2RlIHRvIGFkanVzdGVkIGJsZW5kTW9kZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBjb25zdCBwcmVtdWx0aXBseUJsZW5kTW9kZVxuICogQHR5cGUge0FycmF5PG51bWJlcltdPn1cbiAqL1xudmFyIHByZW11bHRpcGx5QmxlbmRNb2RlID0gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMoKTtcbi8qKlxuICogY2hhbmdlcyBibGVuZE1vZGUgYWNjb3JkaW5nIHRvIHRleHR1cmUgZm9ybWF0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjb3JyZWN0QmxlbmRNb2RlXG4gKiBAcGFyYW0ge251bWJlcn0gYmxlbmRNb2RlIC0gc3VwcG9zZWQgYmxlbmQgbW9kZVxuICogQHBhcmFtIHtib29sZWFufSBwcmVtdWx0aXBsaWVkIC0gd2hldGhlciBzb3VyY2UgaXMgcHJlbXVsdGlwbGllZFxuICogQHJldHVybnMge251bWJlcn0gdHJ1ZSBibGVuZCBtb2RlIGZvciB0aGlzIHRleHR1cmVcbiAqL1xuZnVuY3Rpb24gY29ycmVjdEJsZW5kTW9kZShibGVuZE1vZGUsIHByZW11bHRpcGxpZWQpIHtcbiAgICByZXR1cm4gcHJlbXVsdGlwbHlCbGVuZE1vZGVbcHJlbXVsdGlwbGllZCA/IDEgOiAwXVtibGVuZE1vZGVdO1xufVxuLyoqXG4gKiBjb21iaW5lcyByZ2IgYW5kIGFscGhhIHRvIG91dCBhcnJheVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcHJlbXVsdGlwbHlSZ2JhXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxudW1iZXJbXX0gcmdiIC0gaW5wdXQgcmdiXG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgLSBhbHBoYSBwYXJhbVxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXRdIC0gb3V0cHV0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVtdWx0aXBseT10cnVlXSAtIGRvIHByZW11bHRpcGx5IGl0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSB2ZWM0IHJnYmFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlSZ2JhKHJnYiwgYWxwaGEsIG91dCwgcHJlbXVsdGlwbHkpIHtcbiAgICBvdXQgPSBvdXQgfHwgbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICBpZiAocHJlbXVsdGlwbHkgfHwgcHJlbXVsdGlwbHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvdXRbMF0gPSByZ2JbMF0gKiBhbHBoYTtcbiAgICAgICAgb3V0WzFdID0gcmdiWzFdICogYWxwaGE7XG4gICAgICAgIG91dFsyXSA9IHJnYlsyXSAqIGFscGhhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb3V0WzBdID0gcmdiWzBdO1xuICAgICAgICBvdXRbMV0gPSByZ2JbMV07XG4gICAgICAgIG91dFsyXSA9IHJnYlsyXTtcbiAgICB9XG4gICAgb3V0WzNdID0gYWxwaGE7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogcHJlbXVsdGlwbGllcyB0aW50XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW50IC0gaW50ZWdlciBSR0JcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSAtIGZsb2F0aW5nIHBvaW50IGFscGhhICgwLjAtMS4wKVxuICogQHJldHVybnMge251bWJlcn0gdGludCBtdWx0aXBsaWVkIGJ5IGFscGhhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5VGludCh0aW50LCBhbHBoYSkge1xuICAgIGlmIChhbHBoYSA9PT0gMS4wKSB7XG4gICAgICAgIHJldHVybiAoYWxwaGEgKiAyNTUgPDwgMjQpICsgdGludDtcbiAgICB9XG4gICAgaWYgKGFscGhhID09PSAwLjApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHZhciBSID0gKCh0aW50ID4+IDE2KSAmIDB4RkYpO1xuICAgIHZhciBHID0gKCh0aW50ID4+IDgpICYgMHhGRik7XG4gICAgdmFyIEIgPSAodGludCAmIDB4RkYpO1xuICAgIFIgPSAoKFIgKiBhbHBoYSkgKyAwLjUpIHwgMDtcbiAgICBHID0gKChHICogYWxwaGEpICsgMC41KSB8IDA7XG4gICAgQiA9ICgoQiAqIGFscGhhKSArIDAuNSkgfCAwO1xuICAgIHJldHVybiAoYWxwaGEgKiAyNTUgPDwgMjQpICsgKFIgPDwgMTYpICsgKEcgPDwgOCkgKyBCO1xufVxuLyoqXG4gKiBjb252ZXJ0cyBpbnRlZ2VyIHRpbnQgYW5kIGZsb2F0IGFscGhhIHRvIHZlYzQgZm9ybSwgcHJlbXVsdGlwbGllcyBieSBkZWZhdWx0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRUb1JnYmFcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW50IC0gaW5wdXQgdGludFxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIC0gYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIC0gZG8gcHJlbXVsdGlwbHkgaXRcbiAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IHZlYzQgcmdiYVxuICovXG5mdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRUb1JnYmEodGludCwgYWxwaGEsIG91dCwgcHJlbXVsdGlwbHkpIHtcbiAgICBvdXQgPSBvdXQgfHwgbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICBvdXRbMF0gPSAoKHRpbnQgPj4gMTYpICYgMHhGRikgLyAyNTUuMDtcbiAgICBvdXRbMV0gPSAoKHRpbnQgPj4gOCkgJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsyXSA9ICh0aW50ICYgMHhGRikgLyAyNTUuMDtcbiAgICBpZiAocHJlbXVsdGlwbHkgfHwgcHJlbXVsdGlwbHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvdXRbMF0gKj0gYWxwaGE7XG4gICAgICAgIG91dFsxXSAqPSBhbHBoYTtcbiAgICAgICAgb3V0WzJdICo9IGFscGhhO1xuICAgIH1cbiAgICBvdXRbM10gPSBhbHBoYTtcbiAgICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEdlbmVyaWMgTWFzayBTdGFjayBkYXRhIHN0cnVjdHVyZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIE51bWJlciBvZiBxdWFkc1xuICogQHBhcmFtIHtVaW50MTZBcnJheXxVaW50MzJBcnJheX0gW291dEJ1ZmZlcl0gLSBCdWZmZXIgZm9yIG91dHB1dCwgbGVuZ3RoIGhhcyB0byBiZSBgNiAqIHNpemVgXG4gKiBAcmV0dXJuIHtVaW50MTZBcnJheXxVaW50MzJBcnJheX0gLSBSZXN1bHRpbmcgaW5kZXggYnVmZmVyXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkcyhzaXplLCBvdXRCdWZmZXIpIHtcbiAgICBpZiAob3V0QnVmZmVyID09PSB2b2lkIDApIHsgb3V0QnVmZmVyID0gbnVsbDsgfVxuICAgIC8vIHRoZSB0b3RhbCBudW1iZXIgb2YgaW5kaWNlcyBpbiBvdXIgYXJyYXksIHRoZXJlIGFyZSA2IHBvaW50cyBwZXIgcXVhZC5cbiAgICB2YXIgdG90YWxJbmRpY2VzID0gc2l6ZSAqIDY7XG4gICAgb3V0QnVmZmVyID0gb3V0QnVmZmVyIHx8IG5ldyBVaW50MTZBcnJheSh0b3RhbEluZGljZXMpO1xuICAgIGlmIChvdXRCdWZmZXIubGVuZ3RoICE9PSB0b3RhbEluZGljZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3V0IGJ1ZmZlciBsZW5ndGggaXMgaW5jb3JyZWN0LCBnb3QgXCIgKyBvdXRCdWZmZXIubGVuZ3RoICsgXCIgYW5kIGV4cGVjdGVkIFwiICsgdG90YWxJbmRpY2VzKTtcbiAgICB9XG4gICAgLy8gZmlsbCB0aGUgaW5kaWNlcyB3aXRoIHRoZSBxdWFkcyB0byBkcmF3XG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDwgdG90YWxJbmRpY2VzOyBpICs9IDYsIGogKz0gNCkge1xuICAgICAgICBvdXRCdWZmZXJbaSArIDBdID0gaiArIDA7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgMV0gPSBqICsgMTtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyAyXSA9IGogKyAyO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDNdID0gaiArIDA7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgNF0gPSBqICsgMjtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyA1XSA9IGogKyAzO1xuICAgIH1cbiAgICByZXR1cm4gb3V0QnVmZmVyO1xufVxuXG5mdW5jdGlvbiBnZXRCdWZmZXJUeXBlKGFycmF5KSB7XG4gICAgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSA0KSB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuICdGbG9hdDMyQXJyYXknO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDMyQXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDMyQXJyYXknO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnSW50MzJBcnJheSc7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSAyKSB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQxNkFycmF5JztcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMSkge1xuICAgICAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQ4QXJyYXknO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFRPRE8gbWFwIG91dCB0aGUgcmVzdCBvZiB0aGUgYXJyYXkgZWxlbWVudHMhXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG9iamVjdC1zaG9ydGhhbmQgKi9cbnZhciBtYXAgPSB7IEZsb2F0MzJBcnJheTogRmxvYXQzMkFycmF5LCBVaW50MzJBcnJheTogVWludDMyQXJyYXksIEludDMyQXJyYXk6IEludDMyQXJyYXksIFVpbnQ4QXJyYXk6IFVpbnQ4QXJyYXkgfTtcbmZ1bmN0aW9uIGludGVybGVhdmVUeXBlZEFycmF5cyhhcnJheXMsIHNpemVzKSB7XG4gICAgdmFyIG91dFNpemUgPSAwO1xuICAgIHZhciBzdHJpZGUgPSAwO1xuICAgIHZhciB2aWV3cyA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHN0cmlkZSArPSBzaXplc1tpXTtcbiAgICAgICAgb3V0U2l6ZSArPSBhcnJheXNbaV0ubGVuZ3RoO1xuICAgIH1cbiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKG91dFNpemUgKiA0KTtcbiAgICB2YXIgb3V0ID0gbnVsbDtcbiAgICB2YXIgbGl0dGxlT2Zmc2V0ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc2l6ZSA9IHNpemVzW2ldO1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbaV07XG4gICAgICAgIC8qXG4gICAgICAgIEB0b2RvIFRoaXMgaXMgdW5zYWZlIGNhc3RpbmcgYnV0IGNvbnNpc3RlbnQgd2l0aCBob3cgdGhlIGNvZGUgd29ya2VkIHByZXZpb3VzbHkuIFNob3VsZCBpdCBzdGF5IHRoaXMgd2F5XG4gICAgICAgICAgICAgIG9yIHNob3VsZCBhbmQgYGdldEJ1ZmZlclR5cGVVbnNhZmVgIGZ1bmN0aW9uIGJlIGV4cG9zZWQgdGhhdCB0aHJvd3MgYW4gRXJyb3IgaWYgdW5zdXBwb3J0ZWQgdHlwZSBpcyBwYXNzZWQ/XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdHlwZSA9IGdldEJ1ZmZlclR5cGUoYXJyYXkpO1xuICAgICAgICBpZiAoIXZpZXdzW3R5cGVdKSB7XG4gICAgICAgICAgICB2aWV3c1t0eXBlXSA9IG5ldyBtYXBbdHlwZV0oYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBvdXQgPSB2aWV3c1t0eXBlXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhcnJheS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIGluZGV4U3RhcnQgPSAoKGogLyBzaXplIHwgMCkgKiBzdHJpZGUpICsgbGl0dGxlT2Zmc2V0O1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaiAlIHNpemU7XG4gICAgICAgICAgICBvdXRbaW5kZXhTdGFydCArIGluZGV4XSA9IGFycmF5W2pdO1xuICAgICAgICB9XG4gICAgICAgIGxpdHRsZU9mZnNldCArPSBzaXplO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xufVxuXG4vLyBUYWtlbiBmcm9tIHRoZSBiaXQtdHdpZGRsZSBwYWNrYWdlXG4vKipcbiAqIFJvdW5kcyB0byBuZXh0IHBvd2VyIG9mIHR3by5cbiAqXG4gKiBAZnVuY3Rpb24gbmV4dFBvdzJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdiAtIGlucHV0IHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIG5leHRQb3cyKHYpIHtcbiAgICB2ICs9IHYgPT09IDAgPyAxIDogMDtcbiAgICAtLXY7XG4gICAgdiB8PSB2ID4+PiAxO1xuICAgIHYgfD0gdiA+Pj4gMjtcbiAgICB2IHw9IHYgPj4+IDQ7XG4gICAgdiB8PSB2ID4+PiA4O1xuICAgIHYgfD0gdiA+Pj4gMTY7XG4gICAgcmV0dXJuIHYgKyAxO1xufVxuLyoqXG4gKiBDaGVja3MgaWYgYSBudW1iZXIgaXMgYSBwb3dlciBvZiB0d28uXG4gKlxuICogQGZ1bmN0aW9uIGlzUG93MlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB2IC0gaW5wdXQgdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB2YWx1ZSBpcyBwb3dlciBvZiB0d29cbiAqL1xuZnVuY3Rpb24gaXNQb3cyKHYpIHtcbiAgICByZXR1cm4gISh2ICYgKHYgLSAxKSkgJiYgKCEhdik7XG59XG4vKipcbiAqIENvbXB1dGVzIGNlaWwgb2YgbG9nIGJhc2UgMlxuICpcbiAqIEBmdW5jdGlvbiBsb2cyXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHYgLSBpbnB1dCB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfSBsb2dhcml0aG0gYmFzZSAyXG4gKi9cbmZ1bmN0aW9uIGxvZzIodikge1xuICAgIHZhciByID0gKHYgPiAweEZGRkYgPyAxIDogMCkgPDwgNDtcbiAgICB2ID4+Pj0gcjtcbiAgICB2YXIgc2hpZnQgPSAodiA+IDB4RkYgPyAxIDogMCkgPDwgMztcbiAgICB2ID4+Pj0gc2hpZnQ7XG4gICAgciB8PSBzaGlmdDtcbiAgICBzaGlmdCA9ICh2ID4gMHhGID8gMSA6IDApIDw8IDI7XG4gICAgdiA+Pj49IHNoaWZ0O1xuICAgIHIgfD0gc2hpZnQ7XG4gICAgc2hpZnQgPSAodiA+IDB4MyA/IDEgOiAwKSA8PCAxO1xuICAgIHYgPj4+PSBzaGlmdDtcbiAgICByIHw9IHNoaWZ0O1xuICAgIHJldHVybiByIHwgKHYgPj4gMSk7XG59XG5cbi8qKlxuICogUmVtb3ZlIGl0ZW1zIGZyb20gYSBqYXZhc2NyaXB0IGFycmF5IHdpdGhvdXQgZ2VuZXJhdGluZyBnYXJiYWdlXG4gKlxuICogQGZ1bmN0aW9uIHJlbW92ZUl0ZW1zXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtBcnJheTxhbnk+fSBhcnIgLSBBcnJheSB0byByZW1vdmUgZWxlbWVudHMgZnJvbVxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SWR4IC0gc3RhcnRpbmcgaW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSByZW1vdmVDb3VudCAtIGhvdyBtYW55IHRvIHJlbW92ZVxuICovXG5mdW5jdGlvbiByZW1vdmVJdGVtcyhhcnIsIHN0YXJ0SWR4LCByZW1vdmVDb3VudCkge1xuICAgIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoO1xuICAgIHZhciBpO1xuICAgIGlmIChzdGFydElkeCA+PSBsZW5ndGggfHwgcmVtb3ZlQ291bnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZW1vdmVDb3VudCA9IChzdGFydElkeCArIHJlbW92ZUNvdW50ID4gbGVuZ3RoID8gbGVuZ3RoIC0gc3RhcnRJZHggOiByZW1vdmVDb3VudCk7XG4gICAgdmFyIGxlbiA9IGxlbmd0aCAtIHJlbW92ZUNvdW50O1xuICAgIGZvciAoaSA9IHN0YXJ0SWR4OyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgYXJyW2ldID0gYXJyW2kgKyByZW1vdmVDb3VudF07XG4gICAgfVxuICAgIGFyci5sZW5ndGggPSBsZW47XG59XG5cbi8qKlxuICogUmV0dXJucyBzaWduIG9mIG51bWJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gc2lnblxuICogQHBhcmFtIHtudW1iZXJ9IG4gLSB0aGUgbnVtYmVyIHRvIGNoZWNrIHRoZSBzaWduIG9mXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAwIGlmIGBuYCBpcyAwLCAtMSBpZiBgbmAgaXMgbmVnYXRpdmUsIDEgaWYgYG5gIGlzIHBvc2l0aXZlXG4gKi9cbmZ1bmN0aW9uIHNpZ24obikge1xuICAgIGlmIChuID09PSAwKVxuICAgICAgICB7IHJldHVybiAwOyB9XG4gICAgcmV0dXJuIG4gPCAwID8gLTEgOiAxO1xufVxuXG52YXIgbmV4dFVpZCA9IDA7XG4vKipcbiAqIEdldHMgdGhlIG5leHQgdW5pcXVlIGlkZW50aWZpZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHVpZFxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbmV4dCB1bmlxdWUgaWRlbnRpZmllciB0byB1c2UuXG4gKi9cbmZ1bmN0aW9uIHVpZCgpIHtcbiAgICByZXR1cm4gKytuZXh0VWlkO1xufVxuXG4vLyBBIG1hcCBvZiB3YXJuaW5nIG1lc3NhZ2VzIGFscmVhZHkgZmlyZWRcbnZhciB3YXJuaW5ncyA9IHt9O1xuLyoqXG4gKiBIZWxwZXIgZm9yIHdhcm5pbmcgZGV2ZWxvcGVycyBhYm91dCBkZXByZWNhdGVkIGZlYXR1cmVzICYgc2V0dGluZ3MuXG4gKiBBIHN0YWNrIHRyYWNrIGZvciB3YXJuaW5ncyBpcyBnaXZlbjsgdXNlZnVsIGZvciB0cmFja2luZy1kb3duIHdoZXJlXG4gKiBkZXByZWNhdGVkIG1ldGhvZHMvcHJvcGVydGllcy9jbGFzc2VzIGFyZSBiZWluZyB1c2VkIHdpdGhpbiB0aGUgY29kZS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlcHJlY2F0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdmVyc2lvbiAtIFRoZSB2ZXJzaW9uIHdoZXJlIHRoZSBmZWF0dXJlIGJlY2FtZSBkZXByZWNhdGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIE1lc3NhZ2Ugc2hvdWxkIGluY2x1ZGUgd2hhdCBpcyBkZXByZWNhdGVkLCB3aGVyZSwgYW5kIHRoZSBuZXcgc29sdXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbaWdub3JlRGVwdGg9M10gLSBUaGUgbnVtYmVyIG9mIHN0ZXBzIHRvIGlnbm9yZSBhdCB0aGUgdG9wIG9mIHRoZSBlcnJvciBzdGFja1xuICogICAgICAgIHRoaXMgaXMgbW9zdGx5IHRvIGlnbm9yZSBpbnRlcm5hbCBkZXByZWNhdGlvbiBjYWxscy5cbiAqL1xuZnVuY3Rpb24gZGVwcmVjYXRpb24odmVyc2lvbiwgbWVzc2FnZSwgaWdub3JlRGVwdGgpIHtcbiAgICBpZiAoaWdub3JlRGVwdGggPT09IHZvaWQgMCkgeyBpZ25vcmVEZXB0aCA9IDM7IH1cbiAgICAvLyBJZ25vcmUgZHVwbGljYXRcbiAgICBpZiAod2FybmluZ3NbbWVzc2FnZV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgdmFyIHN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gICAgLy8gSGFuZGxlIElFIDwgMTAgYW5kIFNhZmFyaSA8IDZcbiAgICBpZiAodHlwZW9mIHN0YWNrID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAnLCBtZXNzYWdlICsgXCJcXG5EZXByZWNhdGVkIHNpbmNlIHZcIiArIHZlcnNpb24pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gY2hvcCBvZmYgdGhlIHN0YWNrIHRyYWNlIHdoaWNoIGluY2x1ZGVzIFBpeGlKUyBpbnRlcm5hbCBjYWxsc1xuICAgICAgICBzdGFjayA9IHN0YWNrLnNwbGl0KCdcXG4nKS5zcGxpY2UoaWdub3JlRGVwdGgpLmpvaW4oJ1xcbicpO1xuICAgICAgICBpZiAoY29uc29sZS5ncm91cENvbGxhcHNlZCkge1xuICAgICAgICAgICAgY29uc29sZS5ncm91cENvbGxhcHNlZCgnJWNQaXhpSlMgRGVwcmVjYXRpb24gV2FybmluZzogJWMlcycsICdjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNicsICdmb250LXdlaWdodDpub3JtYWw7Y29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTYnLCBtZXNzYWdlICsgXCJcXG5EZXByZWNhdGVkIHNpbmNlIHZcIiArIHZlcnNpb24pO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHN0YWNrKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIG1lc3NhZ2UgKyBcIlxcbkRlcHJlY2F0ZWQgc2luY2UgdlwiICsgdmVyc2lvbik7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oc3RhY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICAgIHdhcm5pbmdzW21lc3NhZ2VdID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFByb2dyYW1DYWNoZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbnZhciBQcm9ncmFtQ2FjaGUgPSB7fTtcbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUZXh0dXJlQ2FjaGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgVGV4dHVyZUNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBCYXNlVGV4dHVyZUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIEJhc2VUZXh0dXJlQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqXG4gKiBEZXN0cm95cyBhbGwgdGV4dHVyZSBpbiB0aGUgY2FjaGVcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlc3Ryb3lUZXh0dXJlQ2FjaGVcbiAqL1xuZnVuY3Rpb24gZGVzdHJveVRleHR1cmVDYWNoZSgpIHtcbiAgICB2YXIga2V5O1xuICAgIGZvciAoa2V5IGluIFRleHR1cmVDYWNoZSkge1xuICAgICAgICBUZXh0dXJlQ2FjaGVba2V5XS5kZXN0cm95KCk7XG4gICAgfVxuICAgIGZvciAoa2V5IGluIEJhc2VUZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgQmFzZVRleHR1cmVDYWNoZVtrZXldLmRlc3Ryb3koKTtcbiAgICB9XG59XG4vKipcbiAqIFJlbW92ZXMgYWxsIHRleHR1cmVzIGZyb20gY2FjaGUsIGJ1dCBkb2VzIG5vdCBkZXN0cm95IHRoZW1cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNsZWFyVGV4dHVyZUNhY2hlXG4gKi9cbmZ1bmN0aW9uIGNsZWFyVGV4dHVyZUNhY2hlKCkge1xuICAgIHZhciBrZXk7XG4gICAgZm9yIChrZXkgaW4gVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVba2V5XTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSkge1xuICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtrZXldO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgQ2FudmFzIGVsZW1lbnQgb2YgdGhlIGdpdmVuIHNpemUgdG8gYmUgdXNlZCBhcyBhIHRhcmdldCBmb3IgcmVuZGVyaW5nIHRvLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqL1xudmFyIENhbnZhc1JlbmRlclRhcmdldCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggZm9yIHRoZSBuZXdseSBjcmVhdGVkIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IGZvciB0aGUgbmV3bHkgY3JlYXRlZCBjYW52YXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBDYW52YXMgb2JqZWN0IHRoYXQgYmVsb25ncyB0byB0aGlzIENhbnZhc1JlbmRlclRhcmdldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgb2JqZWN0IHJlcHJlc2VudGluZyBhIHR3by1kaW1lbnNpb25hbCByZW5kZXJpbmcgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBjYW52YXMgdGhhdCB3YXMgY3JlYXRlZCBieSB0aGUgQ2FudmFzUmVuZGVyVGFyZ2V0IGNsYXNzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgY2FudmFzIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSBuZXcgd2lkdGggb2YgdGhlIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgY2FudmFzXG4gICAgICovXG4gICAgQ2FudmFzUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpZHRoICogdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQgKiB0aGlzLnJlc29sdXRpb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGNhbnZhcy5cbiAgICAgKlxuICAgICAqL1xuICAgIENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBjYW52YXMgYnVmZmVyIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB2YWw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FudmFzUmVuZGVyVGFyZ2V0LnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgY2FudmFzIGJ1ZmZlciBpbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB2YWw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQ2FudmFzUmVuZGVyVGFyZ2V0O1xufSgpKTtcblxuLyoqXG4gKiBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnMgZnJvbSBhIGNhbnZhc1xuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gdHJpbUNhbnZhc1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGNhbnZhcyB0byB0cmltXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUcmltIGRhdGFcbiAqL1xuZnVuY3Rpb24gdHJpbUNhbnZhcyhjYW52YXMpIHtcbiAgICAvLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9yZW15Lzc4NDUwOFxuICAgIHZhciB3aWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIHZhciBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB2YXIgcGl4ZWxzID0gaW1hZ2VEYXRhLmRhdGE7XG4gICAgdmFyIGxlbiA9IHBpeGVscy5sZW5ndGg7XG4gICAgdmFyIGJvdW5kID0ge1xuICAgICAgICB0b3A6IG51bGwsXG4gICAgICAgIGxlZnQ6IG51bGwsXG4gICAgICAgIHJpZ2h0OiBudWxsLFxuICAgICAgICBib3R0b206IG51bGwsXG4gICAgfTtcbiAgICB2YXIgZGF0YSA9IG51bGw7XG4gICAgdmFyIGk7XG4gICAgdmFyIHg7XG4gICAgdmFyIHk7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgICAgIGlmIChwaXhlbHNbaSArIDNdICE9PSAwKSB7XG4gICAgICAgICAgICB4ID0gKGkgLyA0KSAlIHdpZHRoO1xuICAgICAgICAgICAgeSA9IH5+KChpIC8gNCkgLyB3aWR0aCk7XG4gICAgICAgICAgICBpZiAoYm91bmQudG9wID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQudG9wID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChib3VuZC5sZWZ0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQubGVmdCA9IHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh4IDwgYm91bmQubGVmdCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLmxlZnQgPSB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvdW5kLnJpZ2h0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQucmlnaHQgPSB4ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJvdW5kLnJpZ2h0IDwgeCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLnJpZ2h0ID0geCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYm91bmQuYm90dG9tID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQuYm90dG9tID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJvdW5kLmJvdHRvbSA8IHkpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5ib3R0b20gPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChib3VuZC50b3AgIT09IG51bGwpIHtcbiAgICAgICAgd2lkdGggPSBib3VuZC5yaWdodCAtIGJvdW5kLmxlZnQ7XG4gICAgICAgIGhlaWdodCA9IGJvdW5kLmJvdHRvbSAtIGJvdW5kLnRvcCArIDE7XG4gICAgICAgIGRhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YShib3VuZC5sZWZ0LCBib3VuZC50b3AsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgIH07XG59XG5cbi8qKlxuICogUmVnZXhwIGZvciBkYXRhIFVSSS5cbiAqIEJhc2VkIG9uOiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3JhZ2luZ3dpbmQvZGF0YS11cmktcmVnZXh9XG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50IHtSZWdFeHB8c3RyaW5nfSBEQVRBX1VSSVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleGFtcGxlIGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NFxuICovXG52YXIgREFUQV9VUkkgPSAvXlxccypkYXRhOig/OihbXFx3LV0rKVxcLyhbXFx3Ky4tXSspKT8oPzo7Y2hhcnNldD0oW1xcdy1dKykpPyg/OjsoYmFzZTY0KSk/LCguKikvaTtcblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGludGVyZmFjZSBEZWNvbXBvc2VkRGF0YVVyaVxuICovXG4vKipcbiAqIHR5cGUsIGVnLiBgaW1hZ2VgXG4gKiBAbWVtYmVyb2YgUElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaSNcbiAqIEBtZW1iZXIge3N0cmluZ30gbWVkaWFUeXBlXG4gKi9cbi8qKlxuICogU3ViIHR5cGUsIGVnLiBgcG5nYFxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcmkjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IHN1YlR5cGVcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaSNcbiAqIEBtZW1iZXIge3N0cmluZ30gY2hhcnNldFxuICovXG4vKipcbiAqIERhdGEgZW5jb2RpbmcsIGVnLiBgYmFzZTY0YFxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcmkjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IGVuY29kaW5nXG4gKi9cbi8qKlxuICogVGhlIGFjdHVhbCBkYXRhXG4gKiBAbWVtYmVyb2YgUElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaSNcbiAqIEBtZW1iZXIge3N0cmluZ30gZGF0YVxuICovXG4vKipcbiAqIFNwbGl0IGEgZGF0YSBVUkkgaW50byBjb21wb25lbnRzLiBSZXR1cm5zIHVuZGVmaW5lZCBpZlxuICogcGFyYW1ldGVyIGBkYXRhVXJpYCBpcyBub3QgYSB2YWxpZCBkYXRhIFVSSS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlY29tcG9zZURhdGFVcmlcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhVXJpIC0gdGhlIGRhdGEgVVJJIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtQSVhJLnV0aWxzLkRlY29tcG9zZWREYXRhVXJpfHVuZGVmaW5lZH0gVGhlIGRlY29tcG9zZWQgZGF0YSB1cmkgb3IgdW5kZWZpbmVkXG4gKi9cbmZ1bmN0aW9uIGRlY29tcG9zZURhdGFVcmkoZGF0YVVyaSkge1xuICAgIHZhciBkYXRhVXJpTWF0Y2ggPSBEQVRBX1VSSS5leGVjKGRhdGFVcmkpO1xuICAgIGlmIChkYXRhVXJpTWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lZGlhVHlwZTogZGF0YVVyaU1hdGNoWzFdID8gZGF0YVVyaU1hdGNoWzFdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdWJUeXBlOiBkYXRhVXJpTWF0Y2hbMl0gPyBkYXRhVXJpTWF0Y2hbMl0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNoYXJzZXQ6IGRhdGFVcmlNYXRjaFszXSA/IGRhdGFVcmlNYXRjaFszXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZW5jb2Rpbmc6IGRhdGFVcmlNYXRjaFs0XSA/IGRhdGFVcmlNYXRjaFs0XS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGF0YTogZGF0YVVyaU1hdGNoWzVdLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG52YXIgdGVtcEFuY2hvcjtcbi8qKlxuICogU2V0cyB0aGUgYGNyb3NzT3JpZ2luYCBwcm9wZXJ0eSBmb3IgdGhpcyByZXNvdXJjZSBiYXNlZCBvbiBpZiB0aGUgdXJsXG4gKiBmb3IgdGhpcyByZXNvdXJjZSBpcyBjcm9zcy1vcmlnaW4uIElmIGNyb3NzT3JpZ2luIHdhcyBtYW51YWxseSBzZXQsIHRoaXNcbiAqIGZ1bmN0aW9uIGRvZXMgbm90aGluZy5cbiAqIE5pcHBlZCBmcm9tIHRoZSByZXNvdXJjZSBsb2FkZXIhXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gdGVzdC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbbG9jPXdpbmRvdy5sb2NhdGlvbl0gLSBUaGUgbG9jYXRpb24gb2JqZWN0IHRvIHRlc3QgYWdhaW5zdC5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNyb3NzT3JpZ2luIHZhbHVlIHRvIHVzZSAob3IgZW1wdHkgc3RyaW5nIGZvciBub25lKS5cbiAqL1xuZnVuY3Rpb24gZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsLCBsb2MpIHtcbiAgICBpZiAobG9jID09PSB2b2lkIDApIHsgbG9jID0gd2luZG93LmxvY2F0aW9uOyB9XG4gICAgLy8gZGF0YTogYW5kIGphdmFzY3JpcHQ6IHVybHMgYXJlIGNvbnNpZGVyZWQgc2FtZS1vcmlnaW5cbiAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICAvLyBkZWZhdWx0IGlzIHdpbmRvdy5sb2NhdGlvblxuICAgIGxvYyA9IGxvYyB8fCB3aW5kb3cubG9jYXRpb247XG4gICAgaWYgKCF0ZW1wQW5jaG9yKSB7XG4gICAgICAgIHRlbXBBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgfVxuICAgIC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgLy8gcGFyc2Ugd2l0aCB0aGUgbm9kZSB1cmwgbGliLCB3ZSBjYW4ndCB1c2UgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFuY2hvciBlbGVtZW50XG4gICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG4gICAgdGVtcEFuY2hvci5ocmVmID0gdXJsO1xuICAgIHZhciBwYXJzZWRVcmwgPSBwYXJzZSh0ZW1wQW5jaG9yLmhyZWYpO1xuICAgIHZhciBzYW1lUG9ydCA9ICghcGFyc2VkVXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnKSB8fCAocGFyc2VkVXJsLnBvcnQgPT09IGxvYy5wb3J0KTtcbiAgICAvLyBpZiBjcm9zcyBvcmlnaW5cbiAgICBpZiAocGFyc2VkVXJsLmhvc3RuYW1lICE9PSBsb2MuaG9zdG5hbWUgfHwgIXNhbWVQb3J0IHx8IHBhcnNlZFVybC5wcm90b2NvbCAhPT0gbG9jLnByb3RvY29sKSB7XG4gICAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGdldCB0aGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiBhbiBhc3NldCBieSBsb29raW5nIGZvciB0aGUgcHJlZml4XG4gKiB1c2VkIGJ5IHNwcml0ZXNoZWV0cyBhbmQgaW1hZ2UgdXJsc1xuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbk9mVXJsXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gdGhlIGltYWdlIHBhdGhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlPTFdIC0gdGhlIGRlZmF1bHRWYWx1ZSBpZiBubyBmaWxlbmFtZSBwcmVmaXggaXMgc2V0LlxuICogQHJldHVybiB7bnVtYmVyfSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIGFuIGFzc2V0XG4gKi9cbmZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybCh1cmwsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciByZXNvbHV0aW9uID0gc2V0dGluZ3MuUkVUSU5BX1BSRUZJWC5leGVjKHVybCk7XG4gICAgaWYgKHJlc29sdXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQocmVzb2x1dGlvblsxXSk7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IDE7XG59XG5cbi8qKlxuICogR2VuZXJhbGl6ZWQgY29udmVuaWVuY2UgdXRpbGl0aWVzIGZvciBQSVhJLlxuICogQGV4YW1wbGVcbiAqIC8vIEV4dGVuZCBQSVhJJ3MgaW50ZXJuYWwgRXZlbnQgRW1pdHRlci5cbiAqIGNsYXNzIE15RW1pdHRlciBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyIHtcbiAqICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgIHN1cGVyKCk7XG4gKiAgICAgIGNvbnNvbGUubG9nKFwiRW1pdHRlciBjcmVhdGVkIVwiKTtcbiAqICAgfVxuICogfVxuICpcbiAqIC8vIEdldCBpbmZvIG9uIGN1cnJlbnQgZGV2aWNlXG4gKiBjb25zb2xlLmxvZyhQSVhJLnV0aWxzLmlzTW9iaWxlKTtcbiAqXG4gKiAvLyBDb252ZXJ0IGhleCBjb2xvciB0byBzdHJpbmdcbiAqIGNvbnNvbGUubG9nKFBJWEkudXRpbHMuaGV4MnN0cmluZygweGZmMDBmZikpOyAvLyByZXR1cm5zOiBcIiNmZjAwZmZcIlxuICogQG5hbWVzcGFjZSBQSVhJLnV0aWxzXG4gKi9cblxuZXhwb3J0IHsgQmFzZVRleHR1cmVDYWNoZSwgQ2FudmFzUmVuZGVyVGFyZ2V0LCBEQVRBX1VSSSwgUHJvZ3JhbUNhY2hlLCBUZXh0dXJlQ2FjaGUsIGNsZWFyVGV4dHVyZUNhY2hlLCBjb3JyZWN0QmxlbmRNb2RlLCBjcmVhdGVJbmRpY2VzRm9yUXVhZHMsIGRlY29tcG9zZURhdGFVcmksIGRlcHJlY2F0aW9uLCBkZXN0cm95VGV4dHVyZUNhY2hlLCBkZXRlcm1pbmVDcm9zc09yaWdpbiwgZ2V0QnVmZmVyVHlwZSwgZ2V0UmVzb2x1dGlvbk9mVXJsLCBoZXgycmdiLCBoZXgyc3RyaW5nLCBpbnRlcmxlYXZlVHlwZWRBcnJheXMsIGlzUG93MiwgaXNXZWJHTFN1cHBvcnRlZCwgbG9nMiwgbmV4dFBvdzIsIHByZW11bHRpcGx5QmxlbmRNb2RlLCBwcmVtdWx0aXBseVJnYmEsIHByZW11bHRpcGx5VGludCwgcHJlbXVsdGlwbHlUaW50VG9SZ2JhLCByZW1vdmVJdGVtcywgcmdiMmhleCwgc2F5SGVsbG8sIHNpZ24sIHNraXBIZWxsbywgc3RyaW5nMmhleCwgdHJpbUNhbnZhcywgdWlkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWF0aCAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9tYXRoIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUd28gUGkuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50IHtudW1iZXJ9IFBJXzJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQSV8yID0gTWF0aC5QSSAqIDI7XG4vKipcbiAqIENvbnZlcnNpb24gZmFjdG9yIGZvciBjb252ZXJ0aW5nIHJhZGlhbnMgdG8gZGVncmVlcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge251bWJlcn0gUkFEX1RPX0RFR1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJBRF9UT19ERUcgPSAxODAgLyBNYXRoLlBJO1xuLyoqXG4gKiBDb252ZXJzaW9uIGZhY3RvciBmb3IgY29udmVydGluZyBkZWdyZWVzIHRvIHJhZGlhbnMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50IHtudW1iZXJ9IERFR19UT19SQURcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBERUdfVE9fUkFEID0gTWF0aC5QSSAvIDE4MDtcbnZhciBTSEFQRVM7XG4oZnVuY3Rpb24gKFNIQVBFUykge1xuICAgIFNIQVBFU1tTSEFQRVNbXCJQT0xZXCJdID0gMF0gPSBcIlBPTFlcIjtcbiAgICBTSEFQRVNbU0hBUEVTW1wiUkVDVFwiXSA9IDFdID0gXCJSRUNUXCI7XG4gICAgU0hBUEVTW1NIQVBFU1tcIkNJUkNcIl0gPSAyXSA9IFwiQ0lSQ1wiO1xuICAgIFNIQVBFU1tTSEFQRVNbXCJFTElQXCJdID0gM10gPSBcIkVMSVBcIjtcbiAgICBTSEFQRVNbU0hBUEVTW1wiUlJFQ1wiXSA9IDRdID0gXCJSUkVDXCI7XG59KShTSEFQRVMgfHwgKFNIQVBFUyA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50cyB0aGF0IGlkZW50aWZ5IHNoYXBlcywgbWFpbmx5IHRvIHByZXZlbnQgYGluc3RhbmNlb2ZgIGNhbGxzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgU0hBUEVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge2VudW19XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9MWSBQb2x5Z29uXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVDVCBSZWN0YW5nbGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDSVJDIENpcmNsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVMSVAgRWxsaXBzZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJSRUMgUm91bmRlZCBSZWN0YW5nbGVcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblxuLyoqXG4gKiBTaXplIG9iamVjdCwgY29udGFpbnMgd2lkdGggYW5kIGhlaWdodFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJU2l6ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggY29tcG9uZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IGNvbXBvbmVudFxuICovXG4vKipcbiAqIFJlY3RhbmdsZSBvYmplY3QgaXMgYW4gYXJlYSBkZWZpbmVkIGJ5IGl0cyBwb3NpdGlvbiwgYXMgaW5kaWNhdGVkIGJ5IGl0cyB0b3AtbGVmdCBjb3JuZXJcbiAqIHBvaW50ICh4LCB5KSBhbmQgYnkgaXRzIHdpZHRoIGFuZCBpdHMgaGVpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlY3RhbmdsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBUaGUgb3ZlcmFsbCB3aWR0aCBvZiB0aGlzIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gVGhlIG92ZXJhbGwgaGVpZ2h0IG9mIHRoaXMgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7IHdpZHRoID0gMDsgfVxuICAgICAgICBpZiAoaGVpZ2h0ID09PSB2b2lkIDApIHsgaGVpZ2h0ID0gMDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSBOdW1iZXIoeCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IE51bWJlcih5KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IE51bWJlcih3aWR0aCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTnVtYmVyKGhlaWdodCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlJFQ1RcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLlJFQ1Q7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWN0YW5nbGUucHJvdG90eXBlLCBcImxlZnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0aGUgbGVmdCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY3RhbmdsZS5wcm90b3R5cGUsIFwicmlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0aGUgcmlnaHQgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueCArIHRoaXMud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjdGFuZ2xlLnByb3RvdHlwZSwgXCJ0b3BcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0aGUgdG9wIGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjdGFuZ2xlLnByb3RvdHlwZSwgXCJib3R0b21cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0aGUgYm90dG9tIGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnkgKyB0aGlzLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWN0YW5nbGUsIFwiRU1QVFlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBjb25zdGFudCBlbXB0eSByZWN0YW5nbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gQW4gZW1wdHkgcmVjdGFuZ2xlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKDAsIDAsIDAsIDApO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gYSBjb3B5IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIGFub3RoZXIgcmVjdGFuZ2xlIHRvIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBjb3B5IGZyb20uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAocmVjdGFuZ2xlKSB7XG4gICAgICAgIHRoaXMueCA9IHJlY3RhbmdsZS54O1xuICAgICAgICB0aGlzLnkgPSByZWN0YW5nbGUueTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHJlY3RhbmdsZS53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSByZWN0YW5nbGUuaGVpZ2h0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGlzIHJlY3RhbmdsZSB0byBhbm90aGVyIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gY29weSB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBnaXZlbiBwYXJhbWV0ZXIuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiAocmVjdGFuZ2xlKSB7XG4gICAgICAgIHJlY3RhbmdsZS54ID0gdGhpcy54O1xuICAgICAgICByZWN0YW5nbGUueSA9IHRoaXMueTtcbiAgICAgICAgcmVjdGFuZ2xlLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgcmVjdGFuZ2xlLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICByZXR1cm4gcmVjdGFuZ2xlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgUmVjdGFuZ2xlXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4ID49IHRoaXMueCAmJiB4IDwgdGhpcy54ICsgdGhpcy53aWR0aCkge1xuICAgICAgICAgICAgaWYgKHkgPj0gdGhpcy55ICYmIHkgPCB0aGlzLnkgKyB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhZHMgdGhlIHJlY3RhbmdsZSBtYWtpbmcgaXQgZ3JvdyBpbiBhbGwgZGlyZWN0aW9ucy5cbiAgICAgKiBJZiBwYWRkaW5nWSBpcyBvbWl0dGVkLCBib3RoIHBhZGRpbmdYIGFuZCBwYWRkaW5nWSB3aWxsIGJlIHNldCB0byBwYWRkaW5nWC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkZGluZ1g9MF0gLSBUaGUgaG9yaXpvbnRhbCBwYWRkaW5nIGFtb3VudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3BhZGRpbmdZPTBdIC0gVGhlIHZlcnRpY2FsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLnBhZCA9IGZ1bmN0aW9uIChwYWRkaW5nWCwgcGFkZGluZ1kpIHtcbiAgICAgICAgaWYgKHBhZGRpbmdYID09PSB2b2lkIDApIHsgcGFkZGluZ1ggPSAwOyB9XG4gICAgICAgIGlmIChwYWRkaW5nWSA9PT0gdm9pZCAwKSB7IHBhZGRpbmdZID0gcGFkZGluZ1g7IH1cbiAgICAgICAgdGhpcy54IC09IHBhZGRpbmdYO1xuICAgICAgICB0aGlzLnkgLT0gcGFkZGluZ1k7XG4gICAgICAgIHRoaXMud2lkdGggKz0gcGFkZGluZ1ggKiAyO1xuICAgICAgICB0aGlzLmhlaWdodCArPSBwYWRkaW5nWSAqIDI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRml0cyB0aGlzIHJlY3RhbmdsZSBhcm91bmQgdGhlIHBhc3NlZCBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGZpdC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5maXQgPSBmdW5jdGlvbiAocmVjdGFuZ2xlKSB7XG4gICAgICAgIHZhciB4MSA9IE1hdGgubWF4KHRoaXMueCwgcmVjdGFuZ2xlLngpO1xuICAgICAgICB2YXIgeDIgPSBNYXRoLm1pbih0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgICAgIHZhciB5MSA9IE1hdGgubWF4KHRoaXMueSwgcmVjdGFuZ2xlLnkpO1xuICAgICAgICB2YXIgeTIgPSBNYXRoLm1pbih0aGlzLnkgKyB0aGlzLmhlaWdodCwgcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy54ID0geDE7XG4gICAgICAgIHRoaXMud2lkdGggPSBNYXRoLm1heCh4MiAtIHgxLCAwKTtcbiAgICAgICAgdGhpcy55ID0geTE7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5tYXgoeTIgLSB5MSwgMCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5sYXJnZXMgcmVjdGFuZ2xlIHRoYXQgd2F5IGl0cyBjb3JuZXJzIGxpZSBvbiBncmlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gcmVzb2x1dGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZXBzPTAuMDAxXSBwcmVjaXNpb25cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jZWlsID0gZnVuY3Rpb24gKHJlc29sdXRpb24sIGVwcykge1xuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSAxOyB9XG4gICAgICAgIGlmIChlcHMgPT09IHZvaWQgMCkgeyBlcHMgPSAwLjAwMTsgfVxuICAgICAgICB2YXIgeDIgPSBNYXRoLmNlaWwoKHRoaXMueCArIHRoaXMud2lkdGggLSBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgeTIgPSBNYXRoLmNlaWwoKHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy54ID0gTWF0aC5mbG9vcigodGhpcy54ICsgZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy55ID0gTWF0aC5mbG9vcigodGhpcy55ICsgZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy53aWR0aCA9IHgyIC0gdGhpcy54O1xuICAgICAgICB0aGlzLmhlaWdodCA9IHkyIC0gdGhpcy55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVubGFyZ2VzIHRoaXMgcmVjdGFuZ2xlIHRvIGluY2x1ZGUgdGhlIHBhc3NlZCByZWN0YW5nbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGluY2x1ZGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuZW5sYXJnZSA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgdmFyIHgxID0gTWF0aC5taW4odGhpcy54LCByZWN0YW5nbGUueCk7XG4gICAgICAgIHZhciB4MiA9IE1hdGgubWF4KHRoaXMueCArIHRoaXMud2lkdGgsIHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoKTtcbiAgICAgICAgdmFyIHkxID0gTWF0aC5taW4odGhpcy55LCByZWN0YW5nbGUueSk7XG4gICAgICAgIHZhciB5MiA9IE1hdGgubWF4KHRoaXMueSArIHRoaXMuaGVpZ2h0LCByZWN0YW5nbGUueSArIHJlY3RhbmdsZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLnggPSB4MTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHgyIC0geDE7XG4gICAgICAgIHRoaXMueSA9IHkxO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHkyIC0geTE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFJlY3RhbmdsZTtcbn0oKSk7XG5cbi8qKlxuICogVGhlIENpcmNsZSBvYmplY3QgaXMgdXNlZCB0byBoZWxwIGRyYXcgZ3JhcGhpY3MgYW5kIGNhbiBhbHNvIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDaXJjbGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoaXMgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoaXMgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpdXM9MF0gLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDaXJjbGUoeCwgeSwgcmFkaXVzKSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxuICAgICAgICBpZiAocmFkaXVzID09PSB2b2lkIDApIHsgcmFkaXVzID0gMDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuQ0lSQ1xuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuQ0lSQztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgQ2lyY2xlIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkNpcmNsZX0gYSBjb3B5IG9mIHRoZSBDaXJjbGVcbiAgICAgKi9cbiAgICBDaXJjbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IENpcmNsZSh0aGlzLngsIHRoaXMueSwgdGhpcy5yYWRpdXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBjaXJjbGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgQ2lyY2xlXG4gICAgICovXG4gICAgQ2lyY2xlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLnJhZGl1cyA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHIyID0gdGhpcy5yYWRpdXMgKiB0aGlzLnJhZGl1cztcbiAgICAgICAgdmFyIGR4ID0gKHRoaXMueCAtIHgpO1xuICAgICAgICB2YXIgZHkgPSAodGhpcy55IC0geSk7XG4gICAgICAgIGR4ICo9IGR4O1xuICAgICAgICBkeSAqPSBkeTtcbiAgICAgICAgcmV0dXJuIChkeCArIGR5IDw9IHIyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICogUmV0dXJucyB0aGUgZnJhbWluZyByZWN0YW5nbGUgb2YgdGhlIGNpcmNsZSBhcyBhIFJlY3RhbmdsZSBvYmplY3RcbiAgICAqXG4gICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIGZyYW1pbmcgcmVjdGFuZ2xlXG4gICAgKi9cbiAgICBDaXJjbGUucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy54IC0gdGhpcy5yYWRpdXMsIHRoaXMueSAtIHRoaXMucmFkaXVzLCB0aGlzLnJhZGl1cyAqIDIsIHRoaXMucmFkaXVzICogMik7XG4gICAgfTtcbiAgICByZXR1cm4gQ2lyY2xlO1xufSgpKTtcblxuLyoqXG4gKiBUaGUgRWxsaXBzZSBvYmplY3QgaXMgdXNlZCB0byBoZWxwIGRyYXcgZ3JhcGhpY3MgYW5kIGNhbiBhbHNvIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBFbGxpcHNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoYWxmV2lkdGg9MF0gLSBUaGUgaGFsZiB3aWR0aCBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hhbGZIZWlnaHQ9MF0gLSBUaGUgaGFsZiBoZWlnaHQgb2YgdGhpcyBlbGxpcHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gRWxsaXBzZSh4LCB5LCBoYWxmV2lkdGgsIGhhbGZIZWlnaHQpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmIChoYWxmV2lkdGggPT09IHZvaWQgMCkgeyBoYWxmV2lkdGggPSAwOyB9XG4gICAgICAgIGlmIChoYWxmSGVpZ2h0ID09PSB2b2lkIDApIHsgaGFsZkhlaWdodCA9IDA7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IGhhbGZXaWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoYWxmSGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5FTElQXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5FTElQO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBFbGxpcHNlIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkVsbGlwc2V9IGEgY29weSBvZiB0aGUgZWxsaXBzZVxuICAgICAqL1xuICAgIEVsbGlwc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IEVsbGlwc2UodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgZWxsaXBzZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkcyBhcmUgd2l0aGluIHRoaXMgZWxsaXBzZVxuICAgICAqL1xuICAgIEVsbGlwc2UucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm9ybWFsaXplIHRoZSBjb29yZHMgdG8gYW4gZWxsaXBzZSB3aXRoIGNlbnRlciAwLDBcbiAgICAgICAgdmFyIG5vcm14ID0gKCh4IC0gdGhpcy54KSAvIHRoaXMud2lkdGgpO1xuICAgICAgICB2YXIgbm9ybXkgPSAoKHkgLSB0aGlzLnkpIC8gdGhpcy5oZWlnaHQpO1xuICAgICAgICBub3JteCAqPSBub3JteDtcbiAgICAgICAgbm9ybXkgKj0gbm9ybXk7XG4gICAgICAgIHJldHVybiAobm9ybXggKyBub3JteSA8PSAxKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGZyYW1pbmcgcmVjdGFuZ2xlIG9mIHRoZSBlbGxpcHNlIGFzIGEgUmVjdGFuZ2xlIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IHRoZSBmcmFtaW5nIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIEVsbGlwc2UucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy54IC0gdGhpcy53aWR0aCwgdGhpcy55IC0gdGhpcy5oZWlnaHQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9O1xuICAgIHJldHVybiBFbGxpcHNlO1xufSgpKTtcblxuLyoqXG4gKiBBIGNsYXNzIHRvIGRlZmluZSBhIHNoYXBlIHZpYSB1c2VyIGRlZmluZWQgY28tb3JpbmF0ZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUG9seWdvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50W118bnVtYmVyW119IHBvaW50cyAtIFRoaXMgY2FuIGJlIGFuIGFycmF5IG9mIFBvaW50c1xuICAgICAqICB0aGF0IGZvcm0gdGhlIHBvbHlnb24sIGEgZmxhdCBhcnJheSBvZiBudW1iZXJzIHRoYXQgd2lsbCBiZSBpbnRlcnByZXRlZCBhcyBbeCx5LCB4LHksIC4uLl0sIG9yXG4gICAgICogIHRoZSBhcmd1bWVudHMgcGFzc2VkIGNhbiBiZSBhbGwgdGhlIHBvaW50cyBvZiB0aGUgcG9seWdvbiBlLmcuXG4gICAgICogIGBuZXcgUElYSS5Qb2x5Z29uKG5ldyBQSVhJLlBvaW50KCksIG5ldyBQSVhJLlBvaW50KCksIC4uLilgLCBvciB0aGUgYXJndW1lbnRzIHBhc3NlZCBjYW4gYmUgZmxhdFxuICAgICAqICB4LHkgdmFsdWVzIGUuZy4gYG5ldyBQb2x5Z29uKHgseSwgeCx5LCB4LHksIC4uLilgIHdoZXJlIGB4YCBhbmQgYHlgIGFyZSBOdW1iZXJzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBvbHlnb24oKSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgcG9pbnRzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBwb2ludHNbX2ldID0gYXJndW1lbnRzJDFbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmbGF0ID0gQXJyYXkuaXNBcnJheShwb2ludHNbMF0pID8gcG9pbnRzWzBdIDogcG9pbnRzO1xuICAgICAgICAvLyBpZiB0aGlzIGlzIGFuIGFycmF5IG9mIHBvaW50cywgY29udmVydCBpdCB0byBhIGZsYXQgYXJyYXkgb2YgbnVtYmVyc1xuICAgICAgICBpZiAodHlwZW9mIGZsYXRbMF0gIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB2YXIgcCA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZmxhdC5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcC5wdXNoKGZsYXRbaV0ueCwgZmxhdFtpXS55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZsYXQgPSBwO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiB0aGUgcG9pbnRzIG9mIHRoaXMgcG9seWdvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzID0gZmxhdDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUE9MWVxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUE9MWTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGBmYWxzZWAgYWZ0ZXIgbW92ZVRvLCBgdHJ1ZWAgYWZ0ZXIgYGNsb3NlUGF0aGAuIEluIGFsbCBvdGhlciBjYXNlcyBpdCBpcyBgdHJ1ZWAuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xvc2VTdHJva2UgPSB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBwb2x5Z29uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvbHlnb259IGEgY29weSBvZiB0aGUgcG9seWdvblxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHMuc2xpY2UoKTtcbiAgICAgICAgdmFyIHBvbHlnb24gPSBuZXcgUG9seWdvbihwb2ludHMpO1xuICAgICAgICBwb2x5Z29uLmNsb3NlU3Ryb2tlID0gdGhpcy5jbG9zZVN0cm9rZTtcbiAgICAgICAgcmV0dXJuIHBvbHlnb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIHBvbHlnb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgcG9seWdvblxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdmFyIGluc2lkZSA9IGZhbHNlO1xuICAgICAgICAvLyB1c2Ugc29tZSByYXljYXN0aW5nIHRvIHRlc3QgaGl0c1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3Vic3RhY2svcG9pbnQtaW4tcG9seWdvbi9ibG9iL21hc3Rlci9pbmRleC5qc1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSBsZW5ndGggLSAxOyBpIDwgbGVuZ3RoOyBqID0gaSsrKSB7XG4gICAgICAgICAgICB2YXIgeGkgPSB0aGlzLnBvaW50c1tpICogMl07XG4gICAgICAgICAgICB2YXIgeWkgPSB0aGlzLnBvaW50c1soaSAqIDIpICsgMV07XG4gICAgICAgICAgICB2YXIgeGogPSB0aGlzLnBvaW50c1tqICogMl07XG4gICAgICAgICAgICB2YXIgeWogPSB0aGlzLnBvaW50c1soaiAqIDIpICsgMV07XG4gICAgICAgICAgICB2YXIgaW50ZXJzZWN0ID0gKCh5aSA+IHkpICE9PSAoeWogPiB5KSkgJiYgKHggPCAoKHhqIC0geGkpICogKCh5IC0geWkpIC8gKHlqIC0geWkpKSkgKyB4aSk7XG4gICAgICAgICAgICBpZiAoaW50ZXJzZWN0KSB7XG4gICAgICAgICAgICAgICAgaW5zaWRlID0gIWluc2lkZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zaWRlO1xuICAgIH07XG4gICAgcmV0dXJuIFBvbHlnb247XG59KCkpO1xuXG4vKipcbiAqIFRoZSBSb3VuZGVkIFJlY3RhbmdsZSBvYmplY3QgaXMgYW4gYXJlYSB0aGF0IGhhcyBuaWNlIHJvdW5kZWQgY29ybmVycywgYXMgaW5kaWNhdGVkIGJ5IGl0c1xuICogdG9wLWxlZnQgY29ybmVyIHBvaW50ICh4LCB5KSBhbmQgYnkgaXRzIHdpZHRoIGFuZCBpdHMgaGVpZ2h0IGFuZCBpdHMgcmFkaXVzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJvdW5kZWRSZWN0YW5nbGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIFRoZSBvdmVyYWxsIHdpZHRoIG9mIHRoaXMgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIFRoZSBvdmVyYWxsIGhlaWdodCBvZiB0aGlzIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpdXM9MjBdIC0gQ29udHJvbHMgdGhlIHJhZGl1cyBvZiB0aGUgcm91bmRlZCBjb3JuZXJzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUm91bmRlZFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7IHdpZHRoID0gMDsgfVxuICAgICAgICBpZiAoaGVpZ2h0ID09PSB2b2lkIDApIHsgaGVpZ2h0ID0gMDsgfVxuICAgICAgICBpZiAocmFkaXVzID09PSB2b2lkIDApIHsgcmFkaXVzID0gMjA7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMjBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5SUkVDXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5SUkVDO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBhIGNvcHkgb2YgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgUm91bmRlZFJlY3RhbmdsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUm91bmRlZFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMucmFkaXVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgUm91bmRlZCBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgUm91bmRlZCBSZWN0YW5nbGVcbiAgICAgKi9cbiAgICBSb3VuZGVkUmVjdGFuZ2xlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4ID49IHRoaXMueCAmJiB4IDw9IHRoaXMueCArIHRoaXMud2lkdGgpIHtcbiAgICAgICAgICAgIGlmICh5ID49IHRoaXMueSAmJiB5IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCh5ID49IHRoaXMueSArIHRoaXMucmFkaXVzICYmIHkgPD0gdGhpcy55ICsgdGhpcy5oZWlnaHQgLSB0aGlzLnJhZGl1cylcbiAgICAgICAgICAgICAgICAgICAgfHwgKHggPj0gdGhpcy54ICsgdGhpcy5yYWRpdXMgJiYgeCA8PSB0aGlzLnggKyB0aGlzLndpZHRoIC0gdGhpcy5yYWRpdXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZHggPSB4IC0gKHRoaXMueCArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICB2YXIgZHkgPSB5IC0gKHRoaXMueSArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICB2YXIgcmFkaXVzMiA9IHRoaXMucmFkaXVzICogdGhpcy5yYWRpdXM7XG4gICAgICAgICAgICAgICAgaWYgKChkeCAqIGR4KSArIChkeSAqIGR5KSA8PSByYWRpdXMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkeCA9IHggLSAodGhpcy54ICsgdGhpcy53aWR0aCAtIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR5ID0geSAtICh0aGlzLnkgKyB0aGlzLmhlaWdodCAtIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKChkeCAqIGR4KSArIChkeSAqIGR5KSA8PSByYWRpdXMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gUm91bmRlZFJlY3RhbmdsZTtcbn0oKSk7XG5cbi8qKlxuICogQ29tbW9uIGludGVyZmFjZSBmb3IgcG9pbnRzLiBCb3RoIFBvaW50IGFuZCBPYnNlcnZhYmxlUG9pbnQgaW1wbGVtZW50IGl0XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGludGVyZmFjZSBJUG9pbnREYXRhXG4gKi9cbi8qKlxuICogWCBjb29yZFxuICogQG1lbWJlcm9mIFBJWEkuSVBvaW50RGF0YSNcbiAqIEBtZW1iZXIge251bWJlcn0geFxuICovXG4vKipcbiAqIFkgY29vcmRcbiAqIEBtZW1iZXJvZiBQSVhJLklQb2ludERhdGEjXG4gKiBAbWVtYmVyIHtudW1iZXJ9IHlcbiAqL1xuXG4vKipcbiAqIENvbW1vbiBpbnRlcmZhY2UgZm9yIHBvaW50cy4gQm90aCBQb2ludCBhbmQgT2JzZXJ2YWJsZVBvaW50IGltcGxlbWVudCBpdFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbnRlcmZhY2UgSVBvaW50XG4gKiBAZXh0ZW5kcyBQSVhJLklQb2ludERhdGFcbiAqL1xuLyoqXG4gKiBTZXRzIHRoZSBwb2ludCB0byBhIG5ldyB4IGFuZCB5IHBvc2l0aW9uLlxuICogSWYgeSBpcyBvbWl0dGVkLCBib3RoIHggYW5kIHkgd2lsbCBiZSBzZXQgdG8geC5cbiAqXG4gKiBAbWV0aG9kIHNldFxuICogQG1lbWJlcm9mIFBJWEkuSVBvaW50I1xuICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbeT14XSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gKi9cbi8qKlxuICogQ29waWVzIHggYW5kIHkgZnJvbSB0aGUgZ2l2ZW4gcG9pbnRcbiAqIEBtZXRob2QgY29weUZyb21cbiAqIEBtZW1iZXJvZiBQSVhJLklQb2ludCNcbiAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwIC0gVGhlIHBvaW50IHRvIGNvcHkgZnJvbVxuICogQHJldHVybnMge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICovXG4vKipcbiAqIENvcGllcyB4IGFuZCB5IGludG8gdGhlIGdpdmVuIHBvaW50XG4gKiBAbWV0aG9kIGNvcHlUb1xuICogQG1lbWJlcm9mIFBJWEkuSVBvaW50I1xuICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5LlxuICogQHJldHVybnMge1BJWEkuSVBvaW50fSBHaXZlbiBwb2ludCB3aXRoIHZhbHVlcyB1cGRhdGVkXG4gKi9cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBwb2ludCBpcyBlcXVhbCB0byB0aGlzIHBvaW50XG4gKlxuICogQG1ldGhvZCBlcXVhbHNcbiAqIEBtZW1iZXJvZiBQSVhJLklQb2ludCNcbiAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwIC0gVGhlIHBvaW50IHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZ2l2ZW4gcG9pbnQgZXF1YWwgdG8gdGhpcyBwb2ludFxuICovXG5cbi8qKlxuICogVGhlIFBvaW50IG9iamVjdCByZXByZXNlbnRzIGEgbG9jYXRpb24gaW4gYSB0d28tZGltZW5zaW9uYWwgY29vcmRpbmF0ZSBzeXN0ZW0sIHdoZXJlIHggcmVwcmVzZW50c1xuICogdGhlIGhvcml6b250YWwgYXhpcyBhbmQgeSByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBheGlzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIElQb2ludFxuICovXG52YXIgUG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBvaW50KHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvaW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBhIGNvcHkgb2YgdGhlIHBvaW50XG4gICAgICovXG4gICAgUG9pbnQucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCwgdGhpcy55KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvcGllcyB4IGFuZCB5IGZyb20gdGhlIGdpdmVuIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcCAtIFRoZSBwb2ludCB0byBjb3B5IGZyb21cbiAgICAgKiBAcmV0dXJucyB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUG9pbnQucHJvdG90eXBlLmNvcHlGcm9tID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgdGhpcy5zZXQocC54LCBwLnkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvcGllcyB4IGFuZCB5IGludG8gdGhlIGdpdmVuIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNvcHkuXG4gICAgICogQHJldHVybnMge1BJWEkuSVBvaW50fSBHaXZlbiBwb2ludCB3aXRoIHZhbHVlcyB1cGRhdGVkXG4gICAgICovXG4gICAgUG9pbnQucHJvdG90eXBlLmNvcHlUbyA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHAuc2V0KHRoaXMueCwgdGhpcy55KTtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBvaW50IGlzIGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwIC0gVGhlIHBvaW50IHRvIGNoZWNrXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGdpdmVuIHBvaW50IGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIChwLnggPT09IHRoaXMueCkgJiYgKHAueSA9PT0gdGhpcy55KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IHggYW5kIHkgcG9zaXRpb24uXG4gICAgICogSWYgeSBpcyBvbWl0dGVkLCBib3RoIHggYW5kIHkgd2lsbCBiZSBzZXQgdG8geC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PXhdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcmV0dXJucyB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUG9pbnQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0geDsgfVxuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBQb2ludDtcbn0oKSk7XG5cbi8qKlxuICogVGhlIFBvaW50IG9iamVjdCByZXByZXNlbnRzIGEgbG9jYXRpb24gaW4gYSB0d28tZGltZW5zaW9uYWwgY29vcmRpbmF0ZSBzeXN0ZW0sIHdoZXJlIHggcmVwcmVzZW50c1xuICogdGhlIGhvcml6b250YWwgYXhpcyBhbmQgeSByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBheGlzLlxuICpcbiAqIEFuIE9ic2VydmFibGVQb2ludCBpcyBhIHBvaW50IHRoYXQgdHJpZ2dlcnMgYSBjYWxsYmFjayB3aGVuIHRoZSBwb2ludCdzIHBvc2l0aW9uIGlzIGNoYW5nZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgSVBvaW50XG4gKi9cbnZhciBPYnNlcnZhYmxlUG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgLSBjYWxsYmFjayB3aGVuIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc2NvcGUgLSBvd25lciBvZiBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlUG9pbnQoY2IsIHNjb3BlLCB4LCB5KSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxuICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgIHRoaXMuY2IgPSBjYjtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBwb2ludC5cbiAgICAgKiBUaGUgY2FsbGJhY2sgYW5kIHNjb3BlIHBhcmFtcyBjYW4gYmUgb3ZlcmlkZGVuIG90aGVyd2lzZSB0aGV5IHdpbGwgZGVmYXVsdFxuICAgICAqIHRvIHRoZSBjbG9uZSBvYmplY3QncyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2I9bnVsbF0gLSBjYWxsYmFjayB3aGVuIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3Njb3BlPW51bGxdIC0gb3duZXIgb2YgY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk9ic2VydmFibGVQb2ludH0gYSBjb3B5IG9mIHRoZSBwb2ludFxuICAgICAqL1xuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoY2IsIHNjb3BlKSB7XG4gICAgICAgIGlmIChjYiA9PT0gdm9pZCAwKSB7IGNiID0gdGhpcy5jYjsgfVxuICAgICAgICBpZiAoc2NvcGUgPT09IHZvaWQgMCkgeyBzY29wZSA9IHRoaXMuc2NvcGU7IH1cbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlUG9pbnQoY2IsIHNjb3BlLCB0aGlzLl94LCB0aGlzLl95KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IHggYW5kIHkgcG9zaXRpb24uXG4gICAgICogSWYgeSBpcyBvbWl0dGVkLCBib3RoIHggYW5kIHkgd2lsbCBiZSBzZXQgdG8geC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PXhdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcmV0dXJucyB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IHg7IH1cbiAgICAgICAgaWYgKHRoaXMuX3ggIT09IHggfHwgdGhpcy5feSAhPT0geSkge1xuICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvcGllcyB4IGFuZCB5IGZyb20gdGhlIGdpdmVuIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcCAtIFRoZSBwb2ludCB0byBjb3B5IGZyb20uXG4gICAgICogQHJldHVybnMge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAocCkge1xuICAgICAgICBpZiAodGhpcy5feCAhPT0gcC54IHx8IHRoaXMuX3kgIT09IHAueSkge1xuICAgICAgICAgICAgdGhpcy5feCA9IHAueDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSBwLnk7XG4gICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgeCBhbmQgeSBpbnRvIHRoZSBnaXZlbiBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5LlxuICAgICAqIEByZXR1cm5zIHtQSVhJLklQb2ludH0gR2l2ZW4gcG9pbnQgd2l0aCB2YWx1ZXMgdXBkYXRlZFxuICAgICAqL1xuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weVRvID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcC5zZXQodGhpcy5feCwgdGhpcy5feSk7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBwb2ludCBpcyBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcCAtIFRoZSBwb2ludCB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAgICovXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gKHAueCA9PT0gdGhpcy5feCkgJiYgKHAueSA9PT0gdGhpcy5feSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZSwgXCJ4XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl94O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3ggIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5feCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLCBcInlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3k7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5feSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl95ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIE9ic2VydmFibGVQb2ludDtcbn0oKSk7XG5cbi8qKlxuICogVGhlIFBpeGlKUyBNYXRyaXggYXMgYSBjbGFzcyBtYWtlcyBpdCBhIGxvdCBmYXN0ZXIuXG4gKlxuICogSGVyZSBpcyBhIHJlcHJlc2VudGF0aW9uIG9mIGl0OlxuICogYGBganNcbiAqIHwgYSB8IGMgfCB0eHxcbiAqIHwgYiB8IGQgfCB0eXxcbiAqIHwgMCB8IDAgfCAxIHxcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWF0cml4ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYT0xXSAtIHggc2NhbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2I9MF0gLSB4IHNrZXdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2M9MF0gLSB5IHNrZXdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Q9MV0gLSB5IHNjYWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0eD0wXSAtIHggdHJhbnNsYXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3R5PTBdIC0geSB0cmFuc2xhdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hdHJpeChhLCBiLCBjLCBkLCB0eCwgdHkpIHtcbiAgICAgICAgaWYgKGEgPT09IHZvaWQgMCkgeyBhID0gMTsgfVxuICAgICAgICBpZiAoYiA9PT0gdm9pZCAwKSB7IGIgPSAwOyB9XG4gICAgICAgIGlmIChjID09PSB2b2lkIDApIHsgYyA9IDA7IH1cbiAgICAgICAgaWYgKGQgPT09IHZvaWQgMCkgeyBkID0gMTsgfVxuICAgICAgICBpZiAodHggPT09IHZvaWQgMCkgeyB0eCA9IDA7IH1cbiAgICAgICAgaWYgKHR5ID09PSB2b2lkIDApIHsgdHkgPSAwOyB9XG4gICAgICAgIHRoaXMuYXJyYXkgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmMgPSBjO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmQgPSBkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR4ID0gdHg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHkgPSB0eTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIE1hdHJpeCBvYmplY3QgYmFzZWQgb24gdGhlIGdpdmVuIGFycmF5LiBUaGUgRWxlbWVudCB0byBNYXRyaXggbWFwcGluZyBvcmRlciBpcyBhcyBmb2xsb3dzOlxuICAgICAqXG4gICAgICogYSA9IGFycmF5WzBdXG4gICAgICogYiA9IGFycmF5WzFdXG4gICAgICogYyA9IGFycmF5WzNdXG4gICAgICogZCA9IGFycmF5WzRdXG4gICAgICogdHggPSBhcnJheVsyXVxuICAgICAqIHR5ID0gYXJyYXlbNV1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIGFycmF5IHRoYXQgdGhlIG1hdHJpeCB3aWxsIGJlIHBvcHVsYXRlZCBmcm9tLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuZnJvbUFycmF5ID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgIHRoaXMuYSA9IGFycmF5WzBdO1xuICAgICAgICB0aGlzLmIgPSBhcnJheVsxXTtcbiAgICAgICAgdGhpcy5jID0gYXJyYXlbM107XG4gICAgICAgIHRoaXMuZCA9IGFycmF5WzRdO1xuICAgICAgICB0aGlzLnR4ID0gYXJyYXlbMl07XG4gICAgICAgIHRoaXMudHkgPSBhcnJheVs1XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHNldHMgdGhlIG1hdHJpeCBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYSAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYiAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYyAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZCAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHggLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR5IC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgdHgsIHR5KSB7XG4gICAgICAgIHRoaXMuYSA9IGE7XG4gICAgICAgIHRoaXMuYiA9IGI7XG4gICAgICAgIHRoaXMuYyA9IGM7XG4gICAgICAgIHRoaXMuZCA9IGQ7XG4gICAgICAgIHRoaXMudHggPSB0eDtcbiAgICAgICAgdGhpcy50eSA9IHR5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgZnJvbSB0aGUgY3VycmVudCBNYXRyaXggb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB0cmFuc3Bvc2UgLSBXaGV0aGVyIHdlIG5lZWQgdG8gdHJhbnNwb3NlIHRoZSBtYXRyaXggb3Igbm90XG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXQ9bmV3IEZsb2F0MzJBcnJheSg5KV0gLSBJZiBwcm92aWRlZCB0aGUgYXJyYXkgd2lsbCBiZSBhc3NpZ25lZCB0byBvdXRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJbXX0gdGhlIG5ld2x5IGNyZWF0ZWQgYXJyYXkgd2hpY2ggY29udGFpbnMgdGhlIG1hdHJpeFxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICh0cmFuc3Bvc2UsIG91dCkge1xuICAgICAgICBpZiAoIXRoaXMuYXJyYXkpIHtcbiAgICAgICAgICAgIHRoaXMuYXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KDkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcnJheSA9IG91dCB8fCB0aGlzLmFycmF5O1xuICAgICAgICBpZiAodHJhbnNwb3NlKSB7XG4gICAgICAgICAgICBhcnJheVswXSA9IHRoaXMuYTtcbiAgICAgICAgICAgIGFycmF5WzFdID0gdGhpcy5iO1xuICAgICAgICAgICAgYXJyYXlbMl0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbM10gPSB0aGlzLmM7XG4gICAgICAgICAgICBhcnJheVs0XSA9IHRoaXMuZDtcbiAgICAgICAgICAgIGFycmF5WzVdID0gMDtcbiAgICAgICAgICAgIGFycmF5WzZdID0gdGhpcy50eDtcbiAgICAgICAgICAgIGFycmF5WzddID0gdGhpcy50eTtcbiAgICAgICAgICAgIGFycmF5WzhdID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5WzBdID0gdGhpcy5hO1xuICAgICAgICAgICAgYXJyYXlbMV0gPSB0aGlzLmM7XG4gICAgICAgICAgICBhcnJheVsyXSA9IHRoaXMudHg7XG4gICAgICAgICAgICBhcnJheVszXSA9IHRoaXMuYjtcbiAgICAgICAgICAgIGFycmF5WzRdID0gdGhpcy5kO1xuICAgICAgICAgICAgYXJyYXlbNV0gPSB0aGlzLnR5O1xuICAgICAgICAgICAgYXJyYXlbNl0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbN10gPSAwO1xuICAgICAgICAgICAgYXJyYXlbOF0gPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZSB0byB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gcmVuZGVyaW5nKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvcyAtIFRoZSBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtuZXdQb3NdIC0gVGhlIHBvaW50IHRoYXQgdGhlIG5ldyBwb3NpdGlvbiBpcyBhc3NpZ25lZCB0byAoYWxsb3dlZCB0byBiZSBzYW1lIGFzIGlucHV0KVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSBuZXcgcG9pbnQsIHRyYW5zZm9ybWVkIHRocm91Z2ggdGhpcyBtYXRyaXhcbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gKHBvcywgbmV3UG9zKSB7XG4gICAgICAgIG5ld1BvcyA9IChuZXdQb3MgfHwgbmV3IFBvaW50KCkpO1xuICAgICAgICB2YXIgeCA9IHBvcy54O1xuICAgICAgICB2YXIgeSA9IHBvcy55O1xuICAgICAgICBuZXdQb3MueCA9ICh0aGlzLmEgKiB4KSArICh0aGlzLmMgKiB5KSArIHRoaXMudHg7XG4gICAgICAgIG5ld1Bvcy55ID0gKHRoaXMuYiAqIHgpICsgKHRoaXMuZCAqIHkpICsgdGhpcy50eTtcbiAgICAgICAgcmV0dXJuIG5ld1BvcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBpbnZlcnNlIG9mIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZSB0byBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gaW5wdXQpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9zIC0gVGhlIG9yaWdpblxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW25ld1Bvc10gLSBUaGUgcG9pbnQgdGhhdCB0aGUgbmV3IHBvc2l0aW9uIGlzIGFzc2lnbmVkIHRvIChhbGxvd2VkIHRvIGJlIHNhbWUgYXMgaW5wdXQpXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gVGhlIG5ldyBwb2ludCwgaW52ZXJzZS10cmFuc2Zvcm1lZCB0aHJvdWdoIHRoaXMgbWF0cml4XG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5hcHBseUludmVyc2UgPSBmdW5jdGlvbiAocG9zLCBuZXdQb3MpIHtcbiAgICAgICAgbmV3UG9zID0gKG5ld1BvcyB8fCBuZXcgUG9pbnQoKSk7XG4gICAgICAgIHZhciBpZCA9IDEgLyAoKHRoaXMuYSAqIHRoaXMuZCkgKyAodGhpcy5jICogLXRoaXMuYikpO1xuICAgICAgICB2YXIgeCA9IHBvcy54O1xuICAgICAgICB2YXIgeSA9IHBvcy55O1xuICAgICAgICBuZXdQb3MueCA9ICh0aGlzLmQgKiBpZCAqIHgpICsgKC10aGlzLmMgKiBpZCAqIHkpICsgKCgodGhpcy50eSAqIHRoaXMuYykgLSAodGhpcy50eCAqIHRoaXMuZCkpICogaWQpO1xuICAgICAgICBuZXdQb3MueSA9ICh0aGlzLmEgKiBpZCAqIHkpICsgKC10aGlzLmIgKiBpZCAqIHgpICsgKCgoLXRoaXMudHkgKiB0aGlzLmEpICsgKHRoaXMudHggKiB0aGlzLmIpKSAqIGlkKTtcbiAgICAgICAgcmV0dXJuIG5ld1BvcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgdGhlIG1hdHJpeCBvbiB0aGUgeCBhbmQgeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gSG93IG11Y2ggdG8gdHJhbnNsYXRlIHggYnlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIEhvdyBtdWNoIHRvIHRyYW5zbGF0ZSB5IGJ5XG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS50cmFuc2xhdGUgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB0aGlzLnR4ICs9IHg7XG4gICAgICAgIHRoaXMudHkgKz0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgc2NhbGUgdHJhbnNmb3JtYXRpb24gdG8gdGhlIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIGFtb3VudCB0byBzY2FsZSBob3Jpem9udGFsbHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBhbW91bnQgdG8gc2NhbGUgdmVydGljYWxseVxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB0aGlzLmEgKj0geDtcbiAgICAgICAgdGhpcy5kICo9IHk7XG4gICAgICAgIHRoaXMuYyAqPSB4O1xuICAgICAgICB0aGlzLmIgKj0geTtcbiAgICAgICAgdGhpcy50eCAqPSB4O1xuICAgICAgICB0aGlzLnR5ICo9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIHJvdGF0aW9uIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgLSBUaGUgYW5nbGUgaW4gcmFkaWFucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnJvdGF0ZSA9IGZ1bmN0aW9uIChhbmdsZSkge1xuICAgICAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICB2YXIgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG4gICAgICAgIHRoaXMuYSA9IChhMSAqIGNvcykgLSAodGhpcy5iICogc2luKTtcbiAgICAgICAgdGhpcy5iID0gKGExICogc2luKSArICh0aGlzLmIgKiBjb3MpO1xuICAgICAgICB0aGlzLmMgPSAoYzEgKiBjb3MpIC0gKHRoaXMuZCAqIHNpbik7XG4gICAgICAgIHRoaXMuZCA9IChjMSAqIHNpbikgKyAodGhpcy5kICogY29zKTtcbiAgICAgICAgdGhpcy50eCA9ICh0eDEgKiBjb3MpIC0gKHRoaXMudHkgKiBzaW4pO1xuICAgICAgICB0aGlzLnR5ID0gKHR4MSAqIHNpbikgKyAodGhpcy50eSAqIGNvcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBhcHBlbmQuXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGIxID0gdGhpcy5iO1xuICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgICAgIHZhciBkMSA9IHRoaXMuZDtcbiAgICAgICAgdGhpcy5hID0gKG1hdHJpeC5hICogYTEpICsgKG1hdHJpeC5iICogYzEpO1xuICAgICAgICB0aGlzLmIgPSAobWF0cml4LmEgKiBiMSkgKyAobWF0cml4LmIgKiBkMSk7XG4gICAgICAgIHRoaXMuYyA9IChtYXRyaXguYyAqIGExKSArIChtYXRyaXguZCAqIGMxKTtcbiAgICAgICAgdGhpcy5kID0gKG1hdHJpeC5jICogYjEpICsgKG1hdHJpeC5kICogZDEpO1xuICAgICAgICB0aGlzLnR4ID0gKG1hdHJpeC50eCAqIGExKSArIChtYXRyaXgudHkgKiBjMSkgKyB0aGlzLnR4O1xuICAgICAgICB0aGlzLnR5ID0gKG1hdHJpeC50eCAqIGIxKSArIChtYXRyaXgudHkgKiBkMSkgKyB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hdHJpeCBiYXNlZCBvbiBhbGwgdGhlIGF2YWlsYWJsZSBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFBvc2l0aW9uIG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFBvc2l0aW9uIG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl2b3RYIC0gUGl2b3Qgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXZvdFkgLSBQaXZvdCBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWCAtIFNjYWxlIG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVZIC0gU2NhbGUgb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFJvdGF0aW9uIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2tld1ggLSBTa2V3IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2tld1kgLSBTa2V3IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uICh4LCB5LCBwaXZvdFgsIHBpdm90WSwgc2NhbGVYLCBzY2FsZVksIHJvdGF0aW9uLCBza2V3WCwgc2tld1kpIHtcbiAgICAgICAgdGhpcy5hID0gTWF0aC5jb3Mocm90YXRpb24gKyBza2V3WSkgKiBzY2FsZVg7XG4gICAgICAgIHRoaXMuYiA9IE1hdGguc2luKHJvdGF0aW9uICsgc2tld1kpICogc2NhbGVYO1xuICAgICAgICB0aGlzLmMgPSAtTWF0aC5zaW4ocm90YXRpb24gLSBza2V3WCkgKiBzY2FsZVk7XG4gICAgICAgIHRoaXMuZCA9IE1hdGguY29zKHJvdGF0aW9uIC0gc2tld1gpICogc2NhbGVZO1xuICAgICAgICB0aGlzLnR4ID0geCAtICgocGl2b3RYICogdGhpcy5hKSArIChwaXZvdFkgKiB0aGlzLmMpKTtcbiAgICAgICAgdGhpcy50eSA9IHkgLSAoKHBpdm90WCAqIHRoaXMuYikgKyAocGl2b3RZICogdGhpcy5kKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJlcGVuZHMgdGhlIGdpdmVuIE1hdHJpeCB0byB0aGlzIE1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gcHJlcGVuZFxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUucHJlcGVuZCA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG4gICAgICAgIGlmIChtYXRyaXguYSAhPT0gMSB8fCBtYXRyaXguYiAhPT0gMCB8fCBtYXRyaXguYyAhPT0gMCB8fCBtYXRyaXguZCAhPT0gMSkge1xuICAgICAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICAgICAgdGhpcy5hID0gKGExICogbWF0cml4LmEpICsgKHRoaXMuYiAqIG1hdHJpeC5jKTtcbiAgICAgICAgICAgIHRoaXMuYiA9IChhMSAqIG1hdHJpeC5iKSArICh0aGlzLmIgKiBtYXRyaXguZCk7XG4gICAgICAgICAgICB0aGlzLmMgPSAoYzEgKiBtYXRyaXguYSkgKyAodGhpcy5kICogbWF0cml4LmMpO1xuICAgICAgICAgICAgdGhpcy5kID0gKGMxICogbWF0cml4LmIpICsgKHRoaXMuZCAqIG1hdHJpeC5kKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnR4ID0gKHR4MSAqIG1hdHJpeC5hKSArICh0aGlzLnR5ICogbWF0cml4LmMpICsgbWF0cml4LnR4O1xuICAgICAgICB0aGlzLnR5ID0gKHR4MSAqIG1hdHJpeC5iKSArICh0aGlzLnR5ICogbWF0cml4LmQpICsgbWF0cml4LnR5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlY29tcG9zZXMgdGhlIG1hdHJpeCAoeCwgeSwgc2NhbGVYLCBzY2FsZVksIGFuZCByb3RhdGlvbikgYW5kIHNldHMgdGhlIHByb3BlcnRpZXMgb24gdG8gYSB0cmFuc2Zvcm0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSBUaGUgdHJhbnNmb3JtIHRvIGFwcGx5IHRoZSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVHJhbnNmb3JtfSBUaGUgdHJhbnNmb3JtIHdpdGggdGhlIG5ld2x5IGFwcGxpZWQgcHJvcGVydGllc1xuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuZGVjb21wb3NlID0gZnVuY3Rpb24gKHRyYW5zZm9ybSkge1xuICAgICAgICAvLyBzb3J0IG91dCByb3RhdGlvbiAvIHNrZXcuLlxuICAgICAgICB2YXIgYSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGIgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjID0gdGhpcy5jO1xuICAgICAgICB2YXIgZCA9IHRoaXMuZDtcbiAgICAgICAgdmFyIHNrZXdYID0gLU1hdGguYXRhbjIoLWMsIGQpO1xuICAgICAgICB2YXIgc2tld1kgPSBNYXRoLmF0YW4yKGIsIGEpO1xuICAgICAgICB2YXIgZGVsdGEgPSBNYXRoLmFicyhza2V3WCArIHNrZXdZKTtcbiAgICAgICAgaWYgKGRlbHRhIDwgMC4wMDAwMSB8fCBNYXRoLmFicyhQSV8yIC0gZGVsdGEpIDwgMC4wMDAwMSkge1xuICAgICAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uID0gc2tld1k7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gdHJhbnNmb3JtLnNrZXcueSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSAwO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5leHQgc2V0IHNjYWxlXG4gICAgICAgIHRyYW5zZm9ybS5zY2FsZS54ID0gTWF0aC5zcXJ0KChhICogYSkgKyAoYiAqIGIpKTtcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlLnkgPSBNYXRoLnNxcnQoKGMgKiBjKSArIChkICogZCkpO1xuICAgICAgICAvLyBuZXh0IHNldCBwb3NpdGlvblxuICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueCA9IHRoaXMudHg7XG4gICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbi55ID0gdGhpcy50eTtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEludmVydHMgdGhpcyBtYXRyaXhcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuaW52ZXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBiMSA9IHRoaXMuYjtcbiAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICB2YXIgZDEgPSB0aGlzLmQ7XG4gICAgICAgIHZhciB0eDEgPSB0aGlzLnR4O1xuICAgICAgICB2YXIgbiA9IChhMSAqIGQxKSAtIChiMSAqIGMxKTtcbiAgICAgICAgdGhpcy5hID0gZDEgLyBuO1xuICAgICAgICB0aGlzLmIgPSAtYjEgLyBuO1xuICAgICAgICB0aGlzLmMgPSAtYzEgLyBuO1xuICAgICAgICB0aGlzLmQgPSBhMSAvIG47XG4gICAgICAgIHRoaXMudHggPSAoKGMxICogdGhpcy50eSkgLSAoZDEgKiB0eDEpKSAvIG47XG4gICAgICAgIHRoaXMudHkgPSAtKChhMSAqIHRoaXMudHkpIC0gKGIxICogdHgxKSkgLyBuO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGlzIE1hdHJpeCB0byBhbiBpZGVudGl0eSAoZGVmYXVsdCkgbWF0cml4LlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5pZGVudGl0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hID0gMTtcbiAgICAgICAgdGhpcy5iID0gMDtcbiAgICAgICAgdGhpcy5jID0gMDtcbiAgICAgICAgdGhpcy5kID0gMTtcbiAgICAgICAgdGhpcy50eCA9IDA7XG4gICAgICAgIHRoaXMudHkgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgTWF0cml4IG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBBIGNvcHkgb2YgdGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICAgICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgICAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICAgICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICAgICAgbWF0cml4LnR5ID0gdGhpcy50eTtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHZhbHVlcyBvZiB0aGUgZ2l2ZW4gbWF0cml4IHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBvbmVzIGluIHRoaXMgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGNvcHkgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXRyaXggZ2l2ZW4gaW4gcGFyYW1ldGVyIHdpdGggaXRzIHZhbHVlcyB1cGRhdGVkLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuY29weVRvID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICAgICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgICAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICAgICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICAgICAgbWF0cml4LnR5ID0gdGhpcy50eTtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHZhbHVlcyBvZiB0aGUgbWF0cml4IHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBvbmVzIGluIGdpdmVuIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBjb3B5IGZyb20uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IHRoaXNcbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmNvcHlGcm9tID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICB0aGlzLmEgPSBtYXRyaXguYTtcbiAgICAgICAgdGhpcy5iID0gbWF0cml4LmI7XG4gICAgICAgIHRoaXMuYyA9IG1hdHJpeC5jO1xuICAgICAgICB0aGlzLmQgPSBtYXRyaXguZDtcbiAgICAgICAgdGhpcy50eCA9IG1hdHJpeC50eDtcbiAgICAgICAgdGhpcy50eSA9IG1hdHJpeC50eTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4LCBcIklERU5USVRZXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZGVmYXVsdCAoaWRlbnRpdHkpIG1hdHJpeFxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXgsIFwiVEVNUF9NQVRSSVhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB0ZW1wIG1hdHJpeFxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBNYXRyaXg7XG59KCkpO1xuXG4vLyBZb3VyIGZyaWVuZGx5IG5laWdoYm91ciBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9EaWhlZHJhbF9ncm91cFxuLypcbiAqIFRyYW5zZm9ybSBtYXRyaXggZm9yIG9wZXJhdGlvbiBuIGlzOlxuICogfCB1eCB8IHZ4IHxcbiAqIHwgdXkgfCB2eSB8XG4gKi9cbnZhciB1eCA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxXTtcbnZhciB1eSA9IFswLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbnZhciB2eCA9IFswLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbnZhciB2eSA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xXTtcbi8qKlxuICogW0NheWxleSBUYWJsZV17QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2F5bGV5X3RhYmxlfVxuICogZm9yIHRoZSBjb21wb3NpdGlvbiBvZiBlYWNoIHJvdGF0aW9uIGluIHRoZSBkaWhlZGVyYWwgZ3JvdXAgRDguXG4gKlxuICogQHR5cGUgbnVtYmVyW11bXVxuICogQHByaXZhdGVcbiAqL1xudmFyIHJvdGF0aW9uQ2F5bGV5ID0gW107XG4vKipcbiAqIE1hdHJpY2VzIGZvciBlYWNoIGBHRDhTeW1tZXRyeWAgcm90YXRpb24uXG4gKlxuICogQHR5cGUgTWF0cml4W11cbiAqIEBwcml2YXRlXG4gKi9cbnZhciByb3RhdGlvbk1hdHJpY2VzID0gW107XG4vKlxuICogQWxpYXMgZm9yIHtAY29kZSBNYXRoLnNpZ259LlxuICovXG52YXIgc2lnbnVtID0gTWF0aC5zaWduO1xuLypcbiAqIEluaXRpYWxpemVzIGByb3RhdGlvbkNheWxleWAgYW5kIGByb3RhdGlvbk1hdHJpY2VzYC4gSXQgaXMgY2FsbGVkXG4gKiBvbmx5IG9uY2UgYmVsb3cuXG4gKi9cbmZ1bmN0aW9uIGluaXQoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgIHZhciByb3cgPSBbXTtcbiAgICAgICAgcm90YXRpb25DYXlsZXkucHVzaChyb3cpO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDE2OyBqKyspIHtcbiAgICAgICAgICAgIC8qIE11bHRpcGxpZXMgcm90YXRpb24gbWF0cmljZXMgaSBhbmQgai4gKi9cbiAgICAgICAgICAgIHZhciBfdXggPSBzaWdudW0oKHV4W2ldICogdXhbal0pICsgKHZ4W2ldICogdXlbal0pKTtcbiAgICAgICAgICAgIHZhciBfdXkgPSBzaWdudW0oKHV5W2ldICogdXhbal0pICsgKHZ5W2ldICogdXlbal0pKTtcbiAgICAgICAgICAgIHZhciBfdnggPSBzaWdudW0oKHV4W2ldICogdnhbal0pICsgKHZ4W2ldICogdnlbal0pKTtcbiAgICAgICAgICAgIHZhciBfdnkgPSBzaWdudW0oKHV5W2ldICogdnhbal0pICsgKHZ5W2ldICogdnlbal0pKTtcbiAgICAgICAgICAgIC8qIEZpbmRzIHJvdGF0aW9uIG1hdHJpeCBtYXRjaGluZyB0aGUgcHJvZHVjdCBhbmQgcHVzaGVzIGl0LiAqL1xuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCAxNjsgaysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHV4W2tdID09PSBfdXggJiYgdXlba10gPT09IF91eVxuICAgICAgICAgICAgICAgICAgICAmJiB2eFtrXSA9PT0gX3Z4ICYmIHZ5W2tdID09PSBfdnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcm93LnB1c2goayk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgdmFyIG1hdCA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgbWF0LnNldCh1eFtpXSwgdXlbaV0sIHZ4W2ldLCB2eVtpXSwgMCwgMCk7XG4gICAgICAgIHJvdGF0aW9uTWF0cmljZXMucHVzaChtYXQpO1xuICAgIH1cbn1cbmluaXQoKTtcbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtudW1iZXJ9IEdEOFN5bW1ldHJ5XG4gKiBAc2VlIFBJWEkuZ3JvdXBEOFxuICovXG4vKipcbiAqIEltcGxlbWVudHMgdGhlIGRpaGVkcmFsIGdyb3VwIEQ4LCB3aGljaCBpcyBzaW1pbGFyIHRvXG4gKiBbZ3JvdXAgRDRde0BsaW5rIGh0dHA6Ly9tYXRod29ybGQud29sZnJhbS5jb20vRGloZWRyYWxHcm91cEQ0Lmh0bWx9O1xuICogRDggaXMgdGhlIHNhbWUgYnV0IHdpdGggZGlhZ29uYWxzLCBhbmQgaXQgaXMgdXNlZCBmb3IgdGV4dHVyZVxuICogcm90YXRpb25zLlxuICpcbiAqIFRoZSBkaXJlY3Rpb25zIHRoZSBVLSBhbmQgVi0gYXhlcyBhZnRlciByb3RhdGlvblxuICogb2YgYW4gYW5nbGUgb2YgYGE6IEdEOENvbnN0YW50YCBhcmUgdGhlIHZlY3RvcnMgYCh1WChhKSwgdVkoYSkpYFxuICogYW5kIGAodlgoYSksIHZZKGEpKWAuIFRoZXNlIGFyZW4ndCBuZWNlc3NhcmlseSB1bml0IHZlY3RvcnMuXG4gKlxuICogKipPcmlnaW46Kio8YnI+XG4gKiAgVGhpcyBpcyB0aGUgc21hbGwgcGFydCBvZiBnYW1lb2Zib21icy5jb20gcG9ydGFsIHN5c3RlbS4gSXQgd29ya3MuXG4gKlxuICogQHNlZSBQSVhJLmdyb3VwRDguRVxuICogQHNlZSBQSVhJLmdyb3VwRDguU0VcbiAqIEBzZWUgUElYSS5ncm91cEQ4LlNcbiAqIEBzZWUgUElYSS5ncm91cEQ4LlNXXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5XXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5OV1xuICogQHNlZSBQSVhJLmdyb3VwRDguTlxuICogQHNlZSBQSVhJLmdyb3VwRDguTkVcbiAqIEBhdXRob3IgSXZhbiBAaXZhbnBvcGVseXNoZXZcbiAqIEBuYW1lc3BhY2UgUElYSS5ncm91cEQ4XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgZ3JvdXBEOCA9IHtcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDDCsCAgICAgICB8IEVhc3QgICAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIEU6IDAsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCA0NcKw4oa7ICAgICB8IFNvdXRoZWFzdCB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFNFOiAxLFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgOTDCsOKGuyAgICAgfCBTb3V0aCAgICAgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBTOiAyLFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgMTM1wrDihrsgICAgfCBTb3V0aHdlc3QgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBTVzogMyxcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDE4MMKwICAgICB8IFdlc3QgICAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFc6IDQsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiAgICB8IERpcmVjdGlvbiAgICB8XG4gICAgICogfC0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS18XG4gICAgICogfCAtMTM1wrAvMjI1wrDihrsgfCBOb3J0aHdlc3QgICAgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBOVzogNSxcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uICAgIHwgRGlyZWN0aW9uICAgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLXxcbiAgICAgKiB8IC05MMKwLzI3MMKw4oa7ICB8IE5vcnRoICAgICAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE46IDYsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiAgICB8IERpcmVjdGlvbiAgICB8XG4gICAgICogfC0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS18XG4gICAgICogfCAtNDXCsC8zMTXCsOKGuyAgfCBOb3J0aGVhc3QgICAgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBORTogNyxcbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IFktYXhpcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTUlSUk9SX1ZFUlRJQ0FMOiA4LFxuICAgIC8qKlxuICAgICAqIFJlZmxlY3Rpb24gYWJvdXQgdGhlIG1haW4gZGlhZ29uYWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE1BSU5fRElBR09OQUw6IDEwLFxuICAgIC8qKlxuICAgICAqIFJlZmxlY3Rpb24gYWJvdXQgWC1heGlzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBNSVJST1JfSE9SSVpPTlRBTDogMTIsXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCByZXZlcnNlIGRpYWdvbmFsLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBSRVZFUlNFX0RJQUdPTkFMOiAxNCxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIFgtY29tcG9uZW50IG9mIHRoZSBVLWF4aXNcbiAgICAgKiAgICBhZnRlciByb3RhdGluZyB0aGUgYXhlcy5cbiAgICAgKi9cbiAgICB1WDogZnVuY3Rpb24gKGluZCkgeyByZXR1cm4gdXhbaW5kXTsgfSxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIFktY29tcG9uZW50IG9mIHRoZSBVLWF4aXNcbiAgICAgKiAgICBhZnRlciByb3RhdGluZyB0aGUgYXhlcy5cbiAgICAgKi9cbiAgICB1WTogZnVuY3Rpb24gKGluZCkgeyByZXR1cm4gdXlbaW5kXTsgfSxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIFgtY29tcG9uZW50IG9mIHRoZSBWLWF4aXNcbiAgICAgKiAgICBhZnRlciByb3RhdGluZyB0aGUgYXhlcy5cbiAgICAgKi9cbiAgICB2WDogZnVuY3Rpb24gKGluZCkgeyByZXR1cm4gdnhbaW5kXTsgfSxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIFktY29tcG9uZW50IG9mIHRoZSBWLWF4aXNcbiAgICAgKiAgICBhZnRlciByb3RhdGluZyB0aGUgYXhlcy5cbiAgICAgKi9cbiAgICB2WTogZnVuY3Rpb24gKGluZCkgeyByZXR1cm4gdnlbaW5kXTsgfSxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbiAtIHN5bW1ldHJ5IHdob3NlIG9wcG9zaXRlXG4gICAgICogICBpcyBuZWVkZWQuIE9ubHkgcm90YXRpb25zIGhhdmUgb3Bwb3NpdGUgc3ltbWV0cmllcyB3aGlsZVxuICAgICAqICAgcmVmbGVjdGlvbnMgZG9uJ3QuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIG9wcG9zaXRlIHN5bW1ldHJ5IG9mIGByb3RhdGlvbmBcbiAgICAgKi9cbiAgICBpbnY6IGZ1bmN0aW9uIChyb3RhdGlvbikge1xuICAgICAgICBpZiAocm90YXRpb24gJiA4KSAvLyB0cnVlIG9ubHkgaWYgYmV0d2VlbiA4ICYgMTUgKHJlZmxlY3Rpb25zKVxuICAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHJvdGF0aW9uICYgMTU7IC8vIG9yIHJvdGF0aW9uICUgMTZcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKC1yb3RhdGlvbikgJiA3OyAvLyBvciAoOCAtIHJvdGF0aW9uKSAlIDhcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENvbXBvc2VzIHRoZSB0d28gRDggb3BlcmF0aW9ucy5cbiAgICAgKlxuICAgICAqIFRha2luZyBgXmAgYXMgcmVmbGVjdGlvbjpcbiAgICAgKlxuICAgICAqIHwgICAgICAgfCBFPTAgfCBTPTIgfCBXPTQgfCBOPTYgfCBFXj04IHwgU149MTAgfCBXXj0xMiB8IE5ePTE0IHxcbiAgICAgKiB8LS0tLS0tLXwtLS0tLXwtLS0tLXwtLS0tLXwtLS0tLXwtLS0tLS18LS0tLS0tLXwtLS0tLS0tfC0tLS0tLS18XG4gICAgICogfCBFPTAgICB8IEUgICB8IFMgICB8IFcgICB8IE4gICB8IEVeICAgfCBTXiAgICB8IFdeICAgIHwgTl4gICAgfFxuICAgICAqIHwgUz0yICAgfCBTICAgfCBXICAgfCBOICAgfCBFICAgfCBTXiAgIHwgV14gICAgfCBOXiAgICB8IEVeICAgIHxcbiAgICAgKiB8IFc9NCAgIHwgVyAgIHwgTiAgIHwgRSAgIHwgUyAgIHwgV14gICB8IE5eICAgIHwgRV4gICAgfCBTXiAgICB8XG4gICAgICogfCBOPTYgICB8IE4gICB8IEUgICB8IFMgICB8IFcgICB8IE5eICAgfCBFXiAgICB8IFNeICAgIHwgV14gICAgfFxuICAgICAqIHwgRV49OCAgfCBFXiAgfCBOXiAgfCBXXiAgfCBTXiAgfCBFICAgIHwgTiAgICAgfCBXICAgICB8IFMgICAgIHxcbiAgICAgKiB8IFNePTEwIHwgU14gIHwgRV4gIHwgTl4gIHwgV14gIHwgUyAgICB8IEUgICAgIHwgTiAgICAgfCBXICAgICB8XG4gICAgICogfCBXXj0xMiB8IFdeICB8IFNeICB8IEVeICB8IE5eICB8IFcgICAgfCBTICAgICB8IEUgICAgIHwgTiAgICAgfFxuICAgICAqIHwgTl49MTQgfCBOXiAgfCBXXiAgfCBTXiAgfCBFXiAgfCBOICAgIHwgVyAgICAgfCBTICAgICB8IEUgICAgIHxcbiAgICAgKlxuICAgICAqIFtUaGlzIGlzIGEgQ2F5bGV5IHRhYmxlXXtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYXlsZXlfdGFibGV9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb25TZWNvbmQgLSBTZWNvbmQgb3BlcmF0aW9uLCB3aGljaFxuICAgICAqICAgaXMgdGhlIHJvdyBpbiB0aGUgYWJvdmUgY2F5bGV5IHRhYmxlLlxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb25GaXJzdCAtIEZpcnN0IG9wZXJhdGlvbiwgd2hpY2hcbiAgICAgKiAgIGlzIHRoZSBjb2x1bW4gaW4gdGhlIGFib3ZlIGNheWxleSB0YWJsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBDb21wb3NlZCBvcGVyYXRpb25cbiAgICAgKi9cbiAgICBhZGQ6IGZ1bmN0aW9uIChyb3RhdGlvblNlY29uZCwgcm90YXRpb25GaXJzdCkgeyByZXR1cm4gKHJvdGF0aW9uQ2F5bGV5W3JvdGF0aW9uU2Vjb25kXVtyb3RhdGlvbkZpcnN0XSk7IH0sXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZSBvZiBgYWRkYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uU2Vjb25kIC0gU2Vjb25kIG9wZXJhdGlvblxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb25GaXJzdCAtIEZpcnN0IG9wZXJhdGlvblxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFJlc3VsdFxuICAgICAqL1xuICAgIHN1YjogZnVuY3Rpb24gKHJvdGF0aW9uU2Vjb25kLCByb3RhdGlvbkZpcnN0KSB7IHJldHVybiAocm90YXRpb25DYXlsZXlbcm90YXRpb25TZWNvbmRdW2dyb3VwRDguaW52KHJvdGF0aW9uRmlyc3QpXSk7IH0sXG4gICAgLyoqXG4gICAgICogQWRkcyAxODAgZGVncmVlcyB0byByb3RhdGlvbiwgd2hpY2ggaXMgYSBjb21tdXRhdGl2ZVxuICAgICAqIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBUaGUgbnVtYmVyIHRvIHJvdGF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSb3RhdGVkIG51bWJlclxuICAgICAqL1xuICAgIHJvdGF0ZTE4MDogZnVuY3Rpb24gKHJvdGF0aW9uKSB7IHJldHVybiByb3RhdGlvbiBeIDQ7IH0sXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSByb3RhdGlvbiBhbmdsZSBpcyB2ZXJ0aWNhbCwgaS5lLiBzb3V0aFxuICAgICAqIG9yIG5vcnRoLiBJdCBkb2Vzbid0IHdvcmsgZm9yIHJlZmxlY3Rpb25zLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb24gLSBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgZGlyZWN0aW9uIGlzIHZlcnRpY2FsXG4gICAgICovXG4gICAgaXNWZXJ0aWNhbDogZnVuY3Rpb24gKHJvdGF0aW9uKSB7IHJldHVybiAocm90YXRpb24gJiAzKSA9PT0gMjsgfSxcbiAgICAvKipcbiAgICAgKiBBcHByb3hpbWF0ZXMgdGhlIHZlY3RvciBgVihkeCxkeSlgIGludG8gb25lIG9mIHRoZVxuICAgICAqIGVpZ2h0IGRpcmVjdGlvbnMgcHJvdmlkZWQgYnkgYGdyb3VwRDhgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeCAtIFgtY29tcG9uZW50IG9mIHRoZSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZHkgLSBZLWNvbXBvbmVudCBvZiB0aGUgdmVjdG9yXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gQXBwcm94aW1hdGlvbiBvZiB0aGUgdmVjdG9yIGludG9cbiAgICAgKiAgb25lIG9mIHRoZSBlaWdodCBzeW1tZXRyaWVzLlxuICAgICAqL1xuICAgIGJ5RGlyZWN0aW9uOiBmdW5jdGlvbiAoZHgsIGR5KSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhkeCkgKiAyIDw9IE1hdGguYWJzKGR5KSkge1xuICAgICAgICAgICAgaWYgKGR5ID49IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5TO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguTjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChNYXRoLmFicyhkeSkgKiAyIDw9IE1hdGguYWJzKGR4KSkge1xuICAgICAgICAgICAgaWYgKGR4ID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBncm91cEQ4LkU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5XO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGR5ID4gMCkge1xuICAgICAgICAgICAgaWYgKGR4ID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBncm91cEQ4LlNFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguU1c7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5ORTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ3JvdXBEOC5OVztcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEhlbHBzIHNwcml0ZSB0byBjb21wZW5zYXRlIHRleHR1cmUgcGFja2VyIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIHNwcml0ZSB3b3JsZCBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uIC0gVGhlIHJvdGF0aW9uIGZhY3RvciB0byB1c2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR4IC0gc3ByaXRlIGFuY2hvcmluZ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eSAtIHNwcml0ZSBhbmNob3JpbmdcbiAgICAgKi9cbiAgICBtYXRyaXhBcHBlbmRSb3RhdGlvbkludjogZnVuY3Rpb24gKG1hdHJpeCwgcm90YXRpb24sIHR4LCB0eSkge1xuICAgICAgICBpZiAodHggPT09IHZvaWQgMCkgeyB0eCA9IDA7IH1cbiAgICAgICAgaWYgKHR5ID09PSB2b2lkIDApIHsgdHkgPSAwOyB9XG4gICAgICAgIC8vIFBhY2tlciB1c2VkIFwicm90YXRpb25cIiwgd2UgdXNlIFwiaW52KHJvdGF0aW9uKVwiXG4gICAgICAgIHZhciBtYXQgPSByb3RhdGlvbk1hdHJpY2VzW2dyb3VwRDguaW52KHJvdGF0aW9uKV07XG4gICAgICAgIG1hdC50eCA9IHR4O1xuICAgICAgICBtYXQudHkgPSB0eTtcbiAgICAgICAgbWF0cml4LmFwcGVuZChtYXQpO1xuICAgIH0sXG59O1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGF0IHRha2VzIGNhcmUgYWJvdXQgaXRzIHZlcnNpb25zXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVHJhbnNmb3JtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRyYW5zZm9ybSgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3b3JsZCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybSA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb2NhbFRyYW5zZm9ybSA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy5vbkNoYW5nZSwgdGhpcywgMCwgMCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgZmFjdG9yIG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZSA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy5vbkNoYW5nZSwgdGhpcywgMSwgMSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBpdm90ID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBza2V3IGFtb3VudCwgb24gdGhlIHggYW5kIHkgYXhpcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNrZXcgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMudXBkYXRlU2tldywgdGhpcywgMCwgMCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm90YXRpb24gYW1vdW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JvdGF0aW9uID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBYLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWCBheGlzLFxuICAgICAgICAgKiB0aGUgZmlyc3QgY29sdW1uIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggd2l0aG91dCBhIHNjYWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2N4ID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBZLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWCBheGlzLFxuICAgICAgICAgKiB0aGUgZmlyc3QgY29sdW1uIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggd2l0aG91dCBhIHNjYWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N4ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBYLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWSBheGlzLFxuICAgICAgICAgKiB0aGUgc2Vjb25kIGNvbHVtbiBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4IHdpdGhvdXQgYSBzY2FsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jeSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgWS1jb29yZGluYXRlIHZhbHVlIG9mIHRoZSBub3JtYWxpemVkIGxvY2FsIFkgYXhpcyxcbiAgICAgICAgICogdGhlIHNlY29uZCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3kgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsbHkgdW5pcXVlIElEIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9jYWxJRCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIGxvY2FsIHRyYW5zZm9ybVxuICAgICAgICAgKiB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgY3VycmVudCBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsbHkgdW5pcXVlIElEIG9mIHRoZSB3b3JsZCB0cmFuc2Zvcm0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd29ybGRJRCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIHBhcmVudCdzIHdvcmxkIHRyYW5zZm9ybVxuICAgICAgICAgKiB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgY3VycmVudCB3b3JsZCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBhIHZhbHVlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVHJhbnNmb3JtLnByb3RvdHlwZS5vbkNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fbG9jYWxJRCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIHNrZXcgb3IgdGhlIHJvdGF0aW9uIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVTa2V3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9jeCA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3LnkpO1xuICAgICAgICB0aGlzLl9zeCA9IE1hdGguc2luKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3LnkpO1xuICAgICAgICB0aGlzLl9jeSA9IC1NYXRoLnNpbih0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy54KTsgLy8gY29zLCBhZGRlZCBQSS8yXG4gICAgICAgIHRoaXMuX3N5ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gLSB0aGlzLnNrZXcueCk7IC8vIHNpbiwgYWRkZWQgUEkvMlxuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICovXG4gICAgVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVMb2NhbFRyYW5zZm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcbiAgICAgICAgaWYgKHRoaXMuX2xvY2FsSUQgIT09IHRoaXMuX2N1cnJlbnRMb2NhbElEKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIG1hdHJpeCB2YWx1ZXMgb2YgdGhlIGRpc3BsYXlvYmplY3QgYmFzZWQgb24gaXRzIHRyYW5zZm9ybSBwcm9wZXJ0aWVzLi5cbiAgICAgICAgICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUueDtcbiAgICAgICAgICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUueDtcbiAgICAgICAgICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUueTtcbiAgICAgICAgICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUueTtcbiAgICAgICAgICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi54IC0gKCh0aGlzLnBpdm90LnggKiBsdC5hKSArICh0aGlzLnBpdm90LnkgKiBsdC5jKSk7XG4gICAgICAgICAgICBsdC50eSA9IHRoaXMucG9zaXRpb24ueSAtICgodGhpcy5waXZvdC54ICogbHQuYikgKyAodGhpcy5waXZvdC55ICogbHQuZCkpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSB0aGlzLl9sb2NhbElEO1xuICAgICAgICAgICAgLy8gZm9yY2UgYW4gdXBkYXRlLi5cbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gLTE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGxvY2FsIGFuZCB0aGUgd29ybGQgdHJhbnNmb3JtYXRpb24gbWF0cmljZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSBwYXJlbnRUcmFuc2Zvcm0gLSBUaGUgcGFyZW50IHRyYW5zZm9ybVxuICAgICAqL1xuICAgIFRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKHBhcmVudFRyYW5zZm9ybSkge1xuICAgICAgICB2YXIgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICBpZiAodGhpcy5fbG9jYWxJRCAhPT0gdGhpcy5fY3VycmVudExvY2FsSUQpIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgbWF0cml4IHZhbHVlcyBvZiB0aGUgZGlzcGxheW9iamVjdCBiYXNlZCBvbiBpdHMgdHJhbnNmb3JtIHByb3BlcnRpZXMuLlxuICAgICAgICAgICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS54O1xuICAgICAgICAgICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS54O1xuICAgICAgICAgICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS55O1xuICAgICAgICAgICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS55O1xuICAgICAgICAgICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLnggLSAoKHRoaXMucGl2b3QueCAqIGx0LmEpICsgKHRoaXMucGl2b3QueSAqIGx0LmMpKTtcbiAgICAgICAgICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi55IC0gKCh0aGlzLnBpdm90LnggKiBsdC5iKSArICh0aGlzLnBpdm90LnkgKiBsdC5kKSk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IHRoaXMuX2xvY2FsSUQ7XG4gICAgICAgICAgICAvLyBmb3JjZSBhbiB1cGRhdGUuLlxuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcGFyZW50SUQgIT09IHBhcmVudFRyYW5zZm9ybS5fd29ybGRJRCkge1xuICAgICAgICAgICAgLy8gY29uY2F0IHRoZSBwYXJlbnQgbWF0cml4IHdpdGggdGhlIG9iamVjdHMgdHJhbnNmb3JtLlxuICAgICAgICAgICAgdmFyIHB0ID0gcGFyZW50VHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICAgICAgdmFyIHd0ID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgICAgIHd0LmEgPSAobHQuYSAqIHB0LmEpICsgKGx0LmIgKiBwdC5jKTtcbiAgICAgICAgICAgIHd0LmIgPSAobHQuYSAqIHB0LmIpICsgKGx0LmIgKiBwdC5kKTtcbiAgICAgICAgICAgIHd0LmMgPSAobHQuYyAqIHB0LmEpICsgKGx0LmQgKiBwdC5jKTtcbiAgICAgICAgICAgIHd0LmQgPSAobHQuYyAqIHB0LmIpICsgKGx0LmQgKiBwdC5kKTtcbiAgICAgICAgICAgIHd0LnR4ID0gKGx0LnR4ICogcHQuYSkgKyAobHQudHkgKiBwdC5jKSArIHB0LnR4O1xuICAgICAgICAgICAgd3QudHkgPSAobHQudHggKiBwdC5iKSArIChsdC50eSAqIHB0LmQpICsgcHQudHk7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IHBhcmVudFRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgaWQgb2YgdGhlIHRyYW5zZm9ybS4uXG4gICAgICAgICAgICB0aGlzLl93b3JsZElEKys7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlY29tcG9zZXMgYSBtYXRyaXggYW5kIHNldHMgdGhlIHRyYW5zZm9ybXMgcHJvcGVydGllcyBiYXNlZCBvbiBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gZGVjb21wb3NlXG4gICAgICovXG4gICAgVHJhbnNmb3JtLnByb3RvdHlwZS5zZXRGcm9tTWF0cml4ID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICBtYXRyaXguZGVjb21wb3NlKHRoaXMpO1xuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJhbnNmb3JtLnByb3RvdHlwZSwgXCJyb3RhdGlvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yb3RhdGlvbiAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2tldygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQSBkZWZhdWx0IChpZGVudGl0eSkgdHJhbnNmb3JtXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgVHJhbnNmb3JtLklERU5USVRZID0gbmV3IFRyYW5zZm9ybSgpO1xuICAgIHJldHVybiBUcmFuc2Zvcm07XG59KCkpO1xuXG4vKipcbiAqIE1hdGggY2xhc3NlcyBhbmQgdXRpbGl0aWVzIG1peGVkIGludG8gUElYSSBuYW1lc3BhY2UuXG4gKlxuICogQGxlbmRzIFBJWElcbiAqL1xuXG5leHBvcnQgeyBDaXJjbGUsIERFR19UT19SQUQsIEVsbGlwc2UsIE1hdHJpeCwgT2JzZXJ2YWJsZVBvaW50LCBQSV8yLCBQb2ludCwgUG9seWdvbiwgUkFEX1RPX0RFRywgUmVjdGFuZ2xlLCBSb3VuZGVkUmVjdGFuZ2xlLCBTSEFQRVMsIFRyYW5zZm9ybSwgZ3JvdXBEOCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0aC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZGlzcGxheSAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9kaXNwbGF5IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUsIFRyYW5zZm9ybSwgUkFEX1RPX0RFRywgREVHX1RPX1JBRCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyLCByZW1vdmVJdGVtcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBTZXRzIHRoZSBkZWZhdWx0IHZhbHVlIGZvciB0aGUgY29udGFpbmVyIHByb3BlcnR5ICdzb3J0YWJsZUNoaWxkcmVuJy5cbiAqIElmIHNldCB0byB0cnVlLCB0aGUgY29udGFpbmVyIHdpbGwgc29ydCBpdHMgY2hpbGRyZW4gYnkgekluZGV4IHZhbHVlXG4gKiB3aGVuIHVwZGF0ZVRyYW5zZm9ybSgpIGlzIGNhbGxlZCwgb3IgbWFudWFsbHkgaWYgc29ydENoaWxkcmVuKCkgaXMgY2FsbGVkLlxuICpcbiAqIFRoaXMgYWN0dWFsbHkgY2hhbmdlcyB0aGUgb3JkZXIgb2YgZWxlbWVudHMgaW4gdGhlIGFycmF5LCBzbyBzaG91bGQgYmUgdHJlYXRlZFxuICogYXMgYSBiYXNpYyBzb2x1dGlvbiB0aGF0IGlzIG5vdCBwZXJmb3JtYW50IGNvbXBhcmVkIHRvIG90aGVyIHNvbHV0aW9ucyxcbiAqIHN1Y2ggYXMgQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWRpc3BsYXlcbiAqXG4gKiBBbHNvIGJlIGF3YXJlIG9mIHRoYXQgdGhpcyBtYXkgbm90IHdvcmsgbmljZWx5IHdpdGggdGhlIGFkZENoaWxkQXQoKSBmdW5jdGlvbixcbiAqIGFzIHRoZSB6SW5kZXggc29ydGluZyBtYXkgY2F1c2UgdGhlIGNoaWxkIHRvIGF1dG9tYXRpY2FsbHkgc29ydGVkIHRvIGFub3RoZXIgcG9zaXRpb24uXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBTT1JUQUJMRV9DSElMRFJFTlxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtib29sZWFufVxuICogQGRlZmF1bHQgZmFsc2VcbiAqL1xuc2V0dGluZ3MuU09SVEFCTEVfQ0hJTERSRU4gPSBmYWxzZTtcblxuLyoqXG4gKiAnQnVpbGRlcicgcGF0dGVybiBmb3IgYm91bmRzIHJlY3RhbmdsZXMuXG4gKlxuICogVGhpcyBjb3VsZCBiZSBjYWxsZWQgYW4gQXhpcy1BbGlnbmVkIEJvdW5kaW5nIEJveC5cbiAqIEl0IGlzIG5vdCBhbiBhY3R1YWwgc2hhcGUuIEl0IGlzIGEgbXV0YWJsZSB0aGluZzsgbm8gJ0VNUFRZJyBvciB0aG9zZSBraW5kIG9mIHByb2JsZW1zLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJvdW5kcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCb3VuZHMoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWluWCA9IEluZmluaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pblkgPSBJbmZpbml0eTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heFkgPSAtSW5maW5pdHk7XG4gICAgICAgIHRoaXMucmVjdCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJdCBpcyB1cGRhdGVkIHRvIF9ib3VuZHNJRCBvZiBjb3JyZXNwb25kaW5nIG9iamVjdCB0byBrZWVwIGJvdW5kcyBpbiBzeW5jIHdpdGggY29udGVudC5cbiAgICAgICAgICogVXBkYXRlZCBmcm9tIG91dHNpZGUsIHRodXMgcHVibGljIG1vZGlmaWVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBkYXRlSUQgPSAtMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGJvdW5kcyBhcmUgZW1wdHkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGVtcHR5LlxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGJvdW5kcyBhbmQgcmVzZXRzLlxuICAgICAqXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWluWSA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFggPSAtSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbiByZXR1cm4gUmVjdGFuZ2xlLkVNUFRZIGNvbnN0YW50LCBlaXRoZXIgY29uc3RydWN0IG5ldyByZWN0YW5nbGUsIGVpdGhlciB1c2UgeW91ciByZWN0YW5nbGVcbiAgICAgKiBJdCBpcyBub3QgZ3VhcmFudGVlZCB0aGF0IGl0IHdpbGwgcmV0dXJuIHRlbXBSZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gdGVtcG9yYXJ5IG9iamVjdCB3aWxsIGJlIHVzZWQgaWYgQUFCQiBpcyBub3QgZW1wdHlcbiAgICAgKiBAcmV0dXJucyB7UElYSS5SZWN0YW5nbGV9IEEgcmVjdGFuZ2xlIG9mIHRoZSBib3VuZHNcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmdldFJlY3RhbmdsZSA9IGZ1bmN0aW9uIChyZWN0KSB7XG4gICAgICAgIGlmICh0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVjdGFuZ2xlLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIHJlY3QgPSByZWN0IHx8IG5ldyBSZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG4gICAgICAgIHJlY3QueCA9IHRoaXMubWluWDtcbiAgICAgICAgcmVjdC55ID0gdGhpcy5taW5ZO1xuICAgICAgICByZWN0LndpZHRoID0gdGhpcy5tYXhYIC0gdGhpcy5taW5YO1xuICAgICAgICByZWN0LmhlaWdodCA9IHRoaXMubWF4WSAtIHRoaXMubWluWTtcbiAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBpbmxpbmVkIHdoZW4gaXRzIHBvc3NpYmxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvaW50IC0gVGhlIHBvaW50IHRvIGFkZC5cbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFBvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIHRoaXMubWluWCA9IE1hdGgubWluKHRoaXMubWluWCwgcG9pbnQueCk7XG4gICAgICAgIHRoaXMubWF4WCA9IE1hdGgubWF4KHRoaXMubWF4WCwgcG9pbnQueCk7XG4gICAgICAgIHRoaXMubWluWSA9IE1hdGgubWluKHRoaXMubWluWSwgcG9pbnQueSk7XG4gICAgICAgIHRoaXMubWF4WSA9IE1hdGgubWF4KHRoaXMubWF4WSwgcG9pbnQueSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcXVhZCwgbm90IHRyYW5zZm9ybWVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGljZXMgLSBUaGUgdmVydHMgdG8gYWRkLlxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkUXVhZCA9IGZ1bmN0aW9uICh2ZXJ0aWNlcykge1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcbiAgICAgICAgdmFyIHggPSB2ZXJ0aWNlc1swXTtcbiAgICAgICAgdmFyIHkgPSB2ZXJ0aWNlc1sxXTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHggPSB2ZXJ0aWNlc1syXTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzNdO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgeCA9IHZlcnRpY2VzWzRdO1xuICAgICAgICB5ID0gdmVydGljZXNbNV07XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB4ID0gdmVydGljZXNbNl07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1s3XTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IG1heFk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHNwcml0ZSBmcmFtZSwgdHJhbnNmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSB0cmFuc2Zvcm0gdG8gYXBwbHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDAgLSBsZWZ0IFggb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTAgLSB0b3AgWSBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIHJpZ2h0IFggb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBib3R0b20gWSBvZiBmcmFtZVxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkRnJhbWUgPSBmdW5jdGlvbiAodHJhbnNmb3JtLCB4MCwgeTAsIHgxLCB5MSkge1xuICAgICAgICB0aGlzLmFkZEZyYW1lTWF0cml4KHRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSwgeDAsIHkwLCB4MSwgeTEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBzcHJpdGUgZnJhbWUsIG11bHRpcGxpZWQgYnkgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBtYXRyaXggdG8gYXBwbHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDAgLSBsZWZ0IFggb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTAgLSB0b3AgWSBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIHJpZ2h0IFggb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBib3R0b20gWSBvZiBmcmFtZVxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkRnJhbWVNYXRyaXggPSBmdW5jdGlvbiAobWF0cml4LCB4MCwgeTAsIHgxLCB5MSkge1xuICAgICAgICB2YXIgYSA9IG1hdHJpeC5hO1xuICAgICAgICB2YXIgYiA9IG1hdHJpeC5iO1xuICAgICAgICB2YXIgYyA9IG1hdHJpeC5jO1xuICAgICAgICB2YXIgZCA9IG1hdHJpeC5kO1xuICAgICAgICB2YXIgdHggPSBtYXRyaXgudHg7XG4gICAgICAgIHZhciB0eSA9IG1hdHJpeC50eTtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgIHZhciB4ID0gKGEgKiB4MCkgKyAoYyAqIHkwKSArIHR4O1xuICAgICAgICB2YXIgeSA9IChiICogeDApICsgKGQgKiB5MCkgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHggPSAoYSAqIHgxKSArIChjICogeTApICsgdHg7XG4gICAgICAgIHkgPSAoYiAqIHgxKSArIChkICogeTApICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB4ID0gKGEgKiB4MCkgKyAoYyAqIHkxKSArIHR4O1xuICAgICAgICB5ID0gKGIgKiB4MCkgKyAoZCAqIHkxKSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgeCA9IChhICogeDEpICsgKGMgKiB5MSkgKyB0eDtcbiAgICAgICAgeSA9IChiICogeDEpICsgKGQgKiB5MSkgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IG1heFk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHNjcmVlbiB2ZXJ0aWNlcyBmcm9tIGFycmF5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGV4RGF0YSAtIGNhbGN1bGF0ZWQgdmVydGljZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmVnaW5PZmZzZXQgLSBiZWdpbiBvZmZzZXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kT2Zmc2V0IC0gZW5kIG9mZnNldCwgZXhjbHVkZWRcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFZlcnRleERhdGEgPSBmdW5jdGlvbiAodmVydGV4RGF0YSwgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCkge1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcbiAgICAgICAgZm9yICh2YXIgaSA9IGJlZ2luT2Zmc2V0OyBpIDwgZW5kT2Zmc2V0OyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciB4ID0gdmVydGV4RGF0YVtpXTtcbiAgICAgICAgICAgIHZhciB5ID0gdmVydGV4RGF0YVtpICsgMV07XG4gICAgICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGFuIGFycmF5IG9mIG1lc2ggdmVydGljZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHRyYW5zZm9ybSAtIG1lc2ggdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gbWVzaCBjb29yZGluYXRlcyBpbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbk9mZnNldCAtIGJlZ2luIG9mZnNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRPZmZzZXQgLSBlbmQgb2Zmc2V0LCBleGNsdWRlZFxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkVmVydGljZXMgPSBmdW5jdGlvbiAodHJhbnNmb3JtLCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCkge1xuICAgICAgICB0aGlzLmFkZFZlcnRpY2VzTWF0cml4KHRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSwgdmVydGljZXMsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGFuIGFycmF5IG9mIG1lc2ggdmVydGljZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBtZXNoIG1hdHJpeFxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIG1lc2ggY29vcmRpbmF0ZXMgaW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmVnaW5PZmZzZXQgLSBiZWdpbiBvZmZzZXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kT2Zmc2V0IC0gZW5kIG9mZnNldCwgZXhjbHVkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3BhZFg9MF0gLSB4IHBhZGRpbmdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3BhZFk9MF0gLSB5IHBhZGRpbmdcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFZlcnRpY2VzTWF0cml4ID0gZnVuY3Rpb24gKG1hdHJpeCwgdmVydGljZXMsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQsIHBhZFgsIHBhZFkpIHtcbiAgICAgICAgaWYgKHBhZFggPT09IHZvaWQgMCkgeyBwYWRYID0gMDsgfVxuICAgICAgICBpZiAocGFkWSA9PT0gdm9pZCAwKSB7IHBhZFkgPSBwYWRYOyB9XG4gICAgICAgIHZhciBhID0gbWF0cml4LmE7XG4gICAgICAgIHZhciBiID0gbWF0cml4LmI7XG4gICAgICAgIHZhciBjID0gbWF0cml4LmM7XG4gICAgICAgIHZhciBkID0gbWF0cml4LmQ7XG4gICAgICAgIHZhciB0eCA9IG1hdHJpeC50eDtcbiAgICAgICAgdmFyIHR5ID0gbWF0cml4LnR5O1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcbiAgICAgICAgZm9yICh2YXIgaSA9IGJlZ2luT2Zmc2V0OyBpIDwgZW5kT2Zmc2V0OyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciByYXdYID0gdmVydGljZXNbaV07XG4gICAgICAgICAgICB2YXIgcmF3WSA9IHZlcnRpY2VzW2kgKyAxXTtcbiAgICAgICAgICAgIHZhciB4ID0gKGEgKiByYXdYKSArIChjICogcmF3WSkgKyB0eDtcbiAgICAgICAgICAgIHZhciB5ID0gKGQgKiByYXdZKSArIChiICogcmF3WCkgKyB0eTtcbiAgICAgICAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCB4IC0gcGFkWCk7XG4gICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgeCArIHBhZFgpO1xuICAgICAgICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIHkgLSBwYWRZKTtcbiAgICAgICAgICAgIG1heFkgPSBNYXRoLm1heChtYXhZLCB5ICsgcGFkWSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgb3RoZXIgQm91bmRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVGhlIEJvdW5kcyB0byBiZSBhZGRlZFxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzID0gZnVuY3Rpb24gKGJvdW5kcykge1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcbiAgICAgICAgdGhpcy5taW5YID0gYm91bmRzLm1pblggPCBtaW5YID8gYm91bmRzLm1pblggOiBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBib3VuZHMubWluWSA8IG1pblkgPyBib3VuZHMubWluWSA6IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IGJvdW5kcy5tYXhYID4gbWF4WCA/IGJvdW5kcy5tYXhYIDogbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gYm91bmRzLm1heFkgPiBtYXhZID8gYm91bmRzLm1heFkgOiBtYXhZO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHMsIG1hc2tlZCB3aXRoIEJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IGJvdW5kcyAtIFRoZSBCb3VuZHMgdG8gYmUgYWRkZWQuXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gbWFzayAtIFRPRE9cbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kc01hc2sgPSBmdW5jdGlvbiAoYm91bmRzLCBtYXNrKSB7XG4gICAgICAgIHZhciBfbWluWCA9IGJvdW5kcy5taW5YID4gbWFzay5taW5YID8gYm91bmRzLm1pblggOiBtYXNrLm1pblg7XG4gICAgICAgIHZhciBfbWluWSA9IGJvdW5kcy5taW5ZID4gbWFzay5taW5ZID8gYm91bmRzLm1pblkgOiBtYXNrLm1pblk7XG4gICAgICAgIHZhciBfbWF4WCA9IGJvdW5kcy5tYXhYIDwgbWFzay5tYXhYID8gYm91bmRzLm1heFggOiBtYXNrLm1heFg7XG4gICAgICAgIHZhciBfbWF4WSA9IGJvdW5kcy5tYXhZIDwgbWFzay5tYXhZID8gYm91bmRzLm1heFkgOiBtYXNrLm1heFk7XG4gICAgICAgIGlmIChfbWluWCA8PSBfbWF4WCAmJiBfbWluWSA8PSBfbWF4WSkge1xuICAgICAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgICAgICB0aGlzLm1pblggPSBfbWluWCA8IG1pblggPyBfbWluWCA6IG1pblg7XG4gICAgICAgICAgICB0aGlzLm1pblkgPSBfbWluWSA8IG1pblkgPyBfbWluWSA6IG1pblk7XG4gICAgICAgICAgICB0aGlzLm1heFggPSBfbWF4WCA+IG1heFggPyBfbWF4WCA6IG1heFg7XG4gICAgICAgICAgICB0aGlzLm1heFkgPSBfbWF4WSA+IG1heFkgPyBfbWF4WSA6IG1heFk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgb3RoZXIgQm91bmRzLCBtdWx0aXBsaWVkIGJ5IG1hdHJpeC4gQm91bmRzIHNob3VsZG4ndCBiZSBlbXB0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IGJvdW5kcyAtIG90aGVyIGJvdW5kc1xuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIG11bHRpcGxpY2F0b3JcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kc01hdHJpeCA9IGZ1bmN0aW9uIChib3VuZHMsIG1hdHJpeCkge1xuICAgICAgICB0aGlzLmFkZEZyYW1lTWF0cml4KG1hdHJpeCwgYm91bmRzLm1pblgsIGJvdW5kcy5taW5ZLCBib3VuZHMubWF4WCwgYm91bmRzLm1heFkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHMsIG1hc2tlZCB3aXRoIFJlY3RhbmdsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IGJvdW5kcyAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBhcmVhIC0gVE9ET1xuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzQXJlYSA9IGZ1bmN0aW9uIChib3VuZHMsIGFyZWEpIHtcbiAgICAgICAgdmFyIF9taW5YID0gYm91bmRzLm1pblggPiBhcmVhLnggPyBib3VuZHMubWluWCA6IGFyZWEueDtcbiAgICAgICAgdmFyIF9taW5ZID0gYm91bmRzLm1pblkgPiBhcmVhLnkgPyBib3VuZHMubWluWSA6IGFyZWEueTtcbiAgICAgICAgdmFyIF9tYXhYID0gYm91bmRzLm1heFggPCBhcmVhLnggKyBhcmVhLndpZHRoID8gYm91bmRzLm1heFggOiAoYXJlYS54ICsgYXJlYS53aWR0aCk7XG4gICAgICAgIHZhciBfbWF4WSA9IGJvdW5kcy5tYXhZIDwgYXJlYS55ICsgYXJlYS5oZWlnaHQgPyBib3VuZHMubWF4WSA6IChhcmVhLnkgKyBhcmVhLmhlaWdodCk7XG4gICAgICAgIGlmIChfbWluWCA8PSBfbWF4WCAmJiBfbWluWSA8PSBfbWF4WSkge1xuICAgICAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgICAgICB0aGlzLm1pblggPSBfbWluWCA8IG1pblggPyBfbWluWCA6IG1pblg7XG4gICAgICAgICAgICB0aGlzLm1pblkgPSBfbWluWSA8IG1pblkgPyBfbWluWSA6IG1pblk7XG4gICAgICAgICAgICB0aGlzLm1heFggPSBfbWF4WCA+IG1heFggPyBfbWF4WCA6IG1heFg7XG4gICAgICAgICAgICB0aGlzLm1heFkgPSBfbWF4WSA+IG1heFkgPyBfbWF4WSA6IG1heFk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhZHMgYm91bmRzIG9iamVjdCwgbWFraW5nIGl0IGdyb3cgaW4gYWxsIGRpcmVjdGlvbnMuXG4gICAgICogSWYgcGFkZGluZ1kgaXMgb21pdHRlZCwgYm90aCBwYWRkaW5nWCBhbmQgcGFkZGluZ1kgd2lsbCBiZSBzZXQgdG8gcGFkZGluZ1guXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3BhZGRpbmdYPTBdIC0gVGhlIGhvcml6b250YWwgcGFkZGluZyBhbW91bnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRkaW5nWT0wXSAtIFRoZSB2ZXJ0aWNhbCBwYWRkaW5nIGFtb3VudC5cbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLnBhZCA9IGZ1bmN0aW9uIChwYWRkaW5nWCwgcGFkZGluZ1kpIHtcbiAgICAgICAgaWYgKHBhZGRpbmdYID09PSB2b2lkIDApIHsgcGFkZGluZ1ggPSAwOyB9XG4gICAgICAgIGlmIChwYWRkaW5nWSA9PT0gdm9pZCAwKSB7IHBhZGRpbmdZID0gcGFkZGluZ1g7IH1cbiAgICAgICAgaWYgKCF0aGlzLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgdGhpcy5taW5YIC09IHBhZGRpbmdYO1xuICAgICAgICAgICAgdGhpcy5tYXhYICs9IHBhZGRpbmdYO1xuICAgICAgICAgICAgdGhpcy5taW5ZIC09IHBhZGRpbmdZO1xuICAgICAgICAgICAgdGhpcy5tYXhZICs9IHBhZGRpbmdZO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHBhZGRlZCBmcmFtZS4gKHgwLCB5MCkgc2hvdWxkIGJlIHN0cmljdGx5IGxlc3MgdGhhbiAoeDEsIHkxKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgwIC0gbGVmdCBYIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkwIC0gdG9wIFkgb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSByaWdodCBYIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gYm90dG9tIFkgb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGFkWCAtIHBhZGRpbmcgWFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYWRZIC0gcGFkZGluZyBZXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRGcmFtZVBhZCA9IGZ1bmN0aW9uICh4MCwgeTAsIHgxLCB5MSwgcGFkWCwgcGFkWSkge1xuICAgICAgICB4MCAtPSBwYWRYO1xuICAgICAgICB5MCAtPSBwYWRZO1xuICAgICAgICB4MSArPSBwYWRYO1xuICAgICAgICB5MSArPSBwYWRZO1xuICAgICAgICB0aGlzLm1pblggPSB0aGlzLm1pblggPCB4MCA/IHRoaXMubWluWCA6IHgwO1xuICAgICAgICB0aGlzLm1heFggPSB0aGlzLm1heFggPiB4MSA/IHRoaXMubWF4WCA6IHgxO1xuICAgICAgICB0aGlzLm1pblkgPSB0aGlzLm1pblkgPCB5MCA/IHRoaXMubWluWSA6IHkwO1xuICAgICAgICB0aGlzLm1heFkgPSB0aGlzLm1heFkgPiB5MSA/IHRoaXMubWF4WSA6IHkxO1xuICAgIH07XG4gICAgcmV0dXJuIEJvdW5kcztcbn0oKSk7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIFRoZSBiYXNlIGNsYXNzIGZvciBhbGwgb2JqZWN0cyB0aGF0IGFyZSByZW5kZXJlZCBvbiB0aGUgc2NyZWVuLlxuICpcbiAqIFRoaXMgaXMgYW4gYWJzdHJhY3QgY2xhc3MgYW5kIHNob3VsZCBub3QgYmUgdXNlZCBvbiBpdHMgb3duOyByYXRoZXIgaXQgc2hvdWxkIGIgZSBleHRlbmRlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRGlzcGxheU9iamVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRGlzcGxheU9iamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEaXNwbGF5T2JqZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG51bGw7XG4gICAgICAgIC8vIFRPRE86IG5lZWQgdG8gY3JlYXRlIFRyYW5zZm9ybSBmcm9tIGZhY3RvcnlcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdvcmxkIHRyYW5zZm9ybSBhbmQgbG9jYWwgdHJhbnNmb3JtIG9mIHRoaXMgb2JqZWN0LlxuICAgICAgICAgKiBUaGlzIHdpbGwgYmVjb21lIHJlYWQtb25seSBsYXRlciwgcGxlYXNlIGRvIG5vdCBhc3NpZ24gYW55dGhpbmcgdGhlcmUgdW5sZXNzIHlvdSBrbm93IHdoYXQgYXJlIHlvdSBkb2luZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50cmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3BhY2l0eSBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbHBoYSA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmlzaWJpbGl0eSBvZiB0aGUgb2JqZWN0LiBJZiBmYWxzZSB0aGUgb2JqZWN0IHdpbGwgbm90IGJlIGRyYXduLCBhbmRcbiAgICAgICAgICogdGhlIHVwZGF0ZVRyYW5zZm9ybSBmdW5jdGlvbiB3aWxsIG5vdCBiZSBjYWxsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIE9ubHkgYWZmZWN0cyByZWN1cnNpdmUgY2FsbHMgZnJvbSBwYXJlbnQuIFlvdSBjYW4gYXNrIGZvciBib3VuZHMgb3IgY2FsbCB1cGRhdGVUcmFuc2Zvcm0gbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbiB0aGlzIG9iamVjdCBiZSByZW5kZXJlZCwgaWYgZmFsc2UgdGhlIG9iamVjdCB3aWxsIG5vdCBiZSBkcmF3biBidXQgdGhlIHVwZGF0ZVRyYW5zZm9ybVxuICAgICAgICAgKiBtZXRob2RzIHdpbGwgc3RpbGwgYmUgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBPbmx5IGFmZmVjdHMgcmVjdXJzaXZlIGNhbGxzIGZyb20gcGFyZW50LiBZb3UgY2FuIGFzayBmb3IgYm91bmRzIG1hbnVhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGlzcGxheSBvYmplY3QgY29udGFpbmVyIHRoYXQgY29udGFpbnMgdGhpcyBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG11bHRpcGxpZWQgYWxwaGEgb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53b3JsZEFscGhhID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoaWNoIGluZGV4IGluIHRoZSBjaGlsZHJlbiBhcnJheSB0aGUgZGlzcGxheSBjb21wb25lbnQgd2FzIGJlZm9yZSB0aGUgcHJldmlvdXMgekluZGV4IHNvcnQuXG4gICAgICAgICAqIFVzZWQgYnkgY29udGFpbmVycyB0byBoZWxwIHNvcnQgb2JqZWN0cyB3aXRoIHRoZSBzYW1lIHpJbmRleCwgYnkgdXNpbmcgcHJldmlvdXMgYXJyYXkgaW5kZXggYXMgdGhlIGRlY2lkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xhc3RTb3J0ZWRJbmRleCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgekluZGV4IG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKiBBIGhpZ2hlciB2YWx1ZSB3aWxsIG1lYW4gaXQgd2lsbCBiZSByZW5kZXJlZCBvbiB0b3Agb2Ygb3RoZXIgZGlzcGxheU9iamVjdHMgd2l0aGluIHRoZSBzYW1lIGNvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fekluZGV4ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcmVhIHRoZSBmaWx0ZXIgaXMgYXBwbGllZCB0by4gVGhpcyBpcyB1c2VkIGFzIG1vcmUgb2YgYW4gb3B0aW1pemF0aW9uXG4gICAgICAgICAqIHJhdGhlciB0aGFuIGZpZ3VyaW5nIG91dCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgZGlzcGxheU9iamVjdCBlYWNoIGZyYW1lIHlvdSBjYW4gc2V0IHRoaXMgcmVjdGFuZ2xlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBBbHNvIHdvcmtzIGFzIGFuIGludGVyYWN0aW9uIG1hc2suXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIgez9QSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgZmlsdGVycyBmb3IgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqICogSU1QT1JUQU5UOiBUaGlzIGlzIGEgV2ViR0wgb25seSBmZWF0dXJlIGFuZCB3aWxsIGJlIGlnbm9yZWQgYnkgdGhlIGNhbnZhcyByZW5kZXJlci5cbiAgICAgICAgICogVG8gcmVtb3ZlIGZpbHRlcnMgc2ltcGx5IHNldCB0aGlzIHByb3BlcnR5IHRvIGAnbnVsbCdgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHs/UElYSS5GaWx0ZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZpbHRlcnMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudGx5IGVuYWJsZWQgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbHRlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJvdW5kcyBvYmplY3QsIHRoaXMgaXMgdXNlZCB0byBjYWxjdWxhdGUgYW5kIHN0b3JlIHRoZSBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvY2FsIGJvdW5kcyBvYmplY3QsIHN3YXBwZWQgd2l0aCBgX2JvdW5kc2Agd2hlbiB1c2luZyBgZ2V0TG9jYWxCb3VuZHMoKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xvY2FsQm91bmRzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZsYWdzIHRoZSBjYWNoZWQgYm91bmRzIGFzIGRpcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ib3VuZHNJRCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSBvZiB0aGlzIGRpc3BsYXktb2JqZWN0J3MgYm91bmRzLXJlY3RhbmdsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ib3VuZHNSZWN0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlIG9mIHRoaXMgZGlzcGxheS1vYmplY3QncyBsb2NhbC1ib3VuZHMgcmVjdGFuZ2xlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3JpZ2luYWwsIGNhY2hlZCBtYXNrIG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfFBJWEkuTWFza0RhdGF8bnVsbH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21hc2sgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGlzIERpc3BsYXlPYmplY3QgaXMgYWRkZWQgdG8gYSBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjYWRkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciBhZGRlZCB0by5cbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoaXMgRGlzcGxheU9iamVjdCBpcyByZW1vdmVkIGZyb20gYSBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmVtb3ZlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHJlbW92ZWQgZnJvbS5cbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgb2JqZWN0IGhhcyBiZWVuIGRlc3Ryb3llZCB2aWEgZGVzdHJveSgpLiBJZiB0cnVlLCBpdCBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVzZWQgdG8gZmFzdCBjaGVjayBpZiBhIHNwcml0ZSBpcy4uIGEgc3ByaXRlIVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXNTcHJpdGUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgYW55IG90aGVyIGRpc3BsYXlPYmplY3QgdXNlIHRoaXMgb2JqZWN0IGFzIGEgbWFzaz9cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmlzTWFzayA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1peGVzIGFsbCBlbnVtZXJhYmxlIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgZnJvbSBhIHNvdXJjZSBvYmplY3QgdG8gRGlzcGxheU9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2UgLSBUaGUgc291cmNlIG9mIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgdG8gbWl4IGluLlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QubWl4aW4gPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIC8vIGluIEVTOC9FUzIwMTcsIHRoaXMgd291bGQgYmUgcmVhbGx5IGVhc3k6XG4gICAgICAgIC8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTtcbiAgICAgICAgLy8gZ2V0IGFsbCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBrZXlzXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHByb3BlcnRpZXNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0ga2V5c1tpXTtcbiAgICAgICAgICAgIC8vIFNldCB0aGUgcHJvcGVydHkgdXNpbmcgdGhlIHByb3BlcnR5IGRlc2NyaXB0b3IgLSB0aGlzIHdvcmtzIGZvciBhY2Nlc3NvcnMgYW5kIG5vcm1hbCB2YWx1ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIHByb3BlcnR5TmFtZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHByb3BlcnR5TmFtZSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSB1cGRhdGVzIHRyYW5zZm9ybSBvZiBhbGwgb2JqZWN0cyBmcm9tIHRoZSByb290IHRvIHRoaXMgb25lXG4gICAgICogaW50ZXJuYWwgZnVuY3Rpb24gZm9yIHRvTG9jYWwoKVxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50Ll9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBUT0RPIC0gT3B0aW1pemF0aW9uIHBhc3MhXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgLy8gbXVsdGlwbHkgdGhlIGFscGhhcy4uXG4gICAgICAgIHRoaXMud29ybGRBbHBoYSA9IHRoaXMuYWxwaGEgKiB0aGlzLnBhcmVudC53b3JsZEFscGhhO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QgYXMgYSByZWN0YW5nbGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZV0gLSBTZXR0aW5nIHRvIGB0cnVlYCB3aWxsIHN0b3AgdGhlIHRyYW5zZm9ybXMgb2YgdGhlIHNjZW5lIGdyYXBoIGZyb21cbiAgICAgKiAgYmVpbmcgdXBkYXRlZC4gVGhpcyBtZWFucyB0aGUgY2FsY3VsYXRpb24gcmV0dXJuZWQgTUFZIGJlIG91dCBvZiBkYXRlIEJVVCB3aWxsIGdpdmUgeW91IGFcbiAgICAgKiAgbmljZSBwZXJmb3JtYW5jZSBib29zdC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVjdF0gLSBPcHRpb25hbCByZWN0YW5nbGUgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgYm91bmRzIGNhbGN1bGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYS5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRCb3VuZHMgPSBmdW5jdGlvbiAoc2tpcFVwZGF0ZSwgcmVjdCkge1xuICAgICAgICBpZiAoIXNraXBVcGRhdGUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2JvdW5kcy51cGRhdGVJRCAhPT0gdGhpcy5fYm91bmRzSUQpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMudXBkYXRlSUQgPSB0aGlzLl9ib3VuZHNJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fYm91bmRzUmVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWN0ID0gdGhpcy5fYm91bmRzUmVjdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGFzIGEgcmVjdGFuZ2xlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIE9wdGlvbmFsIHJlY3RhbmdsZSB0byBzdG9yZSB0aGUgcmVzdWx0IG9mIHRoZSBib3VuZHMgY2FsY3VsYXRpb24uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhLlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kcykge1xuICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMgPSBuZXcgQm91bmRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRyYW5zZm9ybVJlZiA9IHRoaXMudHJhbnNmb3JtO1xuICAgICAgICB2YXIgcGFyZW50UmVmID0gdGhpcy5wYXJlbnQ7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm07XG4gICAgICAgIHZhciB3b3JsZEJvdW5kcyA9IHRoaXMuX2JvdW5kcztcbiAgICAgICAgdmFyIHdvcmxkQm91bmRzSUQgPSB0aGlzLl9ib3VuZHNJRDtcbiAgICAgICAgdGhpcy5fYm91bmRzID0gdGhpcy5fbG9jYWxCb3VuZHM7XG4gICAgICAgIHZhciBib3VuZHMgPSB0aGlzLmdldEJvdW5kcyhmYWxzZSwgcmVjdCk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50UmVmO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVJlZjtcbiAgICAgICAgdGhpcy5fYm91bmRzID0gd29ybGRCb3VuZHM7XG4gICAgICAgIHRoaXMuX2JvdW5kcy51cGRhdGVJRCArPSB0aGlzLl9ib3VuZHNJRCAtIHdvcmxkQm91bmRzSUQ7IC8vIHJlZmxlY3Qgc2lkZS1lZmZlY3RzXG4gICAgICAgIHJldHVybiBib3VuZHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBnbG9iYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvc2l0aW9uIC0gVGhlIHdvcmxkIG9yaWdpbiB0byBjYWxjdWxhdGUgZnJvbS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludF0gLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsXG4gICAgICogIChvdGhlcndpc2Ugd2lsbCBjcmVhdGUgYSBuZXcgUG9pbnQpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGU9ZmFsc2VdIC0gU2hvdWxkIHdlIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm0uXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gQSBwb2ludCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGlzIG9iamVjdC5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS50b0dsb2JhbCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUpIHtcbiAgICAgICAgaWYgKHNraXBVcGRhdGUgPT09IHZvaWQgMCkgeyBza2lwVXBkYXRlID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAvLyB0aGlzIHBhcmVudCBjaGVjayBpcyBmb3IganVzdCBpbiBjYXNlIHRoZSBpdGVtIGlzIGEgcm9vdCBvYmplY3QuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSB0ZW1wb3JhcnkgcGFyZW50IHNvIHRoYXQgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSB3b3JrcyBjb3JyZWN0bHlcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWFpbmx5IHRvIGF2b2lkIGEgcGFyZW50IGNoZWNrIGluIHRoZSBtYWluIGxvb3AuIEV2ZXJ5IGxpdHRsZSBoZWxwcyBmb3IgcGVyZm9ybWFuY2UgOilcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGRvbid0IG5lZWQgdG8gdXBkYXRlIHRoZSBsb3RcbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHkocG9zaXRpb24sIHBvaW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGxvY2FsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5IG9iamVjdCByZWxhdGl2ZSB0byBhbm90aGVyIHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvc2l0aW9uIC0gVGhlIHdvcmxkIG9yaWdpbiB0byBjYWxjdWxhdGUgZnJvbS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gW2Zyb21dIC0gVGhlIERpc3BsYXlPYmplY3QgdG8gY2FsY3VsYXRlIHRoZSBnbG9iYWwgcG9zaXRpb24gZnJvbS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludF0gLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsXG4gICAgICogIChvdGhlcndpc2Ugd2lsbCBjcmVhdGUgYSBuZXcgUG9pbnQpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGU9ZmFsc2VdIC0gU2hvdWxkIHdlIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm1cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUudG9Mb2NhbCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgZnJvbSwgcG9pbnQsIHNraXBVcGRhdGUpIHtcbiAgICAgICAgaWYgKGZyb20pIHtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gZnJvbS50b0dsb2JhbChwb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgLy8gdGhpcyBwYXJlbnQgY2hlY2sgaXMgZm9yIGp1c3QgaW4gY2FzZSB0aGUgaXRlbSBpcyBhIHJvb3Qgb2JqZWN0LlxuICAgICAgICAgICAgLy8gSWYgaXQgaXMgd2UgbmVlZCB0byBnaXZlIGl0IGEgdGVtcG9yYXJ5IHBhcmVudCBzbyB0aGF0IGRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gd29ya3MgY29ycmVjdGx5XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG1haW5seSB0byBhdm9pZCBhIHBhcmVudCBjaGVjayBpbiB0aGUgbWFpbiBsb29wLiBFdmVyeSBsaXR0bGUgaGVscHMgZm9yIHBlcmZvcm1hbmNlIDopXG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzaW1wbHkgYXBwbHkgdGhlIG1hdHJpeC4uXG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb3NpdGlvbiwgcG9pbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwYXJlbnQgQ29udGFpbmVyIG9mIHRoaXMgRGlzcGxheU9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBDb250YWluZXIgdG8gYWRkIHRoaXMgRGlzcGxheU9iamVjdCB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkNvbnRhaW5lcn0gVGhlIENvbnRhaW5lciB0aGF0IHRoaXMgRGlzcGxheU9iamVjdCB3YXMgYWRkZWQgdG8uXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuc2V0UGFyZW50ID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgICAgICBpZiAoIWNvbnRhaW5lciB8fCAhY29udGFpbmVyLmFkZENoaWxkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFBhcmVudDogQXJndW1lbnQgbXVzdCBiZSBhIENvbnRhaW5lcicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIGZ1bmN0aW9uIHRvIHNldCB0aGUgcG9zaXRpb24sIHNjYWxlLCBza2V3IGFuZCBwaXZvdCBhdCBvbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVYPTFdIC0gVGhlIFggc2NhbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlWT0xXSAtIFRoZSBZIHNjYWxlIHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbj0wXSAtIFRoZSByb3RhdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2tld1g9MF0gLSBUaGUgWCBza2V3IHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtza2V3WT0wXSAtIFRoZSBZIHNrZXcgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bpdm90WD0wXSAtIFRoZSBYIHBpdm90IHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwaXZvdFk9MF0gLSBUaGUgWSBwaXZvdCB2YWx1ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIERpc3BsYXlPYmplY3QgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoeCwgeSwgc2NhbGVYLCBzY2FsZVksIHJvdGF0aW9uLCBza2V3WCwgc2tld1ksIHBpdm90WCwgcGl2b3RZKSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxuICAgICAgICBpZiAoc2NhbGVYID09PSB2b2lkIDApIHsgc2NhbGVYID0gMTsgfVxuICAgICAgICBpZiAoc2NhbGVZID09PSB2b2lkIDApIHsgc2NhbGVZID0gMTsgfVxuICAgICAgICBpZiAocm90YXRpb24gPT09IHZvaWQgMCkgeyByb3RhdGlvbiA9IDA7IH1cbiAgICAgICAgaWYgKHNrZXdYID09PSB2b2lkIDApIHsgc2tld1ggPSAwOyB9XG4gICAgICAgIGlmIChza2V3WSA9PT0gdm9pZCAwKSB7IHNrZXdZID0gMDsgfVxuICAgICAgICBpZiAocGl2b3RYID09PSB2b2lkIDApIHsgcGl2b3RYID0gMDsgfVxuICAgICAgICBpZiAocGl2b3RZID09PSB2b2lkIDApIHsgcGl2b3RZID0gMDsgfVxuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB4O1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB5O1xuICAgICAgICB0aGlzLnNjYWxlLnggPSAhc2NhbGVYID8gMSA6IHNjYWxlWDtcbiAgICAgICAgdGhpcy5zY2FsZS55ID0gIXNjYWxlWSA/IDEgOiBzY2FsZVk7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICAgICAgdGhpcy5za2V3LnggPSBza2V3WDtcbiAgICAgICAgdGhpcy5za2V3LnkgPSBza2V3WTtcbiAgICAgICAgdGhpcy5waXZvdC54ID0gcGl2b3RYO1xuICAgICAgICB0aGlzLnBpdm90LnkgPSBwaXZvdFk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmFzZSBkZXN0cm95IG1ldGhvZCBmb3IgZ2VuZXJpYyBkaXNwbGF5IG9iamVjdHMuIFRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5XG4gICAgICogcmVtb3ZlIHRoZSBkaXNwbGF5IG9iamVjdCBmcm9tIGl0cyBwYXJlbnQgQ29udGFpbmVyIGFzIHdlbGwgYXMgcmVtb3ZlXG4gICAgICogYWxsIGN1cnJlbnQgZXZlbnQgbGlzdGVuZXJzIGFuZCBpbnRlcm5hbCByZWZlcmVuY2VzLiBEbyBub3QgdXNlIGEgRGlzcGxheU9iamVjdFxuICAgICAqIGFmdGVyIGNhbGxpbmcgYGRlc3Ryb3koKWAuXG4gICAgICpcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKF9vcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX21hc2sgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbHRlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuICAgICAgICB0aGlzLmhpdEFyZWEgPSBudWxsO1xuICAgICAgICB0aGlzLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcIl90ZW1wRGlzcGxheU9iamVjdFBhcmVudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICAgICAgICAgIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgVGVtcG9yYXJ5RGlzcGxheU9iamVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBVc2VkIGluIFJlbmRlcmVyLCBjYWNoZUFzQml0bWFwIGFuZCBvdGhlciBwbGFjZXMgd2hlcmUgeW91IGNhbGwgYW4gYHVwZGF0ZVRyYW5zZm9ybWAgb24gcm9vdFxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogY29uc3QgY2FjaGVQYXJlbnQgPSBlbGVtLmVuYWJsZVRlbXBQYXJlbnQoKTtcbiAgICAgKiBlbGVtLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAqIGVsZW0uZGlzYWJsZVRlbXBQYXJlbnQoY2FjaGVQYXJlbnQpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHJldHVybnMge1BJWEkuRGlzcGxheU9iamVjdH0gY3VycmVudCBwYXJlbnRcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5lbmFibGVUZW1wUGFyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbXlQYXJlbnQgPSB0aGlzLnBhcmVudDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgcmV0dXJuIG15UGFyZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFpciBtZXRob2QgZm9yIGBlbmFibGVUZW1wUGFyZW50YFxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjYWNoZVBhcmVudCBhY3R1YWwgcGFyZW50IG9mIGVsZW1lbnRcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5kaXNhYmxlVGVtcFBhcmVudCA9IGZ1bmN0aW9uIChjYWNoZVBhcmVudCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IGNhY2hlUGFyZW50O1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqIEFuIGFsaWFzIHRvIHBvc2l0aW9uLnhcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi54O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB5IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqIEFuIGFsaWFzIHRvIHBvc2l0aW9uLnlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi55O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcIndvcmxkVHJhbnNmb3JtXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgdHJhbnNmb3JtIG9mIHRoZSBvYmplY3QgYmFzZWQgb24gd29ybGQgKHBhcmVudCkgZmFjdG9ycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwibG9jYWxUcmFuc2Zvcm1cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCB0cmFuc2Zvcm0gb2YgdGhlIG9iamVjdCBiYXNlZCBvbiBsb2NhbCBmYWN0b3JzOiBwb3NpdGlvbiwgc2NhbGUsIG90aGVyIHN0dWZmLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJwb3NpdGlvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgb2JqZWN0IHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwic2NhbGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIGZhY3RvciBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2NhbGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5zY2FsZS5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwicGl2b3RcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBpdm90IHBvaW50IG9mIHRoZSBkaXNwbGF5T2JqZWN0IHRoYXQgaXQgcm90YXRlcyBhcm91bmQuXG4gICAgICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5waXZvdDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBpdm90LmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJza2V3XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBza2V3IGZhY3RvciBmb3IgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2tldztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnNrZXcuY29weUZyb20odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInJvdGF0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb3RhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICAgICAqICdyb3RhdGlvbicgYW5kICdhbmdsZScgaGF2ZSB0aGUgc2FtZSBlZmZlY3Qgb24gYSBkaXNwbGF5IG9iamVjdDsgcm90YXRpb24gaXMgaW4gcmFkaWFucywgYW5nbGUgaXMgaW4gZGVncmVlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucm90YXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcImFuZ2xlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmdsZSBvZiB0aGUgb2JqZWN0IGluIGRlZ3JlZXMuXG4gICAgICAgICAqICdyb3RhdGlvbicgYW5kICdhbmdsZScgaGF2ZSB0aGUgc2FtZSBlZmZlY3Qgb24gYSBkaXNwbGF5IG9iamVjdDsgcm90YXRpb24gaXMgaW4gcmFkaWFucywgYW5nbGUgaXMgaW4gZGVncmVlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucm90YXRpb24gKiBSQURfVE9fREVHO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb24gPSB2YWx1ZSAqIERFR19UT19SQUQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwiekluZGV4XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB6SW5kZXggb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqIElmIGEgY29udGFpbmVyIGhhcyB0aGUgc29ydGFibGVDaGlsZHJlbiBwcm9wZXJ0eSBzZXQgdG8gdHJ1ZSwgY2hpbGRyZW4gd2lsbCBiZSBhdXRvbWF0aWNhbGx5XG4gICAgICAgICAqIHNvcnRlZCBieSB6SW5kZXggdmFsdWU7IGEgaGlnaGVyIHZhbHVlIHdpbGwgbWVhbiBpdCB3aWxsIGJlIG1vdmVkIHRvd2FyZHMgdGhlIGVuZCBvZiB0aGUgYXJyYXksXG4gICAgICAgICAqIGFuZCB0aHVzIHJlbmRlcmVkIG9uIHRvcCBvZiBvdGhlciBkaXNwbGF5T2JqZWN0cyB3aXRoaW4gdGhlIHNhbWUgY29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl96SW5kZXg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl96SW5kZXggPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnNvcnREaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwid29ybGRWaXNpYmxlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgb2JqZWN0IGlzIGdsb2JhbGx5IHZpc2libGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXM7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpdGVtID0gaXRlbS5wYXJlbnQ7XG4gICAgICAgICAgICB9IHdoaWxlIChpdGVtKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcIm1hc2tcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyBhIG1hc2sgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LiBBIG1hc2sgaXMgYW4gb2JqZWN0IHRoYXQgbGltaXRzIHRoZSB2aXNpYmlsaXR5IG9mIGFuXG4gICAgICAgICAqIG9iamVjdCB0byB0aGUgc2hhcGUgb2YgdGhlIG1hc2sgYXBwbGllZCB0byBpdC4gSW4gUGl4aUpTIGEgcmVndWxhciBtYXNrIG11c3QgYmUgYVxuICAgICAgICAgKiB7QGxpbmsgUElYSS5HcmFwaGljc30gb3IgYSB7QGxpbmsgUElYSS5TcHJpdGV9IG9iamVjdC4gVGhpcyBhbGxvd3MgZm9yIG11Y2ggZmFzdGVyIG1hc2tpbmcgaW4gY2FudmFzIGFzIGl0XG4gICAgICAgICAqIHV0aWxpdGllcyBzaGFwZSBjbGlwcGluZy4gVG8gcmVtb3ZlIGEgbWFzaywgc2V0IHRoaXMgcHJvcGVydHkgdG8gYG51bGxgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBGb3Igc3ByaXRlIG1hc2sgYm90aCBhbHBoYSBhbmQgcmVkIGNoYW5uZWwgYXJlIHVzZWQuIEJsYWNrIG1hc2sgaXMgdGhlIHNhbWUgYXMgdHJhbnNwYXJlbnQgbWFzay5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY29uc3QgZ3JhcGhpY3MgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICAgKiBncmFwaGljcy5iZWdpbkZpbGwoMHhGRjMzMDApO1xuICAgICAgICAgKiBncmFwaGljcy5kcmF3UmVjdCg1MCwgMjUwLCAxMDAsIDEwMCk7XG4gICAgICAgICAqIGdyYXBoaWNzLmVuZEZpbGwoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAgICAgKiBzcHJpdGUubWFzayA9IGdyYXBoaWNzO1xuICAgICAgICAgKiBAdG9kbyBBdCB0aGUgbW9tZW50LCBQSVhJLkNhbnZhc1JlbmRlcmVyIGRvZXNuJ3Qgc3VwcG9ydCBQSVhJLlNwcml0ZSBhcyBtYXNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcnxQSVhJLk1hc2tEYXRhfG51bGx9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXNrO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFza09iamVjdCA9ICh0aGlzLl9tYXNrLm1hc2tPYmplY3QgfHwgdGhpcy5fbWFzayk7XG4gICAgICAgICAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBtYXNrT2JqZWN0LmlzTWFzayA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWFzayA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFza09iamVjdCA9ICh0aGlzLl9tYXNrLm1hc2tPYmplY3QgfHwgdGhpcy5fbWFzayk7XG4gICAgICAgICAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbWFza09iamVjdC5pc01hc2sgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIERpc3BsYXlPYmplY3Q7XG59KEV2ZW50RW1pdHRlcikpO1xudmFyIFRlbXBvcmFyeURpc3BsYXlPYmplY3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRlbXBvcmFyeURpc3BsYXlPYmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGVtcG9yYXJ5RGlzcGxheU9iamVjdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNvcnREaXJ0eSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFRlbXBvcmFyeURpc3BsYXlPYmplY3Q7XG59KERpc3BsYXlPYmplY3QpKTtcbi8qKlxuICogRGlzcGxheU9iamVjdCBkZWZhdWx0IHVwZGF0ZVRyYW5zZm9ybSwgZG9lcyBub3QgdXBkYXRlIGNoaWxkcmVuIG9mIGNvbnRhaW5lci5cbiAqIFdpbGwgY3Jhc2ggaWYgdGhlcmUncyBubyBwYXJlbnQgZWxlbWVudC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQGZ1bmN0aW9uIGRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm1cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSA9IERpc3BsYXlPYmplY3QucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybTtcblxuZnVuY3Rpb24gc29ydENoaWxkcmVuKGEsIGIpIHtcbiAgICBpZiAoYS56SW5kZXggPT09IGIuekluZGV4KSB7XG4gICAgICAgIHJldHVybiBhLl9sYXN0U29ydGVkSW5kZXggLSBiLl9sYXN0U29ydGVkSW5kZXg7XG4gICAgfVxuICAgIHJldHVybiBhLnpJbmRleCAtIGIuekluZGV4O1xufVxuLyoqXG4gKiBBIENvbnRhaW5lciByZXByZXNlbnRzIGEgY29sbGVjdGlvbiBvZiBkaXNwbGF5IG9iamVjdHMuXG4gKlxuICogSXQgaXMgdGhlIGJhc2UgY2xhc3Mgb2YgYWxsIGRpc3BsYXkgb2JqZWN0cyB0aGF0IGFjdCBhcyBhIGNvbnRhaW5lciBmb3Igb3RoZXIgb2JqZWN0cyAobGlrZSBTcHJpdGVzKS5cbiAqXG4gKmBgYGpzXG4gKiBsZXQgY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gKiBjb250YWluZXIuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5EaXNwbGF5T2JqZWN0XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb250YWluZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29udGFpbmVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIGNoaWxkcmVuIG9mIHRoaXMgY29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3RbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgc2V0IHRvIHRydWUsIHRoZSBjb250YWluZXIgd2lsbCBzb3J0IGl0cyBjaGlsZHJlbiBieSB6SW5kZXggdmFsdWVcbiAgICAgICAgICogd2hlbiB1cGRhdGVUcmFuc2Zvcm0oKSBpcyBjYWxsZWQsIG9yIG1hbnVhbGx5IGlmIHNvcnRDaGlsZHJlbigpIGlzIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBhY3R1YWxseSBjaGFuZ2VzIHRoZSBvcmRlciBvZiBlbGVtZW50cyBpbiB0aGUgYXJyYXksIHNvIHNob3VsZCBiZSB0cmVhdGVkXG4gICAgICAgICAqIGFzIGEgYmFzaWMgc29sdXRpb24gdGhhdCBpcyBub3QgcGVyZm9ybWFudCBjb21wYXJlZCB0byBvdGhlciBzb2x1dGlvbnMsXG4gICAgICAgICAqIHN1Y2ggYXMgQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWRpc3BsYXlcbiAgICAgICAgICpcbiAgICAgICAgICogQWxzbyBiZSBhd2FyZSBvZiB0aGF0IHRoaXMgbWF5IG5vdCB3b3JrIG5pY2VseSB3aXRoIHRoZSBhZGRDaGlsZEF0KCkgZnVuY3Rpb24sXG4gICAgICAgICAqIGFzIHRoZSB6SW5kZXggc29ydGluZyBtYXkgY2F1c2UgdGhlIGNoaWxkIHRvIGF1dG9tYXRpY2FsbHkgc29ydGVkIHRvIGFub3RoZXIgcG9zaXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc29ydGFibGVDaGlsZHJlbiA9IHNldHRpbmdzLlNPUlRBQkxFX0NISUxEUkVOO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdWxkIGNoaWxkcmVuIGJlIHNvcnRlZCBieSB6SW5kZXggYXQgdGhlIG5leHQgdXBkYXRlVHJhbnNmb3JtIGNhbGwuXG4gICAgICAgICAqIFdpbGwgZ2V0IGF1dG9tYXRpY2FsbHkgc2V0IHRvIHRydWUgaWYgYSBuZXcgY2hpbGQgaXMgYWRkZWQsIG9yIGlmIGEgY2hpbGQncyB6SW5kZXggY2hhbmdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNvcnREaXJ0eSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgRGlzcGxheU9iamVjdCBpcyBhZGRlZCB0byB0aGlzIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQ29udGFpbmVyI2NoaWxkQWRkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIGFkZGVkIHRvIHRoZSBDb250YWluZXIuXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdGhhdCBhZGRlZCB0aGUgY2hpbGQuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBjaGlsZHJlbidzIGluZGV4IG9mIHRoZSBhZGRlZCBjaGlsZC5cbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgRGlzcGxheU9iamVjdCBpcyByZW1vdmVkIGZyb20gdGhpcyBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmVtb3ZlZEZyb21cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIHJlbW92ZWQgZnJvbSB0aGUgQ29udGFpbmVyLlxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRoYXQgcmVtb3ZlZCByZW1vdmVkIHRoZSBjaGlsZC5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGZvcm1lciBjaGlsZHJlbidzIGluZGV4IG9mIHRoZSByZW1vdmVkIGNoaWxkXG4gICAgICAgICAqL1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBtZXRob2QgdGhhdCBjYW4gYmUgdXNlZCBieSBDb250YWluZXIgc3ViY2xhc3NlcyB3aGVuZXZlciB0aGUgY2hpbGRyZW4gYXJyYXkgaXMgbW9kaWZpZWRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLm9uQ2hpbGRyZW5DaGFuZ2UgPSBmdW5jdGlvbiAoX2xlbmd0aCkge1xuICAgICAgICAvKiBlbXB0eSAqL1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBvbmUgb3IgbW9yZSBjaGlsZHJlbiB0byB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogTXVsdGlwbGUgaXRlbXMgY2FuIGJlIGFkZGVkIGxpa2Ugc286IGBteUNvbnRhaW5lci5hZGRDaGlsZCh0aGluZ09uZSwgdGhpbmdUd28sIHRoaW5nVGhyZWUpYFxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi5QSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkcmVuIC0gVGhlIERpc3BsYXlPYmplY3QocykgdG8gYWRkIHRvIHRoZSBjb250YWluZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBmaXJzdCBjaGlsZCB0aGF0IHdhcyBhZGRlZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmFkZENoaWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgdmFyIGNoaWxkcmVuID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBjaGlsZHJlbltfaV0gPSBhcmd1bWVudHMkMVtfaV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUgYXJndW1lbnQgd2UgY2FuIGJ5cGFzcyBsb29waW5nIHRocm91Z2ggdGhlIHRoZW1cbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgYXJyYXkgYW5kIGFkZCBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChjaGlsZHJlbltpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlblswXTtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBjaGlsZCBoYXMgYSBwYXJlbnQgdGhlbiBsZXRzIHJlbW92ZSBpdCBhcyBQaXhpSlMgb2JqZWN0cyBjYW4gb25seSBleGlzdCBpbiBvbmUgcGxhY2VcbiAgICAgICAgICAgIGlmIChjaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5wYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuc29ydERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2NoaWxkQWRkZWQnLCBjaGlsZCwgdGhpcywgdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIGNoaWxkLmVtaXQoJ2FkZGVkJywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuWzBdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGNoaWxkIHRvIHRoZSBjb250YWluZXIgYXQgYSBzcGVjaWZpZWQgaW5kZXguIElmIHRoZSBpbmRleCBpcyBvdXQgb2YgYm91bmRzIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgdG8gYWRkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIHBsYWNlIHRoZSBjaGlsZCBpblxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuYWRkQ2hpbGRBdCA9IGZ1bmN0aW9uIChjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoY2hpbGQgKyBcImFkZENoaWxkQXQ6IFRoZSBpbmRleCBcIiArIGluZGV4ICsgXCIgc3VwcGxpZWQgaXMgb3V0IG9mIGJvdW5kcyBcIiArIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hpbGQucGFyZW50KSB7XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICAgIHRoaXMuc29ydERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7XG4gICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICBjaGlsZC5lbWl0KCdhZGRlZCcsIHRoaXMpO1xuICAgICAgICB0aGlzLmVtaXQoJ2NoaWxkQWRkZWQnLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTd2FwcyB0aGUgcG9zaXRpb24gb2YgMiBEaXNwbGF5IE9iamVjdHMgd2l0aGluIHRoaXMgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gRmlyc3QgZGlzcGxheSBvYmplY3QgdG8gc3dhcFxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZDIgLSBTZWNvbmQgZGlzcGxheSBvYmplY3QgdG8gc3dhcFxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuc3dhcENoaWxkcmVuID0gZnVuY3Rpb24gKGNoaWxkLCBjaGlsZDIpIHtcbiAgICAgICAgaWYgKGNoaWxkID09PSBjaGlsZDIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXgxID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkKTtcbiAgICAgICAgdmFyIGluZGV4MiA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZDIpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuW2luZGV4MV0gPSBjaGlsZDI7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5baW5kZXgyXSA9IGNoaWxkO1xuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgxIDwgaW5kZXgyID8gaW5kZXgxIDogaW5kZXgyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGluZGV4IHBvc2l0aW9uIG9mIGEgY2hpbGQgRGlzcGxheU9iamVjdCBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIERpc3BsYXlPYmplY3QgaW5zdGFuY2UgdG8gaWRlbnRpZnlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBwb3NpdGlvbiBvZiB0aGUgY2hpbGQgZGlzcGxheSBvYmplY3QgdG8gaWRlbnRpZnlcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkSW5kZXggPSBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc3VwcGxpZWQgRGlzcGxheU9iamVjdCBtdXN0IGJlIGEgY2hpbGQgb2YgdGhlIGNhbGxlcicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHBvc2l0aW9uIG9mIGFuIGV4aXN0aW5nIGNoaWxkIGluIHRoZSBkaXNwbGF5IG9iamVjdCBjb250YWluZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlIGZvciB3aGljaCB5b3Ugd2FudCB0byBjaGFuZ2UgdGhlIGluZGV4IG51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSByZXN1bHRpbmcgaW5kZXggbnVtYmVyIGZvciB0aGUgY2hpbGQgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnNldENoaWxkSW5kZXggPSBmdW5jdGlvbiAoY2hpbGQsIGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBpbmRleCBcIiArIGluZGV4ICsgXCIgc3VwcGxpZWQgaXMgb3V0IG9mIGJvdW5kcyBcIiArIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkKTtcbiAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgY3VycmVudEluZGV4LCAxKTsgLy8gcmVtb3ZlIGZyb20gb2xkIHBvc2l0aW9uXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7IC8vIGFkZCBhdCBuZXcgcG9zaXRpb25cbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNoaWxkIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBpbmRleCB0byBnZXQgdGhlIGNoaWxkIGF0XG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgYXQgdGhlIGdpdmVuIGluZGV4LCBpZiBhbnkuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImdldENoaWxkQXQ6IEluZGV4IChcIiArIGluZGV4ICsgXCIpIGRvZXMgbm90IGV4aXN0LlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltpbmRleF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIG9uZSBvciBtb3JlIGNoaWxkcmVuIGZyb20gdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uUElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZHJlbiAtIFRoZSBEaXNwbGF5T2JqZWN0KHMpIHRvIHJlbW92ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgY2hpbGRyZW5bX2ldID0gYXJndW1lbnRzJDFbX2ldO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG9ubHkgb25lIGFyZ3VtZW50IHdlIGNhbiBieXBhc3MgbG9vcGluZyB0aHJvdWdoIHRoZSB0aGVtXG4gICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGFyZ3VtZW50cyBwcm9wZXJ0eSBhbmQgcmVtb3ZlIGFsbCBjaGlsZHJlblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5bMF07XG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSlcbiAgICAgICAgICAgICAgICB7IHJldHVybiBudWxsOyB9XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaW5kZXgsIDEpO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgICAgICBjaGlsZC5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2NoaWxkUmVtb3ZlZCcsIGNoaWxkLCB0aGlzLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuWzBdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGNoaWxkIGZyb20gdGhlIHNwZWNpZmllZCBpbmRleCBwb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBpbmRleCB0byBnZXQgdGhlIGNoaWxkIGZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ2hpbGRBdCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmdldENoaWxkQXQoaW5kZXgpO1xuICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkLi5cbiAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG4gICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICBjaGlsZC5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgIHRoaXMuZW1pdCgnY2hpbGRSZW1vdmVkJywgY2hpbGQsIHRoaXMsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgY2hpbGRyZW4gZnJvbSB0aGlzIGNvbnRhaW5lciB0aGF0IGFyZSB3aXRoaW4gdGhlIGJlZ2luIGFuZCBlbmQgaW5kZXhlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYmVnaW5JbmRleD0wXSAtIFRoZSBiZWdpbm5pbmcgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmRJbmRleD10aGlzLmNoaWxkcmVuLmxlbmd0aF0gLSBUaGUgZW5kaW5nIHBvc2l0aW9uLiBEZWZhdWx0IHZhbHVlIGlzIHNpemUgb2YgdGhlIGNvbnRhaW5lci5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5EaXNwbGF5T2JqZWN0W119IExpc3Qgb2YgcmVtb3ZlZCBjaGlsZHJlblxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ2hpbGRyZW4gPSBmdW5jdGlvbiAoYmVnaW5JbmRleCwgZW5kSW5kZXgpIHtcbiAgICAgICAgaWYgKGJlZ2luSW5kZXggPT09IHZvaWQgMCkgeyBiZWdpbkluZGV4ID0gMDsgfVxuICAgICAgICBpZiAoZW5kSW5kZXggPT09IHZvaWQgMCkgeyBlbmRJbmRleCA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyB9XG4gICAgICAgIHZhciBiZWdpbiA9IGJlZ2luSW5kZXg7XG4gICAgICAgIHZhciBlbmQgPSBlbmRJbmRleDtcbiAgICAgICAgdmFyIHJhbmdlID0gZW5kIC0gYmVnaW47XG4gICAgICAgIHZhciByZW1vdmVkO1xuICAgICAgICBpZiAocmFuZ2UgPiAwICYmIHJhbmdlIDw9IGVuZCkge1xuICAgICAgICAgICAgcmVtb3ZlZCA9IHRoaXMuY2hpbGRyZW4uc3BsaWNlKGJlZ2luLCByYW5nZSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbW92ZWQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZWRbaV0udHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZWRbaV0udHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoYmVnaW5JbmRleCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbW92ZWQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkW2ldLmVtaXQoJ3JlbW92ZWQnLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2NoaWxkUmVtb3ZlZCcsIHJlbW92ZWRbaV0sIHRoaXMsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlbW92ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmFuZ2UgPT09IDAgJiYgdGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigncmVtb3ZlQ2hpbGRyZW46IG51bWVyaWMgdmFsdWVzIGFyZSBvdXRzaWRlIHRoZSBhY2NlcHRhYmxlIHJhbmdlLicpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU29ydHMgY2hpbGRyZW4gYnkgekluZGV4LiBQcmV2aW91cyBvcmRlciBpcyBtYW50YWluZWQgZm9yIDIgY2hpbGRyZW4gd2l0aCB0aGUgc2FtZSB6SW5kZXguXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zb3J0Q2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzb3J0UmVxdWlyZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGNoaWxkLl9sYXN0U29ydGVkSW5kZXggPSBpO1xuICAgICAgICAgICAgaWYgKCFzb3J0UmVxdWlyZWQgJiYgY2hpbGQuekluZGV4ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgc29ydFJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc29ydFJlcXVpcmVkICYmIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zb3J0KHNvcnRDaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRyYW5zZm9ybSBvbiBhbGwgY2hpbGRyZW4gb2YgdGhpcyBjb250YWluZXIgZm9yIHJlbmRlcmluZ1xuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zb3J0YWJsZUNoaWxkcmVuICYmIHRoaXMuc29ydERpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLnNvcnRDaGlsZHJlbigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICAvLyBUT0RPOiBjaGVjayByZW5kZXIgZmxhZ3MsIGhvdyB0byBwcm9jZXNzIHN0dWZmIGhlcmVcbiAgICAgICAgdGhpcy53b3JsZEFscGhhID0gdGhpcy5hbHBoYSAqIHRoaXMucGFyZW50LndvcmxkQWxwaGE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoY2hpbGQudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuICAgICAgICB0aGlzLl9jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgaWYgKCFjaGlsZC52aXNpYmxlIHx8ICFjaGlsZC5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGlsZC5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgIC8vIFRPRE86IGZpbHRlcittYXNrLCBuZWVkIHRvIG1hc2sgYm90aCBzb21laG93XG4gICAgICAgICAgICBpZiAoY2hpbGQuX21hc2spIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFza09iamVjdCA9IChjaGlsZC5fbWFzay5tYXNrT2JqZWN0IHx8IGNoaWxkLl9tYXNrKTtcbiAgICAgICAgICAgICAgICBtYXNrT2JqZWN0LmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHNNYXNrKGNoaWxkLl9ib3VuZHMsIG1hc2tPYmplY3QuX2JvdW5kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGlsZC5maWx0ZXJBcmVhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kc0FyZWEoY2hpbGQuX2JvdW5kcywgY2hpbGQuZmlsdGVyQXJlYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzKGNoaWxkLl9ib3VuZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2JvdW5kcy51cGRhdGVJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QgYXMgYSByZWN0YW5nbGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwQ2hpbGRyZW5VcGRhdGU9ZmFsc2VdIC0gU2V0dGluZyB0byBgdHJ1ZWAgd2lsbCBzdG9wIHJlLWNhbGN1bGF0aW9uIG9mIGNoaWxkcmVuIHRyYW5zZm9ybXMsXG4gICAgICogIGl0IHdhcyBkZWZhdWx0IGJlaGF2aW91ciBvZiBwaXhpIDQuMC01LjIgYW5kIGNhdXNlZCBtYW55IHByb2JsZW1zIHRvIHVzZXJzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYS5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gKHJlY3QsIHNraXBDaGlsZHJlblVwZGF0ZSkge1xuICAgICAgICBpZiAoc2tpcENoaWxkcmVuVXBkYXRlID09PSB2b2lkIDApIHsgc2tpcENoaWxkcmVuVXBkYXRlID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IF9zdXBlci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICAgICAgaWYgKCFza2lwQ2hpbGRyZW5VcGRhdGUpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdC4gT3ZlcnJpZGUgdGhpcyB0b1xuICAgICAqIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBzcGVjaWZpYyBvYmplY3QgKG5vdCBpbmNsdWRpbmcgY2hpbGRyZW4pLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRklMTCBJTi8vXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgLy8gaWYgdGhlIG9iamVjdCBpcyBub3QgdmlzaWJsZSBvciB0aGUgYWxwaGEgaXMgMCB0aGVuIG5vIG5lZWQgdG8gcmVuZGVyIHRoaXMgZWxlbWVudFxuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG8gYSBxdWljayBjaGVjayB0byBzZWUgaWYgdGhpcyBlbGVtZW50IGhhcyBhIG1hc2sgb3IgYSBmaWx0ZXIuXG4gICAgICAgIGlmICh0aGlzLl9tYXNrIHx8ICh0aGlzLmZpbHRlcnMgJiYgdGhpcy5maWx0ZXJzLmxlbmd0aCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQWR2YW5jZWQocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgICAgICAgICAgIC8vIHNpbXBsZSByZW5kZXIgY2hpbGRyZW4hXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXIgYW5kIGFkdmFuY2VkIGZlYXR1cmVzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbmRlckFkdmFuY2VkID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgICAgIHZhciBmaWx0ZXJzID0gdGhpcy5maWx0ZXJzO1xuICAgICAgICB2YXIgbWFzayA9IHRoaXMuX21hc2s7XG4gICAgICAgIC8vIHB1c2ggZmlsdGVyIGZpcnN0IGFzIHdlIG5lZWQgdG8gZW5zdXJlIHRoZSBzdGVuY2lsIGJ1ZmZlciBpcyBjb3JyZWN0IGZvciBhbnkgbWFza2luZ1xuICAgICAgICBpZiAoZmlsdGVycykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9lbmFibGVkRmlsdGVycykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcnNbaV0uZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycy5wdXNoKGZpbHRlcnNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9lbmFibGVkRmlsdGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5maWx0ZXIucHVzaCh0aGlzLCB0aGlzLl9lbmFibGVkRmlsdGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hc2spIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2sucHVzaCh0aGlzLCB0aGlzLl9tYXNrKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhZGQgdGhpcyBvYmplY3QgdG8gdGhlIGJhdGNoLCBvbmx5IHJlbmRlcmVkIGlmIGl0IGhhcyBhIHRleHR1cmUuXG4gICAgICAgIHRoaXMuX3JlbmRlcihyZW5kZXJlcik7XG4gICAgICAgIC8vIG5vdyBsb29wIHRocm91Z2ggdGhlIGNoaWxkcmVuIGFuZCBtYWtlIHN1cmUgdGhleSBnZXQgcmVuZGVyZWRcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgICAgIGlmIChtYXNrKSB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrLnBvcCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsdGVycyAmJiB0aGlzLl9lbmFibGVkRmlsdGVycyAmJiB0aGlzLl9lbmFibGVkRmlsdGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmZpbHRlci5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3Nlcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKF9yZW5kZXJlcikge1xuICAgICAgICAvLyB0aGlzIGlzIHdoZXJlIGNvbnRlbnQgaXRzZWxmIGdldHMgcmVuZGVyZWQuLi5cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGludGVybmFsIHJlZmVyZW5jZXMgYW5kIGxpc3RlbmVycyBhcyB3ZWxsIGFzIHJlbW92ZXMgY2hpbGRyZW4gZnJvbSB0aGUgZGlzcGxheSBsaXN0LlxuICAgICAqIERvIG5vdCB1c2UgYSBDb250YWluZXIgYWZ0ZXIgY2FsbGluZyBgZGVzdHJveWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IGZhbHNlO1xuICAgICAgICB2YXIgZGVzdHJveUNoaWxkcmVuID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMuY2hpbGRyZW47XG4gICAgICAgIHZhciBvbGRDaGlsZHJlbiA9IHRoaXMucmVtb3ZlQ2hpbGRyZW4oMCwgdGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xuICAgICAgICBpZiAoZGVzdHJveUNoaWxkcmVuKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZENoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgb2xkQ2hpbGRyZW5baV0uZGVzdHJveShvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnRhaW5lci5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBDb250YWluZXIsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGUueCAqIHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS53aWR0aDtcbiAgICAgICAgICAgIGlmICh3aWR0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHZhbHVlIC8gd2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnggPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb250YWluZXIucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBDb250YWluZXIsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGUueSAqIHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcbiAgICAgICAgICAgIGlmIChoZWlnaHQgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSB2YWx1ZSAvIGhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBDb250YWluZXI7XG59KERpc3BsYXlPYmplY3QpKTtcbi8qKlxuICogQ29udGFpbmVyIGRlZmF1bHQgdXBkYXRlVHJhbnNmb3JtLCBkb2VzIHVwZGF0ZSBjaGlsZHJlbiBvZiBjb250YWluZXIuXG4gKiBXaWxsIGNyYXNoIGlmIHRoZXJlJ3Mgbm8gcGFyZW50IGVsZW1lbnQuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuQ29udGFpbmVyI1xuICogQGZ1bmN0aW9uIGNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybVxuICovXG5Db250YWluZXIucHJvdG90eXBlLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSA9IENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuXG5leHBvcnQgeyBCb3VuZHMsIENvbnRhaW5lciwgRGlzcGxheU9iamVjdCwgVGVtcG9yYXJ5RGlzcGxheU9iamVjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzcGxheS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvYWNjZXNzaWJpbGl0eSAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9hY2Nlc3NpYmlsaXR5IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgaXNNb2JpbGUsIHJlbW92ZUl0ZW1zIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIERlZmF1bHQgcHJvcGVydHkgdmFsdWVzIG9mIGFjY2Vzc2libGUgb2JqZWN0c1xuICogdXNlZCBieSB7QGxpbmsgUElYSS5BY2Nlc3NpYmlsaXR5TWFuYWdlcn0uXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBhY2Nlc3NpYmxlVGFyZ2V0XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge09iamVjdH1cbiAqIEBleGFtcGxlXG4gKiAgICAgIGZ1bmN0aW9uIE15T2JqZWN0KCkge31cbiAqXG4gKiAgICAgIE9iamVjdC5hc3NpZ24oXG4gKiAgICAgICAgICBNeU9iamVjdC5wcm90b3R5cGUsXG4gKiAgICAgICAgICBQSVhJLmFjY2Vzc2libGVUYXJnZXRcbiAqICAgICAgKTtcbiAqL1xudmFyIGFjY2Vzc2libGVUYXJnZXQgPSB7XG4gICAgLyoqXG4gICAgICogIEZsYWcgZm9yIGlmIHRoZSBvYmplY3QgaXMgYWNjZXNzaWJsZS4gSWYgdHJ1ZSBBY2Nlc3NpYmlsaXR5TWFuYWdlciB3aWxsIG92ZXJsYXkgYVxuICAgICAqICAgc2hhZG93IGRpdiB3aXRoIGF0dHJpYnV0ZXMgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgYWNjZXNzaWJsZTogZmFsc2UsXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdGl0bGUgYXR0cmlidXRlIG9mIHRoZSBzaGFkb3cgZGl2XG4gICAgICogSWYgYWNjZXNzaWJsZVRpdGxlIEFORCBhY2Nlc3NpYmxlSGludCBoYXMgbm90IGJlZW4gdGhpcyB3aWxsIGRlZmF1bHQgdG8gJ2Rpc3BsYXlPYmplY3QgW3RhYkluZGV4XSdcbiAgICAgKlxuICAgICAqIEBtZW1iZXIgez9zdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlVGl0bGU6IG51bGwsXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYXJpYS1sYWJlbCBhdHRyaWJ1dGUgb2YgdGhlIHNoYWRvdyBkaXZcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVIaW50OiBudWxsLFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICAgKi9cbiAgICB0YWJJbmRleDogMCxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICAgKi9cbiAgICBfYWNjZXNzaWJsZUFjdGl2ZTogZmFsc2UsXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEB0b2RvIE5lZWRzIGRvY3MuXG4gICAgICovXG4gICAgX2FjY2Vzc2libGVEaXY6IG51bGwsXG4gICAgLyoqXG4gICAgICogU3BlY2lmeSB0aGUgdHlwZSBvZiBkaXYgdGhlIGFjY2Vzc2libGUgbGF5ZXIgaXMuIFNjcmVlbiByZWFkZXJzIHRyZWF0IHRoZSBlbGVtZW50IGRpZmZlcmVudGx5XG4gICAgICogZGVwZW5kaW5nIG9uIHRoaXMgdHlwZS4gRGVmYXVsdHMgdG8gYnV0dG9uLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQGRlZmF1bHQgJ2J1dHRvbidcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlVHlwZTogJ2J1dHRvbicsXG4gICAgLyoqXG4gICAgICogU3BlY2lmeSB0aGUgcG9pbnRlci1ldmVudHMgdGhlIGFjY2Vzc2libGUgZGl2IHdpbGwgdXNlXG4gICAgICogRGVmYXVsdHMgdG8gYXV0by5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEBkZWZhdWx0ICdhdXRvJ1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVQb2ludGVyRXZlbnRzOiAnYXV0bycsXG4gICAgLyoqXG4gICAgICogU2V0dGluZyB0byBmYWxzZSB3aWxsIHByZXZlbnQgYW55IGNoaWxkcmVuIGluc2lkZSB0aGlzIGNvbnRhaW5lciB0b1xuICAgICAqIGJlIGFjY2Vzc2libGUuIERlZmF1bHRzIHRvIHRydWUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIGFjY2Vzc2libGVDaGlsZHJlbjogdHJ1ZSxcbiAgICByZW5kZXJJZDogLTEsXG59O1xuXG4vLyBhZGQgc29tZSBleHRyYSB2YXJpYWJsZXMgdG8gdGhlIGNvbnRhaW5lci4uXG5EaXNwbGF5T2JqZWN0Lm1peGluKGFjY2Vzc2libGVUYXJnZXQpO1xudmFyIEtFWV9DT0RFX1RBQiA9IDk7XG52YXIgRElWX1RPVUNIX1NJWkUgPSAxMDA7XG52YXIgRElWX1RPVUNIX1BPU19YID0gMDtcbnZhciBESVZfVE9VQ0hfUE9TX1kgPSAwO1xudmFyIERJVl9UT1VDSF9aSU5ERVggPSAyO1xudmFyIERJVl9IT09LX1NJWkUgPSAxO1xudmFyIERJVl9IT09LX1BPU19YID0gLTEwMDA7XG52YXIgRElWX0hPT0tfUE9TX1kgPSAtMTAwMDtcbnZhciBESVZfSE9PS19aSU5ERVggPSAyO1xuLyoqXG4gKiBUaGUgQWNjZXNzaWJpbGl0eSBtYW5hZ2VyIHJlY3JlYXRlcyB0aGUgYWJpbGl0eSB0byB0YWIgYW5kIGhhdmUgY29udGVudCByZWFkIGJ5IHNjcmVlbiByZWFkZXJzLlxuICogVGhpcyBpcyB2ZXJ5IGltcG9ydGFudCBhcyBpdCBjYW4gcG9zc2libHkgaGVscCBwZW9wbGUgd2l0aCBkaXNhYmlsaXRpZXMgYWNjZXNzIFBpeGlKUyBjb250ZW50LlxuICpcbiAqIEEgRGlzcGxheU9iamVjdCBjYW4gYmUgbWFkZSBhY2Nlc3NpYmxlIGp1c3QgbGlrZSBpdCBjYW4gYmUgbWFkZSBpbnRlcmFjdGl2ZS4gVGhpcyBtYW5hZ2VyIHdpbGwgbWFwIHRoZVxuICogZXZlbnRzIGFzIGlmIHRoZSBtb3VzZSB3YXMgYmVpbmcgdXNlZCwgbWluaW1pemluZyB0aGUgZWZmb3J0IHJlcXVpcmVkIHRvIGltcGxlbWVudC5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IGByZW5kZXJlci5wbHVnaW5zLmFjY2Vzc2liaWxpdHlgXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQWNjZXNzaWJpbGl0eU1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfFBJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBY2Nlc3NpYmlsaXR5TWFuYWdlcihyZW5kZXJlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgez9IVE1MRWxlbWVudH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hvb2tEaXYgPSBudWxsO1xuICAgICAgICBpZiAoaXNNb2JpbGUudGFibGV0IHx8IGlzTW9iaWxlLnBob25lKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVRvdWNoSG9vaygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZpcnN0IHdlIGNyZWF0ZSBhIGRpdiB0aGF0IHdpbGwgc2l0IG92ZXIgdGhlIFBpeGlKUyBlbGVtZW50LiBUaGlzIGlzIHdoZXJlIHRoZSBkaXYgb3ZlcmxheXMgd2lsbCBnby5cbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBESVZfVE9VQ0hfU0laRSArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBkaXYuc3R5bGUudG9wID0gRElWX1RPVUNIX1BPU19YICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUubGVmdCA9IERJVl9UT1VDSF9QT1NfWSArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IERJVl9UT1VDSF9aSU5ERVgudG9TdHJpbmcoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGRvbSBlbGVtZW50IHRoYXQgd2lsbCBzaXQgb3ZlciB0aGUgUGl4aUpTIGVsZW1lbnQuIFRoaXMgaXMgd2hlcmUgdGhlIGRpdiBvdmVybGF5cyB3aWxsIGdvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpdiA9IGRpdjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgc2ltcGxlIHBvb2wgZm9yIHN0b3JpbmcgZGl2cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUgeyp9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvb2wgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgYSB0aWNrIHVzZWQgdG8gY2hlY2sgaWYgYW4gb2JqZWN0IGlzIG5vIGxvbmdlciBiZWluZyByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVySWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0dGluZyB0aGlzIHRvIHRydWUgd2lsbCB2aXN1YWxseSBzaG93IHRoZSBkaXZzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVidWcgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIGFjY2Vzc2liaWxpdHkgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQWJzdHJhY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcnJheSBvZiBjdXJyZW50bHkgYWN0aXZlIGFjY2Vzc2libGUgaXRlbXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PCo+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogcHJlLWJpbmQgdGhlIGZ1bmN0aW9uc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vbktleURvd24gPSB0aGlzLl9vbktleURvd24uYmluZCh0aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHByZS1iaW5kIHRoZSBmdW5jdGlvbnNcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb25Nb3VzZU1vdmUgPSB0aGlzLl9vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9pc01vYmlsZUFjY2Vzc2liaWxpdHkgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNvdW50IHRvIHRocm90dGxlIGRpdiB1cGRhdGVzIG9uIGFuZHJvaWQgZGV2aWNlc1xuICAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYW5kcm9pZFVwZGF0ZUNvdW50ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZSBmcmVxdWVuY3kgdG8gdXBkYXRlIHRoZSBkaXYgZWxlbWVudHMgKClcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYW5kcm9pZFVwZGF0ZUZyZXF1ZW5jeSA9IDUwMDsgLy8gMmZwc1xuICAgICAgICAvLyBsZXQgbGlzdGVuIGZvciB0YWIuLiBvbmNlIHByZXNzZWQgd2UgY2FuIGZpcmUgdXAgYW5kIHNob3cgdGhlIGFjY2Vzc2liaWxpdHkgbGF5ZXJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZSwgXCJpc0FjdGl2ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGZsYWdcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc0FjdGl2ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUsIFwiaXNNb2JpbGVBY2Nlc3NpYmlsaXR5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmxhZ1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIHRvdWNoIGhvb2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuY3JlYXRlVG91Y2hIb29rID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaG9va0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBob29rRGl2LnN0eWxlLndpZHRoID0gRElWX0hPT0tfU0laRSArIFwicHhcIjtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5oZWlnaHQgPSBESVZfSE9PS19TSVpFICsgXCJweFwiO1xuICAgICAgICBob29rRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgaG9va0Rpdi5zdHlsZS50b3AgPSBESVZfSE9PS19QT1NfWCArIFwicHhcIjtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5sZWZ0ID0gRElWX0hPT0tfUE9TX1kgKyBcInB4XCI7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUuekluZGV4ID0gRElWX0hPT0tfWklOREVYLnRvU3RyaW5nKCk7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNGRjAwMDAnO1xuICAgICAgICBob29rRGl2LnRpdGxlID0gJ3NlbGVjdCB0byBlbmFibGUgYWNjZXNzYWJpbGl0eSBmb3IgdGhpcyBjb250ZW50JztcbiAgICAgICAgaG9va0Rpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl9pc01vYmlsZUFjY2Vzc2liaWxpdHkgPSB0cnVlO1xuICAgICAgICAgICAgX3RoaXMuYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIF90aGlzLmRlc3Ryb3lUb3VjaEhvb2soKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaG9va0Rpdik7XG4gICAgICAgIHRoaXMuX2hvb2tEaXYgPSBob29rRGl2O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIHRvdWNoIGhvb2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVzdHJveVRvdWNoSG9vayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9ob29rRGl2KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLl9ob29rRGl2KTtcbiAgICAgICAgdGhpcy5faG9va0RpdiA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBY3RpdmF0aW5nIHdpbGwgY2F1c2UgdGhlIEFjY2Vzc2liaWxpdHkgbGF5ZXIgdG8gYmUgc2hvd24uXG4gICAgICogVGhpcyBpcyBjYWxsZWQgd2hlbiBhIHVzZXIgcHJlc3NlcyB0aGUgdGFiIGtleS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5faXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBjYXN0aW5nIHdoZW4gQ2FudmFzUmVuZGVyZXIgaXMgY29udmVydGVkXG4gICAgICAgIHRoaXMucmVuZGVyZXIub24oJ3Bvc3RyZW5kZXInLCB0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLnZpZXcucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci52aWV3LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZWFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBoaWRkZW4uXG4gICAgICogVGhpcyBpcyBjYWxsZWQgd2hlbiBhIHVzZXIgbW92ZXMgdGhlIG1vdXNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0FjdGl2ZSB8fCB0aGlzLl9pc01vYmlsZUFjY2Vzc2liaWxpdHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgY2FzdGluZyB3aGVuIENhbnZhc1JlbmRlcmVyIGlzIGNvbnZlcnRlZFxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9mZigncG9zdHJlbmRlcicsIHRoaXMudXBkYXRlKTtcbiAgICAgICAgaWYgKHRoaXMuZGl2LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kaXYpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHJlY3Vyc2l2ZSBmdW5jdGlvbiB3aWxsIHJ1biB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgYWRkIGFueSBuZXcgYWNjZXNzaWJsZSBvYmplY3RzIHRvIHRoZSBET00gbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0byBjaGVjay5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUudXBkYXRlQWNjZXNzaWJsZU9iamVjdHMgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCkge1xuICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QudmlzaWJsZSB8fCAhZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlICYmIGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZUFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoZGlzcGxheU9iamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlcklkID0gdGhpcy5yZW5kZXJJZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2hpbGRyZW4gPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQmVmb3JlIGVhY2ggcmVuZGVyIHRoaXMgZnVuY3Rpb24gd2lsbCBlbnN1cmUgdGhhdCBhbGwgZGl2cyBhcmUgbWFwcGVkIGNvcnJlY3RseSB0byB0aGVpciBEaXNwbGF5T2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLyogT24gQW5kcm9pZCBkZWZhdWx0IHdlYiBicm93c2VyLCB0YWIgb3JkZXIgc2VlbXMgdG8gYmUgY2FsY3VsYXRlZCBieSBwb3NpdGlvbiByYXRoZXIgdGhhbiB0YWJJbmRleCxcbiAgICAgICAgKiAgbW92aW5nIGJ1dHRvbnMgY2FuIGNhdXNlIGZvY3VzIHRvIGZsaWNrZXIgYmV0d2VlbiB0d28gYnV0dG9ucyBtYWtpbmcgaXQgaGFyZC9pbXBvc3NpYmxlIHRvIG5hdmlnYXRlLFxuICAgICAgICAqICBzbyBJIGFtIGp1c3QgcnVubmluZyB1cGRhdGUgZXZlcnkgaGFsZiBhIHNlY29uZCwgc2VlbXMgdG8gZml4IGl0LlxuICAgICAgICAqL1xuICAgICAgICB2YXIgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGlmIChpc01vYmlsZS5hbmRyb2lkLmRldmljZSAmJiBub3cgPCB0aGlzLmFuZHJvaWRVcGRhdGVDb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5kcm9pZFVwZGF0ZUNvdW50ID0gbm93ICsgdGhpcy5hbmRyb2lkVXBkYXRlRnJlcXVlbmN5O1xuICAgICAgICBpZiAoIXRoaXMucmVuZGVyZXIucmVuZGVyaW5nVG9TY3JlZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyB1cGRhdGUgY2hpbGRyZW4uLi5cbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyh0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBjYXN0aW5nIHdoZW4gQ2FudmFzUmVuZGVyZXIgaXMgY29udmVydGVkXG4gICAgICAgIHZhciByZWN0ID0gdGhpcy5yZW5kZXJlci52aWV3LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHN4ID0gKHJlY3Qud2lkdGggLyB0aGlzLnJlbmRlcmVyLndpZHRoKSAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBzeSA9IChyZWN0LmhlaWdodCAvIHRoaXMucmVuZGVyZXIuaGVpZ2h0KSAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBkaXYgPSB0aGlzLmRpdjtcbiAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSByZWN0LmxlZnQgKyBcInB4XCI7XG4gICAgICAgIGRpdi5zdHlsZS50b3AgPSByZWN0LnRvcCArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aCArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoY2hpbGQucmVuZGVySWQgIT09IHRoaXMucmVuZGVySWQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5fYWNjZXNzaWJsZUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGksIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGl2LnJlbW92ZUNoaWxkKGNoaWxkLl9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgICAgICAgICB0aGlzLnBvb2wucHVzaChjaGlsZC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgICAgICAgICAgY2hpbGQuX2FjY2Vzc2libGVEaXYgPSBudWxsO1xuICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG1hcCBkaXYgdG8gZGlzcGxheS4uXG4gICAgICAgICAgICAgICAgZGl2ID0gY2hpbGQuX2FjY2Vzc2libGVEaXY7XG4gICAgICAgICAgICAgICAgdmFyIGhpdEFyZWEgPSBjaGlsZC5oaXRBcmVhO1xuICAgICAgICAgICAgICAgIHZhciB3dCA9IGNoaWxkLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5oaXRBcmVhKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gKHd0LnR4ICsgKGhpdEFyZWEueCAqIHd0LmEpKSAqIHN4ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUudG9wID0gKHd0LnR5ICsgKGhpdEFyZWEueSAqIHd0LmQpKSAqIHN5ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBoaXRBcmVhLndpZHRoICogd3QuYSAqIHN4ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gaGl0QXJlYS5oZWlnaHQgKiB3dC5kICogc3kgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaXRBcmVhID0gY2hpbGQuZ2V0Qm91bmRzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FwSGl0QXJlYShoaXRBcmVhKTtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBoaXRBcmVhLnggKiBzeCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9IGhpdEFyZWEueSAqIHN5ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBoaXRBcmVhLndpZHRoICogc3ggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBoaXRBcmVhLmhlaWdodCAqIHN5ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgYnV0dG9uIHRpdGxlcyBhbmQgaGludHMgaWYgdGhleSBleGlzdCBhbmQgdGhleSd2ZSBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXYudGl0bGUgIT09IGNoaWxkLmFjY2Vzc2libGVUaXRsZSAmJiBjaGlsZC5hY2Nlc3NpYmxlVGl0bGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi50aXRsZSA9IGNoaWxkLmFjY2Vzc2libGVUaXRsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGl2LmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpICE9PSBjaGlsZC5hY2Nlc3NpYmxlSGludFxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgY2hpbGQuYWNjZXNzaWJsZUhpbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBjaGlsZC5hY2Nlc3NpYmxlSGludCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdGhlIHRpdGxlIG9yIGluZGV4IG1heSBoYXZlIGNoYW5nZWQsIGlmIHNvIGxldHMgdXBkYXRlIGl0IVxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5hY2Nlc3NpYmxlVGl0bGUgIT09IGRpdi50aXRsZSB8fCBjaGlsZC50YWJJbmRleCAhPT0gZGl2LnRhYkluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdi50aXRsZSA9IGNoaWxkLmFjY2Vzc2libGVUaXRsZTtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnRhYkluZGV4ID0gY2hpbGQudGFiSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKVxuICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnVwZGF0ZURlYnVnSFRNTChkaXYpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGluY3JlbWVudCB0aGUgcmVuZGVyIGlkLi5cbiAgICAgICAgdGhpcy5yZW5kZXJJZCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcHJpdmF0ZSBmdW5jdGlvbiB0aGF0IHdpbGwgdmlzdWFsbHkgYWRkIHRoZSBpbmZvcm1hdGlvbiB0byB0aGVcbiAgICAgKiBhY2Nlc3NhYmlsaXR5IGRpdlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZGl2XG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZURlYnVnSFRNTCA9IGZ1bmN0aW9uIChkaXYpIHtcbiAgICAgICAgZGl2LmlubmVySFRNTCA9IFwidHlwZTogXCIgKyBkaXYudHlwZSArIFwiPC9icj4gdGl0bGUgOiBcIiArIGRpdi50aXRsZSArIFwiPC9icj4gdGFiSW5kZXg6IFwiICsgZGl2LnRhYkluZGV4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRqdXN0IHRoZSBoaXQgYXJlYSBiYXNlZCBvbiB0aGUgYm91bmRzIG9mIGEgZGlzcGxheSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGhpdEFyZWEgLSBCb3VuZHMgb2YgdGhlIGNoaWxkXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmNhcEhpdEFyZWEgPSBmdW5jdGlvbiAoaGl0QXJlYSkge1xuICAgICAgICBpZiAoaGl0QXJlYS54IDwgMCkge1xuICAgICAgICAgICAgaGl0QXJlYS53aWR0aCArPSBoaXRBcmVhLng7XG4gICAgICAgICAgICBoaXRBcmVhLnggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoaXRBcmVhLnkgPCAwKSB7XG4gICAgICAgICAgICBoaXRBcmVhLmhlaWdodCArPSBoaXRBcmVhLnk7XG4gICAgICAgICAgICBoaXRBcmVhLnkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBjYXN0aW5nIHdoZW4gQ2FudmFzUmVuZGVyZXIgaXMgY29udmVydGVkXG4gICAgICAgIGlmIChoaXRBcmVhLnggKyBoaXRBcmVhLndpZHRoID4gdGhpcy5yZW5kZXJlci53aWR0aCkge1xuICAgICAgICAgICAgaGl0QXJlYS53aWR0aCA9IHRoaXMucmVuZGVyZXIud2lkdGggLSBoaXRBcmVhLng7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhpdEFyZWEueSArIGhpdEFyZWEuaGVpZ2h0ID4gdGhpcy5yZW5kZXJlci5oZWlnaHQpIHtcbiAgICAgICAgICAgIGhpdEFyZWEuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQgLSBoaXRBcmVhLnk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBEaXNwbGF5T2JqZWN0IHRvIHRoZSBhY2Nlc3NpYmlsaXR5IG1hbmFnZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgY2hpbGQgdG8gbWFrZSBhY2Nlc3NpYmxlLlxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5hZGRDaGlsZCA9IGZ1bmN0aW9uIChkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIC8vICAgIHRoaXMuYWN0aXZhdGUoKTtcbiAgICAgICAgdmFyIGRpdiA9IHRoaXMucG9vbC5wb3AoKTtcbiAgICAgICAgaWYgKCFkaXYpIHtcbiAgICAgICAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gRElWX1RPVUNIX1NJWkUgKyBcInB4XCI7XG4gICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gRElWX1RPVUNIX1NJWkUgKyBcInB4XCI7XG4gICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5kZWJ1ZyA/ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNSknIDogJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWC50b1N0cmluZygpO1xuICAgICAgICAgICAgZGl2LnN0eWxlLmJvcmRlclN0eWxlID0gJ25vbmUnO1xuICAgICAgICAgICAgLy8gQVJJQSBhdHRyaWJ1dGVzIGVuc3VyZSB0aGF0IGJ1dHRvbiB0aXRsZSBhbmQgaGludCB1cGRhdGVzIGFyZSBhbm5vdW5jZWQgcHJvcGVybHlcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPiAtMSkge1xuICAgICAgICAgICAgICAgIC8vIENocm9tZSBkb2Vzbid0IG5lZWQgYXJpYS1saXZlIHRvIHdvcmsgYXMgaW50ZW5kZWQ7IGluIGZhY3QgaXQganVzdCBnZXRzIG1vcmUgY29uZnVzZWQuXG4gICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ29mZicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL3J2Oi4qR2Vja29cXC8vKSkge1xuICAgICAgICAgICAgICAgIC8vIEZpcmVGb3ggbmVlZHMgdGhpcyB0byBhbm5vdW5jZSBvbmx5IHRoZSBuZXcgYnV0dG9uIG5hbWVcbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLXJlbGV2YW50JywgJ2FkZGl0aW9ucycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcmVxdWlyZWQgYnkgSUUsIG90aGVyIGJyb3dzZXJzIGRvbid0IG11Y2ggY2FyZVxuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcmVsZXZhbnQnLCAndGV4dCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGljay5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX29uRm9jdXMuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCB0aGlzLl9vbkZvY3VzT3V0LmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBkaXYuc3R5bGUucG9pbnRlckV2ZW50cyA9IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVBvaW50ZXJFdmVudHM7XG4gICAgICAgIC8vIHNldCB0aGUgdHlwZSwgdGhpcyBkZWZhdWx0cyB0byBidXR0b24hXG4gICAgICAgIGRpdi50eXBlID0gZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVHlwZTtcbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlICYmIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBkaXYudGl0bGUgPSBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludFxuICAgICAgICAgICAgfHwgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZGl2LnRpdGxlID0gXCJkaXNwbGF5T2JqZWN0IFwiICsgZGlzcGxheU9iamVjdC50YWJJbmRleDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludFxuICAgICAgICAgICAgJiYgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRlYnVnKVxuICAgICAgICAgICAgeyB0aGlzLnVwZGF0ZURlYnVnSFRNTChkaXYpOyB9XG4gICAgICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVBY3RpdmUgPSB0cnVlO1xuICAgICAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2ID0gZGl2O1xuICAgICAgICBkaXYuZGlzcGxheU9iamVjdCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChkaXNwbGF5T2JqZWN0KTtcbiAgICAgICAgdGhpcy5kaXYuYXBwZW5kQ2hpbGQoZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYudGFiSW5kZXggPSBkaXNwbGF5T2JqZWN0LnRhYkluZGV4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgZGl2IGJ1dHRvbiBwcmVzcyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChjbGljaylcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlIC0gVGhlIGNsaWNrIGV2ZW50LlxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25DbGljayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBjYXN0aW5nIHdoZW4gQ2FudmFzUmVuZGVyZXIgaXMgY29udmVydGVkXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdjbGljaycsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAncG9pbnRlcnRhcCcsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAndGFwJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBkaXYgZm9jdXMgZXZlbnRzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKG1vdXNlb3ZlcilcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGb2N1c0V2ZW50fSBlIC0gVGhlIGZvY3VzIGV2ZW50LlxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25Gb2N1cyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICghZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnKSkge1xuICAgICAgICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnYXNzZXJ0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3Rpbmcgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWRcbiAgICAgICAgdmFyIGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgZGl2IGZvY3VzIGV2ZW50cyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChtb3VzZW91dClcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGb2N1c0V2ZW50fSBlIC0gVGhlIGZvY3Vzb3V0IGV2ZW50LlxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25Gb2N1c091dCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICghZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnKSkge1xuICAgICAgICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3Rpbmcgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWRcbiAgICAgICAgdmFyIGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiBhIGtleSBpcyBwcmVzc2VkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZSAtIFRoZSBrZXlkb3duIGV2ZW50LlxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25LZXlEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSAhPT0gS0VZX0NPREVfVEFCKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmF0ZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIG1vdXNlIG1vdmVzIGFjcm9zcyB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGUgLSBUaGUgbW91c2UgZXZlbnQuXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChlLm1vdmVtZW50WCA9PT0gMCAmJiBlLm1vdmVtZW50WSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGFjY2Vzc2liaWxpdHkgbWFuYWdlclxuICAgICAqXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveVRvdWNoSG9vaygpO1xuICAgICAgICB0aGlzLmRpdiA9IG51bGw7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duKTtcbiAgICAgICAgdGhpcy5wb29sID0gbnVsbDtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEFjY2Vzc2liaWxpdHlNYW5hZ2VyO1xufSgpKTtcblxuZXhwb3J0IHsgQWNjZXNzaWJpbGl0eU1hbmFnZXIsIGFjY2Vzc2libGVUYXJnZXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFjY2Vzc2liaWxpdHkuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3RpY2tlciAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS90aWNrZXIgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuLyoqXG4gKiBUYXJnZXQgZnJhbWVzIHBlciBtaWxsaXNlY29uZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUQVJHRVRfRlBNU1xuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCAwLjA2XG4gKi9cbnNldHRpbmdzLlRBUkdFVF9GUE1TID0gMC4wNjtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSB1cGRhdGUgcHJpb3JpdGllcyB1c2VkIGJ5IGludGVybmFsIFBJWEkgY2xhc3NlcyB3aGVuIHJlZ2lzdGVyZWQgd2l0aFxuICogdGhlIHtAbGluayBQSVhJLlRpY2tlcn0gb2JqZWN0LiBIaWdoZXIgcHJpb3JpdHkgaXRlbXMgYXJlIHVwZGF0ZWQgZmlyc3QgYW5kIGxvd2VyXG4gKiBwcmlvcml0eSBpdGVtcywgc3VjaCBhcyByZW5kZXIsIHNob3VsZCBnbyBsYXRlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFVQREFURV9QUklPUklUWVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gSU5URVJBQ1RJT049NTAgSGlnaGVzdCBwcmlvcml0eSwgdXNlZCBmb3Ige0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhJR0g9MjUgSGlnaCBwcmlvcml0eSB1cGRhdGluZywge0BsaW5rIFBJWEkuVmlkZW9CYXNlVGV4dHVyZX0gYW5kIHtAbGluayBQSVhJLkFuaW1hdGVkU3ByaXRlfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTD0wIERlZmF1bHQgcHJpb3JpdHkgZm9yIHRpY2tlciBldmVudHMsIHNlZSB7QGxpbmsgUElYSS5UaWNrZXIjYWRkfS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMT1c9LTI1IExvdyBwcmlvcml0eSB1c2VkIGZvciB7QGxpbmsgUElYSS5BcHBsaWNhdGlvbn0gcmVuZGVyaW5nLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVUSUxJVFk9LTUwIExvd2VzdCBwcmlvcml0eSB1c2VkIGZvciB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gdXRpbGl0eS5cbiAqL1xudmFyIFVQREFURV9QUklPUklUWTtcbihmdW5jdGlvbiAoVVBEQVRFX1BSSU9SSVRZKSB7XG4gICAgVVBEQVRFX1BSSU9SSVRZW1VQREFURV9QUklPUklUWVtcIklOVEVSQUNUSU9OXCJdID0gNTBdID0gXCJJTlRFUkFDVElPTlwiO1xuICAgIFVQREFURV9QUklPUklUWVtVUERBVEVfUFJJT1JJVFlbXCJISUdIXCJdID0gMjVdID0gXCJISUdIXCI7XG4gICAgVVBEQVRFX1BSSU9SSVRZW1VQREFURV9QUklPUklUWVtcIk5PUk1BTFwiXSA9IDBdID0gXCJOT1JNQUxcIjtcbiAgICBVUERBVEVfUFJJT1JJVFlbVVBEQVRFX1BSSU9SSVRZW1wiTE9XXCJdID0gLTI1XSA9IFwiTE9XXCI7XG4gICAgVVBEQVRFX1BSSU9SSVRZW1VQREFURV9QUklPUklUWVtcIlVUSUxJVFlcIl0gPSAtNTBdID0gXCJVVElMSVRZXCI7XG59KShVUERBVEVfUFJJT1JJVFkgfHwgKFVQREFURV9QUklPUklUWSA9IHt9KSk7XG5cbi8qKlxuICogSW50ZXJuYWwgY2xhc3MgZm9yIGhhbmRsaW5nIHRoZSBwcmlvcml0eSBzb3J0aW5nIG9mIHRpY2tlciBoYW5kbGVycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGlja2VyTGlzdGVuZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHsqfSBbY29udGV4dD1udWxsXSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT0wXSAtIFRoZSBwcmlvcml0eSBmb3IgZW1pdHRpbmdcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvbmNlPWZhbHNlXSAtIElmIHRoZSBoYW5kbGVyIHNob3VsZCBmaXJlIG9uY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWNrZXJMaXN0ZW5lcihmbiwgY29udGV4dCwgcHJpb3JpdHksIG9uY2UpIHtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gbnVsbDsgfVxuICAgICAgICBpZiAocHJpb3JpdHkgPT09IHZvaWQgMCkgeyBwcmlvcml0eSA9IDA7IH1cbiAgICAgICAgaWYgKG9uY2UgPT09IHZvaWQgMCkgeyBvbmNlID0gZmFsc2U7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoYW5kbGVyIGZ1bmN0aW9uIHRvIGV4ZWN1dGUuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mbiA9IGZuO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbGxpbmcgdG8gZXhlY3V0ZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Kn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBwcmlvcml0eS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhpcyBzaG91bGQgb25seSBleGVjdXRlIG9uY2UuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uY2UgPSBvbmNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5leHQgaXRlbSBpbiBjaGFpbi5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHByZXZpb3VzIGl0ZW0gaW4gY2hhaW4uXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1RpY2tlckxpc3RlbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgdGhpcyBsaXN0ZW5lciBoYXMgYmVlbiBkZXN0cm95ZWQgYWxyZWFkeS5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaW1wbGUgY29tcGFyZSBmdW5jdGlvbiB0byBmaWd1cmUgb3V0IGlmIGEgZnVuY3Rpb24gYW5kIGNvbnRleHQgbWF0Y2guXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3Igb25lIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7YW55fSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgbGlzdGVuZXIgbWF0Y2ggdGhlIGFyZ3VtZW50c1xuICAgICAqL1xuICAgIFRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5tYXRjaCA9IGZ1bmN0aW9uIChmbiwgY29udGV4dCkge1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBudWxsOyB9XG4gICAgICAgIHJldHVybiB0aGlzLmZuID09PSBmbiAmJiB0aGlzLmNvbnRleHQgPT09IGNvbnRleHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbWl0IGJ5IGNhbGxpbmcgdGhlIGN1cnJlbnQgZnVuY3Rpb24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gdGltZSBzaW5jZSB0aGUgbGFzdCBlbWl0LlxuICAgICAqIEByZXR1cm4ge1RpY2tlckxpc3RlbmVyfSBOZXh0IHRpY2tlclxuICAgICAqL1xuICAgIFRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKGRlbHRhVGltZSkge1xuICAgICAgICBpZiAodGhpcy5mbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm4uY2FsbCh0aGlzLmNvbnRleHQsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZuKGRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlZGlyZWN0ID0gdGhpcy5uZXh0O1xuICAgICAgICBpZiAodGhpcy5vbmNlKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU29mdC1kZXN0cm95aW5nIHNob3VsZCByZW1vdmVcbiAgICAgICAgLy8gdGhlIG5leHQgcmVmZXJlbmNlXG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZGlyZWN0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29ubmVjdCB0byB0aGUgbGlzdC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VGlja2VyTGlzdGVuZXJ9IHByZXZpb3VzIC0gSW5wdXQgbm9kZSwgcHJldmlvdXMgbGlzdGVuZXJcbiAgICAgKi9cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uIChwcmV2aW91cykge1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gcHJldmlvdXM7XG4gICAgICAgIGlmIChwcmV2aW91cy5uZXh0KSB7XG4gICAgICAgICAgICBwcmV2aW91cy5uZXh0LnByZXZpb3VzID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5leHQgPSBwcmV2aW91cy5uZXh0O1xuICAgICAgICBwcmV2aW91cy5uZXh0ID0gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaGFyZCA9IGZhbHNlXSBgdHJ1ZWAgdG8gcmVtb3ZlIHRoZSBgbmV4dGAgcmVmZXJlbmNlLCB0aGlzXG4gICAgICogICAgICAgIGlzIGNvbnNpZGVyZWQgYSBoYXJkIGRlc3Ryb3kuIFNvZnQgZGVzdHJveSBtYWludGFpbnMgdGhlIG5leHQgcmVmZXJlbmNlLlxuICAgICAqIEByZXR1cm4ge1RpY2tlckxpc3RlbmVyfSBUaGUgbGlzdGVuZXIgdG8gcmVkaXJlY3Qgd2hpbGUgZW1pdHRpbmcgb3IgcmVtb3ZpbmcuXG4gICAgICovXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoaGFyZCkge1xuICAgICAgICBpZiAoaGFyZCA9PT0gdm9pZCAwKSB7IGhhcmQgPSBmYWxzZTsgfVxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmZuID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgLy8gRGlzY29ubmVjdCwgaG9vayB1cCBuZXh0IGFuZCBwcmV2aW91c1xuICAgICAgICBpZiAodGhpcy5wcmV2aW91cykge1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91cy5uZXh0ID0gdGhpcy5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm5leHQpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dC5wcmV2aW91cyA9IHRoaXMucHJldmlvdXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVkaXJlY3QgdG8gdGhlIG5leHQgaXRlbVxuICAgICAgICB2YXIgcmVkaXJlY3QgPSB0aGlzLm5leHQ7XG4gICAgICAgIC8vIFJlbW92ZSByZWZlcmVuY2VzXG4gICAgICAgIHRoaXMubmV4dCA9IGhhcmQgPyBudWxsIDogcmVkaXJlY3Q7XG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBudWxsO1xuICAgICAgICByZXR1cm4gcmVkaXJlY3Q7XG4gICAgfTtcbiAgICByZXR1cm4gVGlja2VyTGlzdGVuZXI7XG59KCkpO1xuXG4vKipcbiAqIEEgVGlja2VyIGNsYXNzIHRoYXQgcnVucyBhbiB1cGRhdGUgbG9vcCB0aGF0IG90aGVyIG9iamVjdHMgbGlzdGVuIHRvLlxuICpcbiAqIFRoaXMgY2xhc3MgaXMgY29tcG9zZWQgYXJvdW5kIGxpc3RlbmVycyBtZWFudCBmb3IgZXhlY3V0aW9uIG9uIHRoZSBuZXh0IHJlcXVlc3RlZCBhbmltYXRpb24gZnJhbWUuXG4gKiBBbmltYXRpb24gZnJhbWVzIGFyZSByZXF1ZXN0ZWQgb25seSB3aGVuIG5lY2Vzc2FyeSwgZS5nLiBXaGVuIHRoZSB0aWNrZXIgaXMgc3RhcnRlZCBhbmQgdGhlIGVtaXR0ZXIgaGFzIGxpc3RlbmVycy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUaWNrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGlja2VyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZpcnN0IGxpc3RlbmVyLiBBbGwgbmV3IGxpc3RlbmVycyBhZGRlZCBhcmUgY2hhaW5lZCBvbiB0aGlzLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWFkID0gbmV3IFRpY2tlckxpc3RlbmVyKG51bGwsIG51bGwsIEluZmluaXR5KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGN1cnJlbnQgZnJhbWUgcmVxdWVzdCBJRFxuICAgICAgICAgKiBAdHlwZSB7P251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCB2YWx1ZSBtYW5hZ2VkIGJ5IG1pbkZQUyBwcm9wZXJ0eSBzZXR0ZXIgYW5kIGdldHRlci5cbiAgICAgICAgICogVGhpcyBpcyB0aGUgbWF4aW11bSBhbGxvd2VkIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIHVwZGF0ZXMuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYXhFbGFwc2VkTVMgPSAxMDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCB2YWx1ZSBtYW5hZ2VkIGJ5IG1heEZQUyBwcm9wZXJ0eSBzZXR0ZXIgYW5kIGdldHRlci5cbiAgICAgICAgICogVGhpcyBpcyB0aGUgbWluaW11bSBhbGxvd2VkIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIHVwZGF0ZXMuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhpcyB0aWNrZXIgc2hvdWxkIGludm9rZSB0aGUgbWV0aG9kXG4gICAgICAgICAqIHtAbGluayBQSVhJLlRpY2tlciNzdGFydH0gYXV0b21hdGljYWxseVxuICAgICAgICAgKiB3aGVuIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9TdGFydCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2NhbGFyIHRpbWUgdmFsdWUgZnJvbSBsYXN0IGZyYW1lIHRvIHRoaXMgZnJhbWUuXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgY2FwcGVkIGJ5IHNldHRpbmcge0BsaW5rIFBJWEkuVGlja2VyI21pbkZQU31cbiAgICAgICAgICogYW5kIGlzIHNjYWxlZCB3aXRoIHtAbGluayBQSVhJLlRpY2tlciNzcGVlZH0uXG4gICAgICAgICAqICoqTm90ZToqKiBUaGUgY2FwIG1heSBiZSBleGNlZWRlZCBieSBzY2FsaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVsdGFUaW1lID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjYWxlciB0aW1lIGVsYXBzZWQgaW4gbWlsbGlzZWNvbmRzIGZyb20gbGFzdCBmcmFtZSB0byB0aGlzIGZyYW1lLlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIGNhcHBlZCBieSBzZXR0aW5nIHtAbGluayBQSVhJLlRpY2tlciNtaW5GUFN9XG4gICAgICAgICAqIGFuZCBpcyBzY2FsZWQgd2l0aCB7QGxpbmsgUElYSS5UaWNrZXIjc3BlZWR9LlxuICAgICAgICAgKiAqKk5vdGU6KiogVGhlIGNhcCBtYXkgYmUgZXhjZWVkZWQgYnkgc2NhbGluZy5cbiAgICAgICAgICogSWYgdGhlIHBsYXRmb3JtIHN1cHBvcnRzIERPTUhpZ2hSZXNUaW1lU3RhbXAsXG4gICAgICAgICAqIHRoaXMgdmFsdWUgd2lsbCBoYXZlIGEgcHJlY2lzaW9uIG9mIDEgwrVzLlxuICAgICAgICAgKiBEZWZhdWx0cyB0byB0YXJnZXQgZnJhbWUgdGltZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDE2LjY2XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbHRhTVMgPSAxIC8gc2V0dGluZ3MuVEFSR0VUX0ZQTVM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaW1lIGVsYXBzZWQgaW4gbWlsbGlzZWNvbmRzIGZyb20gbGFzdCBmcmFtZSB0byB0aGlzIGZyYW1lLlxuICAgICAgICAgKiBPcHBvc2VkIHRvIHdoYXQgdGhlIHNjYWxhciB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfVxuICAgICAgICAgKiBpcyBiYXNlZCwgdGhpcyB2YWx1ZSBpcyBuZWl0aGVyIGNhcHBlZCBub3Igc2NhbGVkLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqIERlZmF1bHRzIHRvIHRhcmdldCBmcmFtZSB0aW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTYuNjZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZWxhcHNlZE1TID0gMSAvIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3QgdGltZSB7QGxpbmsgUElYSS5UaWNrZXIjdXBkYXRlfSB3YXMgaW52b2tlZC5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBhbHNvIHJlc2V0IGludGVybmFsbHkgb3V0c2lkZSBvZiBpbnZva2luZ1xuICAgICAgICAgKiB1cGRhdGUsIGJ1dCBvbmx5IHdoZW4gYSBuZXcgYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZC5cbiAgICAgICAgICogSWYgdGhlIHBsYXRmb3JtIHN1cHBvcnRzIERPTUhpZ2hSZXNUaW1lU3RhbXAsXG4gICAgICAgICAqIHRoaXMgdmFsdWUgd2lsbCBoYXZlIGEgcHJlY2lzaW9uIG9mIDEgwrVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhc3RUaW1lID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGYWN0b3Igb2YgY3VycmVudCB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfS5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU2NhbGVzIHRpY2tlci5kZWx0YVRpbWUgdG8gd2hhdCB3b3VsZCBiZVxuICAgICAgICAgKiAvLyB0aGUgZXF1aXZhbGVudCBvZiBhcHByb3hpbWF0ZWx5IDEyMCBGUFNcbiAgICAgICAgICogdGlja2VyLnNwZWVkID0gMjtcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNwZWVkID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgdGlja2VyIGhhcyBiZWVuIHN0YXJ0ZWQuXG4gICAgICAgICAqIGB0cnVlYCBpZiB7QGxpbmsgUElYSS5UaWNrZXIjc3RhcnR9IGhhcyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICogYGZhbHNlYCBpZiB7QGxpbmsgUElYSS5UaWNrZXIjc3RvcH0gaGFzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgKiBXaGlsZSBgZmFsc2VgLCB0aGlzIHZhbHVlIG1heSBjaGFuZ2UgdG8gYHRydWVgIGluIHRoZVxuICAgICAgICAgKiBldmVudCBvZiB7QGxpbmsgUElYSS5UaWNrZXIjYXV0b1N0YXJ0fSBiZWluZyBgdHJ1ZWBcbiAgICAgICAgICogYW5kIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGVuYWJsZWQsIGRlbGV0aW5nIGlzIGRpc2FibGVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcHJvdGVjdGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCB0aW1lIGtleWZyYW1lIHdhcyBleGVjdXRlZC5cbiAgICAgICAgICogTWFpbnRhaW5zIGEgcmVsYXRpdmVseSBmaXhlZCBpbnRlcnZhbCB3aXRoIHRoZSBwcmV2aW91cyB2YWx1ZS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbGFzdEZyYW1lID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCB0aWNrIG1ldGhvZCBib3VuZCB0byB0aWNrZXIgaW5zdGFuY2UuXG4gICAgICAgICAqIFRoaXMgaXMgYmVjYXVzZSBpbiBlYXJseSAyMDE1LCBGdW5jdGlvbi5iaW5kXG4gICAgICAgICAqIGlzIHN0aWxsIDYwJSBzbG93ZXIgaW4gaGlnaCBwZXJmb3JtYW5jZSBzY2VuYXJpb3MuXG4gICAgICAgICAqIEFsc28gc2VwYXJhdGluZyBmcmFtZSByZXF1ZXN0cyBmcm9tIHVwZGF0ZSBtZXRob2RcbiAgICAgICAgICogc28gbGlzdGVuZXJzIG1heSBiZSBjYWxsZWQgYXQgYW55IHRpbWUgYW5kIHdpdGhcbiAgICAgICAgICogYW55IGFuaW1hdGlvbiBBUEksIGp1c3QgaW52b2tlIHRpY2tlci51cGRhdGUodGltZSkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIC0gVGltZSBzaW5jZSBsYXN0IHRpY2suXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aWNrID0gZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAgICAgICAgIF90aGlzLl9yZXF1ZXN0SWQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKF90aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBJbnZva2UgbGlzdGVuZXJzIG5vd1xuICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZSh0aW1lKTtcbiAgICAgICAgICAgICAgICAvLyBMaXN0ZW5lciBzaWRlIGVmZmVjdHMgbWF5IGhhdmUgbW9kaWZpZWQgdGlja2VyIHN0YXRlLlxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGFydGVkICYmIF90aGlzLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgX3RoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF90aGlzLl90aWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbmRpdGlvbmFsbHkgcmVxdWVzdHMgYSBuZXcgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqIElmIGEgZnJhbWUgaGFzIG5vdCBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkLCBhbmQgaWYgdGhlIGludGVybmFsXG4gICAgICogZW1pdHRlciBoYXMgbGlzdGVuZXJzLCBhIG5ldyBmcmFtZSBpcyByZXF1ZXN0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuX3JlcXVlc3RJZk5lZWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RJZCA9PT0gbnVsbCAmJiB0aGlzLl9oZWFkLm5leHQpIHtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBjYWxsYmFja3MgZ2V0IGNvcnJlY3QgZGVsdGFcbiAgICAgICAgICAgIHRoaXMubGFzdFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RGcmFtZSA9IHRoaXMubGFzdFRpbWU7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fdGljayk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbmRpdGlvbmFsbHkgY2FuY2VscyBhIHBlbmRpbmcgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLl9jYW5jZWxJZk5lZWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RJZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVxdWVzdElkKTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbmRpdGlvbmFsbHkgcmVxdWVzdHMgYSBuZXcgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqIElmIHRoZSB0aWNrZXIgaGFzIGJlZW4gc3RhcnRlZCBpdCBjaGVja3MgaWYgYSBmcmFtZSBoYXMgbm90IGFscmVhZHlcbiAgICAgKiBiZWVuIHJlcXVlc3RlZCwgYW5kIGlmIHRoZSBpbnRlcm5hbCBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMuIElmIHRoZXNlXG4gICAgICogY29uZGl0aW9ucyBhcmUgbWV0LCBhIG5ldyBmcmFtZSBpcyByZXF1ZXN0ZWQuIElmIHRoZSB0aWNrZXIgaGFzIG5vdFxuICAgICAqIGJlZW4gc3RhcnRlZCwgYnV0IGF1dG9TdGFydCBpcyBgdHJ1ZWAsIHRoZW4gdGhlIHRpY2tlciBzdGFydHMgbm93LFxuICAgICAqIGFuZCBjb250aW51ZXMgd2l0aCB0aGUgcHJldmlvdXMgY29uZGl0aW9ucyB0byByZXF1ZXN0IGEgbmV3IGZyYW1lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLl9zdGFydElmUG9zc2libGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXV0b1N0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgaGFuZGxlciBmb3IgdGljayBldmVudHMuIENhbGxzIGNvbnRpbnVvdXNseSB1bmxlc3NcbiAgICAgKiBpdCBpcyByZW1vdmVkIG9yIHRoZSB0aWNrZXIgaXMgc3RvcHBlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciB1cGRhdGVzXG4gICAgICogQHBhcmFtIHsqfSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9UElYSS5VUERBVEVfUFJJT1JJVFkuTk9STUFMXSAtIFRoZSBwcmlvcml0eSBmb3IgZW1pdHRpbmdcbiAgICAgKiBAcmV0dXJucyB7UElYSS5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChmbiwgY29udGV4dCwgcHJpb3JpdHkpIHtcbiAgICAgICAgaWYgKHByaW9yaXR5ID09PSB2b2lkIDApIHsgcHJpb3JpdHkgPSBVUERBVEVfUFJJT1JJVFkuTk9STUFMOyB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRMaXN0ZW5lcihuZXcgVGlja2VyTGlzdGVuZXIoZm4sIGNvbnRleHQsIHByaW9yaXR5KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYSBoYW5kbGVyIGZvciB0aGUgdGljayBldmVudCB3aGljaCBpcyBvbmx5IGV4ZWN1dGUgb25jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHsqfSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9UElYSS5VUERBVEVfUFJJT1JJVFkuTk9STUFMXSAtIFRoZSBwcmlvcml0eSBmb3IgZW1pdHRpbmdcbiAgICAgKiBAcmV0dXJucyB7UElYSS5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLmFkZE9uY2UgPSBmdW5jdGlvbiAoZm4sIGNvbnRleHQsIHByaW9yaXR5KSB7XG4gICAgICAgIGlmIChwcmlvcml0eSA9PT0gdm9pZCAwKSB7IHByaW9yaXR5ID0gVVBEQVRFX1BSSU9SSVRZLk5PUk1BTDsgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkTGlzdGVuZXIobmV3IFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSwgdHJ1ZSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWxseSBhZGRzIHRoZSBldmVudCBoYW5kbGVyIHNvIHRoYXQgaXQgY2FuIGJlIHNvcnRlZCBieSBwcmlvcml0eS5cbiAgICAgKiBQcmlvcml0eSBhbGxvd3MgY2VydGFpbiBoYW5kbGVyICh1c2VyLCBBbmltYXRlZFNwcml0ZSwgSW50ZXJhY3Rpb24pIHRvIGJlIHJ1blxuICAgICAqIGJlZm9yZSB0aGUgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1RpY2tlckxpc3RlbmVyfSBsaXN0ZW5lciAtIEN1cnJlbnQgbGlzdGVuZXIgYmVpbmcgYWRkZWQuXG4gICAgICogQHJldHVybnMge1BJWEkuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5fYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgLy8gRm9yIGF0dGFjaGluZyB0byBoZWFkXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5faGVhZC5uZXh0O1xuICAgICAgICB2YXIgcHJldmlvdXMgPSB0aGlzLl9oZWFkO1xuICAgICAgICAvLyBBZGQgdGhlIGZpcnN0IGl0ZW1cbiAgICAgICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEdvIGZyb20gaGlnaGVzdCB0byBsb3dlc3QgcHJpb3JpdHlcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyLnByaW9yaXR5ID4gY3VycmVudC5wcmlvcml0eSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXZpb3VzID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm90IHlldCBjb25uZWN0ZWRcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXIucHJldmlvdXMpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGFydElmUG9zc2libGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFueSBoYW5kbGVycyBtYXRjaGluZyB0aGUgZnVuY3Rpb24gYW5kIGNvbnRleHQgcGFyYW1ldGVycy5cbiAgICAgKiBJZiBubyBoYW5kbGVycyBhcmUgbGVmdCBhZnRlciByZW1vdmluZywgdGhlbiBpdCBjYW5jZWxzIHRoZSBhbmltYXRpb24gZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSByZW1vdmVkXG4gICAgICogQHBhcmFtIHsqfSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dCB0byBiZSByZW1vdmVkXG4gICAgICogQHJldHVybnMge1BJWEkuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoZm4sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVyID0gdGhpcy5faGVhZC5uZXh0O1xuICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIC8vIFdlIGZvdW5kIGEgbWF0Y2gsIGxldHMgcmVtb3ZlIGl0XG4gICAgICAgICAgICAvLyBubyBicmVhayB0byBkZWxldGUgYWxsIHBvc3NpYmxlIG1hdGNoZXNcbiAgICAgICAgICAgIC8vIGluY2FzZSBhIGxpc3RlbmVyIHdhcyBhZGRlZCAyKyB0aW1lc1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm1hdGNoKGZuLCBjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faGVhZC5uZXh0KSB7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlci5wcm90b3R5cGUsIFwiY291bnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBsaXN0ZW5lcnMgb24gdGhpcyB0aWNrZXIsIGNhbGN1bGF0ZWQgYnkgd2Fsa2luZyB0aHJvdWdoIGxpbmtlZCBsaXN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5faGVhZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5faGVhZDtcbiAgICAgICAgICAgIHdoaWxlICgoY3VycmVudCA9IGN1cnJlbnQubmV4dCkpIHtcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU3RhcnRzIHRoZSB0aWNrZXIuIElmIHRoZSB0aWNrZXIgaGFzIGxpc3RlbmVyc1xuICAgICAqIGEgbmV3IGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWQgYXQgdGhpcyBwb2ludC5cbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgdGlja2VyLiBJZiB0aGUgdGlja2VyIGhhcyByZXF1ZXN0ZWRcbiAgICAgKiBhbiBhbmltYXRpb24gZnJhbWUgaXQgaXMgY2FuY2VsZWQgYXQgdGhpcyBwb2ludC5cbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgdGlja2VyIGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy4gQ2FsbGluZ1xuICAgICAqIHRoaXMgbWV0aG9kIHJlbW92ZXMgYWxsIHJlZmVyZW5jZXMgdG8gaW50ZXJuYWwgZXZlbnRzLlxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wcm90ZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gdGhpcy5faGVhZC5uZXh0O1xuICAgICAgICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faGVhZC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9oZWFkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgYW4gdXBkYXRlLiBBbiB1cGRhdGUgZW50YWlscyBzZXR0aW5nIHRoZVxuICAgICAqIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2VsYXBzZWRNU30sXG4gICAgICogdGhlIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0sXG4gICAgICogaW52b2tpbmcgYWxsIGxpc3RlbmVycyB3aXRoIGN1cnJlbnQgZGVsdGFUaW1lLFxuICAgICAqIGFuZCB0aGVuIGZpbmFsbHkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbGFzdFRpbWV9XG4gICAgICogd2l0aCB0aGUgdmFsdWUgb2YgY3VycmVudFRpbWUgdGhhdCB3YXMgcHJvdmlkZWQuXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBieSBhbmltYXRpb25cbiAgICAgKiBmcmFtZSBjYWxsYmFja3MgaWYgdGhlIHRpY2tlciBpbnN0YW5jZSBoYXMgYmVlbiBzdGFydGVkXG4gICAgICogYW5kIGxpc3RlbmVycyBhcmUgYWRkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2N1cnJlbnRUaW1lPXBlcmZvcm1hbmNlLm5vdygpXSAtIHRoZSBjdXJyZW50IHRpbWUgb2YgZXhlY3V0aW9uXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoY3VycmVudFRpbWUpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lID09PSB2b2lkIDApIHsgY3VycmVudFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTsgfVxuICAgICAgICB2YXIgZWxhcHNlZE1TO1xuICAgICAgICAvLyBJZiB0aGUgZGlmZmVyZW5jZSBpbiB0aW1lIGlzIHplcm8gb3IgbmVnYXRpdmUsIHdlIGlnbm9yZSBtb3N0IG9mIHRoZSB3b3JrIGRvbmUgaGVyZS5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gdmFsaWQgZGlmZmVyZW5jZSwgdGhlbiBzaG91bGQgYmUgbm8gcmVhc29uIHRvIGxldCBhbnlvbmUga25vdyBhYm91dCBpdC5cbiAgICAgICAgLy8gQSB6ZXJvIGRlbHRhLCBpcyBleGFjdGx5IHRoYXQsIG5vdGhpbmcgc2hvdWxkIHVwZGF0ZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhlIGRpZmZlcmVuY2UgaW4gdGltZSBjYW4gYmUgbmVnYXRpdmUsIGFuZCBubyB0aGlzIGRvZXMgbm90IG1lYW4gdGltZSB0cmF2ZWxpbmcuXG4gICAgICAgIC8vIFRoaXMgY2FuIGJlIHRoZSByZXN1bHQgb2YgYSByYWNlIGNvbmRpdGlvbiBiZXR3ZWVuIHdoZW4gYW4gYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZFxuICAgICAgICAvLyBvbiB0aGUgY3VycmVudCBKYXZhU2NyaXB0IGVuZ2luZSBldmVudCBsb29wLCBhbmQgd2hlbiB0aGUgdGlja2VyJ3Mgc3RhcnQgbWV0aG9kIGlzIGludm9rZWRcbiAgICAgICAgLy8gKHdoaWNoIGludm9rZXMgdGhlIGludGVybmFsIF9yZXF1ZXN0SWZOZWVkZWQgbWV0aG9kKS4gSWYgYSBmcmFtZSBpcyByZXF1ZXN0ZWQgYmVmb3JlXG4gICAgICAgIC8vIF9yZXF1ZXN0SWZOZWVkZWQgaXMgaW52b2tlZCwgdGhlbiB0aGUgY2FsbGJhY2sgZm9yIHRoZSBhbmltYXRpb24gZnJhbWUgdGhlIHRpY2tlciByZXF1ZXN0cyxcbiAgICAgICAgLy8gY2FuIHJlY2VpdmUgYSB0aW1lIGFyZ3VtZW50IHRoYXQgY2FuIGJlIGxlc3MgdGhhbiB0aGUgbGFzdFRpbWUgdmFsdWUgdGhhdCB3YXMgc2V0IHdpdGhpblxuICAgICAgICAvLyBfcmVxdWVzdElmTmVlZGVkLiBUaGlzIGRpZmZlcmVuY2UgaXMgaW4gbWljcm9zZWNvbmRzLCBidXQgdGhpcyBpcyBlbm91Z2ggdG8gY2F1c2UgcHJvYmxlbXMuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgY2hlY2sgY292ZXJzIHRoaXMgYnJvd3NlciBlbmdpbmUgdGltaW5nIGlzc3VlLCBhcyB3ZWxsIGFzIGlmIGNvbnN1bWVycyBwYXNzIGFuIGludmFsaWRcbiAgICAgICAgLy8gY3VycmVudFRpbWUgdmFsdWUuIFRoaXMgbWF5IGhhcHBlbiBpZiBjb25zdW1lcnMgb3B0LW91dCBvZiB0aGUgYXV0b1N0YXJ0LCBhbmQgdXBkYXRlIHRoZW1zZWx2ZXMuXG4gICAgICAgIGlmIChjdXJyZW50VGltZSA+IHRoaXMubGFzdFRpbWUpIHtcbiAgICAgICAgICAgIC8vIFNhdmUgdW5jYXBwZWQgZWxhcHNlZE1TIGZvciBtZWFzdXJlbWVudFxuICAgICAgICAgICAgZWxhcHNlZE1TID0gdGhpcy5lbGFwc2VkTVMgPSBjdXJyZW50VGltZSAtIHRoaXMubGFzdFRpbWU7XG4gICAgICAgICAgICAvLyBjYXAgdGhlIG1pbGxpc2Vjb25kcyBlbGFwc2VkIHVzZWQgZm9yIGRlbHRhVGltZVxuICAgICAgICAgICAgaWYgKGVsYXBzZWRNUyA+IHRoaXMuX21heEVsYXBzZWRNUykge1xuICAgICAgICAgICAgICAgIGVsYXBzZWRNUyA9IHRoaXMuX21heEVsYXBzZWRNUztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsYXBzZWRNUyAqPSB0aGlzLnNwZWVkO1xuICAgICAgICAgICAgLy8gSWYgbm90IGVub3VnaCB0aW1lIGhhcyBwYXNzZWQsIGV4aXQgdGhlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgLy8gR2V0IHJlYWR5IGZvciBuZXh0IGZyYW1lIGJ5IHNldHRpbmcgX2xhc3RGcmFtZSwgYnV0IGJhc2VkIG9uIF9taW5FbGFwc2VkTVNcbiAgICAgICAgICAgIC8vIGFkanVzdG1lbnQgdG8gZW5zdXJlIGEgcmVsYXRpdmVseSBzdGFibGUgaW50ZXJ2YWwuXG4gICAgICAgICAgICBpZiAodGhpcy5fbWluRWxhcHNlZE1TKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gY3VycmVudFRpbWUgLSB0aGlzLl9sYXN0RnJhbWUgfCAwO1xuICAgICAgICAgICAgICAgIGlmIChkZWx0YSA8IHRoaXMuX21pbkVsYXBzZWRNUykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RGcmFtZSA9IGN1cnJlbnRUaW1lIC0gKGRlbHRhICUgdGhpcy5fbWluRWxhcHNlZE1TKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGVsdGFNUyA9IGVsYXBzZWRNUztcbiAgICAgICAgICAgIHRoaXMuZGVsdGFUaW1lID0gdGhpcy5kZWx0YU1TICogc2V0dGluZ3MuVEFSR0VUX0ZQTVM7XG4gICAgICAgICAgICAvLyBDYWNoZSBhIGxvY2FsIHJlZmVyZW5jZSwgaW4tY2FzZSB0aWNrZXIgaXMgZGVzdHJveWVkXG4gICAgICAgICAgICAvLyBkdXJpbmcgdGhlIGVtaXQsIHdlIGNhbiBzdGlsbCBjaGVjayBmb3IgaGVhZC5uZXh0XG4gICAgICAgICAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG4gICAgICAgICAgICAvLyBJbnZva2UgbGlzdGVuZXJzIGFkZGVkIHRvIGludGVybmFsIGVtaXR0ZXJcbiAgICAgICAgICAgIHZhciBsaXN0ZW5lciA9IGhlYWQubmV4dDtcbiAgICAgICAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZW1pdCh0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWhlYWQubmV4dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlbHRhVGltZSA9IHRoaXMuZGVsdGFNUyA9IHRoaXMuZWxhcHNlZE1TID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhc3RUaW1lID0gY3VycmVudFRpbWU7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlja2VyLnByb3RvdHlwZSwgXCJGUFNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZyYW1lcyBwZXIgc2Vjb25kIGF0IHdoaWNoIHRoaXMgdGlja2VyIGlzIHJ1bm5pbmcuXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGlzIGFwcHJveGltYXRlbHkgNjAgaW4gbW9zdCBtb2Rlcm4gYnJvd3NlcnMuXG4gICAgICAgICAqICoqTm90ZToqKiBUaGlzIGRvZXMgbm90IGZhY3RvciBpbiB0aGUgdmFsdWUgb2ZcbiAgICAgICAgICoge0BsaW5rIFBJWEkuVGlja2VyI3NwZWVkfSwgd2hpY2ggaXMgc3BlY2lmaWNcbiAgICAgICAgICogdG8gc2NhbGluZyB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDEwMDAgLyB0aGlzLmVsYXBzZWRNUztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWNrZXIucHJvdG90eXBlLCBcIm1pbkZQU1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYW5hZ2VzIHRoZSBtYXhpbXVtIGFtb3VudCBvZiBtaWxsaXNlY29uZHMgYWxsb3dlZCB0b1xuICAgICAgICAgKiBlbGFwc2UgYmV0d2VlbiBpbnZva2luZyB7QGxpbmsgUElYSS5UaWNrZXIjdXBkYXRlfS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyB1c2VkIHRvIGNhcCB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfSxcbiAgICAgICAgICogYnV0IGRvZXMgbm90IGVmZmVjdCB0aGUgbWVhc3VyZWQgdmFsdWUgb2Yge0BsaW5rIFBJWEkuVGlja2VyI0ZQU30uXG4gICAgICAgICAqIFdoZW4gc2V0dGluZyB0aGlzIHByb3BlcnR5IGl0IGlzIGNsYW1wZWQgdG8gYSB2YWx1ZSBiZXR3ZWVuXG4gICAgICAgICAqIGAwYCBhbmQgYFBJWEkuc2V0dGluZ3MuVEFSR0VUX0ZQTVMgKiAxMDAwYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTAwMCAvIHRoaXMuX21heEVsYXBzZWRNUztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZnBzKSB7XG4gICAgICAgICAgICAvLyBNaW5pbXVtIG11c3QgYmUgYmVsb3cgdGhlIG1heEZQU1xuICAgICAgICAgICAgdmFyIG1pbkZQUyA9IE1hdGgubWluKHRoaXMubWF4RlBTLCBmcHMpO1xuICAgICAgICAgICAgLy8gTXVzdCBiZSBhdCBsZWFzdCAwLCBidXQgYmVsb3cgMSAvIHNldHRpbmdzLlRBUkdFVF9GUE1TXG4gICAgICAgICAgICB2YXIgbWluRlBNUyA9IE1hdGgubWluKE1hdGgubWF4KDAsIG1pbkZQUykgLyAxMDAwLCBzZXR0aW5ncy5UQVJHRVRfRlBNUyk7XG4gICAgICAgICAgICB0aGlzLl9tYXhFbGFwc2VkTVMgPSAxIC8gbWluRlBNUztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWNrZXIucHJvdG90eXBlLCBcIm1heEZQU1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYW5hZ2VzIHRoZSBtaW5pbXVtIGFtb3VudCBvZiBtaWxsaXNlY29uZHMgcmVxdWlyZWQgdG9cbiAgICAgICAgICogZWxhcHNlIGJldHdlZW4gaW52b2tpbmcge0BsaW5rIFBJWEkuVGlja2VyI3VwZGF0ZX0uXG4gICAgICAgICAqIFRoaXMgd2lsbCBlZmZlY3QgdGhlIG1lYXN1cmVkIHZhbHVlIG9mIHtAbGluayBQSVhJLlRpY2tlciNGUFN9LlxuICAgICAgICAgKiBJZiBpdCBpcyBzZXQgdG8gYDBgLCB0aGVuIHRoZXJlIGlzIG5vIGxpbWl0OyBQaXhpSlMgd2lsbCByZW5kZXIgYXMgbWFueSBmcmFtZXMgYXMgaXQgY2FuLlxuICAgICAgICAgKiBPdGhlcndpc2UgaXQgd2lsbCBiZSBhdCBsZWFzdCBgbWluRlBTYFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21pbkVsYXBzZWRNUykge1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKDEwMDAgLyB0aGlzLl9taW5FbGFwc2VkTVMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZwcykge1xuICAgICAgICAgICAgaWYgKGZwcyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21pbkVsYXBzZWRNUyA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBNYXggbXVzdCBiZSBhdCBsZWFzdCB0aGUgbWluRlBTXG4gICAgICAgICAgICAgICAgdmFyIG1heEZQUyA9IE1hdGgubWF4KHRoaXMubWluRlBTLCBmcHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21pbkVsYXBzZWRNUyA9IDEgLyAobWF4RlBTIC8gMTAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlja2VyLCBcInNoYXJlZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2hhcmVkIHRpY2tlciBpbnN0YW5jZSB1c2VkIGJ5IHtAbGluayBQSVhJLkFuaW1hdGVkU3ByaXRlfSBhbmQgYnlcbiAgICAgICAgICoge0BsaW5rIFBJWEkuVmlkZW9SZXNvdXJjZX0gdG8gdXBkYXRlIGFuaW1hdGlvbiBmcmFtZXMgLyB2aWRlbyB0ZXh0dXJlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogSXQgbWF5IGFsc28gYmUgdXNlZCBieSB7QGxpbmsgUElYSS5BcHBsaWNhdGlvbn0gaWYgY3JlYXRlZCB3aXRoIHRoZSBgc2hhcmVkVGlja2VyYCBvcHRpb24gcHJvcGVydHkgc2V0IHRvIHRydWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBwcm9wZXJ0eSB7QGxpbmsgUElYSS5UaWNrZXIjYXV0b1N0YXJ0fSBpcyBzZXQgdG8gYHRydWVgIGZvciB0aGlzIGluc3RhbmNlLlxuICAgICAgICAgKiBQbGVhc2UgZm9sbG93IHRoZSBleGFtcGxlcyBmb3IgdXNhZ2UsIGluY2x1ZGluZyBob3cgdG8gb3B0LW91dCBvZiBhdXRvLXN0YXJ0aW5nIHRoZSBzaGFyZWQgdGlja2VyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBsZXQgdGlja2VyID0gUElYSS5UaWNrZXIuc2hhcmVkO1xuICAgICAgICAgKiAvLyBTZXQgdGhpcyB0byBwcmV2ZW50IHN0YXJ0aW5nIHRoaXMgdGlja2VyIHdoZW4gbGlzdGVuZXJzIGFyZSBhZGRlZC5cbiAgICAgICAgICogLy8gQnkgZGVmYXVsdCB0aGlzIGlzIHRydWUgb25seSBmb3IgdGhlIFBJWEkuVGlja2VyLnNoYXJlZCBpbnN0YW5jZS5cbiAgICAgICAgICogdGlja2VyLmF1dG9TdGFydCA9IGZhbHNlO1xuICAgICAgICAgKiAvLyBGWUksIGNhbGwgdGhpcyB0byBlbnN1cmUgdGhlIHRpY2tlciBpcyBzdG9wcGVkLiBJdCBzaG91bGQgYmUgc3RvcHBlZFxuICAgICAgICAgKiAvLyBpZiB5b3UgaGF2ZSBub3QgYXR0ZW1wdGVkIHRvIHJlbmRlciBhbnl0aGluZyB5ZXQuXG4gICAgICAgICAqIHRpY2tlci5zdG9wKCk7XG4gICAgICAgICAqIC8vIENhbGwgdGhpcyB3aGVuIHlvdSBhcmUgcmVhZHkgZm9yIGEgcnVubmluZyBzaGFyZWQgdGlja2VyLlxuICAgICAgICAgKiB0aWNrZXIuc3RhcnQoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gWW91IG1heSB1c2UgdGhlIHNoYXJlZCB0aWNrZXIgdG8gcmVuZGVyLi4uXG4gICAgICAgICAqIGxldCByZW5kZXJlciA9IFBJWEkuYXV0b0RldGVjdFJlbmRlcmVyKCk7XG4gICAgICAgICAqIGxldCBzdGFnZSA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICAgICAgICAgKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJlbmRlcmVyLnZpZXcpO1xuICAgICAgICAgKiB0aWNrZXIuYWRkKGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICAgICAqICAgICByZW5kZXJlci5yZW5kZXIoc3RhZ2UpO1xuICAgICAgICAgKiB9KTtcbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gT3IgeW91IGNhbiBqdXN0IHVwZGF0ZSBpdCBtYW51YWxseS5cbiAgICAgICAgICogdGlja2VyLmF1dG9TdGFydCA9IGZhbHNlO1xuICAgICAgICAgKiB0aWNrZXIuc3RvcCgpO1xuICAgICAgICAgKiBmdW5jdGlvbiBhbmltYXRlKHRpbWUpIHtcbiAgICAgICAgICogICAgIHRpY2tlci51cGRhdGUodGltZSk7XG4gICAgICAgICAqICAgICByZW5kZXJlci5yZW5kZXIoc3RhZ2UpO1xuICAgICAgICAgKiAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgICAgICAgKiB9XG4gICAgICAgICAqIGFuaW1hdGUocGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRpY2tlcn1cbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIVRpY2tlci5fc2hhcmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNoYXJlZCA9IFRpY2tlci5fc2hhcmVkID0gbmV3IFRpY2tlcigpO1xuICAgICAgICAgICAgICAgIHNoYXJlZC5hdXRvU3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNoYXJlZC5fcHJvdGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBUaWNrZXIuX3NoYXJlZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWNrZXIsIFwic3lzdGVtXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzeXN0ZW0gdGlja2VyIGluc3RhbmNlIHVzZWQgYnkge0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyfSBhbmQgYnlcbiAgICAgICAgICoge0BsaW5rIFBJWEkuQmFzZVByZXBhcmV9IGZvciBjb3JlIHRpbWluZyBmdW5jdGlvbmFsaXR5IHRoYXQgc2hvdWxkbid0IHVzdWFsbHkgbmVlZCB0byBiZSBwYXVzZWQsXG4gICAgICAgICAqIHVubGlrZSB0aGUgYHNoYXJlZGAgdGlja2VyIHdoaWNoIGRyaXZlcyB2aXN1YWwgYW5pbWF0aW9ucyBhbmQgcmVuZGVyaW5nIHdoaWNoIG1heSB3YW50IHRvIGJlIHBhdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIHByb3BlcnR5IHtAbGluayBQSVhJLlRpY2tlciNhdXRvU3RhcnR9IGlzIHNldCB0byBgdHJ1ZWAgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGlja2VyfVxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghVGlja2VyLl9zeXN0ZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgc3lzdGVtID0gVGlja2VyLl9zeXN0ZW0gPSBuZXcgVGlja2VyKCk7XG4gICAgICAgICAgICAgICAgc3lzdGVtLmF1dG9TdGFydCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3lzdGVtLl9wcm90ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFRpY2tlci5fc3lzdGVtO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFRpY2tlcjtcbn0oKSk7XG5cbi8qKlxuICogTWlkZGxld2FyZSBmb3IgZm9yIEFwcGxpY2F0aW9uIFRpY2tlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHtUaWNrZXJQbHVnaW59IGZyb20gJ0BwaXhpL3RpY2tlcic7XG4gKiBpbXBvcnQge0FwcGxpY2F0aW9ufSBmcm9tICdAcGl4aS9hcHAnO1xuICogQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oVGlja2VyUGx1Z2luKTtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUaWNrZXJQbHVnaW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGlja2VyUGx1Z2luKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBwbHVnaW4gd2l0aCBzY29wZSBvZiBhcHBsaWNhdGlvbiBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFNlZSBhcHBsaWNhdGlvbiBvcHRpb25zXG4gICAgICovXG4gICAgVGlja2VyUGx1Z2luLmluaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBTZXQgZGVmYXVsdFxuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBhdXRvU3RhcnQ6IHRydWUsXG4gICAgICAgICAgICBzaGFyZWRUaWNrZXI6IGZhbHNlLFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgLy8gQ3JlYXRlIHRpY2tlciBzZXR0ZXJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICd0aWNrZXInLCB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0aWNrZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdGlja2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpY2tlci5yZW1vdmUodGhpcy5yZW5kZXIsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl90aWNrZXIgPSB0aWNrZXI7XG4gICAgICAgICAgICAgICAgaWYgKHRpY2tlcikge1xuICAgICAgICAgICAgICAgICAgICB0aWNrZXIuYWRkKHRoaXMucmVuZGVyLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuTE9XKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpY2tlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBzdG9wcGluZyB0aGUgcmVuZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuQXBwbGljYXRpb24jc3RvcFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX3RpY2tlci5zdG9wKCk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIHN0YXJ0aW5nIHRoZSByZW5kZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNzdGFydFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl90aWNrZXIuc3RhcnQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHJlZmVyZW5jZSB0byB0aGUgdGlja2VyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBuYW1lIF90aWNrZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aWNrZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGlja2VyIGZvciBkb2luZyByZW5kZXIgdXBkYXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge1BJWEkuVGlja2VyfVxuICAgICAgICAgKiBAbmFtZSB0aWNrZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVGlja2VyLnNoYXJlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWNrZXIgPSBvcHRpb25zLnNoYXJlZFRpY2tlciA/IFRpY2tlci5zaGFyZWQgOiBuZXcgVGlja2VyKCk7XG4gICAgICAgIC8vIFN0YXJ0IHRoZSByZW5kZXJpbmdcbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b1N0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIHRoZSB0aWNrZXIsIHNjb3BlZCB0byBhcHBsaWNhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpY2tlclBsdWdpbi5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fdGlja2VyKSB7XG4gICAgICAgICAgICB2YXIgb2xkVGlja2VyID0gdGhpcy5fdGlja2VyO1xuICAgICAgICAgICAgdGhpcy50aWNrZXIgPSBudWxsO1xuICAgICAgICAgICAgb2xkVGlja2VyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRpY2tlclBsdWdpbjtcbn0oKSk7XG5cbmV4cG9ydCB7IFRpY2tlciwgVGlja2VyUGx1Z2luLCBVUERBVEVfUFJJT1JJVFkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpY2tlci5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvaW50ZXJhY3Rpb24gLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvaW50ZXJhY3Rpb24gaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCwgVGVtcG9yYXJ5RGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIEhvbGRzIGFsbCBpbmZvcm1hdGlvbiByZWxhdGVkIHRvIGFuIEludGVyYWN0aW9uIGV2ZW50XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgSW50ZXJhY3Rpb25EYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEludGVyYWN0aW9uRGF0YSgpIHtcbiAgICAgICAgdGhpcy5wcmVzc3VyZSA9IDA7XG4gICAgICAgIHRoaXMucm90YXRpb25BbmdsZSA9IDA7XG4gICAgICAgIHRoaXMudHdpc3QgPSAwO1xuICAgICAgICB0aGlzLnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHBvaW50IHN0b3JlcyB0aGUgZ2xvYmFsIGNvb3JkcyBvZiB3aGVyZSB0aGUgdG91Y2gvbW91c2UgZXZlbnQgaGFwcGVuZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xvYmFsID0gbmV3IFBvaW50KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGFyZ2V0IFNwcml0ZSB0aGF0IHdhcyBpbnRlcmFjdGVkIHdpdGhcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TcHJpdGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHBhc3NlZCB0byBhbiBldmVudCBoYW5kbGVyLCB0aGlzIHdpbGwgYmUgdGhlIG9yaWdpbmFsIERPTSBFdmVudCB0aGF0IHdhcyBjYXB0dXJlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RvdWNoRXZlbnRcbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50XG4gICAgICAgICAqIEBtZW1iZXIge01vdXNlRXZlbnR8VG91Y2hFdmVudHxQb2ludGVyRXZlbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgaW50ZXJhY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZGVudGlmaWVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGV0aGVyIG9yIG5vdCB0aGUgcG9pbnRlciBkZXZpY2UgdGhhdCBjcmVhdGVkIHRoZSBldmVudCBpcyB0aGUgcHJpbWFyeSBwb2ludGVyLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvaXNQcmltYXJ5XG4gICAgICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1ByaW1hcnkgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGljaCBidXR0b24gd2FzIHByZXNzZWQgb24gdGhlIG1vdXNlIG9yIHBvaW50ZXIgZGV2aWNlIHRvIHRyaWdnZXIgdGhlIGV2ZW50LlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50L2J1dHRvblxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5idXR0b24gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoaWNoIGJ1dHRvbnMgYXJlIHByZXNzZWQgb24gdGhlIG1vdXNlIG9yIHBvaW50ZXIgZGV2aWNlIHdoZW4gdGhlIGV2ZW50IGlzIHRyaWdnZXJlZC5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25zXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJ1dHRvbnMgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeC1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAgICAgKiByYWRpdXNYIG9mIFRvdWNoRXZlbnRzIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3dpZHRoXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHBvaW50ZXIncyBjb250YWN0IGFsb25nIHRoZSB5LWF4aXMsIG1lYXN1cmVkIGluIENTUyBwaXhlbHMuXG4gICAgICAgICAqIHJhZGl1c1kgb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvaGVpZ2h0XG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5nbGUsIGluIGRlZ3JlZXMsIGJldHdlZW4gdGhlIHBvaW50ZXIgZGV2aWNlIGFuZCB0aGUgc2NyZWVuLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvdGlsdFhcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlsdFggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuZ2xlLCBpbiBkZWdyZWVzLCBiZXR3ZWVuIHRoZSBwb2ludGVyIGRldmljZSBhbmQgdGhlIHNjcmVlbi5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3RpbHRZXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpbHRZID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50LlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcG9pbnRlclR5cGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRlclR5cGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJlc3N1cmUgYXBwbGllZCBieSB0aGUgcG9pbnRpbmcgZGV2aWNlIGR1cmluZyB0aGUgZXZlbnQuIEEgVG91Y2gncyBmb3JjZSBwcm9wZXJ0eVxuICAgICAgICAgKiB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wcmVzc3VyZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmVzc3VyZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGcm9tIFRvdWNoRXZlbnRzIChub3QgUG9pbnRlckV2ZW50cyB0cmlnZ2VyZWQgYnkgdG91Y2hlcyksIHRoZSByb3RhdGlvbkFuZ2xlIG9mIHRoZSBUb3VjaC5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVG91Y2gvcm90YXRpb25BbmdsZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yb3RhdGlvbkFuZ2xlID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR3aXN0IG9mIGEgc3R5bHVzIHBvaW50ZXIuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3BvaW50ZXJldmVudHMvI3BvaW50ZXJldmVudC1pbnRlcmZhY2VcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHdpc3QgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQmFycmVsIHByZXNzdXJlIG9uIGEgc3R5bHVzIHBvaW50ZXIuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3BvaW50ZXJldmVudHMvI3BvaW50ZXJldmVudC1pbnRlcmZhY2VcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUsIFwicG9pbnRlcklkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgcG9pbnRlci4gSXQgd2lsbCBiZSB0aGUgc2FtZSBhcyBgaWRlbnRpZmllcmAuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wb2ludGVySWRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaWRlbnRpZmllcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFRoaXMgd2lsbCByZXR1cm4gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBzcGVjaWZpZWQgZGlzcGxheU9iamVjdCBmb3IgdGhpcyBJbnRlcmFjdGlvbkRhdGFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIERpc3BsYXlPYmplY3QgdGhhdCB5b3Ugd291bGQgbGlrZSB0aGUgbG9jYWxcbiAgICAgKiAgY29vcmRzIG9mZlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWwgKG90aGVyd2lzZVxuICAgICAqICB3aWxsIGNyZWF0ZSBhIG5ldyBwb2ludClcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtnbG9iYWxQb3NdIC0gQSBQb2ludCBvYmplY3QgY29udGFpbmluZyB5b3VyIGN1c3RvbSBnbG9iYWwgY29vcmRzLCBvcHRpb25hbFxuICAgICAqICAob3RoZXJ3aXNlIHdpbGwgdXNlIHRoZSBjdXJyZW50IGdsb2JhbCBjb29yZHMpXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gQSBwb2ludCBjb250YWluaW5nIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgSW50ZXJhY3Rpb25EYXRhIHBvc2l0aW9uIHJlbGF0aXZlXG4gICAgICogIHRvIHRoZSBEaXNwbGF5T2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZS5nZXRMb2NhbFBvc2l0aW9uID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QsIHBvaW50LCBnbG9iYWxQb3MpIHtcbiAgICAgICAgcmV0dXJuIGRpc3BsYXlPYmplY3Qud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKGdsb2JhbFBvcyB8fCB0aGlzLmdsb2JhbCwgcG9pbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHByb3BlcnRpZXMgZnJvbSBub3JtYWxpemVkIGV2ZW50IGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1RvdWNofE1vdXNlRXZlbnR8UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBub3JtYWxpemVkIGV2ZW50IGRhdGFcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLmNvcHlFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBpc1ByaW1hcnkgc2hvdWxkIG9ubHkgY2hhbmdlIG9uIHRvdWNoc3RhcnQvcG9pbnRlcmRvd24sIHNvIHdlIGRvbid0IHdhbnQgdG8gb3ZlcndyaXRlXG4gICAgICAgIC8vIGl0IHdpdGggXCJmYWxzZVwiIG9uIGxhdGVyIGV2ZW50cyB3aGVuIG91ciBzaGltIGZvciBpdCBvbiB0b3VjaCBldmVudHMgbWlnaHQgbm90IGJlXG4gICAgICAgIC8vIGFjY3VyYXRlXG4gICAgICAgIGlmICgnaXNQcmltYXJ5JyBpbiBldmVudCAmJiBldmVudC5pc1ByaW1hcnkpIHtcbiAgICAgICAgICAgIHRoaXMuaXNQcmltYXJ5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1dHRvbiA9ICdidXR0b24nIGluIGV2ZW50ICYmIGV2ZW50LmJ1dHRvbjtcbiAgICAgICAgLy8gZXZlbnQuYnV0dG9ucyBpcyBub3QgYXZhaWxhYmxlIGluIGFsbCBicm93c2VycyAoaWUuIFNhZmFyaSksIGJ1dCBpdCBkb2VzIGhhdmUgYSBub24tc3RhbmRhcmRcbiAgICAgICAgLy8gZXZlbnQud2hpY2ggcHJvcGVydHkgaW5zdGVhZCwgd2hpY2ggY29udmV5cyB0aGUgc2FtZSBpbmZvcm1hdGlvbi5cbiAgICAgICAgdmFyIGJ1dHRvbnMgPSAnYnV0dG9ucycgaW4gZXZlbnQgJiYgZXZlbnQuYnV0dG9ucztcbiAgICAgICAgdGhpcy5idXR0b25zID0gTnVtYmVyLmlzSW50ZWdlcihidXR0b25zKSA/IGJ1dHRvbnMgOiAnd2hpY2gnIGluIGV2ZW50ICYmIGV2ZW50LndoaWNoO1xuICAgICAgICB0aGlzLndpZHRoID0gJ3dpZHRoJyBpbiBldmVudCAmJiBldmVudC53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAnaGVpZ2h0JyBpbiBldmVudCAmJiBldmVudC5oZWlnaHQ7XG4gICAgICAgIHRoaXMudGlsdFggPSAndGlsdFgnIGluIGV2ZW50ICYmIGV2ZW50LnRpbHRYO1xuICAgICAgICB0aGlzLnRpbHRZID0gJ3RpbHRZJyBpbiBldmVudCAmJiBldmVudC50aWx0WTtcbiAgICAgICAgdGhpcy5wb2ludGVyVHlwZSA9ICdwb2ludGVyVHlwZScgaW4gZXZlbnQgJiYgZXZlbnQucG9pbnRlclR5cGU7XG4gICAgICAgIHRoaXMucHJlc3N1cmUgPSAncHJlc3N1cmUnIGluIGV2ZW50ICYmIGV2ZW50LnByZXNzdXJlO1xuICAgICAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSAncm90YXRpb25BbmdsZScgaW4gZXZlbnQgJiYgZXZlbnQucm90YXRpb25BbmdsZTtcbiAgICAgICAgdGhpcy50d2lzdCA9ICgndHdpc3QnIGluIGV2ZW50ICYmIGV2ZW50LnR3aXN0KSB8fCAwO1xuICAgICAgICB0aGlzLnRhbmdlbnRpYWxQcmVzc3VyZSA9ICgndGFuZ2VudGlhbFByZXNzdXJlJyBpbiBldmVudCAmJiBldmVudC50YW5nZW50aWFsUHJlc3N1cmUpIHx8IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIGRhdGEgZm9yIHBvb2xpbmcuXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gaXNQcmltYXJ5IGlzIHRoZSBvbmx5IHByb3BlcnR5IHRoYXQgd2UgcmVhbGx5IG5lZWQgdG8gcmVzZXQgLSBldmVyeXRoaW5nIGVsc2UgaXNcbiAgICAgICAgLy8gZ3VhcmFudGVlZCB0byBiZSBvdmVyd3JpdHRlblxuICAgICAgICB0aGlzLmlzUHJpbWFyeSA9IGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIEludGVyYWN0aW9uRGF0YTtcbn0oKSk7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIEV2ZW50IGNsYXNzIHRoYXQgbWltaWNzIG5hdGl2ZSBET00gZXZlbnRzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEludGVyYWN0aW9uRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25FdmVudCgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhpcyBldmVudCB3aWxsIGNvbnRpbnVlIHByb3BhZ2F0aW5nIGluIHRoZSB0cmVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBSZW1haW5pbmcgZXZlbnRzIGZvciB0aGUge0BsaW5rIHN0b3BzUHJvcGFnYXRpbmdBdH0gb2JqZWN0XG4gICAgICAgICAqIHdpbGwgc3RpbGwgYmUgZGlzcGF0Y2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXQgd2hpY2ggb2JqZWN0IHRoaXMgZXZlbnQgc3RvcHMgcHJvcGFnYXRpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcHNQcm9wYWdhdGluZ0F0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgd2UgYWxyZWFkeSByZWFjaGVkIHRoZSBlbGVtZW50IHdlIHdhbnQgdG9cbiAgICAgICAgICogc3RvcCBwcm9wYWdhdGluZyBhdC4gVGhpcyBpcyBpbXBvcnRhbnQgZm9yIGRlbGF5ZWQgZXZlbnRzLFxuICAgICAgICAgKiB3aGVyZSB3ZSBzdGFydCBvdmVyIGRlZXBlciBpbiB0aGUgdHJlZSBhZ2Fpbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uSGludCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9iamVjdCB3aGljaCBjYXVzZWQgdGhpcyBldmVudCB0byBiZSBkaXNwYXRjaGVkLlxuICAgICAgICAgKiBGb3IgbGlzdGVuZXIgY2FsbGJhY2sgc2VlIHtAbGluayBQSVhJLkludGVyYWN0aW9uRXZlbnQuY3VycmVudFRhcmdldH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvYmplY3Qgd2hvc2UgZXZlbnQgbGlzdGVuZXLigJlzIGNhbGxiYWNrIGlzIGN1cnJlbnRseSBiZWluZyBpbnZva2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHlwZSBvZiB0aGUgZXZlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVyYWN0aW9uRGF0YSByZWxhdGVkIHRvIHRoaXMgZXZlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JbnRlcmFjdGlvbkRhdGF9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmV2ZW50cyBldmVudCBmcm9tIHJlYWNoaW5nIGFueSBvYmplY3RzIG90aGVyIHRoYW4gdGhlIGN1cnJlbnQgb2JqZWN0LlxuICAgICAqXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25FdmVudC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbkhpbnQgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0b3BzUHJvcGFnYXRpbmdBdCA9IHRoaXMuY3VycmVudFRhcmdldDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgZXZlbnQuXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25FdmVudC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0b3BzUHJvcGFnYXRpbmdBdCA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uSGludCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gSW50ZXJhY3Rpb25FdmVudDtcbn0oKSk7XG5cbi8qKlxuICogRGlzcGxheU9iamVjdHMgd2l0aCB0aGUge0BsaW5rIFBJWEkuaW50ZXJhY3RpdmVUYXJnZXR9IG1peGluIHVzZSB0aGlzIGNsYXNzIHRvIHRyYWNrIGludGVyYWN0aW9uc1xuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBJbnRlcmFjdGlvblRyYWNraW5nRGF0YSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRlcklkIC0gVW5pcXVlIHBvaW50ZXIgaWQgb2YgdGhlIGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YShwb2ludGVySWQpIHtcbiAgICAgICAgdGhpcy5fcG9pbnRlcklkID0gcG9pbnRlcklkO1xuICAgICAgICB0aGlzLl9mbGFncyA9IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLk5PTkU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBpbnRlcmFjdGlvbiBmbGFnIHRvIHNldFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBTaG91bGQgdGhlIGZsYWcgYmUgc2V0IG9yIHVuc2V0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLl9kb1NldCA9IGZ1bmN0aW9uIChmbGFnLCB5bikge1xuICAgICAgICBpZiAoeW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsYWdzID0gdGhpcy5fZmxhZ3MgfCBmbGFnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZmxhZ3MgPSB0aGlzLl9mbGFncyAmICh+ZmxhZyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUsIFwicG9pbnRlcklkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuaXF1ZSBwb2ludGVyIGlkIG9mIHRoZSBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9pbnRlcklkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZSwgXCJmbGFnc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGF0ZSBvZiB0aGUgdHJhY2tpbmcgZGF0YSwgZXhwcmVzc2VkIGFzIGJpdCBmbGFnc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mbGFncztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZmxhZ3MpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsYWdzID0gZmxhZ3M7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLCBcIm5vbmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSXMgdGhlIHRyYWNrZWQgZXZlbnQgaW5hY3RpdmUgKG5vdCBvdmVyIG9yIGRvd24pP1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mbGFncyA9PT0gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuTk9ORTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUsIFwib3ZlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgdHJhY2tlZCBldmVudCBvdmVyIHRoZSBEaXNwbGF5T2JqZWN0P1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuT1ZFUikgIT09IDA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHluKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1NldChJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5PVkVSLCB5bik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLCBcInJpZ2h0RG93blwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiBjb21lIGRvd24gaW4gdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5SSUdIVF9ET1dOKSAhPT0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoeW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvU2V0KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLlJJR0hUX0RPV04sIHluKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUsIFwibGVmdERvd25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlkIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBjb21lIGRvd24gaW4gdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5MRUZUX0RPV04pICE9PSAwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5bikge1xuICAgICAgICAgICAgdGhpcy5fZG9TZXQoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuTEVGVF9ET1dOLCB5bik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUyA9IE9iamVjdC5mcmVlemUoe1xuICAgICAgICBOT05FOiAwLFxuICAgICAgICBPVkVSOiAxIDw8IDAsXG4gICAgICAgIExFRlRfRE9XTjogMSA8PCAxLFxuICAgICAgICBSSUdIVF9ET1dOOiAxIDw8IDIsXG4gICAgfSk7XG4gICAgcmV0dXJuIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhO1xufSgpKTtcblxuLyoqXG4gKiBTdHJhdGVneSBob3cgdG8gc2VhcmNoIHRocm91Z2ggc3RhZ2UgdHJlZSBmb3IgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICpcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUcmVlU2VhcmNoID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRyZWVTZWFyY2goKSB7XG4gICAgICAgIHRoaXMuX3RlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmUgaW1wbGVtZW50YXRpb24gZm9yIGZpbmRIaXRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBldmVudCBjb250YWluaW5nIHRoZSBwb2ludCB0aGF0XG4gICAgICogIGlzIHRlc3RlZCBmb3IgY29sbGlzaW9uXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0XG4gICAgICogIHRoYXQgd2lsbCBiZSBoaXQgdGVzdCAocmVjdXJzaXZlbHkgY3Jhd2xzIGl0cyBjaGlsZHJlbilcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZnVuY10gLSB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIGludGVyYWN0aXZlIG9iamVjdC4gVGhlXG4gICAgICogIGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QgYW5kIGhpdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoaXRUZXN0XSAtIHRoaXMgaW5kaWNhdGVzIGlmIHRoZSBvYmplY3RzIGluc2lkZSBzaG91bGQgYmUgaGl0IHRlc3QgYWdhaW5zdCB0aGUgcG9pbnRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbnRlcmFjdGl2ZV0gLSBXaGV0aGVyIHRoZSBkaXNwbGF5T2JqZWN0IGlzIGludGVyYWN0aXZlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gcmV0dXJucyB0cnVlIGlmIHRoZSBkaXNwbGF5T2JqZWN0IGhpdCB0aGUgcG9pbnRcbiAgICAgKi9cbiAgICBUcmVlU2VhcmNoLnByb3RvdHlwZS5yZWN1cnNpdmVGaW5kSGl0ID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGZ1bmMsIGhpdFRlc3QsIGludGVyYWN0aXZlKSB7XG4gICAgICAgIGlmICghZGlzcGxheU9iamVjdCB8fCAhZGlzcGxheU9iamVjdC52aXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBvaW50ID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmdsb2JhbDtcbiAgICAgICAgLy8gVG9vayBhIGxpdHRsZSB3aGlsZSB0byByZXdvcmsgdGhpcyBmdW5jdGlvbiBjb3JyZWN0bHkhIEJ1dCBub3cgaXQgaXMgZG9uZSBhbmQgbmljZSBhbmQgb3B0aW1pemVkISBeX15cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIG5vdyBsb29wIHRocm91Z2ggYWxsIG9iamVjdHMgYW5kIHRoZW4gb25seSBoaXQgdGVzdCB0aGUgb2JqZWN0cyBpdCBIQVNcbiAgICAgICAgLy8gdG8sIG5vdCBhbGwgb2YgdGhlbS4gTVVDSCBmYXN0ZXIuLlxuICAgICAgICAvLyBBbiBvYmplY3Qgd2lsbCBiZSBoaXQgdGVzdCBpZiB0aGUgZm9sbG93aW5nIGlzIHRydWU6XG4gICAgICAgIC8vXG4gICAgICAgIC8vIDE6IEl0IGlzIGludGVyYWN0aXZlLlxuICAgICAgICAvLyAyOiBJdCBiZWxvbmdzIHRvIGEgcGFyZW50IHRoYXQgaXMgaW50ZXJhY3RpdmUgQU5EIG9uZSBvZiB0aGUgcGFyZW50cyBjaGlsZHJlbiBoYXZlIG5vdCBhbHJlYWR5IGJlZW4gaGl0LlxuICAgICAgICAvL1xuICAgICAgICAvLyBBcyBhbm90aGVyIGxpdHRsZSBvcHRpbWl6YXRpb24gb25jZSBhbiBpbnRlcmFjdGl2ZSBvYmplY3QgaGFzIGJlZW4gaGl0IHdlIGNhbiBjYXJyeSBvblxuICAgICAgICAvLyB0aHJvdWdoIHRoZSBzY2VuZWdyYXBoLCBidXQgd2Uga25vdyB0aGF0IHRoZXJlIHdpbGwgYmUgbm8gbW9yZSBoaXRzISBTbyB3ZSBjYW4gYXZvaWQgZXh0cmEgaGl0IHRlc3RzXG4gICAgICAgIC8vIEEgZmluYWwgb3B0aW1pemF0aW9uIGlzIHRoYXQgYW4gb2JqZWN0IGlzIG5vdCBoaXQgdGVzdCBkaXJlY3RseSBpZiBhIGNoaWxkIGhhcyBhbHJlYWR5IGJlZW4gaGl0LlxuICAgICAgICBpbnRlcmFjdGl2ZSA9IGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUgfHwgaW50ZXJhY3RpdmU7XG4gICAgICAgIHZhciBoaXQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGludGVyYWN0aXZlUGFyZW50ID0gaW50ZXJhY3RpdmU7XG4gICAgICAgIC8vIEZsYWcgaGVyZSBjYW4gc2V0IHRvIGZhbHNlIGlmIHRoZSBldmVudCBpcyBvdXRzaWRlIHRoZSBwYXJlbnRzIGhpdEFyZWEgb3IgbWFza1xuICAgICAgICB2YXIgaGl0VGVzdENoaWxkcmVuID0gdHJ1ZTtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBoaXRBcmVhLCBubyBuZWVkIHRvIHRlc3QgYWdhaW5zdCBhbnl0aGluZyBlbHNlIGlmIHRoZSBwb2ludGVyIGlzIG5vdCB3aXRoaW4gdGhlIGhpdEFyZWFcbiAgICAgICAgLy8gVGhlcmUgaXMgYWxzbyBubyBsb25nZXIgYSBuZWVkIHRvIGhpdFRlc3QgY2hpbGRyZW4uXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmhpdEFyZWEpIHtcbiAgICAgICAgICAgIGlmIChoaXRUZXN0KSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRoaXMuX3RlbXBQb2ludCk7XG4gICAgICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LmhpdEFyZWEuY29udGFpbnModGhpcy5fdGVtcFBvaW50LngsIHRoaXMuX3RlbXBQb2ludC55KSkge1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGhpdFRlc3RDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnRlcmFjdGl2ZVBhcmVudCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgbWFzaywgbm8gbmVlZCB0byBoaXRUZXN0IGFnYWluc3QgYW55dGhpbmcgZWxzZSBpZiB0aGUgcG9pbnRlciBpcyBub3Qgd2l0aGluIHRoZSBtYXNrLlxuICAgICAgICAvLyBXZSBzdGlsbCB3YW50IHRvIGhpdFRlc3RDaGlsZHJlbiwgaG93ZXZlciwgdG8gZW5zdXJlIGEgbW91c2VvdXQgY2FuIHN0aWxsIGJlIGdlbmVyYXRlZC5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy81MTM1XG4gICAgICAgIGVsc2UgaWYgKGRpc3BsYXlPYmplY3QuX21hc2spIHtcbiAgICAgICAgICAgIGlmIChoaXRUZXN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoZGlzcGxheU9iamVjdC5fbWFzay5jb250YWluc1BvaW50ICYmIGRpc3BsYXlPYmplY3QuX21hc2suY29udGFpbnNQb2ludChwb2ludCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gKiogRlJFRSBUSVAgKiohIElmIGFuIG9iamVjdCBpcyBub3QgaW50ZXJhY3RpdmUgb3IgaGFzIG5vIGJ1dHRvbnMgaW4gaXRcbiAgICAgICAgLy8gKHN1Y2ggYXMgYSBnYW1lIHNjZW5lISkgc2V0IGludGVyYWN0aXZlQ2hpbGRyZW4gdG8gZmFsc2UgZm9yIHRoYXQgZGlzcGxheU9iamVjdC5cbiAgICAgICAgLy8gVGhpcyB3aWxsIGFsbG93IFBpeGlKUyB0byBjb21wbGV0ZWx5IGlnbm9yZSBhbmQgYnlwYXNzIGNoZWNraW5nIHRoZSBkaXNwbGF5T2JqZWN0cyBjaGlsZHJlbi5cbiAgICAgICAgaWYgKGhpdFRlc3RDaGlsZHJlbiAmJiBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlQ2hpbGRyZW4gJiYgZGlzcGxheU9iamVjdC5jaGlsZHJlbikge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIC8vIHRpbWUgdG8gZ2V0IHJlY3Vyc2l2ZS4uIGlmIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gaWYgc29tZXRoaW5nIGlzIGhpdC4uXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkSGl0ID0gdGhpcy5yZWN1cnNpdmVGaW5kSGl0KGludGVyYWN0aW9uRXZlbnQsIGNoaWxkLCBmdW5jLCBoaXRUZXN0LCBpbnRlcmFjdGl2ZVBhcmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkSGl0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGl0cyBhIGdvb2QgaWRlYSB0byBjaGVjayBpZiBhIGNoaWxkIGhhcyBsb3N0IGl0cyBwYXJlbnQuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWVhbnMgaXQgaGFzIGJlZW4gcmVtb3ZlZCB3aGlsc3QgbG9vcGluZyBzbyBpdHMgYmVzdFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gd2Ugbm8gbG9uZ2VyIG5lZWQgdG8gaGl0IHRlc3QgYW55IG1vcmUgb2JqZWN0cyBpbiB0aGlzIGNvbnRhaW5lciBhcyB3ZSB3ZVxuICAgICAgICAgICAgICAgICAgICAvLyBub3cga25vdyB0aGUgcGFyZW50IGhhcyBiZWVuIGhpdFxuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZVBhcmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY2hpbGQgaXMgaW50ZXJhY3RpdmUgLCB0aGF0IG1lYW5zIHRoYXQgdGhlIG9iamVjdCBoaXQgd2FzIGFjdHVhbGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIGludGVyYWN0aXZlIGFuZCBub3QganVzdCB0aGUgY2hpbGQgb2YgYW4gaW50ZXJhY3RpdmUgb2JqZWN0LlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIG1lYW5zIHdlIG5vIGxvbmdlciBuZWVkIHRvIGhpdCB0ZXN0IGFueXRoaW5nIGVsc2UuIFdlIHN0aWxsIG5lZWQgdG8gcnVuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRocm91Z2ggYWxsIG9iamVjdHMsIGJ1dCB3ZSBkb24ndCBuZWVkIHRvIHBlcmZvcm0gYW55IGhpdCB0ZXN0cy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkSGl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG5vIHBvaW50IHJ1bm5pbmcgdGhpcyBpZiB0aGUgaXRlbSBpcyBub3QgaW50ZXJhY3RpdmUgb3IgZG9lcyBub3QgaGF2ZSBhbiBpbnRlcmFjdGl2ZSBwYXJlbnQuXG4gICAgICAgIGlmIChpbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGhpdCB0ZXN0aW5nIChhcyBpbiB3ZSBoYXZlIG5vIGhpdCBhbnkgb2JqZWN0cyB5ZXQpXG4gICAgICAgICAgICAvLyBXZSBhbHNvIGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgaGl0IHRlc3RpbmcgaWYgb25jZSBvZiB0aGUgZGlzcGxheU9iamVjdHMgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIGhhcyBhbHJlYWR5IGJlZW4gaGl0IC0gYnV0IG9ubHkgaWYgaXQgd2FzIGludGVyYWN0aXZlLCBvdGhlcndpc2Ugd2UgbmVlZCB0byBrZWVwXG4gICAgICAgICAgICAvLyBsb29raW5nIGZvciBhbiBpbnRlcmFjdGl2ZSBjaGlsZCwganVzdCBpbiBjYXNlIHdlIGhpdCBvbmVcbiAgICAgICAgICAgIGlmIChoaXRUZXN0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgdGVzdGVkIGFnYWluc3QgaGl0QXJlYSBpZiBpdCBpcyBkZWZpbmVkXG4gICAgICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LmhpdEFyZWEgJiYgZGlzcGxheU9iamVjdC5jb250YWluc1BvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGl0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmdW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmMoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgISFoaXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGl0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBwcm92aWRlcyBhIG5lYXQgd2F5IG9mIGNyYXdsaW5nIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBydW5uaW5nIGFcbiAgICAgKiBzcGVjaWZpZWQgZnVuY3Rpb24gb24gYWxsIGludGVyYWN0aXZlIG9iamVjdHMgaXQgZmluZHMuIEl0IHdpbGwgYWxzbyB0YWtlIGNhcmUgb2YgaGl0XG4gICAgICogdGVzdGluZyB0aGUgaW50ZXJhY3RpdmUgb2JqZWN0cyBhbmQgcGFzc2VzIHRoZSBoaXQgYWNyb3NzIGluIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBldmVudCBjb250YWluaW5nIHRoZSBwb2ludCB0aGF0XG4gICAgICogIGlzIHRlc3RlZCBmb3IgY29sbGlzaW9uXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0XG4gICAgICogIHRoYXQgd2lsbCBiZSBoaXQgdGVzdCAocmVjdXJzaXZlbHkgY3Jhd2xzIGl0cyBjaGlsZHJlbilcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZnVuY10gLSB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIGludGVyYWN0aXZlIG9iamVjdC4gVGhlXG4gICAgICogIGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QgYW5kIGhpdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoaXRUZXN0XSAtIHRoaXMgaW5kaWNhdGVzIGlmIHRoZSBvYmplY3RzIGluc2lkZSBzaG91bGQgYmUgaGl0IHRlc3QgYWdhaW5zdCB0aGUgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSByZXR1cm5zIHRydWUgaWYgdGhlIGRpc3BsYXlPYmplY3QgaGl0IHRoZSBwb2ludFxuICAgICAqL1xuICAgIFRyZWVTZWFyY2gucHJvdG90eXBlLmZpbmRIaXQgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCkge1xuICAgICAgICB0aGlzLnJlY3Vyc2l2ZUZpbmRIaXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCwgZmFsc2UpO1xuICAgIH07XG4gICAgcmV0dXJuIFRyZWVTZWFyY2g7XG59KCkpO1xuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgY2xhc3NlcyB0aGF0IHJlcHJlc2VudCBhIGhpdCBhcmVhLlxuICpcbiAqIEl0IGlzIGltcGxlbWVudGVkIGJ5IHRoZSBmb2xsb3dpbmcgY2xhc3NlczpcbiAqIC0ge0BsaW5rIFBJWEkuQ2lyY2xlfVxuICogLSB7QGxpbmsgUElYSS5FbGxpcHNlfVxuICogLSB7QGxpbmsgUElYSS5Qb2x5Z29ufVxuICogLSB7QGxpbmsgUElYSS5Sb3VuZGVkUmVjdGFuZ2xlfVxuICpcbiAqIEBpbnRlcmZhY2UgSUhpdEFyZWFcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBhcmVhXG4gKlxuICogQG1ldGhvZFxuICogQG5hbWUgY29udGFpbnNcbiAqIEBtZW1iZXJvZiBQSVhJLklIaXRBcmVhI1xuICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgYXJlYVxuICovXG4vKipcbiAqIERlZmF1bHQgcHJvcGVydHkgdmFsdWVzIG9mIGludGVyYWN0aXZlIG9iamVjdHNcbiAqIFVzZWQgYnkge0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyfSB0byBhdXRvbWF0aWNhbGx5IGdpdmUgYWxsIERpc3BsYXlPYmplY3RzIHRoZXNlIHByb3BlcnRpZXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaW50ZXJhY3RpdmVUYXJnZXRcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgT2JqZWN0LmFzc2lnbihcbiAqICAgICAgICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLFxuICogICAgICAgICAgUElYSS5pbnRlcmFjdGl2ZVRhcmdldFxuICogICAgICApO1xuICovXG52YXIgaW50ZXJhY3RpdmVUYXJnZXQgPSB7XG4gICAgLyoqXG4gICAgICogRW5hYmxlIGludGVyYWN0aW9uIGV2ZW50cyBmb3IgdGhlIERpc3BsYXlPYmplY3QuIFRvdWNoLCBwb2ludGVyIGFuZCBtb3VzZVxuICAgICAqIGV2ZW50cyB3aWxsIG5vdCBiZSBlbWl0dGVkIHVubGVzcyBgaW50ZXJhY3RpdmVgIGlzIHNldCB0byBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5vbigndGFwJywgKGV2ZW50KSA9PiB7XG4gICAgICogICAgLy9oYW5kbGUgZXZlbnRcbiAgICAgKiB9KTtcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgaW50ZXJhY3RpdmU6IGZhbHNlLFxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhlIGNoaWxkcmVuIHRvIHRoZSBkaXNwbGF5T2JqZWN0IGNhbiBiZSBjbGlja2VkL3RvdWNoZWRcbiAgICAgKiBTZXR0aW5nIHRoaXMgdG8gZmFsc2UgYWxsb3dzIFBpeGlKUyB0byBieXBhc3MgYSByZWN1cnNpdmUgYGhpdFRlc3RgIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAgICAgKi9cbiAgICBpbnRlcmFjdGl2ZUNoaWxkcmVuOiB0cnVlLFxuICAgIC8qKlxuICAgICAqIEludGVyYWN0aW9uIHNoYXBlLiBDaGlsZHJlbiB3aWxsIGJlIGhpdCBmaXJzdCwgdGhlbiB0aGlzIHNoYXBlIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgKiBTZXR0aW5nIHRoaXMgd2lsbCBjYXVzZSB0aGlzIHNoYXBlIHRvIGJlIGNoZWNrZWQgaW4gaGl0IHRlc3RzIHJhdGhlciB0aGFuIHRoZSBkaXNwbGF5T2JqZWN0J3MgYm91bmRzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUuaGl0QXJlYSA9IG5ldyBQSVhJLlJlY3RhbmdsZSgwLCAwLCAxMDAsIDEwMCk7XG4gICAgICogQG1lbWJlciB7UElYSS5JSGl0QXJlYX1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGhpdEFyZWE6IG51bGwsXG4gICAgLyoqXG4gICAgICogSWYgZW5hYmxlZCwgdGhlIG1vdXNlIGN1cnNvciB1c2UgdGhlIHBvaW50ZXIgYmVoYXZpb3Igd2hlbiBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QgaWYgaXQgaXMgaW50ZXJhY3RpdmVcbiAgICAgKiBTZXR0aW5nIHRoaXMgY2hhbmdlcyB0aGUgJ2N1cnNvcicgcHJvcGVydHkgdG8gYCdwb2ludGVyJ2AuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5idXR0b25Nb2RlID0gdHJ1ZTtcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgZ2V0IGJ1dHRvbk1vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInO1xuICAgIH0sXG4gICAgc2V0IGJ1dHRvbk1vZGUodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFRoaXMgZGVmaW5lcyB3aGF0IGN1cnNvciBtb2RlIGlzIHVzZWQgd2hlbiB0aGUgbW91c2UgY3Vyc29yXG4gICAgICogaXMgaG92ZXJlZCBvdmVyIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUuY3Vyc29yID0gJ3dhaXQnO1xuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQ1NTL2N1cnNvclxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgY3Vyc29yOiBudWxsLFxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHNldCBvZiBhbGwgYWN0aXZlIHBvaW50ZXJzLCBieSBpZGVudGlmaWVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtNYXA8bnVtYmVyLCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YT59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldCB0cmFja2VkUG9pbnRlcnMoKSB7XG4gICAgICAgIGlmICh0aGlzLl90cmFja2VkUG9pbnRlcnMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHsgdGhpcy5fdHJhY2tlZFBvaW50ZXJzID0ge307IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYWNrZWRQb2ludGVycztcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIE1hcCBvZiBhbGwgdHJhY2tlZCBwb2ludGVycywgYnkgaWRlbnRpZmllci4gVXNlIHRyYWNrZWRQb2ludGVycyB0byBhY2Nlc3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtNYXA8bnVtYmVyLCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YT59XG4gICAgICovXG4gICAgX3RyYWNrZWRQb2ludGVyczogdW5kZWZpbmVkLFxufTtcblxuLy8gTWl4IGludGVyYWN0aXZlVGFyZ2V0IGludG8gRGlzcGxheU9iamVjdC5wcm90b3R5cGUsXG4vLyBhZnRlciBkZXByZWNhdGlvbiBoYXMgYmVlbiBoYW5kbGVkXG5EaXNwbGF5T2JqZWN0Lm1peGluKGludGVyYWN0aXZlVGFyZ2V0KTtcbnZhciBNT1VTRV9QT0lOVEVSX0lEID0gMTtcbi8vIGhlbHBlcnMgZm9yIGhpdFRlc3QoKSAtIG9ubHkgdXNlZCBpbnNpZGUgaGl0VGVzdCgpXG52YXIgaGl0VGVzdEV2ZW50ID0ge1xuICAgIHRhcmdldDogbnVsbCxcbiAgICBkYXRhOiB7XG4gICAgICAgIGdsb2JhbDogbnVsbCxcbiAgICB9LFxufTtcbi8qKlxuICogVGhlIGludGVyYWN0aW9uIG1hbmFnZXIgZGVhbHMgd2l0aCBtb3VzZSwgdG91Y2ggYW5kIHBvaW50ZXIgZXZlbnRzLlxuICpcbiAqIEFueSBEaXNwbGF5T2JqZWN0IGNhbiBiZSBpbnRlcmFjdGl2ZSBpZiBpdHMgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBpcyBzZXQgdG8gdHJ1ZS5cbiAqXG4gKiBUaGlzIG1hbmFnZXIgYWxzbyBzdXBwb3J0cyBtdWx0aXRvdWNoLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgYHJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb25gXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEludGVyYWN0aW9uTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW50ZXJhY3Rpb25NYW5hZ2VyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcnxQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdD10cnVlXSAtIFNob3VsZCB0aGUgbWFuYWdlciBhdXRvbWF0aWNhbGx5IHByZXZlbnQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmludGVyYWN0aW9uRnJlcXVlbmN5PTEwXSAtIE1heGltdW0gcmVxdWVuY3kgKG1zKSBhdCBwb2ludGVyIG92ZXIvb3V0IHN0YXRlcyB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnVzZVN5c3RlbVRpY2tlcj10cnVlXSAtIFdoZXRoZXIgdG8gYWRkIHtAbGluayB0aWNrZXJVcGRhdGV9IHRvIHtAbGluayBQSVhJLlRpY2tlci5zeXN0ZW19LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEludGVyYWN0aW9uTWFuYWdlcihyZW5kZXJlciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIGludGVyYWN0aW9uIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdWxkIGRlZmF1bHQgYnJvd3NlciBhY3Rpb25zIGF1dG9tYXRpY2FsbHkgYmUgcHJldmVudGVkLlxuICAgICAgICAgKiBEb2VzIG5vdCBhcHBseSB0byBwb2ludGVyIGV2ZW50cyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICogcHJldmVudERlZmF1bHQgb24gcG9pbnRlciBldmVudHMgc3RvcHMgbW91c2UgZXZlbnRzIGZyb20gZmlyaW5nXG4gICAgICAgICAqIFRodXMsIGZvciBldmVyeSBwb2ludGVyIGV2ZW50LCB0aGVyZSB3aWxsIGFsd2F5cyBiZSBlaXRoZXIgYSBtb3VzZSBvZiB0b3VjaCBldmVudCBhbG9uZ3NpZGUgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9QcmV2ZW50RGVmYXVsdCA9IG9wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdCA6IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXhpbXVtIHJlcXVlbmN5IGluIG1pbGxpc2Vjb25kcyBhdCB3aGljaCBwb2ludGVyIG92ZXIvb3V0IHN0YXRlcyB3aWxsIGJlIGNoZWNrZWQgYnkge0BsaW5rIHRpY2tlclVwZGF0ZX0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5ID0gb3B0aW9ucy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSB8fCAxMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb3VzZSBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSW50ZXJhY3Rpb25EYXRhfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubW91c2UgPSBuZXcgSW50ZXJhY3Rpb25EYXRhKCk7XG4gICAgICAgIF90aGlzLm1vdXNlLmlkZW50aWZpZXIgPSBNT1VTRV9QT0lOVEVSX0lEO1xuICAgICAgICAvLyBzZXR0aW5nIHRoZSBtb3VzZSB0byBzdGFydCBvZmYgZmFyIG9mZiBzY3JlZW4gd2lsbCBtZWFuIHRoYXQgbW91c2Ugb3ZlciBkb2VzXG4gICAgICAgIC8vICBub3QgZ2V0IGNhbGxlZCBiZWZvcmUgd2UgZXZlbiBtb3ZlIHRoZSBtb3VzZS5cbiAgICAgICAgX3RoaXMubW91c2UuZ2xvYmFsLnNldCgtOTk5OTk5KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2ZWx5IHRyYWNrZWQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48bnVtYmVyLFBJWEkuSW50ZXJhY3Rpb25EYXRhPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSA9IHt9O1xuICAgICAgICBfdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbTU9VU0VfUE9JTlRFUl9JRF0gPSBfdGhpcy5tb3VzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgdW51c2VkIEludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkludGVyYWN0aW9uRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbCA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gZXZlbnQgZGF0YSBvYmplY3QgdG8gaGFuZGxlIGFsbCB0aGUgZXZlbnQgdHJhY2tpbmcvZGlzcGF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXZlbnREYXRhID0gbmV3IEludGVyYWN0aW9uRXZlbnQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBET00gZWxlbWVudCB0byBiaW5kIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcHJvcGVydHkgZGV0ZXJtaW5lcyBpZiBtb3VzZW1vdmUgYW5kIHRvdWNobW92ZSBldmVudHMgYXJlIGZpcmVkIG9ubHkgd2hlbiB0aGUgY3Vyc29yXG4gICAgICAgICAqIGlzIG92ZXIgdGhlIG9iamVjdC5cbiAgICAgICAgICogU2V0dGluZyB0byB0cnVlIHdpbGwgbWFrZSB0aGluZ3Mgd29yayBtb3JlIGluIGxpbmUgd2l0aCBob3cgdGhlIERPTSB2ZXJzaW9uIHdvcmtzLlxuICAgICAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIGNhbiBtYWtlIHRoaW5ncyBlYXNpZXIgZm9yIHRoaW5ncyBsaWtlIGRyYWdnaW5nXG4gICAgICAgICAqIEl0IGlzIGN1cnJlbnRseSBzZXQgdG8gZmFsc2UgYXMgdGhpcyBpcyBob3cgUGl4aUpTIHVzZWQgdG8gd29yay4gVGhpcyB3aWxsIGJlIHNldCB0byB0cnVlIGluXG4gICAgICAgICAqIGZ1dHVyZSB2ZXJzaW9ucyBvZiBwaXhpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubW92ZVdoZW5JbnNpZGUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhdmUgZXZlbnRzIGJlZW4gYXR0YWNoZWQgdG8gdGhlIGRvbSBlbGVtZW50P1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSGFzIHRoZSBzeXN0ZW0gdGlja2VyIGJlZW4gYWRkZWQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpY2tlckFkZGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgbW91c2UgaG92ZXJpbmcgb3ZlciB0aGUgcmVuZGVyZXI/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCB0b3VjaCBldmVudHNcbiAgICAgICAgICogaHR0cHM6Ly93d3cudzMub3JnL1RSL3RvdWNoLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93O1xuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyB0aGUgZGV2aWNlIHN1cHBvcnQgcG9pbnRlciBldmVudHNcbiAgICAgICAgICogaHR0cHM6Ly93d3cudzMub3JnL1N1Ym1pc3Npb24vcG9pbnRlci1ldmVudHMvXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzID0gISF3aW5kb3cuUG9pbnRlckV2ZW50O1xuICAgICAgICAvLyB0aGlzIHdpbGwgbWFrZSBpdCBzbyB0aGF0IHlvdSBkb24ndCBoYXZlIHRvIGNhbGwgYmluZCBhbGwgdGhlIHRpbWVcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyVXAgPSBfdGhpcy5vblBvaW50ZXJVcC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJVcCA9IF90aGlzLnByb2Nlc3NQb2ludGVyVXAuYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlckNhbmNlbCA9IF90aGlzLm9uUG9pbnRlckNhbmNlbC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSBfdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbC5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyRG93biA9IF90aGlzLm9uUG9pbnRlckRvd24uYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyRG93biA9IF90aGlzLnByb2Nlc3NQb2ludGVyRG93bi5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyTW92ZSA9IF90aGlzLm9uUG9pbnRlck1vdmUuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IF90aGlzLnByb2Nlc3NQb2ludGVyTW92ZS5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyT3V0ID0gX3RoaXMub25Qb2ludGVyT3V0LmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSBfdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQuYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlck92ZXIgPSBfdGhpcy5vblBvaW50ZXJPdmVyLmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGljdGlvbmFyeSBvZiBob3cgZGlmZmVyZW50IGN1cnNvciBtb2RlcyBhcmUgaGFuZGxlZC4gU3RyaW5ncyBhcmUgaGFuZGxlZCBhcyBDU1MgY3Vyc29yXG4gICAgICAgICAqIHZhbHVlcywgb2JqZWN0cyBhcmUgaGFuZGxlZCBhcyBkaWN0aW9uYXJpZXMgb2YgQ1NTIHZhbHVlcyBmb3IgaW50ZXJhY3Rpb25ET01FbGVtZW50LFxuICAgICAgICAgKiBhbmQgZnVuY3Rpb25zIGFyZSBjYWxsZWQgaW5zdGVhZCBvZiBjaGFuZ2luZyB0aGUgQ1NTLlxuICAgICAgICAgKiBEZWZhdWx0IENTUyBjdXJzb3IgdmFsdWVzIGFyZSBwcm92aWRlZCBmb3IgJ2RlZmF1bHQnIGFuZCAncG9pbnRlcicgbW9kZXMuXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48c3RyaW5nLCBPYmplY3Q+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3Vyc29yU3R5bGVzID0ge1xuICAgICAgICAgICAgZGVmYXVsdDogJ2luaGVyaXQnLFxuICAgICAgICAgICAgcG9pbnRlcjogJ3BvaW50ZXInLFxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vZGUgb2YgdGhlIGN1cnNvciB0aGF0IGlzIGJlaW5nIHVzZWQuXG4gICAgICAgICAqIFRoZSB2YWx1ZSBvZiB0aGlzIGlzIGEga2V5IGZyb20gdGhlIGN1cnNvclN0eWxlcyBkaWN0aW9uYXJ5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBjYWNoZWQgbGV0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpby5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlbGF5ZWQgcG9pbnRlciBldmVudHMuIFVzZWQgdG8gZ3VhcmFudGVlIGNvcnJlY3Qgb3JkZXJpbmcgb2Ygb3Zlci9vdXQgZXZlbnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlbGF5ZWRFdmVudHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyZWVTZWFyY2ggY29tcG9uZW50IHRoYXQgaXMgdXNlZCB0byBoaXRUZXN0IHN0YWdlIHRyZWVcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UcmVlU2VhcmNofVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2VhcmNoID0gbmV3IFRyZWVTZWFyY2goKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYXMgYSBsYXN0IHJlbmRlcmVkIG9iamVjdCBpbiBjYXNlIHJlbmRlcmVyIGRvZXNudCBoYXZlIF9sYXN0T2JqZWN0UmVuZGVyZWRcbiAgICAgICAgICogQG1lbWJlciB7RGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZW1wRGlzcGxheU9iamVjdCA9IG5ldyBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2Vkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHRkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNldXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNyaWdodHVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvblxuICAgICAgICAgKiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNyaWdodGNsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZVxuICAgICAgICAgKiBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW21vdXNlZG93bl17QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6bW91c2Vkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNldXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbcmlnaHRkb3duXXtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNldmVudDpyaWdodGRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHR1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlbW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2VvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogTm90IGFsd2F5cyBmaXJlZCB3aGVuIHNvbWUgYnV0dG9ucyBhcmUgaGVsZCBkb3duIHdoaWxlIG90aGVycyBhcmUgcmVsZWFzZWQuIEluIHRob3NlIGNhc2VzLFxuICAgICAgICAgKiB1c2UgW21vdXNlZG93bl17QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6bW91c2Vkb3dufSBhbmRcbiAgICAgICAgICogW21vdXNldXBde0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNldXB9IGluc3RlYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSBwb2ludGVyIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3BvaW50ZXJkb3duXXtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNldmVudDpwb2ludGVyZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVybW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hzdGFydFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hlbmRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSB0b3VjaFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIGFuZCByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjdGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgb3V0c2lkZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFt0b3VjaHN0YXJ0XXtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNldmVudDp0b3VjaHN0YXJ0fS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoZW5kb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBtb3ZlZCBhbG9uZyB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaG1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkuXG4gICAgICAgICAqIG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2Vkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogb24gdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodGRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZXVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodHVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvblxuICAgICAgICAgKiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I2NsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHRjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGVcbiAgICAgICAgICogZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFttb3VzZWRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDptb3VzZWRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZXVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW3JpZ2h0ZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnJpZ2h0ZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0dXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgcG9pbnRlciBldmVudC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcmNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3BvaW50ZXJkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6cG9pbnRlcmRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVybW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaHN0YXJ0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoZW5kXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgdG91Y2guXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgb3V0c2lkZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFt0b3VjaHN0YXJ0XXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6dG91Y2hzdGFydH0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoZW5kb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBtb3ZlZCBhbG9uZyB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNobW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3VzZVN5c3RlbVRpY2tlciA9IG9wdGlvbnMudXNlU3lzdGVtVGlja2VyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnVzZVN5c3RlbVRpY2tlciA6IHRydWU7XG4gICAgICAgIF90aGlzLnNldFRhcmdldEVsZW1lbnQoX3RoaXMucmVuZGVyZXIudmlldywgX3RoaXMucmVuZGVyZXIucmVzb2x1dGlvbik7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUsIFwidXNlU3lzdGVtVGlja2VyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCB0aGUgSW50ZXJhY3Rpb25NYW5hZ2VyIGF1dG9tYXRpY2FsbHkgYWRkIHtAbGluayB0aWNrZXJVcGRhdGV9IHRvIHtAbGluayBQSVhJLlRpY2tlci5zeXN0ZW19LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91c2VTeXN0ZW1UaWNrZXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHVzZVN5c3RlbVRpY2tlcikge1xuICAgICAgICAgICAgdGhpcy5fdXNlU3lzdGVtVGlja2VyID0gdXNlU3lzdGVtVGlja2VyO1xuICAgICAgICAgICAgaWYgKHVzZVN5c3RlbVRpY2tlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkVGlja2VyTGlzdGVuZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlVGlja2VyTGlzdGVuZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLCBcImxhc3RPYmplY3RSZW5kZXJlZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMYXN0IHJlbmRlcmVkIG9iamVjdCBvciB0ZW1wIG9iamVjdFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQgfHwgdGhpcy5fdGVtcERpc3BsYXlPYmplY3Q7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBIaXQgdGVzdHMgYSBwb2ludCBhZ2FpbnN0IHRoZSBkaXNwbGF5IHRyZWUsIHJldHVybmluZyB0aGUgZmlyc3QgaW50ZXJhY3RpdmUgb2JqZWN0IHRoYXQgaXMgaGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBnbG9iYWxQb2ludCAtIEEgcG9pbnQgdG8gaGl0IHRlc3Qgd2l0aCwgaW4gZ2xvYmFsIHNwYWNlLlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IFtyb290XSAtIFRoZSByb290IGRpc3BsYXkgb2JqZWN0IHRvIHN0YXJ0IGZyb20uIElmIG9taXR0ZWQsIGRlZmF1bHRzXG4gICAgICogdG8gdGhlIGxhc3QgcmVuZGVyZWQgcm9vdCBvZiB0aGUgYXNzb2NpYXRlZCByZW5kZXJlci5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBoaXQgZGlzcGxheSBvYmplY3QsIGlmIGFueS5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmhpdFRlc3QgPSBmdW5jdGlvbiAoZ2xvYmFsUG9pbnQsIHJvb3QpIHtcbiAgICAgICAgLy8gY2xlYXIgdGhlIHRhcmdldCBmb3Igb3VyIGhpdCB0ZXN0XG4gICAgICAgIGhpdFRlc3RFdmVudC50YXJnZXQgPSBudWxsO1xuICAgICAgICAvLyBhc3NpZ24gdGhlIGdsb2JhbCBwb2ludFxuICAgICAgICBoaXRUZXN0RXZlbnQuZGF0YS5nbG9iYWwgPSBnbG9iYWxQb2ludDtcbiAgICAgICAgLy8gZW5zdXJlIHNhZmV0eSBvZiB0aGUgcm9vdFxuICAgICAgICBpZiAoIXJvb3QpIHtcbiAgICAgICAgICAgIHJvb3QgPSB0aGlzLmxhc3RPYmplY3RSZW5kZXJlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBydW4gdGhlIGhpdCB0ZXN0XG4gICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGhpdFRlc3RFdmVudCwgcm9vdCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIC8vIHJldHVybiBvdXIgZm91bmQgb2JqZWN0IC0gaXQnbGwgYmUgbnVsbCBpZiB3ZSBkaWRuJ3QgaGl0IGFueXRoaW5nXG4gICAgICAgIHJldHVybiBoaXRUZXN0RXZlbnQudGFyZ2V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgRE9NIGVsZW1lbnQgd2hpY2ggd2lsbCByZWNlaXZlIG1vdXNlL3RvdWNoIGV2ZW50cy4gVGhpcyBpcyB1c2VmdWwgZm9yIHdoZW4geW91IGhhdmVcbiAgICAgKiBvdGhlciBET00gZWxlbWVudHMgb24gdG9wIG9mIHRoZSByZW5kZXJlcnMgQ2FudmFzIGVsZW1lbnQuIFdpdGggdGhpcyB5b3UnbGwgYmUgYmFsZSB0byBkZWxlZ2F0ZVxuICAgICAqIGFub3RoZXIgRE9NIGVsZW1lbnQgdG8gcmVjZWl2ZSB0aG9zZSBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gdGhlIERPTSBlbGVtZW50IHdoaWNoIHdpbGwgcmVjZWl2ZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBuZXcgZWxlbWVudCAocmVsYXRpdmUgdG8gdGhlIGNhbnZhcykuXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5zZXRUYXJnZXRFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQsIHJlc29sdXRpb24pIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uID0gMTsgfVxuICAgICAgICB0aGlzLnJlbW92ZVRpY2tlckxpc3RlbmVyKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5hZGRFdmVudHMoKTtcbiAgICAgICAgdGhpcy5hZGRUaWNrZXJMaXN0ZW5lcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIHRoZSB0aWNrZXIgbGlzdGVuZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5hZGRUaWNrZXJMaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudGlja2VyQWRkZWQgfHwgIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50IHx8ICF0aGlzLl91c2VTeXN0ZW1UaWNrZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZCh0aGlzLnRpY2tlclVwZGF0ZSwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLklOVEVSQUNUSU9OKTtcbiAgICAgICAgdGhpcy50aWNrZXJBZGRlZCA9IHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIHRpY2tlciBsaXN0ZW5lclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlbW92ZVRpY2tlckxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMudGlja2VyQWRkZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBUaWNrZXIuc3lzdGVtLnJlbW92ZSh0aGlzLnRpY2tlclVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMudGlja2VyQWRkZWQgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhbGwgdGhlIERPTSBldmVudHNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmV2ZW50c0FkZGVkIHx8ICF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlO1xuICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG4gICAgICAgICAgICBzdHlsZS5tc0NvbnRlbnRab29taW5nID0gJ25vbmUnO1xuICAgICAgICAgICAgc3R5bGUubXNUb3VjaEFjdGlvbiA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgc3R5bGUudG91Y2hBY3Rpb24gPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZXNlIGV2ZW50cyBhcmUgYWRkZWQgZmlyc3QsIHNvIHRoYXQgaWYgcG9pbnRlciBldmVudHMgYXJlIG5vcm1hbGl6ZWQsIHRoZXkgYXJlIGZpcmVkXG4gICAgICAgICAqIGluIHRoZSBzYW1lIG9yZGVyIGFzIG5vbi1ub3JtYWxpemVkIGV2ZW50cy4gaWUuIHBvaW50ZXIgZXZlbnQgMXN0LCBtb3VzZSAvIHRvdWNoIDJuZFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgLy8gcG9pbnRlcm91dCBpcyBmaXJlZCBpbiBhZGRpdGlvbiB0byBwb2ludGVydXAgKGZvciB0b3VjaCBldmVudHMpIGFuZCBwb2ludGVyY2FuY2VsXG4gICAgICAgICAgICAvLyB3ZSBhbHJlYWR5IGhhbmRsZSB0aG9zZSwgc28gZm9yIHRoZSBwdXJwb3NlcyBvZiB3aGF0IHdlIGRvIGluIG9uUG9pbnRlck91dCwgd2Ugb25seVxuICAgICAgICAgICAgLy8gY2FyZSBhYm91dCB0aGUgcG9pbnRlcmxlYXZlIGV2ZW50XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWx3YXlzIGxvb2sgZGlyZWN0bHkgZm9yIHRvdWNoIGV2ZW50cyBzbyB0aGF0IHdlIGNhbiBwcm92aWRlIG9yaWdpbmFsIGRhdGFcbiAgICAgICAgLy8gSW4gYSBmdXR1cmUgdmVyc2lvbiB3ZSBzaG91bGQgY2hhbmdlIHRoaXMgdG8gYmVpbmcganVzdCBhIGZhbGxiYWNrIGFuZCByZWx5IHNvbGVseSBvblxuICAgICAgICAvLyBQb2ludGVyRXZlbnRzIHdoZW5ldmVyIGF2YWlsYWJsZVxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCB0aGUgRE9NIGV2ZW50cyB0aGF0IHdlcmUgcHJldmlvdXNseSByZWdpc3RlcmVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZXZlbnRzQWRkZWQgfHwgIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGU7XG4gICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpIHtcbiAgICAgICAgICAgIHN0eWxlLm1zQ29udGVudFpvb21pbmcgPSAnJztcbiAgICAgICAgICAgIHN0eWxlLm1zVG91Y2hBY3Rpb24gPSAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgc3R5bGUudG91Y2hBY3Rpb24gPSAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgc3RhdGUgb2YgaW50ZXJhY3RpdmUgb2JqZWN0cyBpZiBhdCBsZWFzdCB7QGxpbmsgaW50ZXJhY3Rpb25GcmVxdWVuY3l9XG4gICAgICogbWlsbGlzZWNvbmRzIGhhdmUgcGFzc2VkIHNpbmNlIHRoZSBsYXN0IGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiBJbnZva2VkIGJ5IGEgdGhyb3R0bGVkIHRpY2tlciB1cGRhdGUgZnJvbSB7QGxpbmsgUElYSS5UaWNrZXIuc3lzdGVtfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSB0aW1lIGRlbHRhIHNpbmNlIHRoZSBsYXN0IGNhbGxcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnRpY2tlclVwZGF0ZSA9IGZ1bmN0aW9uIChkZWx0YVRpbWUpIHtcbiAgICAgICAgdGhpcy5fZGVsdGFUaW1lICs9IGRlbHRhVGltZTtcbiAgICAgICAgaWYgKHRoaXMuX2RlbHRhVGltZSA8IHRoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kZWx0YVRpbWUgPSAwO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgc3RhdGUgb2YgaW50ZXJhY3RpdmUgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIG1vdmUgdGhlIG1vdXNlIHRoaXMgY2hlY2sgaGFzIGFscmVhZHkgYmVlbiBkb25lIHVzaW5nIHRoZSBtb3VzZSBtb3ZlIVxuICAgICAgICBpZiAodGhpcy5fZGlkTW92ZSkge1xuICAgICAgICAgICAgdGhpcy5fZGlkTW92ZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgLy8gUmVzZXRzIHRoZSBmbGFnIGFzIHNldCBieSBhIHN0b3BQcm9wYWdhdGlvbiBjYWxsLiBUaGlzIGZsYWcgaXMgdXN1YWxseSByZXNldCBieSBhIHVzZXIgaW50ZXJhY3Rpb24gb2YgYW55IGtpbmQsXG4gICAgICAgIC8vIGJ1dCB0aGVyZSB3YXMgYSBzY2VuYXJpbyBvZiBhIGRpc3BsYXkgb2JqZWN0IG1vdmluZyB1bmRlciBhIHN0YXRpYyBtb3VzZSBjdXJzb3IuXG4gICAgICAgIC8vIEluIHRoaXMgY2FzZSwgbW91c2VvdmVyIGFuZCBtb3VzZWV2ZW50cyB3b3VsZCBub3QgcGFzcyB0aGUgZmxhZyB0ZXN0IGluIGRpc3BhdGNoRXZlbnQgZnVuY3Rpb25cbiAgICAgICAgZm9yICh2YXIgayBpbiB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW2tdO1xuICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCAmJiBpbnRlcmFjdGlvbkRhdGEucG9pbnRlclR5cGUgIT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMubGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZSh0aGlzLmN1cnNvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IGN1cnNvciBtb2RlLCBoYW5kbGluZyBhbnkgY2FsbGJhY2tzIG9yIENTUyBzdHlsZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBjdXJzb3IgbW9kZSwgYSBrZXkgZnJvbSB0aGUgY3Vyc29yU3R5bGVzIGRpY3Rpb25hcnlcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnNldEN1cnNvck1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xuICAgICAgICBtb2RlID0gbW9kZSB8fCAnZGVmYXVsdCc7XG4gICAgICAgIC8vIGlmIHRoZSBtb2RlIGRpZG4ndCBhY3R1YWxseSBjaGFuZ2UsIGJhaWwgZWFybHlcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEN1cnNvck1vZGUgPT09IG1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID0gbW9kZTtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5jdXJzb3JTdHlsZXNbbW9kZV07XG4gICAgICAgIC8vIG9ubHkgZG8gdGhpbmdzIGlmIHRoZXJlIGlzIGEgY3Vyc29yIHN0eWxlIGZvciBpdFxuICAgICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHN0eWxlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RyaW5nIHN0eWxlcyBhcmUgaGFuZGxlZCBhcyBjdXJzb3IgQ1NTXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvciA9IHN0eWxlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIC8vIGZ1bmN0aW9ucyBhcmUganVzdCBjYWxsZWQsIGFuZCBwYXNzZWQgdGhlIGN1cnNvciBtb2RlXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlKG1vZGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCBpcyBhbiBvYmplY3QsIGFzc3VtZSB0aGF0IGl0IGlzIGEgZGljdGlvbmFyeSBvZiBDU1Mgc3R5bGVzLFxuICAgICAgICAgICAgICAgICAgICAvLyBhcHBseSBpdCB0byB0aGUgaW50ZXJhY3Rpb25ET01FbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUsIHN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1vZGUgPT09ICdzdHJpbmcnICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jdXJzb3JTdHlsZXMsIG1vZGUpKSB7XG4gICAgICAgICAgICAvLyBpZiBpdCBtb2RlIGlzIGEgc3RyaW5nIChub3QgYSBTeW1ib2wpIGFuZCBjdXJzb3JTdHlsZXMgZG9lc24ndCBoYXZlIGFueSBlbnRyeVxuICAgICAgICAgICAgLy8gZm9yIHRoZSBtb2RlLCB0aGVuIGFzc3VtZSB0aGF0IHRoZSBkZXYgd2FudHMgaXQgdG8gYmUgQ1NTIGZvciB0aGUgY3Vyc29yLlxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUuY3Vyc29yID0gbW9kZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlcyBhbiBldmVudCBvbiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgaW50ZXJhY3RlZCB3aXRoXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXkgb2JqZWN0IGluIHF1ZXN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50U3RyaW5nIC0gdGhlIG5hbWUgb2YgdGhlIGV2ZW50IChlLmcsIG1vdXNlZG93bilcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnREYXRhIC0gdGhlIGV2ZW50IGRhdGEgb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSkge1xuICAgICAgICAvLyBFdmVuIGlmIHRoZSBldmVudCB3YXMgc3RvcHBlZCwgYXQgbGVhc3QgZGlzcGF0Y2ggYW55IHJlbWFpbmluZyBldmVudHNcbiAgICAgICAgLy8gZm9yIHRoZSBzYW1lIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICBpZiAoIWV2ZW50RGF0YS5zdG9wUHJvcGFnYXRpb25IaW50IHx8IGRpc3BsYXlPYmplY3QgPT09IGV2ZW50RGF0YS5zdG9wc1Byb3BhZ2F0aW5nQXQpIHtcbiAgICAgICAgICAgIGV2ZW50RGF0YS5jdXJyZW50VGFyZ2V0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgIGV2ZW50RGF0YS50eXBlID0gZXZlbnRTdHJpbmc7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LmVtaXQoZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSk7XG4gICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdFtldmVudFN0cmluZ10pIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0W2V2ZW50U3RyaW5nXShldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQdXRzIGEgZXZlbnQgb24gYSBxdWV1ZSB0byBiZSBkaXNwYXRjaGVkIGxhdGVyLiBUaGlzIGlzIHVzZWQgdG8gZ3VhcmFudGVlIGNvcnJlY3RcbiAgICAgKiBvcmRlcmluZyBvZiBvdmVyL291dCBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXkgb2JqZWN0IGluIHF1ZXN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50U3RyaW5nIC0gdGhlIG5hbWUgb2YgdGhlIGV2ZW50IChlLmcsIG1vdXNlZG93bilcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnREYXRhIC0gdGhlIGV2ZW50IGRhdGEgb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmRlbGF5RGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIChkaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZywgZXZlbnREYXRhKSB7XG4gICAgICAgIHRoaXMuZGVsYXllZEV2ZW50cy5wdXNoKHsgZGlzcGxheU9iamVjdDogZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmc6IGV2ZW50U3RyaW5nLCBldmVudERhdGE6IGV2ZW50RGF0YSB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hcHMgeCBhbmQgeSBjb29yZHMgZnJvbSBhIERPTSBvYmplY3QgYW5kIG1hcHMgdGhlbSBjb3JyZWN0bHkgdG8gdGhlIFBpeGlKUyB2aWV3LiBUaGVcbiAgICAgKiByZXN1bHRpbmcgdmFsdWUgaXMgc3RvcmVkIGluIHRoZSBwb2ludC4gVGhpcyB0YWtlcyBpbnRvIGFjY291bnQgdGhlIGZhY3QgdGhhdCB0aGUgRE9NXG4gICAgICogZWxlbWVudCBjb3VsZCBiZSBzY2FsZWQgYW5kIHBvc2l0aW9uZWQgYW55d2hlcmUgb24gdGhlIHNjcmVlbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSB0aGUgcG9pbnQgdGhhdCB0aGUgcmVzdWx0IHdpbGwgYmUgc3RvcmVkIGluXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB4IC0gdGhlIHggY29vcmQgb2YgdGhlIHBvc2l0aW9uIHRvIG1hcFxuICAgICAqIEBwYXJhbSAge251bWJlcn0geSAtIHRoZSB5IGNvb3JkIG9mIHRoZSBwb3NpdGlvbiB0byBtYXBcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm1hcFBvc2l0aW9uVG9Qb2ludCA9IGZ1bmN0aW9uIChwb2ludCwgeCwgeSkge1xuICAgICAgICB2YXIgcmVjdDtcbiAgICAgICAgLy8gSUUgMTEgZml4XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgcmVjdCA9IHsgeDogMCwgeTogMCwgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVjdCA9IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXNvbHV0aW9uTXVsdGlwbGllciA9IDEuMCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgcG9pbnQueCA9ICgoeCAtIHJlY3QubGVmdCkgKiAodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQud2lkdGggLyByZWN0LndpZHRoKSkgKiByZXNvbHV0aW9uTXVsdGlwbGllcjtcbiAgICAgICAgcG9pbnQueSA9ICgoeSAtIHJlY3QudG9wKSAqICh0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5oZWlnaHQgLyByZWN0LmhlaWdodCkpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHByb3ZpZGVzIGEgbmVhdCB3YXkgb2YgY3Jhd2xpbmcgdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIHJ1bm5pbmcgYVxuICAgICAqIHNwZWNpZmllZCBmdW5jdGlvbiBvbiBhbGwgaW50ZXJhY3RpdmUgb2JqZWN0cyBpdCBmaW5kcy4gSXQgd2lsbCBhbHNvIHRha2UgY2FyZSBvZiBoaXRcbiAgICAgKiB0ZXN0aW5nIHRoZSBpbnRlcmFjdGl2ZSBvYmplY3RzIGFuZCBwYXNzZXMgdGhlIGhpdCBhY3Jvc3MgaW4gdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gZXZlbnQgY29udGFpbmluZyB0aGUgcG9pbnQgdGhhdFxuICAgICAqICBpcyB0ZXN0ZWQgZm9yIGNvbGxpc2lvblxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheU9iamVjdFxuICAgICAqICB0aGF0IHdpbGwgYmUgaGl0IHRlc3QgKHJlY3Vyc2l2ZWx5IGNyYXdscyBpdHMgY2hpbGRyZW4pXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2Z1bmNdIC0gdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCBpbnRlcmFjdGl2ZSBvYmplY3QuIFRoZVxuICAgICAqICBpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0IGFuZCBoaXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaGl0VGVzdF0gLSBpbmRpY2F0ZXMgd2hldGhlciB3ZSB3YW50IHRvIGNhbGN1bGF0ZSBoaXRzXG4gICAgICogIG9yIGp1c3QgaXRlcmF0ZSB0aHJvdWdoIGFsbCBpbnRlcmFjdGl2ZSBvYmplY3RzXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzSW50ZXJhY3RpdmUgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCkge1xuICAgICAgICB2YXIgaGl0ID0gdGhpcy5zZWFyY2guZmluZEhpdChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0KTtcbiAgICAgICAgdmFyIGRlbGF5ZWRFdmVudHMgPSB0aGlzLmRlbGF5ZWRFdmVudHM7XG4gICAgICAgIGlmICghZGVsYXllZEV2ZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBoaXQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzZXQgdGhlIHByb3BhZ2F0aW9uIGhpbnQsIGJlY2F1c2Ugd2Ugc3RhcnQgZGVlcGVyIGluIHRoZSB0cmVlIGFnYWluLlxuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnN0b3BQcm9wYWdhdGlvbkhpbnQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRlbGF5ZWRMZW4gPSBkZWxheWVkRXZlbnRzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5kZWxheWVkRXZlbnRzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVsYXllZExlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBkZWxheWVkRXZlbnRzW2ldLCBkaXNwbGF5T2JqZWN0XzEgPSBfYS5kaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZyA9IF9hLmV2ZW50U3RyaW5nLCBldmVudERhdGEgPSBfYS5ldmVudERhdGE7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIHJlYWNoIHRoZSBvYmplY3Qgd2Ugd2FudGVkIHRvIHN0b3AgcHJvcGFnYXRpbmcgYXQsXG4gICAgICAgICAgICAvLyBzZXQgdGhlIHByb3BhZ2F0aW9uIGhpbnQuXG4gICAgICAgICAgICBpZiAoZXZlbnREYXRhLnN0b3BzUHJvcGFnYXRpbmdBdCA9PT0gZGlzcGxheU9iamVjdF8xKSB7XG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLnN0b3BQcm9wYWdhdGlvbkhpbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3RfMSwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhpdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBwcmVzc2VkIGRvd24gb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcHJlc3NlZCBkb3duXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJEb3duID0gZnVuY3Rpb24gKG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBObyBuZWVkIHRvIHByZXZlbnQgZGVmYXVsdCBvbiBuYXR1cmFsIHBvaW50ZXIgZXZlbnRzLCBhcyB0aGVyZSBhcmUgbm8gc2lkZSBlZmZlY3RzXG4gICAgICAgICAqIE5vcm1hbGl6ZWQgZXZlbnRzLCBob3dldmVyLCBtYXkgaGF2ZSB0aGUgZG91YmxlIG1vdXNlZG93bi90b3VjaHN0YXJ0IGlzc3VlIG9uIHRoZSBuYXRpdmUgYW5kcm9pZCBicm93c2VyLFxuICAgICAgICAgKiBzbyBzdGlsbCBuZWVkIHRvIGJlIHByZXZlbnRlZC5cbiAgICAgICAgICovXG4gICAgICAgIC8vIEd1YXJhbnRlZWQgdGhhdCB0aGVyZSB3aWxsIGJlIGF0IGxlYXN0IG9uZSBldmVudCBpbiBldmVudHMsIGFuZCBhbGwgZXZlbnRzIG11c3QgaGF2ZSB0aGUgc2FtZSBwb2ludGVyIHR5cGVcbiAgICAgICAgaWYgKHRoaXMuYXV0b1ByZXZlbnREZWZhdWx0ICYmIGV2ZW50c1swXS5pc05vcm1hbGl6ZWQpIHtcbiAgICAgICAgICAgIHZhciBjYW5jZWxhYmxlID0gb3JpZ2luYWxFdmVudC5jYW5jZWxhYmxlIHx8ICEoJ2NhbmNlbGFibGUnIGluIG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGNhbmNlbGFibGUpIHtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLmxhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbWl0IGEgbW91c2UgZXZlbnQgZm9yIFwicGVuXCIgcG9pbnRlcnMsIHRoZSB3YXkgYSBicm93c2VyIHdvdWxkIGVtaXQgYSBmYWxsYmFjayBldmVudFxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBldmVudC5idXR0b24gPT09IDI7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGlzUmlnaHRCdXR0b24gPyAncmlnaHRkb3duJyA6ICdtb3VzZWRvd24nLCB0aGlzLmV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIGRvd24gY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyRG93biA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSA9IG5ldyBJbnRlcmFjdGlvblRyYWNraW5nRGF0YShpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hzdGFydCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmlnaHRCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdLnJpZ2h0RG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0ubGVmdERvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodGRvd24nIDogJ21vdXNlZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcmVsZWFzZWQgb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNhbmNlbGxlZCAtIHRydWUgaWYgdGhlIHBvaW50ZXIgaXMgY2FuY2VsbGVkXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAtIEZ1bmN0aW9uIHBhc3NlZCB0byB7QGxpbmsgcHJvY2Vzc0ludGVyYWN0aXZlfVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyQ29tcGxldGUgPSBmdW5jdGlvbiAob3JpZ2luYWxFdmVudCwgY2FuY2VsbGVkLCBmdW5jKSB7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG4gICAgICAgIC8vIGlmIHRoZSBldmVudCB3YXNuJ3QgdGFyZ2V0aW5nIG91ciBjYW52YXMsIHRoZW4gY29uc2lkZXIgaXQgdG8gYmUgcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAvLyBpbiBhbGwgY2FzZXMgKHVubGVzcyBpdCB3YXMgYSBwb2ludGVyY2FuY2VsKVxuICAgICAgICB2YXIgZXZlbnRBcHBlbmQgPSBvcmlnaW5hbEV2ZW50LnRhcmdldCAhPT0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPyAnb3V0c2lkZScgOiAnJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG4gICAgICAgICAgICAvLyBwZXJmb3JtIGhpdCB0ZXN0aW5nIGZvciBldmVudHMgdGFyZ2V0aW5nIG91ciBjYW52YXMgb3IgY2FuY2VsIGV2ZW50c1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5sYXN0T2JqZWN0UmVuZGVyZWQsIGZ1bmMsIGNhbmNlbGxlZCB8fCAhZXZlbnRBcHBlbmQpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KGNhbmNlbGxlZCA/ICdwb2ludGVyY2FuY2VsJyA6IFwicG9pbnRlcnVwXCIgKyBldmVudEFwcGVuZCwgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBldmVudC5idXR0b24gPT09IDI7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGlzUmlnaHRCdXR0b24gPyBcInJpZ2h0dXBcIiArIGV2ZW50QXBwZW5kIDogXCJtb3VzZXVwXCIgKyBldmVudEFwcGVuZCwgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChjYW5jZWxsZWQgPyAndG91Y2hjYW5jZWwnIDogXCJ0b3VjaGVuZFwiICsgZXZlbnRBcHBlbmQsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudC5wb2ludGVySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgY2FuY2VsbGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDb21wbGV0ZShldmVudCwgdHJ1ZSwgdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBjYW5jZWwgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyY2FuY2VsJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hjYW5jZWwnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHJlbGVhc2VkIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyVXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB0aGlzLm9uUG9pbnRlckNvbXBsZXRlKGV2ZW50LCBmYWxzZSwgdGhpcy5wcm9jZXNzUG9pbnRlclVwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIHVwIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlclVwID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG4gICAgICAgIHZhciB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgIHZhciBpc1RvdWNoID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcbiAgICAgICAgdmFyIGlzTW91c2UgPSAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJyk7XG4gICAgICAgIC8vIG5lZWQgdG8gdHJhY2sgbW91c2UgZG93biBzdGF0dXMgaW4gdGhlIG1vdXNlIGJsb2NrIHNvIHRoYXQgd2UgY2FuIGVtaXRcbiAgICAgICAgLy8gZXZlbnQgaW4gYSBsYXRlciBibG9ja1xuICAgICAgICB2YXIgaXNNb3VzZVRhcCA9IGZhbHNlO1xuICAgICAgICAvLyBNb3VzZSBvbmx5XG4gICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGRhdGEuYnV0dG9uID09PSAyO1xuICAgICAgICAgICAgdmFyIGZsYWdzID0gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1M7XG4gICAgICAgICAgICB2YXIgdGVzdCA9IGlzUmlnaHRCdXR0b24gPyBmbGFncy5SSUdIVF9ET1dOIDogZmxhZ3MuTEVGVF9ET1dOO1xuICAgICAgICAgICAgdmFyIGlzRG93biA9IHRyYWNraW5nRGF0YSAhPT0gdW5kZWZpbmVkICYmICh0cmFja2luZ0RhdGEuZmxhZ3MgJiB0ZXN0KTtcbiAgICAgICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwJyA6ICdtb3VzZXVwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRG93bikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodGNsaWNrJyA6ICdjbGljaycsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIHdlIGNhbiBjb25maXJtIHRoYXQgdGhlIG1vdXNlZG93biBoYXBwZW5lZCBvbiB0aGlzIG9iamVjdCwgZmxhZyBmb3IgbGF0ZXIgZW1pdCBvZiBwb2ludGVydGFwXG4gICAgICAgICAgICAgICAgICAgIGlzTW91c2VUYXAgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRG93bikge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0dXBvdXRzaWRlJyA6ICdtb3VzZXVwb3V0c2lkZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBkb3duIHN0YXRlIG9mIHRoZSB0cmFja2luZyBkYXRhXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmlnaHRCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLnJpZ2h0RG93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLmxlZnREb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFBvaW50ZXJzIGFuZCBUb3VjaGVzLCBhbmQgTW91c2VcbiAgICAgICAgaWYgKGhpdCkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZCcsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gZW1pdCBwb2ludGVydGFwIGlmIG5vdCBhIG1vdXNlLCBvciBpZiB0aGUgbW91c2UgYmxvY2sgZGVjaWRlZCBpdCB3YXMgYSB0YXBcbiAgICAgICAgICAgICAgICBpZiAoIWlzTW91c2UgfHwgaXNNb3VzZVRhcCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ0YXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0YXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG91Y2hlcyBhcmUgbm8gbG9uZ2VyIG92ZXIgKGlmIHRoZXkgZXZlciB3ZXJlKSB3aGVuIHdlIGdldCB0aGUgdG91Y2hlbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd2Ugc2hvdWxkIGVuc3VyZSB0aGF0IHdlIGRvbid0IGtlZXAgcHJldGVuZGluZyB0aGF0IHRoZXkgYXJlXG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydXBvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaClcbiAgICAgICAgICAgICAgICB7IHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hlbmRvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgfVxuICAgICAgICAvLyBPbmx5IHJlbW92ZSB0aGUgdHJhY2tpbmcgZGF0YSBpZiB0aGVyZSBpcyBubyBvdmVyL2Rvd24gc3RhdGUgc3RpbGwgYXNzb2NpYXRlZCB3aXRoIGl0XG4gICAgICAgIGlmICh0cmFja2luZ0RhdGEgJiYgdHJhY2tpbmdEYXRhLm5vbmUpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIG1vdmVzIGFjcm9zcyB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIG1vdmluZ1xuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyTW92ZSA9IGZ1bmN0aW9uIChvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgIHRoaXMuX2RpZE1vdmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzW2ldO1xuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgICAgICB7IHRoaXMuZW1pdCgndG91Y2htb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpXG4gICAgICAgICAgICAgICAgeyB0aGlzLmVtaXQoJ21vdXNlbW92ZScsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKHRoaXMuY3Vyc29yKTtcbiAgICAgICAgICAgIC8vIFRPRE8gQlVHIGZvciBwYXJlbnRzIGludGVyYWN0aXZlIG9iamVjdCAoYm9yZGVyIG9yZGVyIGlzc3VlKVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBtb3ZlIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlck1vdmUgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICB2YXIgaXNUb3VjaCA9IGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCc7XG4gICAgICAgIHZhciBpc01vdXNlID0gKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpO1xuICAgICAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubW92ZVdoZW5JbnNpZGUgfHwgaGl0KSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaClcbiAgICAgICAgICAgICAgICB7IHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2htb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZlZCBvdXQgb2YgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBiZWluZyBtb3ZlZCBvdXRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlck91dCA9IGZ1bmN0aW9uIChvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAvLyBPbmx5IG1vdXNlIGFuZCBwb2ludGVyIGNhbiBjYWxsIG9uUG9pbnRlck91dCwgc28gZXZlbnRzIHdpbGwgYWx3YXlzIGJlIGxlbmd0aCAxXG4gICAgICAgIHZhciBldmVudCA9IGV2ZW50c1swXTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMubGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCwgZmFsc2UpO1xuICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtb3VzZW91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gd2UgY2FuIGdldCB0b3VjaGxlYXZlIGV2ZW50cyBhZnRlciB0b3VjaGVuZCwgc28gd2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIGludHJvZHVjZSBtZW1vcnkgbGVha3NcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChpbnRlcmFjdGlvbkRhdGEuaWRlbnRpZmllcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIG92ZXIvb3V0IGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcbiAgICAgICAgdmFyIGlzTW91c2UgPSAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJyk7XG4gICAgICAgIHZhciB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgIC8vIGlmIHdlIGp1c3QgbW91c2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LCB0aGVuIHdlIG5lZWQgdG8gdHJhY2sgdGhhdCBzdGF0ZVxuICAgICAgICBpZiAoaGl0ICYmICF0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSA9IG5ldyBJbnRlcmFjdGlvblRyYWNraW5nRGF0YShpZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRyYWNraW5nRGF0YSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgaWYgKGhpdCAmJiB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyKSB7XG4gICAgICAgICAgICBpZiAoIXRyYWNraW5nRGF0YS5vdmVyKSB7XG4gICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsYXlEaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsYXlEaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvbmx5IGNoYW5nZSB0aGUgY3Vyc29yIGlmIGl0IGhhcyBub3QgYWxyZWFkeSBiZWVuIGNoYW5nZWQgKGJ5IHNvbWV0aGluZyBkZWVwZXIgaW4gdGhlXG4gICAgICAgICAgICAvLyBkaXNwbGF5IHRyZWUpXG4gICAgICAgICAgICBpZiAoaXNNb3VzZSAmJiB0aGlzLmN1cnNvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gZGlzcGxheU9iamVjdC5jdXJzb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHJhY2tpbmdEYXRhLm92ZXIpIHtcbiAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJvdXQnLCB0aGlzLmV2ZW50RGF0YSk7XG4gICAgICAgICAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2VvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIG1vdXNlIGRvd24gaW5mb3JtYXRpb24gZm9yIHRoZSBwb2ludGVyLCB0aGVuIGl0IGlzIHNhZmUgdG8gZGVsZXRlXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhLm5vbmUpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZlZCBpbnRvIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIG1vdmVkIGludG8gdGhlIHJlbmRlcmVyIHZpZXdcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlck92ZXIgPSBmdW5jdGlvbiAob3JpZ2luYWxFdmVudCkge1xuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAvLyBPbmx5IG1vdXNlIGFuZCBwb2ludGVyIGNhbiBjYWxsIG9uUG9pbnRlck92ZXIsIHNvIGV2ZW50cyB3aWxsIGFsd2F5cyBiZSBsZW5ndGggMVxuICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbMF07XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IGV2ZW50O1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IEludGVyYWN0aW9uRGF0YSBmb3IgYSBnaXZlbiBwb2ludGVySWQuIFN0b3JlIHRoYXQgZGF0YSBhcyB3ZWxsXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIE5vcm1hbGl6ZWQgcG9pbnRlciBldmVudCwgb3V0cHV0IGZyb20gbm9ybWFsaXplVG9Qb2ludGVyRGF0YVxuICAgICAqIEByZXR1cm4ge1BJWEkuSW50ZXJhY3Rpb25EYXRhfSAtIEludGVyYWN0aW9uIGRhdGEgZm9yIHRoZSBnaXZlbiBwb2ludGVyIGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgcG9pbnRlcklkID0gZXZlbnQucG9pbnRlcklkO1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhO1xuICAgICAgICBpZiAocG9pbnRlcklkID09PSBNT1VTRV9QT0lOVEVSX0lEIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLm1vdXNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF0pIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wucG9wKCkgfHwgbmV3IEludGVyYWN0aW9uRGF0YSgpO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmlkZW50aWZpZXIgPSBwb2ludGVySWQ7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdID0gaW50ZXJhY3Rpb25EYXRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvcHkgcHJvcGVydGllcyBmcm9tIHRoZSBldmVudCwgc28gdGhhdCB3ZSBjYW4gbWFrZSBzdXJlIHRoYXQgdG91Y2gvcG9pbnRlciBzcGVjaWZpY1xuICAgICAgICAvLyBkYXRhIGlzIGF2YWlsYWJsZVxuICAgICAgICBpbnRlcmFjdGlvbkRhdGEuY29weUV2ZW50KGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uRGF0YTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB1bnVzZWQgSW50ZXJhY3Rpb25EYXRhIHRvIHRoZSBwb29sLCBmb3IgYSBnaXZlbiBwb2ludGVySWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50ZXJJZCAtIElkZW50aWZpZXIgZnJvbSBhIHBvaW50ZXIgZXZlbnRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQgPSBmdW5jdGlvbiAocG9pbnRlcklkKSB7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuICAgICAgICBpZiAoaW50ZXJhY3Rpb25EYXRhKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sLnB1c2goaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlIGFuIEludGVyYWN0aW9uRXZlbnQgdG8gd3JhcCBhIERPTSBQb2ludGVyRXZlbnQgYW5kIEludGVyYWN0aW9uRGF0YVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBldmVudCB0byBiZSBjb25maWd1cmVkXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCAtIFRoZSBET00gZXZlbnQgdGhhdCB3aWxsIGJlIHBhaXJlZCB3aXRoIHRoZSBJbnRlcmFjdGlvbkV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRGF0YX0gaW50ZXJhY3Rpb25EYXRhIC0gVGhlIEludGVyYWN0aW9uRGF0YSB0aGF0IHdpbGwgYmUgcGFpcmVkXG4gICAgICogICAgICAgIHdpdGggdGhlIEludGVyYWN0aW9uRXZlbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IHRoZSBpbnRlcmFjdGlvbiBldmVudCB0aGF0IHdhcyBwYXNzZWQgaW5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBwb2ludGVyRXZlbnQsIGludGVyYWN0aW9uRGF0YSkge1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEgPSBpbnRlcmFjdGlvbkRhdGE7XG4gICAgICAgIHRoaXMubWFwUG9zaXRpb25Ub1BvaW50KGludGVyYWN0aW9uRGF0YS5nbG9iYWwsIHBvaW50ZXJFdmVudC5jbGllbnRYLCBwb2ludGVyRXZlbnQuY2xpZW50WSk7XG4gICAgICAgIC8vIE5vdCByZWFsbHkgc3VyZSB3aHkgdGhpcyBpcyBoYXBwZW5pbmcsIGJ1dCBpdCdzIGhvdyBhIHByZXZpb3VzIHZlcnNpb24gaGFuZGxlZCB0aGluZ3NcbiAgICAgICAgaWYgKHBvaW50ZXJFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgcG9pbnRlckV2ZW50Lmdsb2JhbFggPSBpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLng7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQuZ2xvYmFsWSA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueTtcbiAgICAgICAgfVxuICAgICAgICBpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCA9IHBvaW50ZXJFdmVudDtcbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5yZXNldCgpO1xuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25FdmVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhhdCB0aGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0IGNvbnRhaW5zIGFsbCBkYXRhIHRoYXQgYSByZWd1bGFyIHBvaW50ZXIgZXZlbnQgd291bGQgaGF2ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR8TW91c2VFdmVudHxQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIG9yaWdpbmFsIGV2ZW50IGRhdGEgZnJvbSBhIHRvdWNoIG9yIG1vdXNlIGV2ZW50XG4gICAgICogQHJldHVybiB7UG9pbnRlckV2ZW50W119IEFuIGFycmF5IGNvbnRhaW5pbmcgYSBzaW5nbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBpbiB0aGUgY2FzZSBvZiBhIHBvaW50ZXJcbiAgICAgKiAgb3IgbW91c2UgZXZlbnQsIG9yIGEgbXVsdGlwbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50cyBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgY2hhbmdlZCB0b3VjaGVzXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5ub3JtYWxpemVUb1BvaW50ZXJEYXRhID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkRXZlbnRzID0gW107XG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGkgPSBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7IGkgPCBsaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b24gPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLmJ1dHRvbiA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID8gMSA6IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbnMgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLmJ1dHRvbnMgPSBldmVudC50b3VjaGVzLmxlbmd0aCA/IDEgOiAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5pc1ByaW1hcnkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoLmlzUHJpbWFyeSA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAxICYmIGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC53aWR0aCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gud2lkdGggPSB0b3VjaC5yYWRpdXNYIHx8IDE7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2guaGVpZ2h0ID0gdG91Y2gucmFkaXVzWSB8fCAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gudGlsdFggPSAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gudGlsdFkgPSAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wb2ludGVyVHlwZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gucG9pbnRlclR5cGUgPSAndG91Y2gnOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wb2ludGVySWQgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLnBvaW50ZXJJZCA9IHRvdWNoLmlkZW50aWZpZXIgfHwgMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLnByZXNzdXJlID0gdG91Y2guZm9yY2UgfHwgMC41OyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50d2lzdCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gudHdpc3QgPSAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50YW5nZW50aWFsUHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7IH1cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBSZW1vdmUgdGhlc2UsIGFzIGxheWVyWC9ZIGlzIG5vdCBhIHN0YW5kYXJkLCBpcyBkZXByZWNhdGVkLCBoYXMgdW5ldmVuXG4gICAgICAgICAgICAgICAgLy8gc3VwcG9ydCwgYW5kIHRoZSBmaWxsIGlucyBhcmUgbm90IHF1aXRlIHRoZSBzYW1lXG4gICAgICAgICAgICAgICAgLy8gb2Zmc2V0WC9ZIG1pZ2h0IGJlIG9rYXksIGJ1dCBpcyBub3QgdGhlIHNhbWUgYXMgY2xpZW50WC9ZIHdoZW4gdGhlIGNhbnZhcydzIHRvcFxuICAgICAgICAgICAgICAgIC8vIGxlZnQgaXMgbm90IDAsMCBvbiB0aGUgcGFnZVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gubGF5ZXJYID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC5sYXllclggPSB0b3VjaC5vZmZzZXRYID0gdG91Y2guY2xpZW50WDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gubGF5ZXJZID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC5sYXllclkgPSB0b3VjaC5vZmZzZXRZID0gdG91Y2guY2xpZW50WTsgfVxuICAgICAgICAgICAgICAgIC8vIG1hcmsgdGhlIHRvdWNoIGFzIG5vcm1hbGl6ZWQsIGp1c3Qgc28gdGhhdCB3ZSBrbm93IHdlIGRpZCBpdFxuICAgICAgICAgICAgICAgIHRvdWNoLmlzTm9ybWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKHRvdWNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhcHBhcmVudGx5IFBvaW50ZXJFdmVudCBzdWJjbGFzc2VzIE1vdXNlRXZlbnQsIHNvIHlheVxuICAgICAgICBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgJiYgKCF0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyB8fCAhKGV2ZW50IGluc3RhbmNlb2Ygd2luZG93LlBvaW50ZXJFdmVudCkpKSB7XG4gICAgICAgICAgICB2YXIgdGVtcEV2ZW50ID0gZXZlbnQ7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5pc1ByaW1hcnkgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LmlzUHJpbWFyeSA9IHRydWU7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LndpZHRoID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC53aWR0aCA9IDE7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQuaGVpZ2h0ID0gMTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudGlsdFggPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LnRpbHRYID0gMDsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudGlsdFkgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LnRpbHRZID0gMDsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQucG9pbnRlclR5cGUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LnBvaW50ZXJUeXBlID0gJ21vdXNlJzsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQucG9pbnRlcklkID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC5wb2ludGVySWQgPSBNT1VTRV9QT0lOVEVSX0lEOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5wcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQucHJlc3N1cmUgPSAwLjU7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnR3aXN0ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC50d2lzdCA9IDA7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnRhbmdlbnRpYWxQcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID0gMDsgfVxuICAgICAgICAgICAgLy8gbWFyayB0aGUgbW91c2UgZXZlbnQgYXMgbm9ybWFsaXplZCwganVzdCBzbyB0aGF0IHdlIGtub3cgd2UgZGlkIGl0XG4gICAgICAgICAgICB0ZW1wRXZlbnQuaXNOb3JtYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaCh0ZW1wRXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZEV2ZW50cztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBpbnRlcmFjdGlvbiBtYW5hZ2VyXG4gICAgICpcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlVGlja2VyTGlzdGVuZXIoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHRoaXMubW91c2UgPSBudWxsO1xuICAgICAgICB0aGlzLmV2ZW50RGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJEb3duID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlckRvd24gPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlclVwID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlclVwID0gbnVsbDtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJDYW5jZWwgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gbnVsbDtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJNb3ZlID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlck91dCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEludGVyYWN0aW9uTWFuYWdlcjtcbn0oRXZlbnRFbWl0dGVyKSk7XG5cbmV4cG9ydCB7IEludGVyYWN0aW9uRGF0YSwgSW50ZXJhY3Rpb25FdmVudCwgSW50ZXJhY3Rpb25NYW5hZ2VyLCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YSwgaW50ZXJhY3RpdmVUYXJnZXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyYWN0aW9uLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9ydW5uZXIgLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvcnVubmVyIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIFJ1bm5lciBpcyBhIGhpZ2hseSBwZXJmb3JtYW50IGFuZCBzaW1wbGUgYWx0ZXJuYXRpdmUgdG8gc2lnbmFscy4gQmVzdCB1c2VkIGluIHNpdHVhdGlvbnNcbiAqIHdoZXJlIGV2ZW50cyBhcmUgZGlzcGF0Y2hlZCB0byBtYW55IG9iamVjdHMgYXQgaGlnaCBmcmVxdWVuY3kgKHNheSBldmVyeSBmcmFtZSEpXG4gKlxuICpcbiAqIGxpa2UgYSBzaWduYWwuLlxuICogYGBgXG4gKiBpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuICpcbiAqIGNvbnN0IG15T2JqZWN0ID0ge1xuICogICAgIGxvYWRlZDogbmV3IFJ1bm5lcignbG9hZGVkJylcbiAqIH1cbiAqXG4gKiBjb25zdCBsaXN0ZW5lciA9IHtcbiAqICAgICBsb2FkZWQ6IGZ1bmN0aW9uKCl7XG4gKiAgICAgICAgIC8vIHRoaW5cbiAqICAgICB9XG4gKiB9XG4gKlxuICogbXlPYmplY3QudXBkYXRlLmFkZChsaXN0ZW5lcik7XG4gKlxuICogbXlPYmplY3QubG9hZGVkLmVtaXQoKTtcbiAqIGBgYFxuICpcbiAqIE9yIGZvciBoYW5kbGluZyBjYWxsaW5nIHRoZSBzYW1lIGZ1bmN0aW9uIG9uIG1hbnkgaXRlbXNcbiAqIGBgYFxuICogaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnQHBpeGkvcnVubmVyJztcbiAqXG4gKiBjb25zdCBteUdhbWUgPSB7XG4gKiAgICAgdXBkYXRlOiBuZXcgUnVubmVyKCd1cGRhdGUnKVxuICogfVxuICpcbiAqIGNvbnN0IGdhbWVPYmplY3QgPSB7XG4gKiAgICAgdXBkYXRlOiBmdW5jdGlvbih0aW1lKXtcbiAqICAgICAgICAgLy8gdXBkYXRlIG15IGdhbWV5IHN0YXRlXG4gKiAgICAgfVxuICogfVxuICpcbiAqIG15R2FtZS51cGRhdGUuYWRkKGdhbWVPYmplY3QxKTtcbiAqXG4gKiBteUdhbWUudXBkYXRlLmVtaXQodGltZSk7XG4gKiBgYGBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJ1bm5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiAgQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSB0aGUgZnVuY3Rpb24gbmFtZSB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgb24gdGhlIGxpc3RlbmVycyBhZGRlZCB0byB0aGlzIFJ1bm5lci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSdW5uZXIobmFtZSkge1xuICAgICAgICB0aGlzLml0ZW1zID0gW107XG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLl9hbGlhc0NvdW50ID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2gvQnJvYWRjYXN0IFJ1bm5lciB0byBhbGwgbGlzdGVuZXJzIGFkZGVkIHRvIHRoZSBxdWV1ZS5cbiAgICAgKiBAcGFyYW0gey4uLmFueX0gcGFyYW1zIC0gb3B0aW9uYWwgcGFyYW1ldGVycyB0byBwYXNzIHRvIGVhY2ggbGlzdGVuZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJ1bm5lcn1cbiAgICAgKi9cbiAgICBSdW5uZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiAoYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3KSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gOCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYXggYXJndW1lbnRzIHJlYWNoZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBuYW1lID0gX2EubmFtZSwgaXRlbXMgPSBfYS5pdGVtcztcbiAgICAgICAgdGhpcy5fYWxpYXNDb3VudCsrO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaXRlbXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGl0ZW1zW2ldW25hbWVdKGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZW1zID09PSB0aGlzLml0ZW1zKSB7XG4gICAgICAgICAgICB0aGlzLl9hbGlhc0NvdW50LS07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBSdW5uZXIucHJvdG90eXBlLmVuc3VyZU5vbkFsaWFzZWRJdGVtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FsaWFzQ291bnQgPiAwICYmIHRoaXMuaXRlbXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdGhpcy5fYWxpYXNDb3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5pdGVtcy5zbGljZSgwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGEgbGlzdGVuZXIgdG8gdGhlIFJ1bm5lclxuICAgICAqXG4gICAgICogUnVubmVycyBkbyBub3QgbmVlZCB0byBoYXZlIHNjb3BlIG9yIGZ1bmN0aW9ucyBwYXNzZWQgdG8gdGhlbS5cbiAgICAgKiBBbGwgdGhhdCBpcyByZXF1aXJlZCBpcyB0byBwYXNzIHRoZSBsaXN0ZW5pbmcgb2JqZWN0IGFuZCBlbnN1cmUgdGhhdCBpdCBoYXMgY29udGFpbnMgYSBmdW5jdGlvbiB0aGF0IGhhcyB0aGUgc2FtZSBuYW1lXG4gICAgICogYXMgdGhlIG5hbWUgcHJvdmlkZWQgdG8gdGhlIFJ1bm5lciB3aGVuIGl0IHdhcyBjcmVhdGVkLlxuICAgICAqXG4gICAgICogRWcgQSBsaXN0ZW5lciBwYXNzZWQgdG8gdGhpcyBSdW5uZXIgd2lsbCByZXF1aXJlIGEgJ2NvbXBsZXRlJyBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIGltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG4gICAgICpcbiAgICAgKiBjb25zdCBjb21wbGV0ZSA9IG5ldyBSdW5uZXIoJ2NvbXBsZXRlJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGUgc2NvcGUgdXNlZCB3aWxsIGJlIHRoZSBvYmplY3QgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHBhcmFtIHthbnl9IGl0ZW0gLSBUaGUgb2JqZWN0IHRoYXQgd2lsbCBiZSBsaXN0ZW5pbmcuXG4gICAgICogQHJldHVybiB7UElYSS5SdW5uZXJ9XG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICBpZiAoaXRlbVt0aGlzLl9uYW1lXSkge1xuICAgICAgICAgICAgdGhpcy5lbnN1cmVOb25BbGlhc2VkSXRlbXMoKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGl0ZW0pO1xuICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgc2luZ2xlIGxpc3RlbmVyIGZyb20gdGhlIGRpc3BhdGNoIHF1ZXVlLlxuICAgICAqIEBwYXJhbSB7YW55fSBpdGVtIC0gVGhlIGxpc3RlbnIgdGhhdCB5b3Ugd291bGQgbGlrZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybiB7UElYSS5SdW5uZXJ9XG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKCk7XG4gICAgICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayB0byBzZWUgaWYgdGhlIGxpc3RlbmVyIGlzIGFscmVhZHkgaW4gdGhlIFJ1bm5lclxuICAgICAqIEBwYXJhbSB7YW55fSBpdGVtIC0gVGhlIGxpc3RlbmVyIHRoYXQgeW91IHdvdWxkIGxpa2UgdG8gY2hlY2suXG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSkgIT09IC0xO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZnJvbSB0aGUgUnVubmVyXG4gICAgICogQHJldHVybiB7UElYSS5SdW5uZXJ9XG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5yZW1vdmVBbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKCk7XG4gICAgICAgIHRoaXMuaXRlbXMubGVuZ3RoID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIHJlZmVyZW5jZXMsIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqL1xuICAgIFJ1bm5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5pdGVtcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX25hbWUgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJ1bm5lci5wcm90b3R5cGUsIFwiZW1wdHlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoZXJlIGFyZSBubyB0aGlzIFJ1bm5lciBjb250YWlucyBubyBsaXN0ZW5lcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSdW5uZXIucHJvdG90eXBlLCBcIm5hbWVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhlIHJ1bm5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gUnVubmVyO1xufSgpKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFJ1bm5lci5wcm90b3R5cGUsIHtcbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgYGVtaXRgXG4gICAgICogQG1lbWJlcm9mIFBJWEkuUnVubmVyI1xuICAgICAqIEBtZXRob2QgZGlzcGF0Y2hcbiAgICAgKiBAc2VlIFBJWEkuUnVubmVyI2VtaXRcbiAgICAgKi9cbiAgICBkaXNwYXRjaDogeyB2YWx1ZTogUnVubmVyLnByb3RvdHlwZS5lbWl0IH0sXG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGBlbWl0YFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLlJ1bm5lciNcbiAgICAgKiBAbWV0aG9kIHJ1blxuICAgICAqIEBzZWUgUElYSS5SdW5uZXIjZW1pdFxuICAgICAqL1xuICAgIHJ1bjogeyB2YWx1ZTogUnVubmVyLnByb3RvdHlwZS5lbWl0IH0sXG59KTtcblxuZXhwb3J0IHsgUnVubmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ydW5uZXIuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2NvcmUgLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvY29yZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgRU5WLCBBTFBIQV9NT0RFUywgU0NBTEVfTU9ERVMsIEZPUk1BVFMsIFRZUEVTLCBUQVJHRVRTLCBNSVBNQVBfTU9ERVMsIE1TQUFfUVVBTElUWSwgQ0xFQVJfTU9ERVMsIERSQVdfTU9ERVMsIEJVRkZFUl9CSVRTLCBNQVNLX1RZUEVTLCBQUkVDSVNJT04sIEJMRU5EX01PREVTLCBHQ19NT0RFUywgV1JBUF9NT0RFUywgUkVOREVSRVJfVFlQRSB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBpc01vYmlsZSwgdWlkLCBpc1BvdzIsIEJhc2VUZXh0dXJlQ2FjaGUsIFRleHR1cmVDYWNoZSwgRXZlbnRFbWl0dGVyLCBkZXRlcm1pbmVDcm9zc09yaWdpbiwgZ2V0UmVzb2x1dGlvbk9mVXJsLCBuZXh0UG93MiwgZGVwcmVjYXRpb24sIFByb2dyYW1DYWNoZSwgcmVtb3ZlSXRlbXMsIGhleDJzdHJpbmcsIGhleDJyZ2IsIHNheUhlbGxvLCBpc1dlYkdMU3VwcG9ydGVkLCBwcmVtdWx0aXBseUJsZW5kTW9kZSwgbG9nMiwgcHJlbXVsdGlwbHlUaW50IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnQHBpeGkvcnVubmVyJztcbmltcG9ydCB7IFRpY2tlciB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5pbXBvcnQgeyBncm91cEQ4LCBSZWN0YW5nbGUsIFBvaW50LCBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBUaGUgbWF4aW11bSBzdXBwb3J0IGZvciB1c2luZyBXZWJHTC4gSWYgYSBkZXZpY2UgZG9lcyBub3RcbiAqIHN1cHBvcnQgV2ViR0wgdmVyc2lvbiwgZm9yIGluc3RhbmNlIFdlYkdMIDIsIGl0IHdpbGwgc3RpbGxcbiAqIGF0dGVtcHQgdG8gZmFsbGJhY2sgc3VwcG9ydCB0byBXZWJHTCAxLiBJZiB5b3Ugd2FudCB0b1xuICogZXhwbGljaXRseSByZW1vdmUgZmVhdHVyZSBzdXBwb3J0IHRvIHRhcmdldCBhIG1vcmUgc3RhYmxlXG4gKiBiYXNlbGluZSwgcHJlZmVyIGEgbG93ZXIgZW52aXJvbm1lbnQuXG4gKlxuICogRHVlIHRvIHtAbGluayBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD05MzQ4MjN8YnVnIGluIGNocm9taXVtfVxuICogd2UgZGlzYWJsZSB3ZWJnbDIgYnkgZGVmYXVsdCBmb3IgYWxsIG5vbi1hcHBsZSBtb2JpbGUgZGV2aWNlcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBQUkVGRVJfRU5WXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IFBJWEkuRU5WLldFQkdMMlxuICovXG5zZXR0aW5ncy5QUkVGRVJfRU5WID0gaXNNb2JpbGUuYW55ID8gRU5WLldFQkdMIDogRU5WLldFQkdMMjtcbi8qKlxuICogSWYgc2V0IHRvIGB0cnVlYCwgKm9ubHkqIFRleHR1cmVzIGFuZCBCYXNlVGV4dHVyZSBvYmplY3RzIHN0b3JlZFxuICogaW4gdGhlIGNhY2hlcyAoe0BsaW5rIFBJWEkudXRpbHMuVGV4dHVyZUNhY2hlIFRleHR1cmVDYWNoZX0gYW5kXG4gKiB7QGxpbmsgUElYSS51dGlscy5CYXNlVGV4dHVyZUNhY2hlIEJhc2VUZXh0dXJlQ2FjaGV9KSBjYW4gYmVcbiAqIHVzZWQgd2hlbiBjYWxsaW5nIHtAbGluayBQSVhJLlRleHR1cmUuZnJvbSBUZXh0dXJlLmZyb219IG9yXG4gKiB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZS5mcm9tIEJhc2VUZXh0dXJlLmZyb219LlxuICogT3RoZXJ3aXNlLCB0aGVzZSBgZnJvbWAgY2FsbHMgdGhyb3cgYW4gZXhjZXB0aW9uLiBVc2luZyB0aGlzIHByb3BlcnR5XG4gKiBjYW4gYmUgdXNlZnVsIGlmIHlvdSB3YW50IHRvIGVuZm9yY2UgcHJlbG9hZGluZyBhbGwgYXNzZXRzIHdpdGhcbiAqIHtAbGluayBQSVhJLkxvYWRlciBMb2FkZXJ9LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFNUUklDVF9URVhUVVJFX0NBQ0hFXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdCBmYWxzZVxuICovXG5zZXR0aW5ncy5TVFJJQ1RfVEVYVFVSRV9DQUNIRSA9IGZhbHNlO1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHJlc291cmNlIHR5cGVzLCBjbGFzcyBtdXN0IGV4dGVuZCB7QGxpbmsgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9LlxuICogQGV4YW1wbGVcbiAqIGNsYXNzIEN1c3RvbVJlc291cmNlIGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2Uge1xuICogICAvLyBNVVNUIGhhdmUgc291cmNlLCBvcHRpb25zIGNvbnN0cnVjdG9yIHNpZ25hdHVyZVxuICogICAvLyBmb3IgYXV0by1kZXRlY3RlZCByZXNvdXJjZXMgdG8gYmUgY3JlYXRlZC5cbiAqICAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKSB7XG4gKiAgICAgc3VwZXIoKTtcbiAqICAgfVxuICogICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAqICAgICAvLyB1cGxvYWQgd2l0aCBHTFxuICogICAgIHJldHVybiB0cnVlO1xuICogICB9XG4gKiAgIC8vIHVzZWQgdG8gYXV0by1kZXRlY3QgcmVzb3VyY2VcbiAqICAgc3RhdGljIHRlc3Qoc291cmNlLCBleHRlbnNpb24pIHtcbiAqICAgICByZXR1cm4gZXh0ZW5zaW9uID09PSAneHl6J3x8IHNvdXJjZSBpbnN0YW5jZW9mIFNvbWVDbGFzcztcbiAqICAgfVxuICogfVxuICogLy8gSW5zdGFsbCB0aGUgbmV3IHJlc291cmNlIHR5cGVcbiAqIFBJWEkucmVzb3VyY2VzLklOU1RBTExFRC5wdXNoKEN1c3RvbVJlc291cmNlKTtcbiAqXG4gKiBAbmFtZSBQSVhJLnJlc291cmNlcy5JTlNUQUxMRURcbiAqIEB0eXBlIHtBcnJheTwqPn1cbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICovXG52YXIgSU5TVEFMTEVEID0gW107XG4vKipcbiAqIENyZWF0ZSBhIHJlc291cmNlIGVsZW1lbnQgZnJvbSBhIHNpbmdsZSBzb3VyY2UgZWxlbWVudC4gVGhpc1xuICogYXV0by1kZXRlY3RzIHdoaWNoIHR5cGUgb2YgcmVzb3VyY2UgdG8gY3JlYXRlLiBBbGwgcmVzb3VyY2VzIHRoYXRcbiAqIGFyZSBhdXRvLWRldGVjdGFibGUgbXVzdCBoYXZlIGEgc3RhdGljIGB0ZXN0YCBtZXRob2QgYW5kIGEgY29uc3RydWN0b3JcbiAqIHdpdGggdGhlIGFyZ3VtZW50cyBgKHNvdXJjZSwgb3B0aW9ucz8pYC4gQ3VycmVudGx5LCB0aGUgc3VwcG9ydGVkXG4gKiByZXNvdXJjZXMgZm9yIGF1dG8tZGV0ZWN0aW9uIGluY2x1ZGU6XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuSW1hZ2VSZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5DYW52YXNSZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5WaWRlb1Jlc291cmNlfVxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlfVxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLkJ1ZmZlclJlc291cmNlfVxuICogQHN0YXRpY1xuICogQGZ1bmN0aW9uIFBJWEkucmVzb3VyY2VzLmF1dG9EZXRlY3RSZXNvdXJjZVxuICogQHBhcmFtIHtzdHJpbmd8Kn0gc291cmNlIC0gUmVzb3VyY2Ugc291cmNlLCB0aGlzIGNhbiBiZSB0aGUgVVJMIHRvIHRoZSByZXNvdXJjZSxcbiAqICAgICAgICBhIHR5cGVkLWFycmF5IChmb3IgQnVmZmVyUmVzb3VyY2UpLCBIVE1MVmlkZW9FbGVtZW50LCBTVkcgZGF0YS11cmlcbiAqICAgICAgICBvciBhbnkgb3RoZXIgcmVzb3VyY2UgdGhhdCBjYW4gYmUgYXV0by1kZXRlY3RlZC4gSWYgbm90IHJlc291cmNlIGlzXG4gKiAgICAgICAgZGV0ZWN0ZWQsIGl0J3MgYXNzdW1lZCB0byBiZSBhbiBJbWFnZVJlc291cmNlLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFBhc3MtdGhyb3VnaCBvcHRpb25zIHRvIHVzZSBmb3IgUmVzb3VyY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBXaWR0aCBvZiBCdWZmZXJSZXNvdXJjZSBvciBTVkcgcmFzdGVyaXphdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gLSBIZWlnaHQgb2YgQnVmZmVyUmVzb3VyY2Ugb3IgU1ZHIHJhc3Rlcml6YXRpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0xvYWQ9dHJ1ZV0gLSBJbWFnZSwgU1ZHIGFuZCBWaWRlbyBmbGFnIHRvIHN0YXJ0IGxvYWRpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY2FsZT0xXSAtIFNWRyBzb3VyY2Ugc2NhbGUuIE92ZXJyaWRkZW4gYnkgd2lkdGgsIGhlaWdodFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcmVhdGVCaXRtYXA9UElYSS5zZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQXSAtIEltYWdlIG9wdGlvbiB0byBjcmVhdGUgQml0bWFwIG9iamVjdFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcm9zc29yaWdpbj10cnVlXSAtIEltYWdlIGFuZCBWaWRlbyBvcHRpb24gdG8gc2V0IGNyb3NzT3JpZ2luXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9QbGF5PXRydWVdIC0gVmlkZW8gb3B0aW9uIHRvIHN0YXJ0IHBsYXlpbmcgdmlkZW8gaW1tZWRpYXRlbHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy51cGRhdGVGUFM9MF0gLSBWaWRlbyBvcHRpb24gdG8gdXBkYXRlIGhvdyBtYW55IHRpbWVzIGEgc2Vjb25kIHRoZVxuICogICAgICAgIHRleHR1cmUgc2hvdWxkIGJlIHVwZGF0ZWQgZnJvbSB0aGUgdmlkZW8uIExlYXZlIGF0IDAgdG8gdXBkYXRlIGF0IGV2ZXJ5IHJlbmRlclxuICogQHJldHVybiB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9IFRoZSBjcmVhdGVkIHJlc291cmNlLlxuICovXG5mdW5jdGlvbiBhdXRvRGV0ZWN0UmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBleHRlbnNpb24gPSAnJztcbiAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gc2VhcmNoIGZvciBmaWxlIGV4dGVuc2lvbjogcGVyaW9kLCAzLTQgY2hhcnMsIHRoZW4gPywgIyBvciBFT0xcbiAgICAgICAgdmFyIHJlc3VsdCA9ICgvXFwuKFxcd3szLDR9KSg/OiR8XFw/fCMpL2kpLmV4ZWMoc291cmNlKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgZXh0ZW5zaW9uID0gcmVzdWx0WzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IElOU1RBTExFRC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgUmVzb3VyY2VQbHVnaW4gPSBJTlNUQUxMRURbaV07XG4gICAgICAgIGlmIChSZXNvdXJjZVBsdWdpbi50ZXN0ICYmIFJlc291cmNlUGx1Z2luLnRlc3Qoc291cmNlLCBleHRlbnNpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlc291cmNlUGx1Z2luKHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbnJlY29nbml6ZWQgc291cmNlIHR5cGUgdG8gYXV0by1kZXRlY3QgUmVzb3VyY2UnKTtcbn1cblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogQmFzZSByZXNvdXJjZSBjbGFzcyBmb3IgdGV4dHVyZXMgdGhhdCBtYW5hZ2VzIHZhbGlkYXRpb24gYW5kIHVwbG9hZGluZywgZGVwZW5kaW5nIG9uIGl0cyB0eXBlLlxuICpcbiAqIFVwbG9hZGluZyBvZiBhIGJhc2UgdGV4dHVyZSB0byB0aGUgR1BVIGlzIHJlcXVpcmVkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbnZhciBSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MF0gLSBIZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVzb3VyY2Uod2lkdGgsIGhlaWdodCkge1xuICAgICAgICBpZiAod2lkdGggPT09IHZvaWQgMCkgeyB3aWR0aCA9IDA7IH1cbiAgICAgICAgaWYgKGhlaWdodCA9PT0gdm9pZCAwKSB7IGhlaWdodCA9IDA7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBoZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgcmVzb3VyY2UgaGFzIGJlZW4gZGVzdHJveWVkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiByZXNvdXJjZSBpcyBjcmVhdGVkIGJ5IEJhc2VUZXh0dXJlXG4gICAgICAgICAqIHVzZWZ1bCBmb3IgZG9pbmcgY2xlYW51cCB3aXRoIEJhc2VUZXh0dXJlIGRlc3Ryb3lcbiAgICAgICAgICogYW5kIG5vdCBjbGVhbmluZyB1cCByZXNvdXJjZXMgdGhhdCB3ZXJlIGNyZWF0ZWRcbiAgICAgICAgICogZXh0ZXJuYWxseS5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlcm5hbCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWluaS1ydW5uZXIgZm9yIGhhbmRsaW5nIHJlc2l6ZSBldmVudHNcbiAgICAgICAgICogYWNjZXB0cyAyIHBhcmFtZXRlcnM6IHdpZHRoLCBoZWlnaHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UnVubmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblJlc2l6ZSA9IG5ldyBSdW5uZXIoJ3NldFJlYWxTaXplJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaW5pLXJ1bm5lciBmb3IgaGFuZGxpbmcgdXBkYXRlIGV2ZW50c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSdW5uZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uVXBkYXRlID0gbmV3IFJ1bm5lcigndXBkYXRlJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYW5kbGUgaW50ZXJuYWwgZXJyb3JzLCBzdWNoIGFzIGxvYWRpbmcgZXJyb3JzXG4gICAgICAgICAqIGFjY2VwdHMgMSBwYXJhbTogZXJyb3JcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UnVubmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkVycm9yID0gbmV3IFJ1bm5lcignb25FcnJvcicpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCaW5kIHRvIGEgcGFyZW50IEJhc2VUZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUGFyZW50IHRleHR1cmVcbiAgICAgKi9cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICB0aGlzLm9uUmVzaXplLmFkZChiYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMub25VcGRhdGUuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5vbkVycm9yLmFkZChiYXNlVGV4dHVyZSk7XG4gICAgICAgIC8vIENhbGwgYSByZXNpemUgaW1tZWRpYXRlIGlmIHdlIGFscmVhZHlcbiAgICAgICAgLy8gaGF2ZSB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgICAgaWYgKHRoaXMuX3dpZHRoIHx8IHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZS5lbWl0KHRoaXMuX3dpZHRoLCB0aGlzLl9oZWlnaHQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbmJpbmQgdG8gYSBwYXJlbnQgQmFzZVRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBQYXJlbnQgdGV4dHVyZVxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5vblJlc2l6ZS5yZW1vdmUoYmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLm9uVXBkYXRlLnJlbW92ZShiYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMub25FcnJvci5yZW1vdmUoYmFzZVRleHR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJpZ2dlciBhIHJlc2l6ZSBldmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFggZGltZW5zaW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFkgZGltZW5zaW9uXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGlmICh3aWR0aCAhPT0gdGhpcy5fd2lkdGggfHwgaGVpZ2h0ICE9PSB0aGlzLl9oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplLmVtaXQod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXNvdXJjZS5wcm90b3R5cGUsIFwidmFsaWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSGFzIGJlZW4gdmFsaWRhdGVkXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gISF0aGlzLl93aWR0aCAmJiAhIXRoaXMuX2hlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEhhcyBiZWVuIHVwZGF0ZWQgdHJpZ2dlciBldmVudFxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25VcGRhdGUuZW1pdCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNhbiBiZSBvdmVycmlkZGVuIHRvIHN0YXJ0IHByZWxvYWRpbmcgYSByZXNvdXJjZVxuICAgICAqIG9yIGRvIGFueSBvdGhlciBwcmVwYXJlIHN0ZXAuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59IEhhbmRsZSB0aGUgdmFsaWRhdGUgZXZlbnRcbiAgICAgKi9cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXNvdXJjZS5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc291cmNlLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHN0eWxlLCBvcHRpb25hbCB0byBvdmVycmlkZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHllYWgsIHJlbmRlcmVyIVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZSAtIHRleHR1cmUgaW5zdGFuY2UgZm9yIHRoaXMgd2ViZ2wgY29udGV4dFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5zdHlsZSA9IGZ1bmN0aW9uIChfcmVuZGVyZXIsIF9iYXNlVGV4dHVyZSwgX2dsVGV4dHVyZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCBhbnl0aGluZywgdGhpcyBoYXBwZW5zIHdoZW4gZGVzdHJveWluZyBpcyByZWFkeS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gb3ZlcnJpZGVcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGwgd2hlbiBkZXN0cm95aW5nIHJlc291cmNlLCB1bmJpbmQgYW55IEJhc2VUZXh0dXJlIG9iamVjdFxuICAgICAqIGJlZm9yZSBjYWxsaW5nIHRoaXMgbWV0aG9kLCBhcyByZWZlcmVuY2UgY291bnRzIGFyZSBtYWludGFpbmVkXG4gICAgICogaW50ZXJuYWxseS5cbiAgICAgKi9cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IucmVtb3ZlQWxsKCk7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgICAgIHRoaXMub25SZXNpemUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgICAgIHRoaXMub25VcGRhdGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBYnN0cmFjdCwgdXNlZCB0byBhdXRvLWRldGVjdCByZXNvdXJjZSB0eXBlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHsqfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbnNpb24gLSBUaGUgZXh0ZW5zaW9uIG9mIHNvdXJjZSwgaWYgc2V0XG4gICAgICovXG4gICAgUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChfc291cmNlLCBfZXh0ZW5zaW9uKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBSZXNvdXJjZTtcbn0oKSk7XG5cbi8qKlxuICogQGludGVyZmFjZSBTaGFyZWRBcnJheUJ1ZmZlclxuICovXG4vKipcbiAqIEJ1ZmZlciByZXNvdXJjZSB3aXRoIGRhdGEgb2YgdHlwZWQgYXJyYXkuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLlJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xudmFyIEJ1ZmZlclJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCdWZmZXJSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fFVpbnQzMkFycmF5fSBzb3VyY2UgLSBTb3VyY2UgYnVmZmVyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMud2lkdGggLSBXaWR0aCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLmhlaWdodCAtIEhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJ1ZmZlclJlc291cmNlKHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSBvcHRpb25zIHx8IHt9LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIGlmICghd2lkdGggfHwgIWhlaWdodCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCdWZmZXJSZXNvdXJjZSB3aWR0aCBvciBoZWlnaHQgaW52YWxpZCcpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBhcnJheVxuICAgICAgICAgKiBDYW5ub3QgYmUgQ2xhbXBlZFVpbnQ4QXJyYXkgYmVjYXVzZSBpdCBjYW50IGJlIHVwbG9hZGVkIHRvIFdlYkdMXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fFVpbnQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGF0YSA9IHNvdXJjZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHRleHR1cmUgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVXBsb2FkIHRvIHRoZSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZWZlcmVuY2UgdG8gcGFyZW50IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgLSBnbFRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgQnVmZmVyUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLlVOUEFDSyk7XG4gICAgICAgIGlmIChnbFRleHR1cmUud2lkdGggPT09IGJhc2VUZXh0dXJlLndpZHRoICYmIGdsVGV4dHVyZS5oZWlnaHQgPT09IGJhc2VUZXh0dXJlLmhlaWdodCkge1xuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIDAsIDAsIGJhc2VUZXh0dXJlLndpZHRoLCBiYXNlVGV4dHVyZS5oZWlnaHQsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoYmFzZVRleHR1cmUudGFyZ2V0LCAwLCBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQsIGJhc2VUZXh0dXJlLndpZHRoLCBiYXNlVGV4dHVyZS5oZWlnaHQsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgZ2xUZXh0dXJlLnR5cGUsIHRoaXMuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpc1xuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEJ1ZmZlclJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIDxjYW52YXM+XG4gICAgICovXG4gICAgQnVmZmVyUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheVxuICAgICAgICAgICAgfHwgc291cmNlIGluc3RhbmNlb2YgVWludDhBcnJheVxuICAgICAgICAgICAgfHwgc291cmNlIGluc3RhbmNlb2YgVWludDMyQXJyYXk7XG4gICAgfTtcbiAgICByZXR1cm4gQnVmZmVyUmVzb3VyY2U7XG59KFJlc291cmNlKSk7XG5cbnZhciBkZWZhdWx0QnVmZmVyT3B0aW9ucyA9IHtcbiAgICBzY2FsZU1vZGU6IFNDQUxFX01PREVTLk5FQVJFU1QsXG4gICAgZm9ybWF0OiBGT1JNQVRTLlJHQkEsXG4gICAgYWxwaGFNb2RlOiBBTFBIQV9NT0RFUy5OUE0sXG59O1xuLyoqXG4gKiBBIFRleHR1cmUgc3RvcmVzIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlcHJlc2VudHMgYW4gaW1hZ2UuXG4gKiBBbGwgdGV4dHVyZXMgaGF2ZSBhIGJhc2UgdGV4dHVyZSwgd2hpY2ggY29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHNvdXJjZS5cbiAqIFRoZXJlZm9yZSB5b3UgY2FuIGhhdmUgbWFueSB0ZXh0dXJlcyBhbGwgdXNpbmcgYSBzaW5nbGUgQmFzZVRleHR1cmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHBhcmFtIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZXxzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBbcmVzb3VyY2U9bnVsbF1cbiAqICAgICAgICBUaGUgY3VycmVudCByZXNvdXJjZSB0byB1c2UsIGZvciB0aGluZ3MgdGhhdCBhcmVuJ3QgUmVzb3VyY2Ugb2JqZWN0cywgd2lsbCBiZSBjb252ZXJ0ZWRcbiAqICAgICAgICBpbnRvIGEgUmVzb3VyY2UuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gQ29sbGVjdGlvbiBvZiBvcHRpb25zXG4gKiBAcGFyYW0ge1BJWEkuTUlQTUFQX01PREVTfSBbb3B0aW9ucy5taXBtYXA9UElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVNdIC0gSWYgbWlwbWFwcGluZyBpcyBlbmFibGVkIGZvciB0ZXh0dXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYW5pc290cm9waWNMZXZlbD1QSVhJLnNldHRpbmdzLkFOSVNPVFJPUElDX0xFVkVMXSAtIEFuaXNvdHJvcGljIGZpbHRlcmluZyBsZXZlbCBvZiB0ZXh0dXJlXG4gKiBAcGFyYW0ge1BJWEkuV1JBUF9NT0RFU30gW29wdGlvbnMud3JhcE1vZGU9UElYSS5zZXR0aW5ncy5XUkFQX01PREVdIC0gV3JhcCBtb2RlIGZvciB0ZXh0dXJlc1xuICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbb3B0aW9ucy5zY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIERlZmF1bHQgc2NhbGUgbW9kZSwgbGluZWFyLCBuZWFyZXN0XG4gKiBAcGFyYW0ge1BJWEkuRk9STUFUU30gW29wdGlvbnMuZm9ybWF0PVBJWEkuRk9STUFUUy5SR0JBXSAtIEdMIGZvcm1hdCB0eXBlXG4gKiBAcGFyYW0ge1BJWEkuVFlQRVN9IFtvcHRpb25zLnR5cGU9UElYSS5UWVBFUy5VTlNJR05FRF9CWVRFXSAtIEdMIGRhdGEgdHlwZVxuICogQHBhcmFtIHtQSVhJLlRBUkdFVFN9IFtvcHRpb25zLnRhcmdldD1QSVhJLlRBUkdFVFMuVEVYVFVSRV8yRF0gLSBHTCB0ZXh0dXJlIHRhcmdldFxuICogQHBhcmFtIHtQSVhJLkFMUEhBX01PREVTfSBbb3B0aW9ucy5hbHBoYU1vZGU9UElYSS5BTFBIQV9NT0RFUy5VTlBBQ0tdIC0gUHJlIG11bHRpcGx5IHRoZSBpbWFnZSBhbHBoYVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTBdIC0gV2lkdGggb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9MF0gLSBIZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uXSAtIFJlc29sdXRpb24gb2YgdGhlIGJhc2UgdGV4dHVyZVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLnJlc291cmNlT3B0aW9uc10gLSBPcHRpb25hbCByZXNvdXJjZSBvcHRpb25zLFxuICogICAgICAgIHNlZSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuYXV0b0RldGVjdFJlc291cmNlIGF1dG9EZXRlY3RSZXNvdXJjZX1cbiAqL1xudmFyIEJhc2VUZXh0dXJlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlVGV4dHVyZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCYXNlVGV4dHVyZShyZXNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAocmVzb3VyY2UgPT09IHZvaWQgMCkgeyByZXNvdXJjZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0gbnVsbDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdmFyIGFscGhhTW9kZSA9IG9wdGlvbnMuYWxwaGFNb2RlLCBtaXBtYXAgPSBvcHRpb25zLm1pcG1hcCwgYW5pc290cm9waWNMZXZlbCA9IG9wdGlvbnMuYW5pc290cm9waWNMZXZlbCwgc2NhbGVNb2RlID0gb3B0aW9ucy5zY2FsZU1vZGUsIHdpZHRoID0gb3B0aW9ucy53aWR0aCwgaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQsIHdyYXBNb2RlID0gb3B0aW9ucy53cmFwTW9kZSwgZm9ybWF0ID0gb3B0aW9ucy5mb3JtYXQsIHR5cGUgPSBvcHRpb25zLnR5cGUsIHRhcmdldCA9IG9wdGlvbnMudGFyZ2V0LCByZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uLCByZXNvdXJjZU9wdGlvbnMgPSBvcHRpb25zLnJlc291cmNlT3B0aW9ucztcbiAgICAgICAgLy8gQ29udmVydCB0aGUgcmVzb3VyY2UgdG8gYSBSZXNvdXJjZSBvYmplY3RcbiAgICAgICAgaWYgKHJlc291cmNlICYmICEocmVzb3VyY2UgaW5zdGFuY2VvZiBSZXNvdXJjZSkpIHtcbiAgICAgICAgICAgIHJlc291cmNlID0gYXV0b0RldGVjdFJlc291cmNlKHJlc291cmNlLCByZXNvdXJjZU9wdGlvbnMpO1xuICAgICAgICAgICAgcmVzb3VyY2UuaW50ZXJuYWwgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGJhc2UgdGV4dHVyZSBzZXQgd2hlbiB0aGUgaW1hZ2UgaGFzIGxvYWRlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMud2lkdGggPSB3aWR0aCB8fCAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgYmFzZSB0ZXh0dXJlIHNldCB3aGVuIHRoZSBpbWFnZSBoYXMgbG9hZGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oZWlnaHQgPSBoZWlnaHQgfHwgMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWlwbWFwIG1vZGUgb2YgdGhlIHRleHR1cmUsIGFmZmVjdHMgZG93bnNjYWxlZCBpbWFnZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NSVBNQVBfTU9ERVN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5taXBtYXAgPSBtaXBtYXAgIT09IHVuZGVmaW5lZCA/IG1pcG1hcCA6IHNldHRpbmdzLk1JUE1BUF9URVhUVVJFUztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuaXNvdHJvcGljIGZpbHRlcmluZyBsZXZlbCBvZiB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5BTklTT1RST1BJQ19MRVZFTFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5pc290cm9waWNMZXZlbCA9IGFuaXNvdHJvcGljTGV2ZWwgIT09IHVuZGVmaW5lZCA/IGFuaXNvdHJvcGljTGV2ZWwgOiBzZXR0aW5ncy5BTklTT1RST1BJQ19MRVZFTDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvdyB0aGUgdGV4dHVyZSB3cmFwc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53cmFwTW9kZSA9IHdyYXBNb2RlIHx8IHNldHRpbmdzLldSQVBfTU9ERTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsZSBtb2RlIHRvIGFwcGx5IHdoZW4gc2NhbGluZyB0aGlzIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TQ0FMRV9NT0RFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zY2FsZU1vZGUgPSBzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCA/IHNjYWxlTW9kZSA6IHNldHRpbmdzLlNDQUxFX01PREU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGl4ZWwgZm9ybWF0IG9mIHRoZSB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRk9STUFUU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5GT1JNQVRTLlJHQkFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZvcm1hdCA9IGZvcm1hdCB8fCBGT1JNQVRTLlJHQkE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiByZXNvdXJjZSBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVFlQRVN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVFlQRVMuVU5TSUdORURfQllURVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHlwZSA9IHR5cGUgfHwgVFlQRVMuVU5TSUdORURfQllURTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0YXJnZXQgdHlwZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRBUkdFVFN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVEFSR0VUUy5URVhUVVJFXzJEXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50YXJnZXQgPSB0YXJnZXQgfHwgVEFSR0VUUy5URVhUVVJFXzJEO1xuICAgICAgICAvKipcbiAgICAgICAgICogSG93IHRvIHRyZWF0IHByZW11bHRpcGxpZWQgYWxwaGEsIHNlZSB7QGxpbmsgUElYSS5BTFBIQV9NT0RFU30uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQUxQSEFfTU9ERVN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQUxQSEFfTU9ERVMuVU5QQUNLXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbHBoYU1vZGUgPSBhbHBoYU1vZGUgIT09IHVuZGVmaW5lZCA/IGFscGhhTW9kZSA6IEFMUEhBX01PREVTLlVOUEFDSztcbiAgICAgICAgaWYgKG9wdGlvbnMucHJlbXVsdGlwbHlBbHBoYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyB0cmlnZ2VycyBkZXByZWNhdGlvblxuICAgICAgICAgICAgX3RoaXMucHJlbXVsdGlwbHlBbHBoYSA9IG9wdGlvbnMucHJlbXVsdGlwbHlBbHBoYTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogR2xvYmFsIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIEJhc2VUZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudWlkID0gdWlkKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGJ5IGF1dG9tYXRpYyB0ZXh0dXJlIEdhcmJhZ2UgQ29sbGVjdGlvbiwgc3RvcmVzIGxhc3QgR0MgdGljayB3aGVuIGl0IHdhcyBib3VuZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRvdWNoZWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhlIHRleHR1cmUgaXMgYSBwb3dlciBvZiB0d28sIHRyeSB0byB1c2UgcG93ZXIgb2YgdHdvIHRleHR1cmVzIGFzIG11Y2hcbiAgICAgICAgICogYXMgeW91IGNhblxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmlzUG93ZXJPZlR3byA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hcCBvZiByZW5kZXIgY29udGV4dCB0ZXh0dXJlcyB3aGVyZSB0aGlzIGlzIGJvdW5kXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9nbFRleHR1cmVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGJ5IFRleHR1cmVTeXN0ZW0gdG8gb25seSB1cGRhdGUgdGV4dHVyZSB0byB0aGUgR1BVIHdoZW4gbmVlZGVkLlxuICAgICAgICAgKiBQbGVhc2UgY2FsbCBgdXBkYXRlKClgIHRvIGluY3JlbWVudCBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRpcnR5SWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBieSBUZXh0dXJlU3lzdGVtIHRvIG9ubHkgdXBkYXRlIHRleHR1cmUgc3R5bGUgd2hlbiBuZWVkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGlydHlTdHlsZUlkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnRseSBkZWZhdWx0IGNhY2hlIElELlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYWNoZUlkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdlbmVyYWxseSBzcGVha2luZyBtZWFucyB3aGVuIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52YWxpZCA9IHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgYWx0ZXJuYXRpdmUgY2FjaGUgaWRzLCBzaW5jZSBzb21lIEJhc2VUZXh0dXJlc1xuICAgICAgICAgKiBjYW4gaGF2ZSBtb3JlIHRoYW4gb25lIElELCBzaG9ydCBuYW1lIGFuZCBsb25nZXIgZnVsbCBVUkxcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8c3RyaW5nPn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZsYWcgaWYgQmFzZVRleHR1cmUgaGFzIGJlZW4gZGVzdHJveWVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc291cmNlIHVzZWQgYnkgdGhpcyBCYXNlVGV4dHVyZSwgdGhlcmUgY2FuIG9ubHlcbiAgICAgICAgICogYmUgb25lIHJlc291cmNlIHBlciBCYXNlVGV4dHVyZSwgYnV0IHRleHR1cmVzIGNhbiBzaGFyZVxuICAgICAgICAgKiByZXNvdXJjZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc291cmNlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiB0aGUgdGV4dHVyZSBiYXRjaCwgdXNlZCBieSBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmF0Y2hFbmFibGVkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvY2F0aW9uIGluc2lkZSB0ZXh0dXJlIGJhdGNoLCB1c2VkIGJ5IG11bHRpLXRleHR1cmUgcmVuZGVyZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9iYXRjaExvY2F0aW9uID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgaXRzIGEgcGFydCBvZiBhbm90aGVyIHRleHR1cmUsIGhhbmRsZWQgYnkgQXJyYXlSZXNvdXJjZSBvciBDdWJlUmVzb3VyY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBhcmVudFRleHR1cmVBcnJheSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgbm90LWltbWVkaWF0ZWx5LWF2YWlsYWJsZSBzb3VyY2UgZmluaXNoZXMgbG9hZGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNsb2FkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGxvYWRlZC5cbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgbm90LWltbWVkaWF0ZWx5LWF2YWlsYWJsZSBzb3VyY2UgZmFpbHMgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNlcnJvclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVzb3VyY2UgZXJyb3JlZC5cbiAgICAgICAgICogQHBhcmFtIHtFcnJvckV2ZW50fSBldmVudCAtIExvYWQgZXJyb3IgZXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2xvYWRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVzb3VyY2UgbG9hZGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSN1cGRhdGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEluc3RhbmNlIG9mIHRleHR1cmUgYmVpbmcgdXBkYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIGRlc3Ryb3llZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBJbnN0YW5jZSBvZiB0ZXh0dXJlIGJlaW5nIGRlc3Ryb3llZC5cbiAgICAgICAgICovXG4gICAgICAgIC8vIFNldCB0aGUgcmVzb3VyY2VcbiAgICAgICAgX3RoaXMuc2V0UmVzb3VyY2UocmVzb3VyY2UpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlVGV4dHVyZS5wcm90b3R5cGUsIFwicmVhbFdpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBpeGVsIHdpZHRoIG9mIHRoZSBzb3VyY2Ugb2YgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwoKHRoaXMud2lkdGggKiB0aGlzLnJlc29sdXRpb24pIC0gMWUtNCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZVRleHR1cmUucHJvdG90eXBlLCBcInJlYWxIZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUGl4ZWwgaGVpZ2h0IG9mIHRoZSBzb3VyY2Ugb2YgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwoKHRoaXMuaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uKSAtIDFlLTQpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBzdHlsZSBvcHRpb25zIG9mIEJhc2VUZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU0NBTEVfTU9ERVN9IFtzY2FsZU1vZGVdIC0gUGl4aSBzY2FsZW1vZGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTUlQTUFQX01PREVTfSBbbWlwbWFwXSAtIGVuYWJsZSBtaXBtYXBzXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiAoc2NhbGVNb2RlLCBtaXBtYXApIHtcbiAgICAgICAgdmFyIGRpcnR5O1xuICAgICAgICBpZiAoc2NhbGVNb2RlICE9PSB1bmRlZmluZWQgJiYgc2NhbGVNb2RlICE9PSB0aGlzLnNjYWxlTW9kZSkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZU1vZGUgPSBzY2FsZU1vZGU7XG4gICAgICAgICAgICBkaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1pcG1hcCAhPT0gdW5kZWZpbmVkICYmIG1pcG1hcCAhPT0gdGhpcy5taXBtYXApIHtcbiAgICAgICAgICAgIHRoaXMubWlwbWFwID0gbWlwbWFwO1xuICAgICAgICAgICAgZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eVN0eWxlSWQrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdy9oL3Jlc29sdXRpb24uIFRleHR1cmUgYmVjb21lcyB2YWxpZCBpZiB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBncmVhdGVyIHRoYW4gemVyby5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFZpc3VhbCB3aWR0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBWaXN1YWwgaGVpZ2h0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSAtIE9wdGlvbmFsbHkgc2V0IHJlc29sdXRpb25cbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRTaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pIHtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuX3JlZnJlc2hQT1QoKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHJlYWwgc2l6ZSBvZiBiYXNlVGV4dHVyZSwgcHJlc2VydmVzIGN1cnJlbnQgcmVzb2x1dGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZWFsV2lkdGggLSBGdWxsIHJlbmRlcmVkIHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlYWxIZWlnaHQgLSBGdWxsIHJlbmRlcmVkIGhlaWdodFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gLSBPcHRpb25hbGx5IHNldCByZXNvbHV0aW9uXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0UmVhbFNpemUgPSBmdW5jdGlvbiAocmVhbFdpZHRoLCByZWFsSGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLndpZHRoID0gcmVhbFdpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHJlYWxIZWlnaHQgLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuX3JlZnJlc2hQT1QoKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWZyZXNoIGNoZWNrIGZvciBpc1Bvd2VyT2ZUd28gdGV4dHVyZSBiYXNlZCBvbiBzaXplXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fcmVmcmVzaFBPVCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pc1Bvd2VyT2ZUd28gPSBpc1BvdzIodGhpcy5yZWFsV2lkdGgpICYmIGlzUG93Mih0aGlzLnJlYWxIZWlnaHQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyByZXNvbHV0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIHJlc1xuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFJlc29sdXRpb24gPSBmdW5jdGlvbiAocmVzb2x1dGlvbikge1xuICAgICAgICB2YXIgb2xkUmVzb2x1dGlvbiA9IHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKG9sZFJlc29sdXRpb24gPT09IHJlc29sdXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIGlmICh0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy53aWR0aCAqIG9sZFJlc29sdXRpb24gLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmhlaWdodCAqIG9sZFJlc29sdXRpb24gLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZWZyZXNoUE9UKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcmVzb3VyY2UgaWYgaXQgd2Fzbid0IHNldC4gVGhyb3dzIGVycm9yIGlmIHJlc291cmNlIGFscmVhZHkgcHJlc2VudFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0gcmVzb3VyY2UgLSB0aGF0IGlzIG1hbmFnaW5nIHRoaXMgQmFzZVRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRSZXNvdXJjZSA9IGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSA9PT0gcmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc291cmNlIGNhbiBiZSBzZXQgb25seSBvbmNlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb3VyY2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZXNvdXJjZSA9IHJlc291cmNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEludmFsaWRhdGVzIHRoZSBvYmplY3QuIFRleHR1cmUgYmVjb21lcyB2YWxpZCBpZiB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBncmVhdGVyIHRoYW4gemVyby5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoID4gMCAmJiB0aGlzLmhlaWdodCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgICAgIHRoaXMuZGlydHlTdHlsZUlkKys7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgZXJyb3JzIHdpdGggcmVzb3VyY2VzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFcnJvckV2ZW50fSBldmVudCAtIEVycm9yIGV2ZW50IGVtaXR0ZWQuXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIHRoaXMsIGV2ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgYmFzZSB0ZXh0dXJlLlxuICAgICAqIFRoZSBtZXRob2Qgc3RvcHMgaWYgcmVzb3VyY2UgZG9lc24ndCB3YW50IHRoaXMgdGV4dHVyZSB0byBiZSBkZXN0cm95ZWQuXG4gICAgICogUmVtb3ZlcyB0ZXh0dXJlIGZyb20gYWxsIGNhY2hlcy5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gcmVtb3ZlIGFuZCBkZXN0cm95IHRoZSByZXNvdXJjZVxuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS51bmJpbmQodGhpcyk7XG4gICAgICAgICAgICAvLyBvbmx5IGRlc3Ryb3kgcmVzb3VyY2VkIGNyZWF0ZWQgaW50ZXJuYWxseVxuICAgICAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UuaW50ZXJuYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNhY2hlSWQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW3RoaXMuY2FjaGVJZF07XG4gICAgICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RoaXMuY2FjaGVJZF07XG4gICAgICAgICAgICB0aGlzLmNhY2hlSWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZpbmFsbHkgbGV0IHRoZSBXZWJHTCByZW5kZXJlciBrbm93Li5cbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBudWxsO1xuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGcmVlcyB0aGUgdGV4dHVyZSBmcm9tIFdlYkdMIG1lbW9yeSB3aXRob3V0IGRlc3Ryb3lpbmcgdGhpcyB0ZXh0dXJlIG9iamVjdC5cbiAgICAgKiBUaGlzIG1lYW5zIHlvdSBjYW4gc3RpbGwgdXNlIHRoZSB0ZXh0dXJlIGxhdGVyIHdoaWNoIHdpbGwgdXBsb2FkIGl0IHRvIEdQVVxuICAgICAqIG1lbW9yeSBhZ2Fpbi5cbiAgICAgKlxuICAgICAqIEBmaXJlcyBQSVhJLkJhc2VUZXh0dXJlI2Rpc3Bvc2VcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdkaXNwb3NlJywgdGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciBCYXNlVGV4dHVyZXxUZXh0dXJlIGNhc3RcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuY2FzdFRvQmFzZVRleHR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGJhc2UgdGV4dHVyZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gaW1hZ2UgdXJsLCBpbWFnZSBlbGVtZW50LCBjYW52YXMgZWxlbWVudC4gSWYgdGhlXG4gICAgICogc291cmNlIGlzIGFuIGltYWdlIHVybCBvciBhbiBpbWFnZSBlbGVtZW50IGFuZCBub3QgaW4gdGhlIGJhc2UgdGV4dHVyZVxuICAgICAqIGNhY2hlLCBpdCB3aWxsIGJlIGNyZWF0ZWQgYW5kIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fFNWR0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gVGhlXG4gICAgICogICAgICAgIHNvdXJjZSB0byBjcmVhdGUgYmFzZSB0ZXh0dXJlIGZyb20uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3RyaWN0XSAtIEVuZm9yY2Ugc3RyaWN0LW1vZGUsIHNlZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5TVFJJQ1RfVEVYVFVSRV9DQUNIRX0uXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IFRoZSBuZXcgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmZyb20gPSBmdW5jdGlvbiAoc291cmNlLCBvcHRpb25zLCBzdHJpY3QpIHtcbiAgICAgICAgaWYgKHN0cmljdCA9PT0gdm9pZCAwKSB7IHN0cmljdCA9IHNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFOyB9XG4gICAgICAgIHZhciBpc0ZyYW1lID0gdHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZyc7XG4gICAgICAgIHZhciBjYWNoZUlkID0gbnVsbDtcbiAgICAgICAgaWYgKGlzRnJhbWUpIHtcbiAgICAgICAgICAgIGNhY2hlSWQgPSBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZS5fcGl4aUlkKSB7XG4gICAgICAgICAgICAgICAgc291cmNlLl9waXhpSWQgPSBcInBpeGlpZF9cIiArIHVpZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZS5fcGl4aUlkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IEJhc2VUZXh0dXJlQ2FjaGVbY2FjaGVJZF07XG4gICAgICAgIC8vIFN0cmljdC1tb2RlIHJlamVjdHMgaW52YWxpZCBjYWNoZUlkc1xuICAgICAgICBpZiAoaXNGcmFtZSAmJiBzdHJpY3QgJiYgIWJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgY2FjaGVJZCBcXFwiXCIgKyBjYWNoZUlkICsgXCJcXFwiIGRvZXMgbm90IGV4aXN0IGluIEJhc2VUZXh0dXJlQ2FjaGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5jYWNoZUlkID0gY2FjaGVJZDtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGNhY2hlSWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBCYXNlVGV4dHVyZSB3aXRoIGEgQnVmZmVyUmVzb3VyY2UgZnJvbSBhIEZsb2F0MzJBcnJheS5cbiAgICAgKiBSR0JBIHZhbHVlcyBhcmUgZmxvYXRzIGZyb20gMCB0byAxLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fSBidWZmZXIgLSBUaGUgb3B0aW9uYWwgYXJyYXkgdG8gdXNlLCBpZiBubyBkYXRhXG4gICAgICogICAgICAgIGlzIHByb3ZpZGVkLCBhIG5ldyBGbG9hdDMyQXJyYXkgaXMgY3JlYXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV9IFRoZSByZXN1bHRpbmcgbmV3IEJhc2VUZXh0dXJlXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuZnJvbUJ1ZmZlciA9IGZ1bmN0aW9uIChidWZmZXIsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIHtcbiAgICAgICAgYnVmZmVyID0gYnVmZmVyIHx8IG5ldyBGbG9hdDMyQXJyYXkod2lkdGggKiBoZWlnaHQgKiA0KTtcbiAgICAgICAgdmFyIHJlc291cmNlID0gbmV3IEJ1ZmZlclJlc291cmNlKGJ1ZmZlciwgeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH0pO1xuICAgICAgICB2YXIgdHlwZSA9IGJ1ZmZlciBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSA/IFRZUEVTLkZMT0FUIDogVFlQRVMuVU5TSUdORURfQllURTtcbiAgICAgICAgcmV0dXJuIG5ldyBCYXNlVGV4dHVyZShyZXNvdXJjZSwgT2JqZWN0LmFzc2lnbihkZWZhdWx0QnVmZmVyT3B0aW9ucywgb3B0aW9ucyB8fCB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQsIHR5cGU6IHR5cGUgfSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIEJhc2VUZXh0dXJlIHRvIHRoZSBnbG9iYWwgQmFzZVRleHR1cmVDYWNoZS4gVGhpcyBjYWNoZSBpcyBzaGFyZWQgYWNyb3NzIHRoZSB3aG9sZSBQSVhJIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIEJhc2VUZXh0dXJlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRoYXQgdGhlIEJhc2VUZXh0dXJlIHdpbGwgYmUgc3RvcmVkIGFnYWluc3QuXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSwgaWQpIHtcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoaWQpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChCYXNlVGV4dHVyZUNhY2hlW2lkXSkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQmFzZVRleHR1cmUgYWRkZWQgdG8gdGhlIGNhY2hlIHdpdGggYW4gaWQgW1wiICsgaWQgKyBcIl0gdGhhdCBhbHJlYWR5IGhhZCBhbiBlbnRyeVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEJhc2VUZXh0dXJlQ2FjaGVbaWRdID0gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIEJhc2VUZXh0dXJlIGZyb20gdGhlIGdsb2JhbCBCYXNlVGV4dHVyZUNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gaWQgb2YgYSBCYXNlVGV4dHVyZSB0byBiZSByZW1vdmVkLCBvciBhIEJhc2VUZXh0dXJlIGluc3RhbmNlIGl0c2VsZi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfG51bGx9IFRoZSBCYXNlVGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICBpZiAodHlwZW9mIGJhc2VUZXh0dXJlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlRnJvbUNhY2hlID0gQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZV07XG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmVGcm9tQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBiYXNlVGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihiYXNlVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmVGcm9tQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYmFzZVRleHR1cmUgJiYgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdsb2JhbCBudW1iZXIgb2YgdGhlIHRleHR1cmUgYmF0Y2gsIHVzZWQgYnkgbXVsdGktdGV4dHVyZSByZW5kZXJlcnNcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoID0gMDtcbiAgICByZXR1cm4gQmFzZVRleHR1cmU7XG59KEV2ZW50RW1pdHRlcikpO1xuXG4vKipcbiAqIFJlc291cmNlIHRoYXQgY2FuIG1hbmFnZSBzZXZlcmFsIHJlc291cmNlIChpdGVtcykgaW5zaWRlLlxuICogQWxsIHJlc291cmNlcyBuZWVkIHRvIGhhdmUgdGhlIHNhbWUgcGl4ZWwgc2l6ZS5cbiAqIFBhcmVudCBjbGFzcyBmb3IgQ3ViZVJlc291cmNlIGFuZCBBcnJheVJlc291cmNlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gZm9yIFJlc291cmNlIGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAqL1xudmFyIEFic3RyYWN0TXVsdGlSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWJzdHJhY3RNdWx0aVJlc291cmNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TXVsdGlSZXNvdXJjZShsZW5ndGgsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hID0gb3B0aW9ucyB8fCB7fSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIHBhcnRpYWwgYmFzZVRleHR1cmVzIHRoYXQgY29ycmVzcG9uZCB0byByZXNvdXJjZXNcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8UElYSS5CYXNlVGV4dHVyZT59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXRlbXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpcnR5IElEcyBmb3IgZWFjaCBwYXJ0XG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXRlbURpcnR5SWRzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJ0VGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZSgpO1xuICAgICAgICAgICAgX3RoaXMuaXRlbXMucHVzaChwYXJ0VGV4dHVyZSk7XG4gICAgICAgICAgICAvLyAtMiAtIGZpcnN0IHJ1biBvZiB0ZXh0dXJlIGFycmF5IHVwbG9hZFxuICAgICAgICAgICAgLy8gLTEgLSB0ZXh0dXJlIGl0ZW0gd2FzIGFsbG9jYXRlZFxuICAgICAgICAgICAgLy8gPj0wIC0gdGV4dHVyZSBpdGVtIHVwbG9hZGVkICwgaW4gc3luYyB3aXRoIGl0ZW1zW2ldLmRpcnR5SWRcbiAgICAgICAgICAgIF90aGlzLml0ZW1EaXJ0eUlkcy5wdXNoKC0yKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGVsZW1lbnRzIGluIGFycmF5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9taXNlIHdoZW4gbG9hZGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3VuZCBiYXNlVGV4dHVyZSwgdGhlcmUgY2FuIG9ubHkgYmUgb25lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogdXNlZCBmcm9tIEFycmF5UmVzb3VyY2UgYW5kIEN1YmVSZXNvdXJjZSBjb25zdHJ1Y3RvcnNcbiAgICAgKiBAcGFyYW0ge0FycmF5PCo+fSByZXNvdXJjZXMgLSBDYW4gYmUgcmVzb3VyY2VzLCBpbWFnZSBlbGVtZW50cywgY2FudmFzLCBldGMuICxcbiAgICAgKiAgbGVuZ3RoIHNob3VsZCBiZSBzYW1lIGFzIGNvbnN0cnVjdG9yIGxlbmd0aFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBkZXRlY3Qgb3B0aW9ucyBmb3IgcmVzb3VyY2VzXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEFic3RyYWN0TXVsdGlSZXNvdXJjZS5wcm90b3R5cGUuaW5pdEZyb21BcnJheSA9IGZ1bmN0aW9uIChyZXNvdXJjZXMsIG9wdGlvbnMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXJlc291cmNlc1tpXSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc291cmNlc1tpXS5jYXN0VG9CYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQmFzZVRleHR1cmVBdChyZXNvdXJjZXNbaV0uY2FzdFRvQmFzZVRleHR1cmUoKSwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZXNvdXJjZXNbaV0gaW5zdGFuY2VvZiBSZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUmVzb3VyY2VBdChyZXNvdXJjZXNbaV0sIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KGF1dG9EZXRlY3RSZXNvdXJjZShyZXNvdXJjZXNbaV0sIG9wdGlvbnMpLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGlzIEJhc2VJbWFnZVJlc291cmNlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgQWJzdHJhY3RNdWx0aVJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pdGVtcyA9IG51bGw7XG4gICAgICAgIHRoaXMuaXRlbURpcnR5SWRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgYSByZXNvdXJjZSBieSBJRFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0gcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBaZXJvLWJhc2VkIGluZGV4IG9mIHJlc291cmNlIHRvIHNldFxuICAgICAqIEByZXR1cm4ge1BJWEkucmVzb3VyY2VzLkFycmF5UmVzb3VyY2V9IEluc3RhbmNlIGZvciBjaGFpbmluZ1xuICAgICAqL1xuICAgIEFic3RyYWN0TXVsdGlSZXNvdXJjZS5wcm90b3R5cGUuYWRkUmVzb3VyY2VBdCA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgaW5kZXgpIHtcbiAgICAgICAgaWYgKCF0aGlzLml0ZW1zW2luZGV4XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5kZXggXCIgKyBpbmRleCArIFwiIGlzIG91dCBvZiBib3VuZHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW5oZXJpdCB0aGUgZmlyc3QgcmVzb3VyY2UgZGltZW5zaW9uc1xuICAgICAgICBpZiAocmVzb3VyY2UudmFsaWQgJiYgIXRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplKHJlc291cmNlLndpZHRoLCByZXNvdXJjZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXRlbXNbaW5kZXhdLnNldFJlc291cmNlKHJlc291cmNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBhcmVudCBiYXNlIHRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEFic3RyYWN0TXVsdGlSZXNvdXJjZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICBpZiAodGhpcy5iYXNlVGV4dHVyZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IG9uZSBiYXNlIHRleHR1cmUgcGVyIFRleHR1cmVBcnJheSBpcyBhbGxvd2VkJyk7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcywgYmFzZVRleHR1cmUpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0ucGFyZW50VGV4dHVyZUFycmF5ID0gYmFzZVRleHR1cmU7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLm9uKCd1cGRhdGUnLCBiYXNlVGV4dHVyZS51cGRhdGUsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5zZXQgdGhlIHBhcmVudCBiYXNlIHRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEFic3RyYWN0TXVsdGlSZXNvdXJjZS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5iaW5kLmNhbGwodGhpcywgYmFzZVRleHR1cmUpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0ucGFyZW50VGV4dHVyZUFycmF5ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0ub2ZmKCd1cGRhdGUnLCBiYXNlVGV4dHVyZS51cGRhdGUsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZCBhbGwgdGhlIHJlc291cmNlcyBzaW11bHRhbmVvdXNseVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59IFdoZW4gbG9hZCBpcyByZXNvbHZlZFxuICAgICAqL1xuICAgIEFic3RyYWN0TXVsdGlSZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXNvdXJjZXMgPSB0aGlzLml0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS5yZXNvdXJjZTsgfSkuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtOyB9KTtcbiAgICAgICAgLy8gVE9ETzogYWxzbyBpbXBsZW1lbnQgbG9hZCBwYXJ0LWJ5LXBhcnQgc3RyYXRlZ3lcbiAgICAgICAgdmFyIHByb21pc2VzID0gcmVzb3VyY2VzLm1hcChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS5sb2FkKCk7IH0pO1xuICAgICAgICB0aGlzLl9sb2FkID0gUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5pdGVtc1swXSwgcmVhbFdpZHRoID0gX2EucmVhbFdpZHRoLCByZWFsSGVpZ2h0ID0gX2EucmVhbEhlaWdodDtcbiAgICAgICAgICAgIF90aGlzLnJlc2l6ZShyZWFsV2lkdGgsIHJlYWxIZWlnaHQpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShfdGhpcyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9O1xuICAgIHJldHVybiBBYnN0cmFjdE11bHRpUmVzb3VyY2U7XG59KFJlc291cmNlKSk7XG5cbi8qKlxuICogQSByZXNvdXJjZSB0aGF0IGNvbnRhaW5zIGEgbnVtYmVyIG9mIHNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge251bWJlcnxBcnJheTwqPn0gc291cmNlIC0gTnVtYmVyIG9mIGl0ZW1zIGluIGFycmF5IG9yIHRoZSBjb2xsZWN0aW9uXG4gKiAgICAgICAgb2YgaW1hZ2UgVVJMcyB0byB1c2UuIENhbiBhbHNvIGJlIHJlc291cmNlcywgaW1hZ2UgZWxlbWVudHMsIGNhbnZhcywgZXRjLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMgdG8gYXBwbHkgdG8ge0BsaW5rIFBJWEkucmVzb3VyY2VzLmF1dG9EZXRlY3RSZXNvdXJjZX1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICovXG52YXIgQXJyYXlSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXJyYXlSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBcnJheVJlc291cmNlKHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSBvcHRpb25zIHx8IHt9LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHZhciB1cmxzO1xuICAgICAgICB2YXIgbGVuZ3RoO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICAgICAgICB1cmxzID0gc291cmNlO1xuICAgICAgICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGxlbmd0aCwgeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH0pIHx8IHRoaXM7XG4gICAgICAgIGlmICh1cmxzKSB7XG4gICAgICAgICAgICBfdGhpcy5pbml0RnJvbUFycmF5KHVybHMsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGEgYmFzZVRleHR1cmUgYnkgSUQsXG4gICAgICogQXJyYXlSZXNvdXJjZSBqdXN0IHRha2VzIHJlc291cmNlIGZyb20gaXQsIG5vdGhpbmcgbW9yZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFplcm8tYmFzZWQgaW5kZXggb2YgcmVzb3VyY2UgdG8gc2V0XG4gICAgICogQHJldHVybiB7UElYSS5yZXNvdXJjZXMuQXJyYXlSZXNvdXJjZX0gSW5zdGFuY2UgZm9yIGNoYWluaW5nXG4gICAgICovXG4gICAgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUuYWRkQmFzZVRleHR1cmVBdCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnJlc291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFJlc291cmNlQXQoYmFzZVRleHR1cmUucmVzb3VyY2UsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXJyYXlSZXNvdXJjZSBkb2VzIG5vdCBzdXBwb3J0IFJlbmRlclRleHR1cmUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBiaW5kaW5nXG4gICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFXzJEX0FSUkFZO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSByZXNvdXJjZXMgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgdGV4dHVyZSB3YXMgdXBsb2FkZWRcbiAgICAgKi9cbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiAocmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBsZW5ndGggPSBfYS5sZW5ndGgsIGl0ZW1EaXJ0eUlkcyA9IF9hLml0ZW1EaXJ0eUlkcywgaXRlbXMgPSBfYS5pdGVtcztcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIGlmIChnbFRleHR1cmUuZGlydHlJZCA8IDApIHtcbiAgICAgICAgICAgIGdsLnRleEltYWdlM0QoZ2wuVEVYVFVSRV8yRF9BUlJBWSwgMCwgdGV4dHVyZS5mb3JtYXQsIHRoaXMuX3dpZHRoLCB0aGlzLl9oZWlnaHQsIGxlbmd0aCwgMCwgdGV4dHVyZS5mb3JtYXQsIHRleHR1cmUudHlwZSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBpdGVtc1tpXTtcbiAgICAgICAgICAgIGlmIChpdGVtRGlydHlJZHNbaV0gPCBpdGVtLmRpcnR5SWQpIHtcbiAgICAgICAgICAgICAgICBpdGVtRGlydHlJZHNbaV0gPSBpdGVtLmRpcnR5SWQ7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UzRChnbC5URVhUVVJFXzJEX0FSUkFZLCAwLCAwLCAvLyB4b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIDAsIC8vIHlvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgaSwgLy8gem9mZnNldFxuICAgICAgICAgICAgICAgICAgICBpdGVtLnJlc291cmNlLndpZHRoLCBpdGVtLnJlc291cmNlLmhlaWdodCwgMSwgdGV4dHVyZS5mb3JtYXQsIHRleHR1cmUudHlwZSwgaXRlbS5yZXNvdXJjZS5zb3VyY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBBcnJheVJlc291cmNlO1xufShBYnN0cmFjdE11bHRpUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBCYXNlIGZvciBhbGwgdGhlIGltYWdlL2NhbnZhcyByZXNvdXJjZXNcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG52YXIgQmFzZUltYWdlUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VJbWFnZVJlc291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9IHNvdXJjZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VJbWFnZVJlc291cmNlKHNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc291cmNlQW55ID0gc291cmNlO1xuICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2VBbnkubmF0dXJhbFdpZHRoIHx8IHNvdXJjZUFueS52aWRlb1dpZHRoIHx8IHNvdXJjZUFueS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZUFueS5uYXR1cmFsSGVpZ2h0IHx8IHNvdXJjZUFueS52aWRlb0hlaWdodCB8fCBzb3VyY2VBbnkuaGVpZ2h0O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc291cmNlIGVsZW1lbnRcbiAgICAgICAgICogQG1lbWJlciB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgc2V0IHRvIGB0cnVlYCwgd2lsbCBmb3JjZSBgdGV4SW1hZ2UyRGAgb3ZlciBgdGV4U3ViSW1hZ2UyRGAgZm9yIHVwbG9hZGluZy5cbiAgICAgICAgICogQ2VydGFpbiB0eXBlcyBvZiBtZWRpYSAoZS5nLiB2aWRlbykgdXNpbmcgYHRleEltYWdlMkRgIGlzIG1vcmUgcGVyZm9ybWFudC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm5vU3ViSW1hZ2UgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgY3Jvc3Mgb3JpZ2luIGJhc2VkIGRldGVjdGluZyB0aGUgdXJsIGFuZCB0aGUgY3Jvc3NvcmlnaW5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gYXBwbHkgY3Jvc3NPcmlnaW5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVVJMIHRvIGNoZWNrXG4gICAgICogQHBhcmFtIHtib29sZWFufHN0cmluZ30gW2Nyb3Nzb3JpZ2luPXRydWVdIC0gQ3Jvc3Mgb3JpZ2luIHZhbHVlIHRvIHVzZVxuICAgICAqL1xuICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luID0gZnVuY3Rpb24gKGVsZW1lbnQsIHVybCwgY3Jvc3NvcmlnaW4pIHtcbiAgICAgICAgaWYgKGNyb3Nzb3JpZ2luID09PSB1bmRlZmluZWQgJiYgdXJsLmluZGV4T2YoJ2RhdGE6JykgIT09IDApIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY3Jvc3NPcmlnaW4gPSBkZXRlcm1pbmVDcm9zc09yaWdpbih1cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNyb3Nzb3JpZ2luICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgZWxlbWVudC5jcm9zc09yaWdpbiA9IHR5cGVvZiBjcm9zc29yaWdpbiA9PT0gJ3N0cmluZycgPyBjcm9zc29yaWdpbiA6ICdhbm9ueW1vdXMnO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHRleHR1cmUgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVXBsb2FkIHRvIHRoZSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZWZlcmVuY2UgdG8gcGFyZW50IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmVcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxTVkdFbGVtZW50fSBbc291cmNlXSAob3B0aW9uYWwpXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiAocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUsIHNvdXJjZSkge1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIHdpZHRoID0gYmFzZVRleHR1cmUucmVhbFdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gYmFzZVRleHR1cmUucmVhbEhlaWdodDtcbiAgICAgICAgc291cmNlID0gc291cmNlIHx8IHRoaXMuc291cmNlO1xuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuVU5QQUNLKTtcbiAgICAgICAgaWYgKCF0aGlzLm5vU3ViSW1hZ2VcbiAgICAgICAgICAgICYmIGJhc2VUZXh0dXJlLnRhcmdldCA9PT0gZ2wuVEVYVFVSRV8yRFxuICAgICAgICAgICAgJiYgZ2xUZXh0dXJlLndpZHRoID09PSB3aWR0aFxuICAgICAgICAgICAgJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUudHlwZSwgc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoYmFzZVRleHR1cmUudGFyZ2V0LCAwLCBiYXNlVGV4dHVyZS5mb3JtYXQsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUudHlwZSwgc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBzb3VyY2Ugd2lkdGgvaGVpZ2h0IHdhcyBjaGFuZ2VkLCByZXNpemUgY2FuIGNhdXNlIGV4dHJhIGJhc2VUZXh0dXJlIHVwZGF0ZS5cbiAgICAgKiBUcmlnZ2VycyBvbmUgdXBkYXRlIGluIGFueSBjYXNlLlxuICAgICAqL1xuICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgdmFyIHdpZHRoID0gc291cmNlLm5hdHVyYWxXaWR0aCB8fCBzb3VyY2UudmlkZW9XaWR0aCB8fCBzb3VyY2Uud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBzb3VyY2UubmF0dXJhbEhlaWdodCB8fCBzb3VyY2UudmlkZW9IZWlnaHQgfHwgc291cmNlLmhlaWdodDtcbiAgICAgICAgdGhpcy5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoaXMgQmFzZUltYWdlUmVzb3VyY2VcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEJhc2VJbWFnZVJlc291cmNlO1xufShSZXNvdXJjZSkpO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgT2Zmc2NyZWVuQ2FudmFzXG4gKi9cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSFRNTENhbnZhc0VsZW1lbnQuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IHNvdXJjZSAtIENhbnZhcyBlbGVtZW50IHRvIHVzZVxuICovXG52YXIgQ2FudmFzUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhbnZhc1Jlc291cmNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENhbnZhc1Jlc291cmNlKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudHxPZmZzY3JlZW5DYW52YXN9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHNvdXJjZSBpcyBIVE1MQ2FudmFzRWxlbWVudCBvciBPZmZzY3JlZW5DYW52YXNcbiAgICAgKi9cbiAgICBDYW52YXNSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICB2YXIgT2Zmc2NyZWVuQ2FudmFzID0gd2luZG93Lk9mZnNjcmVlbkNhbnZhcztcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGJyb3dzZXJzIHRoYXQgZG9uJ3QgeWV0IHN1cHBvcnQgT2Zmc2NyZWVuQ2FudmFzXG4gICAgICAgIGlmIChPZmZzY3JlZW5DYW52YXMgJiYgc291cmNlIGluc3RhbmNlb2YgT2Zmc2NyZWVuQ2FudmFzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc291cmNlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgfTtcbiAgICByZXR1cm4gQ2FudmFzUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgZm9yIGEgQ3ViZVRleHR1cmUgd2hpY2ggY29udGFpbnMgc2l4IHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkFycmF5UmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtBcnJheTxzdHJpbmd8UElYSS5yZXNvdXJjZXMuUmVzb3VyY2U+fSBbc291cmNlXSAtIENvbGxlY3Rpb24gb2YgVVJMcyBvciByZXNvdXJjZXNcbiAqICAgICAgICB0byB1c2UgYXMgdGhlIHNpZGVzIG9mIHRoZSBjdWJlLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIEltYWdlUmVzb3VyY2Ugb3B0aW9uc1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFdpZHRoIG9mIHJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiByZXNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gV2hldGhlciB0byBhdXRvLWxvYWQgcmVzb3VyY2VzXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubGlua0Jhc2VUZXh0dXJlPXRydWVdIC0gSW4gY2FzZSBCYXNlVGV4dHVyZXMgYXJlIHN1cHBsaWVkLFxuICogICB3aGV0aGVyIHRvIGNvcHkgdGhlbSBvciB1c2VcbiAqL1xudmFyIEN1YmVSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ3ViZVJlc291cmNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEN1YmVSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hID0gb3B0aW9ucyB8fCB7fSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0LCBhdXRvTG9hZCA9IF9hLmF1dG9Mb2FkLCBsaW5rQmFzZVRleHR1cmUgPSBfYS5saW5rQmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChzb3VyY2UgJiYgc291cmNlLmxlbmd0aCAhPT0gQ3ViZVJlc291cmNlLlNJREVTKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGxlbmd0aC4gR290IFwiICsgc291cmNlLmxlbmd0aCArIFwiLCBleHBlY3RlZCA2XCIpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgNiwgeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH0pIHx8IHRoaXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQ3ViZVJlc291cmNlLlNJREVTOyBpKyspIHtcbiAgICAgICAgICAgIF90aGlzLml0ZW1zW2ldLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSW4gY2FzZSBCYXNlVGV4dHVyZXMgYXJlIHN1cHBsaWVkLCB3aGV0aGVyIHRvIHVzZSBzYW1lIHJlc291cmNlIG9yIGJpbmQgYmFzZVRleHR1cmUgaXRzZWxmXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxpbmtCYXNlVGV4dHVyZSA9IGxpbmtCYXNlVGV4dHVyZSAhPT0gZmFsc2U7XG4gICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIF90aGlzLmluaXRGcm9tQXJyYXkoc291cmNlLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXV0b0xvYWQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYmluZGluZ1xuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIHBhcmVudCBiYXNlIHRleHR1cmVcbiAgICAgKi9cbiAgICBDdWJlUmVzb3VyY2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcywgYmFzZVRleHR1cmUpO1xuICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfQ1VCRV9NQVA7XG4gICAgfTtcbiAgICBDdWJlUmVzb3VyY2UucHJvdG90eXBlLmFkZEJhc2VUZXh0dXJlQXQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUsIGluZGV4LCBsaW5rQmFzZVRleHR1cmUpIHtcbiAgICAgICAgaWYgKGxpbmtCYXNlVGV4dHVyZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsaW5rQmFzZVRleHR1cmUgPSB0aGlzLmxpbmtCYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXRlbXNbaW5kZXhdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmRleCBcIiArIGluZGV4ICsgXCIgaXMgb3V0IG9mIGJvdW5kc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubGlua0Jhc2VUZXh0dXJlXG4gICAgICAgICAgICB8fCBiYXNlVGV4dHVyZS5wYXJlbnRUZXh0dXJlQXJyYXlcbiAgICAgICAgICAgIHx8IE9iamVjdC5rZXlzKGJhc2VUZXh0dXJlLl9nbFRleHR1cmVzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBjb3B5IG1vZGVcbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS5yZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUmVzb3VyY2VBdChiYXNlVGV4dHVyZS5yZXNvdXJjZSwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ3ViZVJlc291cmNlIGRvZXMgbm90IHN1cHBvcnQgY29weWluZyBvZiByZW5kZXJUZXh0dXJlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxpbmsgbW9kZSwgdGhlIGRpZmZpY3VsdCBvbmUhXG4gICAgICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGluZGV4O1xuICAgICAgICAgICAgYmFzZVRleHR1cmUucGFyZW50VGV4dHVyZUFycmF5ID0gdGhpcy5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaW5kZXhdID0gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnZhbGlkICYmICF0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZShiYXNlVGV4dHVyZS5yZWFsV2lkdGgsIGJhc2VUZXh0dXJlLnJlYWxIZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXRlbXNbaW5kZXhdID0gYmFzZVRleHR1cmU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSByZXNvdXJjZVxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIEN1YmVSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKHJlbmRlcmVyLCBfYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgICAgICB2YXIgZGlydHkgPSB0aGlzLml0ZW1EaXJ0eUlkcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBDdWJlUmVzb3VyY2UuU0lERVM7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNpZGUgPSB0aGlzLml0ZW1zW2ldO1xuICAgICAgICAgICAgaWYgKGRpcnR5W2ldIDwgc2lkZS5kaXJ0eUlkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNpZGUudmFsaWQgJiYgc2lkZS5yZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBzaWRlLnJlc291cmNlLnVwbG9hZChyZW5kZXJlciwgc2lkZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgZGlydHlbaV0gPSBzaWRlLmRpcnR5SWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRpcnR5W2ldIDwgLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZWl0aGVyIGl0ZW0gaXMgbm90IHZhbGlkIHlldCwgZWl0aGVyIGl0cyBhIHJlbmRlclRleHR1cmVcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsb2NhdGUgdGhlIG1lbW9yeVxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5nbC50ZXhJbWFnZTJEKHNpZGUudGFyZ2V0LCAwLCBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQsIF9iYXNlVGV4dHVyZS5yZWFsV2lkdGgsIF9iYXNlVGV4dHVyZS5yZWFsSGVpZ2h0LCAwLCBfYmFzZVRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIGRpcnR5W2ldID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgc291cmNlIGlzIGFuIGFycmF5IG9mIDYgZWxlbWVudHNcbiAgICAgKi9cbiAgICBDdWJlUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc291cmNlKSAmJiBzb3VyY2UubGVuZ3RoID09PSBDdWJlUmVzb3VyY2UuU0lERVM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgdGV4dHVyZSBzaWRlcyB0byBzdG9yZSBmb3IgQ3ViZVJlc291cmNlc1xuICAgICAqXG4gICAgICogQG5hbWUgUElYSS5yZXNvdXJjZXMuQ3ViZVJlc291cmNlLlNJREVTXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA2XG4gICAgICovXG4gICAgQ3ViZVJlc291cmNlLlNJREVTID0gNjtcbiAgICByZXR1cm4gQ3ViZVJlc291cmNlO1xufShBYnN0cmFjdE11bHRpUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBIVE1MSW1hZ2VFbGVtZW50LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbnZhciBJbWFnZVJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbWFnZVJlc291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxzdHJpbmd9IHNvdXJjZSAtIGltYWdlIHNvdXJjZSBvciBVUkxcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIHN0YXJ0IGxvYWRpbmcgcHJvY2Vzc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3JlYXRlQml0bWFwPVBJWEkuc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUF0gLSB3aGV0aGVyIGl0cyByZXF1aXJlZCB0byBjcmVhdGVcbiAgICAgKiAgICAgICAgYSBiaXRtYXAgYmVmb3JlIHVwbG9hZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NvcmlnaW49dHJ1ZV0gLSBMb2FkIGltYWdlIHVzaW5nIGNyb3NzIG9yaWdpblxuICAgICAqIEBwYXJhbSB7UElYSS5BTFBIQV9NT0RFU30gW29wdGlvbnMuYWxwaGFNb2RlPVBJWEkuQUxQSEFfTU9ERVMuVU5QQUNLXSAtIFByZW11bHRpcGx5IGltYWdlIGFscGhhIGluIGJpdG1hcFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEltYWdlUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBpZiAoIShzb3VyY2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSkge1xuICAgICAgICAgICAgdmFyIGltYWdlRWxlbWVudCA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4oaW1hZ2VFbGVtZW50LCBzb3VyY2UsIG9wdGlvbnMuY3Jvc3NvcmlnaW4pO1xuICAgICAgICAgICAgaW1hZ2VFbGVtZW50LnNyYyA9IHNvdXJjZTtcbiAgICAgICAgICAgIHNvdXJjZSA9IGltYWdlRWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNvdXJjZSkgfHwgdGhpcztcbiAgICAgICAgLy8gRmlyZUZveCA2OCwgYW5kIHBvc3NpYmx5IG90aGVyIHZlcnNpb25zLCBzZWVtcyBsaWtlIHNldHRpbmcgdGhlIEhUTUxJbWFnZUVsZW1lbnQjd2lkdGggYW5kICNoZWlnaHRcbiAgICAgICAgLy8gdG8gbm9uLXplcm8gdmFsdWVzIGJlZm9yZSBpdHMgbG9hZGluZyBjb21wbGV0ZXMgaWYgaW1hZ2VzIGFyZSBpbiBhIGNhY2hlLlxuICAgICAgICAvLyBCZWNhdXNlIG9mIHRoaXMsIG5lZWQgdG8gc2V0IHRoZSBgX3dpZHRoYCBhbmQgdGhlIGBfaGVpZ2h0YCB0byB6ZXJvIHRvIGF2b2lkIHVwbG9hZGluZyBpbmNvbXBsZXRlIGltYWdlcy5cbiAgICAgICAgLy8gUGxlYXNlIHJlZmVyIHRvIHRoZSBpc3N1ZSAjNTk2OCAoaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy81OTY4KS5cbiAgICAgICAgaWYgKCFzb3VyY2UuY29tcGxldGUgJiYgISFfdGhpcy5fd2lkdGggJiYgISFfdGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICBfdGhpcy5fd2lkdGggPSAwO1xuICAgICAgICAgICAgX3RoaXMuX2hlaWdodCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVSTCBvZiB0aGUgaW1hZ2Ugc291cmNlXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVybCA9IHNvdXJjZS5zcmM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHByb2Nlc3MgaXMgY29tcGxldGVkXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2U8dm9pZD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcHJvY2VzcyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgaW1hZ2Ugc2hvdWxkIGJlIGRpc3Bvc2VkIGFmdGVyIHVwbG9hZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucHJlc2VydmVCaXRtYXAgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGNhcGFibGUsIGNvbnZlcnQgdGhlIGltYWdlIHVzaW5nIGNyZWF0ZUltYWdlQml0bWFwIEFQSVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNyZWF0ZUJpdG1hcCA9IChvcHRpb25zLmNyZWF0ZUJpdG1hcCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuY3JlYXRlQml0bWFwIDogc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUCkgJiYgISF3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb250cm9scyB0ZXh0dXJlIGFscGhhTW9kZSBmaWVsZFxuICAgICAgICAgKiBDb3BpZXMgZnJvbSBvcHRpb25zXG4gICAgICAgICAqIERlZmF1bHQgaXMgYG51bGxgLCBjb3BpZXMgb3B0aW9uIGZyb20gYmFzZVRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5BTFBIQV9NT0RFU3xudWxsfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFscGhhTW9kZSA9IHR5cGVvZiBvcHRpb25zLmFscGhhTW9kZSA9PT0gJ251bWJlcicgPyBvcHRpb25zLmFscGhhTW9kZSA6IG51bGw7XG4gICAgICAgIGlmIChvcHRpb25zLnByZW11bHRpcGx5QWxwaGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gdHJpZ2dlcnMgZGVwcmVjYXRpb25cbiAgICAgICAgICAgIF90aGlzLnByZW11bHRpcGx5QWxwaGEgPSBvcHRpb25zLnByZW11bHRpcGx5QWxwaGE7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBJbWFnZUJpdG1hcCBlbGVtZW50IGNyZWF0ZWQgZm9yIEhUTUxJbWFnZUVsZW1lbnRcbiAgICAgICAgICogQG1lbWJlciB7SW1hZ2VCaXRtYXB9XG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJpdG1hcCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9taXNlIHdoZW4gbG9hZGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlPHZvaWQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgX3RoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogcmV0dXJucyBhIHByb21pc2Ugd2hlbiBpbWFnZSB3aWxsIGJlIGxvYWRlZCBhbmQgcHJvY2Vzc2VkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjcmVhdGVCaXRtYXBdIC0gd2hldGhlciBwcm9jZXNzIGltYWdlIGludG8gYml0bWFwXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIChjcmVhdGVCaXRtYXApIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjcmVhdGVCaXRtYXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVCaXRtYXAgPSBjcmVhdGVCaXRtYXA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBfdGhpcy5zb3VyY2U7XG4gICAgICAgICAgICBfdGhpcy51cmwgPSBzb3VyY2Uuc3JjO1xuICAgICAgICAgICAgdmFyIGNvbXBsZXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgc291cmNlLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIF90aGlzLnJlc2l6ZShzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIF90aGlzLl9sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY3JlYXRlQml0bWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoX3RoaXMucHJvY2VzcygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoX3RoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoc291cmNlLmNvbXBsZXRlICYmIHNvdXJjZS5zcmMpIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBjb21wbGV0ZWQ7XG4gICAgICAgICAgICAgICAgc291cmNlLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXZvaWRzIFByb21pc2UgZnJlZXppbmcgd2hlbiByZXNvdXJjZSBicm9rZW5cbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub25FcnJvci5lbWl0KGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB3ZSBuZWVkIHRvIGNvbnZlcnQgaW1hZ2UgaW50byBCaXRtYXBJbWFnZS5cbiAgICAgKiBDYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLCByZWFsIHByb21pc2UgaXMgY2FjaGVkIGluc2lkZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBjYWNoZWQgcHJvbWlzZSB0byBmaWxsIHRoYXQgYml0bWFwXG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUucHJvY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBpZiAodGhpcy5fcHJvY2VzcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYml0bWFwICE9PSBudWxsIHx8ICF3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXApIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJvY2VzcyA9IHdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcChzb3VyY2UsIDAsIDAsIHNvdXJjZS53aWR0aCwgc291cmNlLmhlaWdodCwge1xuICAgICAgICAgICAgcHJlbXVsdGlwbHlBbHBoYTogdGhpcy5hbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLlVOUEFDSyA/ICdwcmVtdWx0aXBseScgOiAnbm9uZScsXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoYml0bWFwKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5iaXRtYXAgPSBiaXRtYXA7XG4gICAgICAgICAgICBfdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIF90aGlzLl9wcm9jZXNzID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoX3RoaXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3M7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIGltYWdlIHJlc291cmNlIHRvIEdQVS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBSZW5kZXJlciB0byB1cGxvYWQgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gQmFzZVRleHR1cmUgZm9yIHRoaXMgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgLSBHTFRleHR1cmUgdG8gdXNlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuYWxwaGFNb2RlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLy8gYml0bWFwIHN0b3JlcyB1bnBhY2sgcHJlbXVsdGlwbHkgZmxhZywgd2UgZG9udCBoYXZlIHRvIG5vdGlmeSB0ZXhJbWFnZTJEIGFib3V0IGl0XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPSB0aGlzLmFscGhhTW9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuY3JlYXRlQml0bWFwKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS51cGxvYWQuY2FsbCh0aGlzLCByZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmJpdG1hcCkge1xuICAgICAgICAgICAgLy8geWVhaCwgaWdub3JlIHRoZSBvdXRwdXRcbiAgICAgICAgICAgIHRoaXMucHJvY2VzcygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJpdG1hcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVwbG9hZC5jYWxsKHRoaXMsIHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlLCB0aGlzLmJpdG1hcCk7XG4gICAgICAgIGlmICghdGhpcy5wcmVzZXJ2ZUJpdG1hcCkge1xuICAgICAgICAgICAgLy8gY2hlY2tzIGlmIHRoZXJlIGFyZSBvdGhlciByZW5kZXJlcnMgdGhhdCBwb3NzaWJseSBuZWVkIHRoaXMgYml0bWFwXG4gICAgICAgICAgICB2YXIgZmxhZyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgZ2xUZXh0dXJlcyA9IGJhc2VUZXh0dXJlLl9nbFRleHR1cmVzO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGdsVGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3RoZXJUZXggPSBnbFRleHR1cmVzW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKG90aGVyVGV4ICE9PSBnbFRleHR1cmUgJiYgb3RoZXJUZXguZGlydHlJZCAhPT0gYmFzZVRleHR1cmUuZGlydHlJZCkge1xuICAgICAgICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmbGFnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYml0bWFwLmNsb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYml0bWFwLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYml0bWFwID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgIHRoaXMuc291cmNlLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuYml0bWFwKSB7XG4gICAgICAgICAgICB0aGlzLmJpdG1hcC5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5iaXRtYXAgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Byb2Nlc3MgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8SFRNTEltYWdlRWxlbWVudH0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgc291cmNlIGlzIHN0cmluZyBvciBIVE1MSW1hZ2VFbGVtZW50XG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgfHwgc291cmNlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudDtcbiAgICB9O1xuICAgIHJldHVybiBJbWFnZVJlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIFNWRyBlbGVtZW50cyBhbmQgZ3JhcGhpY3MuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgLSBCYXNlNjQgZW5jb2RlZCBTVkcgZWxlbWVudCBvciBVUkwgZm9yIFNWRyBmaWxlLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMgdG8gdXNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGU9MV0gLSBTY2FsZSB0byBhcHBseSB0byBTVkcuIE92ZXJyaWRkZW4gYnkuLi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBSYXN0ZXJpemUgU1ZHIHRoaXMgd2lkZS4gQXNwZWN0IHJhdGlvIHByZXNlcnZlZCBpZiBoZWlnaHQgbm90IHNwZWNpZmllZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gUmFzdGVyaXplIFNWRyB0aGlzIGhpZ2guIEFzcGVjdCByYXRpbyBwcmVzZXJ2ZWQgaWYgd2lkdGggbm90IHNwZWNpZmllZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0xvYWQ9dHJ1ZV0gLSBTdGFydCBsb2FkaW5nIHJpZ2h0IGF3YXkuXG4gKi9cbnZhciBTVkdSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU1ZHUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU1ZHUmVzb3VyY2Uoc291cmNlQmFzZTY0LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fd2lkdGggPSAwO1xuICAgICAgICBfdGhpcy5faGVpZ2h0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhc2U2NCBlbmNvZGVkIFNWRyBlbGVtZW50IG9yIFVSTCBmb3IgU1ZHIGZpbGVcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN2ZyA9IHNvdXJjZUJhc2U2NDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzb3VyY2Ugc2NhbGUgdG8gYXBwbHkgd2hlbiByYXN0ZXJpemluZyBvbiBsb2FkXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zY2FsZSA9IG9wdGlvbnMuc2NhbGUgfHwgMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgd2lkdGggb3ZlcnJpZGUgZm9yIHJhc3Rlcml6YXRpb24gb24gbG9hZFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX292ZXJyaWRlV2lkdGggPSBvcHRpb25zLndpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBoZWlnaHQgb3ZlcnJpZGUgZm9yIHJhc3Rlcml6YXRpb24gb24gbG9hZFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX292ZXJyaWRlSGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsIHdoZW4gY29tcGxldGVseSBsb2FkZWRcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcm9zcyBvcmlnaW4gdmFsdWUgdG8gdXNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW58c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2Nyb3Nzb3JpZ2luID0gb3B0aW9ucy5jcm9zc29yaWdpbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2U8dm9pZD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sb2FkID0gbnVsbDtcbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTVkdSZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xvYWQgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgLy8gU2F2ZSB0aGlzIHVudGlsIGFmdGVyIGxvYWQgaXMgZmluaXNoZWRcbiAgICAgICAgICAgIF90aGlzLl9yZXNvbHZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJlc2l6ZShfdGhpcy5zb3VyY2Uud2lkdGgsIF90aGlzLnNvdXJjZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoX3RoaXMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgU1ZHIGlubGluZSBzdHJpbmcgdG8gZGF0YS11cmlcbiAgICAgICAgICAgIGlmICgoL15cXDxzdmcvKS50ZXN0KF90aGlzLnN2Zy50cmltKCkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFidG9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IGJhc2U2NCBjb252ZXJzaW9ucy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuc3ZnID0gXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoX3RoaXMuc3ZnKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuX2xvYWRTdmcoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZHMgYW4gU1ZHIGltYWdlIGZyb20gYGltYWdlVXJsYCBvciBgZGF0YSBVUkxgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS5wcm90b3R5cGUuX2xvYWRTdmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB0ZW1wSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4odGVtcEltYWdlLCB0aGlzLnN2ZywgdGhpcy5fY3Jvc3NvcmlnaW4pO1xuICAgICAgICB0ZW1wSW1hZ2Uuc3JjID0gdGhpcy5zdmc7XG4gICAgICAgIHRlbXBJbWFnZS5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLl9yZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVtcEltYWdlLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgX3RoaXMub25FcnJvci5lbWl0KGV2ZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGVtcEltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuX3Jlc29sdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3ZnV2lkdGggPSB0ZW1wSW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICB2YXIgc3ZnSGVpZ2h0ID0gdGVtcEltYWdlLmhlaWdodDtcbiAgICAgICAgICAgIGlmICghc3ZnV2lkdGggfHwgIXN2Z0hlaWdodCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIFNWRyBpbWFnZSBtdXN0IGhhdmUgd2lkdGggYW5kIGhlaWdodCBkZWZpbmVkIChpbiBwaXhlbHMpLCBjYW52YXMgQVBJIG5lZWRzIHRoZW0uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXQgcmVuZGVyIHNpemVcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHN2Z1dpZHRoICogX3RoaXMuc2NhbGU7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gc3ZnSGVpZ2h0ICogX3RoaXMuc2NhbGU7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX292ZXJyaWRlV2lkdGggfHwgX3RoaXMuX292ZXJyaWRlSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgd2lkdGggPSBfdGhpcy5fb3ZlcnJpZGVXaWR0aCB8fCBfdGhpcy5fb3ZlcnJpZGVIZWlnaHQgLyBzdmdIZWlnaHQgKiBzdmdXaWR0aDtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBfdGhpcy5fb3ZlcnJpZGVIZWlnaHQgfHwgX3RoaXMuX292ZXJyaWRlV2lkdGggLyBzdmdXaWR0aCAqIHN2Z0hlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCk7XG4gICAgICAgICAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCk7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBjYW52YXMgZWxlbWVudFxuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IF90aGlzLnNvdXJjZTtcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIGNhbnZhcy5fcGl4aUlkID0gXCJjYW52YXNfXCIgKyB1aWQoKTtcbiAgICAgICAgICAgIC8vIERyYXcgdGhlIFN2ZyB0byB0aGUgY2FudmFzXG4gICAgICAgICAgICBjYW52YXNcbiAgICAgICAgICAgICAgICAuZ2V0Q29udGV4dCgnMmQnKVxuICAgICAgICAgICAgICAgIC5kcmF3SW1hZ2UodGVtcEltYWdlLCAwLCAwLCBzdmdXaWR0aCwgc3ZnSGVpZ2h0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIF90aGlzLl9yZXNvbHZlKCk7XG4gICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgc2l6ZSBmcm9tIGFuIHN2ZyBzdHJpbmcgdXNpbmcgcmVnZXhwLlxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdmdTdHJpbmcgLSBhIHNlcmlhbGl6ZWQgc3ZnIGVsZW1lbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLklTaXplfSBpbWFnZSBleHRlbnNpb25cbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS5nZXRTaXplID0gZnVuY3Rpb24gKHN2Z1N0cmluZykge1xuICAgICAgICB2YXIgc2l6ZU1hdGNoID0gU1ZHUmVzb3VyY2UuU1ZHX1NJWkUuZXhlYyhzdmdTdHJpbmcpO1xuICAgICAgICB2YXIgc2l6ZSA9IHt9O1xuICAgICAgICBpZiAoc2l6ZU1hdGNoKSB7XG4gICAgICAgICAgICBzaXplW3NpemVNYXRjaFsxXV0gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoc2l6ZU1hdGNoWzNdKSk7XG4gICAgICAgICAgICBzaXplW3NpemVNYXRjaFs1XV0gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoc2l6ZU1hdGNoWzddKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgICAgICB0aGlzLl9jcm9zc29yaWdpbiA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uIC0gVGhlIGV4dGVuc2lvbiBvZiBzb3VyY2UsIGlmIHNldFxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlLCBleHRlbnNpb24pIHtcbiAgICAgICAgLy8gdXJsIGZpbGUgZXh0ZW5zaW9uIGlzIFNWR1xuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uID09PSAnc3ZnJ1xuICAgICAgICAgICAgLy8gc291cmNlIGlzIFNWRyBkYXRhLXVyaVxuICAgICAgICAgICAgfHwgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnICYmIHNvdXJjZS5pbmRleE9mKCdkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0JykgPT09IDApXG4gICAgICAgICAgICAvLyBzb3VyY2UgaXMgU1ZHIGlubGluZVxuICAgICAgICAgICAgfHwgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnICYmIHNvdXJjZS5pbmRleE9mKCc8c3ZnJykgPT09IDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnRXhwIGZvciBTVkcgc2l6ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnQge1JlZ0V4cHxzdHJpbmd9IFNWR19TSVpFXG4gICAgICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlXG4gICAgICogQGV4YW1wbGUgJmx0O3N2ZyB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjEwMFwiJmd0OyZsdDsvc3ZnJmd0O1xuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLlNWR19TSVpFID0gLzxzdmdbXj5dKig/Olxccyh3aWR0aHxoZWlnaHQpPSgnfFwiKShcXGQqKD86XFwuXFxkKyk/KSg/OnB4KT8oJ3xcIikpW14+XSooPzpcXHMod2lkdGh8aGVpZ2h0KT0oJ3xcIikoXFxkKig/OlxcLlxcZCspPykoPzpweCk/KCd8XCIpKVtePl0qPi9pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG1heC1sZW5cbiAgICByZXR1cm4gU1ZHUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtIVE1MVmlkZW9FbGVtZW50fG9iamVjdHxzdHJpbmd8QXJyYXk8c3RyaW5nfG9iamVjdD59IHNvdXJjZSAtIFZpZGVvIGVsZW1lbnQgdG8gdXNlLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMgdG8gdXNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gU3RhcnQgbG9hZGluZyB0aGUgdmlkZW8gaW1tZWRpYXRlbHlcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1BsYXk9dHJ1ZV0gLSBTdGFydCBwbGF5aW5nIHZpZGVvIGltbWVkaWF0ZWx5XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXBkYXRlRlBTPTBdIC0gSG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdG8gdXBkYXRlIHRoZSB0ZXh0dXJlIGZyb20gdGhlIHZpZGVvLlxuICogTGVhdmUgYXQgMCB0byB1cGRhdGUgYXQgZXZlcnkgcmVuZGVyLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcm9zc29yaWdpbj10cnVlXSAtIExvYWQgaW1hZ2UgdXNpbmcgY3Jvc3Mgb3JpZ2luXG4gKi9cbnZhciBWaWRlb1Jlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhWaWRlb1Jlc291cmNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFZpZGVvUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBpZiAoIShzb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KSkge1xuICAgICAgICAgICAgdmFyIHZpZGVvRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAvLyB3b3JrYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzU5OTZcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3ByZWxvYWQnLCAnYXV0bycpO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgnd2Via2l0LXBsYXlzaW5saW5lJywgJycpO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAnJyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UgPSBbc291cmNlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBmaXJzdFNyYyA9IHNvdXJjZVswXS5zcmMgfHwgc291cmNlWzBdO1xuICAgICAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4odmlkZW9FbGVtZW50LCBmaXJzdFNyYywgb3B0aW9ucy5jcm9zc29yaWdpbik7XG4gICAgICAgICAgICAvLyBhcnJheSBvZiBvYmplY3RzIG9yIHN0cmluZ3NcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSBzb3VyY2VbaV0sIHNyYyA9IF9hLnNyYywgbWltZSA9IF9hLm1pbWU7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjIHx8IHNvdXJjZVtpXTtcbiAgICAgICAgICAgICAgICB2YXIgYmFzZVNyYyA9IHNyYy5zcGxpdCgnPycpLnNoaWZ0KCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB2YXIgZXh0ID0gYmFzZVNyYy5zdWJzdHIoYmFzZVNyYy5sYXN0SW5kZXhPZignLicpICsgMSk7XG4gICAgICAgICAgICAgICAgbWltZSA9IG1pbWUgfHwgVmlkZW9SZXNvdXJjZS5NSU1FX1RZUEVTW2V4dF0gfHwgXCJ2aWRlby9cIiArIGV4dDtcbiAgICAgICAgICAgICAgICBzb3VyY2VFbGVtZW50LnNyYyA9IHNyYztcbiAgICAgICAgICAgICAgICBzb3VyY2VFbGVtZW50LnR5cGUgPSBtaW1lO1xuICAgICAgICAgICAgICAgIHZpZGVvRWxlbWVudC5hcHBlbmRDaGlsZChzb3VyY2VFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE92ZXJyaWRlIHRoZSBzb3VyY2VcbiAgICAgICAgICAgIHNvdXJjZSA9IHZpZGVvRWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNvdXJjZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubm9TdWJJbWFnZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgdG8gdXNlIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSB0aGUgYmFzZSB0ZXh0dXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2F1dG9VcGRhdGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoZSBpbnN0YW5jZSBpcyBjdXJyZW50bHkgY29ubmVjdGVkIHRvIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSB0aGUgYmFzZSB0ZXh0dXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl91cGRhdGVGUFMgPSBvcHRpb25zLnVwZGF0ZUZQUyB8fCAwO1xuICAgICAgICBfdGhpcy5fbXNUb05leHRVcGRhdGUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBzZXQgdG8gdHJ1ZSB3aWxsIGF1dG9tYXRpY2FsbHkgcGxheSB2aWRlb3MgdXNlZCBieSB0aGlzIHRleHR1cmUgb25jZVxuICAgICAgICAgKiB0aGV5IGFyZSBsb2FkZWQuIElmIGZhbHNlLCBpdCB3aWxsIG5vdCBtb2RpZnkgdGhlIHBsYXlpbmcgc3RhdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9QbGF5ID0gb3B0aW9ucy5hdXRvUGxheSAhPT0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9taXNlIHdoZW4gbG9hZGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlPHZvaWQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsYmFjayB3aGVuIGNvbXBsZXRlZCB3aXRoIGxvYWQuXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgICAgICAvLyBCaW5kIGZvciBsaXN0ZW5lcnNcbiAgICAgICAgX3RoaXMuX29uQ2FuUGxheSA9IF90aGlzLl9vbkNhblBsYXkuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLl9vbkVycm9yID0gX3RoaXMuX29uRXJyb3IuYmluZChfdGhpcyk7XG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgX3RoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlciB1cGRhdGluZyBvZiB0aGUgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWx0YVRpbWU9MF0gLSB0aW1lIGRlbHRhIHNpbmNlIGxhc3QgdGlja1xuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChfZGVsdGFUaW1lKSB7XG4gICAgICAgIGlmIChfZGVsdGFUaW1lID09PSB2b2lkIDApIHsgX2RlbHRhVGltZSA9IDA7IH1cbiAgICAgICAgaWYgKCF0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgLy8gYWNjb3VudCBmb3IgaWYgdmlkZW8gaGFzIGhhZCBpdHMgcGxheWJhY2tSYXRlIGNoYW5nZWRcbiAgICAgICAgICAgIHZhciBlbGFwc2VkTVMgPSBUaWNrZXIuc2hhcmVkLmVsYXBzZWRNUyAqIHRoaXMuc291cmNlLnBsYXliYWNrUmF0ZTtcbiAgICAgICAgICAgIHRoaXMuX21zVG9OZXh0VXBkYXRlID0gTWF0aC5mbG9vcih0aGlzLl9tc1RvTmV4dFVwZGF0ZSAtIGVsYXBzZWRNUyk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3VwZGF0ZUZQUyB8fCB0aGlzLl9tc1RvTmV4dFVwZGF0ZSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tc1RvTmV4dFVwZGF0ZSA9IHRoaXMuX3VwZGF0ZUZQUyA/IE1hdGguZmxvb3IoMTAwMCAvIHRoaXMuX3VwZGF0ZUZQUykgOiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdGFydCBwcmVsb2FkaW5nIHRoZSB2aWRlbyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fSBIYW5kbGUgdGhlIHZhbGlkYXRlIGV2ZW50XG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgaWYgKChzb3VyY2UucmVhZHlTdGF0ZSA9PT0gc291cmNlLkhBVkVfRU5PVUdIX0RBVEEgfHwgc291cmNlLnJlYWR5U3RhdGUgPT09IHNvdXJjZS5IQVZFX0ZVVFVSRV9EQVRBKVxuICAgICAgICAgICAgJiYgc291cmNlLndpZHRoICYmIHNvdXJjZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIHNvdXJjZS5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXknLCB0aGlzLl9vblBsYXlTdGFydC5iaW5kKHRoaXMpKTtcbiAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgdGhpcy5fb25QbGF5U3RvcC5iaW5kKHRoaXMpKTtcbiAgICAgICAgaWYgKCF0aGlzLl9pc1NvdXJjZVJlYWR5KCkpIHtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9yLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2FuUGxheSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xvYWQgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgaWYgKF90aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICAgICAgc291cmNlLmxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHZpZGVvIGVycm9yIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX29uRXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9yLCB0cnVlKTtcbiAgICAgICAgdGhpcy5vbkVycm9yLmVtaXQoZXZlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB1bmRlcmx5aW5nIHNvdXJjZSBpcyBwbGF5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHBsYXlpbmcuXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX2lzU291cmNlUGxheWluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICByZXR1cm4gKHNvdXJjZS5jdXJyZW50VGltZSA+IDAgJiYgc291cmNlLnBhdXNlZCA9PT0gZmFsc2UgJiYgc291cmNlLmVuZGVkID09PSBmYWxzZSAmJiBzb3VyY2UucmVhZHlTdGF0ZSA+IDIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB1bmRlcmx5aW5nIHNvdXJjZSBpcyByZWFkeSBmb3IgcGxheWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiByZWFkeS5cbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5faXNTb3VyY2VSZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICByZXR1cm4gc291cmNlLnJlYWR5U3RhdGUgPT09IDMgfHwgc291cmNlLnJlYWR5U3RhdGUgPT09IDQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSdW5zIHRoZSB1cGRhdGUgbG9vcCB3aGVuIHRoZSB2aWRlbyBpcyByZWFkeSB0byBwbGF5XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9vblBsYXlTdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gSnVzdCBpbiBjYXNlIHRoZSB2aWRlbyBoYXMgbm90IHJlY2VpdmVkIGl0cyBjYW4gcGxheSBldmVuIHlldC4uXG4gICAgICAgIGlmICghdGhpcy52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5fb25DYW5QbGF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXV0b1VwZGF0ZSAmJiAhdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwYXVzZSBldmVudCBpcyB0cmlnZ2VyZWQsIHN0b3BzIHRoZSB1cGRhdGUgbG9vcFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5fb25QbGF5U3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgdmlkZW8gaXMgbG9hZGVkIGFuZCByZWFkeSB0byBwbGF5XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9vbkNhblBsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICB2YXIgdmFsaWQgPSB0aGlzLnZhbGlkO1xuICAgICAgICB0aGlzLnJlc2l6ZShzb3VyY2UudmlkZW9XaWR0aCwgc291cmNlLnZpZGVvSGVpZ2h0KTtcbiAgICAgICAgLy8gcHJldmVudCBtdWx0aXBsZSBsb2FkZWQgZGlzcGF0Y2hlcy4uXG4gICAgICAgIGlmICghdmFsaWQgJiYgdGhpcy5fcmVzb2x2ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pc1NvdXJjZVBsYXlpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5fb25QbGF5U3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmF1dG9QbGF5KSB7XG4gICAgICAgICAgICBzb3VyY2UucGxheSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fb25FcnJvciwgdHJ1ZSk7XG4gICAgICAgICAgICBzb3VyY2UucGF1c2UoKTtcbiAgICAgICAgICAgIHNvdXJjZS5zcmMgPSAnJztcbiAgICAgICAgICAgIHNvdXJjZS5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUsIFwiYXV0b1VwZGF0ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgdGhlIGJhc2UgdGV4dHVyZSBhdXRvbWF0aWNhbGx5IHVwZGF0ZSBpdHNlbGYsIHNldCB0byB0cnVlIGJ5IGRlZmF1bHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9VcGRhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX2F1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdXRvVXBkYXRlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9hdXRvVXBkYXRlICYmIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2F1dG9VcGRhdGUgJiYgIXRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgJiYgdGhpcy5faXNTb3VyY2VQbGF5aW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUsIFwidXBkYXRlRlBTXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvdyBtYW55IHRpbWVzIGEgc2Vjb25kIHRvIHVwZGF0ZSB0aGUgdGV4dHVyZSBmcm9tIHRoZSB2aWRlby4gTGVhdmUgYXQgMCB0byB1cGRhdGUgYXQgZXZlcnkgcmVuZGVyLlxuICAgICAgICAgKiBBIGxvd2VyIGZwcyBjYW4gaGVscCBwZXJmb3JtYW5jZSwgYXMgdXBkYXRpbmcgdGhlIHRleHR1cmUgYXQgNjBmcHMgb24gYSAzMHBzIHZpZGVvIG1heSBub3QgYmUgZWZmaWNpZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91cGRhdGVGUFM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3VwZGF0ZUZQUykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUZQUyA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbiAtIFRoZSBleHRlbnNpb24gb2Ygc291cmNlLCBpZiBzZXRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdmlkZW8gc291cmNlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gKHNvdXJjZSwgZXh0ZW5zaW9uKSB7XG4gICAgICAgIHJldHVybiAoc291cmNlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudClcbiAgICAgICAgICAgIHx8IFZpZGVvUmVzb3VyY2UuVFlQRVMuaW5kZXhPZihleHRlbnNpb24pID4gLTE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIGNvbW1vbiB2aWRlbyBmaWxlIGV4dGVuc2lvbnMgc3VwcG9ydGVkIGJ5IFZpZGVvUmVzb3VyY2UuXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlciB7QXJyYXk8c3RyaW5nPn1cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5UWVBFUyA9IFsnbXA0JywgJ200dicsICd3ZWJtJywgJ29nZycsICdvZ3YnLCAnaDI2NCcsICdhdmknLCAnbW92J107XG4gICAgLyoqXG4gICAgICogTWFwIG9mIHZpZGVvIE1JTUUgdHlwZXMgdGhhdCBjYW4ndCBiZSBkaXJlY3RseSBkZXJpdmVkIGZyb20gZmlsZSBleHRlbnNpb25zLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5NSU1FX1RZUEVTID0ge1xuICAgICAgICBvZ3Y6ICd2aWRlby9vZ2cnLFxuICAgICAgICBtb3Y6ICd2aWRlby9xdWlja3RpbWUnLFxuICAgICAgICBtNHY6ICd2aWRlby9tcDQnLFxuICAgIH07XG4gICAgcmV0dXJuIFZpZGVvUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSW1hZ2VCaXRtYXAuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7SW1hZ2VCaXRtYXB9IHNvdXJjZSAtIEltYWdlIGVsZW1lbnQgdG8gdXNlXG4gKi9cbnZhciBJbWFnZUJpdG1hcFJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbWFnZUJpdG1hcFJlc291cmNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEltYWdlQml0bWFwUmVzb3VyY2UoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0ltYWdlQml0bWFwfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBzb3VyY2UgaXMgYW4gSW1hZ2VCaXRtYXBcbiAgICAgKi9cbiAgICBJbWFnZUJpdG1hcFJlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiAhIXdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcCAmJiBzb3VyY2UgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcDtcbiAgICB9O1xuICAgIHJldHVybiBJbWFnZUJpdG1hcFJlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG5JTlNUQUxMRUQucHVzaChJbWFnZVJlc291cmNlLCBJbWFnZUJpdG1hcFJlc291cmNlLCBDYW52YXNSZXNvdXJjZSwgVmlkZW9SZXNvdXJjZSwgU1ZHUmVzb3VyY2UsIEJ1ZmZlclJlc291cmNlLCBDdWJlUmVzb3VyY2UsIEFycmF5UmVzb3VyY2UpO1xuXG52YXIgaW5kZXggPSAoe1xuICAgIFJlc291cmNlOiBSZXNvdXJjZSxcbiAgICBCYXNlSW1hZ2VSZXNvdXJjZTogQmFzZUltYWdlUmVzb3VyY2UsXG4gICAgSU5TVEFMTEVEOiBJTlNUQUxMRUQsXG4gICAgYXV0b0RldGVjdFJlc291cmNlOiBhdXRvRGV0ZWN0UmVzb3VyY2UsXG4gICAgQWJzdHJhY3RNdWx0aVJlc291cmNlOiBBYnN0cmFjdE11bHRpUmVzb3VyY2UsXG4gICAgQXJyYXlSZXNvdXJjZTogQXJyYXlSZXNvdXJjZSxcbiAgICBCdWZmZXJSZXNvdXJjZTogQnVmZmVyUmVzb3VyY2UsXG4gICAgQ2FudmFzUmVzb3VyY2U6IENhbnZhc1Jlc291cmNlLFxuICAgIEN1YmVSZXNvdXJjZTogQ3ViZVJlc291cmNlLFxuICAgIEltYWdlUmVzb3VyY2U6IEltYWdlUmVzb3VyY2UsXG4gICAgU1ZHUmVzb3VyY2U6IFNWR1Jlc291cmNlLFxuICAgIFZpZGVvUmVzb3VyY2U6IFZpZGVvUmVzb3VyY2UsXG4gICAgSW1hZ2VCaXRtYXBSZXNvdXJjZTogSW1hZ2VCaXRtYXBSZXNvdXJjZVxufSk7XG5cbi8qKlxuICogU3lzdGVtIGlzIGEgYmFzZSBjbGFzcyB1c2VkIGZvciBleHRlbmRpbmcgc3lzdGVtcyB1c2VkIGJ5IHRoZSB7QGxpbmsgUElYSS5SZW5kZXJlcn1cbiAqXG4gKiBAc2VlIFBJWEkuUmVuZGVyZXIjYWRkU3lzdGVtXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyaWMgZGVzdHJveSBtZXRob2RzIHRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzXG4gICAgICovXG4gICAgU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBTeXN0ZW07XG59KCkpO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIERlcHRoVGV4dHVyZS5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQnVmZmVyUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG52YXIgRGVwdGhSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRGVwdGhSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEZXB0aFJlc291cmNlKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgdGV4dHVyZSB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBVcGxvYWQgdG8gdGhlIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlZmVyZW5jZSB0byBwYXJlbnQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZSAtIGdsVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBEZXB0aFJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiAocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0spO1xuICAgICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoID09PSBiYXNlVGV4dHVyZS53aWR0aCAmJiBnbFRleHR1cmUuaGVpZ2h0ID09PSBiYXNlVGV4dHVyZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoYmFzZVRleHR1cmUudGFyZ2V0LCAwLCAwLCAwLCBiYXNlVGV4dHVyZS53aWR0aCwgYmFzZVRleHR1cmUuaGVpZ2h0LCBiYXNlVGV4dHVyZS5mb3JtYXQsIGJhc2VUZXh0dXJlLnR5cGUsIHRoaXMuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbFRleHR1cmUud2lkdGggPSBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBiYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgXG4gICAgICAgICAgICAvLyAgZ2wuREVQVEhfQ09NUE9ORU5UMTYgTmVlZGVkIGZvciBkZXB0aCB0byByZW5kZXIgcHJvcGVybHkgaW4gd2ViZ2wyLjBcbiAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uID09PSAxID8gZ2wuREVQVEhfQ09NUE9ORU5UIDogZ2wuREVQVEhfQ09NUE9ORU5UMTYsIGJhc2VUZXh0dXJlLndpZHRoLCBiYXNlVGV4dHVyZS5oZWlnaHQsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBEZXB0aFJlc291cmNlO1xufShCdWZmZXJSZXNvdXJjZSkpO1xuXG4vKipcbiAqIEZyYW1lIGJ1ZmZlciB1c2VkIGJ5IHRoZSBCYXNlUmVuZGVyVGV4dHVyZVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEZyYW1lYnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFdpZHRoIG9mIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGcmFtZWJ1ZmZlcih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaWR0aCBvZiBmcmFtZWJ1ZmZlciBpbiBwaXhlbHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IE1hdGguY2VpbCh3aWR0aCB8fCAxMDApO1xuICAgICAgICAvKipcbiAgICAgICAgICogSGVpZ2h0IG9mIGZyYW1lYnVmZmVyIGluIHBpeGVsc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQgfHwgMTAwKTtcbiAgICAgICAgdGhpcy5zdGVuY2lsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVwdGggPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kaXJ0eUlkID0gMDtcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCA9IDA7XG4gICAgICAgIHRoaXMuZGlydHlTaXplID0gMDtcbiAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbG9yVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgdGhpcy5nbEZyYW1lYnVmZmVycyA9IHt9O1xuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIgPSBuZXcgUnVubmVyKCdkaXNwb3NlRnJhbWVidWZmZXInKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc2lyZWQgbnVtYmVyIG9mIHNhbXBsZXMgZm9yIGFudGlhbGlhc2luZy4gMCBtZWFucyBBQSBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEV4cGVyaW1lbnRhbCBXZWJHTDIgZmVhdHVyZSwgYWxsb3dzIHRvIHVzZSBhbnRpYWxpYXNpbmcgaW4gaW5kaXZpZHVhbCByZW5kZXJUZXh0dXJlcy5cbiAgICAgICAgICogQW50aWFsaWFzaW5nIGlzIHRoZSBzYW1lIGFzIGZvciBtYWluIGJ1ZmZlciB3aXRoIHJlbmRlcmVyIGBhbnRpYWxpYXM6dHJ1ZWAgb3B0aW9ucy5cbiAgICAgICAgICogU2VyaW91c2x5IGFmZmVjdHMgR1BVIG1lbW9yeSBjb25zdW1wdGlvbiBhbmQgR1BVIHBlcmZvcm1hbmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKmBgYGpzXG4gICAgICAgICAqIHJlbmRlclRleHR1cmUuZnJhbWVidWZmZXIubXVsdGlzYW1wbGUgPSBQSVhJLk1TQUFfUVVBTElUWS5ISUdIO1xuICAgICAgICAgKiAvLy4uLlxuICAgICAgICAgKiByZW5kZXJlci5yZW5kZXIocmVuZGVyVGV4dHVyZSwgbXlDb250YWluZXIpO1xuICAgICAgICAgKiByZW5kZXJlci5mcmFtZWJ1ZmZlci5ibGl0KCk7IC8vIGNvcGllcyBkYXRhIGZyb20gTVNBQSBmcmFtZWJ1ZmZlciB0byB0ZXh0dXJlXG4gICAgICAgICAqICBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NU0FBX1FVQUxJVFl9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuTVNBQV9RVUFMSVRZLk5PTkVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZyYW1lYnVmZmVyLnByb3RvdHlwZSwgXCJjb2xvclRleHR1cmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBjb2xvclRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmVbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yVGV4dHVyZXNbMF07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBZGQgdGV4dHVyZSB0byB0aGUgY29sb3JUZXh0dXJlIGFycmF5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2luZGV4PTBdIC0gSW5kZXggb2YgdGhlIGFycmF5IHRvIGFkZCB0aGUgdGV4dHVyZSB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gW3RleHR1cmVdIC0gVGV4dHVyZSB0byBhZGQgdG8gdGhlIGFycmF5XG4gICAgICovXG4gICAgRnJhbWVidWZmZXIucHJvdG90eXBlLmFkZENvbG9yVGV4dHVyZSA9IGZ1bmN0aW9uIChpbmRleCwgdGV4dHVyZSkge1xuICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkgeyBpbmRleCA9IDA7IH1cbiAgICAgICAgLy8gVE9ETyBhZGQgc29tZSB2YWxpZGF0aW9uIHRvIHRoZSB0ZXh0dXJlIC0gc2FtZSB3aWR0aCAvIGhlaWdodCBldGM/XG4gICAgICAgIHRoaXMuY29sb3JUZXh0dXJlc1tpbmRleF0gPSB0ZXh0dXJlIHx8IG5ldyBCYXNlVGV4dHVyZShudWxsLCB7XG4gICAgICAgICAgICBzY2FsZU1vZGU6IFNDQUxFX01PREVTLk5FQVJFU1QsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgICAgICAgbWlwbWFwOiBNSVBNQVBfTU9ERVMuT0ZGLFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlGb3JtYXQrKztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYSBkZXB0aCB0ZXh0dXJlIHRvIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gW3RleHR1cmVdIC0gVGV4dHVyZSB0byBhZGRcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuYWRkRGVwdGhUZXh0dXJlID0gZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZSA9IHRleHR1cmUgfHwgbmV3IEJhc2VUZXh0dXJlKG5ldyBEZXB0aFJlc291cmNlKG51bGwsIHsgd2lkdGg6IHRoaXMud2lkdGgsIGhlaWdodDogdGhpcy5oZWlnaHQgfSksIHtcbiAgICAgICAgICAgIHNjYWxlTW9kZTogU0NBTEVfTU9ERVMuTkVBUkVTVCxcbiAgICAgICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICBtaXBtYXA6IE1JUE1BUF9NT0RFUy5PRkYsXG4gICAgICAgICAgICBmb3JtYXQ6IEZPUk1BVFMuREVQVEhfQ09NUE9ORU5ULFxuICAgICAgICAgICAgdHlwZTogVFlQRVMuVU5TSUdORURfU0hPUlQsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuYWJsZSBkZXB0aCBvbiB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICovXG4gICAgRnJhbWVidWZmZXIucHJvdG90eXBlLmVuYWJsZURlcHRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlcHRoID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlGb3JtYXQrKztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmFibGUgc3RlbmNpbCBvbiB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICovXG4gICAgRnJhbWVidWZmZXIucHJvdG90eXBlLmVuYWJsZVN0ZW5jaWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RlbmNpbCA9IHRydWU7XG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzaXplIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFdpZHRoIG9mIHRoZSBmcmFtZSBidWZmZXIgdG8gcmVzaXplIHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB0aGUgZnJhbWUgYnVmZmVyIHRvIHJlc2l6ZSB0b1xuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB3aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgICAgIGhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuICAgICAgICBpZiAod2lkdGggPT09IHRoaXMud2lkdGggJiYgaGVpZ2h0ID09PSB0aGlzLmhlaWdodClcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5U2l6ZSsrO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29sb3JUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLmNvbG9yVGV4dHVyZXNbaV07XG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIC8vIHRha2UgaW50byBhY291bnQgdGhlIGZhY3QgdGhlIHRleHR1cmUgbWF5IGhhdmUgYSBkaWZmZXJlbnQgcmVzb2x1dGlvbi4uXG4gICAgICAgICAgICB0ZXh0dXJlLnNldFNpemUod2lkdGggLyByZXNvbHV0aW9uLCBoZWlnaHQgLyByZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZXB0aFRleHR1cmUpIHtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5kZXB0aFRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlLnNldFNpemUod2lkdGggLyByZXNvbHV0aW9uLCBoZWlnaHQgLyByZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgV2ViR0wgcmVzb3VyY2VzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byB0aGlzIGdlb21ldHJ5XG4gICAgICovXG4gICAgRnJhbWVidWZmZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5lbWl0KHRoaXMsIGZhbHNlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIGFuZCByZW1vdmVzIHRoZSBkZXB0aCB0ZXh0dXJlIGFkZGVkIHRvIHRoaXMgZnJhbWVidWZmZXIuXG4gICAgICovXG4gICAgRnJhbWVidWZmZXIucHJvdG90eXBlLmRlc3Ryb3lEZXB0aFRleHR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRlcHRoVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUgPSBudWxsO1xuICAgICAgICAgICAgKyt0aGlzLmRpcnR5SWQ7XG4gICAgICAgICAgICArK3RoaXMuZGlydHlGb3JtYXQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBGcmFtZWJ1ZmZlcjtcbn0oKSk7XG5cbi8qKlxuICogQSBCYXNlUmVuZGVyVGV4dHVyZSBpcyBhIHNwZWNpYWwgdGV4dHVyZSB0aGF0IGFsbG93cyBhbnkgUGl4aUpTIGRpc3BsYXkgb2JqZWN0IHRvIGJlIHJlbmRlcmVkIHRvIGl0LlxuICpcbiAqIF9fSGludF9fOiBBbGwgRGlzcGxheU9iamVjdHMgKGkuZS4gU3ByaXRlcykgdGhhdCByZW5kZXIgdG8gYSBCYXNlUmVuZGVyVGV4dHVyZSBzaG91bGQgYmUgcHJlbG9hZGVkXG4gKiBvdGhlcndpc2UgYmxhY2sgcmVjdGFuZ2xlcyB3aWxsIGJlIGRyYXduIGluc3RlYWQuXG4gKlxuICogQSBCYXNlUmVuZGVyVGV4dHVyZSB0YWtlcyBhIHNuYXBzaG90IG9mIGFueSBEaXNwbGF5IE9iamVjdCBnaXZlbiB0byBpdHMgcmVuZGVyIG1ldGhvZC4gVGhlIHBvc2l0aW9uXG4gKiBhbmQgcm90YXRpb24gb2YgdGhlIGdpdmVuIERpc3BsYXkgT2JqZWN0cyBpcyBpZ25vcmVkLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoKTtcbiAqIGxldCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VSZW5kZXJUZXh0dXJlKHsgd2lkdGg6IDgwMCwgaGVpZ2h0OiA2MDAgfSk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICogbGV0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oXCJzcGluT2JqXzAxLnBuZ1wiKTtcbiAqXG4gKiBzcHJpdGUucG9zaXRpb24ueCA9IDgwMC8yO1xuICogc3ByaXRlLnBvc2l0aW9uLnkgPSA2MDAvMjtcbiAqIHNwcml0ZS5hbmNob3IueCA9IDAuNTtcbiAqIHNwcml0ZS5hbmNob3IueSA9IDAuNTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCByZW5kZXJUZXh0dXJlKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBTcHJpdGUgaW4gdGhpcyBjYXNlIHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgaXRzIGxvY2FsIHRyYW5zZm9ybS4gVG8gcmVuZGVyIHRoaXMgc3ByaXRlIGF0IDAsMFxuICogeW91IGNhbiBjbGVhciB0aGUgdHJhbnNmb3JtXG4gKlxuICogYGBganNcbiAqXG4gKiBzcHJpdGUuc2V0VHJhbnNmb3JtKClcbiAqXG4gKiBsZXQgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5CYXNlUmVuZGVyVGV4dHVyZSh7IHdpZHRoOiAxMDAsIGhlaWdodDogMTAwIH0pO1xuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlKGJhc2VSZW5kZXJUZXh0dXJlKTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCByZW5kZXJUZXh0dXJlKTsgIC8vIFJlbmRlcnMgdG8gY2VudGVyIG9mIFJlbmRlclRleHR1cmVcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5CYXNlVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhc2VSZW5kZXJUZXh0dXJlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlUmVuZGVyVGV4dHVyZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTEwMF0gLSBUaGUgd2lkdGggb2YgdGhlIGJhc2UgcmVuZGVyIHRleHR1cmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD0xMDBdIC0gVGhlIGhlaWdodCBvZiB0aGUgYmFzZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuU0NBTEVfTU9ERVN9IFtvcHRpb25zLnNjYWxlTW9kZV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZVJlbmRlclRleHR1cmUob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgICAgIC8vIEJhY2t3YXJkIGNvbXBhdGliaWxpdHkgb2Ygc2lnbmF0dXJlXG4gICAgICAgICAgICB2YXIgd2lkdGhfMSA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIHZhciBoZWlnaHRfMSA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgIHZhciBzY2FsZU1vZGUgPSBhcmd1bWVudHNbMl07XG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGFyZ3VtZW50c1szXTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IHdpZHRoOiB3aWR0aF8xLCBoZWlnaHQ6IGhlaWdodF8xLCBzY2FsZU1vZGU6IHNjYWxlTW9kZSwgcmVzb2x1dGlvbjogcmVzb2x1dGlvbiB9O1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG51bGwsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMgfHwge30sIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgLy8gU2V0IGRlZmF1bHRzXG4gICAgICAgIF90aGlzLm1pcG1hcCA9IDA7XG4gICAgICAgIF90aGlzLndpZHRoID0gTWF0aC5jZWlsKHdpZHRoKSB8fCAxMDA7XG4gICAgICAgIF90aGlzLmhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpIHx8IDEwMDtcbiAgICAgICAgX3RoaXMudmFsaWQgPSB0cnVlO1xuICAgICAgICBfdGhpcy5jbGVhckNvbG9yID0gWzAsIDAsIDAsIDBdO1xuICAgICAgICBfdGhpcy5mcmFtZWJ1ZmZlciA9IG5ldyBGcmFtZWJ1ZmZlcihfdGhpcy53aWR0aCAqIF90aGlzLnJlc29sdXRpb24sIF90aGlzLmhlaWdodCAqIF90aGlzLnJlc29sdXRpb24pXG4gICAgICAgICAgICAuYWRkQ29sb3JUZXh0dXJlKDAsIF90aGlzKTtcbiAgICAgICAgLy8gVE9ETyAtIGNvdWxkIHRoaXMgYmUgYWRkZWQgdGhlIHN5c3RlbXM/XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGF0YSBzdHJ1Y3R1cmUgZm9yIHRoZSBzdGVuY2lsIG1hc2tzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hc2tEYXRhW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXNrU3RhY2sgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHN0cnVjdHVyZSBmb3IgdGhlIGZpbHRlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyU3RhY2sgPSBbe31dO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIEJhc2VSZW5kZXJUZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCB0byByZXNpemUgdG8uXG4gICAgICovXG4gICAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIucmVzaXplKHdpZHRoICogdGhpcy5yZXNvbHV0aW9uLCBoZWlnaHQgKiB0aGlzLnJlc29sdXRpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRnJlZXMgdGhlIHRleHR1cmUgYW5kIGZyYW1lYnVmZmVyIGZyb20gV2ViR0wgbWVtb3J5IHdpdGhvdXQgZGVzdHJveWluZyB0aGlzIHRleHR1cmUgb2JqZWN0LlxuICAgICAqIFRoaXMgbWVhbnMgeW91IGNhbiBzdGlsbCB1c2UgdGhlIHRleHR1cmUgbGF0ZXIgd2hpY2ggd2lsbCB1cGxvYWQgaXQgdG8gR1BVXG4gICAgICogbWVtb3J5IGFnYWluLlxuICAgICAqXG4gICAgICogQGZpcmVzIFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAqL1xuICAgIEJhc2VSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLmRpc3Bvc2UoKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmUuXG4gICAgICovXG4gICAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLmRlc3Ryb3lEZXB0aFRleHR1cmUoKTtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlciA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZVJlbmRlclRleHR1cmU7XG59KEJhc2VUZXh0dXJlKSk7XG5cbi8qKlxuICogU3RvcmVzIGEgdGV4dHVyZSdzIGZyYW1lIGluIFVWIGNvb3JkaW5hdGVzLCBpblxuICogd2hpY2ggZXZlcnl0aGluZyBsaWVzIGluIHRoZSByZWN0YW5nbGUgYFsoMCwwKSwgKDEsMCksXG4gKiAoMSwxKSwgKDAsMSldYC5cbiAqXG4gKiB8IENvcm5lciAgICAgICB8IENvb3JkaW5hdGVzIHxcbiAqIHwtLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tfFxuICogfCBUb3AtTGVmdCAgICAgfCBgKHgwLHkwKWAgICB8XG4gKiB8IFRvcC1SaWdodCAgICB8IGAoeDEseTEpYCAgIHxcbiAqIHwgQm90dG9tLVJpZ2h0IHwgYCh4Mix5MilgICAgfFxuICogfCBCb3R0b20tTGVmdCAgfCBgKHgzLHkzKWAgICB8XG4gKlxuICogQGNsYXNzXG4gKiBAcHJvdGVjdGVkXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dHVyZVV2cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZXh0dXJlVXZzKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogWC1jb21wb25lbnQgb2YgdG9wLWxlZnQgY29ybmVyIGAoeDAseTApYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54MCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBZLWNvbXBvbmVudCBvZiB0b3AtbGVmdCBjb3JuZXIgYCh4MCx5MClgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkwID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFgtY29tcG9uZW50IG9mIHRvcC1yaWdodCBjb3JuZXIgYCh4MSx5MSlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLngxID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFktY29tcG9uZW50IG9mIHRvcC1yaWdodCBjb3JuZXIgYCh4MSx5MSlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkxID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFgtY29tcG9uZW50IG9mIGJvdHRvbS1yaWdodCBjb3JuZXIgYCh4Mix5MilgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLngyID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFktY29tcG9uZW50IG9mIGJvdHRvbS1yaWdodCBjb3JuZXIgYCh4Mix5MilgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkyID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFgtY29tcG9uZW50IG9mIGJvdHRvbS1sZWZ0IGNvcm5lciBgKHgzLHkzKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueDMgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogWS1jb21wb25lbnQgb2YgYm90dG9tLXJpZ2h0IGNvcm5lciBgKHgzLHkzKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueTMgPSAxO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzIgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0ZXh0dXJlIFV2cyBiYXNlZCBvbiB0aGUgZ2l2ZW4gZnJhbWUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZnJhbWUgLSBUaGUgZnJhbWUgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBiYXNlRnJhbWUgLSBUaGUgYmFzZSBmcmFtZSBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGUgLSBSb3RhdGlvbiBvZiBmcmFtZSwgc2VlIHtAbGluayBQSVhJLmdyb3VwRDh9XG4gICAgICovXG4gICAgVGV4dHVyZVV2cy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGZyYW1lLCBiYXNlRnJhbWUsIHJvdGF0ZSkge1xuICAgICAgICB2YXIgdHcgPSBiYXNlRnJhbWUud2lkdGg7XG4gICAgICAgIHZhciB0aCA9IGJhc2VGcmFtZS5oZWlnaHQ7XG4gICAgICAgIGlmIChyb3RhdGUpIHtcbiAgICAgICAgICAgIC8vIHdpZHRoIGFuZCBoZWlnaHQgZGl2IDIgZGl2IGJhc2VGcmFtZSBzaXplXG4gICAgICAgICAgICB2YXIgdzIgPSBmcmFtZS53aWR0aCAvIDIgLyB0dztcbiAgICAgICAgICAgIHZhciBoMiA9IGZyYW1lLmhlaWdodCAvIDIgLyB0aDtcbiAgICAgICAgICAgIC8vIGNvb3JkaW5hdGVzIG9mIGNlbnRlclxuICAgICAgICAgICAgdmFyIGNYID0gKGZyYW1lLnggLyB0dykgKyB3MjtcbiAgICAgICAgICAgIHZhciBjWSA9IChmcmFtZS55IC8gdGgpICsgaDI7XG4gICAgICAgICAgICByb3RhdGUgPSBncm91cEQ4LmFkZChyb3RhdGUsIGdyb3VwRDguTlcpOyAvLyBOVyBpcyB0b3AtbGVmdCBjb3JuZXJcbiAgICAgICAgICAgIHRoaXMueDAgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkwID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuICAgICAgICAgICAgcm90YXRlID0gZ3JvdXBEOC5hZGQocm90YXRlLCAyKTsgLy8gcm90YXRlIDkwIGRlZ3JlZXMgY2xvY2t3aXNlXG4gICAgICAgICAgICB0aGlzLngxID0gY1ggKyAodzIgKiBncm91cEQ4LnVYKHJvdGF0ZSkpO1xuICAgICAgICAgICAgdGhpcy55MSA9IGNZICsgKGgyICogZ3JvdXBEOC51WShyb3RhdGUpKTtcbiAgICAgICAgICAgIHJvdGF0ZSA9IGdyb3VwRDguYWRkKHJvdGF0ZSwgMik7XG4gICAgICAgICAgICB0aGlzLngyID0gY1ggKyAodzIgKiBncm91cEQ4LnVYKHJvdGF0ZSkpO1xuICAgICAgICAgICAgdGhpcy55MiA9IGNZICsgKGgyICogZ3JvdXBEOC51WShyb3RhdGUpKTtcbiAgICAgICAgICAgIHJvdGF0ZSA9IGdyb3VwRDguYWRkKHJvdGF0ZSwgMik7XG4gICAgICAgICAgICB0aGlzLngzID0gY1ggKyAodzIgKiBncm91cEQ4LnVYKHJvdGF0ZSkpO1xuICAgICAgICAgICAgdGhpcy55MyA9IGNZICsgKGgyICogZ3JvdXBEOC51WShyb3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMueDAgPSBmcmFtZS54IC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkwID0gZnJhbWUueSAvIHRoO1xuICAgICAgICAgICAgdGhpcy54MSA9IChmcmFtZS54ICsgZnJhbWUud2lkdGgpIC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkxID0gZnJhbWUueSAvIHRoO1xuICAgICAgICAgICAgdGhpcy54MiA9IChmcmFtZS54ICsgZnJhbWUud2lkdGgpIC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkyID0gKGZyYW1lLnkgKyBmcmFtZS5oZWlnaHQpIC8gdGg7XG4gICAgICAgICAgICB0aGlzLngzID0gZnJhbWUueCAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MyA9IChmcmFtZS55ICsgZnJhbWUuaGVpZ2h0KSAvIHRoO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMlswXSA9IHRoaXMueDA7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMlsxXSA9IHRoaXMueTA7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMlsyXSA9IHRoaXMueDE7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMlszXSA9IHRoaXMueTE7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMls0XSA9IHRoaXMueDI7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMls1XSA9IHRoaXMueTI7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMls2XSA9IHRoaXMueDM7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMls3XSA9IHRoaXMueTM7XG4gICAgfTtcbiAgICByZXR1cm4gVGV4dHVyZVV2cztcbn0oKSk7XG5cbnZhciBERUZBVUxUX1VWUyA9IG5ldyBUZXh0dXJlVXZzKCk7XG4vKipcbiAqIEEgdGV4dHVyZSBzdG9yZXMgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVwcmVzZW50cyBhbiBpbWFnZSBvciBwYXJ0IG9mIGFuIGltYWdlLlxuICpcbiAqIEl0IGNhbm5vdCBiZSBhZGRlZCB0byB0aGUgZGlzcGxheSBsaXN0IGRpcmVjdGx5OyBpbnN0ZWFkIHVzZSBpdCBhcyB0aGUgdGV4dHVyZSBmb3IgYSBTcHJpdGUuXG4gKiBJZiBubyBmcmFtZSBpcyBwcm92aWRlZCBmb3IgYSB0ZXh0dXJlLCB0aGVuIHRoZSB3aG9sZSBpbWFnZSBpcyB1c2VkLlxuICpcbiAqIFlvdSBjYW4gZGlyZWN0bHkgY3JlYXRlIGEgdGV4dHVyZSBmcm9tIGFuIGltYWdlIGFuZCB0aGVuIHJldXNlIGl0IG11bHRpcGxlIHRpbWVzIGxpa2UgdGhpcyA6XG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20oJ2Fzc2V0cy9pbWFnZS5wbmcnKTtcbiAqIGxldCBzcHJpdGUxID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogbGV0IHNwcml0ZTIgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBJZiB5b3UgZGlkbnQgcGFzcyB0aGUgdGV4dHVyZSBmcmFtZSB0byBjb25zdHJ1Y3RvciwgaXQgZW5hYmxlcyBgbm9GcmFtZWAgbW9kZTpcbiAqIGl0IHN1YnNjcmliZXMgb24gYmFzZVRleHR1cmUgZXZlbnRzLCBpdCBhdXRvbWF0aWNhbGx5IHJlc2l6ZXMgYXQgdGhlIHNhbWUgdGltZSBhcyBiYXNlVGV4dHVyZS5cbiAqXG4gKiBUZXh0dXJlcyBtYWRlIGZyb20gU1ZHcywgbG9hZGVkIG9yIG5vdCwgY2Fubm90IGJlIHVzZWQgYmVmb3JlIHRoZSBmaWxlIGZpbmlzaGVzIHByb2Nlc3NpbmcuXG4gKiBZb3UgY2FuIGNoZWNrIGZvciB0aGlzIGJ5IGNoZWNraW5nIHRoZSBzcHJpdGUncyBfdGV4dHVyZUlEIHByb3BlcnR5LlxuICogYGBganNcbiAqIHZhciB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20oJ2Fzc2V0cy9pbWFnZS5zdmcnKTtcbiAqIHZhciBzcHJpdGUxID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogLy9zcHJpdGUxLl90ZXh0dXJlSUQgc2hvdWxkIG5vdCBiZSB1bmRlZmluZWQgaWYgdGhlIHRleHR1cmUgaGFzIGZpbmlzaGVkIHByb2Nlc3NpbmcgdGhlIFNWRyBmaWxlXG4gKiBgYGBcbiAqIFlvdSBjYW4gdXNlIGEgdGlja2VyIG9yIHJBRiB0byBlbnN1cmUgeW91ciBzcHJpdGVzIGxvYWQgdGhlIGZpbmlzaGVkIHRleHR1cmVzIGFmdGVyIHByb2Nlc3NpbmcuIFNlZSBpc3N1ZSAjMzA2OC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dHVyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGV4dHVyZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZSBzb3VyY2UgdG8gY3JlYXRlIHRoZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIC0gVGhlIHJlY3RhbmdsZSBmcmFtZSBvZiB0aGUgdGV4dHVyZSB0byBzaG93XG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW29yaWddIC0gVGhlIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFt0cmltXSAtIFRyaW1tZWQgcmVjdGFuZ2xlIG9mIG9yaWdpbmFsIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0ZV0gLSBpbmRpY2F0ZXMgaG93IHRoZSB0ZXh0dXJlIHdhcyByb3RhdGVkIGJ5IHRleHR1cmUgcGFja2VyLiBTZWUge0BsaW5rIFBJWEkuZ3JvdXBEOH1cbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gW2FuY2hvcl0gLSBEZWZhdWx0IGFuY2hvciBwb2ludCB1c2VkIGZvciBzcHJpdGUgcGxhY2VtZW50IC8gcm90YXRpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlKGJhc2VUZXh0dXJlLCBmcmFtZSwgb3JpZywgdHJpbSwgcm90YXRlLCBhbmNob3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhpcyBUZXh0dXJlIGhhdmUgYW55IGZyYW1lIGRhdGEgYXNzaWduZWQgdG8gaXQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgbW9kZSBpcyBlbmFibGVkIGF1dG9tYXRpY2FsbHkgaWYgbm8gZnJhbWUgd2FzIHBhc3NlZCBpbnNpZGUgY29uc3RydWN0b3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEluIHRoaXMgbW9kZSB0ZXh0dXJlIGlzIHN1YnNjcmliZWQgdG8gYmFzZVRleHR1cmUgZXZlbnRzLCBhbmQgZmlyZXMgYHVwZGF0ZWAgb24gYW55IGNoYW5nZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQmV3YXJlLCBhZnRlciBsb2FkaW5nIG9yIHJlc2l6ZSBvZiBiYXNlVGV4dHVyZSBldmVudCBjYW4gZmlyZWQgdHdvIHRpbWVzIVxuICAgICAgICAgKiBJZiB5b3Ugd2FudCBtb3JlIGNvbnRyb2wsIHN1YnNjcmliZSBvbiBiYXNlVGV4dHVyZSBpdHNlbGYuXG4gICAgICAgICAqXG4gICAgICAgICAqIGBgYGpzXG4gICAgICAgICAqIHRleHR1cmUub24oJ3VwZGF0ZScsICgpID0+IHt9KTtcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqXG4gICAgICAgICAqIEFueSBhc3NpZ25tZW50IG9mIGBmcmFtZWAgc3dpdGNoZXMgb2ZmIGBub0ZyYW1lYCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubm9GcmFtZSA9IGZhbHNlO1xuICAgICAgICBpZiAoIWZyYW1lKSB7XG4gICAgICAgICAgICBfdGhpcy5ub0ZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmFzZVRleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZSB0ZXh0dXJlIHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgYXJlYSBvZiB0aGUgQmFzZVRleHR1cmUgaW1hZ2UgdG8gYWN0dWFsbHkgY29weSB0byB0aGUgQ2FudmFzIC8gV2ViR0wgd2hlbiByZW5kZXJpbmcsXG4gICAgICAgICAqIGlycmVzcGVjdGl2ZSBvZiB0aGUgYWN0dWFsIGZyYW1lIHNpemUgb3IgcGxhY2VtZW50ICh3aGljaCBjYW4gYmUgaW5mbHVlbmNlZCBieSB0cmltbWVkIHRleHR1cmUgYXRsYXNlcylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZnJhbWUgPSBmcmFtZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIHRyaW1tZWQgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlLCBiZWZvcmUgaXQgd2FzIHB1dCBpbiBhdGxhc1xuICAgICAgICAgKiBQbGVhc2UgY2FsbCBgdXBkYXRlVXZzKClgIGFmdGVyIHlvdSBjaGFuZ2UgY29vcmRpbmF0ZXMgb2YgYHRyaW1gIG1hbnVhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyaW0gPSB0cmltO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB3aWxsIGxldCB0aGUgcmVuZGVyZXIga25vdyBpZiB0aGUgdGV4dHVyZSBpcyB2YWxpZC4gSWYgaXQncyBub3QgdGhlbiBpdCBjYW5ub3QgYmUgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52YWxpZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIFVWIGRhdGEgY2FjaGUuIENhbiBiZSB1c2VkIGFzIHF1YWQgVVZcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlVXZzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdXZzID0gREVGQVVMVF9VVlM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IFRleHR1cmVNYXRyaXggaW5zdGFuY2UgZm9yIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKiBCeSBkZWZhdWx0IHRoYXQgb2JqZWN0IGlzIG5vdCBjcmVhdGVkIGJlY2F1c2UgaXRzIGhlYXZ5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2TWF0cml4ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZSwgYmVmb3JlIGl0IHdhcyBwdXQgaW4gYXRsYXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcmlnID0gb3JpZyB8fCBmcmFtZTsgLy8gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcbiAgICAgICAgX3RoaXMuX3JvdGF0ZSA9IE51bWJlcihyb3RhdGUgfHwgMCk7XG4gICAgICAgIGlmIChyb3RhdGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgb2xkIHRleHR1cmVwYWNrZXIgbGVnYWN5LCBzb21lIGdhbWVzL2xpYnJhcmllcyBhcmUgcGFzc2luZyBcInRydWVcIiBmb3Igcm90YXRlZCB0ZXh0dXJlc1xuICAgICAgICAgICAgX3RoaXMuX3JvdGF0ZSA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3RoaXMuX3JvdGF0ZSAlIDIgIT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYXR0ZW1wdCB0byB1c2UgZGlhbW9uZC1zaGFwZWQgVVZzLiBJZiB5b3UgYXJlIHN1cmUsIHNldCByb3RhdGlvbiBtYW51YWxseScpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbmNob3IgcG9pbnQgdGhhdCBpcyB1c2VkIGFzIGRlZmF1bHQgaWYgc3ByaXRlIGlzIGNyZWF0ZWQgd2l0aCB0aGlzIHRleHR1cmUuXG4gICAgICAgICAqIENoYW5naW5nIHRoZSBgZGVmYXVsdEFuY2hvcmAgYXQgYSBsYXRlciBwb2ludCBvZiB0aW1lIHdpbGwgbm90IHVwZGF0ZSBTcHJpdGUncyBhbmNob3IgcG9pbnQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICAgICAqIEBkZWZhdWx0IHswLDB9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZWZhdWx0QW5jaG9yID0gYW5jaG9yID8gbmV3IFBvaW50KGFuY2hvci54LCBhbmNob3IueSkgOiBuZXcgUG9pbnQoMCwgMCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgSUQgaXMgb2JzZXJ2ZWQgYnkgc3ByaXRlcyBhbmQgVGV4dHVyZU1hdHJpeCBpbnN0YW5jZXMuXG4gICAgICAgICAqIENhbGwgdXBkYXRlVXZzKCkgdG8gaW5jcmVtZW50IGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaWRzIHVuZGVyIHdoaWNoIHRoaXMgVGV4dHVyZSBoYXMgYmVlbiBhZGRlZCB0byB0aGUgdGV4dHVyZSBjYWNoZS4gVGhpcyBpc1xuICAgICAgICAgKiBhdXRvbWF0aWNhbGx5IHNldCBhcyBsb25nIGFzIFRleHR1cmUuYWRkVG9DYWNoZSBpcyB1c2VkLCBidXQgbWF5IG5vdCBiZSBzZXQgaWYgYVxuICAgICAgICAgKiBUZXh0dXJlIGlzIGFkZGVkIGRpcmVjdGx5IHRvIHRoZSBUZXh0dXJlQ2FjaGUgYXJyYXkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dHVyZUNhY2hlSWRzID0gW107XG4gICAgICAgIGlmICghYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLm9uY2UoJ2xvYWRlZCcsIF90aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCBfdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3RoaXMubm9GcmFtZSkge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gZnJhbWUgd2Ugc2hvdWxkIG1vbml0b3IgZm9yIGFueSBiYXNlIHRleHR1cmUgY2hhbmdlcy4uXG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZChiYXNlVGV4dHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5mcmFtZSA9IGZyYW1lO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfdGhpcy5ub0ZyYW1lKSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5vbigndXBkYXRlJywgX3RoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIF90aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhpcyB0ZXh0dXJlIG9uIHRoZSBncHUuXG4gICAgICpcbiAgICAgKiBDYWxscyB0aGUgVGV4dHVyZVJlc291cmNlIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqIElmIHlvdSBhZGp1c3RlZCBgZnJhbWVgIG1hbnVhbGx5LCBwbGVhc2UgY2FsbCBgdXBkYXRlVXZzKClgIGluc3RlYWQuXG4gICAgICpcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYmFzZSB0ZXh0dXJlIGlzIHVwZGF0ZWRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5vbkJhc2VUZXh0dXJlVXBkYXRlZCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICBpZiAodGhpcy5ub0ZyYW1lKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fZnJhbWUuaGVpZ2h0ID0gYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETyB0aGlzIGNvZGUgbG9va3MgY29uZnVzaW5nLi4gYm9vIHRvIGFidXNpbmcgZ2V0dGVycyBhbmQgc2V0dGVycyFcbiAgICAgICAgICAgIC8vIGlmIHVzZXIgZ2F2ZSB1cyBmcmFtZSB0aGF0IGhhcyBiaWdnZXIgc2l6ZSB0aGFuIHJlc2l6ZWQgdGV4dHVyZSBpdCBjYW4gYmUgYSBwcm9ibGVtXG4gICAgICAgICAgICB0aGlzLmZyYW1lID0gdGhpcy5fZnJhbWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveUJhc2U9ZmFsc2VdIC0gV2hldGhlciB0byBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgYXMgd2VsbFxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZGVzdHJveUJhc2UpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIGlmIChkZXN0cm95QmFzZSkge1xuICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IHRoaXMuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIHRoZSB0ZXh0dXJlIGlmIGl0IGV4aXN0cyBpbiB0aGUgdGV4dHVyZSBjYWNoZS4uXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBvbmx5IG5lZWRzIHRvIGJlIHJlbW92ZWQgaWYgdGhlIGJhc2UgdGV4dHVyZSBpcyBhY3R1YWxseSBkZXN0cm95ZWQgdG9vLi5cbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2UgJiYgcmVzb3VyY2UudXJsICYmIFRleHR1cmVDYWNoZVtyZXNvdXJjZS51cmxdKSB7XG4gICAgICAgICAgICAgICAgICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHJlc291cmNlLnVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vZmYoJ2xvYWRlZCcsIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZnJhbWUgPSBudWxsO1xuICAgICAgICB0aGlzLl91dnMgPSBudWxsO1xuICAgICAgICB0aGlzLnRyaW0gPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWcgPSBudWxsO1xuICAgICAgICB0aGlzLnZhbGlkID0gZmFsc2U7XG4gICAgICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRleHR1cmUgb2JqZWN0IHRoYXQgYWN0cyB0aGUgc2FtZSBhcyB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ldyB0ZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZSh0aGlzLmJhc2VUZXh0dXJlLCB0aGlzLmZyYW1lLmNsb25lKCksIHRoaXMub3JpZy5jbG9uZSgpLCB0aGlzLnRyaW0gJiYgdGhpcy50cmltLmNsb25lKCksIHRoaXMucm90YXRlLCB0aGlzLmRlZmF1bHRBbmNob3IpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgaW50ZXJuYWwgV2ViR0wgVVYgY2FjaGUuIFVzZSBpdCBhZnRlciB5b3UgY2hhbmdlIGBmcmFtZWAgb3IgYHRyaW1gIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqIENhbGwgaXQgYWZ0ZXIgY2hhbmdpbmcgdGhlIGZyYW1lXG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlVXZzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fdXZzID09PSBERUZBVUxUX1VWUykge1xuICAgICAgICAgICAgdGhpcy5fdXZzID0gbmV3IFRleHR1cmVVdnMoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91dnMuc2V0KHRoaXMuX2ZyYW1lLCB0aGlzLmJhc2VUZXh0dXJlLCB0aGlzLnJvdGF0ZSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEKys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IFRleHR1cmUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGZyYW1lIGlkLCBpbWFnZSB1cmwsIHZpZGVvIHVybCwgY2FudmFzIGVsZW1lbnQsIHZpZGVvIGVsZW1lbnQsIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxQSVhJLkJhc2VUZXh0dXJlfSBzb3VyY2VcbiAgICAgKiAgICAgICAgU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHJpY3RdIC0gRW5mb3JjZSBzdHJpY3QtbW9kZSwgc2VlIHtAbGluayBQSVhJLnNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFfS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb20gPSBmdW5jdGlvbiAoc291cmNlLCBvcHRpb25zLCBzdHJpY3QpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgaWYgKHN0cmljdCA9PT0gdm9pZCAwKSB7IHN0cmljdCA9IHNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFOyB9XG4gICAgICAgIHZhciBpc0ZyYW1lID0gdHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZyc7XG4gICAgICAgIHZhciBjYWNoZUlkID0gbnVsbDtcbiAgICAgICAgaWYgKGlzRnJhbWUpIHtcbiAgICAgICAgICAgIGNhY2hlSWQgPSBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZS5fcGl4aUlkKSB7XG4gICAgICAgICAgICAgICAgc291cmNlLl9waXhpSWQgPSBcInBpeGlpZF9cIiArIHVpZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZS5fcGl4aUlkO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXh0dXJlID0gVGV4dHVyZUNhY2hlW2NhY2hlSWRdO1xuICAgICAgICAvLyBTdHJpY3QtbW9kZSByZWplY3RzIGludmFsaWQgY2FjaGVJZHNcbiAgICAgICAgaWYgKGlzRnJhbWUgJiYgc3RyaWN0ICYmICF0ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgY2FjaGVJZCBcXFwiXCIgKyBjYWNoZUlkICsgXCJcXFwiIGRvZXMgbm90IGV4aXN0IGluIFRleHR1cmVDYWNoZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMucmVzb2x1dGlvbikge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucmVzb2x1dGlvbiA9IGdldFJlc29sdXRpb25PZlVybChzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKG5ldyBCYXNlVGV4dHVyZShzb3VyY2UsIG9wdGlvbnMpKTtcbiAgICAgICAgICAgIHRleHR1cmUuYmFzZVRleHR1cmUuY2FjaGVJZCA9IGNhY2hlSWQ7XG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIGNhY2hlSWQpO1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGNhY2hlSWQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxldHMgYXNzdW1lIGl0cyBhIGJhc2UgdGV4dHVyZSFcbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVc2VmdWwgZm9yIGxvYWRpbmcgdGV4dHVyZXMgdmlhIFVSTHMuIFVzZSBpbnN0ZWFkIG9mIGBUZXh0dXJlLmZyb21gIGJlY2F1c2VcbiAgICAgKiBpdCBkb2VzIGEgYmV0dGVyIGpvYiBvZiBoYW5kbGluZyBmYWlsZWQgVVJMcyBtb3JlIGVmZmVjdGl2ZWx5LiBUaGlzIGFsc28gaWdub3Jlc1xuICAgICAqIGBQSVhJLnNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFYC4gV29ya3MgZm9yIFZpZGVvcywgU1ZHcywgSW1hZ2VzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIHJlbW90ZSBVUkwgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbmFsIG9wdGlvbnMgdG8gaW5jbHVkZVxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8UElYSS5UZXh0dXJlPn0gQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBUZXh0dXJlLlxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbVVSTCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHJlc291cmNlT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBhdXRvTG9hZDogZmFsc2UgfSwgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJlc291cmNlT3B0aW9ucyk7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gVGV4dHVyZS5mcm9tKHVybCwgT2JqZWN0LmFzc2lnbih7IHJlc291cmNlT3B0aW9uczogcmVzb3VyY2VPcHRpb25zIH0sIG9wdGlvbnMpLCBmYWxzZSk7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IHRleHR1cmUuYmFzZVRleHR1cmUucmVzb3VyY2U7XG4gICAgICAgIC8vIFRoZSB0ZXh0dXJlIHdhcyBhbHJlYWR5IGxvYWRlZFxuICAgICAgICBpZiAodGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNYW51YWxseSBsb2FkIHRoZSB0ZXh0dXJlLCB0aGlzIHNob3VsZCBhbGxvdyB1c2VycyB0byBoYW5kbGUgbG9hZCBlcnJvcnNcbiAgICAgICAgcmV0dXJuIHJlc291cmNlLmxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0ZXh0dXJlKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgVGV4dHVyZSB3aXRoIGEgQnVmZmVyUmVzb3VyY2UgZnJvbSBhIEZsb2F0MzJBcnJheS5cbiAgICAgKiBSR0JBIHZhbHVlcyBhcmUgZmxvYXRzIGZyb20gMCB0byAxLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fSBidWZmZXIgLSBUaGUgb3B0aW9uYWwgYXJyYXkgdG8gdXNlLCBpZiBubyBkYXRhXG4gICAgICogICAgICAgIGlzIHByb3ZpZGVkLCBhIG5ldyBGbG9hdDMyQXJyYXkgaXMgY3JlYXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIHJlc3VsdGluZyBuZXcgQmFzZVRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21CdWZmZXIgPSBmdW5jdGlvbiAoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZShCYXNlVGV4dHVyZS5mcm9tQnVmZmVyKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgb3B0aW9ucykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdGV4dHVyZSBmcm9tIGEgc291cmNlIGFuZCBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIC0gVGhlIGlucHV0IHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW1hZ2VVcmwgLSBGaWxlIG5hbWUgb2YgdGV4dHVyZSwgZm9yIGNhY2hlIGFuZCByZXNvbHZpbmcgcmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW25hbWVdIC0gSHVtYW4gcmVhZGFibGUgbmFtZSBmb3IgdGhlIHRleHR1cmUgY2FjaGUuIElmIG5vIG5hbWUgaXNcbiAgICAgKiAgICAgICAgc3BlY2lmaWVkLCBvbmx5IGBpbWFnZVVybGAgd2lsbCBiZSB1c2VkIGFzIHRoZSBjYWNoZSBJRC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IE91dHB1dCB0ZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tTG9hZGVyID0gZnVuY3Rpb24gKHNvdXJjZSwgaW1hZ2VVcmwsIG5hbWUpIHtcbiAgICAgICAgdmFyIHJlc291cmNlID0gbmV3IEltYWdlUmVzb3VyY2Uoc291cmNlKTtcbiAgICAgICAgcmVzb3VyY2UudXJsID0gaW1hZ2VVcmw7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShyZXNvdXJjZSwge1xuICAgICAgICAgICAgc2NhbGVNb2RlOiBzZXR0aW5ncy5TQ0FMRV9NT0RFLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogZ2V0UmVzb2x1dGlvbk9mVXJsKGltYWdlVXJsKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gbmV3IFRleHR1cmUoYmFzZVRleHR1cmUpO1xuICAgICAgICAvLyBObyBuYW1lLCB1c2UgaW1hZ2VVcmwgaW5zdGVhZFxuICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgIG5hbWUgPSBpbWFnZVVybDtcbiAgICAgICAgfVxuICAgICAgICAvLyBsZXRzIGFsc28gYWRkIHRoZSBmcmFtZSB0byBwaXhpJ3MgZ2xvYmFsIGNhY2hlIGZvciAnZnJvbUxvYWRlcicgZnVuY3Rpb25cbiAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBuYW1lKTtcbiAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIG5hbWUpO1xuICAgICAgICAvLyBhbHNvIGFkZCByZWZlcmVuY2VzIGJ5IHVybCBpZiB0aGV5IGFyZSBkaWZmZXJlbnQuXG4gICAgICAgIGlmIChuYW1lICE9PSBpbWFnZVVybCkge1xuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIFRleHR1cmUgdG8gdGhlIGdsb2JhbCBUZXh0dXJlQ2FjaGUuIFRoaXMgY2FjaGUgaXMgc2hhcmVkIGFjcm9zcyB0aGUgd2hvbGUgUElYSSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgVGV4dHVyZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCB0aGF0IHRoZSBUZXh0dXJlIHdpbGwgYmUgc3RvcmVkIGFnYWluc3QuXG4gICAgICovXG4gICAgVGV4dHVyZS5hZGRUb0NhY2hlID0gZnVuY3Rpb24gKHRleHR1cmUsIGlkKSB7XG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgaWYgKHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoaWQpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFRleHR1cmVDYWNoZVtpZF0pIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRleHR1cmUgYWRkZWQgdG8gdGhlIGNhY2hlIHdpdGggYW4gaWQgW1wiICsgaWQgKyBcIl0gdGhhdCBhbHJlYWR5IGhhZCBhbiBlbnRyeVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFRleHR1cmVDYWNoZVtpZF0gPSB0ZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBUZXh0dXJlIGZyb20gdGhlIGdsb2JhbCBUZXh0dXJlQ2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gaWQgb2YgYSBUZXh0dXJlIHRvIGJlIHJlbW92ZWQsIG9yIGEgVGV4dHVyZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV8bnVsbH0gVGhlIFRleHR1cmUgdGhhdCB3YXMgcmVtb3ZlZFxuICAgICAqL1xuICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlID0gZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0dXJlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmVGcm9tQ2FjaGUgPSBUZXh0dXJlQ2FjaGVbdGV4dHVyZV07XG4gICAgICAgICAgICBpZiAodGV4dHVyZUZyb21DYWNoZSkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YodGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVt0ZXh0dXJlXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0ZXh0dXJlICYmIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCB0ZXh0dXJlIG1hdGNoZXMgdGhlIG9uZSBiZWluZyBwYXNzZWQgaW4gYmVmb3JlIGRlbGV0aW5nIGl0IGZyb20gdGhlIGNhY2hlLlxuICAgICAgICAgICAgICAgIGlmIChUZXh0dXJlQ2FjaGVbdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dID09PSB0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0dXJlLnByb3RvdHlwZSwgXCJyZXNvbHV0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgcmVzb2x1dGlvbiBvZiBiYXNlVGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHR1cmUucHJvdG90eXBlLCBcImZyYW1lXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmcmFtZSBzcGVjaWZpZXMgdGhlIHJlZ2lvbiBvZiB0aGUgYmFzZSB0ZXh0dXJlIHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXMuXG4gICAgICAgICAqIFBsZWFzZSBjYWxsIGB1cGRhdGVVdnMoKWAgYWZ0ZXIgeW91IGNoYW5nZSBjb29yZGluYXRlcyBvZiBgZnJhbWVgIG1hbnVhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZyYW1lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmcmFtZSkge1xuICAgICAgICAgICAgdGhpcy5fZnJhbWUgPSBmcmFtZTtcbiAgICAgICAgICAgIHRoaXMubm9GcmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHggPSBmcmFtZS54LCB5ID0gZnJhbWUueSwgd2lkdGggPSBmcmFtZS53aWR0aCwgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0O1xuICAgICAgICAgICAgdmFyIHhOb3RGaXQgPSB4ICsgd2lkdGggPiB0aGlzLmJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgdmFyIHlOb3RGaXQgPSB5ICsgaGVpZ2h0ID4gdGhpcy5iYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICBpZiAoeE5vdEZpdCB8fCB5Tm90Rml0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbGF0aW9uc2hpcCA9IHhOb3RGaXQgJiYgeU5vdEZpdCA/ICdhbmQnIDogJ29yJztcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JYID0gXCJYOiBcIiArIHggKyBcIiArIFwiICsgd2lkdGggKyBcIiA9IFwiICsgKHggKyB3aWR0aCkgKyBcIiA+IFwiICsgdGhpcy5iYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JZID0gXCJZOiBcIiArIHkgKyBcIiArIFwiICsgaGVpZ2h0ICsgXCIgPSBcIiArICh5ICsgaGVpZ2h0KSArIFwiID4gXCIgKyB0aGlzLmJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RleHR1cmUgRXJyb3I6IGZyYW1lIGRvZXMgbm90IGZpdCBpbnNpZGUgdGhlIGJhc2UgVGV4dHVyZSBkaW1lbnNpb25zOiAnXG4gICAgICAgICAgICAgICAgICAgICsgKGVycm9yWCArIFwiIFwiICsgcmVsYXRpb25zaGlwICsgXCIgXCIgKyBlcnJvclkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmFsaWQgPSB3aWR0aCAmJiBoZWlnaHQgJiYgdGhpcy5iYXNlVGV4dHVyZS52YWxpZDtcbiAgICAgICAgICAgIGlmICghdGhpcy50cmltICYmICF0aGlzLnJvdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3JpZyA9IGZyYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHR1cmUucHJvdG90eXBlLCBcInJvdGF0ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdGV4dHVyZSBpcyByb3RhdGVkIGluc2lkZSB0aGUgYXRsYXNcbiAgICAgICAgICogc2V0IHRvIDIgdG8gY29tcGVuc2F0ZSBmb3IgdGV4dHVyZSBwYWNrZXIgcm90YXRpb25cbiAgICAgICAgICogc2V0IHRvIDYgdG8gY29tcGVuc2F0ZSBmb3Igc3BpbmUgcGFja2VyIHJvdGF0aW9uXG4gICAgICAgICAqIGNhbiBiZSB1c2VkIHRvIHJvdGF0ZSBvciBtaXJyb3Igc3ByaXRlc1xuICAgICAgICAgKiBTZWUge0BsaW5rIFBJWEkuZ3JvdXBEOH0gZm9yIGV4cGxhbmF0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAocm90YXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9yb3RhdGUgPSByb3RhdGU7XG4gICAgICAgICAgICBpZiAodGhpcy52YWxpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZS5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBUZXh0dXJlIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcmlnLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHR1cmUucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUZXh0dXJlIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcmlnLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFV0aWxpdHkgZnVuY3Rpb24gZm9yIEJhc2VUZXh0dXJlfFRleHR1cmUgY2FzdFxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLmNhc3RUb0Jhc2VUZXh0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iYXNlVGV4dHVyZTtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlO1xufShFdmVudEVtaXR0ZXIpKTtcbmZ1bmN0aW9uIGNyZWF0ZVdoaXRlVGV4dHVyZSgpIHtcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY2FudmFzLndpZHRoID0gMTY7XG4gICAgY2FudmFzLmhlaWdodCA9IDE2O1xuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgMTYsIDE2KTtcbiAgICByZXR1cm4gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKG5ldyBDYW52YXNSZXNvdXJjZShjYW52YXMpKSk7XG59XG5mdW5jdGlvbiByZW1vdmVBbGxIYW5kbGVycyh0ZXgpIHtcbiAgICB0ZXguZGVzdHJveSA9IGZ1bmN0aW9uIF9lbXB0eURlc3Ryb3koKSB7IH07XG4gICAgdGV4Lm9uID0gZnVuY3Rpb24gX2VtcHR5T24oKSB7IH07XG4gICAgdGV4Lm9uY2UgPSBmdW5jdGlvbiBfZW1wdHlPbmNlKCkgeyB9O1xuICAgIHRleC5lbWl0ID0gZnVuY3Rpb24gX2VtcHR5RW1pdCgpIHsgfTtcbn1cbi8qKlxuICogQW4gZW1wdHkgdGV4dHVyZSwgdXNlZCBvZnRlbiB0byBub3QgaGF2ZSB0byBjcmVhdGUgbXVsdGlwbGUgZW1wdHkgdGV4dHVyZXMuXG4gKiBDYW4gbm90IGJlIGRlc3Ryb3llZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAqL1xuVGV4dHVyZS5FTVBUWSA9IG5ldyBUZXh0dXJlKG5ldyBCYXNlVGV4dHVyZSgpKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuRU1QVFkpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5FTVBUWS5iYXNlVGV4dHVyZSk7XG4vKipcbiAqIEEgd2hpdGUgdGV4dHVyZSBvZiAxNngxNiBzaXplLCB1c2VkIGZvciBncmFwaGljcyBhbmQgb3RoZXIgdGhpbmdzXG4gKiBDYW4gbm90IGJlIGRlc3Ryb3llZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAqL1xuVGV4dHVyZS5XSElURSA9IGNyZWF0ZVdoaXRlVGV4dHVyZSgpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5XSElURSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLldISVRFLmJhc2VUZXh0dXJlKTtcblxuLyoqXG4gKiBBIFJlbmRlclRleHR1cmUgaXMgYSBzcGVjaWFsIHRleHR1cmUgdGhhdCBhbGxvd3MgYW55IFBpeGlKUyBkaXNwbGF5IG9iamVjdCB0byBiZSByZW5kZXJlZCB0byBpdC5cbiAqXG4gKiBfX0hpbnRfXzogQWxsIERpc3BsYXlPYmplY3RzIChpLmUuIFNwcml0ZXMpIHRoYXQgcmVuZGVyIHRvIGEgUmVuZGVyVGV4dHVyZSBzaG91bGQgYmUgcHJlbG9hZGVkXG4gKiBvdGhlcndpc2UgYmxhY2sgcmVjdGFuZ2xlcyB3aWxsIGJlIGRyYXduIGluc3RlYWQuXG4gKlxuICogX19IaW50LTJfXzogVGhlIGFjdHVhbCBtZW1vcnkgYWxsb2NhdGlvbiB3aWxsIGhhcHBlbiBvbiBmaXJzdCByZW5kZXIuXG4gKiBZb3Ugc2hvdWxkbid0IGNyZWF0ZSByZW5kZXJUZXh0dXJlcyBlYWNoIGZyYW1lIGp1c3QgdG8gZGVsZXRlIHRoZW0gYWZ0ZXIsIHRyeSB0byByZXVzZSB0aGVtLlxuICpcbiAqIEEgUmVuZGVyVGV4dHVyZSB0YWtlcyBhIHNuYXBzaG90IG9mIGFueSBEaXNwbGF5IE9iamVjdCBnaXZlbiB0byBpdHMgcmVuZGVyIG1ldGhvZC4gRm9yIGV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGxldCByZW5kZXJlciA9IFBJWEkuYXV0b0RldGVjdFJlbmRlcmVyKCk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IFBJWEkuUmVuZGVyVGV4dHVyZS5jcmVhdGUoeyB3aWR0aDogODAwLCBoZWlnaHQ6IDYwMCB9KTtcbiAqIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKFwic3Bpbk9ial8wMS5wbmdcIik7XG4gKlxuICogc3ByaXRlLnBvc2l0aW9uLnggPSA4MDAvMjtcbiAqIHNwcml0ZS5wb3NpdGlvbi55ID0gNjAwLzI7XG4gKiBzcHJpdGUuYW5jaG9yLnggPSAwLjU7XG4gKiBzcHJpdGUuYW5jaG9yLnkgPSAwLjU7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgU3ByaXRlIGluIHRoaXMgY2FzZSB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGl0cyBsb2NhbCB0cmFuc2Zvcm0uIFRvIHJlbmRlciB0aGlzIHNwcml0ZSBhdCAwLDBcbiAqIHlvdSBjYW4gY2xlYXIgdGhlIHRyYW5zZm9ybVxuICpcbiAqIGBgYGpzXG4gKlxuICogc3ByaXRlLnNldFRyYW5zZm9ybSgpXG4gKlxuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSgxMDAsIDEwMCk7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlbmRlclRleHR1cmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlbmRlclRleHR1cmUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VSZW5kZXJUZXh0dXJlfSBiYXNlUmVuZGVyVGV4dHVyZSAtIFRoZSBiYXNlIHRleHR1cmUgb2JqZWN0IHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXNcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIC0gVGhlIHJlY3RhbmdsZSBmcmFtZSBvZiB0aGUgdGV4dHVyZSB0byBzaG93XG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gc3VwcG9ydCBmb3IgbGVnYWN5Li5cbiAgICAgICAgdmFyIF9sZWdhY3lSZW5kZXJlciA9IG51bGw7XG4gICAgICAgIGlmICghKGJhc2VSZW5kZXJUZXh0dXJlIGluc3RhbmNlb2YgQmFzZVJlbmRlclRleHR1cmUpKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMsIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIHZhciB3aWR0aCA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSBhcmd1bWVudHNbMl07XG4gICAgICAgICAgICB2YXIgc2NhbGVNb2RlID0gYXJndW1lbnRzWzNdO1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSBhcmd1bWVudHNbNF07XG4gICAgICAgICAgICAvLyB3ZSBoYXZlIGFuIG9sZCByZW5kZXIgdGV4dHVyZS4uXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJQbGVhc2UgdXNlIFJlbmRlclRleHR1cmUuY3JlYXRlKFwiICsgd2lkdGggKyBcIiwgXCIgKyBoZWlnaHQgKyBcIikgaW5zdGVhZCBvZiB0aGUgY3RvciBkaXJlY3RseS5cIik7XG4gICAgICAgICAgICBfbGVnYWN5UmVuZGVyZXIgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcywgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgZnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgQmFzZVJlbmRlclRleHR1cmUoe1xuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGU6IHNjYWxlTW9kZSxcbiAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHRleHR1cmUgb2JqZWN0IHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgYmFzZVJlbmRlclRleHR1cmUsIGZyYW1lKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sZWdhY3lSZW5kZXJlciA9IF9sZWdhY3lSZW5kZXJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBsZXQgdGhlIHJlbmRlcmVyIGtub3cgaWYgdGhlIHRleHR1cmUgaXMgdmFsaWQuIElmIGl0J3Mgbm90IHRoZW4gaXQgY2Fubm90IGJlIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmFsaWQgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3RvcmVzIGBzb3VyY2VGcmFtZWAgd2hlbiB0aGlzIHRleHR1cmUgaXMgaW5zaWRlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAgICAgKiBZb3UgY2FuIHJlYWQgaXQgaW5zaWRlIGZpbHRlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZpbHRlckZyYW1lID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBrZXkgZm9yIHBvb2xlZCB0ZXh0dXJlIG9mIEZpbHRlclN5c3RlbVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZpbHRlclBvb2xLZXkgPSBudWxsO1xuICAgICAgICBfdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUsIFwiZnJhbWVidWZmZXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2hvcnRjdXQgdG8gYHRoaXMuYmFzZVRleHR1cmUuZnJhbWVidWZmZXJgLCBzYXZlcyBiYXNlVGV4dHVyZSBjYXN0LlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZyYW1lYnVmZmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmFzZVRleHR1cmUuZnJhbWVidWZmZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBSZW5kZXJUZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVzaXplQmFzZVRleHR1cmU9dHJ1ZV0gLSBTaG91bGQgdGhlIGJhc2VUZXh0dXJlLndpZHRoIGFuZCBoZWlnaHQgdmFsdWVzIGJlIHJlc2l6ZWQgYXMgd2VsbD9cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCwgcmVzaXplQmFzZVRleHR1cmUpIHtcbiAgICAgICAgaWYgKHJlc2l6ZUJhc2VUZXh0dXJlID09PSB2b2lkIDApIHsgcmVzaXplQmFzZVRleHR1cmUgPSB0cnVlOyB9XG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG4gICAgICAgIC8vIFRPRE8gLSBjb3VsZCBiZSBub3QgcmVxdWlyZWQuLlxuICAgICAgICB0aGlzLnZhbGlkID0gKHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwKTtcbiAgICAgICAgdGhpcy5fZnJhbWUud2lkdGggPSB0aGlzLm9yaWcud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5fZnJhbWUuaGVpZ2h0ID0gdGhpcy5vcmlnLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgaWYgKHJlc2l6ZUJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgcmVzb2x1dGlvbiBvZiBiYXNlVGV4dHVyZSwgYnV0IGRvZXMgbm90IGNoYW5nZSBmcmFtZWJ1ZmZlciBzaXplLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgbmV3IHJlc29sdXRpb24gdG8gYXBwbHkgdG8gUmVuZGVyVGV4dHVyZVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmUucHJvdG90eXBlLnNldFJlc29sdXRpb24gPSBmdW5jdGlvbiAocmVzb2x1dGlvbikge1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0aGlzLmJhc2VUZXh0dXJlO1xuICAgICAgICBpZiAoYmFzZVRleHR1cmUucmVzb2x1dGlvbiA9PT0gcmVzb2x1dGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGJhc2VUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgICAgIHRoaXMucmVzaXplKGJhc2VUZXh0dXJlLndpZHRoLCBiYXNlVGV4dHVyZS5oZWlnaHQsIGZhbHNlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTEwMF0gLSBUaGUgd2lkdGggb2YgdGhlIHJlbmRlciB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD0xMDBdIC0gVGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGV4dHVyZX0gVGhlIG5ldyByZW5kZXIgdGV4dHVyZVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmUuY3JlYXRlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gZmFsbGJhY2ssIG9sZC1zdHlsZTogY3JlYXRlKHdpZHRoLCBoZWlnaHQsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbilcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBvcHRpb25zLFxuICAgICAgICAgICAgICAgIGhlaWdodDogYXJndW1lbnRzWzFdLFxuICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogYXJndW1lbnRzWzJdLFxuICAgICAgICAgICAgICAgIHJlc29sdXRpb246IGFyZ3VtZW50c1szXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmVuZGVyVGV4dHVyZShuZXcgQmFzZVJlbmRlclRleHR1cmUob3B0aW9ucykpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbmRlclRleHR1cmU7XG59KFRleHR1cmUpKTtcblxuLyoqXG4gKiBFeHBlcmltZW50YWwhXG4gKlxuICogVGV4dHVyZSBwb29sLCB1c2VkIGJ5IEZpbHRlclN5c3RlbSBhbmQgcGx1Z2luc1xuICogU3RvcmVzIGNvbGxlY3Rpb24gb2YgdGVtcG9yYXJ5IHBvdzIgb3Igc2NyZWVuLXNpemVkIHJlbmRlclRleHR1cmVzXG4gKlxuICogSWYgeW91IHVzZSBjdXN0b20gUmVuZGVyVGV4dHVyZVBvb2wgZm9yIHlvdXIgZmlsdGVycywgeW91IGNhbiB1c2UgbWV0aG9kc1xuICogYGdldEZpbHRlclRleHR1cmVgIGFuZCBgcmV0dXJuRmlsdGVyVGV4dHVyZWAgc2FtZSBhcyBpblxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlbmRlclRleHR1cmVQb29sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdGV4dHVyZU9wdGlvbnNdIC0gb3B0aW9ucyB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIEJhc2VSZW5kZXJUZXh0dXJlIGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbdGV4dHVyZU9wdGlvbnMuc2NhbGVNb2RlXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZW5kZXJUZXh0dXJlUG9vbCh0ZXh0dXJlT3B0aW9ucykge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sID0ge307XG4gICAgICAgIHRoaXMudGV4dHVyZU9wdGlvbnMgPSB0ZXh0dXJlT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbG93IHJlbmRlclRleHR1cmVzIG9mIHRoZSBzYW1lIHNpemUgYXMgc2NyZWVuLCBub3QganVzdCBwb3cyXG4gICAgICAgICAqXG4gICAgICAgICAqIEF1dG9tYXRpY2FsbHkgc2V0cyB0byB0cnVlIGFmdGVyIGBzZXRTY3JlZW5TaXplYFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbmFibGVGdWxsU2NyZWVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BpeGVsc1dpZHRoID0gMDtcbiAgICAgICAgdGhpcy5fcGl4ZWxzSGVpZ2h0ID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY3JlYXRlcyBvZiB0ZXh0dXJlIHdpdGggcGFyYW1zIHRoYXQgd2VyZSBzcGVjaWZpZWQgaW4gcG9vbCBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlYWxXaWR0aCAtIHdpZHRoIG9mIHRleHR1cmUgaW4gcGl4ZWxzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlYWxIZWlnaHQgLSBoZWlnaHQgb2YgdGV4dHVyZSBpbiBwaXhlbHNcbiAgICAgKiBAcmV0dXJucyB7UmVuZGVyVGV4dHVyZX1cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuY3JlYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIChyZWFsV2lkdGgsIHJlYWxIZWlnaHQpIHtcbiAgICAgICAgdmFyIGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IEJhc2VSZW5kZXJUZXh0dXJlKE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgd2lkdGg6IHJlYWxXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogcmVhbEhlaWdodCxcbiAgICAgICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgIH0sIHRoaXMudGV4dHVyZU9wdGlvbnMpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZW5kZXJUZXh0dXJlKGJhc2VSZW5kZXJUZXh0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgYSBQb3dlci1vZi1Ud28gcmVuZGVyIHRleHR1cmUgb3IgZnVsbFNjcmVlbiB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbldpZHRoIC0gVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5IZWlnaHQgLSBUaGUgbWluaW11bSBoZWlnaHQgb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IFRoZSBuZXcgcmVuZGVyIHRleHR1cmUuXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLmdldE9wdGltYWxUZXh0dXJlID0gZnVuY3Rpb24gKG1pbldpZHRoLCBtaW5IZWlnaHQsIHJlc29sdXRpb24pIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uID0gMTsgfVxuICAgICAgICB2YXIga2V5ID0gUmVuZGVyVGV4dHVyZVBvb2wuU0NSRUVOX0tFWTtcbiAgICAgICAgbWluV2lkdGggKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgbWluSGVpZ2h0ICo9IHJlc29sdXRpb247XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVGdWxsU2NyZWVuIHx8IG1pbldpZHRoICE9PSB0aGlzLl9waXhlbHNXaWR0aCB8fCBtaW5IZWlnaHQgIT09IHRoaXMuX3BpeGVsc0hlaWdodCkge1xuICAgICAgICAgICAgbWluV2lkdGggPSBuZXh0UG93MihtaW5XaWR0aCk7XG4gICAgICAgICAgICBtaW5IZWlnaHQgPSBuZXh0UG93MihtaW5IZWlnaHQpO1xuICAgICAgICAgICAga2V5ID0gKChtaW5XaWR0aCAmIDB4RkZGRikgPDwgMTYpIHwgKG1pbkhlaWdodCAmIDB4RkZGRik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnRleHR1cmVQb29sW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZVBvb2xba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlID0gdGhpcy50ZXh0dXJlUG9vbFtrZXldLnBvcCgpO1xuICAgICAgICBpZiAoIXJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLmNyZWF0ZVRleHR1cmUobWluV2lkdGgsIG1pbkhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyVGV4dHVyZS5maWx0ZXJQb29sS2V5ID0ga2V5O1xuICAgICAgICByZW5kZXJUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgICAgIHJldHVybiByZW5kZXJUZXh0dXJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyBleHRyYSB0ZXh0dXJlIG9mIHRoZSBzYW1lIHNpemUgYXMgaW5wdXQgcmVuZGVyVGV4dHVyZVxuICAgICAqXG4gICAgICogYGdldEZpbHRlclRleHR1cmUoaW5wdXQsIDAuNSlgIG9yIGBnZXRGaWx0ZXJUZXh0dXJlKDAuNSwgaW5wdXQpYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gcmVuZGVyVGV4dHVyZSBmcm9tIHdoaWNoIHNpemUgYW5kIHJlc29sdXRpb24gd2lsbCBiZSBjb3BpZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIC0gb3ZlcnJpZGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyVGV4dHVyZVxuICAgICAqICBJdCBvdmVycmlkZXMsIGl0IGRvZXMgbm90IG11bHRpcGx5XG4gICAgICogQHJldHVybnMge1BJWEkuUmVuZGVyVGV4dHVyZX1cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuZ2V0RmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIChpbnB1dCwgcmVzb2x1dGlvbikge1xuICAgICAgICB2YXIgZmlsdGVyVGV4dHVyZSA9IHRoaXMuZ2V0T3B0aW1hbFRleHR1cmUoaW5wdXQud2lkdGgsIGlucHV0LmhlaWdodCwgcmVzb2x1dGlvbiB8fCBpbnB1dC5yZXNvbHV0aW9uKTtcbiAgICAgICAgZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IGlucHV0LmZpbHRlckZyYW1lO1xuICAgICAgICByZXR1cm4gZmlsdGVyVGV4dHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBsYWNlIGEgcmVuZGVyIHRleHR1cmUgYmFjayBpbnRvIHRoZSBwb29sLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlclRleHR1cmUgdG8gZnJlZVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5yZXR1cm5UZXh0dXJlID0gZnVuY3Rpb24gKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgdmFyIGtleSA9IHJlbmRlclRleHR1cmUuZmlsdGVyUG9vbEtleTtcbiAgICAgICAgcmVuZGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2xba2V5XS5wdXNoKHJlbmRlclRleHR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIHJldHVyblRleHR1cmUsIHRvIGJlIGNvbXBsaWFudCB3aXRoIEZpbHRlclN5c3RlbSBpbnRlcmZhY2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJUZXh0dXJlIHRvIGZyZWVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUucmV0dXJuRmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgIHRoaXMucmV0dXJuVGV4dHVyZShyZW5kZXJUZXh0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgcG9vbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveVRleHR1cmVzPXRydWVdIC0gZGVzdHJveSBhbGwgc3RvcmVkIHRleHR1cmVzXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKGRlc3Ryb3lUZXh0dXJlcykge1xuICAgICAgICBkZXN0cm95VGV4dHVyZXMgPSBkZXN0cm95VGV4dHVyZXMgIT09IGZhbHNlO1xuICAgICAgICBpZiAoZGVzdHJveVRleHR1cmVzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGV4dHVyZVBvb2wpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dHVyZXMgPSB0aGlzLnRleHR1cmVQb29sW2ldO1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0dXJlcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlc1tqXS5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wgPSB7fTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElmIHNjcmVlbiBzaXplIHdhcyBjaGFuZ2VkLCBkcm9wcyBhbGwgc2NyZWVuLXNpemVkIHRleHR1cmVzLFxuICAgICAqIHNldHMgbmV3IHNjcmVlbiBzaXplLCBzZXRzIGBlbmFibGVGdWxsU2NyZWVuYCB0byB0cnVlXG4gICAgICpcbiAgICAgKiBTaXplIGlzIG1lYXN1cmVkIGluIHBpeGVscywgYHJlbmRlcmVyLnZpZXdgIGNhbiBiZSBwYXNzZWQgaGVyZSwgbm90IGByZW5kZXJlci5zY3JlZW5gXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVNpemV9IHNpemUgLSBJbml0aWFsIHNpemUgb2Ygc2NyZWVuXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLnNldFNjcmVlblNpemUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICBpZiAoc2l6ZS53aWR0aCA9PT0gdGhpcy5fcGl4ZWxzV2lkdGhcbiAgICAgICAgICAgICYmIHNpemUuaGVpZ2h0ID09PSB0aGlzLl9waXhlbHNIZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2NyZWVuS2V5ID0gUmVuZGVyVGV4dHVyZVBvb2wuU0NSRUVOX0tFWTtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gdGhpcy50ZXh0dXJlUG9vbFtzY3JlZW5LZXldO1xuICAgICAgICB0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gPSBzaXplLndpZHRoID4gMCAmJiBzaXplLmhlaWdodCA+IDA7XG4gICAgICAgIGlmICh0ZXh0dXJlcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZXh0dXJlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbFtzY3JlZW5LZXldID0gW107XG4gICAgICAgIHRoaXMuX3BpeGVsc1dpZHRoID0gc2l6ZS53aWR0aDtcbiAgICAgICAgdGhpcy5fcGl4ZWxzSGVpZ2h0ID0gc2l6ZS5oZWlnaHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBLZXkgdGhhdCBpcyB1c2VkIHRvIHN0b3JlIGZ1bGxzY3JlZW4gcmVuZGVyVGV4dHVyZXMgaW4gYSBwb29sXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0IHtzdHJpbmd9XG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVBvb2wuU0NSRUVOX0tFWSA9ICdzY3JlZW4nO1xuICAgIHJldHVybiBSZW5kZXJUZXh0dXJlUG9vbDtcbn0oKSk7XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbi8qKlxuICogSG9sZHMgdGhlIGluZm9ybWF0aW9uIGZvciBhIHNpbmdsZSBhdHRyaWJ1dGUgc3RydWN0dXJlIHJlcXVpcmVkIHRvIHJlbmRlciBnZW9tZXRyeS5cbiAqXG4gKiBUaGlzIGRvZXMgbm90IGNvbnRhaW4gdGhlIGFjdHVhbCBkYXRhLCBidXQgaW5zdGVhZCBoYXMgYSBidWZmZXIgaWQgdGhhdCBtYXBzIHRvIGEge0BsaW5rIFBJWEkuQnVmZmVyfVxuICogVGhpcyBjYW4gaW5jbHVkZSBhbnl0aGluZyBmcm9tIHBvc2l0aW9ucywgdXZzLCBub3JtYWxzLCBjb2xvcnMgZXRjLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEF0dHJpYnV0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYnVmZmVyIC0gdGhlIGlkIG9mIHRoZSBidWZmZXIgdGhhdCB0aGlzIGF0dHJpYnV0ZSB3aWxsIGxvb2sgZm9yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzaXplPTBdIC0gdGhlIHNpemUgb2YgdGhlIGF0dHJpYnV0ZS4gSWYgeW91IGhhdmUgMiBmbG9hdHMgcGVyIHZlcnRleCAoZWcgcG9zaXRpb24geCBhbmQgeSkgdGhpcyB3b3VsZCBiZSAyLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW25vcm1hbGl6ZWQ9ZmFsc2VdIC0gc2hvdWxkIHRoZSBkYXRhIGJlIG5vcm1hbGl6ZWQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt0eXBlPVBJWEkuVFlQRVMuRkxPQVRdIC0gd2hhdCB0eXBlIG9mIG51bWJlciBpcyB0aGUgYXR0cmlidXRlLiBDaGVjayB7QGxpbmsgUElYSS5UWVBFU30gdG8gc2VlIHRoZSBvbmVzIGF2YWlsYWJsZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RyaWRlPTBdIC0gSG93IGZhciBhcGFydCAoaW4gZmxvYXRzKSB0aGUgc3RhcnQgb2YgZWFjaCB2YWx1ZSBpcy4gKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnQ9MF0gLSBIb3cgZmFyIGludG8gdGhlIGFycmF5IHRvIHN0YXJ0IHJlYWRpbmcgdmFsdWVzICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBdHRyaWJ1dGUoYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSkge1xuICAgICAgICBpZiAoc2l6ZSA9PT0gdm9pZCAwKSB7IHNpemUgPSAwOyB9XG4gICAgICAgIGlmIChub3JtYWxpemVkID09PSB2b2lkIDApIHsgbm9ybWFsaXplZCA9IGZhbHNlOyB9XG4gICAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9IDUxMjY7IH1cbiAgICAgICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgICAgIHRoaXMubm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuc3RyaWRlID0gc3RyaWRlO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIEF0dHJpYnV0ZS5cbiAgICAgKi9cbiAgICBBdHRyaWJ1dGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYW4gQXR0cmlidXRlIGJhc2VkIG9uIHRoZSBpbmZvcm1hdGlvbiBwcm92aWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBidWZmZXIgLSB0aGUgaWQgb2YgdGhlIGJ1ZmZlciB0aGF0IHRoaXMgYXR0cmlidXRlIHdpbGwgbG9vayBmb3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemU9MF0gLSB0aGUgc2l6ZSBvZiB0aGUgYXR0cmlidXRlLiBJZiB5b3UgaGF2ZSAyIGZsb2F0cyBwZXIgdmVydGV4IChlZyBwb3NpdGlvbiB4IGFuZCB5KSB0aGlzIHdvdWxkIGJlIDJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtub3JtYWxpemVkPWZhbHNlXSAtIHNob3VsZCB0aGUgZGF0YSBiZSBub3JtYWxpemVkLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdHlwZT1QSVhJLlRZUEVTLkZMT0FUXSAtIHdoYXQgdHlwZSBvZiBudW1iZXIgaXMgdGhlIGF0dHJpYnV0ZS4gQ2hlY2sge0BsaW5rIFBJWEkuVFlQRVN9IHRvIHNlZSB0aGUgb25lcyBhdmFpbGFibGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3N0cmlkZT0wXSAtIEhvdyBmYXIgYXBhcnQgKGluIGZsb2F0cykgdGhlIHN0YXJ0IG9mIGVhY2ggdmFsdWUgaXMuICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkF0dHJpYnV0ZX0gQSBuZXcge0BsaW5rIFBJWEkuQXR0cmlidXRlfSBiYXNlZCBvbiB0aGUgaW5mb3JtYXRpb24gcHJvdmlkZWRcbiAgICAgKi9cbiAgICBBdHRyaWJ1dGUuZnJvbSA9IGZ1bmN0aW9uIChidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSkge1xuICAgICAgICByZXR1cm4gbmV3IEF0dHJpYnV0ZShidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSk7XG4gICAgfTtcbiAgICByZXR1cm4gQXR0cmlidXRlO1xufSgpKTtcblxudmFyIFVJRCA9IDA7XG4vKipcbiAqIEEgd3JhcHBlciBmb3IgZGF0YSBzbyB0aGF0IGl0IGNhbiBiZSB1c2VkIGFuZCB1cGxvYWRlZCBieSBXZWJHTFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJ1ZmZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfCBTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IGRhdGEgLSB0aGUgZGF0YSB0byBzdG9yZSBpbiB0aGUgYnVmZmVyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW19zdGF0aWM9dHJ1ZV0gLSBgdHJ1ZWAgZm9yIHN0YXRpYyBidWZmZXJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbmRleD1mYWxzZV0gLSBgdHJ1ZWAgZm9yIGluZGV4IGJ1ZmZlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJ1ZmZlcihkYXRhLCBfc3RhdGljLCBpbmRleCkge1xuICAgICAgICBpZiAoX3N0YXRpYyA9PT0gdm9pZCAwKSB7IF9zdGF0aWMgPSB0cnVlOyB9XG4gICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gZmFsc2U7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIGluIHRoZSBidWZmZXIsIGFzIGEgdHlwZWQgYXJyYXlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyIHwgQXJyYXlCdWZmZXJWaWV3fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gKGRhdGEgfHwgbmV3IEZsb2F0MzJBcnJheSgxKSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBvZiByZW5kZXJlciBJRHMgdG8gd2ViZ2wgYnVmZmVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdDxudW1iZXIsIEdMQnVmZmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2dsQnVmZmVycyA9IHt9O1xuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5zdGF0aWMgPSBfc3RhdGljO1xuICAgICAgICB0aGlzLmlkID0gVUlEKys7XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoJ2Rpc3Bvc2VCdWZmZXInKTtcbiAgICB9XG4gICAgLy8gVE9ETyBjb3VsZCBleHBsb3JlIGZsYWdnaW5nIG9ubHkgYSBwYXJ0aWFsIHVwbG9hZD9cbiAgICAvKipcbiAgICAgKiBmbGFncyB0aGlzIGJ1ZmZlciBhcyByZXF1aXJpbmcgYW4gdXBsb2FkIHRvIHRoZSBHUFVcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld30gW2RhdGFdIC0gdGhlIGRhdGEgdG8gdXBkYXRlIGluIHRoZSBidWZmZXIuXG4gICAgICovXG4gICAgQnVmZmVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhIHx8IHRoaXMuZGF0YTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGRpc3Bvc2VzIFdlYkdMIHJlc291cmNlcyB0aGF0IGFyZSBjb25uZWN0ZWQgdG8gdGhpcyBnZW9tZXRyeVxuICAgICAqL1xuICAgIEJ1ZmZlci5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyLmVtaXQodGhpcywgZmFsc2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGJ1ZmZlclxuICAgICAqL1xuICAgIEJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgYnVmZmVyIGJhc2VkIG9uIGFuIGFycmF5IG9yIFR5cGVkQXJyYXlcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyVmlldyB8IG51bWJlcltdfSBkYXRhIC0gdGhlIFR5cGVkQXJyYXkgdGhhdCB0aGUgYnVmZmVyIHdpbGwgc3RvcmUuIElmIHRoaXMgaXMgYSByZWd1bGFyIEFycmF5IGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgRmxvYXQzMkFycmF5LlxuICAgICAqIEByZXR1cm4ge1BJWEkuQnVmZmVyfSBBIG5ldyBCdWZmZXIgYmFzZWQgb24gdGhlIGRhdGEgcHJvdmlkZWQuXG4gICAgICovXG4gICAgQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBkYXRhID0gbmV3IEZsb2F0MzJBcnJheShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlcihkYXRhKTtcbiAgICB9O1xuICAgIHJldHVybiBCdWZmZXI7XG59KCkpO1xuXG5mdW5jdGlvbiBnZXRCdWZmZXJUeXBlKGFycmF5KSB7XG4gICAgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSA0KSB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuICdGbG9hdDMyQXJyYXknO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDMyQXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDMyQXJyYXknO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnSW50MzJBcnJheSc7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSAyKSB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQxNkFycmF5JztcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMSkge1xuICAgICAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQ4QXJyYXknO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFRPRE8gbWFwIG91dCB0aGUgcmVzdCBvZiB0aGUgYXJyYXkgZWxlbWVudHMhXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG9iamVjdC1zaG9ydGhhbmQgKi9cbnZhciBtYXAgPSB7XG4gICAgRmxvYXQzMkFycmF5OiBGbG9hdDMyQXJyYXksXG4gICAgVWludDMyQXJyYXk6IFVpbnQzMkFycmF5LFxuICAgIEludDMyQXJyYXk6IEludDMyQXJyYXksXG4gICAgVWludDhBcnJheTogVWludDhBcnJheSxcbn07XG5mdW5jdGlvbiBpbnRlcmxlYXZlVHlwZWRBcnJheXMoYXJyYXlzLCBzaXplcykge1xuICAgIHZhciBvdXRTaXplID0gMDtcbiAgICB2YXIgc3RyaWRlID0gMDtcbiAgICB2YXIgdmlld3MgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzdHJpZGUgKz0gc2l6ZXNbaV07XG4gICAgICAgIG91dFNpemUgKz0gYXJyYXlzW2ldLmxlbmd0aDtcbiAgICB9XG4gICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihvdXRTaXplICogNCk7XG4gICAgdmFyIG91dCA9IG51bGw7XG4gICAgdmFyIGxpdHRsZU9mZnNldCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNpemUgPSBzaXplc1tpXTtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW2ldO1xuICAgICAgICB2YXIgdHlwZSA9IGdldEJ1ZmZlclR5cGUoYXJyYXkpO1xuICAgICAgICBpZiAoIXZpZXdzW3R5cGVdKSB7XG4gICAgICAgICAgICB2aWV3c1t0eXBlXSA9IG5ldyBtYXBbdHlwZV0oYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBvdXQgPSB2aWV3c1t0eXBlXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhcnJheS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIGluZGV4U3RhcnQgPSAoKGogLyBzaXplIHwgMCkgKiBzdHJpZGUpICsgbGl0dGxlT2Zmc2V0O1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaiAlIHNpemU7XG4gICAgICAgICAgICBvdXRbaW5kZXhTdGFydCArIGluZGV4XSA9IGFycmF5W2pdO1xuICAgICAgICB9XG4gICAgICAgIGxpdHRsZU9mZnNldCArPSBzaXplO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xufVxuXG52YXIgYnl0ZVNpemVNYXAgPSB7IDUxMjY6IDQsIDUxMjM6IDIsIDUxMjE6IDEgfTtcbnZhciBVSUQkMSA9IDA7XG4vKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG52YXIgbWFwJDEgPSB7XG4gICAgRmxvYXQzMkFycmF5OiBGbG9hdDMyQXJyYXksXG4gICAgVWludDMyQXJyYXk6IFVpbnQzMkFycmF5LFxuICAgIEludDMyQXJyYXk6IEludDMyQXJyYXksXG4gICAgVWludDhBcnJheTogVWludDhBcnJheSxcbiAgICBVaW50MTZBcnJheTogVWludDE2QXJyYXksXG59O1xuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuLyoqXG4gKiBUaGUgR2VvbWV0cnkgcmVwcmVzZW50cyBhIG1vZGVsLiBJdCBjb25zaXN0cyBvZiB0d28gY29tcG9uZW50czpcbiAqIC0gR2VvbWV0cnlTdHlsZSAtIFRoZSBzdHJ1Y3R1cmUgb2YgdGhlIG1vZGVsIHN1Y2ggYXMgdGhlIGF0dHJpYnV0ZXMgbGF5b3V0XG4gKiAtIEdlb21ldHJ5RGF0YSAtIHRoZSBkYXRhIG9mIHRoZSBtb2RlbCAtIHRoaXMgY29uc2lzdHMgb2YgYnVmZmVycy5cbiAqIFRoaXMgY2FuIGluY2x1ZGUgYW55dGhpbmcgZnJvbSBwb3NpdGlvbnMsIHV2cywgbm9ybWFscywgY29sb3JzIGV0Yy5cbiAqXG4gKiBHZW9tZXRyeSBjYW4gYmUgZGVmaW5lZCB3aXRob3V0IHBhc3NpbmcgaW4gYSBzdHlsZSBvciBkYXRhIGlmIHJlcXVpcmVkICh0aGF0cyBob3cgSSBwcmVmZXIhKVxuICpcbiAqIGBgYGpzXG4gKiBsZXQgZ2VvbWV0cnkgPSBuZXcgUElYSS5HZW9tZXRyeSgpO1xuICpcbiAqIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgncG9zaXRpb25zJywgWzAsIDAsIDEwMCwgMCwgMTAwLCAxMDAsIDAsIDEwMF0sIDIpO1xuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCd1dnMnLCBbMCwwLDEsMCwxLDEsMCwxXSwyKVxuICogZ2VvbWV0cnkuYWRkSW5kZXgoWzAsMSwyLDEsMywyXSlcbiAqXG4gKiBgYGBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJbXX0gW2J1ZmZlcnNdIC0gYW4gYXJyYXkgb2YgYnVmZmVycy4gb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFthdHRyaWJ1dGVzXSAtIG9mIHRoZSBnZW9tZXRyeSwgb3B0aW9uYWwgc3RydWN0dXJlIG9mIHRoZSBhdHRyaWJ1dGVzIGxheW91dFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdlb21ldHJ5KGJ1ZmZlcnMsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKGJ1ZmZlcnMgPT09IHZvaWQgMCkgeyBidWZmZXJzID0gW107IH1cbiAgICAgICAgaWYgKGF0dHJpYnV0ZXMgPT09IHZvaWQgMCkgeyBhdHRyaWJ1dGVzID0ge307IH1cbiAgICAgICAgdGhpcy5idWZmZXJzID0gYnVmZmVycztcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBvZiByZW5kZXJlciBJRHMgdG8gd2ViZ2wgVkFPc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsVmVydGV4QXJyYXlPYmplY3RzID0ge307XG4gICAgICAgIHRoaXMuaWQgPSBVSUQkMSsrO1xuICAgICAgICB0aGlzLmluc3RhbmNlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGluc3RhbmNlcyBpbiB0aGlzIGdlb21ldHJ5LCBwYXNzIGl0IHRvIGBHZW9tZXRyeVN5c3RlbS5kcmF3KClgXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnN0YW5jZUNvdW50ID0gMTtcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyID0gbmV3IFJ1bm5lcignZGlzcG9zZUdlb21ldHJ5Jyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3VudCBvZiBleGlzdGluZyAobm90IGRlc3Ryb3llZCkgbWVzaGVzIHRoYXQgcmVmZXJlbmNlIHRoaXMgZ2VvbWV0cnlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZWZDb3VudCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICpcbiAgICAqIEFkZHMgYW4gYXR0cmlidXRlIHRvIHRoZSBnZW9tZXRyeVxuICAgICogTm90ZTogYHN0cmlkZWAgYW5kIGBzdGFydGAgc2hvdWxkIGJlIGB1bmRlZmluZWRgIGlmIHlvdSBkb250IGtub3cgdGhlbSwgbm90IDAhXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSAobWF0Y2hpbmcgdXAgdG8gYSBzaGFkZXIpXG4gICAgKiBAcGFyYW0ge1BJWEkuQnVmZmVyfG51bWJlcltdfSBbYnVmZmVyXSAtIHRoZSBidWZmZXIgdGhhdCBob2xkcyB0aGUgZGF0YSBvZiB0aGUgYXR0cmlidXRlIC4gWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gQXJyYXkgYW5kIGEgYnVmZmVyIHdpbGwgYmUgY3JlYXRlZCBmcm9tIGl0LlxuICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzaXplPTBdIC0gdGhlIHNpemUgb2YgdGhlIGF0dHJpYnV0ZS4gSWYgeW91IGhhdmUgMiBmbG9hdHMgcGVyIHZlcnRleCAoZWcgcG9zaXRpb24geCBhbmQgeSkgdGhpcyB3b3VsZCBiZSAyXG4gICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtub3JtYWxpemVkPWZhbHNlXSAtIHNob3VsZCB0aGUgZGF0YSBiZSBub3JtYWxpemVkLlxuICAgICogQHBhcmFtIHtOdW1iZXJ9IFt0eXBlPVBJWEkuVFlQRVMuRkxPQVRdIC0gd2hhdCB0eXBlIG9mIG51bWJlciBpcyB0aGUgYXR0cmlidXRlLiBDaGVjayB7UElYSS5UWVBFU30gdG8gc2VlIHRoZSBvbmVzIGF2YWlsYWJsZVxuICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdHJpZGVdIC0gSG93IGZhciBhcGFydCAoaW4gZmxvYXRzKSB0aGUgc3RhcnQgb2YgZWFjaCB2YWx1ZSBpcy4gKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydF0gLSBIb3cgZmFyIGludG8gdGhlIGFycmF5IHRvIHN0YXJ0IHJlYWRpbmcgdmFsdWVzICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luc3RhbmNlPWZhbHNlXSAtIEluc3RhbmNpbmcgZmxhZ1xuICAgICpcbiAgICAqIEByZXR1cm4ge1BJWEkuR2VvbWV0cnl9IHJldHVybnMgc2VsZiwgdXNlZnVsIGZvciBjaGFpbmluZy5cbiAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5hZGRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoaWQsIGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlLCBzdGFydCwgaW5zdGFuY2UpIHtcbiAgICAgICAgaWYgKHNpemUgPT09IHZvaWQgMCkgeyBzaXplID0gMDsgfVxuICAgICAgICBpZiAobm9ybWFsaXplZCA9PT0gdm9pZCAwKSB7IG5vcm1hbGl6ZWQgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoaW5zdGFuY2UgPT09IHZvaWQgMCkgeyBpbnN0YW5jZSA9IGZhbHNlOyB9XG4gICAgICAgIGlmICghYnVmZmVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYSBidWZmZXIgd2hlbiBjcmVhdGluZyBhbiBhdHRyaWJ1dGUnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBpZiB0aGlzIGlzIGEgYnVmZmVyIVxuICAgICAgICBpZiAoIShidWZmZXIgaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG4gICAgICAgICAgICAvLyBpdHMgYW4gYXJyYXkhXG4gICAgICAgICAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBidWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWZmZXIgPSBuZXcgQnVmZmVyKGJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlkcyA9IGlkLnNwbGl0KCd8Jyk7XG4gICAgICAgIGlmIChpZHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZShpZHNbaV0sIGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmZmVySW5kZXggPSB0aGlzLmJ1ZmZlcnMuaW5kZXhPZihidWZmZXIpO1xuICAgICAgICBpZiAoYnVmZmVySW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaChidWZmZXIpO1xuICAgICAgICAgICAgYnVmZmVySW5kZXggPSB0aGlzLmJ1ZmZlcnMubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF0dHJpYnV0ZXNbaWRdID0gbmV3IEF0dHJpYnV0ZShidWZmZXJJbmRleCwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlLCBzdGFydCwgaW5zdGFuY2UpO1xuICAgICAgICAvLyBhc3N1bWluZyB0aGF0IGlmIHRoZXJlIGlzIGluc3RhbmNlZCBkYXRhIHRoZW4gdGhpcyB3aWxsIGJlIGRyYXduIHdpdGggaW5zdGFuY2luZyFcbiAgICAgICAgdGhpcy5pbnN0YW5jZWQgPSB0aGlzLmluc3RhbmNlZCB8fCBpbnN0YW5jZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSByZXF1ZXN0ZWQgYXR0cmlidXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgLSB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHJlcXVpcmVkXG4gICAgICogQHJldHVybiB7UElYSS5BdHRyaWJ1dGV9IHRoZSBhdHRyaWJ1dGUgcmVxdWVzdGVkLlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlc1tpZF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSByZXF1ZXN0ZWQgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgLSB0aGUgbmFtZSBvZiB0aGUgYnVmZmVyIHJlcXVpcmVkXG4gICAgICogQHJldHVybiB7UElYSS5CdWZmZXJ9IHRoZSBidWZmZXIgcmVxdWVzdGVkLlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5nZXRCdWZmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyc1t0aGlzLmdldEF0dHJpYnV0ZShpZCkuYnVmZmVyXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICpcbiAgICAqIEFkZHMgYW4gaW5kZXggYnVmZmVyIHRvIHRoZSBnZW9tZXRyeVxuICAgICogVGhlIGluZGV4IGJ1ZmZlciBjb250YWlucyBpbnRlZ2VycywgdGhyZWUgZm9yIGVhY2ggdHJpYW5nbGUgaW4gdGhlIGdlb21ldHJ5LCB3aGljaCByZWZlcmVuY2UgdGhlIHZhcmlvdXMgYXR0cmlidXRlIGJ1ZmZlcnMgKHBvc2l0aW9uLCBjb2xvdXIsIFVWIGNvb3JkaW5hdGVzLCBvdGhlciBVViBjb29yZGluYXRlcywgbm9ybWFsLCDigKYpLiBUaGVyZSBpcyBvbmx5IE9ORSBpbmRleCBidWZmZXIuXG4gICAgKlxuICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcnxudW1iZXJbXX0gW2J1ZmZlcl0gLSB0aGUgYnVmZmVyIHRoYXQgaG9sZHMgdGhlIGRhdGEgb2YgdGhlIGluZGV4IGJ1ZmZlci4gWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gQXJyYXkgYW5kIGEgYnVmZmVyIHdpbGwgYmUgY3JlYXRlZCBmcm9tIGl0LlxuICAgICogQHJldHVybiB7UElYSS5HZW9tZXRyeX0gcmV0dXJucyBzZWxmLCB1c2VmdWwgZm9yIGNoYWluaW5nLlxuICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmFkZEluZGV4ID0gZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICBpZiAoIShidWZmZXIgaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG4gICAgICAgICAgICAvLyBpdHMgYW4gYXJyYXkhXG4gICAgICAgICAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBidWZmZXIgPSBuZXcgVWludDE2QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBCdWZmZXIoYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBidWZmZXIuaW5kZXggPSB0cnVlO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gYnVmZmVyO1xuICAgICAgICBpZiAodGhpcy5idWZmZXJzLmluZGV4T2YoYnVmZmVyKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSBpbmRleCBidWZmZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuQnVmZmVyfSB0aGUgaW5kZXggYnVmZmVyLlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5nZXRJbmRleCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhCdWZmZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIG1vZGlmaWVzIHRoZSBzdHJ1Y3R1cmUgc28gdGhhdCBhbGwgY3VycmVudCBhdHRyaWJ1dGVzIGJlY29tZSBpbnRlcmxlYXZlZCBpbnRvIGEgc2luZ2xlIGJ1ZmZlclxuICAgICAqIFRoaXMgY2FuIGJlIHVzZWZ1bCBpZiB5b3VyIG1vZGVsIHJlbWFpbnMgc3RhdGljIGFzIGl0IG9mZmVycyBhIGxpdHRsZSBwZXJmb3JtYW5jZSBib29zdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HZW9tZXRyeX0gcmV0dXJucyBzZWxmLCB1c2VmdWwgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5pbnRlcmxlYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBhIHNpbXBsZSBjaGVjayB0byBzZWUgaWYgYnVmZmVycyBhcmUgYWxyZWFkeSBpbnRlcmxlYXZlZC4uXG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlcnMubGVuZ3RoID09PSAxIHx8ICh0aGlzLmJ1ZmZlcnMubGVuZ3RoID09PSAyICYmIHRoaXMuaW5kZXhCdWZmZXIpKVxuICAgICAgICAgICAgeyByZXR1cm4gdGhpczsgfVxuICAgICAgICAvLyBhc3N1bWUgYWxyZWFkeSB0aGF0IG5vIGJ1ZmZlcnMgYXJlIGludGVybGVhdmVkXG4gICAgICAgIHZhciBhcnJheXMgPSBbXTtcbiAgICAgICAgdmFyIHNpemVzID0gW107XG4gICAgICAgIHZhciBpbnRlcmxlYXZlZEJ1ZmZlciA9IG5ldyBCdWZmZXIoKTtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSBpbiB0aGlzLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSB0aGlzLmF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXJzW2F0dHJpYnV0ZS5idWZmZXJdO1xuICAgICAgICAgICAgYXJyYXlzLnB1c2goYnVmZmVyLmRhdGEpO1xuICAgICAgICAgICAgc2l6ZXMucHVzaCgoYXR0cmlidXRlLnNpemUgKiBieXRlU2l6ZU1hcFthdHRyaWJ1dGUudHlwZV0pIC8gNCk7XG4gICAgICAgICAgICBhdHRyaWJ1dGUuYnVmZmVyID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpbnRlcmxlYXZlZEJ1ZmZlci5kYXRhID0gaW50ZXJsZWF2ZVR5cGVkQXJyYXlzKGFycmF5cywgc2l6ZXMpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5idWZmZXJzW2ldICE9PSB0aGlzLmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBbaW50ZXJsZWF2ZWRCdWZmZXJdO1xuICAgICAgICBpZiAodGhpcy5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJzLnB1c2godGhpcy5pbmRleEJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSB0aGlzLmF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXJzW2F0dHJpYnV0ZS5idWZmZXJdO1xuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlci5kYXRhLmxlbmd0aCAvICgoYXR0cmlidXRlLnN0cmlkZSAvIDQpIHx8IGF0dHJpYnV0ZS5zaXplKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGRpc3Bvc2VzIFdlYkdMIHJlc291cmNlcyB0aGF0IGFyZSBjb25uZWN0ZWQgdG8gdGhpcyBnZW9tZXRyeVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIuZW1pdCh0aGlzLCBmYWxzZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgZ2VvbWV0cnkuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJldHVybnMgYSBjbG9uZSBvZiB0aGUgZ2VvbWV0cnlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkdlb21ldHJ5fSBhIG5ldyBjbG9uZSBvZiB0aGlzIGdlb21ldHJ5XG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGdlb21ldHJ5LmJ1ZmZlcnNbaV0gPSBuZXcgQnVmZmVyKHRoaXMuYnVmZmVyc1tpXS5kYXRhLnNsaWNlKDApKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYiA9IHRoaXMuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmF0dHJpYnV0ZXNbaV0gPSBuZXcgQXR0cmlidXRlKGF0dHJpYi5idWZmZXIsIGF0dHJpYi5zaXplLCBhdHRyaWIubm9ybWFsaXplZCwgYXR0cmliLnR5cGUsIGF0dHJpYi5zdHJpZGUsIGF0dHJpYi5zdGFydCwgYXR0cmliLmluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgZ2VvbWV0cnkuaW5kZXhCdWZmZXIgPSBnZW9tZXRyeS5idWZmZXJzW3RoaXMuYnVmZmVycy5pbmRleE9mKHRoaXMuaW5kZXhCdWZmZXIpXTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmluZGV4QnVmZmVyLmluZGV4ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBtZXJnZXMgYW4gYXJyYXkgb2YgZ2VvbWV0cmllcyBpbnRvIGEgbmV3IHNpbmdsZSBvbmVcbiAgICAgKiBnZW9tZXRyeSBhdHRyaWJ1dGUgc3R5bGVzIG11c3QgbWF0Y2ggZm9yIHRoaXMgb3BlcmF0aW9uIHRvIHdvcmtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeVtdfSBnZW9tZXRyaWVzIC0gYXJyYXkgb2YgZ2VvbWV0cmllcyB0byBtZXJnZVxuICAgICAqIEByZXR1cm5zIHtQSVhJLkdlb21ldHJ5fSBzaGlueSBuZXcgZ2VvbWV0cnkhXG4gICAgICovXG4gICAgR2VvbWV0cnkubWVyZ2UgPSBmdW5jdGlvbiAoZ2VvbWV0cmllcykge1xuICAgICAgICAvLyB0b2RvIGFkZCBhIGdlb21ldHJ5IGNoZWNrIVxuICAgICAgICAvLyBhbHNvIGEgc2l6ZSBjaGVjay4uIGNhbnQgYmUgdG9vIGJpZyFdXG4gICAgICAgIHZhciBnZW9tZXRyeU91dCA9IG5ldyBHZW9tZXRyeSgpO1xuICAgICAgICB2YXIgYXJyYXlzID0gW107XG4gICAgICAgIHZhciBzaXplcyA9IFtdO1xuICAgICAgICB2YXIgb2Zmc2V0cyA9IFtdO1xuICAgICAgICB2YXIgZ2VvbWV0cnk7XG4gICAgICAgIC8vIHBhc3Mgb25lLi4gZ2V0IHNpemVzLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBzaXplc1tqXSA9IHNpemVzW2pdIHx8IDA7XG4gICAgICAgICAgICAgICAgc2l6ZXNbal0gKz0gZ2VvbWV0cnkuYnVmZmVyc1tqXS5kYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBvZmZzZXRzW2pdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBidWlsZCB0aGUgY29ycmVjdCBzaXplIGFycmF5cy4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gVE9ETyB0eXBlcyFcbiAgICAgICAgICAgIGFycmF5c1tpXSA9IG5ldyBtYXAkMVtnZXRCdWZmZXJUeXBlKGdlb21ldHJ5LmJ1ZmZlcnNbaV0uZGF0YSldKHNpemVzW2ldKTtcbiAgICAgICAgICAgIGdlb21ldHJ5T3V0LmJ1ZmZlcnNbaV0gPSBuZXcgQnVmZmVyKGFycmF5c1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFzcyB0byBzZXQgZGF0YS4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgYXJyYXlzW2pdLnNldChnZW9tZXRyeS5idWZmZXJzW2pdLmRhdGEsIG9mZnNldHNbal0pO1xuICAgICAgICAgICAgICAgIG9mZnNldHNbal0gKz0gZ2VvbWV0cnkuYnVmZmVyc1tqXS5kYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnZW9tZXRyeU91dC5hdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICBnZW9tZXRyeU91dC5pbmRleEJ1ZmZlciA9IGdlb21ldHJ5T3V0LmJ1ZmZlcnNbZ2VvbWV0cnkuYnVmZmVycy5pbmRleE9mKGdlb21ldHJ5LmluZGV4QnVmZmVyKV07XG4gICAgICAgICAgICBnZW9tZXRyeU91dC5pbmRleEJ1ZmZlci5pbmRleCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIHZhciBzdHJpZGUgPSAwO1xuICAgICAgICAgICAgdmFyIG9mZnNldDIgPSAwO1xuICAgICAgICAgICAgdmFyIGJ1ZmZlckluZGV4VG9Db3VudCA9IDA7XG4gICAgICAgICAgICAvLyBnZXQgYSBidWZmZXJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChnZW9tZXRyeS5idWZmZXJzW2ldICE9PSBnZW9tZXRyeS5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICBidWZmZXJJbmRleFRvQ291bnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBmaWd1cmUgb3V0IHRoZSBzdHJpZGUgb2Ygb25lIGJ1ZmZlci4uXG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gZ2VvbWV0cnkuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoKGF0dHJpYnV0ZS5idWZmZXIgfCAwKSA9PT0gYnVmZmVySW5kZXhUb0NvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmlkZSArPSAoKGF0dHJpYnV0ZS5zaXplICogYnl0ZVNpemVNYXBbYXR0cmlidXRlLnR5cGVdKSAvIDQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRpbWUgdG8gb2ZmIHNldCBhbGwgaW5kZXhlcy4uXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXhCdWZmZXJEYXRhID0gZ2VvbWV0cmllc1tpXS5pbmRleEJ1ZmZlci5kYXRhO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaW5kZXhCdWZmZXJEYXRhLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5T3V0LmluZGV4QnVmZmVyLmRhdGFbaiArIG9mZnNldDJdICs9IG9mZnNldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGdlb21ldHJ5LmJ1ZmZlcnNbYnVmZmVySW5kZXhUb0NvdW50XS5kYXRhLmxlbmd0aCAvIChzdHJpZGUpO1xuICAgICAgICAgICAgICAgIG9mZnNldDIgKz0gaW5kZXhCdWZmZXJEYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2VvbWV0cnlPdXQ7XG4gICAgfTtcbiAgICByZXR1cm4gR2VvbWV0cnk7XG59KCkpO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBxdWFkXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUXVhZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUXVhZCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBRdWFkKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgMCwgMCxcbiAgICAgICAgICAgIDEsIDAsXG4gICAgICAgICAgICAxLCAxLFxuICAgICAgICAgICAgMCwgMSBdKSlcbiAgICAgICAgICAgIC5hZGRJbmRleChbMCwgMSwgMywgMl0pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBRdWFkO1xufShHZW9tZXRyeSkpO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBxdWFkIHdpdGggdXZzIGxpa2UgaW4gdjRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLkdlb21ldHJ5XG4gKi9cbnZhciBRdWFkVXYgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFF1YWRVdiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBRdWFkVXYoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiB2ZXJ0aWNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgLTEsIC0xLFxuICAgICAgICAgICAgMSwgLTEsXG4gICAgICAgICAgICAxLCAxLFxuICAgICAgICAgICAgLTEsIDEgXSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgVXZzIG9mIHRoZSBxdWFkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgMCwgMCxcbiAgICAgICAgICAgIDEsIDAsXG4gICAgICAgICAgICAxLCAxLFxuICAgICAgICAgICAgMCwgMSBdKTtcbiAgICAgICAgX3RoaXMudmVydGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihfdGhpcy52ZXJ0aWNlcyk7XG4gICAgICAgIF90aGlzLnV2QnVmZmVyID0gbmV3IEJ1ZmZlcihfdGhpcy51dnMpO1xuICAgICAgICBfdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIF90aGlzLnZlcnRleEJ1ZmZlcilcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FUZXh0dXJlQ29vcmQnLCBfdGhpcy51dkJ1ZmZlcilcbiAgICAgICAgICAgIC5hZGRJbmRleChbMCwgMSwgMiwgMCwgMiwgM10pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hcHMgdHdvIFJlY3RhbmdsZSB0byB0aGUgcXVhZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHRhcmdldFRleHR1cmVGcmFtZSAtIHRoZSBmaXJzdCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gdGhlIHNlY29uZCByZWN0YW5nbGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlF1YWR9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFF1YWRVdi5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKHRhcmdldFRleHR1cmVGcmFtZSwgZGVzdGluYXRpb25GcmFtZSkge1xuICAgICAgICB2YXIgeCA9IDA7IC8vIGRlc3RpbmF0aW9uRnJhbWUueCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIHkgPSAwOyAvLyBkZXN0aW5hdGlvbkZyYW1lLnkgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0O1xuICAgICAgICB0aGlzLnV2c1swXSA9IHg7XG4gICAgICAgIHRoaXMudXZzWzFdID0geTtcbiAgICAgICAgdGhpcy51dnNbMl0gPSB4ICsgKGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGgpO1xuICAgICAgICB0aGlzLnV2c1szXSA9IHk7XG4gICAgICAgIHRoaXMudXZzWzRdID0geCArIChkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoKTtcbiAgICAgICAgdGhpcy51dnNbNV0gPSB5ICsgKGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodCk7XG4gICAgICAgIHRoaXMudXZzWzZdID0geDtcbiAgICAgICAgdGhpcy51dnNbN10gPSB5ICsgKGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodCk7XG4gICAgICAgIHggPSBkZXN0aW5hdGlvbkZyYW1lLng7XG4gICAgICAgIHkgPSBkZXN0aW5hdGlvbkZyYW1lLnk7XG4gICAgICAgIHRoaXMudmVydGljZXNbMF0gPSB4O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzFdID0geTtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1syXSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzNdID0geTtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s0XSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzVdID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzZdID0geDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s3XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogbGVnYWN5IHVwbG9hZCBtZXRob2QsIGp1c3QgbWFya3MgYnVmZmVycyBkaXJ0eVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlF1YWRVdn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUXVhZFV2LnByb3RvdHlwZS5pbnZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlci5fdXBkYXRlSUQrKztcbiAgICAgICAgdGhpcy51dkJ1ZmZlci5fdXBkYXRlSUQrKztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gUXVhZFV2O1xufShHZW9tZXRyeSkpO1xuXG52YXIgVUlEJDIgPSAwO1xuLyoqXG4gKiBVbmlmb3JtIGdyb3VwIGhvbGRzIHVuaWZvcm0gbWFwIGFuZCBzb21lIElEJ3MgZm9yIHdvcmtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBVbmlmb3JtR3JvdXAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbX3N0YXRpY10gLSBVbmlmb3JtcyB3b250IGJlIGNoYW5nZWQgYWZ0ZXIgY3JlYXRpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBVbmlmb3JtR3JvdXAodW5pZm9ybXMsIF9zdGF0aWMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVuaWZvcm0gdmFsdWVzXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVuaWZvcm1zID0gdW5pZm9ybXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJdHMgYSBncm91cCBhbmQgbm90IGEgc2luZ2xlIHVuaWZvcm1zXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdyb3VwID0gdHJ1ZTtcbiAgICAgICAgLy8gbGV0cyBnZW5lcmF0ZSB0aGlzIHdoZW4gdGhlIHNoYWRlciA/XG4gICAgICAgIHRoaXMuc3luY1VuaWZvcm1zID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkaXJ0eSB2ZXJzaW9uXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eUlkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVuaXF1ZSBpZFxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaWQgPSBVSUQkMisrO1xuICAgICAgICAvKipcbiAgICAgICAgICogVW5pZm9ybXMgd29udCBiZSBjaGFuZ2VkIGFmdGVyIGNyZWF0aW9uXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRpYyA9ICEhX3N0YXRpYztcbiAgICB9XG4gICAgVW5pZm9ybUdyb3VwLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgIH07XG4gICAgVW5pZm9ybUdyb3VwLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAobmFtZSwgdW5pZm9ybXMsIF9zdGF0aWMpIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtc1tuYW1lXSA9IG5ldyBVbmlmb3JtR3JvdXAodW5pZm9ybXMsIF9zdGF0aWMpO1xuICAgIH07XG4gICAgVW5pZm9ybUdyb3VwLmZyb20gPSBmdW5jdGlvbiAodW5pZm9ybXMsIF9zdGF0aWMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVbmlmb3JtR3JvdXAodW5pZm9ybXMsIF9zdGF0aWMpO1xuICAgIH07XG4gICAgcmV0dXJuIFVuaWZvcm1Hcm91cDtcbn0oKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGZpbHRlciBzdGF0ZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgRmlsdGVyU3RhdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmlsdGVyU3RhdGUoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUYXJnZXQgb2YgdGhlIGZpbHRlcnNcbiAgICAgICAgICogV2Ugc3RvcmUgZm9yIGNhc2Ugd2hlbiBjdXN0b20gZmlsdGVyIHdhbnRzIHRvIGtub3cgdGhlIGVsZW1lbnQgaXQgd2FzIGFwcGxpZWQgb25cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29tcGF0aWJpbGl0eSB3aXRoIFBpeGlKUyB2NCBmaWx0ZXJzXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxlZ2FjeSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVzb2x1dGlvbiBvZiBmaWx0ZXJzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gMTtcbiAgICAgICAgLy8gbmV4dCB0aHJlZSBmaWVsZHMgYXJlIGNyZWF0ZWQgb25seSBmb3Igcm9vdFxuICAgICAgICAvLyByZS1hc3NpZ25lZCBmb3IgZXZlcnl0aGluZyBlbHNlXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTb3VyY2UgZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvdXJjZUZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVzdGluYXRpb24gZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVycyA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjbGVhcnMgdGhlIHN0YXRlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBGaWx0ZXJTdGF0ZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWx0ZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBGaWx0ZXJTdGF0ZTtcbn0oKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRoZSBmaWx0ZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqL1xudmFyIEZpbHRlclN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRmlsdGVyU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZpbHRlclN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgZmlsdGVycyBmb3IgdGhlIEZpbHRlclN5c3RlbVxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3RbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2sgPSBbe31dO1xuICAgICAgICAvKipcbiAgICAgICAgICogc3RvcmVzIGEgYnVuY2ggb2YgUE8yIHRleHR1cmVzIHVzZWQgZm9yIGZpbHRlcmluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlUG9vbCA9IG5ldyBSZW5kZXJUZXh0dXJlUG9vbCgpO1xuICAgICAgICBfdGhpcy50ZXh0dXJlUG9vbC5zZXRTY3JlZW5TaXplKHJlbmRlcmVyLnZpZXcpO1xuICAgICAgICAvKipcbiAgICAgICAgICogYSBwb29sIGZvciBzdG9yaW5nIGZpbHRlciBzdGF0ZXMsIHNhdmUgdXMgY3JlYXRpbmcgbmV3IG9uZXMgZWFjaCB0aWNrXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGVQb29sID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHZlcnkgc2ltcGxlIGdlb21ldHJ5IHVzZWQgd2hlbiBkcmF3aW5nIGEgZmlsdGVyIGVmZmVjdCB0byB0aGUgc2NyZWVuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUXVhZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnF1YWQgPSBuZXcgUXVhZCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogUXVhZCBVVnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5RdWFkVXZ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5xdWFkVXYgPSBuZXcgUXVhZFV2KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZW1wb3JhcnkgcmVjdCBmb3IgbWF0aHNcbiAgICAgICAgICogQHR5cGUge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGVtcFJlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmUgc3RhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWN0aXZlU3RhdGUgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgdW5pZm9ybSBncm91cCBpcyBhdHRhY2hlZCB0byBmaWx0ZXIgdW5pZm9ybXMgd2hlbiB1c2VkXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVW5pZm9ybUdyb3VwfVxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUmVjdGFuZ2xlfSBvdXRwdXRGcmFtZVxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2F0MzJBcnJheX0gaW5wdXRTaXplXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYXQzMkFycmF5fSBpbnB1dFBpeGVsXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYXQzMkFycmF5fSBpbnB1dENsYW1wXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSByZXNvbHV0aW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYXQzMkFycmF5fSBmaWx0ZXJBcmVhXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYWQzMkFycmF5fSBmaWx0ZXJDbGFtcFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2xvYmFsVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgICAgICAgIG91dHB1dEZyYW1lOiBfdGhpcy50ZW1wUmVjdCxcbiAgICAgICAgICAgIGlucHV0U2l6ZTogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGlucHV0UGl4ZWw6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICBpbnB1dENsYW1wOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgICAgIC8vIGxlZ2FjeSB2YXJpYWJsZXNcbiAgICAgICAgICAgIGZpbHRlckFyZWE6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICBmaWx0ZXJDbGFtcDogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRvIGNsZWFyIG91dHB1dCByZW5kZXJUZXh0dXJlIGluIEFVVE8vQkxJVCBtb2RlLiBTZWUge0BsaW5rIFBJWEkuQ0xFQVJfTU9ERVN9XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mb3JjZUNsZWFyID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPbGQgcGFkZGluZyBiZWhhdmlvciBpcyB0byB1c2UgdGhlIG1heCBhbW91bnQgaW5zdGVhZCBvZiBzdW0gcGFkZGluZy5cbiAgICAgICAgICogVXNlIHRoaXMgZmxhZyBpZiB5b3UgbmVlZCB0aGUgb2xkIGJlaGF2aW9yLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXNlTWF4UGFkZGluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBuZXcgZmlsdGVyIHRvIHRoZSBTeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IC0gVGhlIHRhcmdldCBvZiB0aGUgZmlsdGVyIHRvIHJlbmRlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyW119IGZpbHRlcnMgLSBUaGUgZmlsdGVycyB0byBhcHBseS5cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAodGFyZ2V0LCBmaWx0ZXJzKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBmaWx0ZXJTdGFjayA9IHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrO1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlUG9vbC5wb3AoKSB8fCBuZXcgRmlsdGVyU3RhdGUoKTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBmaWx0ZXJzWzBdLnJlc29sdXRpb247XG4gICAgICAgIHZhciBwYWRkaW5nID0gZmlsdGVyc1swXS5wYWRkaW5nO1xuICAgICAgICB2YXIgYXV0b0ZpdCA9IGZpbHRlcnNbMF0uYXV0b0ZpdDtcbiAgICAgICAgdmFyIGxlZ2FjeSA9IGZpbHRlcnNbMF0ubGVnYWN5O1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBmaWx0ZXJzW2ldO1xuICAgICAgICAgICAgLy8gbGV0cyB1c2UgdGhlIGxvd2VzdCByZXNvbHV0aW9uLi5cbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBNYXRoLm1pbihyZXNvbHV0aW9uLCBmaWx0ZXIucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAvLyBmaWd1cmUgb3V0IHRoZSBwYWRkaW5nIHJlcXVpcmVkIGZvciBmaWx0ZXJzXG4gICAgICAgICAgICBwYWRkaW5nID0gdGhpcy51c2VNYXhQYWRkaW5nXG4gICAgICAgICAgICAgICAgLy8gb2xkIGJlaGF2aW9yOiB1c2UgbGFyZ2VzdCBhbW91bnQgb2YgcGFkZGluZyFcbiAgICAgICAgICAgICAgICA/IE1hdGgubWF4KHBhZGRpbmcsIGZpbHRlci5wYWRkaW5nKVxuICAgICAgICAgICAgICAgIC8vIG5ldyBiZWhhdmlvcjogc3VtIHRoZSBwYWRkaW5nXG4gICAgICAgICAgICAgICAgOiBwYWRkaW5nICsgZmlsdGVyLnBhZGRpbmc7XG4gICAgICAgICAgICAvLyBvbmx5IGF1dG8gZml0IGlmIGFsbCBmaWx0ZXJzIGFyZSBhdXRvZml0XG4gICAgICAgICAgICBhdXRvRml0ID0gYXV0b0ZpdCB8fCBmaWx0ZXIuYXV0b0ZpdDtcbiAgICAgICAgICAgIGxlZ2FjeSA9IGxlZ2FjeSB8fCBmaWx0ZXIubGVnYWN5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXJTdGFjay5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrWzBdLnJlbmRlclRleHR1cmUgPSByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZmlsdGVyU3RhY2sucHVzaChzdGF0ZSk7XG4gICAgICAgIHN0YXRlLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBzdGF0ZS5sZWdhY3kgPSBsZWdhY3k7XG4gICAgICAgIHN0YXRlLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuY29weUZyb20odGFyZ2V0LmZpbHRlckFyZWEgfHwgdGFyZ2V0LmdldEJvdW5kcyh0cnVlKSk7XG4gICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLnBhZChwYWRkaW5nKTtcbiAgICAgICAgaWYgKGF1dG9GaXQpIHtcbiAgICAgICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLmZpdCh0aGlzLnJlbmRlcmVyLnJlbmRlclRleHR1cmUuc291cmNlRnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJvdW5kIHRvIHdob2xlIG51bWJlciBiYXNlZCBvbiByZXNvbHV0aW9uXG4gICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLmNlaWwocmVzb2x1dGlvbik7XG4gICAgICAgIHN0YXRlLnJlbmRlclRleHR1cmUgPSB0aGlzLmdldE9wdGltYWxGaWx0ZXJUZXh0dXJlKHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoLCBzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQsIHJlc29sdXRpb24pO1xuICAgICAgICBzdGF0ZS5maWx0ZXJzID0gZmlsdGVycztcbiAgICAgICAgc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IHN0YXRlLnJlbmRlclRleHR1cmUud2lkdGg7XG4gICAgICAgIHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gc3RhdGUucmVuZGVyVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbkZyYW1lID0gdGhpcy50ZW1wUmVjdDtcbiAgICAgICAgZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoO1xuICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodDtcbiAgICAgICAgc3RhdGUucmVuZGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IHN0YXRlLnNvdXJjZUZyYW1lO1xuICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQoc3RhdGUucmVuZGVyVGV4dHVyZSwgc3RhdGUuc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpO1xuICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmNsZWFyKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQb3BzIG9mZiB0aGUgZmlsdGVyIGFuZCBhcHBsaWVzIGl0LlxuICAgICAqXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmaWx0ZXJTdGFjayA9IHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrO1xuICAgICAgICB2YXIgc3RhdGUgPSBmaWx0ZXJTdGFjay5wb3AoKTtcbiAgICAgICAgdmFyIGZpbHRlcnMgPSBzdGF0ZS5maWx0ZXJzO1xuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlID0gc3RhdGU7XG4gICAgICAgIHZhciBnbG9iYWxVbmlmb3JtcyA9IHRoaXMuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXM7XG4gICAgICAgIGdsb2JhbFVuaWZvcm1zLm91dHB1dEZyYW1lID0gc3RhdGUuc291cmNlRnJhbWU7XG4gICAgICAgIGdsb2JhbFVuaWZvcm1zLnJlc29sdXRpb24gPSBzdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaW5wdXRTaXplID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRTaXplO1xuICAgICAgICB2YXIgaW5wdXRQaXhlbCA9IGdsb2JhbFVuaWZvcm1zLmlucHV0UGl4ZWw7XG4gICAgICAgIHZhciBpbnB1dENsYW1wID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRDbGFtcDtcbiAgICAgICAgaW5wdXRTaXplWzBdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgaW5wdXRTaXplWzFdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgICAgIGlucHV0U2l6ZVsyXSA9IDEuMCAvIGlucHV0U2l6ZVswXTtcbiAgICAgICAgaW5wdXRTaXplWzNdID0gMS4wIC8gaW5wdXRTaXplWzFdO1xuICAgICAgICBpbnB1dFBpeGVsWzBdID0gaW5wdXRTaXplWzBdICogc3RhdGUucmVzb2x1dGlvbjtcbiAgICAgICAgaW5wdXRQaXhlbFsxXSA9IGlucHV0U2l6ZVsxXSAqIHN0YXRlLnJlc29sdXRpb247XG4gICAgICAgIGlucHV0UGl4ZWxbMl0gPSAxLjAgLyBpbnB1dFBpeGVsWzBdO1xuICAgICAgICBpbnB1dFBpeGVsWzNdID0gMS4wIC8gaW5wdXRQaXhlbFsxXTtcbiAgICAgICAgaW5wdXRDbGFtcFswXSA9IDAuNSAqIGlucHV0UGl4ZWxbMl07XG4gICAgICAgIGlucHV0Q2xhbXBbMV0gPSAwLjUgKiBpbnB1dFBpeGVsWzNdO1xuICAgICAgICBpbnB1dENsYW1wWzJdID0gKHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoICogaW5wdXRTaXplWzJdKSAtICgwLjUgKiBpbnB1dFBpeGVsWzJdKTtcbiAgICAgICAgaW5wdXRDbGFtcFszXSA9IChzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQgKiBpbnB1dFNpemVbM10pIC0gKDAuNSAqIGlucHV0UGl4ZWxbM10pO1xuICAgICAgICAvLyBvbmx5IHVwZGF0ZSB0aGUgcmVjdCBpZiBpdHMgbGVnYWN5Li5cbiAgICAgICAgaWYgKHN0YXRlLmxlZ2FjeSkge1xuICAgICAgICAgICAgdmFyIGZpbHRlckFyZWEgPSBnbG9iYWxVbmlmb3Jtcy5maWx0ZXJBcmVhO1xuICAgICAgICAgICAgZmlsdGVyQXJlYVswXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzFdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzJdID0gc3RhdGUuc291cmNlRnJhbWUueDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbM10gPSBzdGF0ZS5zb3VyY2VGcmFtZS55O1xuICAgICAgICAgICAgZ2xvYmFsVW5pZm9ybXMuZmlsdGVyQ2xhbXAgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dENsYW1wO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2xvYmFsVW5pZm9ybXMudXBkYXRlKCk7XG4gICAgICAgIHZhciBsYXN0U3RhdGUgPSBmaWx0ZXJTdGFja1tmaWx0ZXJTdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKHN0YXRlLnJlbmRlclRleHR1cmUuZnJhbWVidWZmZXIubXVsdGlzYW1wbGUgPiAxKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmJsaXQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsdGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGZpbHRlcnNbMF0uYXBwbHkodGhpcywgc3RhdGUucmVuZGVyVGV4dHVyZSwgbGFzdFN0YXRlLnJlbmRlclRleHR1cmUsIENMRUFSX01PREVTLkJMRU5ELCBzdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUoc3RhdGUucmVuZGVyVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZmxpcCA9IHN0YXRlLnJlbmRlclRleHR1cmU7XG4gICAgICAgICAgICB2YXIgZmxvcCA9IHRoaXMuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUoZmxpcC53aWR0aCwgZmxpcC5oZWlnaHQsIHN0YXRlLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgZmxvcC5maWx0ZXJGcmFtZSA9IGZsaXAuZmlsdGVyRnJhbWU7XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGggLSAxOyArK2kpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJzW2ldLmFwcGx5KHRoaXMsIGZsaXAsIGZsb3AsIENMRUFSX01PREVTLkNMRUFSLCBzdGF0ZSk7XG4gICAgICAgICAgICAgICAgdmFyIHQgPSBmbGlwO1xuICAgICAgICAgICAgICAgIGZsaXAgPSBmbG9wO1xuICAgICAgICAgICAgICAgIGZsb3AgPSB0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBsYXN0U3RhdGUucmVuZGVyVGV4dHVyZSwgQ0xFQVJfTU9ERVMuQkxFTkQsIHN0YXRlKTtcbiAgICAgICAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShmbGlwKTtcbiAgICAgICAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShmbG9wKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5jbGVhcigpO1xuICAgICAgICB0aGlzLnN0YXRlUG9vbC5wdXNoKHN0YXRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJpbmRzIGEgcmVuZGVyVGV4dHVyZSB3aXRoIGNvcnJlc3BvbmRpbmcgYGZpbHRlckZyYW1lYCwgY2xlYXJzIGl0IGlmIG1vZGUgY29ycmVzcG9uZHMuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGZpbHRlclRleHR1cmUgLSByZW5kZXJUZXh0dXJlIHRvIGJpbmQsIHNob3VsZCBiZWxvbmcgdG8gZmlsdGVyIHBvb2wgb3IgZmlsdGVyIHN0YWNrXG4gICAgICogQHBhcmFtIHtQSVhJLkNMRUFSX01PREVTfSBbY2xlYXJNb2RlXSAtIGNsZWFyTW9kZSwgYnkgZGVmYXVsdCBpdHMgQ0xFQVIvWUVTLiBTZWUge0BsaW5rIFBJWEkuQ0xFQVJfTU9ERVN9XG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5iaW5kQW5kQ2xlYXIgPSBmdW5jdGlvbiAoZmlsdGVyVGV4dHVyZSwgY2xlYXJNb2RlKSB7XG4gICAgICAgIGlmIChjbGVhck1vZGUgPT09IHZvaWQgMCkgeyBjbGVhck1vZGUgPSBDTEVBUl9NT0RFUy5DTEVBUjsgfVxuICAgICAgICBpZiAoZmlsdGVyVGV4dHVyZSAmJiBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lKSB7XG4gICAgICAgICAgICB2YXIgZGVzdGluYXRpb25GcmFtZSA9IHRoaXMudGVtcFJlY3Q7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZS53aWR0aDtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChmaWx0ZXJUZXh0dXJlLCBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKGZpbHRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IHJlbW92ZSBpbiBuZXh0IG1ham9yIHZlcnNpb25cbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhck1vZGUgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgY2xlYXJNb2RlID0gY2xlYXJNb2RlID8gQ0xFQVJfTU9ERVMuQ0xFQVIgOiBDTEVBUl9NT0RFUy5CTEVORDtcbiAgICAgICAgICAgIC8vIGdldCBkZXByZWNhdGlvbiBmdW5jdGlvbiBmcm9tIHV0aWxzXG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjEnLCAnVXNlIENMRUFSX01PREVTIHdoZW4gdXNpbmcgY2xlYXIgYXBwbHlGaWx0ZXIgb3B0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsZWFyTW9kZSA9PT0gQ0xFQVJfTU9ERVMuQ0xFQVJcbiAgICAgICAgICAgIHx8IChjbGVhck1vZGUgPT09IENMRUFSX01PREVTLkJMSVQgJiYgdGhpcy5mb3JjZUNsZWFyKSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXJUZXh0dXJlLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIGEgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlcn0gZmlsdGVyIC0gVGhlIGZpbHRlciB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IFtjbGVhck1vZGVdIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0XG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5hcHBseUZpbHRlciA9IGZ1bmN0aW9uIChmaWx0ZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB0aGlzLmJpbmRBbmRDbGVhcihvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgIC8vIHNldCB0aGUgdW5pZm9ybXMuLlxuICAgICAgICBmaWx0ZXIudW5pZm9ybXMudVNhbXBsZXIgPSBpbnB1dDtcbiAgICAgICAgZmlsdGVyLnVuaWZvcm1zLmZpbHRlckdsb2JhbHMgPSB0aGlzLmdsb2JhbFVuaWZvcm1zO1xuICAgICAgICAvLyBUT0RPIG1ha2UgaXQgc28gdGhhdCB0aGUgb3JkZXIgb2YgdGhpcyBkb2VzIG5vdCBtYXR0ZXIuLlxuICAgICAgICAvLyBiZWNhdXNlIGl0IGRvZXMgYXQgdGhlIG1vbWVudCBjb3Mgb2YgZ2xvYmFsIHVuaWZvcm1zLlxuICAgICAgICAvLyB0aGV5IG5lZWQgdG8gZ2V0IHJlc3luY2VkXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldChmaWx0ZXIuc3RhdGUpO1xuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChmaWx0ZXIpO1xuICAgICAgICBpZiAoZmlsdGVyLmxlZ2FjeSkge1xuICAgICAgICAgICAgdGhpcy5xdWFkVXYubWFwKGlucHV0Ll9mcmFtZSwgaW5wdXQuZmlsdGVyRnJhbWUpO1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLnF1YWRVdik7XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KERSQVdfTU9ERVMuVFJJQU5HTEVTKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5xdWFkKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoRFJBV19NT0RFUy5UUklBTkdMRV9TVFJJUCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IF9pbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzXyB0byB0aGlzIG1hdHJpeCB0byBnZXQgX3Nwcml0ZSB0ZXh0dXJlIG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNfLlxuICAgICAqXG4gICAgICogVXNlIGBvdXRwdXRNYXRyaXggKiB2VGV4dHVyZUNvb3JkYCBpbiB0aGUgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gVGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gVGhlIHNwcml0ZSB0byBtYXAgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuY2FsY3VsYXRlU3ByaXRlTWF0cml4ID0gZnVuY3Rpb24gKG91dHB1dE1hdHJpeCwgc3ByaXRlKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMuYWN0aXZlU3RhdGUsIHNvdXJjZUZyYW1lID0gX2Euc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUgPSBfYS5kZXN0aW5hdGlvbkZyYW1lO1xuICAgICAgICB2YXIgb3JpZyA9IHNwcml0ZS5fdGV4dHVyZS5vcmlnO1xuICAgICAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LnNldChkZXN0aW5hdGlvbkZyYW1lLndpZHRoLCAwLCAwLCBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCwgc291cmNlRnJhbWUueCwgc291cmNlRnJhbWUueSk7XG4gICAgICAgIHZhciB3b3JsZFRyYW5zZm9ybSA9IHNwcml0ZS53b3JsZFRyYW5zZm9ybS5jb3B5VG8oTWF0cml4LlRFTVBfTUFUUklYKTtcbiAgICAgICAgd29ybGRUcmFuc2Zvcm0uaW52ZXJ0KCk7XG4gICAgICAgIG1hcHBlZE1hdHJpeC5wcmVwZW5kKHdvcmxkVHJhbnNmb3JtKTtcbiAgICAgICAgbWFwcGVkTWF0cml4LnNjYWxlKDEuMCAvIG9yaWcud2lkdGgsIDEuMCAvIG9yaWcuaGVpZ2h0KTtcbiAgICAgICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzcHJpdGUuYW5jaG9yLngsIHNwcml0ZS5hbmNob3IueSk7XG4gICAgICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIEZpbHRlciBTeXN0ZW0uXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBUaG9zZSB0ZXh0dXJlcyBoYXMgdG8gYmUgZGVzdHJveWVkIGJ5IFJlbmRlclRleHR1cmVTeXN0ZW0gb3IgRnJhbWVidWZmZXJTeXN0ZW1cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5jbGVhcihmYWxzZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGEgUG93ZXItb2YtVHdvIHJlbmRlciB0ZXh0dXJlIG9yIGZ1bGxTY3JlZW4gdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5XaWR0aCAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluSGVpZ2h0IC0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlLlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiAobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSAxOyB9XG4gICAgICAgIHJldHVybiB0aGlzLnRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKG1pbldpZHRoLCBtaW5IZWlnaHQsIHJlc29sdXRpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyBleHRyYSByZW5kZXIgdGV4dHVyZSB0byB1c2UgaW5zaWRlIGN1cnJlbnQgZmlsdGVyXG4gICAgICogVG8gYmUgY29tcGxpYW50IHdpdGggb2xkZXIgZmlsdGVycywgeW91IGNhbiB1c2UgcGFyYW1zIGluIGFueSBvcmRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtpbnB1dF0gLSByZW5kZXJUZXh0dXJlIGZyb20gd2hpY2ggc2l6ZSBhbmQgcmVzb2x1dGlvbiB3aWxsIGJlIGNvcGllZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gLSBvdmVycmlkZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJUZXh0dXJlXG4gICAgICogQHJldHVybnMge1BJWEkuUmVuZGVyVGV4dHVyZX1cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmdldEZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiAoaW5wdXQsIHJlc29sdXRpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHZhciBzd2FwID0gaW5wdXQ7XG4gICAgICAgICAgICBpbnB1dCA9IHJlc29sdXRpb247XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gc3dhcDtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dCA9IGlucHV0IHx8IHRoaXMuYWN0aXZlU3RhdGUucmVuZGVyVGV4dHVyZTtcbiAgICAgICAgdmFyIGZpbHRlclRleHR1cmUgPSB0aGlzLnRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKGlucHV0LndpZHRoLCBpbnB1dC5oZWlnaHQsIHJlc29sdXRpb24gfHwgaW5wdXQucmVzb2x1dGlvbik7XG4gICAgICAgIGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBpbnB1dC5maWx0ZXJGcmFtZTtcbiAgICAgICAgcmV0dXJuIGZpbHRlclRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGcmVlcyBhIHJlbmRlciB0ZXh0dXJlIGJhY2sgaW50byB0aGUgcG9vbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlclRhcmdldCB0byBmcmVlXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5yZXR1cm5GaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKHJlbmRlclRleHR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW1wdGllcyB0aGUgdGV4dHVyZSBwb29sLlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuZW1wdHlQb29sID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sLmNsZWFyKHRydWUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogY2FsbHMgYHRleHR1cmVQb29sLnJlc2l6ZSgpYCwgYWZmZWN0cyBmdWxsU2NyZWVuIHJlbmRlclRleHR1cmVzXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wuc2V0U2NyZWVuU2l6ZSh0aGlzLnJlbmRlcmVyLnZpZXcpO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbHRlclN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogQmFzZSBmb3IgYSBjb21tb24gb2JqZWN0IHJlbmRlcmVyIHRoYXQgY2FuIGJlIHVzZWQgYXMgYVxuICogc3lzdGVtIHJlbmRlcmVyIHBsdWdpbi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgT2JqZWN0UmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3R1YiBtZXRob2QgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBlbXB0eSB0aGUgY3VycmVudFxuICAgICAqIGJhdGNoIGJ5IHJlbmRlcmluZyBvYmplY3RzIG5vdy5cbiAgICAgKi9cbiAgICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGZsdXNoIVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJpYyBkZXN0cnVjdGlvbiBtZXRob2QgdGhhdCBmcmVlcyBhbGwgcmVzb3VyY2VzLiBUaGlzXG4gICAgICogc2hvdWxkIGJlIGNhbGxlZCBieSBzdWJjbGFzc2VzLlxuICAgICAqL1xuICAgIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0dWIgbWV0aG9kIHRoYXQgaW5pdGlhbGl6ZXMgYW55IHN0YXRlIHJlcXVpcmVkIGJlZm9yZVxuICAgICAqIHJlbmRlcmluZyBzdGFydHMuIEl0IGlzIGRpZmZlcmVudCBmcm9tIHRoZSBgcHJlcmVuZGVyYFxuICAgICAqIHNpZ25hbCwgd2hpY2ggb2NjdXJzIGV2ZXJ5IGZyYW1lLCBpbiB0aGF0IGl0IGlzIGNhbGxlZFxuICAgICAqIHdoZW5ldmVyIGFuIG9iamVjdCByZXF1ZXN0cyBfdGhpc18gcmVuZGVyZXIgc3BlY2lmaWNhbGx5LlxuICAgICAqL1xuICAgIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gc2V0IHRoZSBzaGFkZXIuLlxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIHJlbmRlcmVyLiBJdCBzaG91bGQgZnJlZSB1cCBhbnkgc3RhdGUgYW5kXG4gICAgICogYmVjb21lIGRvcm1hbnQuXG4gICAgICovXG4gICAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEtlZXBzIHRoZSBvYmplY3QgdG8gcmVuZGVyLiBJdCBkb2Vzbid0IGhhdmUgdG8gYmVcbiAgICAgKiByZW5kZXJlZCBpbW1lZGlhdGVseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBvYmplY3QgLSBUaGUgb2JqZWN0IHRvIHJlbmRlci5cbiAgICAgKi9cbiAgICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKF9vYmplY3QpIHtcbiAgICAgICAgLy8gcmVuZGVyIHRoZSBvYmplY3RcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3RSZW5kZXJlcjtcbn0oKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGJhdGNoaW5nLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIEJhdGNoU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXRjaFN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXRjaFN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGVtcHR5IHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9iamVjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZW1wdHlSZW5kZXJlciA9IG5ldyBPYmplY3RSZW5kZXJlcihyZW5kZXJlcik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBPYmplY3RSZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYmplY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnRSZW5kZXJlciA9IF90aGlzLmVtcHR5UmVuZGVyZXI7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgY3VycmVudCByZW5kZXJlciB0byB0aGUgb25lIGdpdmVuIGluIHBhcmFtZXRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk9iamVjdFJlbmRlcmVyfSBvYmplY3RSZW5kZXJlciAtIFRoZSBvYmplY3QgcmVuZGVyZXIgdG8gdXNlLlxuICAgICAqL1xuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZS5zZXRPYmplY3RSZW5kZXJlciA9IGZ1bmN0aW9uIChvYmplY3RSZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UmVuZGVyZXIgPT09IG9iamVjdFJlbmRlcmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IG9iamVjdFJlbmRlcmVyO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBzaG91bGQgYmUgY2FsbGVkIGlmIHlvdSB3aXNoIHRvIGRvIHNvbWUgY3VzdG9tIHJlbmRlcmluZ1xuICAgICAqIEl0IHdpbGwgYmFzaWNhbGx5IHJlbmRlciBhbnl0aGluZyB0aGF0IG1heSBiZSBiYXRjaGVkIHVwIHN1Y2ggYXMgc3ByaXRlc1xuICAgICAqL1xuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIHN5c3RlbSB0byBhbiBlbXB0eSByZW5kZXJlclxuICAgICAqL1xuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZHkgZnVuY3Rpb24gZm9yIGJhdGNoIHJlbmRlcmVyczogY29waWVzIGJvdW5kIHRleHR1cmVzIGluIGZpcnN0IG1heFRleHR1cmVzIGxvY2F0aW9ucyB0byBhcnJheVxuICAgICAqIHNldHMgYWN0dWFsIF9iYXRjaExvY2F0aW9uIGZvciB0aGVtXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmVbXX0gLSBhcnIgY29weSBkZXN0aW5hdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhUZXh0dXJlcyAtIG51bWJlciBvZiBjb3BpZWQgZWxlbWVudHNcbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUuY29weUJvdW5kVGV4dHVyZXMgPSBmdW5jdGlvbiAoYXJyLCBtYXhUZXh0dXJlcykge1xuICAgICAgICB2YXIgYm91bmRUZXh0dXJlcyA9IHRoaXMucmVuZGVyZXIudGV4dHVyZS5ib3VuZFRleHR1cmVzO1xuICAgICAgICBmb3IgKHZhciBpID0gbWF4VGV4dHVyZXMgLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgYXJyW2ldID0gYm91bmRUZXh0dXJlc1tpXSB8fCBudWxsO1xuICAgICAgICAgICAgaWYgKGFycltpXSkge1xuICAgICAgICAgICAgICAgIGFycltpXS5fYmF0Y2hMb2NhdGlvbiA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgYmF0Y2ggbG9jYXRpb25zIHRvIHRleHR1cmVzIGluIGFycmF5IGJhc2VkIG9uIGJvdW5kVGV4dHVyZXMgc3RhdGUuXG4gICAgICogQWxsIHRleHR1cmVzIGluIHRleEFycmF5IHNob3VsZCBoYXZlIGBfYmF0Y2hFbmFibGVkID0gX2JhdGNoSWRgLFxuICAgICAqIGFuZCB0aGVpciBjb3VudCBzaG91bGQgYmUgbGVzcyB0aGFuIGBtYXhUZXh0dXJlc2AuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmF0Y2hUZXh0dXJlQXJyYXl9IHRleEFycmF5IC0gdGV4dHVyZXMgdG8gYm91bmRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmVbXX0gYm91bmRUZXh0dXJlcyAtIGN1cnJlbnQgc3RhdGUgb2YgYm91bmQgdGV4dHVyZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmF0Y2hJZCAtIG1hcmtlciBmb3IgX2JhdGNoRW5hYmxlZCBwYXJhbSBvZiB0ZXh0dXJlcyBpbiB0ZXhBcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhUZXh0dXJlcyAtIG51bWJlciBvZiB0ZXh0dXJlIGxvY2F0aW9ucyB0byBtYW5pcHVsYXRlXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLmJvdW5kQXJyYXkgPSBmdW5jdGlvbiAodGV4QXJyYXksIGJvdW5kVGV4dHVyZXMsIGJhdGNoSWQsIG1heFRleHR1cmVzKSB7XG4gICAgICAgIHZhciBlbGVtZW50cyA9IHRleEFycmF5LmVsZW1lbnRzLCBpZHMgPSB0ZXhBcnJheS5pZHMsIGNvdW50ID0gdGV4QXJyYXkuY291bnQ7XG4gICAgICAgIHZhciBqID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGV4ID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICB2YXIgbG9jID0gdGV4Ll9iYXRjaExvY2F0aW9uO1xuICAgICAgICAgICAgaWYgKGxvYyA+PSAwICYmIGxvYyA8IG1heFRleHR1cmVzXG4gICAgICAgICAgICAgICAgJiYgYm91bmRUZXh0dXJlc1tsb2NdID09PSB0ZXgpIHtcbiAgICAgICAgICAgICAgICBpZHNbaV0gPSBsb2M7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoaiA8IG1heFRleHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJvdW5kID0gYm91bmRUZXh0dXJlc1tqXTtcbiAgICAgICAgICAgICAgICBpZiAoYm91bmQgJiYgYm91bmQuX2JhdGNoRW5hYmxlZCA9PT0gYmF0Y2hJZFxuICAgICAgICAgICAgICAgICAgICAmJiBib3VuZC5fYmF0Y2hMb2NhdGlvbiA9PT0gaikge1xuICAgICAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZHNbaV0gPSBqO1xuICAgICAgICAgICAgICAgIHRleC5fYmF0Y2hMb2NhdGlvbiA9IGo7XG4gICAgICAgICAgICAgICAgYm91bmRUZXh0dXJlc1tqXSA9IHRleDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEJhdGNoU3lzdGVtO1xufShTeXN0ZW0pKTtcblxudmFyIENPTlRFWFRfVUlEX0NPVU5URVIgPSAwO1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGhlIGNvbnRleHQuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgQ29udGV4dFN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29udGV4dFN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIGNhbWVsY2FzZSAqL1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbnRleHRTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFaXRoZXIgMSBvciAyIHRvIHJlZmxlY3QgdGhlIFdlYkdMIHZlcnNpb24gYmVpbmcgdXNlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMud2ViR0xWZXJzaW9uID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4dGVuc2lvbnMgYmVpbmcgdXNlZFxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJvcGVydHkge1dFQkdMX2RyYXdfYnVmZmVyc30gZHJhd0J1ZmZlcnMgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtXRUJHTF9kZXB0aF90ZXh0dXJlfSBkZXB0aFRleHR1cmUgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtPRVNfdGV4dHVyZV9mbG9hdH0gZmxvYXRUZXh0dXJlIC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7V0VCR0xfbG9zZV9jb250ZXh0fSBsb3NlQ29udGV4dCAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0fSB2ZXJ0ZXhBcnJheU9iamVjdCAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY30gYW5pc290cm9waWNGaWx0ZXJpbmcgLSBXZWJHTCB2MSBhbmQgdjIgZXh0ZW5zaW9uXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5leHRlbnNpb25zID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGZWF0dXJlcyBzdXBwb3J0ZWQgYnkgY3VycmVudCBjb250ZXh0XG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdWludDMySW5kaWNlcyAtIFN1cHBvcnRzIG9mIDMyLWJpdCBpbmRpY2VzIGJ1ZmZlclxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3VwcG9ydHMgPSB7XG4gICAgICAgICAgICB1aW50MzJJbmRpY2VzOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQmluZCBmdW5jdGlvbnNcbiAgICAgICAgX3RoaXMuaGFuZGxlQ29udGV4dExvc3QgPSBfdGhpcy5oYW5kbGVDb250ZXh0TG9zdC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkID0gX3RoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkLmJpbmQoX3RoaXMpO1xuICAgICAgICByZW5kZXJlci52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCBfdGhpcy5oYW5kbGVDb250ZXh0TG9zdCwgZmFsc2UpO1xuICAgICAgICByZW5kZXJlci52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgX3RoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLCBcImlzTG9zdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgdGhlIGNvbnRleHQgaXMgbG9zdFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICghdGhpcy5nbCB8fCB0aGlzLmdsLmlzQ29udGV4dExvc3QoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGhlIGNvbnRleHQgY2hhbmdlIGV2ZW50XG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gbmV3IHdlYmdsIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKGdsKSB7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5nbCA9IGdsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEID0gQ09OVEVYVF9VSURfQ09VTlRFUisrO1xuICAgICAgICAvLyByZXN0b3JlIGEgY29udGV4dCBpZiBpdCB3YXMgcHJldmlvdXNseSBsb3N0XG4gICAgICAgIGlmIChnbC5pc0NvbnRleHRMb3N0KCkgJiYgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKSkge1xuICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKS5yZXN0b3JlQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gV2ViR0wgY29udGV4dFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmluaXRGcm9tQ29udGV4dCA9IGZ1bmN0aW9uIChnbCkge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMudmFsaWRhdGVDb250ZXh0KGdsKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5nbCA9IGdsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEID0gQ09OVEVYVF9VSURfQ09VTlRFUisrO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnJ1bm5lcnMuY29udGV4dENoYW5nZS5lbWl0KGdsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJvbSBjb250ZXh0IG9wdGlvbnNcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MQ2FudmFzRWxlbWVudC9nZXRDb250ZXh0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBjb250ZXh0IGF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5pbml0RnJvbU9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmNyZWF0ZUNvbnRleHQodGhpcy5yZW5kZXJlci52aWV3LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5pbml0RnJvbUNvbnRleHQoZ2wpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIFdlYkdMIENvbnRleHRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYW52YXMge0hUTUxDYW52YXNFbGVtZW50fSB0aGUgY2FudmFzIGVsZW1lbnQgdGhhdCB3ZSB3aWxsIGdldCB0aGUgY29udGV4dCBmcm9tXG4gICAgICogQHBhcmFtIG9wdGlvbnMge29iamVjdH0gQW4gb3B0aW9ucyBvYmplY3QgdGhhdCBnZXRzIHBhc3NlZCBpbiB0byB0aGUgY2FudmFzIGVsZW1lbnQgY29udGFpbmluZyB0aGUgY29udGV4dCBhdHRyaWJ1dGVzXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvZ2V0Q29udGV4dFxuICAgICAqIEByZXR1cm4ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gdGhlIFdlYkdMIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5jcmVhdGVDb250ZXh0ID0gZnVuY3Rpb24gKGNhbnZhcywgb3B0aW9ucykge1xuICAgICAgICB2YXIgZ2w7XG4gICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID49IEVOVi5XRUJHTDIpIHtcbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsMicsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnbCkge1xuICAgICAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSAxO1xuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBvcHRpb25zKVxuICAgICAgICAgICAgICAgIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgICAgICAvLyBmYWlsLCBub3QgYWJsZSB0byBnZXQgYSBjb250ZXh0XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBXZWJHTC4gVHJ5IHVzaW5nIHRoZSBjYW52YXMgcmVuZGVyZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMuZ2V0RXh0ZW5zaW9ucygpO1xuICAgICAgICByZXR1cm4gdGhpcy5nbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEF1dG8tcG9wdWxhdGUgdGhlIGV4dGVuc2lvbnNcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5nZXRFeHRlbnNpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB0aW1lIHRvIHNldCB1cCBkZWZhdWx0IGV4dGVuc2lvbnMgdGhhdCBQaXhpIHVzZXMuXG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiA9PT0gMSkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmV4dGVuc2lvbnMsIHtcbiAgICAgICAgICAgICAgICBkcmF3QnVmZmVyczogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kcmF3X2J1ZmZlcnMnKSxcbiAgICAgICAgICAgICAgICBkZXB0aFRleHR1cmU6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfZGVwdGhfdGV4dHVyZScpLFxuICAgICAgICAgICAgICAgIGxvc2VDb250ZXh0OiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpLFxuICAgICAgICAgICAgICAgIHZlcnRleEFycmF5T2JqZWN0OiBnbC5nZXRFeHRlbnNpb24oJ09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JylcbiAgICAgICAgICAgICAgICAgICAgfHwgZ2wuZ2V0RXh0ZW5zaW9uKCdNT1pfT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKVxuICAgICAgICAgICAgICAgICAgICB8fCBnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpLFxuICAgICAgICAgICAgICAgIGFuaXNvdHJvcGljRmlsdGVyaW5nOiBnbC5nZXRFeHRlbnNpb24oJ0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpLFxuICAgICAgICAgICAgICAgIHVpbnQzMkVsZW1lbnRJbmRleDogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfZWxlbWVudF9pbmRleF91aW50JyksXG4gICAgICAgICAgICAgICAgLy8gRmxvYXRzIGFuZCBoYWxmLWZsb2F0c1xuICAgICAgICAgICAgICAgIGZsb2F0VGV4dHVyZTogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9mbG9hdCcpLFxuICAgICAgICAgICAgICAgIGZsb2F0VGV4dHVyZUxpbmVhcjogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXInKSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlSGFsZkZsb2F0OiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2hhbGZfZmxvYXQnKSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlSGFsZkZsb2F0TGluZWFyOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyJyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLndlYkdMVmVyc2lvbiA9PT0gMikge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmV4dGVuc2lvbnMsIHtcbiAgICAgICAgICAgICAgICBhbmlzb3Ryb3BpY0ZpbHRlcmluZzogZ2wuZ2V0RXh0ZW5zaW9uKCdFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKSxcbiAgICAgICAgICAgICAgICAvLyBGbG9hdHMgYW5kIGhhbGYtZmxvYXRzXG4gICAgICAgICAgICAgICAgY29sb3JCdWZmZXJGbG9hdDogZ2wuZ2V0RXh0ZW5zaW9uKCdFWFRfY29sb3JfYnVmZmVyX2Zsb2F0JyksXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlTGluZWFyOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0X2xpbmVhcicpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSBsb3N0IHdlYmdsIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1dlYkdMQ29udGV4dEV2ZW50fSBldmVudCAtIFRoZSBjb250ZXh0IGxvc3QgZXZlbnQuXG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuaGFuZGxlQ29udGV4dExvc3QgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSByZXN0b3JlZCB3ZWJnbCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuaGFuZGxlQ29udGV4dFJlc3RvcmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnJ1bm5lcnMuY29udGV4dENoYW5nZS5lbWl0KHRoaXMuZ2wpO1xuICAgIH07XG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZpZXcgPSB0aGlzLnJlbmRlcmVyLnZpZXc7XG4gICAgICAgIC8vIHJlbW92ZSBsaXN0ZW5lcnNcbiAgICAgICAgdmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRsb3N0JywgdGhpcy5oYW5kbGVDb250ZXh0TG9zdCk7XG4gICAgICAgIHZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCB0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCk7XG4gICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShudWxsKTtcbiAgICAgICAgaWYgKHRoaXMuZXh0ZW5zaW9ucy5sb3NlQ29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5leHRlbnNpb25zLmxvc2VDb250ZXh0Lmxvc2VDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgcG9zdC1yZW5kZXIgcnVubmVyIGV2ZW50XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUucG9zdHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIucmVuZGVyaW5nVG9TY3JlZW4pIHtcbiAgICAgICAgICAgIHRoaXMuZ2wuZmx1c2goKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFJlbmRlciBjb250ZXh0XG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUudmFsaWRhdGVDb250ZXh0ID0gZnVuY3Rpb24gKGdsKSB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgLy8gdGhpcyBpcyBnb2luZyB0byBiZSBmYWlybHkgc2ltcGxlIGZvciBub3cuLiBidXQgYXQgbGVhc3Qgd2UgaGF2ZSByb29tIHRvIGdyb3chXG4gICAgICAgIGlmICghYXR0cmlidXRlcy5zdGVuY2lsKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Byb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3QgaGF2ZSBhIHN0ZW5jaWwgYnVmZmVyLCBtYXNrcyBtYXkgbm90IHJlbmRlciBjb3JyZWN0bHknKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiwgbm8tY29uc29sZSAqL1xuICAgICAgICB9XG4gICAgICAgIHZhciBoYXN1aW50MzIgPSAoJ1dlYkdMMlJlbmRlcmluZ0NvbnRleHQnIGluIHdpbmRvdyAmJiBnbCBpbnN0YW5jZW9mIHdpbmRvdy5XZWJHTDJSZW5kZXJpbmdDb250ZXh0KVxuICAgICAgICAgICAgfHwgISFnbC5nZXRFeHRlbnNpb24oJ09FU19lbGVtZW50X2luZGV4X3VpbnQnKTtcbiAgICAgICAgdGhpcy5zdXBwb3J0cy51aW50MzJJbmRpY2VzID0gaGFzdWludDMyO1xuICAgICAgICBpZiAoIWhhc3VpbnQzMikge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiwgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQcm92aWRlZCBXZWJHTCBjb250ZXh0IGRvZXMgbm90IHN1cHBvcnQgMzIgaW5kZXggYnVmZmVyLCBjb21wbGV4IGdyYXBoaWNzIG1heSBub3QgcmVuZGVyIGNvcnJlY3RseScpO1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuLCBuby1jb25zb2xlICovXG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDb250ZXh0U3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBJbnRlcm5hbCBmcmFtZWJ1ZmZlciBmb3IgV2ViR0wgY29udGV4dFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR0xGcmFtZWJ1ZmZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHTEZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgZnJhbWVidWZmZXJcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xGcmFtZWJ1ZmZlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIgPSBmcmFtZWJ1ZmZlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHN0ZW5jaWwrZGVwdGggLCB1c3VhbGx5IGNvc3RzIDMyYml0cyBwZXIgcGl4ZWxcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJidWZmZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0ZW5jaWwgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogbGF0ZXN0IGtub3duIHZlcnNpb24gb2YgZnJhbWVidWZmZXJcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogbGF0ZXN0IGtub3duIHZlcnNpb24gb2YgZnJhbWVidWZmZXIgZm9ybWF0XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBsYXRlc3Qga25vd24gdmVyc2lvbiBvZiBmcmFtZWJ1ZmZlciBzaXplXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eVNpemUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZWN0ZWQgQUEgc2FtcGxlcyBudW1iZXJcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NU0FBX1FVQUxJVFl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm11bHRpc2FtcGxlID0gTVNBQV9RVUFMSVRZLk5PTkU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbiBjYXNlIE1TQUEsIHdlIHVzZSB0aGlzIFJlbmRlcmJ1ZmZlciBpbnN0ZWFkIG9mIGNvbG9yVGV4dHVyZXNbMF0gd2hlbiB3ZSB3cml0ZSBpbmZvXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyYnVmZmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tc2FhQnVmZmVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluIGNhc2Ugd2UgdXNlIE1TQUEsIHRoaXMgaXMgYWN0dWFsIGZyYW1lYnVmZmVyIHRoYXQgaGFzIGNvbG9yVGV4dHVyZXNbMF1cbiAgICAgICAgICogVGhlIGNvbnRlbnRzIG9mIHRoYXQgZnJhbWVidWZmZXIgYXJlIHJlYWQgd2hlbiB3ZSB1c2UgdGhhdCByZW5kZXJUZXh0dXJlIGluIHNwcml0ZXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GcmFtZWJ1ZmZlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmxpdEZyYW1lYnVmZmVyID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIEdMRnJhbWVidWZmZXI7XG59KCkpO1xuXG52YXIgdGVtcFJlY3RhbmdsZSA9IG5ldyBSZWN0YW5nbGUoKTtcbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGZyYW1lYnVmZmVycy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBGcmFtZWJ1ZmZlclN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRnJhbWVidWZmZXJTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRnJhbWVidWZmZXJTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgbWFuYWdlZCBmcmFtZWJ1ZmZlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GcmFtZWJ1ZmZlcltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyYW1lYnVmZmVyIHZhbHVlIHRoYXQgc2hvd3MgdGhhdCB3ZSBkb24ndCBrbm93IHdoYXQgaXMgYm91bmRcbiAgICAgICAgICogQG1lbWJlciB7RnJhbWVidWZmZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudW5rbm93bkZyYW1lYnVmZmVyID0gbmV3IEZyYW1lYnVmZmVyKDEwLCAxMCk7XG4gICAgICAgIF90aGlzLm1zYWFTYW1wbGVzID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnVua25vd25GcmFtZWJ1ZmZlcjtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgdGhpcy5oYXNNUlQgPSB0cnVlO1xuICAgICAgICB0aGlzLndyaXRlRGVwdGhUZXh0dXJlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXNwb3NlQWxsKHRydWUpO1xuICAgICAgICAvLyB3ZWJnbDJcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIuY29udGV4dC53ZWJHTFZlcnNpb24gPT09IDEpIHtcbiAgICAgICAgICAgIC8vIHdlYmdsIDEhXG4gICAgICAgICAgICB2YXIgbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb25fMSA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLmRyYXdCdWZmZXJzO1xuICAgICAgICAgICAgdmFyIG5hdGl2ZURlcHRoVGV4dHVyZUV4dGVuc2lvbiA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLmRlcHRoVGV4dHVyZTtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb25fMSA9IG51bGw7XG4gICAgICAgICAgICAgICAgbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbl8xKSB7XG4gICAgICAgICAgICAgICAgZ2wuZHJhd0J1ZmZlcnMgPSBmdW5jdGlvbiAoYWN0aXZlVGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uXzEuZHJhd0J1ZmZlcnNXRUJHTChhY3RpdmVUZXh0dXJlcyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzTVJUID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZ2wuZHJhd0J1ZmZlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZURlcHRoVGV4dHVyZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gV2ViR0wyXG4gICAgICAgICAgICAvLyBjYWNoZSBwb3NzaWJsZSBNU0FBIHNhbXBsZXNcbiAgICAgICAgICAgIHRoaXMubXNhYVNhbXBsZXMgPSBnbC5nZXRJbnRlcm5hbGZvcm1hdFBhcmFtZXRlcihnbC5SRU5ERVJCVUZGRVIsIGdsLlJHQkE4LCBnbC5TQU1QTEVTKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZCBhIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW2ZyYW1lXSBmcmFtZSwgZGVmYXVsdCBpcyBmcmFtZWJ1ZmZlciBzaXplXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoZnJhbWVidWZmZXIsIGZyYW1lKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGlmIChmcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgLy8gVE9ETyBjYWNoaW5nIGxheWVyIVxuICAgICAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdIHx8IHRoaXMuaW5pdEZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IGZyYW1lYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gZnJhbWVidWZmZXI7XG4gICAgICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmYm8uZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGFsbCB0ZXh0dXJlcyBhcmUgdW5ib3VuZC4uXG4gICAgICAgICAgICAvLyBub3cgY2hlY2sgZm9yIHVwZGF0ZXMuLi5cbiAgICAgICAgICAgIGlmIChmYm8uZGlydHlJZCAhPT0gZnJhbWVidWZmZXIuZGlydHlJZCkge1xuICAgICAgICAgICAgICAgIGZiby5kaXJ0eUlkID0gZnJhbWVidWZmZXIuZGlydHlJZDtcbiAgICAgICAgICAgICAgICBpZiAoZmJvLmRpcnR5Rm9ybWF0ICE9PSBmcmFtZWJ1ZmZlci5kaXJ0eUZvcm1hdCkge1xuICAgICAgICAgICAgICAgICAgICBmYm8uZGlydHlGb3JtYXQgPSBmcmFtZWJ1ZmZlci5kaXJ0eUZvcm1hdDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZiby5kaXJ0eVNpemUgIT09IGZyYW1lYnVmZmVyLmRpcnR5U2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBmYm8uZGlydHlTaXplID0gZnJhbWVidWZmZXIuZGlydHlTaXplO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4ID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUudW5iaW5kKHRleC5wYXJlbnRUZXh0dXJlQXJyYXkgfHwgdGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUudW5iaW5kKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZnJhbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KGZyYW1lLngsIGZyYW1lLnksIGZyYW1lLndpZHRoLCBmcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydCgwLCAwLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZnJhbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KGZyYW1lLngsIGZyYW1lLnksIGZyYW1lLndpZHRoLCBmcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydCgwLCAwLCB0aGlzLnJlbmRlcmVyLndpZHRoLCB0aGlzLnJlbmRlcmVyLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0J3Mgdmlld3BvcnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCAtIFggcG9zaXRpb24gb2Ygdmlld3BvcnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSAtIFkgcG9zaXRpb24gb2Ygdmlld3BvcnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2Ygdmlld3BvcnRcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuc2V0Vmlld3BvcnQgPSBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB2YXIgdiA9IHRoaXMudmlld3BvcnQ7XG4gICAgICAgIGlmICh2LndpZHRoICE9PSB3aWR0aCB8fCB2LmhlaWdodCAhPT0gaGVpZ2h0IHx8IHYueCAhPT0geCB8fCB2LnkgIT09IHkpIHtcbiAgICAgICAgICAgIHYueCA9IHg7XG4gICAgICAgICAgICB2LnkgPSB5O1xuICAgICAgICAgICAgdi53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgdi5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLmdsLnZpZXdwb3J0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLCBcInNpemVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBzaXplIG9mIHRoZSBjdXJyZW50IHdpZHRoIGFuZCBoZWlnaHQuIFJldHVybnMgb2JqZWN0IHdpdGggYHdpZHRoYCBhbmQgYGhlaWdodGAgdmFsdWVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBzdG9yZSB0ZW1wXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCwgd2lkdGg6IHRoaXMuY3VycmVudC53aWR0aCwgaGVpZ2h0OiB0aGlzLmN1cnJlbnQuaGVpZ2h0IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB3aWR0aDogdGhpcy5yZW5kZXJlci53aWR0aCwgaGVpZ2h0OiB0aGlzLnJlbmRlcmVyLmhlaWdodCB9O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGNvbG9yIG9mIHRoZSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gciAtIFJlZCB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBnIC0gR3JlZW4gdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYiAtIEJsdWUgdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYSAtIEFscGhhIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIHtQSVhJLkJVRkZFUl9CSVRTfSBbbWFzaz1CVUZGRVJfQklUUy5DT0xPUiB8IEJVRkZFUl9CSVRTLkRFUFRIXSAtIEJpdHdpc2UgT1Igb2YgbWFza3NcbiAgICAgKiAgdGhhdCBpbmRpY2F0ZSB0aGUgYnVmZmVycyB0byBiZSBjbGVhcmVkLCBieSBkZWZhdWx0IENPTE9SIGFuZCBERVBUSCBidWZmZXJzLlxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIChyLCBnLCBiLCBhLCBtYXNrKSB7XG4gICAgICAgIGlmIChtYXNrID09PSB2b2lkIDApIHsgbWFzayA9IEJVRkZFUl9CSVRTLkNPTE9SIHwgQlVGRkVSX0JJVFMuREVQVEg7IH1cbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgLy8gVE9ETyBjbGVhciBjb2xvciBjYW4gYmUgc2V0IG9ubHkgb25lIHJpZ2h0P1xuICAgICAgICBnbC5jbGVhckNvbG9yKHIsIGcsIGIsIGEpO1xuICAgICAgICBnbC5jbGVhcihtYXNrKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJhbWVidWZmZXIgZm9yIHRoaXMgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKiBAcmV0dXJucyB7UElYSS5HTEZyYW1lYnVmZmVyfSBjcmVhdGVkIEdMRnJhbWVidWZmZXJcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuaW5pdEZyYW1lYnVmZmVyID0gZnVuY3Rpb24gKGZyYW1lYnVmZmVyKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBmYm8gPSBuZXcgR0xGcmFtZWJ1ZmZlcihnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpKTtcbiAgICAgICAgZmJvLm11bHRpc2FtcGxlID0gdGhpcy5kZXRlY3RTYW1wbGVzKGZyYW1lYnVmZmVyLm11bHRpc2FtcGxlKTtcbiAgICAgICAgZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF0gPSBmYm87XG4gICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycy5wdXNoKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgZnJhbWVidWZmZXIuZGlzcG9zZVJ1bm5lci5hZGQodGhpcyk7XG4gICAgICAgIHJldHVybiBmYm87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNpemUgdGhlIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlclxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5yZXNpemVGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uIChmcmFtZWJ1ZmZlcikge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIGlmIChmYm8uc3RlbmNpbCkge1xuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIGZiby5zdGVuY2lsKTtcbiAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29sb3JUZXh0dXJlcyA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sb3JUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQoY29sb3JUZXh0dXJlc1tpXSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlLCAwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUudXBkYXRlRnJhbWVidWZmZXIgPSBmdW5jdGlvbiAoZnJhbWVidWZmZXIpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICAvLyBiaW5kIHRoZSBjb2xvciB0ZXh0dXJlXG4gICAgICAgIHZhciBjb2xvclRleHR1cmVzID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcztcbiAgICAgICAgdmFyIGNvdW50ID0gY29sb3JUZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgIGlmICghZ2wuZHJhd0J1ZmZlcnMpIHtcbiAgICAgICAgICAgIGNvdW50ID0gTWF0aC5taW4oY291bnQsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmYm8ubXVsdGlzYW1wbGUgPiAxKSB7XG4gICAgICAgICAgICBmYm8ubXNhYUJ1ZmZlciA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIGZiby5tc2FhQnVmZmVyKTtcbiAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZShnbC5SRU5ERVJCVUZGRVIsIGZiby5tdWx0aXNhbXBsZSwgZ2wuUkdCQTgsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5SRU5ERVJCVUZGRVIsIGZiby5tc2FhQnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWN0aXZlVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gMCAmJiBmYm8ubXVsdGlzYW1wbGUgPiAxKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXNbaV07XG4gICAgICAgICAgICB2YXIgcGFyZW50VGV4dHVyZSA9IHRleHR1cmUucGFyZW50VGV4dHVyZUFycmF5IHx8IHRleHR1cmU7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChwYXJlbnRUZXh0dXJlLCAwKTtcbiAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCArIGksIHRleHR1cmUudGFyZ2V0LCBwYXJlbnRUZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLnRleHR1cmUsIDApO1xuICAgICAgICAgICAgYWN0aXZlVGV4dHVyZXMucHVzaChnbC5DT0xPUl9BVFRBQ0hNRU5UMCArIGkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3RpdmVUZXh0dXJlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBnbC5kcmF3QnVmZmVycyhhY3RpdmVUZXh0dXJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIHdyaXRlRGVwdGhUZXh0dXJlID0gdGhpcy53cml0ZURlcHRoVGV4dHVyZTtcbiAgICAgICAgICAgIGlmICh3cml0ZURlcHRoVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHZhciBkZXB0aFRleHR1cmUgPSBmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQoZGVwdGhUZXh0dXJlLCAwKTtcbiAgICAgICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfQVRUQUNITUVOVCwgZ2wuVEVYVFVSRV8yRCwgZGVwdGhUZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLnRleHR1cmUsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghZmJvLnN0ZW5jaWwgJiYgKGZyYW1lYnVmZmVyLnN0ZW5jaWwgfHwgZnJhbWVidWZmZXIuZGVwdGgpKSB7XG4gICAgICAgICAgICBmYm8uc3RlbmNpbCA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIGZiby5zdGVuY2lsKTtcbiAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIFRPRE8uLiB0aGlzIGlzIGRlcHRoIEFORCBzdGVuY2lsP1xuICAgICAgICAgICAgaWYgKCFmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpIHsgLy8geW91IGNhbid0IGhhdmUgYm90aCwgc28gb25lIHNob3VsZCB0YWtlIHByaW9yaXR5IGlmIGVuYWJsZWRcbiAgICAgICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIGZiby5zdGVuY2lsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZWN0cyBudW1iZXIgb2Ygc2FtcGxlcyB0aGF0IGlzIG5vdCBtb3JlIHRoYW4gYSBwYXJhbSBidXQgYXMgY2xvc2UgdG8gaXQgYXMgcG9zc2libGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NU0FBX1FVQUxJVFl9IHNhbXBsZXMgLSBudW1iZXIgb2Ygc2FtcGxlc1xuICAgICAqIEByZXR1cm5zIHtQSVhJLk1TQUFfUVVBTElUWX0gLSByZWNvbW1lbmRlZCBudW1iZXIgb2Ygc2FtcGxlc1xuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5kZXRlY3RTYW1wbGVzID0gZnVuY3Rpb24gKHNhbXBsZXMpIHtcbiAgICAgICAgdmFyIG1zYWFTYW1wbGVzID0gdGhpcy5tc2FhU2FtcGxlcztcbiAgICAgICAgdmFyIHJlcyA9IE1TQUFfUVVBTElUWS5OT05FO1xuICAgICAgICBpZiAoc2FtcGxlcyA8PSAxIHx8IG1zYWFTYW1wbGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNhYVNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChtc2FhU2FtcGxlc1tpXSA8PSBzYW1wbGVzKSB7XG4gICAgICAgICAgICAgICAgcmVzID0gbXNhYVNhbXBsZXNbaV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcyA9PT0gMSkge1xuICAgICAgICAgICAgcmVzID0gTVNBQV9RVUFMSVRZLk5PTkU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE9ubHkgd29ya3Mgd2l0aCBXZWJHTDJcbiAgICAgKlxuICAgICAqIGJsaXRzIGZyYW1lYnVmZmVyIHRvIGFub3RoZXIgb2YgdGhlIHNhbWUgb3IgYmlnZ2VyIHNpemVcbiAgICAgKiBhZnRlciB0aGF0IHRhcmdldCBmcmFtZWJ1ZmZlciBpcyBib3VuZFxuICAgICAqXG4gICAgICogRmFpbHMgd2l0aCBXZWJHTCB3YXJuaW5nIGlmIGJsaXRzIG11bHRpc2FtcGxlIGZyYW1lYnVmZmVyIHRvIGRpZmZlcmVudCBzaXplXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IFtmcmFtZWJ1ZmZlcl0gLSBieSBkZWZhdWx0IGl0IGJsaXRzIFwiaW50byBpdHNlbGZcIiwgZnJvbSByZW5kZXJCdWZmZXIgdG8gdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbc291cmNlUGl4ZWxzXSAtIHNvdXJjZSByZWN0YW5nbGUgaW4gcGl4ZWxzXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW2Rlc3RQaXhlbHNdIC0gZGVzdCByZWN0YW5nbGUgaW4gcGl4ZWxzLCBhc3N1bWVkIHRvIGJlIHRoZSBzYW1lIGFzIHNvdXJjZVBpeGVsc1xuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5ibGl0ID0gZnVuY3Rpb24gKGZyYW1lYnVmZmVyLCBzb3VyY2VQaXhlbHMsIGRlc3RQaXhlbHMpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgY3VycmVudCA9IF9hLmN1cnJlbnQsIHJlbmRlcmVyID0gX2EucmVuZGVyZXIsIGdsID0gX2EuZ2wsIENPTlRFWFRfVUlEID0gX2EuQ09OVEVYVF9VSUQ7XG4gICAgICAgIGlmIChyZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbiAhPT0gMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY3VycmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmYm8gPSBjdXJyZW50LmdsRnJhbWVidWZmZXJzW0NPTlRFWFRfVUlEXTtcbiAgICAgICAgaWYgKCFmYm8pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZyYW1lYnVmZmVyKSB7XG4gICAgICAgICAgICBpZiAoZmJvLm11bHRpc2FtcGxlIDw9IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWZiby5ibGl0RnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgICAgICBmYm8uYmxpdEZyYW1lYnVmZmVyID0gbmV3IEZyYW1lYnVmZmVyKGN1cnJlbnQud2lkdGgsIGN1cnJlbnQuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBmYm8uYmxpdEZyYW1lYnVmZmVyLmFkZENvbG9yVGV4dHVyZSgwLCBjdXJyZW50LmNvbG9yVGV4dHVyZXNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWVidWZmZXIgPSBmYm8uYmxpdEZyYW1lYnVmZmVyO1xuICAgICAgICAgICAgZnJhbWVidWZmZXIud2lkdGggPSBjdXJyZW50LndpZHRoO1xuICAgICAgICAgICAgZnJhbWVidWZmZXIuaGVpZ2h0ID0gY3VycmVudC5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzb3VyY2VQaXhlbHMpIHtcbiAgICAgICAgICAgIHNvdXJjZVBpeGVscyA9IHRlbXBSZWN0YW5nbGU7XG4gICAgICAgICAgICBzb3VyY2VQaXhlbHMud2lkdGggPSBjdXJyZW50LndpZHRoO1xuICAgICAgICAgICAgc291cmNlUGl4ZWxzLmhlaWdodCA9IGN1cnJlbnQuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGVzdFBpeGVscykge1xuICAgICAgICAgICAgZGVzdFBpeGVscyA9IHNvdXJjZVBpeGVscztcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2FtZVNpemUgPSBzb3VyY2VQaXhlbHMud2lkdGggPT09IGRlc3RQaXhlbHMud2lkdGggJiYgc291cmNlUGl4ZWxzLmhlaWdodCA9PT0gZGVzdFBpeGVscy5oZWlnaHQ7XG4gICAgICAgIHRoaXMuYmluZChmcmFtZWJ1ZmZlcik7XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5SRUFEX0ZSQU1FQlVGRkVSLCBmYm8uZnJhbWVidWZmZXIpO1xuICAgICAgICBnbC5ibGl0RnJhbWVidWZmZXIoc291cmNlUGl4ZWxzLngsIHNvdXJjZVBpeGVscy55LCBzb3VyY2VQaXhlbHMud2lkdGgsIHNvdXJjZVBpeGVscy5oZWlnaHQsIGRlc3RQaXhlbHMueCwgZGVzdFBpeGVscy55LCBkZXN0UGl4ZWxzLndpZHRoLCBkZXN0UGl4ZWxzLmhlaWdodCwgZ2wuQ09MT1JfQlVGRkVSX0JJVCwgc2FtZVNpemUgPyBnbC5ORUFSRVNUIDogZ2wuTElORUFSKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGZyYW1lYnVmZmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlciAtIGZyYW1lYnVmZmVyIHRoYXQgaGFzIHRvIGJlIGRpc3Bvc2VkIG9mXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIC0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgYWxsIGRlbGV0ZSBmdW5jdGlvbiBjYWxsc1xuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5kaXNwb3NlRnJhbWVidWZmZXIgPSBmdW5jdGlvbiAoZnJhbWVidWZmZXIsIGNvbnRleHRMb3N0KSB7XG4gICAgICAgIHZhciBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKCFmYm8pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycy5pbmRleE9mKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lYnVmZmVyLmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuICAgICAgICBpZiAoIWNvbnRleHRMb3N0KSB7XG4gICAgICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmYm8uZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgaWYgKGZiby5zdGVuY2lsKSB7XG4gICAgICAgICAgICAgICAgZ2wuZGVsZXRlUmVuZGVyYnVmZmVyKGZiby5zdGVuY2lsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgYWxsIGZyYW1lYnVmZmVycywgYnV0IG5vdCB0ZXh0dXJlcyBib3VuZCB0byB0aGVtXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIC0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgYWxsIGRlbGV0ZSBmdW5jdGlvbiBjYWxsc1xuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5kaXNwb3NlQWxsID0gZnVuY3Rpb24gKGNvbnRleHRMb3N0KSB7XG4gICAgICAgIHZhciBsaXN0ID0gdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzO1xuICAgICAgICB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VGcmFtZWJ1ZmZlcihsaXN0W2ldLCBjb250ZXh0TG9zdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZvcmNpbmcgY3JlYXRpb24gb2Ygc3RlbmNpbCBidWZmZXIgZm9yIGN1cnJlbnQgZnJhbWVidWZmZXIsIGlmIGl0IHdhc24ndCBkb25lIGJlZm9yZS5cbiAgICAgKiBVc2VkIGJ5IE1hc2tTeXN0ZW0sIHdoZW4gaXRzIHRpbWUgdG8gdXNlIHN0ZW5jaWwgbWFzayBmb3IgR3JhcGhpY3MgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEl0cyBhbiBhbHRlcm5hdGl2ZSBmb3IgcHVibGljIGxhenkgYGZyYW1lYnVmZmVyLmVuYWJsZVN0ZW5jaWxgLCBpbiBjYXNlIHdlIG5lZWQgc3RlbmNpbCB3aXRob3V0IHJlYmluZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmZvcmNlU3RlbmNpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZyYW1lYnVmZmVyID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAoIWZyYW1lYnVmZmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoIWZibyB8fCBmYm8uc3RlbmNpbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lYnVmZmVyLmVuYWJsZVN0ZW5jaWwoKTtcbiAgICAgICAgdmFyIHcgPSBmcmFtZWJ1ZmZlci53aWR0aDtcbiAgICAgICAgdmFyIGggPSBmcmFtZWJ1ZmZlci5oZWlnaHQ7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBzdGVuY2lsID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG4gICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBzdGVuY2lsKTtcbiAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsIHcsIGgpO1xuICAgICAgICBmYm8uc3RlbmNpbCA9IHN0ZW5jaWw7XG4gICAgICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgc3RlbmNpbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiByZXNldHMgZnJhbWVidWZmZXIgc3RvcmVkIHN0YXRlLCBiaW5kcyBzY3JlZW4gZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIHNob3VsZCBiZSBjYWxsZWQgYmVmb3JlIHJlbmRlclRleHR1cmUgcmVzZXQoKVxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy51bmtub3duRnJhbWVidWZmZXI7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gRnJhbWVidWZmZXJTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG52YXIgR0xCdWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR0xCdWZmZXIoYnVmZmVyKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyIHx8IG51bGw7XG4gICAgICAgIHRoaXMudXBkYXRlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5ieXRlTGVuZ3RoID0gLTE7XG4gICAgICAgIHRoaXMucmVmQ291bnQgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gR0xCdWZmZXI7XG59KCkpO1xuXG52YXIgYnl0ZVNpemVNYXAkMSA9IHsgNTEyNjogNCwgNTEyMzogMiwgNTEyMTogMSB9O1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgZ2VvbWV0cnkuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgR2VvbWV0cnlTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEdlb21ldHJ5U3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdlb21ldHJ5U3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fYWN0aXZlR2VvbWV0cnkgPSBudWxsO1xuICAgICAgICBfdGhpcy5fYWN0aXZlVmFvID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB3ZSBoYXMgYCpfdmVydGV4X2FycmF5X29iamVjdGAgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGFzVmFvID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiBoYXMgYEFOR0xFX2luc3RhbmNlZF9hcnJheXNgIGV4dGVuc2lvblxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhhc0luc3RhbmNlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiBzdXBwb3J0IGBnbC5VTlNJR05FRF9JTlRgIGluIGBnbC5kcmF3RWxlbWVudHNgIG9yIGBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWRgXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSBmb3IgYWxsIGdlb21ldHJpZXMgYnkgaWQsIHVzZWQgaW4gY2FzZSByZW5kZXJlciBnZXRzIGRlc3Ryb3llZCBvciBmb3IgcHJvZmlsaW5nXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYW5hZ2VkR2VvbWV0cmllcyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgZm9yIGFsbCBidWZmZXJzIGJ5IGlkLCB1c2VkIGluIGNhc2UgcmVuZGVyZXIgZ2V0cyBkZXN0cm95ZWQgb3IgZm9yIHByb2ZpbGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFuYWdlZEJ1ZmZlcnMgPSB7fTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlQWxsKHRydWUpO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgICAgICAvLyB3ZWJnbDJcbiAgICAgICAgaWYgKCFnbC5jcmVhdGVWZXJ0ZXhBcnJheSkge1xuICAgICAgICAgICAgLy8gd2ViZ2wgMSFcbiAgICAgICAgICAgIHZhciBuYXRpdmVWYW9FeHRlbnNpb25fMSA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLnZlcnRleEFycmF5T2JqZWN0O1xuICAgICAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPT09IEVOVi5XRUJHTF9MRUdBQ1kpIHtcbiAgICAgICAgICAgICAgICBuYXRpdmVWYW9FeHRlbnNpb25fMSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmF0aXZlVmFvRXh0ZW5zaW9uXzEpIHtcbiAgICAgICAgICAgICAgICBnbC5jcmVhdGVWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZVZhb0V4dGVuc2lvbl8xLmNyZWF0ZVZlcnRleEFycmF5T0VTKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkgPSBmdW5jdGlvbiAodmFvKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuYXRpdmVWYW9FeHRlbnNpb25fMS5iaW5kVmVydGV4QXJyYXlPRVModmFvKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5ID0gZnVuY3Rpb24gKHZhbykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlVmFvRXh0ZW5zaW9uXzEuZGVsZXRlVmVydGV4QXJyYXlPRVModmFvKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNWYW8gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBnbC5jcmVhdGVWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZ2wuZGVsZXRlVmVydGV4QXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKSB7XG4gICAgICAgICAgICB2YXIgaW5zdGFuY2VFeHRfMSA9IGdsLmdldEV4dGVuc2lvbignQU5HTEVfaW5zdGFuY2VkX2FycmF5cycpO1xuICAgICAgICAgICAgaWYgKGluc3RhbmNlRXh0XzEpIHtcbiAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlRXh0XzEudmVydGV4QXR0cmliRGl2aXNvckFOR0xFKGEsIGIpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlRXh0XzEuZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUoYSwgYiwgYywgZCwgZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBnbC5kcmF3QXJyYXlzSW5zdGFuY2VkID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlRXh0XzEuZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFKGEsIGIsIGMsIGQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0luc3RhbmNlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYW5Vc2VVSW50MzJFbGVtZW50SW5kZXggPSBjb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMiB8fCAhIWNvbnRleHQuZXh0ZW5zaW9ucy51aW50MzJFbGVtZW50SW5kZXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCaW5kcyBnZW9tZXRyeSBzbyB0aGF0IGlzIGNhbiBiZSBkcmF3bi4gQ3JlYXRpbmcgYSBWYW8gaWYgcmVxdWlyZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBpbnN0YW5jZSBvZiBnZW9tZXRyeSB0byBiaW5kXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gW3NoYWRlcl0gLSBpbnN0YW5jZSBvZiBzaGFkZXIgdG8gdXNlIHZhbyBmb3JcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgc2hhZGVyKSB7XG4gICAgICAgIHNoYWRlciA9IHNoYWRlciB8fCB0aGlzLnJlbmRlcmVyLnNoYWRlci5zaGFkZXI7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIC8vIG5vdCBzdXJlIHRoZSBiZXN0IHdheSB0byBhZGRyZXNzIHRoaXMuLlxuICAgICAgICAvLyBjdXJyZW50bHkgZGlmZmVyZW50IHNoYWRlcnMgcmVxdWlyZSBkaWZmZXJlbnQgVkFPcyBmb3IgdGhlIHNhbWUgZ2VvbWV0cnlcbiAgICAgICAgLy8gU3RpbGwgbXVsbGluZyBvdmVyIHRoZSBiZXN0IHdheSB0byBzb2x2ZSB0aGlzIG9uZS4uXG4gICAgICAgIC8vIHdpbGwgbGlrZWx5IG5lZWQgdG8gbW9kaWZ5IHRoZSBzaGFkZXIgYXR0cmlidXRlIGxvY2F0aW9ucyBhdCBydW4gdGltZSFcbiAgICAgICAgdmFyIHZhb3MgPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgaWYgKCF2YW9zKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2dlb21ldHJ5LmlkXSA9IGdlb21ldHJ5O1xuICAgICAgICAgICAgZ2VvbWV0cnkuZGlzcG9zZVJ1bm5lci5hZGQodGhpcyk7XG4gICAgICAgICAgICBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXSA9IHZhb3MgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFvID0gdmFvc1tzaGFkZXIucHJvZ3JhbS5pZF0gfHwgdGhpcy5pbml0R2VvbWV0cnlWYW8oZ2VvbWV0cnksIHNoYWRlci5wcm9ncmFtKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlR2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyAhPT0gdmFvKSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNWYW8pIHtcbiAgICAgICAgICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkodmFvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVWYW8oZ2VvbWV0cnksIHNoYWRlci5wcm9ncmFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIC0gb3B0aW1pc2UgbGF0ZXIhXG4gICAgICAgIC8vIGRvbid0IG5lZWQgdG8gbG9vcCB0aHJvdWdoIGlmIG5vdGhpbmcgY2hhbmdlZCFcbiAgICAgICAgLy8gbWF5YmUgbG9vayB0byBhZGQgYW4gJ2F1dG91cGRhdGUnIHRvIGdlb21ldHJ5P1xuICAgICAgICB0aGlzLnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0IGFuZCB1bmJpbmQgYW55IGFjdGl2ZSBWQU8gYW5kIGdlb21ldHJ5XG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGJ1ZmZlcnNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZUJ1ZmZlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuX2FjdGl2ZUdlb21ldHJ5O1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBnZW9tZXRyeS5idWZmZXJzW2ldO1xuICAgICAgICAgICAgdmFyIGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgICAgICBpZiAoYnVmZmVyLl91cGRhdGVJRCAhPT0gZ2xCdWZmZXIudXBkYXRlSUQpIHtcbiAgICAgICAgICAgICAgICBnbEJ1ZmZlci51cGRhdGVJRCA9IGJ1ZmZlci5fdXBkYXRlSUQ7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBjYW4gY2FjaGUgdGhpcyBvbiBidWZmZXIhIG1heWJlIGFkZGVkIGEgZ2V0dGVyIC8gc2V0dGVyP1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gYnVmZmVyLmluZGV4ID8gZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIgOiBnbC5BUlJBWV9CVUZGRVI7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyB0aGlzIGNvdWxkIGNoYW5nZSBpZiB0aGUgVkFPIGNoYW5nZXMuLi5cbiAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIGNvbWUgdXAgd2l0aCBhIGJldHRlciB3YXkgdG8gY2FjaGUuLlxuICAgICAgICAgICAgICAgIC8vIGlmICh0aGlzLmJvdW5kQnVmZmVyc1t0eXBlXSAhPT0gZ2xCdWZmZXIpXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuYm91bmRCdWZmZXJzW3R5cGVdID0gZ2xCdWZmZXI7XG4gICAgICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcih0eXBlLCBnbEJ1ZmZlci5idWZmZXIpO1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZEJ1ZmZlciA9IGdsQnVmZmVyO1xuICAgICAgICAgICAgICAgIGlmIChnbEJ1ZmZlci5ieXRlTGVuZ3RoID49IGJ1ZmZlci5kYXRhLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb2Zmc2V0IGlzIGFsd2F5cyB6ZXJvIGZvciBub3chXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlclN1YkRhdGEodHlwZSwgMCwgYnVmZmVyLmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRyYXdUeXBlID0gYnVmZmVyLnN0YXRpYyA/IGdsLlNUQVRJQ19EUkFXIDogZ2wuRFlOQU1JQ19EUkFXO1xuICAgICAgICAgICAgICAgICAgICBnbEJ1ZmZlci5ieXRlTGVuZ3RoID0gYnVmZmVyLmRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YSh0eXBlLCBidWZmZXIuZGF0YSwgZHJhd1R5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgY29tcGFiaWxpdHkgYmV0d2VlbiBhIGdlb21ldHJ5IGFuZCBhIHByb2dyYW1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIEdlb21ldHJ5IGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSBQcm9ncmFtIGluc3RhbmNlXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmNoZWNrQ29tcGF0aWJpbGl0eSA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgcHJvZ3JhbSkge1xuICAgICAgICAvLyBnZW9tZXRyeSBtdXN0IGhhdmUgYXQgbGVhc3QgYWxsIHRoZSBhdHRyaWJ1dGVzIHRoYXQgdGhlIHNoYWRlciByZXF1aXJlcy5cbiAgICAgICAgdmFyIGdlb21ldHJ5QXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIHZhciBzaGFkZXJBdHRyaWJ1dGVzID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhO1xuICAgICAgICBmb3IgKHZhciBqIGluIHNoYWRlckF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGlmICghZ2VvbWV0cnlBdHRyaWJ1dGVzW2pdKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwic2hhZGVyIGFuZCBnZW9tZXRyeSBpbmNvbXBhdGlibGUsIGdlb21ldHJ5IG1pc3NpbmcgdGhlIFxcXCJcIiArIGogKyBcIlxcXCIgYXR0cmlidXRlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIGdlb21ldHJ5IGFuZCBwcm9ncmFtIGFuZCBnZW5lcmF0ZXMgYSB1bmlxdWUgc2lnbmF0dXJlIGZvciB0aGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIHRvIGdldCBzaWduYXR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBwcm9ncmFtIC0gdG8gdGVzdCBnZW9tZXRyeSBhZ2FpbnN0XG4gICAgICogQHJldHVybnMge1N0cmluZ30gVW5pcXVlIHNpZ25hdHVyZSBvZiB0aGUgZ2VvbWV0cnkgYW5kIHByb2dyYW1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmdldFNpZ25hdHVyZSA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgcHJvZ3JhbSkge1xuICAgICAgICB2YXIgYXR0cmlicyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIHZhciBzaGFkZXJBdHRyaWJ1dGVzID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhO1xuICAgICAgICB2YXIgc3RyaW5ncyA9IFsnZycsIGdlb21ldHJ5LmlkXTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBhdHRyaWJzKSB7XG4gICAgICAgICAgICBpZiAoc2hhZGVyQXR0cmlidXRlc1tpXSkge1xuICAgICAgICAgICAgICAgIHN0cmluZ3MucHVzaChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyaW5ncy5qb2luKCctJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9yIGdldHMgVmFvIHdpdGggdGhlIHNhbWUgc3RydWN0dXJlIGFzIHRoZSBnZW9tZXRyeSBhbmQgc3RvcmVzIGl0IG9uIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBJZiB2YW8gaXMgY3JlYXRlZCwgaXQgaXMgYm91bmQgYXV0b21hdGljYWxseS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gSW5zdGFuY2Ugb2YgZ2VvbWV0cnkgdG8gdG8gZ2VuZXJhdGUgVmFvIGZvclxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBwcm9ncmFtIC0gSW5zdGFuY2Ugb2YgcHJvZ3JhbVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5pbml0R2VvbWV0cnlWYW8gPSBmdW5jdGlvbiAoZ2VvbWV0cnksIHByb2dyYW0pIHtcbiAgICAgICAgdGhpcy5jaGVja0NvbXBhdGliaWxpdHkoZ2VvbWV0cnksIHByb2dyYW0pO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgQ09OVEVYVF9VSUQgPSB0aGlzLkNPTlRFWFRfVUlEO1xuICAgICAgICB2YXIgc2lnbmF0dXJlID0gdGhpcy5nZXRTaWduYXR1cmUoZ2VvbWV0cnksIHByb2dyYW0pO1xuICAgICAgICB2YXIgdmFvT2JqZWN0SGFzaCA9IGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICB2YXIgdmFvID0gdmFvT2JqZWN0SGFzaFtzaWduYXR1cmVdO1xuICAgICAgICBpZiAodmFvKSB7XG4gICAgICAgICAgICAvLyB0aGlzIHdpbGwgZ2l2ZSB1cyBlYXN5IGFjY2VzcyB0byB0aGUgdmFvXG4gICAgICAgICAgICB2YW9PYmplY3RIYXNoW3Byb2dyYW0uaWRdID0gdmFvO1xuICAgICAgICAgICAgcmV0dXJuIHZhbztcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmZmVycyA9IGdlb21ldHJ5LmJ1ZmZlcnM7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHRlbXBTdHJpZGUgPSB7fTtcbiAgICAgICAgdmFyIHRlbXBTdGFydCA9IHt9O1xuICAgICAgICBmb3IgKHZhciBqIGluIGJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIHRlbXBTdHJpZGVbal0gPSAwO1xuICAgICAgICAgICAgdGVtcFN0YXJ0W2pdID0gMDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBqIGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGlmICghYXR0cmlidXRlc1tqXS5zaXplICYmIHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXSkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbal0uc2l6ZSA9IHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXS5zaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWF0dHJpYnV0ZXNbal0uc2l6ZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlBJWEkgR2VvbWV0cnkgYXR0cmlidXRlICdcIiArIGogKyBcIicgc2l6ZSBjYW5ub3QgYmUgZGV0ZXJtaW5lZCAobGlrZWx5IHRoZSBib3VuZCBzaGFkZXIgZG9lcyBub3QgaGF2ZSB0aGUgYXR0cmlidXRlKVwiKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVtcFN0cmlkZVthdHRyaWJ1dGVzW2pdLmJ1ZmZlcl0gKz0gYXR0cmlidXRlc1tqXS5zaXplICogYnl0ZVNpemVNYXAkMVthdHRyaWJ1dGVzW2pdLnR5cGVdO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbal07XG4gICAgICAgICAgICB2YXIgYXR0cmliU2l6ZSA9IGF0dHJpYnV0ZS5zaXplO1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5zdHJpZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICh0ZW1wU3RyaWRlW2F0dHJpYnV0ZS5idWZmZXJdID09PSBhdHRyaWJTaXplICogYnl0ZVNpemVNYXAkMVthdHRyaWJ1dGUudHlwZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnN0cmlkZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RyaWRlID0gdGVtcFN0cmlkZVthdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlLnN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RhcnQgPSB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl07XG4gICAgICAgICAgICAgICAgdGVtcFN0YXJ0W2F0dHJpYnV0ZS5idWZmZXJdICs9IGF0dHJpYlNpemUgKiBieXRlU2l6ZU1hcCQxW2F0dHJpYnV0ZS50eXBlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YW8gPSBnbC5jcmVhdGVWZXJ0ZXhBcnJheSgpO1xuICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkodmFvKTtcbiAgICAgICAgLy8gZmlyc3QgdXBkYXRlIC0gYW5kIGNyZWF0ZSB0aGUgYnVmZmVycyFcbiAgICAgICAgLy8gb25seSBjcmVhdGUgYSBnbCBidWZmZXIgaWYgaXQgYWN0dWFsbHkgZ2V0c1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBidWZmZXJzW2ldO1xuICAgICAgICAgICAgaWYgKCFidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0pIHtcbiAgICAgICAgICAgICAgICBidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0gPSBuZXcgR0xCdWZmZXIoZ2wuY3JlYXRlQnVmZmVyKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMubWFuYWdlZEJ1ZmZlcnNbYnVmZmVyLmlkXSA9IGJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBidWZmZXIuZGlzcG9zZVJ1bm5lci5hZGQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0ucmVmQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIC0gbWF5YmUgbWFrZSB0aGlzIGEgZGF0YSBvYmplY3Q/XG4gICAgICAgIC8vIGxldHMgd2FpdCB0byBzZWUgaWYgd2UgbmVlZCB0byBmaXJzdCFcbiAgICAgICAgdGhpcy5hY3RpdmF0ZVZhbyhnZW9tZXRyeSwgcHJvZ3JhbSk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IHZhbztcbiAgICAgICAgLy8gYWRkIGl0IHRvIHRoZSBjYWNoZSFcbiAgICAgICAgdmFvT2JqZWN0SGFzaFtwcm9ncmFtLmlkXSA9IHZhbztcbiAgICAgICAgdmFvT2JqZWN0SGFzaFtzaWduYXR1cmVdID0gdmFvO1xuICAgICAgICByZXR1cm4gdmFvO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgYnVmZmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcn0gYnVmZmVyIC0gYnVmZmVyIHdpdGggZGF0YVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSAtIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGRlbGV0ZVZlcnRleEFycmF5XG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VCdWZmZXIgPSBmdW5jdGlvbiAoYnVmZmVyLCBjb250ZXh0TG9zdCkge1xuICAgICAgICBpZiAoIXRoaXMubWFuYWdlZEJ1ZmZlcnNbYnVmZmVyLmlkXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1hbmFnZWRCdWZmZXJzW2J1ZmZlci5pZF07XG4gICAgICAgIHZhciBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBidWZmZXIuZGlzcG9zZVJ1bm5lci5yZW1vdmUodGhpcyk7XG4gICAgICAgIGlmICghZ2xCdWZmZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbnRleHRMb3N0KSB7XG4gICAgICAgICAgICBnbC5kZWxldGVCdWZmZXIoZ2xCdWZmZXIuYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBnZW9tZXRyeVxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBHZW9tZXRyeSB3aXRoIGJ1ZmZlcnMuIE9ubHkgVkFPIHdpbGwgYmUgZGlzcG9zZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gLSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBkZWxldGVWZXJ0ZXhBcnJheVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5kaXNwb3NlR2VvbWV0cnkgPSBmdW5jdGlvbiAoZ2VvbWV0cnksIGNvbnRleHRMb3N0KSB7XG4gICAgICAgIGlmICghdGhpcy5tYW5hZ2VkR2VvbWV0cmllc1tnZW9tZXRyeS5pZF0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5tYW5hZ2VkR2VvbWV0cmllc1tnZW9tZXRyeS5pZF07XG4gICAgICAgIHZhciB2YW9zID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcbiAgICAgICAgZ2VvbWV0cnkuZGlzcG9zZVJ1bm5lci5yZW1vdmUodGhpcyk7XG4gICAgICAgIGlmICghdmFvcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJ1ZiA9IGJ1ZmZlcnNbaV0uX2dsQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIGJ1Zi5yZWZDb3VudC0tO1xuICAgICAgICAgICAgaWYgKGJ1Zi5yZWZDb3VudCA9PT0gMCAmJiAhY29udGV4dExvc3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2VCdWZmZXIoYnVmZmVyc1tpXSwgY29udGV4dExvc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghY29udGV4dExvc3QpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHZhb0lkIGluIHZhb3MpIHtcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgb25seSBzaWduYXR1cmVzLCBldmVyeXRoaW5nIGVsc2UgYXJlIGNvcGllc1xuICAgICAgICAgICAgICAgIGlmICh2YW9JZFswXSA9PT0gJ2cnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YW8gPSB2YW9zW3Zhb0lkXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyA9PT0gdmFvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5KHZhbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGRpc3Bvc2UgYWxsIFdlYkdMIHJlc291cmNlcyBvZiBhbGwgbWFuYWdlZCBnZW9tZXRyaWVzIGFuZCBidWZmZXJzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIC0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgYGdsLmRlbGV0ZWAgY2FsbHNcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUFsbCA9IGZ1bmN0aW9uIChjb250ZXh0TG9zdCkge1xuICAgICAgICB2YXIgYWxsID0gT2JqZWN0LmtleXModGhpcy5tYW5hZ2VkR2VvbWV0cmllcyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VHZW9tZXRyeSh0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2FsbFtpXV0sIGNvbnRleHRMb3N0KTtcbiAgICAgICAgfVxuICAgICAgICBhbGwgPSBPYmplY3Qua2V5cyh0aGlzLm1hbmFnZWRCdWZmZXJzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUJ1ZmZlcih0aGlzLm1hbmFnZWRCdWZmZXJzW2FsbFtpXV0sIGNvbnRleHRMb3N0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWN0aXZhdGUgdmVydGV4IGFycmF5IG9iamVjdFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBHZW9tZXRyeSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBwcm9ncmFtIC0gU2hhZGVyIHByb2dyYW0gaW5zdGFuY2VcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuYWN0aXZhdGVWYW8gPSBmdW5jdGlvbiAoZ2VvbWV0cnksIHByb2dyYW0pIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIENPTlRFWFRfVUlEID0gdGhpcy5DT05URVhUX1VJRDtcbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIGlmIChnZW9tZXRyeS5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgLy8gZmlyc3QgdXBkYXRlIHRoZSBpbmRleCBidWZmZXIgaWYgd2UgaGF2ZSBvbmUuLlxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0uYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGFzdEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIC8vIGFkZCBhIG5ldyBvbmUhXG4gICAgICAgIGZvciAodmFyIGogaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbal07XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgIHZhciBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIGlmIChwcm9ncmFtLmF0dHJpYnV0ZURhdGFbal0pIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdEJ1ZmZlciAhPT0gZ2xCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGdsQnVmZmVyLmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RCdWZmZXIgPSBnbEJ1ZmZlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdLmxvY2F0aW9uO1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gaW50cm9kdWNlIHN0YXRlIGFnYWluXG4gICAgICAgICAgICAgICAgLy8gd2UgY2FuIG9wdGltaXNlIHRoaXMgZm9yIG9sZGVyIGRldmljZXMgdGhhdCBoYXZlIG5vIFZBT3NcbiAgICAgICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihsb2NhdGlvbiwgYXR0cmlidXRlLnNpemUsIGF0dHJpYnV0ZS50eXBlIHx8IGdsLkZMT0FULCBhdHRyaWJ1dGUubm9ybWFsaXplZCwgYXR0cmlidXRlLnN0cmlkZSwgYXR0cmlidXRlLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLmluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gY2FsY3VsYXRlIGluc3RhbmNlIGNvdW50IGJhc2VkIG9mIHRoaXMuLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYkRpdmlzb3IobG9jYXRpb24sIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdnZW9tZXRyeSBlcnJvciwgR1BVIEluc3RhbmNpbmcgaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGRldmljZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3IHRoZSBnZW9tZXRyeVxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgLSB0aGUgdHlwZSBwcmltaXRpdmUgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzaXplXSAtIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gYmUgcmVuZGVyZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0XSAtIFN0YXJ0aW5nIGluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbnN0YW5jZUNvdW50XSAtIHRoZSBudW1iZXIgb2YgaW5zdGFuY2VzIG9mIHRoZSBzZXQgb2YgZWxlbWVudHMgdG8gZXhlY3V0ZVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKHR5cGUsIHNpemUsIHN0YXJ0LCBpbnN0YW5jZUNvdW50KSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuX2FjdGl2ZUdlb21ldHJ5O1xuICAgICAgICAvLyBUT0RPLi4gdGhpcyBzaG91bGQgbm90IGNoYW5nZSBzbyBtYXliZSBjYWNoZSB0aGUgZnVuY3Rpb24/XG4gICAgICAgIGlmIChnZW9tZXRyeS5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgdmFyIGJ5dGVTaXplID0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YS5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICAgICAgICAgIHZhciBnbFR5cGUgPSBieXRlU2l6ZSA9PT0gMiA/IGdsLlVOU0lHTkVEX1NIT1JUIDogZ2wuVU5TSUdORURfSU5UO1xuICAgICAgICAgICAgaWYgKGJ5dGVTaXplID09PSAyIHx8IChieXRlU2l6ZSA9PT0gNCAmJiB0aGlzLmNhblVzZVVJbnQzMkVsZW1lbnRJbmRleCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2VvbWV0cnkuaW5zdGFuY2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkKHR5cGUsIHNpemUgfHwgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YS5sZW5ndGgsIGdsVHlwZSwgKHN0YXJ0IHx8IDApICogYnl0ZVNpemUsIGluc3RhbmNlQ291bnQgfHwgMSk7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgICAgICBnbC5kcmF3RWxlbWVudHModHlwZSwgc2l6ZSB8fCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2xUeXBlLCAoc3RhcnQgfHwgMCkgKiBieXRlU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigndW5zdXBwb3J0ZWQgaW5kZXggYnVmZmVyIHR5cGU6IHVpbnQzMicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdlb21ldHJ5Lmluc3RhbmNlZCkge1xuICAgICAgICAgICAgLy8gVE9ETyBuZWVkIGEgYmV0dGVyIHdheSB0byBjYWxjdWxhdGUgc2l6ZS4uXG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzSW5zdGFuY2VkKHR5cGUsIHN0YXJ0LCBzaXplIHx8IGdlb21ldHJ5LmdldFNpemUoKSwgaW5zdGFuY2VDb3VudCB8fCAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXModHlwZSwgc3RhcnQsIHNpemUgfHwgZ2VvbWV0cnkuZ2V0U2l6ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuYmluZC9yZXNldCBldmVyeXRoaW5nXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZ2wuYmluZFZlcnRleEFycmF5KG51bGwpO1xuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmVHZW9tZXRyeSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gR2VvbWV0cnlTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIENvbXBvbmVudCBmb3IgbWFza2VkIGVsZW1lbnRzXG4gKlxuICogSG9sZHMgbWFzayBtb2RlIGFuZCB0ZW1wb3JhcnkgZGF0YSBhYm91dCBjdXJyZW50IG1hc2tcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBNYXNrRGF0YSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgTWFza0RhdGFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBbbWFza09iamVjdD1udWxsXSAtIG9iamVjdCB0aGF0IGRlc2NyaWJlcyB0aGUgbWFza1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hc2tEYXRhKG1hc2tPYmplY3QpIHtcbiAgICAgICAgaWYgKG1hc2tPYmplY3QgPT09IHZvaWQgMCkgeyBtYXNrT2JqZWN0ID0gbnVsbDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogTWFzayB0eXBlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTUFTS19UWVBFU31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IE1BU0tfVFlQRVMuTk9ORTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgd2Uga25vdyB0aGUgbWFzayB0eXBlIGJlZm9yZWhhbmRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvRGV0ZWN0ID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoaWNoIGVsZW1lbnQgd2UgdXNlIHRvIG1hc2tcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXNrT2JqZWN0ID0gbWFza09iamVjdCB8fCBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBpdCBiZWxvbmdzIHRvIE1hc2tTeXN0ZW0gcG9vbFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb29sZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRvciBvZiB0aGUgdHlwZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc01hc2tEYXRhID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0ZW5jaWwgY291bnRlciBhYm92ZSB0aGUgbWFzayBpbiBzdGFja1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zdGVuY2lsQ291bnRlciA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2lzc29yIGNvdW50ZXIgYWJvdmUgdGhlIG1hc2sgaW4gc3RhY2tcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc2Npc3NvckNvdW50ZXIgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2Npc3NvciBvcGVyYXRpb24gYWJvdmUgdGhlIG1hc2sgaW4gc3RhY2suXG4gICAgICAgICAqIE51bGwgaWYgX3NjaXNzb3JDb3VudGVyIGlzIHplcm8sIHJlY3RhbmdsZSBpbnN0YW5jZSBpZiBwb3NpdGl2ZS5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zY2lzc29yUmVjdCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUYXJnZXRlZCBlbGVtZW50LiBUZW1wb3JhcnkgdmFyaWFibGUgc2V0IGJ5IE1hc2tTeXN0ZW1cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogcmVzZXRzIHRoZSBtYXNrIGRhdGEgYWZ0ZXIgcG9wTWFzaygpXG4gICAgICovXG4gICAgTWFza0RhdGEucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5wb29sZWQpIHtcbiAgICAgICAgICAgIHRoaXMubWFza09iamVjdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBNQVNLX1RZUEVTLk5PTkU7XG4gICAgICAgICAgICB0aGlzLmF1dG9EZXRlY3QgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RhcmdldCA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjb3BpZXMgY291bnRlcnMgZnJvbSBtYXNrRGF0YSBhYm92ZSwgY2FsbGVkIGZyb20gcHVzaE1hc2soKVxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YXxudWxsfSBtYXNrQWJvdmVcbiAgICAgKi9cbiAgICBNYXNrRGF0YS5wcm90b3R5cGUuY29weUNvdW50ZXJzT3JSZXNldCA9IGZ1bmN0aW9uIChtYXNrQWJvdmUpIHtcbiAgICAgICAgaWYgKG1hc2tBYm92ZSkge1xuICAgICAgICAgICAgdGhpcy5fc3RlbmNpbENvdW50ZXIgPSBtYXNrQWJvdmUuX3N0ZW5jaWxDb3VudGVyO1xuICAgICAgICAgICAgdGhpcy5fc2Npc3NvckNvdW50ZXIgPSBtYXNrQWJvdmUuX3NjaXNzb3JDb3VudGVyO1xuICAgICAgICAgICAgdGhpcy5fc2Npc3NvclJlY3QgPSBtYXNrQWJvdmUuX3NjaXNzb3JSZWN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc3RlbmNpbENvdW50ZXIgPSAwO1xuICAgICAgICAgICAgdGhpcy5fc2Npc3NvckNvdW50ZXIgPSAwO1xuICAgICAgICAgICAgdGhpcy5fc2Npc3NvclJlY3QgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTWFza0RhdGE7XG59KCkpO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dCB7V2ViR0xQcm9ncmFtfVxuICogQHBhcmFtIHR5cGUge051bWJlcn0gdGhlIHR5cGUsIGNhbiBiZSBlaXRoZXIgVkVSVEVYX1NIQURFUiBvciBGUkFHTUVOVF9TSEFERVJcbiAqIEBwYXJhbSBzcmMge3N0cmluZ30gVGhlIHZlcnRleCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcmV0dXJuIHtXZWJHTFNoYWRlcn0gdGhlIHNoYWRlclxuICovXG5mdW5jdGlvbiBjb21waWxlU2hhZGVyKGdsLCB0eXBlLCBzcmMpIHtcbiAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xuICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNyYyk7XG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuICAgIHJldHVybiBzaGFkZXI7XG59XG4vKipcbiAqIEBtZXRob2QgY29tcGlsZVByb2dyYW1cbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dCB7V2ViR0xQcm9ncmFtfVxuICogQHBhcmFtIHZlcnRleFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEBwYXJhbSBmcmFnbWVudFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIGF0dHJpYnV0ZUxvY2F0aW9ucyB7T2JqZWN0fSBBbiBhdHRyaWJ1dGUgbG9jYXRpb24gbWFwIHRoYXQgbGV0cyB5b3UgbWFudWFsbHkgc2V0IHRoZSBhdHRyaWJ1dGUgbG9jYXRpb25zXG4gKiBAcmV0dXJuIHtXZWJHTFByb2dyYW19IHRoZSBzaGFkZXIgcHJvZ3JhbVxuICovXG5mdW5jdGlvbiBjb21waWxlUHJvZ3JhbShnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYywgYXR0cmlidXRlTG9jYXRpb25zKSB7XG4gICAgdmFyIGdsVmVydFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHZlcnRleFNyYyk7XG4gICAgdmFyIGdsRnJhZ1NoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTcmMpO1xuICAgIHZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBnbFZlcnRTaGFkZXIpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBnbEZyYWdTaGFkZXIpO1xuICAgIC8vIG9wdGlvbmFsbHksIHNldCB0aGUgYXR0cmlidXRlcyBtYW51YWxseSBmb3IgdGhlIHByb2dyYW0gcmF0aGVyIHRoYW4gbGV0dGluZyBXZWJHTCBkZWNpZGUuLlxuICAgIGlmIChhdHRyaWJ1dGVMb2NhdGlvbnMpIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBhdHRyaWJ1dGVMb2NhdGlvbnMpIHtcbiAgICAgICAgICAgIGdsLmJpbmRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBhdHRyaWJ1dGVMb2NhdGlvbnNbaV0sIGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuICAgIC8vIGlmIGxpbmtpbmcgZmFpbHMsIHRoZW4gbG9nIGFuZCBjbGVhbnVwXG4gICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSkge1xuICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihnbFZlcnRTaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHZlcnRleFNyYyk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGdsLmdldFNoYWRlckluZm9Mb2coZ2xWZXJ0U2hhZGVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoZ2xGcmFnU2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihmcmFnbWVudFNyYyk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGdsLmdldFNoYWRlckluZm9Mb2coZ2xGcmFnU2hhZGVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5lcnJvcignUGl4aS5qcyBFcnJvcjogQ291bGQgbm90IGluaXRpYWxpemUgc2hhZGVyLicpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdnbC5WQUxJREFURV9TVEFUVVMnLCBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLlZBTElEQVRFX1NUQVRVUykpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdnbC5nZXRFcnJvcigpJywgZ2wuZ2V0RXJyb3IoKSk7XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGEgcHJvZ3JhbSBpbmZvIGxvZywgbG9nIGl0XG4gICAgICAgIGlmIChnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSAhPT0gJycpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUGl4aS5qcyBXYXJuaW5nOiBnbC5nZXRQcm9ncmFtSW5mb0xvZygpJywgZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkpO1xuICAgICAgICB9XG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIHByb2dyYW0gPSBudWxsO1xuICAgIH1cbiAgICAvLyBjbGVhbiB1cCBzb21lIHNoYWRlcnNcbiAgICBnbC5kZWxldGVTaGFkZXIoZ2xWZXJ0U2hhZGVyKTtcbiAgICBnbC5kZWxldGVTaGFkZXIoZ2xGcmFnU2hhZGVyKTtcbiAgICByZXR1cm4gcHJvZ3JhbTtcbn1cblxuZnVuY3Rpb24gYm9vbGVhbkFycmF5KHNpemUpIHtcbiAgICB2YXIgYXJyYXkgPSBuZXcgQXJyYXkoc2l6ZSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcnJheVtpXSA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG4vKipcbiAqIEBtZXRob2QgZGVmYXVsdFZhbHVlXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gdHlwZSB7U3RyaW5nfSBUeXBlIG9mIHZhbHVlXG4gKiBAcGFyYW0gc2l6ZSB7TnVtYmVyfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZGVmYXVsdFZhbHVlKHR5cGUsIHNpemUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnZmxvYXQnOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGNhc2UgJ3ZlYzInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMiAqIHNpemUpO1xuICAgICAgICBjYXNlICd2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDMgKiBzaXplKTtcbiAgICAgICAgY2FzZSAndmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSg0ICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2ludCc6XG4gICAgICAgIGNhc2UgJ3NhbXBsZXIyRCc6XG4gICAgICAgIGNhc2UgJ3NhbXBsZXIyREFycmF5JzpcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBjYXNlICdpdmVjMic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoMiAqIHNpemUpO1xuICAgICAgICBjYXNlICdpdmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoMyAqIHNpemUpO1xuICAgICAgICBjYXNlICdpdmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoNCAqIHNpemUpO1xuICAgICAgICBjYXNlICdib29sJzpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY2FzZSAnYnZlYzInOlxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSgyICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2J2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoMyAqIHNpemUpO1xuICAgICAgICBjYXNlICdidmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDQgKiBzaXplKTtcbiAgICAgICAgY2FzZSAnbWF0Mic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCxcbiAgICAgICAgICAgICAgICAwLCAxXSk7XG4gICAgICAgIGNhc2UgJ21hdDMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMSwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAxXSk7XG4gICAgICAgIGNhc2UgJ21hdDQnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAxLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDAsIDFdKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbnZhciB1bmtub3duQ29udGV4dCA9IHt9O1xudmFyIGNvbnRleHQgPSB1bmtub3duQ29udGV4dDtcbi8qKlxuICogcmV0dXJucyBhIGxpdHRsZSBXZWJHTCBjb250ZXh0IHRvIHVzZSBmb3IgcHJvZ3JhbSBpbnNwZWN0aW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBhIGdsIGNvbnRleHQgdG8gdGVzdCB3aXRoXG4gKi9cbmZ1bmN0aW9uIGdldFRlc3RDb250ZXh0KCkge1xuICAgIGlmIChjb250ZXh0ID09PSB1bmtub3duQ29udGV4dCB8fCAoY29udGV4dCAmJiBjb250ZXh0LmlzQ29udGV4dExvc3QoKSkpIHtcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB2YXIgZ2wgPSB2b2lkIDA7XG4gICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID49IEVOVi5XRUJHTDIpIHtcbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsMicsIHt9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWdsKSB7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIHt9KVxuICAgICAgICAgICAgICAgIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCB7fSk7XG4gICAgICAgICAgICBpZiAoIWdsKSB7XG4gICAgICAgICAgICAgICAgLy8gZmFpbCwgbm90IGFibGUgdG8gZ2V0IGEgY29udGV4dFxuICAgICAgICAgICAgICAgIGdsID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGZvciBzaGFkZXIgdGVzdGluZy4uXG4gICAgICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kcmF3X2J1ZmZlcnMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0ID0gZ2w7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0O1xufVxuXG52YXIgbWF4RnJhZ21lbnRQcmVjaXNpb247XG5mdW5jdGlvbiBnZXRNYXhGcmFnbWVudFByZWNpc2lvbigpIHtcbiAgICBpZiAoIW1heEZyYWdtZW50UHJlY2lzaW9uKSB7XG4gICAgICAgIG1heEZyYWdtZW50UHJlY2lzaW9uID0gUFJFQ0lTSU9OLk1FRElVTTtcbiAgICAgICAgdmFyIGdsID0gZ2V0VGVzdENvbnRleHQoKTtcbiAgICAgICAgaWYgKGdsKSB7XG4gICAgICAgICAgICBpZiAoZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHNoYWRlckZyYWdtZW50ID0gZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGdsLkZSQUdNRU5UX1NIQURFUiwgZ2wuSElHSF9GTE9BVCk7XG4gICAgICAgICAgICAgICAgbWF4RnJhZ21lbnRQcmVjaXNpb24gPSBzaGFkZXJGcmFnbWVudC5wcmVjaXNpb24gPyBQUkVDSVNJT04uSElHSCA6IFBSRUNJU0lPTi5NRURJVU07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1heEZyYWdtZW50UHJlY2lzaW9uO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGZsb2F0IHByZWNpc2lvbiBvbiB0aGUgc2hhZGVyLCBlbnN1cmluZyB0aGUgZGV2aWNlIHN1cHBvcnRzIHRoZSByZXF1ZXN0IHByZWNpc2lvbi5cbiAqIElmIHRoZSBwcmVjaXNpb24gaXMgYWxyZWFkeSBwcmVzZW50LCBpdCBqdXN0IGVuc3VyZXMgdGhhdCB0aGUgZGV2aWNlIGlzIGFibGUgdG8gaGFuZGxlIGl0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3JjIC0gVGhlIHNoYWRlciBzb3VyY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0ZWRQcmVjaXNpb24gLSBUaGUgcmVxdWVzdCBmbG9hdCBwcmVjaXNpb24gb2YgdGhlIHNoYWRlci4gT3B0aW9ucyBhcmUgJ2xvd3AnLCAnbWVkaXVtcCcgb3IgJ2hpZ2hwJy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXhTdXBwb3J0ZWRQcmVjaXNpb24gLSBUaGUgbWF4aW11bSBwcmVjaXNpb24gdGhlIHNoYWRlciBzdXBwb3J0cy5cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IG1vZGlmaWVkIHNoYWRlciBzb3VyY2VcbiAqL1xuZnVuY3Rpb24gc2V0UHJlY2lzaW9uKHNyYywgcmVxdWVzdGVkUHJlY2lzaW9uLCBtYXhTdXBwb3J0ZWRQcmVjaXNpb24pIHtcbiAgICBpZiAoc3JjLnN1YnN0cmluZygwLCA5KSAhPT0gJ3ByZWNpc2lvbicpIHtcbiAgICAgICAgLy8gbm8gcHJlY2lzaW9uIHN1cHBsaWVkLCBzbyBQaXhpSlMgd2lsbCBhZGQgdGhlIHJlcXVlc3RlZCBsZXZlbC5cbiAgICAgICAgdmFyIHByZWNpc2lvbiA9IHJlcXVlc3RlZFByZWNpc2lvbjtcbiAgICAgICAgLy8gSWYgaGlnaHAgaXMgcmVxdWVzdGVkIGJ1dCBub3Qgc3VwcG9ydGVkLCBkb3duZ3JhZGUgcHJlY2lzaW9uIHRvIGEgbGV2ZWwgYWxsIGRldmljZXMgc3VwcG9ydC5cbiAgICAgICAgaWYgKHJlcXVlc3RlZFByZWNpc2lvbiA9PT0gUFJFQ0lTSU9OLkhJR0ggJiYgbWF4U3VwcG9ydGVkUHJlY2lzaW9uICE9PSBQUkVDSVNJT04uSElHSCkge1xuICAgICAgICAgICAgcHJlY2lzaW9uID0gUFJFQ0lTSU9OLk1FRElVTTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCJwcmVjaXNpb24gXCIgKyBwcmVjaXNpb24gKyBcIiBmbG9hdDtcXG5cIiArIHNyYztcbiAgICB9XG4gICAgZWxzZSBpZiAobWF4U3VwcG9ydGVkUHJlY2lzaW9uICE9PSBQUkVDSVNJT04uSElHSCAmJiBzcmMuc3Vic3RyaW5nKDAsIDE1KSA9PT0gJ3ByZWNpc2lvbiBoaWdocCcpIHtcbiAgICAgICAgLy8gcHJlY2lzaW9uIHdhcyBzdXBwbGllZCwgYnV0IGF0IGEgbGV2ZWwgdGhpcyBkZXZpY2UgZG9lcyBub3Qgc3VwcG9ydCwgc28gZG93bmdyYWRpbmcgdG8gbWVkaXVtcC5cbiAgICAgICAgcmV0dXJuIHNyYy5yZXBsYWNlKCdwcmVjaXNpb24gaGlnaHAnLCAncHJlY2lzaW9uIG1lZGl1bXAnKTtcbiAgICB9XG4gICAgcmV0dXJuIHNyYztcbn1cblxudmFyIEdMU0xfVE9fU0laRSA9IHtcbiAgICBmbG9hdDogMSxcbiAgICB2ZWMyOiAyLFxuICAgIHZlYzM6IDMsXG4gICAgdmVjNDogNCxcbiAgICBpbnQ6IDEsXG4gICAgaXZlYzI6IDIsXG4gICAgaXZlYzM6IDMsXG4gICAgaXZlYzQ6IDQsXG4gICAgYm9vbDogMSxcbiAgICBidmVjMjogMixcbiAgICBidmVjMzogMyxcbiAgICBidmVjNDogNCxcbiAgICBtYXQyOiA0LFxuICAgIG1hdDM6IDksXG4gICAgbWF0NDogMTYsXG4gICAgc2FtcGxlcjJEOiAxLFxufTtcbi8qKlxuICogQHByaXZhdGVcbiAqIEBtZXRob2QgbWFwU2l6ZVxuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIHR5cGUge1N0cmluZ31cbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuZnVuY3Rpb24gbWFwU2l6ZSh0eXBlKSB7XG4gICAgcmV0dXJuIEdMU0xfVE9fU0laRVt0eXBlXTtcbn1cblxudmFyIEdMX1RBQkxFID0gbnVsbDtcbnZhciBHTF9UT19HTFNMX1RZUEVTID0ge1xuICAgIEZMT0FUOiAnZmxvYXQnLFxuICAgIEZMT0FUX1ZFQzI6ICd2ZWMyJyxcbiAgICBGTE9BVF9WRUMzOiAndmVjMycsXG4gICAgRkxPQVRfVkVDNDogJ3ZlYzQnLFxuICAgIElOVDogJ2ludCcsXG4gICAgSU5UX1ZFQzI6ICdpdmVjMicsXG4gICAgSU5UX1ZFQzM6ICdpdmVjMycsXG4gICAgSU5UX1ZFQzQ6ICdpdmVjNCcsXG4gICAgQk9PTDogJ2Jvb2wnLFxuICAgIEJPT0xfVkVDMjogJ2J2ZWMyJyxcbiAgICBCT09MX1ZFQzM6ICdidmVjMycsXG4gICAgQk9PTF9WRUM0OiAnYnZlYzQnLFxuICAgIEZMT0FUX01BVDI6ICdtYXQyJyxcbiAgICBGTE9BVF9NQVQzOiAnbWF0MycsXG4gICAgRkxPQVRfTUFUNDogJ21hdDQnLFxuICAgIFNBTVBMRVJfMkQ6ICdzYW1wbGVyMkQnLFxuICAgIElOVF9TQU1QTEVSXzJEOiAnc2FtcGxlcjJEJyxcbiAgICBVTlNJR05FRF9JTlRfU0FNUExFUl8yRDogJ3NhbXBsZXIyRCcsXG4gICAgU0FNUExFUl9DVUJFOiAnc2FtcGxlckN1YmUnLFxuICAgIElOVF9TQU1QTEVSX0NVQkU6ICdzYW1wbGVyQ3ViZScsXG4gICAgVU5TSUdORURfSU5UX1NBTVBMRVJfQ1VCRTogJ3NhbXBsZXJDdWJlJyxcbiAgICBTQU1QTEVSXzJEX0FSUkFZOiAnc2FtcGxlcjJEQXJyYXknLFxuICAgIElOVF9TQU1QTEVSXzJEX0FSUkFZOiAnc2FtcGxlcjJEQXJyYXknLFxuICAgIFVOU0lHTkVEX0lOVF9TQU1QTEVSXzJEX0FSUkFZOiAnc2FtcGxlcjJEQXJyYXknLFxufTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5mdW5jdGlvbiBtYXBUeXBlKGdsLCB0eXBlKSB7XG4gICAgaWYgKCFHTF9UQUJMRSkge1xuICAgICAgICB2YXIgdHlwZU5hbWVzID0gT2JqZWN0LmtleXMoR0xfVE9fR0xTTF9UWVBFUyk7XG4gICAgICAgIEdMX1RBQkxFID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZU5hbWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgdG4gPSB0eXBlTmFtZXNbaV07XG4gICAgICAgICAgICBHTF9UQUJMRVtnbFt0bl1dID0gR0xfVE9fR0xTTF9UWVBFU1t0bl07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEdMX1RBQkxFW3R5cGVdO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzICovXG4vLyBQYXJzZXJzLCBlYWNoIG9uZSBvZiB0aGVzZSB3aWxsIHRha2UgYSBsb29rIGF0IHRoZSB0eXBlIG9mIHNoYWRlciBwcm9wZXJ0eSBhbmQgdW5pZm9ybS5cbi8vIGlmIHRoZXkgcGFzcyB0aGUgdGVzdCBmdW5jdGlvbiB0aGVuIHRoZSBjb2RlIGZ1bmN0aW9uIGlzIGNhbGxlZCB0aGF0IHJldHVybnMgYSB0aGUgc2hhZGVyIHVwbG9hZCBjb2RlIGZvciB0aGF0IHVuaWZvcm0uXG4vLyBTaGFkZXIgdXBsb2FkIGNvZGUgaXMgYXV0b21hZ2ljYWxseSBnZW5lcmF0ZWQgd2l0aCB0aGVzZSBwYXJzZXJzLlxuLy8gSWYgbm8gcGFyc2VyIGlzIHZhbGlkIHRoZW4gdGhlIGRlZmF1bHQgdXBsb2FkIGZ1bmN0aW9ucyBhcmUgdXNlZC5cbi8vIGV4cG9zaW5nIFBhcnNlcnMgbWVhbnMgdGhhdCBjdXN0b20gdXBsb2FkIGxvZ2ljIGNhbiBiZSBhZGRlZCB0byBwaXhpJ3Mgc2hhZGVycy5cbi8vIEEgZ29vZCBleGFtcGxlIHdvdWxkIGJlIGEgcGl4aSByZWN0YW5nbGUgY2FuIGJlIGRpcmVjdGx5IHNldCBvbiBhIHVuaWZvcm0uXG4vLyBJZiB0aGUgc2hhZGVyIHNlZXMgaXQgaXQga25vd3MgaG93IHRvIHVwbG9hZCB0aGUgcmVjdGFuZ2xlIHN0cnVjdHVyZSBhcyBhIHZlYzRcbi8vIGZvcm1hdCBpcyBhcyBmb2xsb3dzOlxuLy9cbi8vIHtcbi8vICAgICB0ZXN0OiAoZGF0YSwgdW5pZm9ybSkgPT4ge30gPC0tLSB0ZXN0IGlzIHRoaXMgY29kZSBzaG91bGQgYmUgdXNlZCBmb3IgdGhpcyB1bmlmb3JtXG4vLyAgICAgY29kZTogKG5hbWUsIHVuaWZvcm0pID0+IHt9IDwtLS0gcmV0dXJucyB0aGUgc3RyaW5nIG9mIHRoZSBwaWVjZSBvZiBjb2RlIHRoYXQgdXBsb2FkcyB0aGUgdW5pZm9ybVxuLy8gfVxudmFyIHVuaWZvcm1QYXJzZXJzID0gW1xuICAgIC8vIGEgZmxvYXQgY2FjaGUgbGF5ZXJcbiAgICB7XG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS50eXBlID09PSAnZmxvYXQnICYmIGRhdGEuc2l6ZSA9PT0gMTtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgIGlmKHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdICE9PSB1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS52YWx1ZSlcXG4gICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgIHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlID0gdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl1cXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLmxvY2F0aW9uLCB1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXSlcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgXCI7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICAvLyBoYW5kbGluZyBzYW1wbGVyc1xuICAgIHtcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgICAgICByZXR1cm4gKGRhdGEudHlwZSA9PT0gJ3NhbXBsZXIyRCcgfHwgZGF0YS50eXBlID09PSAnc2FtcGxlckN1YmUnIHx8IGRhdGEudHlwZSA9PT0gJ3NhbXBsZXIyREFycmF5JykgJiYgZGF0YS5zaXplID09PSAxICYmICFkYXRhLmlzQXJyYXk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZGU6IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBcInQgPSBzeW5jRGF0YS50ZXh0dXJlQ291bnQrKztcXG5cXG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlLmJpbmQodXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0sIHQpO1xcblxcbiAgICAgICAgICAgIGlmKHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlICE9PSB0KVxcbiAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgdWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWUgPSB0O1xcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHQpO1xcbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuXFxuICAgICAgICAgICAgfVwiOyB9LFxuICAgIH0sXG4gICAgLy8gdXBsb2FkaW5nIHBpeGkgbWF0cml4IG9iamVjdCB0byBtYXQzXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSwgdW5pZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudHlwZSA9PT0gJ21hdDMnICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiB1bmlmb3JtLmEgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIC8vIFRPRE8gYW5kIHNvbWUgc21hcnQgY2FjaGluZyBkaXJ0eSBpZHMgaGVyZSFcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIGZhbHNlLCB1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS50b0FycmF5KHRydWUpKTtcXG4gICAgICAgICAgICBcIjtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIC8vIHVwbG9hZGluZyBhIHBpeGkgcG9pbnQgYXMgYSB2ZWMyIHdpdGggY2FjaGluZyBsYXllclxuICAgIHtcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKGRhdGEsIHVuaWZvcm0pIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnR5cGUgPT09ICd2ZWMyJyAmJiBkYXRhLnNpemUgPT09IDEgJiYgdW5pZm9ybS54ICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZGU6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcXG4gICAgICAgICAgICAgICAgY3YgPSB1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS52YWx1ZTtcXG4gICAgICAgICAgICAgICAgdiA9IHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdO1xcblxcbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdi54IHx8IGN2WzFdICE9PSB2LnkpXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdi54O1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2Lnk7XFxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHYueCwgdi55KTtcXG4gICAgICAgICAgICAgICAgfVwiO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgLy8gY2FjaGluZyBsYXllciBmb3IgYSB2ZWMyXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudHlwZSA9PT0gJ3ZlYzInICYmIGRhdGEuc2l6ZSA9PT0gMTtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl07XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdKVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHZbMF0sIHZbMV0pO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgXCI7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICAvLyB1cGxvYWQgYSBwaXhpIHJlY3RhbmdsZSBhcyBhIHZlYzQgd2l0aCBjYWNoaW5nIGxheWVyXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSwgdW5pZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudHlwZSA9PT0gJ3ZlYzQnICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiB1bmlmb3JtLndpZHRoICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZGU6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcXG4gICAgICAgICAgICAgICAgY3YgPSB1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS52YWx1ZTtcXG4gICAgICAgICAgICAgICAgdiA9IHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdO1xcblxcbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdi54IHx8IGN2WzFdICE9PSB2LnkgfHwgY3ZbMl0gIT09IHYud2lkdGggfHwgY3ZbM10gIT09IHYuaGVpZ2h0KVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdi55O1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMl0gPSB2LndpZHRoO1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbM10gPSB2LmhlaWdodDtcXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgdi54LCB2LnksIHYud2lkdGgsIHYuaGVpZ2h0KVxcbiAgICAgICAgICAgICAgICB9XCI7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICAvLyBhIGNhY2hpbmcgbGF5ZXIgZm9yIHZlYzQgdXBsb2FkaW5nXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudHlwZSA9PT0gJ3ZlYzQnICYmIGRhdGEuc2l6ZSA9PT0gMTtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl07XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdIHx8IGN2WzNdICE9PSB2WzNdKVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICAgICAgICAgICAgICBjdlsyXSA9IHZbMl07XFxuICAgICAgICAgICAgICAgICAgICBjdlszXSA9IHZbM107XFxuXFxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pXFxuICAgICAgICAgICAgICAgIH1cIjtcbiAgICAgICAgfSxcbiAgICB9IF07XG5cbi8vIGN2ID0gQ2FjaGVkVmFsdWVcbi8vIHYgPSB2YWx1ZVxuLy8gdWQgPSB1bmlmb3JtRGF0YVxuLy8gdXYgPSB1bmlmb3JtVmFsdWVcbi8vIGwgPSBsb2NhdGlvblxudmFyIEdMU0xfVE9fU0lOR0xFX1NFVFRFUlNfQ0FDSEVEID0ge1xuICAgIGZsb2F0OiBcIlxcbiAgICBpZihjdiAhPT0gdilcXG4gICAge1xcbiAgICAgICAgY3YudiA9IHY7XFxuICAgICAgICBnbC51bmlmb3JtMWYobG9jYXRpb24sIHYpXFxuICAgIH1cIixcbiAgICB2ZWMyOiBcIlxcbiAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSlcXG4gICAge1xcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xcbiAgICAgICAgZ2wudW5pZm9ybTJmKGxvY2F0aW9uLCB2WzBdLCB2WzFdKVxcbiAgICB9XCIsXG4gICAgdmVjMzogXCJcXG4gICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0gfHwgY3ZbMl0gIT09IHZbMl0pXFxuICAgIHtcXG4gICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgIGN2WzFdID0gdlsxXTtcXG4gICAgICAgIGN2WzJdID0gdlsyXTtcXG5cXG4gICAgICAgIGdsLnVuaWZvcm0zZihsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSlcXG4gICAgfVwiLFxuICAgIHZlYzQ6ICdnbC51bmlmb3JtNGYobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcbiAgICBpbnQ6ICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBpdmVjMjogJ2dsLnVuaWZvcm0yaShsb2NhdGlvbiwgdlswXSwgdlsxXSknLFxuICAgIGl2ZWMzOiAnZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKScsXG4gICAgaXZlYzQ6ICdnbC51bmlmb3JtNGkobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcbiAgICBib29sOiAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzI6ICdnbC51bmlmb3JtMmkobG9jYXRpb24sIHZbMF0sIHZbMV0pJyxcbiAgICBidmVjMzogJ2dsLnVuaWZvcm0zaShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSknLFxuICAgIGJ2ZWM0OiAnZ2wudW5pZm9ybTRpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKScsXG4gICAgbWF0MjogJ2dsLnVuaWZvcm1NYXRyaXgyZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0MzogJ2dsLnVuaWZvcm1NYXRyaXgzZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0NDogJ2dsLnVuaWZvcm1NYXRyaXg0ZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgc2FtcGxlcjJEOiAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlckN1YmU6ICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyMkRBcnJheTogJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxufTtcbnZhciBHTFNMX1RPX0FSUkFZX1NFVFRFUlMgPSB7XG4gICAgZmxvYXQ6IFwiZ2wudW5pZm9ybTFmdihsb2NhdGlvbiwgdilcIixcbiAgICB2ZWMyOiBcImdsLnVuaWZvcm0yZnYobG9jYXRpb24sIHYpXCIsXG4gICAgdmVjMzogXCJnbC51bmlmb3JtM2Z2KGxvY2F0aW9uLCB2KVwiLFxuICAgIHZlYzQ6ICdnbC51bmlmb3JtNGZ2KGxvY2F0aW9uLCB2KScsXG4gICAgbWF0NDogJ2dsLnVuaWZvcm1NYXRyaXg0ZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0MzogJ2dsLnVuaWZvcm1NYXRyaXgzZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0MjogJ2dsLnVuaWZvcm1NYXRyaXgyZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgaW50OiAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWMyOiAnZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWMzOiAnZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWM0OiAnZ2wudW5pZm9ybTRpdihsb2NhdGlvbiwgdiknLFxuICAgIGJvb2w6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzI6ICdnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzM6ICdnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzQ6ICdnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlcjJEOiAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXJDdWJlOiAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXIyREFycmF5OiAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxufTtcbmZ1bmN0aW9uIGdlbmVyYXRlVW5pZm9ybXNTeW5jKGdyb3VwLCB1bmlmb3JtRGF0YSkge1xuICAgIHZhciBmdW5jRnJhZ21lbnRzID0gW1wiXFxuICAgICAgICB2YXIgdiA9IG51bGw7XFxuICAgICAgICB2YXIgY3YgPSBudWxsXFxuICAgICAgICB2YXIgdCA9IDA7XFxuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbFxcbiAgICBcIl07XG4gICAgZm9yICh2YXIgaSBpbiBncm91cC51bmlmb3Jtcykge1xuICAgICAgICB2YXIgZGF0YSA9IHVuaWZvcm1EYXRhW2ldO1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIGlmIChncm91cC51bmlmb3Jtc1tpXS5ncm91cCkge1xuICAgICAgICAgICAgICAgIGZ1bmNGcmFnbWVudHMucHVzaChcIlxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLnN5bmNVbmlmb3JtR3JvdXAodXZbXFxcIlwiICsgaSArIFwiXFxcIl0sIHN5bmNEYXRhKTtcXG4gICAgICAgICAgICAgICAgXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVuaWZvcm0gPSBncm91cC51bmlmb3Jtc1tpXTtcbiAgICAgICAgdmFyIHBhcnNlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHVuaWZvcm1QYXJzZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAodW5pZm9ybVBhcnNlcnNbal0udGVzdChkYXRhLCB1bmlmb3JtKSkge1xuICAgICAgICAgICAgICAgIGZ1bmNGcmFnbWVudHMucHVzaCh1bmlmb3JtUGFyc2Vyc1tqXS5jb2RlKGksIHVuaWZvcm0pKTtcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghcGFyc2VkKSB7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVUeXBlID0gKGRhdGEuc2l6ZSA9PT0gMSkgPyBHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRCA6IEdMU0xfVE9fQVJSQVlfU0VUVEVSUztcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IHRlbXBsYXRlVHlwZVtkYXRhLnR5cGVdLnJlcGxhY2UoJ2xvY2F0aW9uJywgXCJ1ZFtcXFwiXCIgKyBpICsgXCJcXFwiXS5sb2NhdGlvblwiKTtcbiAgICAgICAgICAgIGZ1bmNGcmFnbWVudHMucHVzaChcIlxcbiAgICAgICAgICAgIGN2ID0gdWRbXFxcIlwiICsgaSArIFwiXFxcIl0udmFsdWU7XFxuICAgICAgICAgICAgdiA9IHV2W1xcXCJcIiArIGkgKyBcIlxcXCJdO1xcbiAgICAgICAgICAgIFwiICsgdGVtcGxhdGUgKyBcIjtcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogdGhlIGludHJvZHVjdGlvbiBvZiBzeW5jRGF0YSBpcyB0byBzb2x2ZSBhbiBpc3N1ZSB3aGVyZSB0ZXh0dXJlcyBpbiB1bmlmb3JtIGdyb3VwcyBhcmUgbm90IHNldCBjb3JyZWN0bHlcbiAgICAgKiB0aGUgdGV4dHVyZSBjb3VudCB3YXMgYWx3YXlzIHN0YXJ0aW5nIGZyb20gMCBpbiBlYWNoIGdyb3VwLiBUaGlzIG5lZWRzIHRvIGluY3JlbWVudCBlYWNoIHRpbWUgYSB0ZXh0dXJlIGlzIHVzZWRcbiAgICAgKiBubyBtYXR0ZXIgd2hpY2ggZ3JvdXAgaXMgYmVpbmcgdXNlZFxuICAgICAqXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbigndWQnLCAndXYnLCAncmVuZGVyZXInLCAnc3luY0RhdGEnLCBmdW5jRnJhZ21lbnRzLmpvaW4oJ1xcbicpKTtcbn1cblxudmFyIGZyYWdUZW1wbGF0ZSA9IFtcbiAgICAncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7JyxcbiAgICAndm9pZCBtYWluKHZvaWQpeycsXG4gICAgJ2Zsb2F0IHRlc3QgPSAwLjE7JyxcbiAgICAnJWZvcmxvb3AlJyxcbiAgICAnZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApOycsXG4gICAgJ30nIF0uam9pbignXFxuJyk7XG5mdW5jdGlvbiBnZW5lcmF0ZUlmVGVzdFNyYyhtYXhJZnMpIHtcbiAgICB2YXIgc3JjID0gJyc7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhJZnM7ICsraSkge1xuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIHNyYyArPSAnXFxuZWxzZSAnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpIDwgbWF4SWZzIC0gMSkge1xuICAgICAgICAgICAgc3JjICs9IFwiaWYodGVzdCA9PSBcIiArIGkgKyBcIi4wKXt9XCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNyYztcbn1cbmZ1bmN0aW9uIGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIobWF4SWZzLCBnbCkge1xuICAgIGlmIChtYXhJZnMgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIG9mIGAwYCBwYXNzZWQgdG8gYGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXJgJyk7XG4gICAgfVxuICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKTtcbiAgICB3aGlsZSAodHJ1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zdGFudC1jb25kaXRpb25cbiAgICAge1xuICAgICAgICB2YXIgZnJhZ21lbnRTcmMgPSBmcmFnVGVtcGxhdGUucmVwbGFjZSgvJWZvcmxvb3AlL2dpLCBnZW5lcmF0ZUlmVGVzdFNyYyhtYXhJZnMpKTtcbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgZnJhZ21lbnRTcmMpO1xuICAgICAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgICAgICBtYXhJZnMgPSAobWF4SWZzIC8gMikgfCAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdmFsaWQhXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF4SWZzO1xufVxuXG4vLyBDYWNoZSB0aGUgcmVzdWx0IHRvIHByZXZlbnQgcnVubmluZyB0aGlzIG92ZXIgYW5kIG92ZXJcbnZhciB1bnNhZmVFdmFsO1xuLyoqXG4gKiBOb3QgYWxsIHBsYXRmb3JtcyBhbGxvdyB0byBnZW5lcmF0ZSBmdW5jdGlvbiBjb2RlIChlLmcuLCBgbmV3IEZ1bmN0aW9uYCkuXG4gKiB0aGlzIHByb3ZpZGVzIHRoZSBwbGF0Zm9ybS1sZXZlbCBkZXRlY3Rpb24uXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiB1bnNhZmVFdmFsU3VwcG9ydGVkKCkge1xuICAgIGlmICh0eXBlb2YgdW5zYWZlRXZhbCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHJldHVybiB1bnNhZmVFdmFsO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1uZXctZnVuYyAqL1xuICAgICAgICB2YXIgZnVuYyA9IG5ldyBGdW5jdGlvbigncGFyYW0xJywgJ3BhcmFtMicsICdwYXJhbTMnLCAncmV0dXJuIHBhcmFtMVtwYXJhbTJdID09PSBwYXJhbTM7Jyk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tbmV3LWZ1bmMgKi9cbiAgICAgICAgdW5zYWZlRXZhbCA9IGZ1bmMoeyBhOiAnYicgfSwgJ2EnLCAnYicpID09PSB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB1bnNhZmVFdmFsID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB1bnNhZmVFdmFsO1xufVxuXG52YXIgZGVmYXVsdEZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgZ2xfRnJhZ0NvbG9yICo9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxufVwiO1xuXG52YXIgZGVmYXVsdFZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cXG5cIjtcblxudmFyIFVJRCQzID0gMDtcbnZhciBuYW1lQ2FjaGUgPSB7fTtcbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHNoYWRlciBwcm9ncmFtLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFByb2dyYW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdIC0gTmFtZSBmb3Igc2hhZGVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gUHJvZ3JhbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBuYW1lKSB7XG4gICAgICAgIGlmIChuYW1lID09PSB2b2lkIDApIHsgbmFtZSA9ICdwaXhpLXNoYWRlcic7IH1cbiAgICAgICAgdGhpcy5pZCA9IFVJRCQzKys7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmVydGV4IHNoYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSB2ZXJ0ZXhTcmMgfHwgUHJvZ3JhbS5kZWZhdWx0VmVydGV4U3JjO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjIHx8IFByb2dyYW0uZGVmYXVsdEZyYWdtZW50U3JjO1xuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHRoaXMudmVydGV4U3JjLnRyaW0oKTtcbiAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IHRoaXMuZnJhZ21lbnRTcmMudHJpbSgpO1xuICAgICAgICBpZiAodGhpcy52ZXJ0ZXhTcmMuc3Vic3RyaW5nKDAsIDgpICE9PSAnI3ZlcnNpb24nKSB7XG4gICAgICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9cXHMrL2csICctJyk7XG4gICAgICAgICAgICBpZiAobmFtZUNhY2hlW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgbmFtZUNhY2hlW25hbWVdKys7XG4gICAgICAgICAgICAgICAgbmFtZSArPSBcIi1cIiArIG5hbWVDYWNoZVtuYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5hbWVDYWNoZVtuYW1lXSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZlcnRleFNyYyA9IFwiI2RlZmluZSBTSEFERVJfTkFNRSBcIiArIG5hbWUgKyBcIlxcblwiICsgdGhpcy52ZXJ0ZXhTcmM7XG4gICAgICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gXCIjZGVmaW5lIFNIQURFUl9OQU1FIFwiICsgbmFtZSArIFwiXFxuXCIgKyB0aGlzLmZyYWdtZW50U3JjO1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSBzZXRQcmVjaXNpb24odGhpcy52ZXJ0ZXhTcmMsIHNldHRpbmdzLlBSRUNJU0lPTl9WRVJURVgsIFBSRUNJU0lPTi5ISUdIKTtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBzZXRQcmVjaXNpb24odGhpcy5mcmFnbWVudFNyYywgc2V0dGluZ3MuUFJFQ0lTSU9OX0ZSQUdNRU5ULCBnZXRNYXhGcmFnbWVudFByZWNpc2lvbigpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjdXJyZW50bHkgdGhpcyBkb2VzIG5vdCBleHRyYWN0IHN0cnVjdHMgb25seSBkZWZhdWx0IHR5cGVzXG4gICAgICAgIHRoaXMuZXh0cmFjdERhdGEodGhpcy52ZXJ0ZXhTcmMsIHRoaXMuZnJhZ21lbnRTcmMpO1xuICAgICAgICAvLyB0aGlzIGlzIHdoZXJlIHdlIHN0b3JlIHNoYWRlciByZWZlcmVuY2VzLi5cbiAgICAgICAgdGhpcy5nbFByb2dyYW1zID0ge307XG4gICAgICAgIHRoaXMuc3luY1VuaWZvcm1zID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIGRhdGEgZm9yIGEgYnV5IGNyZWF0aW5nIGEgc21hbGwgdGVzdCBwcm9ncmFtXG4gICAgICogb3IgcmVhZGluZyB0aGUgc3JjIGRpcmVjdGx5LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICovXG4gICAgUHJvZ3JhbS5wcm90b3R5cGUuZXh0cmFjdERhdGEgPSBmdW5jdGlvbiAodmVydGV4U3JjLCBmcmFnbWVudFNyYykge1xuICAgICAgICB2YXIgZ2wgPSBnZXRUZXN0Q29udGV4dCgpO1xuICAgICAgICBpZiAoZ2wpIHtcbiAgICAgICAgICAgIHZhciBwcm9ncmFtID0gY29tcGlsZVByb2dyYW0oZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVEYXRhID0gdGhpcy5nZXRBdHRyaWJ1dGVEYXRhKHByb2dyYW0sIGdsKTtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybURhdGEgPSB0aGlzLmdldFVuaWZvcm1EYXRhKHByb2dyYW0sIGdsKTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1EYXRhID0ge307XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZURhdGEgPSB7fTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgYXR0cmlidXRlIGRhdGEgZnJvbSB0aGUgcHJvZ3JhbVxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUHJvZ3JhbX0gW3Byb2dyYW1dIC0gdGhlIFdlYkdMIHByb2dyYW1cbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gW2dsXSAtIHRoZSBXZWJHTCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSB0aGUgYXR0cmlidXRlIGRhdGEgZm9yIHRoaXMgcHJvZ3JhbVxuICAgICAqL1xuICAgIFByb2dyYW0ucHJvdG90eXBlLmdldEF0dHJpYnV0ZURhdGEgPSBmdW5jdGlvbiAocHJvZ3JhbSwgZ2wpIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXNBcnJheSA9IFtdO1xuICAgICAgICB2YXIgdG90YWxBdHRyaWJ1dGVzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5BQ1RJVkVfQVRUUklCVVRFUyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxBdHRyaWJ1dGVzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWJEYXRhID0gZ2wuZ2V0QWN0aXZlQXR0cmliKHByb2dyYW0sIGkpO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBtYXBUeXBlKGdsLCBhdHRyaWJEYXRhLnR5cGUpO1xuICAgICAgICAgICAgLyplc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBhdHRyaWJEYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgc2l6ZTogbWFwU2l6ZSh0eXBlKSxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4gICAgICAgICAgICBhdHRyaWJ1dGVzW2F0dHJpYkRhdGEubmFtZV0gPSBkYXRhO1xuICAgICAgICAgICAgYXR0cmlidXRlc0FycmF5LnB1c2goZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgYXR0cmlidXRlc0FycmF5LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIChhLm5hbWUgPiBiLm5hbWUpID8gMSA6IC0xOyB9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25mdXNpbmctYXJyb3dcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXNBcnJheVtpXS5sb2NhdGlvbiA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSB1bmlmb3JtIGRhdGEgZnJvbSB0aGUgcHJvZ3JhbVxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3dlYkdMLXByb2dyYW19IFtwcm9ncmFtXSAtIHRoZSB3ZWJnbCBwcm9ncmFtXG4gICAgICogQHBhcmFtIHtjb250ZXh0fSBbZ2xdIC0gdGhlIFdlYkdMIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IHRoZSB1bmlmb3JtIGRhdGEgZm9yIHRoaXMgcHJvZ3JhbVxuICAgICAqL1xuICAgIFByb2dyYW0ucHJvdG90eXBlLmdldFVuaWZvcm1EYXRhID0gZnVuY3Rpb24gKHByb2dyYW0sIGdsKSB7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHt9O1xuICAgICAgICB2YXIgdG90YWxVbmlmb3JtcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuQUNUSVZFX1VOSUZPUk1TKTtcbiAgICAgICAgLy8gVE9ETyBleHBvc2UgdGhpcyBhcyBhIHByb3A/XG4gICAgICAgIC8vIGNvbnN0IG1hc2tSZWdleCA9IG5ldyBSZWdFeHAoJ14ocHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlcnx0cmFuc2xhdGlvbk1hdHJpeCkkJyk7XG4gICAgICAgIC8vIGNvbnN0IG1hc2tSZWdleCA9IG5ldyBSZWdFeHAoJ14ocHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlcnx0cmFuc2xhdGlvbk1hdHJpeCkkJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxVbmlmb3JtczsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdW5pZm9ybURhdGEgPSBnbC5nZXRBY3RpdmVVbmlmb3JtKHByb2dyYW0sIGkpO1xuICAgICAgICAgICAgdmFyIG5hbWUgPSB1bmlmb3JtRGF0YS5uYW1lLnJlcGxhY2UoL1xcWy4qP1xcXSQvLCAnJyk7XG4gICAgICAgICAgICB2YXIgaXNBcnJheSA9IHVuaWZvcm1EYXRhLm5hbWUubWF0Y2goL1xcWy4qP1xcXSQvKTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gbWFwVHlwZShnbCwgdW5pZm9ybURhdGEudHlwZSk7XG4gICAgICAgICAgICAvKmVzbGludC1kaXNhYmxlICovXG4gICAgICAgICAgICB1bmlmb3Jtc1tuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIHNpemU6IHVuaWZvcm1EYXRhLnNpemUsXG4gICAgICAgICAgICAgICAgaXNBcnJheTogaXNBcnJheSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZGVmYXVsdFZhbHVlKHR5cGUsIHVuaWZvcm1EYXRhLnNpemUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5pZm9ybXM7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJvZ3JhbSwgXCJkZWZhdWx0VmVydGV4U3JjXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWZXJ0ZXg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJvZ3JhbSwgXCJkZWZhdWx0RnJhZ21lbnRTcmNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0RnJhZ21lbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgZnVuY3Rpb24gdG8gY3JlYXRlIGEgcHJvZ3JhbSBiYXNlZCBvZiBhIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVyXG4gICAgICogdGhpcyBtZXRob2Qgd2lsbCBhbHNvIGNoZWNrIHRvIHNlZSBpZiB0aGVyZSBpcyBhIGNhY2hlZCBwcm9ncmFtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWU9cGl4aS1zaGFkZXJdIC0gTmFtZSBmb3Igc2hhZGVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5Qcm9ncmFtfSBhbiBzaGlueSBuZXcgUGl4aSBzaGFkZXIhXG4gICAgICovXG4gICAgUHJvZ3JhbS5mcm9tID0gZnVuY3Rpb24gKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIG5hbWUpIHtcbiAgICAgICAgdmFyIGtleSA9IHZlcnRleFNyYyArIGZyYWdtZW50U3JjO1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IFByb2dyYW1DYWNoZVtrZXldO1xuICAgICAgICBpZiAoIXByb2dyYW0pIHtcbiAgICAgICAgICAgIFByb2dyYW1DYWNoZVtrZXldID0gcHJvZ3JhbSA9IG5ldyBQcm9ncmFtKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9ncmFtO1xuICAgIH07XG4gICAgcmV0dXJuIFByb2dyYW07XG59KCkpO1xuXG4vKipcbiAqIEEgaGVscGVyIGNsYXNzIGZvciBzaGFkZXJzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU2hhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBbcHJvZ3JhbV0gLSBUaGUgcHJvZ3JhbSB0aGUgc2hhZGVyIHdpbGwgdXNlLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNoYWRlcihwcm9ncmFtLCB1bmlmb3Jtcykge1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJvZ3JhbSB0aGF0IHRoZSBzaGFkZXIgdXNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlByb2dyYW19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICAvLyBsZXRzIHNlZSB3aGF0cyBiZWVuIHBhc3NlZCBpblxuICAgICAgICAvLyB1bmlmb3JtcyBzaG91bGQgYmUgY29udmVydGVkIHRvIGEgdW5pZm9ybSBncm91cFxuICAgICAgICBpZiAodW5pZm9ybXMpIHtcbiAgICAgICAgICAgIGlmICh1bmlmb3JtcyBpbnN0YW5jZW9mIFVuaWZvcm1Hcm91cCkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gdW5pZm9ybXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG5ldyBVbmlmb3JtR3JvdXAodW5pZm9ybXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAgPSBuZXcgVW5pZm9ybUdyb3VwKHt9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aW1lIHRvIGJ1aWxkIHNvbWUgZ2V0dGVycyBhbmQgc2V0dGVycyFcbiAgICAgICAgLy8gSSBndWVzcyBkb3duIHRoZSBsaW5lIHRoaXMgY291bGQgc29ydCBvZiBnZW5lcmF0ZSBhbiBpbnN0cnVjdGlvbiBsaXN0IHJhdGhlciB0aGFuIHVzZSBkaXJ0eSBpZHM/XG4gICAgICAgIC8vIGRvZXMgdGhlIHRyaWNrIGZvciBub3cgdGhvdWdoIVxuICAgICAgICBmb3IgKHZhciBpIGluIHByb2dyYW0udW5pZm9ybURhdGEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnVuaWZvcm1Hcm91cC51bmlmb3Jtc1tpXSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXNbaV0gPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUT0RPIG1vdmUgdG8gc2hhZGVyIHN5c3RlbS4uXG4gICAgU2hhZGVyLnByb3RvdHlwZS5jaGVja1VuaWZvcm1FeGlzdHMgPSBmdW5jdGlvbiAobmFtZSwgZ3JvdXApIHtcbiAgICAgICAgaWYgKGdyb3VwLnVuaWZvcm1zW25hbWVdKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpIGluIGdyb3VwLnVuaWZvcm1zKSB7XG4gICAgICAgICAgICB2YXIgdW5pZm9ybSA9IGdyb3VwLnVuaWZvcm1zW2ldO1xuICAgICAgICAgICAgaWYgKHVuaWZvcm0uZ3JvdXApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja1VuaWZvcm1FeGlzdHMobmFtZSwgdW5pZm9ybSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFNoYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gdXNhZ2UgY291bnQgb24gcHJvZ3JhbXM/XG4gICAgICAgIC8vIHJlbW92ZSBpZiBub3QgdXNlZCFcbiAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNoYWRlci5wcm90b3R5cGUsIFwidW5pZm9ybXNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2hhZGVyIHVuaWZvcm0gdmFsdWVzLCBzaG9ydGN1dCBmb3IgYHVuaWZvcm1Hcm91cC51bmlmb3Jtc2BcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIHNoYWRlciBiYXNlZCBvZiBhIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1BJWEkuU2hhZGVyfSBhbiBzaGlueSBuZXcgUGl4aSBzaGFkZXIhXG4gICAgICovXG4gICAgU2hhZGVyLmZyb20gPSBmdW5jdGlvbiAodmVydGV4U3JjLCBmcmFnbWVudFNyYywgdW5pZm9ybXMpIHtcbiAgICAgICAgdmFyIHByb2dyYW0gPSBQcm9ncmFtLmZyb20odmVydGV4U3JjLCBmcmFnbWVudFNyYyk7XG4gICAgICAgIHJldHVybiBuZXcgU2hhZGVyKHByb2dyYW0sIHVuaWZvcm1zKTtcbiAgICB9O1xuICAgIHJldHVybiBTaGFkZXI7XG59KCkpO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG52YXIgQkxFTkQgPSAwO1xudmFyIE9GRlNFVCA9IDE7XG52YXIgQ1VMTElORyA9IDI7XG52YXIgREVQVEhfVEVTVCA9IDM7XG52YXIgV0lORElORyA9IDQ7XG4vKipcbiAqIFRoaXMgaXMgYSBXZWJHTCBzdGF0ZSwgYW5kIGlzIGlzIHBhc3NlZCBUaGUgV2ViR0wgU3RhdGVNYW5hZ2VyLlxuICpcbiAqIEVhY2ggbWVzaCByZW5kZXJlZCBtYXkgcmVxdWlyZSBXZWJHTCB0byBiZSBpbiBhIGRpZmZlcmVudCBzdGF0ZS5cbiAqIEZvciBleGFtcGxlIHlvdSBtYXkgd2FudCBkaWZmZXJlbnQgYmxlbmQgbW9kZSBvciB0byBlbmFibGUgcG9seWdvbiBvZmZzZXRzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3RhdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdGUoKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IDA7XG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICB0aGlzLnBvbHlnb25PZmZzZXQgPSAwO1xuICAgICAgICB0aGlzLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgLy8gIHRoaXMuZGVwdGhUZXN0ID0gdHJ1ZTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJibGVuZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmF0ZXMgYmxlbmRpbmcgb2YgdGhlIGNvbXB1dGVkIGZyYWdtZW50IGNvbG9yIHZhbHVlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgQkxFTkQpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBCTEVORCkpICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBCTEVORCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcIm9mZnNldHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZhdGVzIGFkZGluZyBhbiBvZmZzZXQgdG8gZGVwdGggdmFsdWVzIG9mIHBvbHlnb24ncyBmcmFnbWVudHNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IE9GRlNFVCkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IE9GRlNFVCkpICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBPRkZTRVQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJjdWxsaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2YXRlcyBjdWxsaW5nIG9mIHBvbHlnb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgQ1VMTElORykpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IENVTExJTkcpKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgQ1VMTElORyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcImRlcHRoVGVzdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmF0ZXMgZGVwdGggY29tcGFyaXNvbnMgYW5kIHVwZGF0ZXMgdG8gdGhlIGRlcHRoIGJ1ZmZlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IERFUFRIX1RFU1QpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBERVBUSF9URVNUKSkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IERFUFRIX1RFU1QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJjbG9ja3dpc2VGcm9udEZhY2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IGZyb250IG9yIGJhY2stZmFjaW5nIHBvbHlnb25zIGNhbiBiZSBjdWxsZWQuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBXSU5ESU5HKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgV0lORElORykpICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBXSU5ESU5HKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZS5wcm90b3R5cGUsIFwiYmxlbmRNb2RlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgd2hlbiB0aGlzIHN0YXRlIGlzIHNldC4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKiBTZXR0aW5nIHRoaXMgbW9kZSB0byBhbnl0aGluZyBvdGhlciB0aGFuIE5PX0JMRU5EIHdpbGwgYXV0b21hdGljYWxseSBzd2l0Y2ggYmxlbmRpbmcgb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ibGVuZE1vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmJsZW5kID0gKHZhbHVlICE9PSBCTEVORF9NT0RFUy5OT05FKTtcbiAgICAgICAgICAgIHRoaXMuX2JsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJwb2x5Z29uT2Zmc2V0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwb2x5Z29uIG9mZnNldC4gU2V0dGluZyB0aGlzIHByb3BlcnR5IHRvIGFueXRoaW5nIG90aGVyIHRoYW4gMCB3aWxsIGF1dG9tYXRpY2FsbHkgZW5hYmxlIHBvbHlnb24gb2Zmc2V0IGZpbGwuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9seWdvbk9mZnNldDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0cyA9ICEhdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9wb2x5Z29uT2Zmc2V0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTdGF0ZS5mb3IyZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gbmV3IFN0YXRlKCk7XG4gICAgICAgIHN0YXRlLmRlcHRoVGVzdCA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0ZTtcbn0oKSk7XG5cbnZhciBkZWZhdWx0VmVydGV4JDEgPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG57XFxuICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbn1cXG5cIjtcblxudmFyIGRlZmF1bHRGcmFnbWVudCQxID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG59XFxuXCI7XG5cbi8qKlxuICogRmlsdGVyIGlzIGEgc3BlY2lhbCB0eXBlIG9mIFdlYkdMIHNoYWRlciB0aGF0IGlzIGFwcGxpZWQgdG8gdGhlIHNjcmVlbi5cbiAqXG4gKiB7QGxpbmsgaHR0cDovL3BpeGlqcy5pby9leGFtcGxlcy8jL2ZpbHRlcnMvYmx1ci1maWx0ZXIuanMgRXhhbXBsZX0gb2YgdGhlXG4gKiB7QGxpbmsgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXIgQmx1ckZpbHRlcn0uXG4gKlxuICogIyMjIFVzYWdlXG4gKiBGaWx0ZXJzIGNhbiBiZSBhcHBsaWVkIHRvIGFueSBEaXNwbGF5T2JqZWN0IG9yIENvbnRhaW5lci5cbiAqIFBpeGlKUycgYEZpbHRlclN5c3RlbWAgcmVuZGVycyB0aGUgY29udGFpbmVyIGludG8gdGVtcG9yYXJ5IEZyYW1lYnVmZmVyLFxuICogdGhlbiBmaWx0ZXIgcmVuZGVycyBpdCB0byB0aGUgc2NyZWVuLlxuICogTXVsdGlwbGUgZmlsdGVycyBjYW4gYmUgYWRkZWQgdG8gdGhlIGBmaWx0ZXJzYCBhcnJheSBwcm9wZXJ0eSBhbmQgc3RhY2tlZCBvbiBlYWNoIG90aGVyLlxuICpcbiAqIGBgYFxuICogY29uc3QgZmlsdGVyID0gbmV3IFBJWEkuRmlsdGVyKG15U2hhZGVyVmVydCwgbXlTaGFkZXJGcmFnLCB7IG15VW5pZm9ybTogMC41IH0pO1xuICogY29uc3QgY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gKiBjb250YWluZXIuZmlsdGVycyA9IFtmaWx0ZXJdO1xuICogYGBgXG4gKlxuICogIyMjIFByZXZpb3VzIFZlcnNpb24gRGlmZmVyZW5jZXNcbiAqXG4gKiBJbiBQaXhpSlMgKip2MyoqLCBhIGZpbHRlciB3YXMgYWx3YXlzIGFwcGxpZWQgdG8gX3dob2xlIHNjcmVlbl8uXG4gKlxuICogSW4gUGl4aUpTICoqdjQqKiwgYSBmaWx0ZXIgY2FuIGJlIGFwcGxpZWQgX29ubHkgcGFydCBvZiB0aGUgc2NyZWVuXy5cbiAqIERldmVsb3BlcnMgaGFkIHRvIGNyZWF0ZSBhIHNldCBvZiB1bmlmb3JtcyB0byBkZWFsIHdpdGggY29vcmRpbmF0ZXMuXG4gKlxuICogSW4gUGl4aUpTICoqdjUqKiBjb21iaW5lcyBfYm90aCBhcHByb2FjaGVzXy5cbiAqIERldmVsb3BlcnMgY2FuIHVzZSBub3JtYWwgY29vcmRpbmF0ZXMgb2YgdjMgYW5kIHRoZW4gYWxsb3cgZmlsdGVyIHRvIHVzZSBwYXJ0aWFsIEZyYW1lYnVmZmVycyxcbiAqIGJyaW5naW5nIHRob3NlIGV4dHJhIHVuaWZvcm1zIGludG8gYWNjb3VudC5cbiAqXG4gKiBBbHNvIGJlIGF3YXJlIHRoYXQgd2UgaGF2ZSBjaGFuZ2VkIGRlZmF1bHQgdmVydGV4IHNoYWRlciwgcGxlYXNlIGNvbnN1bHRcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvd2lraS92NS1DcmVhdGluZy1maWx0ZXJzIFdpa2l9LlxuICpcbiAqICMjIyBCdWlsdC1pbiBVbmlmb3Jtc1xuICpcbiAqIFBpeGlKUyB2aWV3cG9ydCB1c2VzIHNjcmVlbiAoQ1NTKSBjb29yZGluYXRlcywgYCgwLCAwLCByZW5kZXJlci5zY3JlZW4ud2lkdGgsIHJlbmRlcmVyLnNjcmVlbi5oZWlnaHQpYCxcbiAqIGFuZCBgcHJvamVjdGlvbk1hdHJpeGAgdW5pZm9ybSBtYXBzIGl0IHRvIHRoZSBnbCB2aWV3cG9ydC5cbiAqXG4gKiAqKnVTYW1wbGVyKipcbiAqXG4gKiBUaGUgbW9zdCBpbXBvcnRhbnQgdW5pZm9ybSBpcyB0aGUgaW5wdXQgdGV4dHVyZSB0aGF0IGNvbnRhaW5lciB3YXMgcmVuZGVyZWQgaW50by5cbiAqIF9JbXBvcnRhbnQgbm90ZTogYXMgd2l0aCBhbGwgRnJhbWVidWZmZXJzIGluIFBpeGlKUywgYm90aCBpbnB1dCBhbmQgb3V0cHV0IGFyZVxuICogcHJlbXVsdGlwbGllZCBieSBhbHBoYS5fXG4gKlxuICogQnkgZGVmYXVsdCwgaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlcyBhcmUgcGFzc2VkIHRvIGZyYWdtZW50IHNoYWRlciB3aXRoIGB2VGV4dHVyZUNvb3JkYC5cbiAqIFVzZSBpdCB0byBzYW1wbGUgdGhlIGlucHV0LlxuICpcbiAqIGBgYFxuICogY29uc3QgZnJhZ21lbnQgPSBgXG4gKiB2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcbiAqIHVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xuICogdm9pZCBtYWluKHZvaWQpXG4gKiB7XG4gKiAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xuICogfVxuICogYDtcbiAqXG4gKiBjb25zdCBteUZpbHRlciA9IG5ldyBQSVhJLkZpbHRlcihudWxsLCBmcmFnbWVudCk7XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGZpbHRlciBpcyBqdXN0IG9uZSB1bmlmb3JtIGxlc3MgdGhhbiB7QGxpbmsgUElYSS5maWx0ZXJzLkFscGhhRmlsdGVyIEFscGhhRmlsdGVyfS5cbiAqXG4gKiAqKm91dHB1dEZyYW1lKipcbiAqXG4gKiBUaGUgYG91dHB1dEZyYW1lYCBob2xkcyB0aGUgcmVjdGFuZ2xlIHdoZXJlIGZpbHRlciBpcyBhcHBsaWVkIGluIHNjcmVlbiAoQ1NTKSBjb29yZGluYXRlcy5cbiAqIEl0J3MgdGhlIHNhbWUgYXMgYHJlbmRlcmVyLnNjcmVlbmAgZm9yIGEgZnVsbHNjcmVlbiBmaWx0ZXIuXG4gKiBPbmx5IGEgcGFydCBvZiAgYG91dHB1dEZyYW1lLnp3YCBzaXplIG9mIHRlbXBvcmFyeSBGcmFtZWJ1ZmZlciBpcyB1c2VkLFxuICogYCgwLCAwLCBvdXRwdXRGcmFtZS53aWR0aCwgb3V0cHV0RnJhbWUuaGVpZ2h0KWAsXG4gKlxuICogRmlsdGVycyB1c2VzIHRoaXMgcXVhZCB0byBub3JtYWxpemVkICgwLTEpIHNwYWNlLCBpdHMgcGFzc2VkIGludG8gYGFWZXJ0ZXhQb3NpdGlvbmAgYXR0cmlidXRlLlxuICogVG8gY2FsY3VsYXRlIHZlcnRleCBwb3NpdGlvbiBpbiBzY3JlZW4gc3BhY2UgdXNpbmcgbm9ybWFsaXplZCAoMC0xKSBzcGFjZTpcbiAqXG4gKiBgYGBcbiAqIHZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxuICoge1xuICogICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xuICogICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqICoqaW5wdXRTaXplKipcbiAqXG4gKiBUZW1wb3JhcnkgZnJhbWVidWZmZXIgaXMgZGlmZmVyZW50LCBpdCBjYW4gYmUgZWl0aGVyIHRoZSBzaXplIG9mIHNjcmVlbiwgZWl0aGVyIHBvd2VyLW9mLXR3by5cbiAqIFRoZSBgaW5wdXRTaXplLnh5YCBhcmUgc2l6ZSBvZiB0ZW1wb3JhcnkgZnJhbWVidWZmZXIgdGhhdCBob2xkcyBpbnB1dC5cbiAqIFRoZSBgaW5wdXRTaXplLnp3YCBpcyBpbnZlcnRlZCwgaXQncyBhIHNob3J0Y3V0IHRvIGV2YWRlIGRpdmlzaW9uIGluc2lkZSB0aGUgc2hhZGVyLlxuICpcbiAqIFNldCBgaW5wdXRTaXplLnh5ID0gb3V0cHV0RnJhbWUuendgIGZvciBhIGZ1bGxzY3JlZW4gZmlsdGVyLlxuICpcbiAqIFRvIGNhbGN1bGF0ZSBpbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGUsIHlvdSBoYXZlIHRvIG1hcCBpdCB0byBmaWx0ZXIgbm9ybWFsaXplZCBzcGFjZS5cbiAqIE11bHRpcGx5IGJ5IGBvdXRwdXRGcmFtZS56d2AgdG8gZ2V0IGlucHV0IGNvb3JkaW5hdGUuXG4gKiBEaXZpZGUgYnkgYGlucHV0U2l6ZS54eWAgdG8gZ2V0IGlucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZS5cbiAqXG4gKiBgYGBcbiAqIHZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcbiAqIHtcbiAqICAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTsgLy8gc2FtZSBhcyAvaW5wdXRTaXplLnh5XG4gKiB9XG4gKiBgYGBcbiAqICoqcmVzb2x1dGlvbioqXG4gKlxuICogVGhlIGByZXNvbHV0aW9uYCBpcyB0aGUgcmF0aW8gb2Ygc2NyZWVuIChDU1MpIHBpeGVscyB0byByZWFsIHBpeGVscy5cbiAqXG4gKiAqKmlucHV0UGl4ZWwqKlxuICpcbiAqIGBpbnB1dFBpeGVsLnh5YCBpcyB0aGUgc2l6ZSBvZiBmcmFtZWJ1ZmZlciBpbiByZWFsIHBpeGVscywgc2FtZSBhcyBgaW5wdXRTaXplLnh5ICogcmVzb2x1dGlvbmBcbiAqIGBpbnB1dFBpeGVsLnp3YCBpcyBpbnZlcnRlZCBgaW5wdXRQaXhlbC54eWAuXG4gKlxuICogSXQncyBoYW5keSBmb3IgZmlsdGVycyB0aGF0IHVzZSBuZWlnaGJvdXIgcGl4ZWxzLCBsaWtlIHtAbGluayBQSVhJLmZpbHRlcnMuRlhBQUZpbHRlciBGWEFBRmlsdGVyfS5cbiAqXG4gKiAqKmlucHV0Q2xhbXAqKlxuICpcbiAqIElmIHlvdSB0cnkgdG8gZ2V0IGluZm8gZnJvbSBvdXRzaWRlIG9mIHVzZWQgcGFydCBvZiBGcmFtZWJ1ZmZlciAtIHlvdSdsbCBnZXQgdW5kZWZpbmVkIGJlaGF2aW91ci5cbiAqIEZvciBkaXNwbGFjZW1lbnRzLCBjb29yZGluYXRlcyBoYXMgdG8gYmUgY2xhbXBlZC5cbiAqXG4gKiBUaGUgYGlucHV0Q2xhbXAueHlgIGlzIGxlZnQtdG9wIHBpeGVsIGNlbnRlciwgeW91IG1heSBpZ25vcmUgaXQsIGJlY2F1c2Ugd2UgdXNlIGxlZnQtdG9wIHBhcnQgb2YgRnJhbWVidWZmZXJcbiAqIGBpbnB1dENsYW1wLnp3YCBpcyBib3R0b20tcmlnaHQgcGl4ZWwgY2VudGVyLlxuICpcbiAqIGBgYFxuICogdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgY2xhbXAobW9kaWZpZ2VkVGV4dHVyZUNvb3JkLCBpbnB1dENsYW1wLnh5LCBpbnB1dENsYW1wLnp3KSlcbiAqIGBgYFxuICogT1JcbiAqIGBgYFxuICogdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgbWluKG1vZGlmaWdlZFRleHR1cmVDb29yZCwgaW5wdXRDbGFtcC56dykpXG4gKiBgYGBcbiAqXG4gKiAjIyMgQWRkaXRpb25hbCBJbmZvcm1hdGlvblxuICpcbiAqIENvbXBsZXRlIGRvY3VtZW50YXRpb24gb24gRmlsdGVyIHVzYWdlIGlzIGxvY2F0ZWQgaW4gdGhlXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL3dpa2kvdjUtQ3JlYXRpbmctZmlsdGVycyBXaWtpfS5cbiAqXG4gKiBTaW5jZSBQaXhpSlMgb25seSBoYWQgYSBoYW5kZnVsIG9mIGJ1aWx0LWluIGZpbHRlcnMsIGFkZGl0aW9uYWwgZmlsdGVycyBjYW4gYmUgZG93bmxvYWRlZFxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS1maWx0ZXJzIGhlcmV9IGZyb20gdGhlIFBpeGlKUyBGaWx0ZXJzIHJlcG9zaXRvcnkuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5TaGFkZXJcbiAqL1xudmFyIEZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRmlsdGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRmlsdGVyKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHVuaWZvcm1zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBwcm9ncmFtID0gUHJvZ3JhbS5mcm9tKHZlcnRleFNyYyB8fCBGaWx0ZXIuZGVmYXVsdFZlcnRleFNyYywgZnJhZ21lbnRTcmMgfHwgRmlsdGVyLmRlZmF1bHRGcmFnbWVudFNyYyk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvZ3JhbSwgdW5pZm9ybXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGFkZGluZyBvZiB0aGUgZmlsdGVyLiBTb21lIGZpbHRlcnMgcmVxdWlyZSBleHRyYSBzcGFjZSB0byBicmVhdGggc3VjaCBhcyBhIGJsdXIuXG4gICAgICAgICAqIEluY3JlYXNpbmcgdGhpcyB3aWxsIGFkZCBleHRyYSB3aWR0aCBhbmQgaGVpZ2h0IHRvIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdCB0aGF0IHRoZVxuICAgICAgICAgKiBmaWx0ZXIgaXMgYXBwbGllZCB0by5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGFkZGluZyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgZmlsdGVyLiBTZXR0aW5nIHRoaXMgdG8gYmUgbG93ZXIgd2lsbCBsb3dlciB0aGUgcXVhbGl0eSBidXRcbiAgICAgICAgICogaW5jcmVhc2UgdGhlIHBlcmZvcm1hbmNlIG9mIHRoZSBmaWx0ZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSBzZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGVuYWJsZWQgaXMgdHJ1ZSB0aGUgZmlsdGVyIGlzIGFwcGxpZWQsIGlmIGZhbHNlIGl0IHdpbGwgbm90LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBlbmFibGVkLCBQaXhpSlMgd2lsbCBmaXQgdGhlIGZpbHRlciBhcmVhIGludG8gYm91bmRhcmllcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLlxuICAgICAgICAgKiBTd2l0Y2ggaXQgb2ZmIGlmIGl0IGRvZXMgbm90IHdvcmsgZm9yIHNwZWNpZmljIHNoYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9GaXQgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGVnYWN5IGZpbHRlcnMgdXNlIHBvc2l0aW9uIGFuZCB1dnMgZnJvbSBhdHRyaWJ1dGVzXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGVnYWN5ID0gISFfdGhpcy5wcm9ncmFtLmF0dHJpYnV0ZURhdGEuYVRleHR1cmVDb29yZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBzdGF0ZSB0aGUgZmlsdGVyIHJlcXVpcmVzIHRvIHJlbmRlclxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBuZXcgU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSByZW5kZXJlciB0byByZXRyaWV2ZSB0aGUgZmlsdGVyIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtQSVhJLkNMRUFSX01PREVTfSBjbGVhck1vZGUgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtjdXJyZW50U3RhdGVdIC0gSXQncyBjdXJyZW50IHN0YXRlIG9mIGZpbHRlci5cbiAgICAgKiAgICAgICAgVGhlcmUgYXJlIHNvbWUgdXNlZnVsIHByb3BlcnRpZXMgaW4gdGhlIGN1cnJlbnRTdGF0ZSA6XG4gICAgICogICAgICAgIHRhcmdldCwgZmlsdGVycywgc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUsIHJlbmRlclRhcmdldCwgcmVzb2x1dGlvblxuICAgICAqL1xuICAgIEZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiAoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlLCBfY3VycmVudFN0YXRlKSB7XG4gICAgICAgIC8vIGRvIGFzIHlvdSBwbGVhc2UhXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgLy8gb3IganVzdCBkbyBhIHJlZ3VsYXIgcmVuZGVyLi5cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaWx0ZXIucHJvdG90eXBlLCBcImJsZW5kTW9kZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBibGVuZG1vZGUgb2YgdGhlIGZpbHRlclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmJsZW5kTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlsdGVyLCBcImRlZmF1bHRWZXJ0ZXhTcmNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWZXJ0ZXgkMTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaWx0ZXIsIFwiZGVmYXVsdEZyYWdtZW50U3JjXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGZyYWdtZW50IHNoYWRlciBzb3VyY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRGcmFnbWVudCQxO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEZpbHRlcjtcbn0oU2hhZGVyKSk7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyBvdGhlck1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdk1hc2tDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdk1hc2tDb29yZCA9ICggb3RoZXJNYXRyaXggKiB2ZWMzKCBhVGV4dHVyZUNvb3JkLCAxLjApICApLnh5O1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdk1hc2tDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHNhbXBsZXIyRCBtYXNrO1xcbnVuaWZvcm0gZmxvYXQgYWxwaGE7XFxudW5pZm9ybSBmbG9hdCBucG1BbHBoYTtcXG51bmlmb3JtIHZlYzQgbWFza0NsYW1wO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZmxvYXQgY2xpcCA9IHN0ZXAoMy41LFxcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueCwgdk1hc2tDb29yZC54KSArXFxuICAgICAgICBzdGVwKG1hc2tDbGFtcC55LCB2TWFza0Nvb3JkLnkpICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC54LCBtYXNrQ2xhbXAueikgK1xcbiAgICAgICAgc3RlcCh2TWFza0Nvb3JkLnksIG1hc2tDbGFtcC53KSk7XFxuXFxuICAgIHZlYzQgb3JpZ2luYWwgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICB2ZWM0IG1hc2t5ID0gdGV4dHVyZTJEKG1hc2ssIHZNYXNrQ29vcmQpO1xcbiAgICBmbG9hdCBhbHBoYU11bCA9IDEuMCAtIG5wbUFscGhhICogKDEuMCAtIG1hc2t5LmEpO1xcblxcbiAgICBvcmlnaW5hbCAqPSAoYWxwaGFNdWwgKiBtYXNreS5yICogYWxwaGEgKiBjbGlwKTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gb3JpZ2luYWw7XFxufVxcblwiO1xuXG52YXIgdGVtcE1hdCA9IG5ldyBNYXRyaXgoKTtcbi8qKlxuICogQ2xhc3MgY29udHJvbHMgdXYgbWFwcGluZyBmcm9tIFRleHR1cmUgbm9ybWFsIHNwYWNlIHRvIEJhc2VUZXh0dXJlIG5vcm1hbCBzcGFjZS5cbiAqXG4gKiBUYWtlcyBgdHJpbWAgYW5kIGByb3RhdGVgIGludG8gYWNjb3VudC4gTWF5IGNvbnRhaW4gY2xhbXAgc2V0dGluZ3MgZm9yIE1lc2hlcyBhbmQgVGlsaW5nU3ByaXRlLlxuICpcbiAqIENhbiBiZSB1c2VkIGluIFRleHR1cmUgYHV2TWF0cml4YCBmaWVsZCwgb3Igc2VwYXJhdGVseSwgeW91IGNhbiB1c2UgZGlmZmVyZW50IGNsYW1wIHNldHRpbmdzIG9uIHRoZSBzYW1lIHRleHR1cmUuXG4gKiBJZiB5b3Ugd2FudCB0byBhZGQgc3VwcG9ydCBmb3IgdGV4dHVyZSByZWdpb24gb2YgY2VydGFpbiBmZWF0dXJlIG9yIGZpbHRlciwgdGhhdCdzIHdoYXQgeW91J3JlIGxvb2tpbmcgZm9yLlxuICpcbiAqIFRha2VzIHRyYWNrIG9mIFRleHR1cmUgY2hhbmdlcyB0aHJvdWdoIGBfbGFzdFRleHR1cmVJRGAgcHJpdmF0ZSBmaWVsZC5cbiAqIFVzZSBgdXBkYXRlKClgIG1ldGhvZCBjYWxsIHRvIHRyYWNrIGl0IGZyb20gb3V0c2lkZS5cbiAqXG4gKiBAc2VlIFBJWEkuVGV4dHVyZVxuICogQHNlZSBQSVhJLk1lc2hcbiAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVNYXRyaXggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIG9ic2VydmVkIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NsYW1wTWFyZ2luXSAtIENoYW5nZXMgZnJhbWUgY2xhbXBpbmcsIDAuNSBieSBkZWZhdWx0LiBVc2UgLTAuNSBmb3IgZXh0cmEgYm9yZGVyLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmVNYXRyaXgodGV4dHVyZSwgY2xhbXBNYXJnaW4pIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXRyaXggb3BlcmF0aW9uIHRoYXQgY29udmVydHMgdGV4dHVyZSByZWdpb24gY29vcmRzIHRvIHRleHR1cmUgY29vcmRzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFwQ29vcmQgPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDbGFtcCByZWdpb24gZm9yIG5vcm1hbGl6ZWQgY29vcmRzLCBsZWZ0LXRvcCBwaXhlbCBjZW50ZXIgaW4geHkgLCBib3R0b20tcmlnaHQgaW4gencuXG4gICAgICAgICAqIENhbGN1bGF0ZWQgYmFzZWQgb24gY2xhbXBPZmZzZXQuXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVDbGFtcEZyYW1lID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vcm1hbGl6ZWQgY2xhbXAgb2Zmc2V0LlxuICAgICAgICAgKiBDYWxjdWxhdGVkIGJhc2VkIG9uIGNsYW1wT2Zmc2V0LlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXQgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tzIFRleHR1cmUgZnJhbWUgY2hhbmdlc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tzIFRleHR1cmUgZnJhbWUgY2hhbmdlc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmdcbiAgICAgICAgICogV29ya3Mgd2l0aCBUaWxpbmdTcHJpdGUgYW5kIE1lc2hcbiAgICAgICAgICogQ2hhbmdlIHRvIDEuNSBpZiB5b3UgdGV4dHVyZSBoYXMgcmVwZWF0ZWQgcmlnaHQgYW5kIGJvdHRvbSBsaW5lcywgdGhhdCBsZWFkcyB0byBzbW9vdGhlciBib3JkZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGFtcE9mZnNldCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nXG4gICAgICAgICAqIFdvcmtzIHdpdGggVGlsaW5nU3ByaXRlIGFuZCBNZXNoXG4gICAgICAgICAqIENoYW5nZSB0byAtMC41IHRvIGFkZCBhIHBpeGVsIHRvIHRoZSBlZGdlLCByZWNvbW1lbmRlZCBmb3IgdHJhbnNwYXJlbnQgdHJpbW1lZCB0ZXh0dXJlcyBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGFtcE1hcmdpbiA9ICh0eXBlb2YgY2xhbXBNYXJnaW4gPT09ICd1bmRlZmluZWQnKSA/IDAuNSA6IGNsYW1wTWFyZ2luO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGV4dHVyZSBzaXplIGlzIHRoZSBzYW1lIGFzIGJhc2VUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1NpbXBsZSA9IGZhbHNlO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUsIFwidGV4dHVyZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0ZXh0dXJlIHByb3BlcnR5XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdXZzIGFycmF5IHRvIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB1dnMgLSBtZXNoIHV2c1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0PXV2c10gb3V0cHV0XG4gICAgICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gb3V0cHV0XG4gICAgICovXG4gICAgVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUubXVsdGlwbHlVdnMgPSBmdW5jdGlvbiAodXZzLCBvdXQpIHtcbiAgICAgICAgaWYgKG91dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvdXQgPSB1dnM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1hdCA9IHRoaXMubWFwQ29vcmQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdXZzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHV2c1tpXTtcbiAgICAgICAgICAgIHZhciB5ID0gdXZzW2kgKyAxXTtcbiAgICAgICAgICAgIG91dFtpXSA9ICh4ICogbWF0LmEpICsgKHkgKiBtYXQuYykgKyBtYXQudHg7XG4gICAgICAgICAgICBvdXRbaSArIDFdID0gKHggKiBtYXQuYikgKyAoeSAqIG1hdC5kKSArIG1hdC50eTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogdXBkYXRlcyBtYXRyaWNlcyBpZiB0ZXh0dXJlIHdhcyBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VVcGRhdGU9ZmFsc2VdIC0gaWYgdHJ1ZSwgbWF0cmljZXMgd2lsbCBiZSB1cGRhdGVkIGFueSBjYXNlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgb3Igbm90IGl0IHdhcyB1cGRhdGVkXG4gICAgICovXG4gICAgVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGZvcmNlVXBkYXRlKSB7XG4gICAgICAgIHZhciB0ZXggPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICBpZiAoIXRleCB8fCAhdGV4LnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmb3JjZVVwZGF0ZVxuICAgICAgICAgICAgJiYgdGhpcy5fdGV4dHVyZUlEID09PSB0ZXguX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGV4Ll91cGRhdGVJRDtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICAgICAgdmFyIHV2cyA9IHRleC5fdXZzO1xuICAgICAgICB0aGlzLm1hcENvb3JkLnNldCh1dnMueDEgLSB1dnMueDAsIHV2cy55MSAtIHV2cy55MCwgdXZzLngzIC0gdXZzLngwLCB1dnMueTMgLSB1dnMueTAsIHV2cy54MCwgdXZzLnkwKTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXgub3JpZztcbiAgICAgICAgdmFyIHRyaW0gPSB0ZXgudHJpbTtcbiAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgIHRlbXBNYXQuc2V0KG9yaWcud2lkdGggLyB0cmltLndpZHRoLCAwLCAwLCBvcmlnLmhlaWdodCAvIHRyaW0uaGVpZ2h0LCAtdHJpbS54IC8gdHJpbS53aWR0aCwgLXRyaW0ueSAvIHRyaW0uaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMubWFwQ29vcmQuYXBwZW5kKHRlbXBNYXQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXhCYXNlID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgZnJhbWUgPSB0aGlzLnVDbGFtcEZyYW1lO1xuICAgICAgICB2YXIgbWFyZ2luID0gdGhpcy5jbGFtcE1hcmdpbiAvIHRleEJhc2UucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuY2xhbXBPZmZzZXQ7XG4gICAgICAgIGZyYW1lWzBdID0gKHRleC5fZnJhbWUueCArIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgICAgICBmcmFtZVsxXSA9ICh0ZXguX2ZyYW1lLnkgKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgICAgIGZyYW1lWzJdID0gKHRleC5fZnJhbWUueCArIHRleC5fZnJhbWUud2lkdGggLSBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS53aWR0aDtcbiAgICAgICAgZnJhbWVbM10gPSAodGV4Ll9mcmFtZS55ICsgdGV4Ll9mcmFtZS5oZWlnaHQgLSBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0WzBdID0gb2Zmc2V0IC8gdGV4QmFzZS5yZWFsV2lkdGg7XG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0WzFdID0gb2Zmc2V0IC8gdGV4QmFzZS5yZWFsSGVpZ2h0O1xuICAgICAgICB0aGlzLmlzU2ltcGxlID0gdGV4Ll9mcmFtZS53aWR0aCA9PT0gdGV4QmFzZS53aWR0aFxuICAgICAgICAgICAgJiYgdGV4Ll9mcmFtZS5oZWlnaHQgPT09IHRleEJhc2UuaGVpZ2h0XG4gICAgICAgICAgICAmJiB0ZXgucm90YXRlID09PSAwO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlTWF0cml4O1xufSgpKTtcblxuLyoqXG4gKiBUaGlzIGhhbmRsZXMgYSBTcHJpdGUgYWN0aW5nIGFzIGEgbWFzaywgYXMgb3Bwb3NlZCB0byBhIEdyYXBoaWMuXG4gKlxuICogV2ViR0wgb25seS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3ByaXRlTWFza0ZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3ByaXRlTWFza0ZpbHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSB0aGUgdGFyZ2V0IHNwcml0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNwcml0ZU1hc2tGaWx0ZXIoc3ByaXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtYXNrTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHZlcnRleCwgZnJhZ21lbnQpIHx8IHRoaXM7XG4gICAgICAgIHNwcml0ZS5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcHJpdGUgbWFza1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXNrIG1hdHJpeFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hc2tNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IGNsZWFyTW9kZSAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdC5cbiAgICAgKi9cbiAgICBTcHJpdGVNYXNrRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICAgICAgdmFyIG1hc2tTcHJpdGUgPSB0aGlzLm1hc2tTcHJpdGU7XG4gICAgICAgIHZhciB0ZXggPSBtYXNrU3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICBpZiAoIXRleC52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGV4LnV2TWF0cml4KSB7XG4gICAgICAgICAgICAvLyBtYXJnaW4gPSAwLjAsIGxldCBpdCBibGVlZCBhIGJpdCwgc2hhZGVyIGNvZGUgYmVjb21lcyBlYXNpZXJcbiAgICAgICAgICAgIC8vIGFzc3VtaW5nIHRoYXQgYXRsYXMgdGV4dHVyZXMgd2VyZSBtYWRlIHdpdGggMS1waXhlbCBwYWRkaW5nXG4gICAgICAgICAgICB0ZXgudXZNYXRyaXggPSBuZXcgVGV4dHVyZU1hdHJpeCh0ZXgsIDAuMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGV4LnV2TWF0cml4LnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm5wbUFscGhhID0gdGV4LmJhc2VUZXh0dXJlLmFscGhhTW9kZSA/IDAuMCA6IDEuMDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXNrID0gdGV4O1xuICAgICAgICAvLyBnZXQgX25vcm1hbGl6ZWQgc3ByaXRlIHRleHR1cmUgY29vcmRzXyBhbmQgY29udmVydCB0aGVtIHRvIF9ub3JtYWxpemVkIGF0bGFzIHRleHR1cmUgY29vcmRzXyB3aXRoIGBwcmVwZW5kYFxuICAgICAgICB0aGlzLnVuaWZvcm1zLm90aGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCBtYXNrU3ByaXRlKVxuICAgICAgICAgICAgLnByZXBlbmQodGV4LnV2TWF0cml4Lm1hcENvb3JkKTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5hbHBoYSA9IG1hc2tTcHJpdGUud29ybGRBbHBoYTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXNrQ2xhbXAgPSB0ZXgudXZNYXRyaXgudUNsYW1wRnJhbWU7XG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICB9O1xuICAgIHJldHVybiBTcHJpdGVNYXNrRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgbWFza3MuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgTWFza1N5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWFza1N5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXNrU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRW5hYmxlIHNjaXNzb3JcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbmFibGVTY2lzc29yID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIHVzZWQgc3ByaXRlIG1hc2sgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZU1hc2tGaWx0ZXJbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbHBoYU1hc2tQb29sID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIG1hc2sgZGF0YVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hc2tEYXRhW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza0RhdGFQb29sID0gW107XG4gICAgICAgIF90aGlzLm1hc2tTdGFjayA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBpbmRleCBvZiBhbHBoYSBtYXNrIHBvb2xcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWxwaGFNYXNrSW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIG1hc2sgc3RhY2sgdGhhdCBpcyB1c2VkIGJ5IHRoaXMgU3lzdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhW119IG1hc2tTdGFjayAtIFRoZSBtYXNrIHN0YWNrXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUuc2V0TWFza1N0YWNrID0gZnVuY3Rpb24gKG1hc2tTdGFjaykge1xuICAgICAgICB0aGlzLm1hc2tTdGFjayA9IG1hc2tTdGFjaztcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zY2lzc29yLnNldE1hc2tTdGFjayhtYXNrU3RhY2spO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwuc2V0TWFza1N0YWNrKG1hc2tTdGFjayk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKiBSZW5kZXJlciBiYXRjaCBtdXN0IGJlIGZsdXNoZWQgYmVmb3JlaGFuZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBtYXNrIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhfFBJWEkuU3ByaXRlfFBJWEkuR3JhcGhpY3N8UElYSS5EaXNwbGF5T2JqZWN0fSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uICh0YXJnZXQsIG1hc2tEYXRhT3JUYXJnZXQpIHtcbiAgICAgICAgdmFyIG1hc2tEYXRhID0gbWFza0RhdGFPclRhcmdldDtcbiAgICAgICAgaWYgKCFtYXNrRGF0YS5pc01hc2tEYXRhKSB7XG4gICAgICAgICAgICB2YXIgZCA9IHRoaXMubWFza0RhdGFQb29sLnBvcCgpIHx8IG5ldyBNYXNrRGF0YSgpO1xuICAgICAgICAgICAgZC5wb29sZWQgPSB0cnVlO1xuICAgICAgICAgICAgZC5tYXNrT2JqZWN0ID0gbWFza0RhdGFPclRhcmdldDtcbiAgICAgICAgICAgIG1hc2tEYXRhID0gZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWFza0RhdGEuYXV0b0RldGVjdCkge1xuICAgICAgICAgICAgdGhpcy5kZXRlY3QobWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIG1hc2tEYXRhLmNvcHlDb3VudGVyc09yUmVzZXQodGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV0pO1xuICAgICAgICBtYXNrRGF0YS5fdGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICBzd2l0Y2ggKG1hc2tEYXRhLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TQ0lTU09SOlxuICAgICAgICAgICAgICAgIHRoaXMubWFza1N0YWNrLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2Npc3Nvci5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TVEVOQ0lMOlxuICAgICAgICAgICAgICAgIHRoaXMubWFza1N0YWNrLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TUFJJVEU6XG4gICAgICAgICAgICAgICAgbWFza0RhdGEuY29weUNvdW50ZXJzT3JSZXNldChudWxsKTtcbiAgICAgICAgICAgICAgICB0aGlzLnB1c2hTcHJpdGVNYXNrKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hc2tTdGFjay5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgbWFzayBmcm9tIHRoZSBtYXNrIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKiBSZW5kZXJlciBiYXRjaCBtdXN0IGJlIGZsdXNoZWQgYmVmb3JlaGFuZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwb3AgdGhlIG1hc2sgZnJvbVxuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdmFyIG1hc2tEYXRhID0gdGhpcy5tYXNrU3RhY2sucG9wKCk7XG4gICAgICAgIGlmICghbWFza0RhdGEgfHwgbWFza0RhdGEuX3RhcmdldCAhPT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBhZGQgYW4gYXNzZXJ0IHdoZW4gd2UgaGF2ZSBpdFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAobWFza0RhdGEudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNDSVNTT1I6XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zY2lzc29yLnBvcCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNURU5DSUw6XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zdGVuY2lsLnBvcChtYXNrRGF0YS5tYXNrT2JqZWN0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TUFJJVEU6XG4gICAgICAgICAgICAgICAgdGhpcy5wb3BTcHJpdGVNYXNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG1hc2tEYXRhLnJlc2V0KCk7XG4gICAgICAgIGlmIChtYXNrRGF0YS5wb29sZWQpIHtcbiAgICAgICAgICAgIHRoaXMubWFza0RhdGFQb29sLnB1c2gobWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHR5cGUgb2YgTWFza0RhdGEgYmFzZWQgb24gaXRzIG1hc2tPYmplY3RcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF9IG1hc2tEYXRhXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUuZGV0ZWN0ID0gZnVuY3Rpb24gKG1hc2tEYXRhKSB7XG4gICAgICAgIHZhciBtYXNrT2JqZWN0ID0gbWFza0RhdGEubWFza09iamVjdDtcbiAgICAgICAgaWYgKG1hc2tPYmplY3QuaXNTcHJpdGUpIHtcbiAgICAgICAgICAgIG1hc2tEYXRhLnR5cGUgPSBNQVNLX1RZUEVTLlNQUklURTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBtYXNrRGF0YS50eXBlID0gTUFTS19UWVBFUy5TVEVOQ0lMO1xuICAgICAgICAvLyBkZXRlY3Qgc2Npc3NvciBpbiBncmFwaGljc1xuICAgICAgICBpZiAodGhpcy5lbmFibGVTY2lzc29yXG4gICAgICAgICAgICAmJiBtYXNrT2JqZWN0LmlzRmFzdFJlY3RcbiAgICAgICAgICAgICYmIG1hc2tPYmplY3QuaXNGYXN0UmVjdCgpKSB7XG4gICAgICAgICAgICB2YXIgbWF0cml4ID0gbWFza09iamVjdC53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgICAgIC8vIFRPRE86IG1vdmUgdGhlIGNoZWNrIHRvIHRoZSBtYXRyaXggaXRzZWxmXG4gICAgICAgICAgICAvLyB3ZSBhcmUgY2hlY2tpbmcgdGhhdCBpdHMgb3J0aG9nb25hbCBhbmQgeCByb3RhdGlvbiBpcyAwIDkwIDE4MCBvciAyNzBcbiAgICAgICAgICAgIHZhciByb3RYID0gTWF0aC5hdGFuMihtYXRyaXguYiwgbWF0cml4LmEpO1xuICAgICAgICAgICAgdmFyIHJvdFhZID0gTWF0aC5hdGFuMihtYXRyaXguZCwgbWF0cml4LmMpO1xuICAgICAgICAgICAgLy8gdXNlIHRoZSBuZWFyZXN0IGRlZ3JlZSB0byAwLjAxXG4gICAgICAgICAgICByb3RYID0gTWF0aC5yb3VuZChyb3RYICogKDE4MCAvIE1hdGguUEkpICogMTAwKTtcbiAgICAgICAgICAgIHJvdFhZID0gTWF0aC5yb3VuZChyb3RYWSAqICgxODAgLyBNYXRoLlBJKSAqIDEwMCkgLSByb3RYO1xuICAgICAgICAgICAgcm90WCA9ICgocm90WCAlIDkwMDApICsgOTAwMCkgJSA5MDAwO1xuICAgICAgICAgICAgcm90WFkgPSAoKHJvdFhZICUgMTgwMDApICsgMTgwMDApICUgMTgwMDA7XG4gICAgICAgICAgICBpZiAocm90WCA9PT0gMCAmJiByb3RYWSA9PT0gOTAwMCkge1xuICAgICAgICAgICAgICAgIG1hc2tEYXRhLnR5cGUgPSBNQVNLX1RZUEVTLlNDSVNTT1I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhfSBtYXNrRGF0YSAtIFNwcml0ZSB0byBiZSB1c2VkIGFzIHRoZSBtYXNrXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucHVzaFNwcml0ZU1hc2sgPSBmdW5jdGlvbiAobWFza0RhdGEpIHtcbiAgICAgICAgdmFyIG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuICAgICAgICB2YXIgdGFyZ2V0ID0gbWFza0RhdGEuX3RhcmdldDtcbiAgICAgICAgdmFyIGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XTtcbiAgICAgICAgaWYgKCFhbHBoYU1hc2tGaWx0ZXIpIHtcbiAgICAgICAgICAgIGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XSA9IFtuZXcgU3ByaXRlTWFza0ZpbHRlcihtYXNrT2JqZWN0KV07XG4gICAgICAgIH1cbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyWzBdLnJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgIGFscGhhTWFza0ZpbHRlclswXS5tYXNrU3ByaXRlID0gbWFza09iamVjdDtcbiAgICAgICAgdmFyIHN0YXNoRmlsdGVyQXJlYSA9IHRhcmdldC5maWx0ZXJBcmVhO1xuICAgICAgICB0YXJnZXQuZmlsdGVyQXJlYSA9IG1hc2tPYmplY3QuZ2V0Qm91bmRzKHRydWUpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZpbHRlci5wdXNoKHRhcmdldCwgYWxwaGFNYXNrRmlsdGVyKTtcbiAgICAgICAgdGFyZ2V0LmZpbHRlckFyZWEgPSBzdGFzaEZpbHRlckFyZWE7XG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXgrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgZmlsdGVyIGZyb20gdGhlIGZpbHRlciBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucG9wU3ByaXRlTWFzayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5maWx0ZXIucG9wKCk7XG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXgtLTtcbiAgICB9O1xuICAgIHJldHVybiBNYXNrU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgbWFza3Mgb2YgY2VydGFpbiB0eXBlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgQWJzdHJhY3RNYXNrU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBYnN0cmFjdE1hc2tTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNYXNrU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hc2sgc3RhY2tcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXNrRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza1N0YWNrID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25zdGFudCBmb3IgZ2wuZW5hYmxlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdsQ29uc3QgPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGdldHMgY291bnQgb2YgbWFza3Mgb2YgY2VydGFpbiB0eXBlXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlLmdldFN0YWNrTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXNrU3RhY2subGVuZ3RoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgbWFzayBzdGFjayB0aGF0IGlzIHVzZWQgYnkgdGhpcyBTeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGFbXX0gbWFza1N0YWNrIC0gVGhlIG1hc2sgc3RhY2tcbiAgICAgKi9cbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlLnNldE1hc2tTdGFjayA9IGZ1bmN0aW9uIChtYXNrU3RhY2spIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIGN1clN0YWNrTGVuID0gdGhpcy5nZXRTdGFja0xlbmd0aCgpO1xuICAgICAgICB0aGlzLm1hc2tTdGFjayA9IG1hc2tTdGFjaztcbiAgICAgICAgdmFyIG5ld1N0YWNrTGVuID0gdGhpcy5nZXRTdGFja0xlbmd0aCgpO1xuICAgICAgICBpZiAobmV3U3RhY2tMZW4gIT09IGN1clN0YWNrTGVuKSB7XG4gICAgICAgICAgICBpZiAobmV3U3RhY2tMZW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICBnbC5kaXNhYmxlKHRoaXMuZ2xDb25zdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbC5lbmFibGUodGhpcy5nbENvbnN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHVwIHJlbmRlcmVyIHRvIHVzZSB0aGUgY3VycmVudCBtYXNrIGRhdGEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlLl91c2VDdXJyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBPVkVSV1JJVEU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgbWFzayBzdGFjay5cbiAgICAgKlxuICAgICAqL1xuICAgIEFic3RyYWN0TWFza1N5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWFza1N0YWNrID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBBYnN0cmFjdE1hc2tTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzY2lzc29yIHJlY3RzICh1c2VkIGZvciBtYXNrcykuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgU2Npc3NvclN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2Npc3NvclN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTY2lzc29yU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5nbENvbnN0ID0gV2ViR0xSZW5kZXJpbmdDb250ZXh0LlNDSVNTT1JfVEVTVDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTY2lzc29yU3lzdGVtLnByb3RvdHlwZS5nZXRTdGFja0xlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hc2tEYXRhID0gdGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChtYXNrRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIG1hc2tEYXRhLl9zY2lzc29yQ291bnRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgc3RlbmNpbCBzdGFjay4gQGFsdmluXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF9IG1hc2tEYXRhIC0gVGhlIG1hc2sgZGF0YVxuICAgICAqL1xuICAgIFNjaXNzb3JTeXN0ZW0ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAobWFza0RhdGEpIHtcbiAgICAgICAgdmFyIG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICB2YXIgcHJldkRhdGEgPSBtYXNrRGF0YS5fc2Npc3NvclJlY3Q7XG4gICAgICAgIHZhciBib3VuZHMgPSBtYXNrT2JqZWN0LmdldEJvdW5kcyh0cnVlKTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgIGlmIChwcmV2RGF0YSkge1xuICAgICAgICAgICAgYm91bmRzLmZpdChwcmV2RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgICAgfVxuICAgICAgICBtYXNrRGF0YS5fc2Npc3NvckNvdW50ZXIrKztcbiAgICAgICAgbWFza0RhdGEuX3NjaXNzb3JSZWN0ID0gYm91bmRzO1xuICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQb3BzIHNjaXNzb3IgbWFzay4gTWFza0RhdGEgaXMgYWxyZWFkeSByZW1vdmVkIGZyb20gc3RhY2tcbiAgICAgKi9cbiAgICBTY2lzc29yU3lzdGVtLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGlmICh0aGlzLmdldFN0YWNrTGVuZ3RoKCkgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHVwIHJlbmRlcmVyIHRvIHVzZSB0aGUgY3VycmVudCBzY2lzc29yIGRhdGEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTY2lzc29yU3lzdGVtLnByb3RvdHlwZS5fdXNlQ3VycmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXS5fc2Npc3NvclJlY3Q7XG4gICAgICAgIHZhciBydCA9IHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jdXJyZW50O1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnJlbmRlcmVyLnByb2plY3Rpb24sIHRyYW5zZm9ybSA9IF9hLnRyYW5zZm9ybSwgc291cmNlRnJhbWUgPSBfYS5zb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSA9IF9hLmRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gcnQgPyBydC5yZXNvbHV0aW9uIDogdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgeCA9ICgocmVjdC54IC0gc291cmNlRnJhbWUueCkgKiByZXNvbHV0aW9uKSArIGRlc3RpbmF0aW9uRnJhbWUueDtcbiAgICAgICAgdmFyIHkgPSAoKHJlY3QueSAtIHNvdXJjZUZyYW1lLnkpICogcmVzb2x1dGlvbikgKyBkZXN0aW5hdGlvbkZyYW1lLnk7XG4gICAgICAgIHZhciB3aWR0aCA9IHJlY3Qud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcmVjdC5oZWlnaHQgKiByZXNvbHV0aW9uO1xuICAgICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB4ICs9IHRyYW5zZm9ybS50eCAqIHJlc29sdXRpb247XG4gICAgICAgICAgICB5ICs9IHRyYW5zZm9ybS50eSAqIHJlc29sdXRpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFydCkge1xuICAgICAgICAgICAgLy8gZmxpcFkuIEluIGZ1dHVyZSB3ZSdsbCBoYXZlIGl0IG92ZXIgcmVuZGVyVGV4dHVyZXMgYXMgYW4gb3B0aW9uXG4gICAgICAgICAgICB5ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQgLSBoZWlnaHQgLSB5O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wuc2Npc3Nvcih4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuICAgIHJldHVybiBTY2lzc29yU3lzdGVtO1xufShBYnN0cmFjdE1hc2tTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2Ugc3RlbmNpbHMgKHVzZWQgZm9yIG1hc2tzKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBTdGVuY2lsU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGVuY2lsU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0ZW5jaWxTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmdsQ29uc3QgPSBXZWJHTFJlbmRlcmluZ0NvbnRleHQuU1RFTkNJTF9URVNUO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN0ZW5jaWxTeXN0ZW0ucHJvdG90eXBlLmdldFN0YWNrTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFza0RhdGEgPSB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKG1hc2tEYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFza0RhdGEuX3N0ZW5jaWxDb3VudGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBzdGVuY2lsIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhfSBtYXNrRGF0YSAtIFRoZSBtYXNrIGRhdGFcbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKG1hc2tEYXRhKSB7XG4gICAgICAgIHZhciBtYXNrT2JqZWN0ID0gbWFza0RhdGEubWFza09iamVjdDtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIHByZXZNYXNrQ291bnQgPSBtYXNrRGF0YS5fc3RlbmNpbENvdW50ZXI7XG4gICAgICAgIGlmIChwcmV2TWFza0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAvLyBmb3JjZSB1c2Ugc3RlbmNpbCB0ZXh0dXJlIGluIGN1cnJlbnQgZnJhbWVidWZmZXJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuZm9yY2VTdGVuY2lsKCk7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgfVxuICAgICAgICBtYXNrRGF0YS5fc3RlbmNpbENvdW50ZXIrKztcbiAgICAgICAgLy8gSW5jcmVtZW50IHRoZSByZWZlcmVuY2Ugc3RlbmNpbCB2YWx1ZSB3aGVyZSB0aGUgbmV3IG1hc2sgb3ZlcmxhcHMgd2l0aCB0aGUgb2xkIG9uZXMuXG4gICAgICAgIGdsLmNvbG9yTWFzayhmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCBwcmV2TWFza0NvdW50LCB0aGlzLl9nZXRCaXR3aXNlTWFzaygpKTtcbiAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLklOQ1IpO1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9wcyBzdGVuY2lsIG1hc2suIE1hc2tEYXRhIGlzIGFscmVhZHkgcmVtb3ZlZCBmcm9tIHN0YWNrXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gbWFza09iamVjdCAtIG9iamVjdCBvZiBwb3BwZWQgbWFzayBkYXRhXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKG1hc2tPYmplY3QpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgaWYgKHRoaXMuZ2V0U3RhY2tMZW5ndGgoKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gdGhlIHN0YWNrIGlzIGVtcHR5IVxuICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICAgICAgZ2wuY2xlYXIoZ2wuU1RFTkNJTF9CVUZGRVJfQklUKTtcbiAgICAgICAgICAgIGdsLmNsZWFyU3RlbmNpbCgwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIERlY3JlbWVudCB0aGUgcmVmZXJlbmNlIHN0ZW5jaWwgdmFsdWUgd2hlcmUgdGhlIHBvcHBlZCBtYXNrIG92ZXJsYXBzIHdpdGggdGhlIG90aGVyIG9uZXNcbiAgICAgICAgICAgIGdsLmNvbG9yTWFzayhmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuREVDUik7XG4gICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgbWFza09iamVjdC5yZW5kZXIodGhpcy5yZW5kZXJlcik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0dXAgcmVuZGVyZXIgdG8gdXNlIHRoZSBjdXJyZW50IHN0ZW5jaWwgZGF0YS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFN0ZW5jaWxTeXN0ZW0ucHJvdG90eXBlLl91c2VDdXJyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICBnbC5jb2xvck1hc2sodHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCB0aGlzLmdldFN0YWNrTGVuZ3RoKCksIHRoaXMuX2dldEJpdHdpc2VNYXNrKCkpO1xuICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuS0VFUCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaWxsIDFzIGVxdWFsIHRvIHRoZSBudW1iZXIgb2YgYWNpdHZlIHN0ZW5jaWwgbWFza3MuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBiaXR3aXNlIG1hc2suXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUuX2dldEJpdHdpc2VNYXNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKDEgPDwgdGhpcy5nZXRTdGFja0xlbmd0aCgpKSAtIDE7XG4gICAgfTtcbiAgICByZXR1cm4gU3RlbmNpbFN5c3RlbTtcbn0oQWJzdHJhY3RNYXNrU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRoZSBwcm9qZWN0aW9uIG1hdHJpeC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBQcm9qZWN0aW9uU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQcm9qZWN0aW9uU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFByb2plY3Rpb25TeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VGcmFtZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IGRlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRGcmFtZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9qZWN0IG1hdHJpeFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wcm9qZWN0aW9uTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB0cmFuc2Zvcm0gdGhhdCB3aWxsIGJlIGFwcGVuZGVkIHRvIHRoZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAgICAgKiBpZiBudWxsLCBub3RoaW5nIHdpbGwgYmUgYXBwbGllZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgcHJvamVjdGlvbiBtYXRyaXggYmFzZWQgb24gYSBwcm9qZWN0aW9uIGZyYW1lICh3aGljaCBpcyBhIHJlY3RhbmdsZSkuXG4gICAgICpcbiAgICAgKiBNYWtlIHN1cmUgdG8gcnVuIGByZW5kZXJlci5mcmFtZWJ1ZmZlci5zZXRWaWV3cG9ydChkZXN0aW5hdGlvbkZyYW1lKWAgYWZ0ZXIgY2FsbGluZyB0aGlzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIFRoZSBkZXN0aW5hdGlvbiBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBzb3VyY2VGcmFtZSAtIFRoZSBzb3VyY2UgZnJhbWUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJlc29sdXRpb24gLSBSZXNvbHV0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSByb290IC0gSWYgaXMgcm9vdFxuICAgICAqL1xuICAgIFByb2plY3Rpb25TeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSwgcmVzb2x1dGlvbiwgcm9vdCkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBkZXN0aW5hdGlvbkZyYW1lIHx8IHRoaXMuZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlZmF1bHRGcmFtZTtcbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZSA9IHNvdXJjZUZyYW1lIHx8IHRoaXMuc291cmNlRnJhbWUgfHwgZGVzdGluYXRpb25GcmFtZTtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIG9iamVjdC1zcGFjZSB0byBjbGlwLXNwYWNlIHByb2plY3Rpb25cbiAgICAgICAgdGhpcy5jYWxjdWxhdGVQcm9qZWN0aW9uKHRoaXMuZGVzdGluYXRpb25GcmFtZSwgdGhpcy5zb3VyY2VGcmFtZSwgcmVzb2x1dGlvbiwgcm9vdCk7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uTWF0cml4LmFwcGVuZCh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCA9IHRoaXMucHJvamVjdGlvbk1hdHJpeDtcbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudXBkYXRlKCk7XG4gICAgICAgIC8vIHRoaXMgd2lsbCB3b3JrIGZvciBub3dcbiAgICAgICAgLy8gYnV0IHdvdWxkIGJlIHN3ZWV0IHRvIHN0aWNrIGFuZCBldmVuIG9uIHRoZSBnbG9iYWwgdW5pZm9ybXMuLlxuICAgICAgICBpZiAocmVuZGVyZXIuc2hhZGVyLnNoYWRlcikge1xuICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLnN5bmNVbmlmb3JtR3JvdXAocmVuZGVyZXIuc2hhZGVyLnNoYWRlci51bmlmb3Jtcy5nbG9iYWxzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgcHJvamVjdGlvbiBtYXRyaXggYmFzZWQgb24gYSBwcm9qZWN0aW9uIGZyYW1lICh3aGljaCBpcyBhIHJlY3RhbmdsZSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSBUaGUgZGVzdGluYXRpb24gZnJhbWUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gc291cmNlRnJhbWUgLSBUaGUgc291cmNlIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByZXNvbHV0aW9uIC0gUmVzb2x1dGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm9vdCAtIElmIGlzIHJvb3RcbiAgICAgKi9cbiAgICBQcm9qZWN0aW9uU3lzdGVtLnByb3RvdHlwZS5jYWxjdWxhdGVQcm9qZWN0aW9uID0gZnVuY3Rpb24gKF9kZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSwgX3Jlc29sdXRpb24sIHJvb3QpIHtcbiAgICAgICAgdmFyIHBtID0gdGhpcy5wcm9qZWN0aW9uTWF0cml4O1xuICAgICAgICB2YXIgc2lnbiA9ICFyb290ID8gMSA6IC0xO1xuICAgICAgICBwbS5pZGVudGl0eSgpO1xuICAgICAgICBwbS5hID0gKDEgLyBzb3VyY2VGcmFtZS53aWR0aCAqIDIpO1xuICAgICAgICBwbS5kID0gc2lnbiAqICgxIC8gc291cmNlRnJhbWUuaGVpZ2h0ICogMik7XG4gICAgICAgIHBtLnR4ID0gLTEgLSAoc291cmNlRnJhbWUueCAqIHBtLmEpO1xuICAgICAgICBwbS50eSA9IC1zaWduIC0gKHNvdXJjZUZyYW1lLnkgKiBwbS5kKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRyYW5zZm9ybSBvZiB0aGUgYWN0aXZlIHJlbmRlciB0YXJnZXQgdG8gdGhlIGdpdmVuIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqL1xuICAgIFByb2plY3Rpb25TeXN0ZW0ucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uIChfbWF0cml4KSB7XG4gICAgICAgIC8vIHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldC50cmFuc2Zvcm0gPSBtYXRyaXg7XG4gICAgfTtcbiAgICByZXR1cm4gUHJvamVjdGlvblN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8vIFRlbXBvcmFyeSByZWN0YW5nbGUgZm9yIGFzc2lnbmVkIHNvdXJjZUZyYW1lIG9yIGRlc3RpbmF0aW9uRnJhbWVcbnZhciB0ZW1wUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbi8vIFRlbXBvcmFyeSByZWN0YW5nbGUgZm9yIHJlbmRlclRleHR1cmUgZGVzdGluYXRpb25GcmFtZVxudmFyIHRlbXBSZWN0MiA9IG5ldyBSZWN0YW5nbGUoKTtcbi8vIFRlbXBvcmFyeSByZWN0YW5nbGUgZm9yIHBhc3NpbmcgdGhlIGZyYW1lYnVmZmVyIHZpZXdwb3J0XG52YXIgdmlld3BvcnRGcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHJlbmRlciB0ZXh0dXJlcy5cbiAqXG4gKiBTaG91bGQgYmUgYWRkZWQgYWZ0ZXIgRnJhbWVidWZmZXJTeXN0ZW1cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBSZW5kZXJUZXh0dXJlU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZW5kZXJUZXh0dXJlU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlbmRlclRleHR1cmVTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2xlYXIgYmFja2dyb3VuZCBjb2xvciBhcyByZ2JhXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2xlYXJDb2xvciA9IHJlbmRlcmVyLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhO1xuICAgICAgICAvLyBUT0RPIG1vdmUgdGhpcyBwcm9wZXJ0eSBzb21ld2hlcmUgZWxzZSFcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgbWFza3MgZm9yIHRoZSBTdGVuY2lsU3lzdGVtXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZWZhdWx0TWFza1N0YWNrID0gW107XG4gICAgICAgIC8vIGVtcHR5IHJlbmRlciB0ZXh0dXJlP1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVuZGVyIHRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJUZXh0dXJlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNvdXJjZUZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVzdGluYXRpb24gZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVzdGluYXRpb25GcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCaW5kIHRoZSBjdXJyZW50IHJlbmRlciB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gW3JlbmRlclRleHR1cmVdIC0gUmVuZGVyVGV4dHVyZSB0byBiaW5kLCBieSBkZWZhdWx0IGl0cyBgbnVsbGAsIHRoZSBzY3JlZW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbc291cmNlRnJhbWVdIC0gcGFydCBvZiBzY3JlZW4gdGhhdCBpcyBtYXBwZWQgdG8gdGhlIHJlbmRlclRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZGVzdGluYXRpb25GcmFtZV0gLSBwYXJ0IG9mIHJlbmRlclRleHR1cmUsIGJ5IGRlZmF1bHQgaXQgaGFzIHRoZSBzYW1lIHNpemUgYXMgc291cmNlRnJhbWVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKHJlbmRlclRleHR1cmUsIHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKSB7XG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlID09PSB2b2lkIDApIHsgcmVuZGVyVGV4dHVyZSA9IG51bGw7IH1cbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gcmVuZGVyVGV4dHVyZTtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgZnJhbWVidWZmZXI7XG4gICAgICAgIHZhciByZXNvbHV0aW9uO1xuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IGJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgICAgICBpZiAoIXNvdXJjZUZyYW1lKSB7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3Qud2lkdGggPSByZW5kZXJUZXh0dXJlLmZyYW1lLndpZHRoO1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LmhlaWdodCA9IHJlbmRlclRleHR1cmUuZnJhbWUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHNvdXJjZUZyYW1lID0gdGVtcFJlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uRnJhbWUpIHtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdDIueCA9IHJlbmRlclRleHR1cmUuZnJhbWUueDtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdDIueSA9IHJlbmRlclRleHR1cmUuZnJhbWUueTtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdDIud2lkdGggPSBzb3VyY2VGcmFtZS53aWR0aDtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdDIuaGVpZ2h0ID0gc291cmNlRnJhbWUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUgPSB0ZW1wUmVjdDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZWJ1ZmZlciA9IGJhc2VUZXh0dXJlLmZyYW1lYnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBpZiAoIXNvdXJjZUZyYW1lKSB7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3Qud2lkdGggPSByZW5kZXJlci5zY3JlZW4ud2lkdGg7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QuaGVpZ2h0ID0gcmVuZGVyZXIuc2NyZWVuLmhlaWdodDtcbiAgICAgICAgICAgICAgICBzb3VyY2VGcmFtZSA9IHRlbXBSZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkZXN0aW5hdGlvbkZyYW1lKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZSA9IHRlbXBSZWN0O1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBzb3VyY2VGcmFtZS53aWR0aDtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IHNvdXJjZUZyYW1lLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2aWV3cG9ydEZyYW1lLnggPSBkZXN0aW5hdGlvbkZyYW1lLnggKiByZXNvbHV0aW9uO1xuICAgICAgICB2aWV3cG9ydEZyYW1lLnkgPSBkZXN0aW5hdGlvbkZyYW1lLnkgKiByZXNvbHV0aW9uO1xuICAgICAgICB2aWV3cG9ydEZyYW1lLndpZHRoID0gZGVzdGluYXRpb25GcmFtZS53aWR0aCAqIHJlc29sdXRpb247XG4gICAgICAgIHZpZXdwb3J0RnJhbWUuaGVpZ2h0ID0gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmJpbmQoZnJhbWVidWZmZXIsIHZpZXdwb3J0RnJhbWUpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnByb2plY3Rpb24udXBkYXRlKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCAhZnJhbWVidWZmZXIpO1xuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5tYXNrLnNldE1hc2tTdGFjayhiYXNlVGV4dHVyZS5tYXNrU3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5tYXNrLnNldE1hc2tTdGFjayh0aGlzLmRlZmF1bHRNYXNrU3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUuY29weUZyb20oc291cmNlRnJhbWUpO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUuY29weUZyb20oZGVzdGluYXRpb25GcmFtZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFcmFzZXMgdGhlIHJlbmRlciB0ZXh0dXJlIGFuZCBmaWxscyB0aGUgZHJhd2luZyBhcmVhIHdpdGggYSBjb2xvdXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IFtjbGVhckNvbG9yXSAtIFRoZSBjb2xvciBhcyByZ2JhLCBkZWZhdWx0IHRvIHVzZSB0aGUgcmVuZGVyZXIgYmFja2dyb3VuZENvbG9yXG4gICAgICogQHBhcmFtIHtQSVhJLkJVRkZFUl9CSVRTfSBbbWFzaz1CVUZGRVJfQklUUy5DT0xPUiB8IEJVRkZFUl9CSVRTLkRFUFRIXSAtIEJpdHdpc2UgT1Igb2YgbWFza3NcbiAgICAgKiAgdGhhdCBpbmRpY2F0ZSB0aGUgYnVmZmVycyB0byBiZSBjbGVhcmVkLCBieSBkZWZhdWx0IENPTE9SIGFuZCBERVBUSCBidWZmZXJzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKGNsZWFyQ29sb3IsIG1hc2spIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCkge1xuICAgICAgICAgICAgY2xlYXJDb2xvciA9IGNsZWFyQ29sb3IgfHwgdGhpcy5jdXJyZW50LmJhc2VUZXh0dXJlLmNsZWFyQ29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjbGVhckNvbG9yID0gY2xlYXJDb2xvciB8fCB0aGlzLmNsZWFyQ29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlci5mcmFtZWJ1ZmZlci5jbGVhcihjbGVhckNvbG9yWzBdLCBjbGVhckNvbG9yWzFdLCBjbGVhckNvbG9yWzJdLCBjbGVhckNvbG9yWzNdLCBtYXNrKTtcbiAgICB9O1xuICAgIFJlbmRlclRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gcmVzaXplIHRoZSByb290IG9ubHkhXG4gICAgICAgIHRoaXMuYmluZChudWxsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyByZW5kZXJUZXh0dXJlIHN0YXRlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYmluZChudWxsKTtcbiAgICB9O1xuICAgIHJldHVybiBSZW5kZXJUZXh0dXJlU3lzdGVtO1xufShTeXN0ZW0pKTtcblxudmFyIElHTFVuaWZvcm1EYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIElHTFVuaWZvcm1EYXRhKCkge1xuICAgIH1cbiAgICByZXR1cm4gSUdMVW5pZm9ybURhdGE7XG59KCkpO1xuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgV2ViR0wgUHJvZ3JhbVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdMUHJvZ3JhbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBNYWtlcyBhIG5ldyBQaXhpIHByb2dyYW1cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcm9ncmFtIHtXZWJHTFByb2dyYW19IHdlYmdsIHByb2dyYW1cbiAgICAgKiBAcGFyYW0gdW5pZm9ybURhdGEge09iamVjdH0gdW5pZm9ybXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHTFByb2dyYW0ocHJvZ3JhbSwgdW5pZm9ybURhdGEpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaGFkZXIgcHJvZ3JhbVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFByb2dyYW19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICAvKipcbiAgICAgICAgICogaG9sZHMgdGhlIHVuaWZvcm0gZGF0YSB3aGljaCBjb250YWlucyB1bmlmb3JtIGxvY2F0aW9uc1xuICAgICAgICAgKiBhbmQgY3VycmVudCB1bmlmb3JtIHZhbHVlcyB1c2VkIGZvciBjYWNoaW5nIGFuZCBwcmV2ZW50aW5nIHVubmVlZGVkIEdQVSBjb21tYW5kc1xuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVuaWZvcm1EYXRhID0gdW5pZm9ybURhdGE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1bmlmb3JtR3JvdXBzIGhvbGRzIHRoZSB2YXJpb3VzIHVwbG9hZCBmdW5jdGlvbnMgZm9yIHRoZSBzaGFkZXIuIEVhY2ggdW5pZm9ybSBncm91cFxuICAgICAgICAgKiBhbmQgcHJvZ3JhbSBoYXZlIGEgdW5pcXVlIHVwbG9hZCBmdW5jdGlvbiBnZW5lcmF0ZWQuXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5pZm9ybUdyb3VwcyA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHByb2dyYW1cbiAgICAgKi9cbiAgICBHTFByb2dyYW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudW5pZm9ybURhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cHMgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEdMUHJvZ3JhbTtcbn0oKSk7XG5cbnZhciBVSUQkNCA9IDA7XG4vLyBkZWZ1YWx0IHN5bmMgZGF0YSBzbyB3ZSBkb24ndCBjcmVhdGUgYSBuZXcgb25lIGVhY2ggdGltZSFcbnZhciBkZWZhdWx0U3luY0RhdGEgPSB7IHRleHR1cmVDb3VudDogMCB9O1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2Ugc2hhZGVycy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKi9cbnZhciBTaGFkZXJTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNoYWRlclN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTaGFkZXJTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICAvLyBWYWxpZGF0aW9uIGNoZWNrIHRoYXQgdGhpcyBlbnZpcm9ubWVudCBzdXBwb3J0IGBuZXcgRnVuY3Rpb25gXG4gICAgICAgIF90aGlzLnN5c3RlbUNoZWNrKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nbCA9IG51bGw7XG4gICAgICAgIF90aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIF90aGlzLnByb2dyYW0gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgdG8gaG9sZHMgdGhlIGdlbmVyYXRlZCBmdW5jdGlvbnMuIFN0b3JlZCBhZ2FpbnN0IFVuaWZvcm1PYmplY3RzIHVuaXF1ZSBzaWduYXR1cmVcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhY2hlID0ge307XG4gICAgICAgIF90aGlzLmlkID0gVUlEJDQrKztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZWFibGUgZnVuY3Rpb24gYnkgYEBwaXhpL3Vuc2FmZS1ldmFsYCB0byBzaWxlbmNlXG4gICAgICogdGhyb3dpbmcgYW4gZXJyb3IgaWYgcGxhdGZvcm0gZG9lc24ndCBzdXBwb3J0IHVuc2FmZS1ldmFscy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zeXN0ZW1DaGVjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF1bnNhZmVFdmFsU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ3VycmVudCBlbnZpcm9ubWVudCBkb2VzIG5vdCBhbGxvdyB1bnNhZmUtZXZhbCwgJ1xuICAgICAgICAgICAgICAgICsgJ3BsZWFzZSB1c2UgQHBpeGkvdW5zYWZlLWV2YWwgbW9kdWxlIHRvIGVuYWJsZSBzdXBwb3J0LicpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoZ2wpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHNoYWRlciB0byB0aGUgb25lIGdpdmVuIGluIHBhcmFtZXRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIC0gdGhlIG5ldyBzaGFkZXJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkb250U3luY10gLSBmYWxzZSBpZiB0aGUgc2hhZGVyIHNob3VsZCBhdXRvbWF0aWNhbGx5IHN5bmMgaXRzIHVuaWZvcm1zLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkdMUHJvZ3JhbX0gdGhlIGdsUHJvZ3JhbSB0aGF0IGJlbG9uZ3MgdG8gdGhlIHNoYWRlci5cbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoc2hhZGVyLCBkb250U3luYykge1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMuZ2xvYmFscyA9IHRoaXMucmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXM7XG4gICAgICAgIHZhciBwcm9ncmFtID0gc2hhZGVyLnByb2dyYW07XG4gICAgICAgIHZhciBnbFByb2dyYW0gPSBwcm9ncmFtLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0gfHwgdGhpcy5nZW5lcmF0ZVNoYWRlcihzaGFkZXIpO1xuICAgICAgICB0aGlzLnNoYWRlciA9IHNoYWRlcjtcbiAgICAgICAgLy8gVE9ETyAtIHNvbWUgY3VycmVudCBQaXhpIHBsdWdpbnMgYnlwYXNzIHRoaXMuLiBzbyBpdCBub3Qgc2FmZSB0byB1c2UgeWV0Li5cbiAgICAgICAgaWYgKHRoaXMucHJvZ3JhbSAhPT0gcHJvZ3JhbSkge1xuICAgICAgICAgICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcbiAgICAgICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShnbFByb2dyYW0ucHJvZ3JhbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkb250U3luYykge1xuICAgICAgICAgICAgZGVmYXVsdFN5bmNEYXRhLnRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLnN5bmNVbmlmb3JtR3JvdXAoc2hhZGVyLnVuaWZvcm1Hcm91cCwgZGVmYXVsdFN5bmNEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2xQcm9ncmFtO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgdW5pZm9ybXMgdmFsdWVzIHRvIHRoZSBjdXJyZW50bHkgYm91bmQgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHVuaWZvcm1zIC0gdGhlIHVuaWZvcm1zIHZhbHVlcyB0aGF0IGJlIGFwcGxpZWQgdG8gdGhlIGN1cnJlbnQgc2hhZGVyXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zZXRVbmlmb3JtcyA9IGZ1bmN0aW9uICh1bmlmb3Jtcykge1xuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5zaGFkZXIucHJvZ3JhbTtcbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IHNoYWRlci5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICBzaGFkZXIuc3luY1VuaWZvcm1zKGdsUHJvZ3JhbS51bmlmb3JtRGF0YSwgdW5pZm9ybXMsIHRoaXMucmVuZGVyZXIpO1xuICAgIH07XG4gICAgLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlcyAqL1xuICAgIC8qKlxuICAgICAqXG4gICAgICogc3luY3MgdW5pZm9ybXMgb24gdGhlIGdyb3VwXG4gICAgICogQHBhcmFtIHsqfSBncm91cCAtIHRoZSB1bmlmb3JtIGdyb3VwIHRvIHN5bmNcbiAgICAgKiBAcGFyYW0geyp9IFtzeW5jRGF0YV0gLSB0aGlzIGlzIGRhdGEgdGhhdCBpcyBwYXNzZWQgdG8gdGhlIHN5bmMgZnVuY3Rpb24gYW5kIGFueSBuZXN0ZWQgc3luYyBmdW5jdGlvbnNcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnN5bmNVbmlmb3JtR3JvdXAgPSBmdW5jdGlvbiAoZ3JvdXAsIHN5bmNEYXRhKSB7XG4gICAgICAgIHZhciBnbFByb2dyYW0gPSB0aGlzLmdldGdsUHJvZ3JhbSgpO1xuICAgICAgICBpZiAoIWdyb3VwLnN0YXRpYyB8fCBncm91cC5kaXJ0eUlkICE9PSBnbFByb2dyYW0udW5pZm9ybUdyb3Vwc1tncm91cC5pZF0pIHtcbiAgICAgICAgICAgIGdsUHJvZ3JhbS51bmlmb3JtR3JvdXBzW2dyb3VwLmlkXSA9IGdyb3VwLmRpcnR5SWQ7XG4gICAgICAgICAgICB0aGlzLnN5bmNVbmlmb3Jtcyhncm91cCwgZ2xQcm9ncmFtLCBzeW5jRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlYWJsZSBieSB0aGUgQHBpeGkvdW5zYWZlLWV2YWwgcGFja2FnZSB0byB1c2Ugc3RhdGljXG4gICAgICogc3luY1VuZm9ybXMgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zeW5jVW5pZm9ybXMgPSBmdW5jdGlvbiAoZ3JvdXAsIGdsUHJvZ3JhbSwgc3luY0RhdGEpIHtcbiAgICAgICAgdmFyIHN5bmNGdW5jID0gZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdIHx8IHRoaXMuY3JlYXRlU3luY0dyb3Vwcyhncm91cCk7XG4gICAgICAgIHN5bmNGdW5jKGdsUHJvZ3JhbS51bmlmb3JtRGF0YSwgZ3JvdXAudW5pZm9ybXMsIHRoaXMucmVuZGVyZXIsIHN5bmNEYXRhKTtcbiAgICB9O1xuICAgIC8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlcyAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuY3JlYXRlU3luY0dyb3VwcyA9IGZ1bmN0aW9uIChncm91cCkge1xuICAgICAgICB2YXIgaWQgPSB0aGlzLmdldFNpZ25hdHVyZShncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSk7XG4gICAgICAgIGlmICghdGhpcy5jYWNoZVtpZF0pIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGVbaWRdID0gZ2VuZXJhdGVVbmlmb3Jtc1N5bmMoZ3JvdXAsIHRoaXMuc2hhZGVyLnByb2dyYW0udW5pZm9ybURhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGdyb3VwLnN5bmNVbmlmb3Jtc1t0aGlzLnNoYWRlci5wcm9ncmFtLmlkXSA9IHRoaXMuY2FjaGVbaWRdO1xuICAgICAgICByZXR1cm4gZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGFrZXMgYSB1bmlmb3JtIGdyb3VwIGFuZCBkYXRhIGFuZCBnZW5lcmF0ZXMgYSB1bmlxdWUgc2lnbmF0dXJlIGZvciB0aGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlVuaWZvcm1Hcm91cH0gZ3JvdXAgLSB0aGUgdW5pZm9ybSBncm91cCB0byBnZXQgc2lnbmF0dXJlIG9mXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1EYXRhIC0gdW5pZm9ybSBpbmZvcm1hdGlvbiBnZW5lcmF0ZWQgYnkgdGhlIHNoYWRlclxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IFVuaXF1ZSBzaWduYXR1cmUgb2YgdGhlIHVuaWZvcm0gZ3JvdXBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuZ2V0U2lnbmF0dXJlID0gZnVuY3Rpb24gKGdyb3VwLCB1bmlmb3JtRGF0YSkge1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSBncm91cC51bmlmb3JtcztcbiAgICAgICAgdmFyIHN0cmluZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiB1bmlmb3Jtcykge1xuICAgICAgICAgICAgc3RyaW5ncy5wdXNoKGkpO1xuICAgICAgICAgICAgaWYgKHVuaWZvcm1EYXRhW2ldKSB7XG4gICAgICAgICAgICAgICAgc3RyaW5ncy5wdXNoKHVuaWZvcm1EYXRhW2ldLnR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJpbmdzLmpvaW4oJy0nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHVuZGVybHlpbmcgR0xTaGFkZSByb2YgdGhlIGN1cnJlbnRseSBib3VuZCBzaGFkZXIuXG4gICAgICogVGhpcyBjYW4gYmUgaGFuZHkgZm9yIHdoZW4geW91IHRvIGhhdmUgYSBsaXR0bGUgbW9yZSBjb250cm9sIG92ZXIgdGhlIHNldHRpbmcgb2YgeW91ciB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0xQcm9ncmFtfSB0aGUgZ2xQcm9ncmFtIGZvciB0aGUgY3VycmVudGx5IGJvdW5kIFNoYWRlciBmb3IgdGhpcyBjb250ZXh0XG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5nZXRnbFByb2dyYW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnNoYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIGdsUHJvZ3JhbSB2ZXJzaW9uIG9mIHRoZSBTaGFkZXIgcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IHNoYWRlciAtIHRoZSBzaGFkZXIgdGhhdCB0aGUgZ2xQcm9ncmFtIHdpbGwgYmUgYmFzZWQgb24uXG4gICAgICogQHJldHVybiB7UElYSS5HTFByb2dyYW19IEEgc2hpbnkgbmV3IGdsUHJvZ3JhbSFcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmdlbmVyYXRlU2hhZGVyID0gZnVuY3Rpb24gKHNoYWRlcikge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IHNoYWRlci5wcm9ncmFtO1xuICAgICAgICB2YXIgYXR0cmliTWFwID0ge307XG4gICAgICAgIGZvciAodmFyIGkgaW4gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhKSB7XG4gICAgICAgICAgICBhdHRyaWJNYXBbaV0gPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGFbaV0ubG9jYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNoYWRlclByb2dyYW0gPSBjb21waWxlUHJvZ3JhbShnbCwgcHJvZ3JhbS52ZXJ0ZXhTcmMsIHByb2dyYW0uZnJhZ21lbnRTcmMsIGF0dHJpYk1hcCk7XG4gICAgICAgIHZhciB1bmlmb3JtRGF0YSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpIGluIHByb2dyYW0udW5pZm9ybURhdGEpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gcHJvZ3JhbS51bmlmb3JtRGF0YVtpXTtcbiAgICAgICAgICAgIHVuaWZvcm1EYXRhW2ldID0ge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgaSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRlZmF1bHRWYWx1ZShkYXRhLnR5cGUsIGRhdGEuc2l6ZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBnbFByb2dyYW0gPSBuZXcgR0xQcm9ncmFtKHNoYWRlclByb2dyYW0sIHVuaWZvcm1EYXRhKTtcbiAgICAgICAgcHJvZ3JhbS5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdID0gZ2xQcm9ncmFtO1xuICAgICAgICByZXR1cm4gZ2xQcm9ncmFtO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIFNoYWRlclN5c3RlbSBzdGF0ZSwgZG9lcyBub3QgYWZmZWN0IFdlYkdMIHN0YXRlXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBTeXN0ZW0gYW5kIHJlbW92ZXMgYWxsIGl0cyB0ZXh0dXJlc1xuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVE9ETyBpbXBsZW1lbnQgZGVzdHJveSBtZXRob2QgZm9yIFNoYWRlclN5c3RlbVxuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gU2hhZGVyU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBNYXBzIGdsIGJsZW5kIGNvbWJpbmF0aW9ucyB0byBXZWJHTC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSByZW5kZXJpbmcgY29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyW11bXX0gW2FycmF5PVtdXSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge251bWJlcltdW119IE1hcHBlZCBtb2Rlcy5cbiAqL1xuZnVuY3Rpb24gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKGdsLCBhcnJheSkge1xuICAgIGlmIChhcnJheSA9PT0gdm9pZCAwKSB7IGFycmF5ID0gW107IH1cbiAgICAvLyBUT0RPIC0gcHJlbXVsdGlwbHkgYWxwaGEgd291bGQgYmUgZGlmZmVyZW50LlxuICAgIC8vIGFkZCBhIGJvb2xlYW4gZm9yIHRoYXQhXG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTk9STUFMXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkFERF0gPSBbZ2wuT05FLCBnbC5PTkVdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLk1VTFRJUExZXSA9IFtnbC5EU1RfQ09MT1IsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU0NSRUVOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1IsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuT1ZFUkxBWV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5EQVJLRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTElHSFRFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl9ET0RHRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl9CVVJOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkhBUkRfTElHSFRdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU09GVF9MSUdIVF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5ESUZGRVJFTkNFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkVYQ0xVU0lPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5IVUVdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU0FUVVJBVElPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5MVU1JTk9TSVRZXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLk5PTkVdID0gWzAsIDBdO1xuICAgIC8vIG5vdC1wcmVtdWx0aXBsaWVkIGJsZW5kIG1vZGVzXG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTk9STUFMX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkFERF9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkUsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIC8vIGNvbXBvc2l0ZSBvcGVyYXRpb25zXG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX0lOXSA9IFtnbC5EU1RfQUxQSEEsIGdsLlpFUk9dO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNSQ19PVVRdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLlpFUk9dO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNSQ19BVE9QXSA9IFtnbC5EU1RfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9PVkVSXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5PTkVdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9JTl0gPSBbZ2wuWkVSTywgZ2wuU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5EU1RfT1VUXSA9IFtnbC5aRVJPLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5EU1RfQVRPUF0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5YT1JdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIC8vIFNVQlRSQUNUIGZyb20gZmxhc2hcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TVUJUUkFDVF0gPSBbZ2wuT05FLCBnbC5PTkUsIGdsLk9ORSwgZ2wuT05FLCBnbC5GVU5DX1JFVkVSU0VfU1VCVFJBQ1QsIGdsLkZVTkNfQUREXTtcbiAgICByZXR1cm4gYXJyYXk7XG59XG5cbnZhciBCTEVORCQxID0gMDtcbnZhciBPRkZTRVQkMSA9IDE7XG52YXIgQ1VMTElORyQxID0gMjtcbnZhciBERVBUSF9URVNUJDEgPSAzO1xudmFyIFdJTkRJTkckMSA9IDQ7XG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBXZWJHTCBzdGF0ZSBtYWNoaW5lcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBTdGF0ZVN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3RhdGVTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3RhdGVTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHTCBjb250ZXh0XG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nbCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGF0ZSBJRFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGVJZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb2x5Z29uIG9mZnNldFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucG9seWdvbk9mZnNldCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCbGVuZCBtb2RlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT05FXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9ORTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgY3VycmVudCBibGVuZCBlcXVhdGlvbiBpcyBkaWZmZXJlbnRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JsZW5kRXEgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgY2FsbHNcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXAgPSBbXTtcbiAgICAgICAgLy8gbWFwIGZ1bmN0aW9ucyBmb3Igd2hlbiB3ZSBzZXQgc3RhdGUuLlxuICAgICAgICBfdGhpcy5tYXBbQkxFTkQkMV0gPSBfdGhpcy5zZXRCbGVuZDtcbiAgICAgICAgX3RoaXMubWFwW09GRlNFVCQxXSA9IF90aGlzLnNldE9mZnNldDtcbiAgICAgICAgX3RoaXMubWFwW0NVTExJTkckMV0gPSBfdGhpcy5zZXRDdWxsRmFjZTtcbiAgICAgICAgX3RoaXMubWFwW0RFUFRIX1RFU1QkMV0gPSBfdGhpcy5zZXREZXB0aFRlc3Q7XG4gICAgICAgIF90aGlzLm1hcFtXSU5ESU5HJDFdID0gX3RoaXMuc2V0RnJvbnRGYWNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBjaGVjayBjYWxsc1xuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNoZWNrcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBXZWJHTCBTdGF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRTdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICAgICAgICBfdGhpcy5kZWZhdWx0U3RhdGUuYmxlbmQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKGdsKSB7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGVzID0gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKGdsKTtcbiAgICAgICAgdGhpcy5zZXQodGhpcy5kZWZhdWx0U3RhdGUpO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHN0YXRlIC0gVGhlIHN0YXRlIHRvIHNldC5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHN0YXRlID0gc3RhdGUgfHwgdGhpcy5kZWZhdWx0U3RhdGU7XG4gICAgICAgIC8vIFRPRE8gbWF5YmUgdG8gYW4gb2JqZWN0IGNoZWNrPyAoIHRoaXMuc3RhdGUgPT09IHN0YXRlICk/XG4gICAgICAgIGlmICh0aGlzLnN0YXRlSWQgIT09IHN0YXRlLmRhdGEpIHtcbiAgICAgICAgICAgIHZhciBkaWZmID0gdGhpcy5zdGF0ZUlkIF4gc3RhdGUuZGF0YTtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIC8vIG9yZGVyIGZyb20gbGVhc3QgdG8gbW9zdCBjb21tb25cbiAgICAgICAgICAgIHdoaWxlIChkaWZmKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpZmYgJiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXRlIGNoYW5nZSFcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBbaV0uY2FsbCh0aGlzLCAhIShzdGF0ZS5kYXRhICYgKDEgPDwgaSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlmZiA9IGRpZmYgPj4gMTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0YXRlSWQgPSBzdGF0ZS5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIGJhc2VkIG9uIHRoZSBhYm92ZSBzZXR0aW5ncyB3ZSBjaGVjayBmb3Igc3BlY2lmaWMgbW9kZXMuLlxuICAgICAgICAvLyBmb3IgZXhhbXBsZSBpZiBibGVuZCBpcyBhY3RpdmUgd2UgY2hlY2sgYW5kIHNldCB0aGUgYmxlbmQgbW9kZXNcbiAgICAgICAgLy8gb3Igb2YgcG9seWdvbiBvZmZzZXQgaXMgYWN0aXZlIHdlIGNoZWNrIHRoZSBwb2x5IGRlcHRoLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hlY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrc1tpXSh0aGlzLCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YXRlLCB3aGVuIHByZXZpb3VzIHN0YXRlIGlzIHVua25vd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gc3RhdGUgLSBUaGUgc3RhdGUgdG8gc2V0XG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLmZvcmNlU3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB0aGlzLmRlZmF1bHRTdGF0ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1hcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5tYXBbaV0uY2FsbCh0aGlzLCAhIShzdGF0ZS5kYXRhICYgKDEgPDwgaSkpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hlY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrc1tpXSh0aGlzLCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZUlkID0gc3RhdGUuZGF0YTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZWQgYmxlbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgYmxlbmRpbmcuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldEJsZW5kID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQ2hlY2soU3RhdGVTeXN0ZW0uY2hlY2tCbGVuZE1vZGUsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkJMRU5EKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZSBwb2x5Z29uIG9mZnNldCBmaWxsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgcG9seWdvbiBvZmZzZXQgdGVzdGluZy5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0T2Zmc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQ2hlY2soU3RhdGVTeXN0ZW0uY2hlY2tQb2x5Z29uT2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5QT0xZR09OX09GRlNFVF9GSUxMKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZSBkZXB0aCB0ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGRlcHRoIHRlc3RpbmcuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldERlcHRoVGVzdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuREVQVEhfVEVTVCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHdoZXRoZXIgdG8gZW5hYmxlIG9yIGRpc2FibGUgY3VsbCBmYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGN1bGwgZmFjZS5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0Q3VsbEZhY2UgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkNVTExfRkFDRSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnbCBmcm9udCBmYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIHRydWUgaXMgY2xvY2t3aXNlIGFuZCBmYWxzZSBpcyBjb3VudGVyLWNsb2Nrd2lzZVxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRGcm9udEZhY2UgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5nbC5mcm9udEZhY2UodGhpcy5nbFt2YWx1ZSA/ICdDVycgOiAnQ0NXJ10pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFRoZSBibGVuZCBtb2RlIHRvIHNldCB0by5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0QmxlbmRNb2RlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5ibGVuZE1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB2YXIgbW9kZSA9IHRoaXMuYmxlbmRNb2Rlc1t2YWx1ZV07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGlmIChtb2RlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgZ2wuYmxlbmRGdW5jKG1vZGVbMF0sIG1vZGVbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2wuYmxlbmRGdW5jU2VwYXJhdGUobW9kZVswXSwgbW9kZVsxXSwgbW9kZVsyXSwgbW9kZVszXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZGUubGVuZ3RoID09PSA2KSB7XG4gICAgICAgICAgICB0aGlzLl9ibGVuZEVxID0gdHJ1ZTtcbiAgICAgICAgICAgIGdsLmJsZW5kRXF1YXRpb25TZXBhcmF0ZShtb2RlWzRdLCBtb2RlWzVdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9ibGVuZEVxKSB7XG4gICAgICAgICAgICB0aGlzLl9ibGVuZEVxID0gZmFsc2U7XG4gICAgICAgICAgICBnbC5ibGVuZEVxdWF0aW9uU2VwYXJhdGUoZ2wuRlVOQ19BREQsIGdsLkZVTkNfQUREKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9seWdvbiBvZmZzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSB0aGUgcG9seWdvbiBvZmZzZXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSB0aGUgcG9seWdvbiBvZmZzZXQgc2NhbGVcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0UG9seWdvbk9mZnNldCA9IGZ1bmN0aW9uICh2YWx1ZSwgc2NhbGUpIHtcbiAgICAgICAgdGhpcy5nbC5wb2x5Z29uT2Zmc2V0KHZhbHVlLCBzY2FsZSk7XG4gICAgfTtcbiAgICAvLyB1c2VkXG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFsbCB0aGUgbG9naWMgYW5kIGRpc2FibGVzIHRoZSB2YW9zXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmdsLnBpeGVsU3RvcmVpKHRoaXMuZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgZmFsc2UpO1xuICAgICAgICB0aGlzLmZvcmNlU3RhdGUodGhpcy5kZWZhdWx0U3RhdGUpO1xuICAgICAgICB0aGlzLl9ibGVuZEVxID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSAtMTtcbiAgICAgICAgdGhpcy5zZXRCbGVuZE1vZGUoMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjaGVja3MgdG8gc2VlIHdoaWNoIHVwZGF0ZXMgc2hvdWxkIGJlIGNoZWNrZWQgYmFzZWQgb24gd2hpY2ggc2V0dGluZ3MgaGF2ZSBiZWVuIGFjdGl2YXRlZC5cbiAgICAgKiBGb3IgZXhhbXBsZSwgaWYgYmxlbmQgaXMgZW5hYmxlZCB0aGVuIHdlIHNob3VsZCBjaGVjayB0aGUgYmxlbmQgbW9kZXMgZWFjaCB0aW1lIHRoZSBzdGF0ZSBpcyBjaGFuZ2VkXG4gICAgICogb3IgaWYgcG9seWdvbiBmaWxsIGlzIGFjdGl2YXRlZCB0aGVuIHdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlIHBvbHlnb24gb2Zmc2V0IGNoYW5nZXMuXG4gICAgICogVGhlIGlkZWEgaXMgdGhhdCB3ZSBvbmx5IGNoZWNrIHdoYXQgd2UgaGF2ZSB0b28uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIC0gdGhlIGNoZWNraW5nIGZ1bmN0aW9uIHRvIGFkZCBvciByZW1vdmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gc2hvdWxkIHRoZSBjaGVjayBmdW5jdGlvbiBiZSBhZGRlZCBvciByZW1vdmVkLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS51cGRhdGVDaGVjayA9IGZ1bmN0aW9uIChmdW5jLCB2YWx1ZSkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoZWNrcy5pbmRleE9mKGZ1bmMpO1xuICAgICAgICBpZiAodmFsdWUgJiYgaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrcy5wdXNoKGZ1bmMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF2YWx1ZSAmJiBpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgcHJpdmF0ZSBsaXR0bGUgd3JhcHBlciBmdW5jdGlvbiB0aGF0IHdlIGNhbGwgdG8gY2hlY2sgdGhlIGJsZW5kIG1vZGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGVTeXN0ZW19IFN5c3RlbSAtIHRoZSBTeXN0ZW0gdG8gcGVyZm9ybSB0aGUgc3RhdGUgY2hlY2sgb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGV9IHN0YXRlIC0gdGhlIHN0YXRlIHRoYXQgdGhlIGJsZW5kTW9kZSB3aWxsIHB1bGxlZCBmcm9tXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0uY2hlY2tCbGVuZE1vZGUgPSBmdW5jdGlvbiAoc3lzdGVtLCBzdGF0ZSkge1xuICAgICAgICBzeXN0ZW0uc2V0QmxlbmRNb2RlKHN0YXRlLmJsZW5kTW9kZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIHByaXZhdGUgbGl0dGxlIHdyYXBwZXIgZnVuY3Rpb24gdGhhdCB3ZSBjYWxsIHRvIGNoZWNrIHRoZSBwb2x5Z29uIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZVN5c3RlbX0gU3lzdGVtIC0gdGhlIFN5c3RlbSB0byBwZXJmb3JtIHRoZSBzdGF0ZSBjaGVjayBvblxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZX0gc3RhdGUgLSB0aGUgc3RhdGUgdGhhdCB0aGUgYmxlbmRNb2RlIHdpbGwgcHVsbGVkIGZyb21cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5jaGVja1BvbHlnb25PZmZzZXQgPSBmdW5jdGlvbiAoc3lzdGVtLCBzdGF0ZSkge1xuICAgICAgICBzeXN0ZW0uc2V0UG9seWdvbk9mZnNldCgxLCBzdGF0ZS5wb2x5Z29uT2Zmc2V0KTtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0ZVN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRleHR1cmUgZ2FyYmFnZSBjb2xsZWN0aW9uIG9uIHRoZSBHUFUsXG4gKiBlbnN1cmluZyB0aGF0IGl0IGRvZXMgbm90IGdldCBjbG9nZ2VkIHVwIHdpdGggdGV4dHVyZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGJlaW5nIHVzZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICovXG52YXIgVGV4dHVyZUdDU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZXh0dXJlR0NTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dHVyZUdDU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ291bnRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoZWNrIGNvdW50XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jaGVja0NvdW50ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1heGltdW0gaWRsZSB0aW1lLCBpbiBzZWNvbmRzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkdDX01BWF9JRExFXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXhJZGxlID0gc2V0dGluZ3MuR0NfTUFYX0lETEU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXhpbXVtIG51bWJlciBvZiBpdGVtIHRvIGNoZWNrXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkdDX01BWF9DSEVDS19DT1VOVFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2hlY2tDb3VudE1heCA9IHNldHRpbmdzLkdDX01BWF9DSEVDS19DT1VOVDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgZ2FyYWJhZ2UgY29sbGVjdGlvbiBtb2RlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR0NfTU9ERVN9XG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5HQ19NT0RFXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb2RlID0gc2V0dGluZ3MuR0NfTU9ERTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuICAgIFRleHR1cmVHQ1N5c3RlbS5wcm90b3R5cGUucG9zdHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlbmRlcmVyLnJlbmRlcmluZ1RvU2NyZWVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb3VudCsrO1xuICAgICAgICBpZiAodGhpcy5tb2RlID09PSBHQ19NT0RFUy5NQU5VQUwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoZWNrQ291bnQrKztcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tDb3VudCA+IHRoaXMuY2hlY2tDb3VudE1heCkge1xuICAgICAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMucnVuKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZFxuICAgICAqIGlmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVXG4gICAgICovXG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZTtcbiAgICAgICAgdmFyIG1hbmFnZWRUZXh0dXJlcyA9IHRtLm1hbmFnZWRUZXh0dXJlcztcbiAgICAgICAgdmFyIHdhc1JlbW92ZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gbWFuYWdlZFRleHR1cmVzW2ldO1xuICAgICAgICAgICAgLy8gb25seSBzdXBwb3J0cyBub24gZ2VuZXJhdGVkIHRleHR1cmVzIGF0IHRoZSBtb21lbnQhXG4gICAgICAgICAgICBpZiAoIXRleHR1cmUuZnJhbWVidWZmZXIgJiYgdGhpcy5jb3VudCAtIHRleHR1cmUudG91Y2hlZCA+IHRoaXMubWF4SWRsZSkge1xuICAgICAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHRydWUpO1xuICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgd2FzUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdhc1JlbW92ZWQpIHtcbiAgICAgICAgICAgIHZhciBqID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hbmFnZWRUZXh0dXJlc1tpXSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBtYW5hZ2VkVGV4dHVyZXNbaisrXSA9IG1hbmFnZWRUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoID0gajtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIHRleHR1cmVzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGRpc3BsYXlPYmplY3QgYW5kIGl0cyBjaGlsZHJlbiBmcm9tIHRoZSBHUFVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3QgdG8gcmVtb3ZlIHRoZSB0ZXh0dXJlcyBmcm9tLlxuICAgICAqL1xuICAgIFRleHR1cmVHQ1N5c3RlbS5wcm90b3R5cGUudW5sb2FkID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgdG0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG4gICAgICAgIC8vIG9ubHkgZGVzdHJveSBub24gZ2VuZXJhdGVkIHRleHR1cmVzXG4gICAgICAgIGlmICgoX2EgPSBkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKGRpc3BsYXlPYmplY3QuX3RleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB0aGlzLnVubG9hZChkaXNwbGF5T2JqZWN0LmNoaWxkcmVuW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRleHR1cmVHQ1N5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogSW50ZXJuYWwgdGV4dHVyZSBmb3IgV2ViR0wgY29udGV4dFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR0xUZXh0dXJlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdMVGV4dHVyZSh0ZXh0dXJlKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgdGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2lkdGggb2YgdGV4dHVyZSB0aGF0IHdhcyB1c2VkIGluIHRleEltYWdlMkRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogSGVpZ2h0IG9mIHRleHR1cmUgdGhhdCB3YXMgdXNlZCBpbiB0ZXhJbWFnZTJEXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0dXJlIGNvbnRlbnRzIGRpcnR5IGZsYWdcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eUlkID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0dXJlIHN0eWxlIGRpcnR5IGZsYWdcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eVN0eWxlSWQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgbWlwIGxldmVscyBoYXMgdG8gYmUgZ2VuZXJhdGVkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pcG1hcCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogV3JhcE1vZGUgY29waWVkIGZyb20gYmFzZVRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53cmFwTW9kZSA9IDMzMDcxO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHlwZSBjb3BpZWQgZnJvbSBiYXNlVGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSA2NDA4O1xuICAgICAgICAvKipcbiAgICAgICAgICogVHlwZSBjb3BpZWQgZnJvbSBiYXNlVGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVybmFsRm9ybWF0ID0gNTEyMTtcbiAgICB9XG4gICAgcmV0dXJuIEdMVGV4dHVyZTtcbn0oKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRleHR1cmVzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIFRleHR1cmVTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRleHR1cmVTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dHVyZVN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLy8gVE9ETyBzZXQgdG8gbWF4IHRleHR1cmVzLi4uXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3VuZCB0ZXh0dXJlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYm91bmRUZXh0dXJlcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBsb2NhdGlvblxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3VycmVudExvY2F0aW9uID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIG1hbmFnZWQgdGV4dHVyZXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hbmFnZWRUZXh0dXJlcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlkIHNvbWVvbmUgdGVtcGVyIHdpdGggdGV4dHVyZXMgc3RhdGU/IFdlJ2xsIG92ZXJ3cml0ZSB0aGVtIHdoZW4gd2UgbmVlZCB0byB1bmJpbmQgc29tZXRoaW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3Vua25vd25Cb3VuZFRleHR1cmVzID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXNlVGV4dHVyZSB2YWx1ZSB0aGF0IHNob3dzIHRoYXQgd2UgZG9uJ3Qga25vdyB3aGF0IGlzIGJvdW5kXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudW5rbm93blRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbjtcbiAgICAgICAgdmFyIG1heFRleHR1cmVzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKTtcbiAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aCA9IG1heFRleHR1cmVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyBtb3ZlIHRoaXMuLiB0byBhIG5pY2UgbWFrZSBlbXB0eSB0ZXh0dXJlcyBjbGFzcy4uXG4gICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlcyA9IHt9O1xuICAgICAgICB2YXIgZW1wdHlUZXh0dXJlMkQgPSBuZXcgR0xUZXh0dXJlKGdsLmNyZWF0ZVRleHR1cmUoKSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGVtcHR5VGV4dHVyZTJELnRleHR1cmUpO1xuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIDEsIDEsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG5ldyBVaW50OEFycmF5KDQpKTtcbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfMkRdID0gZW1wdHlUZXh0dXJlMkQ7XG4gICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFX0NVQkVfTUFQXSA9IG5ldyBHTFRleHR1cmUoZ2wuY3JlYXRlVGV4dHVyZSgpKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV9DVUJFX01BUCwgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfQ1VCRV9NQVBdLnRleHR1cmUpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpLCAwLCBnbC5SR0JBLCAxLCAxLCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmJpbmQobnVsbCwgaSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJpbmQgYSB0ZXh0dXJlIHRvIGEgc3BlY2lmaWMgbG9jYXRpb25cbiAgICAgKlxuICAgICAqIElmIHlvdSB3YW50IHRvIHVuYmluZCBzb21ldGhpbmcsIHBsZWFzZSB1c2UgYHVuYmluZCh0ZXh0dXJlKWAgaW5zdGVhZCBvZiBgYmluZChudWxsLCB0ZXh0dXJlTG9jYXRpb24pYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV8UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZV8gLSBUZXh0dXJlIHRvIGJpbmRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvY2F0aW9uPTBdIC0gTG9jYXRpb24gdG8gYmluZCBhdFxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAodGV4dHVyZSwgbG9jYXRpb24pIHtcbiAgICAgICAgaWYgKGxvY2F0aW9uID09PSB2b2lkIDApIHsgbG9jYXRpb24gPSAwOyB9XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGlmICh0ZXh0dXJlKSB7XG4gICAgICAgICAgICB0ZXh0dXJlID0gdGV4dHVyZS5jYXN0VG9CYXNlVGV4dHVyZSgpO1xuICAgICAgICAgICAgaWYgKHRleHR1cmUucGFyZW50VGV4dHVyZUFycmF5KSB7XG4gICAgICAgICAgICAgICAgLy8gY2Fubm90IGJpbmQgcGFydGlhbCB0ZXh0dXJlXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogcmVwb3J0IGEgd2FybmluZ1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS50b3VjaGVkID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlR0MuY291bnQ7XG4gICAgICAgICAgICAgICAgdmFyIGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gfHwgdGhpcy5pbml0VGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSAhPT0gdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZSh0ZXh0dXJlLnRhcmdldCwgZ2xUZXh0dXJlLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZ2xUZXh0dXJlLmRpcnR5SWQgIT09IHRleHR1cmUuZGlydHlJZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUodGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tsb2NhdGlvbl0gPSB0ZXh0dXJlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudExvY2F0aW9uICE9PSBsb2NhdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFXzJEXS50ZXh0dXJlKTtcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tsb2NhdGlvbl0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGV4dHVyZSBsb2NhdGlvbiBhbmQgYm91bmQgdGV4dHVyZXNcbiAgICAgKlxuICAgICAqIEFjdHVhbCBgYmluZChudWxsLCBpKWAgY2FsbHMgd2lsbCBiZSBwZXJmb3JtZWQgYXQgbmV4dCBgdW5iaW5kKClgIGNhbGxcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSB0cnVlO1xuICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IC0xO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gdGhpcy51bmtub3duVGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5iaW5kIGEgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gYmluZFxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGJvdW5kVGV4dHVyZXMgPSBfYS5ib3VuZFRleHR1cmVzO1xuICAgICAgICBpZiAodGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3Vua25vd25Cb3VuZFRleHR1cmVzID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBzb21lb25lIGNoYW5nZWQgd2ViR0wgc3RhdGUsXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIHRvIGJlIHN1cmUgdGhhdCBvdXIgdGV4dHVyZSBkb2VzIG5vdCBhcHBlYXIgaW4gbXVsdGktdGV4dHVyZSByZW5kZXJlciBzYW1wbGVyc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kVGV4dHVyZXNbaV0gPT09IHRoaXMudW5rbm93blRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kKG51bGwsIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChib3VuZFRleHR1cmVzW2ldID09PSB0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudExvY2F0aW9uICE9PSBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLmVtcHR5VGV4dHVyZXNbdGV4dHVyZS50YXJnZXRdLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGJvdW5kVGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGluaXRpYWxpemVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5pbml0VGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbFRleHR1cmUgPSBuZXcgR0xUZXh0dXJlKHRoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpKTtcbiAgICAgICAgLy8gZ3VhcmFudGVlIGFuIHVwZGF0ZS4uXG4gICAgICAgIGdsVGV4dHVyZS5kaXJ0eUlkID0gLTE7XG4gICAgICAgIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gPSBnbFRleHR1cmU7XG4gICAgICAgIHRoaXMubWFuYWdlZFRleHR1cmVzLnB1c2godGV4dHVyZSk7XG4gICAgICAgIHRleHR1cmUub24oJ2Rpc3Bvc2UnLCB0aGlzLmRlc3Ryb3lUZXh0dXJlLCB0aGlzKTtcbiAgICAgICAgcmV0dXJuIGdsVGV4dHVyZTtcbiAgICB9O1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmluaXRUZXh0dXJlVHlwZSA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gdGV4dHVyZS5mb3JtYXQ7XG4gICAgICAgIGdsVGV4dHVyZS50eXBlID0gdGV4dHVyZS50eXBlO1xuICAgICAgICBpZiAodGhpcy53ZWJHTFZlcnNpb24gIT09IDIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICBpZiAodGV4dHVyZS50eXBlID09PSBnbC5GTE9BVFxuICAgICAgICAgICAgJiYgdGV4dHVyZS5mb3JtYXQgPT09IGdsLlJHQkEpIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkEzMkY7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhhdCdzIFdlYkdMMSBIQUxGX0ZMT0FUX09FU1xuICAgICAgICAvLyB3ZSBoYXZlIHRvIGNvbnZlcnQgaXQgdG8gV2ViR0wgSEFMRl9GTE9BVFxuICAgICAgICBpZiAodGV4dHVyZS50eXBlID09PSBUWVBFUy5IQUxGX0ZMT0FUKSB7XG4gICAgICAgICAgICBnbFRleHR1cmUudHlwZSA9IGdsLkhBTEZfRkxPQVQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsVGV4dHVyZS50eXBlID09PSBnbC5IQUxGX0ZMT0FUXG4gICAgICAgICAgICAmJiB0ZXh0dXJlLmZvcm1hdCA9PT0gZ2wuUkdCQSkge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTE2RjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGEgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGluaXRpYWxpemVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIGlmICghZ2xUZXh0dXJlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdGhpcy5pbml0VGV4dHVyZVR5cGUodGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgaWYgKHRleHR1cmUucmVzb3VyY2UgJiYgdGV4dHVyZS5yZXNvdXJjZS51cGxvYWQocmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSkpIDtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBkZWZhdWx0LCByZW5kZXJUZXh0dXJlLWxpa2UgbG9naWNcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRleHR1cmUucmVhbFdpZHRoO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRleHR1cmUucmVhbEhlaWdodDtcbiAgICAgICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICAgICAgaWYgKGdsVGV4dHVyZS53aWR0aCAhPT0gd2lkdGhcbiAgICAgICAgICAgICAgICB8fCBnbFRleHR1cmUuaGVpZ2h0ICE9PSBoZWlnaHRcbiAgICAgICAgICAgICAgICB8fCBnbFRleHR1cmUuZGlydHlJZCA8IDApIHtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGdsLnRleEltYWdlMkQodGV4dHVyZS50YXJnZXQsIDAsIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCwgd2lkdGgsIGhlaWdodCwgMCwgdGV4dHVyZS5mb3JtYXQsIGdsVGV4dHVyZS50eXBlLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBsZXRzIG9ubHkgdXBkYXRlIHdoYXQgY2hhbmdlcy4uXG4gICAgICAgIGlmICh0ZXh0dXJlLmRpcnR5U3R5bGVJZCAhPT0gZ2xUZXh0dXJlLmRpcnR5U3R5bGVJZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlU3R5bGUodGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2xUZXh0dXJlLmRpcnR5SWQgPSB0ZXh0dXJlLmRpcnR5SWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZWxldGVzIHRoZSB0ZXh0dXJlIGZyb20gV2ViR0xcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZX0gdGV4dHVyZV8gLSB0aGUgdGV4dHVyZSB0byBkZXN0cm95XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFJlbW92ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIHNraXAgcmVtb3ZpbmcgdGhlIHRleHR1cmUgZnJvbSB0aGUgVGV4dHVyZU1hbmFnZXIuXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuZGVzdHJveVRleHR1cmUgPSBmdW5jdGlvbiAodGV4dHVyZSwgc2tpcFJlbW92ZSkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB0ZXh0dXJlID0gdGV4dHVyZS5jYXN0VG9CYXNlVGV4dHVyZSgpO1xuICAgICAgICBpZiAodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgdGhpcy51bmJpbmQodGV4dHVyZSk7XG4gICAgICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSk7XG4gICAgICAgICAgICB0ZXh0dXJlLm9mZignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuICAgICAgICAgICAgZGVsZXRlIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgICAgICBpZiAoIXNraXBSZW1vdmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IHRoaXMubWFuYWdlZFRleHR1cmVzLmluZGV4T2YodGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgaWYgKGkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMubWFuYWdlZFRleHR1cmVzLCBpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0ZXh0dXJlIHN0eWxlIHN1Y2ggYXMgbWlwbWFwIGZsYWdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byB1cGRhdGVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlU3R5bGUgPSBmdW5jdGlvbiAodGV4dHVyZSkge1xuICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgaWYgKCFnbFRleHR1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHRleHR1cmUubWlwbWFwID09PSBNSVBNQVBfTU9ERVMuUE9XMiB8fCB0aGlzLndlYkdMVmVyc2lvbiAhPT0gMikgJiYgIXRleHR1cmUuaXNQb3dlck9mVHdvKSB7XG4gICAgICAgICAgICBnbFRleHR1cmUubWlwbWFwID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbFRleHR1cmUubWlwbWFwID0gdGV4dHVyZS5taXBtYXAgPj0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy53ZWJHTFZlcnNpb24gIT09IDIgJiYgIXRleHR1cmUuaXNQb3dlck9mVHdvKSB7XG4gICAgICAgICAgICBnbFRleHR1cmUud3JhcE1vZGUgPSBXUkFQX01PREVTLkNMQU1QO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndyYXBNb2RlID0gdGV4dHVyZS53cmFwTW9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGV4dHVyZS5yZXNvdXJjZSAmJiB0ZXh0dXJlLnJlc291cmNlLnN0eWxlKHRoaXMucmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSkpIDtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0eWxlKHRleHR1cmUsIGdsVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2xUZXh0dXJlLmRpcnR5U3R5bGVJZCA9IHRleHR1cmUuZGlydHlTdHlsZUlkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHN0eWxlIGZvciB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gdXBkYXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiAodGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGlmIChnbFRleHR1cmUubWlwbWFwKSB7XG4gICAgICAgICAgICBnbC5nZW5lcmF0ZU1pcG1hcCh0ZXh0dXJlLnRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsVGV4dHVyZS53cmFwTW9kZSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbFRleHR1cmUud3JhcE1vZGUpO1xuICAgICAgICBpZiAoZ2xUZXh0dXJlLm1pcG1hcCkge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA9PT0gU0NBTEVfTU9ERVMuTElORUFSID8gZ2wuTElORUFSX01JUE1BUF9MSU5FQVIgOiBnbC5ORUFSRVNUX01JUE1BUF9ORUFSRVNUKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgIHZhciBhbmlzb3Ryb3BpY0V4dCA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLmFuaXNvdHJvcGljRmlsdGVyaW5nO1xuICAgICAgICAgICAgaWYgKGFuaXNvdHJvcGljRXh0ICYmIHRleHR1cmUuYW5pc290cm9waWNMZXZlbCA+IDAgJiYgdGV4dHVyZS5zY2FsZU1vZGUgPT09IFNDQUxFX01PREVTLkxJTkVBUikge1xuICAgICAgICAgICAgICAgIHZhciBsZXZlbCA9IE1hdGgubWluKHRleHR1cmUuYW5pc290cm9waWNMZXZlbCwgZ2wuZ2V0UGFyYW1ldGVyKGFuaXNvdHJvcGljRXh0Lk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCkpO1xuICAgICAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmYodGV4dHVyZS50YXJnZXQsIGFuaXNvdHJvcGljRXh0LlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULCBsZXZlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01JTl9GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID09PSBTQ0FMRV9NT0RFUy5MSU5FQVIgPyBnbC5MSU5FQVIgOiBnbC5ORUFSRVNUKTtcbiAgICAgICAgfVxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01BR19GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID09PSBTQ0FMRV9NT0RFUy5MSU5FQVIgPyBnbC5MSU5FQVIgOiBnbC5ORUFSRVNUKTtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW1zIGFyZSBpbmRpdmlkdWFsIGNvbXBvbmVudHMgdG8gdGhlIFJlbmRlcmVyIHBpcGVsaW5lLlxuICogQG5hbWVzcGFjZSBQSVhJLnN5c3RlbXNcbiAqL1xuXG52YXIgc3lzdGVtcyA9ICh7XG4gICAgRmlsdGVyU3lzdGVtOiBGaWx0ZXJTeXN0ZW0sXG4gICAgQmF0Y2hTeXN0ZW06IEJhdGNoU3lzdGVtLFxuICAgIENvbnRleHRTeXN0ZW06IENvbnRleHRTeXN0ZW0sXG4gICAgRnJhbWVidWZmZXJTeXN0ZW06IEZyYW1lYnVmZmVyU3lzdGVtLFxuICAgIEdlb21ldHJ5U3lzdGVtOiBHZW9tZXRyeVN5c3RlbSxcbiAgICBNYXNrU3lzdGVtOiBNYXNrU3lzdGVtLFxuICAgIFNjaXNzb3JTeXN0ZW06IFNjaXNzb3JTeXN0ZW0sXG4gICAgU3RlbmNpbFN5c3RlbTogU3RlbmNpbFN5c3RlbSxcbiAgICBQcm9qZWN0aW9uU3lzdGVtOiBQcm9qZWN0aW9uU3lzdGVtLFxuICAgIFJlbmRlclRleHR1cmVTeXN0ZW06IFJlbmRlclRleHR1cmVTeXN0ZW0sXG4gICAgU2hhZGVyU3lzdGVtOiBTaGFkZXJTeXN0ZW0sXG4gICAgU3RhdGVTeXN0ZW06IFN0YXRlU3lzdGVtLFxuICAgIFRleHR1cmVHQ1N5c3RlbTogVGV4dHVyZUdDU3lzdGVtLFxuICAgIFRleHR1cmVTeXN0ZW06IFRleHR1cmVTeXN0ZW1cbn0pO1xuXG52YXIgdGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbi8qKlxuICogVGhlIEFic3RyYWN0UmVuZGVyZXIgaXMgdGhlIGJhc2UgZm9yIGEgUGl4aUpTIFJlbmRlcmVyLiBJdCBpcyBleHRlbmRlZCBieSB0aGUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXJ9XG4gKiBhbmQge0BsaW5rIFBJWEkuUmVuZGVyZXJ9IHdoaWNoIGNhbiBiZSB1c2VkIGZvciByZW5kZXJpbmcgYSBQaXhpSlMgc2NlbmUuXG4gKlxuICogQGFic3RyYWN0XG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQWJzdHJhY3RSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWJzdHJhY3RSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3lzdGVtIC0gVGhlIG5hbWUgb2YgdGhlIHN5c3RlbSB0aGlzIHJlbmRlcmVyIGlzIGZvci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSBUaGUgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSBUaGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0RlbnNpdHk9ZmFsc2VdIC0gUmVzaXplcyByZW5kZXJlciB2aWV3IGluIENTUyBwaXhlbHMgdG8gYWxsb3cgZm9yXG4gICAgICogICByZXNvbHV0aW9ucyBvdGhlciB0aGFuIDEuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gU2V0cyBhbnRpYWxpYXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci4gVGhlXG4gICAgICogIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlcmVyIHJldGluYSB3b3VsZCBiZSAyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIEVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLFxuICAgICAqICBlbmFibGUgdGhpcyBpZiB5b3UgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgV2ViR0wgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAgICAgKiAgICAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0UmVuZGVyZXIodHlwZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSBSRU5ERVJFUl9UWVBFLlVOS05PV047IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLy8gQWRkIHRoZSBkZWZhdWx0IHJlbmRlciBvcHRpb25zXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBzZXR0aW5ncy5SRU5ERVJfT1BUSU9OUywgb3B0aW9ucyk7XG4gICAgICAgIC8vIERlcHJlY2F0aW9uIG5vdGljZSBmb3IgcmVuZGVyZXIgcm91bmRQaXhlbHMgb3B0aW9uXG4gICAgICAgIGlmIChvcHRpb25zLnJvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICBzZXR0aW5ncy5ST1VORF9QSVhFTFMgPSBvcHRpb25zLnJvdW5kUGl4ZWxzO1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMC4wJywgJ1JlbmRlcmVyIHJvdW5kUGl4ZWxzIG9wdGlvbiBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTJywgMik7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdXBwbGllZCBjb25zdHJ1Y3RvciBvcHRpb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5SRU5ERVJFUl9UWVBFLlVOS05PV05cbiAgICAgICAgICogQHNlZSBQSVhJLlJFTkRFUkVSX1RZUEVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWVhc3VyZW1lbnRzIG9mIHRoZSBzY3JlZW4uICgwLCAwLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KS5cbiAgICAgICAgICpcbiAgICAgICAgICogSXRzIHNhZmUgdG8gdXNlIGFzIGZpbHRlckFyZWEgb3IgaGl0QXJlYSBmb3IgdGhlIHdob2xlIHN0YWdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNjcmVlbiA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgb3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHQpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB0by5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52aWV3ID0gb3B0aW9ucy52aWV3IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhbnNwYXJlbnQgPSBvcHRpb25zLnRyYW5zcGFyZW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBDU1MgZGltZW5zaW9ucyBvZiBjYW52YXMgdmlldyBzaG91bGQgYmUgcmVzaXplZCB0byBzY3JlZW4gZGltZW5zaW9ucyBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b0RlbnNpdHkgPSBvcHRpb25zLmF1dG9EZW5zaXR5IHx8IG9wdGlvbnMuYXV0b1Jlc2l6ZSB8fCBmYWxzZTtcbiAgICAgICAgLy8gYXV0b1Jlc2l6ZSBpcyBkZXByZWNhdGVkLCBwcm92aWRlcyBmYWxsYmFjayBzdXBwb3J0XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmFsdWUgb2YgdGhlIHByZXNlcnZlRHJhd2luZ0J1ZmZlciBmbGFnIGFmZmVjdHMgd2hldGhlciBvciBub3QgdGhlIGNvbnRlbnRzIG9mXG4gICAgICAgICAqIHRoZSBzdGVuY2lsIGJ1ZmZlciBpcyByZXRhaW5lZCBhZnRlciByZW5kZXJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIgPSBvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgc2V0cyBpZiB0aGUgQ2FudmFzUmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgICAgICogSWYgdGhlIHNjZW5lIGlzIE5PVCB0cmFuc3BhcmVudCBQaXhpSlMgd2lsbCB1c2UgYSBjYW52YXMgc2l6ZWQgZmlsbFJlY3Qgb3BlcmF0aW9uIGV2ZXJ5XG4gICAgICAgICAqIGZyYW1lIHRvIHNldCB0aGUgY2FudmFzIGJhY2tncm91bmQgY29sb3IuIElmIHRoZSBzY2VuZSBpcyB0cmFuc3BhcmVudCBQaXhpSlMgd2lsbCB1c2UgY2xlYXJSZWN0XG4gICAgICAgICAqIHRvIGNsZWFyIHRoZSBjYW52YXMgZXZlcnkgZnJhbWUuIERpc2FibGUgdGhpcyBieSBzZXR0aW5nIHRoaXMgdG8gZmFsc2UuIEZvciBleGFtcGxlLCBpZlxuICAgICAgICAgKiB5b3VyIGdhbWUgaGFzIGEgY2FudmFzIGZpbGxpbmcgYmFja2dyb3VuZCBpbWFnZSB5b3Ugb2Z0ZW4gZG9uJ3QgbmVlZCB0aGlzIHNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNsZWFyQmVmb3JlUmVuZGVyID0gb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGEgbnVtYmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSAweDAwMDAwMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGFuIFtSLCBHLCBCXSBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhID0gWzAsIDAsIDAsIDBdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYSBzdHJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9ICcjMDAwMDAwJztcbiAgICAgICAgX3RoaXMuYmFja2dyb3VuZENvbG9yID0gb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgfHwgX3RoaXMuX2JhY2tncm91bmRDb2xvcjsgLy8gcnVuIGJnIGNvbG9yIHNldHRlclxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3Qgcm9vdCBvYmplY3QgdGhhdCB0aGUgcmVuZGVyZXIgdHJpZWQgdG8gcmVuZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBwbHVnaW5zLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2lucyA9IHt9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIHBsdWdpbnMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0YXRpY01hcCAtIFRoZSBkaWN0aW9uYXJ5IG9mIHN0YXRpY2FsbHkgc2F2ZWQgcGx1Z2lucy5cbiAgICAgKi9cbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5pbml0UGx1Z2lucyA9IGZ1bmN0aW9uIChzdGF0aWNNYXApIHtcbiAgICAgICAgZm9yICh2YXIgbyBpbiBzdGF0aWNNYXApIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXSA9IG5ldyAoc3RhdGljTWFwW29dKSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNhbWUgYXMgdmlldy53aWR0aCwgYWN0dWFsIG51bWJlciBvZiBwaXhlbHMgaW4gdGhlIGNhbnZhcyBieSBob3Jpem9udGFsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCA4MDBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlldy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2FtZSBhcyB2aWV3LmhlaWdodCwgYWN0dWFsIG51bWJlciBvZiBwaXhlbHMgaW4gdGhlIGNhbnZhcyBieSB2ZXJ0aWNhbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgNjAwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXcuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgc2NyZWVuIGFuZCBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqIENhbnZhcyBkaW1lbnNpb25zIGFyZSBtdWx0aXBsaWVkIGJ5IHJlc29sdXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuV2lkdGggLSBUaGUgbmV3IHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbkhlaWdodCAtIFRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAgICovXG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgdGhpcy5zY3JlZW4ud2lkdGggPSBzY3JlZW5XaWR0aDtcbiAgICAgICAgdGhpcy5zY3JlZW4uaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0O1xuICAgICAgICB0aGlzLnZpZXcud2lkdGggPSBzY3JlZW5XaWR0aCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy52aWV3LmhlaWdodCA9IHNjcmVlbkhlaWdodCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKHRoaXMuYXV0b0RlbnNpdHkpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5zdHlsZS53aWR0aCA9IHNjcmVlbldpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy52aWV3LnN0eWxlLmhlaWdodCA9IHNjcmVlbkhlaWdodCArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYWZ0ZXIgdmlldyBoYXMgYmVlbiByZXNpemVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNyZXNpemVcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuSGVpZ2h0IC0gVGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW1pdCgncmVzaXplJywgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVc2VmdWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdGV4dHVyZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBjYW4gdGhlbiBiZSB1c2VkIHRvIGNyZWF0ZSBzcHJpdGVzXG4gICAgICogVGhpcyBjYW4gYmUgcXVpdGUgdXNlZnVsIGlmIHlvdXIgZGlzcGxheU9iamVjdCBpcyBjb21wbGljYXRlZCBhbmQgbmVlZHMgdG8gYmUgcmV1c2VkIG11bHRpcGxlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheU9iamVjdCB0aGUgb2JqZWN0IHdpbGwgYmUgZ2VuZXJhdGVkIGZyb20uXG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBzY2FsZU1vZGUgLSBUaGUgc2NhbGUgbW9kZSBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVnaW9uXSAtIFRoZSByZWdpb24gb2YgdGhlIGRpc3BsYXlPYmplY3QsIHRoYXQgc2hhbGwgYmUgcmVuZGVyZWQsXG4gICAgICogICAgICAgIGlmIG5vIHJlZ2lvbiBpcyBzcGVjaWZpZWQsIGRlZmF1bHRzIHRvIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBBIHRleHR1cmUgb2YgdGhlIGdyYXBoaWNzIG9iamVjdC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5nZW5lcmF0ZVRleHR1cmUgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uLCByZWdpb24pIHtcbiAgICAgICAgcmVnaW9uID0gcmVnaW9uIHx8IGRpc3BsYXlPYmplY3QuZ2V0TG9jYWxCb3VuZHMobnVsbCwgdHJ1ZSk7XG4gICAgICAgIC8vIG1pbmltdW0gdGV4dHVyZSBzaXplIGlzIDF4MSwgMHgwIHdpbGwgdGhyb3cgYW4gZXJyb3JcbiAgICAgICAgaWYgKHJlZ2lvbi53aWR0aCA9PT0gMClcbiAgICAgICAgICAgIHsgcmVnaW9uLndpZHRoID0gMTsgfVxuICAgICAgICBpZiAocmVnaW9uLmhlaWdodCA9PT0gMClcbiAgICAgICAgICAgIHsgcmVnaW9uLmhlaWdodCA9IDE7IH1cbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZSh7XG4gICAgICAgICAgICB3aWR0aDogcmVnaW9uLndpZHRoIHwgMCxcbiAgICAgICAgICAgIGhlaWdodDogcmVnaW9uLmhlaWdodCB8IDAsXG4gICAgICAgICAgICBzY2FsZU1vZGU6IHNjYWxlTW9kZSxcbiAgICAgICAgICAgIHJlc29sdXRpb246IHJlc29sdXRpb24sXG4gICAgICAgIH0pO1xuICAgICAgICB0ZW1wTWF0cml4LnR4ID0gLXJlZ2lvbi54O1xuICAgICAgICB0ZW1wTWF0cml4LnR5ID0gLXJlZ2lvbi55O1xuICAgICAgICB0aGlzLnJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlLCBmYWxzZSwgdGVtcE1hdHJpeCwgISFkaXNwbGF5T2JqZWN0LnBhcmVudCk7XG4gICAgICAgIHJldHVybiByZW5kZXJUZXh0dXJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBldmVyeXRoaW5nIGZyb20gdGhlIHJlbmRlcmVyIGFuZCBvcHRpb25hbGx5IHJlbW92ZXMgdGhlIENhbnZhcyBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gUmVtb3ZlcyB0aGUgQ2FudmFzIGVsZW1lbnQgZnJvbSB0aGUgRE9NLlxuICAgICAqL1xuICAgIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAocmVtb3ZlVmlldykge1xuICAgICAgICBmb3IgKHZhciBvIGluIHRoaXMucGx1Z2lucykge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbW92ZVZpZXcgJiYgdGhpcy52aWV3LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNBbnkgPSB0aGlzO1xuICAgICAgICAvLyBudWxsLWluZyBhbGwgb2JqZWN0cywgdGhhdCdzIGEgdHJhZGl0aW9uIVxuICAgICAgICB0aGlzQW55LnBsdWdpbnMgPSBudWxsO1xuICAgICAgICB0aGlzQW55LnR5cGUgPSBSRU5ERVJFUl9UWVBFLlVOS05PV047XG4gICAgICAgIHRoaXNBbnkudmlldyA9IG51bGw7XG4gICAgICAgIHRoaXNBbnkuc2NyZWVuID0gbnVsbDtcbiAgICAgICAgdGhpc0FueS5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzQW55Lm9wdGlvbnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJiYWNrZ3JvdW5kQ29sb3JcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgdG8gZmlsbCBpZiBub3QgdHJhbnNwYXJlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSBoZXgyc3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIGhleDJyZ2IodmFsdWUsIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEFic3RyYWN0UmVuZGVyZXI7XG59KEV2ZW50RW1pdHRlcikpO1xuXG4vKipcbiAqIFRoZSBSZW5kZXJlciBkcmF3cyB0aGUgc2NlbmUgYW5kIGFsbCBpdHMgY29udGVudCBvbnRvIGEgV2ViR0wgZW5hYmxlZCBjYW52YXMuXG4gKlxuICogVGhpcyByZW5kZXJlciBzaG91bGQgYmUgdXNlZCBmb3IgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IFdlYkdMLlxuICpcbiAqIFRoaXMgcmVuZGVyZXIgd29ya3MgYnkgYXV0b21hdGljYWxseSBtYW5hZ2luZyBXZWJHTEJhdGNoZXNtLCBzbyBubyBuZWVkIGZvciBTcHJpdGUgQmF0Y2hlcyBvciBTcHJpdGUgQ2xvdWRzLlxuICogRG9uJ3QgZm9yZ2V0IHRvIGFkZCB0aGUgdmlldyB0byB5b3VyIERPTSBvciB5b3Ugd2lsbCBub3Qgc2VlIGFueXRoaW5nIVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuQWJzdHJhY3RSZW5kZXJlclxuICovXG52YXIgUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIFRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvRGVuc2l0eT1mYWxzZV0gLSBSZXNpemVzIHJlbmRlcmVyIHZpZXcgaW4gQ1NTIHBpeGVscyB0byBhbGxvdyBmb3JcbiAgICAgKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBTZXRzIGFudGlhbGlhcy4gSWYgbm90IGF2YWlsYWJsZSBuYXRpdmVseSB0aGVuIEZYQUFcbiAgICAgKiAgYW50aWFsaWFzaW5nIGlzIHVzZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICogIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJlciByZXRpbmEgd291bGQgYmUgMi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyXG4gICAgICogIHRoZSBjYW52YXMgb3Igbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLiBJZiB5b3Ugd2lzaCB0byBzZXQgdGhpcyB0byBmYWxzZSwgeW91ICptdXN0KiBzZXRcbiAgICAgKiAgcHJlc2VydmVEcmF3aW5nQnVmZmVyIHRvIGB0cnVlYC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBFbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbixcbiAgICAgKiAgZW5hYmxlIHRoaXMgaWYgeW91IG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIFdlYkdMIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICAgICAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG93ZXJQcmVmZXJlbmNlXSAtIFBhcmFtZXRlciBwYXNzZWQgdG8gV2ViR0wgY29udGV4dCwgc2V0IHRvIFwiaGlnaC1wZXJmb3JtYW5jZVwiXG4gICAgICogIGZvciBkZXZpY2VzIHdpdGggZHVhbCBncmFwaGljcyBjYXJkLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5jb250ZXh0XSAtIElmIFdlYkdMIGNvbnRleHQgYWxyZWFkeSBleGlzdHMsIGFsbCBwYXJhbWV0ZXJzIG11c3QgYmUgdGFrZW4gZnJvbSBpdC5cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVuZGVyZXIob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBSRU5ERVJFUl9UWVBFLldFQkdMLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgICAgICAvLyB0aGUgb3B0aW9ucyB3aWxsIGhhdmUgYmVlbiBtb2RpZmllZCBoZXJlIGluIHRoZSBzdXBlciBjb25zdHJ1Y3RvciB3aXRoIHBpeGkncyBkZWZhdWx0IHNldHRpbmdzLi5cbiAgICAgICAgb3B0aW9ucyA9IF90aGlzLm9wdGlvbnM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZWJHTCBjb250ZXh0LCBzZXQgYnkgdGhlIGNvbnRleHRTeXN0ZW0gKHRoaXMuY29udGV4dClcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdsID0gbnVsbDtcbiAgICAgICAgX3RoaXMuQ09OVEVYVF9VSUQgPSAwO1xuICAgICAgICAvLyBUT0RPIGxlZ2FjeSFcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHNpZ25hbCBpbnN0YW5jZXMgb2YgKipydW5uZXIqKiwgdGhlc2VcbiAgICAgICAgICogYXJlIGFzc2lnbmVkIHRvIGVhY2ggc3lzdGVtIGNyZWF0ZWQuXG4gICAgICAgICAqIEBzZWUgUElYSS5SdW5uZXJcbiAgICAgICAgICogQG5hbWUgUElYSS5SZW5kZXJlciNydW5uZXJzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBkZXN0cm95IC0gRGVzdHJveSBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gY29udGV4dENoYW5nZSAtIENvbnRleHQgY2hhbmdlIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSByZXNldCAtIFJlc2V0IHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSB1cGRhdGUgLSBVcGRhdGUgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHBvc3RyZW5kZXIgLSBQb3N0LXJlbmRlciBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcHJlcmVuZGVyIC0gUHJlLXJlbmRlciBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcmVzaXplIC0gUmVzaXplIHJ1bm5lclxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucnVubmVycyA9IHtcbiAgICAgICAgICAgIGRlc3Ryb3k6IG5ldyBSdW5uZXIoJ2Rlc3Ryb3knKSxcbiAgICAgICAgICAgIGNvbnRleHRDaGFuZ2U6IG5ldyBSdW5uZXIoJ2NvbnRleHRDaGFuZ2UnKSxcbiAgICAgICAgICAgIHJlc2V0OiBuZXcgUnVubmVyKCdyZXNldCcpLFxuICAgICAgICAgICAgdXBkYXRlOiBuZXcgUnVubmVyKCd1cGRhdGUnKSxcbiAgICAgICAgICAgIHBvc3RyZW5kZXI6IG5ldyBSdW5uZXIoJ3Bvc3RyZW5kZXInKSxcbiAgICAgICAgICAgIHByZXJlbmRlcjogbmV3IFJ1bm5lcigncHJlcmVuZGVyJyksXG4gICAgICAgICAgICByZXNpemU6IG5ldyBSdW5uZXIoJ3Jlc2l6ZScpLFxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogR2xvYmFsIHVuaWZvcm1zXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVW5pZm9ybUdyb3VwfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2xvYmFsVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgICAgICAgIHByb2plY3Rpb25NYXRyaXg6IG5ldyBNYXRyaXgoKSxcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXNrIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuTWFza1N5c3RlbX0gbWFza1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hZGRTeXN0ZW0oTWFza1N5c3RlbSwgJ21hc2snKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDb250ZXh0IHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkNvbnRleHRTeXN0ZW19IGNvbnRleHRcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oQ29udGV4dFN5c3RlbSwgJ2NvbnRleHQnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTdGF0ZSBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5TdGF0ZVN5c3RlbX0gc3RhdGVcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU3RhdGVTeXN0ZW0sICdzdGF0ZScpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNoYWRlciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5TaGFkZXJTeXN0ZW19IHNoYWRlclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTaGFkZXJTeXN0ZW0sICdzaGFkZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZXh0dXJlIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlRleHR1cmVTeXN0ZW19IHRleHR1cmVcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oVGV4dHVyZVN5c3RlbSwgJ3RleHR1cmUnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBHZW9tZXRyeSBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5HZW9tZXRyeVN5c3RlbX0gZ2VvbWV0cnlcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oR2VvbWV0cnlTeXN0ZW0sICdnZW9tZXRyeScpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZyYW1lYnVmZmVyIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkZyYW1lYnVmZmVyU3lzdGVtfSBmcmFtZWJ1ZmZlclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShGcmFtZWJ1ZmZlclN5c3RlbSwgJ2ZyYW1lYnVmZmVyJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2Npc3NvciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5TY2lzc29yU3lzdGVtfSBzY2lzc29yXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFNjaXNzb3JTeXN0ZW0sICdzY2lzc29yJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3RlbmNpbCBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5TdGVuY2lsU3lzdGVtfSBzdGVuY2lsXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFN0ZW5jaWxTeXN0ZW0sICdzdGVuY2lsJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUHJvamVjdGlvbiBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5Qcm9qZWN0aW9uU3lzdGVtfSBwcm9qZWN0aW9uXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFByb2plY3Rpb25TeXN0ZW0sICdwcm9qZWN0aW9uJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGV4dHVyZSBnYXJiYWdlIGNvbGxlY3RvciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5UZXh0dXJlR0NTeXN0ZW19IHRleHR1cmVHQ1xuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShUZXh0dXJlR0NTeXN0ZW0sICd0ZXh0dXJlR0MnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGaWx0ZXIgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oRmlsdGVyU3lzdGVtLCAnZmlsdGVyJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmVuZGVyVGV4dHVyZSBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5SZW5kZXJUZXh0dXJlU3lzdGVtfSByZW5kZXJUZXh0dXJlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFJlbmRlclRleHR1cmVTeXN0ZW0sICdyZW5kZXJUZXh0dXJlJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQmF0Y2ggc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuQmF0Y2hTeXN0ZW19IGJhdGNoXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEJhdGNoU3lzdGVtLCAnYmF0Y2gnKTtcbiAgICAgICAgX3RoaXMuaW5pdFBsdWdpbnMoUmVuZGVyZXIuX19wbHVnaW5zKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcHRpb25zIHBhc3NlZCBpbiB0byBjcmVhdGUgYSBuZXcgV2ViR0wgY29udGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChvcHRpb25zLmNvbnRleHQpIHtcbiAgICAgICAgICAgIF90aGlzLmNvbnRleHQuaW5pdEZyb21Db250ZXh0KG9wdGlvbnMuY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5jb250ZXh0LmluaXRGcm9tT3B0aW9ucyh7XG4gICAgICAgICAgICAgICAgYWxwaGE6ICEhX3RoaXMudHJhbnNwYXJlbnQsXG4gICAgICAgICAgICAgICAgYW50aWFsaWFzOiBvcHRpb25zLmFudGlhbGlhcyxcbiAgICAgICAgICAgICAgICBwcmVtdWx0aXBsaWVkQWxwaGE6IF90aGlzLnRyYW5zcGFyZW50ICYmIF90aGlzLnRyYW5zcGFyZW50ICE9PSAnbm90TXVsdGlwbGllZCcsXG4gICAgICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IG9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyLFxuICAgICAgICAgICAgICAgIHBvd2VyUHJlZmVyZW5jZTogX3RoaXMub3B0aW9ucy5wb3dlclByZWZlcmVuY2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZyBpZiB3ZSBhcmUgcmVuZGVyaW5nIHRvIHRoZSBzY3JlZW4gdnMgcmVuZGVyVGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSB0cnVlO1xuICAgICAgICBzYXlIZWxsbyhfdGhpcy5jb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMiA/ICdXZWJHTCAyJyA6ICdXZWJHTCAxJyk7XG4gICAgICAgIF90aGlzLnJlc2l6ZShfdGhpcy5vcHRpb25zLndpZHRoLCBfdGhpcy5vcHRpb25zLmhlaWdodCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHJlbmRlcmVyIGlmIFdlYkdMIGlzIGF2YWlsYWJsZS4gT3ZlcnJpZGVhYmxlXG4gICAgICogYnkgdGhlICoqQHBpeGkvY2FudmFzLXJlbmRlcmVyKiogcGFja2FnZSB0byBhbGxvdyBmYWxsYmFjay5cbiAgICAgKiB0aHJvd3MgZXJyb3IgaWYgV2ViR0wgaXMgbm90IGF2YWlsYWJsZS5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSZW5kZXJlci5jcmVhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAoaXNXZWJHTFN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlbmRlcmVyKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViR0wgdW5zdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLCB1c2UgXCJwaXhpLmpzLWxlZ2FjeVwiIGZvciBmYWxsYmFjayBjYW52YXMyZCBzdXBwb3J0LicpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGEgbmV3IHN5c3RlbSB0byB0aGUgcmVuZGVyZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQ2xhc3NSZWYgLSBDbGFzcyByZWZlcmVuY2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdIC0gUHJvcGVydHkgbmFtZSBmb3Igc3lzdGVtLCBpZiBub3Qgc3BlY2lmaWVkXG4gICAgICogICAgICAgIHdpbGwgdXNlIGEgc3RhdGljIGBuYW1lYCBwcm9wZXJ0eSBvbiB0aGUgY2xhc3MgaXRzZWxmLiBUaGlzXG4gICAgICogICAgICAgIG5hbWUgd2lsbCBiZSBhc3NpZ25lZCBhcyBzIHByb3BlcnR5IG9uIHRoZSBSZW5kZXJlciBzbyBtYWtlXG4gICAgICogICAgICAgIHN1cmUgaXQgZG9lc24ndCBjb2xsaWRlIHdpdGggcHJvcGVydGllcyBvbiBSZW5kZXJlci5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlcmVyfSBSZXR1cm4gaW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUuYWRkU3lzdGVtID0gZnVuY3Rpb24gKENsYXNzUmVmLCBuYW1lKSB7XG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IENsYXNzUmVmLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN5c3RlbSA9IG5ldyBDbGFzc1JlZih0aGlzKTtcbiAgICAgICAgaWYgKHRoaXNbbmFtZV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIldob29wcyEgVGhlIG5hbWUgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBpcyBhbHJlYWR5IGluIHVzZVwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzW25hbWVdID0gc3lzdGVtO1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMucnVubmVycykge1xuICAgICAgICAgICAgdGhpcy5ydW5uZXJzW2ldLmFkZChzeXN0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBhZnRlciByZW5kZXJpbmcgZmluaXNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLlJlbmRlcmVyI3Bvc3RyZW5kZXJcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBiZWZvcmUgcmVuZGVyaW5nIHN0YXJ0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjcHJlcmVuZGVyXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgV2ViR0wgY29udGV4dCBpcyBzZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLlJlbmRlcmVyI2NvbnRleHRcbiAgICAgICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gV2ViR0wgY29udGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHRvIGl0cyBXZWJHTCB2aWV3XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBvYmplY3QgdG8gYmUgcmVuZGVyZWQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtyZW5kZXJUZXh0dXJlXSAtIFRoZSByZW5kZXIgdGV4dHVyZSB0byByZW5kZXIgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2xlYXI9dHJ1ZV0gLSBTaG91bGQgdGhlIGNhbnZhcyBiZSBjbGVhcmVkIGJlZm9yZSB0aGUgbmV3IHJlbmRlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbdHJhbnNmb3JtXSAtIEEgdHJhbnNmb3JtIHRvIGFwcGx5IHRvIHRoZSByZW5kZXIgdGV4dHVyZSBiZWZvcmUgcmVuZGVyaW5nLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGVUcmFuc2Zvcm09ZmFsc2VdIC0gU2hvdWxkIHdlIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm0gcGFzcz9cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QsIHJlbmRlclRleHR1cmUsIGNsZWFyLCB0cmFuc2Zvcm0sIHNraXBVcGRhdGVUcmFuc2Zvcm0pIHtcbiAgICAgICAgLy8gY2FuIGJlIGhhbmR5IHRvIGtub3chXG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSAhcmVuZGVyVGV4dHVyZTtcbiAgICAgICAgdGhpcy5ydW5uZXJzLnByZXJlbmRlci5lbWl0KCk7XG4gICAgICAgIHRoaXMuZW1pdCgncHJlcmVuZGVyJyk7XG4gICAgICAgIC8vIGFwcGx5IGEgdHJhbnNmb3JtIGF0IGEgR1BVIGxldmVsXG4gICAgICAgIHRoaXMucHJvamVjdGlvbi50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIC8vIG5vIHBvaW50IHJlbmRlcmluZyBpZiBvdXIgY29udGV4dCBoYXMgYmVlbiBibG93biB1cCFcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5pc0xvc3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHNjZW5lIGdyYXBoXG4gICAgICAgICAgICB2YXIgY2FjaGVQYXJlbnQgPSBkaXNwbGF5T2JqZWN0LmVuYWJsZVRlbXBQYXJlbnQoKTtcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LmRpc2FibGVUZW1wUGFyZW50KGNhY2hlUGFyZW50KTtcbiAgICAgICAgICAgIC8vIGRpc3BsYXlPYmplY3QuaGl0QXJlYSA9IC8vVE9ETyBhZGQgYSB0ZW1wIGhpdCBhcmVhXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlLmJpbmQocmVuZGVyVGV4dHVyZSk7XG4gICAgICAgIHRoaXMuYmF0Y2guY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG4gICAgICAgIGlmIChjbGVhciAhPT0gdW5kZWZpbmVkID8gY2xlYXIgOiB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlcih0aGlzKTtcbiAgICAgICAgLy8gYXBwbHkgdHJhbnNmb3JtLi5cbiAgICAgICAgdGhpcy5iYXRjaC5jdXJyZW50UmVuZGVyZXIuZmx1c2goKTtcbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ydW5uZXJzLnBvc3RyZW5kZXIuZW1pdCgpO1xuICAgICAgICAvLyByZXNldCB0cmFuc2Zvcm0gYWZ0ZXIgcmVuZGVyXG4gICAgICAgIHRoaXMucHJvamVjdGlvbi50cmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICB0aGlzLmVtaXQoJ3Bvc3RyZW5kZXInKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIFdlYkdMIHZpZXcgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSBUaGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnJlc2l6ZS5jYWxsKHRoaXMsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpO1xuICAgICAgICB0aGlzLnJ1bm5lcnMucmVzaXplLmVtaXQoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIFdlYkdMIHN0YXRlIHNvIHlvdSBjYW4gcmVuZGVyIHRoaW5ncyBob3dldmVyIHlvdSBmYW5jeSFcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ydW5uZXJzLnJlc2V0LmVtaXQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuYmluZCgpO1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlcnl0aGluZyBmcm9tIHRoZSByZW5kZXJlciAoZXZlbnQgbGlzdGVuZXJzLCBzcHJpdGViYXRjaCwgZXRjLi4uKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICogIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy8yMjMzXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAocmVtb3ZlVmlldykge1xuICAgICAgICB0aGlzLnJ1bm5lcnMuZGVzdHJveS5lbWl0KCk7XG4gICAgICAgIGZvciAodmFyIHIgaW4gdGhpcy5ydW5uZXJzKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5lcnNbcl0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNhbGwgYmFzZSBkZXN0cm95XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHJlbW92ZVZpZXcpO1xuICAgICAgICAvLyBUT0RPIG51bGxpZnkgYWxsIHRoZSBtYW5hZ2Vycy4uXG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBsdWdpbk5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcGx1Z2luLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN0b3IgLSBUaGUgY29uc3RydWN0b3IgZnVuY3Rpb24gb3IgY2xhc3MgZm9yIHRoZSBwbHVnaW4uXG4gICAgICovXG4gICAgUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luTmFtZSwgY3Rvcikge1xuICAgICAgICBSZW5kZXJlci5fX3BsdWdpbnMgPSBSZW5kZXJlci5fX3BsdWdpbnMgfHwge307XG4gICAgICAgIFJlbmRlcmVyLl9fcGx1Z2luc1twbHVnaW5OYW1lXSA9IGN0b3I7XG4gICAgfTtcbiAgICByZXR1cm4gUmVuZGVyZXI7XG59KEFic3RyYWN0UmVuZGVyZXIpKTtcblxuLyoqXG4gKiBUaGlzIGhlbHBlciBmdW5jdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgZGV0ZWN0IHdoaWNoIHJlbmRlcmVyIHlvdSBzaG91bGQgYmUgdXNpbmcuXG4gKiBXZWJHTCBpcyB0aGUgcHJlZmVycmVkIHJlbmRlcmVyIGFzIGl0IGlzIGEgbG90IGZhc3Rlci4gSWYgV2ViR0wgaXMgbm90IHN1cHBvcnRlZCBieVxuICogdGhlIGJyb3dzZXIgdGhlbiB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGEgY2FudmFzIHJlbmRlcmVyXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBhdXRvRGV0ZWN0UmVuZGVyZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSByZW5kZXJlcnMgdmlld1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSB0aGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudCwgZGVmYXVsdCBmYWxzZVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvRGVuc2l0eT1mYWxzZV0gLSBSZXNpemVzIHJlbmRlcmVyIHZpZXcgaW4gQ1NTIHBpeGVscyB0byBhbGxvdyBmb3JcbiAqICAgcmVzb2x1dGlvbnMgb3RoZXIgdGhhbiAxXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBzZXRzIGFudGlhbGlhc1xuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gZW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sIGVuYWJsZSB0aGlzIGlmIHlvdVxuICogIG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIHdlYmdsIGNvbnRleHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICogICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlciwgcmV0aW5hIHdvdWxkIGJlIDJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VDYW52YXM9ZmFsc2VdIC0gcHJldmVudHMgc2VsZWN0aW9uIG9mIFdlYkdMIHJlbmRlcmVyLCBldmVuIGlmIHN1Y2ggaXMgcHJlc2VudCwgdGhpc1xuICogICBvcHRpb24gb25seSBpcyBhdmFpbGFibGUgd2hlbiB1c2luZyAqKnBpeGkuanMtbGVnYWN5Kiogb3IgKipAcGl4aS9jYW52YXMtcmVuZGVyZXIqKiBtb2R1bGVzLCBvdGhlcndpc2VcbiAqICAgaXQgaXMgaWdub3JlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byB3ZWJnbCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZCAqKndlYmdsIG9ubHkqKlxuICogQHJldHVybiB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1JlbmRlcmVyfSBSZXR1cm5zIFdlYkdMIHJlbmRlcmVyIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIENhbnZhc1JlbmRlcmVyXG4gKi9cbmZ1bmN0aW9uIGF1dG9EZXRlY3RSZW5kZXJlcihvcHRpb25zKSB7XG4gICAgcmV0dXJuIFJlbmRlcmVyLmNyZWF0ZShvcHRpb25zKTtcbn1cblxudmFyIF9kZWZhdWx0ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG59XCI7XG5cbnZhciBkZWZhdWx0RmlsdGVyID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IGlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbn1cXG5cXG52ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxue1xcbiAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcXG59XFxuXCI7XG5cbi8qKlxuICogVXNlZCBieSB0aGUgYmF0Y2hlciB0byBkcmF3IGJhdGNoZXMuXG4gKiBFYWNoIG9uZSBvZiB0aGVzZSBjb250YWlucyBhbGwgaW5mb3JtYXRpb24gcmVxdWlyZWQgdG8gZHJhdyBhIGJvdW5kIGdlb21ldHJ5LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhdGNoRHJhd0NhbGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmF0Y2hEcmF3Q2FsbCgpIHtcbiAgICAgICAgdGhpcy50ZXhBcnJheSA9IG51bGw7XG4gICAgICAgIHRoaXMuYmxlbmQgPSAwO1xuICAgICAgICB0aGlzLnR5cGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUztcbiAgICAgICAgdGhpcy5zdGFydCA9IDA7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkYXRhIGZvciB1bmlmb3JtcyBvciBjdXN0b20gd2ViZ2wgc3RhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIEJhdGNoRHJhd0NhbGw7XG59KCkpO1xuXG4vKipcbiAqIFVzZWQgYnkgdGhlIGJhdGNoZXIgdG8gYnVpbGQgdGV4dHVyZSBiYXRjaGVzLlxuICogSG9sZHMgbGlzdCBvZiB0ZXh0dXJlcyBhbmQgdGhlaXIgcmVzcGVjdGl2ZSBsb2NhdGlvbnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmF0Y2hUZXh0dXJlQXJyYXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmF0Y2hUZXh0dXJlQXJyYXkoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBpbnNpZGUgdGV4dHVyZXMgYXJyYXlcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVzcGVjdGl2ZSBsb2NhdGlvbnMgZm9yIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIG51bWJlciBvZiBmaWxsZWQgZWxlbWVudHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgfVxuICAgIEJhdGNoVGV4dHVyZUFycmF5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbaV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgIH07XG4gICAgcmV0dXJuIEJhdGNoVGV4dHVyZUFycmF5O1xufSgpKTtcblxuLyoqXG4gKiBGbGV4aWJsZSB3cmFwcGVyIGFyb3VuZCBgQXJyYXlCdWZmZXJgIHRoYXQgYWxzbyBwcm92aWRlc1xuICogdHlwZWQgYXJyYXkgdmlld3Mgb24gZGVtYW5kLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFZpZXdhYmxlQnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gVGhlIHNpemUgb2YgdGhlIGJ1ZmZlciBpbiBieXRlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBWaWV3YWJsZUJ1ZmZlcihzaXplKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVbmRlcmx5aW5nIGBBcnJheUJ1ZmZlcmAgdGhhdCBob2xkcyBhbGwgdGhlIGRhdGFcbiAgICAgICAgICogYW5kIGlzIG9mIGNhcGFjaXR5IGBzaXplYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXlCdWZmZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhd0JpbmFyeURhdGEgPSBuZXcgQXJyYXlCdWZmZXIoc2l6ZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgVWludDMyQXJyYXlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudWludDMyVmlldyA9IG5ldyBVaW50MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEZsb2F0MzJBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmxvYXQzMlZpZXcgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3YWJsZUJ1ZmZlci5wcm90b3R5cGUsIFwiaW50OFZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDhBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0ludDhBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pbnQ4Vmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludDhWaWV3ID0gbmV3IEludDhBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ludDhWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJ1aW50OFZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYFVpbnQ4QXJyYXlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50OEFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3VpbnQ4Vmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VpbnQ4VmlldyA9IG5ldyBVaW50OEFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdWludDhWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJpbnQxNlZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDE2QXJyYXlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtJbnQxNkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2ludDE2Vmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludDE2VmlldyA9IG5ldyBJbnQxNkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW50MTZWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJ1aW50MTZWaWV3XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBVaW50MTZBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3VpbnQxNlZpZXcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91aW50MTZWaWV3ID0gbmV3IFVpbnQxNkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdWludDE2VmlldztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3YWJsZUJ1ZmZlci5wcm90b3R5cGUsIFwiaW50MzJWaWV3XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBJbnQzMkFycmF5YC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SW50MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pbnQzMlZpZXcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnQzMlZpZXcgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ludDMyVmlldztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZpZXcgb2YgdGhlIGdpdmVuIHR5cGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIE9uZSBvZiBgaW50OGAsIGB1aW50OGAsIGBpbnQxNmAsXG4gICAgICogICAgYHVpbnQxNmAsIGBpbnQzMmAsIGB1aW50MzJgLCBhbmQgYGZsb2F0MzJgLlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gdHlwZWQgYXJyYXkgb2YgZ2l2ZW4gdHlwZVxuICAgICAqL1xuICAgIFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZS52aWV3ID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbdHlwZSArIFwiVmlld1wiXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIGFsbCBidWZmZXIgcmVmZXJlbmNlcy4gRG8gbm90IHVzZSBhZnRlciBjYWxsaW5nXG4gICAgICogdGhpcy5cbiAgICAgKi9cbiAgICBWaWV3YWJsZUJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yYXdCaW5hcnlEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW50OFZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl91aW50OFZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbnQxNlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl91aW50MTZWaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW50MzJWaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy51aW50MzJWaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy5mbG9hdDMyVmlldyA9IG51bGw7XG4gICAgfTtcbiAgICBWaWV3YWJsZUJ1ZmZlci5zaXplT2YgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2ludDgnOlxuICAgICAgICAgICAgY2FzZSAndWludDgnOlxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgY2FzZSAnaW50MTYnOlxuICAgICAgICAgICAgY2FzZSAndWludDE2JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgICAgIGNhc2UgJ2ludDMyJzpcbiAgICAgICAgICAgIGNhc2UgJ3VpbnQzMic6XG4gICAgICAgICAgICBjYXNlICdmbG9hdDMyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gNDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHR5cGUgKyBcIiBpc24ndCBhIHZhbGlkIHZpZXcgdHlwZVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFZpZXdhYmxlQnVmZmVyO1xufSgpKTtcblxuLyoqXG4gKiBSZW5kZXJlciBkZWRpY2F0ZWQgdG8gZHJhd2luZyBhbmQgYmF0Y2hpbmcgc3ByaXRlcy5cbiAqXG4gKiBUaGlzIGlzIHRoZSBkZWZhdWx0IGJhdGNoIHJlbmRlcmVyLiBJdCBidWZmZXJzIG9iamVjdHNcbiAqIHdpdGggdGV4dHVyZS1iYXNlZCBnZW9tZXRyaWVzIGFuZCByZW5kZXJzIHRoZW0gaW5cbiAqIGJhdGNoZXMuIEl0IHVwbG9hZHMgbXVsdGlwbGUgdGV4dHVyZXMgdG8gdGhlIEdQVSB0b1xuICogcmVkdWNlIHRvIHRoZSBudW1iZXIgb2YgZHJhdyBjYWxscy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcm90ZWN0ZWRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cbnZhciBBYnN0cmFjdEJhdGNoUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFic3RyYWN0QmF0Y2hSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgaG9vayBvbnRvIHRoZSByZW5kZXJlcidzIGBjb250ZXh0Q2hhbmdlYFxuICAgICAqIGFuZCBgcHJlcmVuZGVyYCBzaWduYWxzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBYnN0cmFjdEJhdGNoUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWQgdG8gZ2VuZXJhdGUgYSBzaGFkZXIgdGhhdCBjYW5cbiAgICAgICAgICogY29sb3IgZWFjaCB2ZXJ0ZXggYmFzZWQgb24gYSBgYVRleHR1cmVJZGBcbiAgICAgICAgICogYXR0cmlidXRlIHRoYXQgcG9pbnRzIHRvIGFuIHRleHR1cmUgaW4gYHVTYW1wbGVyYC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBlbmFibGVzIHRoZSBvYmplY3RzIHdpdGggZGlmZmVyZW50IHRleHR1cmVzXG4gICAgICAgICAqIHRvIGJlIGRyYXduIGluIHRoZSBzYW1lIGRyYXcgY2FsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogWW91IGNhbiBjdXN0b21pemUgeW91ciBzaGFkZXIgYnkgY3JlYXRpbmcgeW91clxuICAgICAgICAgKiBjdXN0b20gc2hhZGVyIGdlbmVyYXRvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXRjaFNoYWRlckdlbmVyYXRvcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2hhZGVyR2VuZXJhdG9yID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjbGFzcyB0aGF0IHJlcHJlc2VudHMgdGhlIGdlb21ldHJ5IG9mIG9iamVjdHNcbiAgICAgICAgICogdGhhdCBhcmUgZ29pbmcgdG8gYmUgYmF0Y2hlZCB3aXRoIHRoaXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CYXRjaEdlb21ldHJ5XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdlb21ldHJ5Q2xhc3MgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2l6ZSBvZiBkYXRhIGJlaW5nIGJ1ZmZlcmVkIHBlciB2ZXJ0ZXggaW4gdGhlXG4gICAgICAgICAqIGF0dHJpYnV0ZSBidWZmZXJzIChpbiBmbG9hdHMpLiBCeSBkZWZhdWx0LCB0aGVcbiAgICAgICAgICogYmF0Y2gtcmVuZGVyZXIgcGx1Z2luIHVzZXMgNjpcbiAgICAgICAgICpcbiAgICAgICAgICogfCBhVmVydGV4UG9zaXRpb24gfCAyIHxcbiAgICAgICAgICogfC0tLS0tLS0tLS0tLS0tLS0tfC0tLXxcbiAgICAgICAgICogfCBhVGV4dHVyZUNvb3JkcyAgfCAyIHxcbiAgICAgICAgICogfCBhQ29sb3IgICAgICAgICAgfCAxIHxcbiAgICAgICAgICogfCBhVGV4dHVyZUlkICAgICAgfCAxIHxcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleFNpemUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHN0YXRlIGluIHdoaWNoIHRoaXMgcmVuZGVyZXIgd2lsbCB3b3JrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgYnVmZmVyYWJsZSBvYmplY3RzIGJlZm9yZSBhIGZsdXNoXG4gICAgICAgICAqIG9jY3VycyBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IHNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFICogNFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2l6ZSA9IHNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFICogNDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvdGFsIGNvdW50IG9mIGFsbCB2ZXJ0aWNlcyB1c2VkIGJ5IHRoZSBjdXJyZW50bHlcbiAgICAgICAgICogYnVmZmVyZWQgb2JqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3ZlcnRleENvdW50ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvdGFsIGNvdW50IG9mIGFsbCBpbmRpY2VzIHVzZWQgYnkgdGhlIGN1cnJlbnRseVxuICAgICAgICAgKiBidWZmZXJlZCBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faW5kZXhDb3VudCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgb2Ygb2JqZWN0cyB0aGF0IGFyZSB5ZXQgdG8gYmUgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdFtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlcmVkRWxlbWVudHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERhdGEgZm9yIHRleHR1cmUgYmF0Y2ggYnVpbGRlciwgaGVscHMgdG8gc2F2ZSBhIGJpdCBvZiBDUFUgb24gYSBwYXNzLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5CYXNlVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlcmVkVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBlbGVtZW50cyB0aGF0IGFyZSBidWZmZXJlZCBhbmQgYXJlXG4gICAgICAgICAqIHdhaXRpbmcgdG8gYmUgZmx1c2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlclNpemUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBzaGFkZXIgaXMgZ2VuZXJhdGVkIGJ5IGB0aGlzLnNoYWRlckdlbmVyYXRvcmAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEl0IGlzIGdlbmVyYXRlZCBzcGVjaWZpY2FsbHkgdG8gaGFuZGxlIHRoZSByZXF1aXJlZFxuICAgICAgICAgKiBudW1iZXIgb2YgdGV4dHVyZXMgYmVpbmcgYmF0Y2hlZCB0b2dldGhlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9zaGFkZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBgdGhpcy5nZW9tZXRyeUNsYXNzYCBnZW9tZXRyeSBvYmplY3RzXG4gICAgICAgICAqIHRoYXQgc3RvcmUgYnVmZmVycy4gVGhleSBhcmUgdXNlZCB0byBwYXNzIGRhdGFcbiAgICAgICAgICogdG8gdGhlIHNoYWRlciBvbiBlYWNoIGRyYXcgY2FsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlc2UgYXJlIG5ldmVyIHJlLWFsbG9jYXRlZCBhZ2FpbiwgdW5sZXNzIGFcbiAgICAgICAgICogY29udGV4dCBjaGFuZ2Ugb2NjdXJzOyBob3dldmVyLCB0aGUgcG9vbCBtYXlcbiAgICAgICAgICogYmUgZXhwYW5kZWQgaWYgcmVxdWlyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR2VvbWV0cnlbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFic3RyYWN0QmF0Y2hSZW5kZXJlci5jb250ZXh0Q2hhbmdlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcGFja2VkR2VvbWV0cmllcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2l6ZSBvZiBgdGhpcy5fcGFja2VkR2VvbWV0cmllc2AuIEl0IGNhbiBiZSBleHBhbmRlZFxuICAgICAgICAgKiBpZiBtb3JlIHRoYW4gYHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemVgIGZsdXNoZXNcbiAgICAgICAgICogb2NjdXIgaW4gYSBzaW5nbGUgZnJhbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplID0gMjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmx1c2ggbWF5IG9jY3VyIG11bHRpcGxlIHRpbWVzIGluIGEgc2luZ2xlXG4gICAgICAgICAqIGZyYW1lLiBPbiBpT1MgZGV2aWNlcyBvciB3aGVuXG4gICAgICAgICAqIGBzZXR0aW5ncy5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSYCBpcyBmYWxzZSwgdGhlXG4gICAgICAgICAqIGJhdGNoIHJlbmRlcmVyIGRvZXMgbm90IHVwbG9hZCBkYXRhIHRvIHRoZSBzYW1lXG4gICAgICAgICAqIGBXZWJHTEJ1ZmZlcmAgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGluZGV4IGludG8gYHBhY2tlZEdlb21ldHJpZXNgIHRoYXQgcG9pbnRzIHRvXG4gICAgICAgICAqIGdlb21ldHJ5IGhvbGRpbmcgdGhlIG1vc3QgcmVjZW50IGJ1ZmZlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mbHVzaElkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgYFZpZXdhYmxlQnVmZmVyYCBvYmplY3RzIHRoYXQgYXJlIHNvcnRlZCBpblxuICAgICAgICAgKiBvcmRlciBvZiBpbmNyZWFzaW5nIHNpemUuIFRoZSBmbHVzaCBtZXRob2QgdXNlc1xuICAgICAgICAgKiB0aGUgYnVmZmVyIHdpdGggdGhlIGxlYXN0IHNpemUgYWJvdmUgdGhlIGFtb3VudFxuICAgICAgICAgKiBpdCByZXF1aXJlcy4gVGhlc2UgYXJlIHVzZWQgZm9yIHBhc3NpbmcgYXR0cmlidXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGZpcnN0IGJ1ZmZlciBoYXMgYSBzaXplIG9mIDg7IGVhY2ggc3Vic2VxdWVudFxuICAgICAgICAgKiBidWZmZXIgaGFzIGRvdWJsZSBjYXBhY2l0eSBvZiBpdHMgcHJldmlvdXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVmlld2FibGVCdWZmZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFic3RyYWN0QmF0Y2hSZW5kZXJlciNnZXRBdHRyaWJ1dGVCdWZmZXJcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hQnVmZmVycyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBgVWludDE2QXJyYXlgIG9iamVjdHMgdGhhdCBhcmUgc29ydGVkIGluXG4gICAgICAgICAqIG9yZGVyIG9mIGluY3JlYXNpbmcgc2l6ZS4gVGhlIGZsdXNoIG1ldGhvZCB1c2VzXG4gICAgICAgICAqIHRoZSBidWZmZXIgd2l0aCB0aGUgbGVhc3Qgc2l6ZSBhYm92ZSB0aGUgYW1vdW50XG4gICAgICAgICAqIGl0IHJlcXVpcmVzLiBUaGVzZSBhcmUgdXNlZCBmb3IgcGFzc2luZyBpbmRpY2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZmlyc3QgYnVmZmVyIGhhcyBhIHNpemUgb2YgMTI7IGVhY2ggc3Vic2VxdWVudFxuICAgICAgICAgKiBidWZmZXIgaGFzIGRvdWJsZSBjYXBhY2l0eSBvZiBpdHMgcHJldmlvdXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5W119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIjZ2V0SW5kZXhCdWZmZXJcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9pQnVmZmVycyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSBudW1iZXIgb2YgdGV4dHVyZXMgdGhhdCBjYW4gYmUgdXBsb2FkZWQgdG9cbiAgICAgICAgICogdGhlIEdQVSB1bmRlciB0aGUgY3VycmVudCBjb250ZXh0LiBJdCBpcyBpbml0aWFsaXplZFxuICAgICAgICAgKiBwcm9wZXJseSBpbiBgdGhpcy5jb250ZXh0Q2hhbmdlYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RCYXRjaFJlbmRlcmVyI2NvbnRleHRDaGFuZ2VcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5NQVhfVEVYVFVSRVMgPSAxO1xuICAgICAgICBfdGhpcy5yZW5kZXJlci5vbigncHJlcmVuZGVyJywgX3RoaXMub25QcmVyZW5kZXIsIF90aGlzKTtcbiAgICAgICAgcmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLmFkZChfdGhpcyk7XG4gICAgICAgIF90aGlzLl9kY0luZGV4ID0gMDtcbiAgICAgICAgX3RoaXMuX2FJbmRleCA9IDA7XG4gICAgICAgIF90aGlzLl9pSW5kZXggPSAwO1xuICAgICAgICBfdGhpcy5fYXR0cmlidXRlQnVmZmVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2luZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3RlbXBCb3VuZFRleHR1cmVzID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgYGNvbnRleHRDaGFuZ2VgIHNpZ25hbC5cbiAgICAgKlxuICAgICAqIEl0IGNhbGN1bGF0ZXMgYHRoaXMuTUFYX1RFWFRVUkVTYCBhbmQgYWxsb2NhdGluZyB0aGVcbiAgICAgKiBwYWNrZWQtZ2VvbWV0cnkgb2JqZWN0IHBvb2wuXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSkge1xuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc3RlcCAxOiBmaXJzdCBjaGVjayBtYXggdGV4dHVyZXMgdGhlIEdQVSBjYW4gaGFuZGxlLlxuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSBNYXRoLm1pbihnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLCBzZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgICAgIC8vIHN0ZXAgMjogY2hlY2sgdGhlIG1heGltdW0gbnVtYmVyIG9mIGlmIHN0YXRlbWVudHMgdGhlIHNoYWRlciBjYW4gaGF2ZSB0b28uLlxuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyKHRoaXMuTUFYX1RFWFRVUkVTLCBnbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2hhZGVyID0gdGhpcy5zaGFkZXJHZW5lcmF0b3IuZ2VuZXJhdGVTaGFkZXIodGhpcy5NQVhfVEVYVFVSRVMpO1xuICAgICAgICAvLyB3ZSB1c2UgdGhlIHNlY29uZCBzaGFkZXIgYXMgdGhlIGZpcnN0IG9uZSBkZXBlbmRpbmcgb24geW91ciBicm93c2VyXG4gICAgICAgIC8vIG1heSBvbWl0IGFUZXh0dXJlSWQgYXMgaXQgaXMgbm90IHVzZWQgYnkgdGhlIHNoYWRlciBzbyBpcyBvcHRpbWl6ZWQgb3V0LlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemU7IGkrKykge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllc1tpXSA9IG5ldyAodGhpcy5nZW9tZXRyeUNsYXNzKSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5pdEZsdXNoQnVmZmVycygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZXMgc3VyZSB0aGF0IHN0YXRpYyBhbmQgZHluYW1pYyBmbHVzaCBwb29sZWQgb2JqZWN0cyBoYXZlIGNvcnJlY3QgZGltZW5zaW9uc1xuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuaW5pdEZsdXNoQnVmZmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9kcmF3Q2FsbFBvb2wgPSBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX2RyYXdDYWxsUG9vbCwgX3RleHR1cmVBcnJheVBvb2wgPSBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX3RleHR1cmVBcnJheVBvb2w7XG4gICAgICAgIC8vIG1heCBkcmF3IGNhbGxzXG4gICAgICAgIHZhciBNQVhfU1BSSVRFUyA9IHRoaXMuc2l6ZSAvIDQ7XG4gICAgICAgIC8vIG1heCB0ZXh0dXJlIGFycmF5c1xuICAgICAgICB2YXIgTUFYX1RBID0gTWF0aC5mbG9vcihNQVhfU1BSSVRFUyAvIHRoaXMuTUFYX1RFWFRVUkVTKSArIDE7XG4gICAgICAgIHdoaWxlIChfZHJhd0NhbGxQb29sLmxlbmd0aCA8IE1BWF9TUFJJVEVTKSB7XG4gICAgICAgICAgICBfZHJhd0NhbGxQb29sLnB1c2gobmV3IEJhdGNoRHJhd0NhbGwoKSk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKF90ZXh0dXJlQXJyYXlQb29sLmxlbmd0aCA8IE1BWF9UQSkge1xuICAgICAgICAgICAgX3RleHR1cmVBcnJheVBvb2wucHVzaChuZXcgQmF0Y2hUZXh0dXJlQXJyYXkoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLk1BWF9URVhUVVJFUzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl90ZW1wQm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIGBwcmVyZW5kZXJgIHNpZ25hbC5cbiAgICAgKlxuICAgICAqIEl0IGVuc3VyZXMgdGhhdCBmbHVzaGVzIHN0YXJ0IGZyb20gdGhlIGZpcnN0IGdlb21ldHJ5XG4gICAgICogb2JqZWN0IGFnYWluLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUub25QcmVyZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2ZsdXNoSWQgPSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQnVmZmVycyB0aGUgXCJiYXRjaGFibGVcIiBvYmplY3QuIEl0IG5lZWQgbm90IGJlIHJlbmRlcmVkXG4gICAgICogaW1tZWRpYXRlbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZWxlbWVudCAtIHRoZSBlbGVtZW50IHRvIHJlbmRlciB3aGVuXG4gICAgICogICAgdXNpbmcgdGhpcyByZW5kZXJlclxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCFlbGVtZW50Ll90ZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3ZlcnRleENvdW50ICsgKGVsZW1lbnQudmVydGV4RGF0YS5sZW5ndGggLyAyKSA+IHRoaXMuc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ZlcnRleENvdW50ICs9IGVsZW1lbnQudmVydGV4RGF0YS5sZW5ndGggLyAyO1xuICAgICAgICB0aGlzLl9pbmRleENvdW50ICs9IGVsZW1lbnQuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkVGV4dHVyZXNbdGhpcy5fYnVmZmVyU2l6ZV0gPSBlbGVtZW50Ll90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB0aGlzLl9idWZmZXJlZEVsZW1lbnRzW3RoaXMuX2J1ZmZlclNpemUrK10gPSBlbGVtZW50O1xuICAgIH07XG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5idWlsZFRleHR1cmVzQW5kRHJhd0NhbGxzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCB0ZXh0dXJlcyA9IF9hLl9idWZmZXJlZFRleHR1cmVzLCBNQVhfVEVYVFVSRVMgPSBfYS5NQVhfVEVYVFVSRVM7XG4gICAgICAgIHZhciB0ZXh0dXJlQXJyYXlzID0gQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl90ZXh0dXJlQXJyYXlQb29sO1xuICAgICAgICB2YXIgYmF0Y2ggPSB0aGlzLnJlbmRlcmVyLmJhdGNoO1xuICAgICAgICB2YXIgYm91bmRUZXh0dXJlcyA9IHRoaXMuX3RlbXBCb3VuZFRleHR1cmVzO1xuICAgICAgICB2YXIgdG91Y2ggPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVHQy5jb3VudDtcbiAgICAgICAgdmFyIFRJQ0sgPSArK0Jhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaDtcbiAgICAgICAgdmFyIGNvdW50VGV4QXJyYXlzID0gMDtcbiAgICAgICAgdmFyIHRleEFycmF5ID0gdGV4dHVyZUFycmF5c1swXTtcbiAgICAgICAgdmFyIHN0YXJ0ID0gMDtcbiAgICAgICAgYmF0Y2guY29weUJvdW5kVGV4dHVyZXMoYm91bmRUZXh0dXJlcywgTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJTaXplOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0ZXggPSB0ZXh0dXJlc1tpXTtcbiAgICAgICAgICAgIHRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0ZXguX2JhdGNoRW5hYmxlZCA9PT0gVElDSykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRleEFycmF5LmNvdW50ID49IE1BWF9URVhUVVJFUykge1xuICAgICAgICAgICAgICAgIGJhdGNoLmJvdW5kQXJyYXkodGV4QXJyYXksIGJvdW5kVGV4dHVyZXMsIFRJQ0ssIE1BWF9URVhUVVJFUyk7XG4gICAgICAgICAgICAgICAgdGhpcy5idWlsZERyYXdDYWxscyh0ZXhBcnJheSwgc3RhcnQsIGkpO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICB0ZXhBcnJheSA9IHRleHR1cmVBcnJheXNbKytjb3VudFRleEFycmF5c107XG4gICAgICAgICAgICAgICAgKytUSUNLO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4Ll9iYXRjaEVuYWJsZWQgPSBUSUNLO1xuICAgICAgICAgICAgdGV4LnRvdWNoZWQgPSB0b3VjaDtcbiAgICAgICAgICAgIHRleEFycmF5LmVsZW1lbnRzW3RleEFycmF5LmNvdW50KytdID0gdGV4O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZXhBcnJheS5jb3VudCA+IDApIHtcbiAgICAgICAgICAgIGJhdGNoLmJvdW5kQXJyYXkodGV4QXJyYXksIGJvdW5kVGV4dHVyZXMsIFRJQ0ssIE1BWF9URVhUVVJFUyk7XG4gICAgICAgICAgICB0aGlzLmJ1aWxkRHJhd0NhbGxzKHRleEFycmF5LCBzdGFydCwgdGhpcy5fYnVmZmVyU2l6ZSk7XG4gICAgICAgICAgICArK2NvdW50VGV4QXJyYXlzO1xuICAgICAgICAgICAgKytUSUNLO1xuICAgICAgICB9XG4gICAgICAgIC8vIENsZWFuLXVwXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoID0gVElDSztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBvcHVsYXRpbmcgZHJhd2NhbGxzIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXRjaFRleHR1cmVBcnJheX0gdGV4QXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmluaXNoXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5idWlsZERyYXdDYWxscyA9IGZ1bmN0aW9uICh0ZXhBcnJheSwgc3RhcnQsIGZpbmlzaCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBlbGVtZW50cyA9IF9hLl9idWZmZXJlZEVsZW1lbnRzLCBfYXR0cmlidXRlQnVmZmVyID0gX2EuX2F0dHJpYnV0ZUJ1ZmZlciwgX2luZGV4QnVmZmVyID0gX2EuX2luZGV4QnVmZmVyLCB2ZXJ0ZXhTaXplID0gX2EudmVydGV4U2l6ZTtcbiAgICAgICAgdmFyIGRyYXdDYWxscyA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sO1xuICAgICAgICB2YXIgZGNJbmRleCA9IHRoaXMuX2RjSW5kZXg7XG4gICAgICAgIHZhciBhSW5kZXggPSB0aGlzLl9hSW5kZXg7XG4gICAgICAgIHZhciBpSW5kZXggPSB0aGlzLl9pSW5kZXg7XG4gICAgICAgIHZhciBkcmF3Q2FsbCA9IGRyYXdDYWxsc1tkY0luZGV4XTtcbiAgICAgICAgZHJhd0NhbGwuc3RhcnQgPSB0aGlzLl9pSW5kZXg7XG4gICAgICAgIGRyYXdDYWxsLnRleEFycmF5ID0gdGV4QXJyYXk7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGZpbmlzaDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICB2YXIgdGV4ID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgdmFyIHNwcml0ZUJsZW5kTW9kZSA9IHByZW11bHRpcGx5QmxlbmRNb2RlW3RleC5hbHBoYU1vZGUgPyAxIDogMF1bc3ByaXRlLmJsZW5kTW9kZV07XG4gICAgICAgICAgICBlbGVtZW50c1tpXSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoc3RhcnQgPCBpICYmIGRyYXdDYWxsLmJsZW5kICE9PSBzcHJpdGVCbGVuZE1vZGUpIHtcbiAgICAgICAgICAgICAgICBkcmF3Q2FsbC5zaXplID0gaUluZGV4IC0gZHJhd0NhbGwuc3RhcnQ7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgIGRyYXdDYWxsID0gZHJhd0NhbGxzWysrZGNJbmRleF07XG4gICAgICAgICAgICAgICAgZHJhd0NhbGwudGV4QXJyYXkgPSB0ZXhBcnJheTtcbiAgICAgICAgICAgICAgICBkcmF3Q2FsbC5zdGFydCA9IGlJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGFja0ludGVybGVhdmVkR2VvbWV0cnkoc3ByaXRlLCBfYXR0cmlidXRlQnVmZmVyLCBfaW5kZXhCdWZmZXIsIGFJbmRleCwgaUluZGV4KTtcbiAgICAgICAgICAgIGFJbmRleCArPSBzcHJpdGUudmVydGV4RGF0YS5sZW5ndGggLyAyICogdmVydGV4U2l6ZTtcbiAgICAgICAgICAgIGlJbmRleCArPSBzcHJpdGUuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgICAgICBkcmF3Q2FsbC5ibGVuZCA9IHNwcml0ZUJsZW5kTW9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnQgPCBmaW5pc2gpIHtcbiAgICAgICAgICAgIGRyYXdDYWxsLnNpemUgPSBpSW5kZXggLSBkcmF3Q2FsbC5zdGFydDtcbiAgICAgICAgICAgICsrZGNJbmRleDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kY0luZGV4ID0gZGNJbmRleDtcbiAgICAgICAgdGhpcy5fYUluZGV4ID0gYUluZGV4O1xuICAgICAgICB0aGlzLl9pSW5kZXggPSBpSW5kZXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCaW5kIHRleHR1cmVzIGZvciBjdXJyZW50IHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhdGNoVGV4dHVyZUFycmF5fSB0ZXhBcnJheVxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuYmluZEFuZENsZWFyVGV4QXJyYXkgPSBmdW5jdGlvbiAodGV4QXJyYXkpIHtcbiAgICAgICAgdmFyIHRleHR1cmVTeXN0ZW0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4QXJyYXkuY291bnQ7IGorKykge1xuICAgICAgICAgICAgdGV4dHVyZVN5c3RlbS5iaW5kKHRleEFycmF5LmVsZW1lbnRzW2pdLCB0ZXhBcnJheS5pZHNbal0pO1xuICAgICAgICAgICAgdGV4QXJyYXkuZWxlbWVudHNbal0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRleEFycmF5LmNvdW50ID0gMDtcbiAgICB9O1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUudXBkYXRlR2VvbWV0cnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHBhY2tlZEdlb21ldHJpZXMgPSBfYS5fcGFja2VkR2VvbWV0cmllcywgYXR0cmlidXRlQnVmZmVyID0gX2EuX2F0dHJpYnV0ZUJ1ZmZlciwgaW5kZXhCdWZmZXIgPSBfYS5faW5kZXhCdWZmZXI7XG4gICAgICAgIGlmICghc2V0dGluZ3MuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUikgeyAvKiBVc3VhbGx5IG9uIGlPUyBkZXZpY2VzLCB3aGVyZSB0aGUgYnJvd3NlciBkb2Vzbid0XG4gICAgICAgICAgICBsaWtlIHVwbG9hZHMgdG8gdGhlIHNhbWUgYnVmZmVyIGluIGEgc2luZ2xlIGZyYW1lLiAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUgPD0gdGhpcy5fZmx1c2hJZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUrKztcbiAgICAgICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdID0gbmV3ICh0aGlzLmdlb21ldHJ5Q2xhc3MpKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9idWZmZXIudXBkYXRlKGF0dHJpYnV0ZUJ1ZmZlci5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2luZGV4QnVmZmVyLnVwZGF0ZShpbmRleEJ1ZmZlcik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LmJpbmQocGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICAgICAgICAgIHRoaXMuX2ZsdXNoSWQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxldHMgdXNlIHRoZSBmYXN0ZXIgb3B0aW9uLCBhbHdheXMgdXNlIGJ1ZmZlciBudW1iZXIgMFxuICAgICAgICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXS5fYnVmZmVyLnVwZGF0ZShhdHRyaWJ1dGVCdWZmZXIucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9pbmRleEJ1ZmZlci51cGRhdGUoaW5kZXhCdWZmZXIpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS51cGRhdGVCdWZmZXJzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZHJhd0JhdGNoZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkY0NvdW50ID0gdGhpcy5fZGNJbmRleDtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5yZW5kZXJlciwgZ2wgPSBfYS5nbCwgc3RhdGVTeXN0ZW0gPSBfYS5zdGF0ZTtcbiAgICAgICAgdmFyIGRyYXdDYWxscyA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sO1xuICAgICAgICB2YXIgY3VyVGV4QXJyYXkgPSBudWxsO1xuICAgICAgICAvLyBVcGxvYWQgdGV4dHVyZXMgYW5kIGRvIHRoZSBkcmF3IGNhbGxzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGNDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBkcmF3Q2FsbHNbaV0sIHRleEFycmF5ID0gX2IudGV4QXJyYXksIHR5cGUgPSBfYi50eXBlLCBzaXplID0gX2Iuc2l6ZSwgc3RhcnQgPSBfYi5zdGFydCwgYmxlbmQgPSBfYi5ibGVuZDtcbiAgICAgICAgICAgIGlmIChjdXJUZXhBcnJheSAhPT0gdGV4QXJyYXkpIHtcbiAgICAgICAgICAgICAgICBjdXJUZXhBcnJheSA9IHRleEFycmF5O1xuICAgICAgICAgICAgICAgIHRoaXMuYmluZEFuZENsZWFyVGV4QXJyYXkodGV4QXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSBibGVuZDtcbiAgICAgICAgICAgIHN0YXRlU3lzdGVtLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyh0eXBlLCBzaXplLCBnbC5VTlNJR05FRF9TSE9SVCwgc3RhcnQgKiAyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgY29udGVudCBfbm93XyBhbmQgZW1wdGllcyB0aGUgY3VycmVudCBiYXRjaC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fdmVydGV4Q291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hdHRyaWJ1dGVCdWZmZXIgPSB0aGlzLmdldEF0dHJpYnV0ZUJ1ZmZlcih0aGlzLl92ZXJ0ZXhDb3VudCk7XG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyID0gdGhpcy5nZXRJbmRleEJ1ZmZlcih0aGlzLl9pbmRleENvdW50KTtcbiAgICAgICAgdGhpcy5fYUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5faUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fZGNJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuYnVpbGRUZXh0dXJlc0FuZERyYXdDYWxscygpO1xuICAgICAgICB0aGlzLnVwZGF0ZUdlb21ldHJ5KCk7XG4gICAgICAgIHRoaXMuZHJhd0JhdGNoZXMoKTtcbiAgICAgICAgLy8gcmVzZXQgZWxlbWVudHMgYnVmZmVyIGZvciB0aGUgbmV4dCBmbHVzaFxuICAgICAgICB0aGlzLl9idWZmZXJTaXplID0gMDtcbiAgICAgICAgdGhpcy5fdmVydGV4Q291bnQgPSAwO1xuICAgICAgICB0aGlzLl9pbmRleENvdW50ID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBhIG5ldyBzcHJpdGUgYmF0Y2guXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcy5fc2hhZGVyKTtcbiAgICAgICAgaWYgKHNldHRpbmdzLkNBTl9VUExPQURfU0FNRV9CVUZGRVIpIHtcbiAgICAgICAgICAgIC8vIGJpbmQgYnVmZmVyICMwLCB3ZSBkb24ndCBuZWVkIG90aGVyc1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wcyBhbmQgZmx1c2hlcyB0aGUgY3VycmVudCBiYXRjaC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgYEFic3RyYWN0QmF0Y2hSZW5kZXJlcmAuIEl0IGNhbm5vdCBiZSB1c2VkIGFnYWluLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW2ldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlci5vZmYoJ3ByZXJlbmRlcicsIHRoaXMub25QcmVyZW5kZXIsIHRoaXMpO1xuICAgICAgICB0aGlzLl9hQnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2lCdWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2F0dHJpYnV0ZUJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX3NoYWRlcikge1xuICAgICAgICAgICAgdGhpcy5fc2hhZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIGFuIGF0dHJpYnV0ZSBidWZmZXIgZnJvbSBgdGhpcy5fYUJ1ZmZlcnNgIHRoYXRcbiAgICAgKiBjYW4gaG9sZCBhdGxlYXN0IGBzaXplYCBmbG9hdHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIG1pbmltdW0gY2FwYWNpdHkgcmVxdWlyZWRcbiAgICAgKiBAcmV0dXJuIHtWaWV3YWJsZUJ1ZmZlcn0gLSBidWZmZXIgdGhhbiBjYW4gaG9sZCBhdGxlYXN0IGBzaXplYCBmbG9hdHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZ2V0QXR0cmlidXRlQnVmZmVyID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgLy8gOCB2ZXJ0aWNlcyBpcyBlbm91Z2ggZm9yIDIgcXVhZHNcbiAgICAgICAgdmFyIHJvdW5kZWRQMiA9IG5leHRQb3cyKE1hdGguY2VpbChzaXplIC8gOCkpO1xuICAgICAgICB2YXIgcm91bmRlZFNpemVJbmRleCA9IGxvZzIocm91bmRlZFAyKTtcbiAgICAgICAgdmFyIHJvdW5kZWRTaXplID0gcm91bmRlZFAyICogODtcbiAgICAgICAgaWYgKHRoaXMuX2FCdWZmZXJzLmxlbmd0aCA8PSByb3VuZGVkU2l6ZUluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl9pQnVmZmVycy5sZW5ndGggPSByb3VuZGVkU2l6ZUluZGV4ICsgMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5fYUJ1ZmZlcnNbcm91bmRlZFNpemVdO1xuICAgICAgICBpZiAoIWJ1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5fYUJ1ZmZlcnNbcm91bmRlZFNpemVdID0gYnVmZmVyID0gbmV3IFZpZXdhYmxlQnVmZmVyKHJvdW5kZWRTaXplICogdGhpcy52ZXJ0ZXhTaXplICogNCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZldGNoZXMgYW4gaW5kZXggYnVmZmVyIGZyb20gYHRoaXMuX2lCdWZmZXJzYCB0aGF0IGNhblxuICAgICAqIGhhdmUgYXQgbGVhc3QgYHNpemVgIGNhcGFjaXR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBtaW5pbXVtIHJlcXVpcmVkIGNhcGFjaXR5XG4gICAgICogQHJldHVybiB7VWludDE2QXJyYXl9IC0gYnVmZmVyIHRoYXQgY2FuIGZpdCBgc2l6ZWBcbiAgICAgKiAgICBpbmRpY2VzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5nZXRJbmRleEJ1ZmZlciA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIC8vIDEyIGluZGljZXMgaXMgZW5vdWdoIGZvciAyIHF1YWRzXG4gICAgICAgIHZhciByb3VuZGVkUDIgPSBuZXh0UG93MihNYXRoLmNlaWwoc2l6ZSAvIDEyKSk7XG4gICAgICAgIHZhciByb3VuZGVkU2l6ZUluZGV4ID0gbG9nMihyb3VuZGVkUDIpO1xuICAgICAgICB2YXIgcm91bmRlZFNpemUgPSByb3VuZGVkUDIgKiAxMjtcbiAgICAgICAgaWYgKHRoaXMuX2lCdWZmZXJzLmxlbmd0aCA8PSByb3VuZGVkU2l6ZUluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl9pQnVmZmVycy5sZW5ndGggPSByb3VuZGVkU2l6ZUluZGV4ICsgMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5faUJ1ZmZlcnNbcm91bmRlZFNpemVJbmRleF07XG4gICAgICAgIGlmICghYnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9pQnVmZmVyc1tyb3VuZGVkU2l6ZUluZGV4XSA9IGJ1ZmZlciA9IG5ldyBVaW50MTZBcnJheShyb3VuZGVkU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRha2VzIHRoZSBmb3VyIGJhdGNoaW5nIHBhcmFtZXRlcnMgb2YgYGVsZW1lbnRgLCBpbnRlcmxlYXZlc1xuICAgICAqIGFuZCBwdXNoZXMgdGhlbSBpbnRvIHRoZSBiYXRjaGluZyBhdHRyaWJ1dGUvaW5kZXggYnVmZmVycyBnaXZlbi5cbiAgICAgKlxuICAgICAqIEl0IHVzZXMgdGhlc2UgcHJvcGVydGllczogYHZlcnRleERhdGFgIGB1dnNgLCBgdGV4dHVyZUlkYCBhbmRcbiAgICAgKiBgaW5kaWNpZXNgLiBJdCBhbHNvIHVzZXMgdGhlIFwidGludFwiIG9mIHRoZSBiYXNlLXRleHR1cmUsIGlmXG4gICAgICogcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IGVsZW1lbnQgLSBlbGVtZW50IGJlaW5nIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtQSVhJLlZpZXdhYmxlQnVmZmVyfSBhdHRyaWJ1dGVCdWZmZXIgLSBhdHRyaWJ1dGUgYnVmZmVyLlxuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IGluZGV4QnVmZmVyIC0gaW5kZXggYnVmZmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFJbmRleCAtIG51bWJlciBvZiBmbG9hdHMgYWxyZWFkeSBpbiB0aGUgYXR0cmlidXRlIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpSW5kZXggLSBudW1iZXIgb2YgaW5kaWNlcyBhbHJlYWR5IGluIGBpbmRleEJ1ZmZlcmBcbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnBhY2tJbnRlcmxlYXZlZEdlb21ldHJ5ID0gZnVuY3Rpb24gKGVsZW1lbnQsIGF0dHJpYnV0ZUJ1ZmZlciwgaW5kZXhCdWZmZXIsIGFJbmRleCwgaUluZGV4KSB7XG4gICAgICAgIHZhciB1aW50MzJWaWV3ID0gYXR0cmlidXRlQnVmZmVyLnVpbnQzMlZpZXcsIGZsb2F0MzJWaWV3ID0gYXR0cmlidXRlQnVmZmVyLmZsb2F0MzJWaWV3O1xuICAgICAgICB2YXIgcGFja2VkVmVydGljZXMgPSBhSW5kZXggLyB0aGlzLnZlcnRleFNpemU7XG4gICAgICAgIHZhciB1dnMgPSBlbGVtZW50LnV2cztcbiAgICAgICAgdmFyIGluZGljaWVzID0gZWxlbWVudC5pbmRpY2VzO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IGVsZW1lbnQudmVydGV4RGF0YTtcbiAgICAgICAgdmFyIHRleHR1cmVJZCA9IGVsZW1lbnQuX3RleHR1cmUuYmFzZVRleHR1cmUuX2JhdGNoTG9jYXRpb247XG4gICAgICAgIHZhciBhbHBoYSA9IE1hdGgubWluKGVsZW1lbnQud29ybGRBbHBoYSwgMS4wKTtcbiAgICAgICAgdmFyIGFyZ2IgPSAoYWxwaGEgPCAxLjBcbiAgICAgICAgICAgICYmIGVsZW1lbnQuX3RleHR1cmUuYmFzZVRleHR1cmUuYWxwaGFNb2RlKVxuICAgICAgICAgICAgPyBwcmVtdWx0aXBseVRpbnQoZWxlbWVudC5fdGludFJHQiwgYWxwaGEpXG4gICAgICAgICAgICA6IGVsZW1lbnQuX3RpbnRSR0IgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuICAgICAgICAvLyBsZXRzIG5vdCB3b3JyeSBhYm91dCB0aW50ISBmb3Igbm93Li5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB2ZXJ0ZXhEYXRhW2ldO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdmVydGV4RGF0YVtpICsgMV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaSArIDFdO1xuICAgICAgICAgICAgdWludDMyVmlld1thSW5kZXgrK10gPSBhcmdiO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdGV4dHVyZUlkO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5kaWNpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGluZGV4QnVmZmVyW2lJbmRleCsrXSA9IHBhY2tlZFZlcnRpY2VzICsgaW5kaWNpZXNbaV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBvb2wgb2YgYEJhdGNoRHJhd0NhbGxgIG9iamVjdHMgdGhhdCBgZmx1c2hgIHVzZWRcbiAgICAgKiB0byBjcmVhdGUgXCJiYXRjaGVzXCIgb2YgdGhlIG9iamVjdHMgYmVpbmcgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBUaGVzZSBhcmUgbmV2ZXIgcmUtYWxsb2NhdGVkIGFnYWluLlxuICAgICAqIFNoYXJlZCBiZXR3ZWVuIGFsbCBiYXRjaCByZW5kZXJlcnMgYmVjYXVzZSBpdCBjYW4gYmUgb25seSBvbmUgXCJmbHVzaFwiIHdvcmtpbmcgYXQgdGhlIG1vbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhdGNoRHJhd0NhbGxbXX1cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX2RyYXdDYWxsUG9vbCA9IFtdO1xuICAgIC8qKlxuICAgICAqIFBvb2wgb2YgYEJhdGNoRHJhd0NhbGxgIG9iamVjdHMgdGhhdCBgZmx1c2hgIHVzZWRcbiAgICAgKiB0byBjcmVhdGUgXCJiYXRjaGVzXCIgb2YgdGhlIG9iamVjdHMgYmVpbmcgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBUaGVzZSBhcmUgbmV2ZXIgcmUtYWxsb2NhdGVkIGFnYWluLlxuICAgICAqIFNoYXJlZCBiZXR3ZWVuIGFsbCBiYXRjaCByZW5kZXJlcnMgYmVjYXVzZSBpdCBjYW4gYmUgb25seSBvbmUgXCJmbHVzaFwiIHdvcmtpbmcgYXQgdGhlIG1vbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhdGNoVGV4dHVyZUFycmF5W119XG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl90ZXh0dXJlQXJyYXlQb29sID0gW107XG4gICAgcmV0dXJuIEFic3RyYWN0QmF0Y2hSZW5kZXJlcjtcbn0oT2JqZWN0UmVuZGVyZXIpKTtcblxuLyoqXG4gKiBIZWxwZXIgdGhhdCBnZW5lcmF0ZXMgYmF0Y2hpbmcgbXVsdGktdGV4dHVyZSBzaGFkZXIuIFVzZSBpdCB3aXRoIHlvdXIgbmV3IEJhdGNoUmVuZGVyZXJcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXRjaFNoYWRlckdlbmVyYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmVydGV4U3JjIC0gVmVydGV4IHNoYWRlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFnVGVtcGxhdGUgLSBGcmFnbWVudCBzaGFkZXIgdGVtcGxhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXRjaFNoYWRlckdlbmVyYXRvcih2ZXJ0ZXhTcmMsIGZyYWdUZW1wbGF0ZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSB2ZXJ0ZXhTcmM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGZyYWdlbWVudCBzaGFkZXIgdGVtcGxhdGUuIE11c3QgY29udGFpbiBcIiVjb3VudCVcIiBhbmQgXCIlZm9ybG9vcCVcIi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mcmFnVGVtcGxhdGUgPSBmcmFnVGVtcGxhdGU7XG4gICAgICAgIHRoaXMucHJvZ3JhbUNhY2hlID0ge307XG4gICAgICAgIHRoaXMuZGVmYXVsdEdyb3VwQ2FjaGUgPSB7fTtcbiAgICAgICAgaWYgKGZyYWdUZW1wbGF0ZS5pbmRleE9mKCclY291bnQlJykgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZyYWdtZW50IHRlbXBsYXRlIG11c3QgY29udGFpbiBcIiVjb3VudCVcIi4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJhZ1RlbXBsYXRlLmluZGV4T2YoJyVmb3Jsb29wJScpIDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGcmFnbWVudCB0ZW1wbGF0ZSBtdXN0IGNvbnRhaW4gXCIlZm9ybG9vcCVcIi4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBCYXRjaFNoYWRlckdlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGVTaGFkZXIgPSBmdW5jdGlvbiAobWF4VGV4dHVyZXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10pIHtcbiAgICAgICAgICAgIHZhciBzYW1wbGVWYWx1ZXMgPSBuZXcgSW50MzJBcnJheShtYXhUZXh0dXJlcyk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspIHtcbiAgICAgICAgICAgICAgICBzYW1wbGVWYWx1ZXNbaV0gPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kZWZhdWx0R3JvdXBDYWNoZVttYXhUZXh0dXJlc10gPSBVbmlmb3JtR3JvdXAuZnJvbSh7IHVTYW1wbGVyczogc2FtcGxlVmFsdWVzIH0sIHRydWUpO1xuICAgICAgICAgICAgdmFyIGZyYWdtZW50U3JjID0gdGhpcy5mcmFnVGVtcGxhdGU7XG4gICAgICAgICAgICBmcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjLnJlcGxhY2UoLyVjb3VudCUvZ2ksIFwiXCIgKyBtYXhUZXh0dXJlcyk7XG4gICAgICAgICAgICBmcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjLnJlcGxhY2UoLyVmb3Jsb29wJS9naSwgdGhpcy5nZW5lcmF0ZVNhbXBsZVNyYyhtYXhUZXh0dXJlcykpO1xuICAgICAgICAgICAgdGhpcy5wcm9ncmFtQ2FjaGVbbWF4VGV4dHVyZXNdID0gbmV3IFByb2dyYW0odGhpcy52ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICB0aW50OiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksXG4gICAgICAgICAgICB0cmFuc2xhdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICAgICAgZGVmYXVsdDogdGhpcy5kZWZhdWx0R3JvdXBDYWNoZVttYXhUZXh0dXJlc10sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgU2hhZGVyKHRoaXMucHJvZ3JhbUNhY2hlW21heFRleHR1cmVzXSwgdW5pZm9ybXMpO1xuICAgIH07XG4gICAgQmF0Y2hTaGFkZXJHZW5lcmF0b3IucHJvdG90eXBlLmdlbmVyYXRlU2FtcGxlU3JjID0gZnVuY3Rpb24gKG1heFRleHR1cmVzKSB7XG4gICAgICAgIHZhciBzcmMgPSAnJztcbiAgICAgICAgc3JjICs9ICdcXG4nO1xuICAgICAgICBzcmMgKz0gJ1xcbic7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgc3JjICs9ICdcXG5lbHNlICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSA8IG1heFRleHR1cmVzIC0gMSkge1xuICAgICAgICAgICAgICAgIHNyYyArPSBcImlmKHZUZXh0dXJlSWQgPCBcIiArIGkgKyBcIi41KVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3JjICs9ICdcXG57JztcbiAgICAgICAgICAgIHNyYyArPSBcIlxcblxcdGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyc1tcIiArIGkgKyBcIl0sIHZUZXh0dXJlQ29vcmQpO1wiO1xuICAgICAgICAgICAgc3JjICs9ICdcXG59JztcbiAgICAgICAgfVxuICAgICAgICBzcmMgKz0gJ1xcbic7XG4gICAgICAgIHNyYyArPSAnXFxuJztcbiAgICAgICAgcmV0dXJuIHNyYztcbiAgICB9O1xuICAgIHJldHVybiBCYXRjaFNoYWRlckdlbmVyYXRvcjtcbn0oKSk7XG5cbi8qKlxuICogR2VvbWV0cnkgdXNlZCB0byBiYXRjaCBzdGFuZGFyZCBQSVhJIGNvbnRlbnQgKGUuZy4gTWVzaCwgU3ByaXRlLCBHcmFwaGljcyBvYmplY3RzKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXRjaEdlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXRjaEdlb21ldHJ5LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW19zdGF0aWM9ZmFsc2VdIC0gT3B0aW1pemF0aW9uIGZsYWcsIHdoZXJlIGBmYWxzZWBcbiAgICAgKiAgICAgICAgaXMgdXBkYXRlZCBldmVyeSBmcmFtZSwgYHRydWVgIGRvZXNuJ3QgY2hhbmdlIGZyYW1lLXRvLWZyYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhdGNoR2VvbWV0cnkoX3N0YXRpYykge1xuICAgICAgICBpZiAoX3N0YXRpYyA9PT0gdm9pZCAwKSB7IF9zdGF0aWMgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQnVmZmVyIHVzZWQgZm9yIHBvc2l0aW9uLCBjb2xvciwgdGV4dHVyZSBJRHNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9idWZmZXIgPSBuZXcgQnVmZmVyKG51bGwsIF9zdGF0aWMsIGZhbHNlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGV4IGJ1ZmZlciBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faW5kZXhCdWZmZXIgPSBuZXcgQnVmZmVyKG51bGwsIF9zdGF0aWMsIHRydWUpO1xuICAgICAgICBfdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIF90aGlzLl9idWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FUZXh0dXJlQ29vcmQnLCBfdGhpcy5fYnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhQ29sb3InLCBfdGhpcy5fYnVmZmVyLCA0LCB0cnVlLCBUWVBFUy5VTlNJR05FRF9CWVRFKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVJZCcsIF90aGlzLl9idWZmZXIsIDEsIHRydWUsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEluZGV4KF90aGlzLl9pbmRleEJ1ZmZlcik7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEJhdGNoR2VvbWV0cnk7XG59KEdlb21ldHJ5KSk7XG5cbnZhciBkZWZhdWx0VmVydGV4JDIgPSBcInByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5hdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjNCBhQ29sb3I7XFxuYXR0cmlidXRlIGZsb2F0IGFUZXh0dXJlSWQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gdmVjNCB0aW50O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZUZXh0dXJlSWQgPSBhVGV4dHVyZUlkO1xcbiAgICB2Q29sb3IgPSBhQ29sb3IgKiB0aW50O1xcbn1cXG5cIjtcblxudmFyIGRlZmF1bHRGcmFnbWVudCQyID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcbnZhcnlpbmcgZmxvYXQgdlRleHR1cmVJZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcnNbJWNvdW50JV07XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICB2ZWM0IGNvbG9yO1xcbiAgICAlZm9ybG9vcCVcXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3IgKiB2Q29sb3I7XFxufVxcblwiO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBoaWRlY29uc3RydWN0b3JcbiAqL1xudmFyIEJhdGNoUGx1Z2luRmFjdG9yeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXRjaFBsdWdpbkZhY3RvcnkoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBCYXRjaFJlbmRlcmVyIHBsdWdpbiBmb3IgUmVuZGVyZXIuIHRoaXMgY29udmVuaWVuY2UgY2FuIHByb3ZpZGUgYW4gZWFzeSB3YXlcbiAgICAgKiB0byBleHRlbmQgQmF0Y2hSZW5kZXJlciB3aXRoIGFsbCB0aGUgbmVjZXNzYXJ5IHBpZWNlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGZyYWdtZW50ID0gYFxuICAgICAqIHZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xuICAgICAqIHZhcnlpbmcgdmVjNCB2Q29sb3I7XG4gICAgICogdmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xuICAgICAqIHVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyc1slY291bnQlXTtcbiAgICAgKlxuICAgICAqIHZvaWQgbWFpbih2b2lkKXtcbiAgICAgKiAgICAgdmVjNCBjb2xvcjtcbiAgICAgKiAgICAgJWZvcmxvb3AlXG4gICAgICogICAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvciAqIHZlYzQoY29sb3IuYSAtIGNvbG9yLnJnYiwgY29sb3IuYSk7XG4gICAgICogfVxuICAgICAqIGA7XG4gICAgICogY29uc3QgSW52ZXJ0QmF0Y2hSZW5kZXJlciA9IFBJWEkuQmF0Y2hQbHVnaW5GYWN0b3J5LmNyZWF0ZSh7IGZyYWdtZW50IH0pO1xuICAgICAqIFBJWEkuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2ludmVydCcsIEludmVydEJhdGNoUmVuZGVyZXIpO1xuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSgpO1xuICAgICAqIHNwcml0ZS5wbHVnaW5OYW1lID0gJ2ludmVydCc7XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52ZXJ0ZXg9UElYSS5CYXRjaFBsdWdpbkZhY3RvcnkuZGVmYXVsdFZlcnRleFNyY10gLSBWZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5mcmFnbWVudD1QSVhJLkJhdGNoUGx1Z2luRmFjdG9yeS5kZWZhdWx0RnJhZ21lbnRUZW1wbGF0ZV0gLSBGcmFnbWVudCBzaGFkZXIgdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudmVydGV4U2l6ZT02XSAtIFZlcnRleCBzaXplXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLmdlb21ldHJ5Q2xhc3M9UElYSS5CYXRjaEdlb21ldHJ5XVxuICAgICAqIEByZXR1cm4geyp9IE5ldyBiYXRjaCByZW5kZXJlciBwbHVnaW5cbiAgICAgKi9cbiAgICBCYXRjaFBsdWdpbkZhY3RvcnkuY3JlYXRlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB2ZXJ0ZXg6IGRlZmF1bHRWZXJ0ZXgkMixcbiAgICAgICAgICAgIGZyYWdtZW50OiBkZWZhdWx0RnJhZ21lbnQkMixcbiAgICAgICAgICAgIGdlb21ldHJ5Q2xhc3M6IEJhdGNoR2VvbWV0cnksXG4gICAgICAgICAgICB2ZXJ0ZXhTaXplOiA2LFxuICAgICAgICB9LCBvcHRpb25zKSwgdmVydGV4ID0gX2EudmVydGV4LCBmcmFnbWVudCA9IF9hLmZyYWdtZW50LCB2ZXJ0ZXhTaXplID0gX2EudmVydGV4U2l6ZSwgZ2VvbWV0cnlDbGFzcyA9IF9hLmdlb21ldHJ5Q2xhc3M7XG4gICAgICAgIHJldHVybiAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgICAgICBfX2V4dGVuZHMoQmF0Y2hQbHVnaW4sIF9zdXBlcik7XG4gICAgICAgICAgICBmdW5jdGlvbiBCYXRjaFBsdWdpbihyZW5kZXJlcikge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAgICAgICAgIF90aGlzLnNoYWRlckdlbmVyYXRvciA9IG5ldyBCYXRjaFNoYWRlckdlbmVyYXRvcih2ZXJ0ZXgsIGZyYWdtZW50KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5nZW9tZXRyeUNsYXNzID0gZ2VvbWV0cnlDbGFzcztcbiAgICAgICAgICAgICAgICBfdGhpcy52ZXJ0ZXhTaXplID0gdmVydGV4U2l6ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQmF0Y2hQbHVnaW47XG4gICAgICAgIH0oQWJzdHJhY3RCYXRjaFJlbmRlcmVyKSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmF0Y2hQbHVnaW5GYWN0b3J5LCBcImRlZmF1bHRWZXJ0ZXhTcmNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWZXJ0ZXgkMjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXRjaFBsdWdpbkZhY3RvcnksIFwiZGVmYXVsdEZyYWdtZW50VGVtcGxhdGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdEZyYWdtZW50JDI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQmF0Y2hQbHVnaW5GYWN0b3J5O1xufSgpKTtcbi8vIFNldHVwIHRoZSBkZWZhdWx0IEJhdGNoUmVuZGVyZXIgcGx1Z2luLCB0aGlzIGlzIHdoYXRcbi8vIHdlJ2xsIGFjdHVhbGx5IGV4cG9ydCBhdCB0aGUgcm9vdCBsZXZlbFxudmFyIEJhdGNoUmVuZGVyZXIgPSBCYXRjaFBsdWdpbkZhY3RvcnkuY3JlYXRlKCk7XG5cbmV4cG9ydCB7IEFic3RyYWN0QmF0Y2hSZW5kZXJlciwgQWJzdHJhY3RSZW5kZXJlciwgQXR0cmlidXRlLCBCYXNlUmVuZGVyVGV4dHVyZSwgQmFzZVRleHR1cmUsIEJhdGNoRHJhd0NhbGwsIEJhdGNoR2VvbWV0cnksIEJhdGNoUGx1Z2luRmFjdG9yeSwgQmF0Y2hSZW5kZXJlciwgQmF0Y2hTaGFkZXJHZW5lcmF0b3IsIEJhdGNoVGV4dHVyZUFycmF5LCBCdWZmZXIsIEZpbHRlciwgRmlsdGVyU3RhdGUsIEZyYW1lYnVmZmVyLCBHTEZyYW1lYnVmZmVyLCBHTFByb2dyYW0sIEdMVGV4dHVyZSwgR2VvbWV0cnksIElHTFVuaWZvcm1EYXRhLCBNYXNrRGF0YSwgT2JqZWN0UmVuZGVyZXIsIFByb2dyYW0sIFF1YWQsIFF1YWRVdiwgUmVuZGVyVGV4dHVyZSwgUmVuZGVyVGV4dHVyZVBvb2wsIFJlbmRlcmVyLCBTaGFkZXIsIFNwcml0ZU1hc2tGaWx0ZXIsIFN0YXRlLCBTeXN0ZW0sIFRleHR1cmUsIFRleHR1cmVNYXRyaXgsIFRleHR1cmVVdnMsIFVuaWZvcm1Hcm91cCwgVmlld2FibGVCdWZmZXIsIGF1dG9EZXRlY3RSZW5kZXJlciwgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlciwgZGVmYXVsdEZpbHRlciBhcyBkZWZhdWx0RmlsdGVyVmVydGV4LCBfZGVmYXVsdCBhcyBkZWZhdWx0VmVydGV4LCBpbmRleCBhcyByZXNvdXJjZXMsIHN5c3RlbXMsIHVuaWZvcm1QYXJzZXJzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3JlLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9hcHAgLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvYXBwIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBhdXRvRGV0ZWN0UmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyoqXG4gKiBDb252ZW5pZW5jZSBjbGFzcyB0byBjcmVhdGUgYSBuZXcgUElYSSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBUaGlzIGNsYXNzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyB0aGUgcmVuZGVyZXIsIHRpY2tlciBhbmQgcm9vdCBjb250YWluZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgYXBwbGljYXRpb25cbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKlxuICogLy8gQWRkIHRoZSB2aWV3IHRvIHRoZSBET01cbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICpcbiAqIC8vIGV4LCBhZGQgZGlzcGxheSBvYmplY3RzXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQoUElYSS5TcHJpdGUuZnJvbSgnc29tZXRoaW5nLnBuZycpKTtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBcHBsaWNhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvU3RhcnQ9dHJ1ZV0gLSBBdXRvbWF0aWNhbGx5IHN0YXJ0cyB0aGUgcmVuZGVyaW5nIGFmdGVyIHRoZSBjb25zdHJ1Y3Rpb24uXG4gICAgICogICAgICoqTm90ZSoqOiBTZXR0aW5nIHRoaXMgcGFyYW1ldGVyIHRvIGZhbHNlIGRvZXMgTk9UIHN0b3AgdGhlIHNoYXJlZCB0aWNrZXIgZXZlbiBpZiB5b3Ugc2V0XG4gICAgICogICAgIG9wdGlvbnMuc2hhcmVkVGlja2VyIHRvIHRydWUgaW4gY2FzZSB0aGF0IGl0IGlzIGFscmVhZHkgc3RhcnRlZC4gU3RvcCBpdCBieSB5b3VyIG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyZXJzIHZpZXcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gVGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyZXJzIHZpZXcuXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSBUaGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0RlbnNpdHk9ZmFsc2VdIC0gUmVzaXplcyByZW5kZXJlciB2aWV3IGluIENTUyBwaXhlbHMgdG8gYWxsb3cgZm9yXG4gICAgICogICByZXNvbHV0aW9ucyBvdGhlciB0aGFuIDEuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gU2V0cyBhbnRpYWxpYXNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBFbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbiwgZW5hYmxlIHRoaXMgaWYgeW91XG4gICAgICogIG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIFdlYkdMIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIsIHJldGluYSB3b3VsZCBiZSAyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VDYW52YXM9ZmFsc2VdIC0gcHJldmVudHMgc2VsZWN0aW9uIG9mIFdlYkdMIHJlbmRlcmVyLCBldmVuIGlmIHN1Y2ggaXMgcHJlc2VudCwgdGhpc1xuICAgICAqICAgb3B0aW9uIG9ubHkgaXMgYXZhaWxhYmxlIHdoZW4gdXNpbmcgKipwaXhpLmpzLWxlZ2FjeSoqIG9yICoqQHBpeGkvY2FudmFzLXJlbmRlcmVyKiogbW9kdWxlcywgb3RoZXJ3aXNlXG4gICAgICogICBpdCBpcyBpZ25vcmVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gICAgICogICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIHdlYmdsIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICAgICAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZC4gKiooV2ViR0wgb25seSkqKi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnNoYXJlZFRpY2tlcj1mYWxzZV0gLSBgdHJ1ZWAgdG8gdXNlIFBJWEkuVGlja2VyLnNoYXJlZCwgYGZhbHNlYCB0byBjcmVhdGUgbmV3IHRpY2tlci5cbiAgICAgKiAgSWYgc2V0IHRvIGZhbHNlLCB5b3UgY2Fubm90IHJlZ2lzdGVyIGEgaGFuZGxlciB0byBvY2N1ciBiZWZvcmUgYW55dGhpbmcgdGhhdCBydW5zIG9uIHRoZSBzaGFyZWQgdGlja2VyLlxuICAgICAqICBUaGUgc3lzdGVtIHRpY2tlciB3aWxsIGFsd2F5cyBydW4gYmVmb3JlIGJvdGggdGhlIHNoYXJlZCB0aWNrZXIgYW5kIHRoZSBhcHAgdGlja2VyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hhcmVkTG9hZGVyPWZhbHNlXSAtIGB0cnVlYCB0byB1c2UgUElYSS5Mb2FkZXIuc2hhcmVkLCBgZmFsc2VgIHRvIGNyZWF0ZSBuZXcgTG9hZGVyLlxuICAgICAqIEBwYXJhbSB7V2luZG93fEhUTUxFbGVtZW50fSBbb3B0aW9ucy5yZXNpemVUb10gLSBFbGVtZW50IHRvIGF1dG9tYXRpY2FsbHkgcmVzaXplIHN0YWdlIHRvLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFwcGxpY2F0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gVGhlIGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBmb3JjZUNhbnZhczogZmFsc2UsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2ViR0wgcmVuZGVyZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgQ2FudmFzUmVuZGVyZXIuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVuZGVyZXJ8UElYSS5DYW52YXNSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBhdXRvRGV0ZWN0UmVuZGVyZXIob3B0aW9ucyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm9vdCBkaXNwbGF5IGNvbnRhaW5lciB0aGF0J3MgcmVuZGVyZWQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFnZSA9IG5ldyBDb250YWluZXIoKTtcbiAgICAgICAgLy8gaW5zdGFsbCBwbHVnaW5zIGhlcmVcbiAgICAgICAgQXBwbGljYXRpb24uX3BsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgICAgICBwbHVnaW4uaW5pdC5jYWxsKF90aGlzLCBvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgbWlkZGxld2FyZSBwbHVnaW4gZm9yIHRoZSBhcHBsaWNhdGlvblxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuQXBwbGljYXRpb24uUGx1Z2lufSBwbHVnaW4gLSBQbHVnaW4gYmVpbmcgaW5zdGFsbGVkXG4gICAgICovXG4gICAgQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgIEFwcGxpY2F0aW9uLl9wbHVnaW5zLnB1c2gocGx1Z2luKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgY3VycmVudCBzdGFnZS5cbiAgICAgKi9cbiAgICBBcHBsaWNhdGlvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBUT0RPOiBTaW5jZSBDYW52YXNSZW5kZXJlciBoYXMgbm90IGJlZW4gY29udmVydGVkIHRoaXMgZnVuY3Rpb24gdGhpbmtzIGl0IHRha2VzIERpc3BsYXlPYmplY3QgJiBQSVhJLkRpc3BsYXlPYmplY3RcbiAgICAgICAgLy8gVGhpcyBjYW4gYmUgZml4ZWQgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWQuXG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc3RhZ2UpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcGxpY2F0aW9uLnByb3RvdHlwZSwgXCJ2aWV3XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIncyBjYW52YXMgZWxlbWVudC5cbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci52aWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcGxpY2F0aW9uLnByb3RvdHlwZSwgXCJzY3JlZW5cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIHNjcmVlbiByZWN0YW5nbGUuIEl0cyBzYWZlIHRvIHVzZSBhcyBgZmlsdGVyQXJlYWAgb3IgYGhpdEFyZWFgIGZvciB0aGUgd2hvbGUgc2NyZWVuLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnNjcmVlbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gQXV0b21hdGljYWxseSByZW1vdmUgY2FudmFzIGZyb20gRE9NLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtzdGFnZU9wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnc3RhZ2VPcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgc3RhZ2VPcHRpb25zLmNoaWxkcmVuIGlzIHNldFxuICAgICAqICB0byB0cnVlLiBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3RhZ2VPcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBzdGFnZU9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0XG4gICAgICogIHRvIHRydWUuIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIEFwcGxpY2F0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKHJlbW92ZVZpZXcsIHN0YWdlT3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBEZXN0cm95IHBsdWdpbnMgaW4gdGhlIG9wcG9zaXRlIG9yZGVyXG4gICAgICAgIC8vIHdoaWNoIHRoZXkgd2VyZSBjb25zdHJ1Y3RlZFxuICAgICAgICB2YXIgcGx1Z2lucyA9IEFwcGxpY2F0aW9uLl9wbHVnaW5zLnNsaWNlKDApO1xuICAgICAgICBwbHVnaW5zLnJldmVyc2UoKTtcbiAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgIHBsdWdpbi5kZXN0cm95LmNhbGwoX3RoaXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdGFnZS5kZXN0cm95KHN0YWdlT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuc3RhZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmRlc3Ryb3kocmVtb3ZlVmlldyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEFwcGxpY2F0aW9uO1xufSgpKTtcbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb25cbiAqIEB0eXBlZGVmIHtvYmplY3R9IFBsdWdpblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gaW5pdCAtIENhbGxlZCB3aGVuIEFwcGxpY2F0aW9uIGlzIGNvbnN0cnVjdGVkLCBzY29wZWQgdG8gQXBwbGljYXRpb24gaW5zdGFuY2UuXG4gKiAgUGFzc2VzIGluIGBvcHRpb25zYCBhcyB0aGUgb25seSBhcmd1bWVudCwgd2hpY2ggYXJlIEFwcGxpY2F0aW9uIGNvbnN0cnVjdG9yIG9wdGlvbnMuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBkZXN0cm95IC0gQ2FsbGVkIHdoZW4gZGVzdHJveWluZyBBcHBsaWNhdGlvbiwgc2NvcGVkIHRvIEFwcGxpY2F0aW9uIGluc3RhbmNlXG4gKi9cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBpbnN0YWxsZWQgcGx1Z2lucy5cbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKiBAdHlwZSB7UElYSS5BcHBsaWNhdGlvbi5QbHVnaW5bXX1cbiAqL1xuQXBwbGljYXRpb24uX3BsdWdpbnMgPSBbXTtcblxuLyoqXG4gKiBNaWRkbGV3YXJlIGZvciBmb3IgQXBwbGljYXRpb24ncyByZXNpemUgZnVuY3Rpb25hbGl0eVxuICogQHByaXZhdGVcbiAqIEBjbGFzc1xuICovXG52YXIgUmVzaXplUGx1Z2luID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZVBsdWdpbigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgcGx1Z2luIHdpdGggc2NvcGUgb2YgYXBwbGljYXRpb24gaW5zdGFuY2VcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIGFwcGxpY2F0aW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBSZXNpemVQbHVnaW4uaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSFRNTCBlbGVtZW50IG9yIHdpbmRvdyB0byBhdXRvbWF0aWNhbGx5IHJlc2l6ZSB0aGVcbiAgICAgICAgICogcmVuZGVyZXIncyB2aWV3IGVsZW1lbnQgdG8gbWF0Y2ggd2lkdGggYW5kIGhlaWdodC5cbiAgICAgICAgICogQHR5cGUge1dpbmRvd3xIVE1MRWxlbWVudH1cbiAgICAgICAgICogQG5hbWUgcmVzaXplVG9cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Jlc2l6ZVRvJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZG9tKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucXVldWVSZXNpemUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZVRvID0gZG9tO1xuICAgICAgICAgICAgICAgIGlmIChkb20pIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucXVldWVSZXNpemUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzaXplVG87XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlc2l6ZSBpcyB0aHJvdHRsZWQsIHNvIGl0J3NcbiAgICAgICAgICogc2FmZSB0byBjYWxsIHRoaXMgbXVsdGlwbGUgdGltZXMgcGVyIGZyYW1lIGFuZCBpdCdsbFxuICAgICAgICAgKiBvbmx5IGJlIGNhbGxlZCBvbmNlLlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuQXBwbGljYXRpb24jcXVldWVSZXNpemVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVldWVSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLl9yZXNpemVUbykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmNhbmNlbFJlc2l6ZSgpO1xuICAgICAgICAgICAgLy8gLy8gVGhyb3R0bGUgcmVzaXplIGV2ZW50cyBwZXIgcmFmXG4gICAgICAgICAgICBfdGhpcy5fcmVzaXplSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucmVzaXplKCk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FuY2VsIHRoZSByZXNpemUgcXVldWUuXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNjYW5jZWxSZXNpemVcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FuY2VsUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLl9yZXNpemVJZCkge1xuICAgICAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKF90aGlzLl9yZXNpemVJZCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3Jlc2l6ZUlkID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4ZWN1dGUgYW4gaW1tZWRpYXRlIHJlc2l6ZSBvbiB0aGUgcmVuZGVyZXIsIHRoaXMgaXMgbm90XG4gICAgICAgICAqIHRocm90dGxlZCBhbmQgY2FuIGJlIGV4cGVuc2l2ZSB0byBjYWxsIG1hbnkgdGltZXMgaW4gYSByb3cuXG4gICAgICAgICAqIFdpbGwgcmVzaXplIG9ubHkgaWYgYHJlc2l6ZVRvYCBwcm9wZXJ0eSBpcyBzZXQuXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNyZXNpemVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5fcmVzaXplVG8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjbGVhciBxdWV1ZSByZXNpemVcbiAgICAgICAgICAgIF90aGlzLmNhbmNlbFJlc2l6ZSgpO1xuICAgICAgICAgICAgdmFyIHdpZHRoO1xuICAgICAgICAgICAgdmFyIGhlaWdodDtcbiAgICAgICAgICAgIC8vIFJlc2l6ZSB0byB0aGUgd2luZG93XG4gICAgICAgICAgICBpZiAoX3RoaXMuX3Jlc2l6ZVRvID09PSB3aW5kb3cpIHtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlc2l6ZSB0byBvdGhlciBIVE1MIGVudGl0aWVzXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5fcmVzaXplVG8sIGNsaWVudFdpZHRoID0gX2EuY2xpZW50V2lkdGgsIGNsaWVudEhlaWdodCA9IF9hLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IGNsaWVudFdpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IGNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnJlbmRlcmVyLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gT24gcmVzaXplXG4gICAgICAgIHRoaXMuX3Jlc2l6ZUlkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVzaXplVG8gPSBudWxsO1xuICAgICAgICB0aGlzLnJlc2l6ZVRvID0gb3B0aW9ucy5yZXNpemVUbyB8fCBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAgdGhlIHRpY2tlciwgc2NvcGVkIHRvIGFwcGxpY2F0aW9uXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUmVzaXplUGx1Z2luLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsUmVzaXplKCk7XG4gICAgICAgIHRoaXMuY2FuY2VsUmVzaXplID0gbnVsbDtcbiAgICAgICAgdGhpcy5xdWV1ZVJlc2l6ZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzaXplVG8gPSBudWxsO1xuICAgICAgICB0aGlzLnJlc2l6ZSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzaXplUGx1Z2luO1xufSgpKTtcblxuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oUmVzaXplUGx1Z2luKTtcblxuZXhwb3J0IHsgQXBwbGljYXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZXh0cmFjdCAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9leHRyYWN0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQ2FudmFzUmVuZGVyVGFyZ2V0IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBSZW5kZXJUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbnZhciBURU1QX1JFQ1QgPSBuZXcgUmVjdGFuZ2xlKCk7XG52YXIgQllURVNfUEVSX1BJWEVMID0gNDtcbi8qKlxuICogVGhpcyBjbGFzcyBwcm92aWRlcyByZW5kZXJlci1zcGVjaWZpYyBwbHVnaW5zIGZvciBleHBvcnRpbmcgY29udGVudCBmcm9tIGEgcmVuZGVyZXIuXG4gKiBGb3IgaW5zdGFuY2UsIHRoZXNlIHBsdWdpbnMgY2FuIGJlIHVzZWQgZm9yIHNhdmluZyBhbiBJbWFnZSwgQ2FudmFzIGVsZW1lbnQgb3IgZm9yIGV4cG9ydGluZyB0aGUgcmF3IGltYWdlIGRhdGEgKHBpeGVscykuXG4gKlxuICogRG8gbm90IGluc3RhbnRpYXRlIHRoZXNlIHBsdWdpbnMgZGlyZWN0bHkuIEl0IGlzIGF2YWlsYWJsZSBmcm9tIHRoZSBgcmVuZGVyZXIucGx1Z2luc2AgcHJvcGVydHkuXG4gKiBTZWUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXIjcGx1Z2luc30gb3Ige0BsaW5rIFBJWEkuUmVuZGVyZXIjcGx1Z2luc30uXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgbmV3IGFwcCAod2lsbCBhdXRvLWFkZCBleHRyYWN0IHBsdWdpbiB0byByZW5kZXJlcilcbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKlxuICogLy8gRHJhdyBhIHJlZCBjaXJjbGVcbiAqIGNvbnN0IGdyYXBoaWNzID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICogICAgIC5iZWdpbkZpbGwoMHhGRjAwMDApXG4gKiAgICAgLmRyYXdDaXJjbGUoMCwgMCwgNTApO1xuICpcbiAqIC8vIFJlbmRlciB0aGUgZ3JhcGhpY3MgYXMgYW4gSFRNTEltYWdlRWxlbWVudFxuICogY29uc3QgaW1hZ2UgPSBhcHAucmVuZGVyZXIucGx1Z2lucy5leHRyYWN0LmltYWdlKGdyYXBoaWNzKTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRXh0cmFjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFeHRyYWN0KHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgbWV0aG9kcyBmb3IgZXh0cmFjdGluZyBkYXRhIChpbWFnZSwgcGl4ZWxzLCBldGMuKSBmcm9tIGEgZGlzcGxheSBvYmplY3Qgb3IgcmVuZGVyIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5FeHRyYWN0fSBleHRyYWN0XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgKiBAc2VlIFBJWEkuRXh0cmFjdFxuICAgICAgICAgKi9cbiAgICAgICAgcmVuZGVyZXIuZXh0cmFjdCA9IHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGEgSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gLSBJbWFnZSBmb3JtYXQsIGUuZy4gXCJpbWFnZS9qcGVnXCIgb3IgXCJpbWFnZS93ZWJwXCIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtxdWFsaXR5XSAtIEpQRUcgb3IgV2VicCBjb21wcmVzc2lvbiBmcm9tIDAgdG8gMS4gRGVmYXVsdCBpcyAwLjkyLlxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgICAqL1xuICAgIEV4dHJhY3QucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24gKHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KSB7XG4gICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWFnZS5zcmMgPSB0aGlzLmJhc2U2NCh0YXJnZXQsIGZvcm1hdCwgcXVhbGl0eSk7XG4gICAgICAgIHJldHVybiBpbWFnZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGEgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhpcyB0YXJnZXQuIEl0IHdvcmtzIGJ5IGNhbGxpbmdcbiAgICAgKiAgYEV4dHJhY3QuZ2V0Q2FudmFzYCBhbmQgdGhlbiBydW5uaW5nIHRvRGF0YVVSTCBvbiB0aGF0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXRdIC0gSW1hZ2UgZm9ybWF0LCBlLmcuIFwiaW1hZ2UvanBlZ1wiIG9yIFwiaW1hZ2Uvd2VicFwiLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcXVhbGl0eV0gLSBKUEVHIG9yIFdlYnAgY29tcHJlc3Npb24gZnJvbSAwIHRvIDEuIERlZmF1bHQgaXMgMC45Mi5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqL1xuICAgIEV4dHJhY3QucHJvdG90eXBlLmJhc2U2NCA9IGZ1bmN0aW9uICh0YXJnZXQsIGZvcm1hdCwgcXVhbGl0eSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXModGFyZ2V0KS50b0RhdGFVUkwoZm9ybWF0LCBxdWFsaXR5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCwgcmVuZGVycyB0aGlzIHRhcmdldCB0byBpdCBhbmQgdGhlbiByZXR1cm5zIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEEgQ2FudmFzIGVsZW1lbnQgd2l0aCB0aGUgdGV4dHVyZSByZW5kZXJlZCBvbi5cbiAgICAgKi9cbiAgICBFeHRyYWN0LnByb3RvdHlwZS5jYW52YXMgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgZnJhbWU7XG4gICAgICAgIHZhciBmbGlwWSA9IGZhbHNlO1xuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZTtcbiAgICAgICAgdmFyIGdlbmVyYXRlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgUmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0YXJnZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGhpcy5yZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgZnJhbWUgPSByZW5kZXJUZXh0dXJlLmZyYW1lO1xuICAgICAgICAgICAgZmxpcFkgPSBmYWxzZTtcbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChyZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBmbGlwWSA9IHRydWU7XG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aDtcbiAgICAgICAgICAgIGZyYW1lLmhlaWdodCA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0O1xuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGguZmxvb3IoKGZyYW1lLndpZHRoICogcmVzb2x1dGlvbikgKyAxZS00KTtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGguZmxvb3IoKGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb24pICsgMWUtNCk7XG4gICAgICAgIHZhciBjYW52YXNCdWZmZXIgPSBuZXcgQ2FudmFzUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQsIDEpO1xuICAgICAgICB2YXIgd2ViZ2xQaXhlbHMgPSBuZXcgVWludDhBcnJheShCWVRFU19QRVJfUElYRUwgKiB3aWR0aCAqIGhlaWdodCk7XG4gICAgICAgIC8vIHJlYWQgcGl4ZWxzIHRvIHRoZSBhcnJheVxuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgZ2wucmVhZFBpeGVscyhmcmFtZS54ICogcmVzb2x1dGlvbiwgZnJhbWUueSAqIHJlc29sdXRpb24sIHdpZHRoLCBoZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHdlYmdsUGl4ZWxzKTtcbiAgICAgICAgLy8gYWRkIHRoZSBwaXhlbHMgdG8gdGhlIGNhbnZhc1xuICAgICAgICB2YXIgY2FudmFzRGF0YSA9IGNhbnZhc0J1ZmZlci5jb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgRXh0cmFjdC5hcnJheVBvc3REaXZpZGUod2ViZ2xQaXhlbHMsIGNhbnZhc0RhdGEuZGF0YSk7XG4gICAgICAgIGNhbnZhc0J1ZmZlci5jb250ZXh0LnB1dEltYWdlRGF0YShjYW52YXNEYXRhLCAwLCAwKTtcbiAgICAgICAgLy8gcHVsbGluZyBwaXhlbHNcbiAgICAgICAgaWYgKGZsaXBZKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0XzEgPSBuZXcgQ2FudmFzUmVuZGVyVGFyZ2V0KGNhbnZhc0J1ZmZlci53aWR0aCwgY2FudmFzQnVmZmVyLmhlaWdodCwgMSk7XG4gICAgICAgICAgICB0YXJnZXRfMS5jb250ZXh0LnNjYWxlKDEsIC0xKTtcbiAgICAgICAgICAgIC8vIHdlIGNhbid0IHJlbmRlciB0byBpdHNlbGYgYmVjYXVzZSB3ZSBzaG91bGQgYmUgZW1wdHkgYmVmb3JlIHJlbmRlci5cbiAgICAgICAgICAgIHRhcmdldF8xLmNvbnRleHQuZHJhd0ltYWdlKGNhbnZhc0J1ZmZlci5jYW52YXMsIDAsIC1oZWlnaHQpO1xuICAgICAgICAgICAgY2FudmFzQnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGNhbnZhc0J1ZmZlciA9IHRhcmdldF8xO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnZW5lcmF0ZWQpIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZW5kIHRoZSBjYW52YXMgYmFjay4uXG4gICAgICAgIHJldHVybiBjYW52YXNCdWZmZXIuY2FudmFzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBvbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmUgaW4gUkdCQVxuICAgICAqIG9yZGVyLCB3aXRoIGludGVnZXIgdmFsdWVzIGJldHdlZW4gMCBhbmQgMjU1IChpbmNsdWRlZCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtVaW50OEFycmF5fSBPbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmVcbiAgICAgKi9cbiAgICBFeHRyYWN0LnByb3RvdHlwZS5waXhlbHMgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgZnJhbWU7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlO1xuICAgICAgICB2YXIgZ2VuZXJhdGVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBSZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgICAgICAvLyBiaW5kIHRoZSBidWZmZXJcbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChyZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgZnJhbWUgPSBURU1QX1JFQ1Q7XG4gICAgICAgICAgICBmcmFtZS53aWR0aCA9IHJlbmRlcmVyLndpZHRoO1xuICAgICAgICAgICAgZnJhbWUuaGVpZ2h0ID0gcmVuZGVyZXIuaGVpZ2h0O1xuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3aWR0aCA9IGZyYW1lLndpZHRoICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGhlaWdodCA9IGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciB3ZWJnbFBpeGVscyA9IG5ldyBVaW50OEFycmF5KEJZVEVTX1BFUl9QSVhFTCAqIHdpZHRoICogaGVpZ2h0KTtcbiAgICAgICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBnbC5yZWFkUGl4ZWxzKGZyYW1lLnggKiByZXNvbHV0aW9uLCBmcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgd2ViZ2xQaXhlbHMpO1xuICAgICAgICBpZiAoZ2VuZXJhdGVkKSB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgRXh0cmFjdC5hcnJheVBvc3REaXZpZGUod2ViZ2xQaXhlbHMsIHdlYmdsUGl4ZWxzKTtcbiAgICAgICAgcmV0dXJuIHdlYmdsUGl4ZWxzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGV4dHJhY3RcbiAgICAgKlxuICAgICAqL1xuICAgIEV4dHJhY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZXh0cmFjdCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGFrZXMgcHJlbXVsdGlwbGllZCBwaXhlbCBkYXRhIGFuZCBwcm9kdWNlcyByZWd1bGFyIHBpeGVsIGRhdGFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHBpeGVscyB7bnVtYmVyW10gfCBVaW50OEFycmF5IHwgVWludDhDbGFtcGVkQXJyYXl9IGFycmF5IG9mIHBpeGVsIGRhdGFcbiAgICAgKiBAcGFyYW0gb3V0IHtudW1iZXJbXSB8IFVpbnQ4QXJyYXkgfCBVaW50OENsYW1wZWRBcnJheX0gb3V0cHV0IGFycmF5XG4gICAgICovXG4gICAgRXh0cmFjdC5hcnJheVBvc3REaXZpZGUgPSBmdW5jdGlvbiAocGl4ZWxzLCBvdXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaXhlbHMubGVuZ3RoOyBpICs9IDQpIHtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IG91dFtpICsgM10gPSBwaXhlbHNbaSArIDNdO1xuICAgICAgICAgICAgaWYgKGFscGhhICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgb3V0W2ldID0gTWF0aC5yb3VuZChNYXRoLm1pbihwaXhlbHNbaV0gKiAyNTUuMCAvIGFscGhhLCAyNTUuMCkpO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMV0gPSBNYXRoLnJvdW5kKE1hdGgubWluKHBpeGVsc1tpICsgMV0gKiAyNTUuMCAvIGFscGhhLCAyNTUuMCkpO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMl0gPSBNYXRoLnJvdW5kKE1hdGgubWluKHBpeGVsc1tpICsgMl0gKiAyNTUuMCAvIGFscGhhLCAyNTUuMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0W2ldID0gcGl4ZWxzW2ldO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMV0gPSBwaXhlbHNbaSArIDFdO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMl0gPSBwaXhlbHNbaSArIDJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRXh0cmFjdDtcbn0oKSk7XG5cbmV4cG9ydCB7IEV4dHJhY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4dHJhY3QuZXMuanMubWFwXG4iLCIvKiFcbiAqIHJlc291cmNlLWxvYWRlciAtIHYzLjAuMVxuICogaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLXNvdW5kXG4gKiBDb21waWxlZCBUdWUsIDAyIEp1bCAyMDE5IDE0OjA2OjE4IFVUQ1xuICpcbiAqIHJlc291cmNlLWxvYWRlciBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCBwYXJzZVVyaSBmcm9tICdwYXJzZS11cmknO1xuaW1wb3J0IFNpZ25hbCBmcm9tICdtaW5pLXNpZ25hbHMnO1xuXG4vKipcbiAqIFNtYWxsZXIgdmVyc2lvbiBvZiB0aGUgYXN5bmMgbGlicmFyeSBjb25zdHJ1Y3RzLlxuICpcbiAqIEBuYW1lc3BhY2UgYXN5bmNcbiAqL1xuXG4vKipcbiAqIE5vb3AgZnVuY3Rpb25cbiAqXG4gKiBAaWdub3JlXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBhc3luY1xuICovXG5mdW5jdGlvbiBfbm9vcCgpIHt9XG4vKiBlbXB0eSAqL1xuXG4vKipcbiAqIEl0ZXJhdGVzIGFuIGFycmF5IGluIHNlcmllcy5cbiAqXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBmdW5jdGlvbiBlYWNoU2VyaWVzXG4gKiBAcGFyYW0ge0FycmF5LjwqPn0gYXJyYXkgLSBBcnJheSB0byBpdGVyYXRlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gaXRlcmF0b3IgLSBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBkb25lLCBvciBvbiBlcnJvci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZmVyTmV4dD1mYWxzZV0gLSBCcmVhayBzeW5jaHJvbm91cyBlYWNoIGxvb3AgYnkgY2FsbGluZyBuZXh0IHdpdGggYSBzZXRUaW1lb3V0IG9mIDEuXG4gKi9cblxuXG5mdW5jdGlvbiBlYWNoU2VyaWVzKGFycmF5LCBpdGVyYXRvciwgY2FsbGJhY2ssIGRlZmVyTmV4dCkge1xuICB2YXIgaSA9IDA7XG4gIHZhciBsZW4gPSBhcnJheS5sZW5ndGg7XG5cbiAgKGZ1bmN0aW9uIG5leHQoZXJyKSB7XG4gICAgaWYgKGVyciB8fCBpID09PSBsZW4pIHtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRlZmVyTmV4dCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGl0ZXJhdG9yKGFycmF5W2krK10sIG5leHQpO1xuICAgICAgfSwgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJhdG9yKGFycmF5W2krK10sIG5leHQpO1xuICAgIH1cbiAgfSkoKTtcbn1cbi8qKlxuICogRW5zdXJlcyBhIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkIG9uY2UuXG4gKlxuICogQGlnbm9yZVxuICogQG1lbWJlcm9mIGFzeW5jXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHJldHVybiB7ZnVuY3Rpb259IFRoZSB3cmFwcGluZyBmdW5jdGlvbi5cbiAqL1xuXG5mdW5jdGlvbiBvbmx5T25jZShmbikge1xuICByZXR1cm4gZnVuY3Rpb24gb25jZVdyYXBwZXIoKSB7XG4gICAgaWYgKGZuID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxiYWNrIHdhcyBhbHJlYWR5IGNhbGxlZC4nKTtcbiAgICB9XG5cbiAgICB2YXIgY2FsbEZuID0gZm47XG4gICAgZm4gPSBudWxsO1xuICAgIGNhbGxGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuLyoqXG4gKiBBc3luYyBxdWV1ZSBpbXBsZW1lbnRhdGlvbixcbiAqXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBmdW5jdGlvbiBxdWV1ZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gd29ya2VyIC0gVGhlIHdvcmtlciBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHRhc2suXG4gKiBAcGFyYW0ge251bWJlcn0gY29uY3VycmVuY3kgLSBIb3cgbWFueSB3b3JrZXJzIHRvIHJ1biBpbiBwYXJyYWxsZWwuXG4gKiBAcmV0dXJuIHsqfSBUaGUgYXN5bmMgcXVldWUgb2JqZWN0LlxuICovXG5cblxuZnVuY3Rpb24gcXVldWUod29ya2VyLCBjb25jdXJyZW5jeSkge1xuICBpZiAoY29uY3VycmVuY3kgPT0gbnVsbCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICBjb25jdXJyZW5jeSA9IDE7XG4gIH0gZWxzZSBpZiAoY29uY3VycmVuY3kgPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbmN1cnJlbmN5IG11c3Qgbm90IGJlIHplcm8nKTtcbiAgfVxuXG4gIHZhciB3b3JrZXJzID0gMDtcbiAgdmFyIHEgPSB7XG4gICAgX3Rhc2tzOiBbXSxcbiAgICBjb25jdXJyZW5jeTogY29uY3VycmVuY3ksXG4gICAgc2F0dXJhdGVkOiBfbm9vcCxcbiAgICB1bnNhdHVyYXRlZDogX25vb3AsXG4gICAgYnVmZmVyOiBjb25jdXJyZW5jeSAvIDQsXG4gICAgZW1wdHk6IF9ub29wLFxuICAgIGRyYWluOiBfbm9vcCxcbiAgICBlcnJvcjogX25vb3AsXG4gICAgc3RhcnRlZDogZmFsc2UsXG4gICAgcGF1c2VkOiBmYWxzZSxcbiAgICBwdXNoOiBmdW5jdGlvbiBwdXNoKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICBfaW5zZXJ0KGRhdGEsIGZhbHNlLCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBraWxsOiBmdW5jdGlvbiBraWxsKCkge1xuICAgICAgd29ya2VycyA9IDA7XG4gICAgICBxLmRyYWluID0gX25vb3A7XG4gICAgICBxLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIHEuX3Rhc2tzID0gW107XG4gICAgfSxcbiAgICB1bnNoaWZ0OiBmdW5jdGlvbiB1bnNoaWZ0KGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICBfaW5zZXJ0KGRhdGEsIHRydWUsIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uIHByb2Nlc3MoKSB7XG4gICAgICB3aGlsZSAoIXEucGF1c2VkICYmIHdvcmtlcnMgPCBxLmNvbmN1cnJlbmN5ICYmIHEuX3Rhc2tzLmxlbmd0aCkge1xuICAgICAgICB2YXIgdGFzayA9IHEuX3Rhc2tzLnNoaWZ0KCk7XG5cbiAgICAgICAgaWYgKHEuX3Rhc2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHEuZW1wdHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdvcmtlcnMgKz0gMTtcblxuICAgICAgICBpZiAod29ya2VycyA9PT0gcS5jb25jdXJyZW5jeSkge1xuICAgICAgICAgIHEuc2F0dXJhdGVkKCk7XG4gICAgICAgIH1cblxuICAgICAgICB3b3JrZXIodGFzay5kYXRhLCBvbmx5T25jZShfbmV4dCh0YXNrKSkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgbGVuZ3RoOiBmdW5jdGlvbiBsZW5ndGgoKSB7XG4gICAgICByZXR1cm4gcS5fdGFza3MubGVuZ3RoO1xuICAgIH0sXG4gICAgcnVubmluZzogZnVuY3Rpb24gcnVubmluZygpIHtcbiAgICAgIHJldHVybiB3b3JrZXJzO1xuICAgIH0sXG4gICAgaWRsZTogZnVuY3Rpb24gaWRsZSgpIHtcbiAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGggKyB3b3JrZXJzID09PSAwO1xuICAgIH0sXG4gICAgcGF1c2U6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgaWYgKHEucGF1c2VkID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcS5wYXVzZWQgPSB0cnVlO1xuICAgIH0sXG4gICAgcmVzdW1lOiBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgICBpZiAocS5wYXVzZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcS5wYXVzZWQgPSBmYWxzZTsgLy8gTmVlZCB0byBjYWxsIHEucHJvY2VzcyBvbmNlIHBlciBjb25jdXJyZW50XG4gICAgICAvLyB3b3JrZXIgdG8gcHJlc2VydmUgZnVsbCBjb25jdXJyZW5jeSBhZnRlciBwYXVzZVxuXG4gICAgICBmb3IgKHZhciB3ID0gMTsgdyA8PSBxLmNvbmN1cnJlbmN5OyB3KyspIHtcbiAgICAgICAgcS5wcm9jZXNzKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIF9pbnNlcnQoZGF0YSwgaW5zZXJ0QXRGcm9udCwgY2FsbGJhY2spIHtcbiAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgIHRocm93IG5ldyBFcnJvcigndGFzayBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICBxLnN0YXJ0ZWQgPSB0cnVlO1xuXG4gICAgaWYgKGRhdGEgPT0gbnVsbCAmJiBxLmlkbGUoKSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgLy8gY2FsbCBkcmFpbiBpbW1lZGlhdGVseSBpZiB0aGVyZSBhcmUgbm8gdGFza3NcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcS5kcmFpbigpO1xuICAgICAgfSwgMSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGl0ZW0gPSB7XG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgY2FsbGJhY2s6IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyA/IGNhbGxiYWNrIDogX25vb3BcbiAgICB9O1xuXG4gICAgaWYgKGluc2VydEF0RnJvbnQpIHtcbiAgICAgIHEuX3Rhc2tzLnVuc2hpZnQoaXRlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHEuX3Rhc2tzLnB1c2goaXRlbSk7XG4gICAgfVxuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcS5wcm9jZXNzKCk7XG4gICAgfSwgMSk7XG4gIH1cblxuICBmdW5jdGlvbiBfbmV4dCh0YXNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3b3JrZXJzIC09IDE7XG4gICAgICB0YXNrLmNhbGxiYWNrLmFwcGx5KHRhc2ssIGFyZ3VtZW50cyk7XG5cbiAgICAgIGlmIChhcmd1bWVudHNbMF0gIT0gbnVsbCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgIHEuZXJyb3IoYXJndW1lbnRzWzBdLCB0YXNrLmRhdGEpO1xuICAgICAgfVxuXG4gICAgICBpZiAod29ya2VycyA8PSBxLmNvbmN1cnJlbmN5IC0gcS5idWZmZXIpIHtcbiAgICAgICAgcS51bnNhdHVyYXRlZCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAocS5pZGxlKCkpIHtcbiAgICAgICAgcS5kcmFpbigpO1xuICAgICAgfVxuXG4gICAgICBxLnByb2Nlc3MoKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHE7XG59XG5cbnZhciBhc3luYyA9ICh7XG4gICAgZWFjaFNlcmllczogZWFjaFNlcmllcyxcbiAgICBxdWV1ZTogcXVldWVcbn0pO1xuXG4vLyBhIHNpbXBsZSBpbi1tZW1vcnkgY2FjaGUgZm9yIHJlc291cmNlc1xudmFyIGNhY2hlID0ge307XG4vKipcbiAqIEEgc2ltcGxlIGluLW1lbW9yeSBjYWNoZSBmb3IgcmVzb3VyY2UuXG4gKlxuICogQG1lbWJlcm9mIG1pZGRsZXdhcmVcbiAqIEBmdW5jdGlvbiBjYWNoaW5nXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgTG9hZGVyLCBtaWRkbGV3YXJlIH0gZnJvbSAncmVzb3VyY2UtbG9hZGVyJztcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAqIGxvYWRlci51c2UobWlkZGxld2FyZS5jYWNoaW5nKTtcbiAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gQ3VycmVudCBSZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dCAtIENhbGxiYWNrIHdoZW4gY29tcGxldGVcbiAqL1xuXG5mdW5jdGlvbiBjYWNoaW5nKHJlc291cmNlLCBuZXh0KSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgLy8gaWYgY2FjaGVkLCB0aGVuIHNldCBkYXRhIGFuZCBjb21wbGV0ZSB0aGUgcmVzb3VyY2VcbiAgaWYgKGNhY2hlW3Jlc291cmNlLnVybF0pIHtcbiAgICByZXNvdXJjZS5kYXRhID0gY2FjaGVbcmVzb3VyY2UudXJsXTtcbiAgICByZXNvdXJjZS5jb21wbGV0ZSgpOyAvLyBtYXJrcyByZXNvdXJjZSBsb2FkIGNvbXBsZXRlIGFuZCBzdG9wcyBwcm9jZXNzaW5nIGJlZm9yZSBtaWRkbGV3YXJlc1xuICB9IC8vIGlmIG5vdCBjYWNoZWQsIHdhaXQgZm9yIGNvbXBsZXRlIGFuZCBzdG9yZSBpdCBpbiB0aGUgY2FjaGUuXG4gIGVsc2Uge1xuICAgICAgcmVzb3VyY2Uub25Db21wbGV0ZS5vbmNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlW190aGlzLnVybF0gPSBfdGhpcy5kYXRhO1xuICAgICAgfSk7XG4gICAgfVxuXG4gIG5leHQoKTtcbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG52YXIgdXNlWGRyID0gISEod2luZG93LlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KCkpKTtcbnZhciB0ZW1wQW5jaG9yID0gbnVsbDsgLy8gc29tZSBzdGF0dXMgY29uc3RhbnRzXG5cbnZhciBTVEFUVVNfTk9ORSA9IDA7XG52YXIgU1RBVFVTX09LID0gMjAwO1xudmFyIFNUQVRVU19FTVBUWSA9IDIwNDtcbnZhciBTVEFUVVNfSUVfQlVHX0VNUFRZID0gMTIyMztcbnZhciBTVEFUVVNfVFlQRV9PSyA9IDI7IC8vIG5vb3BcblxuZnVuY3Rpb24gX25vb3AkMSgpIHt9XG4vKiBlbXB0eSAqL1xuXG4vKipcbiAqIE1hbmFnZXMgdGhlIHN0YXRlIGFuZCBsb2FkaW5nIG9mIGEgcmVzb3VyY2UgYW5kIGFsbCBjaGlsZCByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKi9cblxuXG52YXIgUmVzb3VyY2UgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLkxPQURfVFlQRX0gbG9hZFR5cGUgLSBUaGUgbG9hZCB0eXBlIHRvIHNldCBpdCB0by5cbiAgICovXG4gIFJlc291cmNlLnNldEV4dGVuc2lvbkxvYWRUeXBlID0gZnVuY3Rpb24gc2V0RXh0ZW5zaW9uTG9hZFR5cGUoZXh0bmFtZSwgbG9hZFR5cGUpIHtcbiAgICBzZXRFeHRNYXAoUmVzb3VyY2UuX2xvYWRUeXBlTWFwLCBleHRuYW1lLCBsb2FkVHlwZSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxvYWQgdHlwZSB0byBiZSB1c2VkIGZvciBhIHNwZWNpZmljIGV4dGVuc2lvbi5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gdG8gc2V0IHRoZSB0eXBlIGZvciwgZS5nLiBcInBuZ1wiIG9yIFwiZm50XCJcbiAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0geGhyVHlwZSAtIFRoZSB4aHIgdHlwZSB0byBzZXQgaXQgdG8uXG4gICAqL1xuICA7XG5cbiAgUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSA9IGZ1bmN0aW9uIHNldEV4dGVuc2lvblhoclR5cGUoZXh0bmFtZSwgeGhyVHlwZSkge1xuICAgIHNldEV4dE1hcChSZXNvdXJjZS5feGhyVHlwZU1hcCwgZXh0bmFtZSwgeGhyVHlwZSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCBmb3IgYXVkaW8vdmlkZW8gbG9hZHMgeW91IGNhbiBwYXNzXG4gICAqICAgICAgYW4gYXJyYXkgb2Ygc291cmNlcy5cbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgICogQHBhcmFtIHtzdHJpbmd8Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0b1xuICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudGltZW91dD0wXSAtIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSBsb2FkLiBJZiB0aGUgbG9hZCB0YWtlc1xuICAgKiAgICAgIGxvbmdlciB0aGFuIHRoaXMgdGltZSBpdCBpcyBjYW5jZWxsZWQgYW5kIHRoZSBsb2FkIGlzIGNvbnNpZGVyZWQgYSBmYWlsdXJlLiBJZiB0aGlzIHZhbHVlIGlzXG4gICAqICAgICAgc2V0IHRvIGAwYCB0aGVuIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHRpbWVvdXQuXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBbb3B0aW9ucy5sb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgKiAgICAgIGJlIGxvYWRlZD9cbiAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gW29wdGlvbnMueGhyVHlwZT1SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUXSAtIEhvd1xuICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuSU1ldGFkYXRhfSBbb3B0aW9ucy5tZXRhZGF0YV0gLSBFeHRyYSBjb25maWd1cmF0aW9uIGZvciBtaWRkbGV3YXJlIGFuZCB0aGUgUmVzb3VyY2Ugb2JqZWN0LlxuICAgKi9cbiAgO1xuXG4gIGZ1bmN0aW9uIFJlc291cmNlKG5hbWUsIHVybCwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQm90aCBuYW1lIGFuZCB1cmwgYXJlIHJlcXVpcmVkIGZvciBjb25zdHJ1Y3RpbmcgYSByZXNvdXJjZS4nKTtcbiAgICB9XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdGUgZmxhZ3Mgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5fZmxhZ3MgPSAwOyAvLyBzZXQgZGF0YSB1cmwgZmxhZywgbmVlZHMgdG8gYmUgc2V0IGVhcmx5IGZvciBzb21lIF9kZXRlcm1pbmVYIGNoZWNrcyB0byB3b3JrLlxuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwsIHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKTtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG5cbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIC8qKlxuICAgICAqIFRoZSB1cmwgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICAvKipcbiAgICAgKiBUaGUgZXh0ZW5zaW9uIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG4gICAgdGhpcy5leHRlbnNpb24gPSB0aGlzLl9nZXRFeHRlbnNpb24oKTtcbiAgICAvKipcbiAgICAgKiBUaGUgZGF0YSB0aGF0IHdhcyBsb2FkZWQgYnkgdGhlIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7YW55fVxuICAgICAqL1xuXG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBJcyB0aGlzIHJlcXVlc3QgY3Jvc3Mtb3JpZ2luPyBJZiB1bnNldCwgZGV0ZXJtaW5lZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG4gICAgdGhpcy5jcm9zc09yaWdpbiA9IG9wdGlvbnMuY3Jvc3NPcmlnaW4gPT09IHRydWUgPyAnYW5vbnltb3VzJyA6IG9wdGlvbnMuY3Jvc3NPcmlnaW47XG4gICAgLyoqXG4gICAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzIGxvbmdlciB0aGFuIHRoaXMgdGltZVxuICAgICAqIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXMgc2V0IHRvIGAwYFxuICAgICAqIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuICAgIHRoaXMudGltZW91dCA9IG9wdGlvbnMudGltZW91dCB8fCAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBtZXRob2Qgb2YgbG9hZGluZyB0byB1c2UgZm9yIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5MT0FEX1RZUEV9XG4gICAgICovXG5cbiAgICB0aGlzLmxvYWRUeXBlID0gb3B0aW9ucy5sb2FkVHlwZSB8fCB0aGlzLl9kZXRlcm1pbmVMb2FkVHlwZSgpO1xuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIHVzZWQgdG8gbG9hZCB0aGUgcmVzb3VyY2UgdmlhIFhIUi4gSWYgdW5zZXQsIGRldGVybWluZWQgYXV0b21hdGljYWxseS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cblxuICAgIHRoaXMueGhyVHlwZSA9IG9wdGlvbnMueGhyVHlwZTtcbiAgICAvKipcbiAgICAgKiBFeHRyYSBpbmZvIGZvciBtaWRkbGV3YXJlLCBhbmQgY29udHJvbGxpbmcgc3BlY2lmaWNzIGFib3V0IGhvdyB0aGUgcmVzb3VyY2UgbG9hZHMuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgaWYgeW91IHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgLCB0aGUgUmVzb3VyY2UgY2xhc3MgdGFrZXMgb3duZXJzaGlwIG9mIGl0LlxuICAgICAqIE1lYW5pbmcgaXQgd2lsbCBtb2RpZnkgaXQgYXMgaXQgc2VlcyBmaXQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5JTWV0YWRhdGF9XG4gICAgICovXG5cbiAgICB0aGlzLm1ldGFkYXRhID0gb3B0aW9ucy5tZXRhZGF0YSB8fCB7fTtcbiAgICAvKipcbiAgICAgKiBUaGUgZXJyb3IgdGhhdCBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nIChpZiBhbnkpLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7RXJyb3J9XG4gICAgICovXG5cbiAgICB0aGlzLmVycm9yID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgWEhSIG9iamVjdCB0aGF0IHdhcyB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS4gVGhpcyBpcyBvbmx5IHNldFxuICAgICAqIHdoZW4gYGxvYWRUeXBlYCBpcyBgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUmAuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtYTUxIdHRwUmVxdWVzdH1cbiAgICAgKi9cblxuICAgIHRoaXMueGhyID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgY2hpbGQgcmVzb3VyY2VzIHRoaXMgcmVzb3VyY2Ugb3ducy5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICovXG5cbiAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIHJlc291cmNlIHR5cGUuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5UWVBFfVxuICAgICAqL1xuXG4gICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5VTktOT1dOO1xuICAgIC8qKlxuICAgICAqIFRoZSBwcm9ncmVzcyBjaHVuayBvd25lZCBieSB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5wcm9ncmVzc0NodW5rID0gMDtcbiAgICAvKipcbiAgICAgKiBUaGUgYGRlcXVldWVgIG1ldGhvZCB0aGF0IHdpbGwgYmUgdXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBhc3luYyBxdWV1ZSBkZXF1ZXVlIG1ldGhvZFxuICAgICAqIHVzZWQgcHJpdmF0ZWx5IGJ5IHRoZSBsb2FkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fZGVxdWV1ZSA9IF9ub29wJDE7XG4gICAgLyoqXG4gICAgICogVXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBvbiBsb2FkIGJpbmRpbmcgdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICovXG5cbiAgICB0aGlzLl9vbkxvYWRCaW5kaW5nID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgdGltZXIgZm9yIGVsZW1lbnQgbG9hZHMgdG8gY2hlY2sgaWYgdGhleSB0aW1lb3V0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLl9lbGVtZW50VGltZXIgPSAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBgY29tcGxldGVgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kQ29tcGxldGUgPSB0aGlzLmNvbXBsZXRlLmJpbmQodGhpcyk7XG4gICAgLyoqXG4gICAgICogVGhlIGBfb25FcnJvcmAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRPbkVycm9yID0gdGhpcy5fb25FcnJvci5iaW5kKHRoaXMpO1xuICAgIC8qKlxuICAgICAqIFRoZSBgX29uUHJvZ3Jlc3NgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kT25Qcm9ncmVzcyA9IHRoaXMuX29uUHJvZ3Jlc3MuYmluZCh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBUaGUgYF9vblRpbWVvdXRgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kT25UaW1lb3V0ID0gdGhpcy5fb25UaW1lb3V0LmJpbmQodGhpcyk7IC8vIHhociBjYWxsYmFja3NcblxuICAgIHRoaXMuX2JvdW5kWGhyT25FcnJvciA9IHRoaXMuX3hock9uRXJyb3IuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9ib3VuZFhock9uVGltZW91dCA9IHRoaXMuX3hock9uVGltZW91dC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2JvdW5kWGhyT25BYm9ydCA9IHRoaXMuX3hock9uQWJvcnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9ib3VuZFhock9uTG9hZCA9IHRoaXMuX3hock9uTG9hZC5iaW5kKHRoaXMpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgcmVzb3VyY2UgYmVpbmdzIHRvIGxvYWQuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25TdGFydFNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25TdGFydFNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uU3RhcnQgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBlYWNoIHRpbWUgcHJvZ3Jlc3Mgb2YgdGhpcyByZXNvdXJjZSBsb2FkIHVwZGF0ZXMuXG4gICAgICogTm90IGFsbCByZXNvdXJjZXMgdHlwZXMgYW5kIGxvYWRlciBzeXN0ZW1zIGNhbiBzdXBwb3J0IHRoaXMgZXZlbnRcbiAgICAgKiBzbyBzb21ldGltZXMgaXQgbWF5IG5vdCBiZSBhdmFpbGFibGUuIElmIHRoZSByZXNvdXJjZVxuICAgICAqIGlzIGJlaW5nIGxvYWRlZCBvbiBhIG1vZGVybiBicm93c2VyLCB1c2luZyBYSFIsIGFuZCB0aGUgcmVtb3RlIHNlcnZlclxuICAgICAqIHByb3Blcmx5IHNldHMgQ29udGVudC1MZW5ndGggaGVhZGVycywgdGhlbiB0aGlzIHdpbGwgYmUgYXZhaWxhYmxlLlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uUHJvZ3Jlc3NTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPFJlc291cmNlLk9uUHJvZ3Jlc3NTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vblByb2dyZXNzID0gbmV3IFNpZ25hbCgpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgb25jZSB0aGlzIHJlc291cmNlIGhhcyBsb2FkZWQsIGlmIHRoZXJlIHdhcyBhbiBlcnJvciBpdCB3aWxsXG4gICAgICogYmUgaW4gdGhlIGBlcnJvcmAgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uQ29tcGxldGUgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBhZnRlciB0aGlzIHJlc291cmNlIGhhcyBoYWQgYWxsIHRoZSAqYWZ0ZXIqIG1pZGRsZXdhcmUgcnVuIG9uIGl0LlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPFJlc291cmNlLk9uQ29tcGxldGVTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vbkFmdGVyTWlkZGxld2FyZSA9IG5ldyBTaWduYWwoKTtcbiAgfVxuICAvKipcbiAgICogV2hlbiB0aGUgcmVzb3VyY2Ugc3RhcnRzIHRvIGxvYWQuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgKiBAY2FsbGJhY2sgT25TdGFydFNpZ25hbFxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIHJlc291cmNlIHJlcG9ydHMgbG9hZGluZyBwcm9ncmVzcy5cbiAgICpcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEBjYWxsYmFjayBPblByb2dyZXNzU2lnbmFsXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGVyY2VudGFnZSAtIFRoZSBwcm9ncmVzcyBvZiB0aGUgbG9hZCBpbiB0aGUgcmFuZ2UgWzAsIDFdLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiB0aGUgcmVzb3VyY2UgZmluaXNoZXMgbG9hZGluZy5cbiAgICpcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEBjYWxsYmFjayBPbkNvbXBsZXRlU2lnbmFsXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgKi9cblxuICAvKipcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEB0eXBlZGVmIHtvYmplY3R9IElNZXRhZGF0YVxuICAgKiBAcHJvcGVydHkge0hUTUxJbWFnZUVsZW1lbnR8SFRNTEF1ZGlvRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBbbG9hZEVsZW1lbnQ9bnVsbF0gLSBUaGVcbiAgICogICAgICBlbGVtZW50IHRvIHVzZSBmb3IgbG9hZGluZywgaW5zdGVhZCBvZiBjcmVhdGluZyBvbmUuXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3NraXBTb3VyY2U9ZmFsc2VdIC0gU2tpcHMgYWRkaW5nIHNvdXJjZShzKSB0byB0aGUgbG9hZCBlbGVtZW50LiBUaGlzXG4gICAqICAgICAgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgIHRoYXQgeW91IGFscmVhZHkgYWRkZWQgbG9hZCBzb3VyY2VzIHRvLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ3xzdHJpbmdbXX0gW21pbWVUeXBlXSAtIFRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgc291cmNlIGVsZW1lbnRcbiAgICogICAgICBvZiBhIHZpZGVvL2F1ZGlvIGVsbWVudC4gSWYgdGhlIHVybHMgYXJlIGFuIGFycmF5LCB5b3UgY2FuIHBhc3MgdGhpcyBhcyBhbiBhcnJheSBhcyB3ZWxsXG4gICAqICAgICAgd2hlcmUgZWFjaCBpbmRleCBpcyB0aGUgbWltZSB0eXBlIHRvIHVzZSBmb3IgdGhlIGNvcnJlc3BvbmRpbmcgdXJsIGluZGV4LlxuICAgKi9cblxuICAvKipcbiAgICogU3RvcmVzIHdoZXRoZXIgb3Igbm90IHRoaXMgdXJsIGlzIGEgZGF0YSB1cmwuXG4gICAqXG4gICAqIEByZWFkb25seVxuICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBSZXNvdXJjZS5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZS5cbiAgICpcbiAgICovXG4gIF9wcm90by5jb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgIHRoaXMuX2NsZWFyRXZlbnRzKCk7XG5cbiAgICB0aGlzLl9maW5pc2goKTtcbiAgfVxuICAvKipcbiAgICogQWJvcnRzIHRoZSBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UsIHdpdGggYW4gb3B0aW9uYWwgbWVzc2FnZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byB1c2UgZm9yIHRoZSBlcnJvclxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5hYm9ydCA9IGZ1bmN0aW9uIGFib3J0KG1lc3NhZ2UpIHtcbiAgICAvLyBhYm9ydCBjYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLCBpZ25vcmUgc3Vic2VxdWVudCBjYWxscy5cbiAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gc3RvcmUgZXJyb3JcblxuXG4gICAgdGhpcy5lcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTsgLy8gY2xlYXIgZXZlbnRzIGJlZm9yZSBjYWxsaW5nIGFib3J0c1xuXG4gICAgdGhpcy5fY2xlYXJFdmVudHMoKTsgLy8gYWJvcnQgdGhlIGFjdHVhbCBsb2FkaW5nXG5cblxuICAgIGlmICh0aGlzLnhocikge1xuICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMueGRyKSB7XG4gICAgICB0aGlzLnhkci5hYm9ydCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAvLyBzaW5nbGUgc291cmNlXG4gICAgICBpZiAodGhpcy5kYXRhLnNyYykge1xuICAgICAgICB0aGlzLmRhdGEuc3JjID0gUmVzb3VyY2UuRU1QVFlfR0lGO1xuICAgICAgfSAvLyBtdWx0aS1zb3VyY2VcbiAgICAgIGVsc2Uge1xuICAgICAgICAgIHdoaWxlICh0aGlzLmRhdGEuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUNoaWxkKHRoaXMuZGF0YS5maXJzdENoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IC8vIGRvbmUgbm93LlxuXG5cbiAgICB0aGlzLl9maW5pc2goKTtcbiAgfVxuICAvKipcbiAgICogS2lja3Mgb2ZmIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZS4gVGhpcyBtZXRob2QgaXMgYXN5bmNocm9ub3VzLlxuICAgKlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0byBjYWxsIG9uY2UgdGhlIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ubG9hZCA9IGZ1bmN0aW9uIGxvYWQoY2IpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBjYihfdGhpcyk7XG4gICAgICAgIH0sIDEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChjYikge1xuICAgICAgdGhpcy5vbkNvbXBsZXRlLm9uY2UoY2IpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIHRydWUpO1xuXG4gICAgdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMpOyAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuXG4gICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4gPT09IGZhbHNlIHx8IHR5cGVvZiB0aGlzLmNyb3NzT3JpZ2luICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5jcm9zc09yaWdpbiA9IHRoaXMuX2RldGVybWluZUNyb3NzT3JpZ2luKHRoaXMudXJsKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHRoaXMubG9hZFR5cGUpIHtcbiAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFOlxuICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLklNQUdFO1xuXG4gICAgICAgIHRoaXMuX2xvYWRFbGVtZW50KCdpbWFnZScpO1xuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5BVURJTzpcbiAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5BVURJTztcblxuICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgnYXVkaW8nKTtcblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU86XG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVklERU87XG5cbiAgICAgICAgdGhpcy5fbG9hZFNvdXJjZUVsZW1lbnQoJ3ZpZGVvJyk7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUjpcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHVzZVhkciAmJiB0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgdGhpcy5fbG9hZFhkcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2xvYWRYaHIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgZmxhZyB0byBjaGVjay5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZmxhZyBpcyBzZXQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9oYXNGbGFnID0gZnVuY3Rpb24gX2hhc0ZsYWcoZmxhZykge1xuICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiBmbGFnKSAhPT0gMDtcbiAgfVxuICAvKipcbiAgICogKFVuKVNldHMgdGhlIGZsYWcuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gKHVuKXNldC5cbiAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFdoZXRoZXIgdG8gc2V0IG9yICh1bilzZXQgdGhlIGZsYWcuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9zZXRGbGFnID0gZnVuY3Rpb24gX3NldEZsYWcoZmxhZywgdmFsdWUpIHtcbiAgICB0aGlzLl9mbGFncyA9IHZhbHVlID8gdGhpcy5fZmxhZ3MgfCBmbGFnIDogdGhpcy5fZmxhZ3MgJiB+ZmxhZztcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIGFsbCB0aGUgZXZlbnRzIGZyb20gdGhlIHVuZGVybHlpbmcgbG9hZGluZyBzb3VyY2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9jbGVhckV2ZW50cyA9IGZ1bmN0aW9uIF9jbGVhckV2ZW50cygpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fZWxlbWVudFRpbWVyKTtcblxuICAgIGlmICh0aGlzLmRhdGEgJiYgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy54aHIpIHtcbiAgICAgIGlmICh0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RpbWVvdXQnLCB0aGlzLl9ib3VuZFhock9uVGltZW91dCwgZmFsc2UpO1xuICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRYaHJPbkxvYWQsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMueGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLnhoci5vbnRpbWVvdXQgPSBudWxsO1xuICAgICAgICB0aGlzLnhoci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy54aHIub25sb2FkID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEZpbmFsaXplcyB0aGUgbG9hZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2ZpbmlzaCA9IGZ1bmN0aW9uIF9maW5pc2goKSB7XG4gICAgaWYgKHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb21wbGV0ZSBjYWxsZWQgYWdhaW4gZm9yIGFuIGFscmVhZHkgY29tcGxldGVkIHJlc291cmNlLicpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFLCB0cnVlKTtcblxuICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIGZhbHNlKTtcblxuICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gZWxlbWVudCB0aGF0IGhhcyBhIHNpbmdsZSBzb3VyY2UsXG4gICAqIGxpa2UgYW4gSFRNTEltYWdlRWxlbWVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2xvYWRFbGVtZW50ID0gZnVuY3Rpb24gX2xvYWRFbGVtZW50KHR5cGUpIHtcbiAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdpbWFnZScgJiYgdHlwZW9mIHdpbmRvdy5JbWFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5tZXRhZGF0YS5za2lwU291cmNlKSB7XG4gICAgICB0aGlzLmRhdGEuc3JjID0gdGhpcy51cmw7XG4gICAgfVxuXG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG5cbiAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2JvdW5kT25UaW1lb3V0LCB0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gZWxlbWVudCB0aGF0IGhhcyBtdWx0aXBsZSBzb3VyY2VzLFxuICAgKiBsaWtlIGFuIEhUTUxBdWRpb0VsZW1lbnQgb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2xvYWRTb3VyY2VFbGVtZW50ID0gZnVuY3Rpb24gX2xvYWRTb3VyY2VFbGVtZW50KHR5cGUpIHtcbiAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdhdWRpbycgJiYgdHlwZW9mIHdpbmRvdy5BdWRpbyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuZGF0YSA9IG5ldyBBdWRpbygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRhdGEgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuYWJvcnQoXCJVbnN1cHBvcnRlZCBlbGVtZW50OiBcIiArIHR5cGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5tZXRhZGF0YS5za2lwU291cmNlKSB7XG4gICAgICAvLyBzdXBwb3J0IGZvciBDb2Nvb25KUyBDYW52YXMrIHJ1bnRpbWUsIGxhY2tzIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpXG4gICAgICBpZiAobmF2aWdhdG9yLmlzQ29jb29uSlMpIHtcbiAgICAgICAgdGhpcy5kYXRhLnNyYyA9IEFycmF5LmlzQXJyYXkodGhpcy51cmwpID8gdGhpcy51cmxbMF0gOiB0aGlzLnVybDtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnVybCkpIHtcbiAgICAgICAgdmFyIG1pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnVybC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmxbaV0sIEFycmF5LmlzQXJyYXkobWltZVR5cGVzKSA/IG1pbWVUeXBlc1tpXSA6IG1pbWVUeXBlcykpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgX21pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG4gICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmwsIEFycmF5LmlzQXJyYXkoX21pbWVUeXBlcykgPyBfbWltZVR5cGVzWzBdIDogX21pbWVUeXBlcykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICB0aGlzLmRhdGEubG9hZCgpO1xuXG4gICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgdGhpcy5fZWxlbWVudFRpbWVyID0gc2V0VGltZW91dCh0aGlzLl9ib3VuZE9uVGltZW91dCwgdGhpcy50aW1lb3V0KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIFhNTEh0dHBSZXF1ZXN0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFhociA9IGZ1bmN0aW9uIF9sb2FkWGhyKCkge1xuICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgfVxuXG4gICAgdmFyIHhociA9IHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7IC8vIHNldCB0aGUgcmVxdWVzdCB0eXBlIGFuZCB1cmxcblxuICAgIHhoci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7XG4gICAgeGhyLnRpbWVvdXQgPSB0aGlzLnRpbWVvdXQ7IC8vIGxvYWQganNvbiBhcyB0ZXh0IGFuZCBwYXJzZSBpdCBvdXJzZWx2ZXMuIFdlIGRvIHRoaXMgYmVjYXVzZSBzb21lIGJyb3dzZXJzXG4gICAgLy8gKmNvdWdoKiBzYWZhcmkgKmNvdWdoKiBjYW4ndCBkZWFsIHdpdGggaXQuXG5cbiAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OIHx8IHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICAgIH0gZWxzZSB7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gdGhpcy54aHJUeXBlO1xuICAgIH1cblxuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kWGhyT25FcnJvciwgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCd0aW1lb3V0JywgdGhpcy5fYm91bmRYaHJPblRpbWVvdXQsIGZhbHNlKTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCB0aGlzLl9ib3VuZFhock9uQWJvcnQsIGZhbHNlKTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kWGhyT25Mb2FkLCBmYWxzZSk7XG4gICAgeGhyLnNlbmQoKTtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWERvbWFpblJlcXVlc3QuIFRoaXMgaXMgaGVyZSBiZWNhdXNlIHdlIG5lZWQgdG8gc3VwcG9ydCBJRTkgKGdyb3NzKS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2xvYWRYZHIgPSBmdW5jdGlvbiBfbG9hZFhkcigpIHtcbiAgICAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuICAgIGlmICh0eXBlb2YgdGhpcy54aHJUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy54aHJUeXBlID0gdGhpcy5fZGV0ZXJtaW5lWGhyVHlwZSgpO1xuICAgIH1cblxuICAgIHZhciB4ZHIgPSB0aGlzLnhociA9IG5ldyBYRG9tYWluUmVxdWVzdCgpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4gICAgLy8gWERvbWFpblJlcXVlc3QgaGFzIGEgZmV3IHF1aXJrcy4gT2NjYXNpb25hbGx5IGl0IHdpbGwgYWJvcnQgcmVxdWVzdHNcbiAgICAvLyBBIHdheSB0byBhdm9pZCB0aGlzIGlzIHRvIG1ha2Ugc3VyZSBBTEwgY2FsbGJhY2tzIGFyZSBzZXQgZXZlbiBpZiBub3QgdXNlZFxuICAgIC8vIE1vcmUgaW5mbyBoZXJlOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE1Nzg2OTY2L3hkb21haW5yZXF1ZXN0LWFib3J0cy1wb3N0LW9uLWllLTlcblxuICAgIHhkci50aW1lb3V0ID0gdGhpcy50aW1lb3V0IHx8IDUwMDA7IC8vIFhEUiBuZWVkcyBhIHRpbWVvdXQgdmFsdWUgb3IgaXQgYnJlYWtzIGluIElFOVxuXG4gICAgeGRyLm9uZXJyb3IgPSB0aGlzLl9ib3VuZFhock9uRXJyb3I7XG4gICAgeGRyLm9udGltZW91dCA9IHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0O1xuICAgIHhkci5vbnByb2dyZXNzID0gdGhpcy5fYm91bmRPblByb2dyZXNzO1xuICAgIHhkci5vbmxvYWQgPSB0aGlzLl9ib3VuZFhock9uTG9hZDtcbiAgICB4ZHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpOyAvLyBOb3RlOiBUaGUgeGRyLnNlbmQoKSBjYWxsIGlzIHdyYXBwZWQgaW4gYSB0aW1lb3V0IHRvIHByZXZlbnQgYW5cbiAgICAvLyBpc3N1ZSB3aXRoIHRoZSBpbnRlcmZhY2Ugd2hlcmUgc29tZSByZXF1ZXN0cyBhcmUgbG9zdCBpZiBtdWx0aXBsZVxuICAgIC8vIFhEb21haW5SZXF1ZXN0cyBhcmUgYmVpbmcgc2VudCBhdCB0aGUgc2FtZSB0aW1lLlxuICAgIC8vIFNvbWUgaW5mbyBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vcGhvdG9uc3Rvcm0vcGhhc2VyL2lzc3Vlcy8xMjQ4XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB4ZHIuc2VuZCgpO1xuICAgIH0sIDEpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc291cmNlIHVzZWQgaW4gbG9hZGluZyB2aWEgYW4gZWxlbWVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgZWxlbWVudCB0eXBlICh2aWRlbyBvciBhdWRpbykuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgc291cmNlIFVSTCB0byBsb2FkIGZyb20uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbWltZV0gLSBUaGUgbWltZSB0eXBlIG9mIHRoZSB2aWRlb1xuICAgKiBAcmV0dXJuIHtIVE1MU291cmNlRWxlbWVudH0gVGhlIHNvdXJjZSBlbGVtZW50LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fY3JlYXRlU291cmNlID0gZnVuY3Rpb24gX2NyZWF0ZVNvdXJjZSh0eXBlLCB1cmwsIG1pbWUpIHtcbiAgICBpZiAoIW1pbWUpIHtcbiAgICAgIG1pbWUgPSB0eXBlICsgXCIvXCIgKyB0aGlzLl9nZXRFeHRlbnNpb24odXJsKTtcbiAgICB9XG5cbiAgICB2YXIgc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG4gICAgc291cmNlLnNyYyA9IHVybDtcbiAgICBzb3VyY2UudHlwZSA9IG1pbWU7XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIGlmIGEgbG9hZCBlcnJvcnMgb3V0LlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRoZSBlcnJvciBldmVudCBmcm9tIHRoZSBlbGVtZW50IHRoYXQgZW1pdHMgaXQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vbkVycm9yID0gZnVuY3Rpb24gX29uRXJyb3IoZXZlbnQpIHtcbiAgICB0aGlzLmFib3J0KFwiRmFpbGVkIHRvIGxvYWQgZWxlbWVudCB1c2luZzogXCIgKyBldmVudC50YXJnZXQubm9kZU5hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYSBsb2FkIHByb2dyZXNzIGV2ZW50IGZpcmVzIGZvciBhbiBlbGVtZW50IG9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RQcm9ncmVzc0V2ZW50fEV2ZW50fSBldmVudCAtIFByb2dyZXNzIGV2ZW50LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25Qcm9ncmVzcyA9IGZ1bmN0aW9uIF9vblByb2dyZXNzKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50ICYmIGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgIHRoaXMub25Qcm9ncmVzcy5kaXNwYXRjaCh0aGlzLCBldmVudC5sb2FkZWQgLyBldmVudC50b3RhbCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYSB0aW1lb3V0IGV2ZW50IGZpcmVzIGZvciBhbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25UaW1lb3V0ID0gZnVuY3Rpb24gX29uVGltZW91dCgpIHtcbiAgICB0aGlzLmFib3J0KFwiTG9hZCB0aW1lZCBvdXQuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYW4gZXJyb3IgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPbkVycm9yID0gZnVuY3Rpb24gX3hock9uRXJyb3IoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgXCIgUmVxdWVzdCBmYWlsZWQuIFN0YXR1czogXCIgKyB4aHIuc3RhdHVzICsgXCIsIHRleHQ6IFxcXCJcIiArIHhoci5zdGF0dXNUZXh0ICsgXCJcXFwiXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYW4gZXJyb3IgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPblRpbWVvdXQgPSBmdW5jdGlvbiBfeGhyT25UaW1lb3V0KCkge1xuICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICB0aGlzLmFib3J0KHJlcVR5cGUoeGhyKSArIFwiIFJlcXVlc3QgdGltZWQgb3V0LlwiKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIGlmIGFuIGFib3J0IGV2ZW50IGZpcmVzIGZvciB4aHIveGRyLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5feGhyT25BYm9ydCA9IGZ1bmN0aW9uIF94aHJPbkFib3J0KCkge1xuICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICB0aGlzLmFib3J0KHJlcVR5cGUoeGhyKSArIFwiIFJlcXVlc3Qgd2FzIGFib3J0ZWQgYnkgdGhlIHVzZXIuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBkYXRhIHN1Y2Nlc3NmdWxseSBsb2FkcyBmcm9tIGFuIHhoci94ZHIgcmVxdWVzdC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdExvYWRFdmVudHxFdmVudH0gZXZlbnQgLSBMb2FkIGV2ZW50XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPbkxvYWQgPSBmdW5jdGlvbiBfeGhyT25Mb2FkKCkge1xuICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICB2YXIgdGV4dCA9ICcnO1xuICAgIHZhciBzdGF0dXMgPSB0eXBlb2YgeGhyLnN0YXR1cyA9PT0gJ3VuZGVmaW5lZCcgPyBTVEFUVVNfT0sgOiB4aHIuc3RhdHVzOyAvLyBYRFIgaGFzIG5vIGAuc3RhdHVzYCwgYXNzdW1lIDIwMC5cbiAgICAvLyByZXNwb25zZVRleHQgaXMgYWNjZXNzaWJsZSBvbmx5IGlmIHJlc3BvbnNlVHlwZSBpcyAnJyBvciAndGV4dCcgYW5kIG9uIG9sZGVyIGJyb3dzZXJzXG5cbiAgICBpZiAoeGhyLnJlc3BvbnNlVHlwZSA9PT0gJycgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8IHR5cGVvZiB4aHIucmVzcG9uc2VUeXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGV4dCA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgfSAvLyBzdGF0dXMgY2FuIGJlIDAgd2hlbiB1c2luZyB0aGUgYGZpbGU6Ly9gIHByb3RvY29sIHNvIHdlIGFsc28gY2hlY2sgaWYgYSByZXNwb25zZSBpcyBzZXQuXG4gICAgLy8gSWYgaXQgaGFzIGEgcmVzcG9uc2UsIHdlIGFzc3VtZSAyMDA7IG90aGVyd2lzZSBhIDAgc3RhdHVzIGNvZGUgd2l0aCBubyBjb250ZW50cyBpcyBhbiBhYm9ydGVkIHJlcXVlc3QuXG5cblxuICAgIGlmIChzdGF0dXMgPT09IFNUQVRVU19OT05FICYmICh0ZXh0Lmxlbmd0aCA+IDAgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSKSkge1xuICAgICAgc3RhdHVzID0gU1RBVFVTX09LO1xuICAgIH0gLy8gaGFuZGxlIElFOSBidWc6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAwNDY5NzIvbXNpZS1yZXR1cm5zLXN0YXR1cy1jb2RlLW9mLTEyMjMtZm9yLWFqYXgtcmVxdWVzdFxuICAgIGVsc2UgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX0lFX0JVR19FTVBUWSkge1xuICAgICAgICBzdGF0dXMgPSBTVEFUVVNfRU1QVFk7XG4gICAgICB9XG5cbiAgICB2YXIgc3RhdHVzVHlwZSA9IHN0YXR1cyAvIDEwMCB8IDA7XG5cbiAgICBpZiAoc3RhdHVzVHlwZSA9PT0gU1RBVFVTX1RZUEVfT0spIHtcbiAgICAgIC8vIGlmIHRleHQsIGp1c3QgcmV0dXJuIGl0XG4gICAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IHRleHQ7XG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVEVYVDtcbiAgICAgIH0gLy8gaWYganNvbiwgcGFyc2UgaW50byBqc29uIG9iamVjdFxuICAgICAgZWxzZSBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLkpTT047XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5hYm9ydChcIkVycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQganNvbjogXCIgKyBlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gaWYgeG1sLCBwYXJzZSBpbnRvIGFuIHhtbCBkb2N1bWVudCBvciBkaXYgZWxlbWVudFxuICAgICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAod2luZG93LkRPTVBhcnNlcikge1xuICAgICAgICAgICAgICAgIHZhciBkb21wYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9tcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh0ZXh0LCAndGV4dC94bWwnKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZGl2O1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5YTUw7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHRoaXMuYWJvcnQoXCJFcnJvciB0cnlpbmcgdG8gcGFyc2UgbG9hZGVkIHhtbDogXCIgKyBlKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gb3RoZXIgdHlwZXMganVzdCByZXR1cm4gdGhlIHJlc3BvbnNlXG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHhoci5yZXNwb25zZSB8fCB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFib3J0KFwiW1wiICsgeGhyLnN0YXR1cyArIFwiXSBcIiArIHhoci5zdGF0dXNUZXh0ICsgXCI6IFwiICsgeGhyLnJlc3BvbnNlVVJMKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmNvbXBsZXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICAgKiBmb3IgdGhpcyByZXNvdXJjZSBpcyBjcm9zcy1vcmlnaW4uIElmIGNyb3NzT3JpZ2luIHdhcyBtYW51YWxseSBzZXQsIHRoaXNcbiAgICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB0ZXN0LlxuICAgKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNyb3NzT3JpZ2luIHZhbHVlIHRvIHVzZSAob3IgZW1wdHkgc3RyaW5nIGZvciBub25lKS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2RldGVybWluZUNyb3NzT3JpZ2luID0gZnVuY3Rpb24gX2RldGVybWluZUNyb3NzT3JpZ2luKHVybCwgbG9jKSB7XG4gICAgLy8gZGF0YTogYW5kIGphdmFzY3JpcHQ6IHVybHMgYXJlIGNvbnNpZGVyZWQgc2FtZS1vcmlnaW5cbiAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9IC8vIEEgc2FuZGJveGVkIGlmcmFtZSB3aXRob3V0IHRoZSAnYWxsb3ctc2FtZS1vcmlnaW4nIGF0dHJpYnV0ZSB3aWxsIGhhdmUgYSBzcGVjaWFsXG4gICAgLy8gb3JpZ2luIGRlc2lnbmVkIG5vdCB0byBtYXRjaCB3aW5kb3cubG9jYXRpb24ub3JpZ2luLCBhbmQgd2lsbCBhbHdheXMgcmVxdWlyZVxuICAgIC8vIGNyb3NzT3JpZ2luIHJlcXVlc3RzIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgbG9jYXRpb24gbWF0Y2hlcy5cblxuXG4gICAgaWYgKHdpbmRvdy5vcmlnaW4gIT09IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pIHtcbiAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICB9IC8vIGRlZmF1bHQgaXMgd2luZG93LmxvY2F0aW9uXG5cblxuICAgIGxvYyA9IGxvYyB8fCB3aW5kb3cubG9jYXRpb247XG5cbiAgICBpZiAoIXRlbXBBbmNob3IpIHtcbiAgICAgIHRlbXBBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgfSAvLyBsZXQgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSB1cmwgb2YgdGhpcyByZXNvdXJjZSBhbmQgdGhlblxuICAgIC8vIHBhcnNlIHdpdGggdGhlIG5vZGUgdXJsIGxpYiwgd2UgY2FuJ3QgdXNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhbmNob3IgZWxlbWVudFxuICAgIC8vIGJlY2F1c2UgdGhleSBkb24ndCB3b3JrIGluIElFOSA6KFxuXG5cbiAgICB0ZW1wQW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgdXJsID0gcGFyc2VVcmkodGVtcEFuY2hvci5ocmVmLCB7XG4gICAgICBzdHJpY3RNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgdmFyIHNhbWVQb3J0ID0gIXVybC5wb3J0ICYmIGxvYy5wb3J0ID09PSAnJyB8fCB1cmwucG9ydCA9PT0gbG9jLnBvcnQ7XG4gICAgdmFyIHByb3RvY29sID0gdXJsLnByb3RvY29sID8gdXJsLnByb3RvY29sICsgXCI6XCIgOiAnJzsgLy8gaWYgY3Jvc3Mgb3JpZ2luXG5cbiAgICBpZiAodXJsLmhvc3QgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgcHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbCkge1xuICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgcmVzcG9uc2VUeXBlIG9mIGFuIFhIUiByZXF1ZXN0IGJhc2VkIG9uIHRoZSBleHRlbnNpb24gb2YgdGhlXG4gICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFRoZSByZXNwb25zZVR5cGUgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZGV0ZXJtaW5lWGhyVHlwZSA9IGZ1bmN0aW9uIF9kZXRlcm1pbmVYaHJUeXBlKCkge1xuICAgIHJldHVybiBSZXNvdXJjZS5feGhyVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDtcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgbG9hZFR5cGUgb2YgYSByZXNvdXJjZSBiYXNlZCBvbiB0aGUgZXh0ZW5zaW9uIG9mIHRoZVxuICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge1Jlc291cmNlLkxPQURfVFlQRX0gVGhlIGxvYWRUeXBlIHRvIHVzZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2RldGVybWluZUxvYWRUeXBlID0gZnVuY3Rpb24gX2RldGVybWluZUxvYWRUeXBlKCkge1xuICAgIHJldHVybiBSZXNvdXJjZS5fbG9hZFR5cGVNYXBbdGhpcy5leHRlbnNpb25dIHx8IFJlc291cmNlLkxPQURfVFlQRS5YSFI7XG4gIH1cbiAgLyoqXG4gICAqIEV4dHJhY3RzIHRoZSBleHRlbnNpb24gKHNhbnMgJy4nKSBvZiB0aGUgZmlsZSBiZWluZyBsb2FkZWQgYnkgdGhlIHJlc291cmNlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBleHRlbnNpb24uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9nZXRFeHRlbnNpb24gPSBmdW5jdGlvbiBfZ2V0RXh0ZW5zaW9uKCkge1xuICAgIHZhciB1cmwgPSB0aGlzLnVybDtcbiAgICB2YXIgZXh0ID0gJyc7XG5cbiAgICBpZiAodGhpcy5pc0RhdGFVcmwpIHtcbiAgICAgIHZhciBzbGFzaEluZGV4ID0gdXJsLmluZGV4T2YoJy8nKTtcbiAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcoc2xhc2hJbmRleCArIDEsIHVybC5pbmRleE9mKCc7Jywgc2xhc2hJbmRleCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcXVlcnlTdGFydCA9IHVybC5pbmRleE9mKCc/Jyk7XG4gICAgICB2YXIgaGFzaFN0YXJ0ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICAgIHZhciBpbmRleCA9IE1hdGgubWluKHF1ZXJ5U3RhcnQgPiAtMSA/IHF1ZXJ5U3RhcnQgOiB1cmwubGVuZ3RoLCBoYXNoU3RhcnQgPiAtMSA/IGhhc2hTdGFydCA6IHVybC5sZW5ndGgpO1xuICAgICAgdXJsID0gdXJsLnN1YnN0cmluZygwLCBpbmRleCk7XG4gICAgICBleHQgPSB1cmwuc3Vic3RyaW5nKHVybC5sYXN0SW5kZXhPZignLicpICsgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4dC50b0xvd2VyQ2FzZSgpO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSBtaW1lIHR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIHJlc3BvbnNlVHlwZSBvZlxuICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IHR5cGUgLSBUaGUgdHlwZSB0byBnZXQgYSBtaW1lIHR5cGUgZm9yLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBtaW1lIHR5cGUgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZ2V0TWltZUZyb21YaHJUeXBlID0gZnVuY3Rpb24gX2dldE1pbWVGcm9tWGhyVHlwZSh0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUjpcbiAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9vY3RldC1iaW5hcnknO1xuXG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0I6XG4gICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vYmxvYic7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQ6XG4gICAgICAgIHJldHVybiAnYXBwbGljYXRpb24veG1sJztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OOlxuICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2pzb24nO1xuXG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFQ6XG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ6XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAndGV4dC9wbGFpbic7XG4gICAgfVxuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhSZXNvdXJjZSwgW3tcbiAgICBrZXk6IFwiaXNEYXRhVXJsXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZXMgaWYgdGhpcyByZXNvdXJjZSBoYXMgZmluaXNoZWQgbG9hZGluZy4gSXMgdHJ1ZSB3aGVuIHRoZSByZXNvdXJjZSBoYXMgY29tcGxldGVseVxuICAgICAqIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0NvbXBsZXRlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuQ09NUExFVEUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZXMgaWYgdGhpcyByZXNvdXJjZSBpcyBjdXJyZW50bHkgbG9hZGluZy4gSXMgdHJ1ZSB3aGVuIHRoZSByZXNvdXJjZSBzdGFydHMgbG9hZGluZyxcbiAgICAgKiBhbmQgaXMgZmFsc2UgYWdhaW4gd2hlbiBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0xvYWRpbmdcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmVzb3VyY2U7XG59KCk7XG4vKipcbiAqIFRoZSB0eXBlcyBvZiByZXNvdXJjZXMgYSByZXNvdXJjZSBjb3VsZCByZXByZXNlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5cblxuUmVzb3VyY2UuU1RBVFVTX0ZMQUdTID0ge1xuICBOT05FOiAwLFxuICBEQVRBX1VSTDogMSA8PCAwLFxuICBDT01QTEVURTogMSA8PCAxLFxuICBMT0FESU5HOiAxIDw8IDJcbn07XG4vKipcbiAqIFRoZSB0eXBlcyBvZiByZXNvdXJjZXMgYSByZXNvdXJjZSBjb3VsZCByZXByZXNlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5cblJlc291cmNlLlRZUEUgPSB7XG4gIFVOS05PV046IDAsXG4gIEpTT046IDEsXG4gIFhNTDogMixcbiAgSU1BR0U6IDMsXG4gIEFVRElPOiA0LFxuICBWSURFTzogNSxcbiAgVEVYVDogNlxufTtcbi8qKlxuICogVGhlIHR5cGVzIG9mIGxvYWRpbmcgYSByZXNvdXJjZSBjYW4gdXNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuXG5SZXNvdXJjZS5MT0FEX1RZUEUgPSB7XG4gIC8qKiBVc2VzIFhNTEh0dHBSZXF1ZXN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICBYSFI6IDEsXG5cbiAgLyoqIFVzZXMgYW4gYEltYWdlYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIElNQUdFOiAyLFxuXG4gIC8qKiBVc2VzIGFuIGBBdWRpb2Agb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICBBVURJTzogMyxcblxuICAvKiogVXNlcyBhIGBWaWRlb2Agb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICBWSURFTzogNFxufTtcbi8qKlxuICogVGhlIFhIUiByZWFkeSBzdGF0ZXMsIHVzZWQgaW50ZXJuYWxseS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cblxuUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUgPSB7XG4gIC8qKiBzdHJpbmcgKi9cbiAgREVGQVVMVDogJ3RleHQnLFxuXG4gIC8qKiBBcnJheUJ1ZmZlciAqL1xuICBCVUZGRVI6ICdhcnJheWJ1ZmZlcicsXG5cbiAgLyoqIEJsb2IgKi9cbiAgQkxPQjogJ2Jsb2InLFxuXG4gIC8qKiBEb2N1bWVudCAqL1xuICBET0NVTUVOVDogJ2RvY3VtZW50JyxcblxuICAvKiogT2JqZWN0ICovXG4gIEpTT046ICdqc29uJyxcblxuICAvKiogU3RyaW5nICovXG4gIFRFWFQ6ICd0ZXh0J1xufTtcblJlc291cmNlLl9sb2FkVHlwZU1hcCA9IHtcbiAgLy8gaW1hZ2VzXG4gIGdpZjogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICBwbmc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgYm1wOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIGpwZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICBqcGVnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHRpZjogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICB0aWZmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHdlYnA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgdGdhOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHN2ZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAnc3ZnK3htbCc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgLy8gZm9yIFNWRyBkYXRhIHVybHNcbiAgLy8gYXVkaW9cbiAgbXAzOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gIG9nZzogUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICB3YXY6IFJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcbiAgLy8gdmlkZW9zXG4gIG1wNDogUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPLFxuICB3ZWJtOiBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU9cbn07XG5SZXNvdXJjZS5feGhyVHlwZU1hcCA9IHtcbiAgLy8geG1sXG4gIHhodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgaHRtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIGh0bTogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIHhtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIHRteDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIHN2ZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIC8vIFRoaXMgd2FzIGFkZGVkIHRvIGhhbmRsZSBUaWxlZCBUaWxlc2V0IFhNTCwgYnV0IC50c3ggaXMgYWxzbyBhIFR5cGVTY3JpcHQgUmVhY3QgQ29tcG9uZW50LlxuICAvLyBTaW5jZSBpdCBpcyB3YXkgbGVzcyBsaWtlbHkgZm9yIHBlb3BsZSB0byBiZSBsb2FkaW5nIFR5cGVTY3JpcHQgZmlsZXMgaW5zdGVhZCBvZiBUaWxlZCBmaWxlcyxcbiAgLy8gdGhpcyBzaG91bGQgcHJvYmFibHkgYmUgZmluZS5cbiAgdHN4OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgLy8gaW1hZ2VzXG4gIGdpZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgcG5nOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICBibXA6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIGpwZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAganBlZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgdGlmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB0aWZmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB3ZWJwOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB0Z2E6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIC8vIGpzb25cbiAganNvbjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTixcbiAgLy8gdGV4dFxuICB0ZXh0OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhULFxuICB0eHQ6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsXG4gIC8vIGZvbnRzXG4gIHR0ZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSLFxuICBvdGY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUlxufTsgLy8gV2UgY2FuJ3Qgc2V0IHRoZSBgc3JjYCBhdHRyaWJ1dGUgdG8gZW1wdHkgc3RyaW5nLCBzbyBvbiBhYm9ydCB3ZSBzZXQgaXQgdG8gdGhpcyAxcHggdHJhbnNwYXJlbnQgZ2lmXG5cblJlc291cmNlLkVNUFRZX0dJRiA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFQLy8vd0FBQUNINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPdz09Jztcbi8qKlxuICogUXVpY2sgaGVscGVyIHRvIHNldCBhIHZhbHVlIG9uIG9uZSBvZiB0aGUgZXh0ZW5zaW9uIG1hcHMuIEVuc3VyZXMgdGhlcmUgaXMgbm9cbiAqIGRvdCBhdCB0aGUgc3RhcnQgb2YgdGhlIGV4dGVuc2lvbi5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge29iamVjdH0gbWFwIC0gVGhlIG1hcCB0byBzZXQgb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gKG9yIGtleSkgdG8gc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCAtIFRoZSB2YWx1ZSB0byBzZXQuXG4gKi9cblxuZnVuY3Rpb24gc2V0RXh0TWFwKG1hcCwgZXh0bmFtZSwgdmFsKSB7XG4gIGlmIChleHRuYW1lICYmIGV4dG5hbWUuaW5kZXhPZignLicpID09PSAwKSB7XG4gICAgZXh0bmFtZSA9IGV4dG5hbWUuc3Vic3RyaW5nKDEpO1xuICB9XG5cbiAgaWYgKCFleHRuYW1lKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbWFwW2V4dG5hbWVdID0gdmFsO1xufVxuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gZ2V0IHN0cmluZyB4aHIgdHlwZS5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0fFhEb21haW5SZXF1ZXN0fSB4aHIgLSBUaGUgcmVxdWVzdCB0byBjaGVjay5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHR5cGUuXG4gKi9cblxuXG5mdW5jdGlvbiByZXFUeXBlKHhocikge1xuICByZXR1cm4geGhyLnRvU3RyaW5nKCkucmVwbGFjZSgnb2JqZWN0ICcsICcnKTtcbn1cblxudmFyIF9rZXlTdHIgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuLyoqXG4gKiBFbmNvZGVzIGJpbmFyeSBpbnRvIGJhc2U2NC5cbiAqXG4gKiBAZnVuY3Rpb24gZW5jb2RlQmluYXJ5XG4gKiBAcGFyYW0ge3N0cmluZ30gaW5wdXQgVGhlIGlucHV0IGRhdGEgdG8gZW5jb2RlLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGVuY29kZWQgYmFzZTY0IHN0cmluZ1xuICovXG5cbmZ1bmN0aW9uIGVuY29kZUJpbmFyeShpbnB1dCkge1xuICB2YXIgb3V0cHV0ID0gJyc7XG4gIHZhciBpbnggPSAwO1xuXG4gIHdoaWxlIChpbnggPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAvLyBGaWxsIGJ5dGUgYnVmZmVyIGFycmF5XG4gICAgdmFyIGJ5dGVidWZmZXIgPSBbMCwgMCwgMF07XG4gICAgdmFyIGVuY29kZWRDaGFySW5kZXhlcyA9IFswLCAwLCAwLCAwXTtcblxuICAgIGZvciAodmFyIGpueCA9IDA7IGpueCA8IGJ5dGVidWZmZXIubGVuZ3RoOyArK2pueCkge1xuICAgICAgaWYgKGlueCA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAvLyB0aHJvdyBhd2F5IGhpZ2gtb3JkZXIgYnl0ZSwgYXMgZG9jdW1lbnRlZCBhdDpcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvRW4vVXNpbmdfWE1MSHR0cFJlcXVlc3QjSGFuZGxpbmdfYmluYXJ5X2RhdGFcbiAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gaW5wdXQuY2hhckNvZGVBdChpbngrKykgJiAweGZmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gMDtcbiAgICAgIH1cbiAgICB9IC8vIEdldCBlYWNoIGVuY29kZWQgY2hhcmFjdGVyLCA2IGJpdHMgYXQgYSB0aW1lXG4gICAgLy8gaW5kZXggMTogZmlyc3QgNiBiaXRzXG5cblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1swXSA9IGJ5dGVidWZmZXJbMF0gPj4gMjsgLy8gaW5kZXggMjogc2Vjb25kIDYgYml0cyAoMiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAxICsgNCBtb3N0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBieXRlIDIpXG5cbiAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMV0gPSAoYnl0ZWJ1ZmZlclswXSAmIDB4MykgPDwgNCB8IGJ5dGVidWZmZXJbMV0gPj4gNDsgLy8gaW5kZXggMzogdGhpcmQgNiBiaXRzICg0IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDIgKyAyIG1vc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGJ5dGUgMylcblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IChieXRlYnVmZmVyWzFdICYgMHgwZikgPDwgMiB8IGJ5dGVidWZmZXJbMl0gPj4gNjsgLy8gaW5kZXggMzogZm9ydGggNiBiaXRzICg2IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDMpXG5cbiAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSBieXRlYnVmZmVyWzJdICYgMHgzZjsgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgcGFkZGluZyBoYXBwZW5lZCwgYW5kIGFkanVzdCBhY2NvcmRpbmdseVxuXG4gICAgdmFyIHBhZGRpbmdCeXRlcyA9IGlueCAtIChpbnB1dC5sZW5ndGggLSAxKTtcblxuICAgIHN3aXRjaCAocGFkZGluZ0J5dGVzKSB7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIC8vIFNldCBsYXN0IDIgY2hhcmFjdGVycyB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gNjQ7XG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IDY0O1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAxOlxuICAgICAgICAvLyBTZXQgbGFzdCBjaGFyYWN0ZXIgdG8gcGFkZGluZyBjaGFyXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IDY0O1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBObyBwYWRkaW5nIC0gcHJvY2VlZFxuICAgIH0gLy8gTm93IHdlIHdpbGwgZ3JhYiBlYWNoIGFwcHJvcHJpYXRlIGNoYXJhY3RlciBvdXQgb2Ygb3VyIGtleXN0cmluZ1xuICAgIC8vIGJhc2VkIG9uIG91ciBpbmRleCBhcnJheSBhbmQgYXBwZW5kIGl0IHRvIHRoZSBvdXRwdXQgc3RyaW5nXG5cblxuICAgIGZvciAodmFyIF9qbnggPSAwOyBfam54IDwgZW5jb2RlZENoYXJJbmRleGVzLmxlbmd0aDsgKytfam54KSB7XG4gICAgICBvdXRwdXQgKz0gX2tleVN0ci5jaGFyQXQoZW5jb2RlZENoYXJJbmRleGVzW19qbnhdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuXG52YXIgVXJsID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMO1xuLyoqXG4gKiBBIG1pZGRsZXdhcmUgZm9yIHRyYW5zZm9ybWluZyBYSFIgbG9hZGVkIEJsb2JzIGludG8gbW9yZSB1c2VmdWwgb2JqZWN0c1xuICpcbiAqIEBtZW1iZXJvZiBtaWRkbGV3YXJlXG4gKiBAZnVuY3Rpb24gcGFyc2luZ1xuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IExvYWRlciwgbWlkZGxld2FyZSB9IGZyb20gJ3Jlc291cmNlLWxvYWRlcic7XG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgTG9hZGVyKCk7XG4gKiBsb2FkZXIudXNlKG1pZGRsZXdhcmUucGFyc2luZyk7XG4gKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIEN1cnJlbnQgUmVzb3VyY2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHQgLSBDYWxsYmFjayB3aGVuIGNvbXBsZXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2luZyhyZXNvdXJjZSwgbmV4dCkge1xuICBpZiAoIXJlc291cmNlLmRhdGEpIHtcbiAgICBuZXh0KCk7XG4gICAgcmV0dXJuO1xuICB9IC8vIGlmIHRoaXMgd2FzIGFuIFhIUiBsb2FkIG9mIGEgYmxvYlxuXG5cbiAgaWYgKHJlc291cmNlLnhociAmJiByZXNvdXJjZS54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CKSB7XG4gICAgLy8gaWYgdGhlcmUgaXMgbm8gYmxvYiBzdXBwb3J0IHdlIHByb2JhYmx5IGdvdCBhIGJpbmFyeSBzdHJpbmcgYmFja1xuICAgIGlmICghd2luZG93LkJsb2IgfHwgdHlwZW9mIHJlc291cmNlLmRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgdHlwZSA9IHJlc291cmNlLnhoci5nZXRSZXNwb25zZUhlYWRlcignY29udGVudC10eXBlJyk7IC8vIHRoaXMgaXMgYW4gaW1hZ2UsIGNvbnZlcnQgdGhlIGJpbmFyeSBzdHJpbmcgaW50byBhIGRhdGEgdXJsXG5cbiAgICAgIGlmICh0eXBlICYmIHR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICByZXNvdXJjZS5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgICAgIHJlc291cmNlLmRhdGEuc3JjID0gXCJkYXRhOlwiICsgdHlwZSArIFwiO2Jhc2U2NCxcIiArIGVuY29kZUJpbmFyeShyZXNvdXJjZS54aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgcmVzb3VyY2UudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7IC8vIHdhaXQgdW50aWwgdGhlIGltYWdlIGxvYWRzIGFuZCB0aGVuIGNhbGxiYWNrXG5cbiAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfTsgLy8gbmV4dCB3aWxsIGJlIGNhbGxlZCBvbiBsb2FkXG5cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSAvLyBpZiBjb250ZW50IHR5cGUgc2F5cyB0aGlzIGlzIGFuIGltYWdlLCB0aGVuIHdlIHNob3VsZCB0cmFuc2Zvcm0gdGhlIGJsb2IgaW50byBhbiBJbWFnZSBvYmplY3RcbiAgICBlbHNlIGlmIChyZXNvdXJjZS5kYXRhLnR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICB2YXIgc3JjID0gVXJsLmNyZWF0ZU9iamVjdFVSTChyZXNvdXJjZS5kYXRhKTtcbiAgICAgICAgcmVzb3VyY2UuYmxvYiA9IHJlc291cmNlLmRhdGE7XG4gICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSBzcmM7XG4gICAgICAgIHJlc291cmNlLnR5cGUgPSBSZXNvdXJjZS5UWVBFLklNQUdFOyAvLyBjbGVhbnVwIHRoZSBubyBsb25nZXIgdXNlZCBibG9iIGFmdGVyIHRoZSBpbWFnZSBsb2Fkc1xuICAgICAgICAvLyBUT0RPOiBJcyB0aGlzIGNvcnJlY3Q/IFdpbGwgdGhlIGltYWdlIGJlIGludmFsaWQgYWZ0ZXIgcmV2b2tpbmc/XG5cbiAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgVXJsLnJldm9rZU9iamVjdFVSTChzcmMpO1xuICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gbnVsbDtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH07IC8vIG5leHQgd2lsbCBiZSBjYWxsZWQgb24gbG9hZC5cblxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgfVxuXG4gIG5leHQoKTtcbn1cblxuLyoqXG4gKiBAbmFtZXNwYWNlIG1pZGRsZXdhcmVcbiAqL1xuXG52YXIgaW5kZXggPSAoe1xuICAgIGNhY2hpbmc6IGNhY2hpbmcsXG4gICAgcGFyc2luZzogcGFyc2luZ1xufSk7XG5cbnZhciBNQVhfUFJPR1JFU1MgPSAxMDA7XG52YXIgcmd4RXh0cmFjdFVybEhhc2ggPSAvKCNbXFx3LV0rKT8kLztcbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgbXVsdGlwbGUgcmVzb3VyY2VzIHRvIGxvYWQuXG4gKlxuICogQGNsYXNzXG4gKi9cblxudmFyIExvYWRlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW5jeT0xMF0gLSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAgICovXG4gIGZ1bmN0aW9uIExvYWRlcihiYXNlVXJsLCBjb25jdXJyZW5jeSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoYmFzZVVybCA9PT0gdm9pZCAwKSB7XG4gICAgICBiYXNlVXJsID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKGNvbmN1cnJlbmN5ID09PSB2b2lkIDApIHtcbiAgICAgIGNvbmN1cnJlbmN5ID0gMTA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuICAgIC8qKlxuICAgICAqIFRoZSBwcm9ncmVzcyBwZXJjZW50IG9mIHRoZSBsb2FkZXIgZ29pbmcgdGhyb3VnaCB0aGUgcXVldWUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgLyoqXG4gICAgICogTG9hZGluZyBzdGF0ZSBvZiB0aGUgbG9hZGVyLCB0cnVlIGlmIGl0IGlzIGN1cnJlbnRseSBsb2FkaW5nIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEEgcXVlcnlzdHJpbmcgdG8gYXBwZW5kIHRvIGV2ZXJ5IFVSTCBhZGRlZCB0byB0aGUgbG9hZGVyLlxuICAgICAqXG4gICAgICogVGhpcyBzaG91bGQgYmUgYSB2YWxpZCBxdWVyeSBzdHJpbmcgKndpdGhvdXQqIHRoZSBxdWVzdGlvbi1tYXJrIChgP2ApLiBUaGUgbG9hZGVyIHdpbGxcbiAgICAgKiBhbHNvICpub3QqIGVzY2FwZSB2YWx1ZXMgZm9yIHlvdS4gTWFrZSBzdXJlIHRvIGVzY2FwZSB5b3VyIHBhcmFtZXRlcnMgd2l0aFxuICAgICAqIFtgZW5jb2RlVVJJQ29tcG9uZW50YF0oaHR0cHM6Ly9tZG4uaW8vZW5jb2RlVVJJQ29tcG9uZW50KSBiZWZvcmUgYXNzaWduaW5nIHRoaXMgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAgICAgKlxuICAgICAqIGxvYWRlci5kZWZhdWx0UXVlcnlTdHJpbmcgPSAndXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnO1xuICAgICAqXG4gICAgICogLy8gVGhpcyB3aWxsIHJlcXVlc3QgJ2ltYWdlLnBuZz91c2VyPW1lJnBhc3N3b3JkPXNlY3JldCdcbiAgICAgKiBsb2FkZXIuYWRkKCdpbWFnZS5wbmcnKS5sb2FkKCk7XG4gICAgICpcbiAgICAgKiBsb2FkZXIucmVzZXQoKTtcbiAgICAgKlxuICAgICAqIC8vIFRoaXMgd2lsbCByZXF1ZXN0ICdpbWFnZS5wbmc/dj0xJnVzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0J1xuICAgICAqIGxvYWRlci5hZGQoJ2lhbWdlLnBuZz92PTEnKS5sb2FkKCk7XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQGRlZmF1bHQgJydcbiAgICAgKi9cblxuICAgIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nID0gJyc7XG4gICAgLyoqXG4gICAgICogVGhlIG1pZGRsZXdhcmUgdG8gcnVuIGJlZm9yZSBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICovXG5cbiAgICB0aGlzLl9iZWZvcmVNaWRkbGV3YXJlID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIG1pZGRsZXdhcmUgdG8gcnVuIGFmdGVyIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgKi9cblxuICAgIHRoaXMuX2FmdGVyTWlkZGxld2FyZSA9IFtdO1xuICAgIC8qKlxuICAgICAqIFRoZSB0cmFja3MgdGhlIHJlc291cmNlcyB3ZSBhcmUgY3VycmVudGx5IGNvbXBsZXRpbmcgcGFyc2luZyBmb3IuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICovXG5cbiAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIGBfbG9hZFJlc291cmNlYCBmdW5jdGlvbiBib3VuZCB3aXRoIHRoaXMgb2JqZWN0IGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHIgLSBUaGUgcmVzb3VyY2UgdG8gbG9hZFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGQgLSBUaGUgZGVxdWV1ZSBmdW5jdGlvblxuICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kTG9hZFJlc291cmNlID0gZnVuY3Rpb24gKHIsIGQpIHtcbiAgICAgIHJldHVybiBfdGhpcy5fbG9hZFJlc291cmNlKHIsIGQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIHJlc291cmNlcyB3YWl0aW5nIHRvIGJlIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgKi9cblxuXG4gICAgdGhpcy5fcXVldWUgPSBxdWV1ZSh0aGlzLl9ib3VuZExvYWRSZXNvdXJjZSwgY29uY3VycmVuY3kpO1xuXG4gICAgdGhpcy5fcXVldWUucGF1c2UoKTtcbiAgICAvKipcbiAgICAgKiBBbGwgdGhlIHJlc291cmNlcyBmb3IgdGhpcyBsb2FkZXIga2V5ZWQgYnkgbmFtZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge29iamVjdDxzdHJpbmcsIFJlc291cmNlPn1cbiAgICAgKi9cblxuXG4gICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCBvciBlcnJvcmVkIHJlc291cmNlLlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PblByb2dyZXNzU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25Qcm9ncmVzc1NpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBlcnJvcmVkIHJlc291cmNlLlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PbkVycm9yU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25FcnJvclNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uRXJyb3IgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uTG9hZFNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uTG9hZFNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uTG9hZCA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIGxvYWRlciBiZWdpbnMgdG8gcHJvY2VzcyB0aGUgcXVldWUuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uU3RhcnRTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PblN0YXJ0U2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25TdGFydCA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIHF1ZXVlZCByZXNvdXJjZXMgYWxsIGxvYWQuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PbkNvbXBsZXRlU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Db21wbGV0ZSA9IG5ldyBTaWduYWwoKTsgLy8gQWRkIGRlZmF1bHQgYmVmb3JlIG1pZGRsZXdhcmVcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZS5sZW5ndGg7ICsraSkge1xuICAgICAgdGhpcy5wcmUoTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZVtpXSk7XG4gICAgfSAvLyBBZGQgZGVmYXVsdCBhZnRlciBtaWRkbGV3YXJlXG5cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUubGVuZ3RoOyArK19pKSB7XG4gICAgICB0aGlzLnVzZShMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmVbX2ldKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gdGhlIHByb2dyZXNzIGNoYW5nZXMgdGhlIGxvYWRlciBhbmQgcmVzb3VyY2UgYXJlIGRpc2FwdGNoZWQuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhlIHByb2dyZXNzIGlzIGFkdmFuY2luZyBvbi5cbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBoYXMgY29tcGxldGVkIG9yIGZhaWxlZCB0byBjYXVzZSB0aGUgcHJvZ3Jlc3MgdG8gYWR2YW5jZS5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gYW4gZXJyb3Igb2NjdXJycyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25FcnJvclNpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgZXJyb3IgaGFwcGVuZWQgaW4uXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgY2F1c2VkIHRoZSBlcnJvci5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gYSBsb2FkIGNvbXBsZXRlcyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25Mb2FkU2lnbmFsXG4gICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgbGFvZGVkIHRoZSByZXNvdXJjZS5cbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBoYXMgY29tcGxldGVkIGxvYWRpbmcuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSBsb2FkZXIgc3RhcnRzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25TdGFydFNpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGhhcyBzdGFydGVkIGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiB0aGUgbG9hZGVyIGNvbXBsZXRlcyBsb2FkaW5nIHJlc291cmNlcyBpdCBkaXNwYXRjaGVzIHRoaXMgY2FsbGJhY2suXG4gICAqXG4gICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBoYXMgZmluaXNoZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBPcHRpb25zIGZvciBhIGNhbGwgdG8gYC5hZGQoKWAuXG4gICAqXG4gICAqIEBzZWUgTG9hZGVyI2FkZFxuICAgKlxuICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBJQWRkT3B0aW9uc1xuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW25hbWVdIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQsIGlmIG5vdCBwYXNzZWQgdGhlIHVybCBpcyB1c2VkLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2tleV0gLSBBbGlhcyBmb3IgYG5hbWVgLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICogQHByb3BlcnR5IHtzdHJpbmd8Ym9vbGVhbn0gW2Nyb3NzT3JpZ2luXSAtIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IERlZmF1bHQgaXMgdG9cbiAgICogICAgICBkZXRlcm1pbmUgYXV0b21hdGljYWxseS5cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lb3V0PTBdIC0gQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzXG4gICAqICAgICAgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXNcbiAgICogICAgICBzZXQgdG8gYDBgIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtsb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgKiAgICAgIGJlIGxvYWRlZD9cbiAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gW3hoclR5cGU9UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3dcbiAgICogICAgICBzaG91bGQgdGhlIGRhdGEgYmVpbmcgbG9hZGVkIGJlIGludGVycHJldGVkIHdoZW4gdXNpbmcgWEhSP1xuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtvbkNvbXBsZXRlXSAtIENhbGxiYWNrIHRvIGFkZCBhbiBhbiBvbkNvbXBsZXRlIHNpZ25hbCBpc3RlbmVyLlxuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBBbGlhcyBmb3IgYG9uQ29tcGxldGVgLlxuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLklNZXRhZGF0YX0gW21ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAqL1xuXG4gIC8qIGVzbGludC1kaXNhYmxlIHJlcXVpcmUtanNkb2MsdmFsaWQtanNkb2MgKi9cblxuICAvKipcbiAgICogQWRkcyBhIHJlc291cmNlIChvciBtdWx0aXBsZSByZXNvdXJjZXMpIHRvIHRoZSBsb2FkZXIgcXVldWUuXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gY2FuIHRha2UgYSB3aWRlIHZhcmlldHkgb2YgZGlmZmVyZW50IHBhcmFtZXRlcnMuIFRoZSBvbmx5IHRoaW5nIHRoYXQgaXMgYWx3YXlzXG4gICAqIHJlcXVpcmVkIHRoZSB1cmwgdG8gbG9hZC4gQWxsIHRoZSBmb2xsb3dpbmcgd2lsbCB3b3JrOlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBsb2FkZXJcbiAgICogICAgIC8vIG5vcm1hbCBwYXJhbSBzeW50YXhcbiAgICogICAgIC5hZGQoJ2tleScsICdodHRwOi8vLi4uJywgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKCdodHRwOi8vLi4uJywgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKCdodHRwOi8vLi4uJylcbiAgICpcbiAgICogICAgIC8vIG9iamVjdCBzeW50YXhcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIG5hbWU6ICdrZXkyJyxcbiAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgKiAgICAgfSwgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKHtcbiAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgKiAgICAgfSwgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKHtcbiAgICogICAgICAgICBuYW1lOiAna2V5MycsXG4gICAqICAgICAgICAgdXJsOiAnaHR0cDovLy4uLidcbiAgICogICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fVxuICAgKiAgICAgfSlcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIHVybDogJ2h0dHBzOi8vLi4uJyxcbiAgICogICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSxcbiAgICogICAgICAgICBjcm9zc09yaWdpbjogdHJ1ZVxuICAgKiAgICAgfSlcbiAgICpcbiAgICogICAgIC8vIHlvdSBjYW4gYWxzbyBwYXNzIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgdXJscyBvciBib3RoXG4gICAqICAgICAuYWRkKFtcbiAgICogICAgICAgICB7IG5hbWU6ICdrZXk0JywgdXJsOiAnaHR0cDovLy4uLicsIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9IH0sXG4gICAqICAgICAgICAgeyB1cmw6ICdodHRwOi8vLi4uJywgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30gfSxcbiAgICogICAgICAgICAnaHR0cDovLy4uLidcbiAgICogICAgIF0pXG4gICAqXG4gICAqICAgICAvLyBhbmQgeW91IGNhbiB1c2UgYm90aCBwYXJhbXMgYW5kIG9wdGlvbnNcbiAgICogICAgIC5hZGQoJ2tleScsICdodHRwOi8vLi4uJywgeyBjcm9zc09yaWdpbjogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nLCB7IGNyb3NzT3JpZ2luOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHt9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAdmFyaWF0aW9uIDFcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gMlxuICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAqIEBwYXJhbSB7SUFkZE9wdGlvbnN9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDNcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICovXG5cbiAgLyoqXG4gICogQGZ1bmN0aW9uXG4gICogQHZhcmlhdGlvbiA0XG4gICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAqIEBwYXJhbSB7SUFkZE9wdGlvbnN9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDVcbiAgKiBAcGFyYW0ge0lBZGRPcHRpb25zfSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLiBUaGlzIG9iamVjdCBtdXN0IGNvbnRhaW4gYSBgdXJsYCBwcm9wZXJ0eS5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDZcbiAgKiBAcGFyYW0ge0FycmF5PElBZGRPcHRpb25zfHN0cmluZz59IHJlc291cmNlcyAtIEFuIGFycmF5IG9mIHJlc291cmNlcyB0byBsb2FkLCB3aGVyZSBlYWNoIGlzXG4gICogICAgICBlaXRoZXIgYW4gb2JqZWN0IHdpdGggdGhlIG9wdGlvbnMgb3IgYSBzdHJpbmcgdXJsLiBJZiB5b3UgcGFzcyBhbiBvYmplY3QsIGl0IG11c3QgY29udGFpbiBhIGB1cmxgIHByb3BlcnR5LlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IExvYWRlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmFkZCA9IGZ1bmN0aW9uIGFkZChuYW1lLCB1cmwsIG9wdGlvbnMsIGNiKSB7XG4gICAgLy8gc3BlY2lhbCBjYXNlIG9mIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgdXJsc1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWUpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdGhpcy5hZGQobmFtZVtpXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gLy8gaWYgYW4gb2JqZWN0IGlzIHBhc3NlZCBpbnN0ZWFkIG9mIHBhcmFtc1xuXG5cbiAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBjYiA9IHVybCB8fCBuYW1lLmNhbGxiYWNrIHx8IG5hbWUub25Db21wbGV0ZTtcbiAgICAgIG9wdGlvbnMgPSBuYW1lO1xuICAgICAgdXJsID0gbmFtZS51cmw7XG4gICAgICBuYW1lID0gbmFtZS5uYW1lIHx8IG5hbWUua2V5IHx8IG5hbWUudXJsO1xuICAgIH0gLy8gY2FzZSB3aGVyZSBubyBuYW1lIGlzIHBhc3NlZCBzaGlmdCBhbGwgYXJncyBvdmVyIGJ5IG9uZS5cblxuXG4gICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICBjYiA9IG9wdGlvbnM7XG4gICAgICBvcHRpb25zID0gdXJsO1xuICAgICAgdXJsID0gbmFtZTtcbiAgICB9IC8vIG5vdyB0aGF0IHdlIHNoaWZ0ZWQgbWFrZSBzdXJlIHdlIGhhdmUgYSBwcm9wZXIgdXJsLlxuXG5cbiAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXJsIHBhc3NlZCB0byBhZGQgcmVzb3VyY2UgdG8gbG9hZGVyLicpO1xuICAgIH0gLy8gb3B0aW9ucyBhcmUgb3B0aW9uYWwgc28gcGVvcGxlIG1pZ2h0IHBhc3MgYSBmdW5jdGlvbiBhbmQgbm8gb3B0aW9uc1xuXG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgIH0gLy8gaWYgbG9hZGluZyBhbHJlYWR5IHlvdSBjYW4gb25seSBhZGQgcmVzb3VyY2VzIHRoYXQgaGF2ZSBhIHBhcmVudC5cblxuXG4gICAgaWYgKHRoaXMubG9hZGluZyAmJiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMucGFyZW50UmVzb3VyY2UpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhZGQgcmVzb3VyY2VzIHdoaWxlIHRoZSBsb2FkZXIgaXMgcnVubmluZy4nKTtcbiAgICB9IC8vIGNoZWNrIGlmIHJlc291cmNlIGFscmVhZHkgZXhpc3RzLlxuXG5cbiAgICBpZiAodGhpcy5yZXNvdXJjZXNbbmFtZV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlc291cmNlIG5hbWVkIFxcXCJcIiArIG5hbWUgKyBcIlxcXCIgYWxyZWFkeSBleGlzdHMuXCIpO1xuICAgIH0gLy8gYWRkIGJhc2UgdXJsIGlmIHRoaXMgaXNuJ3QgYW4gYWJzb2x1dGUgdXJsXG5cblxuICAgIHVybCA9IHRoaXMuX3ByZXBhcmVVcmwodXJsKTsgLy8gY3JlYXRlIHRoZSBzdG9yZSB0aGUgcmVzb3VyY2VcblxuICAgIHRoaXMucmVzb3VyY2VzW25hbWVdID0gbmV3IFJlc291cmNlKG5hbWUsIHVybCwgb3B0aW9ucyk7XG5cbiAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5vbkFmdGVyTWlkZGxld2FyZS5vbmNlKGNiKTtcbiAgICB9IC8vIGlmIGFjdGl2ZWx5IGxvYWRpbmcsIG1ha2Ugc3VyZSB0byBhZGp1c3QgcHJvZ3Jlc3MgY2h1bmtzIGZvciB0aGF0IHBhcmVudCBhbmQgaXRzIGNoaWxkcmVuXG5cblxuICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBvcHRpb25zLnBhcmVudFJlc291cmNlO1xuICAgICAgdmFyIGluY29tcGxldGVDaGlsZHJlbiA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoOyArK19pMikge1xuICAgICAgICBpZiAoIXBhcmVudC5jaGlsZHJlbltfaTJdLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW4ucHVzaChwYXJlbnQuY2hpbGRyZW5bX2kyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGZ1bGxDaHVuayA9IHBhcmVudC5wcm9ncmVzc0NodW5rICogKGluY29tcGxldGVDaGlsZHJlbi5sZW5ndGggKyAxKTsgLy8gKzEgZm9yIHBhcmVudFxuXG4gICAgICB2YXIgZWFjaENodW5rID0gZnVsbENodW5rIC8gKGluY29tcGxldGVDaGlsZHJlbi5sZW5ndGggKyAyKTsgLy8gKzIgZm9yIHBhcmVudCAmIG5ldyBjaGlsZFxuXG4gICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG4gICAgICBwYXJlbnQucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcblxuICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aDsgKytfaTMpIHtcbiAgICAgICAgaW5jb21wbGV0ZUNoaWxkcmVuW19pM10ucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcbiAgICAgIH1cblxuICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0ucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcbiAgICB9IC8vIGFkZCB0aGUgcmVzb3VyY2UgdG8gdGhlIHF1ZXVlXG5cblxuICAgIHRoaXMuX3F1ZXVlLnB1c2godGhpcy5yZXNvdXJjZXNbbmFtZV0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSByZXF1aXJlLWpzZG9jLHZhbGlkLWpzZG9jICovXG5cbiAgLyoqXG4gICAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmJlZm9yZSogdGhlXG4gICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnByZSA9IGZ1bmN0aW9uIHByZShmbikge1xuICAgIHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYWZ0ZXIqIHRoZVxuICAgKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51c2UgPSBmdW5jdGlvbiB1c2UoZm4pIHtcbiAgICB0aGlzLl9hZnRlck1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogUmVzZXRzIHRoZSBxdWV1ZSBvZiB0aGUgbG9hZGVyIHRvIHByZXBhcmUgZm9yIGEgbmV3IGxvYWQuXG4gICAqXG4gICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5fcXVldWUua2lsbCgpO1xuXG4gICAgdGhpcy5fcXVldWUucGF1c2UoKTsgLy8gYWJvcnQgYWxsIHJlc291cmNlIGxvYWRzXG5cblxuICAgIGZvciAodmFyIGsgaW4gdGhpcy5yZXNvdXJjZXMpIHtcbiAgICAgIHZhciByZXMgPSB0aGlzLnJlc291cmNlc1trXTtcblxuICAgICAgaWYgKHJlcy5fb25Mb2FkQmluZGluZykge1xuICAgICAgICByZXMuX29uTG9hZEJpbmRpbmcuZGV0YWNoKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXMuaXNMb2FkaW5nKSB7XG4gICAgICAgIHJlcy5hYm9ydCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucmVzb3VyY2VzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFN0YXJ0cyBsb2FkaW5nIHRoZSBxdWV1ZWQgcmVzb3VyY2VzLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2JdIC0gT3B0aW9uYWwgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGJvdW5kIHRvIHRoZSBgY29tcGxldGVgIGV2ZW50LlxuICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ubG9hZCA9IGZ1bmN0aW9uIGxvYWQoY2IpIHtcbiAgICAvLyByZWdpc3RlciBjb21wbGV0ZSBjYWxsYmFjayBpZiB0aGV5IHBhc3Mgb25lXG4gICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vbkNvbXBsZXRlLm9uY2UoY2IpO1xuICAgIH0gLy8gaWYgdGhlIHF1ZXVlIGhhcyBhbHJlYWR5IHN0YXJ0ZWQgd2UgYXJlIGRvbmUgaGVyZVxuXG5cbiAgICBpZiAodGhpcy5sb2FkaW5nKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcXVldWUuaWRsZSgpKSB7XG4gICAgICB0aGlzLl9vblN0YXJ0KCk7XG5cbiAgICAgIHRoaXMuX29uQ29tcGxldGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZGlzdHJpYnV0ZSBwcm9ncmVzcyBjaHVua3NcbiAgICAgIHZhciBudW1UYXNrcyA9IHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7XG4gICAgICB2YXIgY2h1bmsgPSBNQVhfUFJPR1JFU1MgLyBudW1UYXNrcztcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9xdWV1ZS5fdGFza3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdGhpcy5fcXVldWUuX3Rhc2tzW2ldLmRhdGEucHJvZ3Jlc3NDaHVuayA9IGNodW5rO1xuICAgICAgfSAvLyBub3RpZnkgd2UgYXJlIHN0YXJ0aW5nXG5cblxuICAgICAgdGhpcy5fb25TdGFydCgpOyAvLyBzdGFydCBsb2FkaW5nXG5cblxuICAgICAgdGhpcy5fcXVldWUucmVzdW1lKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgKlxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDEwXG4gICAqL1xuICA7XG5cbiAgLyoqXG4gICAqIFByZXBhcmVzIGEgdXJsIGZvciB1c2FnZSBiYXNlZCBvbiB0aGUgY29uZmlndXJhdGlvbiBvZiB0aGlzIG9iamVjdFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byBwcmVwYXJlLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBwcmVwYXJlZCB1cmwuXG4gICAqL1xuICBfcHJvdG8uX3ByZXBhcmVVcmwgPSBmdW5jdGlvbiBfcHJlcGFyZVVybCh1cmwpIHtcbiAgICB2YXIgcGFyc2VkVXJsID0gcGFyc2VVcmkodXJsLCB7XG4gICAgICBzdHJpY3RNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgdmFyIHJlc3VsdDsgLy8gYWJzb2x1dGUgdXJsLCBqdXN0IHVzZSBpdCBhcyBpcy5cblxuICAgIGlmIChwYXJzZWRVcmwucHJvdG9jb2wgfHwgIXBhcnNlZFVybC5wYXRoIHx8IHVybC5pbmRleE9mKCcvLycpID09PSAwKSB7XG4gICAgICByZXN1bHQgPSB1cmw7XG4gICAgfSAvLyBpZiBiYXNlVXJsIGRvZXNuJ3QgZW5kIGluIHNsYXNoIGFuZCB1cmwgZG9lc24ndCBzdGFydCB3aXRoIHNsYXNoLCB0aGVuIGFkZCBhIHNsYXNoIGluYmV0d2VlblxuICAgIGVsc2UgaWYgKHRoaXMuYmFzZVVybC5sZW5ndGggJiYgdGhpcy5iYXNlVXJsLmxhc3RJbmRleE9mKCcvJykgIT09IHRoaXMuYmFzZVVybC5sZW5ndGggLSAxICYmIHVybC5jaGFyQXQoMCkgIT09ICcvJykge1xuICAgICAgICByZXN1bHQgPSB0aGlzLmJhc2VVcmwgKyBcIi9cIiArIHVybDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuYmFzZVVybCArIHVybDtcbiAgICAgIH0gLy8gaWYgd2UgbmVlZCB0byBhZGQgYSBkZWZhdWx0IHF1ZXJ5c3RyaW5nLCB0aGVyZSBpcyBhIGJpdCBtb3JlIHdvcmtcblxuXG4gICAgaWYgKHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nKSB7XG4gICAgICB2YXIgaGFzaCA9IHJneEV4dHJhY3RVcmxIYXNoLmV4ZWMocmVzdWx0KVswXTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5zdWJzdHIoMCwgcmVzdWx0Lmxlbmd0aCAtIGhhc2gubGVuZ3RoKTtcblxuICAgICAgaWYgKHJlc3VsdC5pbmRleE9mKCc/JykgIT09IC0xKSB7XG4gICAgICAgIHJlc3VsdCArPSBcIiZcIiArIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ICs9IFwiP1wiICsgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmc7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdCArPSBoYXNoO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXG4gICAqIExvYWRzIGEgc2luZ2xlIHJlc291cmNlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBkZXF1ZXVlIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB3ZSBuZWVkIHRvIGRlcXVldWUgdGhpcyBpdGVtLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFJlc291cmNlID0gZnVuY3Rpb24gX2xvYWRSZXNvdXJjZShyZXNvdXJjZSwgZGVxdWV1ZSkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgcmVzb3VyY2UuX2RlcXVldWUgPSBkZXF1ZXVlOyAvLyBydW4gYmVmb3JlIG1pZGRsZXdhcmVcblxuICAgIGVhY2hTZXJpZXModGhpcy5fYmVmb3JlTWlkZGxld2FyZSwgZnVuY3Rpb24gKGZuLCBuZXh0KSB7XG4gICAgICBmbi5jYWxsKF90aGlzMiwgcmVzb3VyY2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gaWYgdGhlIGJlZm9yZSBtaWRkbGV3YXJlIG1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZSxcbiAgICAgICAgLy8gYnJlYWsgYW5kIGRvbid0IHByb2Nlc3MgYW55IG1vcmUgYmVmb3JlIG1pZGRsZXdhcmVcbiAgICAgICAgbmV4dChyZXNvdXJjZS5pc0NvbXBsZXRlID8ge30gOiBudWxsKTtcbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChyZXNvdXJjZS5pc0NvbXBsZXRlKSB7XG4gICAgICAgIF90aGlzMi5fb25Mb2FkKHJlc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc291cmNlLl9vbkxvYWRCaW5kaW5nID0gcmVzb3VyY2Uub25Db21wbGV0ZS5vbmNlKF90aGlzMi5fb25Mb2FkLCBfdGhpczIpO1xuICAgICAgICByZXNvdXJjZS5sb2FkKCk7XG4gICAgICB9XG4gICAgfSwgdHJ1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBvbmNlIGxvYWRpbmcgaGFzIHN0YXJ0ZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vblN0YXJ0ID0gZnVuY3Rpb24gX29uU3RhcnQoKSB7XG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBvbmNlIGVhY2ggcmVzb3VyY2UgaGFzIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uQ29tcGxldGUgPSBmdW5jdGlvbiBfb25Db21wbGV0ZSgpIHtcbiAgICB0aGlzLnByb2dyZXNzID0gTUFYX1BST0dSRVNTO1xuICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzLCB0aGlzLnJlc291cmNlcyk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBlYWNoIHRpbWUgYSByZXNvdXJjZXMgaXMgbG9hZGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHdhcyBsb2FkZWRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uTG9hZCA9IGZ1bmN0aW9uIF9vbkxvYWQocmVzb3VyY2UpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHJlc291cmNlLl9vbkxvYWRCaW5kaW5nID0gbnVsbDsgLy8gcmVtb3ZlIHRoaXMgcmVzb3VyY2UgZnJvbSB0aGUgYXN5bmMgcXVldWUsIGFuZCBhZGQgaXQgdG8gb3VyIGxpc3Qgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIGJlaW5nIHBhcnNlZFxuXG4gICAgdGhpcy5fcmVzb3VyY2VzUGFyc2luZy5wdXNoKHJlc291cmNlKTtcblxuICAgIHJlc291cmNlLl9kZXF1ZXVlKCk7IC8vIHJ1biBhbGwgdGhlIGFmdGVyIG1pZGRsZXdhcmUgZm9yIHRoaXMgcmVzb3VyY2VcblxuXG4gICAgZWFjaFNlcmllcyh0aGlzLl9hZnRlck1pZGRsZXdhcmUsIGZ1bmN0aW9uIChmbiwgbmV4dCkge1xuICAgICAgZm4uY2FsbChfdGhpczMsIHJlc291cmNlLCBuZXh0KTtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXNvdXJjZS5vbkFmdGVyTWlkZGxld2FyZS5kaXNwYXRjaChyZXNvdXJjZSk7XG4gICAgICBfdGhpczMucHJvZ3Jlc3MgPSBNYXRoLm1pbihNQVhfUFJPR1JFU1MsIF90aGlzMy5wcm9ncmVzcyArIHJlc291cmNlLnByb2dyZXNzQ2h1bmspO1xuXG4gICAgICBfdGhpczMub25Qcm9ncmVzcy5kaXNwYXRjaChfdGhpczMsIHJlc291cmNlKTtcblxuICAgICAgaWYgKHJlc291cmNlLmVycm9yKSB7XG4gICAgICAgIF90aGlzMy5vbkVycm9yLmRpc3BhdGNoKHJlc291cmNlLmVycm9yLCBfdGhpczMsIHJlc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzMy5vbkxvYWQuZGlzcGF0Y2goX3RoaXMzLCByZXNvdXJjZSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5zcGxpY2UoX3RoaXMzLl9yZXNvdXJjZXNQYXJzaW5nLmluZGV4T2YocmVzb3VyY2UpLCAxKTsgLy8gZG8gY29tcGxldGlvbiBjaGVja1xuXG5cbiAgICAgIGlmIChfdGhpczMuX3F1ZXVlLmlkbGUoKSAmJiBfdGhpczMuX3Jlc291cmNlc1BhcnNpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIF90aGlzMy5fb25Db21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH0sIHRydWUpO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhMb2FkZXIsIFt7XG4gICAga2V5OiBcImNvbmN1cnJlbmN5XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcXVldWUuY29uY3VycmVuY3k7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChjb25jdXJyZW5jeSkge1xuICAgICAgdGhpcy5fcXVldWUuY29uY3VycmVuY3kgPSBjb25jdXJyZW5jeTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTG9hZGVyO1xufSgpO1xuLyoqXG4gKiBBIGRlZmF1bHQgYXJyYXkgb2YgbWlkZGxld2FyZSB0byBydW4gYmVmb3JlIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAqIEVhY2ggb2YgdGhlc2UgbWlkZGxld2FyZXMgYXJlIGFkZGVkIHRvIGFueSBuZXcgTG9hZGVyIGluc3RhbmNlcyB3aGVuIHRoZXkgYXJlIGNyZWF0ZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gKi9cblxuXG5Mb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlID0gW107XG4vKipcbiAqIEEgZGVmYXVsdCBhcnJheSBvZiBtaWRkbGV3YXJlIHRvIHJ1biBhZnRlciBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gKiBFYWNoIG9mIHRoZXNlIG1pZGRsZXdhcmVzIGFyZSBhZGRlZCB0byBhbnkgbmV3IExvYWRlciBpbnN0YW5jZXMgd2hlbiB0aGV5IGFyZSBjcmVhdGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICovXG5cbkxvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZSA9IFtdO1xuLyoqXG4gKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICpiZWZvcmUqIHRoZVxuICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICovXG5cbkxvYWRlci5wcmUgPSBmdW5jdGlvbiBMb2FkZXJQcmVTdGF0aWMoZm4pIHtcbiAgTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICByZXR1cm4gTG9hZGVyO1xufTtcbi8qKlxuICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYWZ0ZXIqIHRoZVxuICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICovXG5cblxuTG9hZGVyLnVzZSA9IGZ1bmN0aW9uIExvYWRlclVzZVN0YXRpYyhmbikge1xuICBMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgcmV0dXJuIExvYWRlcjtcbn07XG5cbmV4cG9ydCB7IExvYWRlciwgUmVzb3VyY2UsIGFzeW5jLCBlbmNvZGVCaW5hcnksIGluZGV4IGFzIG1pZGRsZXdhcmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc291cmNlLWxvYWRlci5lc20uanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2xvYWRlcnMgLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvbG9hZGVycyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJlc291cmNlLCBMb2FkZXIgYXMgTG9hZGVyJDEsIG1pZGRsZXdhcmUgfSBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKipcbiogUmVmZXJlbmNlIHRvICoqe0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiogcmVzb3VyY2UtbG9hZGVyfSoqJ3MgUmVzb3VyY2UgY2xhc3MuXG4qIEBzZWUgaHR0cDovL2VuZ2xlcmNqLmdpdGh1Yi5pby9yZXNvdXJjZS1sb2FkZXIvUmVzb3VyY2UuaHRtbFxuKiBAY2xhc3MgTG9hZGVyUmVzb3VyY2VcbiogQG1lbWJlcm9mIFBJWElcbiovXG52YXIgTG9hZGVyUmVzb3VyY2UgPSBSZXNvdXJjZTtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogTG9hZGVyIHBsdWdpbiBmb3IgaGFuZGxpbmcgVGV4dHVyZSByZXNvdXJjZXMuXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqL1xudmFyIFRleHR1cmVMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGV4dHVyZUxvYWRlcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGFmdGVyIGEgcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqIEBzZWUgUElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZVxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0XG4gICAgICovXG4gICAgVGV4dHVyZUxvYWRlci51c2UgPSBmdW5jdGlvbiAocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgLy8gY3JlYXRlIGEgbmV3IHRleHR1cmUgaWYgdGhlIGRhdGEgaXMgYW4gSW1hZ2Ugb2JqZWN0XG4gICAgICAgIGlmIChyZXNvdXJjZS5kYXRhICYmIHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSU1BR0UpIHtcbiAgICAgICAgICAgIHJlc291cmNlLnRleHR1cmUgPSBUZXh0dXJlLmZyb21Mb2FkZXIocmVzb3VyY2UuZGF0YSwgcmVzb3VyY2UudXJsLCByZXNvdXJjZS5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgfTtcbiAgICByZXR1cm4gVGV4dHVyZUxvYWRlcjtcbn0oKSk7XG5cbi8qKlxuICogVGhlIG5ldyBsb2FkZXIsIGV4dGVuZHMgUmVzb3VyY2UgTG9hZGVyIGJ5IENoYWQgRW5nbGVyOiBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcmVzb3VyY2UtbG9hZGVyXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGxvYWRlciA9IFBJWEkuTG9hZGVyLnNoYXJlZDsgLy8gUGl4aUpTIGV4cG9zZXMgYSBwcmVtYWRlIGluc3RhbmNlIGZvciB5b3UgdG8gdXNlLlxuICogLy9vclxuICogY29uc3QgbG9hZGVyID0gbmV3IFBJWEkuTG9hZGVyKCk7IC8vIHlvdSBjYW4gYWxzbyBjcmVhdGUgeW91ciBvd24gaWYgeW91IHdhbnRcbiAqXG4gKiBjb25zdCBzcHJpdGVzID0ge307XG4gKlxuICogLy8gQ2hhaW5hYmxlIGBhZGRgIHRvIGVucXVldWUgYSByZXNvdXJjZVxuICogbG9hZGVyLmFkZCgnYnVubnknLCAnZGF0YS9idW5ueS5wbmcnKVxuICogICAgICAgLmFkZCgnc3BhY2VzaGlwJywgJ2Fzc2V0cy9zcHJpdGVzaGVldC5qc29uJyk7XG4gKiBsb2FkZXIuYWRkKCdzY29yZUZvbnQnLCAnYXNzZXRzL3Njb3JlLmZudCcpO1xuICpcbiAqIC8vIENoYWluYWJsZSBgcHJlYCB0byBhZGQgYSBtaWRkbGV3YXJlIHRoYXQgcnVucyBmb3IgZWFjaCByZXNvdXJjZSwgKmJlZm9yZSogbG9hZGluZyB0aGF0IHJlc291cmNlLlxuICogLy8gVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IGN1c3RvbSBjYWNoaW5nIG1vZHVsZXMgKHVzaW5nIGZpbGVzeXN0ZW0sIGluZGV4ZWRkYiwgbWVtb3J5LCBldGMpLlxuICogbG9hZGVyLnByZShjYWNoaW5nTWlkZGxld2FyZSk7XG4gKlxuICogLy8gQ2hhaW5hYmxlIGB1c2VgIHRvIGFkZCBhIG1pZGRsZXdhcmUgdGhhdCBydW5zIGZvciBlYWNoIHJlc291cmNlLCAqYWZ0ZXIqIGxvYWRpbmcgdGhhdCByZXNvdXJjZS5cbiAqIC8vIFRoaXMgaXMgdXNlZnVsIHRvIGltcGxlbWVudCBjdXN0b20gcGFyc2luZyBtb2R1bGVzIChsaWtlIHNwcml0ZXNoZWV0IHBhcnNlcnMsIHNwaW5lIHBhcnNlciwgZXRjKS5cbiAqIGxvYWRlci51c2UocGFyc2luZ01pZGRsZXdhcmUpO1xuICpcbiAqIC8vIFRoZSBgbG9hZGAgbWV0aG9kIGxvYWRzIHRoZSBxdWV1ZSBvZiByZXNvdXJjZXMsIGFuZCBjYWxscyB0aGUgcGFzc2VkIGluIGNhbGxiYWNrIGNhbGxlZCBvbmNlIGFsbFxuICogLy8gcmVzb3VyY2VzIGhhdmUgbG9hZGVkLlxuICogbG9hZGVyLmxvYWQoKGxvYWRlciwgcmVzb3VyY2VzKSA9PiB7XG4gKiAgICAgLy8gcmVzb3VyY2VzIGlzIGFuIG9iamVjdCB3aGVyZSB0aGUga2V5IGlzIHRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSBsb2FkZWQgYW5kIHRoZSB2YWx1ZSBpcyB0aGUgcmVzb3VyY2Ugb2JqZWN0LlxuICogICAgIC8vIFRoZXkgaGF2ZSBhIGNvdXBsZSBkZWZhdWx0IHByb3BlcnRpZXM6XG4gKiAgICAgLy8gLSBgdXJsYDogVGhlIFVSTCB0aGF0IHRoZSByZXNvdXJjZSB3YXMgbG9hZGVkIGZyb21cbiAqICAgICAvLyAtIGBlcnJvcmA6IFRoZSBlcnJvciB0aGF0IGhhcHBlbmVkIHdoZW4gdHJ5aW5nIHRvIGxvYWQgKGlmIGFueSlcbiAqICAgICAvLyAtIGBkYXRhYDogVGhlIHJhdyBkYXRhIHRoYXQgd2FzIGxvYWRlZFxuICogICAgIC8vIGFsc28gbWF5IGNvbnRhaW4gb3RoZXIgcHJvcGVydGllcyBiYXNlZCBvbiB0aGUgbWlkZGxld2FyZSB0aGF0IHJ1bnMuXG4gKiAgICAgc3ByaXRlcy5idW5ueSA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuYnVubnkudGV4dHVyZSk7XG4gKiAgICAgc3ByaXRlcy5zcGFjZXNoaXAgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLnNwYWNlc2hpcC50ZXh0dXJlKTtcbiAqICAgICBzcHJpdGVzLnNjb3JlRm9udCA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuc2NvcmVGb250LnRleHR1cmUpO1xuICogfSk7XG4gKlxuICogLy8gdGhyb3VnaG91dCB0aGUgcHJvY2VzcyBtdWx0aXBsZSBzaWduYWxzIGNhbiBiZSBkaXNwYXRjaGVkLlxuICogbG9hZGVyLm9uUHJvZ3Jlc3MuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGxvYWRlZC9lcnJvcmVkIGZpbGVcbiAqIGxvYWRlci5vbkVycm9yLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBlcnJvcmVkIGZpbGVcbiAqIGxvYWRlci5vbkxvYWQuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGxvYWRlZCBmaWxlXG4gKiBsb2FkZXIub25Db21wbGV0ZS5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSB3aGVuIHRoZSBxdWV1ZWQgcmVzb3VyY2VzIGFsbCBsb2FkLlxuICogYGBgXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcmVzb3VyY2UtbG9hZGVyXG4gKlxuICogQGNsYXNzIExvYWRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwYXJhbSB7c3RyaW5nfSBbYmFzZVVybD0nJ10gLSBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW5jeT0xMF0gLSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAqL1xudmFyIExvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTG9hZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExvYWRlcihiYXNlVXJsLCBjb25jdXJyZW5jeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBiYXNlVXJsLCBjb25jdXJyZW5jeSkgfHwgdGhpcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBMb2FkZXIuX3BsdWdpbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwbHVnaW4gPSBMb2FkZXIuX3BsdWdpbnNbaV07XG4gICAgICAgICAgICB2YXIgcHJlID0gcGx1Z2luLnByZSwgdXNlID0gcGx1Z2luLnVzZTtcbiAgICAgICAgICAgIGlmIChwcmUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcmUocHJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1c2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy51c2UodXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhpcyBsb2FkZXIgY2Fubm90IGJlIGRlc3Ryb3llZC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wcm90ZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSBsb2FkZXIsIHJlbW92ZXMgcmVmZXJlbmNlcy5cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gICAgICogQG1ldGhvZCBkZXN0cm95XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIExvYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wcm90ZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvYWRlciwgXCJzaGFyZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBwcmVtYWRlIGluc3RhbmNlIG9mIHRoZSBsb2FkZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBsb2FkIHJlc291cmNlcy5cbiAgICAgICAgICogQG5hbWUgc2hhcmVkXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkxvYWRlcn1cbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNoYXJlZCA9IExvYWRlci5fc2hhcmVkO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWQpIHtcbiAgICAgICAgICAgICAgICBzaGFyZWQgPSBuZXcgTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgc2hhcmVkLl9wcm90ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIExvYWRlci5fc2hhcmVkID0gc2hhcmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNoYXJlZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBMb2FkZXIgcGx1Z2luIGZvciB0aGUgZ2xvYmFsIHNoYXJlZCBsb2FkZXIgYW5kIGFsbFxuICAgICAqIG5ldyBMb2FkZXIgaW5zdGFuY2VzIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1ldGhvZCByZWdpc3RlclBsdWdpblxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICAgICAqIEBwYXJhbSB7UElYSS5JTG9hZGVyUGx1Z2lufSBwbHVnaW4gLSBUaGUgcGx1Z2luIHRvIGFkZFxuICAgICAqIEByZXR1cm4ge1BJWEkuTG9hZGVyfSBSZWZlcmVuY2UgdG8gUElYSS5Mb2FkZXIgZm9yIGNoYWluaW5nXG4gICAgICovXG4gICAgTG9hZGVyLnJlZ2lzdGVyUGx1Z2luID0gZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICBMb2FkZXIuX3BsdWdpbnMucHVzaChwbHVnaW4pO1xuICAgICAgICBpZiAocGx1Z2luLmFkZCkge1xuICAgICAgICAgICAgcGx1Z2luLmFkZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBMb2FkZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGFsbCBpbnN0YWxsZWQgYHVzZWAgbWlkZGxld2FyZSBmb3IgTG9hZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge0FycmF5PFBJWEkuSUxvYWRlclBsdWdpbj59IF9wbHVnaW5zXG4gICAgICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBMb2FkZXIuX3BsdWdpbnMgPSBbXTtcbiAgICByZXR1cm4gTG9hZGVyO1xufShMb2FkZXIkMSkpO1xuLy8gcGFyc2UgYW55IGJsb2IgaW50byBtb3JlIHVzYWJsZSBvYmplY3RzIChlLmcuIEltYWdlKVxuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKHsgdXNlOiBtaWRkbGV3YXJlLnBhcnNpbmcgfSk7XG4vLyBwYXJzZSBhbnkgSW1hZ2Ugb2JqZWN0cyBpbnRvIHRleHR1cmVzXG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oVGV4dHVyZUxvYWRlcik7XG4vKipcbiAqIFBsdWdpbiB0byBiZSBpbnN0YWxsZWQgZm9yIGhhbmRsaW5nIHNwZWNpZmljIExvYWRlciByZXNvdXJjZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElMb2FkZXJQbHVnaW5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFthZGRdIC0gRnVuY3Rpb24gdG8gY2FsbCBpbW1lZGlhdGUgYWZ0ZXIgcmVnaXN0ZXJpbmcgcGx1Z2luLlxuICogQHByb3BlcnR5IHtQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlfSBbcHJlXSAtIE1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcnVuIGJlZm9yZSBsb2FkLCB0aGVcbiAqICAgICAgICAgICBhcmd1bWVudHMgZm9yIHRoaXMgYXJlIGAocmVzb3VyY2UsIG5leHQpYFxuICogQHByb3BlcnR5IHtQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlfSBbdXNlXSAtIE1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcnVuIGFmdGVyIGxvYWQsIHRoZVxuICogICAgICAgICAgIGFyZ3VtZW50cyBmb3IgdGhpcyBhcmUgYChyZXNvdXJjZSwgbmV4dClgXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQ2FsbGJhY2tJRFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICogQHR5cGVkZWYge2Z1bmN0aW9ufSBJU2lnbmFsQ2FsbGJhY2tcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2sgZnVuY3Rpb25cbiAqIEBwYXJhbSB7b2JqZWN0fSBbY29udGV4dF0gLSBDb250ZXh0XG4gKiBAcmV0dXJucyB7SUNhbGxiYWNrSUR9IC0gQ2FsbGJhY2tJRFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICogQHR5cGVkZWYge2Z1bmN0aW9ufSBJU2lnbmFsRGV0YWNoXG4gKiBAcGFyYW0ge0lDYWxsYmFja0lEfSBpZCAtIENhbGxiYWNrSUQgcmV0dXJuZWQgYnkgYGFkZGAvYG9uY2VgIG1ldGhvZHNcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAqIEB0eXBlZGVmIElMb2FkZXJTaWduYWxcbiAqIEBwcm9wZXJ0eSB7SVNpZ25hbENhbGxiYWNrfSBhZGQgLSBSZWdpc3RlciBjYWxsYmFja1xuICogQHByb3BlcnR5IHtJU2lnbmFsQ2FsbGJhY2t9IG9uY2UgLSBSZWdpc3RlciBvbmVzaG90IGNhbGxiYWNrXG4gKiBAcHJvcGVydHkge0lTaWduYWxEZXRhY2h9IGRldGFjaCAtIERldGFjaCBzcGVjaWZpYyBjYWxsYmFjayBieSBJRFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICogQGNhbGxiYWNrIGxvYWRlck1pZGRsZXdhcmVcbiAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAZGVzY3JpcHRpb24gRGlzcGF0Y2hlZCB3aGVuIHRoZSBsb2FkZXIgYmVnaW5zIHRvIGxvYWRpbmcgcHJvY2Vzcy5cbiAqIEBtZW1iZXIge1BJWEkuTG9hZGVyLklMb2FkZXJTaWduYWx9IG9uU3RhcnRcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAZGVzY3JpcHRpb24gRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgb3IgZXJyb3JlZCByZXNvdXJjZS5cbiAqIEBtZW1iZXIge1BJWEkuTG9hZGVyLklMb2FkZXJTaWduYWx9IG9uUHJvZ3Jlc3NcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAZGVzY3JpcHRpb24gRGlzcGF0Y2hlZCBvbmNlIHBlciBlcnJvcmVkIHJlc291cmNlLlxuICogQG1lbWJlciB7UElYSS5Mb2FkZXIuSUxvYWRlclNpZ25hbH0gb25FcnJvclxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBkZXNjcmlwdGlvbiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCByZXNvdXJjZS5cbiAqIEBtZW1iZXIge1BJWEkuTG9hZGVyLklMb2FkZXJTaWduYWx9IG9uTG9hZFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBkZXNjcmlwdGlvbiBEaXNwYXRjaGVkIHdoZW4gY29tcGxldGVseSBsb2FkZWQgYWxsIHJlc291cmNlcy5cbiAqIEBtZW1iZXIge1BJWEkuTG9hZGVyLklMb2FkZXJTaWduYWx9IG9uQ29tcGxldGVcbiAqL1xuXG4vKipcbiAqIEFwcGxpY2F0aW9uIHBsdWdpbiBmb3Igc3VwcG9ydGluZyBsb2FkZXIgb3B0aW9uLiBJbnN0YWxsaW5nIHRoZSBMb2FkZXJQbHVnaW5cbiAqIGlzIG5vdCBuZWNlc3NhcnkgaWYgdXNpbmcgKipwaXhpLmpzKiogb3IgKipwaXhpLmpzLWxlZ2FjeSoqLlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7QXBwTG9hZGVyUGx1Z2lufSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbiAqIGltcG9ydCB7QXBwbGljYXRpb259IGZyb20gJ0BwaXhpL2FwcCc7XG4gKiBBcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihBcHBMb2FkZXJQbHVnaW4pO1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQXBwTG9hZGVyUGx1Z2luID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFwcExvYWRlclBsdWdpbigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIG9uIGFwcGxpY2F0aW9uIGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFwcExvYWRlclBsdWdpbi5pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgc2hhcmVkTG9hZGVyOiBmYWxzZSxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2FkZXIgaW5zdGFuY2UgdG8gaGVscCB3aXRoIGFzc2V0IGxvYWRpbmcuXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQXBwbGljYXRpb24jbG9hZGVyXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkxvYWRlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvYWRlciA9IG9wdGlvbnMuc2hhcmVkTG9hZGVyID8gTG9hZGVyLnNoYXJlZCA6IG5ldyBMb2FkZXIoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGFwcGxpY2F0aW9uIGRlc3Ryb3llZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQXBwTG9hZGVyUGx1Z2luLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmxvYWRlcikge1xuICAgICAgICAgICAgdGhpcy5sb2FkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5sb2FkZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQXBwTG9hZGVyUGx1Z2luO1xufSgpKTtcblxuZXhwb3J0IHsgQXBwTG9hZGVyUGx1Z2luLCBMb2FkZXIsIExvYWRlclJlc291cmNlLCBUZXh0dXJlTG9hZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkZXJzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9wYXJ0aWNsZXMgLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvcGFydGljbGVzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQkxFTkRfTU9ERVMsIFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgaGV4MnJnYiwgY3JlYXRlSW5kaWNlc0ZvclF1YWRzLCBjb3JyZWN0QmxlbmRNb2RlLCBwcmVtdWx0aXBseVJnYmEsIHByZW11bHRpcGx5VGludCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IEdlb21ldHJ5LCBCdWZmZXIsIFNoYWRlciwgU3RhdGUsIE9iamVjdFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogVGhlIFBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGlzIGEgcmVhbGx5IGZhc3QgdmVyc2lvbiBvZiB0aGUgQ29udGFpbmVyIGJ1aWx0IHNvbGVseSBmb3Igc3BlZWQsXG4gKiBzbyB1c2Ugd2hlbiB5b3UgbmVlZCBhIGxvdCBvZiBzcHJpdGVzIG9yIHBhcnRpY2xlcy5cbiAqXG4gKiBUaGUgdHJhZGVvZmYgb2YgdGhlIFBhcnRpY2xlQ29udGFpbmVyIGlzIHRoYXQgbW9zdCBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IHdpbGwgbm90IHdvcmsuXG4gKiBQYXJ0aWNsZUNvbnRhaW5lciBpbXBsZW1lbnRzIHRoZSBiYXNpYyBvYmplY3QgdHJhbnNmb3JtIChwb3NpdGlvbiwgc2NhbGUsIHJvdGF0aW9uKVxuICogYW5kIHNvbWUgYWR2YW5jZWQgZnVuY3Rpb25hbGl0eSBsaWtlIHRpbnQgKGFzIG9mIHY0LjUuNikuXG4gKlxuICogT3RoZXIgbW9yZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgbWFza2luZywgY2hpbGRyZW4sIGZpbHRlcnMsIGV0YyB3aWxsIG5vdCB3b3JrIG9uIHNwcml0ZXMgaW4gdGhpcyBiYXRjaC5cbiAqXG4gKiBJdCdzIGV4dHJlbWVseSBlYXN5IHRvIHVzZTpcbiAqIGBgYGpzXG4gKiBsZXQgY29udGFpbmVyID0gbmV3IFBhcnRpY2xlQ29udGFpbmVyKCk7XG4gKlxuICogZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7ICsraSlcbiAqIHtcbiAqICAgICBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcIm15SW1hZ2UucG5nXCIpO1xuICogICAgIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICogfVxuICogYGBgXG4gKlxuICogQW5kIGhlcmUgeW91IGhhdmUgYSBodW5kcmVkIHNwcml0ZXMgdGhhdCB3aWxsIGJlIHJlbmRlcmVkIGF0IHRoZSBzcGVlZCBvZiBsaWdodC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBhcnRpY2xlQ29udGFpbmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4U2l6ZT0xNTAwXSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiBwYXJ0aWNsZXMgdGhhdCBjYW4gYmUgcmVuZGVyZWQgYnkgdGhlIGNvbnRhaW5lci5cbiAgICAgKiAgQWZmZWN0cyBzaXplIG9mIGFsbG9jYXRlZCBidWZmZXJzLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbcHJvcGVydGllc10gLSBUaGUgcHJvcGVydGllcyBvZiBjaGlsZHJlbiB0aGF0IHNob3VsZCBiZSB1cGxvYWRlZCB0byB0aGUgZ3B1IGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudmVydGljZXM9ZmFsc2VdIC0gV2hlbiB0cnVlLCB2ZXJ0aWNlcyBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiAgICAgICAgICAgICAgICAgIGlmIHNwcml0ZSdzIGAgc2NhbGUvYW5jaG9yL3RyaW0vZnJhbWUvb3JpZ2AgaXMgZHluYW1pYywgcGxlYXNlIHNldCBgdHJ1ZWAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy5wb3NpdGlvbj10cnVlXSAtIFdoZW4gdHJ1ZSwgcG9zaXRpb24gYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy5yb3RhdGlvbj1mYWxzZV0gLSBXaGVuIHRydWUsIHJvdGF0aW9uIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudXZzPWZhbHNlXSAtIFdoZW4gdHJ1ZSwgdXZzIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudGludD1mYWxzZV0gLSBXaGVuIHRydWUsIGFscGhhIGFuZCB0aW50IGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYmF0Y2hTaXplPTE2Mzg0XSAtIE51bWJlciBvZiBwYXJ0aWNsZXMgcGVyIGJhdGNoLiBJZiBsZXNzIHRoYW4gbWF4U2l6ZSwgaXQgdXNlcyBtYXhTaXplIGluc3RlYWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1Jlc2l6ZT1mYWxzZV0gLSBJZiB0cnVlLCBjb250YWluZXIgYWxsb2NhdGVzIG1vcmUgYmF0Y2hlcyBpbiBjYXNlXG4gICAgICogIHRoZXJlIGFyZSBtb3JlIHRoYW4gYG1heFNpemVgIHBhcnRpY2xlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQYXJ0aWNsZUNvbnRhaW5lcihtYXhTaXplLCBwcm9wZXJ0aWVzLCBiYXRjaFNpemUsIGF1dG9SZXNpemUpIHtcbiAgICAgICAgaWYgKG1heFNpemUgPT09IHZvaWQgMCkgeyBtYXhTaXplID0gMTUwMDsgfVxuICAgICAgICBpZiAoYmF0Y2hTaXplID09PSB2b2lkIDApIHsgYmF0Y2hTaXplID0gMTYzODQ7IH1cbiAgICAgICAgaWYgKGF1dG9SZXNpemUgPT09IHZvaWQgMCkgeyBhdXRvUmVzaXplID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLy8gTWFraW5nIHN1cmUgdGhlIGJhdGNoIHNpemUgaXMgdmFsaWRcbiAgICAgICAgLy8gNjU1MzUgaXMgbWF4IHZlcnRleCBpbmRleCBpbiB0aGUgaW5kZXggYnVmZmVyIChzZWUgUGFydGljbGVSZW5kZXJlcilcbiAgICAgICAgLy8gc28gbWF4IG51bWJlciBvZiBwYXJ0aWNsZXMgaXMgNjU1MzYgLyA0ID0gMTYzODRcbiAgICAgICAgdmFyIG1heEJhdGNoU2l6ZSA9IDE2Mzg0O1xuICAgICAgICBpZiAoYmF0Y2hTaXplID4gbWF4QmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBiYXRjaFNpemUgPSBtYXhCYXRjaFNpemU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBwcm9wZXJ0aWVzIHRvIGJlIGR5bmFtaWMgKHRydWUpIC8gc3RhdGljIChmYWxzZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3Byb3BlcnRpZXMgPSBbZmFsc2UsIHRydWUsIGZhbHNlLCBmYWxzZSwgZmFsc2VdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21heFNpemUgPSBtYXhTaXplO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhdGNoU2l6ZSA9IGJhdGNoU2l6ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PFBJWEkuQnVmZmVyPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9idWZmZXJzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGZvciBldmVyeSBiYXRjaCBzdG9yZXMgX3VwZGF0ZUlEIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGxhc3QgY2hhbmdlIGluIHRoYXQgYmF0Y2hcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYnVmZmVyVXBkYXRlSURzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB3aGVuIGNoaWxkIGluc2VydGVkLCByZW1vdmVkIG9yIGNoYW5nZXMgcG9zaXRpb24gdGhpcyBudW1iZXIgZ29lcyB1cFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGBcbiAgICAgICAgICogdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlLCBjb250YWluZXIgYWxsb2NhdGVzIG1vcmUgYmF0Y2hlcyBpbiBjYXNlIHRoZXJlIGFyZSBtb3JlIHRoYW4gYG1heFNpemVgIHBhcnRpY2xlcy5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9SZXNpemUgPSBhdXRvUmVzaXplO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAgICAgKiBEZWZhdWx0IHRvIHRydWUgaGVyZSBhcyBwZXJmb3JtYW5jZSBpcyB1c3VhbGx5IHRoZSBwcmlvcml0eSBmb3IgcGFydGljbGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yb3VuZFBpeGVscyA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB1c2VkIHRvIHJlbmRlciB0aGUgY2hpbGRyZW4uXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgICAgICBfdGhpcy5zZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLlxuICAgICAgICAgKiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RpbnQgPSAwO1xuICAgICAgICBfdGhpcy50aW50UmdiID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICAgICAgX3RoaXMudGludCA9IDB4RkZGRkZGO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHByaXZhdGUgcHJvcGVydGllcyBhcnJheSB0byBkeW5hbWljIC8gc3RhdGljIGJhc2VkIG9uIHRoZSBwYXNzZWQgcHJvcGVydGllcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wZXJ0aWVzIC0gVGhlIHByb3BlcnRpZXMgdG8gYmUgdXBsb2FkZWRcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUuc2V0UHJvcGVydGllcyA9IGZ1bmN0aW9uIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGlmIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzBdID0gJ3ZlcnRpY2VzJyBpbiBwcm9wZXJ0aWVzIHx8ICdzY2FsZScgaW4gcHJvcGVydGllc1xuICAgICAgICAgICAgICAgID8gISFwcm9wZXJ0aWVzLnZlcnRpY2VzIHx8ICEhcHJvcGVydGllcy5zY2FsZSA6IHRoaXMuX3Byb3BlcnRpZXNbMF07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzFdID0gJ3Bvc2l0aW9uJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnBvc2l0aW9uIDogdGhpcy5fcHJvcGVydGllc1sxXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMl0gPSAncm90YXRpb24nIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMucm90YXRpb24gOiB0aGlzLl9wcm9wZXJ0aWVzWzJdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1szXSA9ICd1dnMnIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMudXZzIDogdGhpcy5fcHJvcGVydGllc1szXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbNF0gPSAndGludCcgaW4gcHJvcGVydGllcyB8fCAnYWxwaGEnIGluIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICA/ICEhcHJvcGVydGllcy50aW50IHx8ICEhcHJvcGVydGllcy5hbHBoYSA6IHRoaXMuX3Byb3BlcnRpZXNbNF07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBUT0RPIGRvbid0IG5lZWQgdG8hXG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZSwgXCJ0aW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lci4gVGhpcyBpcyBhIGhleCB2YWx1ZS5cbiAgICAgICAgICogQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSBXZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICAgICAgaGV4MnJnYih2YWx1ZSwgdGhpcy50aW50UmdiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGNvbnRhaW5lciB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSB3ZWJnbCByZW5kZXJlclxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMuY2hpbGRyZW4ubGVuZ3RoIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSB0aGlzLmNoaWxkcmVuWzBdLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vbmNlKCd1cGRhdGUnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKDApOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zLnBhcnRpY2xlKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZS5yZW5kZXIodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGZsYWcgdGhhdCBzdGF0aWMgZGF0YSBzaG91bGQgYmUgdXBkYXRlZCB0byB0cnVlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzbWFsbGVzdENoaWxkSW5kZXggLSBUaGUgc21hbGxlc3QgY2hpbGQgaW5kZXhcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUub25DaGlsZHJlbkNoYW5nZSA9IGZ1bmN0aW9uIChzbWFsbGVzdENoaWxkSW5kZXgpIHtcbiAgICAgICAgdmFyIGJ1ZmZlckluZGV4ID0gTWF0aC5mbG9vcihzbWFsbGVzdENoaWxkSW5kZXggLyB0aGlzLl9iYXRjaFNpemUpO1xuICAgICAgICB3aGlsZSAodGhpcy5fYnVmZmVyVXBkYXRlSURzLmxlbmd0aCA8IGJ1ZmZlckluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMucHVzaCgwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHNbYnVmZmVySW5kZXhdID0gKyt0aGlzLl91cGRhdGVJRDtcbiAgICB9O1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fYnVmZmVycykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGNvbnRhaW5lclxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fcHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFBhcnRpY2xlQ29udGFpbmVyO1xufShDb250YWluZXIpKTtcblxuLyoqXG4gKiBAYXV0aG9yIE1hdCBHcm92ZXNcbiAqXG4gKiBCaWcgdGhhbmtzIHRvIHRoZSB2ZXJ5IGNsZXZlciBNYXR0IERlc0xhdXJpZXJzIDxtYXR0ZGVzbD4gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL1xuICogZm9yIGNyZWF0aW5nIHRoZSBvcmlnaW5hbCBQaXhpSlMgdmVyc2lvbiFcbiAqIEFsc28gYSB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL2JjaGV2YWxpZXIgZm9yIHR3ZWFraW5nIHRoZSB0aW50IGFuZCBhbHBoYSBzbyB0aGF0XG4gKiB0aGV5IG5vdyBzaGFyZSA0IGJ5dGVzIG9uIHRoZSB2ZXJ0ZXggYnVmZmVyXG4gKlxuICogSGVhdmlseSBpbnNwaXJlZCBieSBMaWJHRFgncyBQYXJ0aWNsZUJ1ZmZlcjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJnZHgvbGliZ2R4L2Jsb2IvbWFzdGVyL2dkeC9zcmMvY29tL2JhZGxvZ2ljL2dkeC9ncmFwaGljcy9nMmQvUGFydGljbGVCdWZmZXIuamF2YVxuICovXG4vKipcbiAqIFRoZSBwYXJ0aWNsZSBidWZmZXIgbWFuYWdlcyB0aGUgc3RhdGljIGFuZCBkeW5hbWljIGJ1ZmZlcnMgZm9yIGEgcGFydGljbGUgY29udGFpbmVyLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZUJ1ZmZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wZXJ0aWVzIC0gVGhlIHByb3BlcnRpZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbltdfSBkeW5hbWljUHJvcGVydHlGbGFncyAtIEZsYWdzIGZvciB3aGljaCBwcm9wZXJ0aWVzIGFyZSBkeW5hbWljLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gVGhlIHNpemUgb2YgdGhlIGJhdGNoLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhcnRpY2xlQnVmZmVyKHByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBzaXplKSB7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkoKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIHBhcnRpY2xlcyB0aGUgYnVmZmVyIGNhbiBob2xkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgdGhlIHByb3BlcnRpZXMgdGhhdCBhcmUgZHluYW1pYy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgdGhlIHByb3BlcnRpZXMgdGhhdCBhcmUgc3RhdGljLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGljUHJvcGVydGllcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICAvLyBNYWtlIGNvcHkgb2YgcHJvcGVydGllcyBvYmplY3Qgc28gdGhhdCB3aGVuIHdlIGVkaXQgdGhlIG9mZnNldCBpdCBkb2Vzbid0XG4gICAgICAgICAgICAvLyBjaGFuZ2UgYWxsIG90aGVyIGluc3RhbmNlcyBvZiB0aGUgb2JqZWN0IGxpdGVyYWxcbiAgICAgICAgICAgIHByb3BlcnR5ID0ge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6IHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsXG4gICAgICAgICAgICAgICAgc2l6ZTogcHJvcGVydHkuc2l6ZSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogcHJvcGVydHkudXBsb2FkRnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgdHlwZTogcHJvcGVydHkudHlwZSB8fCBUWVBFUy5GTE9BVCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHByb3BlcnR5Lm9mZnNldCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZHluYW1pY1Byb3BlcnR5RmxhZ3NbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGljU3RyaWRlID0gMDtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICAgICAgdGhpcy5pbml0QnVmZmVycygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGFydGljbGVCdWZmZXIucHJvdG90eXBlLmluaXRCdWZmZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgICAgICB2YXIgZHluYW1pY09mZnNldCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb2xkcyB0aGUgaW5kaWNlcyBvZiB0aGUgZ2VvbWV0cnkgKHF1YWRzKSB0byBkcmF3XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIoY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHRoaXMuc2l6ZSksIHRydWUsIHRydWUpO1xuICAgICAgICBnZW9tZXRyeS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKTtcbiAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgcHJvcGVydHkub2Zmc2V0ID0gZHluYW1pY09mZnNldDtcbiAgICAgICAgICAgIGR5bmFtaWNPZmZzZXQgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkeW5CdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplICogdGhpcy5keW5hbWljU3RyaWRlICogNCAqIDQpO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbmV3IEZsb2F0MzJBcnJheShkeW5CdWZmZXIpO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy5keW5hbWljRGF0YSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgLy8gc3RhdGljIC8vXG4gICAgICAgIHZhciBzdGF0aWNPZmZzZXQgPSAwO1xuICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLnN0YXRpY1Byb3BlcnRpZXNbaV07XG4gICAgICAgICAgICBwcm9wZXJ0eS5vZmZzZXQgPSBzdGF0aWNPZmZzZXQ7XG4gICAgICAgICAgICBzdGF0aWNPZmZzZXQgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGljU3RyaWRlICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXRCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplICogdGhpcy5zdGF0aWNTdHJpZGUgKiA0ICogNCk7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoc3RhdEJ1ZmZlcik7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG5ldyBVaW50MzJBcnJheShzdGF0QnVmZmVyKTtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBuZXcgQnVmZmVyKHRoaXMuc3RhdGljRGF0YSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG4gICAgICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUocHJvcGVydHkuYXR0cmlidXRlTmFtZSwgdGhpcy5keW5hbWljQnVmZmVyLCAwLCBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFLCBwcm9wZXJ0eS50eXBlLCB0aGlzLmR5bmFtaWNTdHJpZGUgKiA0LCBwcm9wZXJ0eS5vZmZzZXQgKiA0KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsIHRoaXMuc3RhdGljQnVmZmVyLCAwLCBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFLCBwcm9wZXJ0eS50eXBlLCB0aGlzLnN0YXRpY1N0cmlkZSAqIDQsIHByb3BlcnR5Lm9mZnNldCAqIDQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBkeW5hbWljIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gVGhlIGNoaWxkcmVuIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIFRoZSBpbmRleCB0byBzdGFydCBhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gVGhlIG51bWJlciB0byB1cGxvYWQuXG4gICAgICovXG4gICAgUGFydGljbGVCdWZmZXIucHJvdG90eXBlLnVwbG9hZER5bmFtaWMgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG4gICAgICAgICAgICBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFID8gdGhpcy5keW5hbWljRGF0YVVpbnQzMiA6IHRoaXMuZHluYW1pY0RhdGEsIHRoaXMuZHluYW1pY1N0cmlkZSwgcHJvcGVydHkub2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBzdGF0aWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gVGhlIGluZGV4IHRvIHN0YXJ0IGF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUudXBsb2FkU3RhdGljID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUgPyB0aGlzLnN0YXRpY0RhdGFVaW50MzIgOiB0aGlzLnN0YXRpY0RhdGEsIHRoaXMuc3RhdGljU3RyaWRlLCBwcm9wZXJ0eS5vZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyLl91cGRhdGVJRCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIFBhcnRpY2xlQnVmZmVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljUHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbnVsbDtcbiAgICAgICAgLy8gYWxsIGJ1ZmZlcnMgYXJlIGRlc3Ryb3llZCBpbnNpZGUgZ2VvbWV0cnlcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5kZXN0cm95KCk7XG4gICAgfTtcbiAgICByZXR1cm4gUGFydGljbGVCdWZmZXI7XG59KCkpO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvcjtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVwiO1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjNCBhQ29sb3I7XFxuXFxuYXR0cmlidXRlIHZlYzIgYVBvc2l0aW9uQ29vcmQ7XFxuYXR0cmlidXRlIGZsb2F0IGFSb3RhdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgZmxvYXQgeCA9IChhVmVydGV4UG9zaXRpb24ueCkgKiBjb3MoYVJvdGF0aW9uKSAtIChhVmVydGV4UG9zaXRpb24ueSkgKiBzaW4oYVJvdGF0aW9uKTtcXG4gICAgZmxvYXQgeSA9IChhVmVydGV4UG9zaXRpb24ueCkgKiBzaW4oYVJvdGF0aW9uKSArIChhVmVydGV4UG9zaXRpb24ueSkgKiBjb3MoYVJvdGF0aW9uKTtcXG5cXG4gICAgdmVjMiB2ID0gdmVjMih4LCB5KTtcXG4gICAgdiA9IHYgKyBhUG9zaXRpb25Db29yZDtcXG5cXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCh0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzModiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZDb2xvciA9IGFDb2xvciAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdCB0aGV5IG5vd1xuICogc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgUGFydGljbGVSZW5kZXJlcjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJnZHgvbGliZ2R4L2Jsb2IvbWFzdGVyL2dkeC9zcmMvY29tL2JhZGxvZ2ljL2dkeC9ncmFwaGljcy9nMmQvUGFydGljbGVSZW5kZXJlci5qYXZhXG4gKi9cbi8qKlxuICogUmVuZGVyZXIgZm9yIFBhcnRpY2xlcyB0aGF0IGlzIGRlc2lnbmVyIGZvciBzcGVlZCBvdmVyIGZlYXR1cmUgc2V0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBhcnRpY2xlUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBhcnRpY2xlUmVuZGVyZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIHNwcml0ZSBiYXRjaCB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGFydGljbGVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLy8gNjU1MzUgaXMgbWF4IHZlcnRleCBpbmRleCBpbiB0aGUgaW5kZXggYnVmZmVyIChzZWUgUGFydGljbGVSZW5kZXJlcilcbiAgICAgICAgLy8gc28gbWF4IG51bWJlciBvZiBwYXJ0aWNsZXMgaXMgNjU1MzYgLyA0ID0gMTYzODRcbiAgICAgICAgLy8gYW5kIG1heCBudW1iZXIgb2YgZWxlbWVudCBpbiB0aGUgaW5kZXggYnVmZmVyIGlzIDE2Mzg0ICogNiA9IDk4MzA0XG4gICAgICAgIC8vIENyZWF0aW5nIGEgZnVsbCBpbmRleCBidWZmZXIsIG92ZXJoZWFkIGlzIDk4MzA0ICogMiA9IDE5NktvXG4gICAgICAgIC8vIGxldCBudW1JbmRpY2VzID0gOTgzMDQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzaGFkZXIgdGhhdCBpcyB1c2VkIGlmIGEgc3ByaXRlIGRvZXNuJ3QgaGF2ZSBhIG1vcmUgc3BlY2lmaWMgb25lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIF90aGlzLnByb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICBfdGhpcy50ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICBfdGhpcy5wcm9wZXJ0aWVzID0gW1xuICAgICAgICAgICAgLy8gdmVydGljZXNEYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FWZXJ0ZXhQb3NpdGlvbicsXG4gICAgICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogX3RoaXMudXBsb2FkVmVydGljZXMsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHBvc2l0aW9uRGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhUG9zaXRpb25Db29yZCcsXG4gICAgICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogX3RoaXMudXBsb2FkUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHJvdGF0aW9uRGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhUm90YXRpb24nLFxuICAgICAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IF90aGlzLnVwbG9hZFJvdGF0aW9uLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB1dnNEYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FUZXh0dXJlQ29vcmQnLFxuICAgICAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IF90aGlzLnVwbG9hZFV2cyxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gdGludERhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYUNvbG9yJyxcbiAgICAgICAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgICAgICAgIHR5cGU6IFRZUEVTLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IF90aGlzLnVwbG9hZFRpbnQsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSBdO1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBTaGFkZXIuZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50LCB7fSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgc3RhdGUgaW4gd2hpY2ggdGhpcyByZW5kZXJlciB3aWxsIHdvcmsuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIHBhcnRpY2xlIGNvbnRhaW5lciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gY29udGFpbmVyLmNoaWxkcmVuO1xuICAgICAgICB2YXIgbWF4U2l6ZSA9IGNvbnRhaW5lci5fbWF4U2l6ZTtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgdG90YWxDaGlsZHJlbiA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgaWYgKHRvdGFsQ2hpbGRyZW4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0b3RhbENoaWxkcmVuID4gbWF4U2l6ZSAmJiAhY29udGFpbmVyLmF1dG9SZXNpemUpIHtcbiAgICAgICAgICAgIHRvdGFsQ2hpbGRyZW4gPSBtYXhTaXplO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWZmZXJzID0gY29udGFpbmVyLl9idWZmZXJzO1xuICAgICAgICBpZiAoIWJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIGJ1ZmZlcnMgPSBjb250YWluZXIuX2J1ZmZlcnMgPSB0aGlzLmdlbmVyYXRlQnVmZmVycyhjb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IGNoaWxkcmVuWzBdLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAvLyBpZiB0aGUgdXZzIGhhdmUgbm90IHVwZGF0ZWQgdGhlbiBubyBwb2ludCByZW5kZXJpbmcganVzdCB5ZXQhXG4gICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gY29ycmVjdEJsZW5kTW9kZShjb250YWluZXIuYmxlbmRNb2RlLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUpO1xuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgbSA9IGNvbnRhaW5lci53b3JsZFRyYW5zZm9ybS5jb3B5VG8odGhpcy50ZW1wTWF0cml4KTtcbiAgICAgICAgbS5wcmVwZW5kKHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnVuaWZvcm1zLnByb2plY3Rpb25NYXRyaXgpO1xuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IG0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgdGhpcy5zaGFkZXIudW5pZm9ybXMudUNvbG9yID0gcHJlbXVsdGlwbHlSZ2JhKGNvbnRhaW5lci50aW50UmdiLCBjb250YWluZXIud29ybGRBbHBoYSwgdGhpcy5zaGFkZXIudW5pZm9ybXMudUNvbG9yLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUpO1xuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51U2FtcGxlciA9IGJhc2VUZXh0dXJlO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNoYWRlci5iaW5kKHRoaXMuc2hhZGVyKTtcbiAgICAgICAgdmFyIHVwZGF0ZVN0YXRpYyA9IGZhbHNlO1xuICAgICAgICAvLyBub3cgbGV0cyB1cGxvYWQgYW5kIHJlbmRlciB0aGUgYnVmZmVycy4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsQ2hpbGRyZW47IGkgKz0gYmF0Y2hTaXplLCBqICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBhbW91bnQgPSAodG90YWxDaGlsZHJlbiAtIGkpO1xuICAgICAgICAgICAgaWYgKGFtb3VudCA+IGJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgICAgIGFtb3VudCA9IGJhdGNoU2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChqID49IGJ1ZmZlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVycy5wdXNoKHRoaXMuX2dlbmVyYXRlT25lTW9yZUJ1ZmZlcihjb250YWluZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBidWZmZXJzW2pdO1xuICAgICAgICAgICAgLy8gd2UgYWx3YXlzIHVwbG9hZCB0aGUgZHluYW1pY1xuICAgICAgICAgICAgYnVmZmVyLnVwbG9hZER5bmFtaWMoY2hpbGRyZW4sIGksIGFtb3VudCk7XG4gICAgICAgICAgICB2YXIgYmlkID0gY29udGFpbmVyLl9idWZmZXJVcGRhdGVJRHNbal0gfHwgMDtcbiAgICAgICAgICAgIHVwZGF0ZVN0YXRpYyA9IHVwZGF0ZVN0YXRpYyB8fCAoYnVmZmVyLl91cGRhdGVJRCA8IGJpZCk7XG4gICAgICAgICAgICAvLyB3ZSBvbmx5IHVwbG9hZCB0aGUgc3RhdGljIGNvbnRlbnQgd2hlbiB3ZSBoYXZlIHRvIVxuICAgICAgICAgICAgaWYgKHVwZGF0ZVN0YXRpYykge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fdXBkYXRlSUQgPSBjb250YWluZXIuX3VwZGF0ZUlEO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci51cGxvYWRTdGF0aWMoY2hpbGRyZW4sIGksIGFtb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBiaW5kIHRoZSBidWZmZXJcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQoYnVmZmVyLmdlb21ldHJ5KTtcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyhnbC5UUklBTkdMRVMsIGFtb3VudCAqIDYsIGdsLlVOU0lHTkVEX1NIT1JULCAwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvbmUgcGFydGljbGUgYnVmZmVyIGZvciBlYWNoIGNoaWxkIGluIHRoZSBjb250YWluZXIgd2Ugd2FudCB0byByZW5kZXIgYW5kIHVwZGF0ZXMgaW50ZXJuYWwgcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBhcnRpY2xlQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBhcnRpY2xlQnVmZmVyW119IFRoZSBidWZmZXJzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5nZW5lcmF0ZUJ1ZmZlcnMgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgIHZhciBidWZmZXJzID0gW107XG4gICAgICAgIHZhciBzaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciBkeW5hbWljUHJvcGVydHlGbGFncyA9IGNvbnRhaW5lci5fcHJvcGVydGllcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpICs9IGJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgYnVmZmVycy5wdXNoKG5ldyBQYXJ0aWNsZUJ1ZmZlcih0aGlzLnByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBiYXRjaFNpemUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmZmVycztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb25lIG1vcmUgcGFydGljbGUgYnVmZmVyLCBiZWNhdXNlIGNvbnRhaW5lciBoYXMgYXV0b1Jlc2l6ZSBmZWF0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1BJWEkuUGFydGljbGVCdWZmZXJ9IGdlbmVyYXRlZCBidWZmZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgIHZhciBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgdmFyIGR5bmFtaWNQcm9wZXJ0eUZsYWdzID0gY29udGFpbmVyLl9wcm9wZXJ0aWVzO1xuICAgICAgICByZXR1cm4gbmV3IFBhcnRpY2xlQnVmZmVyKHRoaXMucHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIGJhdGNoU2l6ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHZlcnRpY2VzIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRWZXJ0aWNlcyA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIHcwID0gMDtcbiAgICAgICAgdmFyIHcxID0gMDtcbiAgICAgICAgdmFyIGgwID0gMDtcbiAgICAgICAgdmFyIGgxID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXTtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICAgICAgdmFyIHN4ID0gc3ByaXRlLnNjYWxlLng7XG4gICAgICAgICAgICB2YXIgc3kgPSBzcHJpdGUuc2NhbGUueTtcbiAgICAgICAgICAgIHZhciB0cmltID0gdGV4dHVyZS50cmltO1xuICAgICAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG4gICAgICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZCBhbmQgaXMgbm90IGEgdGlsaW5nc3ByaXRlIHRoZW4gd2UgbmVlZCB0byBhZGQgdGhlXG4gICAgICAgICAgICAgICAgLy8gZXh0cmEgc3BhY2UgYmVmb3JlIHRyYW5zZm9ybWluZyB0aGUgc3ByaXRlIGNvb3Jkcy4uXG4gICAgICAgICAgICAgICAgdzEgPSB0cmltLnggLSAoc3ByaXRlLmFuY2hvci54ICogb3JpZy53aWR0aCk7XG4gICAgICAgICAgICAgICAgdzAgPSB3MSArIHRyaW0ud2lkdGg7XG4gICAgICAgICAgICAgICAgaDEgPSB0cmltLnkgLSAoc3ByaXRlLmFuY2hvci55ICogb3JpZy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHcwID0gKG9yaWcud2lkdGgpICogKDEgLSBzcHJpdGUuYW5jaG9yLngpO1xuICAgICAgICAgICAgICAgIHcxID0gKG9yaWcud2lkdGgpICogLXNwcml0ZS5hbmNob3IueDtcbiAgICAgICAgICAgICAgICBoMCA9IG9yaWcuaGVpZ2h0ICogKDEgLSBzcHJpdGUuYW5jaG9yLnkpO1xuICAgICAgICAgICAgICAgIGgxID0gb3JpZy5oZWlnaHQgKiAtc3ByaXRlLmFuY2hvci55O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHcxICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IGgxICogc3k7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gdzAgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gaDEgKiBzeTtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSB3MCAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpICsgMV0gPSBoMCAqIHN5O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IHcxICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IGgwICogc3k7XG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciBwb3NpdGlvbnMgdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFBvc2l0aW9uID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlUG9zaXRpb24gPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0ucG9zaXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRSb3RhdGlvbiA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNwcml0ZVJvdGF0aW9uID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLnJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIFV2c1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFV2cyA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIHRleHR1cmVVdnMgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0uX3RleHR1cmUuX3V2cztcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlVXZzKSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHRleHR1cmVVdnMueDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSB0ZXh0dXJlVXZzLnkwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSB0ZXh0dXJlVXZzLngxO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gdGV4dHVyZVV2cy55MTtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gdGV4dHVyZVV2cy54MjtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IHRleHR1cmVVdnMueTI7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IHRleHR1cmVVdnMueDM7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpICsgMV0gPSB0ZXh0dXJlVXZzLnkzO1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyB5b3Uga25vdyB0aGlzIGNhbiBiZSBlYXNpZXIhXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpICsgMV0gPSAwO1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB0aW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFRpbnQgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV07XG4gICAgICAgICAgICB2YXIgcHJlbXVsdGlwbGllZCA9IHNwcml0ZS5fdGV4dHVyZS5iYXNlVGV4dHVyZS5hbHBoYU1vZGUgPiAwO1xuICAgICAgICAgICAgdmFyIGFscGhhID0gc3ByaXRlLmFscGhhO1xuICAgICAgICAgICAgLy8gd2UgZG9udCBjYWxsIGV4dHJhIGZ1bmN0aW9uIGlmIGFscGhhIGlzIDEuMCwgdGhhdCdzIGZhc3RlclxuICAgICAgICAgICAgdmFyIGFyZ2IgPSBhbHBoYSA8IDEuMCAmJiBwcmVtdWx0aXBsaWVkXG4gICAgICAgICAgICAgICAgPyBwcmVtdWx0aXBseVRpbnQoc3ByaXRlLl90aW50UkdCLCBhbHBoYSkgOiBzcHJpdGUuX3RpbnRSR0IgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IGFyZ2I7XG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIFBhcnRpY2xlUmVuZGVyZXIuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIGlmICh0aGlzLnNoYWRlcikge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGVtcE1hdHJpeCA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gUGFydGljbGVSZW5kZXJlcjtcbn0oT2JqZWN0UmVuZGVyZXIpKTtcblxuZXhwb3J0IHsgUGFydGljbGVDb250YWluZXIsIFBhcnRpY2xlUmVuZGVyZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRpY2xlcy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZ3JhcGhpY3MgLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvZ3JhcGhpY3MgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBUZXh0dXJlLCBCYXNlVGV4dHVyZSwgQmF0Y2hEcmF3Q2FsbCwgQmF0Y2hUZXh0dXJlQXJyYXksIEJhdGNoR2VvbWV0cnksIFN0YXRlLCBVbmlmb3JtR3JvdXAsIFNoYWRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgU0hBUEVTLCBQb2ludCwgUG9seWdvbiwgUElfMiwgTWF0cml4LCBSZWN0YW5nbGUsIFJvdW5kZWRSZWN0YW5nbGUsIENpcmNsZSwgRWxsaXBzZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgZWFyY3V0LCBwcmVtdWx0aXBseVRpbnQsIGRlcHJlY2F0aW9uLCBoZXgycmdiIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgV1JBUF9NT0RFUywgRFJBV19NT0RFUywgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQm91bmRzLCBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuLyoqXG4gKiBTdXBwb3J0ZWQgbGluZSBqb2ludHMgaW4gYFBJWEkuTGluZVN0eWxlYCBmb3IgZ3JhcGhpY3MuXG4gKlxuICogQHNlZSBQSVhJLkdyYXBoaWNzI2xpbmVTdHlsZVxuICogQHNlZSBodHRwczovL2dyYXBoaWNkZXNpZ24uc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzU5MDE4L3doYXQtaXMtYS1iZXZlbC1qb2luLW9mLXR3by1saW5lcy1leGFjdGx5LWlsbHVzdHJhdG9yXG4gKlxuICogQG5hbWUgTElORV9KT0lOXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBNSVRFUiAtICdtaXRlcic6IG1ha2UgYSBzaGFycCBjb3JuZXIgd2hlcmUgb3V0ZXIgcGFydCBvZiBsaW5lcyBtZWV0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gQkVWRUwgLSAnYmV2ZWwnOiBhZGQgYSBzcXVhcmUgYnV0dCBhdCBlYWNoIGVuZCBvZiBsaW5lIHNlZ21lbnQgYW5kIGZpbGwgdGhlIHRyaWFuZ2xlIGF0IHR1cm5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBST1VORCAtICdyb3VuZCc6IGFkZCBhbiBhcmMgYXQgdGhlIGpvaW50XG4gKi9cbnZhciBMSU5FX0pPSU47XG4oZnVuY3Rpb24gKExJTkVfSk9JTikge1xuICAgIExJTkVfSk9JTltcIk1JVEVSXCJdID0gXCJtaXRlclwiO1xuICAgIExJTkVfSk9JTltcIkJFVkVMXCJdID0gXCJiZXZlbFwiO1xuICAgIExJTkVfSk9JTltcIlJPVU5EXCJdID0gXCJyb3VuZFwiO1xufSkoTElORV9KT0lOIHx8IChMSU5FX0pPSU4gPSB7fSkpO1xuLyoqXG4gKiBTdXBwb3J0IGxpbmUgY2FwcyBpbiBgUElYSS5MaW5lU3R5bGVgIGZvciBncmFwaGljcy5cbiAqXG4gKiBAc2VlIFBJWEkuR3JhcGhpY3MjbGluZVN0eWxlXG4gKlxuICogQG5hbWUgTElORV9DQVBcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7c3RyaW5nfVxuICogQHByb3BlcnR5IHtzdHJpbmd9IEJVVFQgLSAnYnV0dCc6IGRvbid0IGFkZCBhbnkgY2FwIGF0IGxpbmUgZW5kcyAobGVhdmVzIG9ydGhvZ29uYWwgZWRnZXMpXG4gKiBAcHJvcGVydHkge3N0cmluZ30gUk9VTkQgLSAncm91bmQnOiBhZGQgc2VtaWNpcmNsZSBhdCBlbmRzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gU1FVQVJFIC0gJ3NxdWFyZSc6IGFkZCBzcXVhcmUgYXQgZW5kIChsaWtlIGBCVVRUYCBleGNlcHQgbW9yZSBsZW5ndGggYXQgZW5kKVxuICovXG52YXIgTElORV9DQVA7XG4oZnVuY3Rpb24gKExJTkVfQ0FQKSB7XG4gICAgTElORV9DQVBbXCJCVVRUXCJdID0gXCJidXR0XCI7XG4gICAgTElORV9DQVBbXCJST1VORFwiXSA9IFwicm91bmRcIjtcbiAgICBMSU5FX0NBUFtcIlNRVUFSRVwiXSA9IFwic3F1YXJlXCI7XG59KShMSU5FX0NBUCB8fCAoTElORV9DQVAgPSB7fSkpO1xuLyoqXG4gKiBHcmFwaGljcyBjdXJ2ZXMgcmVzb2x1dGlvbiBzZXR0aW5ncy4gSWYgYGFkYXB0aXZlYCBmbGFnIGlzIHNldCB0byBgdHJ1ZWAsXG4gKiB0aGUgcmVzb2x1dGlvbiBpcyBjYWxjdWxhdGVkIGJhc2VkIG9uIHRoZSBjdXJ2ZSdzIGxlbmd0aCB0byBlbnN1cmUgYmV0dGVyIHZpc3VhbCBxdWFsaXR5LlxuICogQWRhcHRpdmUgZHJhdyB3b3JrcyB3aXRoIGBiZXppZXJDdXJ2ZVRvYCBhbmQgYHF1YWRyYXRpY0N1cnZlVG9gLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEdSQVBISUNTX0NVUlZFU1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYWRhcHRpdmU9ZmFsc2UgLSBmbGFnIGluZGljYXRpbmcgaWYgdGhlIHJlc29sdXRpb24gc2hvdWxkIGJlIGFkYXB0aXZlXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4TGVuZ3RoPTEwIC0gbWF4aW1hbCBsZW5ndGggb2YgYSBzaW5nbGUgc2VnbWVudCBvZiB0aGUgY3VydmUgKGlmIGFkYXB0aXZlID0gZmFsc2UsIGlnbm9yZWQpXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluU2VnbWVudHM9OCAtIG1pbmltYWwgbnVtYmVyIG9mIHNlZ21lbnRzIGluIHRoZSBjdXJ2ZSAoaWYgYWRhcHRpdmUgPSBmYWxzZSwgaWdub3JlZClcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhTZWdtZW50cz0yMDQ4IC0gbWF4aW1hbCBudW1iZXIgb2Ygc2VnbWVudHMgaW4gdGhlIGN1cnZlIChpZiBhZGFwdGl2ZSA9IGZhbHNlLCBpZ25vcmVkKVxuICovXG52YXIgR1JBUEhJQ1NfQ1VSVkVTID0ge1xuICAgIGFkYXB0aXZlOiB0cnVlLFxuICAgIG1heExlbmd0aDogMTAsXG4gICAgbWluU2VnbWVudHM6IDgsXG4gICAgbWF4U2VnbWVudHM6IDIwNDgsXG4gICAgZXBzaWxvbjogMC4wMDAxLFxuICAgIF9zZWdtZW50c0NvdW50OiBmdW5jdGlvbiAobGVuZ3RoLCBkZWZhdWx0U2VnbWVudHMpIHtcbiAgICAgICAgaWYgKGRlZmF1bHRTZWdtZW50cyA9PT0gdm9pZCAwKSB7IGRlZmF1bHRTZWdtZW50cyA9IDIwOyB9XG4gICAgICAgIGlmICghdGhpcy5hZGFwdGl2ZSB8fCAhbGVuZ3RoIHx8IGlzTmFOKGxlbmd0aCkpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0U2VnbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IE1hdGguY2VpbChsZW5ndGggLyB0aGlzLm1heExlbmd0aCk7XG4gICAgICAgIGlmIChyZXN1bHQgPCB0aGlzLm1pblNlZ21lbnRzKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1pblNlZ21lbnRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlc3VsdCA+IHRoaXMubWF4U2VnbWVudHMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubWF4U2VnbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxufTtcblxuLyoqXG4gKiBGaWxsIHN0eWxlIG9iamVjdCBmb3IgR3JhcGhpY3MuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRmlsbFN0eWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZpbGxTdHlsZSgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZXggY29sb3IgdmFsdWUgdXNlZCB3aGVuIGNvbG9yaW5nIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29sb3IgPSAweEZGRkZGRjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbHBoYSB2YWx1ZSB1c2VkIHdoZW4gZmlsbGluZyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxwaGEgPSAxLjA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0byBiZSB1c2VkIGZvciB0aGUgZmlsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmUgPSBUZXh0dXJlLldISVRFO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRyYW5zZm9ybSBhcGxwaWVkIHRvIHRoZSB0ZXh0dXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXRyaXggPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIGN1cnJlbnQgZmlsbCBpcyB2aXNpYmxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuRmlsbFN0eWxlfVxuICAgICAqL1xuICAgIEZpbGxTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYmogPSBuZXcgRmlsbFN0eWxlKCk7XG4gICAgICAgIG9iai5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIG9iai5hbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgICAgIG9iai50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICBvYmoubWF0cml4ID0gdGhpcy5tYXRyaXg7XG4gICAgICAgIG9iai52aXNpYmxlID0gdGhpcy52aXNpYmxlO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRcbiAgICAgKi9cbiAgICBGaWxsU3R5bGUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNvbG9yID0gMHhGRkZGRkY7XG4gICAgICAgIHRoaXMuYWxwaGEgPSAxO1xuICAgICAgICB0aGlzLnRleHR1cmUgPSBUZXh0dXJlLldISVRFO1xuICAgICAgICB0aGlzLm1hdHJpeCA9IG51bGw7XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXNcbiAgICAgKi9cbiAgICBGaWxsU3R5bGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMubWF0cml4ID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBGaWxsU3R5bGU7XG59KCkpO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBCdWlsZHMgYSBwb2x5Z29uIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbnZhciBidWlsZFBvbHkgPSB7XG4gICAgYnVpbGQ6IGZ1bmN0aW9uIChncmFwaGljc0RhdGEpIHtcbiAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cyA9IGdyYXBoaWNzRGF0YS5zaGFwZS5wb2ludHMuc2xpY2UoKTtcbiAgICB9LFxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgaG9sZXMgPSBncmFwaGljc0RhdGEuaG9sZXM7XG4gICAgICAgIHZhciB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPj0gNikge1xuICAgICAgICAgICAgdmFyIGhvbGVBcnJheSA9IFtdO1xuICAgICAgICAgICAgLy8gUHJvY2VzcyBob2xlcy4uXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhvbGUgPSBob2xlc1tpXTtcbiAgICAgICAgICAgICAgICBob2xlQXJyYXkucHVzaChwb2ludHMubGVuZ3RoIC8gMik7XG4gICAgICAgICAgICAgICAgcG9pbnRzID0gcG9pbnRzLmNvbmNhdChob2xlLnBvaW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzb3J0IGNvbG9yXG4gICAgICAgICAgICB2YXIgdHJpYW5nbGVzID0gZWFyY3V0KHBvaW50cywgaG9sZUFycmF5LCAyKTtcbiAgICAgICAgICAgIGlmICghdHJpYW5nbGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHZlcnRQb3MgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmlhbmdsZXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2ldICsgdmVydFBvcyk7XG4gICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAyXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuLy8gZm9yIHR5cGUgb25seVxuLyoqXG4gKiBCdWlsZHMgYSBjaXJjbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgdG8gZHJhd1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbnZhciBidWlsZENpcmNsZSA9IHtcbiAgICBidWlsZDogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSkge1xuICAgICAgICAvLyBuZWVkIHRvIGNvbnZlcnQgcG9pbnRzIHRvIGEgbmljZSByZWd1bGFyIGRhdGFcbiAgICAgICAgdmFyIGNpcmNsZURhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgeCA9IGNpcmNsZURhdGEueDtcbiAgICAgICAgdmFyIHkgPSBjaXJjbGVEYXRhLnk7XG4gICAgICAgIHZhciB3aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodDtcbiAgICAgICAgcG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIC8vIFRPRE8gLSBiaXQgaGFja3k/P1xuICAgICAgICBpZiAoZ3JhcGhpY3NEYXRhLnR5cGUgPT09IFNIQVBFUy5DSVJDKSB7XG4gICAgICAgICAgICB3aWR0aCA9IGNpcmNsZURhdGEucmFkaXVzO1xuICAgICAgICAgICAgaGVpZ2h0ID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZWxsaXBzZURhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgICAgICAgICB3aWR0aCA9IGVsbGlwc2VEYXRhLndpZHRoO1xuICAgICAgICAgICAgaGVpZ2h0ID0gZWxsaXBzZURhdGEuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh3aWR0aCA9PT0gMCB8fCBoZWlnaHQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdG90YWxTZWdzID0gTWF0aC5mbG9vcigzMCAqIE1hdGguc3FydChjaXJjbGVEYXRhLnJhZGl1cykpXG4gICAgICAgICAgICB8fCBNYXRoLmZsb29yKDE1ICogTWF0aC5zcXJ0KHdpZHRoICsgaGVpZ2h0KSk7XG4gICAgICAgIHRvdGFsU2VncyAvPSAyLjM7XG4gICAgICAgIHZhciBzZWcgPSAoTWF0aC5QSSAqIDIpIC8gdG90YWxTZWdzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsU2VncyAtIDAuNTsgaSsrKSB7XG4gICAgICAgICAgICBwb2ludHMucHVzaCh4ICsgKE1hdGguc2luKC1zZWcgKiBpKSAqIHdpZHRoKSwgeSArIChNYXRoLmNvcygtc2VnICogaSkgKiBoZWlnaHQpKTtcbiAgICAgICAgfVxuICAgICAgICBwb2ludHMucHVzaChwb2ludHNbMF0sIHBvaW50c1sxXSk7XG4gICAgfSxcbiAgICB0cmlhbmd1bGF0ZTogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgICAgIHZhciBjZW50ZXIgPSB2ZXJ0UG9zO1xuICAgICAgICB2YXIgY2lyY2xlID0gKGdyYXBoaWNzRGF0YS5zaGFwZSk7XG4gICAgICAgIHZhciBtYXRyaXggPSBncmFwaGljc0RhdGEubWF0cml4O1xuICAgICAgICB2YXIgeCA9IGNpcmNsZS54O1xuICAgICAgICB2YXIgeSA9IGNpcmNsZS55O1xuICAgICAgICAvLyBQdXNoIGNlbnRlciAoc3BlY2lhbCBwb2ludClcbiAgICAgICAgdmVydHMucHVzaChncmFwaGljc0RhdGEubWF0cml4ID8gKG1hdHJpeC5hICogeCkgKyAobWF0cml4LmMgKiB5KSArIG1hdHJpeC50eCA6IHgsIGdyYXBoaWNzRGF0YS5tYXRyaXggPyAobWF0cml4LmIgKiB4KSArIChtYXRyaXguZCAqIHkpICsgbWF0cml4LnR5IDogeSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpXSwgcG9pbnRzW2kgKyAxXSk7XG4gICAgICAgICAgICAvLyBhZGQgc29tZSB1dnNcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2ZXJ0UG9zKyssIGNlbnRlciwgdmVydFBvcyk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuLyoqXG4gKiBCdWlsZHMgYSByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkUmVjdGFuZ2xlID0ge1xuICAgIGJ1aWxkOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhKSB7XG4gICAgICAgIC8vIC0tLSAvL1xuICAgICAgICAvLyBuZWVkIHRvIGNvbnZlcnQgcG9pbnRzIHRvIGEgbmljZSByZWd1bGFyIGRhdGFcbiAgICAgICAgLy9cbiAgICAgICAgdmFyIHJlY3REYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgICB2YXIgeCA9IHJlY3REYXRhLng7XG4gICAgICAgIHZhciB5ID0gcmVjdERhdGEueTtcbiAgICAgICAgdmFyIHdpZHRoID0gcmVjdERhdGEud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSByZWN0RGF0YS5oZWlnaHQ7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICBwb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgcG9pbnRzLnB1c2goeCwgeSwgeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQpO1xuICAgIH0sXG4gICAgdHJpYW5ndWxhdGU6IGZ1bmN0aW9uIChncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgICAgIHZlcnRzLnB1c2gocG9pbnRzWzBdLCBwb2ludHNbMV0sIHBvaW50c1syXSwgcG9pbnRzWzNdLCBwb2ludHNbNl0sIHBvaW50c1s3XSwgcG9pbnRzWzRdLCBwb2ludHNbNV0pO1xuICAgICAgICBncmFwaGljc0dlb21ldHJ5LmluZGljZXMucHVzaCh2ZXJ0UG9zLCB2ZXJ0UG9zICsgMSwgdmVydFBvcyArIDIsIHZlcnRQb3MgKyAxLCB2ZXJ0UG9zICsgMiwgdmVydFBvcyArIDMpO1xuICAgIH0sXG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZSBhIHNpbmdsZSBwb2ludCBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlLlxuICogVXRpbGl0eSBmdW5jdGlvbiB1c2VkIGJ5IHF1YWRyYXRpY0JlemllckN1cnZlLlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuMSAtIGZpcnN0IG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IG4yIC0gc2Vjb25kIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHBlcmMgLSBwZXJjZW50YWdlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSByZXN1bHRcbiAqXG4gKi9cbmZ1bmN0aW9uIGdldFB0KG4xLCBuMiwgcGVyYykge1xuICAgIHZhciBkaWZmID0gbjIgLSBuMTtcbiAgICByZXR1cm4gbjEgKyAoZGlmZiAqIHBlcmMpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlLiAoaGVscGVyIGZ1bmN0aW9uLi4pXG4gKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWCAtIE9yaWdpbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVkgLSBPcmlnaW4gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcltdfSBbb3V0PVtdXSAtIFRoZSBvdXRwdXQgYXJyYXkgdG8gYWRkIHBvaW50cyBpbnRvLiBJZiBub3QgcGFzc2VkLCBhIG5ldyBhcnJheSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bnVtYmVyW119IGFuIGFycmF5IG9mIHBvaW50c1xuICovXG5mdW5jdGlvbiBxdWFkcmF0aWNCZXppZXJDdXJ2ZShmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCB0b1gsIHRvWSwgb3V0KSB7XG4gICAgaWYgKG91dCA9PT0gdm9pZCAwKSB7IG91dCA9IFtdOyB9XG4gICAgdmFyIG4gPSAyMDtcbiAgICB2YXIgcG9pbnRzID0gb3V0O1xuICAgIHZhciB4YSA9IDA7XG4gICAgdmFyIHlhID0gMDtcbiAgICB2YXIgeGIgPSAwO1xuICAgIHZhciB5YiA9IDA7XG4gICAgdmFyIHggPSAwO1xuICAgIHZhciB5ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPD0gbjsgKytpKSB7XG4gICAgICAgIGogPSBpIC8gbjtcbiAgICAgICAgLy8gVGhlIEdyZWVuIExpbmVcbiAgICAgICAgeGEgPSBnZXRQdChmcm9tWCwgY3BYLCBqKTtcbiAgICAgICAgeWEgPSBnZXRQdChmcm9tWSwgY3BZLCBqKTtcbiAgICAgICAgeGIgPSBnZXRQdChjcFgsIHRvWCwgaik7XG4gICAgICAgIHliID0gZ2V0UHQoY3BZLCB0b1ksIGopO1xuICAgICAgICAvLyBUaGUgQmxhY2sgRG90XG4gICAgICAgIHggPSBnZXRQdCh4YSwgeGIsIGopO1xuICAgICAgICB5ID0gZ2V0UHQoeWEsIHliLCBqKTtcbiAgICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgfVxuICAgIHJldHVybiBwb2ludHM7XG59XG4vKipcbiAqIEJ1aWxkcyBhIHJvdW5kZWQgcmVjdGFuZ2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbnZhciBidWlsZFJvdW5kZWRSZWN0YW5nbGUgPSB7XG4gICAgYnVpbGQ6IGZ1bmN0aW9uIChncmFwaGljc0RhdGEpIHtcbiAgICAgICAgdmFyIHJyZWN0RGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciB4ID0gcnJlY3REYXRhLng7XG4gICAgICAgIHZhciB5ID0gcnJlY3REYXRhLnk7XG4gICAgICAgIHZhciB3aWR0aCA9IHJyZWN0RGF0YS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHJyZWN0RGF0YS5oZWlnaHQ7XG4gICAgICAgIC8vIERvbid0IGFsbG93IG5lZ2F0aXZlIHJhZGl1cyBvciBncmVhdGVyIHRoYW4gaGFsZiB0aGUgc21hbGxlc3Qgd2lkdGhcbiAgICAgICAgdmFyIHJhZGl1cyA9IE1hdGgubWF4KDAsIE1hdGgubWluKHJyZWN0RGF0YS5yYWRpdXMsIE1hdGgubWluKHdpZHRoLCBoZWlnaHQpIC8gMikpO1xuICAgICAgICBwb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgLy8gTm8gcmFkaXVzLCBkbyBhIHNpbXBsZSByZWN0YW5nbGVcbiAgICAgICAgaWYgKCFyYWRpdXMpIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHgsIHksIHggKyB3aWR0aCwgeSwgeCArIHdpZHRoLCB5ICsgaGVpZ2h0LCB4LCB5ICsgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHgsIHkgKyByYWRpdXMsIHgsIHksIHggKyByYWRpdXMsIHksIHBvaW50cyk7XG4gICAgICAgICAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgd2lkdGggLSByYWRpdXMsIHksIHggKyB3aWR0aCwgeSwgeCArIHdpZHRoLCB5ICsgcmFkaXVzLCBwb2ludHMpO1xuICAgICAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHdpZHRoLCB5ICsgaGVpZ2h0IC0gcmFkaXVzLCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHggKyB3aWR0aCAtIHJhZGl1cywgeSArIGhlaWdodCwgcG9pbnRzKTtcbiAgICAgICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyByYWRpdXMsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQgLSByYWRpdXMsIHBvaW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcyB0aW55IG51bWJlciBkZWFscyB3aXRoIHRoZSBpc3N1ZSB0aGF0IG9jY3VycyB3aGVuIHBvaW50cyBvdmVybGFwIGFuZCBlYXJjdXQgZmFpbHMgdG8gdHJpYW5ndWxhdGUgdGhlIGl0ZW0uXG4gICAgICAgIC8vIFRPRE8gLSBmaXggdGhpcyBwcm9wZXJseSwgdGhpcyBpcyBub3QgdmVyeSBlbGVnYW50Li4gYnV0IGl0IHdvcmtzIGZvciBub3cuXG4gICAgfSxcbiAgICB0cmlhbmd1bGF0ZTogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgICAgICB2YXIgdmVjUG9zID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICAgICAgdmFyIHRyaWFuZ2xlcyA9IGVhcmN1dChwb2ludHMsIG51bGwsIDIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRyaWFuZ2xlcy5sZW5ndGg7IGkgPCBqOyBpICs9IDMpIHtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgLy8gICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgLy8gICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAyXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAyXSArIHZlY1Bvcyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSBwb2ludHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpXSwgcG9pbnRzWysraV0pO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5cbi8qKlxuICogQnVmZmVycyB2ZXJ0aWNlcyB0byBkcmF3IGEgc3F1YXJlIGNhcC5cbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHggLSBYLWNvb3JkIG9mIGVuZCBwb2ludFxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBZLWNvb3JkIG9mIGVuZCBwb2ludFxuICogQHBhcmFtIHtudW1iZXJ9IG54IC0gWC1jb29yZCBvZiBsaW5lIG5vcm1hbCBwb2ludGluZyBpbnNpZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBueSAtIFktY29vcmQgb2YgbGluZSBub3JtYWwgcG9pbnRpbmcgaW5zaWRlXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHZlcnRzIC0gdmVydGV4IGJ1ZmZlclxuICogQHJldHVybnMge31cbiAqL1xuZnVuY3Rpb24gc3F1YXJlKHgsIHksIG54LCBueSwgaW5uZXJXZWlnaHQsIG91dGVyV2VpZ2h0LCBjbG9ja3dpc2UsIC8qIHJvdGF0aW9uIGZvciBzcXVhcmUgKHRydWUgYXQgbGVmdCBlbmQsIGZhbHNlIGF0IHJpZ2h0IGVuZCkgKi8gdmVydHMpIHtcbiAgICB2YXIgaXggPSB4IC0gKG54ICogaW5uZXJXZWlnaHQpO1xuICAgIHZhciBpeSA9IHkgLSAobnkgKiBpbm5lcldlaWdodCk7XG4gICAgdmFyIG94ID0geCArIChueCAqIG91dGVyV2VpZ2h0KTtcbiAgICB2YXIgb3kgPSB5ICsgKG55ICogb3V0ZXJXZWlnaHQpO1xuICAgIC8qIFJvdGF0ZSBueCxueSBmb3IgZXh0ZW5zaW9uIHZlY3RvciAqL1xuICAgIHZhciBleHg7XG4gICAgdmFyIGV5eTtcbiAgICBpZiAoY2xvY2t3aXNlKSB7XG4gICAgICAgIGV4eCA9IG55O1xuICAgICAgICBleXkgPSAtbng7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBleHggPSAtbnk7XG4gICAgICAgIGV5eSA9IG54O1xuICAgIH1cbiAgICAvKiBbaXwwXXgseSBleHRlbmRlZCBhdCBjYXAgKi9cbiAgICB2YXIgZWl4ID0gaXggKyBleHg7XG4gICAgdmFyIGVpeSA9IGl5ICsgZXl5O1xuICAgIHZhciBlb3ggPSBveCArIGV4eDtcbiAgICB2YXIgZW95ID0gb3kgKyBleXk7XG4gICAgLyogU3F1YXJlIGl0c2VsZiBtdXN0IGJlIGluc2VydGVkIGNsb2Nrd2lzZSovXG4gICAgdmVydHMucHVzaChlaXgsIGVpeSk7XG4gICAgdmVydHMucHVzaChlb3gsIGVveSk7XG4gICAgcmV0dXJuIDI7XG59XG4vKipcbiAqIEJ1ZmZlcnMgdmVydGljZXMgdG8gZHJhdyBhbiBhcmMgYXQgdGhlIGxpbmUgam9pbnQgb3IgY2FwLlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gY3ggLSBYLWNvb3JkIG9mIGNlbnRlclxuICogQHBhcmFtIHtudW1iZXJ9IGN5IC0gWS1jb29yZCBvZiBjZW50ZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzeCAtIFgtY29vcmQgb2YgYXJjIHN0YXJ0XG4gKiBAcGFyYW0ge251bWJlcn0gc3kgLSBZLWNvb3JkIG9mIGFyYyBzdGFydFxuICogQHBhcmFtIHtudW1iZXJ9IGV4IC0gWC1jb29yZCBvZiBhcmMgZW5kXG4gKiBAcGFyYW0ge251bWJlcn0gZXkgLSBZLWNvb3JkIG9mIGFyYyBlbmRcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gdmVydHMgLSBidWZmZXIgb2YgdmVydGljZXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xvY2t3aXNlIC0gb3JpZW50YXRpb24gb2YgdmVydGljZXNcbiAqIEByZXR1cm5zIHtudW1iZXJ9IC0gbm8uIG9mIHZlcnRpY2VzIHB1c2hlZFxuICovXG5mdW5jdGlvbiByb3VuZChjeCwgY3ksIHN4LCBzeSwgZXgsIGV5LCB2ZXJ0cywgY2xvY2t3aXNlKSB7XG4gICAgdmFyIGN4MnAweCA9IHN4IC0gY3g7XG4gICAgdmFyIGN5MnAweSA9IHN5IC0gY3k7XG4gICAgdmFyIGFuZ2xlMCA9IE1hdGguYXRhbjIoY3gycDB4LCBjeTJwMHkpO1xuICAgIHZhciBhbmdsZTEgPSBNYXRoLmF0YW4yKGV4IC0gY3gsIGV5IC0gY3kpO1xuICAgIGlmIChjbG9ja3dpc2UgJiYgYW5nbGUwIDwgYW5nbGUxKSB7XG4gICAgICAgIGFuZ2xlMCArPSBNYXRoLlBJICogMjtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWNsb2Nrd2lzZSAmJiBhbmdsZTAgPiBhbmdsZTEpIHtcbiAgICAgICAgYW5nbGUxICs9IE1hdGguUEkgKiAyO1xuICAgIH1cbiAgICB2YXIgc3RhcnRBbmdsZSA9IGFuZ2xlMDtcbiAgICB2YXIgYW5nbGVEaWZmID0gYW5nbGUxIC0gYW5nbGUwO1xuICAgIHZhciBhYnNBbmdsZURpZmYgPSBNYXRoLmFicyhhbmdsZURpZmYpO1xuICAgIC8qIGlmIChhYnNBbmdsZURpZmYgPj0gUElfTEJPVU5EICYmIGFic0FuZ2xlRGlmZiA8PSBQSV9VQk9VTkQpXG4gICAge1xuICAgICAgICBjb25zdCByMXggPSBjeCAtIG54dFB4O1xuICAgICAgICBjb25zdCByMXkgPSBjeSAtIG54dFB5O1xuXG4gICAgICAgIGlmIChyMXggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChyMXkgPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFuZ2xlRGlmZiA9IC1hbmdsZURpZmY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocjF4ID49IC1HUkFQSElDU19DVVJWRVMuZXBzaWxvbilcbiAgICAgICAge1xuICAgICAgICAgICAgYW5nbGVEaWZmID0gLWFuZ2xlRGlmZjtcbiAgICAgICAgfVxuICAgIH0qL1xuICAgIHZhciByYWRpdXMgPSBNYXRoLnNxcnQoKGN4MnAweCAqIGN4MnAweCkgKyAoY3kycDB5ICogY3kycDB5KSk7XG4gICAgdmFyIHNlZ0NvdW50ID0gKCgxNSAqIGFic0FuZ2xlRGlmZiAqIE1hdGguc3FydChyYWRpdXMpIC8gTWF0aC5QSSkgPj4gMCkgKyAxO1xuICAgIHZhciBhbmdsZUluYyA9IGFuZ2xlRGlmZiAvIHNlZ0NvdW50O1xuICAgIHN0YXJ0QW5nbGUgKz0gYW5nbGVJbmM7XG4gICAgaWYgKGNsb2Nrd2lzZSkge1xuICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgICAgIHZlcnRzLnB1c2goc3gsIHN5KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDEsIGFuZ2xlID0gc3RhcnRBbmdsZTsgaSA8IHNlZ0NvdW50OyBpKyssIGFuZ2xlICs9IGFuZ2xlSW5jKSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKGN4ICsgKChNYXRoLnNpbihhbmdsZSkgKiByYWRpdXMpKSwgY3kgKyAoKE1hdGguY29zKGFuZ2xlKSAqIHJhZGl1cykpKTtcbiAgICAgICAgfVxuICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgICAgIHZlcnRzLnB1c2goZXgsIGV5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZlcnRzLnB1c2goc3gsIHN5KTtcbiAgICAgICAgdmVydHMucHVzaChjeCwgY3kpO1xuICAgICAgICBmb3IgKHZhciBpID0gMSwgYW5nbGUgPSBzdGFydEFuZ2xlOyBpIDwgc2VnQ291bnQ7IGkrKywgYW5nbGUgKz0gYW5nbGVJbmMpIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goY3ggKyAoKE1hdGguc2luKGFuZ2xlKSAqIHJhZGl1cykpLCBjeSArICgoTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzKSkpO1xuICAgICAgICAgICAgdmVydHMucHVzaChjeCwgY3kpO1xuICAgICAgICB9XG4gICAgICAgIHZlcnRzLnB1c2goZXgsIGV5KTtcbiAgICAgICAgdmVydHMucHVzaChjeCwgY3kpO1xuICAgIH1cbiAgICByZXR1cm4gc2VnQ291bnQgKiAyO1xufVxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXcgdXNpbmcgdGhlIHBvbHlnb24gbWV0aG9kLlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IGdyYXBoaWNzR2VvbWV0cnkgLSBHZW9tZXRyeSB3aGVyZSB0byBhcHBlbmQgb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTm9uTmF0aXZlTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICB2YXIgc2hhcGUgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHMgfHwgc2hhcGUucG9pbnRzLnNsaWNlKCk7XG4gICAgdmFyIGVwcyA9IGdyYXBoaWNzR2VvbWV0cnkuY2xvc2VQb2ludEVwcztcbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGlmIHRoZSBsaW5lIHdpZHRoIGlzIGFuIG9kZCBudW1iZXIgYWRkIDAuNSB0byBhbGlnbiB0byBhIHdob2xlIHBpeGVsXG4gICAgLy8gY29tbWVudGluZyB0aGlzIG91dCBmaXhlcyAjNzExIGFuZCAjMTYyMFxuICAgIC8vIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoJTIpXG4gICAgLy8ge1xuICAgIC8vICAgICBmb3IgKGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKVxuICAgIC8vICAgICB7XG4gICAgLy8gICAgICAgICBwb2ludHNbaV0gKz0gMC41O1xuICAgIC8vICAgICB9XG4gICAgLy8gfVxuICAgIHZhciBzdHlsZSA9IGdyYXBoaWNzRGF0YS5saW5lU3R5bGU7XG4gICAgLy8gZ2V0IGZpcnN0IGFuZCBsYXN0IHBvaW50Li4gZmlndXJlIG91dCB0aGUgbWlkZGxlIVxuICAgIHZhciBmaXJzdFBvaW50ID0gbmV3IFBvaW50KHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICB2YXIgbGFzdFBvaW50ID0gbmV3IFBvaW50KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuICAgIHZhciBjbG9zZWRTaGFwZSA9IHNoYXBlLnR5cGUgIT09IFNIQVBFUy5QT0xZIHx8IHNoYXBlLmNsb3NlU3Ryb2tlO1xuICAgIHZhciBjbG9zZWRQYXRoID0gTWF0aC5hYnMoZmlyc3RQb2ludC54IC0gbGFzdFBvaW50LngpIDwgZXBzXG4gICAgICAgICYmIE1hdGguYWJzKGZpcnN0UG9pbnQueSAtIGxhc3RQb2ludC55KSA8IGVwcztcbiAgICAvLyBpZiB0aGUgZmlyc3QgcG9pbnQgaXMgdGhlIGxhc3QgcG9pbnQgLSBnb25uYSBoYXZlIGlzc3VlcyA6KVxuICAgIGlmIChjbG9zZWRTaGFwZSkge1xuICAgICAgICAvLyBuZWVkIHRvIGNsb25lIGFzIHdlIGFyZSBnb2luZyB0byBzbGlnaHRseSBtb2RpZnkgdGhlIHNoYXBlLi5cbiAgICAgICAgcG9pbnRzID0gcG9pbnRzLnNsaWNlKCk7XG4gICAgICAgIGlmIChjbG9zZWRQYXRoKSB7XG4gICAgICAgICAgICBwb2ludHMucG9wKCk7XG4gICAgICAgICAgICBwb2ludHMucG9wKCk7XG4gICAgICAgICAgICBsYXN0UG9pbnQuc2V0KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtaWRQb2ludFggPSAoZmlyc3RQb2ludC54ICsgbGFzdFBvaW50LngpICogMC41O1xuICAgICAgICB2YXIgbWlkUG9pbnRZID0gKGxhc3RQb2ludC55ICsgZmlyc3RQb2ludC55KSAqIDAuNTtcbiAgICAgICAgcG9pbnRzLnVuc2hpZnQobWlkUG9pbnRYLCBtaWRQb2ludFkpO1xuICAgICAgICBwb2ludHMucHVzaChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgfVxuICAgIHZhciB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgIHZhciBsZW5ndGggPSBwb2ludHMubGVuZ3RoIC8gMjtcbiAgICB2YXIgaW5kZXhDb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gICAgdmFyIGluZGV4U3RhcnQgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICAgIC8vIE1heC4gaW5uZXIgYW5kIG91dGVyIHdpZHRoXG4gICAgdmFyIHdpZHRoID0gc3R5bGUud2lkdGggLyAyO1xuICAgIHZhciB3aWR0aFNxdWFyZWQgPSB3aWR0aCAqIHdpZHRoO1xuICAgIHZhciBtaXRlckxpbWl0U3F1YXJlZCA9IHN0eWxlLm1pdGVyTGltaXQgKiBzdHlsZS5taXRlckxpbWl0O1xuICAgIC8qIExpbmUgc2VnbWVudHMgb2YgaW50ZXJlc3Qgd2hlcmUgKHgxLHkxKSBmb3JtcyB0aGUgY29ybmVyLiAqL1xuICAgIHZhciB4MCA9IHBvaW50c1swXTtcbiAgICB2YXIgeTAgPSBwb2ludHNbMV07XG4gICAgdmFyIHgxID0gcG9pbnRzWzJdO1xuICAgIHZhciB5MSA9IHBvaW50c1szXTtcbiAgICB2YXIgeDIgPSAwO1xuICAgIHZhciB5MiA9IDA7XG4gICAgLyogcGVycFs/XSh4fHkpID0gdGhlIGxpbmUgbm9ybWFsIHdpdGggbWFnbml0dWRlIGxpbmVXaWR0aC4gKi9cbiAgICB2YXIgcGVycHggPSAtKHkwIC0geTEpO1xuICAgIHZhciBwZXJweSA9IHgwIC0geDE7XG4gICAgdmFyIHBlcnAxeCA9IDA7XG4gICAgdmFyIHBlcnAxeSA9IDA7XG4gICAgdmFyIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnB4ICogcGVycHgpICsgKHBlcnB5ICogcGVycHkpKTtcbiAgICBwZXJweCAvPSBkaXN0O1xuICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgcGVycHggKj0gd2lkdGg7XG4gICAgcGVycHkgKj0gd2lkdGg7XG4gICAgdmFyIHJhdGlvID0gc3R5bGUuYWxpZ25tZW50OyAvLyAwLjU7XG4gICAgdmFyIGlubmVyV2VpZ2h0ID0gKDEgLSByYXRpbykgKiAyO1xuICAgIHZhciBvdXRlcldlaWdodCA9IHJhdGlvICogMjtcbiAgICBpZiAoIWNsb3NlZFNoYXBlKSB7XG4gICAgICAgIGlmIChzdHlsZS5jYXAgPT09IExJTkVfQ0FQLlJPVU5EKSB7XG4gICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKHgwIC0gKHBlcnB4ICogKGlubmVyV2VpZ2h0IC0gb3V0ZXJXZWlnaHQpICogMC41KSwgeTAgLSAocGVycHkgKiAoaW5uZXJXZWlnaHQgLSBvdXRlcldlaWdodCkgKiAwLjUpLCB4MCAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTAgLSAocGVycHkgKiBpbm5lcldlaWdodCksIHgwICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MCArIChwZXJweSAqIG91dGVyV2VpZ2h0KSwgdmVydHMsIHRydWUpICsgMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdHlsZS5jYXAgPT09IExJTkVfQ0FQLlNRVUFSRSkge1xuICAgICAgICAgICAgaW5kZXhDb3VudCArPSBzcXVhcmUoeDAsIHkwLCBwZXJweCwgcGVycHksIGlubmVyV2VpZ2h0LCBvdXRlcldlaWdodCwgdHJ1ZSwgdmVydHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFB1c2ggZmlyc3QgcG9pbnQgKGJlbG93ICYgYWJvdmUgdmVydGljZXMpXG4gICAgdmVydHMucHVzaCh4MCAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTAgLSAocGVycHkgKiBpbm5lcldlaWdodCkpO1xuICAgIHZlcnRzLnB1c2goeDAgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkwICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpKTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICB4MCA9IHBvaW50c1soaSAtIDEpICogMl07XG4gICAgICAgIHkwID0gcG9pbnRzWygoaSAtIDEpICogMikgKyAxXTtcbiAgICAgICAgeDEgPSBwb2ludHNbaSAqIDJdO1xuICAgICAgICB5MSA9IHBvaW50c1soaSAqIDIpICsgMV07XG4gICAgICAgIHgyID0gcG9pbnRzWyhpICsgMSkgKiAyXTtcbiAgICAgICAgeTIgPSBwb2ludHNbKChpICsgMSkgKiAyKSArIDFdO1xuICAgICAgICBwZXJweCA9IC0oeTAgLSB5MSk7XG4gICAgICAgIHBlcnB5ID0geDAgLSB4MTtcbiAgICAgICAgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuICAgICAgICBwZXJweCAvPSBkaXN0O1xuICAgICAgICBwZXJweSAvPSBkaXN0O1xuICAgICAgICBwZXJweCAqPSB3aWR0aDtcbiAgICAgICAgcGVycHkgKj0gd2lkdGg7XG4gICAgICAgIHBlcnAxeCA9IC0oeTEgLSB5Mik7XG4gICAgICAgIHBlcnAxeSA9IHgxIC0geDI7XG4gICAgICAgIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnAxeCAqIHBlcnAxeCkgKyAocGVycDF5ICogcGVycDF5KSk7XG4gICAgICAgIHBlcnAxeCAvPSBkaXN0O1xuICAgICAgICBwZXJwMXkgLz0gZGlzdDtcbiAgICAgICAgcGVycDF4ICo9IHdpZHRoO1xuICAgICAgICBwZXJwMXkgKj0gd2lkdGg7XG4gICAgICAgIC8qIGRbeHx5XSgwfDEpID0gdGhlIGNvbXBvbmVudCBkaXNwbGFjbWVudCBiZXR3ZWVuIHBvaW50cyBwKDAsMXwxLDIpICovXG4gICAgICAgIHZhciBkeDAgPSB4MSAtIHgwO1xuICAgICAgICB2YXIgZHkwID0geTAgLSB5MTtcbiAgICAgICAgdmFyIGR4MSA9IHgxIC0geDI7XG4gICAgICAgIHZhciBkeTEgPSB5MiAtIHkxO1xuICAgICAgICAvKiArdmUgaWYgaW50ZXJuYWwgYW5nbGUgY291bnRlcmNsb2Nrd2lzZSwgLXZlIGlmIGludGVybmFsIGFuZ2xlIGNsb2Nrd2lzZS4gKi9cbiAgICAgICAgdmFyIGNyb3NzID0gKGR5MCAqIGR4MSkgLSAoZHkxICogZHgwKTtcbiAgICAgICAgdmFyIGNsb2Nrd2lzZSA9IChjcm9zcyA8IDApO1xuICAgICAgICAvKiBHb2luZyBuZWFybHkgc3RyYWlnaHQ/ICovXG4gICAgICAgIGlmIChNYXRoLmFicyhjcm9zcykgPCAwLjEpIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpKTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8qIHBbeHx5XSBpcyB0aGUgbWl0ZXIgcG9pbnQuIHBkaXN0IGlzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIG1pdGVyIHBvaW50IGFuZCBwMS4gKi9cbiAgICAgICAgdmFyIGMxID0gKCgtcGVycHggKyB4MCkgKiAoLXBlcnB5ICsgeTEpKSAtICgoLXBlcnB4ICsgeDEpICogKC1wZXJweSArIHkwKSk7XG4gICAgICAgIHZhciBjMiA9ICgoLXBlcnAxeCArIHgyKSAqICgtcGVycDF5ICsgeTEpKSAtICgoLXBlcnAxeCArIHgxKSAqICgtcGVycDF5ICsgeTIpKTtcbiAgICAgICAgdmFyIHB4ID0gKChkeDAgKiBjMikgLSAoZHgxICogYzEpKSAvIGNyb3NzO1xuICAgICAgICB2YXIgcHkgPSAoKGR5MSAqIGMxKSAtIChkeTAgKiBjMikpIC8gY3Jvc3M7XG4gICAgICAgIHZhciBwZGlzdCA9ICgocHggLSB4MSkgKiAocHggLSB4MSkpICsgKChweSAtIHkxKSAqIChweSAtIHkxKSk7XG4gICAgICAgIC8qIElubmVyIG1pdGVyIHBvaW50ICovXG4gICAgICAgIHZhciBpbXggPSB4MSArICgocHggLSB4MSkgKiBpbm5lcldlaWdodCk7XG4gICAgICAgIHZhciBpbXkgPSB5MSArICgocHkgLSB5MSkgKiBpbm5lcldlaWdodCk7XG4gICAgICAgIC8qIE91dGVyIG1pdGVyIHBvaW50ICovXG4gICAgICAgIHZhciBvbXggPSB4MSAtICgocHggLSB4MSkgKiBvdXRlcldlaWdodCk7XG4gICAgICAgIHZhciBvbXkgPSB5MSAtICgocHkgLSB5MSkgKiBvdXRlcldlaWdodCk7XG4gICAgICAgIGlmIChzdHlsZS5qb2luID09PSBMSU5FX0pPSU4uQkVWRUwgfHwgcGRpc3QgLyB3aWR0aFNxdWFyZWQgPiBtaXRlckxpbWl0U3F1YXJlZCkge1xuICAgICAgICAgICAgaWYgKGNsb2Nrd2lzZSkgLyogcm90YXRpbmcgYXQgaW5uZXIgYW5nbGUgKi8ge1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpOyAvLyBpbm5lciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpKTsgLy8gZmlyc3Qgc2VnbWVudCdzIG91dGVyIHZlcnRleFxuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpOyAvLyBpbm5lciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyAocGVycDF4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJwMXkgKiBvdXRlcldlaWdodCkpOyAvLyBzZWNvbmQgc2VnbWVudCdzIG91dGVyIHZlcnRleFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSAvKiByb3RhdGluZyBhdCBvdXRlciBhbmdsZSAqLyB7XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCkpOyAvLyBmaXJzdCBzZWdtZW50J3MgaW5uZXIgdmVydGV4XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7IC8vIG91dGVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJwMXggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnAxeSAqIGlubmVyV2VpZ2h0KSk7IC8vIHNlY29uZCBzZWdtZW50J3Mgb3V0ZXIgdmVydGV4XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7IC8vIG91dGVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmRleENvdW50ICs9IDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3R5bGUuam9pbiA9PT0gTElORV9KT0lOLlJPVU5EKSB7XG4gICAgICAgICAgICBpZiAoY2xvY2t3aXNlKSAvKiBhcmMgaXMgb3V0c2lkZSAqLyB7XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCkpO1xuICAgICAgICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDEsIHkxLCB4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCksIHgxICsgKHBlcnAxeCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycDF5ICogb3V0ZXJXZWlnaHQpLCB2ZXJ0cywgdHJ1ZSkgKyA0O1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpO1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyAocGVycDF4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJwMXkgKiBvdXRlcldlaWdodCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSAvKiBhcmMgaXMgaW5zaWRlICovIHtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSk7XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7XG4gICAgICAgICAgICAgICAgaW5kZXhDb3VudCArPSByb3VuZCh4MSwgeTEsIHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSwgeDEgLSAocGVycDF4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJwMXkgKiBpbm5lcldlaWdodCksIHZlcnRzLCBmYWxzZSkgKyA0O1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgLSAocGVycDF4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJwMXkgKiBpbm5lcldlaWdodCkpO1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB4MCA9IHBvaW50c1sobGVuZ3RoIC0gMikgKiAyXTtcbiAgICB5MCA9IHBvaW50c1soKGxlbmd0aCAtIDIpICogMikgKyAxXTtcbiAgICB4MSA9IHBvaW50c1sobGVuZ3RoIC0gMSkgKiAyXTtcbiAgICB5MSA9IHBvaW50c1soKGxlbmd0aCAtIDEpICogMikgKyAxXTtcbiAgICBwZXJweCA9IC0oeTAgLSB5MSk7XG4gICAgcGVycHkgPSB4MCAtIHgxO1xuICAgIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnB4ICogcGVycHgpICsgKHBlcnB5ICogcGVycHkpKTtcbiAgICBwZXJweCAvPSBkaXN0O1xuICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgcGVycHggKj0gd2lkdGg7XG4gICAgcGVycHkgKj0gd2lkdGg7XG4gICAgdmVydHMucHVzaCh4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCkpO1xuICAgIHZlcnRzLnB1c2goeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpKTtcbiAgICBpZiAoIWNsb3NlZFNoYXBlKSB7XG4gICAgICAgIGlmIChzdHlsZS5jYXAgPT09IExJTkVfQ0FQLlJPVU5EKSB7XG4gICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKHgxIC0gKHBlcnB4ICogKGlubmVyV2VpZ2h0IC0gb3V0ZXJXZWlnaHQpICogMC41KSwgeTEgLSAocGVycHkgKiAoaW5uZXJXZWlnaHQgLSBvdXRlcldlaWdodCkgKiAwLjUpLCB4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCksIHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSwgdmVydHMsIGZhbHNlKSArIDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3R5bGUuY2FwID09PSBMSU5FX0NBUC5TUVVBUkUpIHtcbiAgICAgICAgICAgIGluZGV4Q291bnQgKz0gc3F1YXJlKHgxLCB5MSwgcGVycHgsIHBlcnB5LCBpbm5lcldlaWdodCwgb3V0ZXJXZWlnaHQsIGZhbHNlLCB2ZXJ0cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gICAgdmFyIGVwczIgPSBHUkFQSElDU19DVVJWRVMuZXBzaWxvbiAqIEdSQVBISUNTX0NVUlZFUy5lcHNpbG9uO1xuICAgIC8vIGluZGljZXMucHVzaChpbmRleFN0YXJ0KTtcbiAgICBmb3IgKHZhciBpID0gaW5kZXhTdGFydDsgaSA8IGluZGV4Q291bnQgKyBpbmRleFN0YXJ0IC0gMjsgKytpKSB7XG4gICAgICAgIHgwID0gdmVydHNbKGkgKiAyKV07XG4gICAgICAgIHkwID0gdmVydHNbKGkgKiAyKSArIDFdO1xuICAgICAgICB4MSA9IHZlcnRzWyhpICsgMSkgKiAyXTtcbiAgICAgICAgeTEgPSB2ZXJ0c1soKGkgKyAxKSAqIDIpICsgMV07XG4gICAgICAgIHgyID0gdmVydHNbKGkgKyAyKSAqIDJdO1xuICAgICAgICB5MiA9IHZlcnRzWygoaSArIDIpICogMikgKyAxXTtcbiAgICAgICAgLyogU2tpcCB6ZXJvIGFyZWEgdHJpYW5nbGVzICovXG4gICAgICAgIGlmIChNYXRoLmFicygoeDAgKiAoeTEgLSB5MikpICsgKHgxICogKHkyIC0geTApKSArICh4MiAqICh5MCAtIHkxKSkpIDwgZXBzMikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaW5kaWNlcy5wdXNoKGksIGkgKyAxLCBpICsgMik7XG4gICAgfVxufVxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXcgdXNpbmcgdGhlIGdsLmRyYXdBcnJheXMoZ2wuTElORVMpIG1ldGhvZFxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IGdyYXBoaWNzR2VvbWV0cnkgLSBHZW9tZXRyeSB3aGVyZSB0byBhcHBlbmQgb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTmF0aXZlTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIHNoYXBlID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzIHx8IHNoYXBlLnBvaW50cztcbiAgICB2YXIgY2xvc2VkU2hhcGUgPSBzaGFwZS50eXBlICE9PSBTSEFQRVMuUE9MWSB8fCBzaGFwZS5jbG9zZVN0cm9rZTtcbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgeyByZXR1cm47IH1cbiAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICB2YXIgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcbiAgICB2YXIgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aCAvIDI7XG4gICAgdmFyIHN0YXJ0SW5kZXggPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICAgIHZhciBjdXJyZW50SW5kZXggPSBzdGFydEluZGV4O1xuICAgIHZlcnRzLnB1c2gocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuICAgIGZvciAoaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpICogMl0sIHBvaW50c1soaSAqIDIpICsgMV0pO1xuICAgICAgICBpbmRpY2VzLnB1c2goY3VycmVudEluZGV4LCBjdXJyZW50SW5kZXggKyAxKTtcbiAgICAgICAgY3VycmVudEluZGV4Kys7XG4gICAgfVxuICAgIGlmIChjbG9zZWRTaGFwZSkge1xuICAgICAgICBpbmRpY2VzLnB1c2goY3VycmVudEluZGV4LCBzdGFydEluZGV4KTtcbiAgICB9XG59XG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IGdyYXBoaWNzR2VvbWV0cnkgLSBHZW9tZXRyeSB3aGVyZSB0byBhcHBlbmQgb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVTdHlsZS5uYXRpdmUpIHtcbiAgICAgICAgYnVpbGROYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBidWlsZE5vbk5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KTtcbiAgICB9XG59XG5cbi8qKlxuICogRHJhdyBhIHN0YXIgc2hhcGUgd2l0aCBhbiBhcmJpdHJhcnkgbnVtYmVyIG9mIHBvaW50cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuUG9seWdvblxuICogQG1lbWJlcm9mIFBJWEkuZ3JhcGhpY3NVdGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHggLSBDZW50ZXIgWCBwb3NpdGlvbiBvZiB0aGUgc3RhclxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBDZW50ZXIgWSBwb3NpdGlvbiBvZiB0aGUgc3RhclxuICogQHBhcmFtIHtudW1iZXJ9IHBvaW50cyAtIFRoZSBudW1iZXIgb2YgcG9pbnRzIG9mIHRoZSBzdGFyLCBtdXN0IGJlID4gMVxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSBvdXRlciByYWRpdXMgb2YgdGhlIHN0YXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbaW5uZXJSYWRpdXNdIC0gVGhlIGlubmVyIHJhZGl1cyBiZXR3ZWVuIHBvaW50cywgZGVmYXVsdCBoYWxmIGByYWRpdXNgXG4gKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uIG9mIHRoZSBzdGFyIGluIHJhZGlhbnMsIHdoZXJlIDAgaXMgdmVydGljYWxcbiAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAqL1xudmFyIFN0YXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0YXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3Rhcih4LCB5LCBwb2ludHMsIHJhZGl1cywgaW5uZXJSYWRpdXMsIHJvdGF0aW9uKSB7XG4gICAgICAgIGlmIChyb3RhdGlvbiA9PT0gdm9pZCAwKSB7IHJvdGF0aW9uID0gMDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpbm5lclJhZGl1cyA9IGlubmVyUmFkaXVzIHx8IHJhZGl1cyAvIDI7XG4gICAgICAgIHZhciBzdGFydEFuZ2xlID0gKC0xICogTWF0aC5QSSAvIDIpICsgcm90YXRpb247XG4gICAgICAgIHZhciBsZW4gPSBwb2ludHMgKiAyO1xuICAgICAgICB2YXIgZGVsdGEgPSBQSV8yIC8gbGVuO1xuICAgICAgICB2YXIgcG9seWdvbiA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgciA9IGkgJSAyID8gaW5uZXJSYWRpdXMgOiByYWRpdXM7XG4gICAgICAgICAgICB2YXIgYW5nbGUgPSAoaSAqIGRlbHRhKSArIHN0YXJ0QW5nbGU7XG4gICAgICAgICAgICBwb2x5Z29uLnB1c2goeCArIChyICogTWF0aC5jb3MoYW5nbGUpKSwgeSArIChyICogTWF0aC5zaW4oYW5nbGUpKSk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwb2x5Z29uKSB8fCB0aGlzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTdGFyO1xufShQb2x5Z29uKSk7XG5cbi8qKlxuICogVXRpbGl0aWVzIGZvciBhcmMgY3VydmVzXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBBcmNVdGlscyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBcmNVdGlscygpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGFyY1RvKCkgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlIGJldHdlZW4gdHdvIHRhbmdlbnRzIG9uIHRoZSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBcImJvcnJvd2VkXCIgZnJvbSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Z4Y2FudmFzLyAtIHRoYW5rcyBnb29nbGUhXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDIgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MiAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGFyY1xuICAgICAqIEByZXR1cm4ge29iamVjdH0gSWYgdGhlIGFyYyBsZW5ndGggaXMgdmFsaWQsIHJldHVybiBjZW50ZXIgb2YgY2lyY2xlLCByYWRpdXMgYW5kIG90aGVyIGluZm8gb3RoZXJ3aXNlIGBudWxsYC5cbiAgICAgKi9cbiAgICBBcmNVdGlscy5jdXJ2ZVRvID0gZnVuY3Rpb24gKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMsIHBvaW50cykge1xuICAgICAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICB2YXIgYTEgPSBmcm9tWSAtIHkxO1xuICAgICAgICB2YXIgYjEgPSBmcm9tWCAtIHgxO1xuICAgICAgICB2YXIgYTIgPSB5MiAtIHkxO1xuICAgICAgICB2YXIgYjIgPSB4MiAtIHgxO1xuICAgICAgICB2YXIgbW0gPSBNYXRoLmFicygoYTEgKiBiMikgLSAoYjEgKiBhMikpO1xuICAgICAgICBpZiAobW0gPCAxLjBlLTggfHwgcmFkaXVzID09PSAwKSB7XG4gICAgICAgICAgICBpZiAocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSAhPT0geDEgfHwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSAhPT0geTEpIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaCh4MSwgeTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRkID0gKGExICogYTEpICsgKGIxICogYjEpO1xuICAgICAgICB2YXIgY2MgPSAoYTIgKiBhMikgKyAoYjIgKiBiMik7XG4gICAgICAgIHZhciB0dCA9IChhMSAqIGEyKSArIChiMSAqIGIyKTtcbiAgICAgICAgdmFyIGsxID0gcmFkaXVzICogTWF0aC5zcXJ0KGRkKSAvIG1tO1xuICAgICAgICB2YXIgazIgPSByYWRpdXMgKiBNYXRoLnNxcnQoY2MpIC8gbW07XG4gICAgICAgIHZhciBqMSA9IGsxICogdHQgLyBkZDtcbiAgICAgICAgdmFyIGoyID0gazIgKiB0dCAvIGNjO1xuICAgICAgICB2YXIgY3ggPSAoazEgKiBiMikgKyAoazIgKiBiMSk7XG4gICAgICAgIHZhciBjeSA9IChrMSAqIGEyKSArIChrMiAqIGExKTtcbiAgICAgICAgdmFyIHB4ID0gYjEgKiAoazIgKyBqMSk7XG4gICAgICAgIHZhciBweSA9IGExICogKGsyICsgajEpO1xuICAgICAgICB2YXIgcXggPSBiMiAqIChrMSArIGoyKTtcbiAgICAgICAgdmFyIHF5ID0gYTIgKiAoazEgKyBqMik7XG4gICAgICAgIHZhciBzdGFydEFuZ2xlID0gTWF0aC5hdGFuMihweSAtIGN5LCBweCAtIGN4KTtcbiAgICAgICAgdmFyIGVuZEFuZ2xlID0gTWF0aC5hdGFuMihxeSAtIGN5LCBxeCAtIGN4KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGN4OiAoY3ggKyB4MSksXG4gICAgICAgICAgICBjeTogKGN5ICsgeTEpLFxuICAgICAgICAgICAgcmFkaXVzOiByYWRpdXMsXG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBzdGFydEFuZ2xlLFxuICAgICAgICAgICAgZW5kQW5nbGU6IGVuZEFuZ2xlLFxuICAgICAgICAgICAgYW50aWNsb2Nrd2lzZTogKGIxICogYTIgPiBiMiAqIGExKSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAvKipcbiAgICAgKiBUaGUgYXJjIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSAodXNlZCB0byBjcmVhdGUgY2lyY2xlcywgb3IgcGFydHMgb2YgY2lyY2xlcykuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFggLSBTdGFydCB4IGxvY2F0aW9uIG9mIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFkgLSBTdGFydCB5IGxvY2F0aW9uIG9mIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeCAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN5IC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0QW5nbGUgLSBUaGUgc3RhcnRpbmcgYW5nbGUsIGluIHJhZGlhbnMgKDAgaXMgYXQgdGhlIDMgbydjbG9jayBwb3NpdGlvblxuICAgICAqICBvZiB0aGUgYXJjJ3MgY2lyY2xlKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRBbmdsZSAtIFRoZSBlbmRpbmcgYW5nbGUsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFudGljbG9ja3dpc2UgLSBTcGVjaWZpZXMgd2hldGhlciB0aGUgZHJhd2luZyBzaG91bGQgYmVcbiAgICAgKiAgY291bnRlci1jbG9ja3dpc2Ugb3IgY2xvY2t3aXNlLiBGYWxzZSBpcyBkZWZhdWx0LCBhbmQgaW5kaWNhdGVzIGNsb2Nrd2lzZSwgd2hpbGUgdHJ1ZVxuICAgICAqICBpbmRpY2F0ZXMgY291bnRlci1jbG9ja3dpc2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzIC0gQ29sbGVjdGlvbiBvZiBwb2ludHMgdG8gYWRkIHRvXG4gICAgICovXG4gICAgQXJjVXRpbHMuYXJjID0gZnVuY3Rpb24gKF9zdGFydFgsIF9zdGFydFksIGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgX2FudGljbG9ja3dpc2UsIHBvaW50cykge1xuICAgICAgICB2YXIgc3dlZXAgPSBlbmRBbmdsZSAtIHN0YXJ0QW5nbGU7XG4gICAgICAgIHZhciBuID0gR1JBUEhJQ1NfQ1VSVkVTLl9zZWdtZW50c0NvdW50KE1hdGguYWJzKHN3ZWVwKSAqIHJhZGl1cywgTWF0aC5jZWlsKE1hdGguYWJzKHN3ZWVwKSAvIFBJXzIpICogNDApO1xuICAgICAgICB2YXIgdGhldGEgPSAoc3dlZXApIC8gKG4gKiAyKTtcbiAgICAgICAgdmFyIHRoZXRhMiA9IHRoZXRhICogMjtcbiAgICAgICAgdmFyIGNUaGV0YSA9IE1hdGguY29zKHRoZXRhKTtcbiAgICAgICAgdmFyIHNUaGV0YSA9IE1hdGguc2luKHRoZXRhKTtcbiAgICAgICAgdmFyIHNlZ01pbnVzID0gbiAtIDE7XG4gICAgICAgIHZhciByZW1haW5kZXIgPSAoc2VnTWludXMgJSAxKSAvIHNlZ01pbnVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBzZWdNaW51czsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcmVhbCA9IGkgKyAocmVtYWluZGVyICogaSk7XG4gICAgICAgICAgICB2YXIgYW5nbGUgPSAoKHRoZXRhKSArIHN0YXJ0QW5nbGUgKyAodGhldGEyICogcmVhbCkpO1xuICAgICAgICAgICAgdmFyIGMgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgICAgICB2YXIgcyA9IC1NYXRoLnNpbihhbmdsZSk7XG4gICAgICAgICAgICBwb2ludHMucHVzaCgoKChjVGhldGEgKiBjKSArIChzVGhldGEgKiBzKSkgKiByYWRpdXMpICsgY3gsICgoKGNUaGV0YSAqIC1zKSArIChzVGhldGEgKiBjKSkgKiByYWRpdXMpICsgY3kpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQXJjVXRpbHM7XG59KCkpO1xuXG4vKipcbiAqIFV0aWxpdGllcyBmb3IgYmV6aWVyIGN1cnZlc1xuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgQmV6aWVyVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmV6aWVyVXRpbHMoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBsZW5ndGggb2YgYmV6aWVyIGN1cnZlLlxuICAgICAqIEFuYWx5dGljYWwgc29sdXRpb24gaXMgaW1wb3NzaWJsZSwgc2luY2UgaXQgaW52b2x2ZXMgYW4gaW50ZWdyYWwgdGhhdCBkb2VzIG5vdCBpbnRlZ3JhdGUgaW4gZ2VuZXJhbC5cbiAgICAgKiBUaGVyZWZvcmUgbnVtZXJpY2FsIHNvbHV0aW9uIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWCAtIFN0YXJ0aW5nIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVkgLSBTdGFydGluZyBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBMZW5ndGggb2YgYmV6aWVyIGN1cnZlXG4gICAgICovXG4gICAgQmV6aWVyVXRpbHMuY3VydmVMZW5ndGggPSBmdW5jdGlvbiAoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpIHtcbiAgICAgICAgdmFyIG4gPSAxMDtcbiAgICAgICAgdmFyIHJlc3VsdCA9IDAuMDtcbiAgICAgICAgdmFyIHQgPSAwLjA7XG4gICAgICAgIHZhciB0MiA9IDAuMDtcbiAgICAgICAgdmFyIHQzID0gMC4wO1xuICAgICAgICB2YXIgbnQgPSAwLjA7XG4gICAgICAgIHZhciBudDIgPSAwLjA7XG4gICAgICAgIHZhciBudDMgPSAwLjA7XG4gICAgICAgIHZhciB4ID0gMC4wO1xuICAgICAgICB2YXIgeSA9IDAuMDtcbiAgICAgICAgdmFyIGR4ID0gMC4wO1xuICAgICAgICB2YXIgZHkgPSAwLjA7XG4gICAgICAgIHZhciBwcmV2WCA9IGZyb21YO1xuICAgICAgICB2YXIgcHJldlkgPSBmcm9tWTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gbjsgKytpKSB7XG4gICAgICAgICAgICB0ID0gaSAvIG47XG4gICAgICAgICAgICB0MiA9IHQgKiB0O1xuICAgICAgICAgICAgdDMgPSB0MiAqIHQ7XG4gICAgICAgICAgICBudCA9ICgxLjAgLSB0KTtcbiAgICAgICAgICAgIG50MiA9IG50ICogbnQ7XG4gICAgICAgICAgICBudDMgPSBudDIgKiBudDtcbiAgICAgICAgICAgIHggPSAobnQzICogZnJvbVgpICsgKDMuMCAqIG50MiAqIHQgKiBjcFgpICsgKDMuMCAqIG50ICogdDIgKiBjcFgyKSArICh0MyAqIHRvWCk7XG4gICAgICAgICAgICB5ID0gKG50MyAqIGZyb21ZKSArICgzLjAgKiBudDIgKiB0ICogY3BZKSArICgzICogbnQgKiB0MiAqIGNwWTIpICsgKHQzICogdG9ZKTtcbiAgICAgICAgICAgIGR4ID0gcHJldlggLSB4O1xuICAgICAgICAgICAgZHkgPSBwcmV2WSAtIHk7XG4gICAgICAgICAgICBwcmV2WCA9IHg7XG4gICAgICAgICAgICBwcmV2WSA9IHk7XG4gICAgICAgICAgICByZXN1bHQgKz0gTWF0aC5zcXJ0KChkeCAqIGR4KSArIChkeSAqIGR5KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKlxuICAgICAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICAgICAqXG4gICAgICogQGlnbm9yZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIFBhdGggYXJyYXkgdG8gcHVzaCBwb2ludHMgaW50b1xuICAgICAqL1xuICAgIEJlemllclV0aWxzLmN1cnZlVG8gPSBmdW5jdGlvbiAoY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZLCBwb2ludHMpIHtcbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgcG9pbnRzLmxlbmd0aCAtPSAyO1xuICAgICAgICB2YXIgbiA9IEdSQVBISUNTX0NVUlZFUy5fc2VnbWVudHNDb3VudChCZXppZXJVdGlscy5jdXJ2ZUxlbmd0aChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSkpO1xuICAgICAgICB2YXIgZHQgPSAwO1xuICAgICAgICB2YXIgZHQyID0gMDtcbiAgICAgICAgdmFyIGR0MyA9IDA7XG4gICAgICAgIHZhciB0MiA9IDA7XG4gICAgICAgIHZhciB0MyA9IDA7XG4gICAgICAgIHBvaW50cy5wdXNoKGZyb21YLCBmcm9tWSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAxLCBqID0gMDsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgICAgIGogPSBpIC8gbjtcbiAgICAgICAgICAgIGR0ID0gKDEgLSBqKTtcbiAgICAgICAgICAgIGR0MiA9IGR0ICogZHQ7XG4gICAgICAgICAgICBkdDMgPSBkdDIgKiBkdDtcbiAgICAgICAgICAgIHQyID0gaiAqIGo7XG4gICAgICAgICAgICB0MyA9IHQyICogajtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKChkdDMgKiBmcm9tWCkgKyAoMyAqIGR0MiAqIGogKiBjcFgpICsgKDMgKiBkdCAqIHQyICogY3BYMikgKyAodDMgKiB0b1gpLCAoZHQzICogZnJvbVkpICsgKDMgKiBkdDIgKiBqICogY3BZKSArICgzICogZHQgKiB0MiAqIGNwWTIpICsgKHQzICogdG9ZKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBCZXppZXJVdGlscztcbn0oKSk7XG5cbi8qKlxuICogVXRpbGl0aWVzIGZvciBxdWFkcmF0aWMgY3VydmVzXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBRdWFkcmF0aWNVdGlscyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBRdWFkcmF0aWNVdGlscygpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIGxlbmd0aCBvZiBxdWFkcmF0aWMgY3VydmVcbiAgICAgKiBAc2VlIHtAbGluayBodHRwOi8vd3d3Lm1hbGN6YWsubGludXhwbC5jb20vYmxvZy9xdWFkcmF0aWMtYmV6aWVyLWN1cnZlLWxlbmd0aC99XG4gICAgICogZm9yIHRoZSBkZXRhaWxlZCBleHBsYW5hdGlvbiBvZiBtYXRoIGJlaGluZCB0aGlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSB4LWNvb3JkaW5hdGUgb2YgY3VydmUgc3RhcnQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVkgLSB5LWNvb3JkaW5hdGUgb2YgY3VydmUgc3RhcnQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0geC1jb29yZGluYXRlIG9mIGN1cnZlIGNvbnRyb2wgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0geS1jb29yZGluYXRlIG9mIGN1cnZlIGNvbnRyb2wgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0geC1jb29yZGluYXRlIG9mIGN1cnZlIGVuZCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSB5LWNvb3JkaW5hdGUgb2YgY3VydmUgZW5kIHBvaW50XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBMZW5ndGggb2YgcXVhZHJhdGljIGN1cnZlXG4gICAgICovXG4gICAgUXVhZHJhdGljVXRpbHMuY3VydmVMZW5ndGggPSBmdW5jdGlvbiAoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgdG9YLCB0b1kpIHtcbiAgICAgICAgdmFyIGF4ID0gZnJvbVggLSAoMi4wICogY3BYKSArIHRvWDtcbiAgICAgICAgdmFyIGF5ID0gZnJvbVkgLSAoMi4wICogY3BZKSArIHRvWTtcbiAgICAgICAgdmFyIGJ4ID0gKDIuMCAqIGNwWCkgLSAoMi4wICogZnJvbVgpO1xuICAgICAgICB2YXIgYnkgPSAoMi4wICogY3BZKSAtICgyLjAgKiBmcm9tWSk7XG4gICAgICAgIHZhciBhID0gNC4wICogKChheCAqIGF4KSArIChheSAqIGF5KSk7XG4gICAgICAgIHZhciBiID0gNC4wICogKChheCAqIGJ4KSArIChheSAqIGJ5KSk7XG4gICAgICAgIHZhciBjID0gKGJ4ICogYngpICsgKGJ5ICogYnkpO1xuICAgICAgICB2YXIgcyA9IDIuMCAqIE1hdGguc3FydChhICsgYiArIGMpO1xuICAgICAgICB2YXIgYTIgPSBNYXRoLnNxcnQoYSk7XG4gICAgICAgIHZhciBhMzIgPSAyLjAgKiBhICogYTI7XG4gICAgICAgIHZhciBjMiA9IDIuMCAqIE1hdGguc3FydChjKTtcbiAgICAgICAgdmFyIGJhID0gYiAvIGEyO1xuICAgICAgICByZXR1cm4gKChhMzIgKiBzKVxuICAgICAgICAgICAgKyAoYTIgKiBiICogKHMgLSBjMikpXG4gICAgICAgICAgICArICgoKDQuMCAqIGMgKiBhKSAtIChiICogYikpXG4gICAgICAgICAgICAgICAgKiBNYXRoLmxvZygoKDIuMCAqIGEyKSArIGJhICsgcykgLyAoYmEgKyBjMikpKSkgLyAoNC4wICogYTMyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICogQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NTA5Ny9ob3ctZG8taS1pbXBsZW1lbnQtYS1iZXppZXItY3VydmUtaW4tY1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBwb2ludHMgLSBQb2ludHMgdG8gYWRkIHNlZ21lbnRzIHRvLlxuICAgICAqL1xuICAgIFF1YWRyYXRpY1V0aWxzLmN1cnZlVG8gPSBmdW5jdGlvbiAoY3BYLCBjcFksIHRvWCwgdG9ZLCBwb2ludHMpIHtcbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgdmFyIG4gPSBHUkFQSElDU19DVVJWRVMuX3NlZ21lbnRzQ291bnQoUXVhZHJhdGljVXRpbHMuY3VydmVMZW5ndGgoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgdG9YLCB0b1kpKTtcbiAgICAgICAgdmFyIHhhID0gMDtcbiAgICAgICAgdmFyIHlhID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gbjsgKytpKSB7XG4gICAgICAgICAgICB2YXIgaiA9IGkgLyBuO1xuICAgICAgICAgICAgeGEgPSBmcm9tWCArICgoY3BYIC0gZnJvbVgpICogaik7XG4gICAgICAgICAgICB5YSA9IGZyb21ZICsgKChjcFkgLSBmcm9tWSkgKiBqKTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHhhICsgKCgoY3BYICsgKCh0b1ggLSBjcFgpICogaikpIC0geGEpICogaiksIHlhICsgKCgoY3BZICsgKCh0b1kgLSBjcFkpICogaikpIC0geWEpICogaikpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUXVhZHJhdGljVXRpbHM7XG59KCkpO1xuXG4vKipcbiAqIEEgc3RydWN0dXJlIHRvIGhvbGQgaW50ZXJpbSBiYXRjaCBvYmplY3RzIGZvciBHcmFwaGljcy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ3JhcGhpY3NVdGlsc1xuICovXG52YXIgQmF0Y2hQYXJ0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhdGNoUGFydCgpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCZWdpbiBiYXRjaCBwYXJ0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsbFN0eWxlIHwgUElYSS5MaW5lU3R5bGV9IHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXR0cmliU3RhcnRcbiAgICAgKi9cbiAgICBCYXRjaFBhcnQucHJvdG90eXBlLmJlZ2luID0gZnVuY3Rpb24gKHN0eWxlLCBzdGFydEluZGV4LCBhdHRyaWJTdGFydCkge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0SW5kZXg7XG4gICAgICAgIHRoaXMuYXR0cmliU3RhcnQgPSBhdHRyaWJTdGFydDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuZCBiYXRjaCBwYXJ0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kSW5kZXhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kQXR0cmliXG4gICAgICovXG4gICAgQmF0Y2hQYXJ0LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoZW5kSW5kZXgsIGVuZEF0dHJpYikge1xuICAgICAgICB0aGlzLmF0dHJpYlNpemUgPSBlbmRBdHRyaWIgLSB0aGlzLmF0dHJpYlN0YXJ0O1xuICAgICAgICB0aGlzLnNpemUgPSBlbmRJbmRleCAtIHRoaXMuc3RhcnQ7XG4gICAgfTtcbiAgICBCYXRjaFBhcnQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0eWxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgdGhpcy5zdGFydCA9IDA7XG4gICAgICAgIHRoaXMuYXR0cmliU3RhcnQgPSAwO1xuICAgICAgICB0aGlzLmF0dHJpYlNpemUgPSAwO1xuICAgIH07XG4gICAgcmV0dXJuIEJhdGNoUGFydDtcbn0oKSk7XG5cbi8qKlxuICogR2VuZXJhbGl6ZWQgY29udmVuaWVuY2UgdXRpbGl0aWVzIGZvciBHcmFwaGljcy5cbiAqXG4gKiBAbmFtZXNwYWNlIGdyYXBoaWNzVXRpbHNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBfYTtcbi8qKlxuICogTWFwIG9mIGZpbGwgY29tbWFuZHMgZm9yIGVhY2ggc2hhcGUgdHlwZS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5ncmFwaGljc1V0aWxzXG4gKiBAbWVtYmVyIHtPYmplY3R9IEZJTExfQ09NTUFORFNcbiAqL1xudmFyIEZJTExfQ09NTUFORFMgPSAoX2EgPSB7fSxcbiAgICBfYVtTSEFQRVMuUE9MWV0gPSBidWlsZFBvbHksXG4gICAgX2FbU0hBUEVTLkNJUkNdID0gYnVpbGRDaXJjbGUsXG4gICAgX2FbU0hBUEVTLkVMSVBdID0gYnVpbGRDaXJjbGUsXG4gICAgX2FbU0hBUEVTLlJFQ1RdID0gYnVpbGRSZWN0YW5nbGUsXG4gICAgX2FbU0hBUEVTLlJSRUNdID0gYnVpbGRSb3VuZGVkUmVjdGFuZ2xlLFxuICAgIF9hKTtcbi8qKlxuICogQmF0Y2ggcG9vbCwgc3RvcmVzIHVudXNlZCBiYXRjaGVzIGZvciBwcmV2ZW50aW5nIGFsbG9jYXRpb25zLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLmdyYXBoaWNzVXRpbHNcbiAqIEBtZW1iZXIge0FycmF5PFBJWEkuZ3JhcGhpY3NVdGlscy5CYXRjaFBhcnQ+fSBCQVRDSF9QT09MXG4gKi9cbnZhciBCQVRDSF9QT09MID0gW107XG4vKipcbiAqIERyYXcgY2FsbCBwb29sLCBzdG9yZXMgdW51c2VkIGRyYXcgY2FsbHMgZm9yIHByZXZlbnRpbmcgYWxsb2NhdGlvbnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuZ3JhcGhpY3NVdGlsc1xuICogQG1lbWJlciB7QXJyYXk8UElYSS5CYXRjaERyYXdDYWxsPn0gRFJBV19DQUxMX1BPT0xcbiAqL1xudmFyIERSQVdfQ0FMTF9QT09MID0gW107XG5cbnZhciBpbmRleCA9ICh7XG4gICAgYnVpbGRQb2x5OiBidWlsZFBvbHksXG4gICAgYnVpbGRDaXJjbGU6IGJ1aWxkQ2lyY2xlLFxuICAgIGJ1aWxkUmVjdGFuZ2xlOiBidWlsZFJlY3RhbmdsZSxcbiAgICBidWlsZFJvdW5kZWRSZWN0YW5nbGU6IGJ1aWxkUm91bmRlZFJlY3RhbmdsZSxcbiAgICBGSUxMX0NPTU1BTkRTOiBGSUxMX0NPTU1BTkRTLFxuICAgIEJBVENIX1BPT0w6IEJBVENIX1BPT0wsXG4gICAgRFJBV19DQUxMX1BPT0w6IERSQVdfQ0FMTF9QT09MLFxuICAgIGJ1aWxkTGluZTogYnVpbGRMaW5lLFxuICAgIFN0YXI6IFN0YXIsXG4gICAgQXJjVXRpbHM6IEFyY1V0aWxzLFxuICAgIEJlemllclV0aWxzOiBCZXppZXJVdGlscyxcbiAgICBRdWFkcmF0aWNVdGlsczogUXVhZHJhdGljVXRpbHMsXG4gICAgQmF0Y2hQYXJ0OiBCYXRjaFBhcnRcbn0pO1xuXG4vKipcbiAqIEEgY2xhc3MgdG8gY29udGFpbiBkYXRhIHVzZWZ1bCBmb3IgR3JhcGhpY3Mgb2JqZWN0c1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdyYXBoaWNzRGF0YSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWxsU3R5bGV9IFtmaWxsU3R5bGVdIC0gdGhlIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICAgKiBAcGFyYW0ge1BJWEkuTGluZVN0eWxlfSBbbGluZVN0eWxlXSAtIHRoZSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gW21hdHJpeF0gLSBUcmFuc2Zvcm0gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gR3JhcGhpY3NEYXRhKHNoYXBlLCBmaWxsU3R5bGUsIGxpbmVTdHlsZSwgbWF0cml4KSB7XG4gICAgICAgIGlmIChmaWxsU3R5bGUgPT09IHZvaWQgMCkgeyBmaWxsU3R5bGUgPSBudWxsOyB9XG4gICAgICAgIGlmIChsaW5lU3R5bGUgPT09IHZvaWQgMCkgeyBsaW5lU3R5bGUgPSBudWxsOyB9XG4gICAgICAgIGlmIChtYXRyaXggPT09IHZvaWQgMCkgeyBtYXRyaXggPSBudWxsOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaGFwZSA9IHNoYXBlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0eWxlIG9mIHRoZSBsaW5lLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkxpbmVTdHlsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZVN0eWxlID0gbGluZVN0eWxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0eWxlIG9mIHRoZSBmaWxsLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbGxTdHlsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRyYW5zZm9ybSBtYXRyaXguXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXRyaXggPSBtYXRyaXg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgc2hhcGUsIHNlZSB0aGUgQ29uc3QuU2hhcGVzIGZpbGUgZm9yIGFsbCB0aGUgZXhpc3RpbmcgdHlwZXMsXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IHNoYXBlLnR5cGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBwb2ludHMuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGhvbGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ob2xlcyA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEdyYXBoaWNzRGF0YSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzRGF0YX0gQ2xvbmVkIEdyYXBoaWNzRGF0YSBvYmplY3RcbiAgICAgKi9cbiAgICBHcmFwaGljc0RhdGEucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IEdyYXBoaWNzRGF0YSh0aGlzLnNoYXBlLCB0aGlzLmZpbGxTdHlsZSwgdGhpcy5saW5lU3R5bGUsIHRoaXMubWF0cml4KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBkYXRhLlxuICAgICAqXG4gICAgICovXG4gICAgR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNoYXBlID0gbnVsbDtcbiAgICAgICAgdGhpcy5ob2xlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmhvbGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5wb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5wb2ludHMgPSBudWxsO1xuICAgICAgICB0aGlzLmxpbmVTdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsbFN0eWxlID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBHcmFwaGljc0RhdGE7XG59KCkpO1xuXG52YXIgdG1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbnZhciB0bXBCb3VuZHMgPSBuZXcgQm91bmRzKCk7XG4vKipcbiAqIFRoZSBHcmFwaGljcyBjbGFzcyBjb250YWlucyBtZXRob2RzIHVzZWQgdG8gZHJhdyBwcmltaXRpdmUgc2hhcGVzIHN1Y2ggYXMgbGluZXMsIGNpcmNsZXMgYW5kXG4gKiByZWN0YW5nbGVzIHRvIHRoZSBkaXNwbGF5LCBhbmQgdG8gY29sb3IgYW5kIGZpbGwgdGhlbS5cbiAqXG4gKiBHcmFwaGljc0dlb21ldHJ5IGlzIGRlc2lnbmVkIHRvIG5vdCBiZSBjb250aW51YWxseSB1cGRhdGluZyB0aGUgZ2VvbWV0cnkgc2luY2UgaXQncyBleHBlbnNpdmVcbiAqIHRvIHJlLXRlc3NlbGF0ZSB1c2luZyAqKmVhcmN1dCoqLiBDb25zaWRlciB1c2luZyB7QGxpbmsgUElYSS5NZXNofSBmb3IgdGhpcyB1c2UtY2FzZSwgaXQncyBtdWNoIGZhc3Rlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmF0Y2hHZW9tZXRyeVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdyYXBoaWNzR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEdyYXBoaWNzR2VvbWV0cnksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gR3JhcGhpY3NHZW9tZXRyeSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudXZzRmxvYXQzMiA9IG51bGw7XG4gICAgICAgIF90aGlzLmluZGljZXNVaW50MTYgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgcG9pbnRzIHRvIGRyYXcsIDIgbnVtYmVycyBwZXIgcG9pbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBvaW50cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgY29sb3JzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb2xvcnMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBVVnMgY29sbGVjdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaW5kaWNlcyBvZiB0aGUgdmVydGljZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmluZGljZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgdGV4dHVyZSBJRHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlSWRzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBkcmF3biBzaGFwZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NEYXRhW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdyYXBoaWNzRGF0YSA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlY3QgaWYgdGhlIGdyYXBoaWNzIG9iamVjdCBoYXMgY2hhbmdlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kaXJ0eSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXRjaGVzIG5lZWQgdG8gcmVnZW5lcmF0ZWQgaWYgdGhlIGdlb21ldHJ5IGlzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmF0Y2hEaXJ0eSA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBjaGVjayBpZiB0aGUgY2FjaGUgaXMgZGlydHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FjaGVEaXJ0eSA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlY3QgaWYgd2UgY2xlYXJlZCB0aGUgZ3JhcGhpY3NEYXRhLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2xlYXJEaXJ0eSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIGN1cnJlbnQgZHJhdyBjYWxscyBkcml2ZWQgZnJvbSB0aGUgYmF0Y2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRyYXdDYWxscyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJtZWRpYXRlIGFic3RyYWN0IGZvcm1hdCBzZW50IHRvIGJhdGNoIHN5c3RlbS5cbiAgICAgICAgICogQ2FuIGJlIGNvbnZlcnRlZCB0byBkcmF3Q2FsbHMgb3IgdG8gYmF0Y2hhYmxlIG9iamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuZ3JhcGhpY3NVdGlscy5CYXRjaFBhcnRbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmF0Y2hlcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kZXggb2YgdGhlIGxhc3QgYmF0Y2hlZCBzaGFwZSBpbiB0aGUgc3RhY2sgb2YgY2FsbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2hhcGVJbmRleCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZWQgYm91bmRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBib3VuZHMgZGlydHkgZmxhZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZHNEaXJ0eSA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGFkZGluZyB0byBhZGQgdG8gdGhlIGJvdW5kcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZHNQYWRkaW5nID0gMDtcbiAgICAgICAgX3RoaXMuYmF0Y2hhYmxlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmluZGljZXNVaW50MTYgPSBudWxsO1xuICAgICAgICBfdGhpcy51dnNGbG9hdDMyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pbmltYWwgZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgdGhhdCBhcmUgY29uc2lkZXJlZCBkaWZmZXJlbnQuXG4gICAgICAgICAqIEFmZmVjdHMgbGluZSB0ZXNzZWxhdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2xvc2VQb2ludEVwcyA9IDFlLTQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLCBcImJvdW5kc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIGN1cnJlbnQgYm91bmRzIG9mIHRoZSBncmFwaGljIGdlb21ldHJ5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kc0RpcnR5ICE9PSB0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IHRoaXMuZGlydHk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDYWxsIGlmIHlvdSBjaGFuZ2VkIGdyYXBoaWNzRGF0YSBtYW51YWxseS5cbiAgICAgKiBFbXB0aWVzIGFsbCBiYXRjaCBidWZmZXJzLlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmludmFsaWRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYm91bmRzRGlydHkgPSAtMTtcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuICAgICAgICB0aGlzLmJhdGNoRGlydHkrKztcbiAgICAgICAgdGhpcy5zaGFwZUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5wb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5jb2xvcnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy51dnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5pbmRpY2VzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMudGV4dHVyZUlkcy5sZW5ndGggPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHJhd0NhbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdDYWxsc1tpXS50ZXhBcnJheS5jbGVhcigpO1xuICAgICAgICAgICAgRFJBV19DQUxMX1BPT0wucHVzaCh0aGlzLmRyYXdDYWxsc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBiYXRjaFBhcnQgPSB0aGlzLmJhdGNoZXNbaV07XG4gICAgICAgICAgICBiYXRjaFBhcnQucmVzZXQoKTtcbiAgICAgICAgICAgIEJBVENIX1BPT0wucHVzaChiYXRjaFBhcnQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmF0Y2hlcy5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBncmFwaGljcyB0aGF0IHdlcmUgZHJhd24gdG8gdGhpcyBHcmFwaGljcyBvYmplY3QsIGFuZCByZXNldHMgZmlsbCBhbmQgbGluZSBzdHlsZSBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gVGhpcyBHcmFwaGljc0dlb21ldHJ5IG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJEaXJ0eSsrO1xuICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBnaXZlbiBzaGFwZSB0byB0aGlzIEdyYXBoaWNzIG9iamVjdC4gQ2FuIGJlIGFueSBvZiBDaXJjbGUsIFJlY3RhbmdsZSwgRWxsaXBzZSwgTGluZSBvciBQb2x5Z29uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZX0gZmlsbFN0eWxlIC0gRGVmaW5lcyBzdHlsZSBvZiB0aGUgZmlsbC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTGluZVN0eWxlfSBsaW5lU3R5bGUgLSBEZWZpbmVzIHN0eWxlIG9mIHRoZSBsaW5lcy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUcmFuc2Zvcm0gYXBwbGllZCB0byB0aGUgcG9pbnRzIG9mIHRoZSBzaGFwZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IFJldHVybnMgZ2VvbWV0cnkgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmRyYXdTaGFwZSA9IGZ1bmN0aW9uIChzaGFwZSwgZmlsbFN0eWxlLCBsaW5lU3R5bGUsIG1hdHJpeCkge1xuICAgICAgICBpZiAoZmlsbFN0eWxlID09PSB2b2lkIDApIHsgZmlsbFN0eWxlID0gbnVsbDsgfVxuICAgICAgICBpZiAobGluZVN0eWxlID09PSB2b2lkIDApIHsgbGluZVN0eWxlID0gbnVsbDsgfVxuICAgICAgICBpZiAobWF0cml4ID09PSB2b2lkIDApIHsgbWF0cml4ID0gbnVsbDsgfVxuICAgICAgICB2YXIgZGF0YSA9IG5ldyBHcmFwaGljc0RhdGEoc2hhcGUsIGZpbGxTdHlsZSwgbGluZVN0eWxlLCBtYXRyaXgpO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5wdXNoKGRhdGEpO1xuICAgICAgICB0aGlzLmRpcnR5Kys7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIGdpdmVuIHNoYXBlIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBDYW4gYmUgYW55IG9mIENpcmNsZSwgUmVjdGFuZ2xlLCBFbGxpcHNlLCBMaW5lIG9yIFBvbHlnb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUcmFuc2Zvcm0gYXBwbGllZCB0byB0aGUgcG9pbnRzIG9mIHRoZSBzaGFwZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IFJldHVybnMgZ2VvbWV0cnkgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmRyYXdIb2xlID0gZnVuY3Rpb24gKHNoYXBlLCBtYXRyaXgpIHtcbiAgICAgICAgaWYgKG1hdHJpeCA9PT0gdm9pZCAwKSB7IG1hdHJpeCA9IG51bGw7IH1cbiAgICAgICAgaWYgKCF0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkYXRhID0gbmV3IEdyYXBoaWNzRGF0YShzaGFwZSwgbnVsbCwgbnVsbCwgbWF0cml4KTtcbiAgICAgICAgdmFyIGxhc3RTaGFwZSA9IHRoaXMuZ3JhcGhpY3NEYXRhW3RoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCAtIDFdO1xuICAgICAgICBkYXRhLmxpbmVTdHlsZSA9IGxhc3RTaGFwZS5saW5lU3R5bGU7XG4gICAgICAgIGxhc3RTaGFwZS5ob2xlcy5wdXNoKGRhdGEpO1xuICAgICAgICB0aGlzLmRpcnR5Kys7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIEdyYXBoaWNzR2VvbWV0cnkgb2JqZWN0LlxuICAgICAqXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIC8vIGRlc3Ryb3kgZWFjaCBvZiB0aGUgR3JhcGhpY3NEYXRhIG9iamVjdHNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGFbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMucG9pbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb2xvcnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5jb2xvcnMgPSBudWxsO1xuICAgICAgICB0aGlzLnV2cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnV2cyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kaWNlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMgPSBudWxsO1xuICAgICAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5iYXRjaGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYm91bmRzID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrIHRvIHNlZSBpZiBhIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBnZW9tZXRyeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb2ludCAtIFBvaW50IHRvIGNoZWNrIGlmIGl0J3MgY29udGFpbmVkLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgcG9pbnQgaXMgY29udGFpbmVkIHdpdGhpbiBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIHZhciBncmFwaGljc0RhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgaWYgKCFkYXRhLmZpbGxTdHlsZS52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvbmx5IGRlYWwgd2l0aCBmaWxscy4uXG4gICAgICAgICAgICBpZiAoZGF0YS5zaGFwZSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLm1hdHJpeCkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLm1hdHJpeC5hcHBseUludmVyc2UocG9pbnQsIHRtcFBvaW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRtcFBvaW50LmNvcHlGcm9tKHBvaW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc2hhcGUuY29udGFpbnModG1wUG9pbnQueCwgdG1wUG9pbnQueSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhpdEhvbGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaG9sZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IDA7IGlfMSA8IGRhdGEuaG9sZXMubGVuZ3RoOyBpXzErKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBob2xlID0gZGF0YS5ob2xlc1tpXzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob2xlLnNoYXBlLmNvbnRhaW5zKHRtcFBvaW50LngsIHRtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEhvbGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoaXRIb2xlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgaW50ZXJtZWRpYXRlIGJhdGNoIGRhdGEuIEVpdGhlciBnZXRzIGNvbnZlcnRlZCB0byBkcmF3Q2FsbHNcbiAgICAgKiBvciB1c2VkIHRvIGNvbnZlcnQgdG8gYmF0Y2ggb2JqZWN0cyBkaXJlY3RseSBieSB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYWxvb3czMkluZGljZXNdIC0gQWxsb3cgdXNpbmcgMzItYml0IGluZGljZXMgZm9yIHByZXZlbnRpbmdzIGFydGVmYWN0cyB3aGVuIG1vcmUgdGhhdCA2NTUzNSB2ZXJ0aWNlc1xuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnVwZGF0ZUJhdGNoZXMgPSBmdW5jdGlvbiAoYWxsb3czMkluZGljZXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGVCYXRjaGluZygpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWNoZURpcnR5ID0gdGhpcy5kaXJ0eTtcbiAgICAgICAgdmFyIHV2cyA9IHRoaXMudXZzO1xuICAgICAgICB2YXIgZ3JhcGhpY3NEYXRhID0gdGhpcy5ncmFwaGljc0RhdGE7XG4gICAgICAgIHZhciBiYXRjaFBhcnQgPSBudWxsO1xuICAgICAgICB2YXIgY3VycmVudFN0eWxlID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBiYXRjaFBhcnQgPSB0aGlzLmJhdGNoZXNbdGhpcy5iYXRjaGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgY3VycmVudFN0eWxlID0gYmF0Y2hQYXJ0LnN0eWxlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnNoYXBlSW5kZXg7IGkgPCBncmFwaGljc0RhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc2hhcGVJbmRleCsrO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljc0RhdGFbaV07XG4gICAgICAgICAgICB2YXIgZmlsbFN0eWxlID0gZGF0YS5maWxsU3R5bGU7XG4gICAgICAgICAgICB2YXIgbGluZVN0eWxlID0gZGF0YS5saW5lU3R5bGU7XG4gICAgICAgICAgICB2YXIgY29tbWFuZCA9IEZJTExfQ09NTUFORFNbZGF0YS50eXBlXTtcbiAgICAgICAgICAgIC8vIGJ1aWxkIG91dCB0aGUgc2hhcGVzIHBvaW50cy4uXG4gICAgICAgICAgICBjb21tYW5kLmJ1aWxkKGRhdGEpO1xuICAgICAgICAgICAgaWYgKGRhdGEubWF0cml4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1Qb2ludHMoZGF0YS5wb2ludHMsIGRhdGEubWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gKGogPT09IDApID8gZmlsbFN0eWxlIDogbGluZVN0eWxlO1xuICAgICAgICAgICAgICAgIGlmICghc3R5bGUudmlzaWJsZSlcbiAgICAgICAgICAgICAgICAgICAgeyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgIHZhciBuZXh0VGV4dHVyZSA9IHN0eWxlLnRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4XzEgPSB0aGlzLmluZGljZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciBhdHRyaWJJbmRleCA9IHRoaXMucG9pbnRzLmxlbmd0aCAvIDI7XG4gICAgICAgICAgICAgICAgbmV4dFRleHR1cmUud3JhcE1vZGUgPSBXUkFQX01PREVTLlJFUEVBVDtcbiAgICAgICAgICAgICAgICBpZiAoaiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NGaWxsKGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzTGluZShkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSAodGhpcy5wb2ludHMubGVuZ3RoIC8gMikgLSBhdHRyaWJJbmRleDtcbiAgICAgICAgICAgICAgICBpZiAoc2l6ZSA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgeyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgIC8vIGNsb3NlIGJhdGNoIGlmIHN0eWxlIGlzIGRpZmZlcmVudFxuICAgICAgICAgICAgICAgIGlmIChiYXRjaFBhcnQgJiYgIXRoaXMuX2NvbXBhcmVTdHlsZXMoY3VycmVudFN0eWxlLCBzdHlsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0LmVuZChpbmRleF8xLCBhdHRyaWJJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHNwYXduIG5ldyBiYXRjaCBpZiBpdHMgZmlyc3QgYmF0Y2ggb3IgcHJldmlvdXMgd2FzIGNsb3NlZFxuICAgICAgICAgICAgICAgIGlmICghYmF0Y2hQYXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydCA9IEJBVENIX1BPT0wucG9wKCkgfHwgbmV3IEJhdGNoUGFydCgpO1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQuYmVnaW4oc3R5bGUsIGluZGV4XzEsIGF0dHJpYkluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYXRjaGVzLnB1c2goYmF0Y2hQYXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0eWxlID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYWRkVXZzKHRoaXMucG9pbnRzLCB1dnMsIHN0eWxlLnRleHR1cmUsIGF0dHJpYkluZGV4LCBzaXplLCBzdHlsZS5tYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIHZhciBhdHRyaWIgPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuICAgICAgICBpZiAoYmF0Y2hQYXJ0KSB7XG4gICAgICAgICAgICBiYXRjaFBhcnQuZW5kKGluZGV4LCBhdHRyaWIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJhdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyB0aGVyZSBhcmUgbm8gdmlzaWJsZSBzdHlsZXMgaW4gR3JhcGhpY3NEYXRhXG4gICAgICAgICAgICAvLyBpdHMgcG9zc2libGUgdGhhdCBzb21lb25lIHdhbnRzIEdyYXBoaWNzIGp1c3QgZm9yIHRoZSBib3VuZHNcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBwcmV2ZW50IGFsbG9jYXRpb24gd2hlbiBsZW5ndGggaXMgc2FtZSBhcyBidWZmZXJcbiAgICAgICAgaWYgKHRoaXMuaW5kaWNlc1VpbnQxNiAmJiB0aGlzLmluZGljZXMubGVuZ3RoID09PSB0aGlzLmluZGljZXNVaW50MTYubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmluZGljZXNVaW50MTYuc2V0KHRoaXMuaW5kaWNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgbmVlZDMyID0gYXR0cmliID4gMHhmZmZmICYmIGFsbG93MzJJbmRpY2VzO1xuICAgICAgICAgICAgdGhpcy5pbmRpY2VzVWludDE2ID0gbmVlZDMyID8gbmV3IFVpbnQzMkFycmF5KHRoaXMuaW5kaWNlcykgOiBuZXcgVWludDE2QXJyYXkodGhpcy5pbmRpY2VzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIG1ha2UgdGhpcyBhIGNvbnN0Li5cbiAgICAgICAgdGhpcy5iYXRjaGFibGUgPSB0aGlzLmlzQmF0Y2hhYmxlKCk7XG4gICAgICAgIGlmICh0aGlzLmJhdGNoYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5wYWNrQmF0Y2hlcygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5idWlsZERyYXdDYWxscygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZmZpbml0eSBjaGVja1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZSB8IFBJWEkuTGluZVN0eWxlfSBzdHlsZUFcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsbFN0eWxlIHwgUElYSS5MaW5lU3R5bGV9IHN0eWxlQlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLl9jb21wYXJlU3R5bGVzID0gZnVuY3Rpb24gKHN0eWxlQSwgc3R5bGVCKSB7XG4gICAgICAgIGlmICghc3R5bGVBIHx8ICFzdHlsZUIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3R5bGVBLnRleHR1cmUuYmFzZVRleHR1cmUgIT09IHN0eWxlQi50ZXh0dXJlLmJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlQS5jb2xvciArIHN0eWxlQS5hbHBoYSAhPT0gc3R5bGVCLmNvbG9yICsgc3R5bGVCLmFscGhhKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhc3R5bGVBLm5hdGl2ZSAhPT0gISFzdHlsZUIubmF0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGdlb21ldHJ5IGZvciBiYXRjaGluZyBwcm9jZXNzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnZhbGlkYXRlQmF0Y2hpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5ID09PSB0aGlzLmNhY2hlRGlydHkgfHwgIXRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIGZpbGwgPSBkYXRhLmZpbGxTdHlsZTtcbiAgICAgICAgICAgIHZhciBsaW5lID0gZGF0YS5saW5lU3R5bGU7XG4gICAgICAgICAgICBpZiAoZmlsbCAmJiAhZmlsbC50ZXh0dXJlLmJhc2VUZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAgICAgIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICBpZiAobGluZSAmJiAhbGluZS50ZXh0dXJlLmJhc2VUZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAgICAgIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPZmZzZXQgdGhlIGluZGljZXMgc28gdGhhdCBpdCB3b3JrcyB3aXRoIHRoZSBiYXRjaGVyLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnBhY2tCYXRjaGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmJhdGNoRGlydHkrKztcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnV2cyk7XG4gICAgICAgIHZhciBiYXRjaGVzID0gdGhpcy5iYXRjaGVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGJhdGNoZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYmF0Y2ggPSBiYXRjaGVzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiYXRjaC5zaXplOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBiYXRjaC5zdGFydCArIGo7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRpY2VzVWludDE2W2luZGV4XSA9IHRoaXMuaW5kaWNlc1VpbnQxNltpbmRleF0gLSBiYXRjaC5hdHRyaWJTdGFydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSBpZiB0aGlzIGdyYXBoaWNzIGdlb21ldHJ5IGNhbiBiZSBiYXRjaGVkLlxuICAgICAqIEN1cnJlbnRseSBpdCBuZWVkcyB0byBiZSBzbWFsbCBlbm91Z2ggYW5kIG5vdCBjb250YWluIGFueSBuYXRpdmUgbGluZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuaXNCYXRjaGFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHByZXZlbnQgaGVhdnkgbWVzaCBiYXRjaGluZ1xuICAgICAgICBpZiAodGhpcy5wb2ludHMubGVuZ3RoID4gMHhmZmZmICogMikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYXRjaGVzID0gdGhpcy5iYXRjaGVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChiYXRjaGVzW2ldLnN0eWxlLm5hdGl2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHRoaXMucG9pbnRzLmxlbmd0aCA8IEdyYXBoaWNzR2VvbWV0cnkuQkFUQ0hBQkxFX1NJWkUgKiAyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGludGVybWVkaWF0ZSBiYXRjaGVzIGRhdGEgdG8gZHJhd0NhbGxzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmJ1aWxkRHJhd0NhbGxzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgVElDSyA9ICsrQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHJhd0NhbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdDYWxsc1tpXS50ZXhBcnJheS5jbGVhcigpO1xuICAgICAgICAgICAgRFJBV19DQUxMX1BPT0wucHVzaCh0aGlzLmRyYXdDYWxsc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoID0gMDtcbiAgICAgICAgdmFyIGNvbG9ycyA9IHRoaXMuY29sb3JzO1xuICAgICAgICB2YXIgdGV4dHVyZUlkcyA9IHRoaXMudGV4dHVyZUlkcztcbiAgICAgICAgdmFyIGN1cnJlbnRHcm91cCA9IERSQVdfQ0FMTF9QT09MLnBvcCgpO1xuICAgICAgICBpZiAoIWN1cnJlbnRHcm91cCkge1xuICAgICAgICAgICAgY3VycmVudEdyb3VwID0gbmV3IEJhdGNoRHJhd0NhbGwoKTtcbiAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXhBcnJheSA9IG5ldyBCYXRjaFRleHR1cmVBcnJheSgpO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRHcm91cC50ZXhBcnJheS5jb3VudCA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gMDtcbiAgICAgICAgY3VycmVudEdyb3VwLnR5cGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUztcbiAgICAgICAgdmFyIHRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHZhciB0ZXh0dXJlSWQgPSAwO1xuICAgICAgICB2YXIgbmF0aXZlID0gZmFsc2U7XG4gICAgICAgIHZhciBkcmF3TW9kZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB0aGlzLmRyYXdDYWxscy5wdXNoKGN1cnJlbnRHcm91cCk7XG4gICAgICAgIC8vIFRPRE8gLSB0aGlzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgIC8vIFRPRE8gYWRkIHNvbWUgZnVsbCBvbiBNQVhfVEVYVFVSRSBDT0RFLi5cbiAgICAgICAgICAgIHZhciBNQVhfVEVYVFVSRVMgPSA4O1xuICAgICAgICAgICAgLy8gRm9yY2VkIGNhc3QgZm9yIGNoZWNraW5nIGBuYXRpdmVgIHdpdGhvdXQgZXJyb3JzXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBkYXRhLnN0eWxlO1xuICAgICAgICAgICAgdmFyIG5leHRUZXh0dXJlID0gc3R5bGUudGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIGlmIChuYXRpdmUgIT09ICEhc3R5bGUubmF0aXZlKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlID0gISFzdHlsZS5uYXRpdmU7XG4gICAgICAgICAgICAgICAgZHJhd01vZGUgPSBuYXRpdmUgPyBEUkFXX01PREVTLkxJTkVTIDogRFJBV19NT0RFUy5UUklBTkdMRVM7XG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgdGhlIGJhdGNoIHRvIGJyZWFrIVxuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQgPSBNQVhfVEVYVFVSRVM7XG4gICAgICAgICAgICAgICAgVElDSysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUZXh0dXJlICE9PSBuZXh0VGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbmV4dFRleHR1cmU7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRUZXh0dXJlLl9iYXRjaEVuYWJsZWQgIT09IFRJQ0spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHR1cmVDb3VudCA9PT0gTUFYX1RFWFRVUkVTKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUSUNLKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRHcm91cC5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cCA9IERSQVdfQ0FMTF9QT09MLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudEdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cCA9IG5ldyBCYXRjaERyYXdDYWxsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXhBcnJheSA9IG5ldyBCYXRjaFRleHR1cmVBcnJheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdDYWxscy5wdXNoKGN1cnJlbnRHcm91cCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXhBcnJheS5jb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudHlwZSA9IGRyYXdNb2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gYWRkIHRoaXMgdG8gdGhlIHJlbmRlciBwYXJ0Li5cbiAgICAgICAgICAgICAgICAgICAgLy8gSGFjayEgQmVjYXVzZSB0ZXh0dXJlIGhhcyBwcm90ZWN0ZWQgYHRvdWNoZWRgXG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLnRvdWNoZWQgPSAxOyAvLyB0b3VjaDtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2JhdGNoRW5hYmxlZCA9IFRJQ0s7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLl9iYXRjaExvY2F0aW9uID0gdGV4dHVyZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS53cmFwTW9kZSA9IDEwNDk3O1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkuZWxlbWVudHNbY3VycmVudEdyb3VwLnRleEFycmF5LmNvdW50KytdID0gbmV4dFRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zaXplICs9IGRhdGEuc2l6ZTtcbiAgICAgICAgICAgIGluZGV4ICs9IGRhdGEuc2l6ZTtcbiAgICAgICAgICAgIHRleHR1cmVJZCA9IG5leHRUZXh0dXJlLl9iYXRjaExvY2F0aW9uO1xuICAgICAgICAgICAgdGhpcy5hZGRDb2xvcnMoY29sb3JzLCBzdHlsZS5jb2xvciwgc3R5bGUuYWxwaGEsIGRhdGEuYXR0cmliU2l6ZSk7XG4gICAgICAgICAgICB0aGlzLmFkZFRleHR1cmVJZHModGV4dHVyZUlkcywgdGV4dHVyZUlkLCBkYXRhLmF0dHJpYlNpemUpO1xuICAgICAgICB9XG4gICAgICAgIEJhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaCA9IFRJQ0s7XG4gICAgICAgIC8vIHVwbG9hZC4uXG4gICAgICAgIC8vIG1lcmdlIGZvciBub3chXG4gICAgICAgIHRoaXMucGFja0F0dHJpYnV0ZXMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhY2tzIGF0dHJpYnV0ZXMgdG8gc2luZ2xlIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wYWNrQXR0cmlidXRlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZlcnRzID0gdGhpcy5wb2ludHM7XG4gICAgICAgIHZhciB1dnMgPSB0aGlzLnV2cztcbiAgICAgICAgdmFyIGNvbG9ycyA9IHRoaXMuY29sb3JzO1xuICAgICAgICB2YXIgdGV4dHVyZUlkcyA9IHRoaXMudGV4dHVyZUlkcztcbiAgICAgICAgLy8gdmVydHMgYXJlIDIgcG9zaXRpb25zLi4gc28gd2UgKiBieSAzIGFzIHRoZXJlIGFyZSA2IHByb3BlcnRpZXMuLiB0aGVuIDQgY29zIGl0cyBieXRlc1xuICAgICAgICB2YXIgZ2xQb2ludHMgPSBuZXcgQXJyYXlCdWZmZXIodmVydHMubGVuZ3RoICogMyAqIDQpO1xuICAgICAgICB2YXIgZjMyID0gbmV3IEZsb2F0MzJBcnJheShnbFBvaW50cyk7XG4gICAgICAgIHZhciB1MzIgPSBuZXcgVWludDMyQXJyYXkoZ2xQb2ludHMpO1xuICAgICAgICB2YXIgcCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydHMubGVuZ3RoIC8gMjsgaSsrKSB7XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHZlcnRzW2kgKiAyXTtcbiAgICAgICAgICAgIGYzMltwKytdID0gdmVydHNbKGkgKiAyKSArIDFdO1xuICAgICAgICAgICAgZjMyW3ArK10gPSB1dnNbaSAqIDJdO1xuICAgICAgICAgICAgZjMyW3ArK10gPSB1dnNbKGkgKiAyKSArIDFdO1xuICAgICAgICAgICAgdTMyW3ArK10gPSBjb2xvcnNbaV07XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHRleHR1cmVJZHNbaV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYnVmZmVyLnVwZGF0ZShnbFBvaW50cyk7XG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyLnVwZGF0ZSh0aGlzLmluZGljZXNVaW50MTYpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBmaWxsIHBhcnQgb2YgR3JhcGhpY3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBkYXRhXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnByb2Nlc3NGaWxsID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEuaG9sZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NIb2xlcyhkYXRhLmhvbGVzKTtcbiAgICAgICAgICAgIGJ1aWxkUG9seS50cmlhbmd1bGF0ZShkYXRhLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjb21tYW5kID0gRklMTF9DT01NQU5EU1tkYXRhLnR5cGVdO1xuICAgICAgICAgICAgY29tbWFuZC50cmlhbmd1bGF0ZShkYXRhLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBsaW5lIHBhcnQgb2YgR3JhcGhpY3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBkYXRhXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnByb2Nlc3NMaW5lID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgYnVpbGRMaW5lKGRhdGEsIHRoaXMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuaG9sZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJ1aWxkTGluZShkYXRhLmhvbGVzW2ldLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyB0aGUgaG9sZXMgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGFbXX0gaG9sZXMgLSBIb2xlcyB0byByZW5kZXJcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUucHJvY2Vzc0hvbGVzID0gZnVuY3Rpb24gKGhvbGVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9sZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBob2xlID0gaG9sZXNbaV07XG4gICAgICAgICAgICB2YXIgY29tbWFuZCA9IEZJTExfQ09NTUFORFNbaG9sZS50eXBlXTtcbiAgICAgICAgICAgIGNvbW1hbmQuYnVpbGQoaG9sZSk7XG4gICAgICAgICAgICBpZiAoaG9sZS5tYXRyaXgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybVBvaW50cyhob2xlLnBvaW50cywgaG9sZS5tYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgb2JqZWN0LiBFeHBlbnNpdmUgdG8gdXNlIHBlcmZvcm1hbmNlLXdpc2UuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgICAgICB2YXIgc2VxdWVuY2VCb3VuZHMgPSB0bXBCb3VuZHM7XG4gICAgICAgIHZhciBjdXJNYXRyaXggPSBNYXRyaXguSURFTlRJVFk7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuICAgICAgICBzZXF1ZW5jZUJvdW5kcy5jbGVhcigpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIHNoYXBlID0gZGF0YS5zaGFwZTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gZGF0YS50eXBlO1xuICAgICAgICAgICAgdmFyIGxpbmVTdHlsZSA9IGRhdGEubGluZVN0eWxlO1xuICAgICAgICAgICAgdmFyIG5leHRNYXRyaXggPSBkYXRhLm1hdHJpeCB8fCBNYXRyaXguSURFTlRJVFk7XG4gICAgICAgICAgICB2YXIgbGluZVdpZHRoID0gMC4wO1xuICAgICAgICAgICAgaWYgKGxpbmVTdHlsZSAmJiBsaW5lU3R5bGUudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHZhciBhbGlnbm1lbnQgPSBsaW5lU3R5bGUuYWxpZ25tZW50O1xuICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IGxpbmVTdHlsZS53aWR0aDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gU0hBUEVTLlBPTFkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoID0gbGluZVdpZHRoICogKDAuNSArIE1hdGguYWJzKDAuNSAtIGFsaWdubWVudCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoID0gbGluZVdpZHRoICogTWF0aC5tYXgoMCwgYWxpZ25tZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3VyTWF0cml4ICE9PSBuZXh0TWF0cml4KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzZXF1ZW5jZUJvdW5kcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLmFkZEJvdW5kc01hdHJpeChzZXF1ZW5jZUJvdW5kcywgY3VyTWF0cml4KTtcbiAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VCb3VuZHMuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VyTWF0cml4ID0gbmV4dE1hdHJpeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlID09PSBTSEFQRVMuUkVDVCB8fCB0eXBlID09PSBTSEFQRVMuUlJFQykge1xuICAgICAgICAgICAgICAgIHZhciByZWN0ID0gc2hhcGU7XG4gICAgICAgICAgICAgICAgc2VxdWVuY2VCb3VuZHMuYWRkRnJhbWVQYWQocmVjdC54LCByZWN0LnksIHJlY3QueCArIHJlY3Qud2lkdGgsIHJlY3QueSArIHJlY3QuaGVpZ2h0LCBsaW5lV2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSBTSEFQRVMuQ0lSQykge1xuICAgICAgICAgICAgICAgIHZhciBjaXJjbGUgPSBzaGFwZTtcbiAgICAgICAgICAgICAgICBzZXF1ZW5jZUJvdW5kcy5hZGRGcmFtZVBhZChjaXJjbGUueCwgY2lyY2xlLnksIGNpcmNsZS54LCBjaXJjbGUueSwgY2lyY2xlLnJhZGl1cyArIGxpbmVXaWR0aCwgY2lyY2xlLnJhZGl1cyArIGxpbmVXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSBTSEFQRVMuRUxJUCkge1xuICAgICAgICAgICAgICAgIHZhciBlbGxpcHNlID0gc2hhcGU7XG4gICAgICAgICAgICAgICAgc2VxdWVuY2VCb3VuZHMuYWRkRnJhbWVQYWQoZWxsaXBzZS54LCBlbGxpcHNlLnksIGVsbGlwc2UueCwgZWxsaXBzZS55LCBlbGxpcHNlLndpZHRoICsgbGluZVdpZHRoLCBlbGxpcHNlLmhlaWdodCArIGxpbmVXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9seSA9IHNoYXBlO1xuICAgICAgICAgICAgICAgIC8vIGFkZGluZyBkaXJlY3RseSB0byB0aGUgYm91bmRzXG4gICAgICAgICAgICAgICAgYm91bmRzLmFkZFZlcnRpY2VzTWF0cml4KGN1ck1hdHJpeCwgcG9seS5wb2ludHMsIDAsIHBvbHkucG9pbnRzLmxlbmd0aCwgbGluZVdpZHRoLCBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghc2VxdWVuY2VCb3VuZHMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICBib3VuZHMuYWRkQm91bmRzTWF0cml4KHNlcXVlbmNlQm91bmRzLCBjdXJNYXRyaXgpO1xuICAgICAgICB9XG4gICAgICAgIGJvdW5kcy5wYWQodGhpcy5ib3VuZHNQYWRkaW5nLCB0aGlzLmJvdW5kc1BhZGRpbmcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIHBvaW50cyB1c2luZyBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzIC0gUG9pbnRzIHRvIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS50cmFuc2Zvcm1Qb2ludHMgPSBmdW5jdGlvbiAocG9pbnRzLCBtYXRyaXgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoIC8gMjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHBvaW50c1soaSAqIDIpXTtcbiAgICAgICAgICAgIHZhciB5ID0gcG9pbnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgICAgIHBvaW50c1soaSAqIDIpXSA9IChtYXRyaXguYSAqIHgpICsgKG1hdHJpeC5jICogeSkgKyBtYXRyaXgudHg7XG4gICAgICAgICAgICBwb2ludHNbKGkgKiAyKSArIDFdID0gKG1hdHJpeC5iICogeCkgKyAobWF0cml4LmQgKiB5KSArIG1hdHJpeC50eTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGNvbG9ycy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcnMgLSBMaXN0IG9mIGNvbG9ycyB0byBhZGQgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSBDb2xvciB0byBhZGRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgLSBBbHBoYSB0byB1c2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIE51bWJlciBvZiBjb2xvcnMgdG8gYWRkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYWRkQ29sb3JzID0gZnVuY3Rpb24gKGNvbG9ycywgY29sb3IsIGFscGhhLCBzaXplKSB7XG4gICAgICAgIC8vIFRPRE8gdXNlIHRoZSBwcmVtdWx0aXBseSBiaXRzIEl2YW4gYWRkZWRcbiAgICAgICAgdmFyIHJnYiA9IChjb2xvciA+PiAxNikgKyAoY29sb3IgJiAweGZmMDApICsgKChjb2xvciAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgdmFyIHJnYmEgPSBwcmVtdWx0aXBseVRpbnQocmdiLCBhbHBoYSk7XG4gICAgICAgIHdoaWxlIChzaXplLS0gPiAwKSB7XG4gICAgICAgICAgICBjb2xvcnMucHVzaChyZ2JhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIHRleHR1cmUgaWQgdGhhdCB0aGUgc2hhZGVyL2ZyYWdtZW50IHdhbnRzIHRvIHVzZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSB0ZXh0dXJlSWRzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemVcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5hZGRUZXh0dXJlSWRzID0gZnVuY3Rpb24gKHRleHR1cmVJZHMsIGlkLCBzaXplKSB7XG4gICAgICAgIHdoaWxlIChzaXplLS0gPiAwKSB7XG4gICAgICAgICAgICB0ZXh0dXJlSWRzLnB1c2goaWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIFVWcyBmb3IgYSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSB2ZXJ0cyAtIFZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdXZzIC0gVVZzXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBSZWZlcmVuY2UgdG8gVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIEluZGV4IGJ1ZmZlciBzdGFydCBpbmRleC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIFRoZSBzaXplL2xlbmd0aCBmb3IgaW5kZXggYnVmZmVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFttYXRyaXhdIC0gT3B0aW9uYWwgdHJhbnNmb3JtIGZvciBhbGwgcG9pbnRzLlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmFkZFV2cyA9IGZ1bmN0aW9uICh2ZXJ0cywgdXZzLCB0ZXh0dXJlLCBzdGFydCwgc2l6ZSwgbWF0cml4KSB7XG4gICAgICAgIGlmIChtYXRyaXggPT09IHZvaWQgMCkgeyBtYXRyaXggPSBudWxsOyB9XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciB1dnNTdGFydCA9IHV2cy5sZW5ndGg7XG4gICAgICAgIHZhciBmcmFtZSA9IHRleHR1cmUuZnJhbWU7XG4gICAgICAgIHdoaWxlIChpbmRleCA8IHNpemUpIHtcbiAgICAgICAgICAgIHZhciB4ID0gdmVydHNbKHN0YXJ0ICsgaW5kZXgpICogMl07XG4gICAgICAgICAgICB2YXIgeSA9IHZlcnRzWygoc3RhcnQgKyBpbmRleCkgKiAyKSArIDFdO1xuICAgICAgICAgICAgaWYgKG1hdHJpeCkge1xuICAgICAgICAgICAgICAgIHZhciBueCA9IChtYXRyaXguYSAqIHgpICsgKG1hdHJpeC5jICogeSkgKyBtYXRyaXgudHg7XG4gICAgICAgICAgICAgICAgeSA9IChtYXRyaXguYiAqIHgpICsgKG1hdHJpeC5kICogeSkgKyBtYXRyaXgudHk7XG4gICAgICAgICAgICAgICAgeCA9IG54O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIHV2cy5wdXNoKHggLyBmcmFtZS53aWR0aCwgeSAvIGZyYW1lLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgaWYgKGZyYW1lLndpZHRoIDwgYmFzZVRleHR1cmUud2lkdGhcbiAgICAgICAgICAgIHx8IGZyYW1lLmhlaWdodCA8IGJhc2VUZXh0dXJlLmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5hZGp1c3RVdnModXZzLCB0ZXh0dXJlLCB1dnNTdGFydCwgc2l6ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1vZGlmeSB1dnMgYXJyYXkgYWNjb3JkaW5nIHRvIHBvc2l0aW9uIG9mIHRleHR1cmUgcmVnaW9uXG4gICAgICogRG9lcyBub3Qgd29yayB3aXRoIHJvdGF0ZWQgb3IgdHJpbW1lZCB0ZXh0dXJlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdXZzIC0gYXJyYXlcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHJlZ2lvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIHN0YXJ0aW5nIGluZGV4IGZvciB1dnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIGhvdyBtYW55IHBvaW50cyB0byBhZGp1c3RcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5hZGp1c3RVdnMgPSBmdW5jdGlvbiAodXZzLCB0ZXh0dXJlLCBzdGFydCwgc2l6ZSkge1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgZXBzID0gMWUtNjtcbiAgICAgICAgdmFyIGZpbmlzaCA9IHN0YXJ0ICsgKHNpemUgKiAyKTtcbiAgICAgICAgdmFyIGZyYW1lID0gdGV4dHVyZS5mcmFtZTtcbiAgICAgICAgdmFyIHNjYWxlWCA9IGZyYW1lLndpZHRoIC8gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgIHZhciBzY2FsZVkgPSBmcmFtZS5oZWlnaHQgLyBiYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgIHZhciBvZmZzZXRYID0gZnJhbWUueCAvIGZyYW1lLndpZHRoO1xuICAgICAgICB2YXIgb2Zmc2V0WSA9IGZyYW1lLnkgLyBmcmFtZS5oZWlnaHQ7XG4gICAgICAgIHZhciBtaW5YID0gTWF0aC5mbG9vcih1dnNbc3RhcnRdICsgZXBzKTtcbiAgICAgICAgdmFyIG1pblkgPSBNYXRoLmZsb29yKHV2c1tzdGFydCArIDFdICsgZXBzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0ICsgMjsgaSA8IGZpbmlzaDsgaSArPSAyKSB7XG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgTWF0aC5mbG9vcih1dnNbaV0gKyBlcHMpKTtcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBNYXRoLmZsb29yKHV2c1tpICsgMV0gKyBlcHMpKTtcbiAgICAgICAgfVxuICAgICAgICBvZmZzZXRYIC09IG1pblg7XG4gICAgICAgIG9mZnNldFkgLT0gbWluWTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZmluaXNoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHV2c1tpXSA9ICh1dnNbaV0gKyBvZmZzZXRYKSAqIHNjYWxlWDtcbiAgICAgICAgICAgIHV2c1tpICsgMV0gPSAodXZzW2kgKyAxXSArIG9mZnNldFkpICogc2NhbGVZO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgcG9pbnRzIHRvIGNvbnNpZGVyIGFuIG9iamVjdCBcImJhdGNoYWJsZVwiLFxuICAgICAqIGFibGUgdG8gYmUgYmF0Y2hlZCBieSB0aGUgcmVuZGVyZXIncyBiYXRjaCBzeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5HcmFwaGljc0dlb21ldHJ5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge251bWJlcn0gQkFUQ0hBQkxFX1NJWkVcbiAgICAgKiBAZGVmYXVsdCAxMDBcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LkJBVENIQUJMRV9TSVpFID0gMTAwO1xuICAgIHJldHVybiBHcmFwaGljc0dlb21ldHJ5O1xufShCYXRjaEdlb21ldHJ5KSk7XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgbGluZSBzdHlsZSBmb3IgR3JhcGhpY3MuXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbGxTdHlsZVxuICovXG52YXIgTGluZVN0eWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMaW5lU3R5bGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTGluZVN0eWxlKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCAodGhpY2tuZXNzKSBvZiBhbnkgbGluZXMgZHJhd24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMud2lkdGggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFsaWdubWVudCBvZiBhbnkgbGluZXMgZHJhd24gKDAuNSA9IG1pZGRsZSwgMSA9IG91dGVyLCAwID0gaW5uZXIpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWxpZ25tZW50ID0gMC41O1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm5hdGl2ZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGluZSBjYXAgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTElORV9DQVB9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuTElORV9DQVAuQlVUVFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FwID0gTElORV9DQVAuQlVUVDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpbmUgam9pbiBzdHlsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5MSU5FX0pPSU59XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuTElORV9KT0lOLk1JVEVSXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5qb2luID0gTElORV9KT0lOLk1JVEVSO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWl0ZXIgbGltaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1pdGVyTGltaXQgPSAxMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5MaW5lU3R5bGV9XG4gICAgICovXG4gICAgTGluZVN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9iaiA9IG5ldyBMaW5lU3R5bGUoKTtcbiAgICAgICAgb2JqLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgb2JqLmFscGhhID0gdGhpcy5hbHBoYTtcbiAgICAgICAgb2JqLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgIG9iai5tYXRyaXggPSB0aGlzLm1hdHJpeDtcbiAgICAgICAgb2JqLnZpc2libGUgPSB0aGlzLnZpc2libGU7XG4gICAgICAgIG9iai53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgIG9iai5hbGlnbm1lbnQgPSB0aGlzLmFsaWdubWVudDtcbiAgICAgICAgb2JqLm5hdGl2ZSA9IHRoaXMubmF0aXZlO1xuICAgICAgICBvYmouY2FwID0gdGhpcy5jYXA7XG4gICAgICAgIG9iai5qb2luID0gdGhpcy5qb2luO1xuICAgICAgICBvYmoubWl0ZXJMaW1pdCA9IHRoaXMubWl0ZXJMaW1pdDtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBsaW5lIHN0eWxlIHRvIGRlZmF1bHQuXG4gICAgICovXG4gICAgTGluZVN0eWxlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZXNldC5jYWxsKHRoaXMpO1xuICAgICAgICAvLyBPdmVycmlkZSBkZWZhdWx0IGxpbmUgc3R5bGUgY29sb3JcbiAgICAgICAgdGhpcy5jb2xvciA9IDB4MDtcbiAgICAgICAgdGhpcy5hbGlnbm1lbnQgPSAwLjU7XG4gICAgICAgIHRoaXMud2lkdGggPSAwO1xuICAgICAgICB0aGlzLm5hdGl2ZSA9IGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIExpbmVTdHlsZTtcbn0oRmlsbFN0eWxlKSk7XG5cbnZhciB0ZW1wID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbi8vIGEgZGVmYXVsdCBzaGFkZXJzIG1hcCB1c2VkIGJ5IGdyYXBoaWNzLi5cbnZhciBERUZBVUxUX1NIQURFUlMgPSB7fTtcbi8qKlxuICogVGhlIEdyYXBoaWNzIGNsYXNzIGNvbnRhaW5zIG1ldGhvZHMgdXNlZCB0byBkcmF3IHByaW1pdGl2ZSBzaGFwZXMgc3VjaCBhcyBsaW5lcywgY2lyY2xlcyBhbmRcbiAqIHJlY3RhbmdsZXMgdG8gdGhlIGRpc3BsYXksIGFuZCB0byBjb2xvciBhbmQgZmlsbCB0aGVtLlxuICpcbiAqIE5vdGUgdGhhdCBiZWNhdXNlIEdyYXBoaWNzIGNhbiBzaGFyZSBhIEdyYXBoaWNzR2VvbWV0cnkgd2l0aCBvdGhlciBpbnN0YW5jZXMsXG4gKiBpdCBpcyBuZWNlc3NhcnkgdG8gY2FsbCBgZGVzdHJveSgpYCB0byBwcm9wZXJseSBkZXJlZmVyZW5jZSB0aGUgdW5kZXJseWluZ1xuICogR3JhcGhpY3NHZW9tZXRyeSBhbmQgYXZvaWQgYSBtZW1vcnkgbGVhay4gQWx0ZXJuYXRpdmVseSwga2VlcCB1c2luZyB0aGUgc2FtZVxuICogR3JhcGhpY3MgaW5zdGFuY2UgYW5kIGNhbGwgYGNsZWFyKClgIGJldHdlZW4gcmVkcmF3cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR3JhcGhpY3MgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEdyYXBoaWNzLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBbZ2VvbWV0cnk9bnVsbF0gLSBHZW9tZXRyeSB0byB1c2UsIGlmIG9taXR0ZWRcbiAgICAgKiAgICAgICAgd2lsbCBjcmVhdGUgYSBuZXcgR3JhcGhpY3NHZW9tZXRyeSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHcmFwaGljcyhnZW9tZXRyeSkge1xuICAgICAgICBpZiAoZ2VvbWV0cnkgPT09IHZvaWQgMCkgeyBnZW9tZXRyeSA9IG51bGw7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2dlb21ldHJ5ID0gZ2VvbWV0cnkgfHwgbmV3IEdyYXBoaWNzR2VvbWV0cnkoKTtcbiAgICAgICAgX3RoaXMuX2dlb21ldHJ5LnJlZkNvdW50Kys7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIHRoZSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlcnMgdGhhdCBwcm9jZXNzZXMgdGhlIGdlb21ldHJ5IGFuZCBydW5zIG9uIHRoZSBHUFUuXG4gICAgICAgICAqIENhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBHcmFwaGljcyBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIHRoZSBXZWJHTCBzdGF0ZSB0aGUgR3JhcGhpY3MgcmVxdWlyZWQgdG8gcmVuZGVyLCBleGNsdWRlcyBzaGFkZXIgYW5kIGdlb21ldHJ5LiBFLmcuLFxuICAgICAgICAgKiBibGVuZCBtb2RlLCBjdWxsaW5nLCBkZXB0aCB0ZXN0aW5nLCBkaXJlY3Rpb24gb2YgcmVuZGVyaW5nIHRyaWFuZ2xlcywgYmFja2ZhY2UsIGV0Yy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgZmlsbCBzdHlsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbGxTdHlsZX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZpbGxTdHlsZSA9IG5ldyBGaWxsU3R5bGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgbGluZSBzdHlsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkxpbmVTdHlsZX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xpbmVTdHlsZSA9IG5ldyBMaW5lU3R5bGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgc2hhcGUgdHJhbnNmb3JtIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXRyaXggPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBob2xlIG1vZGUgaXMgZW5hYmxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2hvbGVNb2RlID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHBhdGhcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2x5Z29ufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGNhY2hlQXNCaXRtYXAgaXMgc2V0IHRvIHRydWUgdGhlIGdyYXBoaWNzIG9iamVjdCB3aWxsIGJlIHJlbmRlcmVkIGFzIGlmIGl0IHdhcyBhIHNwcml0ZS5cbiAgICAgICAgICogVGhpcyBpcyB1c2VmdWwgaWYgeW91ciBncmFwaGljcyBlbGVtZW50IGRvZXMgbm90IGNoYW5nZSBvZnRlbiwgYXMgaXQgd2lsbCBzcGVlZCB1cCB0aGUgcmVuZGVyaW5nXG4gICAgICAgICAqIG9mIHRoZSBvYmplY3QgaW4gZXhjaGFuZ2UgZm9yIHRha2luZyB1cCB0ZXh0dXJlIG1lbW9yeS4gSXQgaXMgYWxzbyB1c2VmdWwgaWYgeW91IG5lZWQgdGhlIGdyYXBoaWNzXG4gICAgICAgICAqIG9iamVjdCB0byBiZSBhbnRpLWFsaWFzZWQsIGJlY2F1c2UgaXQgd2lsbCBiZSByZW5kZXJlZCB1c2luZyBjYW52YXMuIFRoaXMgaXMgbm90IHJlY29tbWVuZGVkIGlmXG4gICAgICAgICAqIHlvdSBhcmUgY29uc3RhbnRseSByZWRyYXdpbmcgdGhlIGdyYXBoaWNzIGVsZW1lbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBuYW1lIGNhY2hlQXNCaXRtYXBcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuR3JhcGhpY3MjXG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBjb2xsZWN0aW9ucyBvZiBiYXRjaGVzISBUaGVzZSBjYW4gYmUgZHJhd24gYnkgdGhlIHJlbmRlcmVyIGJhdGNoIHN5c3RlbS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhdGNoZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBkaXJ0eSBmb3IgbGltaXRpbmcgY2FsY3VsYXRpbmcgdGludHMgZm9yIGJhdGNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmF0Y2hUaW50ID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgZGlydHkgZm9yIGxpbWl0aW5nIGNhbGN1bGF0aW5nIGJhdGNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmF0Y2hEaXJ0eSA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29weSBvZiB0aGUgb2JqZWN0IHZlcnRleCBkYXRhLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleERhdGEgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVuZGVyZXIgcGx1Z2luIGZvciBiYXRjaGluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdiYXRjaCdcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBsdWdpbk5hbWUgPSAnYmF0Y2gnO1xuICAgICAgICBfdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgLy8gU2V0IGRlZmF1bHRcbiAgICAgICAgX3RoaXMudGludCA9IDB4RkZGRkZGO1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyYXBoaWNzLnByb3RvdHlwZSwgXCJnZW9tZXRyeVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmNsdWRlcyB2ZXJ0ZXggcG9zaXRpb25zLCBmYWNlIGluZGljZXMsIG5vcm1hbHMsIGNvbG9ycywgVVZzLCBhbmRcbiAgICAgICAgICogY3VzdG9tIGF0dHJpYnV0ZXMgd2l0aGluIGJ1ZmZlcnMsIHJlZHVjaW5nIHRoZSBjb3N0IG9mIHBhc3NpbmcgYWxsXG4gICAgICAgICAqIHRoaXMgZGF0YSB0byB0aGUgR1BVLiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgTWVzaCBvciBHcmFwaGljcyBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2VvbWV0cnk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEdyYXBoaWNzIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKiBOb3RlIHRoYXQgb25seSB0aGUgZ2VvbWV0cnkgb2YgdGhlIG9iamVjdCBpcyBjbG9uZWQsIG5vdCBpdHMgdHJhbnNmb3JtIChwb3NpdGlvbixzY2FsZSxldGMpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBBIGNsb25lIG9mIHRoZSBncmFwaGljcyBvYmplY3RcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICByZXR1cm4gbmV3IEdyYXBoaWNzKHRoaXMuX2dlb21ldHJ5KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljcy5wcm90b3R5cGUsIFwiYmxlbmRNb2RlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ibGVuZE1vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBncmFwaGljIHNoYXBlLiBBcHBseSBhIHZhbHVlIG9mXG4gICAgICAgICAqIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR3JhcGhpY3MucHJvdG90eXBlLCBcInRpbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZlxuICAgICAgICAgKiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR3JhcGhpY3MucHJvdG90eXBlLCBcImZpbGxcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgZmlsbCBzdHlsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWxsU3R5bGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsbFN0eWxlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyYXBoaWNzLnByb3RvdHlwZSwgXCJsaW5lXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IGxpbmUgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTGluZVN0eWxlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVTdHlsZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgbGluZSBzdHlsZSB1c2VkIGZvciBzdWJzZXF1ZW50IGNhbGxzIHRvIEdyYXBoaWNzIG1ldGhvZHMgc3VjaCBhcyB0aGUgbGluZVRvKClcbiAgICAgKiBtZXRob2Qgb3IgdGhlIGRyYXdDaXJjbGUoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIFBJWEkuR3JhcGhpY3MjbGluZVN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MHgwXSAtIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gLSBhbHBoYSBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FsaWdubWVudD0wLjVdIC0gYWxpZ25tZW50IG9mIHRoZSBsaW5lIHRvIGRyYXcsICgwID0gaW5uZXIsIDAuNSA9IG1pZGRsZSwgMSA9IG91dHRlcilcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtuYXRpdmU9ZmFsc2VdIC0gSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSBsaW5lIHN0eWxlIHVzZWQgZm9yIHN1YnNlcXVlbnQgY2FsbHMgdG8gR3JhcGhpY3MgbWV0aG9kcyBzdWNoIGFzIHRoZSBsaW5lVG8oKVxuICAgICAqIG1ldGhvZCBvciB0aGUgZHJhd0NpcmNsZSgpIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBMaW5lIHN0eWxlIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MF0gLSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sb3I9MHgwXSAtIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbHBoYT0xXSAtIGFscGhhIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbGlnbm1lbnQ9MC41XSAtIGFsaWdubWVudCBvZiB0aGUgbGluZSB0byBkcmF3LCAoMCA9IGlubmVyLCAwLjUgPSBtaWRkbGUsIDEgPSBvdXR0ZXIpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5uYXRpdmU9ZmFsc2VdIC0gSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgKiBAcGFyYW0ge1BJWEkuTElORV9DQVB9W29wdGlvbnMuY2FwPVBJWEkuTElORV9DQVAuQlVUVF0gLSBsaW5lIGNhcCBzdHlsZVxuICAgICAqIEBwYXJhbSB7UElYSS5MSU5FX0pPSU59W29wdGlvbnMuam9pbj1QSVhJLkxJTkVfSk9JTi5NSVRFUl0gLSBsaW5lIGpvaW4gc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn1bb3B0aW9ucy5taXRlckxpbWl0PTEwXSAtIG1pdGVyIGxpbWl0IHJhdGlvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5saW5lU3R5bGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSBudWxsOyB9XG4gICAgICAgIC8vIFN1cHBvcnQgbm9uLW9iamVjdCBwYXJhbXM6ICh3aWR0aCwgY29sb3IsIGFscGhhLCBhbGlnbm1lbnQsIG5hdGl2ZSlcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGFyZ3NbMF0gfHwgMCxcbiAgICAgICAgICAgICAgICBjb2xvcjogYXJnc1sxXSB8fCAweDAsXG4gICAgICAgICAgICAgICAgYWxwaGE6IGFyZ3NbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3NbMl0gOiAxLFxuICAgICAgICAgICAgICAgIGFsaWdubWVudDogYXJnc1szXSAhPT0gdW5kZWZpbmVkID8gYXJnc1szXSA6IDAuNSxcbiAgICAgICAgICAgICAgICBuYXRpdmU6ICEhYXJnc1s0XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubGluZVRleHR1cmVTdHlsZShvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExpa2UgbGluZSBzdHlsZSBidXQgc3VwcG9ydCB0ZXh0dXJlIGZvciBsaW5lIGZpbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gQ29sbGVjdGlvbiBvZiBvcHRpb25zIGZvciBzZXR0aW5nIGxpbmUgc3R5bGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTBdIC0gd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFtvcHRpb25zLnRleHR1cmU9UElYSS5UZXh0dXJlLldISVRFXSAtIFRleHR1cmUgdG8gdXNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbG9yPTB4MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGUuXG4gICAgICogIERlZmF1bHQgMHhGRkZGRkYgaWYgdGV4dHVyZSBwcmVzZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbHBoYT0xXSAtIGFscGhhIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFtvcHRpb25zLm1hdHJpeD1udWxsXSAtIFRleHR1cmUgbWF0cml4IHRvIHRyYW5zZm9ybSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFsaWdubWVudD0wLjVdIC0gYWxpZ25tZW50IG9mIHRoZSBsaW5lIHRvIGRyYXcsICgwID0gaW5uZXIsIDAuNSA9IG1pZGRsZSwgMSA9IG91dHRlcilcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm5hdGl2ZT1mYWxzZV0gLSBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAqIEBwYXJhbSB7UElYSS5MSU5FX0NBUH1bb3B0aW9ucy5jYXA9UElYSS5MSU5FX0NBUC5CVVRUXSAtIGxpbmUgY2FwIHN0eWxlXG4gICAgICogQHBhcmFtIHtQSVhJLkxJTkVfSk9JTn1bb3B0aW9ucy5qb2luPVBJWEkuTElORV9KT0lOLk1JVEVSXSAtIGxpbmUgam9pbiBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfVtvcHRpb25zLm1pdGVyTGltaXQ9MTBdIC0gbWl0ZXIgbGltaXQgcmF0aW9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmxpbmVUZXh0dXJlU3R5bGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAvLyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggcGFyYW1zOiAod2lkdGgsIHRleHR1cmUsXG4gICAgICAgIC8vIGNvbG9yLCBhbHBoYSwgbWF0cml4LCBhbGlnbm1lbnQsIG5hdGl2ZSlcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJ3Y1LjIuMCcsICdQbGVhc2UgdXNlIG9iamVjdC1iYXNlZCBvcHRpb25zIGZvciBHcmFwaGljcyNsaW5lVGV4dHVyZVN0eWxlJyk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgIHZhciBfYSA9IGFyZ3VtZW50cywgd2lkdGggPSBfYVswXSwgdGV4dHVyZSA9IF9hWzFdLCBjb2xvciA9IF9hWzJdLCBhbHBoYSA9IF9hWzNdLCBtYXRyaXggPSBfYVs0XSwgYWxpZ25tZW50ID0gX2FbNV0sIG5hdGl2ZSA9IF9hWzZdO1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgd2lkdGg6IHdpZHRoLCB0ZXh0dXJlOiB0ZXh0dXJlLCBjb2xvcjogY29sb3IsIGFscGhhOiBhbHBoYSwgbWF0cml4OiBtYXRyaXgsIGFsaWdubWVudDogYWxpZ25tZW50LCBuYXRpdmU6IG5hdGl2ZSB9O1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHVuZGVmaW5lZCBrZXlzXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIG9wdGlvbnNba2V5XSA9PT0gdW5kZWZpbmVkICYmIGRlbGV0ZSBvcHRpb25zW2tleV07IH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFwcGx5IGRlZmF1bHRzXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgdGV4dHVyZTogVGV4dHVyZS5XSElURSxcbiAgICAgICAgICAgIGNvbG9yOiAob3B0aW9ucyAmJiBvcHRpb25zLnRleHR1cmUpID8gMHhGRkZGRkYgOiAweDAsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIG1hdHJpeDogbnVsbCxcbiAgICAgICAgICAgIGFsaWdubWVudDogMC41LFxuICAgICAgICAgICAgbmF0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgIGNhcDogTElORV9DQVAuQlVUVCxcbiAgICAgICAgICAgIGpvaW46IExJTkVfSk9JTi5NSVRFUixcbiAgICAgICAgICAgIG1pdGVyTGltaXQ6IDEwLFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRQb2x5KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZpc2libGUgPSBvcHRpb25zLndpZHRoID4gMCAmJiBvcHRpb25zLmFscGhhID4gMDtcbiAgICAgICAgaWYgKCF2aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLl9saW5lU3R5bGUucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm1hdHJpeCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWF0cml4ID0gb3B0aW9ucy5tYXRyaXguY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1hdHJpeC5pbnZlcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fbGluZVN0eWxlLCB7IHZpc2libGU6IHZpc2libGUgfSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdGFydCBhIHBvbHlnb24gb2JqZWN0IGludGVybmFsbHlcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnN0YXJ0UG9seSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgICAgIHZhciBsZW4gPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobGVuID4gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NoYXBlKHRoaXMuY3VycmVudFBhdGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBuZXcgUG9seWdvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5wdXNoKHBvaW50c1tsZW4gLSAyXSwgcG9pbnRzW2xlbiAtIDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBuZXcgUG9seWdvbigpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5jbG9zZVN0cm9rZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaW5pc2ggdGhlIHBvbHlnb24gb2JqZWN0LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZmluaXNoUG9seSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2hhcGUodGhpcy5jdXJyZW50UGF0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNb3ZlcyB0aGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIHRvIHgsIHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIHRoZSBYIGNvb3JkaW5hdGUgdG8gbW92ZSB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gdGhlIFkgY29vcmRpbmF0ZSB0byBtb3ZlIHRvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5tb3ZlVG8gPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB0aGlzLnN0YXJ0UG9seSgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50c1swXSA9IHg7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzWzFdID0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGxpbmUgdXNpbmcgdGhlIGN1cnJlbnQgbGluZSBzdHlsZSBmcm9tIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gdG8gKHgsIHkpO1xuICAgICAqIFRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gaXMgdGhlbiBzZXQgdG8gKHgsIHkpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSB0aGUgWCBjb29yZGluYXRlIHRvIGRyYXcgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIHRoZSBZIGNvb3JkaW5hdGUgdG8gZHJhdyB0b1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVRvID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbygwLCAwKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZW1vdmUgZHVwbGljYXRlcy4uXG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKGZyb21YICE9PSB4IHx8IGZyb21ZICE9PSB5KSB7XG4gICAgICAgICAgICBwb2ludHMucHVzaCh4LCB5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIGN1cnZlXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9pbml0Q3VydmUgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyA9IFt4LCB5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKHgsIHkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUucXVhZHJhdGljQ3VydmVUbyA9IGZ1bmN0aW9uIChjcFgsIGNwWSwgdG9YLCB0b1kpIHtcbiAgICAgICAgdGhpcy5faW5pdEN1cnZlKCk7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIFF1YWRyYXRpY1V0aWxzLmN1cnZlVG8oY3BYLCBjcFksIHRvWCwgdG9ZLCBwb2ludHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYmV6aWVyQ3VydmVUbyA9IGZ1bmN0aW9uIChjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpIHtcbiAgICAgICAgdGhpcy5faW5pdEN1cnZlKCk7XG4gICAgICAgIEJlemllclV0aWxzLmN1cnZlVG8oY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZLCB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIGFyY1RvKCkgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlIGJldHdlZW4gdHdvIHRhbmdlbnRzIG9uIHRoZSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBcImJvcnJvd2VkXCIgZnJvbSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Z4Y2FudmFzLyAtIHRoYW5rcyBnb29nbGUhXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBmaXJzdCB0YW5nZW50IHBvaW50IG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBmaXJzdCB0YW5nZW50IHBvaW50IG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDIgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MiAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGFyY1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYXJjVG8gPSBmdW5jdGlvbiAoeDEsIHkxLCB4MiwgeTIsIHJhZGl1cykge1xuICAgICAgICB0aGlzLl9pbml0Q3VydmUoeDEsIHkxKTtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuICAgICAgICB2YXIgcmVzdWx0ID0gQXJjVXRpbHMuY3VydmVUbyh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzLCBwb2ludHMpO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICB2YXIgY3ggPSByZXN1bHQuY3gsIGN5ID0gcmVzdWx0LmN5LCByYWRpdXNfMSA9IHJlc3VsdC5yYWRpdXMsIHN0YXJ0QW5nbGUgPSByZXN1bHQuc3RhcnRBbmdsZSwgZW5kQW5nbGUgPSByZXN1bHQuZW5kQW5nbGUsIGFudGljbG9ja3dpc2UgPSByZXN1bHQuYW50aWNsb2Nrd2lzZTtcbiAgICAgICAgICAgIHRoaXMuYXJjKGN4LCBjeSwgcmFkaXVzXzEsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBhcmMgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlICh1c2VkIHRvIGNyZWF0ZSBjaXJjbGVzLCBvciBwYXJ0cyBvZiBjaXJjbGVzKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeCAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN5IC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0QW5nbGUgLSBUaGUgc3RhcnRpbmcgYW5nbGUsIGluIHJhZGlhbnMgKDAgaXMgYXQgdGhlIDMgbydjbG9jayBwb3NpdGlvblxuICAgICAqICBvZiB0aGUgYXJjJ3MgY2lyY2xlKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRBbmdsZSAtIFRoZSBlbmRpbmcgYW5nbGUsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbnRpY2xvY2t3aXNlPWZhbHNlXSAtIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBkcmF3aW5nIHNob3VsZCBiZVxuICAgICAqICBjb3VudGVyLWNsb2Nrd2lzZSBvciBjbG9ja3dpc2UuIEZhbHNlIGlzIGRlZmF1bHQsIGFuZCBpbmRpY2F0ZXMgY2xvY2t3aXNlLCB3aGlsZSB0cnVlXG4gICAgICogIGluZGljYXRlcyBjb3VudGVyLWNsb2Nrd2lzZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmFyYyA9IGZ1bmN0aW9uIChjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UpIHtcbiAgICAgICAgaWYgKGFudGljbG9ja3dpc2UgPT09IHZvaWQgMCkgeyBhbnRpY2xvY2t3aXNlID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKHN0YXJ0QW5nbGUgPT09IGVuZEFuZ2xlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFudGljbG9ja3dpc2UgJiYgZW5kQW5nbGUgPD0gc3RhcnRBbmdsZSkge1xuICAgICAgICAgICAgZW5kQW5nbGUgKz0gUElfMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhbnRpY2xvY2t3aXNlICYmIHN0YXJ0QW5nbGUgPD0gZW5kQW5nbGUpIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGUgKz0gUElfMjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3dlZXAgPSBlbmRBbmdsZSAtIHN0YXJ0QW5nbGU7XG4gICAgICAgIGlmIChzd2VlcCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXJ0WCA9IGN4ICsgKE1hdGguY29zKHN0YXJ0QW5nbGUpICogcmFkaXVzKTtcbiAgICAgICAgdmFyIHN0YXJ0WSA9IGN5ICsgKE1hdGguc2luKHN0YXJ0QW5nbGUpICogcmFkaXVzKTtcbiAgICAgICAgdmFyIGVwcyA9IHRoaXMuX2dlb21ldHJ5LmNsb3NlUG9pbnRFcHM7XG4gICAgICAgIC8vIElmIHRoZSBjdXJyZW50UGF0aCBleGlzdHMsIHRha2UgaXRzIHBvaW50cy4gT3RoZXJ3aXNlIGNhbGwgYG1vdmVUb2AgdG8gc3RhcnQgYSBwYXRoLlxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aCA/IHRoaXMuY3VycmVudFBhdGgucG9pbnRzIDogbnVsbDtcbiAgICAgICAgaWYgKHBvaW50cykge1xuICAgICAgICAgICAgLy8gVE9ETzogbWFrZSBhIGJldHRlciBmaXguXG4gICAgICAgICAgICAvLyBXZSBjaGVjayBob3cgZmFyIG91ciBzdGFydCBpcyBmcm9tIHRoZSBsYXN0IGV4aXN0aW5nIHBvaW50XG4gICAgICAgICAgICB2YXIgeERpZmYgPSBNYXRoLmFicyhwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdIC0gc3RhcnRYKTtcbiAgICAgICAgICAgIHZhciB5RGlmZiA9IE1hdGguYWJzKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gLSBzdGFydFkpO1xuICAgICAgICAgICAgaWYgKHhEaWZmIDwgZXBzICYmIHlEaWZmIDwgZXBzKSA7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyhzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgfVxuICAgICAgICBBcmNVdGlscy5hcmMoc3RhcnRYLCBzdGFydFksIGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSwgcG9pbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgYSBzaW1wbGUgb25lLWNvbG9yIGZpbGwgdGhhdCBzdWJzZXF1ZW50IGNhbGxzIHRvIG90aGVyIEdyYXBoaWNzIG1ldGhvZHNcbiAgICAgKiAoc3VjaCBhcyBsaW5lVG8oKSBvciBkcmF3Q2lyY2xlKCkpIHVzZSB3aGVuIGRyYXdpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbG9yPTBdIC0gdGhlIGNvbG9yIG9mIHRoZSBmaWxsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIHRoZSBhbHBoYSBvZiB0aGUgZmlsbFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYmVnaW5GaWxsID0gZnVuY3Rpb24gKGNvbG9yLCBhbHBoYSkge1xuICAgICAgICBpZiAoY29sb3IgPT09IHZvaWQgMCkgeyBjb2xvciA9IDA7IH1cbiAgICAgICAgaWYgKGFscGhhID09PSB2b2lkIDApIHsgYWxwaGEgPSAxOyB9XG4gICAgICAgIHJldHVybiB0aGlzLmJlZ2luVGV4dHVyZUZpbGwoeyB0ZXh0dXJlOiBUZXh0dXJlLldISVRFLCBjb2xvcjogY29sb3IsIGFscGhhOiBhbHBoYSB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJlZ2luIHRoZSB0ZXh0dXJlIGZpbGxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPYmplY3Qgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbb3B0aW9ucy50ZXh0dXJlPVBJWEkuVGV4dHVyZS5XSElURV0gLSBUZXh0dXJlIHRvIGZpbGxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sb3I9MHhmZmZmZmZdIC0gQmFja2dyb3VuZCB0byBmaWxsIGJlaGluZCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFscGhhPTFdIC0gQWxwaGEgb2YgZmlsbFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFtvcHRpb25zLm1hdHJpeD1udWxsXSAtIFRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlZ2luVGV4dHVyZUZpbGwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAvLyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggcGFyYW1zOiAodGV4dHVyZSwgY29sb3IsIGFscGhhLCBtYXRyaXgpXG4gICAgICAgIGlmIChvcHRpb25zIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJ3Y1LjIuMCcsICdQbGVhc2UgdXNlIG9iamVjdC1iYXNlZCBvcHRpb25zIGZvciBHcmFwaGljcyNiZWdpblRleHR1cmVGaWxsJyk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgIHZhciBfYSA9IGFyZ3VtZW50cywgdGV4dHVyZSA9IF9hWzBdLCBjb2xvciA9IF9hWzFdLCBhbHBoYSA9IF9hWzJdLCBtYXRyaXggPSBfYVszXTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IHRleHR1cmU6IHRleHR1cmUsIGNvbG9yOiBjb2xvciwgYWxwaGE6IGFscGhhLCBtYXRyaXg6IG1hdHJpeCB9O1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHVuZGVmaW5lZCBrZXlzXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIG9wdGlvbnNba2V5XSA9PT0gdW5kZWZpbmVkICYmIGRlbGV0ZSBvcHRpb25zW2tleV07IH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFwcGx5IGRlZmF1bHRzXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHRleHR1cmU6IFRleHR1cmUuV0hJVEUsXG4gICAgICAgICAgICBjb2xvcjogMHhGRkZGRkYsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIG1hdHJpeDogbnVsbCxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UG9seSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2aXNpYmxlID0gb3B0aW9ucy5hbHBoYSA+IDA7XG4gICAgICAgIGlmICghdmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5fZmlsbFN0eWxlLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tYXRyaXgpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1hdHJpeCA9IG9wdGlvbnMubWF0cml4LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5tYXRyaXguaW52ZXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2ZpbGxTdHlsZSwgeyB2aXNpYmxlOiB2aXNpYmxlIH0sIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIGZpbGwgdG8gdGhlIGxpbmVzIGFuZCBzaGFwZXMgdGhhdCB3ZXJlIGFkZGVkIHNpbmNlIHRoZSBsYXN0IGNhbGwgdG8gdGhlIGJlZ2luRmlsbCgpIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZW5kRmlsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5yZXNldCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIGEgcmVjdGFuZ2xlIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdSZWN0ID0gZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhdyBhIHJlY3RhbmdsZSBzaGFwZSB3aXRoIHJvdW5kZWQvYmV2ZWxlZCBjb3JuZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gUmFkaXVzIG9mIHRoZSByZWN0YW5nbGUgY29ybmVyc1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1JvdW5kZWRSZWN0ID0gZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cykge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IFJvdW5kZWRSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGNpcmNsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd0NpcmNsZSA9IGZ1bmN0aW9uICh4LCB5LCByYWRpdXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBDaXJjbGUoeCwgeSwgcmFkaXVzKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3cyBhbiBlbGxpcHNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSBoYWxmIHdpZHRoIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoYWxmIGhlaWdodCBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd0VsbGlwc2UgPSBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IEVsbGlwc2UoeCwgeSwgd2lkdGgsIGhlaWdodCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBwb2x5Z29uIHVzaW5nIHRoZSBnaXZlbiBwYXRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXXxQSVhJLlBvaW50W118UElYSS5Qb2x5Z29ufSBwYXRoIC0gVGhlIHBhdGggZGF0YSB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgcG9seWdvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdQb2x5Z29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgdmFyIHBhdGggPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHBhdGhbX2ldID0gYXJndW1lbnRzJDFbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwb2ludHM7XG4gICAgICAgIHZhciBjbG9zZVN0cm9rZSA9IHRydWU7IC8vICEhdGhpcy5fZmlsbFN0eWxlO1xuICAgICAgICB2YXIgcG9seSA9IHBhdGhbMF07XG4gICAgICAgIC8vIGNoZWNrIGlmIGRhdGEgaGFzIHBvaW50cy4uXG4gICAgICAgIGlmIChwb2x5LnBvaW50cykge1xuICAgICAgICAgICAgY2xvc2VTdHJva2UgPSBwb2x5LmNsb3NlU3Ryb2tlO1xuICAgICAgICAgICAgcG9pbnRzID0gcG9seS5wb2ludHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwYXRoWzBdKSkge1xuICAgICAgICAgICAgcG9pbnRzID0gcGF0aFswXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBvaW50cyA9IHBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNoYXBlID0gbmV3IFBvbHlnb24ocG9pbnRzKTtcbiAgICAgICAgc2hhcGUuY2xvc2VTdHJva2UgPSBjbG9zZVN0cm9rZTtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGUoc2hhcGUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXcgYW55IHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBTaGFwZSB0byBkcmF3XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3U2hhcGUgPSBmdW5jdGlvbiAoc2hhcGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9ob2xlTW9kZSkge1xuICAgICAgICAgICAgdGhpcy5fZ2VvbWV0cnkuZHJhd1NoYXBlKHNoYXBlLCB0aGlzLl9maWxsU3R5bGUuY2xvbmUoKSwgdGhpcy5fbGluZVN0eWxlLmNsb25lKCksIHRoaXMuX21hdHJpeCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9nZW9tZXRyeS5kcmF3SG9sZShzaGFwZSwgdGhpcy5fbWF0cml4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXcgYSBzdGFyIHNoYXBlIHdpdGggYW4gYXJiaXRyYXJ5IG51bWJlciBvZiBwb2ludHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIENlbnRlciBYIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBDZW50ZXIgWSBwb3NpdGlvbiBvZiB0aGUgc3RhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludHMgLSBUaGUgbnVtYmVyIG9mIHBvaW50cyBvZiB0aGUgc3RhciwgbXVzdCBiZSA+IDFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIG91dGVyIHJhZGl1cyBvZiB0aGUgc3RhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaW5uZXJSYWRpdXNdIC0gVGhlIGlubmVyIHJhZGl1cyBiZXR3ZWVuIHBvaW50cywgZGVmYXVsdCBoYWxmIGByYWRpdXNgXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbj0wXSAtIFRoZSByb3RhdGlvbiBvZiB0aGUgc3RhciBpbiByYWRpYW5zLCB3aGVyZSAwIGlzIHZlcnRpY2FsXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3U3RhciA9IGZ1bmN0aW9uICh4LCB5LCBwb2ludHMsIHJhZGl1cywgaW5uZXJSYWRpdXMsIHJvdGF0aW9uKSB7XG4gICAgICAgIGlmIChyb3RhdGlvbiA9PT0gdm9pZCAwKSB7IHJvdGF0aW9uID0gMDsgfVxuICAgICAgICByZXR1cm4gdGhpcy5kcmF3UG9seWdvbihuZXcgU3Rhcih4LCB5LCBwb2ludHMsIHJhZGl1cywgaW5uZXJSYWRpdXMsIHJvdGF0aW9uKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGdyYXBoaWNzIHRoYXQgd2VyZSBkcmF3biB0byB0aGlzIEdyYXBoaWNzIG9iamVjdCwgYW5kIHJlc2V0cyBmaWxsIGFuZCBsaW5lIHN0eWxlIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZ2VvbWV0cnkuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fbGluZVN0eWxlLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5yZXNldCgpO1xuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICB0aGlzLl9tYXRyaXggPSBudWxsO1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIGdyYXBoaWNzIGNvbnNpc3RzIG9mIG9uZSByZWN0YW5nbGUsIGFuZCB0aHVzLCBjYW4gYmUgZHJhd24gbGlrZSBhIFNwcml0ZSBhbmRcbiAgICAgKiBtYXNrZWQgd2l0aCBnbC5zY2lzc29yLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgb25seSAxIHJlY3QuXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmlzRmFzdFJlY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5fZ2VvbWV0cnkuZ3JhcGhpY3NEYXRhO1xuICAgICAgICByZXR1cm4gZGF0YS5sZW5ndGggPT09IDFcbiAgICAgICAgICAgICYmIGRhdGFbMF0uc2hhcGUudHlwZSA9PT0gU0hBUEVTLlJFQ1RcbiAgICAgICAgICAgICYmICEoZGF0YVswXS5saW5lU3R5bGUudmlzaWJsZSAmJiBkYXRhWzBdLmxpbmVTdHlsZS53aWR0aCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLl9nZW9tZXRyeTtcbiAgICAgICAgdmFyIGhhc3VpdDMyID0gcmVuZGVyZXIuY29udGV4dC5zdXBwb3J0cy51aW50MzJJbmRpY2VzO1xuICAgICAgICAvLyBiYXRjaCBwYXJ0Li5cbiAgICAgICAgLy8gYmF0Y2ggaXQhXG4gICAgICAgIGdlb21ldHJ5LnVwZGF0ZUJhdGNoZXMoaGFzdWl0MzIpO1xuICAgICAgICBpZiAoZ2VvbWV0cnkuYmF0Y2hhYmxlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5iYXRjaERpcnR5ICE9PSBnZW9tZXRyeS5iYXRjaERpcnR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9wdWxhdGVCYXRjaGVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJCYXRjaGVkKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vIGJhdGNoaW5nLi4uXG4gICAgICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRGlyZWN0KHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9wdWxhdGluZyBiYXRjaGVzIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3BvcHVsYXRlQmF0Y2hlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fZ2VvbWV0cnk7XG4gICAgICAgIHZhciBibGVuZE1vZGUgPSB0aGlzLmJsZW5kTW9kZTtcbiAgICAgICAgdmFyIGxlbiA9IGdlb21ldHJ5LmJhdGNoZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLmJhdGNoVGludCA9IC0xO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLmJhdGNoRGlydHkgPSBnZW9tZXRyeS5iYXRjaERpcnR5O1xuICAgICAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gbGVuO1xuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGdlb21ldHJ5LnBvaW50cyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBnSSA9IGdlb21ldHJ5LmJhdGNoZXNbaV07XG4gICAgICAgICAgICB2YXIgY29sb3IgPSBnSS5zdHlsZS5jb2xvcjtcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnZlcnRleERhdGEuYnVmZmVyLCBnSS5hdHRyaWJTdGFydCAqIDQgKiAyLCBnSS5hdHRyaWJTaXplICogMik7XG4gICAgICAgICAgICB2YXIgdXZzID0gbmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeS51dnNGbG9hdDMyLmJ1ZmZlciwgZ0kuYXR0cmliU3RhcnQgKiA0ICogMiwgZ0kuYXR0cmliU2l6ZSAqIDIpO1xuICAgICAgICAgICAgdmFyIGluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoZ2VvbWV0cnkuaW5kaWNlc1VpbnQxNi5idWZmZXIsIGdJLnN0YXJ0ICogMiwgZ0kuc2l6ZSk7XG4gICAgICAgICAgICB2YXIgYmF0Y2ggPSB7XG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YTogdmVydGV4RGF0YSxcbiAgICAgICAgICAgICAgICBibGVuZE1vZGU6IGJsZW5kTW9kZSxcbiAgICAgICAgICAgICAgICBpbmRpY2VzOiBpbmRpY2VzLFxuICAgICAgICAgICAgICAgIHV2czogdXZzLFxuICAgICAgICAgICAgICAgIF9iYXRjaFJHQjogaGV4MnJnYihjb2xvciksXG4gICAgICAgICAgICAgICAgX3RpbnRSR0I6IGNvbG9yLFxuICAgICAgICAgICAgICAgIF90ZXh0dXJlOiBnSS5zdHlsZS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgIGFscGhhOiBnSS5zdHlsZS5hbHBoYSxcbiAgICAgICAgICAgICAgICB3b3JsZEFscGhhOiAxXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5iYXRjaGVzW2ldID0gYmF0Y2g7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGJhdGNoZXMgdXNpbmcgdGhlIEJhdGhlZFJlbmRlcmVyIHBsdWdpblxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlckJhdGNoZWQgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJhdGNoZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVRpbnRzKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJhdGNoID0gdGhpcy5iYXRjaGVzW2ldO1xuICAgICAgICAgICAgYmF0Y2gud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYSAqIGJhdGNoLmFscGhhO1xuICAgICAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcihiYXRjaCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGdyYXBoaWNzIGRpcmVjdFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlckRpcmVjdCA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5fcmVzb2x2ZURpcmVjdFNoYWRlcihyZW5kZXJlcik7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuX2dlb21ldHJ5O1xuICAgICAgICB2YXIgdGludCA9IHRoaXMudGludDtcbiAgICAgICAgdmFyIHdvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHNoYWRlci51bmlmb3JtcztcbiAgICAgICAgdmFyIGRyYXdDYWxscyA9IGdlb21ldHJ5LmRyYXdDYWxscztcbiAgICAgICAgLy8gbGV0cyBzZXQgdGhlIHRyYW5zZm9tclxuICAgICAgICB1bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICAvLyBhbmQgdGhlbiBsZXRzIHNldCB0aGUgdGludC4uXG4gICAgICAgIHVuaWZvcm1zLnRpbnRbMF0gPSAoKCh0aW50ID4+IDE2KSAmIDB4RkYpIC8gMjU1KSAqIHdvcmxkQWxwaGE7XG4gICAgICAgIHVuaWZvcm1zLnRpbnRbMV0gPSAoKCh0aW50ID4+IDgpICYgMHhGRikgLyAyNTUpICogd29ybGRBbHBoYTtcbiAgICAgICAgdW5pZm9ybXMudGludFsyXSA9ICgodGludCAmIDB4RkYpIC8gMjU1KSAqIHdvcmxkQWxwaGE7XG4gICAgICAgIHVuaWZvcm1zLnRpbnRbM10gPSB3b3JsZEFscGhhO1xuICAgICAgICAvLyB0aGUgZmlyc3QgZHJhdyBjYWxsLCB3ZSBjYW4gc2V0IHRoZSB1bmlmb3JtcyBvZiB0aGUgc2hhZGVyIGRpcmVjdGx5IGhlcmUuXG4gICAgICAgIC8vIHRoaXMgbWVhbnMgdGhhdCB3ZSBjYW4gdGFjayBhZHZhbnRhZ2Ugb2YgdGhlIHN5bmMgZnVuY3Rpb24gb2YgcGl4aSFcbiAgICAgICAgLy8gYmluZCBhbmQgc3luYyB1bmlmb3Jtcy4uXG4gICAgICAgIC8vIHRoZXJlIGlzIGEgd2F5IHRvIG9wdGltaXNlIHRoaXMuLlxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGdlb21ldHJ5LCBzaGFkZXIpO1xuICAgICAgICAvLyBzZXQgc3RhdGUuLlxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgICAgIC8vIHRoZW4gcmVuZGVyIHRoZSByZXN0IG9mIHRoZW0uLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBkcmF3Q2FsbHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEcmF3Q2FsbERpcmVjdChyZW5kZXJlciwgZ2VvbWV0cnkuZHJhd0NhbGxzW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyBzcGVjaWZpYyBEcmF3Q2FsbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXRjaERyYXdDYWxsfSBkcmF3Q2FsbFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyRHJhd0NhbGxEaXJlY3QgPSBmdW5jdGlvbiAocmVuZGVyZXIsIGRyYXdDYWxsKSB7XG4gICAgICAgIHZhciB0ZXhBcnJheSA9IGRyYXdDYWxsLnRleEFycmF5LCB0eXBlID0gZHJhd0NhbGwudHlwZSwgc2l6ZSA9IGRyYXdDYWxsLnNpemUsIHN0YXJ0ID0gZHJhd0NhbGwuc3RhcnQ7XG4gICAgICAgIHZhciBncm91cFRleHR1cmVDb3VudCA9IHRleEFycmF5LmNvdW50O1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGdyb3VwVGV4dHVyZUNvdW50OyBqKyspIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnRleHR1cmUuYmluZCh0ZXhBcnJheS5lbGVtZW50c1tqXSwgaik7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyh0eXBlLCBzaXplLCBzdGFydCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyBzaGFkZXIgZm9yIGRpcmVjdCByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZXNvbHZlRGlyZWN0U2hhZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcbiAgICAgICAgdmFyIHBsdWdpbk5hbWUgPSB0aGlzLnBsdWdpbk5hbWU7XG4gICAgICAgIGlmICghc2hhZGVyKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBzaGFkZXIgaGVyZSwgd2UgY2FuIHVzZSB0aGUgZGVmYXVsdCBzaGFkZXIuXG4gICAgICAgICAgICAvLyBhbmQgdGhhdCBvbmx5IGdldHMgY3JlYXRlZCBpZiB3ZSBhY3R1YWxseSBuZWVkIGl0Li5cbiAgICAgICAgICAgIC8vIGJ1dCBtYXkgYmUgbW9yZSB0aGFuIG9uZSBwbHVnaW5zIGZvciBncmFwaGljc1xuICAgICAgICAgICAgaWYgKCFERUZBVUxUX1NIQURFUlNbcGx1Z2luTmFtZV0pIHtcbiAgICAgICAgICAgICAgICB2YXIgc2FtcGxlVmFsdWVzID0gbmV3IEludDMyQXJyYXkoMTYpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBzYW1wbGVWYWx1ZXNbaV0gPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbnQ6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb25NYXRyaXg6IG5ldyBNYXRyaXgoKSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogVW5pZm9ybUdyb3VwLmZyb20oeyB1U2FtcGxlcnM6IHNhbXBsZVZhbHVlcyB9LCB0cnVlKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBwcm9ncmFtID0gcmVuZGVyZXIucGx1Z2luc1twbHVnaW5OYW1lXS5fc2hhZGVyLnByb2dyYW07XG4gICAgICAgICAgICAgICAgREVGQVVMVF9TSEFERVJTW3BsdWdpbk5hbWVdID0gbmV3IFNoYWRlcihwcm9ncmFtLCB1bmlmb3Jtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaGFkZXIgPSBERUZBVUxUX1NIQURFUlNbcGx1Z2luTmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNoYWRlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgYm91bmRzIG9mIHRoZSBncmFwaGljIHNoYXBlIGFzIGEgcmVjdGFuZ2xlIG9iamVjdFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fZ2VvbWV0cnk7XG4gICAgICAgIC8vIHNraXBwaW5nIHdoZW4gZ3JhcGhpY3MgaXMgZW1wdHksIGxpa2UgYSBjb250YWluZXJcbiAgICAgICAgaWYgKCFnZW9tZXRyeS5ncmFwaGljc0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gZ2VvbWV0cnkuYm91bmRzLCBtaW5YID0gX2EubWluWCwgbWluWSA9IF9hLm1pblksIG1heFggPSBfYS5tYXhYLCBtYXhZID0gX2EubWF4WTtcbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgR3JhcGhpY3MuX1RFTVBfUE9JTlQpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2VvbWV0cnkuY29udGFpbnNQb2ludChHcmFwaGljcy5fVEVNUF9QT0lOVCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNhbGN1YXRlIHRoZSB0aW50IGJ5IGFwcGx5aW5nIHRpbiB0byBiYXRjaGVzIHVzaW5nIEdyYXBoaWNzIHRpbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jYWxjdWxhdGVUaW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hUaW50ICE9PSB0aGlzLnRpbnQpIHtcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hUaW50ID0gdGhpcy50aW50O1xuICAgICAgICAgICAgdmFyIHRpbnRSR0IgPSBoZXgycmdiKHRoaXMudGludCwgdGVtcCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBiYXRjaCA9IHRoaXMuYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgYmF0Y2hUaW50ID0gYmF0Y2guX2JhdGNoUkdCO1xuICAgICAgICAgICAgICAgIHZhciByID0gKHRpbnRSR0JbMF0gKiBiYXRjaFRpbnRbMF0pICogMjU1O1xuICAgICAgICAgICAgICAgIHZhciBnID0gKHRpbnRSR0JbMV0gKiBiYXRjaFRpbnRbMV0pICogMjU1O1xuICAgICAgICAgICAgICAgIHZhciBiID0gKHRpbnRSR0JbMl0gKiBiYXRjaFRpbnRbMl0pICogMjU1O1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gSXZhbiwgY2FuIHRoaXMgYmUgZG9uZSBpbiBvbmUgZ28/XG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gKHIgPDwgMTYpICsgKGcgPDwgOCkgKyAoYiB8IDApO1xuICAgICAgICAgICAgICAgIGJhdGNoLl90aW50UkdCID0gKGNvbG9yID4+IDE2KVxuICAgICAgICAgICAgICAgICAgICArIChjb2xvciAmIDB4ZmYwMClcbiAgICAgICAgICAgICAgICAgICAgKyAoKGNvbG9yICYgMHhmZikgPDwgMTYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJZiB0aGVyZSdzIGEgdHJhbnNmb3JtIHVwZGF0ZSBvciBhIGNoYW5nZSB0byB0aGUgc2hhcGUgb2YgdGhlXG4gICAgICogZ2VvbWV0cnksIHJlY2FjdWxhdGUgdGhlIHZlcnRpY2VzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB3dElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1JRCA9PT0gd3RJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gd3RJRDtcbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2dlb21ldHJ5LnBvaW50czsgLy8gYmF0Y2gudmVydGV4RGF0YU9yaWdpbmFsO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgeCA9IGRhdGFbaV07XG4gICAgICAgICAgICB2YXIgeSA9IGRhdGFbaSArIDFdO1xuICAgICAgICAgICAgdmVydGV4RGF0YVtjb3VudCsrXSA9IChhICogeCkgKyAoYyAqIHkpICsgdHg7XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhW2NvdW50KytdID0gKGQgKiB5KSArIChiICogeCkgKyB0eTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBjdXJyZW50IHBhdGguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xvc2VQYXRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3VycmVudFBhdGggPSB0aGlzLmN1cnJlbnRQYXRoO1xuICAgICAgICBpZiAoY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gYWRkIGV4dHJhIHBvaW50IGluIHRoZSBlbmQgYmVjYXVzZSBidWlsZExpbmUgd2lsbCB0YWtlIGNhcmUgb2YgdGhhdFxuICAgICAgICAgICAgY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbHkgYSBtYXRyaXggdG8gdGhlIHBvc2l0aW9uYWwgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIE1hdHJpeCB0byB1c2UgZm9yIHRyYW5zZm9ybSBjdXJyZW50IHNoYXBlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5zZXRNYXRyaXggPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG1hdHJpeDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCZWdpbiBhZGRpbmcgaG9sZXMgdG8gdGhlIGxhc3QgZHJhdyBzaGFwZVxuICAgICAqIElNUE9SVEFOVDogaG9sZXMgbXVzdCBiZSBmdWxseSBpbnNpZGUgYSBzaGFwZSB0byB3b3JrXG4gICAgICogQWxzbyB3ZWlyZG5lc3MgZW5zdWVzIGlmIGhvbGVzIG92ZXJsYXAhXG4gICAgICogRWxsaXBzZXMsIENpcmNsZXMsIFJlY3RhbmdsZXMgYW5kIFJvdW5kZWQgUmVjdGFuZ2xlcyBjYW5ub3QgYmUgaG9sZXMgb3IgaG9zdCBmb3IgaG9sZXMgaW4gQ2FudmFzUmVuZGVyZXIsXG4gICAgICogcGxlYXNlIHVzZSBgbW92ZVRvYCBgbGluZVRvYCwgYHF1YWRyYXRpY0N1cnZlVG9gIGlmIHlvdSByZWx5IG9uIHBpeGktbGVnYWN5IGJ1bmRsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYmVnaW5Ib2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuZCBhZGRpbmcgaG9sZXMgdG8gdGhlIGxhc3QgZHJhdyBzaGFwZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5lbmRIb2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGxcbiAgICAgKiAgb3B0aW9ucyBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZVxuICAgICAqICB0aGVpciBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9nZW9tZXRyeS5yZWZDb3VudC0tO1xuICAgICAgICBpZiAodGhpcy5fZ2VvbWV0cnkucmVmQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2dlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXRyaXggPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbGluZVN0eWxlLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5fbGluZVN0eWxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZ2VvbWV0cnkgPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuYmF0Y2hlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmJhdGNoZXMgPSBudWxsO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlbXBvcmFyeSBwb2ludCB0byB1c2UgZm9yIGNvbnRhaW5zUG9pbnRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICovXG4gICAgR3JhcGhpY3MuX1RFTVBfUE9JTlQgPSBuZXcgUG9pbnQoKTtcbiAgICByZXR1cm4gR3JhcGhpY3M7XG59KENvbnRhaW5lcikpO1xuXG5leHBvcnQgeyBGaWxsU3R5bGUsIEdSQVBISUNTX0NVUlZFUywgR3JhcGhpY3MsIEdyYXBoaWNzRGF0YSwgR3JhcGhpY3NHZW9tZXRyeSwgTElORV9DQVAsIExJTkVfSk9JTiwgTGluZVN0eWxlLCBpbmRleCBhcyBncmFwaGljc1V0aWxzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncmFwaGljcy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvdGV4dCAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS90ZXh0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBoZXgyc3RyaW5nLCBoZXgycmdiLCBzdHJpbmcyaGV4LCB0cmltQ2FudmFzLCBzaWduIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBkZWZpbmUgdGhlIHR5cGUgb2YgZ3JhZGllbnQgb24gdGV4dC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFRFWFRfR1JBRElFTlRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUl9WRVJUSUNBTCBWZXJ0aWNhbCBncmFkaWVudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUl9IT1JJWk9OVEFMIExpbmVhciBncmFkaWVudFxuICovXG52YXIgVEVYVF9HUkFESUVOVDtcbihmdW5jdGlvbiAoVEVYVF9HUkFESUVOVCkge1xuICAgIFRFWFRfR1JBRElFTlRbVEVYVF9HUkFESUVOVFtcIkxJTkVBUl9WRVJUSUNBTFwiXSA9IDBdID0gXCJMSU5FQVJfVkVSVElDQUxcIjtcbiAgICBURVhUX0dSQURJRU5UW1RFWFRfR1JBRElFTlRbXCJMSU5FQVJfSE9SSVpPTlRBTFwiXSA9IDFdID0gXCJMSU5FQVJfSE9SSVpPTlRBTFwiO1xufSkoVEVYVF9HUkFESUVOVCB8fCAoVEVYVF9HUkFESUVOVCA9IHt9KSk7XG5cbi8vIGRpc2FibGluZyBlc2xpbnQgZm9yIG5vdywgZ29pbmcgdG8gcmV3cml0ZSB0aGlzIGluIHY1XG52YXIgZGVmYXVsdFN0eWxlID0ge1xuICAgIGFsaWduOiAnbGVmdCcsXG4gICAgYnJlYWtXb3JkczogZmFsc2UsXG4gICAgZHJvcFNoYWRvdzogZmFsc2UsXG4gICAgZHJvcFNoYWRvd0FscGhhOiAxLFxuICAgIGRyb3BTaGFkb3dBbmdsZTogTWF0aC5QSSAvIDYsXG4gICAgZHJvcFNoYWRvd0JsdXI6IDAsXG4gICAgZHJvcFNoYWRvd0NvbG9yOiAnYmxhY2snLFxuICAgIGRyb3BTaGFkb3dEaXN0YW5jZTogNSxcbiAgICBmaWxsOiAnYmxhY2snLFxuICAgIGZpbGxHcmFkaWVudFR5cGU6IFRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMLFxuICAgIGZpbGxHcmFkaWVudFN0b3BzOiBbXSxcbiAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgIGZvbnRTaXplOiAyNixcbiAgICBmb250U3R5bGU6ICdub3JtYWwnLFxuICAgIGZvbnRWYXJpYW50OiAnbm9ybWFsJyxcbiAgICBmb250V2VpZ2h0OiAnbm9ybWFsJyxcbiAgICBsZXR0ZXJTcGFjaW5nOiAwLFxuICAgIGxpbmVIZWlnaHQ6IDAsXG4gICAgbGluZUpvaW46ICdtaXRlcicsXG4gICAgbWl0ZXJMaW1pdDogMTAsXG4gICAgcGFkZGluZzogMCxcbiAgICBzdHJva2U6ICdibGFjaycsXG4gICAgc3Ryb2tlVGhpY2tuZXNzOiAwLFxuICAgIHRleHRCYXNlbGluZTogJ2FscGhhYmV0aWMnLFxuICAgIHRyaW06IGZhbHNlLFxuICAgIHdoaXRlU3BhY2U6ICdwcmUnLFxuICAgIHdvcmRXcmFwOiBmYWxzZSxcbiAgICB3b3JkV3JhcFdpZHRoOiAxMDAsXG4gICAgbGVhZGluZzogMCxcbn07XG52YXIgZ2VuZXJpY0ZvbnRGYW1pbGllcyA9IFtcbiAgICAnc2VyaWYnLFxuICAgICdzYW5zLXNlcmlmJyxcbiAgICAnbW9ub3NwYWNlJyxcbiAgICAnY3Vyc2l2ZScsXG4gICAgJ2ZhbnRhc3knLFxuICAgICdzeXN0ZW0tdWknIF07XG4vKipcbiAqIEEgVGV4dFN0eWxlIE9iamVjdCBjb250YWlucyBpbmZvcm1hdGlvbiB0byBkZWNvcmF0ZSBhIFRleHQgb2JqZWN0cy5cbiAqXG4gKiBBbiBpbnN0YW5jZSBjYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgVGV4dCBvYmplY3RzOyB0aGVuIGNoYW5naW5nIHRoZSBzdHlsZSB3aWxsIHVwZGF0ZSBhbGwgdGV4dCBvYmplY3RzIHVzaW5nIGl0LlxuICpcbiAqIEEgdG9vbCBjYW4gYmUgdXNlZCB0byBnZW5lcmF0ZSBhIHRleHQgc3R5bGUgW2hlcmVdKGh0dHBzOi8vcGl4aWpzLmlvL3BpeGktdGV4dC1zdHlsZSkuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dFN0eWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbc3R5bGVdIC0gVGhlIHN0eWxlIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmFsaWduPSdsZWZ0J10gLSBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLFxuICAgICAqICBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLmJyZWFrV29yZHM9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXRcbiAgICAgKiAgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS5kcm9wU2hhZG93PWZhbHNlXSAtIFNldCBhIGRyb3Agc2hhZG93IGZvciB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0FscGhhPTFdIC0gU2V0IGFscGhhIGZvciB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dBbmdsZT1NYXRoLlBJLzZdIC0gU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93Qmx1cj0wXSAtIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1c1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dDb2xvcj0nYmxhY2snXSAtIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSBkcm9wc2hhZG93IGUuZyAncmVkJywgJyMwMEZGMDAnXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U9NV0gLSBTZXQgYSBkaXN0YW5jZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXXxudW1iZXJ8bnVtYmVyW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybn0gW3N0eWxlLmZpbGw9J2JsYWNrJ10gLSBBIGNhbnZhc1xuICAgICAqICBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgZS5nICdyZWQnLCAnIzAwRkYwMCcuIENhbiBiZSBhbiBhcnJheSB0byBjcmVhdGUgYSBncmFkaWVudFxuICAgICAqICBlZyBbJyMwMDAwMDAnLCcjRkZGRkZGJ11cbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZmlsbEdyYWRpZW50VHlwZT1QSVhJLlRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMXSAtIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3Vyc1xuICAgICAqICB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuIFNlZSB7QGxpbmsgUElYSS5URVhUX0dSQURJRU5UfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IFtzdHlsZS5maWxsR3JhZGllbnRTdG9wc10gLSBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgYXJyYXkgY2FuIHNldFxuICAgICAqIHRoZSBzdG9wIHBvaW50cyAobnVtYmVycyBiZXR3ZWVuIDAgYW5kIDEpIGZvciB0aGUgY29sb3IsIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIGV2ZW5seSBzcGFjaW5nIHRoZW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFtzdHlsZS5mb250RmFtaWx5PSdBcmlhbCddIC0gVGhlIGZvbnQgZmFtaWx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBbc3R5bGUuZm9udFNpemU9MjZdIC0gVGhlIGZvbnQgc2l6ZSAoYXMgYSBudW1iZXIgaXQgY29udmVydHMgdG8gcHgsIGJ1dCBhcyBhIHN0cmluZyxcbiAgICAgKiAgZXF1aXZhbGVudHMgYXJlICcyNnB4JywnMjBwdCcsJzE2MCUnIG9yICcxLjZlbScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250U3R5bGU9J25vcm1hbCddIC0gVGhlIGZvbnQgc3R5bGUgKCdub3JtYWwnLCAnaXRhbGljJyBvciAnb2JsaXF1ZScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250VmFyaWFudD0nbm9ybWFsJ10gLSBUaGUgZm9udCB2YXJpYW50ICgnbm9ybWFsJyBvciAnc21hbGwtY2FwcycpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250V2VpZ2h0PSdub3JtYWwnXSAtIFRoZSBmb250IHdlaWdodCAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsXG4gICAgICogICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsICc4MDAnIG9yICc5MDAnKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubGVhZGluZz0wXSAtIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZXR0ZXJTcGFjaW5nPTBdIC0gVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycywgZGVmYXVsdCBpcyAwXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5saW5lSGVpZ2h0XSAtIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmxpbmVKb2luPSdtaXRlciddIC0gVGhlIGxpbmVKb2luIHByb3BlcnR5IHNldHMgdGhlIHR5cGUgb2YgY29ybmVyIGNyZWF0ZWQsIGl0IGNhbiByZXNvbHZlXG4gICAgICogICAgICBzcGlrZWQgdGV4dCBpc3N1ZXMuIFBvc3NpYmxlIHZhbHVlcyBcIm1pdGVyXCIgKGNyZWF0ZXMgYSBzaGFycCBjb3JuZXIpLCBcInJvdW5kXCIgKGNyZWF0ZXMgYSByb3VuZCBjb3JuZXIpIG9yIFwiYmV2ZWxcIlxuICAgICAqICAgICAgKGNyZWF0ZXMgYSBzcXVhcmVkIGNvcm5lcikuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5taXRlckxpbWl0PTEwXSAtIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlLiBUaGlzIGNhbiByZWR1Y2VcbiAgICAgKiAgICAgIG9yIGluY3JlYXNlIHRoZSBzcGlraW5lc3Mgb2YgcmVuZGVyZWQgdGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnBhZGRpbmc9MF0gLSBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tXG4gICAgICogICAgIGhhcHBlbmluZyBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbc3R5bGUuc3Ryb2tlPSdibGFjayddIC0gQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IHN0cm9rZVxuICAgICAqICBlLmcgJ2JsdWUnLCAnI0ZDRkYwMCdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnN0cm9rZVRoaWNrbmVzcz0wXSAtIEEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBzdHJva2UuXG4gICAgICogIERlZmF1bHQgaXMgMCAobm8gc3Ryb2tlKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLnRyaW09ZmFsc2VdIC0gVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS50ZXh0QmFzZWxpbmU9J2FscGhhYmV0aWMnXSAtIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUud2hpdGVTcGFjZT0ncHJlJ10gLSBEZXRlcm1pbmVzIHdoZXRoZXIgbmV3bGluZXMgJiBzcGFjZXMgYXJlIGNvbGxhcHNlZCBvciBwcmVzZXJ2ZWQgXCJub3JtYWxcIlxuICAgICAqICAgICAgKGNvbGxhcHNlLCBjb2xsYXBzZSksIFwicHJlXCIgKHByZXNlcnZlLCBwcmVzZXJ2ZSkgfCBcInByZS1saW5lXCIgKHByZXNlcnZlLCBjb2xsYXBzZSkuIEl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUud29yZFdyYXA9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIHdvcmQgd3JhcCBzaG91bGQgYmUgdXNlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUud29yZFdyYXBXaWR0aD0xMDBdIC0gVGhlIHdpZHRoIGF0IHdoaWNoIHRleHQgd2lsbCB3cmFwLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHRTdHlsZShzdHlsZSkge1xuICAgICAgICB0aGlzLnN0eWxlSUQgPSAwO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyh0aGlzLCBzdHlsZSwgc3R5bGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFRleHRTdHlsZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICogTm90ZSB0aGF0IHRoZSBvbmx5IHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3QgYXJlIGNsb25lZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dFN0eWxlfSBOZXcgY2xvbmVkIFRleHRTdHlsZSBvYmplY3RcbiAgICAgKi9cbiAgICBUZXh0U3R5bGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2xvbmVkUHJvcGVydGllcyA9IHt9O1xuICAgICAgICBkZWVwQ29weVByb3BlcnRpZXMoY2xvbmVkUHJvcGVydGllcywgdGhpcywgZGVmYXVsdFN0eWxlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0U3R5bGUoY2xvbmVkUHJvcGVydGllcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgYWxsIHByb3BlcnRpZXMgdG8gdGhlIGRlZmF1bHRzIHNwZWNpZmllZCBpbiBUZXh0U3R5bGUucHJvdG90eXBlLl9kZWZhdWx0XG4gICAgICovXG4gICAgVGV4dFN0eWxlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIGRlZmF1bHRTdHlsZSwgZGVmYXVsdFN0eWxlKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImFsaWduXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQgKCdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0JyksIGRvZXMgbm90IGFmZmVjdCBzaW5nbGUgbGluZSB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FsaWduO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChhbGlnbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2FsaWduICE9PSBhbGlnbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FsaWduID0gYWxpZ247XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJicmVha1dvcmRzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiBsaW5lcyBjYW4gYmUgd3JhcHBlZCB3aXRoaW4gd29yZHMsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9icmVha1dvcmRzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChicmVha1dvcmRzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYnJlYWtXb3JkcyAhPT0gYnJlYWtXb3Jkcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JyZWFrV29yZHMgPSBicmVha1dvcmRzO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZHJvcFNoYWRvd1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBkcm9wIHNoYWRvdyBmb3IgdGhlIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3c7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93ICE9PSBkcm9wU2hhZG93KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvdyA9IGRyb3BTaGFkb3c7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJkcm9wU2hhZG93QWxwaGFcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGFscGhhIGZvciB0aGUgZHJvcCBzaGFkb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FscGhhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93QWxwaGEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QWxwaGEgIT09IGRyb3BTaGFkb3dBbHBoYSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbHBoYSA9IGRyb3BTaGFkb3dBbHBoYTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImRyb3BTaGFkb3dBbmdsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBhbmdsZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FuZ2xlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93QW5nbGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QW5nbGUgIT09IGRyb3BTaGFkb3dBbmdsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZSA9IGRyb3BTaGFkb3dBbmdsZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImRyb3BTaGFkb3dCbHVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZHJvcFNoYWRvd0JsdXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93Qmx1ciAhPT0gZHJvcFNoYWRvd0JsdXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93Qmx1ciA9IGRyb3BTaGFkb3dCbHVyO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZHJvcFNoYWRvd0NvbG9yXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSBkcm9wc2hhZG93IGUuZyAncmVkJywgJyMwMEZGMDAnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Q29sb3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRyb3BTaGFkb3dDb2xvcikge1xuICAgICAgICAgICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZHJvcFNoYWRvd0NvbG9yKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93Q29sb3IgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0NvbG9yID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJkcm9wU2hhZG93RGlzdGFuY2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgZGlzdGFuY2Ugb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZHJvcFNoYWRvd0Rpc3RhbmNlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlICE9PSBkcm9wU2hhZG93RGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2UgPSBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmaWxsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBlLmcgJ3JlZCcsICcjMDBGRjAwJy5cbiAgICAgICAgICogQ2FuIGJlIGFuIGFycmF5IHRvIGNyZWF0ZSBhIGdyYWRpZW50IGVnIFsnIzAwMDAwMCcsJyNGRkZGRkYnXVxuICAgICAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW118bnVtYmVyfG51bWJlcltdfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWxsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmaWxsKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIG51bWJlciB0eXBlIGFzXG4gICAgICAgICAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgICAgICAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICAgICAgICAgIC8vIFRPRE86IE5vdCBzdXJlIGlmIGdldENvbG9yIHdvcmtzIHByb3Blcmx5IHdpdGggQ2FudmFzR3JhZGllbnQgYW5kL29yIENhbnZhc1BhdHRlcm4sIGNhbid0IHBhc3MgaW5cbiAgICAgICAgICAgIC8vICAgICAgIHdpdGhvdXQgY2FzdGluZyBoZXJlLlxuICAgICAgICAgICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZmlsbCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fZmlsbCAhPT0gb3V0cHV0Q29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmaWxsR3JhZGllbnRUeXBlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuXG4gICAgICAgICAqIFNlZSB7QGxpbmsgUElYSS5URVhUX0dSQURJRU5UfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWxsR3JhZGllbnRUeXBlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmaWxsR3JhZGllbnRUeXBlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZmlsbEdyYWRpZW50VHlwZSAhPT0gZmlsbEdyYWRpZW50VHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGUgPSBmaWxsR3JhZGllbnRUeXBlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZmlsbEdyYWRpZW50U3RvcHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGFycmF5IGNhbiBzZXQgdGhlIHN0b3AgcG9pbnRzXG4gICAgICAgICAqIChudW1iZXJzIGJldHdlZW4gMCBhbmQgMSkgZm9yIHRoZSBjb2xvciwgb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgZXZlbmx5IHNwYWNpbmcgdGhlbS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWxsR3JhZGllbnRTdG9wcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZmlsbEdyYWRpZW50U3RvcHMpIHtcbiAgICAgICAgICAgIGlmICghYXJlQXJyYXlzRXF1YWwodGhpcy5fZmlsbEdyYWRpZW50U3RvcHMsIGZpbGxHcmFkaWVudFN0b3BzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzID0gZmlsbEdyYWRpZW50U3RvcHM7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250RmFtaWx5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IGZhbWlseVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250RmFtaWx5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmb250RmFtaWx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5mb250RmFtaWx5ICE9PSBmb250RmFtaWx5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250U2l6ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBzaXplXG4gICAgICAgICAqIChhcyBhIG51bWJlciBpdCBjb252ZXJ0cyB0byBweCwgYnV0IGFzIGEgc3RyaW5nLCBlcXVpdmFsZW50cyBhcmUgJzI2cHgnLCcyMHB0JywnMTYwJScgb3IgJzEuNmVtJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfHN0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTaXplO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmb250U2l6ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRTaXplICE9PSBmb250U2l6ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gZm9udFNpemU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250U3R5bGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgc3R5bGVcbiAgICAgICAgICogKCdub3JtYWwnLCAnaXRhbGljJyBvciAnb2JsaXF1ZScpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTdHlsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZm9udFN0eWxlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFN0eWxlICE9PSBmb250U3R5bGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U3R5bGUgPSBmb250U3R5bGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250VmFyaWFudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCB2YXJpYW50XG4gICAgICAgICAqICgnbm9ybWFsJyBvciAnc21hbGwtY2FwcycpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRWYXJpYW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmb250VmFyaWFudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRWYXJpYW50ICE9PSBmb250VmFyaWFudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRWYXJpYW50ID0gZm9udFZhcmlhbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250V2VpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHdlaWdodFxuICAgICAgICAgKiAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsIDgwMCcgb3IgJzkwMCcpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRXZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZvbnRXZWlnaHQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250V2VpZ2h0ICE9PSBmb250V2VpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFdlaWdodCA9IGZvbnRXZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJsZXR0ZXJTcGFjaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbW91bnQgb2Ygc3BhY2luZyBiZXR3ZWVuIGxldHRlcnMsIGRlZmF1bHQgaXMgMFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsZXR0ZXJTcGFjaW5nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gbGV0dGVyU3BhY2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwibGluZUhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGluZSBoZWlnaHQsIGEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgc3BhY2UgdGhhdCBhIGxldHRlciB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGxpbmVIZWlnaHQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9saW5lSGVpZ2h0ICE9PSBsaW5lSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJsZWFkaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xlYWRpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGxlYWRpbmcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sZWFkaW5nICE9PSBsZWFkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGVhZGluZyA9IGxlYWRpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJsaW5lSm9pblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGluZUpvaW4gcHJvcGVydHkgc2V0cyB0aGUgdHlwZSBvZiBjb3JuZXIgY3JlYXRlZCwgaXQgY2FuIHJlc29sdmUgc3Bpa2VkIHRleHQgaXNzdWVzLlxuICAgICAgICAgKiBEZWZhdWx0IGlzICdtaXRlcicgKGNyZWF0ZXMgYSBzaGFycCBjb3JuZXIpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lSm9pbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobGluZUpvaW4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9saW5lSm9pbiAhPT0gbGluZUpvaW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lSm9pbiA9IGxpbmVKb2luO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwibWl0ZXJMaW1pdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWl0ZXIgbGltaXQgdG8gdXNlIHdoZW4gdXNpbmcgdGhlICdtaXRlcicgbGluZUpvaW4gbW9kZVxuICAgICAgICAgKiBUaGlzIGNhbiByZWR1Y2Ugb3IgaW5jcmVhc2UgdGhlIHNwaWtpbmVzcyBvZiByZW5kZXJlZCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9taXRlckxpbWl0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChtaXRlckxpbWl0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWl0ZXJMaW1pdCAhPT0gbWl0ZXJMaW1pdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21pdGVyTGltaXQgPSBtaXRlckxpbWl0O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwicGFkZGluZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tIGhhcHBlbmluZ1xuICAgICAgICAgKiBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhZGRpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHBhZGRpbmcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYWRkaW5nICE9PSBwYWRkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFkZGluZyA9IHBhZGRpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJzdHJva2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IHN0cm9rZVxuICAgICAgICAgKiBlLmcgJ2JsdWUnLCAnI0ZDRkYwMCdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfG51bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0cm9rZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3Ryb2tlKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIG51bWJlciB0eXBlIGFzXG4gICAgICAgICAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgICAgICAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICAgICAgICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKHN0cm9rZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fc3Ryb2tlICE9PSBvdXRwdXRDb2xvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0cm9rZSA9IG91dHB1dENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwic3Ryb2tlVGhpY2tuZXNzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBzdHJva2UuXG4gICAgICAgICAqIERlZmF1bHQgaXMgMCAobm8gc3Ryb2tlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdHJva2VUaGlja25lc3M7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0cm9rZVRoaWNrbmVzcyAhPT0gc3Ryb2tlVGhpY2tuZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Ryb2tlVGhpY2tuZXNzID0gc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwidGV4dEJhc2VsaW5lXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0QmFzZWxpbmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHRleHRCYXNlbGluZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHRCYXNlbGluZSAhPT0gdGV4dEJhc2VsaW5lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dEJhc2VsaW5lID0gdGV4dEJhc2VsaW5lO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwidHJpbVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyaW07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHRyaW0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90cmltICE9PSB0cmltKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpbSA9IHRyaW07XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJ3aGl0ZVNwYWNlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvdyBuZXdsaW5lcyBhbmQgc3BhY2VzIHNob3VsZCBiZSBoYW5kbGVkLlxuICAgICAgICAgKiBEZWZhdWx0IGlzICdwcmUnIChwcmVzZXJ2ZSwgcHJlc2VydmUpLlxuICAgICAgICAgKlxuICAgICAgICAgKiAgdmFsdWUgICAgICAgfCBOZXcgbGluZXMgICAgIHwgICBTcGFjZXNcbiAgICAgICAgICogIC0tLSAgICAgICAgIHwgLS0tICAgICAgICAgICB8ICAgLS0tXG4gICAgICAgICAqICdub3JtYWwnICAgICB8IENvbGxhcHNlICAgICAgfCAgIENvbGxhcHNlXG4gICAgICAgICAqICdwcmUnICAgICAgICB8IFByZXNlcnZlICAgICAgfCAgIFByZXNlcnZlXG4gICAgICAgICAqICdwcmUtbGluZScgICB8IFByZXNlcnZlICAgICAgfCAgIENvbGxhcHNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3doaXRlU3BhY2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHdoaXRlU3BhY2UpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93aGl0ZVNwYWNlICE9PSB3aGl0ZVNwYWNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2hpdGVTcGFjZSA9IHdoaXRlU3BhY2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJ3b3JkV3JhcFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgd29yZCB3cmFwIHNob3VsZCBiZSB1c2VkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93b3JkV3JhcDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAod29yZFdyYXApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93b3JkV3JhcCAhPT0gd29yZFdyYXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JkV3JhcCA9IHdvcmRXcmFwO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwid29yZFdyYXBXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggYXQgd2hpY2ggdGV4dCB3aWxsIHdyYXAsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmRXcmFwV2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93b3JkV3JhcFdpZHRoICE9PSB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29yZFdyYXBXaWR0aCA9IHdvcmRXcmFwV2lkdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBmb250IHN0eWxlIHN0cmluZyB0byB1c2UgZm9yIGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCgpYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gRm9udCBzdHlsZSBzdHJpbmcsIGZvciBwYXNzaW5nIHRvIGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCgpYFxuICAgICAqL1xuICAgIFRleHRTdHlsZS5wcm90b3R5cGUudG9Gb250U3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBidWlsZCBjYW52YXMgYXBpIGZvbnQgc2V0dGluZyBmcm9tIGluZGl2aWR1YWwgY29tcG9uZW50cy4gQ29udmVydCBhIG51bWVyaWMgdGhpcy5mb250U2l6ZSB0byBweFxuICAgICAgICB2YXIgZm9udFNpemVTdHJpbmcgPSAodHlwZW9mIHRoaXMuZm9udFNpemUgPT09ICdudW1iZXInKSA/IHRoaXMuZm9udFNpemUgKyBcInB4XCIgOiB0aGlzLmZvbnRTaXplO1xuICAgICAgICAvLyBDbGVhbi11cCBmb250RmFtaWx5IHByb3BlcnR5IGJ5IHF1b3RpbmcgZWFjaCBmb250IG5hbWVcbiAgICAgICAgLy8gdGhpcyB3aWxsIHN1cHBvcnQgZm9udCBuYW1lcyB3aXRoIHNwYWNlc1xuICAgICAgICB2YXIgZm9udEZhbWlsaWVzID0gdGhpcy5mb250RmFtaWx5O1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5mb250RmFtaWx5KSkge1xuICAgICAgICAgICAgZm9udEZhbWlsaWVzID0gdGhpcy5mb250RmFtaWx5LnNwbGl0KCcsJyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IGZvbnRGYW1pbGllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgLy8gVHJpbSBhbnkgZXh0cmEgd2hpdGUtc3BhY2VcbiAgICAgICAgICAgIHZhciBmb250RmFtaWx5ID0gZm9udEZhbWlsaWVzW2ldLnRyaW0oKTtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGZvbnQgYWxyZWFkeSBjb250YWlucyBzdHJpbmdzXG4gICAgICAgICAgICBpZiAoISgvKFtcXFwiXFwnXSlbXlxcJ1xcXCJdK1xcMS8pLnRlc3QoZm9udEZhbWlseSkgJiYgZ2VuZXJpY0ZvbnRGYW1pbGllcy5pbmRleE9mKGZvbnRGYW1pbHkpIDwgMCkge1xuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHkgPSBcIlxcXCJcIiArIGZvbnRGYW1pbHkgKyBcIlxcXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvbnRGYW1pbGllc1tpXSA9IGZvbnRGYW1pbHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9udFN0eWxlICsgXCIgXCIgKyB0aGlzLmZvbnRWYXJpYW50ICsgXCIgXCIgKyB0aGlzLmZvbnRXZWlnaHQgKyBcIiBcIiArIGZvbnRTaXplU3RyaW5nICsgXCIgXCIgKyBmb250RmFtaWxpZXMuam9pbignLCcpO1xuICAgIH07XG4gICAgcmV0dXJuIFRleHRTdHlsZTtcbn0oKSk7XG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBjb2xvclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29sb3IgYXMgYSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGdldFNpbmdsZUNvbG9yKGNvbG9yKSB7XG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGhleDJzdHJpbmcoY29sb3IpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgY29sb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChjb2xvci5pbmRleE9mKCcweCcpID09PSAwKSB7XG4gICAgICAgICAgICBjb2xvciA9IGNvbG9yLnJlcGxhY2UoJzB4JywgJyMnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29sb3I7XG59XG5mdW5jdGlvbiBnZXRDb2xvcihjb2xvcikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICAgICAgcmV0dXJuIGdldFNpbmdsZUNvbG9yKGNvbG9yKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sb3IubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbG9yW2ldID0gZ2V0U2luZ2xlQ29sb3IoY29sb3JbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG59XG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBUaGlzIHZlcnNpb24gY2FuIGFsc28gY29udmVydCBhcnJheSBvZiBjb2xvcnNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheTEgLSBGaXJzdCBhcnJheSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheTIgLSBTZWNvbmQgYXJyYXkgdG8gY29tcGFyZVxuICogQHJldHVybiB7Ym9vbGVhbn0gRG8gdGhlIGFycmF5cyBjb250YWluIHRoZSBzYW1lIHZhbHVlcyBpbiB0aGUgc2FtZSBvcmRlclxuICovXG5mdW5jdGlvbiBhcmVBcnJheXNFcXVhbChhcnJheTEsIGFycmF5Mikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheTEpIHx8ICFBcnJheS5pc0FycmF5KGFycmF5MikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYXJyYXkxLmxlbmd0aCAhPT0gYXJyYXkyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkxLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChhcnJheTFbaV0gIT09IGFycmF5MltpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGVuc3VyZSB0aGF0IG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBjb3BpZWQgYnkgdmFsdWUsIGFuZCBub3QgYnkgcmVmZXJlbmNlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCAtIFRhcmdldCBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGludG9cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgLSBTb3VyY2Ugb2JqZWN0IGZvciB0aGUgcHJvcGVydGllcyB0byBjb3B5XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlPYmogLSBPYmplY3QgY29udGFpbmluZyBwcm9wZXJ0aWVzIG5hbWVzIHdlIHdhbnQgdG8gbG9vcCBvdmVyXG4gKi9cbmZ1bmN0aW9uIGRlZXBDb3B5UHJvcGVydGllcyh0YXJnZXQsIHNvdXJjZSwgcHJvcGVydHlPYmopIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIHByb3BlcnR5T2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZVtwcm9wXSkpIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXS5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBUZXh0TWV0cmljcyBvYmplY3QgcmVwcmVzZW50cyB0aGUgbWVhc3VyZW1lbnQgb2YgYSBibG9jayBvZiB0ZXh0IHdpdGggYSBzcGVjaWZpZWQgc3R5bGUuXG4gKlxuICogYGBganNcbiAqIGxldCBzdHlsZSA9IG5ldyBQSVhJLlRleHRTdHlsZSh7Zm9udEZhbWlseSA6ICdBcmlhbCcsIGZvbnRTaXplOiAyNCwgZmlsbCA6IDB4ZmYxMDEwLCBhbGlnbiA6ICdjZW50ZXInfSlcbiAqIGxldCB0ZXh0TWV0cmljcyA9IFBJWEkuVGV4dE1ldHJpY3MubWVhc3VyZVRleHQoJ1lvdXIgdGV4dCcsIHN0eWxlKVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dE1ldHJpY3MgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgdGV4dCB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHN0eWxlIHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIG1lYXN1cmVkIHdpZHRoIG9mIHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBtZWFzdXJlZCBoZWlnaHQgb2YgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBsaW5lcyAtIGFuIGFycmF5IG9mIHRoZSBsaW5lcyBvZiB0ZXh0IGJyb2tlbiBieSBuZXcgbGluZXMgYW5kIHdyYXBwaW5nIGlmIHNwZWNpZmllZCBpbiBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGxpbmVXaWR0aHMgLSBhbiBhcnJheSBvZiB0aGUgbGluZSB3aWR0aHMgZm9yIGVhY2ggbGluZSBtYXRjaGVkIHRvIGBsaW5lc2BcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGluZUhlaWdodCAtIHRoZSBtZWFzdXJlZCBsaW5lIGhlaWdodCBmb3IgdGhpcyBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhMaW5lV2lkdGggLSB0aGUgbWF4aW11bSBsaW5lIHdpZHRoIGZvciBhbGwgbWVhc3VyZWQgbGluZXNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZm9udFByb3BlcnRpZXMgLSB0aGUgZm9udCBwcm9wZXJ0aWVzIG9iamVjdCBmcm9tIFRleHRNZXRyaWNzLm1lYXN1cmVGb250XG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dE1ldHJpY3ModGV4dCwgc3R5bGUsIHdpZHRoLCBoZWlnaHQsIGxpbmVzLCBsaW5lV2lkdGhzLCBsaW5lSGVpZ2h0LCBtYXhMaW5lV2lkdGgsIGZvbnRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dCB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0eWxlIHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dFN0eWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1lYXN1cmVkIHdpZHRoIG9mIHRoZSB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtZWFzdXJlZCBoZWlnaHQgb2YgdGhlIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBsaW5lcyBvZiB0aGUgdGV4dCBicm9rZW4gYnkgbmV3IGxpbmVzIGFuZCB3cmFwcGluZyBpcyBzcGVjaWZpZWQgaW4gc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVzID0gbGluZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiB0aGUgbGluZSB3aWR0aHMgZm9yIGVhY2ggbGluZSBtYXRjaGVkIHRvIGBsaW5lc2BcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVXaWR0aHMgPSBsaW5lV2lkdGhzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1lYXN1cmVkIGxpbmUgaGVpZ2h0IGZvciB0aGlzIHN0eWxlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4aW11bSBsaW5lIHdpZHRoIGZvciBhbGwgbWVhc3VyZWQgbGluZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhMaW5lV2lkdGggPSBtYXhMaW5lV2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBwcm9wZXJ0aWVzIG9iamVjdCBmcm9tIFRleHRNZXRyaWNzLm1lYXN1cmVGb250XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSUZvbnRNZXRyaWNzfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb250UHJvcGVydGllcyA9IGZvbnRQcm9wZXJ0aWVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZWFzdXJlcyB0aGUgc3VwcGxpZWQgc3RyaW5nIG9mIHRleHQgYW5kIHJldHVybnMgYSBSZWN0YW5nbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRoZSB0ZXh0IHRvIG1lYXN1cmUuXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSB0aGUgdGV4dCBzdHlsZSB0byB1c2UgZm9yIG1lYXN1cmluZ1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3dvcmRXcmFwXSAtIG9wdGlvbmFsIG92ZXJyaWRlIGZvciBpZiB3b3JkLXdyYXAgc2hvdWxkIGJlIGFwcGxpZWQgdG8gdGhlIHRleHQuXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0TWV0cmljc30gbWVhc3VyZWQgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgdGV4dC5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5tZWFzdXJlVGV4dCA9IGZ1bmN0aW9uICh0ZXh0LCBzdHlsZSwgd29yZFdyYXAsIGNhbnZhcykge1xuICAgICAgICBpZiAoY2FudmFzID09PSB2b2lkIDApIHsgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhczsgfVxuICAgICAgICB3b3JkV3JhcCA9ICh3b3JkV3JhcCA9PT0gdW5kZWZpbmVkIHx8IHdvcmRXcmFwID09PSBudWxsKSA/IHN0eWxlLndvcmRXcmFwIDogd29yZFdyYXA7XG4gICAgICAgIHZhciBmb250ID0gc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgICAgIHZhciBmb250UHJvcGVydGllcyA9IFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuICAgICAgICAvLyBmYWxsYmFjayBpbiBjYXNlIFVBIGRpc2FsbG93IGNhbnZhcyBkYXRhIGV4dHJhY3Rpb25cbiAgICAgICAgLy8gKHRvRGF0YVVSSSwgZ2V0SW1hZ2VEYXRhIGZ1bmN0aW9ucylcbiAgICAgICAgaWYgKGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplID09PSAwKSB7XG4gICAgICAgICAgICBmb250UHJvcGVydGllcy5mb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplO1xuICAgICAgICAgICAgZm9udFByb3BlcnRpZXMuYXNjZW50ID0gc3R5bGUuZm9udFNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcbiAgICAgICAgdmFyIG91dHB1dFRleHQgPSB3b3JkV3JhcCA/IFRleHRNZXRyaWNzLndvcmRXcmFwKHRleHQsIHN0eWxlLCBjYW52YXMpIDogdGV4dDtcbiAgICAgICAgdmFyIGxpbmVzID0gb3V0cHV0VGV4dC5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyk7XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gbmV3IEFycmF5KGxpbmVzLmxlbmd0aCk7XG4gICAgICAgIHZhciBtYXhMaW5lV2lkdGggPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbGluZVdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dChsaW5lc1tpXSkud2lkdGggKyAoKGxpbmVzW2ldLmxlbmd0aCAtIDEpICogc3R5bGUubGV0dGVyU3BhY2luZyk7XG4gICAgICAgICAgICBsaW5lV2lkdGhzW2ldID0gbGluZVdpZHRoO1xuICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsaW5lV2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3aWR0aCA9IG1heExpbmVXaWR0aCArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIHdpZHRoICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGluZUhlaWdodCA9IHN0eWxlLmxpbmVIZWlnaHQgfHwgZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLm1heChsaW5lSGVpZ2h0LCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcylcbiAgICAgICAgICAgICsgKChsaW5lcy5sZW5ndGggLSAxKSAqIChsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZykpO1xuICAgICAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdykge1xuICAgICAgICAgICAgaGVpZ2h0ICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRleHRNZXRyaWNzKHRleHQsIHN0eWxlLCB3aWR0aCwgaGVpZ2h0LCBsaW5lcywgbGluZVdpZHRocywgbGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcsIG1heExpbmVXaWR0aCwgZm9udFByb3BlcnRpZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBuZXdsaW5lcyB0byBhIHN0cmluZyB0byBoYXZlIGl0IG9wdGltYWxseSBmaXQgaW50byB0aGUgaG9yaXpvbnRhbFxuICAgICAqIGJvdW5kcyBzZXQgYnkgdGhlIFRleHQgb2JqZWN0J3Mgd29yZFdyYXBXaWR0aCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBTdHJpbmcgdG8gYXBwbHkgd29yZCB3cmFwcGluZyB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHN0eWxlIHRvIHVzZSB3aGVuIHdyYXBwaW5nXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBOZXcgc3RyaW5nIHdpdGggbmV3IGxpbmVzIGFwcGxpZWQgd2hlcmUgcmVxdWlyZWRcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy53b3JkV3JhcCA9IGZ1bmN0aW9uICh0ZXh0LCBzdHlsZSwgY2FudmFzKSB7XG4gICAgICAgIGlmIChjYW52YXMgPT09IHZvaWQgMCkgeyBjYW52YXMgPSBUZXh0TWV0cmljcy5fY2FudmFzOyB9XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHZhciB3aWR0aCA9IDA7XG4gICAgICAgIHZhciBsaW5lID0gJyc7XG4gICAgICAgIHZhciBsaW5lcyA9ICcnO1xuICAgICAgICB2YXIgY2FjaGUgPSB7fTtcbiAgICAgICAgdmFyIGxldHRlclNwYWNpbmcgPSBzdHlsZS5sZXR0ZXJTcGFjaW5nLCB3aGl0ZVNwYWNlID0gc3R5bGUud2hpdGVTcGFjZTtcbiAgICAgICAgLy8gSG93IHRvIGhhbmRsZSB3aGl0ZXNwYWNlc1xuICAgICAgICB2YXIgY29sbGFwc2VTcGFjZXMgPSBUZXh0TWV0cmljcy5jb2xsYXBzZVNwYWNlcyh3aGl0ZVNwYWNlKTtcbiAgICAgICAgdmFyIGNvbGxhcHNlTmV3bGluZXMgPSBUZXh0TWV0cmljcy5jb2xsYXBzZU5ld2xpbmVzKHdoaXRlU3BhY2UpO1xuICAgICAgICAvLyB3aGV0aGVyIG9yIG5vdCBzcGFjZXMgbWF5IGJlIGFkZGVkIHRvIHRoZSBiZWdpbm5pbmcgb2YgbGluZXNcbiAgICAgICAgdmFyIGNhblByZXBlbmRTcGFjZXMgPSAhY29sbGFwc2VTcGFjZXM7XG4gICAgICAgIC8vIFRoZXJlIGlzIGxldHRlclNwYWNpbmcgYWZ0ZXIgZXZlcnkgY2hhciBleGNlcHQgdGhlIGxhc3Qgb25lXG4gICAgICAgIC8vIHRfaF9pX3NfJyAnX2lfc18nICdfYV9uXycgJ19lX3hfYV9tX3BfbF9lXycgJ18hXG4gICAgICAgIC8vIHNvIGZvciBjb252ZW5pZW5jZSB0aGUgYWJvdmUgbmVlZHMgdG8gYmUgY29tcGFyZWQgdG8gd2lkdGggKyAxIGV4dHJhIGxldHRlclNwYWNlXG4gICAgICAgIC8vIHRfaF9pX3NfJyAnX2lfc18nICdfYV9uXycgJ19lX3hfYV9tX3BfbF9lXycgJ18hX1xuICAgICAgICAvLyBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cbiAgICAgICAgLy8gQW5kIHRoZW4gdGhlIGZpbmFsIHNwYWNlIGlzIHNpbXBseSBubyBhcHBlbmRlZCB0byBlYWNoIGxpbmVcbiAgICAgICAgdmFyIHdvcmRXcmFwV2lkdGggPSBzdHlsZS53b3JkV3JhcFdpZHRoICsgbGV0dGVyU3BhY2luZztcbiAgICAgICAgLy8gYnJlYWsgdGV4dCBpbnRvIHdvcmRzLCBzcGFjZXMgYW5kIG5ld2xpbmUgY2hhcnNcbiAgICAgICAgdmFyIHRva2VucyA9IFRleHRNZXRyaWNzLnRva2VuaXplKHRleHQpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSB3b3JkLCBzcGFjZSBvciBuZXdsaW5lQ2hhclxuICAgICAgICAgICAgdmFyIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICAgICAgLy8gaWYgd29yZCBpcyBhIG5ldyBsaW5lXG4gICAgICAgICAgICBpZiAoVGV4dE1ldHJpY3MuaXNOZXdsaW5lKHRva2VuKSkge1xuICAgICAgICAgICAgICAgIC8vIGtlZXAgdGhlIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgaWYgKCFjb2xsYXBzZU5ld2xpbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSAhY29sbGFwc2VTcGFjZXM7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaWYgd2Ugc2hvdWxkIGNvbGxhcHNlIG5ldyBsaW5lc1xuICAgICAgICAgICAgICAgIC8vIHdlIHNpbXBseSBjb252ZXJ0IGl0IGludG8gYSBzcGFjZVxuICAgICAgICAgICAgICAgIHRva2VuID0gJyAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgd2Ugc2hvdWxkIGNvbGxhcHNlIHJlcGVhdGVkIHdoaXRlc3BhY2VzXG4gICAgICAgICAgICBpZiAoY29sbGFwc2VTcGFjZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBib3RoIHRoaXMgYW5kIHRoZSBsYXN0IHRva2VucyBmb3Igc3BhY2VzXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJJc0JyZWFraW5nU3BhY2UgPSBUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UodG9rZW4pO1xuICAgICAgICAgICAgICAgIHZhciBsYXN0SXNCcmVha2luZ1NwYWNlID0gVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGxpbmVbbGluZS5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJJc0JyZWFraW5nU3BhY2UgJiYgbGFzdElzQnJlYWtpbmdTcGFjZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBnZXQgd29yZCB3aWR0aCBmcm9tIGNhY2hlIGlmIHBvc3NpYmxlXG4gICAgICAgICAgICB2YXIgdG9rZW5XaWR0aCA9IFRleHRNZXRyaWNzLmdldEZyb21DYWNoZSh0b2tlbiwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuICAgICAgICAgICAgLy8gd29yZCBpcyBsb25nZXIgdGhhbiBkZXNpcmVkIGJvdW5kc1xuICAgICAgICAgICAgaWYgKHRva2VuV2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgd2UgYXJlIG5vdCBhbHJlYWR5IGF0IHRoZSBiZWdpbm5pbmcgb2YgYSBsaW5lXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IG5ld2xpbmVzIGZvciBvdmVyZmxvdyB3b3Jkc1xuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYnJlYWsgbGFyZ2Ugd29yZCBvdmVyIG11bHRpcGxlIGxpbmVzXG4gICAgICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmNhbkJyZWFrV29yZHModG9rZW4sIHN0eWxlLmJyZWFrV29yZHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJyZWFrIHdvcmQgaW50byBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGFyYWN0ZXJzID0gVGV4dE1ldHJpY3Mud29yZFdyYXBTcGxpdCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxvb3AgdGhlIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaGFyYWN0ZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhciA9IGNoYXJhY3RlcnNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgayA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgbm90IGF0IHRoZSBlbmQgb2YgdGhlIHRva2VuXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY2hhcmFjdGVyc1tqICsga10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dENoYXIgPSBjaGFyYWN0ZXJzW2ogKyBrXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdENoYXIgPSBjaGFyW2NoYXIubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdWxkIG5vdCBzcGxpdCBjaGFyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghVGV4dE1ldHJpY3MuY2FuQnJlYWtDaGFycyhsYXN0Q2hhciwgbmV4dENoYXIsIHRva2VuLCBqLCBzdHlsZS5icmVha1dvcmRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21iaW5lIGNoYXJzICYgbW92ZSBmb3J3YXJkIG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyICs9IG5leHRDaGFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGsrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGogKz0gY2hhci5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJhY3RlcldpZHRoID0gVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlKGNoYXIsIGxldHRlclNwYWNpbmcsIGNhY2hlLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXJXaWR0aCArIHdpZHRoID4gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lICs9IGNoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSBjaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBydW4gd29yZCBvdXQgb2YgdGhlIGJvdW5kc1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBhcmUgd29yZHMgaW4gdGhpcyBsaW5lIGFscmVhZHlcbiAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoIHRoYXQgbGluZSBhbmQgc3RhcnQgYSBuZXcgb25lXG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzTGFzdFRva2VuID0gaSA9PT0gdG9rZW5zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIC8vIGdpdmUgaXQgaXRzIG93biBsaW5lIGlmIGl0J3Mgbm90IHRoZSBlbmRcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZSh0b2tlbiwgIWlzTGFzdFRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB3b3JkIGNvdWxkIGZpdFxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gd29yZCB3b24ndCBmaXQgYmVjYXVzZSBvZiBleGlzdGluZyB3b3Jkc1xuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGEgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICBpZiAodG9rZW5XaWR0aCArIHdpZHRoID4gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdHMgYSBzcGFjZSB3ZSBkb24ndCB3YW50IGl0XG4gICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGEgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgYWRkIHNwYWNlcyB0byB0aGUgYmVnaW5uaW5nIG9mIGxpbmVzXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMCB8fCAhVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKHRva2VuKSB8fCBjYW5QcmVwZW5kU3BhY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgd29yZCB0byB0aGUgY3VycmVudCBsaW5lXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB3aWR0aCBjb3VudGVyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IHRva2VuV2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gbGluZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252aWVuaWVuY2UgZnVuY3Rpb24gZm9yIGxvZ2dpbmcgZWFjaCBsaW5lIGFkZGVkIGR1cmluZyB0aGUgd29yZFdyYXBcbiAgICAgKiBtZXRob2RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIGxpbmUgICAgICAgIC0gVGhlIGxpbmUgb2YgdGV4dCB0byBhZGRcbiAgICAgKiBAcGFyYW0gIHtib29sZWFufSAgbmV3TGluZSAgICAgLSBBZGQgbmV3IGxpbmUgY2hhcmFjdGVyIHRvIGVuZFxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gIEEgZm9ybWF0dGVkIGxpbmVcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5hZGRMaW5lID0gZnVuY3Rpb24gKGxpbmUsIG5ld0xpbmUpIHtcbiAgICAgICAgaWYgKG5ld0xpbmUgPT09IHZvaWQgMCkgeyBuZXdMaW5lID0gdHJ1ZTsgfVxuICAgICAgICBsaW5lID0gVGV4dE1ldHJpY3MudHJpbVJpZ2h0KGxpbmUpO1xuICAgICAgICBsaW5lID0gKG5ld0xpbmUpID8gbGluZSArIFwiXFxuXCIgOiBsaW5lO1xuICAgICAgICByZXR1cm4gbGluZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgJiBzZXRzIHRoZSB3aWR0aHMgb2YgY2FsY3VsYXRlZCBjaGFyYWN0ZXJzIGluIGEgY2FjaGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICAgICAgICAgICAgIGtleSAgICAgICAgICAgIC0gVGhlIGtleVxuICAgICAqIEBwYXJhbSAge251bWJlcn0gICAgICAgICAgICAgICAgICAgIGxldHRlclNwYWNpbmcgIC0gVGhlIGxldHRlciBzcGFjaW5nXG4gICAgICogQHBhcmFtICB7b2JqZWN0fSAgICAgICAgICAgICAgICAgICAgY2FjaGUgICAgICAgICAgLSBUaGUgY2FjaGVcbiAgICAgKiBAcGFyYW0gIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICBjb250ZXh0ICAgICAgICAtIFRoZSBjYW52YXMgY29udGV4dFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gICAgICAgICAgICAgICAgICAgIFRoZSBmcm9tIGNhY2hlLlxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmdldEZyb21DYWNoZSA9IGZ1bmN0aW9uIChrZXksIGxldHRlclNwYWNpbmcsIGNhY2hlLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciB3aWR0aCA9IGNhY2hlW2tleV07XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgc3BhY2luZyA9ICgoa2V5Lmxlbmd0aCkgKiBsZXR0ZXJTcGFjaW5nKTtcbiAgICAgICAgICAgIHdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dChrZXkpLndpZHRoICsgc3BhY2luZztcbiAgICAgICAgICAgIGNhY2hlW2tleV0gPSB3aWR0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2lkdGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgd2Ugc2hvdWxkIGNvbGxhcHNlIGJyZWFraW5nIHNwYWNlc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgd2hpdGVTcGFjZSAtIFRoZSBUZXh0U3R5bGUgcHJvcGVydHkgd2hpdGVTcGFjZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBzaG91bGQgY29sbGFwc2VcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5jb2xsYXBzZVNwYWNlcyA9IGZ1bmN0aW9uICh3aGl0ZVNwYWNlKSB7XG4gICAgICAgIHJldHVybiAod2hpdGVTcGFjZSA9PT0gJ25vcm1hbCcgfHwgd2hpdGVTcGFjZSA9PT0gJ3ByZS1saW5lJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgd2Ugc2hvdWxkIGNvbGxhcHNlIG5ld0xpbmUgY2hhcnNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIHdoaXRlU3BhY2UgLSBUaGUgd2hpdGUgc3BhY2VcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAgc2hvdWxkIGNvbGxhcHNlXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuY29sbGFwc2VOZXdsaW5lcyA9IGZ1bmN0aW9uICh3aGl0ZVNwYWNlKSB7XG4gICAgICAgIHJldHVybiAod2hpdGVTcGFjZSA9PT0gJ25vcm1hbCcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogdHJpbXMgYnJlYWtpbmcgd2hpdGVzcGFjZXMgZnJvbSBzdHJpbmdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdGV4dCAtIFRoZSB0ZXh0XG4gICAgICogQHJldHVybiB7c3RyaW5nfSAgdHJpbW1lZCBzdHJpbmdcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy50cmltUmlnaHQgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICBpZiAodHlwZW9mIHRleHQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IHRleHQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGV4dFtpXTtcbiAgICAgICAgICAgIGlmICghVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5zbGljZSgwLCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGNoYXIgaXMgYSBuZXdsaW5lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICBjaGFyIC0gVGhlIGNoYXJhY3RlclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBUcnVlIGlmIG5ld2xpbmUsIEZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5pc05ld2xpbmUgPSBmdW5jdGlvbiAoY2hhcikge1xuICAgICAgICBpZiAodHlwZW9mIGNoYXIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChUZXh0TWV0cmljcy5fbmV3bGluZXMuaW5kZXhPZihjaGFyLmNoYXJDb2RlQXQoMCkpID49IDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBjaGFyIGlzIGEgYnJlYWtpbmcgd2hpdGVzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAtIFRoZSBjaGFyYWN0ZXJcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAgVHJ1ZSBpZiB3aGl0ZXNwYWNlLCBGYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlID0gZnVuY3Rpb24gKGNoYXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjaGFyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzLmluZGV4T2YoY2hhci5jaGFyQ29kZUF0KDApKSA+PSAwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNwbGl0cyBhIHN0cmluZyBpbnRvIHdvcmRzLCBicmVha2luZy1zcGFjZXMgYW5kIG5ld0xpbmUgY2hhcmFjdGVyc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0ZXh0IC0gVGhlIHRleHRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmdbXX0gIEEgdG9rZW5pemVkIGFycmF5XG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MudG9rZW5pemUgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICB2YXIgdG9rZW5zID0gW107XG4gICAgICAgIHZhciB0b2tlbiA9ICcnO1xuICAgICAgICBpZiAodHlwZW9mIHRleHQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoYXIgPSB0ZXh0W2ldO1xuICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyKSB8fCBUZXh0TWV0cmljcy5pc05ld2xpbmUoY2hhcikpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4gIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goY2hhcik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2tlbiArPSBjaGFyO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b2tlbiAhPT0gJycpIHtcbiAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGFibGUgaGVscGVyIG1ldGhvZCB1c2VkIGludGVybmFsbHkgYnkgVGV4dE1ldHJpY3MsIGV4cG9zZWQgdG8gYWxsb3cgY3VzdG9taXppbmcgdGhlIGNsYXNzJ3MgYmVoYXZpb3IuXG4gICAgICpcbiAgICAgKiBJdCBhbGxvd3Mgb25lIHRvIGN1c3RvbWlzZSB3aGljaCB3b3JkcyBzaG91bGQgYnJlYWtcbiAgICAgKiBFeGFtcGxlcyBhcmUgaWYgdGhlIHRva2VuIGlzIENKSyBvciBudW1iZXJzLlxuICAgICAqIEl0IG11c3QgcmV0dXJuIGEgYm9vbGVhbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRva2VuICAgICAgIC0gVGhlIHRva2VuXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gIGJyZWFrV29yZHMgLSBUaGUgc3R5bGUgYXR0ciBicmVhayB3b3Jkc1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdG8gYnJlYWsgd29yZCBvciBub3RcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5jYW5CcmVha1dvcmRzID0gZnVuY3Rpb24gKF90b2tlbiwgYnJlYWtXb3Jkcykge1xuICAgICAgICByZXR1cm4gYnJlYWtXb3JkcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE92ZXJyaWRhYmxlIGhlbHBlciBtZXRob2QgdXNlZCBpbnRlcm5hbGx5IGJ5IFRleHRNZXRyaWNzLCBleHBvc2VkIHRvIGFsbG93IGN1c3RvbWl6aW5nIHRoZSBjbGFzcydzIGJlaGF2aW9yLlxuICAgICAqXG4gICAgICogSXQgYWxsb3dzIG9uZSB0byBkZXRlcm1pbmUgd2hldGhlciBhIHBhaXIgb2YgY2hhcmFjdGVyc1xuICAgICAqIHNob3VsZCBiZSBicm9rZW4gYnkgbmV3bGluZXNcbiAgICAgKiBGb3IgZXhhbXBsZSBjZXJ0YWluIGNoYXJhY3RlcnMgaW4gQ0pLIGxhbmdzIG9yIG51bWJlcnMuXG4gICAgICogSXQgbXVzdCByZXR1cm4gYSBib29sZWFuLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAgICAgICAgLSBUaGUgY2hhcmFjdGVyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgbmV4dENoYXIgICAgLSBUaGUgbmV4dCBjaGFyYWN0ZXJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0b2tlbiAgICAgICAtIFRoZSB0b2tlbi93b3JkIHRoZSBjaGFyYWN0ZXJzIGFyZSBmcm9tXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSAgaW5kZXggICAgICAgLSBUaGUgaW5kZXggaW4gdGhlIHRva2VuIG9mIHRoZSBjaGFyXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gIGJyZWFrV29yZHMgLSBUaGUgc3R5bGUgYXR0ciBicmVhayB3b3Jkc1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdG8gYnJlYWsgd29yZCBvciBub3RcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5jYW5CcmVha0NoYXJzID0gZnVuY3Rpb24gKF9jaGFyLCBfbmV4dENoYXIsIF90b2tlbiwgX2luZGV4LCBfYnJlYWtXb3Jkcykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE92ZXJyaWRhYmxlIGhlbHBlciBtZXRob2QgdXNlZCBpbnRlcm5hbGx5IGJ5IFRleHRNZXRyaWNzLCBleHBvc2VkIHRvIGFsbG93IGN1c3RvbWl6aW5nIHRoZSBjbGFzcydzIGJlaGF2aW9yLlxuICAgICAqXG4gICAgICogSXQgaXMgY2FsbGVkIHdoZW4gYSB0b2tlbiAodXN1YWxseSBhIHdvcmQpIGhhcyB0byBiZSBzcGxpdCBpbnRvIHNlcGFyYXRlIHBpZWNlc1xuICAgICAqIGluIG9yZGVyIHRvIGRldGVybWluZSB0aGUgcG9pbnQgdG8gYnJlYWsgYSB3b3JkLlxuICAgICAqIEl0IG11c3QgcmV0dXJuIGFuIGFycmF5IG9mIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENvcnJlY3RseSBzcGxpdHMgZW1vamlzLCBlZyBcIvCfpKrwn6SqXCIgd2lsbCByZXN1bHQgaW4gdHdvIGVsZW1lbnQgYXJyYXksIGVhY2ggd2l0aCBvbmUgZW1vamkuXG4gICAgICogVGV4dE1ldHJpY3Mud29yZFdyYXBTcGxpdCA9ICh0b2tlbikgPT4gWy4uLnRva2VuXTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRva2VuIC0gVGhlIHRva2VuIHRvIHNwbGl0XG4gICAgICogQHJldHVybiB7c3RyaW5nW119IFRoZSBjaGFyYWN0ZXJzIG9mIHRoZSB0b2tlblxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLndvcmRXcmFwU3BsaXQgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHRva2VuLnNwbGl0KCcnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGFzY2VudCwgZGVzY2VudCBhbmQgZm9udFNpemUgb2YgYSBnaXZlbiBmb250LXN0eWxlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgLSBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBzdHlsZSBvZiB0aGUgZm9udFxuICAgICAqIEByZXR1cm4ge1BJWEkuSUZvbnRNZXRyaWNzfSBGb250IHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQgPSBmdW5jdGlvbiAoZm9udCkge1xuICAgICAgICAvLyBhcyB0aGlzIG1ldGhvZCBpcyB1c2VkIGZvciBwcmVwYXJpbmcgYXNzZXRzLCBkb24ndCByZWNhbGN1bGF0ZSB0aGluZ3MgaWYgd2UgZG9uJ3QgbmVlZCB0b1xuICAgICAgICBpZiAoVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdKSB7XG4gICAgICAgICAgICByZXR1cm4gVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgYXNjZW50OiAwLFxuICAgICAgICAgICAgZGVzY2VudDogMCxcbiAgICAgICAgICAgIGZvbnRTaXplOiAwLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcztcbiAgICAgICAgdmFyIGNvbnRleHQgPSBUZXh0TWV0cmljcy5fY29udGV4dDtcbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcbiAgICAgICAgdmFyIG1ldHJpY3NTdHJpbmcgPSBUZXh0TWV0cmljcy5NRVRSSUNTX1NUUklORyArIFRleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTDtcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQobWV0cmljc1N0cmluZykud2lkdGgpO1xuICAgICAgICB2YXIgYmFzZWxpbmUgPSBNYXRoLmNlaWwoY29udGV4dC5tZWFzdXJlVGV4dChUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wpLndpZHRoKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IDIgKiBiYXNlbGluZTtcbiAgICAgICAgYmFzZWxpbmUgPSBiYXNlbGluZSAqIFRleHRNZXRyaWNzLkJBU0VMSU5FX01VTFRJUExJRVIgfCAwO1xuICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2YwMCc7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ2FscGhhYmV0aWMnO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjMDAwJztcbiAgICAgICAgY29udGV4dC5maWxsVGV4dChtZXRyaWNzU3RyaW5nLCAwLCBiYXNlbGluZSk7XG4gICAgICAgIHZhciBpbWFnZWRhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KS5kYXRhO1xuICAgICAgICB2YXIgcGl4ZWxzID0gaW1hZ2VkYXRhLmxlbmd0aDtcbiAgICAgICAgdmFyIGxpbmUgPSB3aWR0aCAqIDQ7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICAgIHZhciBzdG9wID0gZmFsc2U7XG4gICAgICAgIC8vIGFzY2VudC4gc2NhbiBmcm9tIHRvcCB0byBib3R0b20gdW50aWwgd2UgZmluZCBhIG5vbiByZWQgcGl4ZWxcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJhc2VsaW5lOyArK2kpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZTsgaiArPSA0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGltYWdlZGF0YVtpZHggKyBqXSAhPT0gMjU1KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXN0b3ApIHtcbiAgICAgICAgICAgICAgICBpZHggKz0gbGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3BlcnRpZXMuYXNjZW50ID0gYmFzZWxpbmUgLSBpO1xuICAgICAgICBpZHggPSBwaXhlbHMgLSBsaW5lO1xuICAgICAgICBzdG9wID0gZmFsc2U7XG4gICAgICAgIC8vIGRlc2NlbnQuIHNjYW4gZnJvbSBib3R0b20gdG8gdG9wIHVudGlsIHdlIGZpbmQgYSBub24gcmVkIHBpeGVsXG4gICAgICAgIGZvciAoaSA9IGhlaWdodDsgaSA+IGJhc2VsaW5lOyAtLWkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZTsgaiArPSA0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGltYWdlZGF0YVtpZHggKyBqXSAhPT0gMjU1KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXN0b3ApIHtcbiAgICAgICAgICAgICAgICBpZHggLT0gbGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3BlcnRpZXMuZGVzY2VudCA9IGkgLSBiYXNlbGluZTtcbiAgICAgICAgcHJvcGVydGllcy5mb250U2l6ZSA9IHByb3BlcnRpZXMuYXNjZW50ICsgcHJvcGVydGllcy5kZXNjZW50O1xuICAgICAgICBUZXh0TWV0cmljcy5fZm9udHNbZm9udF0gPSBwcm9wZXJ0aWVzO1xuICAgICAgICByZXR1cm4gcHJvcGVydGllcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFyIGZvbnQgbWV0cmljcyBpbiBtZXRyaWNzIGNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9udF0gLSBmb250IG5hbWUuIElmIGZvbnQgbmFtZSBub3Qgc2V0IHRoZW4gY2xlYXIgY2FjaGUgZm9yIGFsbCBmb250cy5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5jbGVhck1ldHJpY3MgPSBmdW5jdGlvbiAoZm9udCkge1xuICAgICAgICBpZiAoZm9udCA9PT0gdm9pZCAwKSB7IGZvbnQgPSAnJzsgfVxuICAgICAgICBpZiAoZm9udCkge1xuICAgICAgICAgICAgZGVsZXRlIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFRleHRNZXRyaWNzLl9mb250cyA9IHt9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGV4dE1ldHJpY3M7XG59KCkpO1xuLyoqXG4gKiBJbnRlcm5hbCByZXR1cm4gb2JqZWN0IGZvciB7QGxpbmsgUElYSS5UZXh0TWV0cmljcy5tZWFzdXJlRm9udCBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRgfS5cbiAqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBGb250TWV0cmljc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGFzY2VudCAtIFRoZSBhc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZXNjZW50IC0gVGhlIGRlc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb250U2l6ZSAtIEZvbnQgc2l6ZSBmcm9tIGFzY2VudCB0byBkZXNjZW50XG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHByaXZhdGVcbiAqL1xudmFyIGNhbnZhcyA9IChmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gT2Zmc2NyZWVuQ2FudmFzMkQgbWVhc3VyZVRleHQgY2FuIGJlIHVwIHRvIDQwJSBmYXN0ZXIuXG4gICAgICAgIHZhciBjID0gbmV3IE9mZnNjcmVlbkNhbnZhcygwLCAwKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBjLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQubWVhc3VyZVRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB9XG4gICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB9XG59KSgpO1xuY2FudmFzLndpZHRoID0gY2FudmFzLmhlaWdodCA9IDEwO1xuLyoqXG4gKiBDYWNoZWQgY2FudmFzIGVsZW1lbnQgZm9yIG1lYXN1cmluZyB0ZXh0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9jYW52YXMgPSBjYW52YXM7XG4vKipcbiAqIENhY2hlIGZvciBjb250ZXh0IHRvIHVzZS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9jb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4vKipcbiAqIENhY2hlIG9mIHtAc2VlIFBJWEkuVGV4dE1ldHJpY3MuRm9udE1ldHJpY3N9IG9iamVjdHMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcbi8qKlxuICogU3RyaW5nIHVzZWQgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKiBUaGVzZSBjaGFyYWN0ZXJzIGFyZSBhbGwgdGFsbCB0byBoZWxwIGNhbGN1bGF0ZSB0aGUgaGVpZ2h0IHJlcXVpcmVkIGZvciB0ZXh0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBNRVRSSUNTX1NUUklOR1xuICogQHR5cGUge3N0cmluZ31cbiAqIEBkZWZhdWx0IHzDiXHDhVxuICovXG5UZXh0TWV0cmljcy5NRVRSSUNTX1NUUklORyA9ICd8w4lxw4UnO1xuLyoqXG4gKiBCYXNlbGluZSBzeW1ib2wgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIEJBU0VMSU5FX1NZTUJPTFxuICogQHR5cGUge3N0cmluZ31cbiAqIEBkZWZhdWx0IE1cbiAqL1xuVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MID0gJ00nO1xuLyoqXG4gKiBCYXNlbGluZSBtdWx0aXBsaWVyIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBCQVNFTElORV9NVUxUSVBMSUVSXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgMS40XG4gKi9cblRleHRNZXRyaWNzLkJBU0VMSU5FX01VTFRJUExJRVIgPSAxLjQ7XG4vKipcbiAqIENhY2hlIG9mIG5ldyBsaW5lIGNoYXJzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7bnVtYmVyW119XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fbmV3bGluZXMgPSBbXG4gICAgMHgwMDBBLFxuICAgIDB4MDAwRCBdO1xuLyoqXG4gKiBDYWNoZSBvZiBicmVha2luZyBzcGFjZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtudW1iZXJbXX1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9icmVha2luZ1NwYWNlcyA9IFtcbiAgICAweDAwMDksXG4gICAgMHgwMDIwLFxuICAgIDB4MjAwMCxcbiAgICAweDIwMDEsXG4gICAgMHgyMDAyLFxuICAgIDB4MjAwMyxcbiAgICAweDIwMDQsXG4gICAgMHgyMDA1LFxuICAgIDB4MjAwNixcbiAgICAweDIwMDgsXG4gICAgMHgyMDA5LFxuICAgIDB4MjAwQSxcbiAgICAweDIwNUYsXG4gICAgMHgzMDAwIF07XG4vKipcbiAqIEEgbnVtYmVyLCBvciBhIHN0cmluZyBjb250YWluaW5nIGEgbnVtYmVyLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiBJRm9udE1ldHJpY3NcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhc2NlbnQgLSBGb250IGFzY2VudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRlc2NlbnQgLSBGb250IGRlc2NlbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb250U2l6ZSAtIEZvbnQgc2l6ZVxuICovXG5cbnZhciBkZWZhdWx0RGVzdHJveU9wdGlvbnMgPSB7XG4gICAgdGV4dHVyZTogdHJ1ZSxcbiAgICBjaGlsZHJlbjogZmFsc2UsXG4gICAgYmFzZVRleHR1cmU6IHRydWUsXG59O1xuLyoqXG4gKiBBIFRleHQgT2JqZWN0IHdpbGwgY3JlYXRlIGEgbGluZSBvciBtdWx0aXBsZSBsaW5lcyBvZiB0ZXh0LlxuICpcbiAqIFRoZSB0ZXh0IGlzIGNyZWF0ZWQgdXNpbmcgdGhlIFtDYW52YXMgQVBJXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzX0FQSSkuXG4gKlxuICogVGhlIHByaW1hcnkgYWR2YW50YWdlIG9mIHRoaXMgY2xhc3Mgb3ZlciBCaXRtYXBUZXh0IGlzIHRoYXQgeW91IGhhdmUgZ3JlYXQgY29udHJvbCBvdmVyIHRoZSBzdHlsZSBvZiB0aGUgbmV4dCxcbiAqIHdoaWNoIHlvdSBjYW4gY2hhbmdlIGF0IHJ1bnRpbWUuXG4gKlxuICogVGhlIHByaW1hcnkgZGlzYWR2YW50YWdlcyBpcyB0aGF0IGVhY2ggcGllY2Ugb2YgdGV4dCBoYXMgaXQncyBvd24gdGV4dHVyZSwgd2hpY2ggY2FuIHVzZSBtb3JlIG1lbW9yeS5cbiAqIFdoZW4gdGV4dCBjaGFuZ2VzLCB0aGlzIHRleHR1cmUgaGFzIHRvIGJlIHJlLWdlbmVyYXRlZCBhbmQgcmUtdXBsb2FkZWQgdG8gdGhlIEdQVSwgdGFraW5nIHVwIHRpbWUuXG4gKlxuICogVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nIGluIHlvdXIgdGV4dCBzdHJpbmcsIG9yLCBvbiB0aGUgYHN0eWxlYCBvYmplY3QsXG4gKiBjaGFuZ2UgaXRzIGB3b3JkV3JhcGAgcHJvcGVydHkgdG8gdHJ1ZSBhbmQgYW5kIGdpdmUgdGhlIGB3b3JkV3JhcFdpZHRoYCBwcm9wZXJ0eSBhIHZhbHVlLlxuICpcbiAqIEEgVGV4dCBjYW4gYmUgY3JlYXRlZCBkaXJlY3RseSBmcm9tIGEgc3RyaW5nIGFuZCBhIHN0eWxlIG9iamVjdCxcbiAqIHdoaWNoIGNhbiBiZSBnZW5lcmF0ZWQgW2hlcmVdKGh0dHBzOi8vcGl4aWpzLmlvL3BpeGktdGV4dC1zdHlsZSkuXG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0ID0gbmV3IFBJWEkuVGV4dCgnVGhpcyBpcyBhIFBpeGlKUyB0ZXh0Jyx7Zm9udEZhbWlseSA6ICdBcmlhbCcsIGZvbnRTaXplOiAyNCwgZmlsbCA6IDB4ZmYxMDEwLCBhbGlnbiA6ICdjZW50ZXInfSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGV4dCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSBzdHJpbmcgdGhhdCB5b3Ugd291bGQgbGlrZSB0aGUgdGV4dCB0byBkaXNwbGF5XG4gICAgICogQHBhcmFtIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9IFtzdHlsZV0gLSBUaGUgc3R5bGUgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gVGhlIGNhbnZhcyBlbGVtZW50IGZvciBkcmF3aW5nIHRleHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0KHRleHQsIHN0eWxlLCBjYW52YXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG93bkNhbnZhcyA9IGZhbHNlO1xuICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICBvd25DYW52YXMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDM7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSAzO1xuICAgICAgICB2YXIgdGV4dHVyZSA9IFRleHR1cmUuZnJvbShjYW52YXMpO1xuICAgICAgICB0ZXh0dXJlLm9yaWcgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRleHR1cmUudHJpbSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0ZXh0dXJlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogS2VlcCB0cmFjayBpZiB0aGlzIFRleHQgb2JqZWN0IGNyZWF0ZWQgaXQncyBvd24gY2FudmFzXG4gICAgICAgICAqIGVsZW1lbnQgKGB0cnVlYCkgb3IgdXNlcyB0aGUgY29uc3RydWN0b3IgYXJndW1lbnQgKGBmYWxzZWApLlxuICAgICAgICAgKiBVc2VkIHRvIHdvcmthcm91bmQgYSBHQyBpc3N1ZXMgd2l0aCBTYWZhcmkgPCAxMyB3aGVuXG4gICAgICAgICAqIGRlc3Ryb3lpbmcgVGV4dC4gU2VlIGBkZXN0cm95YCBmb3IgbW9yZSBpbmZvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX293bkNhbnZhcyA9IG93bkNhbnZhcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgZWxlbWVudCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gdG9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIDJkIGNvbnRleHQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHdpdGhcbiAgICAgICAgICogQG1lbWJlciB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udGV4dCA9IF90aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhcy5cbiAgICAgICAgICogVGhpcyBpcyBzZXQgdG8gYXV0b21hdGljYWxseSBtYXRjaCB0aGUgcmVuZGVyZXIgcmVzb2x1dGlvbiBieSBkZWZhdWx0LCBidXQgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyBtYW51YWxseS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIF90aGlzLl9hdXRvUmVzb2x1dGlvbiA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIGxpc3RlbmVyIHRvIHRyYWNrIHN0eWxlIGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3N0eWxlTGlzdGVuZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZm9udCA9ICcnO1xuICAgICAgICBfdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgX3RoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgX3RoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IHRvIGl0cyBjYW52YXMsIGFuZCB1cGRhdGVzIGl0cyB0ZXh0dXJlLlxuICAgICAqIEJ5IGRlZmF1bHQgdGhpcyBpcyB1c2VkIGludGVybmFsbHkgdG8gZW5zdXJlIHRoZSB0ZXh0dXJlIGlzIGNvcnJlY3QgYmVmb3JlIHJlbmRlcmluZyxcbiAgICAgKiBidXQgaXQgY2FuIGJlIHVzZWQgY2FsbGVkIGV4dGVybmFsbHksIGZvciBleGFtcGxlIGZyb20gdGhpcyBjbGFzcyB0byAncHJlLWdlbmVyYXRlJyB0aGUgdGV4dHVyZSBmcm9tIGEgcGllY2Ugb2YgdGV4dCxcbiAgICAgKiBhbmQgdGhlbiBzaGFyZWQgYWNyb3NzIG11bHRpcGxlIFNwcml0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlc3BlY3REaXJ0eSAtIFdoZXRoZXIgdG8gYWJvcnQgdXBkYXRpbmcgdGhlIHRleHQgaWYgdGhlIFRleHQgaXNuJ3QgZGlydHkgYW5kIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQuXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dCA9IGZ1bmN0aW9uIChyZXNwZWN0RGlydHkpIHtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG4gICAgICAgIC8vIGNoZWNrIGlmIHN0eWxlIGhhcyBjaGFuZ2VkLi5cbiAgICAgICAgaWYgKHRoaXMubG9jYWxTdHlsZUlEICE9PSBzdHlsZS5zdHlsZUlEKSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gc3R5bGUuc3R5bGVJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuZGlydHkgJiYgcmVzcGVjdERpcnR5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZm9udCA9IHRoaXMuX3N0eWxlLnRvRm9udFN0cmluZygpO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgdmFyIG1lYXN1cmVkID0gVGV4dE1ldHJpY3MubWVhc3VyZVRleHQodGhpcy5fdGV4dCB8fCAnICcsIHRoaXMuX3N0eWxlLCB0aGlzLl9zdHlsZS53b3JkV3JhcCwgdGhpcy5jYW52YXMpO1xuICAgICAgICB2YXIgd2lkdGggPSBtZWFzdXJlZC53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IG1lYXN1cmVkLmhlaWdodDtcbiAgICAgICAgdmFyIGxpbmVzID0gbWVhc3VyZWQubGluZXM7XG4gICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gbWVhc3VyZWQubGluZUhlaWdodDtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBtZWFzdXJlZC5saW5lV2lkdGhzO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gbWVhc3VyZWQubWF4TGluZVdpZHRoO1xuICAgICAgICB2YXIgZm9udFByb3BlcnRpZXMgPSBtZWFzdXJlZC5mb250UHJvcGVydGllcztcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBNYXRoLmNlaWwoKE1hdGgubWF4KDEsIHdpZHRoKSArIChzdHlsZS5wYWRkaW5nICogMikpICogdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbCgoTWF0aC5tYXgoMSwgaGVpZ2h0KSArIChzdHlsZS5wYWRkaW5nICogMikpICogdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIGNvbnRleHQuc2NhbGUodGhpcy5fcmVzb2x1dGlvbiwgdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0LmZvbnQgPSB0aGlzLl9mb250O1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gICAgICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHlsZS5saW5lSm9pbjtcbiAgICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcbiAgICAgICAgdmFyIGxpbmVQb3NpdGlvblg7XG4gICAgICAgIHZhciBsaW5lUG9zaXRpb25ZO1xuICAgICAgICAvLyByZXF1aXJlIDIgcGFzc2VzIGlmIGEgc2hhZG93OyB0aGUgZmlyc3QgdG8gZHJhdyB0aGUgZHJvcCBzaGFkb3csIHRoZSBzZWNvbmQgdG8gZHJhdyB0aGUgdGV4dFxuICAgICAgICB2YXIgcGFzc2VzQ291bnQgPSBzdHlsZS5kcm9wU2hhZG93ID8gMiA6IDE7XG4gICAgICAgIC8vIEZvciB2NCwgd2UgZHJldyB0ZXh0IGF0IHRoZSBjb2xvdXJzIG9mIHRoZSBkcm9wIHNoYWRvdyB1bmRlcm5lYXRoIHRoZSBub3JtYWwgdGV4dC4gVGhpcyBnYXZlIHRoZSBjb3JyZWN0IHpJbmRleCxcbiAgICAgICAgLy8gYnV0IGZlYXR1cmVzIHN1Y2ggYXMgYWxwaGEgYW5kIHNoYWRvd2JsdXIgZGlkIG5vdCBsb29rIHJpZ2h0IGF0IGFsbCwgc2luY2Ugd2Ugd2VyZSB1c2luZyBhY3R1YWwgdGV4dCBhcyBhIHNoYWRvdy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gRm9yIHY1LjAuMCwgd2UgbW92ZWQgb3ZlciB0byBqdXN0IHVzZSB0aGUgY2FudmFzIEFQSSBmb3IgZHJvcCBzaGFkb3dzLCB3aGljaCBtYWRlIHRoZW0gbG9vayBtdWNoIG5pY2VyIGFuZCBtb3JlXG4gICAgICAgIC8vIHZpc3VhbGx5IHBsZWFzZSwgYnV0IG5vdyBiZWNhdXNlIHRoZSBzdHJva2UgaXMgZHJhd24gYW5kIHRoZW4gdGhlIGZpbGwsIGRyb3Agc2hhZG93cyB3b3VsZCBhcHBlYXIgb24gYm90aCB0aGUgZmlsbFxuICAgICAgICAvLyBhbmQgdGhlIHN0cm9rZTsgYW5kIGZpbGwgZHJvcCBzaGFkb3dzIHdvdWxkIGFwcGVhciBvdmVyIHRoZSB0b3Agb2YgdGhlIHN0cm9rZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gRm9yIHY1LjEuMSwgdGhlIG5ldyByb3V0ZSBpcyB0byByZXZlcnQgdG8gdjQgc3R5bGUgb2YgZHJhd2luZyB0ZXh0IGZpcnN0IHRvIGdldCB0aGUgZHJvcCBzaGFkb3dzIHVuZGVybmVhdGggbm9ybWFsXG4gICAgICAgIC8vIHRleHQsIGJ1dCBpbnN0ZWFkIGRyYXdpbmcgdGV4dCBpbiB0aGUgY29ycmVjdCBsb2NhdGlvbiwgd2UnbGwgZHJhdyBpdCBvZmYgc2NyZWVuICgtcGFkZGluZ1kpLCBhbmQgdGhlbiBhZGp1c3QgdGhlXG4gICAgICAgIC8vIGRyb3Agc2hhZG93IHNvIG9ubHkgdGhhdCBhcHBlYXJzIG9uIHNjcmVlbiAoK3BhZGRpbmdZKS4gTm93IHdlJ2xsIGhhdmUgdGhlIGNvcnJlY3QgZHJhdyBvcmRlciBvZiB0aGUgc2hhZG93XG4gICAgICAgIC8vIGJlbmVhdGggdGhlIHRleHQsIHdoaWxzdCBhbHNvIGhhdmluZyB0aGUgcHJvcGVyIHRleHQgc2hhZG93IHN0eWxpbmcuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFzc2VzQ291bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIGlzU2hhZG93UGFzcyA9IHN0eWxlLmRyb3BTaGFkb3cgJiYgaSA9PT0gMDtcbiAgICAgICAgICAgIHZhciBkc09mZnNldFRleHQgPSBpc1NoYWRvd1Bhc3MgPyBoZWlnaHQgKiAyIDogMDsgLy8gd2Ugb25seSB3YW50IHRoZSBkcm9wIHNoYWRvdywgc28gcHV0IHRleHQgd2F5IG9mZi1zY3JlZW5cbiAgICAgICAgICAgIHZhciBkc09mZnNldFNoYWRvdyA9IGRzT2Zmc2V0VGV4dCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGlmIChpc1NoYWRvd1Bhc3MpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBTYWZhcmksIHRleHQgd2l0aCBncmFkaWVudCBhbmQgZHJvcCBzaGFkb3dzIHRvZ2V0aGVyIGRvIG5vdCBwb3NpdGlvbiBjb3JyZWN0bHlcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc2NhbGUgb2YgdGhlIGNhbnZhcyBpcyBub3QgMTogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE5NzY4OVxuICAgICAgICAgICAgICAgIC8vIFRoZXJlZm9yZSB3ZSdsbCBzZXQgdGhlIHN0eWxlcyB0byBiZSBhIHBsYWluIGJsYWNrIHdoaWxzdCBnZW5lcmF0aW5nIHRoaXMgZHJvcCBzaGFkb3dcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICdibGFjayc7XG4gICAgICAgICAgICAgICAgdmFyIGRyb3BTaGFkb3dDb2xvciA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgICAgICAgICB2YXIgcmdiID0gaGV4MnJnYih0eXBlb2YgZHJvcFNoYWRvd0NvbG9yID09PSAnbnVtYmVyJyA/IGRyb3BTaGFkb3dDb2xvciA6IHN0cmluZzJoZXgoZHJvcFNoYWRvd0NvbG9yKSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IFwicmdiYShcIiArIHJnYlswXSAqIDI1NSArIFwiLFwiICsgcmdiWzFdICogMjU1ICsgXCIsXCIgKyByZ2JbMl0gKiAyNTUgKyBcIixcIiArIHN0eWxlLmRyb3BTaGFkb3dBbHBoYSArIFwiKVwiO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IHN0eWxlLmRyb3BTaGFkb3dCbHVyO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IE1hdGguY29zKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gKE1hdGguc2luKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UpICsgZHNPZmZzZXRTaGFkb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9nZW5lcmF0ZUZpbGxTdHlsZShzdHlsZSwgbGluZXMsIG1lYXN1cmVkKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIG51bWJlciB0eXBlIGFzXG4gICAgICAgICAgICAgICAgLy8gICAgICAgdGhlIHNldHRlciBjb252ZXJ0cyB0byBzdHJpbmcuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgICAgICAgICAgICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2U7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9ICcwJztcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRyYXcgbGluZXMgbGluZSBieSBsaW5lXG4gICAgICAgICAgICBmb3IgKHZhciBpXzEgPSAwOyBpXzEgPCBsaW5lcy5sZW5ndGg7IGlfMSsrKSB7XG4gICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDI7XG4gICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWSA9ICgoc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMikgKyAoaV8xICogbGluZUhlaWdodCkpICsgZm9udFByb3BlcnRpZXMuYXNjZW50O1xuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5hbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV8xXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc3R5bGUuYWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV8xXSkgLyAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0eWxlLnN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKGxpbmVzW2lfMV0sIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLCBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZyAtIGRzT2Zmc2V0VGV4dCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5maWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbaV8xXSwgbGluZVBvc2l0aW9uWCArIHN0eWxlLnBhZGRpbmcsIGxpbmVQb3NpdGlvblkgKyBzdHlsZS5wYWRkaW5nIC0gZHNPZmZzZXRUZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIHRleHQgd2l0aCBsZXR0ZXItc3BhY2luZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSB0ZXh0IHRvIGRyYXdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIEhvcml6b250YWwgcG9zaXRpb24gdG8gZHJhdyB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVmVydGljYWwgcG9zaXRpb24gdG8gZHJhdyB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3Ryb2tlPWZhbHNlXSAtIElzIHRoaXMgZHJhd2luZyBmb3IgdGhlIG91dHNpZGUgc3Ryb2tlIG9mIHRoZVxuICAgICAqICB0ZXh0PyBJZiBub3QsIGl0J3MgZm9yIHRoZSBpbnNpZGUgZmlsbFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZHJhd0xldHRlclNwYWNpbmcgPSBmdW5jdGlvbiAodGV4dCwgeCwgeSwgaXNTdHJva2UpIHtcbiAgICAgICAgaWYgKGlzU3Ryb2tlID09PSB2b2lkIDApIHsgaXNTdHJva2UgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcbiAgICAgICAgLy8gbGV0dGVyU3BhY2luZyBvZiAwIG1lYW5zIG5vcm1hbFxuICAgICAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmc7XG4gICAgICAgIGlmIChsZXR0ZXJTcGFjaW5nID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoaXNTdHJva2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlVGV4dCh0ZXh0LCB4LCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0ZXh0LCB4LCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudFBvc2l0aW9uID0geDtcbiAgICAgICAgLy8gVXNpbmcgQXJyYXkuZnJvbSBjb3JyZWN0bHkgc3BsaXRzIGNoYXJhY3RlcnMgd2hpbHN0IGtlZXBpbmcgZW1vamkgdG9nZXRoZXIuXG4gICAgICAgIC8vIFRoaXMgaXMgbm90IHN1cHBvcnRlZCBvbiBJRSBhcyBpdCByZXF1aXJlcyBFUzYsIHNvIHJlZ3VsYXIgdGV4dCBzcGxpdHRpbmcgb2NjdXJzLlxuICAgICAgICAvLyBUaGlzIGFsc28gZG9lc24ndCBhY2NvdW50IGZvciBlbW9qaSB0aGF0IGFyZSBtdWx0aXBsZSBlbW9qaSBwdXQgdG9nZXRoZXIgdG8gbWFrZSBzb21ldGhpbmcgZWxzZS5cbiAgICAgICAgLy8gSGFuZGxpbmcgYWxsIG9mIHRoaXMgd291bGQgcmVxdWlyZSBhIGJpZyBsaWJyYXJ5IGl0c2VsZi5cbiAgICAgICAgLy8gaHR0cHM6Ly9tZWRpdW0uY29tL0BnaWx0YXlhci9pdGVyYXRpbmctb3Zlci1lbW9qaS1jaGFyYWN0ZXJzLXRoZS1lczYtd2F5LWYwNmU0NTg5NTE2XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9vcmxpbmcvZ3JhcGhlbWUtc3BsaXR0ZXJcbiAgICAgICAgdmFyIHN0cmluZ0FycmF5ID0gQXJyYXkuZnJvbSA/IEFycmF5LmZyb20odGV4dCkgOiB0ZXh0LnNwbGl0KCcnKTtcbiAgICAgICAgdmFyIHByZXZpb3VzV2lkdGggPSB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGV4dCkud2lkdGg7XG4gICAgICAgIHZhciBjdXJyZW50V2lkdGggPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZ0FycmF5Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudENoYXIgPSBzdHJpbmdBcnJheVtpXTtcbiAgICAgICAgICAgIGlmIChpc1N0cm9rZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KGN1cnJlbnRDaGFyLCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KGN1cnJlbnRDaGFyLCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFdpZHRoID0gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQuc3Vic3RyaW5nKGkgKyAxKSkud2lkdGg7XG4gICAgICAgICAgICBjdXJyZW50UG9zaXRpb24gKz0gcHJldmlvdXNXaWR0aCAtIGN1cnJlbnRXaWR0aCArIGxldHRlclNwYWNpbmc7XG4gICAgICAgICAgICBwcmV2aW91c1dpZHRoID0gY3VycmVudFdpZHRoO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRleHR1cmUgc2l6ZSBiYXNlZCBvbiBjYW52YXMgc2l6ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5jYW52YXM7XG4gICAgICAgIGlmICh0aGlzLl9zdHlsZS50cmltKSB7XG4gICAgICAgICAgICB2YXIgdHJpbW1lZCA9IHRyaW1DYW52YXMoY2FudmFzKTtcbiAgICAgICAgICAgIGlmICh0cmltbWVkLmRhdGEpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSB0cmltbWVkLndpZHRoO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0cmltbWVkLmhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRyaW1tZWQuZGF0YSwgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSBzdHlsZS50cmltID8gMCA6IHN0eWxlLnBhZGRpbmc7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIHRleHR1cmUudHJpbS53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoID0gTWF0aC5jZWlsKGNhbnZhcy53aWR0aCAvIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICB0ZXh0dXJlLnRyaW0uaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ID0gTWF0aC5jZWlsKGNhbnZhcy5oZWlnaHQgLyB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGV4dHVyZS50cmltLnggPSAtcGFkZGluZztcbiAgICAgICAgdGV4dHVyZS50cmltLnkgPSAtcGFkZGluZztcbiAgICAgICAgdGV4dHVyZS5vcmlnLndpZHRoID0gdGV4dHVyZS5fZnJhbWUud2lkdGggLSAocGFkZGluZyAqIDIpO1xuICAgICAgICB0ZXh0dXJlLm9yaWcuaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0IC0gKHBhZGRpbmcgKiAyKTtcbiAgICAgICAgLy8gY2FsbCBzcHJpdGUgb25UZXh0dXJlVXBkYXRlIHRvIHVwZGF0ZSBzY2FsZSBpZiBfd2lkdGggb3IgX2hlaWdodCB3ZXJlIHNldFxuICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcbiAgICAgICAgYmFzZVRleHR1cmUuc2V0UmVhbFNpemUoY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0LCB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgdXBkYXRlcyB0cmFuc2Zvcm0gb2YgYWxsIG9iamVjdHMgZnJvbSB0aGUgcm9vdCB0byB0aGlzIG9uZVxuICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5fYXV0b1Jlc29sdXRpb24gJiYgdGhpcy5fcmVzb2x1dGlvbiAhPT0gcmVuZGVyZXIucmVzb2x1dGlvbikge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgdGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIFRleHQgYXMgYSByZWN0YW5nbGUuIFRoZSBib3VuZHMgY2FsY3VsYXRpb24gdGFrZXMgdGhlIHdvcmxkVHJhbnNmb3JtIGludG8gYWNjb3VudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYWxyZWFkeSBkb25lIHRoaXMgb24gVEhJUyBmcmFtZS5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB0aGUgZmlsbCBzdHlsZS4gQ2FuIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgYSBncmFkaWVudCBiYXNlZCBvbiB0aGUgZmlsbCBzdHlsZSBiZWluZyBhbiBhcnJheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gbGluZXMgLSBUaGUgbGluZXMgb2YgdGV4dC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8bnVtYmVyfENhbnZhc0dyYWRpZW50fSBUaGUgZmlsbCBzdHlsZVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLl9nZW5lcmF0ZUZpbGxTdHlsZSA9IGZ1bmN0aW9uIChzdHlsZSwgbGluZXMsIG1ldHJpY3MpIHtcbiAgICAgICAgLy8gVE9ETzogQ2FuJ3QgaGF2ZSBkaWZmZXJlbnQgdHlwZXMgZm9yIGdldHRlciBhbmQgc2V0dGVyLiBUaGUgZ2V0dGVyIHNob3VsZG4ndCBoYXZlIHRoZSBudW1iZXIgdHlwZSBhc1xuICAgICAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgICAgICB2YXIgZmlsbFN0eWxlID0gc3R5bGUuZmlsbDtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGZpbGxTdHlsZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWxsU3R5bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmlsbFN0eWxlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbGxTdHlsZVswXTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGUgZ3JhZGllbnQgd2lsbCBiZSBldmVubHkgc3BhY2VkIG91dCBhY2NvcmRpbmcgdG8gaG93IGxhcmdlIHRoZSBhcnJheSBpcy5cbiAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIHdvdWxkIGNyZWF0ZWQgc3RvcHMgYXQgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIHZhciBncmFkaWVudDtcbiAgICAgICAgLy8gYSBkcm9wc2hhZG93IHdpbGwgZW5sYXJnZSB0aGUgY2FudmFzIGFuZCByZXN1bHQgaW4gdGhlIGdyYWRpZW50IGJlaW5nXG4gICAgICAgIC8vIGdlbmVyYXRlZCB3aXRoIHRoZSBpbmNvcnJlY3QgZGltZW5zaW9uc1xuICAgICAgICB2YXIgZHJvcFNoYWRvd0NvcnJlY3Rpb24gPSAoc3R5bGUuZHJvcFNoYWRvdykgPyBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UgOiAwO1xuICAgICAgICAvLyBzaG91bGQgYWxzbyB0YWtlIHBhZGRpbmcgaW50byBhY2NvdW50LCBwYWRkaW5nIGNhbiBvZmZzZXQgdGhlIGdyYWRpZW50XG4gICAgICAgIHZhciBwYWRkaW5nID0gc3R5bGUucGFkZGluZyB8fCAwO1xuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLmNlaWwodGhpcy5jYW52YXMud2lkdGggLyB0aGlzLl9yZXNvbHV0aW9uKSAtIGRyb3BTaGFkb3dDb3JyZWN0aW9uIC0gKHBhZGRpbmcgKiAyKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLl9yZXNvbHV0aW9uKSAtIGRyb3BTaGFkb3dDb3JyZWN0aW9uIC0gKHBhZGRpbmcgKiAyKTtcbiAgICAgICAgLy8gbWFrZSBhIGNvcHkgb2YgdGhlIHN0eWxlIHNldHRpbmdzLCBzbyB3ZSBjYW4gbWFuaXB1bGF0ZSB0aGVtIGxhdGVyXG4gICAgICAgIHZhciBmaWxsID0gZmlsbFN0eWxlLnNsaWNlKCk7XG4gICAgICAgIHZhciBmaWxsR3JhZGllbnRTdG9wcyA9IHN0eWxlLmZpbGxHcmFkaWVudFN0b3BzLnNsaWNlKCk7XG4gICAgICAgIC8vIHdhbnRpbmcgdG8gZXZlbmx5IGRpc3RyaWJ1dGUgdGhlIGZpbGxzLiBTbyBhbiBhcnJheSBvZiA0IGNvbG91cnMgc2hvdWxkIGdpdmUgZmlsbHMgb2YgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIGlmICghZmlsbEdyYWRpZW50U3RvcHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoUGx1czEgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aFBsdXMxOyArK2kpIHtcbiAgICAgICAgICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKGkgLyBsZW5ndGhQbHVzMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3RvcCB0aGUgYmxlZWRpbmcgb2YgdGhlIGxhc3QgZ3JhZGllbnQgb24gdGhlIGxpbmUgYWJvdmUgdG8gdGhlIHRvcCBncmFkaWVudCBvZiB0aGUgdGhpcyBsaW5lXG4gICAgICAgIC8vIGJ5IGhhcmQgZGVmaW5pbmcgdGhlIGZpcnN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAwLCBhbmQgbGFzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMVxuICAgICAgICBmaWxsLnVuc2hpZnQoZmlsbFN0eWxlWzBdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMudW5zaGlmdCgwKTtcbiAgICAgICAgZmlsbC5wdXNoKGZpbGxTdHlsZVtmaWxsU3R5bGUubGVuZ3RoIC0gMV0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKDEpO1xuICAgICAgICBpZiAoc3R5bGUuZmlsbEdyYWRpZW50VHlwZSA9PT0gVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwpIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgdG9wIGNlbnRlciBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBib3R0b20gbWlkZGxlIG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHdpZHRoIC8gMiwgcGFkZGluZywgd2lkdGggLyAyLCBoZWlnaHQgKyBwYWRkaW5nKTtcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gcmVwZWF0IHRoZSBncmFkaWVudCBzbyB0aGF0IGVhY2ggaW5kaXZpZHVhbCBsaW5lIG9mIHRleHQgaGFzIHRoZSBzYW1lIHZlcnRpY2FsIGdyYWRpZW50IGVmZmVjdFxuICAgICAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIG92ZXIgMiBsaW5lcyB3b3VsZCBjcmVhdGUgc3RvcHMgYXQgMC4xMjUsIDAuMjUsIDAuMzc1LCAwLjYyNSwgMC43NSwgMC44NzVcbiAgICAgICAgICAgIC8vIFRoZXJlJ3MgcG90ZW50aWFsIGZvciBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24gaXNzdWVzIGF0IHRoZSBzZWFtcyBiZXR3ZWVuIGdyYWRpZW50IHJlcGVhdHMuXG4gICAgICAgICAgICAvLyBUaGUgbG9vcCBiZWxvdyBnZW5lcmF0ZXMgdGhlIHN0b3BzIGluIG9yZGVyLCBzbyB0cmFjayB0aGUgbGFzdCBnZW5lcmF0ZWQgb25lIHRvIHByZXZlbnRcbiAgICAgICAgICAgIC8vIGZsb2F0aW5nIHBvaW50IHByZWNpc2lvbiBmcm9tIG1ha2luZyB1cyBnbyB0aGUgdGVlbmllc3QgYml0IGJhY2t3YXJkcywgcmVzdWx0aW5nIGluXG4gICAgICAgICAgICAvLyB0aGUgZmlyc3QgYW5kIGxhc3QgY29sb3JzIGdldHRpbmcgc3dhcHBlZC5cbiAgICAgICAgICAgIHZhciBsYXN0SXRlcmF0aW9uU3RvcCA9IDA7XG4gICAgICAgICAgICAvLyBBY3R1YWwgaGVpZ2h0IG9mIHRoZSB0ZXh0IGl0c2VsZiwgbm90IGNvdW50aW5nIHNwYWNpbmcgZm9yIGxpbmVIZWlnaHQvbGVhZGluZy9kcm9wU2hhZG93IGV0Y1xuICAgICAgICAgICAgdmFyIHRleHRIZWlnaHQgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICAgICAgLy8gdGV4dEhlaWdodCwgYnV0IGFzIGEgMC0xIHNpemUgaW4gZ2xvYmFsIGdyYWRpZW50IHN0b3Agc3BhY2VcbiAgICAgICAgICAgIHZhciBncmFkU3RvcExpbmVIZWlnaHQgPSB0ZXh0SGVpZ2h0IC8gaGVpZ2h0O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciB0aGlzTGluZVRvcCA9IG1ldHJpY3MubGluZUhlaWdodCAqIGk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmaWxsLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIDAtMSBzdG9wIHBvaW50IGZvciB0aGUgY3VycmVudCBsaW5lLCBtdWx0aXBsaWVkIHRvIGdsb2JhbCBzcGFjZSBhZnRlcndhcmRzXG4gICAgICAgICAgICAgICAgICAgIHZhciBsaW5lU3RvcCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbal0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2pdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVN0b3AgPSBqIC8gZmlsbC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGdsb2JhbFN0b3AgPSAodGhpc0xpbmVUb3AgLyBoZWlnaHQpICsgKGxpbmVTdG9wICogZ3JhZFN0b3BMaW5lSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCBjb2xvciBzdG9wIGdlbmVyYXRpb24gZ29pbmcgYmFja3dhcmRzIGZyb20gZmxvYXRpbmcgcG9pbnQgaW1wcmVjaXNpb25cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsYW1wZWRTdG9wID0gTWF0aC5tYXgobGFzdEl0ZXJhdGlvblN0b3AsIGdsb2JhbFN0b3ApO1xuICAgICAgICAgICAgICAgICAgICBjbGFtcGVkU3RvcCA9IE1hdGgubWluKGNsYW1wZWRTdG9wLCAxKTsgLy8gQ2FwIGF0IDEgYXMgd2VsbCBmb3Igc2FmZXR5J3Mgc2FrZSB0byBhdm9pZCBhIHBvc3NpYmxlIHRocm93LlxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoY2xhbXBlZFN0b3AsIGZpbGxbal0pO1xuICAgICAgICAgICAgICAgICAgICBsYXN0SXRlcmF0aW9uU3RvcCA9IGNsYW1wZWRTdG9wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgY2VudGVyIGxlZnQgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgY2VudGVyIHJpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHBhZGRpbmcsIGhlaWdodCAvIDIsIHdpZHRoICsgcGFkZGluZywgaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAvLyBjYW4ganVzdCBldmVubHkgc3BhY2Ugb3V0IHRoZSBncmFkaWVudHMgaW4gdGhpcyBjYXNlLCBhcyBtdWx0aXBsZSBsaW5lcyBtYWtlcyBubyBkaWZmZXJlbmNlXG4gICAgICAgICAgICAvLyB0byBhbiBldmVuIGxlZnQgdG8gcmlnaHQgZ3JhZGllbnRcbiAgICAgICAgICAgIHZhciB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgICAgICB2YXIgY3VycmVudEl0ZXJhdGlvbiA9IDE7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RvcCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2ldID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKHN0b3AsIGZpbGxbaV0pO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ3JhZGllbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHQgb2JqZWN0LlxuICAgICAqIE5vdGUqIFVubGlrZSBhIFNwcml0ZSwgYSBUZXh0IG9iamVjdCB3aWxsIGF1dG9tYXRpY2FsbHkgZGVzdHJveSBpdHMgYmFzZVRleHR1cmUgYW5kIHRleHR1cmUgYXNcbiAgICAgKiB0aGUgbWFqb3JpdHkgb2YgdGhlIHRpbWUgdGhlIHRleHR1cmUgd2lsbCBub3QgYmUgc2hhcmVkIHdpdGggYW55IG90aGVyIFNwcml0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyXG4gICAgICogIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPXRydWVdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPXRydWVdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IGNoaWxkcmVuOiBvcHRpb25zIH07XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHREZXN0cm95T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAvLyBzZXQgY2FudmFzIHdpZHRoIGFuZCBoZWlnaHQgdG8gMCB0byB3b3JrYXJvdW5kIG1lbW9yeSBsZWFrIGluIFNhZmFyaSA8IDEzXG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzUyNTMyNjE0L3RvdGFsLWNhbnZhcy1tZW1vcnktdXNlLWV4Y2VlZHMtdGhlLW1heGltdW0tbGltaXQtc2FmYXJpLTEyXG4gICAgICAgIGlmICh0aGlzLl9vd25DYW52YXMpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuY2FudmFzLndpZHRoID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBtYWtlIHN1cmUgdG8gcmVzZXQgdGhlIHRoZSBjb250ZXh0IGFuZCBjYW52YXMuLiBkb250IHdhbnQgdGhpcyBoYW5naW5nIGFyb3VuZCBpbiBtZW1vcnkhXG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHQucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgICAgIHZhciBzID0gc2lnbih0aGlzLnNjYWxlLngpIHx8IDE7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHQucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUZXh0LCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgICAgIHZhciBzID0gc2lnbih0aGlzLnNjYWxlLnkpIHx8IDE7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dC5wcm90b3R5cGUsIFwic3R5bGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBzdHlsZSBvZiB0aGUgdGV4dC4gU2V0IHVwIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGxpc3RlbiBmb3IgY2hhbmdlcyBvbiB0aGUgc3R5bGVcbiAgICAgICAgICogb2JqZWN0IGFuZCBtYXJrIHRoZSB0ZXh0IGFzIGRpcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgSVRleHRTdHlsZVxuICAgICAgICAgICAgLy8gICAgICAgc2luY2UgdGhlIHNldHRlciBjcmVhdGVzIHRoZSBUZXh0U3R5bGUuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgICAgICAgICAgLy8gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNTIxXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHN0eWxlKSB7XG4gICAgICAgICAgICBzdHlsZSA9IHN0eWxlIHx8IHt9O1xuICAgICAgICAgICAgaWYgKHN0eWxlIGluc3RhbmNlb2YgVGV4dFN0eWxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gbmV3IFRleHRTdHlsZShzdHlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dC5wcm90b3R5cGUsIFwidGV4dFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIGNvcHkgZm9yIHRoZSB0ZXh0IG9iamVjdC4gVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJycgOiB0ZXh0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB0ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0LnByb3RvdHlwZSwgXCJyZXNvbHV0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXMuXG4gICAgICAgICAqIFRoaXMgaXMgc2V0IHRvIGF1dG9tYXRpY2FsbHkgbWF0Y2ggdGhlIHJlbmRlcmVyIHJlc29sdXRpb24gYnkgZGVmYXVsdCwgYnV0IGNhbiBiZSBvdmVycmlkZGVuIGJ5IHNldHRpbmcgbWFudWFsbHkuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzb2x1dGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2F1dG9SZXNvbHV0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmVzb2x1dGlvbiA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHV0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBUZXh0O1xufShTcHJpdGUpKTtcblxuZXhwb3J0IHsgVEVYVF9HUkFESUVOVCwgVGV4dCwgVGV4dE1ldHJpY3MsIFRleHRTdHlsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvc3ByaXRlIC0gdjUuMy4zXG4gKiBDb21waWxlZCBUdWUsIDA0IEF1ZyAyMDIwIDE2OjIzOjA5IFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgUG9pbnQsIE9ic2VydmFibGVQb2ludCwgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IHNpZ24gfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG52YXIgaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheShbMCwgMSwgMiwgMCwgMiwgM10pO1xuLyoqXG4gKiBUaGUgU3ByaXRlIG9iamVjdCBpcyB0aGUgYmFzZSBmb3IgYWxsIHRleHR1cmVkIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgdG8gdGhlIHNjcmVlblxuKlxuICogQSBzcHJpdGUgY2FuIGJlIGNyZWF0ZWQgZGlyZWN0bHkgZnJvbSBhbiBpbWFnZSBsaWtlIHRoaXM6XG4gKlxuICogYGBganNcbiAqIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKCdhc3NldHMvaW1hZ2UucG5nJyk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgbW9yZSBlZmZpY2llbnQgd2F5IHRvIGNyZWF0ZSBzcHJpdGVzIGlzIHVzaW5nIGEge0BsaW5rIFBJWEkuU3ByaXRlc2hlZXR9LFxuICogYXMgc3dhcHBpbmcgYmFzZSB0ZXh0dXJlcyB3aGVuIHJlbmRlcmluZyB0byB0aGUgc2NyZWVuIGlzIGluZWZmaWNpZW50LlxuICpcbiAqIGBgYGpzXG4gKiBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKFwiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIikubG9hZChzZXR1cCk7XG4gKlxuICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gKiAgIGxldCBzaGVldCA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbXCJhc3NldHMvc3ByaXRlc2hlZXQuanNvblwiXS5zcHJpdGVzaGVldDtcbiAqICAgbGV0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZShzaGVldC50ZXh0dXJlc1tcImltYWdlLnBuZ1wiXSk7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNwcml0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3ByaXRlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbdGV4dHVyZV0gLSBUaGUgdGV4dHVyZSBmb3IgdGhpcyBzcHJpdGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3ByaXRlKHRleHR1cmUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmNob3IgcG9pbnQgZGVmaW5lcyB0aGUgbm9ybWFsaXplZCBjb29yZGluYXRlc1xuICAgICAgICAgKiBpbiB0aGUgdGV4dHVyZSB0aGF0IG1hcCB0byB0aGUgcG9zaXRpb24gb2YgdGhpc1xuICAgICAgICAgKiBzcHJpdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEJ5IGRlZmF1bHQsIHRoaXMgaXMgYCgwLDApYCAob3IgYHRleHR1cmUuZGVmYXVsdEFuY2hvcmBcbiAgICAgICAgICogaWYgeW91IGhhdmUgbW9kaWZpZWQgdGhhdCksIHdoaWNoIG1lYW5zIHRoZSBwb3NpdGlvblxuICAgICAgICAgKiBgKHgseSlgIG9mIHRoaXMgYFNwcml0ZWAgd2lsbCBiZSB0aGUgdG9wLWxlZnQgY29ybmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlOiBVcGRhdGluZyBgdGV4dHVyZS5kZWZhdWx0QW5jaG9yYCBhZnRlclxuICAgICAgICAgKiBjb25zdHJ1Y3RpbmcgYSBgU3ByaXRlYCBkb2VzIF9ub3RfIHVwZGF0ZSBpdHMgYW5jaG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kb2NzLmNvY29zMmQteC5vcmcvY29jb3MyZC14L2VuL3Nwcml0ZXMvbWFuaXB1bGF0aW9uLmh0bWx9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IGB0ZXh0dXJlLmRlZmF1bHRBbmNob3JgXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FuY2hvciA9IG5ldyBPYnNlcnZhYmxlUG9pbnQoX3RoaXMuX29uQW5jaG9yVXBkYXRlLCBfdGhpcywgKHRleHR1cmUgPyB0ZXh0dXJlLmRlZmF1bHRBbmNob3IueCA6IDApLCAodGV4dHVyZSA/IHRleHR1cmUuZGVmYXVsdEFuY2hvci55IDogMCkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgc3ByaXRlIGlzIHVzaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlICh0aGlzIGlzIGluaXRpYWxseSBzZXQgYnkgdGhlIHRleHR1cmUpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3dpZHRoID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RpbnQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBUaGlzIGlzIGEgUkdCIHZhbHVlLiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxNjc3NzIxNVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RpbnRSR0IgPSBudWxsO1xuICAgICAgICBfdGhpcy50aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlZCB0aW50IHZhbHVlIHNvIHdlIGNhbiB0ZWxsIHdoZW4gdGhlIHRpbnQgaXMgY2hhbmdlZC5cbiAgICAgICAgICogVmFsdWUgaXMgdXNlZCBmb3IgMmQgQ2FudmFzUmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoaXMgaXMgdXNlZCB0byBzdG9yZSB0aGUgdXZzIGRhdGEgb2YgdGhlIHNwcml0ZSwgYXNzaWduZWQgYXQgdGhlIHNhbWUgdGltZVxuICAgICAgICAgKiBhcyB0aGUgdmVydGV4RGF0YSBpbiBjYWxjdWxhdGVWZXJ0aWNlcygpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2cyA9IG51bGw7XG4gICAgICAgIC8vIGNhbGwgdGV4dHVyZSBzZXR0ZXJcbiAgICAgICAgX3RoaXMudGV4dHVyZSA9IHRleHR1cmUgfHwgVGV4dHVyZS5FTVBUWTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoaXMgaXMgdXNlZCB0byBzdG9yZSB0aGUgdmVydGV4IGRhdGEgb2YgdGhlIHNwcml0ZSAoYmFzaWNhbGx5IGEgcXVhZClcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdCBJRiBpdCBpcyBhIHRyaW1tZWQgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleFRyaW1tZWREYXRhID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIF90aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgX3RoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICBfdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICAvLyBCYXRjaGFibGUgc3R1ZmYuLlxuICAgICAgICAvLyBUT0RPIGNvdWxkIG1ha2UgdGhpcyBhIG1peGluP1xuICAgICAgICBfdGhpcy5pbmRpY2VzID0gaW5kaWNlcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXInICYgJ19yZW5kZXJDYW52YXMnIG1ldGhvZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2JhdGNoJ1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9ICdiYXRjaCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1c2VkIHRvIGZhc3QgY2hlY2sgaWYgYSBzcHJpdGUgaXMuLiBhIHNwcml0ZSFcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmlzU3ByaXRlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHJvdW5kUGl4ZWxzIGZpZWxkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcm91bmRQaXhlbHMgPSBzZXR0aW5ncy5ST1VORF9QSVhFTFM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgdGV4dHVyZSBpcyB1cGRhdGVkLCB0aGlzIGV2ZW50IHdpbGwgZmlyZSB0byB1cGRhdGUgdGhlIHNjYWxlIGFuZCBmcmFtZVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgICAgICAvLyBzbyBpZiBfd2lkdGggaXMgMCB0aGVuIHdpZHRoIHdhcyBub3Qgc2V0Li5cbiAgICAgICAgaWYgKHRoaXMuX3dpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSBzaWduKHRoaXMuc2NhbGUueCkgKiB0aGlzLl93aWR0aCAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSBzaWduKHRoaXMuc2NhbGUueSkgKiB0aGlzLl9oZWlnaHQgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYW5jaG9yIHBvc2l0aW9uIHVwZGF0ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuX29uQW5jaG9yVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZXMgd29ybGRUcmFuc2Zvcm0gKiB2ZXJ0aWNlcywgc3RvcmUgaXQgaW4gdmVydGV4RGF0YVxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybUlEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlSUQgPT09IHRleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXBkYXRlIHRleHR1cmUgVVYgaGVyZSwgYmVjYXVzZSBiYXNlIHRleHR1cmUgY2FuIGJlIGNoYW5nZWQgd2l0aG91dCBjYWxsaW5nIGBfb25UZXh0dXJlVXBkYXRlYFxuICAgICAgICBpZiAodGhpcy5fdGV4dHVyZUlEICE9PSB0ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgdGhpcy51dnMgPSB0aGlzLl90ZXh0dXJlLl91dnMudXZzRmxvYXQzMjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0ZXh0dXJlLl91cGRhdGVJRDtcbiAgICAgICAgLy8gc2V0IHRoZSB2ZXJ0ZXggZGF0YVxuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuICAgICAgICB2YXIgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG4gICAgICAgIHZhciB3MCA9IDA7XG4gICAgICAgIHZhciB3MSA9IDA7XG4gICAgICAgIHZhciBoMCA9IDA7XG4gICAgICAgIHZhciBoMSA9IDA7XG4gICAgICAgIGlmICh0cmltKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWQgYW5kIGlzIG5vdCBhIHRpbGluZ3Nwcml0ZSB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZSBleHRyYVxuICAgICAgICAgICAgLy8gc3BhY2UgYmVmb3JlIHRyYW5zZm9ybWluZyB0aGUgc3ByaXRlIGNvb3Jkcy5cbiAgICAgICAgICAgIHcxID0gdHJpbS54IC0gKGFuY2hvci5feCAqIG9yaWcud2lkdGgpO1xuICAgICAgICAgICAgdzAgPSB3MSArIHRyaW0ud2lkdGg7XG4gICAgICAgICAgICBoMSA9IHRyaW0ueSAtIChhbmNob3IuX3kgKiBvcmlnLmhlaWdodCk7XG4gICAgICAgICAgICBoMCA9IGgxICsgdHJpbS5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3MSA9IC1hbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgICAgICAgdzAgPSB3MSArIG9yaWcud2lkdGg7XG4gICAgICAgICAgICBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgICAgIGgwID0gaDEgKyBvcmlnLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzBdID0gKGEgKiB3MSkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzFdID0gKGQgKiBoMSkgKyAoYiAqIHcxKSArIHR5O1xuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gKGEgKiB3MCkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzNdID0gKGQgKiBoMSkgKyAoYiAqIHcwKSArIHR5O1xuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzRdID0gKGEgKiB3MCkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzVdID0gKGQgKiBoMCkgKyAoYiAqIHcwKSArIHR5O1xuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzZdID0gKGEgKiB3MSkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzddID0gKGQgKiBoMCkgKyAoYiAqIHcxKSArIHR5O1xuICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGV4RGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZlcnRleERhdGFbaV0gPSBNYXRoLnJvdW5kKCh2ZXJ0ZXhEYXRhW2ldICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZXMgd29ybGRUcmFuc2Zvcm0gKiB2ZXJ0aWNlcyBmb3IgYSBub24gdGV4dHVyZSB3aXRoIGEgdHJpbS4gc3RvcmUgaXQgaW4gdmVydGV4VHJpbW1lZERhdGFcbiAgICAgKiBUaGlzIGlzIHVzZWQgdG8gZW5zdXJlIHRoYXQgdGhlIHRydWUgd2lkdGggYW5kIGhlaWdodCBvZiBhIHRyaW1tZWQgdGV4dHVyZSBpcyByZXNwZWN0ZWRcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZlcnRleFRyaW1tZWREYXRhKSB7XG4gICAgICAgICAgICB0aGlzLnZlcnRleFRyaW1tZWREYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEICYmIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPT09IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRDtcbiAgICAgICAgLy8gbGV0cyBkbyBzb21lIHNwZWNpYWwgdHJpbSBjb2RlIVxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG4gICAgICAgIC8vIGxldHMgY2FsY3VsYXRlIHRoZSBuZXcgdW50cmltbWVkIGJvdW5kcy4uXG4gICAgICAgIHZhciB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IHd0LmE7XG4gICAgICAgIHZhciBiID0gd3QuYjtcbiAgICAgICAgdmFyIGMgPSB3dC5jO1xuICAgICAgICB2YXIgZCA9IHd0LmQ7XG4gICAgICAgIHZhciB0eCA9IHd0LnR4O1xuICAgICAgICB2YXIgdHkgPSB3dC50eTtcbiAgICAgICAgdmFyIHcxID0gLWFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICAgIHZhciB3MCA9IHcxICsgb3JpZy53aWR0aDtcbiAgICAgICAgdmFyIGgxID0gLWFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgICB2YXIgaDAgPSBoMSArIG9yaWcuaGVpZ2h0O1xuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzBdID0gKGEgKiB3MSkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzFdID0gKGQgKiBoMSkgKyAoYiAqIHcxKSArIHR5O1xuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gKGEgKiB3MCkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzNdID0gKGQgKiBoMSkgKyAoYiAqIHcwKSArIHR5O1xuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzRdID0gKGEgKiB3MCkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzVdID0gKGQgKiBoMCkgKyAoYiAqIHcwKSArIHR5O1xuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzZdID0gKGEgKiB3MSkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzddID0gKGQgKiBoMCkgKyAoYiAqIHcxKSArIHR5O1xuICAgIH07XG4gICAgLyoqXG4gICAgKlxuICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICpcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgd2ViZ2wgcmVuZGVyZXIgdG8gdXNlLlxuICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgc3ByaXRlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRyaW0gPSB0aGlzLl90ZXh0dXJlLnRyaW07XG4gICAgICAgIHZhciBvcmlnID0gdGhpcy5fdGV4dHVyZS5vcmlnO1xuICAgICAgICAvLyBGaXJzdCBsZXRzIGNoZWNrIHRvIHNlZSBpZiB0aGUgY3VycmVudCB0ZXh0dXJlIGhhcyBhIHRyaW0uLlxuICAgICAgICBpZiAoIXRyaW0gfHwgKHRyaW0ud2lkdGggPT09IG9yaWcud2lkdGggJiYgdHJpbS5oZWlnaHQgPT09IG9yaWcuaGVpZ2h0KSkge1xuICAgICAgICAgICAgLy8gbm8gdHJpbSEgbGV0cyB1c2UgdGhlIHVzdWFsIGNhbGN1bGF0aW9ucy4uXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleERhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbGV0cyBjYWxjdWxhdGUgYSBzcGVjaWFsIHRyaW1tZWQgYm91bmRzLi4uXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcygpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICAvLyB3ZSBjYW4gZG8gYSBmYXN0IGxvY2FsIGJvdW5kcyBpZiB0aGUgc3ByaXRlIGhhcyBubyBjaGlsZHJlbiFcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WSA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG4gICAgICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBzcHJpdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgdmFyIHgxID0gLXdpZHRoICogdGhpcy5hbmNob3IueDtcbiAgICAgICAgdmFyIHkxID0gMDtcbiAgICAgICAgaWYgKHRlbXBQb2ludC54ID49IHgxICYmIHRlbXBQb2ludC54IDwgeDEgKyB3aWR0aCkge1xuICAgICAgICAgICAgeTEgPSAtaGVpZ2h0ICogdGhpcy5hbmNob3IueTtcbiAgICAgICAgICAgIGlmICh0ZW1wUG9pbnQueSA+PSB5MSAmJiB0ZW1wUG9pbnQueSA8IHkxICsgaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBzcHJpdGUgYW5kIG9wdGlvbmFsbHkgaXRzIHRleHR1cmUgYW5kIGNoaWxkcmVuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuX2FuY2hvciA9IG51bGw7XG4gICAgICAgIHZhciBkZXN0cm95VGV4dHVyZSA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLnRleHR1cmU7XG4gICAgICAgIGlmIChkZXN0cm95VGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIGRlc3Ryb3lCYXNlVGV4dHVyZSA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5kZXN0cm95KCEhZGVzdHJveUJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcbiAgICB9O1xuICAgIC8vIHNvbWUgaGVscGVyIGZ1bmN0aW9ucy4uXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBzcHJpdGUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGZyYW1lIGlkLCBpbWFnZSB1cmwsIHZpZGVvIHVybCwgY2FudmFzIGVsZW1lbnQsIHZpZGVvIGVsZW1lbnQsIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuVGV4dHVyZXxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgLSBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9IFRoZSBuZXdseSBjcmVhdGVkIHNwcml0ZVxuICAgICAqL1xuICAgIFNwcml0ZS5mcm9tID0gZnVuY3Rpb24gKHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IChzb3VyY2UgaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgICAgICAgPyBzb3VyY2VcbiAgICAgICAgICAgIDogVGV4dHVyZS5mcm9tKHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBuZXcgU3ByaXRlKHRleHR1cmUpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNwcml0ZS5wcm90b3R5cGUsIFwicm91bmRQaXhlbHNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3VuZFBpeGVscztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgICAgICogVG8gc2V0IHRoZSBnbG9iYWwgZGVmYXVsdCwgY2hhbmdlIHtAbGluayBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU31cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3ByaXRlLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBzID0gc2lnbih0aGlzLnNjYWxlLngpIHx8IDE7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNwcml0ZS5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS55KSAqIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgcyA9IHNpZ24odGhpcy5zY2FsZS55KSB8fCAxO1xuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNwcml0ZS5wcm90b3R5cGUsIFwiYW5jaG9yXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmNob3Igc2V0cyB0aGUgb3JpZ2luIHBvaW50IG9mIHRoZSBzcHJpdGUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRha2VuIGZyb20gdGhlIHtAbGluayBQSVhJLlRleHR1cmV8VGV4dHVyZX1cbiAgICAgICAgICogYW5kIHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGlzIGAoMCwwKWAsIHRoaXMgbWVhbnMgdGhlIHNwcml0ZSdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDAuNSwwLjUpYCBtZWFucyB0aGUgc3ByaXRlJ3Mgb3JpZ2luIGlzIGNlbnRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgxLDEpYCB3b3VsZCBtZWFuIHRoZSBzcHJpdGUncyBvcmlnaW4gcG9pbnQgd2lsbCBiZSB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogSWYgeW91IHBhc3Mgb25seSBzaW5nbGUgcGFyYW1ldGVyLCBpdCB3aWxsIHNldCBib3RoIHggYW5kIHkgdG8gdGhlIHNhbWUgdmFsdWUgYXMgc2hvd24gaW4gdGhlIGV4YW1wbGUgYmVsb3cuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgICAgICogc3ByaXRlLmFuY2hvci5zZXQoMC41KTsgLy8gVGhpcyB3aWxsIHNldCB0aGUgb3JpZ2luIHRvIGNlbnRlci4gKDAuNSkgaXMgc2FtZSBhcyAoMC41LCAwLjUpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3ByaXRlLnByb3RvdHlwZSwgXCJ0aW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS5cbiAgICAgICAgICogQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl90aW50UkdCID0gKHZhbHVlID4+IDE2KSArICh2YWx1ZSAmIDB4ZmYwMCkgKyAoKHZhbHVlICYgMHhmZikgPDwgMTYpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNwcml0ZS5wcm90b3R5cGUsIFwidGV4dHVyZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBzcHJpdGUgaXMgdXNpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0dXJlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gdmFsdWUgfHwgVGV4dHVyZS5FTVBUWTtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgdGhlIHRleHR1cmUgdG8gbG9hZFxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLm9uY2UoJ3VwZGF0ZScsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFNwcml0ZTtcbn0oQ29udGFpbmVyKSk7XG5cbmV4cG9ydCB7IFNwcml0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9wcmVwYXJlIC0gdjUuMy4zXG4gKiBDb21waWxlZCBUdWUsIDA0IEF1ZyAyMDIwIDE2OjIzOjA5IFVUQ1xuICpcbiAqIEBwaXhpL3ByZXBhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBHcmFwaGljcyB9IGZyb20gJ0BwaXhpL2dyYXBoaWNzJztcbmltcG9ydCB7IFRpY2tlciwgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgVGV4dCwgVGV4dFN0eWxlLCBUZXh0TWV0cmljcyB9IGZyb20gJ0BwaXhpL3RleHQnO1xuXG4vKipcbiAqIERlZmF1bHQgbnVtYmVyIG9mIHVwbG9hZHMgcGVyIGZyYW1lIHVzaW5nIHByZXBhcmUgcGx1Z2luLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAbmFtZSBVUExPQURTX1BFUl9GUkFNRVxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IDRcbiAqL1xuc2V0dGluZ3MuVVBMT0FEU19QRVJfRlJBTUUgPSA0O1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBDb3VudExpbWl0ZXIgbGltaXRzIHRoZSBudW1iZXIgb2YgaXRlbXMgaGFuZGxlZCBieSBhIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSB0byBhIHNwZWNpZmllZFxuICogbnVtYmVyIG9mIGl0ZW1zIHBlciBmcmFtZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDb3VudExpbWl0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heEl0ZW1zUGVyRnJhbWUgLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgZWFjaCBmcmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb3VudExpbWl0ZXIobWF4SXRlbXNQZXJGcmFtZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGVhY2ggZnJhbWUuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heEl0ZW1zUGVyRnJhbWUgPSBtYXhJdGVtc1BlckZyYW1lO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBpdGVtcyB0aGF0IGNhbiBiZSBwcmVwYXJlZCBpbiB0aGUgY3VycmVudCBmcmFtZS5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXRlbXNMZWZ0ID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFueSBjb3VudGluZyBwcm9wZXJ0aWVzIHRvIHN0YXJ0IGZyZXNoIG9uIGEgbmV3IGZyYW1lLlxuICAgICAqL1xuICAgIENvdW50TGltaXRlci5wcm90b3R5cGUuYmVnaW5GcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pdGVtc0xlZnQgPSB0aGlzLm1heEl0ZW1zUGVyRnJhbWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIGlmIGFub3RoZXIgaXRlbSBjYW4gYmUgdXBsb2FkZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UgcGVyIGl0ZW0uXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGl0ZW0gaXMgYWxsb3dlZCB0byBiZSB1cGxvYWRlZC5cbiAgICAgKi9cbiAgICBDb3VudExpbWl0ZXIucHJvdG90eXBlLmFsbG93ZWRUb1VwbG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXNMZWZ0LS0gPiAwO1xuICAgIH07XG4gICAgcmV0dXJuIENvdW50TGltaXRlcjtcbn0oKSk7XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIG11bHRpcGxlIHRleHR1cmVzIGZyb20gb2JqZWN0cyBsaWtlIEFuaW1hdGVkU3ByaXRlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHR1cmUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZE11bHRpcGxlQmFzZVRleHR1cmVzKGl0ZW0sIHF1ZXVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICAgIC8vIE9iamVjdHMgd2l0aCBtdWx0aXBsZSB0ZXh0dXJlc1xuICAgIGlmIChpdGVtICYmIGl0ZW0uX3RleHR1cmVzICYmIGl0ZW0uX3RleHR1cmVzLmxlbmd0aCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0uX3RleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5fdGV4dHVyZXNbaV0gaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gaXRlbS5fdGV4dHVyZXNbaV0uYmFzZVRleHR1cmU7XG4gICAgICAgICAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoYmFzZVRleHR1cmUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIEJhc2VUZXh0dXJlcyBmcm9tIFRleHR1cmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRCYXNlVGV4dHVyZShpdGVtLCBxdWV1ZSkge1xuICAgIGlmIChpdGVtLmJhc2VUZXh0dXJlIGluc3RhbmNlb2YgQmFzZVRleHR1cmUpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBpdGVtLmJhc2VUZXh0dXJlO1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZih0ZXh0dXJlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIHRleHR1cmVzIGZyb20gb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHR1cmUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHR1cmUoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbS5fdGV4dHVyZSAmJiBpdGVtLl90ZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKHRleHR1cmUpID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGRyYXcgUElYSS5UZXh0IHRvIGl0cyB0ZXh0dXJlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuQWJzdHJhY3RSZW5kZXJlcnxQSVhJLkJhc2VQcmVwYXJlfSBoZWxwZXIgLSBOb3QgdXNlZCBieSB0aGlzIHVwbG9hZCBoYW5kbGVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiBkcmF3VGV4dChfaGVscGVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0KSB7XG4gICAgICAgIC8vIHVwZGF0aW5nIHRleHQgd2lsbCByZXR1cm4gZWFybHkgaWYgaXQgaXMgbm90IGRpcnR5XG4gICAgICAgIGl0ZW0udXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBjYWxjdWxhdGUgYSB0ZXh0IHN0eWxlIGZvciBhIFBJWEkuVGV4dCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfFBJWEkuQmFzZVByZXBhcmV9IGhlbHBlciAtIE5vdCB1c2VkIGJ5IHRoaXMgdXBsb2FkIGhhbmRsZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZVRleHRTdHlsZShfaGVscGVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0U3R5bGUpIHtcbiAgICAgICAgdmFyIGZvbnQgPSBpdGVtLnRvRm9udFN0cmluZygpO1xuICAgICAgICBUZXh0TWV0cmljcy5tZWFzdXJlRm9udChmb250KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIFRleHQgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHQgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHQoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHQpIHtcbiAgICAgICAgLy8gcHVzaCB0aGUgdGV4dCBzdHlsZSB0byBwcmVwYXJlIGl0IC0gdGhpcyBjYW4gYmUgcmVhbGx5IGV4cGVuc2l2ZVxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtLnN0eWxlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbS5zdHlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWxzbyBwdXNoIHRoZSB0ZXh0IG9iamVjdCBzbyB0aGF0IHdlIGNhbiByZW5kZXIgaXQgKHRvIGNhbnZhcy90ZXh0dXJlKSBpZiBuZWVkZWRcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsc28gcHVzaCB0aGUgVGV4dCdzIHRleHR1cmUgZm9yIHVwbG9hZCB0byBHUFVcbiAgICAgICAgdmFyIHRleHR1cmUgPSBpdGVtLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZih0ZXh0dXJlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIFRleHRTdHlsZSBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0U3R5bGUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHRTdHlsZShpdGVtLCBxdWV1ZSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dFN0eWxlKSB7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBUaGUgcHJlcGFyZSBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdXBsb2FkIGNvbnRlbnQgdG8gdGhlIEdQVS5cbiAqXG4gKiBCYXNlUHJlcGFyZSBoYW5kbGVzIGJhc2ljIHF1ZXVpbmcgZnVuY3Rpb25hbGl0eSBhbmQgaXMgZXh0ZW5kZWQgYnlcbiAqIHtAbGluayBQSVhJLlByZXBhcmV9IGFuZCB7QGxpbmsgUElYSS5DYW52YXNQcmVwYXJlfVxuICogdG8gcHJvdmlkZSBwcmVwYXJhdGlvbiBjYXBhYmlsaXRpZXMgc3BlY2lmaWMgdG8gdGhlaXIgcmVzcGVjdGl2ZSByZW5kZXJlcnMuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIHNwcml0ZVxuICogY29uc3Qgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbSgnc29tZXRoaW5nLnBuZycpO1xuICpcbiAqIC8vIExvYWQgb2JqZWN0IGludG8gR1BVXG4gKiBhcHAucmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLnVwbG9hZChzcHJpdGUsICgpID0+IHtcbiAqXG4gKiAgICAgLy9UZXh0dXJlKHMpIGhhcyBiZWVuIHVwbG9hZGVkIHRvIEdQVVxuICogICAgIGFwcC5zdGFnZS5hZGRDaGlsZChzcHJpdGUpO1xuICpcbiAqIH0pXG4gKlxuICogQGFic3RyYWN0XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXNlUHJlcGFyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQWJzdHJhY3RSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VQcmVwYXJlKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGltaXRlciB0byBiZSB1c2VkIHRvIGNvbnRyb2wgaG93IHF1aWNrbHkgaXRlbXMgYXJlIHByZXBhcmVkLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5Db3VudExpbWl0ZXJ8UElYSS5UaW1lTGltaXRlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGltaXRlciA9IG5ldyBDb3VudExpbWl0ZXIoc2V0dGluZ3MuVVBMT0FEU19QRVJfRlJBTUUpO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlci5cbiAgICAgICAgICogQHR5cGUge1BJWEkuQWJzdHJhY3RSZW5kZXJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9ubHkgcmVhbCBkaWZmZXJlbmNlIGJldHdlZW4gQ2FudmFzUHJlcGFyZSBhbmQgUHJlcGFyZSBpcyB3aGF0IHRoZXkgcGFzc1xuICAgICAgICAgKiB0byB1cGxvYWQgaG9va3MuIFRoYXQgZGlmZmVyZW50IHBhcmFtZXRlciBpcyBzdG9yZWQgaGVyZS5cbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkcyBhdCBvbmNlLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGFkZGl0aW9uYWwgaG9va3MgZm9yIGZpbmRpbmcgYXNzZXRzLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8RnVuY3Rpb24+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hZGRIb29rcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhZGRpdGlvbmFsIGhvb2tzIGZvciBwcm9jZXNzaW5nIGFzc2V0cy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBsb2FkSG9va3MgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxiYWNrIHRvIGNhbGwgYWZ0ZXIgY29tcGxldGVkLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8RnVuY3Rpb24+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb21wbGV0ZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHByZXBhcmUgaXMgdGlja2luZyAocnVubmluZykuXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAnYm91bmQnIGNhbGwgZm9yIHByZXBhcmVJdGVtcygpLlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbGF5ZWRUaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gdW5saWtlbHksIGJ1dCBpbiBjYXNlIHdlIHdlcmUgZGVzdHJveWVkIGJldHdlZW4gdGljaygpIGFuZCBkZWxheWVkVGljaygpXG4gICAgICAgICAgICBpZiAoIV90aGlzLnF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMucHJlcGFyZUl0ZW1zKCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGhvb2tzIHRvIGZpbmQgdGhlIGNvcnJlY3QgdGV4dHVyZVxuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHRTdHlsZSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZEJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0dXJlKTtcbiAgICAgICAgLy8gdXBsb2FkIGhvb2tzXG4gICAgICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKGRyYXdUZXh0KTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soY2FsY3VsYXRlVGV4dFN0eWxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBsb2FkIGFsbCB0aGUgdGV4dHVyZXMgYW5kIGdyYXBoaWNzIHRvIHRoZSBHUFUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufFBJWEkuRGlzcGxheU9iamVjdHxQSVhJLkNvbnRhaW5lcnxQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZXxQSVhJLkdyYXBoaWNzfFBJWEkuVGV4dH0gaXRlbSAtXG4gICAgICogICAgICAgIEVpdGhlciB0aGUgY29udGFpbmVyIG9yIGRpc3BsYXkgb2JqZWN0IHRvIHNlYXJjaCBmb3IgaXRlbXMgdG8gdXBsb2FkLCB0aGUgaXRlbXMgdG8gdXBsb2FkIHRoZW1zZWx2ZXMsXG4gICAgICogICAgICAgIG9yIHRoZSBjYWxsYmFjayBmdW5jdGlvbiwgaWYgaXRlbXMgaGF2ZSBiZWVuIGFkZGVkIHVzaW5nIGBwcmVwYXJlLmFkZGAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2RvbmVdIC0gT3B0aW9uYWwgY2FsbGJhY2sgd2hlbiBhbGwgcXVldWVkIHVwbG9hZHMgaGF2ZSBjb21wbGV0ZWRcbiAgICAgKi9cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKGl0ZW0sIGRvbmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBkb25lID0gaXRlbTtcbiAgICAgICAgICAgIGl0ZW0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIGEgZGlzcGxheSBvYmplY3QsIHNlYXJjaCBmb3IgaXRlbXNcbiAgICAgICAgLy8gdGhhdCB3ZSBjb3VsZCB1cGxvYWRcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIEdldCB0aGUgaXRlbXMgZm9yIHVwbG9hZCBmcm9tIHRoZSBkaXNwbGF5XG4gICAgICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlcy5wdXNoKGRvbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLnRpY2tpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpY2tpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIFRpY2tlci5zeXN0ZW0uYWRkT25jZSh0aGlzLnRpY2ssIHRoaXMsIFVQREFURV9QUklPUklUWS5VVElMSVRZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkb25lKSB7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aWNrIHVwZGF0ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLmRlbGF5ZWRUaWNrLCAwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFjdHVhbGx5IHByZXBhcmUgaXRlbXMuIFRoaXMgaXMgaGFuZGxlZCBvdXRzaWRlIG9mIHRoZSB0aWNrIGJlY2F1c2UgaXQgd2lsbCB0YWtlIGEgd2hpbGVcbiAgICAgKiBhbmQgd2UgZG8gTk9UIHdhbnQgdG8gYmxvY2sgdGhlIGN1cnJlbnQgYW5pbWF0aW9uIGZyYW1lIGZyb20gcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucHJlcGFyZUl0ZW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxpbWl0ZXIuYmVnaW5GcmFtZSgpO1xuICAgICAgICAvLyBVcGxvYWQgdGhlIGdyYXBoaWNzXG4gICAgICAgIHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCAmJiB0aGlzLmxpbWl0ZXIuYWxsb3dlZFRvVXBsb2FkKCkpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5xdWV1ZVswXTtcbiAgICAgICAgICAgIHZhciB1cGxvYWRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGl0ZW0gJiYgIWl0ZW0uX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLnVwbG9hZEhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVwbG9hZEhvb2tzW2ldKHRoaXMudXBsb2FkSG9va0hlbHBlciwgaXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF1cGxvYWRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBXZSdyZSBmaW5pc2hlZFxuICAgICAgICBpZiAoIXRoaXMucXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBjb21wbGV0ZXMgPSB0aGlzLmNvbXBsZXRlcy5zbGljZSgwKTtcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGVzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY29tcGxldGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVzW2ldKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGZpbmlzaGVkLCBvbiB0aGUgbmV4dCByQUYgZG8gdGhpcyBhZ2FpblxuICAgICAgICAgICAgVGlja2VyLnN5c3RlbS5hZGRPbmNlKHRoaXMudGljaywgdGhpcywgVVBEQVRFX1BSSU9SSVRZLlVUSUxJVFkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGhvb2tzIGZvciBmaW5kaW5nIGl0ZW1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYWRkSG9vayAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYGl0ZW06KiwgcXVldWU6QXJyYXlgXG4gICAgICogICAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGFkZCBpdGVtIHRvIHRoZSBxdWV1ZS5cbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5yZWdpc3RlckZpbmRIb29rID0gZnVuY3Rpb24gKGFkZEhvb2spIHtcbiAgICAgICAgaWYgKGFkZEhvb2spIHtcbiAgICAgICAgICAgIHRoaXMuYWRkSG9va3MucHVzaChhZGRIb29rKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgaG9va3MgZm9yIHVwbG9hZGluZyBpdGVtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwbG9hZEhvb2sgLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBwcmVwYXJlOkNhbnZhc1ByZXBhcmUsIGl0ZW06KmAgYW5kXG4gICAgICogICAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGhhbmRsZSB1cGxvYWQgb2YgaXRlbS5cbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5yZWdpc3RlclVwbG9hZEhvb2sgPSBmdW5jdGlvbiAodXBsb2FkSG9vaykge1xuICAgICAgICBpZiAodXBsb2FkSG9vaykge1xuICAgICAgICAgICAgdGhpcy51cGxvYWRIb29rcy5wdXNoKHVwbG9hZEhvb2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFudWFsbHkgYWRkIGFuIGl0ZW0gdG8gdGhlIHVwbG9hZGluZyBxdWV1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuQ29udGFpbmVyfFBJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfFBJWEkuR3JhcGhpY3N8UElYSS5UZXh0fCp9IGl0ZW0gLSBPYmplY3QgdG9cbiAgICAgKiAgICAgICAgYWRkIHRvIHRoZSBxdWV1ZVxuICAgICAqIEByZXR1cm4ge3RoaXN9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIC8vIEFkZCBhZGRpdGlvbmFsIGhvb2tzIGZvciBmaW5kaW5nIGVsZW1lbnRzIG9uIHNwZWNpYWxcbiAgICAgICAgLy8gdHlwZXMgb2Ygb2JqZWN0cyB0aGF0XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmFkZEhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hZGRIb29rc1tpXShpdGVtLCB0aGlzLnF1ZXVlKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEdldCBjaGlsZHJlbiByZWN1cnNpdmVseVxuICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIENvbnRhaW5lcikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGl0ZW0uY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChpdGVtLmNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4sIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqXG4gICAgICovXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpY2tpbmcpIHtcbiAgICAgICAgICAgIFRpY2tlci5zeXN0ZW0ucmVtb3ZlKHRoaXMudGljaywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWRkSG9va3MgPSBudWxsO1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHRoaXMuY29tcGxldGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGltaXRlciA9IG51bGw7XG4gICAgICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZVByZXBhcmU7XG59KCkpO1xuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuVGV4dHVyZSBvYmplY3RzIHRvIHRoZSBHUFUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBpbnN0YW5jZSBvZiB0aGUgd2ViZ2wgcmVuZGVyZXJcbiAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiB1cGxvYWRCYXNlVGV4dHVyZXMocmVuZGVyZXIsIGl0ZW0pIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlKSB7XG4gICAgICAgIC8vIGlmIHRoZSB0ZXh0dXJlIGFscmVhZHkgaGFzIGEgR0wgdGV4dHVyZSwgdGhlbiB0aGUgdGV4dHVyZSBoYXMgYmVlbiBwcmVwYXJlZCBvciByZW5kZXJlZFxuICAgICAgICAvLyBiZWZvcmUgbm93LiBJZiB0aGUgdGV4dHVyZSBjaGFuZ2VkLCB0aGVuIHRoZSBjaGFuZ2VyIHNob3VsZCBiZSBjYWxsaW5nIHRleHR1cmUudXBkYXRlKCkgd2hpY2hcbiAgICAgICAgLy8gcmV1cGxvYWRzIHRoZSB0ZXh0dXJlIHdpdGhvdXQgbmVlZCBmb3IgcHJlcGFyaW5nIGl0IGFnYWluXG4gICAgICAgIGlmICghaXRlbS5fZ2xUZXh0dXJlc1tyZW5kZXJlci5DT05URVhUX1VJRF0pIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnRleHR1cmUuYmluZChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIHVwbG9hZCBQSVhJLkdyYXBoaWNzIHRvIHRoZSBHUFUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBpbnN0YW5jZSBvZiB0aGUgd2ViZ2wgcmVuZGVyZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIHVwbG9hZEdyYXBoaWNzKHJlbmRlcmVyLCBpdGVtKSB7XG4gICAgaWYgKCEoaXRlbSBpbnN0YW5jZW9mIEdyYXBoaWNzKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBnZW9tZXRyeSA9IGl0ZW0uZ2VvbWV0cnk7XG4gICAgLy8gdXBkYXRlIGRpcnR5IGdyYXBoaWNzIHRvIGdldCBiYXRjaGVzXG4gICAgaXRlbS5maW5pc2hQb2x5KCk7XG4gICAgZ2VvbWV0cnkudXBkYXRlQmF0Y2hlcygpO1xuICAgIHZhciBiYXRjaGVzID0gZ2VvbWV0cnkuYmF0Y2hlcztcbiAgICAvLyB1cGxvYWQgYWxsIHRleHR1cmVzIGZvdW5kIGluIHN0eWxlc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IGJhdGNoZXNbaV0uc3R5bGUudGV4dHVyZTtcbiAgICAgICAgaWYgKHRleHR1cmUpIHtcbiAgICAgICAgICAgIHVwbG9hZEJhc2VUZXh0dXJlcyhyZW5kZXJlciwgdGV4dHVyZS5iYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gaWYgaXRzIG5vdCBiYXRjaGFibGUgLSB1cGRhdGUgdmFvIGZvciBwYXJ0aWN1bGFyIHNoYWRlclxuICAgIGlmICghZ2VvbWV0cnkuYmF0Y2hhYmxlKSB7XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQoZ2VvbWV0cnksIGl0ZW0uX3Jlc29sdmVEaXJlY3RTaGFkZXIocmVuZGVyZXIpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBncmFwaGljcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLkdyYXBoaWNzIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRHcmFwaGljcyhpdGVtLCBxdWV1ZSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgR3JhcGhpY3MpIHtcbiAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogVGhlIHByZXBhcmUgcGx1Z2luIHByb3ZpZGVzIHJlbmRlcmVyLXNwZWNpZmljIHBsdWdpbnMgZm9yIHByZS1yZW5kZXJpbmcgRGlzcGxheU9iamVjdHMuIFRoZXNlIHBsdWdpbnMgYXJlIHVzZWZ1bCBmb3JcbiAqIGFzeW5jaHJvbm91c2x5IHByZXBhcmluZyBhbmQgdXBsb2FkaW5nIHRvIHRoZSBHUFUgYXNzZXRzLCB0ZXh0dXJlcywgZ3JhcGhpY3Mgd2FpdGluZyB0byBiZSBkaXNwbGF5ZWQuXG4gKlxuICogRG8gbm90IGluc3RhbnRpYXRlIHRoaXMgcGx1Z2luIGRpcmVjdGx5LiBJdCBpcyBhdmFpbGFibGUgZnJvbSB0aGUgYHJlbmRlcmVyLnBsdWdpbnNgIHByb3BlcnR5LlxuICogU2VlIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyI3BsdWdpbnN9IG9yIHtAbGluayBQSVhJLlJlbmRlcmVyI3BsdWdpbnN9LlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIG5ldyBhcHBsaWNhdGlvblxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICpcbiAqIC8vIERvbid0IHN0YXJ0IHJlbmRlcmluZyByaWdodCBhd2F5XG4gKiBhcHAuc3RvcCgpO1xuICpcbiAqIC8vIGNyZWF0ZSBhIGRpc3BsYXkgb2JqZWN0XG4gKiBjb25zdCByZWN0ID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICogICAgIC5iZWdpbkZpbGwoMHgwMGZmMDApXG4gKiAgICAgLmRyYXdSZWN0KDQwLCA0MCwgMjAwLCAyMDApO1xuICpcbiAqIC8vIEFkZCB0byB0aGUgc3RhZ2VcbiAqIGFwcC5zdGFnZS5hZGRDaGlsZChyZWN0KTtcbiAqXG4gKiAvLyBEb24ndCBzdGFydCByZW5kZXJpbmcgdW50aWwgdGhlIGdyYXBoaWMgaXMgdXBsb2FkZWQgdG8gdGhlIEdQVVxuICogYXBwLnJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS51cGxvYWQoYXBwLnN0YWdlLCAoKSA9PiB7XG4gKiAgICAgYXBwLnN0YXJ0KCk7XG4gKiB9KTtcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmFzZVByZXBhcmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQcmVwYXJlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQcmVwYXJlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFByZXBhcmUocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBfdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgLy8gQWRkIHRleHR1cmVzIGFuZCBncmFwaGljcyB0byB1cGxvYWRcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kR3JhcGhpY3MpO1xuICAgICAgICBfdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkQmFzZVRleHR1cmVzKTtcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEdyYXBoaWNzKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUHJlcGFyZTtcbn0oQmFzZVByZXBhcmUpKTtcblxuLyoqXG4gKiBUaW1lTGltaXRlciBsaW1pdHMgdGhlIG51bWJlciBvZiBpdGVtcyBoYW5kbGVkIGJ5IGEge0BsaW5rIFBJWEkuQmFzZVByZXBhcmV9IHRvIGEgc3BlY2lmaWVkXG4gKiBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHBlciBmcmFtZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUaW1lTGltaXRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4TWlsbGlzZWNvbmRzIC0gVGhlIG1heGltdW0gbWlsbGlzZWNvbmRzIHRoYXQgY2FuIGJlIHNwZW50IHByZXBhcmluZyBpdGVtcyBlYWNoIGZyYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbWVMaW1pdGVyKG1heE1pbGxpc2Vjb25kcykge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heGltdW0gbWlsbGlzZWNvbmRzIHRoYXQgY2FuIGJlIHNwZW50IHByZXBhcmluZyBpdGVtcyBlYWNoIGZyYW1lLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhNaWxsaXNlY29uZHMgPSBtYXhNaWxsaXNlY29uZHM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3RhcnQgdGltZSBvZiB0aGUgY3VycmVudCBmcmFtZS5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZnJhbWVTdGFydCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbnkgY291bnRpbmcgcHJvcGVydGllcyB0byBzdGFydCBmcmVzaCBvbiBhIG5ldyBmcmFtZS5cbiAgICAgKi9cbiAgICBUaW1lTGltaXRlci5wcm90b3R5cGUuYmVnaW5GcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mcmFtZVN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgaWYgYW5vdGhlciBpdGVtIGNhbiBiZSB1cGxvYWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgaXRlbS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgaXRlbSBpcyBhbGxvd2VkIHRvIGJlIHVwbG9hZGVkLlxuICAgICAqL1xuICAgIFRpbWVMaW1pdGVyLnByb3RvdHlwZS5hbGxvd2VkVG9VcGxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBEYXRlLm5vdygpIC0gdGhpcy5mcmFtZVN0YXJ0IDwgdGhpcy5tYXhNaWxsaXNlY29uZHM7XG4gICAgfTtcbiAgICByZXR1cm4gVGltZUxpbWl0ZXI7XG59KCkpO1xuXG5leHBvcnQgeyBCYXNlUHJlcGFyZSwgQ291bnRMaW1pdGVyLCBQcmVwYXJlLCBUaW1lTGltaXRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJlcGFyZS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvc3ByaXRlc2hlZXQgLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvc3ByaXRlc2hlZXQgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBnZXRSZXNvbHV0aW9uT2ZVcmwsIHVybCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IExvYWRlclJlc291cmNlIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5cbi8qKlxuICogVXRpbGl0eSBjbGFzcyBmb3IgbWFpbnRhaW5pbmcgcmVmZXJlbmNlIHRvIGEgY29sbGVjdGlvblxuICogb2YgVGV4dHVyZXMgb24gYSBzaW5nbGUgU3ByaXRlc2hlZXQuXG4gKlxuICogVG8gYWNjZXNzIGEgc3ByaXRlIHNoZWV0IGZyb20geW91ciBjb2RlIHBhc3MgaXRzIEpTT04gZGF0YSBmaWxlIHRvIFBpeGkncyBsb2FkZXI6XG4gKlxuICogYGBganNcbiAqIFBJWEkuTG9hZGVyLnNoYXJlZC5hZGQoXCJpbWFnZXMvc3ByaXRlc2hlZXQuanNvblwiKS5sb2FkKHNldHVwKTtcbiAqXG4gKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAqICAgbGV0IHNoZWV0ID0gUElYSS5Mb2FkZXIuc2hhcmVkLnJlc291cmNlc1tcImltYWdlcy9zcHJpdGVzaGVldC5qc29uXCJdLnNwcml0ZXNoZWV0O1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICogV2l0aCB0aGUgYHNoZWV0LnRleHR1cmVzYCB5b3UgY2FuIGNyZWF0ZSBTcHJpdGUgb2JqZWN0cyxgc2hlZXQuYW5pbWF0aW9uc2AgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuIEFuaW1hdGVkU3ByaXRlLlxuICpcbiAqIFNwcml0ZSBzaGVldHMgY2FuIGJlIHBhY2tlZCB1c2luZyB0b29scyBsaWtlIHtAbGluayBodHRwczovL2NvZGVhbmR3ZWIuY29tL3RleHR1cmVwYWNrZXJ8VGV4dHVyZVBhY2tlcn0sXG4gKiB7QGxpbmsgaHR0cHM6Ly9yZW5kZXJoanMubmV0L3Nob2Vib3gvfFNob2Vib3h9IG9yIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20va3J6eXN6dG9mLW8vc3ByaXRlc2hlZXQuanN8U3ByaXRlc2hlZXQuanN9LlxuICogRGVmYXVsdCBhbmNob3IgcG9pbnRzIChzZWUge0BsaW5rIFBJWEkuVGV4dHVyZSNkZWZhdWx0QW5jaG9yfSkgYW5kIGdyb3VwaW5nIG9mIGFuaW1hdGlvbiBzcHJpdGVzIGFyZSBjdXJyZW50bHkgb25seVxuICogc3VwcG9ydGVkIGJ5IFRleHR1cmVQYWNrZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3ByaXRlc2hlZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZWZlcmVuY2UgdG8gdGhlIHNvdXJjZSBCYXNlVGV4dHVyZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBTcHJpdGVzaGVldCBpbWFnZSBkYXRhLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcmVzb2x1dGlvbkZpbGVuYW1lXSAtIFRoZSBmaWxlbmFtZSB0byBjb25zaWRlciB3aGVuIGRldGVybWluaW5nXG4gICAgICogICAgICAgIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBzcHJpdGVzaGVldC4gSWYgbm90IHByb3ZpZGVkLCB0aGUgaW1hZ2VVcmwgd2lsbFxuICAgICAqICAgICAgICBiZSB1c2VkIG9uIHRoZSBCYXNlVGV4dHVyZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTcHJpdGVzaGVldCh0ZXh0dXJlLCBkYXRhLCByZXNvbHV0aW9uRmlsZW5hbWUpIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb25GaWxlbmFtZSA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb25GaWxlbmFtZSA9IG51bGw7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBvcmlnaW5hbCBzb3VyY2UgaW1hZ2UgZnJvbSB0aGUgTG9hZGVyLiBUaGlzIHJlZmVyZW5jZSBpcyByZXRhaW5lZCBzbyB3ZVxuICAgICAgICAgKiBjYW4gZGVzdHJveSB0aGUgVGV4dHVyZSBsYXRlciBvbi4gSXQgaXMgbmV2ZXIgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHRleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlID8gdGV4dHVyZSA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhzIHNvdXJjZSB0ZXh0dXJlLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSB0ZXh0dXJlIGluc3RhbmNlb2YgQmFzZVRleHR1cmUgPyB0ZXh0dXJlIDogdGhpcy5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIGNvbnRhaW5pbmcgYWxsIHRleHR1cmVzIG9mIHRoZSBzcHJpdGUgc2hlZXQuXG4gICAgICAgICAqIENhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBQSVhJLlNwcml0ZXxTcHJpdGV9OlxuICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgKiBuZXcgUElYSS5TcHJpdGUoc2hlZXQudGV4dHVyZXNbXCJpbWFnZS5wbmdcIl0pO1xuICAgICAgICAgKiBgYGBcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgY29udGFpbmluZyB0aGUgdGV4dHVyZXMgZm9yIGVhY2ggYW5pbWF0aW9uLlxuICAgICAgICAgKiBDYW4gYmUgdXNlZCB0byBjcmVhdGUgYW4ge0BsaW5rIFBJWEkuQW5pbWF0ZWRTcHJpdGV8QW5pbWF0ZWRTcHJpdGV9OlxuICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgKiBuZXcgUElYSS5BbmltYXRlZFNwcml0ZShzaGVldC5hbmltYXRpb25zW1wiYW5pbV9uYW1lXCJdKVxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIG9yaWdpbmFsIEpTT04gZGF0YS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgc3ByaXRlc2hlZXQuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSB0aGlzLl91cGRhdGVSZXNvbHV0aW9uKHJlc29sdXRpb25GaWxlbmFtZSB8fCAocmVzb3VyY2UgPyByZXNvdXJjZS51cmwgOiBudWxsKSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXAgb2Ygc3ByaXRlc2hlZXQgZnJhbWVzLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZnJhbWVzID0gdGhpcy5kYXRhLmZyYW1lcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgZnJhbWUgbmFtZXMuXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmdbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZyYW1lS2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX2ZyYW1lcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGJhdGNoIGluZGV4IGJlaW5nIHByb2Nlc3NlZC5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhdGNoSW5kZXggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgd2hlbiBwYXJzZSBpcyBjb21wbGV0ZWQuXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgdGhlIHJlc29sdXRpb24gZnJvbSB0aGUgZmlsZW5hbWUgb3IgZmFsbGJhY2tcbiAgICAgKiB0byB0aGUgbWV0YS5zY2FsZSBmaWVsZCBvZiB0aGUgSlNPTiBkYXRhLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVzb2x1dGlvbkZpbGVuYW1lIC0gVGhlIGZpbGVuYW1lIHRvIHVzZSBmb3IgcmVzb2x2aW5nXG4gICAgICogICAgICAgIHRoZSBkZWZhdWx0IHJlc29sdXRpb24uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBSZXNvbHV0aW9uIHRvIHVzZSBmb3Igc3ByaXRlc2hlZXQuXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl91cGRhdGVSZXNvbHV0aW9uID0gZnVuY3Rpb24gKHJlc29sdXRpb25GaWxlbmFtZSkge1xuICAgICAgICBpZiAocmVzb2x1dGlvbkZpbGVuYW1lID09PSB2b2lkIDApIHsgcmVzb2x1dGlvbkZpbGVuYW1lID0gbnVsbDsgfVxuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLmRhdGEubWV0YS5zY2FsZTtcbiAgICAgICAgLy8gVXNlIGEgZGVmYXVsdFZhbHVlIG9mIGBudWxsYCB0byBjaGVjayBpZiBhIHVybC1iYXNlZCByZXNvbHV0aW9uIGlzIHNldFxuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGdldFJlc29sdXRpb25PZlVybChyZXNvbHV0aW9uRmlsZW5hbWUsIG51bGwpO1xuICAgICAgICAvLyBObyByZXNvbHV0aW9uIGZvdW5kIHZpYSBVUkxcbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgc2NhbGUgdmFsdWUgb3IgZGVmYXVsdCB0byAxXG4gICAgICAgICAgICByZXNvbHV0aW9uID0gc2NhbGUgIT09IHVuZGVmaW5lZCA/IHBhcnNlRmxvYXQoc2NhbGUpIDogMTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGb3Igbm9uLTEgcmVzb2x1dGlvbnMsIHVwZGF0ZSBiYXNlVGV4dHVyZVxuICAgICAgICBpZiAocmVzb2x1dGlvbiAhPT0gMSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNvbHV0aW9uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFyc2VyIHNwcml0ZXNoZWV0IGZyb20gbG9hZGVkIGRhdGEuIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseVxuICAgICAqIHRvIHByZXZlbnQgY3JlYXRpbmcgdG9vIG1hbnkgVGV4dHVyZSB3aXRoaW4gYSBzaW5nbGUgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZSByZXR1cm5zXG4gICAgICogICAgICAgIGEgbWFwIG9mIHRoZSBUZXh0dXJlcyBmb3IgdGhpcyBzcHJpdGVzaGVldC5cbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIGlmICh0aGlzLl9mcmFtZUtleXMubGVuZ3RoIDw9IFNwcml0ZXNoZWV0LkJBVENIX1NJWkUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NGcmFtZXMoMCk7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzQW5pbWF0aW9ucygpO1xuICAgICAgICAgICAgdGhpcy5fcGFyc2VDb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbmV4dEJhdGNoKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgYSBiYXRjaCBvZiBmcmFtZXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluaXRpYWxGcmFtZUluZGV4IC0gVGhlIGluZGV4IG9mIGZyYW1lIHRvIHN0YXJ0LlxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fcHJvY2Vzc0ZyYW1lcyA9IGZ1bmN0aW9uIChpbml0aWFsRnJhbWVJbmRleCkge1xuICAgICAgICB2YXIgZnJhbWVJbmRleCA9IGluaXRpYWxGcmFtZUluZGV4O1xuICAgICAgICB2YXIgbWF4RnJhbWVzID0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRTtcbiAgICAgICAgd2hpbGUgKGZyYW1lSW5kZXggLSBpbml0aWFsRnJhbWVJbmRleCA8IG1heEZyYW1lcyAmJiBmcmFtZUluZGV4IDwgdGhpcy5fZnJhbWVLZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGkgPSB0aGlzLl9mcmFtZUtleXNbZnJhbWVJbmRleF07XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2ZyYW1lc1tpXTtcbiAgICAgICAgICAgIHZhciByZWN0ID0gZGF0YS5mcmFtZTtcbiAgICAgICAgICAgIGlmIChyZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGZyYW1lID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgdHJpbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZVNpemUgPSBkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc291cmNlU2l6ZVxuICAgICAgICAgICAgICAgICAgICA/IGRhdGEuc291cmNlU2l6ZSA6IGRhdGEuZnJhbWU7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWcgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIE1hdGguZmxvb3Ioc291cmNlU2l6ZS53KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihzb3VyY2VTaXplLmgpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5yb3RhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZShNYXRoLmZsb29yKHJlY3QueCkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC55KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LmgpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWUgPSBuZXcgUmVjdGFuZ2xlKE1hdGguZmxvb3IocmVjdC54KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LnkpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vICBDaGVjayB0byBzZWUgaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEudHJpbW1lZCAhPT0gZmFsc2UgJiYgZGF0YS5zcHJpdGVTb3VyY2VTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyaW0gPSBuZXcgUmVjdGFuZ2xlKE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLngpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKGRhdGEuc3ByaXRlU291cmNlU2l6ZS55KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVzW2ldID0gbmV3IFRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSwgZnJhbWUsIG9yaWcsIHRyaW0sIGRhdGEucm90YXRlZCA/IDIgOiAwLCBkYXRhLmFuY2hvcik7XG4gICAgICAgICAgICAgICAgLy8gbGV0cyBhbHNvIGFkZCB0aGUgZnJhbWUgdG8gcGl4aSdzIGdsb2JhbCBjYWNoZSBmb3IgJ2Zyb20nIGFuZCAnZnJvbUxvYWRlcicgZnVuY3Rpb25zXG4gICAgICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRoaXMudGV4dHVyZXNbaV0sIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWVJbmRleCsrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYXJzZSBhbmltYXRpb25zIGNvbmZpZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3Byb2Nlc3NBbmltYXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYW5pbWF0aW9ucyA9IHRoaXMuZGF0YS5hbmltYXRpb25zIHx8IHt9O1xuICAgICAgICBmb3IgKHZhciBhbmltTmFtZSBpbiBhbmltYXRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnNbYW5pbU5hbWVdID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvbnNbYW5pbU5hbWVdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZyYW1lTmFtZSA9IGFuaW1hdGlvbnNbYW5pbU5hbWVdW2ldO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uc1thbmltTmFtZV0ucHVzaCh0aGlzLnRleHR1cmVzW2ZyYW1lTmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgcGFyc2UgaGFzIGNvbXBsZXRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl9wYXJzZUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLl9jYWxsYmFjaztcbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCB0aGlzLnRleHR1cmVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJlZ2luIHRoZSBuZXh0IGJhdGNoIG9mIHRleHR1cmVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX25leHRCYXRjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcyh0aGlzLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSk7XG4gICAgICAgIHRoaXMuX2JhdGNoSW5kZXgrKztcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX2JhdGNoSW5kZXggKiBTcHJpdGVzaGVldC5CQVRDSF9TSVpFIDwgX3RoaXMuX2ZyYW1lS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fbmV4dEJhdGNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcHJvY2Vzc0FuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcGFyc2VDb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgU3ByaXRlc2hlZXQgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveUJhc2U9ZmFsc2VdIC0gV2hldGhlciB0byBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgYXMgd2VsbFxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKGRlc3Ryb3lCYXNlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKGRlc3Ryb3lCYXNlID09PSB2b2lkIDApIHsgZGVzdHJveUJhc2UgPSBmYWxzZTsgfVxuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGV4dHVyZXMpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZXNbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZyYW1lcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZyYW1lS2V5cyA9IG51bGw7XG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSBudWxsO1xuICAgICAgICBpZiAoZGVzdHJveUJhc2UpIHtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuX3RleHR1cmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgVGV4dHVyZXMgdG8gYnVpbGQgcGVyIHByb2Nlc3MuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDEwMDBcbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldC5CQVRDSF9TSVpFID0gMTAwMDtcbiAgICByZXR1cm4gU3ByaXRlc2hlZXQ7XG59KCkpO1xuXG4vKipcbiAqIHtAbGluayBQSVhJLkxvYWRlciBMb2FkZXJ9IG1pZGRsZXdhcmUgZm9yIGxvYWRpbmcgdGV4dHVyZSBhdGxhc2VzIHRoYXQgaGF2ZSBiZWVuIGNyZWF0ZWQgd2l0aFxuICogVGV4dHVyZVBhY2tlciBvciBzaW1pbGFyIEpTT04tYmFzZWQgc3ByaXRlc2hlZXQuXG4gKlxuICogVGhpcyBtaWRkbGV3YXJlIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVzIFRleHR1cmUgcmVzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIFBJWEkuSUxvYWRlclBsdWdpblxuICovXG52YXIgU3ByaXRlc2hlZXRMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3ByaXRlc2hlZXRMb2FkZXIoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCBhZnRlciBhIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0TG9hZGVyLnVzZSA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgbmV4dCkge1xuICAgICAgICAvLyBiZWNhdXNlIHRoaXMgaXMgbWlkZGxld2FyZSwgaXQgZXhlY3V0ZSBpbiBsb2FkZXIgY29udGV4dC4gYHRoaXNgID0gbG9hZGVyXG4gICAgICAgIHZhciBsb2FkZXIgPSB0aGlzO1xuICAgICAgICB2YXIgaW1hZ2VSZXNvdXJjZU5hbWUgPSByZXNvdXJjZS5uYW1lICsgXCJfaW1hZ2VcIjtcbiAgICAgICAgLy8gc2tpcCBpZiBubyBkYXRhLCBpdHMgbm90IGpzb24sIGl0IGlzbid0IHNwcml0ZXNoZWV0IGRhdGEsIG9yIHRoZSBpbWFnZSByZXNvdXJjZSBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBpZiAoIXJlc291cmNlLmRhdGFcbiAgICAgICAgICAgIHx8IHJlc291cmNlLnR5cGUgIT09IExvYWRlclJlc291cmNlLlRZUEUuSlNPTlxuICAgICAgICAgICAgfHwgIXJlc291cmNlLmRhdGEuZnJhbWVzXG4gICAgICAgICAgICB8fCBsb2FkZXIucmVzb3VyY2VzW2ltYWdlUmVzb3VyY2VOYW1lXSkge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsb2FkT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGNyb3NzT3JpZ2luOiByZXNvdXJjZS5jcm9zc09yaWdpbixcbiAgICAgICAgICAgIG1ldGFkYXRhOiByZXNvdXJjZS5tZXRhZGF0YS5pbWFnZU1ldGFkYXRhLFxuICAgICAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVzb3VyY2VQYXRoID0gU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoKHJlc291cmNlLCBsb2FkZXIuYmFzZVVybCk7XG4gICAgICAgIC8vIGxvYWQgdGhlIGltYWdlIGZvciB0aGlzIHNoZWV0XG4gICAgICAgIGxvYWRlci5hZGQoaW1hZ2VSZXNvdXJjZU5hbWUsIHJlc291cmNlUGF0aCwgbG9hZE9wdGlvbnMsIGZ1bmN0aW9uIG9uSW1hZ2VMb2FkKHJlcykge1xuICAgICAgICAgICAgaWYgKHJlcy5lcnJvcikge1xuICAgICAgICAgICAgICAgIG5leHQocmVzLmVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3ByaXRlc2hlZXQgPSBuZXcgU3ByaXRlc2hlZXQocmVzLnRleHR1cmUsIHJlc291cmNlLmRhdGEsIHJlc291cmNlLnVybCk7XG4gICAgICAgICAgICBzcHJpdGVzaGVldC5wYXJzZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2Uuc3ByaXRlc2hlZXQgPSBzcHJpdGVzaGVldDtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS50ZXh0dXJlcyA9IHNwcml0ZXNoZWV0LnRleHR1cmVzO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3ByaXRlc2hlZXRzIHJvb3QgcGF0aFxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2UgLSBSZXNvdXJjZSB0byBjaGVjayBwYXRoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVcmwgLSBCYXNlIHJvb3QgdXJsXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoID0gZnVuY3Rpb24gKHJlc291cmNlLCBiYXNlVXJsKSB7XG4gICAgICAgIC8vIFByZXBlbmQgdXJsIHBhdGggdW5sZXNzIHRoZSByZXNvdXJjZSBpbWFnZSBpcyBhIGRhdGEgdXJsXG4gICAgICAgIGlmIChyZXNvdXJjZS5pc0RhdGFVcmwpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5kYXRhLm1ldGEuaW1hZ2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybC5yZXNvbHZlKHJlc291cmNlLnVybC5yZXBsYWNlKGJhc2VVcmwsICcnKSwgcmVzb3VyY2UuZGF0YS5tZXRhLmltYWdlKTtcbiAgICB9O1xuICAgIHJldHVybiBTcHJpdGVzaGVldExvYWRlcjtcbn0oKSk7XG5cbmV4cG9ydCB7IFNwcml0ZXNoZWV0LCBTcHJpdGVzaGVldExvYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlc2hlZXQuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZS10aWxpbmcgLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvc3ByaXRlLXRpbGluZyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFRleHR1cmVNYXRyaXgsIFRleHR1cmUsIFNoYWRlciwgUXVhZFV2LCBTdGF0ZSwgT2JqZWN0UmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFBvaW50LCBUcmFuc2Zvcm0sIFJlY3RhbmdsZSwgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgZGVwcmVjYXRpb24sIHByZW11bHRpcGx5VGludFRvUmdiYSwgY29ycmVjdEJsZW5kTW9kZSB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFdSQVBfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIHRlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xuLyoqXG4gKiBBIHRpbGluZyBzcHJpdGUgaXMgYSBmYXN0IHdheSBvZiByZW5kZXJpbmcgYSB0aWxpbmcgaW1hZ2VcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGlsaW5nU3ByaXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUaWxpbmdTcHJpdGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MTAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTEwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsaW5nU3ByaXRlKHRleHR1cmUsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAxMDA7IH1cbiAgICAgICAgaWYgKGhlaWdodCA9PT0gdm9pZCAwKSB7IGhlaWdodCA9IDEwMDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0ZXh0dXJlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGlsZSB0cmFuc2Zvcm1cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlVHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBtYXRyaXggdGhhdCBpcyBhcHBsaWVkIHRvIFVWIHRvIGdldCB0aGUgY29vcmRzIGluIFRleHR1cmUgbm9ybWFsaXplZCBzcGFjZSB0byBjb29yZHMgaW4gQmFzZVRleHR1cmUgc3BhY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZNYXRyaXggPSB0ZXh0dXJlLnV2TWF0cml4IHx8IG5ldyBUZXh0dXJlTWF0cml4KHRleHR1cmUpO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGx1Z2luIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyB0aGlzIGVsZW1lbnQuXG4gICAgICAgICAqIEFsbG93cyB0byBjdXN0b21pemUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIHdpdGhvdXQgb3ZlcnJpZGluZyAnX3JlbmRlcicgbWV0aG9kLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICd0aWxpbmdTcHJpdGUnXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbHVnaW5OYW1lID0gJ3RpbGluZ1Nwcml0ZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCBhbmNob3IgYWZmZWN0cyB1dnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2UmVzcGVjdEFuY2hvciA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWxpbmdTcHJpdGUucHJvdG90eXBlLCBcImNsYW1wTWFyZ2luXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmcgaW4gY29ycmVzcG9uZGluZyB0ZXh0dXJlVHJhbnNmb3JtLCBzaG9ydGN1dFxuICAgICAgICAgKiBDaGFuZ2UgdG8gLTAuNSB0byBhZGQgYSBwaXhlbCB0byB0aGUgZWRnZSwgcmVjb21tZW5kZWQgZm9yIHRyYW5zcGFyZW50IHRyaW1tZWQgdGV4dHVyZXMgaW4gYXRsYXNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgMC41XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXZNYXRyaXguY2xhbXBNYXJnaW47XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnV2TWF0cml4LmNsYW1wTWFyZ2luID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnV2TWF0cml4LnVwZGF0ZSh0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWxpbmdTcHJpdGUucHJvdG90eXBlLCBcInRpbGVTY2FsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGluZyBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5zY2FsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS5zY2FsZS5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlsaW5nU3ByaXRlLnByb3RvdHlwZSwgXCJ0aWxlUG9zaXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9mZnNldCBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy51dk1hdHJpeCkge1xuICAgICAgICAgICAgdGhpcy51dk1hdHJpeC50ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICAvLyB0d2VhayBvdXIgdGV4dHVyZSB0ZW1wb3JhcmlseS4uXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgaWYgKCF0ZXh0dXJlIHx8ICF0ZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnVwZGF0ZUxvY2FsVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMudXZNYXRyaXgudXBkYXRlKCk7XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIHRpbGluZyBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMuX3dpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLl9oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMuX2hlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl93aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl9oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG4gICAgICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb2ludCAtIHRoZSBwb2ludCB0byBjaGVja1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBzcHJpdGUgY29udGFpbnMgdGhlIHBvaW50LlxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5fd2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIHZhciB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLl94O1xuICAgICAgICBpZiAodGVtcFBvaW50LnggPj0geDEgJiYgdGVtcFBvaW50LnggPCB4MSArIHdpZHRoKSB7XG4gICAgICAgICAgICB2YXIgeTEgPSAtaGVpZ2h0ICogdGhpcy5hbmNob3IuX3k7XG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgc3ByaXRlIGFuZCBvcHRpb25hbGx5IGl0cyB0ZXh0dXJlIGFuZCBjaGlsZHJlblxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMudXZNYXRyaXggPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyB0aWxpbmcgc3ByaXRlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLlRleHR1cmV8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy53aWR0aCAtIHJlcXVpcmVkIHdpZHRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuaGVpZ2h0IC0gcmVxdWlyZWQgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHJldHVybiB7UElYSS5UaWxpbmdTcHJpdGV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIChzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gRGVwcmVjYXRlZFxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnVGlsaW5nU3ByaXRlLmZyb20gdXNlIG9wdGlvbnMgaW5zdGVhZCBvZiB3aWR0aCBhbmQgaGVpZ2h0IGFyZ3MnKTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IHdpZHRoOiBvcHRpb25zLCBoZWlnaHQ6IGFyZ3VtZW50c1syXSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKFRleHR1cmUuZnJvbShzb3VyY2UsIG9wdGlvbnMpLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlsaW5nU3ByaXRlLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRpbGluZ1Nwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gVGlsaW5nU3ByaXRlO1xufShTcHJpdGUpKTtcblxudmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VHJhbnNmb3JtICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG51bmlmb3JtIG1hdDMgdU1hcENvb3JkO1xcbnVuaWZvcm0gdmVjNCB1Q2xhbXBGcmFtZTtcXG51bmlmb3JtIHZlYzIgdUNsYW1wT2Zmc2V0O1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjMiBjb29yZCA9IHZUZXh0dXJlQ29vcmQgLSBmbG9vcih2VGV4dHVyZUNvb3JkIC0gdUNsYW1wT2Zmc2V0KTtcXG4gICAgY29vcmQgPSAodU1hcENvb3JkICogdmVjMyhjb29yZCwgMS4wKSkueHk7XFxuICAgIGNvb3JkID0gY2xhbXAoY29vcmQsIHVDbGFtcEZyYW1lLnh5LCB1Q2xhbXBGcmFtZS56dyk7XFxuXFxuICAgIHZlYzQgdGV4U2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjb29yZCk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleFNhbXBsZSAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudFNpbXBsZSA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzQgc2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gc2FtcGxlICogdUNvbG9yO1xcbn1cXG5cIjtcblxudmFyIHRlbXBNYXQgPSBuZXcgTWF0cml4KCk7XG4vKipcbiAqIFdlYkdMIHJlbmRlcmVyIHBsdWdpbiBmb3IgdGlsaW5nIHNwcml0ZXNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cbnZhciBUaWxpbmdTcHJpdGVSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsaW5nU3ByaXRlUmVuZGVyZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogY29uc3RydWN0b3IgZm9yIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgdGlsaW5nIGF3ZXNvbWVuZXNzIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxpbmdTcHJpdGVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgdmFyIHVuaWZvcm1zID0geyBnbG9iYWxzOiBfdGhpcy5yZW5kZXJlci5nbG9iYWxVbmlmb3JtcyB9O1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBTaGFkZXIuZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50LCB1bmlmb3Jtcyk7XG4gICAgICAgIF90aGlzLnNpbXBsZVNoYWRlciA9IFNoYWRlci5mcm9tKHZlcnRleCwgZnJhZ21lbnRTaW1wbGUsIHVuaWZvcm1zKTtcbiAgICAgICAgX3RoaXMucXVhZCA9IG5ldyBRdWFkVXYoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBzdGF0ZSBpbiB3aGljaCB0aGlzIHJlbmRlcmVyIHdpbGwgd29yay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGlsaW5nU3ByaXRlfSB0cyAtIHRpbGluZ1Nwcml0ZSB0byBiZSByZW5kZXJlZFxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAodHMpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHF1YWQgPSB0aGlzLnF1YWQ7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHF1YWQudmVydGljZXM7XG4gICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSAodHMuX3dpZHRoKSAqIC10cy5hbmNob3IueDtcbiAgICAgICAgdmVydGljZXNbMV0gPSB2ZXJ0aWNlc1szXSA9IHRzLl9oZWlnaHQgKiAtdHMuYW5jaG9yLnk7XG4gICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbNF0gPSAodHMuX3dpZHRoKSAqICgxLjAgLSB0cy5hbmNob3IueCk7XG4gICAgICAgIHZlcnRpY2VzWzVdID0gdmVydGljZXNbN10gPSB0cy5faGVpZ2h0ICogKDEuMCAtIHRzLmFuY2hvci55KTtcbiAgICAgICAgaWYgKHRzLnV2UmVzcGVjdEFuY2hvcikge1xuICAgICAgICAgICAgdmVydGljZXMgPSBxdWFkLnV2cztcbiAgICAgICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSAtdHMuYW5jaG9yLng7XG4gICAgICAgICAgICB2ZXJ0aWNlc1sxXSA9IHZlcnRpY2VzWzNdID0gLXRzLmFuY2hvci55O1xuICAgICAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1s0XSA9IDEuMCAtIHRzLmFuY2hvci54O1xuICAgICAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IDEuMCAtIHRzLmFuY2hvci55O1xuICAgICAgICB9XG4gICAgICAgIHF1YWQuaW52YWxpZGF0ZSgpO1xuICAgICAgICB2YXIgdGV4ID0gdHMuX3RleHR1cmU7XG4gICAgICAgIHZhciBiYXNlVGV4ID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgbHQgPSB0cy50aWxlVHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICB2YXIgdXYgPSB0cy51dk1hdHJpeDtcbiAgICAgICAgdmFyIGlzU2ltcGxlID0gYmFzZVRleC5pc1Bvd2VyT2ZUd29cbiAgICAgICAgICAgICYmIHRleC5mcmFtZS53aWR0aCA9PT0gYmFzZVRleC53aWR0aCAmJiB0ZXguZnJhbWUuaGVpZ2h0ID09PSBiYXNlVGV4LmhlaWdodDtcbiAgICAgICAgLy8gYXV0bywgZm9yY2UgcmVwZWF0IHdyYXBNb2RlIGZvciBiaWcgdGlsaW5nIHRleHR1cmVzXG4gICAgICAgIGlmIChpc1NpbXBsZSkge1xuICAgICAgICAgICAgaWYgKCFiYXNlVGV4Ll9nbFRleHR1cmVzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgICAgIGlmIChiYXNlVGV4LndyYXBNb2RlID09PSBXUkFQX01PREVTLkNMQU1QKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXgud3JhcE1vZGUgPSBXUkFQX01PREVTLlJFUEVBVDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpc1NpbXBsZSA9IGJhc2VUZXgud3JhcE1vZGUgIT09IFdSQVBfTU9ERVMuQ0xBTVA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNoYWRlciA9IGlzU2ltcGxlID8gdGhpcy5zaW1wbGVTaGFkZXIgOiB0aGlzLnNoYWRlcjtcbiAgICAgICAgdmFyIHcgPSB0ZXgud2lkdGg7XG4gICAgICAgIHZhciBoID0gdGV4LmhlaWdodDtcbiAgICAgICAgdmFyIFcgPSB0cy5fd2lkdGg7XG4gICAgICAgIHZhciBIID0gdHMuX2hlaWdodDtcbiAgICAgICAgdGVtcE1hdC5zZXQobHQuYSAqIHcgLyBXLCBsdC5iICogdyAvIEgsIGx0LmMgKiBoIC8gVywgbHQuZCAqIGggLyBILCBsdC50eCAvIFcsIGx0LnR5IC8gSCk7XG4gICAgICAgIC8vIHRoYXQgcGFydCBpcyB0aGUgc2FtZSBhcyBhYm92ZTpcbiAgICAgICAgLy8gdGVtcE1hdC5pZGVudGl0eSgpO1xuICAgICAgICAvLyB0ZW1wTWF0LnNjYWxlKHRleC53aWR0aCwgdGV4LmhlaWdodCk7XG4gICAgICAgIC8vIHRlbXBNYXQucHJlcGVuZChsdCk7XG4gICAgICAgIC8vIHRlbXBNYXQuc2NhbGUoMS4wIC8gdHMuX3dpZHRoLCAxLjAgLyB0cy5faGVpZ2h0KTtcbiAgICAgICAgdGVtcE1hdC5pbnZlcnQoKTtcbiAgICAgICAgaWYgKGlzU2ltcGxlKSB7XG4gICAgICAgICAgICB0ZW1wTWF0LnByZXBlbmQodXYubWFwQ29vcmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVNYXBDb29yZCA9IHV2Lm1hcENvb3JkLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wRnJhbWUgPSB1di51Q2xhbXBGcmFtZTtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q2xhbXBPZmZzZXQgPSB1di51Q2xhbXBPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVUcmFuc2Zvcm0gPSB0ZW1wTWF0LnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBwcmVtdWx0aXBseVRpbnRUb1JnYmEodHMudGludCwgdHMud29ybGRBbHBoYSwgc2hhZGVyLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleC5hbHBoYU1vZGUpO1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0cy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gdGV4O1xuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHF1YWQpO1xuICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IGNvcnJlY3RCbGVuZE1vZGUodHMuYmxlbmRNb2RlLCBiYXNlVGV4LmFscGhhTW9kZSk7XG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyh0aGlzLnJlbmRlcmVyLmdsLlRSSUFOR0xFUywgNiwgMCk7XG4gICAgfTtcbiAgICByZXR1cm4gVGlsaW5nU3ByaXRlUmVuZGVyZXI7XG59KE9iamVjdFJlbmRlcmVyKSk7XG5cbmV4cG9ydCB7IFRpbGluZ1Nwcml0ZSwgVGlsaW5nU3ByaXRlUmVuZGVyZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZS10aWxpbmcuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21lc2ggLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvbWVzaCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFN0YXRlLCBQcm9ncmFtLCBUZXh0dXJlTWF0cml4LCBTaGFkZXIsIEJ1ZmZlciwgR2VvbWV0cnkgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFBvaW50LCBQb2x5Z29uLCBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IERSQVdfTU9ERVMsIEJMRU5EX01PREVTLCBUWVBFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgcHJlbXVsdGlwbHlUaW50VG9SZ2JhIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBDbGFzcyBjb250cm9scyBjYWNoZSBmb3IgVVYgbWFwcGluZyBmcm9tIFRleHR1cmUgbm9ybWFsIHNwYWNlIHRvIEJhc2VUZXh0dXJlIG5vcm1hbCBzcGFjZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBNZXNoQmF0Y2hVdnMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcn0gdXZCdWZmZXIgLSBCdWZmZXIgd2l0aCBub3JtYWxpemVkIHV2J3NcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZU1hdHJpeH0gdXZNYXRyaXggLSBNYXRlcmlhbCBVViBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNZXNoQmF0Y2hVdnModXZCdWZmZXIsIHV2TWF0cml4KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgd2l0aCBub3JtYWxpemVkIFVWJ3NcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2QnVmZmVyID0gdXZCdWZmZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXRlcmlhbCBVViBtYXRyaXhcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IHV2TWF0cml4O1xuICAgICAgICAvKipcbiAgICAgICAgICogVVYgQnVmZmVyIGRhdGFcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVVcGRhdGVJZCA9IC0xO1xuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHVwZGF0ZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ZvcmNlVXBkYXRlXSAtIGZvcmNlIHRoZSB1cGRhdGVcbiAgICAgKi9cbiAgICBNZXNoQmF0Y2hVdnMucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChmb3JjZVVwZGF0ZSkge1xuICAgICAgICBpZiAoIWZvcmNlVXBkYXRlXG4gICAgICAgICAgICAmJiB0aGlzLl9idWZmZXJVcGRhdGVJZCA9PT0gdGhpcy51dkJ1ZmZlci5fdXBkYXRlSURcbiAgICAgICAgICAgICYmIHRoaXMuX3RleHR1cmVVcGRhdGVJZCA9PT0gdGhpcy51dk1hdHJpeC5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJZCA9IHRoaXMudXZCdWZmZXIuX3VwZGF0ZUlEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVXBkYXRlSWQgPSB0aGlzLnV2TWF0cml4Ll91cGRhdGVJRDtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLnV2QnVmZmVyLmRhdGE7XG4gICAgICAgIGlmICghdGhpcy5kYXRhIHx8IHRoaXMuZGF0YS5sZW5ndGggIT09IGRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGRhdGEubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnV2TWF0cml4Lm11bHRpcGx5VXZzKGRhdGEsIHRoaXMuZGF0YSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEKys7XG4gICAgfTtcbiAgICByZXR1cm4gTWVzaEJhdGNoVXZzO1xufSgpKTtcblxudmFyIHRlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xudmFyIHRlbXBQb2x5Z29uID0gbmV3IFBvbHlnb24oKTtcbi8qKlxuICogQmFzZSBtZXNoIGNsYXNzLlxuICpcbiAqIFRoaXMgY2xhc3MgZW1wb3dlcnMgeW91IHRvIGhhdmUgbWF4aW11bSBmbGV4aWJpbGl0eSB0byByZW5kZXIgYW55IGtpbmQgb2YgV2ViR0wgdmlzdWFscyB5b3UgY2FuIHRoaW5rIG9mLlxuICogVGhpcyBjbGFzcyBhc3N1bWVzIGEgY2VydGFpbiBsZXZlbCBvZiBXZWJHTCBrbm93bGVkZ2UuXG4gKiBJZiB5b3Uga25vdyBhIGJpdCB0aGlzIHNob3VsZCBhYnN0cmFjdCBlbm91Z2ggYXdheSB0byBtYWtlIHlvdSBsaWZlIGVhc2llciFcbiAqXG4gKiBQcmV0dHkgbXVjaCBBTEwgV2ViR0wgY2FuIGJlIGJyb2tlbiBkb3duIGludG8gdGhlIGZvbGxvd2luZzpcbiAqIC0gR2VvbWV0cnkgLSBUaGUgc3RydWN0dXJlIGFuZCBkYXRhIGZvciB0aGUgbWVzaC4gVGhpcyBjYW4gaW5jbHVkZSBhbnl0aGluZyBmcm9tIHBvc2l0aW9ucywgdXZzLCBub3JtYWxzLCBjb2xvcnMgZXRjLi5cbiAqIC0gU2hhZGVyIC0gVGhpcyBpcyB0aGUgc2hhZGVyIHRoYXQgUGl4aUpTIHdpbGwgcmVuZGVyIHRoZSBnZW9tZXRyeSB3aXRoIChhdHRyaWJ1dGVzIGluIHRoZSBzaGFkZXIgbXVzdCBtYXRjaCB0aGUgZ2VvbWV0cnkpXG4gKiAtIFN0YXRlIC0gVGhpcyBpcyB0aGUgc3RhdGUgb2YgV2ViR0wgcmVxdWlyZWQgdG8gcmVuZGVyIHRoZSBtZXNoLlxuICpcbiAqIFRocm91Z2ggYSBjb21iaW5hdGlvbiBvZiB0aGUgYWJvdmUgZWxlbWVudHMgeW91IGNhbiByZW5kZXIgYW55dGhpbmcgeW91IHdhbnQsIDJEIG9yIDNEIVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBNZXNoID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNZXNoLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSB0aGUgZ2VvbWV0cnkgdGhlIG1lc2ggd2lsbCB1c2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWVzaE1hdGVyaWFsfSBzaGFkZXIgLSB0aGUgc2hhZGVyIHRoZSBtZXNoIHdpbGwgdXNlXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlfSBbc3RhdGVdIC0gdGhlIHN0YXRlIHRoYXQgdGhlIFdlYkdMIGNvbnRleHQgaXMgcmVxdWlyZWQgdG8gYmUgaW4gdG8gcmVuZGVyIHRoZSBtZXNoXG4gICAgICogICAgICAgIGlmIG5vIHN0YXRlIGlzIHByb3ZpZGVkLCB1c2VzIHtAbGluayBQSVhJLlN0YXRlLmZvcjJkfSB0byBjcmVhdGUgYSAyRCBzdGF0ZSBmb3IgUGl4aUpTLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZHJhd01vZGU9UElYSS5EUkFXX01PREVTLlRSSUFOR0xFU10gLSB0aGUgZHJhd01vZGUsIGNhbiBiZSBhbnkgb2YgdGhlIFBJWEkuRFJBV19NT0RFUyBjb25zdHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNZXNoKGdlb21ldHJ5LCBzaGFkZXIsIHN0YXRlLCBkcmF3TW9kZSkge1xuICAgICAgICBpZiAoZHJhd01vZGUgPT09IHZvaWQgMCkgeyBkcmF3TW9kZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmNsdWRlcyB2ZXJ0ZXggcG9zaXRpb25zLCBmYWNlIGluZGljZXMsIG5vcm1hbHMsIGNvbG9ycywgVVZzLCBhbmRcbiAgICAgICAgICogY3VzdG9tIGF0dHJpYnV0ZXMgd2l0aGluIGJ1ZmZlcnMsIHJlZHVjaW5nIHRoZSBjb3N0IG9mIHBhc3NpbmcgYWxsXG4gICAgICAgICAqIHRoaXMgZGF0YSB0byB0aGUgR1BVLiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgTWVzaCBvYmplY3RzLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdlb21ldHJ5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdlb21ldHJ5ID0gZ2VvbWV0cnk7XG4gICAgICAgIGdlb21ldHJ5LnJlZkNvdW50Kys7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIHRoZSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlcnMgdGhhdCBwcm9jZXNzZXMgdGhlIGdlb21ldHJ5IGFuZCBydW5zIG9uIHRoZSBHUFUuXG4gICAgICAgICAqIENhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBNZXNoIG9iamVjdHMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfFBJWEkuTWVzaE1hdGVyaWFsfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gc2hhZGVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgV2ViR0wgc3RhdGUgdGhlIE1lc2ggcmVxdWlyZWQgdG8gcmVuZGVyLCBleGNsdWRlcyBzaGFkZXIgYW5kIGdlb21ldHJ5LiBFLmcuLFxuICAgICAgICAgKiBibGVuZCBtb2RlLCBjdWxsaW5nLCBkZXB0aCB0ZXN0aW5nLCBkaXJlY3Rpb24gb2YgcmVuZGVyaW5nIHRyaWFuZ2xlcywgYmFja2ZhY2UsIGV0Yy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gc3RhdGUgfHwgU3RhdGUuZm9yMmQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3YXkgdGhlIE1lc2ggc2hvdWxkIGJlIGRyYXduLCBjYW4gYmUgYW55IG9mIHRoZSB7QGxpbmsgUElYSS5EUkFXX01PREVTfSBjb25zdGFudHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLkRSQVdfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRyYXdNb2RlID0gZHJhd01vZGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBpY2FsbHkgdGhlIGluZGV4IG9mIHRoZSBJbmRleEJ1ZmZlciB3aGVyZSB0byBzdGFydCBkcmF3aW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXJ0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvdyBtdWNoIG9mIHRoZSBnZW9tZXRyeSB0byBkcmF3LCBieSBkZWZhdWx0IGAwYCByZW5kZXJzIGV2ZXJ5dGhpbmcuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2l6ZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGVhc2UgYXJlIHVzZWQgYXMgZWFzeSBhY2Nlc3MgZm9yIGJhdGNoaW5nXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2cyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGVhc2UgYXJlIHVzZWQgYXMgZWFzeSBhY2Nlc3MgZm9yIGJhdGNoaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW5kaWNlcyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGlzIGlzIHRoZSBjYWNoaW5nIGxheWVyIHVzZWQgYnkgdGhlIGJhdGNoZXJcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoMSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBnZW9tZXRyeSBpcyBjaGFuZ2VkIHVzZWQgdG8gZGVjaWRlIHRvIHJlLXRyYW5zZm9ybVxuICAgICAgICAgKiB0aGUgdmVydGV4RGF0YS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGV4RGlydHkgPSAwO1xuICAgICAgICBfdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgLy8gSW5oZXJpdGVkIGZyb20gRGlzcGxheU1vZGUsIHNldCBkZWZhdWx0c1xuICAgICAgICBfdGhpcy50aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIF90aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHJvdW5kUGl4ZWxzIGZpZWxkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcm91bmRQaXhlbHMgPSBzZXR0aW5ncy5ST1VORF9QSVhFTFM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXRjaGVkIFVWJ3MgYXJlIGNhY2hlZCBmb3IgYXRsYXMgdGV4dHVyZXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NZXNoQmF0Y2hVdnN9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXRjaFV2cyA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2gucHJvdG90eXBlLCBcInV2QnVmZmVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvIGNoYW5nZSBtZXNoIHV2J3MsIGNoYW5nZSBpdHMgdXZCdWZmZXIgZGF0YSBhbmQgaW5jcmVtZW50IGl0cyBfdXBkYXRlSUQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJ2ZXJ0aWNlc0J1ZmZlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUbyBjaGFuZ2UgbWVzaCB2ZXJ0aWNlcywgY2hhbmdlIGl0cyB1dkJ1ZmZlciBkYXRhIGFuZCBpbmNyZW1lbnQgaXRzIF91cGRhdGVJRC5cbiAgICAgICAgICogSW5jcmVtZW50aW5nIF91cGRhdGVJRCBpcyBvcHRpb25hbCBiZWNhdXNlIG1vc3Qgb2YgTWVzaCBvYmplY3RzIGRvIGl0IGFueXdheS5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzBdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2gucHJvdG90eXBlLCBcIm1hdGVyaWFsXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXI7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbGlhcyBmb3Ige0BsaW5rIFBJWEkuTWVzaCNzaGFkZXJ9LlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1lc2hNYXRlcmlhbH1cbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2gucHJvdG90eXBlLCBcImJsZW5kTW9kZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgTWVzaC4gQXBwbHkgYSB2YWx1ZSBvZlxuICAgICAgICAgKiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2gucHJvdG90eXBlLCBcInJvdW5kUGl4ZWxzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm91bmRQaXhlbHM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICAgICAqIFRvIHNldCB0aGUgZ2xvYmFsIGRlZmF1bHQsIGNoYW5nZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFN9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2gucHJvdG90eXBlLCBcInRpbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG11bHRpcGx5IHRpbnQgYXBwbGllZCB0byB0aGUgTWVzaC4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZlxuICAgICAgICAgKiBgMHhGRkZGRkZgIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIudGludDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLnRpbnQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJ0ZXh0dXJlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIE1lc2ggdXNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIudGV4dHVyZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLnRleHR1cmUgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFN0YW5kYXJkIHJlbmRlcmVyIGRyYXcuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBJbnN0YW5jZSB0byByZW5kZXJlci5cbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIC8vIHNldCBwcm9wZXJ0aWVzIGZvciBiYXRjaGluZy4uXG4gICAgICAgIC8vIFRPRE8gY291bGQgdXNlIGEgZGlmZmVyZW50IHdheSB0byBncmFiIHZlcnRzP1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF0uZGF0YTtcbiAgICAgICAgLy8gVE9ETyBiZW5jaG1hcmsgY2hlY2sgZm9yIGF0dHJpYnV0ZSBzaXplLi5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyLmJhdGNoYWJsZVxuICAgICAgICAgICAgJiYgdGhpcy5kcmF3TW9kZSA9PT0gRFJBV19NT0RFUy5UUklBTkdMRVNcbiAgICAgICAgICAgICYmIHZlcnRpY2VzLmxlbmd0aCA8IE1lc2guQkFUQ0hBQkxFX1NJWkUgKiAyKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUb0JhdGNoKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckRlZmF1bHQocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdGFuZGFyZCBub24tYmF0Y2hpbmcgd2F5IG9mIHJlbmRlcmluZy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEluc3RhbmNlIHRvIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLl9yZW5kZXJEZWZhdWx0ID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcbiAgICAgICAgc2hhZGVyLmFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgICAgICBpZiAoc2hhZGVyLnVwZGF0ZSkge1xuICAgICAgICAgICAgc2hhZGVyLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgICAgIGlmIChzaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YS50cmFuc2xhdGlvbk1hdHJpeCkge1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBiaW5kIGFuZCBzeW5jIHVuaWZvcm1zLi5cbiAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQoc2hhZGVyKTtcbiAgICAgICAgLy8gc2V0IHN0YXRlLi5cbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0KHRoaXMuc3RhdGUpO1xuICAgICAgICAvLyBiaW5kIHRoZSBnZW9tZXRyeS4uLlxuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMuZ2VvbWV0cnksIHNoYWRlcik7XG4gICAgICAgIC8vIHRoZW4gcmVuZGVyIGl0XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcodGhpcy5kcmF3TW9kZSwgdGhpcy5zaXplLCB0aGlzLnN0YXJ0LCB0aGlzLmdlb21ldHJ5Lmluc3RhbmNlQ291bnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyaW5nIGJ5IHVzaW5nIHRoZSBCYXRjaCBzeXN0ZW0uXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBJbnN0YW5jZSB0byByZW5kZXJlci5cbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyVG9CYXRjaCA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgICAgICBpZiAodGhpcy5zaGFkZXIudXZNYXRyaXgpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLnV2TWF0cml4LnVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVVdnMoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgcHJvcGVydGllcyBmb3IgYmF0Y2hpbmcuLlxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGE7XG4gICAgICAgIHRoaXMuX3RpbnRSR0IgPSB0aGlzLnNoYWRlci5fdGludFJHQjtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHRoaXMuc2hhZGVyLnRleHR1cmU7XG4gICAgICAgIHZhciBwbHVnaW5OYW1lID0gdGhpcy5tYXRlcmlhbC5wbHVnaW5OYW1lO1xuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3BsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1twbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHZlcnRleERhdGEgZmllbGQgYmFzZWQgb24gdHJhbnNmb3JtIGFuZCB2ZXJ0aWNlc1xuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLmNhbGN1bGF0ZVZlcnRpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgICAgICB2YXIgdmVydGljZXMgPSBnZW9tZXRyeS5idWZmZXJzWzBdLmRhdGE7XG4gICAgICAgIGlmIChnZW9tZXRyeS52ZXJ0ZXhEaXJ0eUlkID09PSB0aGlzLnZlcnRleERpcnR5ICYmIHRoaXMuX3RyYW5zZm9ybUlEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgIGlmICh0aGlzLnZlcnRleERhdGEubGVuZ3RoICE9PSB2ZXJ0aWNlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoIC8gMjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHZlcnRpY2VzWyhpICogMildO1xuICAgICAgICAgICAgdmFyIHkgPSB2ZXJ0aWNlc1soaSAqIDIpICsgMV07XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhWyhpICogMildID0gKGEgKiB4KSArIChjICogeSkgKyB0eDtcbiAgICAgICAgICAgIHZlcnRleERhdGFbKGkgKiAyKSArIDFdID0gKGIgKiB4KSArIChkICogeSkgKyB0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGV4RGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZlcnRleERhdGFbaV0gPSBNYXRoLnJvdW5kKCh2ZXJ0ZXhEYXRhW2ldICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52ZXJ0ZXhEaXJ0eSA9IGdlb21ldHJ5LnZlcnRleERpcnR5SWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHV2IGZpZWxkIGJhc2VkIG9uIGZyb20gZ2VvbWV0cnkgdXYncyBvciBiYXRjaFV2c1xuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLmNhbGN1bGF0ZVV2cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdlb21VdnMgPSB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV07XG4gICAgICAgIGlmICghdGhpcy5zaGFkZXIudXZNYXRyaXguaXNTaW1wbGUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXRjaFV2cykge1xuICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hVdnMgPSBuZXcgTWVzaEJhdGNoVXZzKGdlb21VdnMsIHRoaXMuc2hhZGVyLnV2TWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYmF0Y2hVdnMudXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnV2cyA9IHRoaXMuYmF0Y2hVdnMuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXZzID0gZ2VvbVV2cy5kYXRhO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIG1lc2ggYXMgYSByZWN0YW5nbGUuIFRoZSBib3VuZHMgY2FsY3VsYXRpb24gdGFrZXMgdGhlIHdvcmxkVHJhbnNmb3JtIGludG8gYWNjb3VudC5cbiAgICAgKiB0aGVyZSBtdXN0IGJlIGEgYVZlcnRleFBvc2l0aW9uIGF0dHJpYnV0ZSBwcmVzZW50IGluIHRoZSBnZW9tZXRyeSBmb3IgYm91bmRzIHRvIGJlIGNhbGN1bGF0ZWQgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZFZlcnRleERhdGEodGhpcy52ZXJ0ZXhEYXRhLCAwLCB0aGlzLnZlcnRleERhdGEubGVuZ3RoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgbWVzaC4gV29ya3Mgb25seSBmb3IgUElYSS5EUkFXX01PREVTLlRSSUFOR0xFUy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmdldEJvdW5kcygpLmNvbnRhaW5zKHBvaW50LngsIHBvaW50LnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuICAgICAgICB2YXIgcG9pbnRzID0gdGVtcFBvbHlnb24ucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IHRoaXMuZ2VvbWV0cnkuZ2V0SW5kZXgoKS5kYXRhO1xuICAgICAgICB2YXIgbGVuID0gaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIHZhciBzdGVwID0gdGhpcy5kcmF3TW9kZSA9PT0gNCA/IDMgOiAxO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSArIDIgPCBsZW47IGkgKz0gc3RlcCkge1xuICAgICAgICAgICAgdmFyIGluZDAgPSBpbmRpY2VzW2ldICogMjtcbiAgICAgICAgICAgIHZhciBpbmQxID0gaW5kaWNlc1tpICsgMV0gKiAyO1xuICAgICAgICAgICAgdmFyIGluZDIgPSBpbmRpY2VzW2kgKyAyXSAqIDI7XG4gICAgICAgICAgICBwb2ludHNbMF0gPSB2ZXJ0aWNlc1tpbmQwXTtcbiAgICAgICAgICAgIHBvaW50c1sxXSA9IHZlcnRpY2VzW2luZDAgKyAxXTtcbiAgICAgICAgICAgIHBvaW50c1syXSA9IHZlcnRpY2VzW2luZDFdO1xuICAgICAgICAgICAgcG9pbnRzWzNdID0gdmVydGljZXNbaW5kMSArIDFdO1xuICAgICAgICAgICAgcG9pbnRzWzRdID0gdmVydGljZXNbaW5kMl07XG4gICAgICAgICAgICBwb2ludHNbNV0gPSB2ZXJ0aWNlc1tpbmQyICsgMV07XG4gICAgICAgICAgICBpZiAodGVtcFBvbHlnb24uY29udGFpbnModGVtcFBvaW50LngsIHRlbXBQb2ludC55KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBNZXNoIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsXG4gICAgICogIG9wdGlvbnMgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmVcbiAgICAgKiAgdGhlaXIgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkucmVmQ291bnQtLTtcbiAgICAgICAgaWYgKHRoaXMuZ2VvbWV0cnkucmVmQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLnV2cyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XG4gICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgdmVydGljZXMgdG8gY29uc2lkZXIgYmF0Y2hhYmxlLiBHZW5lcmFsbHksIHRoZSBjb21wbGV4aXR5XG4gICAgICogb2YgdGhlIGdlb21ldHJ5LlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLk1lc2hcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7bnVtYmVyfSBCQVRDSEFCTEVfU0laRVxuICAgICAqL1xuICAgIE1lc2guQkFUQ0hBQkxFX1NJWkUgPSAxMDA7XG4gICAgcmV0dXJuIE1lc2g7XG59KENvbnRhaW5lcikpO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdUNvbG9yO1xcbn1cXG5cIjtcblxudmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB1VGV4dHVyZU1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRleHR1cmVNYXRyaXggKiB2ZWMzKGFUZXh0dXJlQ29vcmQsIDEuMCkpLnh5O1xcbn1cXG5cIjtcblxuLyoqXG4gKiBTbGlnaHRseSBvcGluaW9uYXRlZCBkZWZhdWx0IHNoYWRlciBmb3IgUGl4aUpTIDJEIG9iamVjdHMuXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICovXG52YXIgTWVzaE1hdGVyaWFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNZXNoTWF0ZXJpYWwsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHVTYW1wbGVyIC0gVGV4dHVyZSB0aGF0IG1hdGVyaWFsIHVzZXMgdG8gcmVuZGVyLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBBZGRpdGlvbmFsIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYWxwaGE9MV0gLSBEZWZhdWx0IGFscGhhLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50aW50PTB4RkZGRkZGXSAtIERlZmF1bHQgdGludC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucGx1Z2luTmFtZT0nYmF0Y2gnXSAtIFJlbmRlcmVyIHBsdWdpbiBmb3IgYmF0Y2hpbmcuXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IFtvcHRpb25zLnByb2dyYW09MHhGRkZGRkZdIC0gQ3VzdG9tIHByb2dyYW0uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLnVuaWZvcm1zXSAtIEN1c3RvbSB1bmlmb3Jtcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNZXNoTWF0ZXJpYWwodVNhbXBsZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHVuaWZvcm1zID0ge1xuICAgICAgICAgICAgdVNhbXBsZXI6IHVTYW1wbGVyLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICB1VGV4dHVyZU1hdHJpeDogTWF0cml4LklERU5USVRZLFxuICAgICAgICAgICAgdUNvbG9yOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksXG4gICAgICAgIH07XG4gICAgICAgIC8vIFNldCBkZWZhdWx0c1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB0aW50OiAweEZGRkZGRixcbiAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgcGx1Z2luTmFtZTogJ2JhdGNoJyxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChvcHRpb25zLnVuaWZvcm1zKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHVuaWZvcm1zLCBvcHRpb25zLnVuaWZvcm1zKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMucHJvZ3JhbSB8fCBQcm9ncmFtLmZyb20odmVydGV4LCBmcmFnbWVudCksIHVuaWZvcm1zKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogT25seSBkbyB1cGRhdGUgaWYgdGludCBvciBhbHBoYSBjaGFuZ2VzLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2NvbG9yRGlydHkgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHR1cmVNYXRyaXggaW5zdGFuY2UgZm9yIHRoaXMgTWVzaCwgdXNlZCB0byB0cmFjayBUZXh0dXJlIGNoYW5nZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2TWF0cml4ID0gbmV3IFRleHR1cmVNYXRyaXgodVNhbXBsZXIpO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHNoYWRlciBjYW4gYmUgYmF0Y2ggd2l0aCB0aGUgcmVuZGVyZXIncyBiYXRjaCBzeXN0ZW0uXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhdGNoYWJsZSA9IG9wdGlvbnMucHJvZ3JhbSA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVuZGVyZXIgcGx1Z2luIGZvciBiYXRjaGluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdiYXRjaCdcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBsdWdpbk5hbWUgPSBvcHRpb25zLnBsdWdpbk5hbWU7XG4gICAgICAgIF90aGlzLnRpbnQgPSBvcHRpb25zLnRpbnQ7XG4gICAgICAgIF90aGlzLmFscGhhID0gb3B0aW9ucy5hbHBoYTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJ0ZXh0dXJlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgdGV4dHVyZSBiZWluZyByZW5kZXJlZC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51U2FtcGxlcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnVuaWZvcm1zLnVTYW1wbGVyICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVNhbXBsZXIgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnV2TWF0cml4LnRleHR1cmUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcImFscGhhXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWxwaGE7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGdldHMgYXV0b21hdGljYWxseSBzZXQgYnkgdGhlIG9iamVjdCB1c2luZyB0aGlzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuX2FscGhhKVxuICAgICAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICB0aGlzLl9hbHBoYSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJ0aW50XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE11bHRpcGx5IHRpbnQgZm9yIHRoZSBtYXRlcmlhbC5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fdGludClcbiAgICAgICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fdGludFJHQiA9ICh2YWx1ZSA+PiAxNikgKyAodmFsdWUgJiAweGZmMDApICsgKCh2YWx1ZSAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogR2V0cyBjYWxsZWQgYXV0b21hdGljYWxseSBieSB0aGUgTWVzaC4gSW50ZW5kZWQgdG8gYmUgb3ZlcnJpZGRlbiBmb3IgY3VzdG9tXG4gICAgICogTWVzaE1hdGVyaWFsIG9iamVjdHMuXG4gICAgICovXG4gICAgTWVzaE1hdGVyaWFsLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb2xvckRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0aGlzLnRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICBwcmVtdWx0aXBseVRpbnRUb1JnYmEodGhpcy5fdGludCwgdGhpcy5fYWxwaGEsIHRoaXMudW5pZm9ybXMudUNvbG9yLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnV2TWF0cml4LnVwZGF0ZSgpKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVUZXh0dXJlTWF0cml4ID0gdGhpcy51dk1hdHJpeC5tYXBDb29yZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1lc2hNYXRlcmlhbDtcbn0oU2hhZGVyKSk7XG5cbi8qKlxuICogU3RhbmRhcmQgMkQgZ2VvbWV0cnkgdXNlZCBpbiBQaXhpSlMuXG4gKlxuICogR2VvbWV0cnkgY2FuIGJlIGRlZmluZWQgd2l0aG91dCBwYXNzaW5nIGluIGEgc3R5bGUgb3IgZGF0YSBpZiByZXF1aXJlZC5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgZ2VvbWV0cnkgPSBuZXcgUElYSS5HZW9tZXRyeSgpO1xuICpcbiAqIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgncG9zaXRpb25zJywgWzAsIDAsIDEwMCwgMCwgMTAwLCAxMDAsIDAsIDEwMF0sIDIpO1xuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCd1dnMnLCBbMCwwLDEsMCwxLDEsMCwxXSwgMik7XG4gKiBnZW9tZXRyeS5hZGRJbmRleChbMCwxLDIsMSwzLDJdKTtcbiAqXG4gKiBgYGBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuR2VvbWV0cnlcbiAqL1xudmFyIE1lc2hHZW9tZXRyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWVzaEdlb21ldHJ5LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fG51bWJlcltdfSBbdmVydGljZXNdIC0gUG9zaXRpb25hbCBkYXRhIG9uIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fG51bWJlcltdfSBbdXZzXSAtIFRleHR1cmUgVVZzLlxuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl8bnVtYmVyW119IFtpbmRleF0gLSBJbmRleEJ1ZmZlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2hHZW9tZXRyeSh2ZXJ0aWNlcywgdXZzLCBpbmRleCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgdmVydGljZXNCdWZmZXIgPSBuZXcgQnVmZmVyKHZlcnRpY2VzKTtcbiAgICAgICAgdmFyIHV2c0J1ZmZlciA9IG5ldyBCdWZmZXIodXZzLCB0cnVlKTtcbiAgICAgICAgdmFyIGluZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihpbmRleCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIF90aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgdmVydGljZXNCdWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FUZXh0dXJlQ29vcmQnLCB1dnNCdWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRJbmRleChpbmRleEJ1ZmZlcik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXJ0eSBmbGFnIHRvIGxpbWl0IHVwZGF0ZSBjYWxscyBvbiBNZXNoLiBGb3IgZXhhbXBsZSxcbiAgICAgICAgICogbGltaXRpbmcgdXBkYXRlcyBvbiBhIHNpbmdsZSBNZXNoIGluc3RhbmNlIHdpdGggYSBzaGFyZWQgR2VvbWV0cnlcbiAgICAgICAgICogd2l0aGluIHRoZSByZW5kZXIgbG9vcC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3VwZGF0ZUlkID0gLTE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hHZW9tZXRyeS5wcm90b3R5cGUsIFwidmVydGV4RGlydHlJZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgdmVydGV4IHBvc2l0aW9uIGlzIHVwZGF0ZWQuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcnNbMF0uX3VwZGF0ZUlEO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIE1lc2hHZW9tZXRyeTtcbn0oR2VvbWV0cnkpKTtcblxuZXhwb3J0IHsgTWVzaCwgTWVzaEJhdGNoVXZzLCBNZXNoR2VvbWV0cnksIE1lc2hNYXRlcmlhbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVzaC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvdGV4dC1iaXRtYXAgLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvdGV4dC1iaXRtYXAgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBSZWN0YW5nbGUsIE9ic2VydmFibGVQb2ludCwgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgTWVzaEdlb21ldHJ5LCBNZXNoTWF0ZXJpYWwsIE1lc2ggfSBmcm9tICdAcGl4aS9tZXNoJztcbmltcG9ydCB7IGhleDJyZ2IsIHN0cmluZzJoZXgsIGdldFJlc29sdXRpb25PZlVybCwgZGVwcmVjYXRpb24sIHJlbW92ZUl0ZW1zIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgVGV4dHVyZSwgQmFzZVRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFRFWFRfR1JBRElFTlQsIFRleHRTdHlsZSwgVGV4dE1ldHJpY3MgfSBmcm9tICdAcGl4aS90ZXh0JztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgTG9hZGVyUmVzb3VyY2UgfSBmcm9tICdAcGl4aS9sb2FkZXJzJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbi8qKlxuICogTm9ybWFsaXplZCBwYXJzZWQgZGF0YSBmcm9tIC5mbnQgZmlsZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQml0bWFwRm9udERhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQml0bWFwRm9udERhdGEoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250RGF0YUluZm9bXX1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluZm8gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSUJpdG1hcEZvbnREYXRhQ29tbW9uW119XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb21tb24gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSUJpdG1hcEZvbnREYXRhUGFnZVtdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGFnZSA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udERhdGFDaGFyW119XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGFyID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250RGF0YUtlcm5pbmdbXX1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmtlcm5pbmcgPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIEJpdG1hcEZvbnREYXRhO1xufSgpKTtcbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElCaXRtYXBGb250RGF0YUluZm9cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBmYWNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2l6ZVxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFDb21tb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsaW5lSGVpZ2h0XG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElCaXRtYXBGb250RGF0YVBhZ2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGZpbGVcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSUJpdG1hcEZvbnREYXRhQ2hhclxuICogQHByb3BlcnR5IHtzdHJpbmd9IGlkXG4gKiBAcHJvcGVydHkge251bWJlcn0gcGFnZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB5XG4gKiBAcHJvcGVydHkge251bWJlcn0gd2lkdGhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4b2Zmc2V0XG4gKiBAcHJvcGVydHkge251bWJlcn0geW9mZnNldFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHhhZHZhbmNlXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElCaXRtYXBGb250RGF0YUtlcm5pbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmaXJzdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNlY29uZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGFtb3VudFxuICovXG5cbi8qKlxuICogQml0bWFwRm9udCBmb3JtYXQgdGhhdCdzIFRleHQtYmFzZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgVGV4dEZvcm1hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZXh0Rm9ybWF0KCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiByZXNvdXJjZSByZWZlcnMgdG8gdHh0IGZvbnQgZGF0YS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7YW55fSBkYXRhXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiByZXNvdXJjZSBjb3VsZCBiZSB0cmVhdGVkIGFzIGZvbnQgZGF0YSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIFRleHRGb3JtYXQudGVzdCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgJiYgZGF0YS5pbmRleE9mKCdpbmZvIGZhY2U9JykgPT09IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRleHQgZm9udCBkYXRhIHRvIGEgamF2YXNjcmlwdCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHh0IC0gUmF3IHN0cmluZyBkYXRhIHRvIGJlIGNvbnZlcnRlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuQml0bWFwRm9udERhdGF9IFBhcnNlZCBmb250IGRhdGFcbiAgICAgKi9cbiAgICBUZXh0Rm9ybWF0LnBhcnNlID0gZnVuY3Rpb24gKHR4dCkge1xuICAgICAgICAvLyBSZXRyaWV2ZSBkYXRhIGl0ZW1cbiAgICAgICAgdmFyIGl0ZW1zID0gdHh0Lm1hdGNoKC9eW2Etel0rXFxzKy4rJC9nbSk7XG4gICAgICAgIHZhciByYXdEYXRhID0ge1xuICAgICAgICAgICAgaW5mbzogW10sXG4gICAgICAgICAgICBjb21tb246IFtdLFxuICAgICAgICAgICAgcGFnZTogW10sXG4gICAgICAgICAgICBjaGFyOiBbXSxcbiAgICAgICAgICAgIGNoYXJzOiBbXSxcbiAgICAgICAgICAgIGtlcm5pbmc6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBpIGluIGl0ZW1zKSB7XG4gICAgICAgICAgICAvLyBFeHRyYWN0IGl0ZW0gbmFtZVxuICAgICAgICAgICAgdmFyIG5hbWUgPSBpdGVtc1tpXS5tYXRjaCgvXlthLXpdKy9nbSlbMF07XG4gICAgICAgICAgICAvLyBFeHRyYWN0IGl0ZW0gYXR0cmlidXRlIGxpc3QgYXMgc3RyaW5nIGV4LjogXCJ3aWR0aD0xMFwiXG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlTGlzdCA9IGl0ZW1zW2ldLm1hdGNoKC9bYS16QS1aXSs9KFteXFxzXCInXSt8XCIoW15cIl0qKVwiKS9nbSk7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IGF0dHJpYnV0ZSBsaXN0IGludG8gYW4gb2JqZWN0XG4gICAgICAgICAgICB2YXIgaXRlbURhdGEgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIGlfMSBpbiBhdHRyaWJ1dGVMaXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gU3BsaXQga2V5LXZhbHVlIHBhaXJzXG4gICAgICAgICAgICAgICAgdmFyIHNwbGl0ID0gYXR0cmlidXRlTGlzdFtpXzFdLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHNwbGl0WzBdO1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBldmVudHVhbCBxdW90ZXMgZnJvbSB2YWx1ZVxuICAgICAgICAgICAgICAgIHZhciBzdHJWYWx1ZSA9IHNwbGl0WzFdLnJlcGxhY2UoL1wiL2dtLCAnJyk7XG4gICAgICAgICAgICAgICAgLy8gVHJ5IHRvIGNvbnZlcnQgdmFsdWUgaW50byBmbG9hdFxuICAgICAgICAgICAgICAgIHZhciBmbG9hdFZhbHVlID0gcGFyc2VGbG9hdChzdHJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgLy8gVXNlIHN0cmluZyB2YWx1ZSBjYXNlIGZsb2F0IHZhbHVlIGlzIE5hTlxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGlzTmFOKGZsb2F0VmFsdWUpID8gc3RyVmFsdWUgOiBmbG9hdFZhbHVlO1xuICAgICAgICAgICAgICAgIGl0ZW1EYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFB1c2ggY3VycmVudCBpdGVtIHRvIHRoZSByZXN1bHRpbmcgZGF0YVxuICAgICAgICAgICAgcmF3RGF0YVtuYW1lXS5wdXNoKGl0ZW1EYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9udCA9IG5ldyBCaXRtYXBGb250RGF0YSgpO1xuICAgICAgICByYXdEYXRhLmluZm8uZm9yRWFjaChmdW5jdGlvbiAoaW5mbykgeyByZXR1cm4gZm9udC5pbmZvLnB1c2goe1xuICAgICAgICAgICAgZmFjZTogaW5mby5mYWNlLFxuICAgICAgICAgICAgc2l6ZTogcGFyc2VJbnQoaW5mby5zaXplLCAxMCksXG4gICAgICAgIH0pOyB9KTtcbiAgICAgICAgcmF3RGF0YS5jb21tb24uZm9yRWFjaChmdW5jdGlvbiAoY29tbW9uKSB7IHJldHVybiBmb250LmNvbW1vbi5wdXNoKHtcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6IHBhcnNlSW50KGNvbW1vbi5saW5lSGVpZ2h0LCAxMCksXG4gICAgICAgIH0pOyB9KTtcbiAgICAgICAgcmF3RGF0YS5wYWdlLmZvckVhY2goZnVuY3Rpb24gKHBhZ2UpIHsgcmV0dXJuIGZvbnQucGFnZS5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBwYXJzZUludChwYWdlLmlkLCAxMCksXG4gICAgICAgICAgICBmaWxlOiBwYWdlLmZpbGUsXG4gICAgICAgIH0pOyB9KTtcbiAgICAgICAgcmF3RGF0YS5jaGFyLmZvckVhY2goZnVuY3Rpb24gKGNoYXIpIHsgcmV0dXJuIGZvbnQuY2hhci5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBwYXJzZUludChjaGFyLmlkLCAxMCksXG4gICAgICAgICAgICBwYWdlOiBwYXJzZUludChjaGFyLnBhZ2UsIDEwKSxcbiAgICAgICAgICAgIHg6IHBhcnNlSW50KGNoYXIueCwgMTApLFxuICAgICAgICAgICAgeTogcGFyc2VJbnQoY2hhci55LCAxMCksXG4gICAgICAgICAgICB3aWR0aDogcGFyc2VJbnQoY2hhci53aWR0aCwgMTApLFxuICAgICAgICAgICAgaGVpZ2h0OiBwYXJzZUludChjaGFyLmhlaWdodCwgMTApLFxuICAgICAgICAgICAgeG9mZnNldDogcGFyc2VJbnQoY2hhci54b2Zmc2V0LCAxMCksXG4gICAgICAgICAgICB5b2Zmc2V0OiBwYXJzZUludChjaGFyLnlvZmZzZXQsIDEwKSxcbiAgICAgICAgICAgIHhhZHZhbmNlOiBwYXJzZUludChjaGFyLnhhZHZhbmNlLCAxMCksXG4gICAgICAgIH0pOyB9KTtcbiAgICAgICAgcmF3RGF0YS5rZXJuaW5nLmZvckVhY2goZnVuY3Rpb24gKGtlcm5pbmcpIHsgcmV0dXJuIGZvbnQua2VybmluZy5wdXNoKHtcbiAgICAgICAgICAgIGZpcnN0OiBwYXJzZUludChrZXJuaW5nLmZpcnN0LCAxMCksXG4gICAgICAgICAgICBzZWNvbmQ6IHBhcnNlSW50KGtlcm5pbmcuc2Vjb25kLCAxMCksXG4gICAgICAgICAgICBhbW91bnQ6IHBhcnNlSW50KGtlcm5pbmcuYW1vdW50LCAxMCksXG4gICAgICAgIH0pOyB9KTtcbiAgICAgICAgcmV0dXJuIGZvbnQ7XG4gICAgfTtcbiAgICByZXR1cm4gVGV4dEZvcm1hdDtcbn0oKSk7XG5cbi8qKlxuICogQml0bWFwRm9udCBmb3JtYXQgdGhhdCdzIFhNTC1iYXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBYTUxGb3JtYXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gWE1MRm9ybWF0KCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiByZXNvdXJjZSByZWZlcnMgdG8geG1sIGZvbnQgZGF0YS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7YW55fSBkYXRhXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiByZXNvdXJjZSBjb3VsZCBiZSB0cmVhdGVkIGFzIGZvbnQgZGF0YSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIFhNTEZvcm1hdC50ZXN0ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEgaW5zdGFuY2VvZiBYTUxEb2N1bWVudFxuICAgICAgICAgICAgJiYgZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFnZScpLmxlbmd0aFxuICAgICAgICAgICAgJiYgZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5mbycpWzBdLmdldEF0dHJpYnV0ZSgnZmFjZScpICE9PSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVydCB0aGUgWE1MIGludG8gQml0bWFwRm9udERhdGEgdGhhdCB3ZSBjYW4gdXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtYTUxEb2N1bWVudH0geG1sXG4gICAgICogQHJldHVybiB7Qml0bWFwRm9udERhdGF9IERhdGEgdG8gdXNlIGZvciBCaXRtYXBGb250XG4gICAgICovXG4gICAgWE1MRm9ybWF0LnBhcnNlID0gZnVuY3Rpb24gKHhtbCkge1xuICAgICAgICB2YXIgZGF0YSA9IG5ldyBCaXRtYXBGb250RGF0YSgpO1xuICAgICAgICB2YXIgaW5mbyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5mbycpO1xuICAgICAgICB2YXIgY29tbW9uID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjb21tb24nKTtcbiAgICAgICAgdmFyIHBhZ2UgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKTtcbiAgICAgICAgdmFyIGNoYXIgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NoYXInKTtcbiAgICAgICAgdmFyIGtlcm5pbmcgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2tlcm5pbmcnKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmZvLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkYXRhLmluZm8ucHVzaCh7XG4gICAgICAgICAgICAgICAgZmFjZTogaW5mb1tpXS5nZXRBdHRyaWJ1dGUoJ2ZhY2UnKSxcbiAgICAgICAgICAgICAgICBzaXplOiBwYXJzZUludChpbmZvW2ldLmdldEF0dHJpYnV0ZSgnc2l6ZScpLCAxMCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbW1vbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YS5jb21tb24ucHVzaCh7XG4gICAgICAgICAgICAgICAgbGluZUhlaWdodDogcGFyc2VJbnQoY29tbW9uW2ldLmdldEF0dHJpYnV0ZSgnbGluZUhlaWdodCcpLCAxMCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZ2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGEucGFnZS5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogcGFyc2VJbnQocGFnZVtpXS5nZXRBdHRyaWJ1dGUoJ2lkJyksIDEwKSB8fCAwLFxuICAgICAgICAgICAgICAgIGZpbGU6IHBhZ2VbaV0uZ2V0QXR0cmlidXRlKCdmaWxlJyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBsZXR0ZXIgPSBjaGFyW2ldO1xuICAgICAgICAgICAgZGF0YS5jaGFyLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdpZCcpLCAxMCksXG4gICAgICAgICAgICAgICAgcGFnZTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgncGFnZScpLCAxMCkgfHwgMCxcbiAgICAgICAgICAgICAgICB4OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4JyksIDEwKSxcbiAgICAgICAgICAgICAgICB5OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd5JyksIDEwKSxcbiAgICAgICAgICAgICAgICB3aWR0aDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSwgMTApLFxuICAgICAgICAgICAgICAgIGhlaWdodDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnaGVpZ2h0JyksIDEwKSxcbiAgICAgICAgICAgICAgICB4b2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4b2Zmc2V0JyksIDEwKSxcbiAgICAgICAgICAgICAgICB5b2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd5b2Zmc2V0JyksIDEwKSxcbiAgICAgICAgICAgICAgICB4YWR2YW5jZTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneGFkdmFuY2UnKSwgMTApLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXJuaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkYXRhLmtlcm5pbmcucHVzaCh7XG4gICAgICAgICAgICAgICAgZmlyc3Q6IHBhcnNlSW50KGtlcm5pbmdbaV0uZ2V0QXR0cmlidXRlKCdmaXJzdCcpLCAxMCksXG4gICAgICAgICAgICAgICAgc2Vjb25kOiBwYXJzZUludChrZXJuaW5nW2ldLmdldEF0dHJpYnV0ZSgnc2Vjb25kJyksIDEwKSxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IHBhcnNlSW50KGtlcm5pbmdbaV0uZ2V0QXR0cmlidXRlKCdhbW91bnQnKSwgMTApLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcbiAgICByZXR1cm4gWE1MRm9ybWF0O1xufSgpKTtcblxuLy8gUmVnaXN0ZXJlZCBmb3JtYXRzLCBtYXliZSBtYWtlIHRoaXMgZXh0ZW5zaWJsZSBpbiB0aGUgZnV0dXJlP1xudmFyIGZvcm1hdHMgPSBbXG4gICAgVGV4dEZvcm1hdCxcbiAgICBYTUxGb3JtYXQgXTtcbi8qKlxuICogQXV0by1kZXRlY3QgQml0bWFwRm9udCBwYXJzaW5nIGZvcm1hdCBiYXNlZCBvbiBkYXRhLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7YW55fSBkYXRhIC0gRGF0YSB0byBkZXRlY3QgZm9ybWF0XG4gKiBAcmV0dXJuIHthbnl9IEZvcm1hdCBvciBudWxsXG4gKi9cbmZ1bmN0aW9uIGF1dG9EZXRlY3RGb3JtYXQoZGF0YSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9ybWF0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZm9ybWF0c1tpXS50ZXN0KGRhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLy8gVE9ETzogUHJldmVudCBjb2RlIGR1cGxpY2F0aW9uIGIvdyBnZW5lcmF0ZUZpbGxTdHlsZSAmIFRleHQjZ2VuZXJhdGVGaWxsU3R5bGVcbi8qKlxuICogR2VuZXJhdGVzIHRoZSBmaWxsIHN0eWxlLiBDYW4gYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhIGdyYWRpZW50IGJhc2VkIG9uIHRoZSBmaWxsIHN0eWxlIGJlaW5nIGFuIGFycmF5XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZSAtIFRoZSBzdHlsZS5cbiAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gVGhlIGxpbmVzIG9mIHRleHQuXG4gKiBAcmV0dXJuIHtzdHJpbmd8bnVtYmVyfENhbnZhc0dyYWRpZW50fSBUaGUgZmlsbCBzdHlsZVxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZUZpbGxTdHlsZShjYW52YXMsIGNvbnRleHQsIHN0eWxlLCByZXNvbHV0aW9uLCBsaW5lcywgbWV0cmljcykge1xuICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgbnVtYmVyIHR5cGUgYXNcbiAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgLy8gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNTIxXG4gICAgdmFyIGZpbGxTdHlsZSA9IHN0eWxlLmZpbGw7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGZpbGxTdHlsZSkpIHtcbiAgICAgICAgcmV0dXJuIGZpbGxTdHlsZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZmlsbFN0eWxlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZmlsbFN0eWxlWzBdO1xuICAgIH1cbiAgICAvLyB0aGUgZ3JhZGllbnQgd2lsbCBiZSBldmVubHkgc3BhY2VkIG91dCBhY2NvcmRpbmcgdG8gaG93IGxhcmdlIHRoZSBhcnJheSBpcy5cbiAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gd291bGQgY3JlYXRlZCBzdG9wcyBhdCAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICB2YXIgZ3JhZGllbnQ7XG4gICAgLy8gYSBkcm9wc2hhZG93IHdpbGwgZW5sYXJnZSB0aGUgY2FudmFzIGFuZCByZXN1bHQgaW4gdGhlIGdyYWRpZW50IGJlaW5nXG4gICAgLy8gZ2VuZXJhdGVkIHdpdGggdGhlIGluY29ycmVjdCBkaW1lbnNpb25zXG4gICAgdmFyIGRyb3BTaGFkb3dDb3JyZWN0aW9uID0gKHN0eWxlLmRyb3BTaGFkb3cpID8gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlIDogMDtcbiAgICAvLyBzaG91bGQgYWxzbyB0YWtlIHBhZGRpbmcgaW50byBhY2NvdW50LCBwYWRkaW5nIGNhbiBvZmZzZXQgdGhlIGdyYWRpZW50XG4gICAgdmFyIHBhZGRpbmcgPSBzdHlsZS5wYWRkaW5nIHx8IDA7XG4gICAgdmFyIHdpZHRoID0gTWF0aC5jZWlsKGNhbnZhcy53aWR0aCAvIHJlc29sdXRpb24pIC0gZHJvcFNoYWRvd0NvcnJlY3Rpb24gLSAocGFkZGluZyAqIDIpO1xuICAgIHZhciBoZWlnaHQgPSBNYXRoLmNlaWwoY2FudmFzLmhlaWdodCAvIHJlc29sdXRpb24pIC0gZHJvcFNoYWRvd0NvcnJlY3Rpb24gLSAocGFkZGluZyAqIDIpO1xuICAgIC8vIG1ha2UgYSBjb3B5IG9mIHRoZSBzdHlsZSBzZXR0aW5ncywgc28gd2UgY2FuIG1hbmlwdWxhdGUgdGhlbSBsYXRlclxuICAgIHZhciBmaWxsID0gZmlsbFN0eWxlLnNsaWNlKCk7XG4gICAgdmFyIGZpbGxHcmFkaWVudFN0b3BzID0gc3R5bGUuZmlsbEdyYWRpZW50U3RvcHMuc2xpY2UoKTtcbiAgICAvLyB3YW50aW5nIHRvIGV2ZW5seSBkaXN0cmlidXRlIHRoZSBmaWxscy4gU28gYW4gYXJyYXkgb2YgNCBjb2xvdXJzIHNob3VsZCBnaXZlIGZpbGxzIG9mIDAuMjUsIDAuNSBhbmQgMC43NVxuICAgIGlmICghZmlsbEdyYWRpZW50U3RvcHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBsZW5ndGhQbHVzMSA9IGZpbGwubGVuZ3RoICsgMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW5ndGhQbHVzMTsgKytpKSB7XG4gICAgICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKGkgLyBsZW5ndGhQbHVzMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gc3RvcCB0aGUgYmxlZWRpbmcgb2YgdGhlIGxhc3QgZ3JhZGllbnQgb24gdGhlIGxpbmUgYWJvdmUgdG8gdGhlIHRvcCBncmFkaWVudCBvZiB0aGUgdGhpcyBsaW5lXG4gICAgLy8gYnkgaGFyZCBkZWZpbmluZyB0aGUgZmlyc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDAsIGFuZCBsYXN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAxXG4gICAgZmlsbC51bnNoaWZ0KGZpbGxTdHlsZVswXSk7XG4gICAgZmlsbEdyYWRpZW50U3RvcHMudW5zaGlmdCgwKTtcbiAgICBmaWxsLnB1c2goZmlsbFN0eWxlW2ZpbGxTdHlsZS5sZW5ndGggLSAxXSk7XG4gICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaCgxKTtcbiAgICBpZiAoc3R5bGUuZmlsbEdyYWRpZW50VHlwZSA9PT0gVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwpIHtcbiAgICAgICAgLy8gc3RhcnQgdGhlIGdyYWRpZW50IGF0IHRoZSB0b3AgY2VudGVyIG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGJvdHRvbSBtaWRkbGUgb2YgdGhlIGNhbnZhc1xuICAgICAgICBncmFkaWVudCA9IGNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQod2lkdGggLyAyLCBwYWRkaW5nLCB3aWR0aCAvIDIsIGhlaWdodCArIHBhZGRpbmcpO1xuICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlcGVhdCB0aGUgZ3JhZGllbnQgc28gdGhhdCBlYWNoIGluZGl2aWR1YWwgbGluZSBvZiB0ZXh0IGhhcyB0aGUgc2FtZSB2ZXJ0aWNhbCBncmFkaWVudCBlZmZlY3RcbiAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIG92ZXIgMiBsaW5lcyB3b3VsZCBjcmVhdGUgc3RvcHMgYXQgMC4xMjUsIDAuMjUsIDAuMzc1LCAwLjYyNSwgMC43NSwgMC44NzVcbiAgICAgICAgLy8gVGhlcmUncyBwb3RlbnRpYWwgZm9yIGZsb2F0aW5nIHBvaW50IHByZWNpc2lvbiBpc3N1ZXMgYXQgdGhlIHNlYW1zIGJldHdlZW4gZ3JhZGllbnQgcmVwZWF0cy5cbiAgICAgICAgLy8gVGhlIGxvb3AgYmVsb3cgZ2VuZXJhdGVzIHRoZSBzdG9wcyBpbiBvcmRlciwgc28gdHJhY2sgdGhlIGxhc3QgZ2VuZXJhdGVkIG9uZSB0byBwcmV2ZW50XG4gICAgICAgIC8vIGZsb2F0aW5nIHBvaW50IHByZWNpc2lvbiBmcm9tIG1ha2luZyB1cyBnbyB0aGUgdGVlbmllc3QgYml0IGJhY2t3YXJkcywgcmVzdWx0aW5nIGluXG4gICAgICAgIC8vIHRoZSBmaXJzdCBhbmQgbGFzdCBjb2xvcnMgZ2V0dGluZyBzd2FwcGVkLlxuICAgICAgICB2YXIgbGFzdEl0ZXJhdGlvblN0b3AgPSAwO1xuICAgICAgICAvLyBBY3R1YWwgaGVpZ2h0IG9mIHRoZSB0ZXh0IGl0c2VsZiwgbm90IGNvdW50aW5nIHNwYWNpbmcgZm9yIGxpbmVIZWlnaHQvbGVhZGluZy9kcm9wU2hhZG93IGV0Y1xuICAgICAgICB2YXIgdGV4dEhlaWdodCA9IG1ldHJpY3MuZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIC8vIHRleHRIZWlnaHQsIGJ1dCBhcyBhIDAtMSBzaXplIGluIGdsb2JhbCBncmFkaWVudCBzdG9wIHNwYWNlXG4gICAgICAgIHZhciBncmFkU3RvcExpbmVIZWlnaHQgPSB0ZXh0SGVpZ2h0IC8gaGVpZ2h0O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGhpc0xpbmVUb3AgPSBtZXRyaWNzLmxpbmVIZWlnaHQgKiBpO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmaWxsLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgLy8gMC0xIHN0b3AgcG9pbnQgZm9yIHRoZSBjdXJyZW50IGxpbmUsIG11bHRpcGxpZWQgdG8gZ2xvYmFsIHNwYWNlIGFmdGVyd2FyZHNcbiAgICAgICAgICAgICAgICB2YXIgbGluZVN0b3AgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbal0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVTdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbal07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsaW5lU3RvcCA9IGogLyBmaWxsLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGdsb2JhbFN0b3AgPSAodGhpc0xpbmVUb3AgLyBoZWlnaHQpICsgKGxpbmVTdG9wICogZ3JhZFN0b3BMaW5lSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGNvbG9yIHN0b3AgZ2VuZXJhdGlvbiBnb2luZyBiYWNrd2FyZHMgZnJvbSBmbG9hdGluZyBwb2ludCBpbXByZWNpc2lvblxuICAgICAgICAgICAgICAgIHZhciBjbGFtcGVkU3RvcCA9IE1hdGgubWF4KGxhc3RJdGVyYXRpb25TdG9wLCBnbG9iYWxTdG9wKTtcbiAgICAgICAgICAgICAgICBjbGFtcGVkU3RvcCA9IE1hdGgubWluKGNsYW1wZWRTdG9wLCAxKTsgLy8gQ2FwIGF0IDEgYXMgd2VsbCBmb3Igc2FmZXR5J3Mgc2FrZSB0byBhdm9pZCBhIHBvc3NpYmxlIHRocm93LlxuICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChjbGFtcGVkU3RvcCwgZmlsbFtqXSk7XG4gICAgICAgICAgICAgICAgbGFzdEl0ZXJhdGlvblN0b3AgPSBjbGFtcGVkU3RvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gc3RhcnQgdGhlIGdyYWRpZW50IGF0IHRoZSBjZW50ZXIgbGVmdCBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBjZW50ZXIgcmlnaHQgb2YgdGhlIGNhbnZhc1xuICAgICAgICBncmFkaWVudCA9IGNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQocGFkZGluZywgaGVpZ2h0IC8gMiwgd2lkdGggKyBwYWRkaW5nLCBoZWlnaHQgLyAyKTtcbiAgICAgICAgLy8gY2FuIGp1c3QgZXZlbmx5IHNwYWNlIG91dCB0aGUgZ3JhZGllbnRzIGluIHRoaXMgY2FzZSwgYXMgbXVsdGlwbGUgbGluZXMgbWFrZXMgbm8gZGlmZmVyZW5jZVxuICAgICAgICAvLyB0byBhbiBldmVuIGxlZnQgdG8gcmlnaHQgZ3JhZGllbnRcbiAgICAgICAgdmFyIHRvdGFsSXRlcmF0aW9ucyA9IGZpbGwubGVuZ3RoICsgMTtcbiAgICAgICAgdmFyIGN1cnJlbnRJdGVyYXRpb24gPSAxO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzdG9wID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tpXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW2ldKTtcbiAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ3JhZGllbnQ7XG59XG5cbi8vIFRPRE86IFByZXZlbnQgY29kZSBkdXBsaWNhdGlvbiBiL3cgZHJhd0dseXBoICYgVGV4dCN1cGRhdGVUZXh0XG4vKipcbiAqIERyYXdzIHRoZSBnbHlwaCBgbWV0cmljcy50ZXh0YCBvbiB0aGUgZ2l2ZW4gY2FudmFzLlxuICpcbiAqIElnbm9yZWQgYmVjYXVzZSBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXNcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0XG4gKiBAcGFyYW0ge1RleHRNZXRyaWNzfSBtZXRyaWNzXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHBhcmFtIHtudW1iZXJ9IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uXG4gKiBAcGFyYW0ge1RleHRTdHlsZX0gc3R5bGVcbiAqL1xuZnVuY3Rpb24gZHJhd0dseXBoKGNhbnZhcywgY29udGV4dCwgbWV0cmljcywgeCwgeSwgcmVzb2x1dGlvbiwgc3R5bGUpIHtcbiAgICB2YXIgY2hhciA9IG1ldHJpY3MudGV4dDtcbiAgICB2YXIgZm9udFByb3BlcnRpZXMgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzO1xuICAgIGNvbnRleHQudHJhbnNsYXRlKHgsIHkpO1xuICAgIGNvbnRleHQuc2NhbGUocmVzb2x1dGlvbiwgcmVzb2x1dGlvbik7XG4gICAgdmFyIHR4ID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMjtcbiAgICB2YXIgdHkgPSAtKHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIpO1xuICAgIGNvbnRleHQuZm9udCA9IHN0eWxlLnRvRm9udFN0cmluZygpO1xuICAgIGNvbnRleHQubGluZVdpZHRoID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gc3R5bGUudGV4dEJhc2VsaW5lO1xuICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHlsZS5saW5lSm9pbjtcbiAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSBzdHlsZS5taXRlckxpbWl0O1xuICAgIC8vIHNldCBjYW52YXMgdGV4dCBzdHlsZXNcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGdlbmVyYXRlRmlsbFN0eWxlKGNhbnZhcywgY29udGV4dCwgc3R5bGUsIHJlc29sdXRpb24sIFtjaGFyXSwgbWV0cmljcyk7XG4gICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLnN0cm9rZTtcbiAgICBjb250ZXh0LmZvbnQgPSBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IHN0eWxlLnRleHRCYXNlbGluZTtcbiAgICBjb250ZXh0LmxpbmVKb2luID0gc3R5bGUubGluZUpvaW47XG4gICAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcbiAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBnZW5lcmF0ZUZpbGxTdHlsZShjYW52YXMsIGNvbnRleHQsIHN0eWxlLCByZXNvbHV0aW9uLCBbY2hhcl0sIG1ldHJpY3MpO1xuICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2U7XG4gICAgdmFyIGRyb3BTaGFkb3dDb2xvciA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICB2YXIgcmdiID0gaGV4MnJnYih0eXBlb2YgZHJvcFNoYWRvd0NvbG9yID09PSAnbnVtYmVyJyA/IGRyb3BTaGFkb3dDb2xvciA6IHN0cmluZzJoZXgoZHJvcFNoYWRvd0NvbG9yKSk7XG4gICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IFwicmdiYShcIiArIHJnYlswXSAqIDI1NSArIFwiLFwiICsgcmdiWzFdICogMjU1ICsgXCIsXCIgKyByZ2JbMl0gKiAyNTUgKyBcIixcIiArIHN0eWxlLmRyb3BTaGFkb3dBbHBoYSArIFwiKVwiO1xuICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSBzdHlsZS5kcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gTWF0aC5jb3Moc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gTWF0aC5zaW4oc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSAnMCc7XG4gICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IDA7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IDA7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IDA7XG4gICAgfVxuICAgIGlmIChzdHlsZS5zdHJva2UgJiYgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKSB7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlVGV4dChjaGFyLCB0eCwgdHkgKyBtZXRyaWNzLmxpbmVIZWlnaHQgLSBmb250UHJvcGVydGllcy5kZXNjZW50KTtcbiAgICB9XG4gICAgaWYgKHN0eWxlLmZpbGwpIHtcbiAgICAgICAgY29udGV4dC5maWxsVGV4dChjaGFyLCB0eCwgdHkgKyBtZXRyaWNzLmxpbmVIZWlnaHQgLSBmb250UHJvcGVydGllcy5kZXNjZW50KTtcbiAgICB9XG4gICAgY29udGV4dC5zZXRUcmFuc2Zvcm0oKTtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDAsIDAsIDApJztcbn1cblxuLyoqXG4gKiBQcm9jZXNzZXMgdGhlIHBhc3NlZCBjaGFyYWN0ZXIgc2V0IGRhdGEgYW5kIHJldHVybnMgYSBmbGF0dGVuZWQgYXJyYXkgb2YgYWxsIHRoZSBjaGFyYWN0ZXJzLlxuICpcbiAqIElnbm9yZWQgYmVjYXVzZSBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdIHwgc3RyaW5nW11bXSB9IGNoYXJzXG4gKiBAcmV0dXJucyB7c3RyaW5nW119XG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVDaGFyYWN0ZXJzKGNoYXJzKSB7XG4gICAgLy8gU3BsaXQgdGhlIGNoYXJzIHN0cmluZyBpbnRvIGluZGl2aWR1YWwgY2hhcmFjdGVyc1xuICAgIGlmICh0eXBlb2YgY2hhcnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNoYXJzID0gW2NoYXJzXTtcbiAgICB9XG4gICAgLy8gSGFuZGxlIGFuIGFycmF5IG9mIGNoYXJhY3RlcnMrcmFuZ2VzXG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gY2hhcnMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtID0gY2hhcnNbaV07XG4gICAgICAgIC8vIEhhbmRsZSByYW5nZSBkZWxpbWl0ZWQgYnkgc3RhcnQvZW5kIGNoYXJzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbQml0bWFwRm9udF06IEludmFsaWQgY2hhcmFjdGVyIHJhbmdlIGxlbmd0aCwgZXhwZWN0aW5nIDIgZ290IFwiICsgaXRlbS5sZW5ndGggKyBcIi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RhcnRDb2RlID0gaXRlbVswXS5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgdmFyIGVuZENvZGUgPSBpdGVtWzFdLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICBpZiAoZW5kQ29kZSA8IHN0YXJ0Q29kZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW0JpdG1hcEZvbnRdOiBJbnZhbGlkIGNoYXJhY3RlciByYW5nZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IHN0YXJ0Q29kZSwgal8xID0gZW5kQ29kZTsgaV8xIDw9IGpfMTsgaV8xKyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGlfMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZSBhIGNoYXJhY3RlciBzZXQgc3RyaW5nXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2guYXBwbHkocmVzdWx0LCBpdGVtLnNwbGl0KCcnKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbQml0bWFwRm9udF06IEVtcHR5IHNldCB3aGVuIHJlc29sdmluZyBjaGFyYWN0ZXJzLicpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEJpdG1hcEZvbnQgcmVwcmVzZW50cyBhIHR5cGVmYWNlIGF2YWlsYWJsZSBmb3IgdXNlIHdpdGggdGhlIEJpdG1hcFRleHQgY2xhc3MuIFVzZSB0aGUgYGluc3RhbGxgXG4gKiBtZXRob2QgZm9yIGFkZGluZyBhIGZvbnQgdG8gYmUgdXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCaXRtYXBGb250ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CaXRtYXBGb250RGF0YX0gZGF0YVxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlW118T2JqZWN0LjxzdHJpbmcsIFBJWEkuVGV4dHVyZT59IHRleHR1cmVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gQml0bWFwRm9udChkYXRhLCB0ZXh0dXJlcykge1xuICAgICAgICB2YXIgaW5mbyA9IGRhdGEuaW5mb1swXTtcbiAgICAgICAgdmFyIGNvbW1vbiA9IGRhdGEuY29tbW9uWzBdO1xuICAgICAgICB2YXIgcGFnZSA9IGRhdGEucGFnZVswXTtcbiAgICAgICAgdmFyIHJlcyA9IGdldFJlc29sdXRpb25PZlVybChwYWdlLmZpbGUpO1xuICAgICAgICB2YXIgcGFnZVRleHR1cmVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZm9udCBmYWNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb250ID0gaW5mby5mYWNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNpemUgb2YgdGhlIGZvbnQgZmFjZSBpbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNpemUgPSBpbmZvLnNpemU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGluZS1oZWlnaHQgb2YgdGhlIGZvbnQgZmFjZSBpbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSBjb21tb24ubGluZUhlaWdodCAvIHJlcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXAgb2YgY2hhcmFjdGVycyBieSBjaGFyYWN0ZXIgY29kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hhcnMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXAgb2YgYmFzZSBwYWdlIHRleHR1cmVzIChpLmUuLCBzaGVldHMgb2YgZ2x5cGhzKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGFnZVRleHR1cmVzID0gcGFnZVRleHR1cmVzO1xuICAgICAgICAvLyBDb252ZXJ0IHRoZSBpbnB1dCBUZXh0dXJlLCBUZXh0dXJlcyBvciBvYmplY3RcbiAgICAgICAgLy8gaW50byBhIHBhZ2UgVGV4dHVyZSBsb29rdXAgYnkgXCJpZFwiXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5wYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBkYXRhLnBhZ2VbaV0sIGlkID0gX2EuaWQsIGZpbGUgPSBfYS5maWxlO1xuICAgICAgICAgICAgcGFnZVRleHR1cmVzW2lkXSA9IHRleHR1cmVzIGluc3RhbmNlb2YgQXJyYXlcbiAgICAgICAgICAgICAgICA/IHRleHR1cmVzW2ldIDogdGV4dHVyZXNbZmlsZV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFyc2UgbGV0dGVyc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuY2hhci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIF9iID0gZGF0YS5jaGFyW2ldLCBpZCA9IF9iLmlkLCBwYWdlXzEgPSBfYi5wYWdlO1xuICAgICAgICAgICAgdmFyIF9jID0gZGF0YS5jaGFyW2ldLCB4ID0gX2MueCwgeSA9IF9jLnksIHdpZHRoID0gX2Mud2lkdGgsIGhlaWdodCA9IF9jLmhlaWdodCwgeG9mZnNldCA9IF9jLnhvZmZzZXQsIHlvZmZzZXQgPSBfYy55b2Zmc2V0LCB4YWR2YW5jZSA9IF9jLnhhZHZhbmNlO1xuICAgICAgICAgICAgeCAvPSByZXM7XG4gICAgICAgICAgICB5IC89IHJlcztcbiAgICAgICAgICAgIHdpZHRoIC89IHJlcztcbiAgICAgICAgICAgIGhlaWdodCAvPSByZXM7XG4gICAgICAgICAgICB4b2Zmc2V0IC89IHJlcztcbiAgICAgICAgICAgIHlvZmZzZXQgLz0gcmVzO1xuICAgICAgICAgICAgeGFkdmFuY2UgLz0gcmVzO1xuICAgICAgICAgICAgdmFyIHJlY3QgPSBuZXcgUmVjdGFuZ2xlKHggKyAocGFnZVRleHR1cmVzW3BhZ2VfMV0uZnJhbWUueCAvIHJlcyksIHkgKyAocGFnZVRleHR1cmVzW3BhZ2VfMV0uZnJhbWUueSAvIHJlcyksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5jaGFyc1tpZF0gPSB7XG4gICAgICAgICAgICAgICAgeE9mZnNldDogeG9mZnNldCxcbiAgICAgICAgICAgICAgICB5T2Zmc2V0OiB5b2Zmc2V0LFxuICAgICAgICAgICAgICAgIHhBZHZhbmNlOiB4YWR2YW5jZSxcbiAgICAgICAgICAgICAgICBrZXJuaW5nOiB7fSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBuZXcgVGV4dHVyZShwYWdlVGV4dHVyZXNbcGFnZV8xXS5iYXNlVGV4dHVyZSwgcmVjdCksXG4gICAgICAgICAgICAgICAgcGFnZTogcGFnZV8xLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwYXJzZSBrZXJuaW5nc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEua2VybmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIF9kID0gZGF0YS5rZXJuaW5nW2ldLCBmaXJzdCA9IF9kLmZpcnN0LCBzZWNvbmQgPSBfZC5zZWNvbmQsIGFtb3VudCA9IF9kLmFtb3VudDtcbiAgICAgICAgICAgIGZpcnN0IC89IHJlcztcbiAgICAgICAgICAgIHNlY29uZCAvPSByZXM7XG4gICAgICAgICAgICBhbW91bnQgLz0gcmVzO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhcnNbc2Vjb25kXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcnNbc2Vjb25kXS5rZXJuaW5nW2ZpcnN0XSA9IGFtb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgcmVmZXJlbmNlcyB0byBjcmVhdGVkIGdseXBoIHRleHR1cmVzLlxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMuY2hhcnMpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhcnNbaWRdLnRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5jaGFyc1tpZF0udGV4dHVyZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5wYWdlVGV4dHVyZXMpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZVRleHR1cmVzW2lkXS5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXNbaWRdID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgcmVhZG9ubHkgbnVsbC5cbiAgICAgICAgdGhpcy5jaGFycyA9IG51bGw7XG4gICAgICAgIHRoaXMucGFnZVRleHR1cmVzID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgbmV3IGJpdG1hcCBmb250LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7WE1MRG9jdW1lbnR8c3RyaW5nfFBJWEkuQml0bWFwRm9udERhdGF9IGRhdGEgLSBUaGVcbiAgICAgKiAgICAgICAgY2hhcmFjdGVycyBtYXAgdGhhdCBjb3VsZCBiZSBwcm92aWRlZCBhcyB4bWwgb3IgcmF3IHN0cmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBQSVhJLlRleHR1cmU+fFBJWEkuVGV4dHVyZXxQSVhJLlRleHR1cmVbXX1cbiAgICAgKiAgICAgICAgdGV4dHVyZXMgLSBMaXN0IG9mIHRleHR1cmVzIGZvciBlYWNoIHBhZ2UuXG4gICAgICogQHJldHVybiB7UElYSS5CaXRtYXBGb250fSBSZXN1bHQgZm9udCBvYmplY3Qgd2l0aCBmb250LCBzaXplLCBsaW5lSGVpZ2h0XG4gICAgICogICAgICAgICBhbmQgY2hhciBmaWVsZHMuXG4gICAgICovXG4gICAgQml0bWFwRm9udC5pbnN0YWxsID0gZnVuY3Rpb24gKGRhdGEsIHRleHR1cmVzKSB7XG4gICAgICAgIHZhciBmb250RGF0YTtcbiAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBCaXRtYXBGb250RGF0YSkge1xuICAgICAgICAgICAgZm9udERhdGEgPSBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGZvcm1hdCA9IGF1dG9EZXRlY3RGb3JtYXQoZGF0YSk7XG4gICAgICAgICAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5yZWNvZ25pemVkIGRhdGEgZm9ybWF0IGZvciBmb250LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9udERhdGEgPSBmb3JtYXQucGFyc2UoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2luZ2xlIHRleHR1cmUsIGNvbnZlcnQgdG8gbGlzdFxuICAgICAgICBpZiAodGV4dHVyZXMgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgICAgICB0ZXh0dXJlcyA9IFt0ZXh0dXJlc107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvbnQgPSBuZXcgQml0bWFwRm9udChmb250RGF0YSwgdGV4dHVyZXMpO1xuICAgICAgICBCaXRtYXBGb250LmF2YWlsYWJsZVtmb250LmZvbnRdID0gZm9udDtcbiAgICAgICAgcmV0dXJuIGZvbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYml0bWFwIGZvbnQgYnkgbmFtZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQudW5pbnN0YWxsID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIGZvbnQgPSBCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXTtcbiAgICAgICAgaWYgKCFmb250KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBmb250IGZvdW5kIG5hbWVkICdcIiArIG5hbWUgKyBcIidcIik7XG4gICAgICAgIH1cbiAgICAgICAgZm9udC5kZXN0cm95KCk7XG4gICAgICAgIGRlbGV0ZSBCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIGJpdG1hcC1mb250IGZvciB0aGUgZ2l2ZW4gc3R5bGUgYW5kIGNoYXJhY3RlciBzZXQuIFRoaXMgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAqIGtlcm5pbmdzIHlldC4gV2l0aCBgc3R5bGVgIHByb3BlcnRpZXMsIG9ubHkgdGhlIGZvbGxvd2luZyBub24tbGF5b3V0IHByb3BlcnRpZXMgYXJlIHVzZWQ6XG4gICAgICpcbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNkcm9wU2hhZG93fGRyb3BTaGFkb3d9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZHJvcFNoYWRvd0Rpc3RhbmNlfGRyb3BTaGFkb3dEaXN0YW5jZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNkcm9wU2hhZG93Q29sb3J8ZHJvcFNoYWRvd0NvbG9yfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3dCbHVyfGRyb3BTaGFkb3dCbHVyfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3dBbmdsZXxkcm9wU2hhZG93QW5nbGV9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZmlsbHxmaWxsfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZpbGxHcmFkaWVudFN0b3BzfGZpbGxHcmFkaWVudFN0b3BzfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZpbGxHcmFkaWVudFR5cGV8ZmlsbEdyYWRpZW50VHlwZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmb250RmFtaWx5fGZvbnRGYW1pbHl9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZm9udFNpemV8Zm9udFNpemV9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZm9udFZhcmlhbnR8Zm9udFZhcmlhbnR9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZm9udFdlaWdodHxmb250V2VpZ2h0fVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2xpbmVKb2lufGxpbmVKb2lufVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI21pdGVyTGltaXR8bWl0ZXJMaW1pdH1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNzdHJva2V8c3Ryb2tlfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI3N0cm9rZVRoaWNrbmVzc3xzdHJva2VUaGlja25lc3N9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjdGV4dEJhc2VsaW5lfHRleHRCYXNlbGluZX1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGN1c3RvbSBmb250IHRvIHVzZSB3aXRoIEJpdG1hcFRleHQuXG4gICAgICogQHBhcmFtIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9IFtzdHlsZV0gLSBTdHlsZSBvcHRpb25zIHRvIHJlbmRlciB3aXRoIEJpdG1hcEZvbnQuXG4gICAgICogQHBhcmFtIHtQSVhJLklCaXRtYXBGb250T3B0aW9uc30gW29wdGlvbnNdIC0gU2V0dXAgb3B0aW9ucyBmb3IgZm9udCBvciBuYW1lIG9mIHRoZSBmb250LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfHN0cmluZ1tdW119IFtvcHRpb25zLmNoYXJzPVBJWEkuQml0bWFwRm9udC5BTFBIQU5VTUVSSUNdIC0gY2hhcmFjdGVycyBpbmNsdWRlZFxuICAgICAqICAgICAgaW4gdGhlIGZvbnQgc2V0LiBZb3UgY2FuIGFsc28gdXNlIHJhbmdlcy4gRm9yIGV4YW1wbGUsIGBbWydhJywgJ3onXSwgWydBJywgJ1onXSwgXCIhQCMkJV4mKigpfnt9W10gXCJdYC5cbiAgICAgKiAgICAgIERvbid0IGZvcmdldCB0byBpbmNsdWRlIHNwYWNlcyAnICcgaW4geW91ciBjaGFyYWN0ZXIgc2V0IVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gUmVuZGVyIHJlc29sdXRpb24gZm9yIGdseXBocy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudGV4dHVyZVdpZHRoPTUxMl0gLSBPcHRpb25hbCB3aWR0aCBvZiBhdGxhcywgc21hbGxlciB2YWx1ZXMgdG8gcmVkdWNlIG1lbW9yeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudGV4dHVyZUhlaWdodD01MTJdIC0gT3B0aW9uYWwgaGVpZ2h0IG9mIGF0bGFzLCBzbWFsbGVyIHZhbHVlcyB0byByZWR1Y2UgbWVtb3J5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5wYWRkaW5nPTRdIC0gUGFkZGluZyBiZXR3ZWVuIGdseXBocyBvbiB0ZXh0dXJlIGF0bGFzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQml0bWFwRm9udH0gRm9udCBnZW5lcmF0ZWQgYnkgc3R5bGUgb3B0aW9ucy5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBQSVhJLkJpdG1hcEZvbnQuZnJvbShcIlRpdGxlRm9udFwiLCB7XG4gICAgICogICAgIGZvbnRGYW1pbHk6IFwiQXJpYWxcIixcbiAgICAgKiAgICAgZm9udFNpemU6IDEyLFxuICAgICAqICAgICBzdHJva2VUaGlja25lc3M6IDIsXG4gICAgICogICAgIGZpbGw6IFwicHVycGxlXCJcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGNvbnN0IHRpdGxlID0gbmV3IFBJWEkuQml0bWFwVGV4dChcIlRoaXMgaXMgdGhlIHRpdGxlXCIsIHsgZm9udE5hbWU6IFwiVGl0bGVGb250XCIgfSk7XG4gICAgICovXG4gICAgQml0bWFwRm9udC5mcm9tID0gZnVuY3Rpb24gKG5hbWUsIHRleHRTdHlsZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW0JpdG1hcEZvbnRdIFByb3BlcnR5IGBuYW1lYCBpcyByZXF1aXJlZC4nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSBPYmplY3QuYXNzaWduKHt9LCBCaXRtYXBGb250LmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKSwgY2hhcnMgPSBfYS5jaGFycywgcGFkZGluZyA9IF9hLnBhZGRpbmcsIHJlc29sdXRpb24gPSBfYS5yZXNvbHV0aW9uLCB0ZXh0dXJlV2lkdGggPSBfYS50ZXh0dXJlV2lkdGgsIHRleHR1cmVIZWlnaHQgPSBfYS50ZXh0dXJlSGVpZ2h0O1xuICAgICAgICB2YXIgY2hhcnNMaXN0ID0gcmVzb2x2ZUNoYXJhY3RlcnMoY2hhcnMpO1xuICAgICAgICB2YXIgc3R5bGUgPSB0ZXh0U3R5bGUgaW5zdGFuY2VvZiBUZXh0U3R5bGUgPyB0ZXh0U3R5bGUgOiBuZXcgVGV4dFN0eWxlKHRleHRTdHlsZSk7XG4gICAgICAgIHZhciBsaW5lV2lkdGggPSB0ZXh0dXJlV2lkdGg7XG4gICAgICAgIHZhciBmb250RGF0YSA9IG5ldyBCaXRtYXBGb250RGF0YSgpO1xuICAgICAgICBmb250RGF0YS5pbmZvWzBdID0ge1xuICAgICAgICAgICAgZmFjZTogc3R5bGUuZm9udEZhbWlseSxcbiAgICAgICAgICAgIHNpemU6IHN0eWxlLmZvbnRTaXplLFxuICAgICAgICB9O1xuICAgICAgICBmb250RGF0YS5jb21tb25bMF0gPSB7XG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiBzdHlsZS5mb250U2l6ZSxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHBvc2l0aW9uWCA9IDA7XG4gICAgICAgIHZhciBwb3NpdGlvblkgPSAwO1xuICAgICAgICB2YXIgY2FudmFzO1xuICAgICAgICB2YXIgY29udGV4dDtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgbWF4Q2hhckhlaWdodCA9IDA7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSB0ZXh0dXJlV2lkdGg7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHRleHR1cmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKGNhbnZhcywgeyByZXNvbHV0aW9uOiByZXNvbHV0aW9uIH0pO1xuICAgICAgICAgICAgICAgIHRleHR1cmVzLnB1c2gobmV3IFRleHR1cmUoYmFzZVRleHR1cmUpKTtcbiAgICAgICAgICAgICAgICBmb250RGF0YS5wYWdlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogdGV4dHVyZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZTogJycsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBNZWFzdXJlIGdseXBoIGRpbWVuc2lvbnNcbiAgICAgICAgICAgIHZhciBtZXRyaWNzID0gVGV4dE1ldHJpY3MubWVhc3VyZVRleHQoY2hhcnNMaXN0W2ldLCBzdHlsZSwgZmFsc2UsIGNhbnZhcyk7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSBtZXRyaWNzLndpZHRoO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IE1hdGguY2VpbChtZXRyaWNzLmhlaWdodCk7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIHVnbHkgLSBidXQgaXRhbGljcyBhcmUgZ2l2ZW4gbW9yZSBzcGFjZSBzbyB0aGV5IGRvbid0IG92ZXJsYXBcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlR2x5cGhXaWR0aCA9IE1hdGguY2VpbCgoc3R5bGUuZm9udFN0eWxlID09PSAnaXRhbGljJyA/IDIgOiAxKSAqIHdpZHRoKTtcbiAgICAgICAgICAgIC8vIENhbid0IGZpdCBjaGFyIGFueW1vcmU6IG5leHQgY2FudmFzIHBsZWFzZSFcbiAgICAgICAgICAgIGlmIChwb3NpdGlvblkgPj0gdGV4dHVyZUhlaWdodCAtIChoZWlnaHQgKiByZXNvbHV0aW9uKSkge1xuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvblkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB1c2VyIGRlYnVnZ2luZyBhbiBpbmZpbml0ZSBsb29wIChvciBkbyB3ZT8gOilcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW0JpdG1hcEZvbnRdIHRleHR1cmVIZWlnaHQgXCIgKyB0ZXh0dXJlSGVpZ2h0ICsgXCJweCBpcyBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoXCJ0b28gc21hbGwgZm9yIFwiICsgc3R5bGUuZm9udFNpemUgKyBcInB4IGZvbnRzXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLS1pO1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgYXRsYXMgb25jZSBjdXJyZW50IGhhcyBmaWxsZWQgdXBcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblkgPSAwO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWCA9IDA7XG4gICAgICAgICAgICAgICAgbWF4Q2hhckhlaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXhDaGFySGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0ICsgbWV0cmljcy5mb250UHJvcGVydGllcy5kZXNjZW50LCBtYXhDaGFySGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIFdyYXAgbGluZSBvbmNlIGZ1bGwgcm93IGhhcyBiZWVuIHJlbmRlcmVkXG4gICAgICAgICAgICBpZiAoKHRleHR1cmVHbHlwaFdpZHRoICogcmVzb2x1dGlvbikgKyBwb3NpdGlvblggPj0gbGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgLS1pO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWSArPSBtYXhDaGFySGVpZ2h0ICogcmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblkgPSBNYXRoLmNlaWwocG9zaXRpb25ZKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblggPSAwO1xuICAgICAgICAgICAgICAgIG1heENoYXJIZWlnaHQgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZHJhd0dseXBoKGNhbnZhcywgY29udGV4dCwgbWV0cmljcywgcG9zaXRpb25YLCBwb3NpdGlvblksIHJlc29sdXRpb24sIHN0eWxlKTtcbiAgICAgICAgICAgIC8vIFVuaXF1ZSAobnVtZXJpYykgSUQgbWFwcGluZyB0byB0aGlzIGdseXBoXG4gICAgICAgICAgICB2YXIgaWQgPSBtZXRyaWNzLnRleHQuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIHRleHR1cmUgaG9sZGluZyBqdXN0IHRoZSBnbHlwaFxuICAgICAgICAgICAgZm9udERhdGEuY2hhci5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgcGFnZTogdGV4dHVyZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICB4OiBwb3NpdGlvblggLyByZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgIHk6IHBvc2l0aW9uWSAvIHJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRleHR1cmVHbHlwaFdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHhvZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgeW9mZnNldDogMCxcbiAgICAgICAgICAgICAgICB4YWR2YW5jZTogTWF0aC5jZWlsKHdpZHRoXG4gICAgICAgICAgICAgICAgICAgIC0gKHN0eWxlLmRyb3BTaGFkb3cgPyBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UgOiAwKVxuICAgICAgICAgICAgICAgICAgICAtIChzdHlsZS5zdHJva2UgPyBzdHlsZS5zdHJva2VUaGlja25lc3MgOiAwKSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBvc2l0aW9uWCArPSAodGV4dHVyZUdseXBoV2lkdGggKyAoMiAqIHBhZGRpbmcpKSAqIHJlc29sdXRpb247XG4gICAgICAgICAgICBwb3NpdGlvblggPSBNYXRoLmNlaWwocG9zaXRpb25YKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9udCA9IG5ldyBCaXRtYXBGb250KGZvbnREYXRhLCB0ZXh0dXJlcyk7XG4gICAgICAgIC8vIE1ha2UgaXQgZWFzaWVyIHRvIHJlcGxhY2UgYSBmb250XG4gICAgICAgIGlmIChCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBCaXRtYXBGb250LnVuaW5zdGFsbChuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXSA9IGZvbnQ7XG4gICAgICAgIHJldHVybiBmb250O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGluY2x1ZGVzIGFsbCB0aGUgbGV0dGVycyBpbiB0aGUgYWxwaGFiZXQgKGJvdGggbG93ZXItIGFuZCB1cHBlci0gY2FzZSkuXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge3N0cmluZ1tdW119XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBCaXRtYXBGb250LmZyb20oXCJFeGFtcGxlRm9udFwiLCBzdHlsZSwgeyBjaGFyczogQml0bWFwRm9udC5BTFBIQSB9KVxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuQUxQSEEgPSBbWydhJywgJ3onXSwgWydBJywgJ1onXSwgJyAnXTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNoYXJhY3RlciBzZXQgaW5jbHVkZXMgYWxsIGRlY2ltYWwgZGlnaXRzIChmcm9tIDAgdG8gOSkuXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge3N0cmluZ1tdW119XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBCaXRtYXBGb250LmZyb20oXCJFeGFtcGxlRm9udFwiLCBzdHlsZSwgeyBjaGFyczogQml0bWFwRm9udC5OVU1FUklDIH0pXG4gICAgICovXG4gICAgQml0bWFwRm9udC5OVU1FUklDID0gW1snMCcsICc5J11dO1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBpcyB0aGUgdW5pb24gb2YgYEJpdG1hcEZvbnQuQUxQSEFgIGFuZCBgQml0bWFwRm9udC5OVU1FUklDYC5cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7c3RyaW5nW11bXX1cbiAgICAgKi9cbiAgICBCaXRtYXBGb250LkFMUEhBTlVNRVJJQyA9IFtbJ2EnLCAneiddLCBbJ0EnLCAnWiddLCBbJzAnLCAnOSddLCAnICddO1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBjb25zaXN0cyBvZiBhbGwgdGhlIEFTQ0lJIHRhYmxlLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXVtdfVxuICAgICAqIEBzZWUgaHR0cDovL3d3dy5hc2NpaXRhYmxlLmNvbS9cbiAgICAgKi9cbiAgICBCaXRtYXBGb250LkFTQ0lJID0gW1snICcsICd+J11dO1xuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgZGVmYXVsdCBvcHRpb25zIHdoZW4gdXNpbmcgYEJpdG1hcEZvbnQuZnJvbWAuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udE9wdGlvbnN9XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHJlc29sdXRpb249MVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0ZXh0dXJlV2lkdGg9NTEyXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRleHR1cmVIZWlnaHQ9NTEyXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHBhZGRpbmc9NFxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfHN0cmluZ1tdfHN0cmluZ1tdW119IGNoYXJzPVBJWEkuQml0bWFwRm9udC5BTFBIQU5VTUVSSUNcbiAgICAgKi9cbiAgICBCaXRtYXBGb250LmRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgICB0ZXh0dXJlV2lkdGg6IDUxMixcbiAgICAgICAgdGV4dHVyZUhlaWdodDogNTEyLFxuICAgICAgICBwYWRkaW5nOiA0LFxuICAgICAgICBjaGFyczogQml0bWFwRm9udC5BTFBIQU5VTUVSSUMsXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGF2YWlsYWJsZS9pbnN0YWxsZWQgZm9udHMuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7T2JqZWN0LjxzdHJpbmcsIFBJWEkuQml0bWFwRm9udD59XG4gICAgICovXG4gICAgQml0bWFwRm9udC5hdmFpbGFibGUgPSB7fTtcbiAgICByZXR1cm4gQml0bWFwRm9udDtcbn0oKSk7XG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW50ZXJmYWNlIElCaXRtYXBGb250T3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmcgfCBzdHJpbmdbXSB8IHN0cmluZ1tdW119IFtjaGFycz1QSVhJLkJpdG1hcEZvbnQuQUxQSEFOVU1FUklDXSAtIHRoZSBjaGFyYWN0ZXIgc2V0IHRvIGdlbmVyYXRlXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSB0aGUgcmVzb2x1dGlvbiBmb3IgcmVuZGVyaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3BhZGRpbmc9NF0gLSB0aGUgcGFkZGluZyBiZXR3ZWVuIGdseXBocyBpbiB0aGUgYXRsYXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGV4dHVyZVdpZHRoPTUxMl0gLSB0aGUgd2lkdGggb2YgdGhlIHRleHR1cmUgYXRsYXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGV4dHVyZUhlaWdodD01MTJdIC0gdGhlIGhlaWdodCBvZiB0aGUgdGV4dHVyZSBhdGxhc1xuICovXG5cbnZhciBwYWdlTWVzaERhdGFQb29sID0gW107XG52YXIgY2hhclJlbmRlckRhdGFQb29sID0gW107XG4vKipcbiAqIEEgQml0bWFwVGV4dCBvYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQgdXNpbmcgYml0bWFwIGZvbnQuXG4gKlxuICogVGhlIHByaW1hcnkgYWR2YW50YWdlIG9mIHRoaXMgY2xhc3Mgb3ZlciBUZXh0IGlzIHRoYXQgYWxsIG9mIHlvdXIgdGV4dHVyZXMgYXJlIHByZS1nZW5lcmF0ZWQgYW5kIGxvYWRpbmcsXG4gKiBtZWFuaW5nIHRoYXQgcmVuZGVyaW5nIGlzIGZhc3QsIGFuZCBjaGFuZ2luZyB0ZXh0IGhhcyBubyBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMuXG4gKlxuICogU3VwcG9ydGluZyBjaGFyYWN0ZXIgc2V0cyBvdGhlciB0aGFuIGxhdGluLCBzdWNoIGFzIENKSyBsYW5ndWFnZXMsIG1heSBiZSBpbXByYWN0aWNhbCBkdWUgdG8gdGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzLlxuICpcbiAqIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJywgJ1xccicgb3IgJ1xcclxcbicgaW4geW91ciBzdHJpbmcuXG4gKlxuICogUGl4aUpTIGNhbiBhdXRvLWdlbmVyYXRlIGZvbnRzIG9uLXRoZS1mbHkgdXNpbmcgQml0bWFwRm9udCBvciB1c2UgZm50IGZpbGVzIHByb3ZpZGVkIGJ5OlxuICogaHR0cDovL3d3dy5hbmdlbGNvZGUuY29tL3Byb2R1Y3RzL2JtZm9udC8gZm9yIFdpbmRvd3Mgb3JcbiAqIGh0dHA6Ly93d3cuYm1nbHlwaC5jb20vIGZvciBNYWMuXG4gKlxuICogQSBCaXRtYXBUZXh0IGNhbiBvbmx5IGJlIGNyZWF0ZWQgd2hlbiB0aGUgZm9udCBpcyBsb2FkZWQuXG4gKlxuICogYGBganNcbiAqIC8vIGluIHRoaXMgY2FzZSB0aGUgZm9udCBpcyBpbiBhIGZpbGUgY2FsbGVkICdkZXN5cmVsLmZudCdcbiAqIGxldCBiaXRtYXBUZXh0ID0gbmV3IFBJWEkuQml0bWFwVGV4dChcInRleHQgdXNpbmcgYSBmYW5jeSBmb250IVwiLCB7Zm9udDogXCIzNXB4IERlc3lyZWxcIiwgYWxpZ246IFwicmlnaHRcIn0pO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJpdG1hcFRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJpdG1hcFRleHQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBBIHN0cmluZyB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSB0ZXh0IHRvIGRpc3BsYXkuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0eWxlIC0gVGhlIHN0eWxlIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlLmZvbnROYW1lIC0gVGhlIGluc3RhbGxlZCBCaXRtYXBGb250IG5hbWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5mb250U2l6ZV0gLSBUaGUgc2l6ZSBvZiB0aGUgZm9udCBpbiBwaXhlbHMsIGUuZy4gMjQuIElmIHVuZGVmaW5lZCxcbiAgICAgKi4gICAgIHRoaXMgd2lsbCBkZWZhdWx0IHRvIHRoZSBCaXRtYXBGb250IHNpemUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5hbGlnbj0nbGVmdCddIC0gQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSxcbiAgICAgKiAgICAgIGRvZXMgbm90IGFmZmVjdCBzaW5nbGUgbGluZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUudGludD0weEZGRkZGRl0gLSBUaGUgdGludCBjb2xvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxldHRlclNwYWNpbmc9MF0gLSBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubWF4V2lkdGg9MF0gLSBUaGUgbWF4IHdpZHRoIG9mIHRoZSB0ZXh0IGJlZm9yZSBsaW5lIHdyYXBwaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJpdG1hcFRleHQodGV4dCwgc3R5bGUpIHtcbiAgICAgICAgaWYgKHN0eWxlID09PSB2b2lkIDApIHsgc3R5bGUgPSB7fTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdGludCA9IDB4RkZGRkZGO1xuICAgICAgICBpZiAoc3R5bGUuZm9udCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuQml0bWFwVGV4dCBjb25zdHJ1Y3RvciBzdHlsZS5mb250IHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQuJyk7XG4gICAgICAgICAgICBfdGhpcy5fdXBncmFkZVN0eWxlKHN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBcHBseSB0aGUgZGVmYXVsdHNcbiAgICAgICAgdmFyIF9hID0gT2JqZWN0LmFzc2lnbih7fSwgQml0bWFwVGV4dC5zdHlsZURlZmF1bHRzLCBzdHlsZSksIGFsaWduID0gX2EuYWxpZ24sIHRpbnQgPSBfYS50aW50LCBtYXhXaWR0aCA9IF9hLm1heFdpZHRoLCBsZXR0ZXJTcGFjaW5nID0gX2EubGV0dGVyU3BhY2luZywgZm9udE5hbWUgPSBfYS5mb250TmFtZSwgZm9udFNpemUgPSBfYS5mb250U2l6ZTtcbiAgICAgICAgaWYgKCFCaXRtYXBGb250LmF2YWlsYWJsZVtmb250TmFtZV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgQml0bWFwRm9udCBcXFwiXCIgKyBmb250TmFtZSArIFwiXFxcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBwYWdlIG1lc2ggZGF0YS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGEgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIHdpZHRoIG9mIHRoZSBvdmVyYWxsIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHRXaWR0aCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dEhlaWdodCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRleHQgYWxpZ24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hbGlnbiA9IGFsaWduO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0aW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGludCA9IHRpbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQgbmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZvbnROYW1lID0gZm9udE5hbWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQgc2l6ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZvbnRTaXplID0gZm9udFNpemUgfHwgQml0bWFwRm9udC5hdmFpbGFibGVbZm9udE5hbWVdLnNpemU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB2YWx1ZSB0byAwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXhXaWR0aCA9IG1heFdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCBsaW5lIGhlaWdodC4gVGhpcyBpcyB1c2VmdWwgd2hlbiB0cnlpbmcgdG8gdXNlIHRoZSB0b3RhbCBoZWlnaHQgb2YgdGhlIFRleHQsXG4gICAgICAgICAqIGllOiB3aGVuIHRyeWluZyB0byB2ZXJ0aWNhbGx5IGFsaWduLiAoSW50ZXJuYWxseSB1c2VkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWF4TGluZUhlaWdodCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMZXR0ZXIgc3BhY2luZy4gVGhpcyBpcyB1c2VmdWwgZm9yIHNldHRpbmcgdGhlIHNwYWNlIGJldHdlZW4gY2hhcmFjdGVycy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dCBhbmNob3IuIHJlYWQtb25seVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hbmNob3IgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KGZ1bmN0aW9uICgpIHsgX3RoaXMuZGlydHkgPSB0cnVlOyB9LCBfdGhpcywgMCwgMCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICAgICAqIFRvIHNldCB0aGUgZ2xvYmFsIGRlZmF1bHQsIGNoYW5nZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFN9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0byBgdHJ1ZWAgaWYgdGhlIEJpdG1hcFRleHQgbmVlZHMgdG8gYmUgcmVkcmF3bi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgYW5kIHVwZGF0ZXMgaXQgd2hlbiBuZWVkZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkXG4gICAgICogaWYgdGhlIEJpdG1hcEZvbnQgaXMgcmVnZW5lcmF0ZWQuXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgZGF0YSA9IEJpdG1hcEZvbnQuYXZhaWxhYmxlW3RoaXMuX2ZvbnROYW1lXTtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fZm9udFNpemUgLyBkYXRhLnNpemU7XG4gICAgICAgIHZhciBwb3MgPSBuZXcgUG9pbnQoKTtcbiAgICAgICAgdmFyIGNoYXJzID0gW107XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gW107XG4gICAgICAgIHZhciB0ZXh0ID0gdGhpcy5fdGV4dC5yZXBsYWNlKC8oPzpcXHJcXG58XFxyKS9nLCAnXFxuJykgfHwgJyAnO1xuICAgICAgICB2YXIgdGV4dExlbmd0aCA9IHRleHQubGVuZ3RoO1xuICAgICAgICB2YXIgbWF4V2lkdGggPSB0aGlzLl9tYXhXaWR0aCAqIGRhdGEuc2l6ZSAvIHRoaXMuX2ZvbnRTaXplO1xuICAgICAgICB2YXIgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RMaW5lV2lkdGggPSAwO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gMDtcbiAgICAgICAgdmFyIGxpbmUgPSAwO1xuICAgICAgICB2YXIgbGFzdEJyZWFrUG9zID0gLTE7XG4gICAgICAgIHZhciBsYXN0QnJlYWtXaWR0aCA9IDA7XG4gICAgICAgIHZhciBzcGFjZXNSZW1vdmVkID0gMDtcbiAgICAgICAgdmFyIG1heExpbmVIZWlnaHQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHRMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoYXJDb2RlID0gdGV4dC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgdmFyIGNoYXIgPSB0ZXh0LmNoYXJBdChpKTtcbiAgICAgICAgICAgIGlmICgoLyg/OlxccykvKS50ZXN0KGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgbGFzdEJyZWFrUG9zID0gaTtcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtXaWR0aCA9IGxhc3RMaW5lV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhciA9PT0gJ1xccicgfHwgY2hhciA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICArK2xpbmU7XG4gICAgICAgICAgICAgICAgKytzcGFjZXNSZW1vdmVkO1xuICAgICAgICAgICAgICAgIHBvcy54ID0gMDtcbiAgICAgICAgICAgICAgICBwb3MueSArPSBkYXRhLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjaGFyRGF0YSA9IGRhdGEuY2hhcnNbY2hhckNvZGVdO1xuICAgICAgICAgICAgaWYgKCFjaGFyRGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZXZDaGFyQ29kZSAmJiBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV0pIHtcbiAgICAgICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2hhclJlbmRlckRhdGEgPSBjaGFyUmVuZGVyRGF0YVBvb2wucG9wKCkgfHwge1xuICAgICAgICAgICAgICAgIHRleHR1cmU6IFRleHR1cmUuRU1QVFksXG4gICAgICAgICAgICAgICAgbGluZTogMCxcbiAgICAgICAgICAgICAgICBjaGFyQ29kZTogMCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IFBvaW50KCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEudGV4dHVyZSA9IGNoYXJEYXRhLnRleHR1cmU7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5saW5lID0gbGluZTtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLmNoYXJDb2RlID0gY2hhckNvZGU7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5wb3NpdGlvbi54ID0gcG9zLnggKyBjaGFyRGF0YS54T2Zmc2V0ICsgKHRoaXMuX2xldHRlclNwYWNpbmcgLyAyKTtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLnBvc2l0aW9uLnkgPSBwb3MueSArIGNoYXJEYXRhLnlPZmZzZXQ7XG4gICAgICAgICAgICBjaGFycy5wdXNoKGNoYXJSZW5kZXJEYXRhKTtcbiAgICAgICAgICAgIHBvcy54ICs9IGNoYXJEYXRhLnhBZHZhbmNlICsgdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgICAgICAgICAgIGxhc3RMaW5lV2lkdGggPSBwb3MueDtcbiAgICAgICAgICAgIG1heExpbmVIZWlnaHQgPSBNYXRoLm1heChtYXhMaW5lSGVpZ2h0LCAoY2hhckRhdGEueU9mZnNldCArIGNoYXJEYXRhLnRleHR1cmUuaGVpZ2h0KSk7XG4gICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBjaGFyQ29kZTtcbiAgICAgICAgICAgIGlmIChsYXN0QnJlYWtQb3MgIT09IC0xICYmIG1heFdpZHRoID4gMCAmJiBwb3MueCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgKytzcGFjZXNSZW1vdmVkO1xuICAgICAgICAgICAgICAgIHJlbW92ZUl0ZW1zKGNoYXJzLCAxICsgbGFzdEJyZWFrUG9zIC0gc3BhY2VzUmVtb3ZlZCwgMSArIGkgLSBsYXN0QnJlYWtQb3MpO1xuICAgICAgICAgICAgICAgIGkgPSBsYXN0QnJlYWtQb3M7XG4gICAgICAgICAgICAgICAgbGFzdEJyZWFrUG9zID0gLTE7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBsaW5lKys7XG4gICAgICAgICAgICAgICAgcG9zLnggPSAwO1xuICAgICAgICAgICAgICAgIHBvcy55ICs9IGRhdGEubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBsYXN0Q2hhciA9IHRleHQuY2hhckF0KHRleHQubGVuZ3RoIC0gMSk7XG4gICAgICAgIGlmIChsYXN0Q2hhciAhPT0gJ1xccicgJiYgbGFzdENoYXIgIT09ICdcXG4nKSB7XG4gICAgICAgICAgICBpZiAoKC8oPzpcXHMpLykudGVzdChsYXN0Q2hhcikpIHtcbiAgICAgICAgICAgICAgICBsYXN0TGluZVdpZHRoID0gbGFzdEJyZWFrV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaW5lQWxpZ25PZmZzZXRzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGxpbmU7IGkrKykge1xuICAgICAgICAgICAgdmFyIGFsaWduT2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgIGFsaWduT2Zmc2V0ID0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2FsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgICAgIGFsaWduT2Zmc2V0ID0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV0pIC8gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbmVBbGlnbk9mZnNldHMucHVzaChhbGlnbk9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlbkNoYXJzID0gY2hhcnMubGVuZ3RoO1xuICAgICAgICB2YXIgcGFnZXNNZXNoRGF0YSA9IHt9O1xuICAgICAgICB2YXIgbmV3UGFnZXNNZXNoRGF0YSA9IFtdO1xuICAgICAgICB2YXIgYWN0aXZlUGFnZXNNZXNoRGF0YSA9IHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWN0aXZlUGFnZXNNZXNoRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFnZU1lc2hEYXRhUG9vbC5wdXNoKGFjdGl2ZVBhZ2VzTWVzaERhdGFbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuQ2hhcnM7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBjaGFyc1tpXS50ZXh0dXJlO1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlVWlkID0gdGV4dHVyZS5iYXNlVGV4dHVyZS51aWQ7XG4gICAgICAgICAgICBpZiAoIXBhZ2VzTWVzaERhdGFbYmFzZVRleHR1cmVVaWRdKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhZ2VNZXNoRGF0YSA9IHBhZ2VNZXNoRGF0YVBvb2wucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYWdlTWVzaERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gbmV3IE1lc2hHZW9tZXRyeSgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKFRleHR1cmUuRU1QVFkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzaCA9IG5ldyBNZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhDb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRleENvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXZzQ291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc2g6IG1lc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHV2czogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGljZXM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJlc2V0IGRhdGEuLlxuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5pbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLmluZGV4Q291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0ZXhDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnV2c0NvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudG90YWwgPSAwO1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gbmVlZCB0byBnZXQgcGFnZSB0ZXh0dXJlIGhlcmUgc29tZWhvdy4uXG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLm1lc2gudGV4dHVyZSA9IG5ldyBUZXh0dXJlKHRleHR1cmUuYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5tZXNoLnRpbnQgPSB0aGlzLl90aW50O1xuICAgICAgICAgICAgICAgIG5ld1BhZ2VzTWVzaERhdGEucHVzaChwYWdlTWVzaERhdGEpO1xuICAgICAgICAgICAgICAgIHBhZ2VzTWVzaERhdGFbYmFzZVRleHR1cmVVaWRdID0gcGFnZU1lc2hEYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFnZXNNZXNoRGF0YVtiYXNlVGV4dHVyZVVpZF0udG90YWwrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBsZXRzIGZpbmQgYW55IHByZXZpb3VzbHkgYWN0aXZlIHBhZ2VNZXNoRGF0YXMgdGhhdCBhcmUgbm8gbG9uZ2VyIHJlcXVpcmVkIGZvclxuICAgICAgICAvLyB0aGUgdXBkYXRlZCB0ZXh0IChpZiBhbnkpLCByZW1vdmVkIGFuZCByZXR1cm4gdGhlbSB0byB0aGUgcG9vbC5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhY3RpdmVQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobmV3UGFnZXNNZXNoRGF0YS5pbmRleE9mKGFjdGl2ZVBhZ2VzTWVzaERhdGFbaV0pID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoYWN0aXZlUGFnZXNNZXNoRGF0YVtpXS5tZXNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBuZXh0IGxldHMgYWRkIGFueSBuZXcgbWVzaGVzLCB0aGF0IGhhdmUgbm90IHlldCBiZWVuIGFkZGVkIHRvIHRoaXMgQml0bWFwVGV4dFxuICAgICAgICAvLyB3ZSBvbmx5IGFkZCBpZiBpdHMgbm90IGFscmVhZHkgYSBjaGlsZCBvZiB0aGlzIEJpdG1hcE9iamVjdFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld1BhZ2VzTWVzaERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChuZXdQYWdlc01lc2hEYXRhW2ldLm1lc2gucGFyZW50ICE9PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXdQYWdlc01lc2hEYXRhW2ldLm1lc2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGFjdGl2ZSBwYWdlIG1lc2ggZGF0YXMgYXJlIHNldCB0byBiZSB0aGUgbmV3IHBhZ2VzIGFkZGVkLlxuICAgICAgICB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhID0gbmV3UGFnZXNNZXNoRGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBwYWdlc01lc2hEYXRhKSB7XG4gICAgICAgICAgICB2YXIgcGFnZU1lc2hEYXRhID0gcGFnZXNNZXNoRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciB0b3RhbCA9IHBhZ2VNZXNoRGF0YS50b3RhbDtcbiAgICAgICAgICAgIC8vIGxldHMgb25seSBhbGxvY2F0ZSBuZXcgYnVmZmVycyBpZiB3ZSBjYW4gZml0IHRoZSBuZXcgdGV4dCBpbiB0aGUgY3VycmVudCBvbmVzLi5cbiAgICAgICAgICAgIC8vIHVubGVzcyB0aGF0IGlzLCB3ZSB3aWxsIGJlIGJhdGNoaW5nLiBDdXJyZW50bHkgYmF0Y2hpbmcgZG9zZSBub3QgcmVzcGVjdCB0aGUgc2l6ZSBwcm9wZXJ0eSBvZiBtZXNoXG4gICAgICAgICAgICBpZiAoISgoKF9hID0gcGFnZU1lc2hEYXRhLmluZGljZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpID4gNiAqIHRvdGFsKSB8fCBwYWdlTWVzaERhdGEudmVydGljZXMubGVuZ3RoIDwgTWVzaC5CQVRDSEFCTEVfU0laRSAqIDIpIHtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KDQgKiAyICogdG90YWwpO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS51dnMgPSBuZXcgRmxvYXQzMkFycmF5KDQgKiAyICogdG90YWwpO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5pbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KDYgKiB0b3RhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhcyBhIGJ1ZmZlciBtYXliZSBiaWdnZXIgdGhhbiB0aGUgY3VycmVudCB3b3JkLCB3ZSBzZXQgdGhlIHNpemUgb2YgdGhlIG1lc2hNYXRlcmlhbFxuICAgICAgICAgICAgLy8gdG8gbWF0Y2ggdGhlIG51bWJlciBvZiBsZXR0ZXJzIG5lZWRlZFxuICAgICAgICAgICAgcGFnZU1lc2hEYXRhLm1lc2guc2l6ZSA9IDYgKiB0b3RhbDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbkNoYXJzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gY2hhcnNbaV07XG4gICAgICAgICAgICB2YXIgeFBvcyA9IChjaGFyLnBvc2l0aW9uLnggKyBsaW5lQWxpZ25PZmZzZXRzW2NoYXIubGluZV0pICogc2NhbGU7XG4gICAgICAgICAgICB2YXIgeVBvcyA9IGNoYXIucG9zaXRpb24ueSAqIHNjYWxlO1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBjaGFyLnRleHR1cmU7XG4gICAgICAgICAgICB2YXIgcGFnZU1lc2ggPSBwYWdlc01lc2hEYXRhW3RleHR1cmUuYmFzZVRleHR1cmUudWlkXTtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlRnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVVdnMgPSB0ZXh0dXJlLl91dnM7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBwYWdlTWVzaC5pbmRleCsrO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDBdID0gMCArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDFdID0gMSArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDJdID0gMiArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDNdID0gMCArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDRdID0gMiArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDVdID0gMyArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyAwXSA9IHhQb3M7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDFdID0geVBvcztcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgMl0gPSB4UG9zICsgKHRleHR1cmVGcmFtZS53aWR0aCAqIHNjYWxlKTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgM10gPSB5UG9zO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyA0XSA9IHhQb3MgKyAodGV4dHVyZUZyYW1lLndpZHRoICogc2NhbGUpO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyA1XSA9IHlQb3MgKyAodGV4dHVyZUZyYW1lLmhlaWdodCAqIHNjYWxlKTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgNl0gPSB4UG9zO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyA3XSA9IHlQb3MgKyAodGV4dHVyZUZyYW1lLmhlaWdodCAqIHNjYWxlKTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDBdID0gdGV4dHVyZVV2cy54MDtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDFdID0gdGV4dHVyZVV2cy55MDtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDJdID0gdGV4dHVyZVV2cy54MTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDNdID0gdGV4dHVyZVV2cy55MTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDRdID0gdGV4dHVyZVV2cy54MjtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDVdID0gdGV4dHVyZVV2cy55MjtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDZdID0gdGV4dHVyZVV2cy54MztcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDddID0gdGV4dHVyZVV2cy55MztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXh0V2lkdGggPSBtYXhMaW5lV2lkdGggKiBzY2FsZTtcbiAgICAgICAgdGhpcy5fdGV4dEhlaWdodCA9IChwb3MueSArIGRhdGEubGluZUhlaWdodCkgKiBzY2FsZTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBwYWdlc01lc2hEYXRhKSB7XG4gICAgICAgICAgICB2YXIgcGFnZU1lc2hEYXRhID0gcGFnZXNNZXNoRGF0YVtpXTtcbiAgICAgICAgICAgIC8vIGFwcGx5IGFuY2hvclxuICAgICAgICAgICAgaWYgKHRoaXMuYW5jaG9yLnggIT09IDAgfHwgdGhpcy5hbmNob3IueSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciB2ZXJ0ZXhDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGFuY2hvck9mZnNldFggPSB0aGlzLl90ZXh0V2lkdGggKiB0aGlzLmFuY2hvci54O1xuICAgICAgICAgICAgICAgIHZhciBhbmNob3JPZmZzZXRZID0gdGhpcy5fdGV4dEhlaWdodCAqIHRoaXMuYW5jaG9yLnk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gMDsgaV8xIDwgcGFnZU1lc2hEYXRhLnRvdGFsOyBpXzErKykge1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRYO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WTtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRZO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWF4TGluZUhlaWdodCA9IG1heExpbmVIZWlnaHQgKiBzY2FsZTtcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhCdWZmZXIgPSBwYWdlTWVzaERhdGEubWVzaC5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVCdWZmZXIgPSBwYWdlTWVzaERhdGEubWVzaC5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FUZXh0dXJlQ29vcmQnKTtcbiAgICAgICAgICAgIHZhciBpbmRleEJ1ZmZlciA9IHBhZ2VNZXNoRGF0YS5tZXNoLmdlb21ldHJ5LmdldEluZGV4KCk7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIuZGF0YSA9IHBhZ2VNZXNoRGF0YS52ZXJ0aWNlcztcbiAgICAgICAgICAgIHRleHR1cmVCdWZmZXIuZGF0YSA9IHBhZ2VNZXNoRGF0YS51dnM7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5kYXRhID0gcGFnZU1lc2hEYXRhLmluZGljZXM7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgICAgICB0ZXh0dXJlQnVmZmVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgaW5kZXhCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGFQb29sLnB1c2goY2hhcnNbaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0cmFuc2Zvcm0gb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgdGV4dCBiZWZvcmUgY2FsbGluZyBwYXJlbnQncyBnZXRMb2NhbEJvdW5kc1xuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dCB3aGVuIG5lZWRlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCgpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwidGludFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhmZmZmZmZcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGludCA9PT0gdmFsdWUpXG4gICAgICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGFbaV0ubWVzaC50aW50ID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwiYWxpZ25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFsaWdubWVudCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2xlZnQnXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbGlnbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbGlnbiAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbGlnbiA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcImZvbnROYW1lXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBCaXRtYXBGb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250TmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghQml0bWFwRm9udC5hdmFpbGFibGVbdmFsdWVdKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBCaXRtYXBGb250IFxcXCJcIiArIHZhbHVlICsgXCJcXFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnROYW1lICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnROYW1lID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwiZm9udFNpemVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNpemUgb2YgdGhlIGZvbnQgdG8gZGlzcGxheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFNpemU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFNpemUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFNpemUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJhbmNob3JcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGlzIGAoMCwwKWAsIHRoaXMgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgwLjUsMC41KWAgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgY2VudGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDEsMSlgIHdvdWxkIG1lYW4gdGhlIHRleHQncyBvcmlnaW4gcG9pbnQgd2lsbCBiZSB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludCB8IG51bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5jaG9yLnNldCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3IuY29weUZyb20odmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcInRleHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHQgb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJycgOiB0ZXh0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB0ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJtYXhXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IHdpZHRoIG9mIHRoaXMgYml0bWFwIHRleHQgaW4gcGl4ZWxzLiBJZiB0aGUgdGV4dCBwcm92aWRlZCBpcyBsb25nZXIgdGhhbiB0aGVcbiAgICAgICAgICogdmFsdWUgcHJvdmlkZWQsIGxpbmUgYnJlYWtzIHdpbGwgYmUgYXV0b21hdGljYWxseSBpbnNlcnRlZCBpbiB0aGUgbGFzdCB3aGl0ZXNwYWNlLlxuICAgICAgICAgKiBEaXNhYmxlIGJ5IHNldHRpbmcgdGhlIHZhbHVlIHRvIDAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21heFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21heFdpZHRoID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21heFdpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJtYXhMaW5lSGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAgICAgKiBpLmUuIHdoZW4gdHJ5aW5nIHRvIHZlcnRpY2FsbHkgYWxpZ24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXhMaW5lSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcInRleHRXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICAgICAqIHdoaWNoIGlzIGRlZmluZWQgaW4gdGhlIHN0eWxlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJsZXR0ZXJTcGFjaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZGl0aW9uYWwgc3BhY2UgYmV0d2VlbiBjaGFyYWN0ZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xldHRlclNwYWNpbmcgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcInRleHRIZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgb3ZlcmFsbCB0ZXh0LCBkaWZmZXJlbnQgZnJvbSBmb250U2l6ZSxcbiAgICAgICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dEhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCBjb252ZXJ0IG9sZCBzdHlsZS5mb250IGNvbnN0cnVjdG9yIHBhcmFtIHRvIGZvbnROYW1lICYgZm9udFNpemUgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS5fdXBncmFkZVN0eWxlID0gZnVuY3Rpb24gKHN0eWxlKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc3R5bGUuZm9udCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZVNwbGl0ID0gc3R5bGUuZm9udC5zcGxpdCgnICcpO1xuICAgICAgICAgICAgc3R5bGUuZm9udE5hbWUgPSB2YWx1ZVNwbGl0Lmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgICAgID8gdmFsdWVTcGxpdFswXVxuICAgICAgICAgICAgICAgIDogdmFsdWVTcGxpdC5zbGljZSgxKS5qb2luKCcgJyk7XG4gICAgICAgICAgICBpZiAodmFsdWVTcGxpdC5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgICAgIHN0eWxlLmZvbnRTaXplID0gcGFyc2VJbnQodmFsdWVTcGxpdFswXSwgMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3R5bGUuZm9udE5hbWUgPSBzdHlsZS5mb250Lm5hbWU7XG4gICAgICAgICAgICBzdHlsZS5mb250U2l6ZSA9IHR5cGVvZiBzdHlsZS5mb250LnNpemUgPT09ICdudW1iZXInXG4gICAgICAgICAgICAgICAgPyBzdHlsZS5mb250LnNpemVcbiAgICAgICAgICAgICAgICA6IHBhcnNlSW50KHN0eWxlLmZvbnQuc2l6ZSwgMTApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIGJpdG1hcCBmb250IHdpdGggZGF0YSBhbmQgYSB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgKiBAc2VlIFBJWEkuQml0bWFwRm9udC5pbnN0YWxsXG4gICAgICogQHN0YXRpY1xuICAgICAqL1xuICAgIEJpdG1hcFRleHQucmVnaXN0ZXJGb250ID0gZnVuY3Rpb24gKGRhdGEsIHRleHR1cmVzKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLkJpdG1hcFRleHQucmVnaXN0ZXJGb250IGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLkJpdG1hcEZvbnQuaW5zdGFsbCcpO1xuICAgICAgICByZXR1cm4gQml0bWFwRm9udC5pbnN0YWxsKGRhdGEsIHRleHR1cmVzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LCBcImZvbnRzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgbGlzdCBvZiBpbnN0YWxsZWQgZm9udHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzZWUgUElYSS5CaXRtYXBGb250LmF2YWlsYWJsZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPHN0cmluZywgUElYSS5CaXRtYXBGb250Pn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuQml0bWFwVGV4dC5mb250cyBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5CaXRtYXBGb250LmF2YWlsYWJsZScpO1xuICAgICAgICAgICAgcmV0dXJuIEJpdG1hcEZvbnQuYXZhaWxhYmxlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQml0bWFwVGV4dC5zdHlsZURlZmF1bHRzID0ge1xuICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB0aW50OiAweEZGRkZGRixcbiAgICAgICAgbWF4V2lkdGg6IDAsXG4gICAgICAgIGxldHRlclNwYWNpbmc6IDAsXG4gICAgfTtcbiAgICByZXR1cm4gQml0bWFwVGV4dDtcbn0oQ29udGFpbmVyKSk7XG5cbi8qKlxuICoge0BsaW5rIFBJWEkuTG9hZGVyIExvYWRlcn0gbWlkZGxld2FyZSBmb3IgbG9hZGluZ1xuICogYml0bWFwLWJhc2VkIGZvbnRzIHN1aXRhYmxlIGZvciB1c2luZyB3aXRoIHtAbGluayBQSVhJLkJpdG1hcFRleHR9LlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgUElYSS5JTG9hZGVyUGx1Z2luXG4gKi9cbnZhciBCaXRtYXBGb250TG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJpdG1hcEZvbnRMb2FkZXIoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBwbHVnaW4gaXMgaW5zdGFsbGVkLlxuICAgICAqXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5yZWdpc3RlclBsdWdpblxuICAgICAqL1xuICAgIEJpdG1hcEZvbnRMb2FkZXIuYWRkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMb2FkZXJSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlKCdmbnQnLCBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBCaXRtYXBGb250TG9hZGVyLnVzZSA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgbmV4dCkge1xuICAgICAgICB2YXIgZm9ybWF0ID0gYXV0b0RldGVjdEZvcm1hdChyZXNvdXJjZS5kYXRhKTtcbiAgICAgICAgLy8gUmVzb3VyY2Ugd2FzIG5vdCByZWNvZ25pc2VkIGFzIGFueSBvZiB0aGUgZXhwZWN0ZWQgZm9udCBkYXRhIGZvcm1hdFxuICAgICAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYXNlVXJsID0gQml0bWFwRm9udExvYWRlci5nZXRCYXNlVXJsKHRoaXMsIHJlc291cmNlKTtcbiAgICAgICAgdmFyIGRhdGEgPSBmb3JtYXQucGFyc2UocmVzb3VyY2UuZGF0YSk7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IHt9O1xuICAgICAgICAvLyBIYW5kbGUgY29tcGxldGVkLCB3aGVuIHRoZSBudW1iZXIgb2YgdGV4dHVyZXNcbiAgICAgICAgLy8gbG9hZCBpcyB0aGUgc2FtZSBudW1iZXIgYXMgcmVmZXJlbmNlcyBpbiB0aGUgZm50IGZpbGVcbiAgICAgICAgdmFyIGNvbXBsZXRlZCA9IGZ1bmN0aW9uIChwYWdlKSB7XG4gICAgICAgICAgICB0ZXh0dXJlc1twYWdlLm1ldGFkYXRhLnBhZ2VGaWxlXSA9IHBhZ2UudGV4dHVyZTtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0ZXh0dXJlcykubGVuZ3RoID09PSBkYXRhLnBhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UuYml0bWFwRm9udCA9IEJpdG1hcEZvbnQuaW5zdGFsbChkYXRhLCB0ZXh0dXJlcyk7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEucGFnZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHBhZ2VGaWxlID0gZGF0YS5wYWdlW2ldLmZpbGU7XG4gICAgICAgICAgICB2YXIgdXJsID0gYmFzZVVybCArIHBhZ2VGaWxlO1xuICAgICAgICAgICAgdmFyIGV4aXN0cyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gaW5jYXNlIHRoZSBpbWFnZSBpcyBsb2FkZWQgb3V0c2lkZVxuICAgICAgICAgICAgLy8gdXNpbmcgdGhlIHNhbWUgbG9hZGVyLCByZXNvdXJjZSB3aWxsIGJlIGF2YWlsYWJsZVxuICAgICAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLnJlc291cmNlcykge1xuICAgICAgICAgICAgICAgIHZhciBiaXRtYXBSZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VzW25hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChiaXRtYXBSZXNvdXJjZS51cmwgPT09IHVybCkge1xuICAgICAgICAgICAgICAgICAgICBiaXRtYXBSZXNvdXJjZS5tZXRhZGF0YS5wYWdlRmlsZSA9IHBhZ2VGaWxlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYml0bWFwUmVzb3VyY2UudGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkKGJpdG1hcFJlc291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpdG1hcFJlc291cmNlLm9uQWZ0ZXJNaWRkbGV3YXJlLmFkZChjb21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGV4aXN0cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRleHR1cmUgaXMgbm90IGxvYWRlZCwgd2UnbGwgYXR0ZW1wdCB0byBhZGRcbiAgICAgICAgICAgIC8vIGl0IHRvIHRoZSBsb2FkIGFuZCBhZGQgdGhlIHRleHR1cmUgdG8gdGhlIGxpc3RcbiAgICAgICAgICAgIGlmICghZXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgLy8gU3RhbmRhcmQgbG9hZGluZyBvcHRpb25zIGZvciBpbWFnZXNcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICBsb2FkVHlwZTogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogT2JqZWN0LmFzc2lnbih7IHBhZ2VGaWxlOiBwYWdlRmlsZSB9LCByZXNvdXJjZS5tZXRhZGF0YS5pbWFnZU1ldGFkYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQodXJsLCBvcHRpb25zLCBjb21wbGV0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgZm9sZGVyIHBhdGggZnJvbSBhIHJlc291cmNlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyfSBsb2FkZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIEJpdG1hcEZvbnRMb2FkZXIuZ2V0QmFzZVVybCA9IGZ1bmN0aW9uIChsb2FkZXIsIHJlc291cmNlKSB7XG4gICAgICAgIHZhciByZXNVcmwgPSAhcmVzb3VyY2UuaXNEYXRhVXJsID8gQml0bWFwRm9udExvYWRlci5kaXJuYW1lKHJlc291cmNlLnVybCkgOiAnJztcbiAgICAgICAgaWYgKHJlc291cmNlLmlzRGF0YVVybCkge1xuICAgICAgICAgICAgaWYgKHJlc1VybCA9PT0gJy4nKSB7XG4gICAgICAgICAgICAgICAgcmVzVXJsID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobG9hZGVyLmJhc2VVcmwgJiYgcmVzVXJsKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgYmFzZXVybCBoYXMgYSB0cmFpbGluZyBzbGFzaCB0aGVuIGFkZCBvbmUgdG8gcmVzVXJsIHNvIHRoZSByZXBsYWNlIHdvcmtzIGJlbG93XG4gICAgICAgICAgICAgICAgaWYgKGxvYWRlci5iYXNlVXJsLmNoYXJBdChsb2FkZXIuYmFzZVVybC5sZW5ndGggLSAxKSA9PT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1VybCArPSAnLyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHJlbW92ZSBiYXNlVXJsIGZyb20gcmVzVXJsXG4gICAgICAgIHJlc1VybCA9IHJlc1VybC5yZXBsYWNlKGxvYWRlci5iYXNlVXJsLCAnJyk7XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGFuIHJlc1VybCBub3csIGl0IG5lZWRzIGEgdHJhaWxpbmcgc2xhc2guIEVuc3VyZSB0aGF0IGl0IGRvZXMgaWYgdGhlIHN0cmluZyBpc24ndCBlbXB0eS5cbiAgICAgICAgaWYgKHJlc1VybCAmJiByZXNVcmwuY2hhckF0KHJlc1VybC5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XG4gICAgICAgICAgICByZXNVcmwgKz0gJy8nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNVcmw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXBsYWNlbWVudCBmb3IgTm9kZUpTJ3MgcGF0aC5kaXJuYW1lXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gUGF0aCB0byBnZXQgZGlyZWN0b3J5IGZvclxuICAgICAqL1xuICAgIEJpdG1hcEZvbnRMb2FkZXIuZGlybmFtZSA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgdmFyIGRpciA9IHVybFxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFwvZywgJy8nKSAvLyBjb252ZXJ0IHdpbmRvd3Mgbm90YXRpb24gdG8gVU5JWCBub3RhdGlvbiwgVVJMLXNhZmUgYmVjYXVzZSBpdCdzIGEgZm9yYmlkZGVuIGNoYXJhY3RlclxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcLyQvLCAnJykgLy8gcmVwbGFjZSB0cmFpbGluZyBzbGFzaFxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcL1teXFwvXSokLywgJycpOyAvLyByZW1vdmUgZXZlcnl0aGluZyBhZnRlciB0aGUgbGFzdFxuICAgICAgICAvLyBGaWxlIHJlcXVlc3QgaXMgcmVsYXRpdmUsIHVzZSBjdXJyZW50IGRpcmVjdG9yeVxuICAgICAgICBpZiAoZGlyID09PSB1cmwpIHtcbiAgICAgICAgICAgIHJldHVybiAnLic7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RhcnRlZCB3aXRoIGEgc2xhc2hcbiAgICAgICAgZWxzZSBpZiAoZGlyID09PSAnJykge1xuICAgICAgICAgICAgcmV0dXJuICcvJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlyO1xuICAgIH07XG4gICAgcmV0dXJuIEJpdG1hcEZvbnRMb2FkZXI7XG59KCkpO1xuXG5leHBvcnQgeyBCaXRtYXBGb250LCBCaXRtYXBGb250RGF0YSwgQml0bWFwRm9udExvYWRlciwgQml0bWFwVGV4dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dC1iaXRtYXAuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1hbHBoYSAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItYWxwaGEgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBkZWZhdWx0VmVydGV4LCBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1QWxwaGE7XFxufVxcblwiO1xuXG4vKipcbiAqIFNpbXBsZXN0IGZpbHRlciAtIGFwcGxpZXMgYWxwaGEuXG4gKlxuICogVXNlIHRoaXMgaW5zdGVhZCBvZiBDb250YWluZXIncyBhbHBoYSBwcm9wZXJ0eSB0byBhdm9pZCB2aXN1YWwgbGF5ZXJpbmcgb2YgaW5kaXZpZHVhbCBlbGVtZW50cy5cbiAqIEFscGhhRmlsdGVyIGFwcGxpZXMgYWxwaGEgZXZlbmx5IGFjcm9zcyB0aGUgZW50aXJlIGRpc3BsYXkgb2JqZWN0IGFuZCBhbnkgb3BhcXVlIGVsZW1lbnRzIGl0IGNvbnRhaW5zLlxuICogSWYgZWxlbWVudHMgYXJlIG5vdCBvcGFxdWUsIHRoZXkgd2lsbCBibGVuZCB3aXRoIGVhY2ggb3RoZXIgYW55d2F5LlxuICpcbiAqIFZlcnkgaGFuZHkgaWYgeW91IHdhbnQgdG8gdXNlIGNvbW1vbiBmZWF0dXJlcyBvZiBhbGwgZmlsdGVyczpcbiAqXG4gKiAxLiBBc3NpZ24gYSBibGVuZE1vZGUgdG8gdGhpcyBmaWx0ZXIsIGJsZW5kIGFsbCBlbGVtZW50cyBpbnNpZGUgZGlzcGxheSBvYmplY3Qgd2l0aCBiYWNrZ3JvdW5kLlxuICpcbiAqIDIuIFRvIHVzZSBjbGlwcGluZyBpbiBkaXNwbGF5IGNvb3JkaW5hdGVzLCBhc3NpZ24gYSBmaWx0ZXJBcmVhIHRvIHRoZSBzYW1lIGNvbnRhaW5lciB0aGF0IGhhcyB0aGlzIGZpbHRlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBBbHBoYUZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWxwaGFGaWx0ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIEFtb3VudCBvZiBhbHBoYSBmcm9tIDAgdG8gMSwgd2hlcmUgMCBpcyB0cmFuc3BhcmVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFscGhhRmlsdGVyKGFscGhhKSB7XG4gICAgICAgIGlmIChhbHBoYSA9PT0gdm9pZCAwKSB7IGFscGhhID0gMS4wOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlZmF1bHRWZXJ0ZXgsIGZyYWdtZW50LCB7IHVBbHBoYTogMSB9KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hbHBoYSA9IGFscGhhO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbHBoYUZpbHRlci5wcm90b3R5cGUsIFwiYWxwaGFcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29lZmZpY2llbnQgZm9yIGFscGhhIG11bHRpcGxpY2F0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51QWxwaGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEFscGhhRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgQWxwaGFGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1hbHBoYS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWJsdXIgLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWJsdXIgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIHZlcnRUZW1wbGF0ZSA9IFwiXFxuICAgIGF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG4gICAgdW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxuICAgIHVuaWZvcm0gZmxvYXQgc3RyZW5ndGg7XFxuXFxuICAgIHZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdO1xcblxcbiAgICB1bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbiAgICB1bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxuICAgIHZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbiAgICB7XFxuICAgICAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICAgfVxcblxcbiAgICB2ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxuICAgIHtcXG4gICAgICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbiAgICB9XFxuXFxuICAgIHZvaWQgbWFpbih2b2lkKVxcbiAgICB7XFxuICAgICAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuXFxuICAgICAgICB2ZWMyIHRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbiAgICAgICAgJWJsdXIlXFxuICAgIH1cIjtcbmZ1bmN0aW9uIGdlbmVyYXRlQmx1clZlcnRTb3VyY2Uoa2VybmVsU2l6ZSwgeCkge1xuICAgIHZhciBoYWxmTGVuZ3RoID0gTWF0aC5jZWlsKGtlcm5lbFNpemUgLyAyKTtcbiAgICB2YXIgdmVydFNvdXJjZSA9IHZlcnRUZW1wbGF0ZTtcbiAgICB2YXIgYmx1ckxvb3AgPSAnJztcbiAgICB2YXIgdGVtcGxhdGU7XG4gICAgaWYgKHgpIHtcbiAgICAgICAgdGVtcGxhdGUgPSAndkJsdXJUZXhDb29yZHNbJWluZGV4JV0gPSAgdGV4dHVyZUNvb3JkICsgdmVjMiglc2FtcGxlSW5kZXglICogc3RyZW5ndGgsIDAuMCk7JztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRlbXBsYXRlID0gJ3ZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gIHRleHR1cmVDb29yZCArIHZlYzIoMC4wLCAlc2FtcGxlSW5kZXglICogc3RyZW5ndGgpOyc7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2VybmVsU2l6ZTsgaSsrKSB7XG4gICAgICAgIHZhciBibHVyID0gdGVtcGxhdGUucmVwbGFjZSgnJWluZGV4JScsIGkudG9TdHJpbmcoKSk7XG4gICAgICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoJyVzYW1wbGVJbmRleCUnLCBpIC0gKGhhbGZMZW5ndGggLSAxKSArIFwiLjBcIik7XG4gICAgICAgIGJsdXJMb29wICs9IGJsdXI7XG4gICAgICAgIGJsdXJMb29wICs9ICdcXG4nO1xuICAgIH1cbiAgICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZS50b1N0cmluZygpKTtcbiAgICByZXR1cm4gdmVydFNvdXJjZTtcbn1cblxudmFyIEdBVVNTSUFOX1ZBTFVFUyA9IHtcbiAgICA1OiBbMC4xNTMzODgsIDAuMjIxNDYxLCAwLjI1MDMwMV0sXG4gICAgNzogWzAuMDcxMzAzLCAwLjEzMTUxNCwgMC4xODk4NzksIDAuMjE0NjA3XSxcbiAgICA5OiBbMC4wMjg1MzIsIDAuMDY3MjM0LCAwLjEyNDAwOSwgMC4xNzkwNDQsIDAuMjAyMzZdLFxuICAgIDExOiBbMC4wMDkzLCAwLjAyODAwMiwgMC4wNjU5ODQsIDAuMTIxNzAzLCAwLjE3NTcxMywgMC4xOTg1OTZdLFxuICAgIDEzOiBbMC4wMDI0MDYsIDAuMDA5MjU1LCAwLjAyNzg2NywgMC4wNjU2NjYsIDAuMTIxMTE3LCAwLjE3NDg2OCwgMC4xOTc2NDFdLFxuICAgIDE1OiBbMC4wMDA0ODksIDAuMDAyNDAzLCAwLjAwOTI0NiwgMC4wMjc4NCwgMC4wNjU2MDIsIDAuMTIwOTk5LCAwLjE3NDY5NywgMC4xOTc0NDhdLFxufTtcbnZhciBmcmFnVGVtcGxhdGUgPSBbXG4gICAgJ3ZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdOycsXG4gICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyOycsXG4gICAgJ3ZvaWQgbWFpbih2b2lkKScsXG4gICAgJ3snLFxuICAgICcgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApOycsXG4gICAgJyAgICAlYmx1ciUnLFxuICAgICd9JyBdLmpvaW4oJ1xcbicpO1xuZnVuY3Rpb24gZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZShrZXJuZWxTaXplKSB7XG4gICAgdmFyIGtlcm5lbCA9IEdBVVNTSUFOX1ZBTFVFU1trZXJuZWxTaXplXTtcbiAgICB2YXIgaGFsZkxlbmd0aCA9IGtlcm5lbC5sZW5ndGg7XG4gICAgdmFyIGZyYWdTb3VyY2UgPSBmcmFnVGVtcGxhdGU7XG4gICAgdmFyIGJsdXJMb29wID0gJyc7XG4gICAgdmFyIHRlbXBsYXRlID0gJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZCbHVyVGV4Q29vcmRzWyVpbmRleCVdKSAqICV2YWx1ZSU7JztcbiAgICB2YXIgdmFsdWU7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXJuZWxTaXplOyBpKyspIHtcbiAgICAgICAgdmFyIGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaS50b1N0cmluZygpKTtcbiAgICAgICAgdmFsdWUgPSBpO1xuICAgICAgICBpZiAoaSA+PSBoYWxmTGVuZ3RoKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGtlcm5lbFNpemUgLSBpIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBibHVyID0gYmx1ci5yZXBsYWNlKCcldmFsdWUlJywga2VybmVsW3ZhbHVlXS50b1N0cmluZygpKTtcbiAgICAgICAgYmx1ckxvb3AgKz0gYmx1cjtcbiAgICAgICAgYmx1ckxvb3AgKz0gJ1xcbic7XG4gICAgfVxuICAgIGZyYWdTb3VyY2UgPSBmcmFnU291cmNlLnJlcGxhY2UoJyVibHVyJScsIGJsdXJMb29wKTtcbiAgICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKCclc2l6ZSUnLCBrZXJuZWxTaXplLnRvU3RyaW5nKCkpO1xuICAgIHJldHVybiBmcmFnU291cmNlO1xufVxuXG4vKipcbiAqIERpZmZlcmVudCB0eXBlcyBvZiBlbnZpcm9ubWVudHMgZm9yIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBFTlZcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0xfTEVHQUNZIC0gVXNlZCBmb3Igb2xkZXIgdjEgV2ViR0wgZGV2aWNlcy4gUGl4aUpTIHdpbGwgYWltIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5XG4gKiAgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy4gSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyBwcmVmZXIgdGhpcyBlbnZpcm9ubWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFZlcnNpb24gMSBvZiBXZWJHTFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMMiAtIFZlcnNpb24gMiBvZiBXZWJHTFxuICovXG52YXIgRU5WO1xuKGZ1bmN0aW9uIChFTlYpIHtcbiAgICBFTlZbRU5WW1wiV0VCR0xfTEVHQUNZXCJdID0gMF0gPSBcIldFQkdMX0xFR0FDWVwiO1xuICAgIEVOVltFTlZbXCJXRUJHTFwiXSA9IDFdID0gXCJXRUJHTFwiO1xuICAgIEVOVltFTlZbXCJXRUJHTDJcIl0gPSAyXSA9IFwiV0VCR0wyXCI7XG59KShFTlYgfHwgKEVOViA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50IHRvIGlkZW50aWZ5IHRoZSBSZW5kZXJlciBUeXBlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBSRU5ERVJFUl9UWVBFXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOS05PV04gLSBVbmtub3duIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gV2ViR0wgcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0FOVkFTIC0gQ2FudmFzIHJlbmRlciB0eXBlLlxuICovXG52YXIgUkVOREVSRVJfVFlQRTtcbihmdW5jdGlvbiAoUkVOREVSRVJfVFlQRSkge1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIlVOS05PV05cIl0gPSAwXSA9IFwiVU5LTk9XTlwiO1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIldFQkdMXCJdID0gMV0gPSBcIldFQkdMXCI7XG4gICAgUkVOREVSRVJfVFlQRVtSRU5ERVJFUl9UWVBFW1wiQ0FOVkFTXCJdID0gMl0gPSBcIkNBTlZBU1wiO1xufSkoUkVOREVSRVJfVFlQRSB8fCAoUkVOREVSRVJfVFlQRSA9IHt9KSk7XG4vKipcbiAqIEJpdHdpc2UgT1Igb2YgbWFza3MgdGhhdCBpbmRpY2F0ZSB0aGUgYnVmZmVycyB0byBiZSBjbGVhcmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCVUZGRVJfQklUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUiAtIEluZGljYXRlcyB0aGUgYnVmZmVycyBjdXJyZW50bHkgZW5hYmxlZCBmb3IgY29sb3Igd3JpdGluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSCAtIEluZGljYXRlcyB0aGUgZGVwdGggYnVmZmVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBJbmRpY2F0ZXMgdGhlIHN0ZW5jaWwgYnVmZmVyLlxuICovXG52YXIgQlVGRkVSX0JJVFM7XG4oZnVuY3Rpb24gKEJVRkZFUl9CSVRTKSB7XG4gICAgQlVGRkVSX0JJVFNbQlVGRkVSX0JJVFNbXCJDT0xPUlwiXSA9IDE2Mzg0XSA9IFwiQ09MT1JcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIkRFUFRIXCJdID0gMjU2XSA9IFwiREVQVEhcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIlNURU5DSUxcIl0gPSAxMDI0XSA9IFwiU1RFTkNJTFwiO1xufSkoQlVGRkVSX0JJVFMgfHwgKEJVRkZFUl9CSVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBibGVuZCBtb2RlcyBzdXBwb3J0ZWQgYnkgUElYSS5cbiAqXG4gKiBJTVBPUlRBTlQgLSBUaGUgV2ViR0wgcmVuZGVyZXIgb25seSBzdXBwb3J0cyB0aGUgTk9STUFMLCBBREQsIE1VTFRJUExZIGFuZCBTQ1JFRU4gYmxlbmQgbW9kZXMuXG4gKiBBbnl0aGluZyBlbHNlIHdpbGwgc2lsZW50bHkgYWN0IGxpa2UgTk9STUFMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCTEVORF9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNVUxUSVBMWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9WRVJMQVlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEQVJLRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSUdIVEVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfRE9ER0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9CVVJOXG4gKiBAcHJvcGVydHkge251bWJlcn0gSEFSRF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNPRlRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBESUZGRVJFTkNFXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVhDTFVTSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gSFVFXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0FUVVJBVElPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SXG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5PU0lUWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTF9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERfTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NSRUVOX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfSU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfT1VUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX0FUT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfT1ZFUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9JTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9PVVRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfQVRPUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNVQlRSQUNUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX09WRVJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFUkFTRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFhPUlxuICovXG52YXIgQkxFTkRfTU9ERVM7XG4oZnVuY3Rpb24gKEJMRU5EX01PREVTKSB7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT1JNQUxcIl0gPSAwXSA9IFwiTk9STUFMXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJBRERcIl0gPSAxXSA9IFwiQUREXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJNVUxUSVBMWVwiXSA9IDJdID0gXCJNVUxUSVBMWVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU0NSRUVOXCJdID0gM10gPSBcIlNDUkVFTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiT1ZFUkxBWVwiXSA9IDRdID0gXCJPVkVSTEFZXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEQVJLRU5cIl0gPSA1XSA9IFwiREFSS0VOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJMSUdIVEVOXCJdID0gNl0gPSBcIkxJR0hURU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkNPTE9SX0RPREdFXCJdID0gN10gPSBcIkNPTE9SX0RPREdFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUl9CVVJOXCJdID0gOF0gPSBcIkNPTE9SX0JVUk5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhBUkRfTElHSFRcIl0gPSA5XSA9IFwiSEFSRF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU09GVF9MSUdIVFwiXSA9IDEwXSA9IFwiU09GVF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRElGRkVSRU5DRVwiXSA9IDExXSA9IFwiRElGRkVSRU5DRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRVhDTFVTSU9OXCJdID0gMTJdID0gXCJFWENMVVNJT05cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhVRVwiXSA9IDEzXSA9IFwiSFVFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTQVRVUkFUSU9OXCJdID0gMTRdID0gXCJTQVRVUkFUSU9OXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUlwiXSA9IDE1XSA9IFwiQ09MT1JcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkxVTUlOT1NJVFlcIl0gPSAxNl0gPSBcIkxVTUlOT1NJVFlcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PUk1BTF9OUE1cIl0gPSAxN10gPSBcIk5PUk1BTF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkFERF9OUE1cIl0gPSAxOF0gPSBcIkFERF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNDUkVFTl9OUE1cIl0gPSAxOV0gPSBcIlNDUkVFTl9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PTkVcIl0gPSAyMF0gPSBcIk5PTkVcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19PVkVSXCJdID0gMF0gPSBcIlNSQ19PVkVSXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfSU5cIl0gPSAyMV0gPSBcIlNSQ19JTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX09VVFwiXSA9IDIyXSA9IFwiU1JDX09VVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX0FUT1BcIl0gPSAyM10gPSBcIlNSQ19BVE9QXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1ZFUlwiXSA9IDI0XSA9IFwiRFNUX09WRVJcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9JTlwiXSA9IDI1XSA9IFwiRFNUX0lOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1VUXCJdID0gMjZdID0gXCJEU1RfT1VUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfQVRPUFwiXSA9IDI3XSA9IFwiRFNUX0FUT1BcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkVSQVNFXCJdID0gMjZdID0gXCJFUkFTRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1VCVFJBQ1RcIl0gPSAyOF0gPSBcIlNVQlRSQUNUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJYT1JcIl0gPSAyOV0gPSBcIlhPUlwiO1xufSkoQkxFTkRfTU9ERVMgfHwgKEJMRU5EX01PREVTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyB3ZWJnbCBkcmF3IG1vZGVzLiBUaGVzZSBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IHdoaWNoIEdMIGRyYXdNb2RlIHRvIHVzZVxuICogdW5kZXIgY2VydGFpbiBzaXR1YXRpb25zIGFuZCByZW5kZXJlcnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIERSQVdfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9JTlRTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX0xPT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9GQU5cbiAqL1xudmFyIERSQVdfTU9ERVM7XG4oZnVuY3Rpb24gKERSQVdfTU9ERVMpIHtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJQT0lOVFNcIl0gPSAwXSA9IFwiUE9JTlRTXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORVNcIl0gPSAxXSA9IFwiTElORVNcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJMSU5FX0xPT1BcIl0gPSAyXSA9IFwiTElORV9MT09QXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORV9TVFJJUFwiXSA9IDNdID0gXCJMSU5FX1NUUklQXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVTXCJdID0gNF0gPSBcIlRSSUFOR0xFU1wiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlRSSUFOR0xFX1NUUklQXCJdID0gNV0gPSBcIlRSSUFOR0xFX1NUUklQXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVfRkFOXCJdID0gNl0gPSBcIlRSSUFOR0xFX0ZBTlwiO1xufSkoRFJBV19NT0RFUyB8fCAoRFJBV19NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgdGV4dHVyZS9yZXNvdXJjZXMgZm9ybWF0cy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRk9STUFUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0JBPTY0MDhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0I9NjQwN1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEFMUEhBPTY0MDZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTkFOQ0U9NjQwOVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRV9BTFBIQT02NDEwXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEhfQ09NUE9ORU5UPTY0MDJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9TVEVOQ0lMPTM0MDQxXG4gKi9cbnZhciBGT1JNQVRTO1xuKGZ1bmN0aW9uIChGT1JNQVRTKSB7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdCQVwiXSA9IDY0MDhdID0gXCJSR0JBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdCXCJdID0gNjQwN10gPSBcIlJHQlwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkFMUEhBXCJdID0gNjQwNl0gPSBcIkFMUEhBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiTFVNSU5BTkNFXCJdID0gNjQwOV0gPSBcIkxVTUlOQU5DRVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkxVTUlOQU5DRV9BTFBIQVwiXSA9IDY0MTBdID0gXCJMVU1JTkFOQ0VfQUxQSEFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJERVBUSF9DT01QT05FTlRcIl0gPSA2NDAyXSA9IFwiREVQVEhfQ09NUE9ORU5UXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiREVQVEhfU1RFTkNJTFwiXSA9IDM0MDQxXSA9IFwiREVQVEhfU1RFTkNJTFwiO1xufSkoRk9STUFUUyB8fCAoRk9STUFUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgdGFyZ2V0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUQVJHRVRTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfMkQ9MzU1M1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVA9MzQwNjdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFXzJEX0FSUkFZPTM1ODY2XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YPTM0MDY5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YPTM0MDcwXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZPTM0MDcxXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZPTM0MDcyXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aPTM0MDczXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aPTM0MDc0XG4gKi9cbnZhciBUQVJHRVRTO1xuKGZ1bmN0aW9uIChUQVJHRVRTKSB7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV8yRFwiXSA9IDM1NTNdID0gXCJURVhUVVJFXzJEXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUFwiXSA9IDM0MDY3XSA9IFwiVEVYVFVSRV9DVUJFX01BUFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfMkRfQVJSQVlcIl0gPSAzNTg2Nl0gPSBcIlRFWFRVUkVfMkRfQVJSQVlcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1hcIl0gPSAzNDA2OV0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWFwiXSA9IDM0MDcwXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZXCJdID0gMzQwNzFdID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1lcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1lcIl0gPSAzNDA3Ml0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWlwiXSA9IDM0MDczXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aXCJdID0gMzQwNzRdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1pcIjtcbn0pKFRBUkdFVFMgfHwgKFRBUkdFVFMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIEdMIGRhdGEgZm9ybWF0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUWVBFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9CWVRFPTUxMjFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVD01MTIzXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV82XzU9MzM2MzVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF80XzRfNF80PTMyODE5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV81XzVfMT0zMjgyMFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEZMT0FUPTUxMjZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIQUxGX0ZMT0FUPTM2MTkzXG4gKi9cbnZhciBUWVBFUztcbihmdW5jdGlvbiAoVFlQRVMpIHtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX0JZVEVcIl0gPSA1MTIxXSA9IFwiVU5TSUdORURfQllURVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRcIl0gPSA1MTIzXSA9IFwiVU5TSUdORURfU0hPUlRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXzVfNl81XCJdID0gMzM2MzVdID0gXCJVTlNJR05FRF9TSE9SVF81XzZfNVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiXSA9IDMyODE5XSA9IFwiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiXSA9IDMyODIwXSA9IFwiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiRkxPQVRcIl0gPSA1MTI2XSA9IFwiRkxPQVRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIkhBTEZfRkxPQVRcIl0gPSAzNjE5M10gPSBcIkhBTEZfRkxPQVRcIjtcbn0pKFRZUEVTIHx8IChUWVBFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSBzY2FsZSBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERX0gc2NhbGUgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHNjYWxpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgTElORUFSIG9yIE5FQVJFU1QsIGRlcGVuZGluZyB1cG9uIHN1aXRhYmlsaXR5LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBTQ0FMRV9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVIgU21vb3RoIHNjYWxpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBORUFSRVNUIFBpeGVsYXRpbmcgc2NhbGluZ1xuICovXG52YXIgU0NBTEVfTU9ERVM7XG4oZnVuY3Rpb24gKFNDQUxFX01PREVTKSB7XG4gICAgU0NBTEVfTU9ERVNbU0NBTEVfTU9ERVNbXCJORUFSRVNUXCJdID0gMF0gPSBcIk5FQVJFU1RcIjtcbiAgICBTQ0FMRV9NT0RFU1tTQ0FMRV9NT0RFU1tcIkxJTkVBUlwiXSA9IDFdID0gXCJMSU5FQVJcIjtcbn0pKFNDQUxFX01PREVTIHx8IChTQ0FMRV9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5XUkFQX01PREV9IHdyYXAgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHdyYXBwaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIENMQU1QIG9yIFJFUEVBVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKiBJZiB0aGUgdGV4dHVyZSBpcyBub24gcG93ZXIgb2YgdHdvIHRoZW4gY2xhbXAgd2lsbCBiZSB1c2VkIHJlZ2FyZGxlc3MgYXMgV2ViR0wgY2FuXG4gKiBvbmx5IHVzZSBSRVBFQVQgaWYgdGhlIHRleHR1cmUgaXMgcG8yLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIFdSQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMQU1QIC0gVGhlIHRleHR1cmVzIHV2cyBhcmUgY2xhbXBlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNSVJST1JFRF9SRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0IHdpdGggbWlycm9yaW5nXG4gKi9cbnZhciBXUkFQX01PREVTO1xuKGZ1bmN0aW9uIChXUkFQX01PREVTKSB7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiQ0xBTVBcIl0gPSAzMzA3MV0gPSBcIkNMQU1QXCI7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiUkVQRUFUXCJdID0gMTA0OTddID0gXCJSRVBFQVRcIjtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJNSVJST1JFRF9SRVBFQVRcIl0gPSAzMzY0OF0gPSBcIk1JUlJPUkVEX1JFUEVBVFwiO1xufSkoV1JBUF9NT0RFUyB8fCAoV1JBUF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIE1pcG1hcCBmaWx0ZXJpbmcgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU30gYWZmZWN0cyBkZWZhdWx0IHRleHR1cmUgZmlsdGVyaW5nLlxuICogTWlwbWFwcyBhcmUgZ2VuZXJhdGVkIGZvciBhIGJhc2VUZXh0dXJlIGlmIGl0cyBgbWlwbWFwYCBmaWVsZCBpcyBgT05gLFxuICogb3IgaXRzIGBQT1cyYCBhbmQgdGV4dHVyZSBkaW1lbnNpb25zIGFyZSBwb3dlcnMgb2YgMi5cbiAqIER1ZSB0byBwbGF0Zm9ybSByZXN0cmljdGlvbiwgYE9OYCBvcHRpb24gd2lsbCB3b3JrIGxpa2UgYFBPVzJgIGZvciB3ZWJnbC0xLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIE1JUE1BUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gT0ZGIC0gTm8gbWlwbWFwc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPVzIgLSBHZW5lcmF0ZSBtaXBtYXBzIGlmIHRleHR1cmUgZGltZW5zaW9ucyBhcmUgcG93MlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9OIC0gQWx3YXlzIGdlbmVyYXRlIG1pcG1hcHNcbiAqL1xudmFyIE1JUE1BUF9NT0RFUztcbihmdW5jdGlvbiAoTUlQTUFQX01PREVTKSB7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9GRlwiXSA9IDBdID0gXCJPRkZcIjtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiUE9XMlwiXSA9IDFdID0gXCJQT1cyXCI7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9OXCJdID0gMl0gPSBcIk9OXCI7XG59KShNSVBNQVBfTU9ERVMgfHwgKE1JUE1BUF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIEhvdyB0byB0cmVhdCB0ZXh0dXJlcyB3aXRoIHByZW11bHRpcGxpZWQgYWxwaGFcbiAqXG4gKiBAbmFtZSBBTFBIQV9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9fUFJFTVVMVElQTElFRF9BTFBIQSAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgbGVhdmUgaXQgbGlrZSB0aGF0LlxuICogIE9wdGlvbiBmb3IgY29tcHJlc3NlZCBhbmQgZGF0YSB0ZXh0dXJlcyB0aGF0IGFyZSBjcmVhdGVkIGZyb20gdHlwZWQgYXJyYXlzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBSRU1VTFRJUExZX09OX1VQTE9BRCAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgcHJlbXVsdGlwbHkgb24gdXBsb2FkLlxuICogIERlZmF1bHQgb3B0aW9uLCB1c2VkIGZvciBhbGwgbG9hZGVkIGltYWdlcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQUkVNVUxUSVBMSUVEX0FMUEhBIC0gU291cmNlIGlzIGFscmVhZHkgcHJlbXVsdGlwbGllZFxuICogIEV4YW1wbGU6IHNwaW5lIGF0bGFzZXMgd2l0aCBgX3BtYWAgc3VmZml4LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5QTSAtIEFsaWFzIGZvciBOT19QUkVNVUxUSVBMSUVEX0FMUEhBLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOUEFDSyAtIERlZmF1bHQgb3B0aW9uLCBhbGlhcyBmb3IgUFJFTVVMVElQTFlfT05fVVBMT0FELlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBNQSAtIEFsaWFzIGZvciBQUkVNVUxUSVBMSUVEX0FMUEhBLlxuICovXG52YXIgQUxQSEFfTU9ERVM7XG4oZnVuY3Rpb24gKEFMUEhBX01PREVTKSB7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJOUE1cIl0gPSAwXSA9IFwiTlBNXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJVTlBBQ0tcIl0gPSAxXSA9IFwiVU5QQUNLXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJQTUFcIl0gPSAyXSA9IFwiUE1BXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJOT19QUkVNVUxUSVBMSUVEX0FMUEhBXCJdID0gMF0gPSBcIk5PX1BSRU1VTFRJUExJRURfQUxQSEFcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBSRU1VTFRJUExZX09OX1VQTE9BRFwiXSA9IDFdID0gXCJQUkVNVUxUSVBMWV9PTl9VUExPQURcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBSRU1VTFRJUExZX0FMUEhBXCJdID0gMl0gPSBcIlBSRU1VTFRJUExZX0FMUEhBXCI7XG59KShBTFBIQV9NT0RFUyB8fCAoQUxQSEFfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBIb3cgdG8gY2xlYXIgcmVuZGVyVGV4dHVyZXMgaW4gZmlsdGVyXG4gKlxuICogQG5hbWUgQ0xFQVJfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEJMRU5EIC0gUHJlc2VydmUgdGhlIGluZm9ybWF0aW9uIGluIHRoZSB0ZXh0dXJlLCBibGVuZCBhYm92ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMRUFSIC0gTXVzdCB1c2UgYGdsLmNsZWFyYCBvcGVyYXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBCTElUIC0gQ2xlYXIgb3IgYmxpdCBpdCwgZGVwZW5kcyBvbiBkZXZpY2UgYW5kIGxldmVsIG9mIHBhcmFub2lhXG4gKiBAcHJvcGVydHkge251bWJlcn0gTk8gLSBBbGlhcyBmb3IgQkxFTkQsIHNhbWUgYXMgYGZhbHNlYCBpbiBlYXJsaWVyIHZlcnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gWUVTIC0gQWxpYXMgZm9yIENMRUFSLCBzYW1lIGFzIGB0cnVlYCBpbiBlYXJsaWVyIHZlcnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gQVVUTyAtIEFsaWFzIGZvciBCTElUXG4gKi9cbnZhciBDTEVBUl9NT0RFUztcbihmdW5jdGlvbiAoQ0xFQVJfTU9ERVMpIHtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIk5PXCJdID0gMF0gPSBcIk5PXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJZRVNcIl0gPSAxXSA9IFwiWUVTXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJBVVRPXCJdID0gMl0gPSBcIkFVVE9cIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkJMRU5EXCJdID0gMF0gPSBcIkJMRU5EXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJDTEVBUlwiXSA9IDFdID0gXCJDTEVBUlwiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQkxJVFwiXSA9IDJdID0gXCJCTElUXCI7XG59KShDTEVBUl9NT0RFUyB8fCAoQ0xFQVJfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgZ2MgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLkdDX01PREV9IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlIGZvciBQaXhpSlMgdGV4dHVyZXMgaXMgQVVUT1xuICogSWYgc2V0IHRvIEdDX01PREUsIHRoZSByZW5kZXJlciB3aWxsIG9jY2FzaW9uYWxseSBjaGVjayB0ZXh0dXJlcyB1c2FnZS4gSWYgdGhleSBhcmUgbm90XG4gKiB1c2VkIGZvciBhIHNwZWNpZmllZCBwZXJpb2Qgb2YgdGltZSB0aGV5IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFUuIFRoZXkgd2lsbCBvZiBjb3Vyc2VcbiAqIGJlIHVwbG9hZGVkIGFnYWluIHdoZW4gdGhleSBhcmUgcmVxdWlyZWQuIFRoaXMgaXMgYSBzaWxlbnQgYmVoaW5kIHRoZSBzY2VuZXMgcHJvY2VzcyB0aGF0XG4gKiBzaG91bGQgZW5zdXJlIHRoYXQgdGhlIEdQVSBkb2VzIG5vdCAgZ2V0IGZpbGxlZCB1cC5cbiAqXG4gKiBIYW5keSBmb3IgbW9iaWxlIGRldmljZXMhXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAbmFtZSBHQ19NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcHJvcGVydHkge251bWJlcn0gQVVUTyAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIGhhcHBlbiBwZXJpb2RpY2FsbHkgYXV0b21hdGljYWxseVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1BTlVBTCAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIG5lZWQgdG8gYmUgY2FsbGVkIG1hbnVhbGx5XG4gKi9cbnZhciBHQ19NT0RFUztcbihmdW5jdGlvbiAoR0NfTU9ERVMpIHtcbiAgICBHQ19NT0RFU1tHQ19NT0RFU1tcIkFVVE9cIl0gPSAwXSA9IFwiQVVUT1wiO1xuICAgIEdDX01PREVTW0dDX01PREVTW1wiTUFOVUFMXCJdID0gMV0gPSBcIk1BTlVBTFwiO1xufSkoR0NfTU9ERVMgfHwgKEdDX01PREVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gc2hhZGVycy5cbiAqXG4gKiBAbmFtZSBQUkVDSVNJT05cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAY29uc3RhbnRcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gTE9XPSdsb3dwJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IE1FRElVTT0nbWVkaXVtcCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBISUdIPSdoaWdocCdcbiAqL1xudmFyIFBSRUNJU0lPTjtcbihmdW5jdGlvbiAoUFJFQ0lTSU9OKSB7XG4gICAgUFJFQ0lTSU9OW1wiTE9XXCJdID0gXCJsb3dwXCI7XG4gICAgUFJFQ0lTSU9OW1wiTUVESVVNXCJdID0gXCJtZWRpdW1wXCI7XG4gICAgUFJFQ0lTSU9OW1wiSElHSFwiXSA9IFwiaGlnaHBcIjtcbn0pKFBSRUNJU0lPTiB8fCAoUFJFQ0lTSU9OID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIGZvciBtYXNrIGltcGxlbWVudGF0aW9ucy5cbiAqIFdlIHVzZSBgdHlwZWAgc3VmZml4IGJlY2F1c2UgaXQgbGVhZHMgdG8gdmVyeSBkaWZmZXJlbnQgYmVoYXZpb3Vyc1xuICpcbiAqIEBuYW1lIE1BU0tfVFlQRVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkUgLSBNYXNrIGlzIGlnbm9yZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ0lTU09SIC0gU2Npc3NvciBtYXNrLCByZWN0YW5nbGUgb24gc2NyZWVuLCBjaGVhcFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBTdGVuY2lsIG1hc2ssIDEtYml0LCBtZWRpdW0sIHdvcmtzIG9ubHkgaWYgcmVuZGVyZXIgc3VwcG9ydHMgc3RlbmNpbFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNQUklURSAtIE1hc2sgdGhhdCB1c2VzIFNwcml0ZU1hc2tGaWx0ZXIsIHVzZXMgdGVtcG9yYXJ5IFJlbmRlclRleHR1cmVcbiAqL1xudmFyIE1BU0tfVFlQRVM7XG4oZnVuY3Rpb24gKE1BU0tfVFlQRVMpIHtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTQ0lTU09SXCJdID0gMV0gPSBcIlNDSVNTT1JcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTVEVOQ0lMXCJdID0gMl0gPSBcIlNURU5DSUxcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTUFJJVEVcIl0gPSAzXSA9IFwiU1BSSVRFXCI7XG59KShNQVNLX1RZUEVTIHx8IChNQVNLX1RZUEVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIGZvciBtdWx0aS1zYW1wbGluZyBhbnRpYWxpYXNpbmcuXG4gKlxuICogQHNlZSBQSVhJLkZyYW1lYnVmZmVyI211bHRpc2FtcGxlXG4gKlxuICogQG5hbWUgTVNBQV9RVUFMSVRZXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FIC0gTm8gbXVsdGlzYW1wbGluZyBmb3IgdGhpcyByZW5kZXJUZXh0dXJlXG4gKiBAcHJvcGVydHkge251bWJlcn0gTE9XIC0gVHJ5IDIgc2FtcGxlc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE1FRElVTSAtIFRyeSA0IHNhbXBsZXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBISUdIIC0gVHJ5IDggc2FtcGxlc1xuICovXG52YXIgTVNBQV9RVUFMSVRZO1xuKGZ1bmN0aW9uIChNU0FBX1FVQUxJVFkpIHtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIkxPV1wiXSA9IDJdID0gXCJMT1dcIjtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTUVESVVNXCJdID0gNF0gPSBcIk1FRElVTVwiO1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJISUdIXCJdID0gOF0gPSBcIkhJR0hcIjtcbn0pKE1TQUFfUVVBTElUWSB8fCAoTVNBQV9RVUFMSVRZID0ge30pKTtcblxuLyoqXG4gKiBUaGUgQmx1ckZpbHRlclBhc3MgYXBwbGllcyBhIGhvcml6b250YWwgb3IgdmVydGljYWwgR2F1c3NpYW4gYmx1ciB0byBhbiBvYmplY3QuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQmx1ckZpbHRlclBhc3MgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJsdXJGaWx0ZXJQYXNzLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaG9yaXpvbnRhbCAtIERvIHBhc3MgYWxvbmcgdGhlIHgtYXhpcyAoYHRydWVgKSBvciB5LWF4aXMgKGBmYWxzZWApLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RyZW5ndGg9OF0gLSBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcXVhbGl0eT00XSAtIFRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmx1ckZpbHRlclBhc3MoaG9yaXpvbnRhbCwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpIHtcbiAgICAgICAgaWYgKHN0cmVuZ3RoID09PSB2b2lkIDApIHsgc3RyZW5ndGggPSA4OyB9XG4gICAgICAgIGlmIChxdWFsaXR5ID09PSB2b2lkIDApIHsgcXVhbGl0eSA9IDQ7IH1cbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uID0gc2V0dGluZ3MuUkVTT0xVVElPTjsgfVxuICAgICAgICBpZiAoa2VybmVsU2l6ZSA9PT0gdm9pZCAwKSB7IGtlcm5lbFNpemUgPSA1OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB2ZXJ0U3JjID0gZ2VuZXJhdGVCbHVyVmVydFNvdXJjZShrZXJuZWxTaXplLCBob3Jpem9udGFsKTtcbiAgICAgICAgdmFyIGZyYWdTcmMgPSBnZW5lcmF0ZUJsdXJGcmFnU291cmNlKGtlcm5lbFNpemUpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgIHZlcnRTcmMsIFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgZnJhZ1NyYykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaG9yaXpvbnRhbCA9IGhvcml6b250YWw7XG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBfdGhpcy5fcXVhbGl0eSA9IDA7XG4gICAgICAgIF90aGlzLnF1YWxpdHkgPSBxdWFsaXR5O1xuICAgICAgICBfdGhpcy5ibHVyID0gc3RyZW5ndGg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLkNMRUFSX01PREVTfSBjbGVhck1vZGUgLSBIb3cgdG8gY2xlYXJcbiAgICAgKi9cbiAgICBCbHVyRmlsdGVyUGFzcy5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiAoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKSB7XG4gICAgICAgIGlmIChvdXRwdXQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhvcml6b250YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gKDEgLyBvdXRwdXQud2lkdGgpICogKG91dHB1dC53aWR0aCAvIGlucHV0LndpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIG91dHB1dC5oZWlnaHQpICogKG91dHB1dC5oZWlnaHQgLyBpbnB1dC5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gKDEgLyBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLndpZHRoKSAqIChmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLndpZHRoIC8gaW5wdXQud2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gZmlsdGVyTWFuYWdlci5yZW5kZXJlci5oZWlnaHQpICogKGZpbHRlck1hbmFnZXIucmVuZGVyZXIuaGVpZ2h0IC8gaW5wdXQuaGVpZ2h0KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNjcmVlbiBzcGFjZSFcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAqPSB0aGlzLnN0cmVuZ3RoO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoIC89IHRoaXMucGFzc2VzO1xuICAgICAgICBpZiAodGhpcy5wYXNzZXMgPT09IDEpIHtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSBmaWx0ZXJNYW5hZ2VyLmdldEZpbHRlclRleHR1cmUoKTtcbiAgICAgICAgICAgIHZhciByZW5kZXJlciA9IGZpbHRlck1hbmFnZXIucmVuZGVyZXI7XG4gICAgICAgICAgICB2YXIgZmxpcCA9IGlucHV0O1xuICAgICAgICAgICAgdmFyIGZsb3AgPSByZW5kZXJUYXJnZXQ7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kID0gZmFsc2U7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsaXAsIGZsb3AsIENMRUFSX01PREVTLkNMRUFSKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5wYXNzZXMgLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmJpbmRBbmRDbGVhcihmbGlwLCBDTEVBUl9NT0RFUy5CTElUKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyID0gZmxvcDtcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGZsb3A7XG4gICAgICAgICAgICAgICAgZmxvcCA9IGZsaXA7XG4gICAgICAgICAgICAgICAgZmxpcCA9IHRlbXA7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcyk7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyg1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmQgPSB0cnVlO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbG9wLCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXJQYXNzLnByb3RvdHlwZSwgXCJibHVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTZcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSAxICsgKE1hdGguYWJzKHZhbHVlKSAqIDIpO1xuICAgICAgICAgICAgdGhpcy5zdHJlbmd0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXJQYXNzLnByb3RvdHlwZSwgXCJxdWFsaXR5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgYnkgbW9kaWZ5aW5nIHRoZSBudW1iZXIgb2YgcGFzc2VzLiBNb3JlIHBhc3NlcyBtZWFucyBoaWdoZXJcbiAgICAgICAgICogcXVhaWxpdHkgYmx1cmluZyBidXQgdGhlIGxvd2VyIHRoZSBwZXJmb3JtYW5jZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCA0XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9xdWFsaXR5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcXVhbGl0eSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5wYXNzZXMgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCbHVyRmlsdGVyUGFzcztcbn0oRmlsdGVyKSk7XG5cbi8qKlxuICogVGhlIEJsdXJGaWx0ZXIgYXBwbGllcyBhIEdhdXNzaWFuIGJsdXIgdG8gYW4gb2JqZWN0LlxuICpcbiAqIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBjYW4gYmUgc2V0IGZvciB0aGUgeC1heGlzIGFuZCB5LWF4aXMgc2VwYXJhdGVseS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBCbHVyRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCbHVyRmlsdGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RyZW5ndGg9OF0gLSBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcXVhbGl0eT00XSAtIFRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmx1ckZpbHRlcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkge1xuICAgICAgICBpZiAoc3RyZW5ndGggPT09IHZvaWQgMCkgeyBzdHJlbmd0aCA9IDg7IH1cbiAgICAgICAgaWYgKHF1YWxpdHkgPT09IHZvaWQgMCkgeyBxdWFsaXR5ID0gNDsgfVxuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OOyB9XG4gICAgICAgIGlmIChrZXJuZWxTaXplID09PSB2b2lkIDApIHsga2VybmVsU2l6ZSA9IDU7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYmx1clhGaWx0ZXIgPSBuZXcgQmx1ckZpbHRlclBhc3ModHJ1ZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuICAgICAgICBfdGhpcy5ibHVyWUZpbHRlciA9IG5ldyBCbHVyRmlsdGVyUGFzcyhmYWxzZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgX3RoaXMucXVhbGl0eSA9IHF1YWxpdHk7XG4gICAgICAgIF90aGlzLmJsdXIgPSBzdHJlbmd0aDtcbiAgICAgICAgX3RoaXMucmVwZWF0RWRnZVBpeGVscyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5DTEVBUl9NT0RFU30gY2xlYXJNb2RlIC0gSG93IHRvIGNsZWFyXG4gICAgICovXG4gICAgQmx1ckZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiAoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKSB7XG4gICAgICAgIHZhciB4U3RyZW5ndGggPSBNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKTtcbiAgICAgICAgdmFyIHlTdHJlbmd0aCA9IE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpO1xuICAgICAgICBpZiAoeFN0cmVuZ3RoICYmIHlTdHJlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0RmlsdGVyVGV4dHVyZSgpO1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgcmVuZGVyVGFyZ2V0LCBDTEVBUl9NT0RFUy5DTEVBUik7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIHJlbmRlclRhcmdldCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5GaWx0ZXJUZXh0dXJlKHJlbmRlclRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeVN0cmVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJsdXJGaWx0ZXIucHJvdG90eXBlLnVwZGF0ZVBhZGRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXBlYXRFZGdlUGl4ZWxzKSB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCksIE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpKSAqIDI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyLnByb3RvdHlwZSwgXCJibHVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXJYIGFuZCBibHVyWSBwcm9wZXJ0aWVzIHNpbXVsdGFuZW91c2x5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdGhpcy5ibHVyWUZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyLnByb3RvdHlwZSwgXCJxdWFsaXR5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIG51bWJlciBvZiBwYXNzZXMgZm9yIGJsdXIuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlciBxdWFpbGl0eSBibHVyaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eSA9IHRoaXMuYmx1cllGaWx0ZXIucXVhbGl0eSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcImJsdXJYXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWCBwcm9wZXJ0eVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDJcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIuYmx1cjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQYWRkaW5nKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmx1ckZpbHRlci5wcm90b3R5cGUsIFwiYmx1cllcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgdGhlIGJsdXJZIHByb3BlcnR5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5ibHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyLnByb3RvdHlwZSwgXCJibGVuZE1vZGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgYmxlbmRtb2RlIG9mIHRoZSBmaWx0ZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5ibGVuZE1vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcInJlcGVhdEVkZ2VQaXhlbHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgc2V0IHRvIHRydWUgdGhlIGVkZ2Ugb2YgdGhlIHRhcmdldCB3aWxsIGJlIGNsYW1wZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXBlYXRFZGdlUGl4ZWxzID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCbHVyRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgQmx1ckZpbHRlciwgQmx1ckZpbHRlclBhc3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1ibHVyLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItY29sb3ItbWF0cml4IC0gdjUuMy4zXG4gKiBDb21waWxlZCBUdWUsIDA0IEF1ZyAyMDIwIDE2OjIzOjA5IFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXggaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBkZWZhdWx0RmlsdGVyVmVydGV4LCBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCBtWzIwXTtcXG51bmlmb3JtIGZsb2F0IHVBbHBoYTtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzQgYyA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuXFxuICAgIGlmICh1QWxwaGEgPT0gMC4wKSB7XFxuICAgICAgICBnbF9GcmFnQ29sb3IgPSBjO1xcbiAgICAgICAgcmV0dXJuO1xcbiAgICB9XFxuXFxuICAgIC8vIFVuLXByZW11bHRpcGx5IGFscGhhIGJlZm9yZSBhcHBseWluZyB0aGUgY29sb3IgbWF0cml4LiBTZWUgaXNzdWUgIzM1MzkuXFxuICAgIGlmIChjLmEgPiAwLjApIHtcXG4gICAgICBjLnJnYiAvPSBjLmE7XFxuICAgIH1cXG5cXG4gICAgdmVjNCByZXN1bHQ7XFxuXFxuICAgIHJlc3VsdC5yID0gKG1bMF0gKiBjLnIpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bMV0gKiBjLmcpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bMl0gKiBjLmIpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bM10gKiBjLmEpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gbVs0XTtcXG5cXG4gICAgcmVzdWx0LmcgPSAobVs1XSAqIGMucik7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs2XSAqIGMuZyk7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs3XSAqIGMuYik7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs4XSAqIGMuYSk7XFxuICAgICAgICByZXN1bHQuZyArPSBtWzldO1xcblxcbiAgICByZXN1bHQuYiA9IChtWzEwXSAqIGMucik7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzExXSAqIGMuZyk7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzEyXSAqIGMuYik7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzEzXSAqIGMuYSk7XFxuICAgICAgIHJlc3VsdC5iICs9IG1bMTRdO1xcblxcbiAgICByZXN1bHQuYSA9IChtWzE1XSAqIGMucik7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE2XSAqIGMuZyk7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE3XSAqIGMuYik7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE4XSAqIGMuYSk7XFxuICAgICAgIHJlc3VsdC5hICs9IG1bMTldO1xcblxcbiAgICB2ZWMzIHJnYiA9IG1peChjLnJnYiwgcmVzdWx0LnJnYiwgdUFscGhhKTtcXG5cXG4gICAgLy8gUHJlbXVsdGlwbHkgYWxwaGEgYWdhaW4uXFxuICAgIHJnYiAqPSByZXN1bHQuYTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChyZ2IsIHJlc3VsdC5hKTtcXG59XFxuXCI7XG5cbi8qKlxuICogVGhlIENvbG9yTWF0cml4RmlsdGVyIGNsYXNzIGxldHMgeW91IGFwcGx5IGEgNXg0IG1hdHJpeCB0cmFuc2Zvcm1hdGlvbiBvbiB0aGUgUkdCQVxuICogY29sb3IgYW5kIGFscGhhIHZhbHVlcyBvZiBldmVyeSBwaXhlbCBvbiB5b3VyIGRpc3BsYXlPYmplY3QgdG8gcHJvZHVjZSBhIHJlc3VsdFxuICogd2l0aCBhIG5ldyBzZXQgb2YgUkdCQSBjb2xvciBhbmQgYWxwaGEgdmFsdWVzLiBJdCdzIHByZXR0eSBwb3dlcmZ1bCFcbiAqXG4gKiBgYGBqc1xuICogIGxldCBjb2xvck1hdHJpeCA9IG5ldyBQSVhJLmZpbHRlcnMuQ29sb3JNYXRyaXhGaWx0ZXIoKTtcbiAqICBjb250YWluZXIuZmlsdGVycyA9IFtjb2xvck1hdHJpeF07XG4gKiAgY29sb3JNYXRyaXguY29udHJhc3QoMik7XG4gKiBgYGBcbiAqIEBhdXRob3IgQ2zDqW1lbnQgQ2hlbmViYXVsdCA8Y2xlbWVudEBnb29kYm95ZGlnaXRhbC5jb20+XG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBDb2xvck1hdHJpeEZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29sb3JNYXRyaXhGaWx0ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29sb3JNYXRyaXhGaWx0ZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgIG06IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMSwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDAsIDEsIDBdKSxcbiAgICAgICAgICAgIHVBbHBoYTogMSxcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZWZhdWx0RmlsdGVyVmVydGV4LCBmcmFnbWVudCwgdW5pZm9ybXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFscGhhID0gMTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIGN1cnJlbnQgbWF0cml4IGFuZCBzZXQgdGhlIG5ldyBvbmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IG1hdHJpeCAtIDV4NCBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX2xvYWRNYXRyaXggPSBmdW5jdGlvbiAobWF0cml4LCBtdWx0aXBseSkge1xuICAgICAgICBpZiAobXVsdGlwbHkgPT09IHZvaWQgMCkgeyBtdWx0aXBseSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBuZXdNYXRyaXggPSBtYXRyaXg7XG4gICAgICAgIGlmIChtdWx0aXBseSkge1xuICAgICAgICAgICAgdGhpcy5fbXVsdGlwbHkobmV3TWF0cml4LCB0aGlzLnVuaWZvcm1zLm0sIG1hdHJpeCk7XG4gICAgICAgICAgICBuZXdNYXRyaXggPSB0aGlzLl9jb2xvck1hdHJpeChuZXdNYXRyaXgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCB0aGUgbmV3IG1hdHJpeFxuICAgICAgICB0aGlzLnVuaWZvcm1zLm0gPSBuZXdNYXRyaXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHR3byBtYXQ1J3NcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gb3V0IC0gNXg0IG1hdHJpeCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGEgLSA1eDQgbWF0cml4IHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYiAtIDV4NCBtYXRyaXggdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMge251bWJlcltdfSA1eDQgbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLl9tdWx0aXBseSA9IGZ1bmN0aW9uIChvdXQsIGEsIGIpIHtcbiAgICAgICAgLy8gUmVkIENoYW5uZWxcbiAgICAgICAgb3V0WzBdID0gKGFbMF0gKiBiWzBdKSArIChhWzFdICogYls1XSkgKyAoYVsyXSAqIGJbMTBdKSArIChhWzNdICogYlsxNV0pO1xuICAgICAgICBvdXRbMV0gPSAoYVswXSAqIGJbMV0pICsgKGFbMV0gKiBiWzZdKSArIChhWzJdICogYlsxMV0pICsgKGFbM10gKiBiWzE2XSk7XG4gICAgICAgIG91dFsyXSA9IChhWzBdICogYlsyXSkgKyAoYVsxXSAqIGJbN10pICsgKGFbMl0gKiBiWzEyXSkgKyAoYVszXSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzNdID0gKGFbMF0gKiBiWzNdKSArIChhWzFdICogYls4XSkgKyAoYVsyXSAqIGJbMTNdKSArIChhWzNdICogYlsxOF0pO1xuICAgICAgICBvdXRbNF0gPSAoYVswXSAqIGJbNF0pICsgKGFbMV0gKiBiWzldKSArIChhWzJdICogYlsxNF0pICsgKGFbM10gKiBiWzE5XSkgKyBhWzRdO1xuICAgICAgICAvLyBHcmVlbiBDaGFubmVsXG4gICAgICAgIG91dFs1XSA9IChhWzVdICogYlswXSkgKyAoYVs2XSAqIGJbNV0pICsgKGFbN10gKiBiWzEwXSkgKyAoYVs4XSAqIGJbMTVdKTtcbiAgICAgICAgb3V0WzZdID0gKGFbNV0gKiBiWzFdKSArIChhWzZdICogYls2XSkgKyAoYVs3XSAqIGJbMTFdKSArIChhWzhdICogYlsxNl0pO1xuICAgICAgICBvdXRbN10gPSAoYVs1XSAqIGJbMl0pICsgKGFbNl0gKiBiWzddKSArIChhWzddICogYlsxMl0pICsgKGFbOF0gKiBiWzE3XSk7XG4gICAgICAgIG91dFs4XSA9IChhWzVdICogYlszXSkgKyAoYVs2XSAqIGJbOF0pICsgKGFbN10gKiBiWzEzXSkgKyAoYVs4XSAqIGJbMThdKTtcbiAgICAgICAgb3V0WzldID0gKGFbNV0gKiBiWzRdKSArIChhWzZdICogYls5XSkgKyAoYVs3XSAqIGJbMTRdKSArIChhWzhdICogYlsxOV0pICsgYVs5XTtcbiAgICAgICAgLy8gQmx1ZSBDaGFubmVsXG4gICAgICAgIG91dFsxMF0gPSAoYVsxMF0gKiBiWzBdKSArIChhWzExXSAqIGJbNV0pICsgKGFbMTJdICogYlsxMF0pICsgKGFbMTNdICogYlsxNV0pO1xuICAgICAgICBvdXRbMTFdID0gKGFbMTBdICogYlsxXSkgKyAoYVsxMV0gKiBiWzZdKSArIChhWzEyXSAqIGJbMTFdKSArIChhWzEzXSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzEyXSA9IChhWzEwXSAqIGJbMl0pICsgKGFbMTFdICogYls3XSkgKyAoYVsxMl0gKiBiWzEyXSkgKyAoYVsxM10gKiBiWzE3XSk7XG4gICAgICAgIG91dFsxM10gPSAoYVsxMF0gKiBiWzNdKSArIChhWzExXSAqIGJbOF0pICsgKGFbMTJdICogYlsxM10pICsgKGFbMTNdICogYlsxOF0pO1xuICAgICAgICBvdXRbMTRdID0gKGFbMTBdICogYls0XSkgKyAoYVsxMV0gKiBiWzldKSArIChhWzEyXSAqIGJbMTRdKSArIChhWzEzXSAqIGJbMTldKSArIGFbMTRdO1xuICAgICAgICAvLyBBbHBoYSBDaGFubmVsXG4gICAgICAgIG91dFsxNV0gPSAoYVsxNV0gKiBiWzBdKSArIChhWzE2XSAqIGJbNV0pICsgKGFbMTddICogYlsxMF0pICsgKGFbMThdICogYlsxNV0pO1xuICAgICAgICBvdXRbMTZdID0gKGFbMTVdICogYlsxXSkgKyAoYVsxNl0gKiBiWzZdKSArIChhWzE3XSAqIGJbMTFdKSArIChhWzE4XSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzE3XSA9IChhWzE1XSAqIGJbMl0pICsgKGFbMTZdICogYls3XSkgKyAoYVsxN10gKiBiWzEyXSkgKyAoYVsxOF0gKiBiWzE3XSk7XG4gICAgICAgIG91dFsxOF0gPSAoYVsxNV0gKiBiWzNdKSArIChhWzE2XSAqIGJbOF0pICsgKGFbMTddICogYlsxM10pICsgKGFbMThdICogYlsxOF0pO1xuICAgICAgICBvdXRbMTldID0gKGFbMTVdICogYls0XSkgKyAoYVsxNl0gKiBiWzldKSArIChhWzE3XSAqIGJbMTRdKSArIChhWzE4XSAqIGJbMTldKSArIGFbMTldO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgRmxvYXQzMiBBcnJheSBhbmQgbm9ybWFsaXplIHRoZSBvZmZzZXQgY29tcG9uZW50IHRvIDAtMVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBtYXRyaXggLSA1eDQgbWF0cml4XG4gICAgICogQHJldHVybiB7bnVtYmVyW119IDV4NCBtYXRyaXggd2l0aCBhbGwgdmFsdWVzIGJldHdlZW4gMC0xXG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLl9jb2xvck1hdHJpeCA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgRmxvYXQzMiBBcnJheSBhbmQgbm9ybWFsaXplIHRoZSBvZmZzZXQgY29tcG9uZW50IHRvIDAtMVxuICAgICAgICB2YXIgbSA9IG5ldyBGbG9hdDMyQXJyYXkobWF0cml4KTtcbiAgICAgICAgbVs0XSAvPSAyNTU7XG4gICAgICAgIG1bOV0gLz0gMjU1O1xuICAgICAgICBtWzE0XSAvPSAyNTU7XG4gICAgICAgIG1bMTldIC89IDI1NTtcbiAgICAgICAgcmV0dXJuIG07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGp1c3RzIGJyaWdodG5lc3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiIC0gdmFsdWUgb2YgdGhlIGJyaWd0aG5lc3MgKDAtMSwgd2hlcmUgMCBpcyBibGFjaylcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuYnJpZ2h0bmVzcyA9IGZ1bmN0aW9uIChiLCBtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgYiwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIGIsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCBiLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtYXRyaWNlcyBpbiBncmV5IHNjYWxlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIC0gdmFsdWUgb2YgdGhlIGdyZXkgKDAtMSwgd2hlcmUgMCBpcyBibGFjaylcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JleXNjYWxlID0gZnVuY3Rpb24gKHNjYWxlLCBtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCxcbiAgICAgICAgICAgIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsXG4gICAgICAgICAgICBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBibGFjayBhbmQgd2hpdGUgbWF0cmljZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ibGFja0FuZFdoaXRlID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjMsIDAuNiwgMC4xLCAwLCAwLFxuICAgICAgICAgICAgMC4zLCAwLjYsIDAuMSwgMCwgMCxcbiAgICAgICAgICAgIDAuMywgMC42LCAwLjEsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGh1ZSBwcm9wZXJ0eSBvZiB0aGUgY29sb3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIGluIGRlZ3JlZXNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuaHVlID0gZnVuY3Rpb24gKHJvdGF0aW9uLCBtdWx0aXBseSkge1xuICAgICAgICByb3RhdGlvbiA9IChyb3RhdGlvbiB8fCAwKSAvIDE4MCAqIE1hdGguUEk7XG4gICAgICAgIHZhciBjb3NSID0gTWF0aC5jb3Mocm90YXRpb24pO1xuICAgICAgICB2YXIgc2luUiA9IE1hdGguc2luKHJvdGF0aW9uKTtcbiAgICAgICAgdmFyIHNxcnQgPSBNYXRoLnNxcnQ7XG4gICAgICAgIC8qIGEgZ29vZCBhcHByb3hpbWF0aW9uIGZvciBodWUgcm90YXRpb25cbiAgICAgICAgIFRoaXMgbWF0cml4IGlzIGZhciBiZXR0ZXIgdGhhbiB0aGUgdmVyc2lvbnMgd2l0aCBtYWdpYyBsdW1pbmFuY2UgY29uc3RhbnRzXG4gICAgICAgICBmb3JtZXJseSB1c2VkIGhlcmUsIGJ1dCBhbHNvIHVzZWQgaW4gdGhlIHN0YXJsaW5nIGZyYW1ld29yayAoZmxhc2gpIGFuZCBrbm93biBmcm9tIHRoaXNcbiAgICAgICAgIG9sZCBwYXJ0IG9mIHRoZSBpbnRlcm5ldDogcXVhc2ltb25kby5jb20vYXJjaGl2ZXMvMDAwNTY1LnBocFxuXG4gICAgICAgICBUaGlzIG5ldyBtYXRyaXggaXMgYmFzZWQgb24gcmdiIGN1YmUgcm90YXRpb24gaW4gc3BhY2UuIExvb2sgaGVyZSBmb3IgYSBtb3JlIGRlc2NyaXB0aXZlXG4gICAgICAgICBpbXBsZW1lbnRhdGlvbiBhcyBhIHNoYWRlciBub3QgYSBnZW5lcmFsIG1hdHJpeDpcbiAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9ldmFudy9nbGZ4LmpzL2Jsb2IvNTg4NDFjMjM5MTliZDU5Nzg3ZWZmYzAzMzNhNDg5N2I0MzgzNTQxMi9zcmMvZmlsdGVycy9hZGp1c3QvaHVlc2F0dXJhdGlvbi5qc1xuXG4gICAgICAgICBUaGlzIGlzIHRoZSBzb3VyY2UgZm9yIHRoZSBjb2RlOlxuICAgICAgICAgc2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODUwNzg4NS9zaGlmdC1odWUtb2YtYW4tcmdiLWNvbG9yLzg1MTA3NTEjODUxMDc1MVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHcgPSAxIC8gMztcbiAgICAgICAgdmFyIHNxclcgPSBzcXJ0KHcpOyAvLyB3ZWlnaHQgaXNcbiAgICAgICAgdmFyIGEwMCA9IGNvc1IgKyAoKDEuMCAtIGNvc1IpICogdyk7XG4gICAgICAgIHZhciBhMDEgPSAodyAqICgxLjAgLSBjb3NSKSkgLSAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTAyID0gKHcgKiAoMS4wIC0gY29zUikpICsgKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGExMCA9ICh3ICogKDEuMCAtIGNvc1IpKSArIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMTEgPSBjb3NSICsgKHcgKiAoMS4wIC0gY29zUikpO1xuICAgICAgICB2YXIgYTEyID0gKHcgKiAoMS4wIC0gY29zUikpIC0gKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGEyMCA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMjEgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTIyID0gY29zUiArICh3ICogKDEuMCAtIGNvc1IpKTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIGEwMCwgYTAxLCBhMDIsIDAsIDAsXG4gICAgICAgICAgICBhMTAsIGExMSwgYTEyLCAwLCAwLFxuICAgICAgICAgICAgYTIwLCBhMjEsIGEyMiwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29udHJhc3QgbWF0cml4LCBpbmNyZWFzZSB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIGRhcmsgYW5kIGJyaWdodFxuICAgICAqIEluY3JlYXNlIGNvbnRyYXN0IDogc2hhZG93cyBkYXJrZXIgYW5kIGhpZ2hsaWdodHMgYnJpZ2h0ZXJcbiAgICAgKiBEZWNyZWFzZSBjb250cmFzdCA6IGJyaW5nIHRoZSBzaGFkb3dzIHVwIGFuZCB0aGUgaGlnaGxpZ2h0cyBkb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdmFsdWUgb2YgdGhlIGNvbnRyYXN0ICgwLTEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmNvbnRyYXN0ID0gZnVuY3Rpb24gKGFtb3VudCwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIHYgPSAoYW1vdW50IHx8IDApICsgMTtcbiAgICAgICAgdmFyIG8gPSAtMC41ICogKHYgLSAxKTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIHYsIDAsIDAsIDAsIG8sXG4gICAgICAgICAgICAwLCB2LCAwLCAwLCBvLFxuICAgICAgICAgICAgMCwgMCwgdiwgMCwgbyxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2F0dXJhdGlvbiBtYXRyaXgsIGluY3JlYXNlIHRoZSBzZXBhcmF0aW9uIGJldHdlZW4gY29sb3JzXG4gICAgICogSW5jcmVhc2Ugc2F0dXJhdGlvbiA6IGluY3JlYXNlIGNvbnRyYXN0LCBicmlnaHRuZXNzLCBhbmQgc2hhcnBuZXNzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gVGhlIHNhdHVyYXRpb24gYW1vdW50ICgwLTEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbbXVsdGlwbHldIC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuc2F0dXJhdGUgPSBmdW5jdGlvbiAoYW1vdW50LCBtdWx0aXBseSkge1xuICAgICAgICBpZiAoYW1vdW50ID09PSB2b2lkIDApIHsgYW1vdW50ID0gMDsgfVxuICAgICAgICB2YXIgeCA9IChhbW91bnQgKiAyIC8gMykgKyAxO1xuICAgICAgICB2YXIgeSA9ICgoeCAtIDEpICogLTAuNSk7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICB4LCB5LCB5LCAwLCAwLFxuICAgICAgICAgICAgeSwgeCwgeSwgMCwgMCxcbiAgICAgICAgICAgIHksIHksIHgsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXNhdHVyYXRlIGltYWdlIChyZW1vdmUgY29sb3IpXG4gICAgICpcbiAgICAgKiBDYWxsIHRoZSBzYXR1cmF0ZSBmdW5jdGlvblxuICAgICAqXG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmRlc2F0dXJhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2F0dXJhdGUoLTEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTmVnYXRpdmUgaW1hZ2UgKGludmVyc2Ugb2YgY2xhc3NpYyByZ2IgbWF0cml4KVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLm5lZ2F0aXZlID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAtMSwgMCwgMCwgMSwgMCxcbiAgICAgICAgICAgIDAsIC0xLCAwLCAxLCAwLFxuICAgICAgICAgICAgMCwgMCwgLTEsIDEsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXBpYSBpbWFnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnNlcGlhID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjM5MywgMC43Njg5OTk5LCAwLjE4ODk5OTk5LCAwLCAwLFxuICAgICAgICAgICAgMC4zNDksIDAuNjg1OTk5OSwgMC4xNjc5OTk5OSwgMCwgMCxcbiAgICAgICAgICAgIDAuMjcyLCAwLjUzMzk5OTksIDAuMTMwOTk5OTksIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb2xvciBtb3Rpb24gcGljdHVyZSBwcm9jZXNzIGludmVudGVkIGluIDE5MTYgKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudGVjaG5pY29sb3IgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEuOTEyNTI3Nzg5MTQ1NjA4MywgLTAuODU0NTM0NDk3Njk1MTY0NSwgLTAuMDkxNTU1MDg0ODI3NTU1ODUsIDAsIDExLjc5MzYwMzQzNDM3NzMzNyxcbiAgICAgICAgICAgIC0wLjMwODc4MzMzODU5MjgwOTcsIDEuNzY1ODkwODU1NTQ1ODQyOCwgLTAuMTA2MDE3NDMwNzQ3MjIyNDUsIDAsIC03MC4zNTIwNTE2MTQ2MTM5OCxcbiAgICAgICAgICAgIC0wLjIzMTEwMzM3NzU0ODYxNiwgLTAuNzUwMTg5OTE5NzQ0MDIxMiwgMS44NDc1OTc4MTYxMDgxODksIDAsIDMwLjk1MDk0MDg2OTQ5MTEzOCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBvbGFyb2lkIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnBvbGFyb2lkID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLjQzOCwgLTAuMDYyLCAtMC4wNjIsIDAsIDAsXG4gICAgICAgICAgICAtMC4xMjIsIDEuMzc4LCAtMC4xMjIsIDAsIDAsXG4gICAgICAgICAgICAtMC4wMTYsIC0wLjAxNiwgMS40ODMsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgd2hvIHRyYW5zZm9ybXMgOiBSZWQgLT4gQmx1ZSBhbmQgQmx1ZSAtPiBSZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS50b0JHUiA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAgICAgICAxLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29sb3IgcmV2ZXJzYWwgZmlsbSBpbnRyb2R1Y2VkIGJ5IEVhc3RtYW4gS29kYWsgaW4gMTkzNS4gKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUua29kYWNocm9tZSA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMS4xMjg1NTgyMzk2NTkzNTI1LCAtMC4zOTY3MzgyMjgzNjAxMzQ4LCAtMC4wMzk5MjU1OTE3MjkyMTc5MywgMCwgNjMuNzI5NTg3NjIxOTY1MDIsXG4gICAgICAgICAgICAtMC4xNjQwNDMzOTk2MjI0NDYxNiwgMS4wODM1MjUxNTY2MjkxMzA0LCAtMC4wNTQ5ODgwNTExNTYzMzEzMiwgMCwgMjQuNzMyNDA3ODk2NzA2MjAzLFxuICAgICAgICAgICAgLTAuMTY3ODYwMTA3MDYxNTU3NjMsIC0wLjU2MDM0MTYyNzc2OTUyNDgsIDEuNjAxNDg1MDc2MTk2NDk0MywgMCwgMzUuNjI5ODI4MDc0NjA5NDYsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCcm93biBkZWxpY2lvdXMgYnJvd25pIGZpbHRlciAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5icm93bmkgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuNTk5NzAyMzQ5ODE1OTcxNSwgMC4zNDU1MzI0MzA0ODM5MTI2MywgLTAuMjcwODI5ODY3NDUzODA0MiwgMCwgNDcuNDMxOTI4NTU2MDA4NzMsXG4gICAgICAgICAgICAtMC4wMzc3MDMyNDk4Mzc3ODMxNTcsIDAuODYwOTU3NzU4Nzk5MjY0MSwgMC4xNTA1OTU1MjM4ODQ1OTkxMywgMCwgLTM2Ljk2ODQxNDk4MzE5MTI3LFxuICAgICAgICAgICAgMC4yNDExMzYzNTEyODE1MzMzNSwgLTAuMDc0NDEwMzc5MDg0MjI0OTIsIDAuNDQ5NzIxODIwNjQ4NzcxNTMsIDAsIC03LjU2MjA3NTI3NzU5MTI4MyxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFZpbnRhZ2UgZmlsdGVyICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnZpbnRhZ2UgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuNjI3OTM0NTYzNTYwNTk5NCwgMC4zMjAyMTgzNDIwODE5MzY3LCAtMC4wMzk2NTQwODIxMTMxMjQ1MywgMCwgOS42NTEyODU4MzUyOTQxMjMsXG4gICAgICAgICAgICAwLjAyNTc4Mzk3NzA0ODA4ODY4LCAwLjY0NDExODg2NDQzNzQ3NzEsIDAuMDMyNTkxMjc2MTYxNDkyOTQsIDAsIDcuNDYyODI5MTc2NDcwNTkxLFxuICAgICAgICAgICAgMC4wNDY2MDU1NTU2NzgyNzE5LCAtMC4wODUxMjMyOTg3MjQ3ODkxLCAwLjUyNDE2NDgwMTg3MDA0NjUsIDAsIDUuMTU5MTkwNTg4MjM1Mjk2LFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2UgZG9uJ3Qga25vdyBleGFjdGx5IHdoYXQgaXQgZG9lcywga2luZCBvZiBncmFkaWVudCBtYXAsIGJ1dCBmdW5ueSB0byBwbGF5IHdpdGghXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVzYXR1cmF0aW9uIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbmVkIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxpZ2h0Q29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkYXJrQ29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5jb2xvclRvbmUgPSBmdW5jdGlvbiAoZGVzYXR1cmF0aW9uLCB0b25lZCwgbGlnaHRDb2xvciwgZGFya0NvbG9yLCBtdWx0aXBseSkge1xuICAgICAgICBkZXNhdHVyYXRpb24gPSBkZXNhdHVyYXRpb24gfHwgMC4yO1xuICAgICAgICB0b25lZCA9IHRvbmVkIHx8IDAuMTU7XG4gICAgICAgIGxpZ2h0Q29sb3IgPSBsaWdodENvbG9yIHx8IDB4RkZFNTgwO1xuICAgICAgICBkYXJrQ29sb3IgPSBkYXJrQ29sb3IgfHwgMHgzMzgwMDA7XG4gICAgICAgIHZhciBsUiA9ICgobGlnaHRDb2xvciA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGxHID0gKChsaWdodENvbG9yID4+IDgpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBsQiA9IChsaWdodENvbG9yICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBkUiA9ICgoZGFya0NvbG9yID4+IDE2KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgZEcgPSAoKGRhcmtDb2xvciA+PiA4KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgZEIgPSAoZGFya0NvbG9yICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjMsIDAuNTksIDAuMTEsIDAsIDAsXG4gICAgICAgICAgICBsUiwgbEcsIGxCLCBkZXNhdHVyYXRpb24sIDAsXG4gICAgICAgICAgICBkUiwgZEcsIGRCLCB0b25lZCwgMCxcbiAgICAgICAgICAgIGxSIC0gZFIsIGxHIC0gZEcsIGxCIC0gZEIsIDAsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE5pZ2h0IGVmZmVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGludGVuc2l0eSAtIFRoZSBpbnRlbnNpdHkgb2YgdGhlIG5pZ2h0IGVmZmVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUubmlnaHQgPSBmdW5jdGlvbiAoaW50ZW5zaXR5LCBtdWx0aXBseSkge1xuICAgICAgICBpbnRlbnNpdHkgPSBpbnRlbnNpdHkgfHwgMC4xO1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgaW50ZW5zaXR5ICogKC0yLjApLCAtaW50ZW5zaXR5LCAwLCAwLCAwLFxuICAgICAgICAgICAgLWludGVuc2l0eSwgMCwgaW50ZW5zaXR5LCAwLCAwLFxuICAgICAgICAgICAgMCwgaW50ZW5zaXR5LCBpbnRlbnNpdHkgKiAyLjAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcmVkYXRvciBlZmZlY3RcbiAgICAgKlxuICAgICAqIEVyYXNlIHRoZSBjdXJyZW50IG1hdHJpeCBieSBzZXR0aW5nIGEgbmV3IGluZGVwZW50IG9uZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIGhvdyBtdWNoIHRoZSBwcmVkYXRvciBmZWVscyBoaXMgZnV0dXJlIHZpY3RpbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5wcmVkYXRvciA9IGZ1bmN0aW9uIChhbW91bnQsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAvLyByb3cgMVxuICAgICAgICAgICAgMTEuMjI0MTMwNjMwNDkzMTY0ICogYW1vdW50LFxuICAgICAgICAgICAgLTQuNzk0NDg2OTk5NTExNzE5ICogYW1vdW50LFxuICAgICAgICAgICAgLTIuODc0NjExODU0NTUzMjIyNyAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAwLjQwMzQyNDM4MjIwOTc3NzgzICogYW1vdW50LFxuICAgICAgICAgICAgLy8gcm93IDJcbiAgICAgICAgICAgIC0zLjYzMzA2OTc1MzY0Njg1MDYgKiBhbW91bnQsXG4gICAgICAgICAgICA5LjE5MzE1NzE5NjA0NDkyMiAqIGFtb3VudCxcbiAgICAgICAgICAgIC0yLjk1MTgxMDgzNjc5MTk5MiAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAtMS4zMTYxMzUwNDg4NjYyNzIgKiBhbW91bnQsXG4gICAgICAgICAgICAvLyByb3cgM1xuICAgICAgICAgICAgLTMuMjE4NDE5NzkwMjY3OTQ0MyAqIGFtb3VudCxcbiAgICAgICAgICAgIC00LjIzNzUwMzA1MTc1NzgxMjUgKiBhbW91bnQsXG4gICAgICAgICAgICA3LjQ3NjQ0ODA1OTA4MjAzMSAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAwLjgwNDQ0NTkyMjM3NDcyNTMgKiBhbW91bnQsXG4gICAgICAgICAgICAvLyByb3cgNFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTFNEIGVmZmVjdFxuICAgICAqXG4gICAgICogTXVsdGlwbHkgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUubHNkID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAyLCAtMC40LCAwLjUsIDAsIDAsXG4gICAgICAgICAgICAtMC41LCAyLCAtMC40LCAwLCAwLFxuICAgICAgICAgICAgLTAuNCwgLTAuNSwgMywgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVyYXNlIHRoZSBjdXJyZW50IG1hdHJpeCBieSBzZXR0aW5nIHRoZSBkZWZhdWx0IG9uZVxuICAgICAqXG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMSwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgZmFsc2UpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZSwgXCJtYXRyaXhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hdHJpeCBvZiB0aGUgY29sb3IgbWF0cml4IGZpbHRlclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQGRlZmF1bHQgWzEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDBdXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLm07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLm0gPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUsIFwiYWxwaGFcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9wYWNpdHkgdmFsdWUgdG8gdXNlIHdoZW4gbWl4aW5nIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0YW50IGNvbG9ycy5cbiAgICAgICAgICpcbiAgICAgICAgICogV2hlbiB0aGUgdmFsdWUgaXMgMCwgdGhlIG9yaWdpbmFsIGNvbG9yIGlzIHVzZWQgd2l0aG91dCBtb2RpZmljYXRpb24uXG4gICAgICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDEsIHRoZSByZXN1bHQgY29sb3IgaXMgdXNlZC5cbiAgICAgICAgICogV2hlbiBpbiB0aGUgcmFuZ2UgKDAsIDEpIHRoZSBjb2xvciBpcyBpbnRlcnBvbGF0ZWQgYmV0d2VlbiB0aGUgb3JpZ2luYWwgYW5kIHJlc3VsdCBieSB0aGlzIGFtb3VudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudUFscGhhID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQ29sb3JNYXRyaXhGaWx0ZXI7XG59KEZpbHRlcikpO1xuLy8gQW1lcmljYW5pemVkIGFsaWFzXG5Db2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JheXNjYWxlID0gQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyZXlzY2FsZTtcblxuZXhwb3J0IHsgQ29sb3JNYXRyaXhGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1jb2xvci1tYXRyaXguZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQgLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgTWF0cml4LCBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gdmVjMiBzY2FsZTtcXG51bmlmb3JtIG1hdDIgcm90YXRpb247XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBzYW1wbGVyMkQgbWFwU2FtcGxlcjtcXG5cXG51bmlmb3JtIGhpZ2hwIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBpbnB1dENsYW1wO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gIHZlYzQgbWFwID0gIHRleHR1cmUyRChtYXBTYW1wbGVyLCB2RmlsdGVyQ29vcmQpO1xcblxcbiAgbWFwIC09IDAuNTtcXG4gIG1hcC54eSA9IHNjYWxlICogaW5wdXRTaXplLnp3ICogKHJvdGF0aW9uICogbWFwLnh5KTtcXG5cXG4gIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgY2xhbXAodmVjMih2VGV4dHVyZUNvb3JkLnggKyBtYXAueCwgdlRleHR1cmVDb29yZC55ICsgbWFwLnkpLCBpbnB1dENsYW1wLnh5LCBpbnB1dENsYW1wLnp3KSk7XFxufVxcblwiO1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIGZpbHRlck1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkO1xcblxcbnVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xcblxcbnZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuXFxuICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG59XFxuXFxudmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxcbntcXG4gICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG5cXHRnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuXFx0dlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcblxcdHZGaWx0ZXJDb29yZCA9ICggZmlsdGVyTWF0cml4ICogdmVjMyggdlRleHR1cmVDb29yZCwgMS4wKSAgKS54eTtcXG59XFxuXCI7XG5cbi8qKlxuICogVGhlIERpc3BsYWNlbWVudEZpbHRlciBjbGFzcyB1c2VzIHRoZSBwaXhlbCB2YWx1ZXMgZnJvbSB0aGUgc3BlY2lmaWVkIHRleHR1cmVcbiAqIChjYWxsZWQgdGhlIGRpc3BsYWNlbWVudCBtYXApIHRvIHBlcmZvcm0gYSBkaXNwbGFjZW1lbnQgb2YgYW4gb2JqZWN0LlxuICpcbiAqIFlvdSBjYW4gdXNlIHRoaXMgZmlsdGVyIHRvIGFwcGx5IGFsbCBtYW5vciBvZiBjcmF6eSB3YXJwaW5nIGVmZmVjdHMuXG4gKiBDdXJyZW50bHkgdGhlIGByYCBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZSBpcyB1c2VkIHRvIG9mZnNldCB0aGUgYHhgXG4gKiBhbmQgdGhlIGBnYCBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZSBpcyB1c2VkIHRvIG9mZnNldCB0aGUgYHlgLlxuICpcbiAqIFRoZSB3YXkgaXQgd29ya3MgaXMgaXQgdXNlcyB0aGUgdmFsdWVzIG9mIHRoZSBkaXNwbGFjZW1lbnQgbWFwIHRvIGxvb2sgdXAgdGhlXG4gKiBjb3JyZWN0IHBpeGVscyB0byBvdXRwdXQuIFRoaXMgbWVhbnMgaXQncyBub3QgdGVjaG5pY2FsbHkgbW92aW5nIHRoZSBvcmlnaW5hbC5cbiAqIEluc3RlYWQsIGl0J3Mgc3RhcnRpbmcgYXQgdGhlIG91dHB1dCBhbmQgYXNraW5nIFwid2hpY2ggcGl4ZWwgZnJvbSB0aGUgb3JpZ2luYWwgZ29lcyBoZXJlXCIuXG4gKiBGb3IgZXhhbXBsZSwgaWYgYSBkaXNwbGFjZW1lbnQgbWFwIHBpeGVsIGhhcyBgcmVkID0gMWAgYW5kIHRoZSBmaWx0ZXIgc2NhbGUgaXMgYDIwYCxcbiAqIHRoaXMgZmlsdGVyIHdpbGwgb3V0cHV0IHRoZSBwaXhlbCBhcHByb3hpbWF0ZWx5IDIwIHBpeGVscyB0byB0aGUgcmlnaHQgb2YgdGhlIG9yaWdpbmFsLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIERpc3BsYWNlbWVudEZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRGlzcGxhY2VtZW50RmlsdGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIFRoZSBzcHJpdGUgdXNlZCBmb3IgdGhlIGRpc3BsYWNlbWVudCBtYXAuIChtYWtlIHN1cmUgaXRzIGFkZGVkIHRvIHRoZSBzY2VuZSEpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZV0gLSBUaGUgc2NhbGUgb2YgdGhlIGRpc3BsYWNlbWVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERpc3BsYWNlbWVudEZpbHRlcihzcHJpdGUsIHNjYWxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtYXNrTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHZlcnRleCwgZnJhZ21lbnQsIHtcbiAgICAgICAgICAgIG1hcFNhbXBsZXI6IHNwcml0ZS5fdGV4dHVyZSxcbiAgICAgICAgICAgIGZpbHRlck1hdHJpeDogbWFza01hdHJpeCxcbiAgICAgICAgICAgIHNjYWxlOiB7IHg6IDEsIHk6IDEgfSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAxXSksXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG4gICAgICAgIF90aGlzLm1hc2tNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgICAgICBpZiAoc2NhbGUgPT09IG51bGwgfHwgc2NhbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2NhbGUgPSAyMDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogc2NhbGVYLCBzY2FsZVkgZm9yIGRpc3BsYWNlbWVudHNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNjYWxlID0gbmV3IFBvaW50KHNjYWxlLCBzY2FsZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLkNMRUFSX01PREVTfSBjbGVhck1vZGUgLSBjbGVhck1vZGUuXG4gICAgICovXG4gICAgRGlzcGxhY2VtZW50RmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICAgICAgLy8gZmlsbCBtYXNrTWF0cml4IHdpdGggX25vcm1hbGl6ZWQgc3ByaXRlIHRleHR1cmUgY29vcmRzX1xuICAgICAgICB0aGlzLnVuaWZvcm1zLmZpbHRlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCwgdGhpcy5tYXNrU3ByaXRlKTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zY2FsZS54ID0gdGhpcy5zY2FsZS54O1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnkgPSB0aGlzLnNjYWxlLnk7XG4gICAgICAgIC8vIEV4dHJhY3Qgcm90YXRpb24gZnJvbSB3b3JsZCB0cmFuc2Zvcm1cbiAgICAgICAgdmFyIHd0ID0gdGhpcy5tYXNrU3ByaXRlLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgbGVuWCA9IE1hdGguc3FydCgod3QuYSAqIHd0LmEpICsgKHd0LmIgKiB3dC5iKSk7XG4gICAgICAgIHZhciBsZW5ZID0gTWF0aC5zcXJ0KCh3dC5jICogd3QuYykgKyAod3QuZCAqIHd0LmQpKTtcbiAgICAgICAgaWYgKGxlblggIT09IDAgJiYgbGVuWSAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblswXSA9IHd0LmEgLyBsZW5YO1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblsxXSA9IHd0LmIgLyBsZW5YO1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblsyXSA9IHd0LmMgLyBsZW5ZO1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblszXSA9IHd0LmQgLyBsZW5ZO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRyYXcgdGhlIGZpbHRlci4uLlxuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxhY2VtZW50RmlsdGVyLnByb3RvdHlwZSwgXCJtYXBcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdXNlZCBmb3IgdGhlIGRpc3BsYWNlbWVudCBtYXAuIE11c3QgYmUgcG93ZXIgb2YgMiBzaXplZCB0ZXh0dXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLm1hcFNhbXBsZXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLm1hcFNhbXBsZXIgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBEaXNwbGFjZW1lbnRGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBEaXNwbGFjZW1lbnRGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1kaXNwbGFjZW1lbnQuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1meGFhIC0gdjUuMy4zXG4gKiBDb21waWxlZCBUdWUsIDA0IEF1ZyAyMDIwIDE2OjIzOjA5IFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1meGFhIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgdmVydGV4ID0gXCJcXG5hdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZfcmdiTlc7XFxudmFyeWluZyB2ZWMyIHZfcmdiTkU7XFxudmFyeWluZyB2ZWMyIHZfcmdiU1c7XFxudmFyeWluZyB2ZWMyIHZfcmdiU0U7XFxudmFyeWluZyB2ZWMyIHZfcmdiTTtcXG5cXG52YXJ5aW5nIHZlYzIgdkZyYWdDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRQaXhlbDtcXG51bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbn1cXG5cXG52b2lkIHRleGNvb3Jkcyh2ZWMyIGZyYWdDb29yZCwgdmVjMiBpbnZlcnNlVlAsXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JOVywgb3V0IHZlYzIgdl9yZ2JORSxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYlNXLCBvdXQgdmVjMiB2X3JnYlNFLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiTSkge1xcbiAgICB2X3JnYk5XID0gKGZyYWdDb29yZCArIHZlYzIoLTEuMCwgLTEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYk5FID0gKGZyYWdDb29yZCArIHZlYzIoMS4wLCAtMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiU1cgPSAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAxLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JTRSA9IChmcmFnQ29vcmQgKyB2ZWMyKDEuMCwgMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiTSA9IHZlYzIoZnJhZ0Nvb3JkICogaW52ZXJzZVZQKTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG5cXG4gICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuXFxuICAgdkZyYWdDb29yZCA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG91dHB1dEZyYW1lLnp3O1xcblxcbiAgIHRleGNvb3Jkcyh2RnJhZ0Nvb3JkLCBpbnB1dFBpeGVsLnp3LCB2X3JnYk5XLCB2X3JnYk5FLCB2X3JnYlNXLCB2X3JnYlNFLCB2X3JnYk0pO1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdl9yZ2JOVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JORTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTRTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JNO1xcblxcbnZhcnlpbmcgdmVjMiB2RnJhZ0Nvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gaGlnaHAgdmVjNCBpbnB1dFBpeGVsO1xcblxcblxcbi8qKlxcbiBCYXNpYyBGWEFBIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIHRoZSBjb2RlIG9uIGdlZWtzM2QuY29tIHdpdGggdGhlXFxuIG1vZGlmaWNhdGlvbiB0aGF0IHRoZSB0ZXh0dXJlMkRMb2Qgc3R1ZmYgd2FzIHJlbW92ZWQgc2luY2UgaXQnc1xcbiB1bnN1cHBvcnRlZCBieSBXZWJHTC5cXG5cXG4gLS1cXG5cXG4gRnJvbTpcXG4gaHR0cHM6Ly9naXRodWIuY29tL21pdHN1aGlrby93ZWJnbC1tZWluY3JhZnRcXG5cXG4gQ29weXJpZ2h0IChjKSAyMDExIGJ5IEFybWluIFJvbmFjaGVyLlxcblxcbiBTb21lIHJpZ2h0cyByZXNlcnZlZC5cXG5cXG4gUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XFxuIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcXG4gbWV0OlxcblxcbiAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XFxuIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cXG5cXG4gKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXFxuIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXFxuIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZFxcbiB3aXRoIHRoZSBkaXN0cmlidXRpb24uXFxuXFxuICogVGhlIG5hbWVzIG9mIHRoZSBjb250cmlidXRvcnMgbWF5IG5vdCBiZSB1c2VkIHRvIGVuZG9yc2Ugb3JcXG4gcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljXFxuIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cXG5cXG4gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xcbiBcXFwiQVMgSVNcXFwiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxcbiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1JcXG4gQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcXG4gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXFxuIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1RcXG4gTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXFxuIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxcbiBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXFxuIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRVxcbiBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxcbiAqL1xcblxcbiNpZm5kZWYgRlhBQV9SRURVQ0VfTUlOXFxuI2RlZmluZSBGWEFBX1JFRFVDRV9NSU4gICAoMS4wLyAxMjguMClcXG4jZW5kaWZcXG4jaWZuZGVmIEZYQUFfUkVEVUNFX01VTFxcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTVVMICAgKDEuMCAvIDguMClcXG4jZW5kaWZcXG4jaWZuZGVmIEZYQUFfU1BBTl9NQVhcXG4jZGVmaW5lIEZYQUFfU1BBTl9NQVggICAgIDguMFxcbiNlbmRpZlxcblxcbi8vb3B0aW1pemVkIHZlcnNpb24gZm9yIG1vYmlsZSwgd2hlcmUgZGVwZW5kZW50XFxuLy90ZXh0dXJlIHJlYWRzIGNhbiBiZSBhIGJvdHRsZW5lY2tcXG52ZWM0IGZ4YWEoc2FtcGxlcjJEIHRleCwgdmVjMiBmcmFnQ29vcmQsIHZlYzIgaW52ZXJzZVZQLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiTlcsIHZlYzIgdl9yZ2JORSxcXG4gICAgICAgICAgdmVjMiB2X3JnYlNXLCB2ZWMyIHZfcmdiU0UsXFxuICAgICAgICAgIHZlYzIgdl9yZ2JNKSB7XFxuICAgIHZlYzQgY29sb3I7XFxuICAgIHZlYzMgcmdiTlcgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk5XKS54eXo7XFxuICAgIHZlYzMgcmdiTkUgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk5FKS54eXo7XFxuICAgIHZlYzMgcmdiU1cgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYlNXKS54eXo7XFxuICAgIHZlYzMgcmdiU0UgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYlNFKS54eXo7XFxuICAgIHZlYzQgdGV4Q29sb3IgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk0pO1xcbiAgICB2ZWMzIHJnYk0gID0gdGV4Q29sb3IueHl6O1xcbiAgICB2ZWMzIGx1bWEgPSB2ZWMzKDAuMjk5LCAwLjU4NywgMC4xMTQpO1xcbiAgICBmbG9hdCBsdW1hTlcgPSBkb3QocmdiTlcsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTkUgPSBkb3QocmdiTkUsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hU1cgPSBkb3QocmdiU1csIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hU0UgPSBkb3QocmdiU0UsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTSAgPSBkb3QocmdiTSwgIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTWluID0gbWluKGx1bWFNLCBtaW4obWluKGx1bWFOVywgbHVtYU5FKSwgbWluKGx1bWFTVywgbHVtYVNFKSkpO1xcbiAgICBmbG9hdCBsdW1hTWF4ID0gbWF4KGx1bWFNLCBtYXgobWF4KGx1bWFOVywgbHVtYU5FKSwgbWF4KGx1bWFTVywgbHVtYVNFKSkpO1xcblxcbiAgICBtZWRpdW1wIHZlYzIgZGlyO1xcbiAgICBkaXIueCA9IC0oKGx1bWFOVyArIGx1bWFORSkgLSAobHVtYVNXICsgbHVtYVNFKSk7XFxuICAgIGRpci55ID0gICgobHVtYU5XICsgbHVtYVNXKSAtIChsdW1hTkUgKyBsdW1hU0UpKTtcXG5cXG4gICAgZmxvYXQgZGlyUmVkdWNlID0gbWF4KChsdW1hTlcgKyBsdW1hTkUgKyBsdW1hU1cgKyBsdW1hU0UpICpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICgwLjI1ICogRlhBQV9SRURVQ0VfTVVMKSwgRlhBQV9SRURVQ0VfTUlOKTtcXG5cXG4gICAgZmxvYXQgcmNwRGlyTWluID0gMS4wIC8gKG1pbihhYnMoZGlyLngpLCBhYnMoZGlyLnkpKSArIGRpclJlZHVjZSk7XFxuICAgIGRpciA9IG1pbih2ZWMyKEZYQUFfU1BBTl9NQVgsIEZYQUFfU1BBTl9NQVgpLFxcbiAgICAgICAgICAgICAgbWF4KHZlYzIoLUZYQUFfU1BBTl9NQVgsIC1GWEFBX1NQQU5fTUFYKSxcXG4gICAgICAgICAgICAgICAgICBkaXIgKiByY3BEaXJNaW4pKSAqIGludmVyc2VWUDtcXG5cXG4gICAgdmVjMyByZ2JBID0gMC41ICogKFxcbiAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogKDEuMCAvIDMuMCAtIDAuNSkpLnh5eiArXFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAoMi4wIC8gMy4wIC0gMC41KSkueHl6KTtcXG4gICAgdmVjMyByZ2JCID0gcmdiQSAqIDAuNSArIDAuMjUgKiAoXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqIC0wLjUpLnh5eiArXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqIDAuNSkueHl6KTtcXG5cXG4gICAgZmxvYXQgbHVtYUIgPSBkb3QocmdiQiwgbHVtYSk7XFxuICAgIGlmICgobHVtYUIgPCBsdW1hTWluKSB8fCAobHVtYUIgPiBsdW1hTWF4KSlcXG4gICAgICAgIGNvbG9yID0gdmVjNChyZ2JBLCB0ZXhDb2xvci5hKTtcXG4gICAgZWxzZVxcbiAgICAgICAgY29sb3IgPSB2ZWM0KHJnYkIsIHRleENvbG9yLmEpO1xcbiAgICByZXR1cm4gY29sb3I7XFxufVxcblxcbnZvaWQgbWFpbigpIHtcXG5cXG4gICAgICB2ZWM0IGNvbG9yO1xcblxcbiAgICAgIGNvbG9yID0gZnhhYSh1U2FtcGxlciwgdkZyYWdDb29yZCwgaW5wdXRQaXhlbC56dywgdl9yZ2JOVywgdl9yZ2JORSwgdl9yZ2JTVywgdl9yZ2JTRSwgdl9yZ2JNKTtcXG5cXG4gICAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XFxuXCI7XG5cbi8qKlxuICogQmFzaWMgRlhBQSAoRmFzdCBBcHByb3hpbWF0ZSBBbnRpLUFsaWFzaW5nKSBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiB0aGUgY29kZSBvbiBnZWVrczNkLmNvbVxuICogd2l0aCB0aGUgbW9kaWZpY2F0aW9uIHRoYXQgdGhlIHRleHR1cmUyRExvZCBzdHVmZiB3YXMgcmVtb3ZlZCBzaW5jZSBpdCBpcyB1bnN1cHBvcnRlZCBieSBXZWJHTC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taXRzdWhpa28vd2ViZ2wtbWVpbmNyYWZ0XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICpcbiAqL1xudmFyIEZYQUFGaWx0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEZYQUFGaWx0ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRlhBQUZpbHRlcigpIHtcbiAgICAgICAgLy8gVE9ETyAtIG5lZWRzIHdvcmtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHZlcnRleCwgZnJhZ21lbnQpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBGWEFBRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgRlhBQUZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWZ4YWEuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1ub2lzZSAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItbm9pc2UgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBkZWZhdWx0RmlsdGVyVmVydGV4LCBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciBmcmFnbWVudCA9IFwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudW5pZm9ybSBmbG9hdCB1Tm9pc2U7XFxudW5pZm9ybSBmbG9hdCB1U2VlZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG5mbG9hdCByYW5kKHZlYzIgY28pXFxue1xcbiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChjby54eSwgdmVjMigxMi45ODk4LCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTtcXG59XFxuXFxudm9pZCBtYWluKClcXG57XFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBmbG9hdCByYW5kb21WYWx1ZSA9IHJhbmQoZ2xfRnJhZ0Nvb3JkLnh5ICogdVNlZWQpO1xcbiAgICBmbG9hdCBkaWZmID0gKHJhbmRvbVZhbHVlIC0gMC41KSAqIHVOb2lzZTtcXG5cXG4gICAgLy8gVW4tcHJlbXVsdGlwbHkgYWxwaGEgYmVmb3JlIGFwcGx5aW5nIHRoZSBjb2xvciBtYXRyaXguIFNlZSBpc3N1ZSAjMzUzOS5cXG4gICAgaWYgKGNvbG9yLmEgPiAwLjApIHtcXG4gICAgICAgIGNvbG9yLnJnYiAvPSBjb2xvci5hO1xcbiAgICB9XFxuXFxuICAgIGNvbG9yLnIgKz0gZGlmZjtcXG4gICAgY29sb3IuZyArPSBkaWZmO1xcbiAgICBjb2xvci5iICs9IGRpZmY7XFxuXFxuICAgIC8vIFByZW11bHRpcGx5IGFscGhhIGFnYWluLlxcbiAgICBjb2xvci5yZ2IgKj0gY29sb3IuYTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVxcblwiO1xuXG4vKipcbiAqIEBhdXRob3IgVmljbyBAdmljb2NvdGVhXG4gKiBvcmlnaW5hbCBmaWx0ZXI6IGh0dHBzOi8vZ2l0aHViLmNvbS9ldmFudy9nbGZ4LmpzL2Jsb2IvbWFzdGVyL3NyYy9maWx0ZXJzL2FkanVzdC9ub2lzZS5qc1xuICovXG4vKipcbiAqIEEgTm9pc2UgZWZmZWN0IGZpbHRlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBOb2lzZUZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTm9pc2VGaWx0ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtub2lzZT0wLjVdIC0gVGhlIG5vaXNlIGludGVuc2l0eSwgc2hvdWxkIGJlIGEgbm9ybWFsaXplZCB2YWx1ZSBpbiB0aGUgcmFuZ2UgWzAsIDFdLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2VlZF0gLSBBIHJhbmRvbSBzZWVkIGZvciB0aGUgbm9pc2UgZ2VuZXJhdGlvbi4gRGVmYXVsdCBpcyBgTWF0aC5yYW5kb20oKWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTm9pc2VGaWx0ZXIobm9pc2UsIHNlZWQpIHtcbiAgICAgICAgaWYgKG5vaXNlID09PSB2b2lkIDApIHsgbm9pc2UgPSAwLjU7IH1cbiAgICAgICAgaWYgKHNlZWQgPT09IHZvaWQgMCkgeyBzZWVkID0gTWF0aC5yYW5kb20oKTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZWZhdWx0RmlsdGVyVmVydGV4LCBmcmFnbWVudCwge1xuICAgICAgICAgICAgdU5vaXNlOiAwLFxuICAgICAgICAgICAgdVNlZWQ6IDAsXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm5vaXNlID0gbm9pc2U7XG4gICAgICAgIF90aGlzLnNlZWQgPSBzZWVkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2lzZUZpbHRlci5wcm90b3R5cGUsIFwibm9pc2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFtb3VudCBvZiBub2lzZSB0byBhcHBseSwgdGhpcyB2YWx1ZSBzaG91bGQgYmUgaW4gdGhlIHJhbmdlICgwLCAxXS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudU5vaXNlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51Tm9pc2UgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2lzZUZpbHRlci5wcm90b3R5cGUsIFwic2VlZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNlZWQgdmFsdWUgdG8gYXBwbHkgdG8gdGhlIHJhbmRvbSBub2lzZSBnZW5lcmF0aW9uLiBgTWF0aC5yYW5kb20oKWAgaXMgYSBnb29kIHZhbHVlIHRvIHVzZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51U2VlZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVNlZWQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBOb2lzZUZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbmV4cG9ydCB7IE5vaXNlRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItbm9pc2UuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21peGluLWNhY2hlLWFzLWJpdG1hcCAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXAgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBSZW5kZXJUZXh0dXJlLCBCYXNlVGV4dHVyZSwgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgdWlkIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbnZhciBfdGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZUFzQml0bWFwID0gZmFsc2U7XG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVEYXRhID0gbnVsbDtcbi8vIGZpZ3VyZWQgdGhlcmUncyBubyBwb2ludCBhZGRpbmcgQUxMIHRoZSBleHRyYSB2YXJpYWJsZXMgdG8gcHJvdG90eXBlLlxuLy8gdGhpcyBtb2RlbCBjYW4gaG9sZCB0aGUgaW5mb3JtYXRpb24gbmVlZGVkLiBUaGlzIGNhbiBhbHNvIGJlIGdlbmVyYXRlZCBvbiBkZW1hbmQgYXNcbi8vIG1vc3Qgb2JqZWN0cyBhcmUgbm90IGNhY2hlZCBhcyBiaXRtYXBzLlxuLyoqXG4gKiBAY2xhc3NcbiAqIEBpZ25vcmVcbiAqL1xudmFyIENhY2hlRGF0YSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDYWNoZURhdGEoKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWQgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsUmVuZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFJlbmRlckNhbnZhcyA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbERlc3Ryb3kgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsTWFzayA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxGaWx0ZXJBcmVhID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbENvbnRhaW5zUG9pbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnNwcml0ZSA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBDYWNoZURhdGE7XG59KCkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIHtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhpcyB0byB0cnVlIGlmIHlvdSB3YW50IHRoaXMgZGlzcGxheSBvYmplY3QgdG8gYmUgY2FjaGVkIGFzIGEgYml0bWFwLlxuICAgICAqIFRoaXMgYmFzaWNhbGx5IHRha2VzIGEgc25hcCBzaG90IG9mIHRoZSBkaXNwbGF5IG9iamVjdCBhcyBpdCBpcyBhdCB0aGF0IG1vbWVudC4gSXQgY2FuXG4gICAgICogcHJvdmlkZSBhIHBlcmZvcm1hbmNlIGJlbmVmaXQgZm9yIGNvbXBsZXggc3RhdGljIGRpc3BsYXlPYmplY3RzLlxuICAgICAqIFRvIHJlbW92ZSBzaW1wbHkgc2V0IHRoaXMgcHJvcGVydHkgdG8gYGZhbHNlYFxuICAgICAqXG4gICAgICogSU1QT1JUQU5UIEdPVENIQSAtIE1ha2Ugc3VyZSB0aGF0IGFsbCB5b3VyIHRleHR1cmVzIGFyZSBwcmVsb2FkZWQgQkVGT1JFIHNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byB0cnVlXG4gICAgICogYXMgaXQgd2lsbCB0YWtlIGEgc25hcHNob3Qgb2Ygd2hhdCBpcyBjdXJyZW50bHkgdGhlcmUuIElmIHRoZSB0ZXh0dXJlcyBoYXZlIG5vdCBsb2FkZWQgdGhlbiB0aGV5IHdpbGwgbm90IGFwcGVhci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBjYWNoZUFzQml0bWFwOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlQXNCaXRtYXA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fY2FjaGVBc0JpdG1hcCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jYWNoZUFzQml0bWFwID0gdmFsdWU7XG4gICAgICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FjaGVEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlRGF0YSA9IG5ldyBDYWNoZURhdGEoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2NhY2hlRGF0YTtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsUmVuZGVyID0gdGhpcy5yZW5kZXI7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcyA9IHRoaXMucmVuZGVyQ2FudmFzO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0gPSB0aGlzLnVwZGF0ZVRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzID0gdGhpcy5jYWxjdWxhdGVCb3VuZHM7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbEdldExvY2FsQm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsRGVzdHJveSA9IHRoaXMuZGVzdHJveTtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsQ29udGFpbnNQb2ludCA9IHRoaXMuY29udGFpbnNQb2ludDtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsTWFzayA9IHRoaXMuX21hc2s7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbEZpbHRlckFyZWEgPSB0aGlzLmZpbHRlckFyZWE7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIgPSB0aGlzLl9yZW5kZXJDYWNoZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9yZW5kZXJDYWNoZWRDYW52YXM7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95ID0gdGhpcy5fY2FjaGVBc0JpdG1hcERlc3Ryb3k7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5fY2FjaGVEYXRhO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNwcml0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlciA9IGRhdGEub3JpZ2luYWxSZW5kZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMgPSBkYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzID0gZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcztcbiAgICAgICAgICAgICAgICB0aGlzLmdldExvY2FsQm91bmRzID0gZGF0YS5vcmlnaW5hbEdldExvY2FsQm91bmRzO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSA9IGRhdGEub3JpZ2luYWxEZXN0cm95O1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gZGF0YS5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5zUG9pbnQgPSBkYXRhLm9yaWdpbmFsQ29udGFpbnNQb2ludDtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXNrID0gZGF0YS5vcmlnaW5hbE1hc2s7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJBcmVhID0gZGF0YS5vcmlnaW5hbEZpbHRlckFyZWE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSxcbn0pO1xuLyoqXG4gKiBSZW5kZXJzIGEgY2FjaGVkIHZlcnNpb24gb2YgdGhlIHNwcml0ZSB3aXRoIFdlYkdMXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVuZGVyQ2FjaGVkID0gZnVuY3Rpb24gX3JlbmRlckNhY2hlZChyZW5kZXJlcikge1xuICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdChyZW5kZXJlcik7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS50cmFuc2Zvcm0uX3dvcmxkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fcmVuZGVyKHJlbmRlcmVyKTtcbn07XG4vKipcbiAqIFByZXBhcmVzIHRoZSBXZWJHTCByZW5kZXJlciB0byBjYWNoZSB0aGUgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3RcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdChyZW5kZXJlcikge1xuICAgIGlmICh0aGlzLl9jYWNoZURhdGEgJiYgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIG1ha2Ugc3VyZSBhbHBoYSBpcyBzZXQgdG8gMSBvdGhlcndpc2UgaXQgd2lsbCBnZXQgcmVuZGVyZWQgYXMgaW52aXNpYmxlIVxuICAgIHZhciBjYWNoZUFscGhhID0gdGhpcy5hbHBoYTtcbiAgICB0aGlzLmFscGhhID0gMTtcbiAgICAvLyBmaXJzdCB3ZSBmbHVzaCBhbnl0aGluZyBsZWZ0IGluIHRoZSByZW5kZXJlciAob3RoZXJ3aXNlIGl0IHdvdWxkIGdldCByZW5kZXJlZCB0byB0aGUgY2FjaGVkIHRleHR1cmUpXG4gICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAvLyB0aGlzLmZpbHRlcnM9IFtdO1xuICAgIC8vIG5leHQgd2UgZmluZCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgdW50cmFuc2Zvcm1lZCBvYmplY3RcbiAgICAvLyB0aGlzIGZ1bmN0aW9uIGFsc28gY2FsbHMgdXBkYXRldHJhbnNmb3JtIG9uIGFsbCBpdHMgY2hpbGRyZW4gYXMgcGFydCBvZiB0aGUgbWVhc3VyaW5nLlxuICAgIC8vIFRoaXMgbWVhbnMgd2UgZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIHRyYW5zZm9ybSBhZ2FpbiBpbiB0aGlzIGZ1bmN0aW9uXG4gICAgLy8gVE9ETyBwYXNzIGFuIG9iamVjdCB0byBjbG9uZSB0b28/IHNhdmVzIGhhdmluZyB0byBjcmVhdGUgYSBuZXcgb25lIGVhY2ggdGltZSFcbiAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcyhudWxsLCB0cnVlKS5jbG9uZSgpO1xuICAgIC8vIGFkZCBzb21lIHBhZGRpbmchXG4gICAgaWYgKHRoaXMuZmlsdGVycykge1xuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMuZmlsdGVyc1swXS5wYWRkaW5nO1xuICAgICAgICBib3VuZHMucGFkKHBhZGRpbmcpO1xuICAgIH1cbiAgICBib3VuZHMuY2VpbChzZXR0aW5ncy5SRVNPTFVUSU9OKTtcbiAgICAvLyBmb3Igbm93IHdlIGNhY2hlIHRoZSBjdXJyZW50IHJlbmRlclRhcmdldCB0aGF0IHRoZSBXZWJHTCByZW5kZXJlciBpcyBjdXJyZW50bHkgdXNpbmcuXG4gICAgLy8gdGhpcyBjb3VsZCBiZSBtb3JlIGVsZWdhbnQuLlxuICAgIHZhciBjYWNoZWRSZW5kZXJUZXh0dXJlID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jdXJyZW50O1xuICAgIHZhciBjYWNoZWRTb3VyY2VGcmFtZSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmUuc291cmNlRnJhbWUuY2xvbmUoKTtcbiAgICB2YXIgY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybSA9IHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtO1xuICAgIC8vIFdlIGFsc28gc3RvcmUgdGhlIGZpbHRlciBzdGFjayAtIEkgd2lsbCBkZWZpbml0ZWx5IGxvb2sgdG8gY2hhbmdlIGhvdyB0aGlzIHdvcmtzIGEgbGl0dGxlIGxhdGVyIGRvd24gdGhlIGxpbmUuXG4gICAgLy8gY29uc3Qgc3RhY2sgPSByZW5kZXJlci5maWx0ZXJNYW5hZ2VyLmZpbHRlclN0YWNrO1xuICAgIC8vIHRoaXMgcmVuZGVyVGV4dHVyZSB3aWxsIGJlIHVzZWQgdG8gc3RvcmUgdGhlIGNhY2hlZCBEaXNwbGF5T2JqZWN0XG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZSh7IHdpZHRoOiBib3VuZHMud2lkdGgsIGhlaWdodDogYm91bmRzLmhlaWdodCB9KTtcbiAgICB2YXIgdGV4dHVyZUNhY2hlSWQgPSBcImNhY2hlQXNCaXRtYXBfXCIgKyB1aWQoKTtcbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSB0ZXh0dXJlQ2FjaGVJZDtcbiAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIC8vIG5lZWQgdG8gc2V0IC8vXG4gICAgdmFyIG0gPSB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybS5jb3B5VG8oX3RlbXBNYXRyaXgpLmludmVydCgpLnRyYW5zbGF0ZSgtYm91bmRzLngsIC1ib3VuZHMueSk7XG4gICAgLy8gc2V0IGFsbCBwcm9wZXJ0aWVzIHRvIHRoZXJlIG9yaWdpbmFsIHNvIHdlIGNhbiByZW5kZXIgdG8gYSB0ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXIgPSB0aGlzLl9jYWNoZURhdGEub3JpZ2luYWxSZW5kZXI7XG4gICAgcmVuZGVyZXIucmVuZGVyKHRoaXMsIHJlbmRlclRleHR1cmUsIHRydWUsIG0sIGZhbHNlKTtcbiAgICAvLyBub3cgcmVzdG9yZSB0aGUgc3RhdGUgYmUgc2V0dGluZyB0aGUgbmV3IHByb3BlcnRpZXNcbiAgICByZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IGNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm07XG4gICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKGNhY2hlZFJlbmRlclRleHR1cmUsIGNhY2hlZFNvdXJjZUZyYW1lKTtcbiAgICAvLyByZW5kZXJlci5maWx0ZXJNYW5hZ2VyLmZpbHRlclN0YWNrID0gc3RhY2s7XG4gICAgdGhpcy5yZW5kZXIgPSB0aGlzLl9yZW5kZXJDYWNoZWQ7XG4gICAgLy8gdGhlIHJlc3QgaXMgdGhlIHNhbWUgYXMgZm9yIENhbnZhc1xuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzO1xuICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSB0aGlzLl9nZXRDYWNoZWRMb2NhbEJvdW5kcztcbiAgICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuICAgIC8vIGNyZWF0ZSBvdXIgY2FjaGVkIHNwcml0ZVxuICAgIHZhciBjYWNoZWRTcHJpdGUgPSBuZXcgU3ByaXRlKHJlbmRlclRleHR1cmUpO1xuICAgIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnggPSAtKGJvdW5kcy54IC8gYm91bmRzLndpZHRoKTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gICAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcbiAgICBjYWNoZWRTcHJpdGUuX2JvdW5kcyA9IHRoaXMuX2JvdW5kcztcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gY2FjaGVkU3ByaXRlO1xuICAgIHRoaXMudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgIC8vIHJlc3RvcmUgdGhlIHRyYW5zZm9ybSBvZiB0aGUgY2FjaGVkIHNwcml0ZSB0byBhdm9pZCB0aGUgbmFzdHkgZmxpY2tlci4uXG4gICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICB0aGlzLmVuYWJsZVRlbXBQYXJlbnQoKTtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5kaXNhYmxlVGVtcFBhcmVudChudWxsKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfVxuICAgIC8vIG1hcCB0aGUgaGl0IHRlc3QuLlxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG4vKipcbiAqIFJlbmRlcnMgYSBjYWNoZWQgdmVyc2lvbiBvZiB0aGUgc3ByaXRlIHdpdGggY2FudmFzXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkQ2FudmFzXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSBjYW52YXMgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlbmRlckNhY2hlZENhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRDYW52YXMocmVuZGVyZXIpIHtcbiAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMocmVuZGVyZXIpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9yZW5kZXJDYW52YXMocmVuZGVyZXIpO1xufTtcbi8vIFRPRE8gdGhpcyBjYW4gYmUgdGhlIHNhbWUgYXMgdGhlIFdlYkdMIHZlcnNpb24uLiB3aWxsIG5lZWQgdG8gZG8gYSBsaXR0bGUgdHdlYWtpbmcgZmlyc3QgdGhvdWdoLi5cbi8qKlxuICogUHJlcGFyZXMgdGhlIENhbnZhcyByZW5kZXJlciB0byBjYWNoZSB0aGUgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXNcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIGNhbnZhcyByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMgPSBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMocmVuZGVyZXIpIHtcbiAgICBpZiAodGhpcy5fY2FjaGVEYXRhICYmIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBnZXQgYm91bmRzIGFjdHVhbGx5IHRyYW5zZm9ybXMgdGhlIG9iamVjdCBmb3IgdXMgYWxyZWFkeSFcbiAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcyhudWxsLCB0cnVlKTtcbiAgICB2YXIgY2FjaGVBbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgdGhpcy5hbHBoYSA9IDE7XG4gICAgdmFyIGNhY2hlZFJlbmRlclRhcmdldCA9IHJlbmRlcmVyLmNvbnRleHQ7XG4gICAgdmFyIGNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm0gPSByZW5kZXJlci5fcHJvalRyYW5zZm9ybTtcbiAgICBib3VuZHMuY2VpbChzZXR0aW5ncy5SRVNPTFVUSU9OKTtcbiAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKHsgd2lkdGg6IGJvdW5kcy53aWR0aCwgaGVpZ2h0OiBib3VuZHMuaGVpZ2h0IH0pO1xuICAgIHZhciB0ZXh0dXJlQ2FjaGVJZCA9IFwiY2FjaGVBc0JpdG1hcF9cIiArIHVpZCgpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IHRleHR1cmVDYWNoZUlkO1xuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIFRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gICAgLy8gbmVlZCB0byBzZXQgLy9cbiAgICB2YXIgbSA9IF90ZW1wTWF0cml4O1xuICAgIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtLmNvcHlUbyhtKTtcbiAgICBtLmludmVydCgpO1xuICAgIG0udHggLT0gYm91bmRzLng7XG4gICAgbS50eSAtPSBib3VuZHMueTtcbiAgICAvLyBtLmFwcGVuZCh0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS4pXG4gICAgLy8gc2V0IGFsbCBwcm9wZXJ0aWVzIHRvIHRoZXJlIG9yaWdpbmFsIHNvIHdlIGNhbiByZW5kZXIgdG8gYSB0ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9jYWNoZURhdGEub3JpZ2luYWxSZW5kZXJDYW52YXM7XG4gICAgcmVuZGVyZXIucmVuZGVyKHRoaXMsIHJlbmRlclRleHR1cmUsIHRydWUsIG0sIGZhbHNlKTtcbiAgICAvLyBub3cgcmVzdG9yZSB0aGUgc3RhdGUgYmUgc2V0dGluZyB0aGUgbmV3IHByb3BlcnRpZXNcbiAgICByZW5kZXJlci5jb250ZXh0ID0gY2FjaGVkUmVuZGVyVGFyZ2V0O1xuICAgIHJlbmRlcmVyLl9wcm9qVHJhbnNmb3JtID0gY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybTtcbiAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX3JlbmRlckNhY2hlZENhbnZhcztcbiAgICAvLyB0aGUgcmVzdCBpcyB0aGUgc2FtZSBhcyBmb3IgV2ViR0xcbiAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybTtcbiAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcztcbiAgICB0aGlzLmdldExvY2FsQm91bmRzID0gdGhpcy5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHM7XG4gICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcbiAgICAvLyBjcmVhdGUgb3VyIGNhY2hlZCBzcHJpdGVcbiAgICB2YXIgY2FjaGVkU3ByaXRlID0gbmV3IFNwcml0ZShyZW5kZXJUZXh0dXJlKTtcbiAgICBjYWNoZWRTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci54ID0gLShib3VuZHMueCAvIGJvdW5kcy53aWR0aCk7XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci55ID0gLShib3VuZHMueSAvIGJvdW5kcy5oZWlnaHQpO1xuICAgIGNhY2hlZFNwcml0ZS5hbHBoYSA9IGNhY2hlQWxwaGE7XG4gICAgY2FjaGVkU3ByaXRlLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSA9IGNhY2hlZFNwcml0ZTtcbiAgICB0aGlzLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAvLyByZXN0b3JlIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGNhY2hlZCBzcHJpdGUgdG8gYXZvaWQgdGhlIG5hc3R5IGZsaWNrZXIuLlxuICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSByZW5kZXJlci5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfVxuICAgIC8vIG1hcCB0aGUgaGl0IHRlc3QuLlxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgY2FjaGVkIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQ2FjaGVkQm91bmRzKCkge1xuICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUudHJhbnNmb3JtLl93b3JsZElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEID0gdGhpcy5fYm91bmRzSUQ7XG59O1xuLyoqXG4gKiBHZXRzIHRoZSBib3VuZHMgb2YgdGhlIGNhY2hlZCBzcHJpdGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge1JlY3RhbmdsZX0gVGhlIGxvY2FsIGJvdW5kcy5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2dldENhY2hlZExvY2FsQm91bmRzID0gZnVuY3Rpb24gX2dldENhY2hlZExvY2FsQm91bmRzKCkge1xuICAgIHJldHVybiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLmdldExvY2FsQm91bmRzKG51bGwpO1xufTtcbi8qKlxuICogRGVzdHJveXMgdGhlIGNhY2hlZCBzcHJpdGUuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0ID0gZnVuY3Rpb24gX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0KCkge1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3RleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gbnVsbDtcbiAgICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkKTtcbiAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IG51bGw7XG59O1xuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZS5cbiAqICBVc2VkIHdoZW4gZGVzdHJveWluZyBjb250YWluZXJzLCBzZWUgdGhlIENvbnRhaW5lci5kZXN0cm95IG1ldGhvZC5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXBEZXN0cm95ID0gZnVuY3Rpb24gX2NhY2hlQXNCaXRtYXBEZXN0cm95KG9wdGlvbnMpIHtcbiAgICB0aGlzLmNhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbiAgICB0aGlzLmRlc3Ryb3kob3B0aW9ucyk7XG59O1xuXG5leHBvcnQgeyBDYWNoZURhdGEgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peGluLWNhY2hlLWFzLWJpdG1hcC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUgLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0LCBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuLyoqXG4gKiBUaGUgaW5zdGFuY2UgbmFtZSBvZiB0aGUgb2JqZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IG5hbWVcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUubmFtZSA9IG51bGw7XG4vKipcbiAqIFJldHVybnMgdGhlIGRpc3BsYXkgb2JqZWN0IGluIHRoZSBjb250YWluZXIuXG4gKlxuICogUmVjdXJzaXZlIHNlYXJjaGVzIGFyZSBkb25lIGluIGEgcHJlb3JkZXIgdHJhdmVyc2FsLlxuICpcbiAqIEBtZXRob2QgZ2V0Q2hpbGRCeU5hbWVcbiAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gSW5zdGFuY2UgbmFtZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn1bZGVlcD1mYWxzZV0gLSBXaGV0aGVyIHRvIHNlYXJjaCByZWN1cnNpdmVseVxuICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gKi9cbkNvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRCeU5hbWUgPSBmdW5jdGlvbiBnZXRDaGlsZEJ5TmFtZShuYW1lLCBkZWVwKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbltpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZGVlcCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgaWYgKCFjaGlsZC5nZXRDaGlsZEJ5TmFtZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRhcmdldCA9IHRoaXMuY2hpbGRyZW5baV0uZ2V0Q2hpbGRCeU5hbWUobmFtZSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXhpbi1nZXQtY2hpbGQtYnktbmFtZS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbiAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBnbG9iYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3QuIERvZXMgbm90IGRlcGVuZCBvbiBvYmplY3Qgc2NhbGUsIHJvdGF0aW9uIGFuZCBwaXZvdC5cbiAqXG4gKiBAbWV0aG9kIGdldEdsb2JhbFBvc2l0aW9uXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnQ9bmV3IFBJWEkuUG9pbnQoKV0gLSBUaGUgcG9pbnQgdG8gd3JpdGUgdGhlIGdsb2JhbCB2YWx1ZSB0by5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGU9ZmFsc2VdIC0gU2V0dGluZyB0byB0cnVlIHdpbGwgc3RvcCB0aGUgdHJhbnNmb3JtcyBvZiB0aGUgc2NlbmUgZ3JhcGggZnJvbVxuICogIGJlaW5nIHVwZGF0ZWQuIFRoaXMgbWVhbnMgdGhlIGNhbGN1bGF0aW9uIHJldHVybmVkIE1BWSBiZSBvdXQgb2YgZGF0ZSBCVVQgd2lsbCBnaXZlIHlvdSBhXG4gKiAgbmljZSBwZXJmb3JtYW5jZSBib29zdC5cbiAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSB1cGRhdGVkIHBvaW50LlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRHbG9iYWxQb3NpdGlvbiA9IGZ1bmN0aW9uIGdldEdsb2JhbFBvc2l0aW9uKHBvaW50LCBza2lwVXBkYXRlKSB7XG4gICAgaWYgKHBvaW50ID09PSB2b2lkIDApIHsgcG9pbnQgPSBuZXcgUG9pbnQoKTsgfVxuICAgIGlmIChza2lwVXBkYXRlID09PSB2b2lkIDApIHsgc2tpcFVwZGF0ZSA9IGZhbHNlOyB9XG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50LnRvR2xvYmFsKHRoaXMucG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHBvaW50LnggPSB0aGlzLnBvc2l0aW9uLng7XG4gICAgICAgIHBvaW50LnkgPSB0aGlzLnBvc2l0aW9uLnk7XG4gICAgfVxuICAgIHJldHVybiBwb2ludDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9tZXNoLWV4dHJhcyAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9tZXNoLWV4dHJhcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IE1lc2hHZW9tZXRyeSwgTWVzaE1hdGVyaWFsLCBNZXNoIH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5pbXBvcnQgeyBXUkFQX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciBQbGFuZUdlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQbGFuZUdlb21ldHJ5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFBsYW5lR2VvbWV0cnkod2lkdGgsIGhlaWdodCwgc2VnV2lkdGgsIHNlZ0hlaWdodCkge1xuICAgICAgICBpZiAod2lkdGggPT09IHZvaWQgMCkgeyB3aWR0aCA9IDEwMDsgfVxuICAgICAgICBpZiAoaGVpZ2h0ID09PSB2b2lkIDApIHsgaGVpZ2h0ID0gMTAwOyB9XG4gICAgICAgIGlmIChzZWdXaWR0aCA9PT0gdm9pZCAwKSB7IHNlZ1dpZHRoID0gMTA7IH1cbiAgICAgICAgaWYgKHNlZ0hlaWdodCA9PT0gdm9pZCAwKSB7IHNlZ0hlaWdodCA9IDEwOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNlZ1dpZHRoID0gc2VnV2lkdGg7XG4gICAgICAgIF90aGlzLnNlZ0hlaWdodCA9IHNlZ0hlaWdodDtcbiAgICAgICAgX3RoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgX3RoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBfdGhpcy5idWlsZCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBwbGFuZSBjb29yZGluYXRlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGxhbmVHZW9tZXRyeS5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0b3RhbCA9IHRoaXMuc2VnV2lkdGggKiB0aGlzLnNlZ0hlaWdodDtcbiAgICAgICAgdmFyIHZlcnRzID0gW107XG4gICAgICAgIHZhciB1dnMgPSBbXTtcbiAgICAgICAgdmFyIGluZGljZXMgPSBbXTtcbiAgICAgICAgdmFyIHNlZ21lbnRzWCA9IHRoaXMuc2VnV2lkdGggLSAxO1xuICAgICAgICB2YXIgc2VnbWVudHNZID0gdGhpcy5zZWdIZWlnaHQgLSAxO1xuICAgICAgICB2YXIgc2l6ZVggPSAodGhpcy53aWR0aCkgLyBzZWdtZW50c1g7XG4gICAgICAgIHZhciBzaXplWSA9ICh0aGlzLmhlaWdodCkgLyBzZWdtZW50c1k7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgICAgICAgdmFyIHggPSAoaSAlIHRoaXMuc2VnV2lkdGgpO1xuICAgICAgICAgICAgdmFyIHkgPSAoKGkgLyB0aGlzLnNlZ1dpZHRoKSB8IDApO1xuICAgICAgICAgICAgdmVydHMucHVzaCh4ICogc2l6ZVgsIHkgKiBzaXplWSk7XG4gICAgICAgICAgICB1dnMucHVzaCh4IC8gc2VnbWVudHNYLCB5IC8gc2VnbWVudHNZKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdG90YWxTdWIgPSBzZWdtZW50c1ggKiBzZWdtZW50c1k7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxTdWI7IGkrKykge1xuICAgICAgICAgICAgdmFyIHhwb3MgPSBpICUgc2VnbWVudHNYO1xuICAgICAgICAgICAgdmFyIHlwb3MgPSAoaSAvIHNlZ21lbnRzWCkgfCAwO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gKHlwb3MgKiB0aGlzLnNlZ1dpZHRoKSArIHhwb3M7XG4gICAgICAgICAgICB2YXIgdmFsdWUyID0gKHlwb3MgKiB0aGlzLnNlZ1dpZHRoKSArIHhwb3MgKyAxO1xuICAgICAgICAgICAgdmFyIHZhbHVlMyA9ICgoeXBvcyArIDEpICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zO1xuICAgICAgICAgICAgdmFyIHZhbHVlNCA9ICgoeXBvcyArIDEpICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zICsgMTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2YWx1ZSwgdmFsdWUyLCB2YWx1ZTMsIHZhbHVlMiwgdmFsdWU0LCB2YWx1ZTMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmZmVyc1swXS5kYXRhID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0cyk7XG4gICAgICAgIHRoaXMuYnVmZmVyc1sxXS5kYXRhID0gbmV3IEZsb2F0MzJBcnJheSh1dnMpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmRhdGEgPSBuZXcgVWludDE2QXJyYXkoaW5kaWNlcyk7XG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBjaGFuZ2VzIGFyZSB1cGxvYWRlZFxuICAgICAgICB0aGlzLmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgICAgIHRoaXMuYnVmZmVyc1sxXS51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICB9O1xuICAgIHJldHVybiBQbGFuZUdlb21ldHJ5O1xufShNZXNoR2VvbWV0cnkpKTtcblxuLyoqXG4gKiBSb3BlR2VvbWV0cnkgYWxsb3dzIHlvdSB0byBkcmF3IGEgZ2VvbWV0cnkgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVuIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzLlxuICpcbiAqIGBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBjb25zdCByb3BlID0gbmV3IFBJWEkuUm9wZUdlb21ldHJ5KDEwMCwgcG9pbnRzKTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoR2VvbWV0cnlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG52YXIgUm9wZUdlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSb3BlR2VvbWV0cnksIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0yMDBdIC0gVGhlIHdpZHRoIChpLmUuLCB0aGlja25lc3MpIG9mIHRoZSByb3BlLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludFtdfSBbcG9pbnRzXSAtIEFuIGFycmF5IG9mIHtAbGluayBQSVhJLlBvaW50fSBvYmplY3RzIHRvIGNvbnN0cnVjdCB0aGlzIHJvcGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0ZXh0dXJlU2NhbGU9MF0gLSBCeSBkZWZhdWx0IHRoZSByb3BlIHRleHR1cmUgd2lsbCBiZSBzdHJldGNoZWQgdG8gbWF0Y2hcbiAgICAgKiAgICAgcm9wZSBsZW5ndGguIElmIHRleHR1cmVTY2FsZSBpcyBwb3NpdGl2ZSB0aGlzIHZhbHVlIHdpbGwgYmUgdHJlYXRlZCBhcyBhIHNjYWxpbmdcbiAgICAgKiAgICAgZmFjdG9yIGFuZCB0aGUgdGV4dHVyZSB3aWxsIHByZXNlcnZlIGl0cyBhc3BlY3QgcmF0aW8gaW5zdGVhZC4gVG8gY3JlYXRlIGEgdGlsaW5nIHJvcGVcbiAgICAgKiAgICAgc2V0IGJhc2VUZXh0dXJlLndyYXBNb2RlIHRvIHtAbGluayBQSVhJLldSQVBfTU9ERVMuUkVQRUFUfSBhbmQgdXNlIGEgcG93ZXIgb2YgdHdvIHRleHR1cmUsXG4gICAgICogICAgIHRoZW4gc2V0IHRleHR1cmVTY2FsZT0xIHRvIGtlZXAgdGhlIG9yaWdpbmFsIHRleHR1cmUgcGl4ZWwgc2l6ZS5cbiAgICAgKiAgICAgSW4gb3JkZXIgdG8gcmVkdWNlIGFscGhhIGNoYW5uZWwgYXJ0aWZhY3RzIHByb3ZpZGUgYSBsYXJnZXIgdGV4dHVyZSBhbmQgZG93bnNhbXBsZSAtXG4gICAgICogICAgIGkuZS4gc2V0IHRleHR1cmVTY2FsZT0wLjUgdG8gc2NhbGUgaXQgZG93biB0d2ljZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3BlR2VvbWV0cnkod2lkdGgsIHBvaW50cywgdGV4dHVyZVNjYWxlKSB7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7IHdpZHRoID0gMjAwOyB9XG4gICAgICAgIGlmICh0ZXh0dXJlU2NhbGUgPT09IHZvaWQgMCkgeyB0ZXh0dXJlU2NhbGUgPSAwOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpLCBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KSwgbmV3IFVpbnQxNkFycmF5KChwb2ludHMubGVuZ3RoIC0gMSkgKiA2KSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHBvaW50cyB0aGF0IGRldGVybWluZSB0aGUgcm9wZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50W119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb2ludHMgPSBwb2ludHM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggKGkuZS4sIHRoaWNrbmVzcykgb2YgdGhlIHJvcGUuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJvcGUgdGV4dHVyZSBzY2FsZSwgaWYgemVybyB0aGVuIHRoZSByb3BlIHRleHR1cmUgaXMgc3RyZXRjaGVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dHVyZVNjYWxlID0gdGV4dHVyZVNjYWxlO1xuICAgICAgICBfdGhpcy5idWlsZCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSb3BlR2VvbWV0cnkucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCAoaS5lLiwgdGhpY2tuZXNzKSBvZiB0aGUgcm9wZS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIFJvcGUgaW5kaWNlcyBhbmQgdXZzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSb3BlR2VvbWV0cnkucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHM7XG4gICAgICAgIGlmICghcG9pbnRzKVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgdmFyIHZlcnRleEJ1ZmZlciA9IHRoaXMuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKTtcbiAgICAgICAgdmFyIHV2QnVmZmVyID0gdGhpcy5nZXRCdWZmZXIoJ2FUZXh0dXJlQ29vcmQnKTtcbiAgICAgICAgdmFyIGluZGV4QnVmZmVyID0gdGhpcy5nZXRJbmRleCgpO1xuICAgICAgICAvLyBpZiB0b28gbGl0dGxlIHBvaW50cywgb3IgdGV4dHVyZSBoYXNuJ3QgZ290IFVWcyBzZXQgeWV0IGp1c3QgbW92ZSBvbi5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlIG51bWJlciBvZiBwb2ludHMgaGFzIGNoYW5nZWQgd2Ugd2lsbCBuZWVkIHRvIHJlY3JlYXRlIHRoZSBhcnJheWJ1ZmZlcnNcbiAgICAgICAgaWYgKHZlcnRleEJ1ZmZlci5kYXRhLmxlbmd0aCAvIDQgIT09IHBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5kYXRhID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG4gICAgICAgICAgICB1dkJ1ZmZlci5kYXRhID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5kYXRhID0gbmV3IFVpbnQxNkFycmF5KChwb2ludHMubGVuZ3RoIC0gMSkgKiA2KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXZzID0gdXZCdWZmZXIuZGF0YTtcbiAgICAgICAgdmFyIGluZGljZXMgPSBpbmRleEJ1ZmZlci5kYXRhO1xuICAgICAgICB1dnNbMF0gPSAwO1xuICAgICAgICB1dnNbMV0gPSAwO1xuICAgICAgICB1dnNbMl0gPSAwO1xuICAgICAgICB1dnNbM10gPSAxO1xuICAgICAgICB2YXIgYW1vdW50ID0gMDtcbiAgICAgICAgdmFyIHByZXYgPSBwb2ludHNbMF07XG4gICAgICAgIHZhciB0ZXh0dXJlV2lkdGggPSB0aGlzLl93aWR0aCAqIHRoaXMudGV4dHVyZVNjYWxlO1xuICAgICAgICB2YXIgdG90YWwgPSBwb2ludHMubGVuZ3RoOyAvLyAtIDE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgICAgICAgLy8gdGltZSB0byBkbyBzb21lIHNtYXJ0IGRyYXdpbmchXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogNDtcbiAgICAgICAgICAgIGlmICh0aGlzLnRleHR1cmVTY2FsZSA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgcGl4ZWwgZGlzdGFuY2UgZnJvbSBwcmV2aW91cyBwb2ludFxuICAgICAgICAgICAgICAgIHZhciBkeCA9IHByZXYueCAtIHBvaW50c1tpXS54O1xuICAgICAgICAgICAgICAgIHZhciBkeSA9IHByZXYueSAtIHBvaW50c1tpXS55O1xuICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydCgoZHggKiBkeCkgKyAoZHkgKiBkeSkpO1xuICAgICAgICAgICAgICAgIHByZXYgPSBwb2ludHNbaV07XG4gICAgICAgICAgICAgICAgYW1vdW50ICs9IGRpc3RhbmNlIC8gdGV4dHVyZVdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc3RyZXRjaCB0ZXh0dXJlXG4gICAgICAgICAgICAgICAgYW1vdW50ID0gaSAvICh0b3RhbCAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXZzW2luZGV4XSA9IGFtb3VudDtcbiAgICAgICAgICAgIHV2c1tpbmRleCArIDFdID0gMDtcbiAgICAgICAgICAgIHV2c1tpbmRleCArIDJdID0gYW1vdW50O1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgM10gPSAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleENvdW50ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbCAtIDE7IGkrKykge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaSAqIDI7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleDtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMTtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMjtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMjtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMTtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMztcbiAgICAgICAgfVxuICAgICAgICAvLyBlbnN1cmUgdGhhdCB0aGUgY2hhbmdlcyBhcmUgdXBsb2FkZWRcbiAgICAgICAgdXZCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgIGluZGV4QnVmZmVyLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2VzKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiByZWZyZXNoZXMgdmVydGljZXMgb2YgUm9wZSBtZXNoXG4gICAgICovXG4gICAgUm9wZUdlb21ldHJ5LnByb3RvdHlwZS51cGRhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGFzdFBvaW50ID0gcG9pbnRzWzBdO1xuICAgICAgICB2YXIgbmV4dFBvaW50O1xuICAgICAgICB2YXIgcGVycFggPSAwO1xuICAgICAgICB2YXIgcGVycFkgPSAwO1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLmJ1ZmZlcnNbMF0uZGF0YTtcbiAgICAgICAgdmFyIHRvdGFsID0gcG9pbnRzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcG9pbnQgPSBwb2ludHNbaV07XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogNDtcbiAgICAgICAgICAgIGlmIChpIDwgcG9pbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBuZXh0UG9pbnQgPSBwb2ludHNbaSArIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwZXJwWSA9IC0obmV4dFBvaW50LnggLSBsYXN0UG9pbnQueCk7XG4gICAgICAgICAgICBwZXJwWCA9IG5leHRQb2ludC55IC0gbGFzdFBvaW50Lnk7XG4gICAgICAgICAgICB2YXIgcGVycExlbmd0aCA9IE1hdGguc3FydCgocGVycFggKiBwZXJwWCkgKyAocGVycFkgKiBwZXJwWSkpO1xuICAgICAgICAgICAgdmFyIG51bSA9IHRoaXMudGV4dHVyZVNjYWxlID4gMCA/IHRoaXMudGV4dHVyZVNjYWxlICogdGhpcy5fd2lkdGggLyAyIDogdGhpcy5fd2lkdGggLyAyO1xuICAgICAgICAgICAgcGVycFggLz0gcGVycExlbmd0aDtcbiAgICAgICAgICAgIHBlcnBZIC89IHBlcnBMZW5ndGg7XG4gICAgICAgICAgICBwZXJwWCAqPSBudW07XG4gICAgICAgICAgICBwZXJwWSAqPSBudW07XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleF0gPSBwb2ludC54ICsgcGVycFg7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDFdID0gcG9pbnQueSArIHBlcnBZO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAyXSA9IHBvaW50LnggLSBwZXJwWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgM10gPSBwb2ludC55IC0gcGVycFk7XG4gICAgICAgICAgICBsYXN0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgfTtcbiAgICBSb3BlR2VvbWV0cnkucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudGV4dHVyZVNjYWxlID4gMCkge1xuICAgICAgICAgICAgdGhpcy5idWlsZCgpOyAvLyB3ZSBuZWVkIHRvIHVwZGF0ZSBVVnNcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmVydGljZXMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFJvcGVHZW9tZXRyeTtcbn0oTWVzaEdlb21ldHJ5KSk7XG5cbi8qKlxuICogVGhlIHJvcGUgYWxsb3dzIHlvdSB0byBkcmF3IGEgdGV4dHVyZSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW4gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHNcbiAqXG4gKmBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBsZXQgcm9wZSA9IG5ldyBQSVhJLlNpbXBsZVJvcGUoUElYSS5UZXh0dXJlLmZyb20oXCJzbmFrZS5wbmdcIiksIHBvaW50cyk7XG4gKiAgYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG52YXIgU2ltcGxlUm9wZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2ltcGxlUm9wZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHVzZSBvbiB0aGUgcm9wZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnRbXX0gcG9pbnRzIC0gQW4gYXJyYXkgb2Yge0BsaW5rIFBJWEkuUG9pbnR9IG9iamVjdHMgdG8gY29uc3RydWN0IHRoaXMgcm9wZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RleHR1cmVTY2FsZT0wXSAtIE9wdGlvbmFsLiBQb3NpdGl2ZSB2YWx1ZXMgc2NhbGUgcm9wZSB0ZXh0dXJlXG4gICAgICoga2VlcGluZyBpdHMgYXNwZWN0IHJhdGlvLiBZb3UgY2FuIHJlZHVjZSBhbHBoYSBjaGFubmVsIGFydGlmYWN0cyBieSBwcm92aWRpbmcgYSBsYXJnZXIgdGV4dHVyZVxuICAgICAqIGFuZCBkb3duc2FtcGxpbmcgaGVyZS4gSWYgc2V0IHRvIHplcm8sIHRleHR1cmUgd2lsbCBiZSBzdHJlY2hlZCBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNpbXBsZVJvcGUodGV4dHVyZSwgcG9pbnRzLCB0ZXh0dXJlU2NhbGUpIHtcbiAgICAgICAgaWYgKHRleHR1cmVTY2FsZSA9PT0gdm9pZCAwKSB7IHRleHR1cmVTY2FsZSA9IDA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHJvcGVHZW9tZXRyeSA9IG5ldyBSb3BlR2VvbWV0cnkodGV4dHVyZS5oZWlnaHQsIHBvaW50cywgdGV4dHVyZVNjYWxlKTtcbiAgICAgICAgdmFyIG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwodGV4dHVyZSk7XG4gICAgICAgIGlmICh0ZXh0dXJlU2NhbGUgPiAwKSB7XG4gICAgICAgICAgICAvLyBhdHRlbXB0IHRvIHNldCBVViB3cmFwcGluZywgd2lsbCBmYWlsIG9uIG5vbi1wb3dlciBvZiB0d28gdGV4dHVyZXNcbiAgICAgICAgICAgIHRleHR1cmUuYmFzZVRleHR1cmUud3JhcE1vZGUgPSBXUkFQX01PREVTLlJFUEVBVDtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJvcGVHZW9tZXRyeSwgbWVzaE1hdGVyaWFsKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogcmUtY2FsY3VsYXRlIHZlcnRpY2VzIGJ5IHJvcGUgcG9pbnRzIGVhY2ggZnJhbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9VcGRhdGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNpbXBsZVJvcGUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICAgICAgaWYgKHRoaXMuYXV0b1VwZGF0ZSB8fCBnZW9tZXRyeS5fd2lkdGggIT09IHRoaXMuc2hhZGVyLnRleHR1cmUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBnZW9tZXRyeS5fd2lkdGggPSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgIGdlb21ldHJ5LnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIHJldHVybiBTaW1wbGVSb3BlO1xufShNZXNoKSk7XG5cbi8qKlxuICogVGhlIFNpbXBsZVBsYW5lIGFsbG93cyB5b3UgdG8gZHJhdyBhIHRleHR1cmUgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVuIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzXG4gKlxuICpgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogbGV0IFNpbXBsZVBsYW5lID0gbmV3IFBJWEkuU2ltcGxlUGxhbmUoUElYSS5UZXh0dXJlLmZyb20oXCJzbmFrZS5wbmdcIiksIHBvaW50cyk7XG4gKiAgYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG52YXIgU2ltcGxlUGxhbmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNpbXBsZVBsYW5lLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSBTaW1wbGVQbGFuZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmVydGljZXNYIC0gVGhlIG51bWJlciBvZiB2ZXJ0aWNlcyBpbiB0aGUgeC1heGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZlcnRpY2VzWSAtIFRoZSBudW1iZXIgb2YgdmVydGljZXMgaW4gdGhlIHktYXhpc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNpbXBsZVBsYW5lKHRleHR1cmUsIHZlcnRpY2VzWCwgdmVydGljZXNZKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBwbGFuZUdlb21ldHJ5ID0gbmV3IFBsYW5lR2VvbWV0cnkodGV4dHVyZS53aWR0aCwgdGV4dHVyZS5oZWlnaHQsIHZlcnRpY2VzWCwgdmVydGljZXNZKTtcbiAgICAgICAgdmFyIG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwoVGV4dHVyZS5XSElURSk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcGxhbmVHZW9tZXRyeSwgbWVzaE1hdGVyaWFsKSB8fCB0aGlzO1xuICAgICAgICAvLyBsZXRzIGNhbGwgdGhlIHNldHRlciB0byBlbnN1cmUgYWxsIG5lY2Vzc2FyeSB1cGRhdGVzIGFyZSBwZXJmb3JtZWRcbiAgICAgICAgX3RoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgZm9yIG92ZXJyaWRlcywgdG8gZG8gc29tZXRoaW5nIGluIGNhc2UgdGV4dHVyZSBmcmFtZSB3YXMgY2hhbmdlZC5cbiAgICAgKiBNZXNoZXMgYmFzZWQgb24gcGxhbmUgY2FuIG92ZXJyaWRlIGl0IGFuZCBjaGFuZ2UgbW9yZSBkZXRhaWxzIGJhc2VkIG9uIHRleHR1cmUuXG4gICAgICovXG4gICAgU2ltcGxlUGxhbmUucHJvdG90eXBlLnRleHR1cmVVcGRhdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLl91cGRhdGVJRDtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICAgICAgZ2VvbWV0cnkud2lkdGggPSB0aGlzLnNoYWRlci50ZXh0dXJlLndpZHRoO1xuICAgICAgICBnZW9tZXRyeS5oZWlnaHQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodDtcbiAgICAgICAgZ2VvbWV0cnkuYnVpbGQoKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTaW1wbGVQbGFuZS5wcm90b3R5cGUsIFwidGV4dHVyZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnRleHR1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAvLyBUcmFjayB0ZXh0dXJlIHNhbWUgd2F5IHNwcml0ZSBkb2VzLlxuICAgICAgICAgICAgLy8gRm9yIGdlbmVyYXRlZCBtZXNoZXMgbGlrZSBOaW5lU2xpY2VQbGFuZSBpdCBjYW4gY2hhbmdlIHRoZSBnZW9tZXRyeS5cbiAgICAgICAgICAgIC8vIFVuZm9ydHVuYXRlbHksIHRoaXMgbWV0aG9kIG1pZ2h0IG5vdCB3b3JrIGlmIHlvdSBkaXJlY3RseSBjaGFuZ2UgdGV4dHVyZSBpbiBtYXRlcmlhbC5cbiAgICAgICAgICAgIGlmICh0aGlzLnNoYWRlci50ZXh0dXJlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLnRleHR1cmUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICAgICAgaWYgKHZhbHVlLmJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlVXBkYXRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUub25jZSgndXBkYXRlJywgdGhpcy50ZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTaW1wbGVQbGFuZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5fdGV4dHVyZUlEICE9PSB0aGlzLnNoYWRlci50ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlVXBkYXRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIHJldHVybiBTaW1wbGVQbGFuZTtcbn0oTWVzaCkpO1xuXG4vKipcbiAqIFRoZSBTaW1wbGUgTWVzaCBjbGFzcyBtaW1pY3MgTWVzaCBpbiBQaXhpSlMgdjQsIHByb3ZpZGluZyBlYXN5LXRvLXVzZSBjb25zdHJ1Y3RvciBhcmd1bWVudHMuXG4gKiBGb3IgbW9yZSByb2J1c3QgY3VzdG9taXphdGlvbiwgdXNlIHtAbGluayBQSVhJLk1lc2h9LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU2ltcGxlTWVzaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2ltcGxlTWVzaCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW3RleHR1cmU9VGV4dHVyZS5FTVBUWV0gLSBUaGUgdGV4dHVyZSB0byB1c2VcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW3ZlcnRpY2VzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFt1dnNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgdXZzXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheX0gW2luZGljZXNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgaW5kaWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZHJhd01vZGVdIC0gdGhlIGRyYXdNb2RlLCBjYW4gYmUgYW55IG9mIHRoZSBNZXNoLkRSQVdfTU9ERVMgY29uc3RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2ltcGxlTWVzaCh0ZXh0dXJlLCB2ZXJ0aWNlcywgdXZzLCBpbmRpY2VzLCBkcmF3TW9kZSkge1xuICAgICAgICBpZiAodGV4dHVyZSA9PT0gdm9pZCAwKSB7IHRleHR1cmUgPSBUZXh0dXJlLkVNUFRZOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBNZXNoR2VvbWV0cnkodmVydGljZXMsIHV2cywgaW5kaWNlcyk7XG4gICAgICAgIGdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuc3RhdGljID0gZmFsc2U7XG4gICAgICAgIHZhciBtZXNoTWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKHRleHR1cmUpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGdlb21ldHJ5LCBtZXNoTWF0ZXJpYWwsIG51bGwsIGRyYXdNb2RlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogdXBsb2FkIHZlcnRpY2VzIGJ1ZmZlciBlYWNoIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2ltcGxlTWVzaC5wcm90b3R5cGUsIFwidmVydGljZXNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiB2ZXJ0aWNlcyBkYXRhLlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTaW1wbGVNZXNoLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmF1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9yZW5kZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlTWVzaDtcbn0oTWVzaCkpO1xuXG52YXIgREVGQVVMVF9CT1JERVJfU0laRSA9IDEwO1xuLyoqXG4gKiBUaGUgTmluZVNsaWNlUGxhbmUgYWxsb3dzIHlvdSB0byBzdHJldGNoIGEgdGV4dHVyZSB1c2luZyA5LXNsaWNlIHNjYWxpbmcuIFRoZSBjb3JuZXJzIHdpbGwgcmVtYWluIHVuc2NhbGVkICh1c2VmdWxcbiAqIGZvciBidXR0b25zIHdpdGggcm91bmRlZCBjb3JuZXJzIGZvciBleGFtcGxlKSBhbmQgdGhlIG90aGVyIGFyZWFzIHdpbGwgYmUgc2NhbGVkIGhvcml6b250YWxseSBhbmQgb3IgdmVydGljYWxseVxuICpcbiAqYGBganNcbiAqIGxldCBQbGFuZTkgPSBuZXcgUElYSS5OaW5lU2xpY2VQbGFuZShQSVhJLlRleHR1cmUuZnJvbSgnQm94V2l0aFJvdW5kZWRDb3JuZXJzLnBuZycpLCAxNSwgMTUsIDE1LCAxNSk7XG4gKiAgYGBgXG4gKiA8cHJlPlxuICogICAgICBBICAgICAgICAgICAgICAgICAgICAgICAgICBCXG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEMgfCAxIHwgICAgICAgICAgMiAgICAgICAgICAgfCAzIHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgICB8ICAgfCAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgfCA0IHwgICAgICAgICAgNSAgICAgICAgICAgfCA2IHxcbiAqICAgIHwgICB8ICAgICAgICAgICAgICAgICAgICAgIHwgICB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEQgfCA3IHwgICAgICAgICAgOCAgICAgICAgICAgfCA5IHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG5cbiAqICBXaGVuIGNoYW5naW5nIHRoaXMgb2JqZWN0cyB3aWR0aCBhbmQvb3IgaGVpZ2h0OlxuICogICAgIGFyZWFzIDEgMyA3IGFuZCA5IHdpbGwgcmVtYWluIHVuc2NhbGVkLlxuICogICAgIGFyZWFzIDIgYW5kIDggd2lsbCBiZSBzdHJldGNoZWQgaG9yaXpvbnRhbGx5XG4gKiAgICAgYXJlYXMgNCBhbmQgNiB3aWxsIGJlIHN0cmV0Y2hlZCB2ZXJ0aWNhbGx5XG4gKiAgICAgYXJlYSA1IHdpbGwgYmUgc3RyZXRjaGVkIGJvdGggaG9yaXpvbnRhbGx5IGFuZCB2ZXJ0aWNhbGx5XG4gKiA8L3ByZT5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU2ltcGxlUGxhbmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG52YXIgTmluZVNsaWNlUGxhbmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE5pbmVTbGljZVBsYW5lLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSBOaW5lU2xpY2VQbGFuZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlZnRXaWR0aD0xMF0gLSBzaXplIG9mIHRoZSBsZWZ0IHZlcnRpY2FsIGJhciAoQSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RvcEhlaWdodD0xMF0gLSBzaXplIG9mIHRoZSB0b3AgaG9yaXpvbnRhbCBiYXIgKEMpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyaWdodFdpZHRoPTEwXSAtIHNpemUgb2YgdGhlIHJpZ2h0IHZlcnRpY2FsIGJhciAoQilcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JvdHRvbUhlaWdodD0xMF0gLSBzaXplIG9mIHRoZSBib3R0b20gaG9yaXpvbnRhbCBiYXIgKEQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gTmluZVNsaWNlUGxhbmUodGV4dHVyZSwgbGVmdFdpZHRoLCB0b3BIZWlnaHQsIHJpZ2h0V2lkdGgsIGJvdHRvbUhlaWdodCkge1xuICAgICAgICBpZiAobGVmdFdpZHRoID09PSB2b2lkIDApIHsgbGVmdFdpZHRoID0gREVGQVVMVF9CT1JERVJfU0laRTsgfVxuICAgICAgICBpZiAodG9wSGVpZ2h0ID09PSB2b2lkIDApIHsgdG9wSGVpZ2h0ID0gREVGQVVMVF9CT1JERVJfU0laRTsgfVxuICAgICAgICBpZiAocmlnaHRXaWR0aCA9PT0gdm9pZCAwKSB7IHJpZ2h0V2lkdGggPSBERUZBVUxUX0JPUkRFUl9TSVpFOyB9XG4gICAgICAgIGlmIChib3R0b21IZWlnaHQgPT09IHZvaWQgMCkgeyBib3R0b21IZWlnaHQgPSBERUZBVUxUX0JPUkRFUl9TSVpFOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFRleHR1cmUuV0hJVEUsIDQsIDQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9vcmlnV2lkdGggPSB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIF90aGlzLl9vcmlnSGVpZ2h0ID0gdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3dpZHRoID0gX3RoaXMuX29yaWdXaWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSBfdGhpcy5fb3JpZ0hlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgbGVmdCBjb2x1bW4gKGEpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sZWZ0V2lkdGggPSBsZWZ0V2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJpZ2h0IGNvbHVtbiAoYilcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3JpZ2h0V2lkdGggPSByaWdodFdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgdG9wIHJvdyAoYylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RvcEhlaWdodCA9IHRvcEhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJvdHRvbSByb3cgKGQpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ib3R0b21IZWlnaHQgPSBib3R0b21IZWlnaHQ7XG4gICAgICAgIC8vIGxldHMgY2FsbCB0aGUgc2V0dGVyIHRvIGVuc3VyZSBhbGwgbmVjZXNzYXJ5IHVwZGF0ZXMgYXJlIHBlcmZvcm1lZFxuICAgICAgICBfdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUudGV4dHVyZVVwZGF0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuX3VwZGF0ZUlEO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcInZlcnRpY2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgaG9yaXpvbnRhbCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqL1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS51cGRhdGVIb3Jpem9udGFsVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuX2dldE1pblNjYWxlKCk7XG4gICAgICAgIHZlcnRpY2VzWzldID0gdmVydGljZXNbMTFdID0gdmVydGljZXNbMTNdID0gdmVydGljZXNbMTVdID0gdGhpcy5fdG9wSGVpZ2h0ICogc2NhbGU7XG4gICAgICAgIHZlcnRpY2VzWzE3XSA9IHZlcnRpY2VzWzE5XSA9IHZlcnRpY2VzWzIxXSA9IHZlcnRpY2VzWzIzXSA9IHRoaXMuX2hlaWdodCAtICh0aGlzLl9ib3R0b21IZWlnaHQgKiBzY2FsZSk7XG4gICAgICAgIHZlcnRpY2VzWzI1XSA9IHZlcnRpY2VzWzI3XSA9IHZlcnRpY2VzWzI5XSA9IHZlcnRpY2VzWzMxXSA9IHRoaXMuX2hlaWdodDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHZlcnRpY2FsIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICovXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLnVwZGF0ZVZlcnRpY2FsVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuX2dldE1pblNjYWxlKCk7XG4gICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbMTBdID0gdmVydGljZXNbMThdID0gdmVydGljZXNbMjZdID0gdGhpcy5fbGVmdFdpZHRoICogc2NhbGU7XG4gICAgICAgIHZlcnRpY2VzWzRdID0gdmVydGljZXNbMTJdID0gdmVydGljZXNbMjBdID0gdmVydGljZXNbMjhdID0gdGhpcy5fd2lkdGggLSAodGhpcy5fcmlnaHRXaWR0aCAqIHNjYWxlKTtcbiAgICAgICAgdmVydGljZXNbNl0gPSB2ZXJ0aWNlc1sxNF0gPSB2ZXJ0aWNlc1syMl0gPSB2ZXJ0aWNlc1szMF0gPSB0aGlzLl93aWR0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNtYWxsZXIgb2YgYSBzZXQgb2YgdmVydGljYWwgYW5kIGhvcml6b250YWwgc2NhbGUgb2YgbmluZSBzbGljZSBjb3JuZXJzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBTbWFsbGVyIG51bWJlciBvZiB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FsZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS5fZ2V0TWluU2NhbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB3ID0gdGhpcy5fbGVmdFdpZHRoICsgdGhpcy5fcmlnaHRXaWR0aDtcbiAgICAgICAgdmFyIHNjYWxlVyA9IHRoaXMuX3dpZHRoID4gdyA/IDEuMCA6IHRoaXMuX3dpZHRoIC8gdztcbiAgICAgICAgdmFyIGggPSB0aGlzLl90b3BIZWlnaHQgKyB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgICAgIHZhciBzY2FsZUggPSB0aGlzLl9oZWlnaHQgPiBoID8gMS4wIDogdGhpcy5faGVpZ2h0IC8gaDtcbiAgICAgICAgdmFyIHNjYWxlID0gTWF0aC5taW4oc2NhbGVXLCBzY2FsZUgpO1xuICAgICAgICByZXR1cm4gc2NhbGU7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJsZWZ0V2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBsZWZ0IGNvbHVtblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9sZWZ0V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwicmlnaHRXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJpZ2h0IGNvbHVtblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yaWdodFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmlnaHRXaWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJ0b3BIZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgdG9wIHJvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90b3BIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl90b3BIZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwiYm90dG9tSGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJvdHRvbSByb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fYm90dG9tSGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgTmluZVNsaWNlUGxhbmUgY29vcmRzLiBBbGwgb2YgdGhlbS5cbiAgICAgKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUuX3JlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICB2YXIgdXZzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdLmRhdGE7XG4gICAgICAgIHRoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIHZhciBfdXZ3ID0gMS4wIC8gdGhpcy5fb3JpZ1dpZHRoO1xuICAgICAgICB2YXIgX3V2aCA9IDEuMCAvIHRoaXMuX29yaWdIZWlnaHQ7XG4gICAgICAgIHV2c1swXSA9IHV2c1s4XSA9IHV2c1sxNl0gPSB1dnNbMjRdID0gMDtcbiAgICAgICAgdXZzWzFdID0gdXZzWzNdID0gdXZzWzVdID0gdXZzWzddID0gMDtcbiAgICAgICAgdXZzWzZdID0gdXZzWzE0XSA9IHV2c1syMl0gPSB1dnNbMzBdID0gMTtcbiAgICAgICAgdXZzWzI1XSA9IHV2c1syN10gPSB1dnNbMjldID0gdXZzWzMxXSA9IDE7XG4gICAgICAgIHV2c1syXSA9IHV2c1sxMF0gPSB1dnNbMThdID0gdXZzWzI2XSA9IF91dncgKiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgICAgIHV2c1s0XSA9IHV2c1sxMl0gPSB1dnNbMjBdID0gdXZzWzI4XSA9IDEgLSAoX3V2dyAqIHRoaXMuX3JpZ2h0V2lkdGgpO1xuICAgICAgICB1dnNbOV0gPSB1dnNbMTFdID0gdXZzWzEzXSA9IHV2c1sxNV0gPSBfdXZoICogdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB1dnNbMTddID0gdXZzWzE5XSA9IHV2c1syMV0gPSB1dnNbMjNdID0gMSAtIChfdXZoICogdGhpcy5fYm90dG9tSGVpZ2h0KTtcbiAgICAgICAgdGhpcy51cGRhdGVIb3Jpem9udGFsVmVydGljZXMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNhbFZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIE5pbmVTbGljZVBsYW5lO1xufShTaW1wbGVQbGFuZSkpO1xuXG5leHBvcnQgeyBOaW5lU2xpY2VQbGFuZSwgUGxhbmVHZW9tZXRyeSwgUm9wZUdlb21ldHJ5LCBTaW1wbGVNZXNoLCBTaW1wbGVQbGFuZSwgU2ltcGxlUm9wZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVzaC1leHRyYXMuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZS1hbmltYXRlZCAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9zcHJpdGUtYW5pbWF0ZWQgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBBbiBBbmltYXRlZFNwcml0ZSBpcyBhIHNpbXBsZSB3YXkgdG8gZGlzcGxheSBhbiBhbmltYXRpb24gZGVwaWN0ZWQgYnkgYSBsaXN0IG9mIHRleHR1cmVzLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgYWxpZW5JbWFnZXMgPSBbXCJpbWFnZV9zZXF1ZW5jZV8wMS5wbmdcIixcImltYWdlX3NlcXVlbmNlXzAyLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDMucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wNC5wbmdcIl07XG4gKiBsZXQgdGV4dHVyZUFycmF5ID0gW107XG4gKlxuICogZm9yIChsZXQgaT0wOyBpIDwgNDsgaSsrKVxuICoge1xuICogICAgICBsZXQgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKGFsaWVuSW1hZ2VzW2ldKTtcbiAqICAgICAgdGV4dHVyZUFycmF5LnB1c2godGV4dHVyZSk7XG4gKiB9O1xuICpcbiAqIGxldCBhbmltYXRlZFNwcml0ZSA9IG5ldyBQSVhJLkFuaW1hdGVkU3ByaXRlKHRleHR1cmVBcnJheSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgbW9yZSBlZmZpY2llbnQgYW5kIHNpbXBsZXIgd2F5IHRvIGNyZWF0ZSBhbiBhbmltYXRlZCBzcHJpdGUgaXMgdXNpbmcgYSB7QGxpbmsgUElYSS5TcHJpdGVzaGVldH1cbiAqIGNvbnRhaW5pbmcgdGhlIGFuaW1hdGlvbiBkZWZpbml0aW9uczpcbiAqXG4gKiBgYGBqc1xuICogUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIGFuaW1hdGVkU3ByaXRlID0gbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUoc2hlZXQuYW5pbWF0aW9uc1tcImltYWdlX3NlcXVlbmNlXCJdKTtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQW5pbWF0ZWRTcHJpdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFuaW1hdGVkU3ByaXRlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlW118UElYSS5BbmltYXRlZFNwcml0ZS5GcmFtZU9iamVjdFtdfSB0ZXh0dXJlcyAtIEFuIGFycmF5IG9mIHtAbGluayBQSVhJLlRleHR1cmV9IG9yIGZyYW1lXG4gICAgICogIG9iamVjdHMgdGhhdCBtYWtlIHVwIHRoZSBhbmltYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1VwZGF0ZT10cnVlXSAtIFdoZXRoZXIgdG8gdXNlIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcywgYXV0b1VwZGF0ZSkge1xuICAgICAgICBpZiAoYXV0b1VwZGF0ZSA9PT0gdm9pZCAwKSB7IGF1dG9VcGRhdGUgPSB0cnVlOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRleHR1cmVzWzBdIGluc3RhbmNlb2YgVGV4dHVyZSA/IHRleHR1cmVzWzBdIDogdGV4dHVyZXNbMF0udGV4dHVyZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRleHR1cmVbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0dXJlcyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZHVyYXRpb25zID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCB1c2VzIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hdXRvVXBkYXRlID0gYXV0b1VwZGF0ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB0aGUgaW5zdGFuY2UgaXMgY3VycmVudGx5IGNvbm5lY3RlZCB0byBQSVhJLlRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgYW5pbWF0aW9uIHRpbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzcGVlZCB0aGF0IHRoZSBBbmltYXRlZFNwcml0ZSB3aWxsIHBsYXkgYXQuIEhpZ2hlciBpcyBmYXN0ZXIsIGxvd2VyIGlzIHNsb3dlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmltYXRpb25TcGVlZCA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgYW5pbWF0ZSBzcHJpdGUgcmVwZWF0cyBhZnRlciBwbGF5aW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sb29wID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBhbmNob3IgdG8gW1RleHR1cmUncyBkZWZhdWx0QW5jaG9yXXtAbGluayBQSVhJLlRleHR1cmUjZGVmYXVsdEFuY2hvcn0gd2hlbiBmcmFtZSBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBVc2VmdWwgd2l0aCBbc3ByaXRlIHNoZWV0IGFuaW1hdGlvbnNde0BsaW5rIFBJWEkuU3ByaXRlc2hlZXQjYW5pbWF0aW9uc30gY3JlYXRlZCB3aXRoIHRvb2xzLlxuICAgICAgICAgKiBDaGFuZ2luZyBhbmNob3IgZm9yIGVhY2ggZnJhbWUgYWxsb3dzIHRvIHBpbiBzcHJpdGUgb3JpZ2luIHRvIGNlcnRhaW4gbW92aW5nIGZlYXR1cmVcbiAgICAgICAgICogb2YgdGhlIGZyYW1lIChlLmcuIGxlZnQgZm9vdCkuXG4gICAgICAgICAqXG4gICAgICAgICAqIE5vdGU6IEVuYWJsaW5nIHRoaXMgd2lsbCBvdmVycmlkZSBhbnkgcHJldmlvdXNseSBzZXQgYGFuY2hvcmAgb24gZWFjaCBmcmFtZSBjaGFuZ2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51cGRhdGVBbmNob3IgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZXItYXNzaWduZWQgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGFuIEFuaW1hdGVkU3ByaXRlIGZpbmlzaGVzIHBsYXlpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGFuaW1hdGlvbi5vbkNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgIC8vIGZpbmlzaGVkIVxuICAgICAgICAgKiB9O1xuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uQ29tcGxldGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlci1hc3NpZ25lZCBmdW5jdGlvbiB0byBjYWxsIHdoZW4gYW4gQW5pbWF0ZWRTcHJpdGUgY2hhbmdlcyB3aGljaCB0ZXh0dXJlIGlzIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBhbmltYXRpb24ub25GcmFtZUNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICogICAvLyB1cGRhdGVkIVxuICAgICAgICAgKiB9O1xuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uRnJhbWVDaGFuZ2UgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlci1hc3NpZ25lZCBmdW5jdGlvbiB0byBjYWxsIHdoZW4gYGxvb3BgIGlzIHRydWUsIGFuZCBhbiBBbmltYXRlZFNwcml0ZSBpcyBwbGF5ZWQgYW5kXG4gICAgICAgICAqIGxvb3BzIGFyb3VuZCB0byBzdGFydCBhZ2Fpbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogYW5pbWF0aW9uLm9uTG9vcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICogICAvLyBsb29wZWQhXG4gICAgICAgICAqIH07XG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Mb29wID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVsYXBzZWQgdGltZSBzaW5jZSBhbmltYXRpb24gaGFzIGJlZW4gc3RhcnRlZCwgdXNlZCBpbnRlcm5hbGx5IHRvIGRpc3BsYXkgY3VycmVudCB0ZXh0dXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY3VycmVudFRpbWUgPSAwO1xuICAgICAgICBfdGhpcy5fcGxheWluZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgaW5kZXggdGhhdCB3YXMgZGlzcGxheWVkIGxhc3QgdGltZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcHJldmlvdXNGcmFtZSA9IG51bGw7XG4gICAgICAgIF90aGlzLnRleHR1cmVzID0gdGV4dHVyZXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fcGxheWluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9VcGRhdGUgJiYgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQbGF5cyB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3BsYXlpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9VcGRhdGUgJiYgIXRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuSElHSCk7XG4gICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlIGFuZCBnb2VzIHRvIGEgc3BlY2lmaWMgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJhbWVOdW1iZXIgLSBGcmFtZSBpbmRleCB0byBzdG9wIGF0LlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5nb3RvQW5kU3RvcCA9IGZ1bmN0aW9uIChmcmFtZU51bWJlcikge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcbiAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBmcmFtZU51bWJlcjtcbiAgICAgICAgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR29lcyB0byBhIHNwZWNpZmljIGZyYW1lIGFuZCBiZWdpbnMgcGxheWluZyB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJhbWVOdW1iZXIgLSBGcmFtZSBpbmRleCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuZ290b0FuZFBsYXkgPSBmdW5jdGlvbiAoZnJhbWVOdW1iZXIpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcbiAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBmcmFtZU51bWJlcjtcbiAgICAgICAgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSBUaW1lIHNpbmNlIGxhc3QgdGljay5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRlbHRhVGltZSkge1xuICAgICAgICB2YXIgZWxhcHNlZCA9IHRoaXMuYW5pbWF0aW9uU3BlZWQgKiBkZWx0YVRpbWU7XG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG4gICAgICAgIGlmICh0aGlzLl9kdXJhdGlvbnMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBsYWcgPSB0aGlzLl9jdXJyZW50VGltZSAlIDEgKiB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICAgICAgbGFnICs9IGVsYXBzZWQgLyA2MCAqIDEwMDA7XG4gICAgICAgICAgICB3aGlsZSAobGFnIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lLS07XG4gICAgICAgICAgICAgICAgbGFnICs9IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2lnbiA9IE1hdGguc2lnbih0aGlzLmFuaW1hdGlvblNwZWVkICogZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gTWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB3aGlsZSAobGFnID49IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV0pIHtcbiAgICAgICAgICAgICAgICBsYWcgLT0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSAqIHNpZ247XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gc2lnbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IGxhZyAvIHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBlbGFwc2VkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50VGltZSA8IDAgJiYgIXRoaXMubG9vcCkge1xuICAgICAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCgwKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9jdXJyZW50VGltZSA+PSB0aGlzLl90ZXh0dXJlcy5sZW5ndGggJiYgIXRoaXMubG9vcCkge1xuICAgICAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCh0aGlzLl90ZXh0dXJlcy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMubG9vcCAmJiB0aGlzLm9uTG9vcCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblNwZWVkID4gMCAmJiB0aGlzLmN1cnJlbnRGcmFtZSA8IHByZXZpb3VzRnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkxvb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5hbmltYXRpb25TcGVlZCA8IDAgJiYgdGhpcy5jdXJyZW50RnJhbWUgPiBwcmV2aW91c0ZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb29wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGRpc3BsYXllZCB0ZXh0dXJlIHRvIG1hdGNoIHRoZSBjdXJyZW50IGZyYW1lIGluZGV4LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuICAgICAgICBpZiAodGhpcy5fcHJldmlvdXNGcmFtZSA9PT0gY3VycmVudEZyYW1lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJldmlvdXNGcmFtZSA9IGN1cnJlbnRGcmFtZTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHRoaXMuX3RleHR1cmVzW2N1cnJlbnRGcmFtZV07XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgdGhpcy51dnMgPSB0aGlzLl90ZXh0dXJlLl91dnMudXZzRmxvYXQzMjtcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlQW5jaG9yKSB7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3IuY29weUZyb20odGhpcy5fdGV4dHVyZS5kZWZhdWx0QW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vbkZyYW1lQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLm9uRnJhbWVDaGFuZ2UodGhpcy5jdXJyZW50RnJhbWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUgYW5kIGRlc3Ryb3lzIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBJZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGwuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMub25Db21wbGV0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMub25GcmFtZUNoYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMub25Mb29wID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYW4gQW5pbWF0ZWRTcHJpdGUgZnJvbSBhbiBhcnJheSBvZiBmcmFtZSBpZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gZnJhbWVzIC0gVGhlIGFycmF5IG9mIGZyYW1lcyBpZHMgdGhlIEFuaW1hdGVkU3ByaXRlIHdpbGwgdXNlIGFzIGl0cyB0ZXh0dXJlIGZyYW1lcy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkFuaW1hdGVkU3ByaXRlfSBUaGUgbmV3IGFuaW1hdGVkIHNwcml0ZSB3aXRoIHRoZSBzcGVjaWZpZWQgZnJhbWVzLlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLmZyb21GcmFtZXMgPSBmdW5jdGlvbiAoZnJhbWVzKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZyYW1lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGV4dHVyZXMucHVzaChUZXh0dXJlLmZyb20oZnJhbWVzW2ldKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgd2F5IG9mIGNyZWF0aW5nIGFuIEFuaW1hdGVkU3ByaXRlIGZyb20gYW4gYXJyYXkgb2YgaW1hZ2UgaWRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGltYWdlcyAtIFRoZSBhcnJheSBvZiBpbWFnZSB1cmxzIHRoZSBBbmltYXRlZFNwcml0ZSB3aWxsIHVzZSBhcyBpdHMgdGV4dHVyZSBmcmFtZXMuXG4gICAgICogQHJldHVybiB7UElYSS5BbmltYXRlZFNwcml0ZX0gVGhlIG5ldyBhbmltYXRlIHNwcml0ZSB3aXRoIHRoZSBzcGVjaWZpZWQgaW1hZ2VzIGFzIGZyYW1lcy5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5mcm9tSW1hZ2VzID0gZnVuY3Rpb24gKGltYWdlcykge1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWFnZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2goVGV4dHVyZS5mcm9tKGltYWdlc1tpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZSwgXCJ0b3RhbEZyYW1lc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIGZyYW1lcyBpbiB0aGUgQW5pbWF0ZWRTcHJpdGUuIFRoaXMgaXMgdGhlIHNhbWUgYXMgbnVtYmVyIG9mIHRleHR1cmVzXG4gICAgICAgICAqIGFzc2lnbmVkIHRvIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZSwgXCJ0ZXh0dXJlc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJyYXkgb2YgdGV4dHVyZXMgdXNlZCBmb3IgdGhpcyBBbmltYXRlZFNwcml0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlW119XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZVswXSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMucHVzaCh2YWx1ZVtpXS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zLnB1c2godmFsdWVbaV0udGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcHJldmlvdXNGcmFtZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKDApO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLCBcImN1cnJlbnRGcmFtZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAqIFRoZSBBbmltYXRlZFNwcml0ZXMgY3VycmVudCBmcmFtZSBpbmRleC5cbiAgICAgICAgKlxuICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudEZyYW1lID0gTWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSkgJSB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoY3VycmVudEZyYW1lIDwgMCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRGcmFtZSArPSB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudEZyYW1lO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZSwgXCJwbGF5aW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgQW5pbWF0ZWRTcHJpdGUgaXMgY3VycmVudGx5IHBsYXlpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGxheWluZztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUsIFwiYXV0b1VwZGF0ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRvIHVzZSBQSVhJLlRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgYW5pbWF0aW9uIHRpbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9VcGRhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX2F1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdXRvVXBkYXRlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9hdXRvVXBkYXRlICYmIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2F1dG9VcGRhdGUgJiYgIXRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgJiYgdGhpcy5fcGxheWluZykge1xuICAgICAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBBbmltYXRlZFNwcml0ZTtcbn0oU3ByaXRlKSk7XG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkFuaW1hdGVkU3ByaXRlXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBGcmFtZU9iamVjdFxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHtAbGluayBQSVhJLlRleHR1cmV9IG9mIHRoZSBmcmFtZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWUgLSB0aGUgZHVyYXRpb24gb2YgdGhlIGZyYW1lIGluIG1zXG4gKi9cblxuZXhwb3J0IHsgQW5pbWF0ZWRTcHJpdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZS1hbmltYXRlZC5lcy5qcy5tYXBcbiIsIi8qIVxuICogcGl4aS5qcyAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBwaXhpLmpzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0ICdAcGl4aS9wb2x5ZmlsbCc7XG5pbXBvcnQgeyBkZXByZWNhdGlvbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJ0BwaXhpL3V0aWxzJztcbmV4cG9ydCB7IHV0aWxzIH07XG5pbXBvcnQgeyBBY2Nlc3NpYmlsaXR5TWFuYWdlciB9IGZyb20gJ0BwaXhpL2FjY2Vzc2liaWxpdHknO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvYWNjZXNzaWJpbGl0eSc7XG5pbXBvcnQgeyBJbnRlcmFjdGlvbk1hbmFnZXIgfSBmcm9tICdAcGl4aS9pbnRlcmFjdGlvbic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9pbnRlcmFjdGlvbic7XG5pbXBvcnQgeyBBcHBsaWNhdGlvbiB9IGZyb20gJ0BwaXhpL2FwcCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9hcHAnO1xuaW1wb3J0IHsgUmVuZGVyZXIsIEJhdGNoUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgRXh0cmFjdCB9IGZyb20gJ0BwaXhpL2V4dHJhY3QnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZXh0cmFjdCc7XG5pbXBvcnQgeyBMb2FkZXIsIEFwcExvYWRlclBsdWdpbiB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5pbXBvcnQgeyBQYXJ0aWNsZVJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvcGFydGljbGVzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3BhcnRpY2xlcyc7XG5pbXBvcnQgeyBQcmVwYXJlIH0gZnJvbSAnQHBpeGkvcHJlcGFyZSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9wcmVwYXJlJztcbmltcG9ydCB7IFNwcml0ZXNoZWV0TG9hZGVyIH0gZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuaW1wb3J0IHsgVGlsaW5nU3ByaXRlUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9zcHJpdGUtdGlsaW5nJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZS10aWxpbmcnO1xuaW1wb3J0IHsgQml0bWFwRm9udExvYWRlciB9IGZyb20gJ0BwaXhpL3RleHQtYml0bWFwJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3RleHQtYml0bWFwJztcbmltcG9ydCB7IFRpY2tlclBsdWdpbiB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgQWxwaGFGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItYWxwaGEnO1xuaW1wb3J0IHsgQmx1ckZpbHRlciwgQmx1ckZpbHRlclBhc3MgfSBmcm9tICdAcGl4aS9maWx0ZXItYmx1cic7XG5pbXBvcnQgeyBDb2xvck1hdHJpeEZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXgnO1xuaW1wb3J0IHsgRGlzcGxhY2VtZW50RmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudCc7XG5pbXBvcnQgeyBGWEFBRmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWZ4YWEnO1xuaW1wb3J0IHsgTm9pc2VGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItbm9pc2UnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXAnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSc7XG5pbXBvcnQgJ0BwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24nO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZ3JhcGhpY3MnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbWF0aCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tZXNoJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL21lc2gtZXh0cmFzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3J1bm5lcic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGUnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlLWFuaW1hdGVkJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3RleHQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIHY1ID0gJzUuMC4wJztcbi8qKlxuICogRGVwcmVjYXRpb25zIChiYWNrd2FyZCBjb21wYXRpYmlsaXRpZXMpIGFyZSBhdXRvbWF0aWNhbGx5IGFwcGxpZWQgZm9yIGJyb3dzZXIgYnVuZGxlc1xuICogaW4gdGhlIFVNRCBtb2R1bGUgZm9ybWF0LiBJZiB1c2luZyBXZWJwYWNrIG9yIFJvbGx1cCwgeW91J2xsIG5lZWQgdG8gYXBwbHkgdGhlc2VcbiAqIGRlcHJlY2F0aW9ucyBtYW51YWxseSBieSBkb2luZyBzb21ldGhpbmcgbGlrZSB0aGlzOlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XG4gKiBQSVhJLnVzZURlcHJlY2F0ZWQoKTsgLy8gTVVTVCBiZSBib3VuZCB0byBuYW1lc3BhY2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gdXNlRGVwcmVjYXRlZFxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZnVuY3Rpb24gdXNlRGVwcmVjYXRlZCgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICB2YXIgUElYSSA9IHRoaXM7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNvbnN0YW50IHtSZWdFeHB8c3RyaW5nfSBTVkdfU0laRVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLlNWR19TSVpFXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBTVkdfU0laRToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLlNWR19TSVpFIHByb3BlcnR5IGhhcyBtb3ZlZCB0byBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZS5TVkdfU0laRScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNWR1Jlc291cmNlLlNWR19TSVpFO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLlRyYW5zZm9ybVN0YXRpY1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuVHJhbnNmb3JtXG4gICAgICAgICAqL1xuICAgICAgICBUcmFuc2Zvcm1TdGF0aWM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5UcmFuc2Zvcm1TdGF0aWMgY2xhc3MgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlIFBJWEkuVHJhbnNmb3JtJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVHJhbnNmb3JtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLlRyYW5zZm9ybUJhc2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRyYW5zZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgVHJhbnNmb3JtQmFzZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlRyYW5zZm9ybUJhc2UgY2xhc3MgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlIFBJWEkuVHJhbnNmb3JtJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVHJhbnNmb3JtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnN0YW50cyB0aGF0IHNwZWNpZnkgdGhlIHRyYW5zZm9ybSB0eXBlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBUUkFOU0ZPUk1fTU9ERVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAZW51bSB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gU1RBVElDXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEWU5BTUlDXG4gICAgICAgICAqL1xuICAgICAgICBUUkFOU0ZPUk1fTU9ERToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlRSQU5TRk9STV9NT0RFIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBTVEFUSUM6IDAsIERZTkFNSUM6IDEgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5XZWJHTFJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5SZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgV2ViR0xSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLldlYkdMUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuUmVuZGVyZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5SZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5DYW52YXNSZW5kZXJUYXJnZXRcbiAgICAgICAgICogQHNlZSBQSVhJLnV0aWxzLkNhbnZhc1JlbmRlclRhcmdldFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQ2FudmFzUmVuZGVyVGFyZ2V0OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQ2FudmFzUmVuZGVyVGFyZ2V0IGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLnV0aWxzLkNhbnZhc1JlbmRlclRhcmdldCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLnV0aWxzLkNhbnZhc1JlbmRlclRhcmdldDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAbmFtZSBsb2FkZXJcbiAgICAgICAgICogQHR5cGUge1BJWEkuTG9hZGVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLnNoYXJlZFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgbG9hZGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVyIGluc3RhbmNlIGhhcyBtb3ZlZCB0byBQSVhJLkxvYWRlci5zaGFyZWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5Mb2FkZXIuc2hhcmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLkZpbHRlck1hbmFnZXJcbiAgICAgICAgICogQHNlZSBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBGaWx0ZXJNYW5hZ2VyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuRmlsdGVyTWFuYWdlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lc3BhY2UgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgICAgICogQHNlZSBQSVhJLmNhbnZhc1V0aWxzXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBDYW52YXNUaW50ZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLkNhbnZhc1RpbnRlciBuYW1lc3BhY2UgaGFzIG1vdmVkIHRvIFBJWEkuY2FudmFzVXRpbHMnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5jYW52YXNVdGlscztcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZXNwYWNlIFBJWEkuR3JvdXBEOFxuICAgICAgICAgKiBAc2VlIFBJWEkuZ3JvdXBEOFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgR3JvdXBEODoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4wJywgJ1BJWEkuR3JvdXBEOCBuYW1lc3BhY2UgaGFzIG1vdmVkIHRvIFBJWEkuZ3JvdXBEOCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLmdyb3VwRDg7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5hY2Nlc3NpYmlsaXR5XG4gICAgICogQHNlZSBQSVhJXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgKi9cbiAgICBQSVhJLmFjY2Vzc2liaWxpdHkgPSB7fTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLmFjY2Vzc2liaWxpdHksIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmFjY2Vzc2liaWxpdHkuQWNjZXNzaWJpbGl0eU1hbmFnZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgICAgICogQHNlZSBQSVhJLkFjY2Vzc2liaWxpdHlNYW5hZ2VyXG4gICAgICAgICAqL1xuICAgICAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlciBtb3ZlZCB0byBQSVhJLkFjY2Vzc2liaWxpdHlNYW5hZ2VyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQWNjZXNzaWJpbGl0eU1hbmFnZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5pbnRlcmFjdGlvblxuICAgICAqIEBzZWUgUElYSVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICovXG4gICAgUElYSS5pbnRlcmFjdGlvbiA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkuaW50ZXJhY3Rpb24sIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyXG4gICAgICAgICAqL1xuICAgICAgICBJbnRlcmFjdGlvbk1hbmFnZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciBtb3ZlZCB0byBQSVhJLkludGVyYWN0aW9uTWFuYWdlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkludGVyYWN0aW9uTWFuYWdlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGFcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgICAgICogQHNlZSBQSVhJLkludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKi9cbiAgICAgICAgSW50ZXJhY3Rpb25EYXRhOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGEgbW92ZWQgdG8gUElYSS5JbnRlcmFjdGlvbkRhdGEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5JbnRlcmFjdGlvbkRhdGE7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuSW50ZXJhY3Rpb25FdmVudFxuICAgICAgICAgKi9cbiAgICAgICAgSW50ZXJhY3Rpb25FdmVudDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudCBtb3ZlZCB0byBQSVhJLkludGVyYWN0aW9uRXZlbnQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5JbnRlcmFjdGlvbkV2ZW50O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkucHJlcGFyZVxuICAgICAqIEBzZWUgUElYSVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4xXG4gICAgICovXG4gICAgUElYSS5wcmVwYXJlID0ge307XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5wcmVwYXJlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4xXG4gICAgICAgICAqIEBzZWUgUElYSS5CYXNlUHJlcGFyZVxuICAgICAgICAgKi9cbiAgICAgICAgQmFzZVByZXBhcmU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMScsICdQSVhJLnByZXBhcmUuQmFzZVByZXBhcmUgbW92ZWQgdG8gUElYSS5CYXNlUHJlcGFyZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkJhc2VQcmVwYXJlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnByZXBhcmUuUHJlcGFyZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMVxuICAgICAgICAgKiBAc2VlIFBJWEkuUHJlcGFyZVxuICAgICAgICAgKi9cbiAgICAgICAgUHJlcGFyZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4xJywgJ1BJWEkucHJlcGFyZS5QcmVwYXJlIG1vdmVkIHRvIFBJWEkuUHJlcGFyZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlByZXBhcmU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkucHJlcGFyZS5DYW52YXNQcmVwYXJlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4xXG4gICAgICAgICAqIEBzZWUgUElYSS5DYW52YXNQcmVwYXJlXG4gICAgICAgICAqL1xuICAgICAgICBDYW52YXNQcmVwYXJlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjEnLCAnUElYSS5wcmVwYXJlLkNhbnZhc1ByZXBhcmUgbW92ZWQgdG8gUElYSS5DYW52YXNQcmVwYXJlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQ2FudmFzUHJlcGFyZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLmV4dHJhY3RcbiAgICAgKiBAc2VlIFBJWElcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMVxuICAgICAqL1xuICAgIFBJWEkuZXh0cmFjdCA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkuZXh0cmFjdCwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFjdC5FeHRyYWN0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4xXG4gICAgICAgICAqIEBzZWUgUElYSS5FeHRyYWN0XG4gICAgICAgICAqL1xuICAgICAgICBFeHRyYWN0OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjEnLCAnUElYSS5leHRyYWN0LkV4dHJhY3QgbW92ZWQgdG8gUElYSS5FeHRyYWN0Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuRXh0cmFjdDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYWN0LkNhbnZhc0V4dHJhY3RcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjFcbiAgICAgICAgICogQHNlZSBQSVhJLkNhbnZhc0V4dHJhY3RcbiAgICAgICAgICovXG4gICAgICAgIENhbnZhc0V4dHJhY3Q6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMScsICdQSVhJLmV4dHJhY3QuQ2FudmFzRXh0cmFjdCBtb3ZlZCB0byBQSVhJLkNhbnZhc0V4dHJhY3QnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5DYW52YXNFeHRyYWN0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBUaGlzIG5hbWVzcGFjZSBoYXMgYmVlbiByZW1vdmVkLiBBbGwgY2xhc3NlcyBwcmV2aW91cyBuZXN0ZWRcbiAgICAgKiB1bmRlciB0aGlzIG5hbWVzcGFjZSBoYXZlIGJlZW4gbW92ZWQgdG8gdGhlIHRvcC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5leHRyYXNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkuZXh0cmFzID0ge307XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5leHRyYXMsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGVcbiAgICAgICAgICogQHNlZSBQSVhJLlRpbGluZ1Nwcml0ZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgVGlsaW5nU3ByaXRlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5UaWxpbmdTcHJpdGUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWxpbmdTcHJpdGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGVSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgVGlsaW5nU3ByaXRlUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuVGlsaW5nU3ByaXRlUmVuZGVyZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWxpbmdTcHJpdGVSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFuaW1hdGVkU3ByaXRlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBBbmltYXRlZFNwcml0ZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5BbmltYXRlZFNwcml0ZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkFuaW1hdGVkU3ByaXRlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhcy5CaXRtYXBUZXh0XG4gICAgICAgICAqIEBzZWUgUElYSS5CaXRtYXBUZXh0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBCaXRtYXBUZXh0OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFzLkJpdG1hcFRleHQgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuQml0bWFwVGV4dCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkJpdG1hcFRleHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGlsaW5nU3ByaXRlLmZyb21GcmFtZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICogQHNlZSBQSVhJLlRpbGluZ1Nwcml0ZS5mcm9tXG4gICAgICovXG4gICAgUElYSS5UaWxpbmdTcHJpdGUuZnJvbUZyYW1lID0gZnVuY3Rpb24gZnJvbUZyYW1lKGZyYW1lSWQsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1RpbGluZ1Nwcml0ZS5mcm9tRnJhbWUgaXMgZGVwcmVjYXRlZCwgdXNlIFRpbGluZ1Nwcml0ZS5mcm9tJyk7XG4gICAgICAgIHJldHVybiBQSVhJLlRpbGluZ1Nwcml0ZS5mcm9tKGZyYW1lSWQsIHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGlsaW5nU3ByaXRlLmZyb21JbWFnZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICogQHNlZSBQSVhJLlRpbGluZ1Nwcml0ZS5mcm9tXG4gICAgICovXG4gICAgUElYSS5UaWxpbmdTcHJpdGUuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlKGltYWdlSWQsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1RpbGluZ1Nwcml0ZS5mcm9tSW1hZ2UgaXMgZGVwcmVjYXRlZCwgdXNlIFRpbGluZ1Nwcml0ZS5mcm9tJyk7XG4gICAgICAgIC8vIEZhbGxiYWNrIHN1cHBvcnQgZm9yIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUgcGFyYW1ldGVyc1xuICAgICAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogYXJndW1lbnRzWzRdLFxuICAgICAgICAgICAgICAgIHJlc291cmNlT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICAgICAgICAgIGNyb3Nzb3JpZ2luOiBhcmd1bWVudHNbM10sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBvcHRpb25zLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgcmV0dXJuIFBJWEkuVGlsaW5nU3ByaXRlLmZyb20oaW1hZ2VJZCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLnV0aWxzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS51dGlscy5nZXRTdmdTaXplXG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuZ2V0U2l6ZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U3ZnU2l6ZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLmdldFN2Z1NpemUgZnVuY3Rpb24gaGFzIG1vdmVkIHRvIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLmdldFNpemUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuZ2V0U2l6ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQWxsIGNsYXNzZXMgb24gdGhpcyBuYW1lc3BhY2UgaGF2ZSBtb3ZlZCB0byB0aGUgaGlnaC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5tZXNoXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLm1lc2ggPSB7fTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLm1lc2gsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guTWVzaFxuICAgICAgICAgKiBAc2VlIFBJWEkuU2ltcGxlTWVzaFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTWVzaDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guTWVzaCBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5TaW1wbGVNZXNoJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU2ltcGxlTWVzaDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLk5pbmVTbGljZVBsYW5lXG4gICAgICAgICAqIEBzZWUgUElYSS5OaW5lU2xpY2VQbGFuZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTmluZVNsaWNlUGxhbmU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLk5pbmVTbGljZVBsYW5lIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLk5pbmVTbGljZVBsYW5lJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTmluZVNsaWNlUGxhbmU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5QbGFuZVxuICAgICAgICAgKiBAc2VlIFBJWEkuU2ltcGxlUGxhbmVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFBsYW5lOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5QbGFuZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5TaW1wbGVQbGFuZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNpbXBsZVBsYW5lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guUm9wZVxuICAgICAgICAgKiBAc2VlIFBJWEkuU2ltcGxlUm9wZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUm9wZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guUm9wZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5TaW1wbGVSb3BlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU2ltcGxlUm9wZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLlJhd01lc2hcbiAgICAgICAgICogQHNlZSBQSVhJLk1lc2hcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFJhd01lc2g6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLlJhd01lc2ggY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTWVzaCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLk1lc2g7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5DYW52YXNNZXNoUmVuZGVyZXJcbiAgICAgICAgICogQHNlZSBQSVhJLkNhbnZhc01lc2hSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQ2FudmFzTWVzaFJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5DYW52YXNNZXNoUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuQ2FudmFzTWVzaFJlbmRlcmVyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQ2FudmFzTWVzaFJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5NZXNoUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIE1lc2hSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guTWVzaFJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLk1lc2hSZW5kZXJlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLk1lc2hSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVGhpcyBuYW1lc3BhY2UgaGFzIGJlZW4gcmVtb3ZlZCBhbmQgaXRlbXMgaGF2ZSBiZWVuIG1vdmVkIHRvXG4gICAgICogdGhlIHRvcC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5wYXJ0aWNsZXNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkucGFydGljbGVzID0ge307XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5wYXJ0aWNsZXMsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuUGFydGljbGVDb250YWluZXJcbiAgICAgICAgICovXG4gICAgICAgIFBhcnRpY2xlQ29udGFpbmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkucGFydGljbGVzLlBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlBhcnRpY2xlQ29udGFpbmVyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuUGFydGljbGVDb250YWluZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkucGFydGljbGVzLlBhcnRpY2xlUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlBhcnRpY2xlUmVuZGVyZXJcbiAgICAgICAgICovXG4gICAgICAgIFBhcnRpY2xlUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5wYXJ0aWNsZXMuUGFydGljbGVSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5QYXJ0aWNsZVJlbmRlcmVyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuUGFydGljbGVSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVGhpcyBuYW1lc3BhY2UgaGFzIGJlZW4gcmVtb3ZlZCBhbmQgaXRlbXMgaGF2ZSBiZWVuIG1vdmVkIHRvXG4gICAgICogdGhlIHRvcC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS50aWNrZXJcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkudGlja2VyID0ge307XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS50aWNrZXIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnRpY2tlci5UaWNrZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRpY2tlclxuICAgICAgICAgKi9cbiAgICAgICAgVGlja2VyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudGlja2VyLlRpY2tlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5UaWNrZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWNrZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS50aWNrZXIuc2hhcmVkXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRpY2tlcn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRpY2tlci5zaGFyZWRcbiAgICAgICAgICovXG4gICAgICAgIHNoYXJlZDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnRpY2tlci5zaGFyZWQgaW5zdGFuY2UgaGFzIG1vdmVkIHRvIFBJWEkuVGlja2VyLnNoYXJlZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRpY2tlci5zaGFyZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEFsbCBjbGFzc2VzIG9uIHRoaXMgbmFtZXNwYWNlIGhhdmUgbW92ZWQgdG8gdGhlIGhpZ2gtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkubG9hZGVyc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS5sb2FkZXJzID0ge307XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5sb2FkZXJzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5sb2FkZXJzLkxvYWRlclxuICAgICAgICAgKiBAc2VlIFBJWEkuTG9hZGVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBMb2FkZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLkxvYWRlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5Mb2FkZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5Mb2FkZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubG9hZGVycy5SZXNvdXJjZVxuICAgICAgICAgKiBAc2VlIFBJWEkuTG9hZGVyUmVzb3VyY2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFJlc291cmNlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5SZXNvdXJjZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5Mb2FkZXJSZXNvdXJjZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkxvYWRlclJlc291cmNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMuYml0bWFwRm9udFBhcnNlclxuICAgICAgICAgKiBAc2VlIFBJWEkuQml0bWFwRm9udExvYWRlci51c2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGJpdG1hcEZvbnRQYXJzZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLmJpdG1hcEZvbnRQYXJzZXIgZnVuY3Rpb24gaGFzIG1vdmVkIHRvIFBJWEkuQml0bWFwRm9udExvYWRlci51c2UnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5CaXRtYXBGb250TG9hZGVyLnVzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLnBhcnNlQml0bWFwRm9udERhdGFcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIHBhcnNlQml0bWFwRm9udERhdGE6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLnBhcnNlQml0bWFwRm9udERhdGEgZnVuY3Rpb24gaGFzIHJlbW92ZWQnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLnNwcml0ZXNoZWV0UGFyc2VyXG4gICAgICAgICAqIEBzZWUgUElYSS5TcHJpdGVzaGVldExvYWRlci51c2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIHNwcml0ZXNoZWV0UGFyc2VyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5zcHJpdGVzaGVldFBhcnNlciBmdW5jdGlvbiBoYXMgbW92ZWQgdG8gUElYSS5TcHJpdGVzaGVldExvYWRlci51c2UnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TcHJpdGVzaGVldExvYWRlci51c2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5nZXRSZXNvdXJjZVBhdGhcbiAgICAgICAgICogQHNlZSBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UmVzb3VyY2VQYXRoOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5nZXRSZXNvdXJjZVBhdGggcHJvcGVydHkgaGFzIG1vdmVkIHRvIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLkxvYWRlci5hZGRQaXhpTWlkZGxld2FyZVxuICAgICAqIEBzZWUgUElYSS5Mb2FkZXIucmVnaXN0ZXJQbHVnaW5cbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG1pZGRsZXdhcmVcbiAgICAgKi9cbiAgICBQSVhJLkxvYWRlci5hZGRQaXhpTWlkZGxld2FyZSA9IGZ1bmN0aW9uIGFkZFBpeGlNaWRkbGV3YXJlKG1pZGRsZXdhcmUpIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuTG9hZGVyLmFkZFBpeGlNaWRkbGV3YXJlIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLmxvYWRlcnMuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luJyk7XG4gICAgICAgIHJldHVybiBQSVhJLmxvYWRlcnMuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKHsgdXNlOiBtaWRkbGV3YXJlKCkgfSk7XG4gICAgfTtcbiAgICAvLyBjb252ZW5pZW5jZSBmb3IgY29udmVydGluZyBldmVudCBuYW1lIHRvIHNpZ25hbCBuYW1lXG4gICAgdmFyIGV2ZW50VG9TaWduYWwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIFwib25cIiArIGV2ZW50LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZXZlbnQuc2xpY2UoMSk7XG4gICAgfTtcbiAgICBPYmplY3QuYXNzaWduKFBJWEkuTG9hZGVyLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlIHRoZSBjb3JyZXNwb25kaW5nIHNpZ25hbCwgZS5nLiwgZXZlbnQgYHN0YXJ0YGAgaXMgc2lnbmFsIGBvblN0YXJ0YC5cbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkxvYWRlciNvblxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgb246IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIHNpZ25hbCA9IGV2ZW50VG9TaWduYWwoZXZlbnQpO1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsIFwiUElYSS5Mb2FkZXIjb24gaXMgY29tcGxldGVseSBkZXByZWNhdGVkLCB1c2UgUElYSS5Mb2FkZXIjXCIgKyBzaWduYWwgKyBcIi5hZGRcIik7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2UgdGhlIGNvcnJlc3BvbmRpbmcgc2lnbmFsLCBlLmcuLCBldmVudCBgc3RhcnRgYCBpcyBzaWduYWwgYG9uU3RhcnRgLlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuTG9hZGVyI29uY2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIG9uY2U6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIHNpZ25hbCA9IGV2ZW50VG9TaWduYWwoZXZlbnQpO1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsIFwiUElYSS5Mb2FkZXIjb25jZSBpcyBjb21wbGV0ZWx5IGRlcHJlY2F0ZWQsIHVzZSBQSVhJLkxvYWRlciNcIiArIHNpZ25hbCArIFwiLm9uY2VcIik7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2UgdGhlIGNvcnJlc3BvbmRpbmcgc2lnbmFsLCBlLmcuLCBldmVudCBgc3RhcnRgYCBpcyBzaWduYWwgYG9uU3RhcnRgLlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuTG9hZGVyI29mZlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgb2ZmOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBzaWduYWwgPSBldmVudFRvU2lnbmFsKGV2ZW50KTtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCBcIlBJWEkuTG9hZGVyI29mZiBpcyBjb21wbGV0ZWx5IGRlcHJlY2F0ZWQsIHVzZSBQSVhJLkxvYWRlciNcIiArIHNpZ25hbCArIFwiLmRldGFjaFwiKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAY2xhc3MgUElYSS5leHRyYWN0LldlYkdMRXh0cmFjdFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkV4dHJhY3RcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5leHRyYWN0LCAnV2ViR0xFeHRyYWN0Jywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5leHRyYWN0LldlYkdMRXh0cmFjdCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuRXh0cmFjdCcpO1xuICAgICAgICAgICAgcmV0dXJuIFBJWEkuRXh0cmFjdDtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAY2xhc3MgUElYSS5wcmVwYXJlLldlYkdMUHJlcGFyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLlByZXBhcmVcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5wcmVwYXJlLCAnV2ViR0xQcmVwYXJlJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5wcmVwYXJlLldlYkdMUHJlcGFyZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5QcmVwYXJlJyk7XG4gICAgICAgICAgICByZXR1cm4gUElYSS5QcmVwYXJlO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Db250YWluZXIjX3JlbmRlcldlYkdMXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5Db250YWluZXIjcmVuZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBJbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS5fcmVuZGVyV2ViR0wgPSBmdW5jdGlvbiBfcmVuZGVyV2ViR0wocmVuZGVyZXIpIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkNvbnRhaW5lci5fcmVuZGVyV2ViR0wgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLkNvbnRhaW5lci5fcmVuZGVyJyk7XG4gICAgICAgIHRoaXMuX3JlbmRlcihyZW5kZXJlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuQ29udGFpbmVyI3JlbmRlcldlYkdMXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQ29udGFpbmVyI3JlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgSW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQ29udGFpbmVyLnJlbmRlcldlYkdMIG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5Db250YWluZXIucmVuZGVyJyk7XG4gICAgICAgIHRoaXMucmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5EaXNwbGF5T2JqZWN0I3JlbmRlcldlYkdMXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuRGlzcGxheU9iamVjdCNyZW5kZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIEluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUElYSS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5EaXNwbGF5T2JqZWN0LnJlbmRlcldlYkdMIG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5EaXNwbGF5T2JqZWN0LnJlbmRlcicpO1xuICAgICAgICB0aGlzLnJlbmRlcihyZW5kZXJlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuQ29udGFpbmVyI3JlbmRlckFkdmFuY2VkV2ViR0xcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5Db250YWluZXIjcmVuZGVyQWR2YW5jZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIEluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUElYSS5Db250YWluZXIucHJvdG90eXBlLnJlbmRlckFkdmFuY2VkV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJBZHZhbmNlZFdlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Db250YWluZXIucmVuZGVyQWR2YW5jZWRXZWJHTCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuQ29udGFpbmVyLnJlbmRlckFkdmFuY2VkJyk7XG4gICAgICAgIHRoaXMucmVuZGVyQWR2YW5jZWQocmVuZGVyZXIpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5zZXR0aW5ncywge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCB0cmFuc2Zvcm0gdHlwZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAgICAgKiBAdHlwZSB7UElYSS5UUkFOU0ZPUk1fTU9ERX1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UUkFOU0ZPUk1fTU9ERS5TVEFUSUNcbiAgICAgICAgICovXG4gICAgICAgIFRSQU5TRk9STV9NT0RFOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuc2V0dGluZ3MuVFJBTlNGT1JNX01PREUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5zZXR0aW5ncy5UUkFOU0ZPUk1fTU9ERSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHZhciBCYXNlVGV4dHVyZUFueSA9IFBJWEkuQmFzZVRleHR1cmU7XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBsb2FkU291cmNlXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQmFzZVRleHR1cmUjXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZUFueS5wcm90b3R5cGUubG9hZFNvdXJjZSA9IGZ1bmN0aW9uIGxvYWRTb3VyY2UoaW1hZ2UpIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmxvYWRTb3VyY2UgbWV0aG9kIGhhcyBiZWVuIGRlcHJlY2F0ZWQnKTtcbiAgICAgICAgdmFyIHJlc291cmNlID0gUElYSS5yZXNvdXJjZXMuYXV0b0RldGVjdFJlc291cmNlKGltYWdlKTtcbiAgICAgICAgcmVzb3VyY2UuaW50ZXJuYWwgPSB0cnVlO1xuICAgICAgICB0aGlzLnNldFJlc291cmNlKHJlc291cmNlKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIHZhciBiYXNlVGV4dHVyZUlkRGVwcmVjYXRpb24gPSBmYWxzZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhCYXNlVGV4dHVyZUFueS5wcm90b3R5cGUsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjaGFzTG9hZGVkXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlI3ZhbGlkXG4gICAgICAgICAqL1xuICAgICAgICBoYXNMb2FkZWQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5oYXNMb2FkZWQgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlIFBJWEkuQmFzZVRleHR1cmUudmFsaWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52YWxpZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkJhc2VUZXh0dXJlI2ltYWdlVXJsXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZXMuSW1hZ2VSZXNvdXJjZSN1cmxcbiAgICAgICAgICovXG4gICAgICAgIGltYWdlVXJsOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmltYWdlVXJsIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLkJhc2VUZXh0dXJlLnJlc291cmNlLnVybCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiAoX2EgPSB0aGlzLnJlc291cmNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudXJsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGltYWdlVXJsKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmltYWdlVXJsIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLkJhc2VUZXh0dXJlLnJlc291cmNlLnVybCcpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb3VyY2UudXJsID0gaW1hZ2VVcmw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjc291cmNlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8U1ZHRWxlbWVudH1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2Ujc291cmNlXG4gICAgICAgICAqL1xuICAgICAgICBzb3VyY2U6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5zb3VyY2UgcHJvcGVydHkgaGFzIGJlZW4gbW92ZWQsIHVzZSBgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS5zb3VyY2VgJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2Uuc291cmNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5zb3VyY2UgcHJvcGVydHkgaGFzIGJlZW4gbW92ZWQsIHVzZSBgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS5zb3VyY2VgICdcbiAgICAgICAgICAgICAgICAgICAgKyAnaWYgeW91IHdhbnQgdG8gc2V0IEhUTUxDYW52YXNFbGVtZW50LiBPdGhlcndpc2UsIGNyZWF0ZSBuZXcgQmFzZVRleHR1cmUuJyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjcHJlbXVsdGlwbHlBbHBoYVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZSNhbHBoYU1vZGVcbiAgICAgICAgICovXG4gICAgICAgIHByZW11bHRpcGx5QWxwaGE6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLkJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEgcHJvcGVydHkgaGFzIGJlZW4gY2hhbmdlZCB0byBgYWxwaGFNb2RlYCdcbiAgICAgICAgICAgICAgICAgICAgKyAnLCBzZWUgYFBJWEkuQUxQSEFfTU9ERVNgJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWxwaGFNb2RlICE9PSAwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4wJywgJ1BJWEkuQmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSBwcm9wZXJ0eSBoYXMgYmVlbiBjaGFuZ2VkIHRvIGBhbHBoYU1vZGVgJ1xuICAgICAgICAgICAgICAgICAgICArICcsIHNlZSBgUElYSS5BTFBIQV9NT0RFU2AnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFscGhhTW9kZSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQmF0Y2ggbG9jYWwgZmllbGQsIHN0b3JlcyBjdXJyZW50IHRleHR1cmUgbG9jYXRpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG5hbWUgUElYSS5CYXNlVGV4dHVyZSNfaWRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjBcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlI19iYXRjaExvY2F0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICghYmFzZVRleHR1cmVJZERlcHJlY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICNwb3BlbHlzaGV2OiBUaGF0IHByb3BlcnR5IHdhcyBhIGhvdCBwbGFjZSwgSSBkb24ndCB3YW50IHRvIGNhbGwgZGVwcmVjYXRpb24gbWV0aG9kIG9uIGl0IGlmIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLkJhc2VUZXh0dXJlLl9pZCBiYXRjaCBsb2NhbCBmaWVsZCBoYXMgYmVlbiBjaGFuZ2VkIHRvIGBfYmF0Y2hMb2NhdGlvbmAnKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleHR1cmVJZERlcHJlY2F0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JhdGNoTG9jYXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9iYXRjaExvY2F0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZnJvbUltYWdlXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJhc2VUZXh0dXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUuZnJvbVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlQW55LmZyb21JbWFnZSA9IGZ1bmN0aW9uIGZyb21JbWFnZShjYW52YXMsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUsIHNjYWxlKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5mcm9tSW1hZ2UgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5CYXNlVGV4dHVyZS5mcm9tJyk7XG4gICAgICAgIHZhciByZXNvdXJjZU9wdGlvbnMgPSB7IHNjYWxlOiBzY2FsZSwgY3Jvc3NvcmlnaW46IGNyb3Nzb3JpZ2luIH07XG4gICAgICAgIHJldHVybiBCYXNlVGV4dHVyZUFueS5mcm9tKGNhbnZhcywgeyBzY2FsZU1vZGU6IHNjYWxlTW9kZSwgcmVzb3VyY2VPcHRpb25zOiByZXNvdXJjZU9wdGlvbnMgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGZyb21DYW52YXNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQmFzZVRleHR1cmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZS5mcm9tXG4gICAgICovXG4gICAgQmFzZVRleHR1cmVBbnkuZnJvbUNhbnZhcyA9IGZ1bmN0aW9uIGZyb21DYW52YXMoY2FudmFzLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmZyb21DYW52YXMgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5CYXNlVGV4dHVyZS5mcm9tJyk7XG4gICAgICAgIHJldHVybiBCYXNlVGV4dHVyZUFueS5mcm9tKGNhbnZhcywgeyBzY2FsZU1vZGU6IHNjYWxlTW9kZSB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZnJvbVNWR1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5CYXNlVGV4dHVyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlLmZyb21cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZUFueS5mcm9tU1ZHID0gZnVuY3Rpb24gZnJvbVNWRyhjYW52YXMsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUsIHNjYWxlKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5mcm9tU1ZHIG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuQmFzZVRleHR1cmUuZnJvbScpO1xuICAgICAgICB2YXIgcmVzb3VyY2VPcHRpb25zID0geyBzY2FsZTogc2NhbGUsIGNyb3Nzb3JpZ2luOiBjcm9zc29yaWdpbiB9O1xuICAgICAgICByZXR1cm4gQmFzZVRleHR1cmVBbnkuZnJvbShjYW52YXMsIHsgc2NhbGVNb2RlOiBzY2FsZU1vZGUsIHJlc291cmNlT3B0aW9uczogcmVzb3VyY2VPcHRpb25zIH0pO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5yZXNvdXJjZXMuSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2UjcHJlbXVsdGlwbHlBbHBoYVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZXMuSW1hZ2VSZXNvdXJjZSNhbHBoYU1vZGVcbiAgICAgICAgICovXG4gICAgICAgIHByZW11bHRpcGx5QWxwaGE6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlLnByZW11bHRpcGx5QWxwaGEgcHJvcGVydHkgJ1xuICAgICAgICAgICAgICAgICAgICArICdoYXMgYmVlbiBjaGFuZ2VkIHRvIGBhbHBoYU1vZGVgLCBzZWUgYFBJWEkuQUxQSEFfTU9ERVNgJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWxwaGFNb2RlICE9PSAwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4wJywgJ1BJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2UucHJlbXVsdGlwbHlBbHBoYSBwcm9wZXJ0eSAnXG4gICAgICAgICAgICAgICAgICAgICsgJ2hhcyBiZWVuIGNoYW5nZWQgdG8gYGFscGhhTW9kZWAsIHNlZSBgUElYSS5BTFBIQV9NT0RFU2AnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFscGhhTW9kZSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Qb2ludCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuUG9pbnQjY29weUZyb21cbiAgICAgKi9cbiAgICBQSVhJLlBvaW50LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Qb2ludC5jb3B5IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuUG9pbnQuY29weUZyb20nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29weUZyb20ocCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuT2JzZXJ2YWJsZVBvaW50I2NvcHlcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5PYnNlcnZhYmxlUG9pbnQjY29weUZyb21cbiAgICAgKi9cbiAgICBQSVhJLk9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocCkge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuT2JzZXJ2YWJsZVBvaW50LmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5PYnNlcnZhYmxlUG9pbnQuY29weUZyb20nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29weUZyb20ocCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuUmVjdGFuZ2xlI2NvcHlcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5SZWN0YW5nbGUjY29weUZyb21cbiAgICAgKi9cbiAgICBQSVhJLlJlY3RhbmdsZS5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocCkge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVjdGFuZ2xlLmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5SZWN0YW5nbGUuY29weUZyb20nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29weUZyb20ocCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuTWF0cml4I2NvcHlcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5NYXRyaXgjY29weVRvXG4gICAgICovXG4gICAgUElYSS5NYXRyaXgucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLk1hdHJpeC5jb3B5IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuTWF0cml4LmNvcHlUbycpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb3B5VG8ocCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuc3lzdGVtcy5TdGF0ZVN5c3RlbSNzZXRTdGF0ZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMS4wXG4gICAgICogQHNlZSBQSVhJLnN5c3RlbXMuU3RhdGVTeXN0ZW0jc2V0XG4gICAgICovXG4gICAgUElYSS5zeXN0ZW1zLlN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIHNldFN0YXRlKHMpIHtcbiAgICAgICAgZGVwcmVjYXRpb24oJ3Y1LjEuMCcsICdTdGF0ZVN5c3RlbS5zZXRTdGF0ZSBoYXMgYmVlbiByZW5hbWVkIHRvIFN0YXRlU3lzdGVtLnNldCcpO1xuICAgICAgICByZXR1cm4gdGhpcy5zZXQocyk7XG4gICAgfTtcbiAgICBPYmplY3QuYXNzaWduKFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuRmlsdGVyTWFuYWdlciNnZXRSZW5kZXJUYXJnZXRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI2dldEZpbHRlclRleHR1cmVcbiAgICAgICAgICovXG4gICAgICAgIGdldFJlbmRlclRhcmdldDogZnVuY3Rpb24gKF9jbGVhciwgcmVzb2x1dGlvbikge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkZpbHRlck1hbmFnZXIuZ2V0UmVuZGVyVGFyZ2V0IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0jZ2V0RmlsdGVyVGV4dHVyZScpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmlsdGVyVGV4dHVyZShudWxsLCByZXNvbHV0aW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5GaWx0ZXJNYW5hZ2VyI3JldHVyblJlbmRlclRhcmdldFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0jcmV0dXJuRmlsdGVyVGV4dHVyZVxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuUmVuZGVyVGFyZ2V0OiBmdW5jdGlvbiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkZpbHRlck1hbmFnZXIucmV0dXJuUmVuZGVyVGFyZ2V0IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoICdcbiAgICAgICAgICAgICAgICArICdQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtLnJldHVybkZpbHRlclRleHR1cmUnKTtcbiAgICAgICAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSB0aGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAgICAgKi9cbiAgICAgICAgY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXg6IGZ1bmN0aW9uIChvdXRwdXRNYXRyaXgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbS5jYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeCBtZXRob2QgaXMgcmVtb3ZlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBgKHZUZXh0dXJlQ29vcmQgKiBpbnB1dFNpemUueHkpICsgb3V0cHV0RnJhbWUueHlgIGluc3RlYWQnKTtcbiAgICAgICAgICAgIHZhciBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguaWRlbnRpdHkoKTtcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMuYWN0aXZlU3RhdGUsIHNvdXJjZUZyYW1lID0gX2Euc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUgPSBfYS5kZXN0aW5hdGlvbkZyYW1lO1xuICAgICAgICAgICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzb3VyY2VGcmFtZS54IC8gZGVzdGluYXRpb25GcmFtZS53aWR0aCwgc291cmNlRnJhbWUueSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIG1hcHBlZE1hdHJpeC5zY2FsZShkZXN0aW5hdGlvbkZyYW1lLndpZHRoLCBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI2NhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAgICAgKi9cbiAgICAgICAgY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4OiBmdW5jdGlvbiAob3V0cHV0TWF0cml4KSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuc3lzdGVtcy5GaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeCBtZXRob2QgaXMgcmVtb3ZlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBgKCh2VGV4dHVyZUNvb3JkICogaW5wdXRTaXplLnh5KSArIG91dHB1dEZyYW1lLnh5KSAvIG91dHB1dEZyYW1lLnp3YCBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5hY3RpdmVTdGF0ZSwgc291cmNlRnJhbWUgPSBfYS5zb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSA9IF9hLmRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgICAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LmlkZW50aXR5KCk7XG4gICAgICAgICAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKHNvdXJjZUZyYW1lLnggLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoLCBzb3VyY2VGcmFtZS55IC8gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVNjYWxlWCA9IChkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gc291cmNlRnJhbWUud2lkdGgpO1xuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVNjYWxlWSA9IChkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHNvdXJjZUZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICBtYXBwZWRNYXRyaXguc2NhbGUodHJhbnNsYXRlU2NhbGVYLCB0cmFuc2xhdGVTY2FsZVkpO1xuICAgICAgICAgICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLlJlbmRlclRleHR1cmUucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJlbmRlclRleHR1cmUjc291cmNlRnJhbWVcbiAgICAgICAgICogQHR5cGUge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHNvdXJjZUZyYW1lOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVuZGVyVGV4dHVyZS5zb3VyY2VGcmFtZSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyRnJhbWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5SZW5kZXJUZXh0dXJlI3NpemVcbiAgICAgICAgICogQHR5cGUge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5SZW5kZXJUZXh0dXJlLnNpemUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mcmFtZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQGNsYXNzIEJsdXJYRmlsdGVyXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3NcbiAgICAgKi9cbiAgICB2YXIgQmx1clhGaWx0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhCbHVyWEZpbHRlciwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gQmx1clhGaWx0ZXIoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZmlsdGVycy5CbHVyWEZpbHRlciBjbGFzcyBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzJyk7XG4gICAgICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRydWUsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKSB8fCB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBCbHVyWEZpbHRlcjtcbiAgICB9KFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzcykpO1xuICAgIC8qKlxuICAgICAqIEBjbGFzcyBCbHVyWUZpbHRlclxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzXG4gICAgICovXG4gICAgdmFyIEJsdXJZRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICBfX2V4dGVuZHMoQmx1cllGaWx0ZXIsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIEJsdXJZRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmZpbHRlcnMuQmx1cllGaWx0ZXIgY2xhc3MgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzcycpO1xuICAgICAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBmYWxzZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpIHx8IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEJsdXJZRmlsdGVyO1xuICAgIH0oUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzKSk7XG4gICAgT2JqZWN0LmFzc2lnbihQSVhJLmZpbHRlcnMsIHtcbiAgICAgICAgQmx1clhGaWx0ZXI6IEJsdXJYRmlsdGVyLFxuICAgICAgICBCbHVyWUZpbHRlcjogQmx1cllGaWx0ZXIsXG4gICAgfSk7XG4gICAgdmFyIFNwcml0ZUFueSA9IFBJWEkuU3ByaXRlLCBUZXh0dXJlQW55ID0gUElYSS5UZXh0dXJlLCBHcmFwaGljc0FueSA9IFBJWEkuR3JhcGhpY3M7XG4gICAgLy8gU3VwcG9ydCBmb3IgcGl4aS5qcy1sZWdhY3kgYmlmdXJjYXRpb25cbiAgICAvLyBnaXZlIHVzZXJzIGEgZnJpZW5kbHkgYXNzaXN0IHRvIHVzZSBsZWdhY3lcbiAgICBpZiAoIUdyYXBoaWNzQW55LnByb3RvdHlwZS5nZW5lcmF0ZUNhbnZhc1RleHR1cmUpIHtcbiAgICAgICAgR3JhcGhpY3NBbnkucHJvdG90eXBlLmdlbmVyYXRlQ2FudmFzVGV4dHVyZSA9IGZ1bmN0aW9uIGdlbmVyYXRlQ2FudmFzVGV4dHVyZSgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5HcmFwaGljcy5nZW5lcmF0ZUNhbnZhc1RleHR1cmUgbWV0aG9kIGlzIG9ubHkgYXZhaWxhYmxlIGluIFwicGl4aS5qcy1sZWdhY3lcIicpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3N9IFBJWEkuR3JhcGhpY3MjZ3JhcGhpY3NEYXRhXG4gICAgICogQHNlZSBQSVhJLkdyYXBoaWNzI2dlb21ldHJ5XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyYXBoaWNzQW55LnByb3RvdHlwZSwgJ2dyYXBoaWNzRGF0YScsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuR3JhcGhpY3MuZ3JhcGhpY3NEYXRhIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLkdyYXBoaWNzLmdlb21ldHJ5LmdyYXBoaWNzRGF0YScpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ3JhcGhpY3NEYXRhO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8vIFVzZSB0aGVzZSB0byBkZXByZWNhdGUgYWxsIHRoZSBTcHJpdGUgZnJvbSogbWV0aG9kc1xuICAgIGZ1bmN0aW9uIHNwcml0ZUZyb20obmFtZSwgc291cmNlLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCBcIlBJWEkuU3ByaXRlLlwiICsgbmFtZSArIFwiIG1ldGhvZCBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5TcHJpdGUuZnJvbVwiKTtcbiAgICAgICAgcmV0dXJuIFNwcml0ZUFueS5mcm9tKHNvdXJjZSwge1xuICAgICAgICAgICAgcmVzb3VyY2VPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlTW9kZSxcbiAgICAgICAgICAgICAgICBjcm9zc29yaWdpbjogY3Jvc3NvcmlnaW4sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAbWV0aG9kIFBJWEkuU3ByaXRlLmZyb21JbWFnZVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZUFueS5mcm9tSW1hZ2UgPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21JbWFnZScpO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tU1ZHXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlQW55LmZyb21TVkcgPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21TVkcnKTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbUNhbnZhc1xuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZUFueS5mcm9tQ2FudmFzID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tQ2FudmFzJyk7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuU3ByaXRlLmZyb21WaWRlb1xuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZUFueS5mcm9tVmlkZW8gPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21WaWRlbycpO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tRnJhbWVcbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGVBbnkuZnJvbUZyYW1lID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tRnJhbWUnKTtcbiAgICAvLyBVc2UgdGhlc2UgdG8gZGVwcmVjYXRlIGFsbCB0aGUgVGV4dHVyZSBmcm9tKiBtZXRob2RzXG4gICAgZnVuY3Rpb24gdGV4dHVyZUZyb20obmFtZSwgc291cmNlLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCBcIlBJWEkuVGV4dHVyZS5cIiArIG5hbWUgKyBcIiBtZXRob2QgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuVGV4dHVyZS5mcm9tXCIpO1xuICAgICAgICByZXR1cm4gVGV4dHVyZUFueS5mcm9tKHNvdXJjZSwge1xuICAgICAgICAgICAgcmVzb3VyY2VPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlTW9kZSxcbiAgICAgICAgICAgICAgICBjcm9zc29yaWdpbjogY3Jvc3NvcmlnaW4sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2VcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmVBbnkuZnJvbUltYWdlID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbUltYWdlJyk7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tU1ZHXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlQW55LmZyb21TVkcgPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tU1ZHJyk7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tQ2FudmFzXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlQW55LmZyb21DYW52YXMgPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tQ2FudmFzJyk7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tVmlkZW9cbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmVBbnkuZnJvbVZpZGVvID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbVZpZGVvJyk7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tRnJhbWVcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmVBbnkuZnJvbUZyYW1lID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbUZyYW1lJyk7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufSBQSVhJLkFic3RyYWN0UmVuZGVyZXIjYXV0b1Jlc2l6ZVxuICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdFJlbmRlcmVyI2F1dG9EZW5zaXR5XG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkuQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUsICdhdXRvUmVzaXplJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5BYnN0cmFjdFJlbmRlcmVyLmF1dG9SZXNpemUgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBQSVhJLkFic3RyYWN0UmVuZGVyZXIuYXV0b0RlbnNpdHknKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF1dG9EZW5zaXR5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkFic3RyYWN0UmVuZGVyZXIuYXV0b1Jlc2l6ZSBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIFBJWEkuQWJzdHJhY3RSZW5kZXJlci5hdXRvRGVuc2l0eScpO1xuICAgICAgICAgICAgdGhpcy5hdXRvRGVuc2l0eSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlRleHR1cmVTeXN0ZW19IFBJWEkuUmVuZGVyZXIjdGV4dHVyZU1hbmFnZXJcbiAgICAgKiBAc2VlIFBJWEkuUmVuZGVyZXIjdGV4dHVyZVxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLlJlbmRlcmVyLnByb3RvdHlwZSwgJ3RleHR1cmVNYW5hZ2VyJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5SZW5kZXJlci50ZXh0dXJlTWFuYWdlciBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5SZW5kZXJlci50ZXh0dXJlJyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0dXJlO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS51dGlscy5taXhpbnNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkudXRpbHMubWl4aW5zID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICAgICAqIEBmdW5jdGlvbiBtaXhpblxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgbWl4aW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5taXhpbnMubWl4aW4gZnVuY3Rpb24gaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZScpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICAgICAqIEBmdW5jdGlvbiBkZWxheU1peGluXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBkZWxheU1peGluOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMubWl4aW5zLmRlbGF5TWl4aW4gZnVuY3Rpb24gaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZScpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICAgICAqIEBmdW5jdGlvbiBwZXJmb3JtTWl4aW5zXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBwZXJmb3JtTWl4aW5zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMubWl4aW5zLnBlcmZvcm1NaXhpbnMgZnVuY3Rpb24gaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZScpO1xuICAgICAgICB9LFxuICAgIH07XG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQml0bWFwVGV4dFxuICAgICAqIEBtZW1iZXIge29iamVjdH0gZm9udFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkuQml0bWFwVGV4dC5wcm90b3R5cGUsICdmb250Jywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLkJpdG1hcFRleHQuZm9udCBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIGZvbnROYW1lLCBmb250U2l6ZSwgdGludCBvciBhbGlnbiBwcm9wZXJ0aWVzJyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuX2ZvbnROYW1lLFxuICAgICAgICAgICAgICAgIHNpemU6IHRoaXMuX2ZvbnRTaXplLFxuICAgICAgICAgICAgICAgIHRpbnQ6IHRoaXMuX3RpbnQsXG4gICAgICAgICAgICAgICAgYWxpZ246IHRoaXMuX2FsaWduLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLkJpdG1hcFRleHQuZm9udCBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIGZvbnROYW1lLCBmb250U2l6ZSwgdGludCBvciBhbGlnbiBwcm9wZXJ0aWVzJyk7XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN0eWxlID0geyBmb250OiB2YWx1ZSB9O1xuICAgICAgICAgICAgdGhpcy5fdXBncmFkZVN0eWxlKHN0eWxlKTtcbiAgICAgICAgICAgIHN0eWxlLmZvbnRTaXplID0gc3R5bGUuZm9udFNpemUgfHwgUElYSS5CaXRtYXBGb250LmF2YWlsYWJsZVtzdHlsZS5mb250TmFtZV0uc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnROYW1lID0gc3R5bGUuZm9udE5hbWU7XG4gICAgICAgICAgICB0aGlzLl9mb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5cbi8vIEluc3RhbGwgcmVuZGVyZXIgcGx1Z2luc1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2FjY2Vzc2liaWxpdHknLCBBY2Nlc3NpYmlsaXR5TWFuYWdlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignZXh0cmFjdCcsIEV4dHJhY3QpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2ludGVyYWN0aW9uJywgSW50ZXJhY3Rpb25NYW5hZ2VyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdwYXJ0aWNsZScsIFBhcnRpY2xlUmVuZGVyZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3ByZXBhcmUnLCBQcmVwYXJlKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdiYXRjaCcsIEJhdGNoUmVuZGVyZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3RpbGluZ1Nwcml0ZScsIFRpbGluZ1Nwcml0ZVJlbmRlcmVyKTtcbkxvYWRlci5yZWdpc3RlclBsdWdpbihCaXRtYXBGb250TG9hZGVyKTtcbkxvYWRlci5yZWdpc3RlclBsdWdpbihTcHJpdGVzaGVldExvYWRlcik7XG5BcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihUaWNrZXJQbHVnaW4pO1xuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oQXBwTG9hZGVyUGx1Z2luKTtcbi8qKlxuICogU3RyaW5nIG9mIHRoZSBjdXJyZW50IFBJWEkgdmVyc2lvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBWRVJTSU9OXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG52YXIgVkVSU0lPTiA9ICc1LjMuMyc7XG4vKipcbiAqIEBuYW1lc3BhY2UgUElYSVxuICovXG4vKipcbiAqIFRoaXMgbmFtZXNwYWNlIGNvbnRhaW5zIFdlYkdMLW9ubHkgZGlzcGxheSBmaWx0ZXJzIHRoYXQgY2FuIGJlIGFwcGxpZWRcbiAqIHRvIERpc3BsYXlPYmplY3RzIHVzaW5nIHRoZSB7QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2ZpbHRlcnMgZmlsdGVyc30gcHJvcGVydHkuXG4gKlxuICogU2luY2UgUGl4aUpTIG9ubHkgaGFkIGEgaGFuZGZ1bCBvZiBidWlsdC1pbiBmaWx0ZXJzLCBhZGRpdGlvbmFsIGZpbHRlcnNcbiAqIGNhbiBiZSBkb3dubG9hZGVkIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZmlsdGVycyBoZXJlfSBmcm9tIHRoZVxuICogUGl4aUpTIEZpbHRlcnMgcmVwb3NpdG9yeS5cbiAqXG4gKiBBbGwgZmlsdGVycyBtdXN0IGV4dGVuZCB7QGxpbmsgUElYSS5GaWx0ZXJ9LlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBuZXcgYXBwbGljYXRpb25cbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKlxuICogLy8gRHJhdyBhIGdyZWVuIHJlY3RhbmdsZVxuICogY29uc3QgcmVjdCA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAqICAgICAuYmVnaW5GaWxsKDB4MDBmZjAwKVxuICogICAgIC5kcmF3UmVjdCg0MCwgNDAsIDIwMCwgMjAwKTtcbiAqXG4gKiAvLyBBZGQgYSBibHVyIGZpbHRlclxuICogcmVjdC5maWx0ZXJzID0gW25ldyBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlcigpXTtcbiAqXG4gKiAvLyBEaXNwbGF5IHJlY3RhbmdsZVxuICogYXBwLnN0YWdlLmFkZENoaWxkKHJlY3QpO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XG4gKiBAbmFtZXNwYWNlIFBJWEkuZmlsdGVyc1xuICovXG52YXIgZmlsdGVycyA9IHtcbiAgICBBbHBoYUZpbHRlcjogQWxwaGFGaWx0ZXIsXG4gICAgQmx1ckZpbHRlcjogQmx1ckZpbHRlcixcbiAgICBCbHVyRmlsdGVyUGFzczogQmx1ckZpbHRlclBhc3MsXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXI6IENvbG9yTWF0cml4RmlsdGVyLFxuICAgIERpc3BsYWNlbWVudEZpbHRlcjogRGlzcGxhY2VtZW50RmlsdGVyLFxuICAgIEZYQUFGaWx0ZXI6IEZYQUFGaWx0ZXIsXG4gICAgTm9pc2VGaWx0ZXI6IE5vaXNlRmlsdGVyLFxufTtcblxuZXhwb3J0IHsgVkVSU0lPTiwgZmlsdGVycywgdXNlRGVwcmVjYXRlZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGl4aS5lcy5qcy5tYXBcbiIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XG5cbi8vIFRoZSBhcHBsaWNhdGlvbiB3aWxsIGNyZWF0ZSBhIHJlbmRlcmVyIHVzaW5nIFdlYkdMLCBpZiBwb3NzaWJsZSxcbi8vIHdpdGggYSBmYWxsYmFjayB0byBhIGNhbnZhcyByZW5kZXIuIEl0IHdpbGwgYWxzbyBzZXR1cCB0aGUgdGlja2VyXG4vLyBhbmQgdGhlIHJvb3Qgc3RhZ2UgUElYSS5Db250YWluZXJcbmNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG5cbi8vIFRoZSBhcHBsaWNhdGlvbiB3aWxsIGNyZWF0ZSBhIGNhbnZhcyBlbGVtZW50IGZvciB5b3UgdGhhdCB5b3Vcbi8vIGNhbiB0aGVuIGluc2VydCBpbnRvIHRoZSBET01cbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuXG4vLyBsb2FkIHRoZSB0ZXh0dXJlIHdlIG5lZWRcbmFwcC5sb2FkZXIuYWRkKCdidW5ueScsICdidW5ueS5wbmcnKS5sb2FkKChsb2FkZXIsIHJlc291cmNlcykgPT4ge1xuICAgIC8vIFRoaXMgY3JlYXRlcyBhIHRleHR1cmUgZnJvbSBhICdidW5ueS5wbmcnIGltYWdlXG4gICAgY29uc3QgYnVubnkgPSBuZXcgUElYSS5TcHJpdGUocmVzb3VyY2VzLmJ1bm55LnRleHR1cmUpO1xuXG4gICAgLy8gU2V0dXAgdGhlIHBvc2l0aW9uIG9mIHRoZSBidW5ueVxuICAgIGJ1bm55LnggPSBhcHAucmVuZGVyZXIud2lkdGggLyAyO1xuICAgIGJ1bm55LnkgPSBhcHAucmVuZGVyZXIuaGVpZ2h0IC8gMjtcblxuICAgIC8vIFJvdGF0ZSBhcm91bmQgdGhlIGNlbnRlclxuICAgIGJ1bm55LmFuY2hvci54ID0gMC41O1xuICAgIGJ1bm55LmFuY2hvci55ID0gMC41O1xuXG4gICAgLy8gQWRkIHRoZSBidW5ueSB0byB0aGUgc2NlbmUgd2UgYXJlIGJ1aWxkaW5nXG4gICAgYXBwLnN0YWdlLmFkZENoaWxkKGJ1bm55KTtcblxuICAgIC8vIExpc3RlbiBmb3IgZnJhbWUgdXBkYXRlc1xuICAgIGFwcC50aWNrZXIuYWRkKCgpID0+IHtcbiAgICAgICAgIC8vIGVhY2ggZnJhbWUgd2Ugc3BpbiB0aGUgYnVubnkgYXJvdW5kIGEgYml0XG4gICAgICAgIGJ1bm55LnJvdGF0aW9uICs9IDAuMDE7XG4gICAgfSk7XG59KTsiXSwic291cmNlUm9vdCI6IiJ9