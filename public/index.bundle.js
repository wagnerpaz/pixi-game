/*! For license information please see index.bundle.js.LICENSE.txt */
(()=>{var t={54:(t,e,i)=>{"use strict";var r,n,o,s,a,l,h,u,f,d,p,c,x,y,m,g,v;i.r(e),i.d(e,{ALPHA_MODES:()=>c,BLEND_MODES:()=>s,BUFFER_BITS:()=>o,CLEAR_MODES:()=>x,DRAW_MODES:()=>a,ENV:()=>r,FORMATS:()=>l,GC_MODES:()=>y,MASK_TYPES:()=>g,MIPMAP_MODES:()=>p,MSAA_QUALITY:()=>v,PRECISION:()=>m,RENDERER_TYPE:()=>n,SCALE_MODES:()=>f,TARGETS:()=>h,TYPES:()=>u,WRAP_MODES:()=>d}),function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(r||(r={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(n||(n={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(o||(o={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(s||(s={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(a||(a={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(l||(l={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(h||(h={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(u||(u={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(f||(f={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(d||(d={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(p||(p={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(c||(c={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(x||(x={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(y||(y={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(m||(m={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(g||(g={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(v||(v={}))},307:(t,e,i)=>{"use strict";i.r(e),i.d(e,{AbstractBatchRenderer:()=>pe,AbstractRenderer:()=>oe,Attribute:()=>B,BaseRenderTexture:()=>O,BaseTexture:()=>y,BatchDrawCall:()=>ue,BatchGeometry:()=>xe,BatchPluginFactory:()=>ge,BatchRenderer:()=>ve,BatchShaderGenerator:()=>ce,BatchTextureArray:()=>fe,Buffer:()=>U,Filter:()=>Lt,FilterState:()=>Z,Framebuffer:()=>A,GLFramebuffer:()=>it,GLProgram:()=>Kt,GLTexture:()=>ee,Geometry:()=>Y,IGLUniformData:()=>qt,MaskData:()=>lt,ObjectRenderer:()=>Q,Program:()=>Mt,Quad:()=>V,QuadUv:()=>W,RenderTexture:()=>L,RenderTexturePool:()=>N,Renderer:()=>se,Shader:()=>Dt,SpriteMaskFilter:()=>Ft,State:()=>Rt,System:()=>X,Texture:()=>D,TextureMatrix:()=>Bt,TextureUvs:()=>C,UniformGroup:()=>K,ViewableBuffer:()=>de,autoDetectRenderer:()=>ae,checkMaxIfStatementsInShader:()=>At,defaultFilterVertex:()=>he,defaultVertex:()=>le,resources:()=>P,systems:()=>re,uniformParsers:()=>wt});var r=i(264),n=i(54),o=i(323),s=i(557),a=i(662),l=i(295);r.X.PREFER_ENV=o.isMobile.any?n.ENV.WEBGL:n.ENV.WEBGL2,r.X.STRICT_TEXTURE_CACHE=!1;var h=[];function u(t,e){if(!t)return null;var i="";if("string"==typeof t){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(i=r[1].toLowerCase())}for(var n=h.length-1;n>=0;--n){var o=h[n];if(o.test&&o.test(t,i))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function d(t,e){function i(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var p=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new s.R("setRealSize"),this.onUpdate=new s.R("update"),this.onError=new s.R("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,i){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),c=function(t){function e(e,i){var r=this,n=i||{},o=n.width,s=n.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return(r=t.call(this,o,s)||this).data=e,r}return d(e,t),e.prototype.upload=function(t,e,i){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===n.ALPHA_MODES.UNPACK),i.width===e.width&&i.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,r.texImage2D(e.target,0,i.internalFormat,e.width,e.height,0,e.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(p),x={scaleMode:n.SCALE_MODES.NEAREST,format:n.FORMATS.RGBA,alphaMode:n.ALPHA_MODES.NPM},y=function(t){function e(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var s=t.call(this)||this,a=(i=i||{}).alphaMode,l=i.mipmap,h=i.anisotropicLevel,f=i.scaleMode,d=i.width,c=i.height,x=i.wrapMode,y=i.format,m=i.type,g=i.target,v=i.resolution,_=i.resourceOptions;return!e||e instanceof p||((e=u(e,_)).internal=!0),s.width=d||0,s.height=c||0,s.resolution=v||r.X.RESOLUTION,s.mipmap=void 0!==l?l:r.X.MIPMAP_TEXTURES,s.anisotropicLevel=void 0!==h?h:r.X.ANISOTROPIC_LEVEL,s.wrapMode=x||r.X.WRAP_MODE,s.scaleMode=void 0!==f?f:r.X.SCALE_MODE,s.format=y||n.FORMATS.RGBA,s.type=m||n.TYPES.UNSIGNED_BYTE,s.target=g||n.TARGETS.TEXTURE_2D,s.alphaMode=void 0!==a?a:n.ALPHA_MODES.UNPACK,void 0!==i.premultiplyAlpha&&(s.premultiplyAlpha=i.premultiplyAlpha),s.uid=(0,o.uid)(),s.touched=0,s.isPowerOfTwo=!1,s._refreshPOT(),s._glTextures={},s.dirtyId=0,s.dirtyStyleId=0,s.cacheId=null,s.valid=d>0&&c>0,s.textureCacheIds=[],s.destroyed=!1,s.resource=null,s._batchEnabled=0,s._batchLocation=0,s.parentTextureArray=null,s.setResource(e),s}return d(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var i;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=(0,o.isPow2)(this.realWidth)&&(0,o.isPow2)(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete o.BaseTextureCache[this.cacheId],delete o.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,i,n){void 0===n&&(n=r.X.STRICT_TEXTURE_CACHE);var s="string"==typeof t,a=null;s?a=t:(t._pixiId||(t._pixiId="pixiid_"+(0,o.uid)()),a=t._pixiId);var l=o.BaseTextureCache[a];if(s&&n&&!l)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return l||((l=new e(t,i)).cacheId=a,e.addToCache(l,a)),l},e.fromBuffer=function(t,i,r,o){t=t||new Float32Array(i*r*4);var s=new c(t,{width:i,height:r}),a=t instanceof Float32Array?n.TYPES.FLOAT:n.TYPES.UNSIGNED_BYTE;return new e(s,Object.assign(x,o||{width:i,height:r,type:a}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),o.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),o.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=o.BaseTextureCache[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete o.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete o.BaseTextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(o.EventEmitter),m=function(t){function e(e,i){var r=this,n=i||{},o=n.width,s=n.height;(r=t.call(this,o,s)||this).items=[],r.itemDirtyIds=[];for(var a=0;a<e;a++){var l=new y;r.items.push(l),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return d(e,t),e.prototype.initFromArray=function(t,e){for(var i=0;i<this.length;i++)t[i]&&(t[i].castToBaseTexture?this.addBaseTextureAt(t[i].castToBaseTexture(),i):t[i]instanceof p?this.addResourceAt(t[i],i):this.addResourceAt(u(t[i],e),i))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=e,this.items[i].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],i=e.realWidth,r=e.realHeight;return t.resize(i,r),Promise.resolve(t)})),this._load},e}(p),g=function(t){function e(e,i){var r,n,o=this,s=i||{},a=s.width,l=s.height;return Array.isArray(e)?(r=e,n=e.length):n=e,o=t.call(this,n,{width:a,height:l})||this,r&&o.initFromArray(r,i),o}return d(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=n.TARGETS.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,i){var r=this,n=r.length,o=r.itemDirtyIds,s=r.items,a=t.gl;i.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,n,0,e.format,e.type,null);for(var l=0;l<n;l++){var h=s[l];o[l]<h.dirtyId&&(o[l]=h.dirtyId,h.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,h.resource.width,h.resource.height,1,e.format,e.type,h.resource.source))}return!0},e}(m),v=function(t){function e(e){var i=this,r=e,n=r.naturalWidth||r.videoWidth||r.width,o=r.naturalHeight||r.videoHeight||r.height;return(i=t.call(this,n,o)||this).source=e,i.noSubImage=!1,i}return d(e,t),e.crossOrigin=function(t,e,i){void 0===i&&0!==e.indexOf("data:")?t.crossOrigin=(0,o.determineCrossOrigin)(e):!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous")},e.prototype.upload=function(t,e,i,r){var o=t.gl,s=e.realWidth,a=e.realHeight;return r=r||this.source,o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===n.ALPHA_MODES.UNPACK),this.noSubImage||e.target!==o.TEXTURE_2D||i.width!==s||i.height!==a?(i.width=s,i.height=a,o.texImage2D(e.target,0,e.format,e.format,e.type,r)):o.texSubImage2D(o.TEXTURE_2D,0,0,0,e.format,e.type,r),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,i=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(i,r),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(p),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(v),b=function(t){function e(i,r){var o=this,s=r||{},a=s.width,l=s.height,h=s.autoLoad,u=s.linkBaseTexture;if(i&&i.length!==e.SIDES)throw new Error("Invalid length. Got "+i.length+", expected 6");o=t.call(this,6,{width:a,height:l})||this;for(var f=0;f<e.SIDES;f++)o.items[f].target=n.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+f;return o.linkBaseTexture=!1!==u,i&&o.initFromArray(i,r),!1!==h&&o.load(),o}return d(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=n.TARGETS.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,i){if(void 0===i&&(i=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=n.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,i,r){for(var n=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];n[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(t,s,r),n[o]=s.dirtyId):n[o]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,i.realWidth,i.realHeight,0,i.format,r.type,null),n[o]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(m),T=function(t){function e(e,i){var n=this;if(i=i||{},!(e instanceof HTMLImageElement)){var o=new Image;v.crossOrigin(o,e,i.crossorigin),o.src=e,e=o}return n=t.call(this,e)||this,!e.complete&&n._width&&n._height&&(n._width=0,n._height=0),n.url=e.src,n._process=null,n.preserveBitmap=!1,n.createBitmap=(void 0!==i.createBitmap?i.createBitmap:r.X.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,n.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,void 0!==i.premultiplyAlpha&&(n.premultiplyAlpha=i.premultiplyAlpha),n.bitmap=null,n._load=null,!1!==i.autoLoad&&n.load(),n}return d(e,t),e.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,i){var r=e.source;e.url=r.src;var n=function(){e.destroyed||(r.onload=null,r.onerror=null,e.resize(r.width,r.height),e._load=null,e.createBitmap?t(e.process()):t(e))};r.complete&&r.src?n():(r.onload=n,r.onerror=function(t){i(t),e.onError.emit(t)})}))),this._load},e.prototype.process=function(){var t=this,e=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(e,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===n.ALPHA_MODES.UNPACK?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,i,r){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var n=!0,o=i._glTextures;for(var s in o){var a=o[s];if(a!==r&&a.dirtyId!==i.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},e}(v),E=function(t){function e(e,i){var r=this;return i=i||{},(r=t.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=e,r.scale=i.scale||1,r._overrideWidth=i.width,r._overrideHeight=i.height,r._resolve=null,r._crossorigin=i.crossorigin,r._load=null,!1!==i.autoLoad&&r.load(),r}return d(e,t),e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var t=this,e=new Image;v.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(i){t._resolve&&(e.onerror=null,t.onError.emit(i))},e.onload=function(){if(t._resolve){var i=e.width,r=e.height;if(!i||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=i*t.scale,s=r*t.scale;(t._overrideWidth||t._overrideHeight)&&(n=t._overrideWidth||t._overrideHeight/r*i,s=t._overrideHeight||t._overrideWidth/i*r),n=Math.round(n),s=Math.round(s);var a=t.source;a.width=n,a.height=s,a._pixiId="canvas_"+(0,o.uid)(),a.getContext("2d").drawImage(e,0,0,i,r,0,0,n,s),t._resolve(),t._resolve=null}}},e.getSize=function(t){var i=e.SVG_SIZE.exec(t),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"==typeof t&&0===t.indexOf("<svg")},e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(v),w=function(t){function e(i,r){var n=this;if(r=r||{},!(i instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof i&&(i=[i]);var s=i[0].src||i[0];v.crossOrigin(o,s,r.crossorigin);for(var a=0;a<i.length;++a){var l=document.createElement("source"),h=i[a],u=h.src,f=h.mime,d=(u=u||i[a]).split("?").shift().toLowerCase(),p=d.substr(d.lastIndexOf(".")+1);f=f||e.MIME_TYPES[p]||"video/"+p,l.src=u,l.type=f,o.appendChild(l)}i=o}return(n=t.call(this,i)||this).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=r.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==r.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==r.autoLoad&&n.load(),n}return d(e,t),e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var i=a.vB.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-i),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(i){t.valid?i(t):(t._resolve=i,e.load())})),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(a.vB.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(a.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&a.vB.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(a.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(a.vB.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,i){return t instanceof HTMLVideoElement||e.TYPES.indexOf(i)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(v),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(v);h.push(T,S,_,w,E,c,b,g);var P={Resource:p,BaseImageResource:v,INSTALLED:h,autoDetectResource:u,AbstractMultiResource:m,ArrayResource:g,BufferResource:c,CanvasResource:_,CubeResource:b,ImageResource:T,SVGResource:E,VideoResource:w,ImageBitmapResource:S},X=function(){function t(t){this.renderer=t}return t.prototype.destroy=function(){this.renderer=null},t}(),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.upload=function(t,e,i){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===n.ALPHA_MODES.UNPACK),i.width===e.width&&i.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,r.texImage2D(e.target,0,1===t.context.webGLVersion?r.DEPTH_COMPONENT:r.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(c),A=function(){function t(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new s.R("disposeFramebuffer"),this.multisample=n.MSAA_QUALITY.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new y(null,{scaleMode:n.SCALE_MODES.NEAREST,resolution:1,mipmap:n.MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new y(new I(null,{width:this.width,height:this.height}),{scaleMode:n.SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:n.MIPMAP_MODES.OFF,format:n.FORMATS.DEPTH_COMPONENT,type:n.TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i],n=r.resolution;r.setSize(t/n,e/n)}this.depthTexture&&(n=this.depthTexture.resolution,this.depthTexture.setSize(t/n,e/n))}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),O=function(t){function e(e){var i=this;if("number"==typeof e){var r=arguments[0],n=arguments[1],o=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:o,resolution:s}}i=t.call(this,null,e)||this;var a=e||{},l=a.width,h=a.height;return i.mipmap=0,i.width=Math.ceil(l)||100,i.height=Math.ceil(h)||100,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new A(i.width*i.resolution,i.height*i.resolution).addColorTexture(0,i),i.maskStack=[],i.filterStack=[{}],i}return d(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(y),C=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,i){var r=e.width,n=e.height;if(i){var o=t.width/2/r,s=t.height/2/n,a=t.x/r+o,h=t.y/n+s;i=l.groupD8.add(i,l.groupD8.NW),this.x0=a+o*l.groupD8.uX(i),this.y0=h+s*l.groupD8.uY(i),i=l.groupD8.add(i,2),this.x1=a+o*l.groupD8.uX(i),this.y1=h+s*l.groupD8.uY(i),i=l.groupD8.add(i,2),this.x2=a+o*l.groupD8.uX(i),this.y2=h+s*l.groupD8.uY(i),i=l.groupD8.add(i,2),this.x3=a+o*l.groupD8.uX(i),this.y3=h+s*l.groupD8.uY(i)}else this.x0=t.x/r,this.y0=t.y/n,this.x1=(t.x+t.width)/r,this.y1=t.y/n,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/n,this.x3=t.x/r,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t}(),M=new C,D=function(t){function e(i,r,n,o,s,a){var h=t.call(this)||this;if(h.noFrame=!1,r||(h.noFrame=!0,r=new l.Rectangle(0,0,1,1)),i instanceof e&&(i=i.baseTexture),h.baseTexture=i,h._frame=r,h.trim=o,h.valid=!1,h._uvs=M,h.uvMatrix=null,h.orig=n||r,h._rotate=Number(s||0),!0===s)h._rotate=2;else if(h._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=a?new l.Point(a.x,a.y):new l.Point(0,0),h._updateID=0,h.textureCacheIds=[],i.valid?h.noFrame?i.valid&&h.onBaseTextureUpdated(i):h.frame=r:i.once("loaded",h.onBaseTextureUpdated,h),h.noFrame&&i.on("update",h.onBaseTextureUpdated,h),h}return d(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var i=this.baseTexture;i&&i.url&&o.TextureCache[i.url]&&e.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===M&&(this._uvs=new C),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,i,n){void 0===i&&(i={}),void 0===n&&(n=r.X.STRICT_TEXTURE_CACHE);var s="string"==typeof t,a=null;s?a=t:(t._pixiId||(t._pixiId="pixiid_"+(0,o.uid)()),a=t._pixiId);var l=o.TextureCache[a];if(s&&n&&!l)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return l||(i.resolution||(i.resolution=(0,o.getResolutionOfUrl)(t)),(l=new e(new y(t,i))).baseTexture.cacheId=a,y.addToCache(l.baseTexture,a),e.addToCache(l,a)),l},e.fromURL=function(t,i){var r=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),n=e.from(t,Object.assign({resourceOptions:r},i),!1),o=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):o.load().then((function(){return Promise.resolve(n)}))},e.fromBuffer=function(t,i,r,n){return new e(y.fromBuffer(t,i,r,n))},e.fromLoader=function(t,i,n){var s=new T(t);s.url=i;var a=new e(new y(s,{scaleMode:r.X.SCALE_MODE,resolution:(0,o.getResolutionOfUrl)(i)}));return n||(n=i),y.addToCache(a.baseTexture,n),e.addToCache(a,n),n!==i&&(y.addToCache(a.baseTexture,i),e.addToCache(a,i)),a},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),o.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),o.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=o.TextureCache[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete o.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)o.TextureCache[t.textureCacheIds[r]]===t&&delete o.TextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,r=t.width,n=t.height,o=e+r>this.baseTexture.width,s=i+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",l="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,h="Y: "+i+" + "+n+" = "+(i+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+a+" "+h)}this.valid=r&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(o.EventEmitter);function R(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}D.EMPTY=new D(new y),R(D.EMPTY),R(D.EMPTY.baseTexture),D.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new D(new y(new _(t)))}(),R(D.WHITE),R(D.WHITE.baseTexture);var L=function(t){function e(e,i){var r=this,n=null;if(!(e instanceof O)){var o=arguments[1],s=arguments[2],a=arguments[3],l=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+s+") instead of the ctor directly."),n=arguments[0],i=null,e=new O({width:o,height:s,scaleMode:a,resolution:l})}return(r=t.call(this,e,i)||this).legacyRenderer=n,r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return d(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,i){void 0===i&&(i=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,i&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new O(t))},e}(D),N=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e){var i=new O(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new L(i)},t.prototype.getOptimalTexture=function(e,i,r){void 0===r&&(r=1);var n=t.SCREEN_KEY;e*=r,i*=r,this.enableFullScreen&&e===this._pixelsWidth&&i===this._pixelsHeight||(n=(65535&(e=(0,o.nextPow2)(e)))<<16|65535&(i=(0,o.nextPow2)(i))),this.texturePool[n]||(this.texturePool[n]=[]);var s=this.texturePool[n].pop();return s||(s=this.createTexture(e,i)),s.filterPoolKey=n,s.setResolution(r),s},t.prototype.getFilterTexture=function(t,e){var i=this.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){var i=t.SCREEN_KEY,r=this.texturePool[i];if(this.enableFullScreen=e.width>0&&e.height>0,r)for(var n=0;n<r.length;n++)r[n].destroy(!0);this.texturePool[i]=[],this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY="screen",t}(),B=function(){function t(t,e,i,r,n,o,s){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=5126),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=n,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,i,r,n,o){return new t(e,i,r,n,o)},t}(),F=0,U=function(){function t(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=F++,this.disposeRunner=new s.R("disposeBuffer")}return t.prototype.update=function(t){this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}();function k(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var j={Float32Array,Uint32Array,Int32Array,Uint8Array},G={5126:4,5123:2,5121:1},H=0,z={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Y=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=H++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new s.R("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,i,r,n,o,s,a){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof U||(e instanceof Array&&(e=new Float32Array(e)),e=new U(e));var l=t.split("|");if(l.length>1){for(var h=0;h<l.length;h++)this.addAttribute(l[h],e,i,r,n);return this}var u=this.buffers.indexOf(e);return-1===u&&(this.buffers.push(e),u=this.buffers.length-1),this.attributes[t]=new B(u,i,r,n,o,s,a),this.instanced=this.instanced||a,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof U||(t instanceof Array&&(t=new Uint16Array(t)),t=new U(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],i=[],r=new U;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),i.push(n.size*G[n.type]/4),n.buffer=0}for(r.data=function(t,e){for(var i=0,r=0,n={},o=0;o<t.length;o++)r+=e[o],i+=t[o].length;var s=new ArrayBuffer(4*i),a=null,l=0;for(o=0;o<t.length;o++){var h=e[o],u=t[o],f=k(u);n[f]||(n[f]=new j[f](s)),a=n[f];for(var d=0;d<u.length;d++)a[(d/h|0)*r+l+d%h]=u[d];l+=h}return new Float32Array(s)}(e,i),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,i=0;i<this.buffers.length;i++)e.buffers[i]=new U(this.buffers[i].data.slice(0));for(var i in this.attributes){var r=this.attributes[i];e.attributes[i]=new B(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.index=!0),e},t.merge=function(e){for(var i,r=new t,n=[],o=[],s=[],a=0;a<e.length;a++){i=e[a];for(var l=0;l<i.buffers.length;l++)o[l]=o[l]||0,o[l]+=i.buffers[l].data.length,s[l]=0}for(a=0;a<i.buffers.length;a++)n[a]=new(z[k(i.buffers[a].data)])(o[a]),r.buffers[a]=new U(n[a]);for(a=0;a<e.length;a++)for(i=e[a],l=0;l<i.buffers.length;l++)n[l].set(i.buffers[l].data,s[l]),s[l]+=i.buffers[l].data.length;if(r.attributes=i.attributes,i.indexBuffer){r.indexBuffer=r.buffers[i.buffers.indexOf(i.indexBuffer)],r.indexBuffer.index=!0;var h=0,u=0,f=0,d=0;for(a=0;a<i.buffers.length;a++)if(i.buffers[a]!==i.indexBuffer){d=a;break}for(var a in i.attributes){var p=i.attributes[a];(0|p.buffer)===d&&(u+=p.size*G[p.type]/4)}for(a=0;a<e.length;a++){var c=e[a].indexBuffer.data;for(l=0;l<c.length;l++)r.indexBuffer.data[l+f]+=h;h+=i.buffers[d].data.length/u,f+=c.length}}return r},t}(),V=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return d(e,t),e}(Y),W=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new U(e.vertices),e.uvBuffer=new U(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return d(e,t),e.prototype.map=function(t,e){var i=0,r=0;return this.uvs[0]=i,this.uvs[1]=r,this.uvs[2]=i+e.width/t.width,this.uvs[3]=r,this.uvs[4]=i+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=i,this.uvs[7]=r+e.height/t.height,i=e.x,r=e.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+e.width,this.vertices[3]=r,this.vertices[4]=i+e.width,this.vertices[5]=r+e.height,this.vertices[6]=i,this.vertices[7]=r+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Y),q=0,K=function(){function t(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=q++,this.static=!!e}return t.prototype.update=function(){this.dirtyId++},t.prototype.add=function(e,i,r){this.uniforms[e]=new t(i,r)},t.from=function(e,i){return new t(e,i)},t}(),Z=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new l.Rectangle,this.destinationFrame=new l.Rectangle,this.filters=[]}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),J=function(t){function e(e){var i=t.call(this,e)||this;return i.defaultFilterStack=[{}],i.texturePool=new N,i.texturePool.setScreenSize(e.view),i.statePool=[],i.quad=new V,i.quadUv=new W,i.tempRect=new l.Rectangle,i.activeState={},i.globalUniforms=new K({outputFrame:i.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),i.forceClear=!1,i.useMaxPadding=!1,i}return d(e,t),e.prototype.push=function(t,e){for(var i=this.renderer,r=this.defaultFilterStack,n=this.statePool.pop()||new Z,o=e[0].resolution,s=e[0].padding,a=e[0].autoFit,l=e[0].legacy,h=1;h<e.length;h++){var u=e[h];o=Math.min(o,u.resolution),s=this.useMaxPadding?Math.max(s,u.padding):s+u.padding,a=a&&u.autoFit,l=l||u.legacy}1===r.length&&(this.defaultFilterStack[0].renderTexture=i.renderTexture.current),r.push(n),n.resolution=o,n.legacy=l,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;var f=this.tempRect;f.width=n.sourceFrame.width,f.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,i.renderTexture.bind(n.renderTexture,n.sourceFrame,f),i.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var o=r.inputSize,s=r.inputPixel,a=r.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=o[0]*e.resolution,s[1]=o[1]*e.resolution,s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=e.sourceFrame.width*o[2]-.5*s[2],a[3]=e.sourceFrame.height*o[3]-.5*s[3],e.legacy){var l=r.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(e.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,h.renderTexture,n.CLEAR_MODES.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,f=this.getOptimalFilterTexture(u.width,u.height,e.resolution);f.filterFrame=u.filterFrame;var d=0;for(d=0;d<i.length-1;++d){i[d].apply(this,u,f,n.CLEAR_MODES.CLEAR,e);var p=u;u=f,f=p}i[d].apply(this,u,h.renderTexture,n.CLEAR_MODES.BLEND,e),this.returnFilterTexture(u),this.returnFilterTexture(f)}e.clear(),this.statePool.push(e)},e.prototype.bindAndClear=function(t,e){if(void 0===e&&(e=n.CLEAR_MODES.CLEAR),t&&t.filterFrame){var i=this.tempRect;i.width=t.filterFrame.width,i.height=t.filterFrame.height,this.renderer.renderTexture.bind(t,t.filterFrame,i)}else this.renderer.renderTexture.bind(t);"boolean"==typeof e&&(e=e?n.CLEAR_MODES.CLEAR:n.CLEAR_MODES.BLEND,(0,o.deprecation)("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(e===n.CLEAR_MODES.CLEAR||e===n.CLEAR_MODES.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},e.prototype.applyFilter=function(t,e,i,r){var o=this.renderer;this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.state.set(t.state),o.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(n.DRAW_MODES.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(n.DRAW_MODES.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,n=i.destinationFrame,o=e._texture.orig,s=t.set(n.width,0,0,n.height,r.x,r.y),a=e.worldTransform.copyTo(l.Matrix.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,i){return void 0===i&&(i=1),this.texturePool.getOptimalTexture(t,e,i)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var i=t;t=e,e=i}t=t||this.activeState.renderTexture;var r=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(X),Q=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),$=function(t){function e(e){var i=t.call(this,e)||this;return i.emptyRenderer=new Q(e),i.currentRenderer=i.emptyRenderer,i}return d(e,t),e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},e.prototype.boundArray=function(t,e,i,r){for(var n=t.elements,o=t.ids,s=t.count,a=0,l=0;l<s;l++){var h=n[l],u=h._batchLocation;if(u>=0&&u<r&&e[u]===h)o[l]=u;else for(;a<r;){var f=e[a];if(!f||f._batchEnabled!==i||f._batchLocation!==a){o[l]=a,h._batchLocation=a,e[a]=h;break}a++}}},e}(X),tt=0,et=function(t){function e(e){var i=t.call(this,e)||this;return i.webGLVersion=1,i.extensions={},i.supports={uint32Indices:!1},i.handleContextLost=i.handleContextLost.bind(i),i.handleContextRestored=i.handleContextRestored.bind(i),e.view.addEventListener("webglcontextlost",i.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",i.handleContextRestored,!1),i}return d(e,t),Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=tt++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=tt++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var i;if(r.X.PREFER_ENV>=n.ENV.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){var e=t.getContextAttributes(),i="WebGL2RenderingContext"in window&&t instanceof window.WebGL2RenderingContext;i&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(X),it=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=n.MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},rt=new l.Rectangle,nt=function(t){function e(e){var i=t.call(this,e)||this;return i.managedFramebuffers=[],i.unknownFramebuffer=new A(10,10),i.msaaSamples=null,i}return d(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new l.Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;r.X.PREFER_ENV===n.ENV.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,e){var i=this.gl;if(t){var r=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,r.framebuffer)),r.dirtyId!==t.dirtyId&&(r.dirtyId=t.dirtyId,r.dirtyFormat!==t.dirtyFormat?(r.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):r.dirtySize!==t.dirtySize&&(r.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++){var o=t.colorTextures[n];this.renderer.texture.unbind(o.parentTextureArray||o)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,i,r){var n=this.viewport;n.width===i&&n.height===r&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=i,n.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,e,i,r,o){void 0===o&&(o=n.BUFFER_BITS.COLOR|n.BUFFER_BITS.DEPTH);var s=this.gl;s.clearColor(t,e,i,r),s.clear(o)},e.prototype.initFramebuffer=function(t){var e=this.gl,i=new it(e.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i},e.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var r=t.colorTextures,n=0;n<r.length;n++)this.renderer.texture.bind(r[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],r=t.colorTextures.length;e.drawBuffers||(r=Math.min(r,1)),i.multisample>1&&(i.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,i.msaaBuffer));for(var n=[],o=0;o<r;o++)if(!(0===o&&i.multisample>1)){var s=t.colorTextures[o],a=s.parentTextureArray||s;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,s.target,a._glTextures[this.CONTEXT_UID].texture,0),n.push(e.COLOR_ATTACHMENT0+o)}if(n.length>1&&e.drawBuffers(n),t.depthTexture&&this.writeDepthTexture){var l=t.depthTexture;this.renderer.texture.bind(l,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,l._glTextures[this.CONTEXT_UID].texture,0)}i.stencil||!t.stencil&&!t.depth||(i.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,i.stencil))},e.prototype.detectSamples=function(t){var e=this.msaaSamples,i=n.MSAA_QUALITY.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return 1===i&&(i=n.MSAA_QUALITY.NONE),i},e.prototype.blit=function(t,e,i){var r=this,n=r.current,o=r.renderer,s=r.gl,a=r.CONTEXT_UID;if(2===o.context.webGLVersion&&n){var l=n.glFramebuffers[a];if(l){if(!t){if(l.multisample<=1)return;l.blitFramebuffer||(l.blitFramebuffer=new A(n.width,n.height),l.blitFramebuffer.addColorTexture(0,n.colorTextures[0])),(t=l.blitFramebuffer).width=n.width,t.height=n.height}e||((e=rt).width=n.width,e.height=n.height),i||(i=e);var h=e.width===i.width&&e.height===i.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,l.framebuffer),s.blitFramebuffer(e.x,e.y,e.width,e.height,i.x,i.y,i.width,i.height,s.COLOR_BUFFER_BIT,h?s.NEAREST:s.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.stencil&&r.deleteRenderbuffer(i.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var i=t.width,r=t.height,n=this.gl,o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,i,r),e.stencil=o,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new l.Rectangle},e}(X),ot=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},st={5126:4,5123:2,5121:1},at=function(t){function e(e){var i=t.call(this,e)||this;return i._activeGeometry=null,i._activeVao=null,i.hasVao=!0,i.hasInstance=!0,i.canUseUInt32ElementIndex=!1,i.managedGeometries={},i.managedBuffers={},i}return d(e,t),e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var i=this.renderer.context.extensions.vertexArrayObject;r.X.PREFER_ENV===n.ENV.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(t){return i.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return i.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var o=t.getExtension("ANGLE_instanced_arrays");o?(t.vertexAttribDivisor=function(t,e){return o.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,i,r,n){return o.drawElementsInstancedANGLE(t,e,i,r,n)},t.drawArraysInstanced=function(t,e,i,r){return o.drawArraysInstancedANGLE(t,e,i,r)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],n=!1;r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},n=!0);var o=r[e.program.id]||this.initGeometryVao(t,e.program,n);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?i.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,i=0;i<t.buffers.length;i++){var r=t.buffers[i],n=r._glBuffers[this.CONTEXT_UID];if(r._updateID!==n.updateID){n.updateID=r._updateID;var o=r.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,n.buffer),this._boundBuffer=n,n.byteLength>=r.data.byteLength)e.bufferSubData(o,0,r.data);else{var s=r.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=r.data.byteLength,e.bufferData(o,r.data,s)}}}},e.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var n in r)if(!i[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,n=["g",t.id];for(var o in i)r[o]&&n.push(o);return n.join("-")},e.prototype.initGeometryVao=function(t,e,i){void 0===i&&(i=!0),this.checkCompatibility(t,e);var r=this.gl,n=this.CONTEXT_UID,o=this.getSignature(t,e),s=t.glVertexArrayObjects[this.CONTEXT_UID],a=s[o];if(a)return s[e.id]=a,a;var l=t.buffers,h=t.attributes,u={},f={};for(var d in l)u[d]=0,f[d]=0;for(var d in h)!h[d].size&&e.attributeData[d]?h[d].size=e.attributeData[d].size:h[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),u[h[d].buffer]+=h[d].size*st[h[d].type];for(var d in h){var p=h[d],c=p.size;void 0===p.stride&&(u[p.buffer]===c*st[p.type]?p.stride=0:p.stride=u[p.buffer]),void 0===p.start&&(p.start=f[p.buffer],f[p.buffer]+=c*st[p.type])}a=r.createVertexArray(),r.bindVertexArray(a);for(var x=0;x<l.length;x++){var y=l[x];y._glBuffers[n]||(y._glBuffers[n]=new ot(r.createBuffer()),this.managedBuffers[y.id]=y,y.disposeRunner.add(this)),i&&y._glBuffers[n].refCount++}return this.activateVao(t,e),this._activeVao=a,s[e.id]=a,s[o]=a,a},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],r=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),i){for(var o=0;o<n.length;o++){var s=n[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||e||this.disposeBuffer(n[o],e)}if(!e)for(var a in i)if("g"===a[0]){var l=i[a];this._activeVao===l&&this.unbind(),r.deleteVertexArray(l)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t);for(e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.disposeBuffer(this.managedBuffers[e[i]],t)},e.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,n=t.buffers,o=t.attributes;t.indexBuffer&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[r].buffer);var s=null;for(var a in o){var l=o[a],h=n[l.buffer]._glBuffers[r];if(e.attributeData[a]){s!==h&&(i.bindBuffer(i.ARRAY_BUFFER,h.buffer),s=h);var u=e.attributeData[a].location;if(i.enableVertexAttribArray(u),i.vertexAttribPointer(u,l.size,l.type||i.FLOAT,l.normalized,l.stride,l.start),l.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(u,1)}}}},e.prototype.draw=function(t,e,i,r){var n=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(t,e||o.indexBuffer.data.length,a,(i||0)*s,r||1):n.drawElements(t,e||o.indexBuffer.data.length,a,(i||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(t,i,e||o.getSize(),r||1):n.drawArrays(t,i,e||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(X),lt=function(){function t(t){void 0===t&&(t=null),this.type=n.MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=n.MASK_TYPES.NONE,this.autoDetect=!0),this._target=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function ht(t,e,i){var r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),r}function ut(t,e,i,r){var n=ht(t,t.VERTEX_SHADER,e),o=ht(t,t.FRAGMENT_SHADER,i),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),r)for(var a in r)t.bindAttribLocation(s,r[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(n))),t.getShaderParameter(o,t.COMPILE_STATUS)||(console.warn(i),console.error(t.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}function ft(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e}function dt(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return ft(2*e);case"bvec3":return ft(3*e);case"bvec4":return ft(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var pt,ct={},xt=ct;function yt(){if(xt===ct||xt&&xt.isContextLost()){var t=document.createElement("canvas"),e=void 0;r.X.PREFER_ENV>=n.ENV.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),xt=e}return xt}function mt(t,e,i){if("precision"!==t.substring(0,9)){var r=e;return e===n.PRECISION.HIGH&&i!==n.PRECISION.HIGH&&(r=n.PRECISION.MEDIUM),"precision "+r+" float;\n"+t}return i!==n.PRECISION.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var gt={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function vt(t){return gt[t]}var _t=null,bt={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Tt(t,e){if(!_t){var i=Object.keys(bt);_t={};for(var r=0;r<i.length;++r){var n=i[r];_t[t[n]]=bt[n]}}return _t[e]}var Et,wt=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],St={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Pt={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},Xt=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function It(t){for(var e="",i=0;i<t;++i)i>0&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}function At(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=e.createShader(e.FRAGMENT_SHADER);;){var r=Xt.replace(/%forloop%/gi,It(t));if(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return t}var Ot=0,Ct={},Mt=function(){function t(e,i,o){void 0===o&&(o="pixi-shader"),this.id=Ot++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=i||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(o=o.replace(/\s+/g,"-"),Ct[o]?(Ct[o]++,o+="-"+Ct[o]):Ct[o]=1,this.vertexSrc="#define SHADER_NAME "+o+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+o+"\n"+this.fragmentSrc,this.vertexSrc=mt(this.vertexSrc,r.X.PRECISION_VERTEX,n.PRECISION.HIGH),this.fragmentSrc=mt(this.fragmentSrc,r.X.PRECISION_FRAGMENT,function(){if(!pt){pt=n.PRECISION.MEDIUM;var t=yt();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);pt=e.precision?n.PRECISION.HIGH:n.PRECISION.MEDIUM}}return pt}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return t.prototype.extractData=function(t,e){var i=yt();if(i){var r=ut(i,t,e);this.attributeData=this.getAttributeData(r,i),this.uniformData=this.getUniformData(r,i),i.deleteProgram(r)}else this.uniformData={},this.attributeData={}},t.prototype.getAttributeData=function(t,e){for(var i={},r=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=e.getActiveAttrib(t,o),a=Tt(e,s.type),l={type:a,name:s.name,size:vt(a),location:0};i[s.name]=l,r.push(l)}for(r.sort((function(t,e){return t.name>e.name?1:-1})),o=0;o<r.length;o++)r[o].location=o;return i},t.prototype.getUniformData=function(t,e){for(var i={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<r;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]$/,""),a=o.name.match(/\[.*?\]$/),l=Tt(e,o.type);i[s]={type:l,size:o.size,isArray:a,value:dt(l,o.size)}}return i},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(e,i,r){var n=e+i,s=o.ProgramCache[n];return s||(o.ProgramCache[n]=s=new t(e,i,r)),s},t}(),Dt=function(){function t(t,e){for(var i in this.program=t,this.uniformGroup=e?e instanceof K?e:new K(e):new K({}),t.uniformData)this.uniformGroup.uniforms[i]instanceof Array&&(this.uniformGroup.uniforms[i]=new Float32Array(this.uniformGroup.uniforms[i]))}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,i,r){return new t(Mt.from(e,i),r)},t}(),Rt=function(){function t(){this.data=0,this.blendMode=n.BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==n.BLEND_MODES.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),Lt=function(t){function e(i,n,o){var s=this,a=Mt.from(i||e.defaultVertexSrc,n||e.defaultFragmentSrc);return(s=t.call(this,a,o)||this).padding=0,s.resolution=r.X.FILTER_RESOLUTION,s.enabled=!0,s.autoFit=!0,s.legacy=!!s.program.attributeData.aTextureCoord,s.state=new Rt,s}return d(e,t),e.prototype.apply=function(t,e,i,r,n){t.applyFilter(this,e,i,r)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),e}(Dt),Nt=new l.Matrix,Bt=function(){function t(t,e){this._texture=t,this.mapCoord=new l.Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var n=t[r],o=t[r+1];e[r]=n*i.a+o*i.c+i.tx,e[r+1]=n*i.b+o*i.d+i.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,n=e.trim;n&&(Nt.set(r.width/n.width,0,0,r.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(Nt));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(e._frame.x+a+l)/o.width,s[1]=(e._frame.y+a+l)/o.height,s[2]=(e._frame.x+e._frame.width-a+l)/o.width,s[3]=(e._frame.y+e._frame.height-a+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},t}(),Ft=function(t){function e(e){var i=this,r=new l.Matrix;return i=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,e.renderable=!1,i.maskSprite=e,i.maskMatrix=r,i}return d(e,t),e.prototype.apply=function(t,e,i,r){var n=this.maskSprite,o=n._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Bt(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,i,r))},e}(Lt),Ut=function(t){function e(e){var i=t.call(this,e)||this;return i.enableScissor=!1,i.alphaMaskPool=[],i.maskDataPool=[],i.maskStack=[],i.alphaMaskIndex=0,i}return d(e,t),e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,e){var i=e;if(!i.isMaskData){var r=this.maskDataPool.pop()||new lt;r.pooled=!0,r.maskObject=e,i=r}switch(i.autoDetect&&this.detect(i),i.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),i._target=t,i.type){case n.MASK_TYPES.SCISSOR:this.maskStack.push(i),this.renderer.scissor.push(i);break;case n.MASK_TYPES.STENCIL:this.maskStack.push(i),this.renderer.stencil.push(i);break;case n.MASK_TYPES.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i),this.maskStack.push(i)}},e.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case n.MASK_TYPES.SCISSOR:this.renderer.scissor.pop();break;case n.MASK_TYPES.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case n.MASK_TYPES.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},e.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=n.MASK_TYPES.SPRITE;else if(t.type=n.MASK_TYPES.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var i=e.worldTransform,r=Math.atan2(i.b,i.a),o=Math.atan2(i.d,i.c);r=Math.round(r*(180/Math.PI)*100),o=((o=Math.round(o*(180/Math.PI)*100)-r)%18e3+18e3)%18e3,0==(r=(r%9e3+9e3)%9e3)&&9e3===o&&(t.type=n.MASK_TYPES.SCISSOR)}},e.prototype.pushSpriteMask=function(t){var e=t.maskObject,i=t._target,r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new Ft(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e;var n=i.filterArea;i.filterArea=e.getBounds(!0),this.renderer.filter.push(i,r),i.filterArea=n,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(X),kt=function(t){function e(e){var i=t.call(this,e)||this;return i.maskStack=[],i.glConst=0,i}return d(e,t),e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==i&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.maskStack=null},e}(X),jt=function(t){function e(e){var i=t.call(this,e)||this;return i.glConst=WebGLRenderingContext.SCISSOR_TEST,i}return d(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var i=t._scissorRect,r=e.getBounds(!0),n=this.renderer.gl;e.renderable=!1,i?r.fit(i):n.enable(n.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=r,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,i=this.renderer.projection,r=i.transform,n=i.sourceFrame,o=i.destinationFrame,s=e?e.resolution:this.renderer.resolution,a=(t.x-n.x)*s+o.x,l=(t.y-n.y)*s+o.y,h=t.width*s,u=t.height*s;r&&(a+=r.tx*s,l+=r.ty*s),e||(l=this.renderer.height-u-l),this.renderer.gl.scissor(a,l,h,u)},e}(kt),Gt=function(t){function e(e){var i=t.call(this,e)||this;return i.glConst=WebGLRenderingContext.STENCIL_TEST,i}return d(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,i=this.renderer.gl,r=t._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),i.enable(i.STENCIL_TEST)),t._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,r,this._getBitwiseMask()),i.stencilOp(i.KEEP,i.KEEP,i.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(kt),Ht=function(t){function e(e){var i=t.call(this,e)||this;return i.destinationFrame=null,i.sourceFrame=null,i.defaultFrame=null,i.projectionMatrix=new l.Matrix,i.transform=null,i}return d(e,t),e.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,i,r){var n=this.projectionMatrix,o=r?-1:1;n.identity(),n.a=1/e.width*2,n.d=o*(1/e.height*2),n.tx=-1-e.x*n.a,n.ty=-o-e.y*n.d},e.prototype.setTransform=function(t){},e}(X),zt=new l.Rectangle,Yt=new l.Rectangle,Vt=new l.Rectangle,Wt=function(t){function e(e){var i=t.call(this,e)||this;return i.clearColor=e._backgroundColorRgba,i.defaultMaskStack=[],i.current=null,i.sourceFrame=new l.Rectangle,i.destinationFrame=new l.Rectangle,i}return d(e,t),e.prototype.bind=function(t,e,i){void 0===t&&(t=null);var r,n,o,s=this.renderer;this.current=t,t?(o=(r=t.baseTexture).resolution,e||(zt.width=t.frame.width,zt.height=t.frame.height,e=zt),i||(Yt.x=t.frame.x,Yt.y=t.frame.y,Yt.width=e.width,Yt.height=e.height,i=Yt),n=r.framebuffer):(o=s.resolution,e||(zt.width=s.screen.width,zt.height=s.screen.height,e=zt),i||((i=zt).width=e.width,i.height=e.height)),Vt.x=i.x*o,Vt.y=i.y*o,Vt.width=i.width*o,Vt.height=i.height*o,this.renderer.framebuffer.bind(n,Vt),this.renderer.projection.update(i,e,o,!n),t?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},e.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e)},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(X),qt=function(){},Kt=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},t}(),Zt=0,Jt={textureCount:0},Qt=function(t){function e(e){var i=t.call(this,e)||this;return i.destroyed=!1,i.systemCheck(),i.gl=null,i.shader=null,i.program=null,i.cache={},i.id=Zt++,i}return d(e,t),e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof Et)return Et;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Et=!0===t({a:"b"},"a","b")}catch(t){Et=!1}return Et}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(Jt.textureCount=0,this.syncUniformGroup(t.uniformGroup,Jt)),r},e.prototype.setUniforms=function(t){var e=this.shader.program,i=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(i.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,e){var i=this.getglProgram();t.static&&t.dirtyId===i.uniformGroups[t.id]||(i.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},e.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var i=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var r in t.uniforms){var n=e[r];if(n){for(var o=t.uniforms[r],s=!1,a=0;a<wt.length;a++)if(wt[a].test(n,o)){i.push(wt[a].code(r,o)),s=!0;break}if(!s){var l=(1===n.size?St:Pt)[n.type].replace("location",'ud["'+r+'"].location');i.push('\n            cv = ud["'+r+'"].value;\n            v = uv["'+r+'"];\n            '+l+";")}}else t.uniforms[r].group&&i.push('\n                    renderer.shader.syncUniformGroup(uv["'+r+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",i.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var i=t.uniforms,r=[];for(var n in i)r.push(n),e[n]&&r.push(e[n].type);return r.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,i=t.program,r={};for(var n in i.attributeData)r[n]=i.attributeData[n].location;var o=ut(e,i.vertexSrc,i.fragmentSrc,r),s={};for(var n in i.uniformData){var a=i.uniformData[n];s[n]={location:e.getUniformLocation(o,n),value:dt(a.type,a.size)}}var l=new Kt(o,s);return i.glPrograms[this.renderer.CONTEXT_UID]=l,l},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(X),$t=function(t){function e(e){var i=t.call(this,e)||this;return i.gl=null,i.stateId=0,i.polygonOffset=0,i.blendMode=n.BLEND_MODES.NONE,i._blendEq=!1,i.map=[],i.map[0]=i.setBlend,i.map[1]=i.setOffset,i.map[2]=i.setCullFace,i.map[3]=i.setDepthTest,i.map[4]=i.setFrontFace,i.checks=[],i.defaultState=new Rt,i.defaultState.blend=!0,i}return d(e,t),e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[n.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD]=[t.ONE,t.ONE],e[n.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.NONE]=[0,0],e[n.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[n.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[n.BLEND_MODES.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[n.BLEND_MODES.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[n.BLEND_MODES.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[n.BLEND_MODES.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[n.BLEND_MODES.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):e||-1===i||this.checks.splice(i,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},e}(X),te=function(t){function e(e){var i=t.call(this,e)||this;return i.count=0,i.checkCount=0,i.maxIdle=r.X.GC_MAX_IDLE,i.checkCountMax=r.X.GC_MAX_CHECK_COUNT,i.mode=r.X.GC_MODE,i}return d(e,t),e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==n.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var n=e[r];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[r]=null,i=!0)}if(i){var o=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[o++]=e[r]);e.length=o}},e.prototype.unload=function(t){var e,i=this.renderer.texture;(null===(e=t._texture)||void 0===e?void 0:e.framebuffer)&&i.destroyTexture(t._texture);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},e}(X),ee=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},ie=function(t){function e(e){var i=t.call(this,e)||this;return i.boundTextures=[],i.currentLocation=-1,i.managedTextures=[],i._unknownBoundTextures=!1,i.unknownTexture=new y,i}return d(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new ee(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new ee(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),i=0;i<this.boundTextures.length;i++)this.bind(null,i)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if(t){if((t=t.castToBaseTexture()).parentTextureArray)return;if(t.valid){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,i=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<i.length;r++)i[r]===this.unknownTexture&&this.bind(null,r)}for(r=0;r<i.length;r++)i[r]===t&&(this.currentLocation!==r&&(e.activeTexture(e.TEXTURE0+r),this.currentLocation=r),e.bindTexture(t.target,this.emptyTextures[t.target].texture),i[r]=null)},e.prototype.initTexture=function(t){var e=new ee(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var i=this.renderer.gl;t.type===i.FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA32F),t.type===n.TYPES.HALF_FLOAT&&(e.type=i.HALF_FLOAT),e.type===i.HALF_FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e));else{var r=t.realWidth,n=t.realHeight,o=i.gl;(e.width!==r||e.height!==n||e.dirtyId<0)&&(e.width=r,e.height=n,o.texImage2D(t.target,0,e.internalFormat,r,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&(0,o.removeItems)(this.managedTextures,r,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==n.MIPMAP_MODES.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=n.WRAP_MODES.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===n.SCALE_MODES.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===n.SCALE_MODES.LINEAR){var o=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===n.SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===n.SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST)},e}(X),re={FilterSystem:J,BatchSystem:$,ContextSystem:et,FramebufferSystem:nt,GeometrySystem:at,MaskSystem:Ut,ScissorSystem:jt,StencilSystem:Gt,ProjectionSystem:Ht,RenderTextureSystem:Wt,ShaderSystem:Qt,StateSystem:$t,TextureGCSystem:te,TextureSystem:ie},ne=new l.Matrix,oe=function(t){function e(e,i){void 0===e&&(e=n.RENDERER_TYPE.UNKNOWN);var s=t.call(this)||this;return(i=Object.assign({},r.X.RENDER_OPTIONS,i)).roundPixels&&(r.X.ROUND_PIXELS=i.roundPixels,(0,o.deprecation)("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),s.options=i,s.type=e,s.screen=new l.Rectangle(0,0,i.width,i.height),s.view=i.view||document.createElement("canvas"),s.resolution=i.resolution||r.X.RESOLUTION,s.transparent=i.transparent,s.autoDensity=i.autoDensity||i.autoResize||!1,s.preserveDrawingBuffer=i.preserveDrawingBuffer,s.clearBeforeRender=i.clearBeforeRender,s._backgroundColor=0,s._backgroundColorRgba=[0,0,0,0],s._backgroundColorString="#000000",s.backgroundColor=i.backgroundColor||s._backgroundColor,s._lastObjectRendered=null,s.plugins={},s}return d(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},e.prototype.generateTexture=function(t,e,i,r){0===(r=r||t.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1);var n=L.create({width:0|r.width,height:0|r.height,scaleMode:e,resolution:i});return ne.tx=-r.x,ne.ty=-r.y,this.render(t,n,!1,ne,!!t.parent),n},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=n.RENDERER_TYPE.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,o.hex2string)(t),(0,o.hex2rgb)(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),e}(o.EventEmitter),se=function(t){function e(i){var r=t.call(this,n.RENDERER_TYPE.WEBGL,i)||this;return i=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new s.R("destroy"),contextChange:new s.R("contextChange"),reset:new s.R("reset"),update:new s.R("update"),postrender:new s.R("postrender"),prerender:new s.R("prerender"),resize:new s.R("resize")},r.globalUniforms=new K({projectionMatrix:new l.Matrix},!0),r.addSystem(Ut,"mask").addSystem(et,"context").addSystem($t,"state").addSystem(Qt,"shader").addSystem(ie,"texture").addSystem(at,"geometry").addSystem(nt,"framebuffer").addSystem(jt,"scissor").addSystem(Gt,"stencil").addSystem(Ht,"projection").addSystem(te,"textureGC").addSystem(J,"filter").addSystem(Wt,"renderTexture").addSystem($,"batch"),r.initPlugins(e.__plugins),i.context?r.context.initFromContext(i.context):r.context.initFromOptions({alpha:!!r.transparent,antialias:i.antialias,premultipliedAlpha:r.transparent&&"notMultiplied"!==r.transparent,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,(0,o.sayHello)(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return d(e,t),e.create=function(t){if((0,o.isWebGLSupported)())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var i=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var r in this[e]=i,this.runners)this.runners[r].add(i);return this},e.prototype.render=function(t,e,i,r,n){if(this.renderingToScreen=!e,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=r,!this.context.isLost){if(e||(this._lastObjectRendered=t),!n){var o=t.enableTempParent();t.updateTransform(),t.disableTempParent(o)}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.runners.resize.emit(e,i)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,i){e.__plugins=e.__plugins||{},e.__plugins[t]=i},e}(oe);function ae(t){return se.create(t)}var le="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",he="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",ue=function(){this.texArray=null,this.blend=0,this.type=n.DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null},fe=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),de=function(){function t(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),pe=function(t){function e(e){var i=t.call(this,e)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=Rt.for2d(),i.size=4*r.X.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),e.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return d(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;r.X.PREFER_ENV===n.ENV.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),r.X.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=At(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,i=e._textureArrayPool,r=this.size/4,n=Math.floor(r/this.MAX_TEXTURES)+1;t.length<r;)t.push(new ue);for(;i.length<n;)i.push(new fe);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,i=this.MAX_TEXTURES,r=e._textureArrayPool,n=this.renderer.batch,o=this._tempBoundTextures,s=this.renderer.textureGC.count,a=++y._globalBatch,l=0,h=r[0],u=0;n.copyBoundTextures(o,i);for(var f=0;f<this._bufferSize;++f){var d=t[f];t[f]=null,d._batchEnabled!==a&&(h.count>=i&&(n.boundArray(h,o,a,i),this.buildDrawCalls(h,u,f),u=f,h=r[++l],++a),d._batchEnabled=a,d.touched=s,h.elements[h.count++]=d)}for(h.count>0&&(n.boundArray(h,o,a,i),this.buildDrawCalls(h,u,this._bufferSize),++l,++a),f=0;f<o.length;f++)o[f]=null;y._globalBatch=a},e.prototype.buildDrawCalls=function(t,i,r){var n=this,s=n._bufferedElements,a=n._attributeBuffer,l=n._indexBuffer,h=n.vertexSize,u=e._drawCallPool,f=this._dcIndex,d=this._aIndex,p=this._iIndex,c=u[f];c.start=this._iIndex,c.texArray=t;for(var x=i;x<r;++x){var y=s[x],m=y._texture.baseTexture,g=o.premultiplyBlendMode[m.alphaMode?1:0][y.blendMode];s[x]=null,i<x&&c.blend!==g&&(c.size=p-c.start,i=x,(c=u[++f]).texArray=t,c.start=p),this.packInterleavedGeometry(y,a,l,d,p),d+=y.vertexData.length/2*h,p+=y.indices.length,c.blend=g}i<r&&(c.size=p-c.start,++f),this._dcIndex=f,this._aIndex=d,this._iIndex=p},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,i=0;i<t.count;i++)e.bind(t.elements[i],t.ids[i]),t.elements[i]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this,e=t._packedGeometries,i=t._attributeBuffer,n=t._indexBuffer;r.X.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(i.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(i.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,i=this.renderer,r=i.gl,n=i.state,o=e._drawCallPool,s=null,a=0;a<t;a++){var l=o[a],h=l.texArray,u=l.type,f=l.size,d=l.start,p=l.blend;s!==h&&(s=h,this.bindAndClearTexArray(h)),this.state.blendMode=p,n.set(this.state),r.drawElements(u,f,r.UNSIGNED_SHORT,2*d)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),r.X.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=(0,o.nextPow2)(Math.ceil(t/8)),i=(0,o.log2)(e),r=8*e;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var n=this._aBuffers[r];return n||(this._aBuffers[r]=n=new de(r*this.vertexSize*4)),n},e.prototype.getIndexBuffer=function(t){var e=(0,o.nextPow2)(Math.ceil(t/12)),i=(0,o.log2)(e),r=12*e;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var n=this._iBuffers[i];return n||(this._iBuffers[i]=n=new Uint16Array(r)),n},e.prototype.packInterleavedGeometry=function(t,e,i,r,n){for(var s=e.uint32View,a=e.float32View,l=r/this.vertexSize,h=t.uvs,u=t.indices,f=t.vertexData,d=t._texture.baseTexture._batchLocation,p=Math.min(t.worldAlpha,1),c=p<1&&t._texture.baseTexture.alphaMode?(0,o.premultiplyTint)(t._tintRGB,p):t._tintRGB+(255*p<<24),x=0;x<f.length;x+=2)a[r++]=f[x],a[r++]=f[x+1],a[r++]=h[x],a[r++]=h[x+1],s[r++]=c,a[r++]=d;for(x=0;x<u.length;x++)i[n++]=l+u[x]},e._drawCallPool=[],e._textureArrayPool=[],e}(Q),ce=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=K.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Mt(this.vertexSrc,r)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new l.Matrix,default:this.defaultGroupCache[t]};return new Dt(this.programCache[t],n)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},t}(),xe=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;return i._buffer=new U(null,e,!1),i._indexBuffer=new U(null,e,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,n.TYPES.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,n.TYPES.FLOAT).addAttribute("aColor",i._buffer,4,!0,n.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,n.TYPES.FLOAT).addIndex(i._indexBuffer),i}return d(e,t),e}(Y),ye="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",me="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",ge=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:ye,fragment:me,geometryClass:xe,vertexSize:6},t),i=e.vertex,r=e.fragment,n=e.vertexSize,o=e.geometryClass;return function(t){function e(e){var s=t.call(this,e)||this;return s.shaderGenerator=new ce(i,r),s.geometryClass=o,s.vertexSize=n,s}return d(e,t),e}(pe)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return ye},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return me},enumerable:!1,configurable:!0}),t}(),ve=ge.create()},29:(t,e,i)=>{"use strict";i.r(e),i.d(e,{Bounds:()=>s,Container:()=>d,DisplayObject:()=>h,TemporaryDisplayObject:()=>u});var r=i(264),n=i(295),o=i(323);r.X.SORTABLE_CHILDREN=!1;var s=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?n.Rectangle.EMPTY:((t=t||new n.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,i=s<i?s:i,r=o>r?o:r,n=s>n?s:n,e=(o=t[2])<e?o:e,i=(s=t[3])<i?s:i,r=o>r?o:r,n=s>n?s:n,e=(o=t[4])<e?o:e,i=(s=t[5])<i?s:i,r=o>r?o:r,n=s>n?s:n,e=(o=t[6])<e?o:e,i=(s=t[7])<i?s:i,r=o>r?o:r,n=s>n?s:n,this.minX=e,this.minY=i,this.maxX=r,this.maxY=n},t.prototype.addFrame=function(t,e,i,r,n){this.addFrameMatrix(t.worldTransform,e,i,r,n)},t.prototype.addFrameMatrix=function(t,e,i,r,n){var o=t.a,s=t.b,a=t.c,l=t.d,h=t.tx,u=t.ty,f=this.minX,d=this.minY,p=this.maxX,c=this.maxY,x=o*e+a*i+h,y=s*e+l*i+u;f=x<f?x:f,d=y<d?y:d,p=x>p?x:p,c=y>c?y:c,f=(x=o*r+a*i+h)<f?x:f,d=(y=s*r+l*i+u)<d?y:d,p=x>p?x:p,c=y>c?y:c,f=(x=o*e+a*n+h)<f?x:f,d=(y=s*e+l*n+u)<d?y:d,p=x>p?x:p,c=y>c?y:c,f=(x=o*r+a*n+h)<f?x:f,d=(y=s*r+l*n+u)<d?y:d,p=x>p?x:p,c=y>c?y:c,this.minX=f,this.minY=d,this.maxX=p,this.maxY=c},t.prototype.addVertexData=function(t,e,i){for(var r=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=e;a<i;a+=2){var l=t[a],h=t[a+1];r=l<r?l:r,n=h<n?h:n,o=l>o?l:o,s=h>s?h:s}this.minX=r,this.minY=n,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(t,e,i,r){this.addVerticesMatrix(t.worldTransform,e,i,r)},t.prototype.addVerticesMatrix=function(t,e,i,r,n,o){void 0===n&&(n=0),void 0===o&&(o=n);for(var s=t.a,a=t.b,l=t.c,h=t.d,u=t.tx,f=t.ty,d=this.minX,p=this.minY,c=this.maxX,x=this.maxY,y=i;y<r;y+=2){var m=e[y],g=e[y+1],v=s*m+l*g+u,_=h*g+a*m+f;d=Math.min(d,v-n),c=Math.max(c,v+n),p=Math.min(p,_-o),x=Math.max(x,_+o)}this.minX=d,this.minY=p,this.maxX=c,this.maxY=x},t.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>n?t.maxY:n},t.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=n&&r<=o){var s=this.minX,a=this.minY,l=this.maxX,h=this.maxY;this.minX=i<s?i:s,this.minY=r<a?r:a,this.maxX=n>l?n:l,this.maxY=o>h?o:h}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=n&&r<=o){var s=this.minX,a=this.minY,l=this.maxX,h=this.maxY;this.minX=i<s?i:s,this.minY=r<a?r:a,this.maxX=n>l?n:l,this.maxY=o>h?o:h}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,i,r,n,o){t-=n,e-=o,i+=n,r+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>r?this.maxY:r},t}(),a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function l(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var h=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new n.Transform,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new s,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return l(e,t),e.mixin=function(t){for(var i=Object.keys(t),r=0;r<i.length;++r){var n=i[r];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new n.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new n.Rectangle),t=this._localBoundsRect),this._localBounds||(this._localBounds=new s);var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var r=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,t);return this.parent=i,this.transform=e,this._bounds=r,this._bounds.updateID+=this._boundsID-o,a},e.prototype.toGlobal=function(t,e,i){return void 0===i&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,i,r){return e&&(t=e.toGlobal(t,i,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,i,r,n,o,s,a,l){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===l&&(l=0),this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=r||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=l,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new u),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*n.RAD_TO_DEG},set:function(t){this.transform.rotation=t*n.DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1),this._mask=t,this._mask&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),e}(o.EventEmitter),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return l(e,t),e}(h);function f(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}h.prototype.displayObjectUpdateTransform=h.prototype.updateTransform;var d=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=r.X.SORTABLE_CHILDREN,e.sortDirty=!1,e}return l(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(e.length>1)for(var r=0;r<e.length;r++)this.addChild(e[r]);else{var n=e[0];n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),r=this.getChildIndex(e);this.children[i]=e,this.children[r]=t,this.onChildrenChange(i<r?i:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);(0,o.removeItems)(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(e.length>1)for(var r=0;r<e.length;r++)this.removeChild(e[r]);else{var n=e[0],s=this.children.indexOf(n);if(-1===s)return null;n.parent=null,n.transform._parentID=-1,(0,o.removeItems)(this.children,s,1),this._boundsID++,this.onChildrenChange(s),n.emit("removed",this),this.emit("childRemoved",n,this,s)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,o.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var i,r=t,n=e-r;if(n>0&&n<=e){i=this.children.splice(r,n);for(var o=0;o<i.length;++o)i[o].parent=null,i[o].transform&&(i[o].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(t),o=0;o<i.length;++o)i[o].emit("removed",this),this.emit("childRemoved",i[o],this,o);return i}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,i=this.children.length;e<i;++e){var r=this.children[e];r._lastSortedIndex=e,t||0===r.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(f),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var i=e._mask.maskObject||e._mask;i.calculateBounds(),this._bounds.addBoundsMask(e._bounds,i._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,i){void 0===i&&(i=!1);var r=t.prototype.getLocalBounds.call(this,e);if(!i)for(var n=0,o=this.children.length;n<o;++n){var s=this.children[n];s.visible&&s.updateTransform()}return r},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}i&&t.mask.push(this,this._mask),this._render(t),r=0;for(var n=this.children.length;r<n;r++)this.children[r].render(t);t.batch.flush(),i&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(i)for(var n=0;n<r.length;++n)r[n].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(h);d.prototype.containerUpdateTransform=d.prototype.updateTransform},426:(t,e,i)=>{"use strict";i.r(e),i.d(e,{FillStyle:()=>f,GRAPHICS_CURVES:()=>u,Graphics:()=>k,GraphicsData:()=>D,GraphicsGeometry:()=>N,LINE_CAP:()=>n,LINE_JOIN:()=>r,LineStyle:()=>B,graphicsUtils:()=>M});var r,n,o=i(307),s=i(295),a=i(323),l=i(54),h=i(29);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(r||(r={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(n||(n={}));var u={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var i=Math.ceil(t/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}},f=function(){function t(){this.color=16777215,this.alpha=1,this.texture=o.Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=o.Texture.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function p(t,e){function i(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var c={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var i=t.points,r=t.holes,n=e.points,o=e.indices;if(i.length>=6){for(var s=[],l=0;l<r.length;l++){var h=r[l];s.push(i.length/2),i=i.concat(h.points)}var u=(0,a.earcut)(i,s,2);if(!u)return;var f=n.length/2;for(l=0;l<u.length;l+=3)o.push(u[l]+f),o.push(u[l+1]+f),o.push(u[l+2]+f);for(l=0;l<i.length;l++)n.push(i[l])}}},x={build:function(t){var e,i,r=t.shape,n=t.points,o=r.x,a=r.y;if(n.length=0,t.type===s.SHAPES.CIRC)e=r.radius,i=r.radius;else{var l=t.shape;e=l.width,i=l.height}if(0!==e&&0!==i){var h=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(e+i));h/=2.3;for(var u=2*Math.PI/h,f=0;f<h-.5;f++)n.push(o+Math.sin(-u*f)*e,a+Math.cos(-u*f)*i);n.push(n[0],n[1])}},triangulate:function(t,e){var i=t.points,r=e.points,n=e.indices,o=r.length/2,s=o,a=t.shape,l=t.matrix,h=a.x,u=a.y;r.push(t.matrix?l.a*h+l.c*u+l.tx:h,t.matrix?l.b*h+l.d*u+l.ty:u);for(var f=0;f<i.length;f+=2)r.push(i[f],i[f+1]),n.push(o++,s,o)}},y={build:function(t){var e=t.shape,i=e.x,r=e.y,n=e.width,o=e.height,s=t.points;s.length=0,s.push(i,r,i+n,r,i+n,r+o,i,r+o)},triangulate:function(t,e){var i=t.points,r=e.points,n=r.length/2;r.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}};function m(t,e,i){return t+(e-t)*i}function g(t,e,i,r,n,o,s){void 0===s&&(s=[]);for(var a=s,l=0,h=0,u=0,f=0,d=0,p=0,c=0,x=0;c<=20;++c)l=m(t,i,x=c/20),h=m(e,r,x),u=m(i,n,x),f=m(r,o,x),d=m(l,u,x),p=m(h,f,x),a.push(d,p);return a}var v={build:function(t){var e=t.shape,i=t.points,r=e.x,n=e.y,o=e.width,s=e.height,a=Math.max(0,Math.min(e.radius,Math.min(o,s)/2));i.length=0,a?(g(r,n+a,r,n,r+a,n,i),g(r+o-a,n,r+o,n,r+o,n+a,i),g(r+o,n+s-a,r+o,n+s,r+o-a,n+s,i),g(r+a,n+s,r,n+s,r,n+s-a,i)):i.push(r,n,r+o,n,r+o,n+s,r,n+s)},triangulate:function(t,e){for(var i=t.points,r=e.points,n=e.indices,o=r.length/2,s=(0,a.earcut)(i,null,2),l=0,h=s.length;l<h;l+=3)n.push(s[l]+o),n.push(s[l+1]+o),n.push(s[l+2]+o);for(l=0,h=i.length;l<h;l++)r.push(i[l],i[++l])}};function _(t,e,i,r,n,o,s,a){var l,h;s?(l=r,h=-i):(l=-r,h=i);var u=t-i*n+l,f=e-r*n+h,d=t+i*o+l,p=e+r*o+h;return a.push(u,f),a.push(d,p),2}function b(t,e,i,r,n,o,s,a){var l=i-t,h=r-e,u=Math.atan2(l,h),f=Math.atan2(n-t,o-e);a&&u<f?u+=2*Math.PI:!a&&u>f&&(f+=2*Math.PI);var d=u,p=f-u,c=Math.abs(p),x=Math.sqrt(l*l+h*h),y=1+(15*c*Math.sqrt(x)/Math.PI>>0),m=p/y;if(d+=m,a){s.push(t,e),s.push(i,r);for(var g=1,v=d;g<y;g++,v+=m)s.push(t,e),s.push(t+Math.sin(v)*x,e+Math.cos(v)*x);s.push(t,e),s.push(n,o)}else{for(s.push(i,r),s.push(t,e),g=1,v=d;g<y;g++,v+=m)s.push(t+Math.sin(v)*x,e+Math.cos(v)*x),s.push(t,e);s.push(n,o),s.push(t,e)}return 2*y}function T(t,e){t.lineStyle.native?function(t,e){var i=0,r=t.shape,n=t.points||r.points,o=r.type!==s.SHAPES.POLY||r.closeStroke;if(0!==n.length){var a=e.points,l=e.indices,h=n.length/2,u=a.length/2,f=u;for(a.push(n[0],n[1]),i=1;i<h;i++)a.push(n[2*i],n[2*i+1]),l.push(f,f+1),f++;o&&l.push(f,u)}}(t,e):function(t,e){var i=t.shape,o=t.points||i.points.slice(),a=e.closePointEps;if(0!==o.length){var l=t.lineStyle,h=new s.Point(o[0],o[1]),f=new s.Point(o[o.length-2],o[o.length-1]),d=i.type!==s.SHAPES.POLY||i.closeStroke,p=Math.abs(h.x-f.x)<a&&Math.abs(h.y-f.y)<a;if(d){o=o.slice(),p&&(o.pop(),o.pop(),f.set(o[o.length-2],o[o.length-1]));var c=.5*(h.x+f.x),x=.5*(f.y+h.y);o.unshift(c,x),o.push(c,x)}var y=e.points,m=o.length/2,g=o.length,v=y.length/2,T=l.width/2,E=T*T,w=l.miterLimit*l.miterLimit,S=o[0],P=o[1],X=o[2],I=o[3],A=0,O=0,C=-(P-I),M=S-X,D=0,R=0,L=Math.sqrt(C*C+M*M);C/=L,M/=L,C*=T,M*=T;var N=l.alignment,B=2*(1-N),F=2*N;d||(l.cap===n.ROUND?g+=b(S-C*(B-F)*.5,P-M*(B-F)*.5,S-C*B,P-M*B,S+C*F,P+M*F,y,!0)+2:l.cap===n.SQUARE&&(g+=_(S,P,C,M,B,F,!0,y))),y.push(S-C*B,P-M*B),y.push(S+C*F,P+M*F);for(var U=1;U<m-1;++U){S=o[2*(U-1)],P=o[2*(U-1)+1],X=o[2*U],I=o[2*U+1],A=o[2*(U+1)],O=o[2*(U+1)+1],C=-(P-I),M=S-X,C/=L=Math.sqrt(C*C+M*M),M/=L,C*=T,M*=T,D=-(I-O),R=X-A,D/=L=Math.sqrt(D*D+R*R),R/=L,D*=T,R*=T;var k=X-S,j=P-I,G=X-A,H=O-I,z=j*G-H*k,Y=z<0;if(Math.abs(z)<.1)y.push(X-C*B,I-M*B),y.push(X+C*F,I+M*F);else{var V=(-C+S)*(-M+I)-(-C+X)*(-M+P),W=(-D+A)*(-R+I)-(-D+X)*(-R+O),q=(k*W-G*V)/z,K=(H*V-j*W)/z,Z=(q-X)*(q-X)+(K-I)*(K-I),J=X+(q-X)*B,Q=I+(K-I)*B,$=X-(q-X)*F,tt=I-(K-I)*F,et=Y?B:F;Z<=Math.min(k*k+j*j,G*G+H*H)+et*et*E?l.join===r.BEVEL||Z/E>w?(Y?(y.push(J,Q),y.push(X+C*F,I+M*F),y.push(J,Q),y.push(X+D*F,I+R*F)):(y.push(X-C*B,I-M*B),y.push($,tt),y.push(X-D*B,I-R*B),y.push($,tt)),g+=2):l.join===r.ROUND?Y?(y.push(J,Q),y.push(X+C*F,I+M*F),g+=b(X,I,X+C*F,I+M*F,X+D*F,I+R*F,y,!0)+4,y.push(J,Q),y.push(X+D*F,I+R*F)):(y.push(X-C*B,I-M*B),y.push($,tt),g+=b(X,I,X-C*B,I-M*B,X-D*B,I-R*B,y,!1)+4,y.push(X-D*B,I-R*B),y.push($,tt)):(y.push(J,Q),y.push($,tt)):(y.push(X-C*B,I-M*B),y.push(X+C*F,I+M*F),l.join===r.BEVEL||Z/E>w||(l.join===r.ROUND?g+=Y?b(X,I,X+C*F,I+M*F,X+D*F,I+R*F,y,!0)+2:b(X,I,X-C*B,I-M*B,X-D*B,I-R*B,y,!1)+2:(Y?(y.push($,tt),y.push($,tt)):(y.push(J,Q),y.push(J,Q)),g+=2)),y.push(X-D*B,I-R*B),y.push(X+D*F,I+R*F),g+=2)}}S=o[2*(m-2)],P=o[2*(m-2)+1],X=o[2*(m-1)],C=-(P-(I=o[2*(m-1)+1])),M=S-X,C/=L=Math.sqrt(C*C+M*M),M/=L,C*=T,M*=T,y.push(X-C*B,I-M*B),y.push(X+C*F,I+M*F),d||(l.cap===n.ROUND?g+=b(X-C*(B-F)*.5,I-M*(B-F)*.5,X-C*B,I-M*B,X+C*F,I+M*F,y,!1)+2:l.cap===n.SQUARE&&(g+=_(X,I,C,M,B,F,!1,y)));var it=e.indices,rt=u.epsilon*u.epsilon;for(U=v;U<g+v-2;++U)S=y[2*U],P=y[2*U+1],X=y[2*(U+1)],I=y[2*(U+1)+1],A=y[2*(U+2)],O=y[2*(U+2)+1],Math.abs(S*(I-O)+X*(O-P)+A*(P-I))<rt||it.push(U,U+1,U+2)}}(t,e)}var E,w=function(t){function e(e,i,r,n,o,a){void 0===a&&(a=0),o=o||n/2;for(var l=-1*Math.PI/2+a,h=2*r,u=s.PI_2/h,f=[],d=0;d<h;d++){var p=d%2?o:n,c=d*u+l;f.push(e+p*Math.cos(c),i+p*Math.sin(c))}return t.call(this,f)||this}return p(e,t),e}(s.Polygon),S=function(){function t(){}return t.curveTo=function(t,e,i,r,n,o){var s=o[o.length-2],a=o[o.length-1]-e,l=s-t,h=r-e,u=i-t,f=Math.abs(a*u-l*h);if(f<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var d=a*a+l*l,p=h*h+u*u,c=a*h+l*u,x=n*Math.sqrt(d)/f,y=n*Math.sqrt(p)/f,m=x*c/d,g=y*c/p,v=x*u+y*l,_=x*h+y*a,b=l*(y+m),T=a*(y+m),E=u*(x+g),w=h*(x+g);return{cx:v+t,cy:_+e,radius:n,startAngle:Math.atan2(T-_,b-v),endAngle:Math.atan2(w-_,E-v),anticlockwise:l*h>u*a}},t.arc=function(t,e,i,r,n,o,a,l,h){for(var f=a-o,d=u._segmentsCount(Math.abs(f)*n,40*Math.ceil(Math.abs(f)/s.PI_2)),p=f/(2*d),c=2*p,x=Math.cos(p),y=Math.sin(p),m=d-1,g=m%1/m,v=0;v<=m;++v){var _=p+o+c*(v+g*v),b=Math.cos(_),T=-Math.sin(_);h.push((x*b+y*T)*n+i,(x*-T+y*b)*n+r)}},t}(),P=function(){function t(){}return t.curveLength=function(t,e,i,r,n,o,s,a){for(var l=0,h=0,u=0,f=0,d=0,p=0,c=0,x=0,y=0,m=0,g=0,v=t,_=e,b=1;b<=10;++b)m=v-(x=(c=(p=(d=1-(h=b/10))*d)*d)*t+3*p*h*i+3*d*(u=h*h)*n+(f=u*h)*s),g=_-(y=c*e+3*p*h*r+3*d*u*o+f*a),v=x,_=y,l+=Math.sqrt(m*m+g*g);return l},t.curveTo=function(e,i,r,n,o,s,a){var l=a[a.length-2],h=a[a.length-1];a.length-=2;var f=u._segmentsCount(t.curveLength(l,h,e,i,r,n,o,s)),d=0,p=0,c=0,x=0,y=0;a.push(l,h);for(var m=1,g=0;m<=f;++m)c=(p=(d=1-(g=m/f))*d)*d,y=(x=g*g)*g,a.push(c*l+3*p*g*e+3*d*x*r+y*o,c*h+3*p*g*i+3*d*x*n+y*s)},t}(),X=function(){function t(){}return t.curveLength=function(t,e,i,r,n,o){var s=t-2*i+n,a=e-2*r+o,l=2*i-2*t,h=2*r-2*e,u=4*(s*s+a*a),f=4*(s*l+a*h),d=l*l+h*h,p=2*Math.sqrt(u+f+d),c=Math.sqrt(u),x=2*u*c,y=2*Math.sqrt(d),m=f/c;return(x*p+c*f*(p-y)+(4*d*u-f*f)*Math.log((2*c+m+p)/(m+y)))/(4*x)},t.curveTo=function(e,i,r,n,o){for(var s=o[o.length-2],a=o[o.length-1],l=u._segmentsCount(t.curveLength(s,a,e,i,r,n)),h=0,f=0,d=1;d<=l;++d){var p=d/l;h=s+(e-s)*p,f=a+(i-a)*p,o.push(h+(e+(r-e)*p-h)*p,f+(i+(n-i)*p-f)*p)}},t}(),I=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),A=((E={})[s.SHAPES.POLY]=c,E[s.SHAPES.CIRC]=x,E[s.SHAPES.ELIP]=x,E[s.SHAPES.RECT]=y,E[s.SHAPES.RREC]=v,E),O=[],C=[],M={buildPoly:c,buildCircle:x,buildRectangle:y,buildRoundedRectangle:v,FILL_COMMANDS:A,BATCH_POOL:O,DRAW_CALL_POOL:C,buildLine:T,Star:w,ArcUtils:S,BezierUtils:P,QuadraticUtils:X,BatchPart:I},D=function(){function t(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type,this.points=[],this.holes=[]}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),R=new s.Point,L=new h.Bounds,N=function(t){function e(){var e=t.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new h.Bounds,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return p(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),C.push(this.drawCalls[t]);for(this.drawCalls.length=0,t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),O.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null);var n=new D(t,e,i,r);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var i=new D(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=r.lineStyle,r.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,i=0;i<e.length;++i){var r=e[i];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,R):R.copyFrom(t),r.shape.contains(R.x,R.y))){var n=!1;if(r.holes)for(var o=0;o<r.holes.length;o++)if(r.holes[o].shape.contains(R.x,R.y)){n=!0;break}if(!n)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,i=this.graphicsData,r=null,n=null;this.batches.length>0&&(n=(r=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<i.length;o++){this.shapeIndex++;var s=i[o],a=s.fillStyle,h=s.lineStyle;A[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix);for(var u=0;u<2;u++){var f=0===u?a:h;if(f.visible){var d=f.texture.baseTexture,p=this.indices.length,c=this.points.length/2;d.wrapMode=l.WRAP_MODES.REPEAT,0===u?this.processFill(s):this.processLine(s);var x=this.points.length/2-c;0!==x&&(r&&!this._compareStyles(n,f)&&(r.end(p,c),r=null),r||((r=O.pop()||new I).begin(f,p,c),this.batches.push(r),n=f),this.addUvs(this.points,e,f.texture,c,x,f.matrix))}}}var y=this.indices.length,m=this.points.length/2;if(r&&r.end(y,m),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var g=m>65535&&t;this.indicesUint16=g?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&t.texture.baseTexture===e.texture.baseTexture&&t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var i=this.graphicsData[t],r=i.fillStyle,n=i.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,i=t.length;e<i;e++)for(var r=t[e],n=0;n<r.size;n++){var o=r.start+n;this.indicesUint16[o]=this.indicesUint16[o]-r.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,i=0;i<t.length;i++)if(t[i].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++o.BaseTexture._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),C.push(this.drawCalls[e]);this.drawCalls.length=0;var i=this.colors,r=this.textureIds,n=C.pop();n||((n=new o.BatchDrawCall).texArray=new o.BatchTextureArray),n.texArray.count=0,n.start=0,n.size=0,n.type=l.DRAW_MODES.TRIANGLES;var s=0,a=null,h=0,u=!1,f=l.DRAW_MODES.TRIANGLES,d=0;for(this.drawCalls.push(n),e=0;e<this.batches.length;e++){var p=this.batches[e],c=p.style,x=c.texture.baseTexture;u!==!!c.native&&(f=(u=!!c.native)?l.DRAW_MODES.LINES:l.DRAW_MODES.TRIANGLES,a=null,s=8,t++),a!==x&&(a=x,x._batchEnabled!==t&&(8===s&&(t++,s=0,n.size>0&&((n=C.pop())||((n=new o.BatchDrawCall).texArray=new o.BatchTextureArray),this.drawCalls.push(n)),n.start=d,n.size=0,n.texArray.count=0,n.type=f),x.touched=1,x._batchEnabled=t,x._batchLocation=s,x.wrapMode=10497,n.texArray.elements[n.texArray.count++]=x,s++)),n.size+=p.size,d+=p.size,h=x._batchLocation,this.addColors(i,c.color,c.alpha,p.attribSize),this.addTextureIds(r,h,p.attribSize)}o.BaseTexture._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,i=this.colors,r=this.textureIds,n=new ArrayBuffer(3*t.length*4),o=new Float32Array(n),s=new Uint32Array(n),a=0,l=0;l<t.length/2;l++)o[a++]=t[2*l],o[a++]=t[2*l+1],o[a++]=e[2*l],o[a++]=e[2*l+1],s[a++]=i[l],o[a++]=r[l];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),c.triangulate(t,this)):A[t.type].triangulate(t,this)},e.prototype.processLine=function(t){T(t,this);for(var e=0;e<t.holes.length;e++)T(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var i=t[e];A[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=L,i=s.Matrix.IDENTITY;this._bounds.clear(),e.clear();for(var r=0;r<this.graphicsData.length;r++){var n=this.graphicsData[r],o=n.shape,a=n.type,l=n.lineStyle,h=n.matrix||s.Matrix.IDENTITY,u=0;if(l&&l.visible){var f=l.alignment;u=l.width,a===s.SHAPES.POLY?u*=.5+Math.abs(.5-f):u*=Math.max(0,f)}if(i!==h&&(e.isEmpty()||(t.addBoundsMatrix(e,i),e.clear()),i=h),a===s.SHAPES.RECT||a===s.SHAPES.RREC){var d=o;e.addFramePad(d.x,d.y,d.x+d.width,d.y+d.height,u,u)}else if(a===s.SHAPES.CIRC){var p=o;e.addFramePad(p.x,p.y,p.x,p.y,p.radius+u,p.radius+u)}else if(a===s.SHAPES.ELIP){var c=o;e.addFramePad(c.x,c.y,c.x,c.y,c.width+u,c.height+u)}else{var x=o;t.addVerticesMatrix(i,x.points,0,x.points.length,u,u)}}e.isEmpty()||t.addBoundsMatrix(e,i),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var i=0;i<t.length/2;i++){var r=t[2*i],n=t[2*i+1];t[2*i]=e.a*r+e.c*n+e.tx,t[2*i+1]=e.b*r+e.d*n+e.ty}},e.prototype.addColors=function(t,e,i,r){for(var n=(e>>16)+(65280&e)+((255&e)<<16),o=(0,a.premultiplyTint)(n,i);r-- >0;)t.push(o)},e.prototype.addTextureIds=function(t,e,i){for(;i-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,i,r,n,o){void 0===o&&(o=null);for(var s=0,a=e.length,l=i.frame;s<n;){var h=t[2*(r+s)],u=t[2*(r+s)+1];if(o){var f=o.a*h+o.c*u+o.tx;u=o.b*h+o.d*u+o.ty,h=f}s++,e.push(h/l.width,u/l.height)}var d=i.baseTexture;(l.width<d.width||l.height<d.height)&&this.adjustUvs(e,i,a,n)},e.prototype.adjustUvs=function(t,e,i,r){for(var n=e.baseTexture,o=1e-6,s=i+2*r,a=e.frame,l=a.width/n.width,h=a.height/n.height,u=a.x/a.width,f=a.y/a.height,d=Math.floor(t[i]+o),p=Math.floor(t[i+1]+o),c=i+2;c<s;c+=2)d=Math.min(d,Math.floor(t[c]+o)),p=Math.min(p,Math.floor(t[c+1]+o));for(u-=d,f-=p,c=i;c<s;c+=2)t[c]=(t[c]+u)*l,t[c+1]=(t[c+1]+f)*h},e.BATCHABLE_SIZE=100,e}(o.BatchGeometry),B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=n.BUTT,e.join=r.MITER,e.miterLimit=10,e}return p(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(f),F=new Float32Array(3),U={},k=function(t){function e(e){void 0===e&&(e=null);var i=t.call(this)||this;return i._geometry=e||new N,i._geometry.refCount++,i.shader=null,i.state=o.State.for2d(),i._fillStyle=new f,i._lineStyle=new B,i._matrix=null,i._holeMode=!1,i.currentPath=null,i.batches=[],i.batchTint=-1,i.batchDirty=-1,i.vertexData=null,i.pluginName="batch",i._transformID=-1,i.tint=16777215,i.blendMode=l.BLEND_MODES.NORMAL,i}return p(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t){if(void 0===t&&(t=null),"number"==typeof t){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){if("number"==typeof t){(0,a.deprecation)("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var e=arguments,i=e[0],s=e[1],l=e[2],h=e[3],u=e[4],f=e[5],d=e[6];t={width:i,texture:s,color:l,alpha:h,matrix:u,alignment:f,native:d},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({width:0,texture:o.Texture.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:n.BUTT,join:r.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var p=t.width>0&&t.alpha>0;return p?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:p},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new s.Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new s.Polygon,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,r=i[i.length-2],n=i[i.length-1];return r===t&&n===e||i.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,i,r){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),X.curveTo(t,e,i,r,n),this},e.prototype.bezierCurveTo=function(t,e,i,r,n,o){return this._initCurve(),P.curveTo(t,e,i,r,n,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,i,r,n){this._initCurve(t,e);var o=this.currentPath.points,s=S.curveTo(t,e,i,r,n,o);if(s){var a=s.cx,l=s.cy,h=s.radius,u=s.startAngle,f=s.endAngle,d=s.anticlockwise;this.arc(a,l,h,u,f,d)}return this},e.prototype.arc=function(t,e,i,r,n,o){if(void 0===o&&(o=!1),r===n)return this;if(!o&&n<=r?n+=s.PI_2:o&&r<=n&&(r+=s.PI_2),0==n-r)return this;var a=t+Math.cos(r)*i,l=e+Math.sin(r)*i,h=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var f=Math.abs(u[u.length-2]-a),d=Math.abs(u[u.length-1]-l);f<h&&d<h||u.push(a,l)}else this.moveTo(a,l),u=this.currentPath.points;return S.arc(a,l,t,e,i,r,n,o,u),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:o.Texture.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){if(t instanceof o.Texture){(0,a.deprecation)("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments,i=e[0],r=e[1],n=e[2],s=e[3];t={texture:i,color:r,alpha:n,matrix:s},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({texture:o.Texture.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var l=t.alpha>0;return l?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:l},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,i,r){return this.drawShape(new s.Rectangle(t,e,i,r))},e.prototype.drawRoundedRect=function(t,e,i,r,n){return this.drawShape(new s.RoundedRectangle(t,e,i,r,n))},e.prototype.drawCircle=function(t,e,i){return this.drawShape(new s.Circle(t,e,i))},e.prototype.drawEllipse=function(t,e,i,r){return this.drawShape(new s.Ellipse(t,e,i,r))},e.prototype.drawPolygon=function(){for(var t,e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];var n=!0,o=i[0];o.points?(n=o.closeStroke,t=o.points):t=Array.isArray(i[0])?i[0]:i;var a=new s.Polygon(t);return a.closeStroke=n,this.drawShape(a),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,i,r,n,o){return void 0===o&&(o=0),this.drawPolygon(new w(t,e,i,r,n,o))},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===s.SHAPES.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry,i=t.context.supports.uint32Indices;e.updateBatches(i),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,i=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(t.points);for(var r=0;r<i;r++){var n=t.batches[r],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),l=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:l,_batchRGB:(0,a.hex2rgb)(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=h}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,i=this.batches.length;e<i;e++){var r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),i=this._geometry,r=this.tint,n=this.worldAlpha,o=e.uniforms,s=i.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(r>>16&255)/255*n,o.tint[1]=(r>>8&255)/255*n,o.tint[2]=(255&r)/255*n,o.tint[3]=n,t.shader.bind(e),t.geometry.bind(i,e),t.state.set(this.state);for(var a=0,l=s.length;a<l;a++)this._renderDrawCallDirect(t,i.drawCalls[a])},e.prototype._renderDrawCallDirect=function(t,e){for(var i=e.texArray,r=e.type,n=e.size,o=e.start,s=i.count,a=0;a<s;a++)t.texture.bind(i.elements[a],a);t.geometry.draw(r,n,o)},e.prototype._resolveDirectShader=function(t){var e=this.shader,i=this.pluginName;if(!e){if(!U[i]){for(var r=t.plugins.batch.MAX_TEXTURES,n=new Int32Array(r),a=0;a<r;a++)n[a]=a;var l={tint:new Float32Array([1,1,1,1]),translationMatrix:new s.Matrix,default:o.UniformGroup.from({uSamplers:n},!0)},h=t.plugins[i]._shader.program;U[i]=new o.Shader(h,l)}e=U[i]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,i=e.minX,r=e.minY,n=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,i,r,n,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=(0,a.hex2rgb)(this.tint,F),e=0;e<this.batches.length;e++){var i=this.batches[e],r=i._batchRGB,n=(t[0]*r[0]*255<<16)+(t[1]*r[1]*255<<8)+(0|t[2]*r[2]*255);i._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,l=this._geometry.points,h=this.vertexData,u=0,f=0;f<l.length;f+=2){var d=l[f],p=l[f+1];h[u++]=i*d+n*p+s,h[u++]=o*p+r*d+a}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e._TEMP_POINT=new s.Point,e}(h.Container)},295:(t,e,i)=>{"use strict";i.r(e),i.d(e,{Circle:()=>l,DEG_TO_RAD:()=>s,Ellipse:()=>h,Matrix:()=>c,ObservablePoint:()=>p,PI_2:()=>n,Point:()=>d,Polygon:()=>u,RAD_TO_DEG:()=>o,Rectangle:()=>a,RoundedRectangle:()=>f,SHAPES:()=>r,Transform:()=>E,groupD8:()=>T});var r,n=2*Math.PI,o=180/Math.PI,s=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(r||(r={}));var a=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(n),this.type=r.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(n-r,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=n-r,this},t}(),l=function(){function t(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.radius=i,this.type=r.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.radius*this.radius,r=this.x-t,n=this.y-e;return(r*=r)+(n*=n)<=i},t.prototype.getBounds=function(){return new a(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}(),h=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.width=i,this.height=n,this.type=r.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return(i*=i)+(r*=r)<=1},t.prototype.getBounds=function(){return new a(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),u=function(){function t(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var n=Array.isArray(e[0])?e[0]:e;if("number"!=typeof n[0]){for(var o=[],s=0,a=n.length;s<a;s++)o.push(n[s].x,n[s].y);n=o}this.points=n,this.type=r.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,n=0,o=r-1;n<r;o=n++){var s=this.points[2*n],a=this.points[2*n+1],l=this.points[2*o],h=this.points[2*o+1];a>e!=h>e&&t<(e-a)/(h-a)*(l-s)+s&&(i=!i)}return i},t}(),f=function(){function t(t,e,i,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=20),this.x=t,this.y=e,this.width=i,this.height=n,this.radius=o,this.type=r.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var i=t-(this.x+this.radius),r=e-(this.y+this.radius),n=this.radius*this.radius;if(i*i+r*r<=n)return!0;if((i=t-(this.x+this.width-this.radius))*i+r*r<=n)return!0;if(i*i+(r=e-(this.y+this.height-this.radius))*r<=n)return!0;if((i=t-(this.x+this.radius))*i+r*r<=n)return!0}return!1},t}(),d=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t}(),p=function(){function t(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e}return t.prototype.clone=function(e,i){return void 0===e&&(e=this.cb),void 0===i&&(i=this.scope),new t(e,i,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),c=function(){function t(t,e,i,r,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=o}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,i,r,n,o){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},t.prototype.apply=function(t,e){e=e||new d;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new d;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,n=t.y;return e.x=this.d*i*r+-this.c*i*n+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*n+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,o=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=o*e-this.ty*i,this.ty=o*i+this.ty*e,this},t.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},t.prototype.setTransform=function(t,e,i,r,n,o,s,a,l){return this.a=Math.cos(s+l)*n,this.b=Math.sin(s+l)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,o=this.d,s=-Math.atan2(-r,o),a=Math.atan2(i,e),l=Math.abs(s+a);return l<1e-5||Math.abs(n-l)<1e-5?(t.rotation=a,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=a),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+o*o),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,n=this.tx,o=t*r-e*i;return this.a=r/o,this.b=-e/o,this.c=-i/o,this.d=t/o,this.tx=(i*this.ty-r*n)/o,this.ty=-(t*this.ty-e*n)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),x=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],y=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],m=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],g=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],v=[],_=[],b=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];v.push(e);for(var i=0;i<16;i++)for(var r=b(x[t]*x[i]+m[t]*y[i]),n=b(y[t]*x[i]+g[t]*y[i]),o=b(x[t]*m[i]+m[t]*g[i]),s=b(y[t]*m[i]+g[t]*g[i]),a=0;a<16;a++)if(x[a]===r&&y[a]===n&&m[a]===o&&g[a]===s){e.push(a);break}}for(t=0;t<16;t++){var l=new c;l.set(x[t],y[t],m[t],g[t],0,0),_.push(l)}}();var T={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return x[t]},uY:function(t){return y[t]},vX:function(t){return m[t]},vY:function(t){return g[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return v[t][e]},sub:function(t,e){return v[t][T.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?T.S:T.N:2*Math.abs(e)<=Math.abs(t)?t>0?T.E:T.W:e>0?t>0?T.SE:T.SW:t>0?T.NE:T.NW},matrixAppendRotationInv:function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var n=_[T.inv(e)];n.tx=i,n.ty=r,t.append(n)}},E=function(){function t(){this.worldTransform=new c,this.localTransform=new c,this.position=new p(this.onChange,this,0,0),this.scale=new p(this.onChange,this,1,1),this.pivot=new p(this.onChange,this,0,0),this.skew=new p(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}()},557:(t,e,i)=>{"use strict";i.d(e,{R:()=>r});var r=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,i,r,n,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");var l=this,h=l.name,u=l.items;this._aliasCount++;for(var f=0,d=u.length;f<d;f++)u[f][h](t,e,i,r,n,o,s,a);return u===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(r.prototype,{dispatch:{value:r.prototype.emit},run:{value:r.prototype.emit}})},264:(t,e,i)=>{"use strict";i.d(e,{t:()=>v,X:()=>_});var r=/iPhone/i,n=/iPod/i,o=/iPad/i,s=/\biOS-universal(?:.+)Mac\b/i,a=/\bAndroid(?:.+)Mobile\b/i,l=/Android/i,h=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,u=/Silk/i,f=/Windows Phone/i,d=/\bWindows(?:.+)ARM\b/i,p=/BlackBerry/i,c=/BB10/i,x=/Opera Mini/i,y=/\b(CriOS|Chrome)(?:.+)Mobile/i,m=/Mobile(?:.+)Firefox\b/i,g=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream},v=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var i=e.userAgent,v=i.split("[FBAN");void 0!==v[1]&&(i=v[0]),void 0!==(v=i.split("Twitter"))[1]&&(i=v[0]);var _=function(t){return function(e){return e.test(t)}}(i),b={apple:{phone:_(r)&&!_(f),ipod:_(n),tablet:!_(r)&&(_(o)||g(e))&&!_(f),universal:_(s),device:(_(r)||_(n)||_(o)||_(s)||g(e))&&!_(f)},amazon:{phone:_(h),tablet:!_(h)&&_(u),device:_(h)||_(u)},android:{phone:!_(f)&&_(h)||!_(f)&&_(a),tablet:!_(f)&&!_(h)&&!_(a)&&(_(u)||_(l)),device:!_(f)&&(_(h)||_(u)||_(a)||_(l))||_(/\bokhttp\b/i)},windows:{phone:_(f),tablet:_(d),device:_(f)||_(d)},other:{blackberry:_(p),blackberry10:_(c),opera:_(x),firefox:_(m),chrome:_(y),device:_(p)||_(c)||_(x)||_(m)||_(y)},any:!1,phone:!1,tablet:!1};return b.any=b.apple.device||b.android.device||b.windows.device||b.other.device,b.phone=b.apple.phone||b.android.phone||b.windows.phone,b.tablet=b.apple.tablet||b.android.tablet||b.windows.tablet,b}(window.navigator),_={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(t){var e,i=!0;(v.tablet||v.phone)&&(v.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(i=!1),v.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(i=!1));return i?32:4}(),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:v.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!v.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1}},38:(t,e,i)=>{"use strict";i.r(e),i.d(e,{Sprite:()=>d});var r=i(54),n=i(307),o=i(29),s=i(295),a=i(264),l=i(323),h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},u=new s.Point,f=new Uint16Array([0,1,2,0,2,3]),d=function(t){function e(e){var i=t.call(this)||this;return i._anchor=new s.ObservablePoint(i._onAnchorUpdate,i,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=r.BLEND_MODES.NORMAL,i._cachedTint=16777215,i.uvs=null,i.texture=e||n.Texture.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.indices=f,i.pluginName="batch",i.isSprite=!0,i._roundPixels=a.X.ROUND_PIXELS,i}return function(t,e){function i(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=(0,l.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,l.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,o=e.d,s=e.tx,l=e.ty,h=this.vertexData,u=t.trim,f=t.orig,d=this._anchor,p=0,c=0,x=0,y=0;if(u?(p=(c=u.x-d._x*f.width)+u.width,x=(y=u.y-d._y*f.height)+u.height):(p=(c=-d._x*f.width)+f.width,x=(y=-d._y*f.height)+f.height),h[0]=i*c+n*y+s,h[1]=o*y+r*c+l,h[2]=i*p+n*y+s,h[3]=o*y+r*p+l,h[4]=i*p+n*x+s,h[5]=o*x+r*p+l,h[6]=i*c+n*x+s,h[7]=o*x+r*c+l,this._roundPixels)for(var m=a.X.RESOLUTION,g=0;g<h.length;++g)h[g]=Math.round((h[g]*m|0)/m)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,r=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,l=n.d,h=n.tx,u=n.ty,f=-r._x*i.width,d=f+i.width,p=-r._y*i.height,c=p+i.height;e[0]=o*f+a*p+h,e[1]=l*p+s*f+u,e[2]=o*d+a*p+h,e[3]=l*p+s*d+u,e[4]=o*d+a*c+h,e[5]=l*c+s*d+u,e[6]=o*f+a*c+h,e[7]=l*c+s*f+u},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new s.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,u);var e=this._texture.orig.width,i=this._texture.orig.height,r=-e*this.anchor.x,n=0;return u.x>=r&&u.x<r+e&&(n=-i*this.anchor.y,u.y>=n&&u.y<n+i)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var i="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(t,i){return new e(t instanceof n.Texture?t:n.Texture.from(t,i))},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,l.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,l.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||n.Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(o.Container)},662:(t,e,i)=>{"use strict";i.d(e,{vB:()=>s,Sb:()=>a,uF:()=>r});var r,n=i(264);n.X.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(r||(r={}));var o=function(){function t(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.fn=t,this.context=e,this.priority=i,this.once=r,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),s=function(){function t(){var t=this;this._head=new o(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/n.X.TARGET_FPMS,this.elapsedMS=1/n.X.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,i){return void 0===i&&(i=r.NORMAL),this._addListener(new o(t,e,i))},t.prototype.addOnce=function(t,e,i){return void 0===i&&(i=r.NORMAL),this._addListener(new o(t,e,i,!0))},t.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*n.X.TARGET_FPMS;for(var r=this._head,o=r.next;o;)o=o.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,n.X.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),a=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,r.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?s.shared:new s,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}()},323:(t,e,i)=>{"use strict";i.r(e),i.d(e,{isMobile:()=>r.t,EventEmitter:()=>o.a,earcut:()=>a.a,url:()=>l,BaseTextureCache:()=>U,CanvasRenderTarget:()=>G,DATA_URI:()=>Y,ProgramCache:()=>B,TextureCache:()=>F,clearTextureCache:()=>j,correctBlendMode:()=>_,createIndicesForQuads:()=>w,decomposeDataUri:()=>V,deprecation:()=>N,destroyTextureCache:()=>k,determineCrossOrigin:()=>W,getBufferType:()=>S,getResolutionOfUrl:()=>q,hex2rgb:()=>x,hex2string:()=>y,interleaveTypedArrays:()=>X,isPow2:()=>A,isWebGLSupported:()=>c,log2:()=>O,nextPow2:()=>I,premultiplyBlendMode:()=>v,premultiplyRgba:()=>b,premultiplyTint:()=>T,premultiplyTintToRgba:()=>E,removeItems:()=>C,rgb2hex:()=>g,sayHello:()=>p,sign:()=>M,skipHello:()=>d,string2hex:()=>m,trimCanvas:()=>H,uid:()=>R});var r=i(264),n=i(729),o=i.n(n),s=i(187),a=i.n(s),l=i(575),h=i(54);r.X.RETINA_PREFIX=/@([0-9\.]+)x/,r.X.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var u,f=!1;function d(){f=!0}function p(t){var e;if(!f){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var i=["\n %c %c %c PixiJS 5.3.7 - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=window.console).log.apply(e,i)}else window.console&&window.console.log("PixiJS 5.3.7 - "+t+" - http://www.pixijs.com/");f=!0}}function c(){return void 0===u&&(u=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:r.X.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!i||!i.getContextAttributes().stencil);if(i){var o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,n}catch(t){return!1}}()),u}function x(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function y(t){var e=t.toString(16);return"#"+("000000".substr(0,6-e.length)+e)}function m(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}function g(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var v=function(){for(var t=[],e=[],i=0;i<32;i++)t[i]=i,e[i]=i;t[h.BLEND_MODES.NORMAL_NPM]=h.BLEND_MODES.NORMAL,t[h.BLEND_MODES.ADD_NPM]=h.BLEND_MODES.ADD,t[h.BLEND_MODES.SCREEN_NPM]=h.BLEND_MODES.SCREEN,e[h.BLEND_MODES.NORMAL]=h.BLEND_MODES.NORMAL_NPM,e[h.BLEND_MODES.ADD]=h.BLEND_MODES.ADD_NPM,e[h.BLEND_MODES.SCREEN]=h.BLEND_MODES.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r}();function _(t,e){return v[e?1:0][t]}function b(t,e,i,r){return i=i||new Float32Array(4),r||void 0===r?(i[0]=t[0]*e,i[1]=t[1]*e,i[2]=t[2]*e):(i[0]=t[0],i[1]=t[1],i[2]=t[2]),i[3]=e,i}function T(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=t>>16&255,r=t>>8&255,n=255&t;return(255*e<<24)+((i=i*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(n*e+.5|0)}function E(t,e,i,r){return(i=i||new Float32Array(4))[0]=(t>>16&255)/255,i[1]=(t>>8&255)/255,i[2]=(255&t)/255,(r||void 0===r)&&(i[0]*=e,i[1]*=e,i[2]*=e),i[3]=e,i}function w(t,e){void 0===e&&(e=null);var i=6*t;if((e=e||new Uint16Array(i)).length!==i)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+i);for(var r=0,n=0;r<i;r+=6,n+=4)e[r+0]=n+0,e[r+1]=n+1,e[r+2]=n+2,e[r+3]=n+0,e[r+4]=n+2,e[r+5]=n+3;return e}function S(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var P={Float32Array,Uint32Array,Int32Array,Uint8Array};function X(t,e){for(var i=0,r=0,n={},o=0;o<t.length;o++)r+=e[o],i+=t[o].length;var s=new ArrayBuffer(4*i),a=null,l=0;for(o=0;o<t.length;o++){var h=e[o],u=t[o],f=S(u);n[f]||(n[f]=new P[f](s)),a=n[f];for(var d=0;d<u.length;d++)a[(d/h|0)*r+l+d%h]=u[d];l+=h}return new Float32Array(s)}function I(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)}function A(t){return!(t&t-1||!t)}function O(t){var e=(t>65535?1:0)<<4,i=((t>>>=e)>255?1:0)<<3;return e|=i,e|=i=((t>>>=i)>15?1:0)<<2,(e|=i=((t>>>=i)>3?1:0)<<1)|(t>>>=i)>>1}function C(t,e,i){var r,n=t.length;if(!(e>=n||0===i)){var o=n-(i=e+i>n?n-e:i);for(r=e;r<o;++r)t[r]=t[r+i];t.length=o}}function M(t){return 0===t?0:t<0?-1:1}var D=0;function R(){return++D}var L={};function N(t,e,i){if(void 0===i&&(i=3),!L[e]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(r=r.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(r))),L[e]=!0}}var B={},F=Object.create(null),U=Object.create(null);function k(){var t;for(t in F)F[t].destroy();for(t in U)U[t].destroy()}function j(){var t;for(t in F)delete F[t];for(t in U)delete U[t]}var G=function(){function t(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||r.X.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),t}();function H(t){var e,i,r,n=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,n,o).data,l=a.length,h={top:null,left:null,right:null,bottom:null},u=null;for(e=0;e<l;e+=4)0!==a[e+3]&&(i=e/4%n,r=~~(e/4/n),null===h.top&&(h.top=r),(null===h.left||i<h.left)&&(h.left=i),(null===h.right||h.right<i)&&(h.right=i+1),(null===h.bottom||h.bottom<r)&&(h.bottom=r));return null!==h.top&&(n=h.right-h.left,o=h.bottom-h.top+1,u=s.getImageData(h.left,h.top,n,o)),{height:o,width:n,data:u}}var z,Y=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function V(t){var e=Y.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function W(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,z||(z=document.createElement("a")),z.href=t;var i=(0,l.parse)(z.href),r=!i.port&&""===e.port||i.port===e.port;return i.hostname===e.hostname&&r&&i.protocol===e.protocol?"":"anonymous"}function q(t,e){var i=r.X.RETINA_PREFIX.exec(t);return i?parseFloat(i[1]):void 0!==e?e:1}},187:t=>{"use strict";function e(t,e,o){o=o||2;var s,a,l,f,d,c,x,y=e&&e.length,m=y?e[0]*o:t.length,g=i(t,0,m,o,!0),v=[];if(!g||g.next===g.prev)return v;if(y&&(g=function(t,e,n,o){var s,a,l,f=[];for(s=0,a=e.length;s<a;s++)(l=i(t,e[s]*o,s<a-1?e[s+1]*o:t.length,o,!1))===l.next&&(l.steiner=!0),f.push(p(l));for(f.sort(h),s=0;s<f.length;s++)u(f[s],n),n=r(n,n.next);return n}(t,e,g,o)),t.length>80*o){s=l=t[0],a=f=t[1];for(var _=o;_<m;_+=o)(d=t[_])<s&&(s=d),(c=t[_+1])<a&&(a=c),d>l&&(l=d),c>f&&(f=c);x=0!==(x=Math.max(l-s,f-a))?1/x:0}return n(g,v,o,s,a,x),v}function i(t,e,i,r,n){var o,s;if(n===P(t,e,i,r)>0)for(o=e;o<i;o+=r)s=E(o,t[o],t[o+1],s);else for(o=i-r;o>=e;o-=r)s=E(o,t[o],t[o+1],s);return s&&m(s,s.next)&&(w(s),s=s.next),s}function r(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!m(r,r.next)&&0!==y(r.prev,r,r.next))r=r.next;else{if(w(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function n(t,e,i,h,u,f,p){if(t){!p&&f&&function(t,e,i,r){var n=t;do{null===n.z&&(n.z=d(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,o,s,a,l,h=1;do{for(i=t,t=null,o=null,s=0;i;){for(s++,r=i,a=0,e=0;e<h&&(a++,r=r.nextZ);e++);for(l=h;a>0||l>0&&r;)0!==a&&(0===l||!r||i.z<=r.z)?(n=i,i=i.nextZ,a--):(n=r,r=r.nextZ,l--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;i=r}o.nextZ=null,h*=2}while(s>1)}(n)}(t,h,u,f);for(var c,x,y=t;t.prev!==t.next;)if(c=t.prev,x=t.next,f?s(t,h,u,f):o(t))e.push(c.i/i),e.push(t.i/i),e.push(x.i/i),w(t),t=x.next,y=x.next;else if((t=x)===y){p?1===p?n(t=a(r(t),e,i),e,i,h,u,f,2):2===p&&l(t,e,i,h,u,f):n(r(t),e,i,h,u,f,1);break}}}function o(t){var e=t.prev,i=t,r=t.next;if(y(e,i,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(c(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&y(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function s(t,e,i,r){var n=t.prev,o=t,s=t.next;if(y(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,l=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,h=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,u=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,f=d(a,l,e,i,r),p=d(h,u,e,i,r),x=t.prevZ,m=t.nextZ;x&&x.z>=f&&m&&m.z<=p;){if(x!==t.prev&&x!==t.next&&c(n.x,n.y,o.x,o.y,s.x,s.y,x.x,x.y)&&y(x.prev,x,x.next)>=0)return!1;if(x=x.prevZ,m!==t.prev&&m!==t.next&&c(n.x,n.y,o.x,o.y,s.x,s.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;x&&x.z>=f;){if(x!==t.prev&&x!==t.next&&c(n.x,n.y,o.x,o.y,s.x,s.y,x.x,x.y)&&y(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;m&&m.z<=p;){if(m!==t.prev&&m!==t.next&&c(n.x,n.y,o.x,o.y,s.x,s.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function a(t,e,i){var n=t;do{var o=n.prev,s=n.next.next;!m(o,s)&&g(o,n,n.next,s)&&b(o,s)&&b(s,o)&&(e.push(o.i/i),e.push(n.i/i),e.push(s.i/i),w(n),w(n.next),n=t=s),n=n.next}while(n!==t);return r(n)}function l(t,e,i,o,s,a){var l=t;do{for(var h=l.next.next;h!==l.prev;){if(l.i!==h.i&&x(l,h)){var u=T(l,h);return l=r(l,l.next),u=r(u,u.next),n(l,e,i,o,s,a),void n(u,e,i,o,s,a)}h=h.next}l=l.next}while(l!==t)}function h(t,e){return t.x-e.x}function u(t,e){if(e=function(t,e){var i,r=e,n=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s){if(s=a,a===n){if(o===r.y)return r;if(o===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===s)return i;var l,h=i,u=i.x,d=i.y,p=1/0;r=i;do{n>=r.x&&r.x>=u&&n!==r.x&&c(o<d?n:s,o,u,d,o<d?s:n,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(n-r.x),b(r,t)&&(l<p||l===p&&(r.x>i.x||r.x===i.x&&f(i,r)))&&(i=r,p=l)),r=r.next}while(r!==h);return i}(t,e)){var i=T(e,t);r(e,e.next),r(i,i.next)}}function f(t,e){return y(t.prev,t,e.prev)<0&&y(e.next,t,t.next)<0}function d(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function c(t,e,i,r,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(r-a)-(i-s)*(e-a)>=0&&(i-s)*(o-a)-(n-s)*(r-a)>=0}function x(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&g(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(b(t,e)&&b(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{i.y>o!=i.next.y>o&&i.next.y!==i.y&&n<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)&&(y(t.prev,t,e.prev)||y(t,e.prev,e))||m(t,e)&&y(t.prev,t,t.next)>0&&y(e.prev,e,e.next)>0)}function y(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function g(t,e,i,r){var n=_(y(t,e,i)),o=_(y(t,e,r)),s=_(y(i,r,t)),a=_(y(i,r,e));return n!==o&&s!==a||!(0!==n||!v(t,i,e))||!(0!==o||!v(t,r,e))||!(0!==s||!v(i,t,r))||!(0!==a||!v(i,e,r))}function v(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function _(t){return t>0?1:t<0?-1:0}function b(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function T(t,e){var i=new S(t.i,t.x,t.y),r=new S(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,o.next=r,r.prev=o,r}function E(t,e,i,r){var n=new S(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function w(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P(t,e,i,r){for(var n=0,o=e,s=i-r;o<i;o+=r)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}t.exports=e,t.exports.default=e,e.deviation=function(t,e,i,r){var n=e&&e.length,o=n?e[0]*i:t.length,s=Math.abs(P(t,0,o,i));if(n)for(var a=0,l=e.length;a<l;a++){var h=e[a]*i,u=a<l-1?e[a+1]*i:t.length;s-=Math.abs(P(t,h,u,i))}var f=0;for(a=0;a<r.length;a+=3){var d=r[a]*i,p=r[a+1]*i,c=r[a+2]*i;f+=Math.abs((t[d]-t[c])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[c+1]-t[d+1]))}return 0===s&&0===f?0:Math.abs((f-s)/s)},e.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)i.vertices.push(t[n][o][s]);n>0&&(r+=t[n-1].length,i.holes.push(r))}return i}},713:function(t,e,i){var r;!function(n){var o=n.Promise,s=o&&"resolve"in o&&"reject"in o&&"all"in o&&"race"in o&&function(){var t;return new o((function(e){t=e})),"function"==typeof t}();e?(e.Promise=s?o:P,e.Polyfill=P):void 0===(r=function(){return s?o:P}.call(e,i,e,t))||(t.exports=r);var a="pending",l="sealed",h="fulfilled",u="rejected",f=function(){};function d(t){return"[object Array]"===Object.prototype.toString.call(t)}var p,c="undefined"!=typeof setImmediate?setImmediate:setTimeout,x=[];function y(){for(var t=0;t<x.length;t++)x[t][0](x[t][1]);x=[],p=!1}function m(t,e){x.push([t,e]),p||(p=!0,c(y,0))}function g(t){var e=t.owner,i=e.state_,r=e.data_,n=t[i],o=t.then;if("function"==typeof n){i=h;try{r=n(r)}catch(t){T(o,t)}}v(o,r)||(i===h&&_(o,r),i===u&&T(o,r))}function v(t,e){var i;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var r=e.then;if("function"==typeof r)return r.call(e,(function(r){i||(i=!0,e!==r?_(t,r):b(t,r))}),(function(e){i||(i=!0,T(t,e))})),!0}}catch(e){return i||T(t,e),!0}return!1}function _(t,e){t!==e&&v(t,e)||b(t,e)}function b(t,e){t.state_===a&&(t.state_=l,t.data_=e,m(w,t))}function T(t,e){t.state_===a&&(t.state_=l,t.data_=e,m(S,t))}function E(t){var e=t.then_;t.then_=void 0;for(var i=0;i<e.length;i++)g(e[i])}function w(t){t.state_=h,E(t)}function S(t){t.state_=u,E(t)}function P(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof P==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function i(t){T(e,t)}try{t((function(t){_(e,t)}),i)}catch(t){i(t)}}(t,this)}P.prototype={constructor:P,state_:a,then_:null,data_:void 0,then:function(t,e){var i={owner:this,then:new this.constructor(f),fulfilled:t,rejected:e};return this.state_===h||this.state_===u?m(g,i):this.then_.push(i),i.then},catch:function(t){return this.then(null,t)}},P.all=function(t){if(!d(t))throw new TypeError("You must pass an array to Promise.all().");return new this((function(e,i){var r=[],n=0;function o(t){return n++,function(i){r[t]=i,--n||e(r)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),i):r[a]=s;n||e(r)}))},P.race=function(t){if(!d(t))throw new TypeError("You must pass an array to Promise.race().");return new this((function(e,i){for(var r,n=0;n<t.length;n++)(r=t[n])&&"function"==typeof r.then?r.then(e,i):e(r)}))},P.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this((function(e){e(t)}))},P.reject=function(t){return new this((function(e,i){i(t)}))}}("undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:this)},729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,i="~";function r(){}function n(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function o(t,e,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new n(r,o||t,s),l=i?i+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],a]:t._events[l].push(a):(t._events[l]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,r,n=[];if(0===this._eventsCount)return n;for(r in t=this._events)e.call(t,r)&&n.push(i?r.slice(1):r);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=i?i+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,s=new Array(o);n<o;n++)s[n]=r[n].fn;return s},a.prototype.listenerCount=function(t){var e=i?i+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,n,o,s){var a=i?i+t:t;if(!this._events[a])return!1;var l,h,u=this._events[a],f=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),f){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,n),!0;case 5:return u.fn.call(u.context,e,r,n,o),!0;case 6:return u.fn.call(u.context,e,r,n,o,s),!0}for(h=1,l=new Array(f-1);h<f;h++)l[h-1]=arguments[h];u.fn.apply(u.context,l)}else{var d,p=u.length;for(h=0;h<p;h++)switch(u[h].once&&this.removeListener(t,u[h].fn,void 0,!0),f){case 1:u[h].fn.call(u[h].context);break;case 2:u[h].fn.call(u[h].context,e);break;case 3:u[h].fn.call(u[h].context,e,r);break;case 4:u[h].fn.call(u[h].context,e,r,n);break;default:if(!l)for(d=1,l=new Array(f-1);d<f;d++)l[d-1]=arguments[d];u[h].fn.apply(u[h].context,l)}}return!0},a.prototype.on=function(t,e,i){return o(this,t,e,i,!1)},a.prototype.once=function(t,e,i){return o(this,t,e,i,!0)},a.prototype.removeListener=function(t,e,r,n){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||n&&!a.once||r&&a.context!==r||s(this,o);else{for(var l=0,h=[],u=a.length;l<u;l++)(a[l].fn!==e||n&&!a[l].once||r&&a[l].context!==r)&&h.push(a[l]);h.length?this._events[o]=1===h.length?h[0]:h:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,t.exports=a},940:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(e,i,n){void 0===i&&(i=!1),r(this,t),this._fn=e,this._once=i,this._thisArg=n,this._next=this._prev=this._owner=null}return i(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){r(this,t),this._head=this._tail=void 0}return i(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i}},{key:"has",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new n(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new n(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=n,e.default=s,t.exports=e.default},694:t=>{window,t.exports=function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var r,n=function(t,e){var i=e.x-t.x,r=e.y-t.y;return Math.sqrt(i*i+r*r)},o=function(t){return t*(Math.PI/180)},s=function(t,e,i){for(var r,n=e.split(/[ ,]+/g),o=0;o<n.length;o+=1)r=n[o],t.addEventListener?t.addEventListener(r,i,!1):t.attachEvent&&t.attachEvent(r,i)},a=function(t,e,i){for(var r,n=e.split(/[ ,]+/g),o=0;o<n.length;o+=1)r=n[o],t.removeEventListener?t.removeEventListener(r,i):t.detachEvent&&t.detachEvent(r,i)},l=function(t){return t.preventDefault(),t.type.match(/^touch/)?t.changedTouches:t},h=function(){return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},u=function(t,e){e.top||e.right||e.bottom||e.left?(t.style.top=e.top,t.style.right=e.right,t.style.bottom=e.bottom,t.style.left=e.left):(t.style.left=e.x+"px",t.style.top=e.y+"px")},f=function(t,e,i){var r=d(t);for(var n in r)if(r.hasOwnProperty(n))if("string"==typeof e)r[n]=e+" "+i;else{for(var o="",s=0,a=e.length;s<a;s+=1)o+=e[s]+" "+i+", ";r[n]=o.slice(0,-2)}return r},d=function(t){var e={};return e[t]="",["webkit","Moz","o"].forEach((function(i){e[i+t.charAt(0).toUpperCase()+t.slice(1)]=""})),e},p=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},c=function(t,e){if(t.length)for(var i=0,r=t.length;i<r;i+=1)e(t[i]);else e(t)},x=!!("ontouchstart"in window),y=!!window.PointerEvent,m=!!window.MSPointerEvent,g={start:"mousedown",move:"mousemove",end:"mouseup"},v={};function _(){}y?r={start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"}:m?r={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:x?(r={start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},v=g):r=g,_.prototype.on=function(t,e){var i,r=t.split(/[ ,]+/g);this._handlers_=this._handlers_||{};for(var n=0;n<r.length;n+=1)i=r[n],this._handlers_[i]=this._handlers_[i]||[],this._handlers_[i].push(e);return this},_.prototype.off=function(t,e){return this._handlers_=this._handlers_||{},void 0===t?this._handlers_={}:void 0===e?this._handlers_[t]=null:this._handlers_[t]&&this._handlers_[t].indexOf(e)>=0&&this._handlers_[t].splice(this._handlers_[t].indexOf(e),1),this},_.prototype.trigger=function(t,e){var i,r=this,n=t.split(/[ ,]+/g);r._handlers_=r._handlers_||{};for(var o=0;o<n.length;o+=1)i=n[o],r._handlers_[i]&&r._handlers_[i].length&&r._handlers_[i].forEach((function(t){t.call(r,{type:i,target:r},e)}))},_.prototype.config=function(t){this.options=this.defaults||{},t&&(this.options=function(t,e){var i={};for(var r in t)t.hasOwnProperty(r)&&e.hasOwnProperty(r)?i[r]=e[r]:t.hasOwnProperty(r)&&(i[r]=t[r]);return i}(this.options,t))},_.prototype.bindEvt=function(t,e){var i=this;return i._domHandlers_=i._domHandlers_||{},i._domHandlers_[e]=function(){"function"==typeof i["on"+e]?i["on"+e].apply(i,arguments):console.warn('[WARNING] : Missing "on'+e+'" handler.')},s(t,r[e],i._domHandlers_[e]),v[e]&&s(t,v[e],i._domHandlers_[e]),i},_.prototype.unbindEvt=function(t,e){return this._domHandlers_=this._domHandlers_||{},a(t,r[e],this._domHandlers_[e]),v[e]&&a(t,v[e],this._domHandlers_[e]),delete this._domHandlers_[e],this};var b=_;function T(t,e){return this.identifier=e.identifier,this.position=e.position,this.frontPosition=e.frontPosition,this.collection=t,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(e),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=T.id,T.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}T.prototype=new b,T.constructor=T,T.id=0,T.prototype.buildEl=function(t){return this.ui={},this.options.dataOnly||(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front)),this},T.prototype.stylize=function(){if(this.options.dataOnly)return this;var t=this.options.fadeTime+"ms",e=function(t,e){var i=d("borderRadius");for(var r in i)i.hasOwnProperty(r)&&(i[r]="50%");return i}(),i=f("transition","opacity",t),r={};return r.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},r.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:this.options.color,opacity:".5"},r.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:this.options.color,opacity:".5"},p(r.el,i),"circle"===this.options.shape&&p(r.back,e),p(r.front,e),this.applyStyles(r),this},T.prototype.applyStyles=function(t){for(var e in this.ui)if(this.ui.hasOwnProperty(e))for(var i in t[e])this.ui[e].style[i]=t[e][i];return this},T.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)||this.options.zone.appendChild(this.ui.el),this},T.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)||this.options.zone.removeChild(this.ui.el),this},T.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},T.prototype.show=function(t){var e=this;return e.options.dataOnly||(clearTimeout(e.removeTimeout),clearTimeout(e.showTimeout),clearTimeout(e.restTimeout),e.addToDom(),e.restCallback(),setTimeout((function(){e.ui.el.style.opacity=1}),0),e.showTimeout=setTimeout((function(){e.trigger("shown",e.instance),"function"==typeof t&&t.call(this)}),e.options.fadeTime)),e},T.prototype.hide=function(t){var e=this;return e.options.dataOnly||(e.ui.el.style.opacity=e.options.restOpacity,clearTimeout(e.removeTimeout),clearTimeout(e.showTimeout),clearTimeout(e.restTimeout),e.removeTimeout=setTimeout((function(){var i="dynamic"===e.options.mode?"none":"block";e.ui.el.style.display=i,"function"==typeof t&&t.call(e),e.trigger("hidden",e.instance)}),e.options.fadeTime),e.options.restJoystick&&e.setPosition(t,{x:0,y:0})),e},T.prototype.setPosition=function(t,e){var i=this;i.frontPosition={x:e.x,y:e.y};var r=i.options.fadeTime+"ms",n={};n.front=f("transition",["top","left"],r);var o={front:{}};o.front={left:i.frontPosition.x+"px",top:i.frontPosition.y+"px"},i.applyStyles(n),i.applyStyles(o),i.restTimeout=setTimeout((function(){"function"==typeof t&&t.call(i),i.restCallback()}),i.options.fadeTime)},T.prototype.restCallback=function(){var t={};t.front=f("transition","none",""),this.applyStyles(t),this.trigger("rested",this.instance)},T.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},T.prototype.computeDirection=function(t){var e,i,r,n=t.angle.radian,o=Math.PI/4,s=Math.PI/2;if(n>o&&n<3*o&&!t.lockX?e="up":n>-o&&n<=o&&!t.lockY?e="left":n>3*-o&&n<=-o&&!t.lockX?e="down":t.lockY||(e="right"),t.lockY||(i=n>-s&&n<s?"left":"right"),t.lockX||(r=n>0?"up":"down"),t.force>this.options.threshold){var a,l={};for(a in this.direction)this.direction.hasOwnProperty(a)&&(l[a]=this.direction[a]);var h={};for(a in this.direction={x:i,y:r,angle:e},t.direction=this.direction,l)l[a]===this.direction[a]&&(h[a]=!0);if(h.x&&h.y&&h.angle)return t;h.x&&h.y||this.trigger("plain",t),h.x||this.trigger("plain:"+i,t),h.y||this.trigger("plain:"+r,t),h.angle||this.trigger("dir dir:"+e,t)}else this.resetDirection();return t};var E=T;function w(t,e){return this.nipples=[],this.idles=[],this.actives=[],this.ids=[],this.pressureIntervals={},this.manager=t,this.id=w.id,w.id+=1,this.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1},this.config(e),"static"!==this.options.mode&&"semi"!==this.options.mode||(this.options.multitouch=!1),this.options.multitouch||(this.options.maxNumberOfNipples=1),this.updateBox(),this.prepareNipples(),this.bindings(),this.begin(),this.nipples}w.prototype=new b,w.constructor=w,w.id=0,w.prototype.prepareNipples=function(){var t=this.nipples;t.on=this.on.bind(this),t.off=this.off.bind(this),t.options=this.options,t.destroy=this.destroy.bind(this),t.ids=this.ids,t.id=this.id,t.processOnMove=this.processOnMove.bind(this),t.processOnEnd=this.processOnEnd.bind(this),t.get=function(e){if(void 0===e)return t[0];for(var i=0,r=t.length;i<r;i+=1)if(t[i].identifier===e)return t[i];return!1}},w.prototype.bindings=function(){this.bindEvt(this.options.zone,"start"),this.options.zone.style.touchAction="none",this.options.zone.style.msTouchAction="none"},w.prototype.begin=function(){var t=this.options;if("static"===t.mode){var e=this.createNipple(t.position,this.manager.getIdentifier());e.add(),this.idles.push(e)}},w.prototype.createNipple=function(t,e){var i=h(),r={},n=this.options;if(t.x&&t.y)r={x:t.x-(i.x+this.box.left),y:t.y-(i.y+this.box.top)};else if(t.top||t.right||t.bottom||t.left){var o=document.createElement("DIV");o.style.display="hidden",o.style.top=t.top,o.style.right=t.right,o.style.bottom=t.bottom,o.style.left=t.left,o.style.position="absolute",n.zone.appendChild(o);var s=o.getBoundingClientRect();n.zone.removeChild(o),r=t,t={x:s.left+i.x,y:s.top+i.y}}var a=new E(this,{color:n.color,size:n.size,threshold:n.threshold,fadeTime:n.fadeTime,dataOnly:n.dataOnly,restJoystick:n.restJoystick,restOpacity:n.restOpacity,mode:n.mode,identifier:e,position:t,zone:n.zone,frontPosition:{x:0,y:0},shape:n.shape});return n.dataOnly||(u(a.ui.el,r),u(a.ui.front,a.frontPosition)),this.nipples.push(a),this.trigger("added "+a.identifier+":added",a),this.manager.trigger("added "+a.identifier+":added",a),this.bindNipple(a),a},w.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},w.prototype.bindNipple=function(t){var e,i=this,r=function(t,r){e=t.type+" "+r.id+":"+t.type,i.trigger(e,r)};t.on("destroyed",i.onDestroyed.bind(i)),t.on("shown hidden rested dir plain",r),t.on("dir:up dir:right dir:down dir:left",r),t.on("plain:up plain:right plain:down plain:left",r)},w.prototype.pressureFn=function(t,e,i){var r=this,n=0;clearInterval(r.pressureIntervals[i]),r.pressureIntervals[i]=setInterval(function(){var i=t.force||t.pressure||t.webkitForce||0;i!==n&&(e.trigger("pressure",i),r.trigger("pressure "+e.identifier+":pressure",i),n=i)}.bind(r),100)},w.prototype.onstart=function(t){var e=this,i=e.options,r=t;return t=l(t),e.updateBox(),c(t,(function(n){e.actives.length<i.maxNumberOfNipples?e.processOnStart(n):r.type.match(/^touch/)&&(Object.keys(e.manager.ids).forEach((function(i){if(Object.values(r.touches).findIndex((function(t){return t.identifier===i}))<0){var n=[t[0]];n.identifier=i,e.processOnEnd(n)}})),e.actives.length<i.maxNumberOfNipples&&e.processOnStart(n))})),e.manager.bindDocument(),!1},w.prototype.processOnStart=function(t){var e,i=this,r=i.options,o=i.manager.getIdentifier(t),s=t.force||t.pressure||t.webkitForce||0,a={x:t.pageX,y:t.pageY},l=i.getOrCreate(o,a);l.identifier!==o&&i.manager.removeIdentifier(l.identifier),l.identifier=o;var h=function(e){e.trigger("start",e),i.trigger("start "+e.id+":start",e),e.show(),s>0&&i.pressureFn(t,e,e.identifier),i.processOnMove(t)};if((e=i.idles.indexOf(l))>=0&&i.idles.splice(e,1),i.actives.push(l),i.ids.push(l.identifier),"semi"!==r.mode)h(l);else{if(!(n(a,l.position)<=r.catchDistance))return l.destroy(),void i.processOnStart(t);h(l)}return l},w.prototype.getOrCreate=function(t,e){var i,r=this.options;return/(semi|static)/.test(r.mode)?(i=this.idles[0])?(this.idles.splice(0,1),i):"semi"===r.mode?this.createNipple(e,t):(console.warn("Coudln't find the needed nipple."),!1):i=this.createNipple(e,t)},w.prototype.processOnMove=function(t){var e=this.options,i=this.manager.getIdentifier(t),r=this.nipples.get(i);if(function(t){return isNaN(t.buttons)?0!==t.pressure:0!==t.buttons}(t)){if(!r)return console.error("Found zombie joystick with ID "+i),void this.manager.removeIdentifier(i);if(e.dynamicPage){var s=h();l=r.el.getBoundingClientRect(),r.position={x:s.x+l.left,y:s.y+l.top}}r.identifier=i;var a=r.options.size/2,l={x:t.pageX,y:t.pageY};e.lockX&&(l.y=r.position.y),e.lockY&&(l.x=r.position.x);var f,d,p,c,x,y,m,g,v=n(l,r.position),_=(f=l,p=(d=r.position).x-f.x,c=d.y-f.y,function(t){return t*(180/Math.PI)}(Math.atan2(c,p))),b=o(_),T=v/a,E={distance:v,position:l};"circle"===r.options.shape?(v=Math.min(v,a),x=r.position,y=v,g={x:0,y:0},m=o(m=_),g.x=x.x-y*Math.cos(m),g.y=x.y-y*Math.sin(m),l=g):(l=function(t,e,i){return{x:Math.min(Math.max(t.x,e.x-i),e.x+i),y:Math.min(Math.max(t.y,e.y-i),e.y+i)}}(l,r.position,a),v=n(l,r.position));var w=l.x-r.position.x,S=l.y-r.position.y;r.frontPosition={x:w,y:S},e.dataOnly||u(r.ui.front,r.frontPosition);var P={identifier:r.identifier,position:l,force:T,pressure:t.force||t.pressure||t.webkitForce||0,distance:v,angle:{radian:b,degree:_},vector:{x:w/a,y:-S/a},raw:E,instance:r,lockX:e.lockX,lockY:e.lockY};(P=r.computeDirection(P)).angle={radian:o(180-_),degree:180-_},r.trigger("move",P),this.trigger("move "+r.id+":move",P)}else this.processOnEnd(t)},w.prototype.processOnEnd=function(t){var e=this,i=e.options,r=e.manager.getIdentifier(t),n=e.nipples.get(r),o=e.manager.removeIdentifier(n.identifier);n&&(i.dataOnly||n.hide((function(){"dynamic"===i.mode&&(n.trigger("removed",n),e.trigger("removed "+n.id+":removed",n),e.manager.trigger("removed "+n.id+":removed",n),n.destroy())})),clearInterval(e.pressureIntervals[n.identifier]),n.resetDirection(),n.trigger("end",n),e.trigger("end "+n.id+":end",n),e.ids.indexOf(n.identifier)>=0&&e.ids.splice(e.ids.indexOf(n.identifier),1),e.actives.indexOf(n)>=0&&e.actives.splice(e.actives.indexOf(n),1),/(semi|static)/.test(i.mode)?e.idles.push(n):e.nipples.indexOf(n)>=0&&e.nipples.splice(e.nipples.indexOf(n),1),e.manager.unbindDocument(),/(semi|static)/.test(i.mode)&&(e.manager.ids[o.id]=o.identifier))},w.prototype.onDestroyed=function(t,e){this.nipples.indexOf(e)>=0&&this.nipples.splice(this.nipples.indexOf(e),1),this.actives.indexOf(e)>=0&&this.actives.splice(this.actives.indexOf(e),1),this.idles.indexOf(e)>=0&&this.idles.splice(this.idles.indexOf(e),1),this.ids.indexOf(e.identifier)>=0&&this.ids.splice(this.ids.indexOf(e.identifier),1),this.manager.removeIdentifier(e.identifier),this.manager.unbindDocument()},w.prototype.destroy=function(){for(var t in this.unbindEvt(this.options.zone,"start"),this.nipples.forEach((function(t){t.destroy()})),this.pressureIntervals)this.pressureIntervals.hasOwnProperty(t)&&clearInterval(this.pressureIntervals[t]);this.trigger("destroyed",this.nipples),this.manager.unbindDocument(),this.off()};var S=w;function P(t){var e,i=this;return i.ids={},i.index=0,i.collections=[],i.config(t),i.prepareCollections(),s(window,"resize",(function(t){clearTimeout(e),e=setTimeout((function(){var t,e=h();i.collections.forEach((function(i){i.forEach((function(i){t=i.el.getBoundingClientRect(),i.position={x:e.x+t.left,y:e.y+t.top}}))}))}),100)})),i.collections}P.prototype=new b,P.constructor=P,P.prototype.prepareCollections=function(){var t=this;t.collections.create=t.create.bind(t),t.collections.on=t.on.bind(t),t.collections.off=t.off.bind(t),t.collections.destroy=t.destroy.bind(t),t.collections.get=function(e){var i;return t.collections.every((function(t){return!(i=t.get(e))})),i}},P.prototype.create=function(t){return this.createCollection(t)},P.prototype.createCollection=function(t){var e=new S(this,t);return this.bindCollection(e),this.collections.push(e),e},P.prototype.bindCollection=function(t){var e,i=this,r=function(t,r){e=t.type+" "+r.id+":"+t.type,i.trigger(e,r)};t.on("destroyed",i.onDestroyed.bind(i)),t.on("shown hidden rested dir plain",r),t.on("dir:up dir:right dir:down dir:left",r),t.on("plain:up plain:right plain:down plain:left",r)},P.prototype.bindDocument=function(){this.binded||(this.bindEvt(document,"move").bindEvt(document,"end"),this.binded=!0)},P.prototype.unbindDocument=function(t){Object.keys(this.ids).length&&!0!==t||(this.unbindEvt(document,"move").unbindEvt(document,"end"),this.binded=!1)},P.prototype.getIdentifier=function(t){var e;return t?void 0===(e=void 0===t.identifier?t.pointerId:t.identifier)&&(e=this.latest||0):e=this.index,void 0===this.ids[e]&&(this.ids[e]=this.index,this.index+=1),this.latest=e,this.ids[e]},P.prototype.removeIdentifier=function(t){var e={};for(var i in this.ids)if(this.ids[i]===t){e.id=i,e.identifier=this.ids[i],delete this.ids[i];break}return e},P.prototype.onmove=function(t){return this.onAny("move",t),!1},P.prototype.onend=function(t){return this.onAny("end",t),!1},P.prototype.oncancel=function(t){return this.onAny("end",t),!1},P.prototype.onAny=function(t,e){var i,r=this,n="processOn"+t.charAt(0).toUpperCase()+t.slice(1);return e=l(e),c(e,(function(t){i=r.getIdentifier(t),c(r.collections,function(t,e,i){i.ids.indexOf(e)>=0&&(i[n](t),t._found_=!0)}.bind(null,t,i)),t._found_||r.removeIdentifier(i)})),!1},P.prototype.destroy=function(){this.unbindDocument(!0),this.ids={},this.index=0,this.collections.forEach((function(t){t.destroy()})),this.off()},P.prototype.onDestroyed=function(t,e){if(this.collections.indexOf(e)<0)return!1;this.collections.splice(this.collections.indexOf(e),1)};var X=new P;e.default={create:function(t){return X.create(t)},factory:X}}]).default},418:t=>{"use strict";var e=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function n(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var s,a,l=n(t),h=1;h<arguments.length;h++){for(var u in s=Object(arguments[h]))i.call(s,u)&&(l[u]=s[u]);if(e){a=e(s);for(var f=0;f<a.length;f++)r.call(s,a[f])&&(l[a[f]]=s[a[f]])}}return l}},571:t=>{"use strict";t.exports=function(t,e){if(t){e=e||{};for(var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=i.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[i.key[o]]=r[o]||"";return n[i.q.name]={},n[i.key[12]].replace(i.q.parser,(function(t,e,r){e&&(n[i.q.name][e]=r)})),n}}},646:(t,e,i)=>{"use strict";var r=i(244),n=i(29),o=i(307),s=i(54),a=i(295),l=i(426),h=i(38);class u{constructor(t){this.tileAnim=[0,0],this.dontUseTransform=!1,this.renderer=t,this.tileAnim=[0,0]}}const f=r.CanvasRenderer;f&&f.registerPlugin("tilemap",u);const d={maxTextures:16,bufferSize:2048,boundSize:1024,boundCountPerBuffer:1,use32bitIndex:!1,SCALE_MODE:s.SCALE_MODES.LINEAR,DO_CLEAR:!0};class p extends n.Container{constructor(t,e){super(),this.zIndex=0,this.modificationMarker=0,this._$_localBounds=new n.Bounds,this.shadowColor=new Float32Array([0,0,0,.5]),this._globalMat=null,this.pointsBuf=[],this.hasAnim=!1,this.offsetX=0,this.offsetY=0,this.compositeParent=!1,this.tileAnim=null,this.vbId=0,this.vb=null,this.vbBuffer=null,this.vbArray=null,this.vbInts=null,this.initialize(t,e)}initialize(t,e){e?e instanceof Array||!e.baseTexture||(e=[e]):e=[],this.textures=e,this.zIndex=t}clear(){this.pointsBuf.length=0,this.modificationMarker=0,this._$_localBounds.clear(),this.hasAnim=!1}addFrame(t,e,i,r,n){let s,a=0;if("number"==typeof t)a=t,s=this.textures[a];else{s="string"==typeof t?o.Texture.from(t):t;let e=!1,i=this.textures;for(let t=0;t<i.length;t++)if(i[t].baseTexture===s.baseTexture){a=t,e=!0;break}if(!e)return!1}return this.addRect(a,s.frame.x,s.frame.y,e,i,s.orig.width,s.orig.height,r,n,s.rotate),!0}addRect(t,e,i,r,n,o,s,a=0,l=0,h=0,u=1024,f=1024){let d=this.pointsBuf;return this.hasAnim=this.hasAnim||a>0||l>0,d.push(e),d.push(i),d.push(r),d.push(n),d.push(o),d.push(s),d.push(h),d.push(0|a),d.push(0|l),d.push(t),d.push(u),d.push(f),this._$_localBounds.addFramePad(r,n,r+o,n+s,0,0),this}tileRotate(t){const e=this.pointsBuf;e[e.length-3]=t}tileAnimX(t,e){const i=this.pointsBuf;i[i.length-5]=t,i[i.length-2]=e}tileAnimY(t,e){const i=this.pointsBuf;i[i.length-4]=t,i[i.length-1]=e}renderCanvas(t){if(!t.plugins.tilemap.dontUseTransform){let e=this.worldTransform;t.context.setTransform(e.a,e.b,e.c,e.d,e.tx*t.resolution,e.ty*t.resolution)}this.renderCanvasCore(t)}renderCanvasCore(t){if(0===this.textures.length)return;let e=this.pointsBuf;const i=this.tileAnim||t.plugins.tilemap.tileAnim;t.context.fillStyle="#000000";for(let r=0,n=e.length;r<n;r+=12){let n=e[r],o=e[r+1],s=e[r+2],a=e[r+3],l=e[r+4],h=e[r+5];e[r+6],n+=e[r+7]*i[0],o+=e[r+8]*i[1];let u=e[r+9];u>=0?t.context.drawImage(this.textures[u].baseTexture.getDrawableSource(),n,o,l,h,s,a,l,h):(t.context.globalAlpha=.5,t.context.fillRect(s,a,l,h),t.context.globalAlpha=1)}}destroyVb(){this.vb&&(this.vb.destroy(),this.vb=null)}render(t){let e=t.plugins.tilemap,i=e.getShader();t.batch.setObjectRenderer(e),this._globalMat=i.uniforms.projTransMatrix,t.globalUniforms.uniforms.projectionMatrix.copyTo(this._globalMat).append(this.worldTransform),i.uniforms.shadowColor=this.shadowColor,i.uniforms.animationFrame=this.tileAnim||e.tileAnim,this.renderWebGLCore(t,e)}renderWebGLCore(t,e){let i=this.pointsBuf;if(0===i.length)return;let r=i.length/12,n=e.getShader(),o=this.textures;if(0===o.length)return;e.bindTextures(t,n,o),t.shader.bind(n,!1);let l=this.vb;l||(l=e.createVb(),this.vb=l,this.vbId=l.id,this.vbBuffer=null,this.modificationMarker=0),e.checkIndexBuffer(r,l);const h=d.boundCountPerBuffer;let u=l.getBuffer("aVertexPosition"),f=r*l.vertPerQuad;if(0!==f){if(this.modificationMarker!==f){this.modificationMarker=f;let t=l.stride*f;if(!this.vbBuffer||this.vbBuffer.byteLength<t){let e=l.stride;for(;e<t;)e*=2;this.vbBuffer=new ArrayBuffer(e),this.vbArray=new Float32Array(this.vbBuffer),this.vbInts=new Uint32Array(this.vbBuffer),u.update(this.vbBuffer)}let e=this.vbArray,r=(this.vbInts,0),n=0,o=this.offsetX,s=this.offsetY;for(let t=0;t<i.length;t+=12){let l=.5;this.compositeParent&&(h>1?(n=i[t+9]>>2,o=this.offsetX*(1&i[t+9]),s=this.offsetY*(i[t+9]>>1&1)):(n=i[t+9],o=0,s=0));let u=i[t+2],f=i[t+3],d=i[t+4],p=i[t+5],c=i[t]+o,x=i[t+1]+s,y=i[t+6];const m=i[t+7],g=i[t+8],v=m+2048*(i[t+10]||1024),_=g+2048*(i[t+11]||1024);let b,T,E,w,S,P,X,I;if(0===y)b=c,T=x,E=c+d,w=x,S=c+d,P=x+p,X=c,I=x+p;else{let t=d/2,e=p/2;y%4!=0&&(t=p/2,e=d/2);const i=c+t,r=x+e;y=a.groupD8.add(y,a.groupD8.NW),b=i+t*a.groupD8.uX(y),T=r+e*a.groupD8.uY(y),y=a.groupD8.add(y,2),E=i+t*a.groupD8.uX(y),w=r+e*a.groupD8.uY(y),y=a.groupD8.add(y,2),S=i+t*a.groupD8.uX(y),P=r+e*a.groupD8.uY(y),y=a.groupD8.add(y,2),X=i+t*a.groupD8.uX(y),I=r+e*a.groupD8.uY(y)}e[r++]=u,e[r++]=f,e[r++]=b,e[r++]=T,e[r++]=c+l,e[r++]=x+l,e[r++]=c+d-l,e[r++]=x+p-l,e[r++]=v,e[r++]=_,e[r++]=n,e[r++]=u+d,e[r++]=f,e[r++]=E,e[r++]=w,e[r++]=c+l,e[r++]=x+l,e[r++]=c+d-l,e[r++]=x+p-l,e[r++]=v,e[r++]=_,e[r++]=n,e[r++]=u+d,e[r++]=f+p,e[r++]=S,e[r++]=P,e[r++]=c+l,e[r++]=x+l,e[r++]=c+d-l,e[r++]=x+p-l,e[r++]=v,e[r++]=_,e[r++]=n,e[r++]=u,e[r++]=f+p,e[r++]=X,e[r++]=I,e[r++]=c+l,e[r++]=x+l,e[r++]=c+d-l,e[r++]=x+p-l,e[r++]=v,e[r++]=_,e[r++]=n}u.update(e)}t.geometry.bind(l,n),t.geometry.draw(s.DRAW_MODES.TRIANGLES,6*r,0)}}isModified(t){return!!(this.modificationMarker!==this.pointsBuf.length||t&&this.hasAnim)}clearModify(){this.modificationMarker=this.pointsBuf.length}_calculateBounds(){const{minX:t,minY:e,maxX:i,maxY:r}=this._$_localBounds;this._bounds.addFrame(this.transform,t,e,i,r)}getLocalBounds(t){return 0===this.children.length?this._$_localBounds.getRectangle(t):super.getLocalBounds.call(this,t)}destroy(t){super.destroy(t),this.destroyVb()}}class c extends n.Container{constructor(t,e,i){super(),this.modificationMarker=0,this.shadowColor=new Float32Array([0,0,0,.5]),this._globalMat=null,this._lastLayer=null,this.tileAnim=null,this.initialize.apply(this,arguments)}initialize(t,e,i){!0===i&&(i=0),this.z=this.zIndex=t,this.texPerChild=i||d.boundCountPerBuffer*d.maxTextures,e&&this.setBitmaps(e)}setBitmaps(t){for(let e=0;e<t.length;e++)if(t[e]&&!t[e].baseTexture)throw new Error("pixi-tilemap cannot use destroyed textures. Probably, you passed resources['myAtlas'].texture in pixi > 5.2.1, it does not exist there.");let e,i=this.texPerChild,r=this.children.length,n=Math.ceil(t.length/i);for(e=0;e<r;e++)this.children[e].textures=t.slice(e*i,(e+1)*i);for(e=r;e<n;e++){let r=new p(this.zIndex,t.slice(e*i,(e+1)*i));r.compositeParent=!0,r.offsetX=d.boundSize,r.offsetY=d.boundSize,this.addChild(r)}}clear(){for(let t=0;t<this.children.length;t++)this.children[t].clear();this.modificationMarker=0}addRect(t,e,i,r,n,o,s,a,l,h,u,f){const d=t/this.texPerChild>>0,p=t%this.texPerChild;return this.children[d]&&this.children[d].textures?(this._lastLayer=this.children[d],this._lastLayer.addRect(p,e,i,r,n,o,s,a,l,h,u,f)):this._lastLayer=null,this}tileRotate(t){return this._lastLayer&&this._lastLayer.tileRotate(t),this}tileAnimX(t,e){return this._lastLayer&&this._lastLayer.tileAnimX(t,e),this}tileAnimY(t,e){return this._lastLayer&&this._lastLayer.tileAnimY(t,e),this}addFrame(t,e,i,r,n,s,a){let l,h=null,u=0,f=this.children;if(this._lastLayer=null,"number"==typeof t){if(h=f[t/this.texPerChild>>0],h)u=t%this.texPerChild;else{if(h=f[0],!h)return this;u=0}l=h.textures[u]}else{l="string"==typeof t?o.Texture.from(t):t;for(let t=0;t<f.length;t++){let e=f[t],i=e.textures;for(let t=0;t<i.length;t++)if(i[t].baseTexture===l.baseTexture){h=e,u=t;break}if(h)break}if(!h){for(let t=0;t<f.length;t++){let e=f[t];if(e.textures.length<this.texPerChild){h=e,u=e.textures.length,e.textures.push(l);break}}h||(h=new p(this.zIndex,l),h.compositeParent=!0,h.offsetX=d.boundSize,h.offsetY=d.boundSize,this.addChild(h),u=0)}}return this._lastLayer=h,h.addRect(u,l.frame.x,l.frame.y,e,i,l.orig.width,l.orig.height,r,n,l.rotate,s,a),this}renderCanvas(t){if(!this.visible||this.worldAlpha<=0||!this.renderable)return;if(!t.plugins.tilemap.dontUseTransform){let e=this.worldTransform;t.context.setTransform(e.a,e.b,e.c,e.d,e.tx*t.resolution,e.ty*t.resolution)}let e=this.children;for(let i=0;i<e.length;i++){const r=e[i];r.tileAnim=this.tileAnim,r.renderCanvasCore(t)}}render(t){if(!this.visible||this.worldAlpha<=0||!this.renderable)return;let e=t.plugins.tilemap,i=e.getShader();t.batch.setObjectRenderer(e),this._globalMat=i.uniforms.projTransMatrix,t.globalUniforms.uniforms.projectionMatrix.copyTo(this._globalMat).append(this.worldTransform),i.uniforms.shadowColor=this.shadowColor,i.uniforms.animationFrame=this.tileAnim||e.tileAnim,t.shader.bind(i,!1);let r=this.children;for(let i=0;i<r.length;i++)r[i].renderWebGLCore(t,e)}isModified(t){let e=this.children;if(this.modificationMarker!==e.length)return!0;for(let i=0;i<e.length;i++)if(e[i].isModified(t))return!0;return!1}clearModify(){let t=this.children;this.modificationMarker=t.length;for(let e=0;e<t.length;e++)t[e].clearModify()}}l.Graphics;class x extends o.resources.Resource{constructor(t){super(t.bufferSize,t.bufferSize),this.DO_CLEAR=!1,this.boundSize=0,this._clearBuffer=null,this.baseTex=null,this.boundSprites=[],this.dirties=[];const e=this.boundSprites,i=this.dirties;this.boundSize=t.boundSize;for(let r=0;r<t.boundCountPerBuffer;r++){const n=new h.Sprite;n.position.x=t.boundSize*(1&r),n.position.y=t.boundSize*(r>>1),e.push(n),i.push(0)}this.DO_CLEAR=!!t.DO_CLEAR}bind(t){if(this.baseTex)throw new Error("Only one baseTexture is allowed for this resource!");this.baseTex=t,super.bind(t)}setTexture(t,e){const i=this.boundSprites[t];i.texture.baseTexture!==e.baseTexture&&(i.texture=e,this.baseTex.update(),this.dirties[t]=this.baseTex.dirtyId)}upload(t,e,i){const{gl:r}=t,{width:n,height:o}=this;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,void 0===e.alphaMode||e.alphaMode===s.ALPHA_MODES.UNPACK),i.dirtyId<0&&(i.width=n,i.height=o,r.texImage2D(e.target,0,e.format,n,o,0,e.format,e.type,null));const a=this.DO_CLEAR;a&&!this._clearBuffer&&(this._clearBuffer=new Uint8Array(d.boundSize*d.boundSize*4));const l=this.boundSprites;for(let t=0;t<l.length;t++){const n=l[t],o=n.texture.baseTexture;if(i.dirtyId>=this.dirties[t])continue;const s=o.resource;o.valid&&s&&s.source&&(a&&(o.width<this.boundSize||o.height<this.boundSize)&&r.texSubImage2D(e.target,0,n.position.x,n.position.y,this.boundSize,this.boundSize,e.format,e.type,this._clearBuffer),r.texSubImage2D(e.target,0,n.position.x,n.position.y,e.format,e.type,s.source))}return!0}}function y(t,e){let i=[];for(let t=0;t<e;t++)i[t]=t;t.uniforms.uSamplers=i;let r=[];for(let t=0;t<e;t++)r.push(1/d.bufferSize),r.push(1/d.bufferSize);t.uniforms.uSamplerSize=r}class m extends o.Shader{constructor(t,e,i){super(new o.Program(e,i),{animationFrame:new Float32Array(2),uSamplers:[],uSamplerSize:[],projTransMatrix:new a.Matrix}),this.maxTextures=0,this.maxTextures=t,y(this,this.maxTextures)}}class g extends m{constructor(t){super(t,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aFrame;\nattribute vec2 aAnim;\nattribute float aTextureId;\n\nuniform mat3 projTransMatrix;\nuniform vec2 animationFrame;\n\nvarying vec2 vTextureCoord;\nvarying float vTextureId;\nvarying vec4 vFrame;\n\nvoid main(void){\n   gl_Position = vec4((projTransMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vec2 animCount = floor((aAnim + 0.5) / 2048.0);\n   vec2 animFrameOffset = aAnim - animCount * 2048.0;\n   vec2 animOffset = animFrameOffset * floor(mod(animationFrame + 0.5, animCount));\n\n   vTextureCoord = aTextureCoord + animOffset;\n   vFrame = aFrame + vec4(animOffset, animOffset);\n   vTextureId = aTextureId;\n}\n",function(t,e){return e.replace(/%count%/gi,t+"").replace(/%forloop%/gi,function(t){let e="";e+="\n",e+="\n",e+="if(vTextureId <= -1.0) {",e+="\n\tcolor = shadowColor;",e+="\n}";for(let i=0;i<t;i++)e+="\nelse ",i<t-1&&(e+="if(textureId == "+i+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], textureCoord * uSamplerSize["+i+"]);",e+="\n}";return e+="\n",e+="\n",e}(t))}(t,"\nvarying vec2 vTextureCoord;\nvarying vec4 vFrame;\nvarying float vTextureId;\nuniform vec4 shadowColor;\nuniform sampler2D uSamplers[%count%];\nuniform vec2 uSamplerSize[%count%];\n\nvoid main(void){\n   vec2 textureCoord = clamp(vTextureCoord, vFrame.xy, vFrame.zw);\n   float textureId = floor(vTextureId + 0.5);\n\n   vec4 color;\n   %forloop%\n   gl_FragColor = color;\n}\n")),y(this,this.maxTextures)}}class v extends o.Geometry{constructor(){super(),this.vertSize=11,this.vertPerQuad=4,this.stride=4*this.vertSize,this.lastTimeAccess=0;const t=this.buf=new o.Buffer(new Float32Array(2),!0,!1);this.addAttribute("aVertexPosition",t,0,!1,0,this.stride,0).addAttribute("aTextureCoord",t,0,!1,0,this.stride,8).addAttribute("aFrame",t,0,!1,0,this.stride,16).addAttribute("aAnim",t,0,!1,0,this.stride,32).addAttribute("aTextureId",t,0,!1,0,this.stride,40)}}class _ extends o.ObjectRenderer{constructor(t){super(t),this.sn=-1,this.indexBuffer=null,this.ibLen=0,this.tileAnim=[0,0],this.texLoc=[],this.texResources=[],this.rectShader=new g(d.maxTextures),this.indexBuffer=new o.Buffer(void 0,!0,!0),this.checkIndexBuffer(2e3),this.initBounds()}initBounds(){if(d.boundCountPerBuffer<=1)return;const t=d.maxTextures;for(let e=0;e<t;e++){const t=new x(d),e=new o.BaseTexture(t);e.scaleMode=d.SCALE_MODE,e.wrapMode=s.WRAP_MODES.CLAMP,this.texResources.push(t)}}bindTexturesWithoutRT(t,e,i){let r=e.uniforms.uSamplerSize;this.texLoc.length=0;for(let e=0;e<i.length;e++){const n=i[e];if(!n||!n.valid)return;t.texture.bind(i[e],e),r[2*e]=1/i[e].baseTexture.width,r[2*e+1]=1/i[e].baseTexture.height}e.uniforms.uSamplerSize=r}bindTextures(t,e,i){const r=i.length;if(r>d.boundCountPerBuffer*d.maxTextures)return;if(d.boundCountPerBuffer<=1)return void this.bindTexturesWithoutRT(t,e,i);let n=0;for(;n<r;n++){const t=i[n];t&&t.valid&&this.texResources[n>>2].setTexture(3&n,t)}let o=n+3>>2;for(n=0;n<o;n++)t.texture.bind(this.texResources[n].baseTex,n)}start(){}createVb(){const t=new v;return t.addIndex(this.indexBuffer),t.lastTimeAccess=Date.now(),t}checkIndexBuffer(t,e=null){const i=6*t;i<=this.ibLen||(this.ibLen=i,this.indexBuffer.update(r.utils.createIndicesForQuads(t,d.use32bitIndex?new Uint32Array(6*t):void 0)))}getShader(){return this.rectShader}destroy(){super.destroy(),this.rectShader=null}}o.Renderer.registerPlugin("tilemap",_);n.Container;e._O=c},244:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ALPHA_MODES:()=>et.ALPHA_MODES,AbstractBatchRenderer:()=>S.AbstractBatchRenderer,AbstractRenderer:()=>S.AbstractRenderer,AccessibilityManager:()=>c,AnimatedSprite:()=>oi,AppLoaderPlugin:()=>tt,Application:()=>P,Attribute:()=>S.Attribute,BLEND_MODES:()=>et.BLEND_MODES,BUFFER_BITS:()=>et.BUFFER_BITS,BasePrepare:()=>Ct,BaseRenderTexture:()=>S.BaseRenderTexture,BaseTexture:()=>S.BaseTexture,BatchDrawCall:()=>S.BatchDrawCall,BatchGeometry:()=>S.BatchGeometry,BatchPluginFactory:()=>S.BatchPluginFactory,BatchRenderer:()=>S.BatchRenderer,BatchShaderGenerator:()=>S.BatchShaderGenerator,BatchTextureArray:()=>S.BatchTextureArray,BitmapFont:()=>he,BitmapFontData:()=>ee,BitmapFontLoader:()=>pe,BitmapText:()=>de,Bounds:()=>d.Bounds,Buffer:()=>S.Buffer,CLEAR_MODES:()=>et.CLEAR_MODES,Circle:()=>x.Circle,Container:()=>d.Container,CountLimiter:()=>Et,DEG_TO_RAD:()=>x.DEG_TO_RAD,DRAW_MODES:()=>et.DRAW_MODES,DisplayObject:()=>d.DisplayObject,ENV:()=>et.ENV,Ellipse:()=>x.Ellipse,Extract:()=>A,FORMATS:()=>et.FORMATS,FillStyle:()=>ht.FillStyle,Filter:()=>S.Filter,FilterState:()=>S.FilterState,Framebuffer:()=>S.Framebuffer,GC_MODES:()=>et.GC_MODES,GLFramebuffer:()=>S.GLFramebuffer,GLProgram:()=>S.GLProgram,GLTexture:()=>S.GLTexture,GRAPHICS_CURVES:()=>ht.GRAPHICS_CURVES,Geometry:()=>S.Geometry,Graphics:()=>ht.Graphics,GraphicsData:()=>ht.GraphicsData,GraphicsGeometry:()=>ht.GraphicsGeometry,IGLUniformData:()=>S.IGLUniformData,InteractionData:()=>m,InteractionEvent:()=>v,InteractionManager:()=>w,InteractionTrackingData:()=>_,LINE_CAP:()=>ht.LINE_CAP,LINE_JOIN:()=>ht.LINE_JOIN,LineStyle:()=>ht.LineStyle,Loader:()=>$,LoaderResource:()=>Z,MASK_TYPES:()=>et.MASK_TYPES,MIPMAP_MODES:()=>et.MIPMAP_MODES,MSAA_QUALITY:()=>et.MSAA_QUALITY,MaskData:()=>S.MaskData,Matrix:()=>x.Matrix,Mesh:()=>Jt,MeshBatchUvs:()=>qt,MeshGeometry:()=>$t,MeshMaterial:()=>Qt,NineSlicePlane:()=>ii,ObjectRenderer:()=>S.ObjectRenderer,ObservablePoint:()=>x.ObservablePoint,PI_2:()=>x.PI_2,PRECISION:()=>et.PRECISION,ParticleContainer:()=>ot,ParticleRenderer:()=>at,PlaneGeometry:()=>Je,Point:()=>x.Point,Polygon:()=>x.Polygon,Prepare:()=>Lt,Program:()=>S.Program,Quad:()=>S.Quad,QuadUv:()=>S.QuadUv,RAD_TO_DEG:()=>x.RAD_TO_DEG,RENDERER_TYPE:()=>et.RENDERER_TYPE,Rectangle:()=>x.Rectangle,RenderTexture:()=>S.RenderTexture,RenderTexturePool:()=>S.RenderTexturePool,Renderer:()=>S.Renderer,RopeGeometry:()=>Qe,RoundedRectangle:()=>x.RoundedRectangle,Runner:()=>ri.R,SCALE_MODES:()=>et.SCALE_MODES,SHAPES:()=>x.SHAPES,Shader:()=>S.Shader,SimpleMesh:()=>ei,SimplePlane:()=>ti,SimpleRope:()=>$e,Sprite:()=>ut.Sprite,SpriteMaskFilter:()=>S.SpriteMaskFilter,Spritesheet:()=>Bt,SpritesheetLoader:()=>Ft,State:()=>S.State,System:()=>S.System,TARGETS:()=>et.TARGETS,TEXT_GRADIENT:()=>nt,TYPES:()=>et.TYPES,TemporaryDisplayObject:()=>d.TemporaryDisplayObject,Text:()=>bt,TextMetrics:()=>gt,TextStyle:()=>ct,Texture:()=>S.Texture,TextureLoader:()=>Q,TextureMatrix:()=>S.TextureMatrix,TextureUvs:()=>S.TextureUvs,Ticker:()=>y.vB,TickerPlugin:()=>y.Sb,TilingSprite:()=>Gt,TilingSpriteRenderer:()=>Yt,TimeLimiter:()=>Nt,Transform:()=>x.Transform,UPDATE_PRIORITY:()=>y.uF,UniformGroup:()=>S.UniformGroup,VERSION:()=>ui,ViewableBuffer:()=>S.ViewableBuffer,WRAP_MODES:()=>et.WRAP_MODES,accessibleTarget:()=>p,autoDetectRenderer:()=>S.autoDetectRenderer,checkMaxIfStatementsInShader:()=>S.checkMaxIfStatementsInShader,defaultFilterVertex:()=>S.defaultFilterVertex,defaultVertex:()=>S.defaultVertex,filters:()=>fi,graphicsUtils:()=>ht.graphicsUtils,groupD8:()=>x.groupD8,interactiveTarget:()=>T,isMobile:()=>lt.t,resources:()=>S.resources,settings:()=>lt.X,systems:()=>S.systems,uniformParsers:()=>S.uniformParsers,useDeprecated:()=>hi,utils:()=>f});var r=i(713),n=i(418),o=i.n(n);if(window.Promise||(window.Promise=r.Polyfill),Object.assign||(Object.assign=o()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var s=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-s}}for(var a=Date.now(),l=["ms","moz","webkit","o"],h=0;h<l.length&&!window.requestAnimationFrame;++h){var u=l[h];window.requestAnimationFrame=window[u+"RequestAnimationFrame"],window.cancelAnimationFrame=window[u+"CancelAnimationFrame"]||window[u+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+a-e;return i<0&&(i=0),a=e,window.setTimeout((function(){a=Date.now(),t(performance.now())}),i)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var f=i(323),d=i(29),p={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};d.DisplayObject.mixin(p);var c=function(){function t(t){this._hookDiv=null,(f.isMobile.tablet||f.isMobile.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",(function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},t.prototype.update=function(){var t=performance.now();if(!(f.isMobile.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),i=this.renderer.resolution,r=e.width/this.renderer.width*i,n=e.height/this.renderer.height*i,o=this.div;o.style.left=e.left+"px",o.style.top=e.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var a=this.children[s];if(a.renderId!==this.renderId)a._accessibleActive=!1,(0,f.removeItems)(this.children,s,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,s--;else{o=a._accessibleDiv;var l=a.hitArea,h=a.worldTransform;a.hitArea?(o.style.left=(h.tx+l.x*h.a)*r+"px",o.style.top=(h.ty+l.y*h.d)*n+"px",o.style.width=l.width*h.a*r+"px",o.style.height=l.height*h.d*n+"px"):(l=a.getBounds(),this.capHitArea(l),o.style.left=l.x*r+"px",o.style.top=l.y*n+"px",o.style.width=l.width*r+"px",o.style.height=l.height*n+"px",o.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(o.title=a.accessibleTitle),o.getAttribute("aria-label")!==a.accessibleHint&&null!==a.accessibleHint&&o.setAttribute("aria-label",a.accessibleHint)),a.accessibleTitle===o.title&&a.tabIndex===o.tabIndex||(o.title=a.accessibleTitle,o.tabIndex=a.tabIndex,this.debug&&this.updateDebugHTML(o))}}this.renderId++}},t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}(),x=i(295),y=i(662),m=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new x.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},t.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},v=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),_=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!=(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!=(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!=(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),b=function(){function t(){this._tempPoint=new x.Point}return t.prototype.recursiveFindHit=function(t,e,i,r,n){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=n=e.interactive||n,l=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(r=!1,l=!1)),a=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(r=!1)),l&&e.interactiveChildren&&e.children)for(var h=e.children,u=h.length-1;u>=0;u--){var f=h[u],d=this.recursiveFindHit(t,f,i,r,a);if(d){if(!f.parent)continue;a=!1,d&&(t.target&&(r=!1),s=!0)}}return n&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),i&&i(t,e,!!s))),s},t.prototype.findHit=function(t,e,i,r){this.recursiveFindHit(t,e,i,r,!1)},t}(),T={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};d.DisplayObject.mixin(T);var E={target:null,data:{global:null}},w=function(t){function e(e,i){var r=t.call(this)||this;return i=i||{},r.renderer=e,r.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,r.interactionFrequency=i.interactionFrequency||10,r.mouse=new m,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new v,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!1,r.supportsTouchEvents="ontouchstart"in window,r.supportsPointerEvents=!!window.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new b,r._tempDisplayObject=new d.TemporaryDisplayObject,r._useSystemTicker=void 0===i.useSystemTicker||i.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return function(t,e){function i(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,e){return E.target=null,E.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(E,e,null,!0),E.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(y.vB.system.add(this.tickerUpdate,this,y.uF.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(y.vB.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,i){i.stopPropagationHint&&t!==i.stopsPropagatingAt||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},e.prototype.delayDispatchEvent=function(t,e,i){this.delayedEvents.push({displayObject:t,eventString:e,eventData:i})},e.prototype.mapPositionToPoint=function(t,e,i){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*n,t.y=(i-r.top)*(this.interactionDOMElement.height/r.height)*n},e.prototype.processInteractive=function(t,e,i,r){var n=this.search.findHit(t,e,i,r),o=this.delayedEvents;if(!o.length)return n;t.stopPropagationHint=!1;var s=o.length;this.delayedEvents=[];for(var a=0;a<s;a++){var l=o[a],h=l.displayObject,u=l.eventString,f=l.eventData;f.stopsPropagatingAt===h&&(f.stopPropagationHint=!0),this.dispatchEvent(h,u,f)}return n},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var i=e.length,r=0;r<i;r++){var n=e[r],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,i){var r=t.data,n=t.data.identifier;if(i)if(e.trackedPointers[n]||(e.trackedPointers[n]=new _(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,i){for(var r=this.normalizeToPointerData(t),n=r.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=r[s],l=this.getInteractionDataForPointerId(a),h=this.configureInteractionEventForDOMEvent(this.eventData,a,l);if(h.data.originalEvent=t,this.processInteractive(h,this.lastObjectRendered,i,e||!o),this.emit(e?"pointercancel":"pointerup"+o,h),"mouse"===a.pointerType||"pen"===a.pointerType){var u=2===a.button;this.emit(u?"rightup"+o:"mouseup"+o,h)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,h),this.releaseInteractionDataForPointerId(a.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var i=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,i){var r=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===r.pointerType,a="mouse"===r.pointerType||"pen"===r.pointerType,l=!1;if(a){var h=2===r.button,u=_.FLAGS,f=h?u.RIGHT_DOWN:u.LEFT_DOWN,d=void 0!==o&&o.flags&f;i?(this.dispatchEvent(e,h?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,h?"rightclick":"click",t),l=!0)):d&&this.dispatchEvent(e,h?"rightupoutside":"mouseupoutside",t),o&&(h?o.rightDown=!1:o.leftDown=!1)}i?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!l||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var i=e.length,r=0;r<i;r++){var n=e[r],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,i){var r=t.data,n="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);r.data.originalEvent=e,this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(i.identifier)}},e.prototype.processPointerOverOut=function(t,e,i){var r=t.data,n=t.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,s=e.trackedPointers[n];i&&!s&&(s=e.trackedPointers[n]=new _(n)),void 0!==s&&(i&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);r.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",r)},e.prototype.getInteractionDataForPointerId=function(t){var e,i=t.pointerId;return 1===i||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[i]?e=this.activeInteractionData[i]:((e=this.interactionDataPool.pop()||new m).identifier=i,this.activeInteractionData[i]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,r=t.changedTouches.length;i<r;i++){var n=t.changedTouches[i];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else if(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent)e.push(t);else{var o=t;void 0===o.isPrimary&&(o.isPrimary=!0),void 0===o.width&&(o.width=1),void 0===o.height&&(o.height=1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="mouse"),void 0===o.pointerId&&(o.pointerId=1),void 0===o.pressure&&(o.pressure=.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,e.push(o)}return e},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(f.EventEmitter),S=i(307),P=function(){function t(e){var i=this;e=Object.assign({forceCanvas:!1},e),this.renderer=(0,S.autoDetectRenderer)(e),this.stage=new d.Container,t._plugins.forEach((function(t){t.init.call(i,e)}))}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,i){var r=this,n=t._plugins.slice(0);n.reverse(),n.forEach((function(t){t.destroy.call(r)})),this.stage.destroy(i),this.stage=null,this.renderer.destroy(e),this.renderer=null},t}();P._plugins=[];var X=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,i;if(e.cancelResize(),e._resizeTo===window)t=window.innerWidth,i=window.innerHeight;else{var r=e._resizeTo;t=r.clientWidth,i=r.clientHeight}e.renderer.resize(t,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();P.registerPlugin(X);var I=new x.Rectangle,A=function(){function t(t){this.renderer=t,t.extract=this}return t.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},t.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},t.prototype.canvas=function(e){var i,r,n,o=this.renderer,s=!1,a=!1;e&&(e instanceof S.RenderTexture?n=e:(n=this.renderer.generateTexture(e),a=!0)),n?(i=n.baseTexture.resolution,r=n.frame,s=!1,o.renderTexture.bind(n)):(i=this.renderer.resolution,s=!0,(r=I).width=this.renderer.width,r.height=this.renderer.height,o.renderTexture.bind(null));var l=Math.floor(r.width*i+1e-4),h=Math.floor(r.height*i+1e-4),u=new f.CanvasRenderTarget(l,h,1),d=new Uint8Array(4*l*h),p=o.gl;p.readPixels(r.x*i,r.y*i,l,h,p.RGBA,p.UNSIGNED_BYTE,d);var c=u.context.getImageData(0,0,l,h);if(t.arrayPostDivide(d,c.data),u.context.putImageData(c,0,0),s){var x=new f.CanvasRenderTarget(u.width,u.height,1);x.context.scale(1,-1),x.context.drawImage(u.canvas,0,-h),u.destroy(),u=x}return a&&n.destroy(!0),u.canvas},t.prototype.pixels=function(e){var i,r,n,o=this.renderer,s=!1;e&&(e instanceof S.RenderTexture?n=e:(n=this.renderer.generateTexture(e),s=!0)),n?(i=n.baseTexture.resolution,r=n.frame,o.renderTexture.bind(n)):(i=o.resolution,(r=I).width=o.width,r.height=o.height,o.renderTexture.bind(null));var a=r.width*i,l=r.height*i,h=new Uint8Array(4*a*l),u=o.gl;return u.readPixels(r.x*i,r.y*i,a,l,u.RGBA,u.UNSIGNED_BYTE,h),s&&n.destroy(!0),t.arrayPostDivide(h,h),h},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t.arrayPostDivide=function(t,e){for(var i=0;i<t.length;i+=4){var r=e[i+3]=t[i+3];0!==r?(e[i]=Math.round(Math.min(255*t[i]/r,255)),e[i+1]=Math.round(Math.min(255*t[i+1]/r,255)),e[i+2]=Math.round(Math.min(255*t[i+2]/r,255))):(e[i]=t[i],e[i+1]=t[i+1],e[i+2]=t[i+2])}},t}(),O=i(571),C=i.n(O),M=i(940),D=i.n(M);function R(){}function L(t,e,i,r){var n=0,o=t.length;!function s(a){a||n===o?i&&i(a):r?setTimeout((function(){e(t[n++],s)}),1):e(t[n++],s)}()}function N(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}var B={};function F(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U(t,e,i){return e&&F(t.prototype,e),i&&F(t,i),t}var k=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),j=null;function G(){}var H=function(){function t(e,i,r){if("string"!=typeof e||"string"!=typeof i)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===i.indexOf("data:")),this.name=e,this.url=i,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=G,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new(D()),this.onProgress=new(D()),this.onComplete=new(D()),this.onAfterMiddleware=new(D())}t.setExtensionLoadType=function(e,i){z(t._loadTypeMap,e,i)},t.setExtensionXhrType=function(e,i){z(t._xhrTypeMap,e,i)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var i=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(i)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:k&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},e._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=i,r},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(Y(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(Y(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(Y(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,i="",r=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(i=e.responseText),0===r&&(i.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2==(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(i,"text/xml")}else{var o=document.createElement("div");o.innerHTML=i,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||i;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,j||(j=document.createElement("a")),j.href=t;var i=!(t=C()(j.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,r=t.protocol?t.protocol+":":"";return t.host===e.hostname&&i&&r===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var r=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(r>-1?r:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},U(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function z(t,e,i){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=i)}function Y(t){return t.toString().replace("object ","")}H.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},H.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},H.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},H.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},H._loadTypeMap={gif:H.LOAD_TYPE.IMAGE,png:H.LOAD_TYPE.IMAGE,bmp:H.LOAD_TYPE.IMAGE,jpg:H.LOAD_TYPE.IMAGE,jpeg:H.LOAD_TYPE.IMAGE,tif:H.LOAD_TYPE.IMAGE,tiff:H.LOAD_TYPE.IMAGE,webp:H.LOAD_TYPE.IMAGE,tga:H.LOAD_TYPE.IMAGE,svg:H.LOAD_TYPE.IMAGE,"svg+xml":H.LOAD_TYPE.IMAGE,mp3:H.LOAD_TYPE.AUDIO,ogg:H.LOAD_TYPE.AUDIO,wav:H.LOAD_TYPE.AUDIO,mp4:H.LOAD_TYPE.VIDEO,webm:H.LOAD_TYPE.VIDEO},H._xhrTypeMap={xhtml:H.XHR_RESPONSE_TYPE.DOCUMENT,html:H.XHR_RESPONSE_TYPE.DOCUMENT,htm:H.XHR_RESPONSE_TYPE.DOCUMENT,xml:H.XHR_RESPONSE_TYPE.DOCUMENT,tmx:H.XHR_RESPONSE_TYPE.DOCUMENT,svg:H.XHR_RESPONSE_TYPE.DOCUMENT,tsx:H.XHR_RESPONSE_TYPE.DOCUMENT,gif:H.XHR_RESPONSE_TYPE.BLOB,png:H.XHR_RESPONSE_TYPE.BLOB,bmp:H.XHR_RESPONSE_TYPE.BLOB,jpg:H.XHR_RESPONSE_TYPE.BLOB,jpeg:H.XHR_RESPONSE_TYPE.BLOB,tif:H.XHR_RESPONSE_TYPE.BLOB,tiff:H.XHR_RESPONSE_TYPE.BLOB,webp:H.XHR_RESPONSE_TYPE.BLOB,tga:H.XHR_RESPONSE_TYPE.BLOB,json:H.XHR_RESPONSE_TYPE.JSON,text:H.XHR_RESPONSE_TYPE.TEXT,txt:H.XHR_RESPONSE_TYPE.TEXT,ttf:H.XHR_RESPONSE_TYPE.BUFFER,otf:H.XHR_RESPONSE_TYPE.BUFFER},H.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var V=window.URL||window.webkitURL,W={caching:function(t,e){var i=this;B[t.url]?(t.data=B[t.url],t.complete()):t.onComplete.once((function(){return B[i.url]=i.data})),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===H.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=V.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=i,t.type=H.TYPE.IMAGE,void(t.data.onload=function(){V.revokeObjectURL(i),t.data.onload=null,e()})}}else{var r=t.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return t.data=new Image,t.data.src="data:"+r+";base64,"+function(t){for(var e="",i=0;i<t.length;){for(var r=[0,0,0],n=[0,0,0,0],o=0;o<r.length;++o)i<t.length?r[o]=255&t.charCodeAt(i++):r[o]=0;switch(n[0]=r[0]>>2,n[1]=(3&r[0])<<4|r[1]>>4,n[2]=(15&r[1])<<2|r[2]>>6,n[3]=63&r[2],i-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var s=0;s<n.length;++s)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n[s])}return e}(t.xhr.responseText),t.type=H.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},q=/(#[\w-]+)?$/,K=function(){function t(e,i){var r=this;void 0===e&&(e=""),void 0===i&&(i=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this._queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var i=0,r={_tasks:[],concurrency:e,saturated:R,unsaturated:R,buffer:e/4,empty:R,drain:R,error:R,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){i=0,r.drain=R,r.started=!1,r._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!r.paused&&i<r.concurrency&&r._tasks.length;){var e=r._tasks.shift();0===r._tasks.length&&r.empty(),(i+=1)===r.concurrency&&r.saturated(),t(e.data,N(o(e)))}},length:function(){return r._tasks.length},running:function(){return i},idle:function(){return r._tasks.length+i===0},pause:function(){!0!==r.paused&&(r.paused=!0)},resume:function(){if(!1!==r.paused){r.paused=!1;for(var t=1;t<=r.concurrency;t++)r.process()}}};function n(t,e,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(r.started=!0,null==t&&r.idle())setTimeout((function(){return r.drain()}),1);else{var n={data:t,callback:"function"==typeof i?i:R};e?r._tasks.unshift(n):r._tasks.push(n),setTimeout((function(){return r.process()}),1)}}function o(t){return function(){i-=1,t.callback.apply(t,arguments),null!=arguments[0]&&r.error(arguments[0],t.data),i<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}return r}(this._boundLoadResource,i),this._queue.pause(),this.resources={},this.onProgress=new(D()),this.onError=new(D()),this.onLoad=new(D()),this.onStart=new(D()),this.onComplete=new(D());for(var n=0;n<t._defaultBeforeMiddleware.length;++n)this.pre(t._defaultBeforeMiddleware[n]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}var e=t.prototype;return e.add=function(t,e,i,r){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(r=e||t.callback||t.onComplete,i=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(r=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(r=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new H(t,e,i),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var o=i.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var l=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=l;for(var h=0;h<s.length;++h)s[h].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,i=C()(t,{strictMode:!0});if(e=i.protocol||!i.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=q.exec(e)[0];-1!==(e=e.substr(0,e.length-r.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=r}return e},e._loadResource=function(t,e){var i=this;t._dequeue=e,L(this._beforeMiddleware,(function(e,r){e.call(i,t,(function(){r(t.isComplete?{}:null)}))}),(function(){t.isComplete?i._onLoad(t):(t._onLoadBinding=t.onComplete.once(i._onLoad,i),t.load())}),!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),L(this._afterMiddleware,(function(i,r){i.call(e,t,r)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},U(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();K._defaultBeforeMiddleware=[],K._defaultAfterMiddleware=[],K.pre=function(t){return K._defaultBeforeMiddleware.push(t),K},K.use=function(t){return K._defaultAfterMiddleware.push(t),K};var Z=H,J=function(t,e){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},Q=function(){function t(){}return t.use=function(t,e){t.data&&t.type===H.TYPE.IMAGE&&(t.texture=S.Texture.fromLoader(t.data,t.url,t.name)),e()},t}(),$=function(t){function e(i,r){for(var n=t.call(this,i,r)||this,o=0;o<e._plugins.length;++o){var s=e._plugins[o],a=s.pre,l=s.use;a&&n.pre(a),l&&n.use(l)}return n._protected=!1,n}return function(t,e){function i(){this.constructor=t}J(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}(K);$.registerPlugin({use:W.parsing}),$.registerPlugin(Q);var tt=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?$.shared:new $},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),et=i(54),it=function(t,e){return(it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function rt(t,e){function i(){this.constructor=t}it(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var nt,ot=function(t){function e(e,i,r,n){void 0===e&&(e=1500),void 0===r&&(r=16384),void 0===n&&(n=!1);var o=t.call(this)||this;return r>16384&&(r=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=r,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=et.BLEND_MODES.NORMAL,o.autoResize=n,o.roundPixels=!0,o.baseTexture=null,o.setProperties(i),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return rt(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,(0,f.hex2rgb)(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(d.Container),st=function(){function t(t,e,i){this.geometry=new S.Geometry,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var n=t[r];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||et.TYPES.FLOAT,offset:n.offset},e[r]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new S.Buffer((0,f.createIndicesForQuads)(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i)(s=this.dynamicProperties[i]).offset=e,e+=s.size,this.dynamicStride+=s.size;var r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new S.Buffer(this.dynamicData,!1,!1);var n=0;for(this.staticStride=0,i=0;i<this.staticProperties.length;++i)(s=this.staticProperties[i]).offset=n,n+=s.size,this.staticStride+=s.size;var o=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new S.Buffer(this.staticData,!0,!1),i=0;i<this.dynamicProperties.length;++i){var s=this.dynamicProperties[i];t.addAttribute(s.attributeName,this.dynamicBuffer,0,s.type===et.TYPES.UNSIGNED_BYTE,s.type,4*this.dynamicStride,4*s.offset)}for(i=0;i<this.staticProperties.length;++i)s=this.staticProperties[i],t.addAttribute(s.attributeName,this.staticBuffer,0,s.type===et.TYPES.UNSIGNED_BYTE,s.type,4*this.staticStride,4*s.offset)},t.prototype.uploadDynamic=function(t,e,i){for(var r=0;r<this.dynamicProperties.length;r++){var n=this.dynamicProperties[r];n.uploadFunction(t,e,i,n.type===et.TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(t,e,i){for(var r=0;r<this.staticProperties.length;r++){var n=this.staticProperties[r];n.uploadFunction(t,e,i,n.type===et.TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),at=function(t){function e(e){var i=t.call(this,e)||this;return i.shader=null,i.properties=null,i.tempMatrix=new x.Matrix,i.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:i.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:i.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:i.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:i.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:et.TYPES.UNSIGNED_BYTE,uploadFunction:i.uploadTint,offset:0}],i.shader=S.Shader.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),i.state=S.State.for2d(),i}return rt(e,t),e.prototype.render=function(t){var e=t.children,i=t._maxSize,r=t._batchSize,n=this.renderer,o=e.length;if(0!==o){o>i&&!t.autoResize&&(o=i);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.state.blendMode=(0,f.correctBlendMode)(t.blendMode,a.alphaMode),n.state.set(this.state);var l=n.gl,h=t.worldTransform.copyTo(this.tempMatrix);h.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=(0,f.premultiplyRgba)(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.alphaMode),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var u=!1,d=0,p=0;d<o;d+=r,p+=1){var c=o-d;c>r&&(c=r),p>=s.length&&s.push(this._generateOneMoreBuffer(t));var x=s[p];x.uploadDynamic(e,d,c);var y=t._bufferUpdateIDs[p]||0;(u=u||x._updateID<y)&&(x._updateID=t._updateID,x.uploadStatic(e,d,c)),n.geometry.bind(x.geometry),l.drawElements(l.TRIANGLES,6*c,l.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],i=t._maxSize,r=t._batchSize,n=t._properties,o=0;o<i;o+=r)e.push(new st(this.properties,n,r));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,i=t._properties;return new st(this.properties,i,e)},e.prototype.uploadVertices=function(t,e,i,r,n,o){for(var s=0,a=0,l=0,h=0,u=0;u<i;++u){var f=t[e+u],d=f._texture,p=f.scale.x,c=f.scale.y,x=d.trim,y=d.orig;x?(s=(a=x.x-f.anchor.x*y.width)+x.width,l=(h=x.y-f.anchor.y*y.height)+x.height):(s=y.width*(1-f.anchor.x),a=y.width*-f.anchor.x,l=y.height*(1-f.anchor.y),h=y.height*-f.anchor.y),r[o]=a*p,r[o+1]=h*c,r[o+n]=s*p,r[o+n+1]=h*c,r[o+2*n]=s*p,r[o+2*n+1]=l*c,r[o+3*n]=a*p,r[o+3*n+1]=l*c,o+=4*n}},e.prototype.uploadPosition=function(t,e,i,r,n,o){for(var s=0;s<i;s++){var a=t[e+s].position;r[o]=a.x,r[o+1]=a.y,r[o+n]=a.x,r[o+n+1]=a.y,r[o+2*n]=a.x,r[o+2*n+1]=a.y,r[o+3*n]=a.x,r[o+3*n+1]=a.y,o+=4*n}},e.prototype.uploadRotation=function(t,e,i,r,n,o){for(var s=0;s<i;s++){var a=t[e+s].rotation;r[o]=a,r[o+n]=a,r[o+2*n]=a,r[o+3*n]=a,o+=4*n}},e.prototype.uploadUvs=function(t,e,i,r,n,o){for(var s=0;s<i;++s){var a=t[e+s]._texture._uvs;a?(r[o]=a.x0,r[o+1]=a.y0,r[o+n]=a.x1,r[o+n+1]=a.y1,r[o+2*n]=a.x2,r[o+2*n+1]=a.y2,r[o+3*n]=a.x3,r[o+3*n+1]=a.y3,o+=4*n):(r[o]=0,r[o+1]=0,r[o+n]=0,r[o+n+1]=0,r[o+2*n]=0,r[o+2*n+1]=0,r[o+3*n]=0,r[o+3*n+1]=0,o+=4*n)}},e.prototype.uploadTint=function(t,e,i,r,n,o){for(var s=0;s<i;++s){var a=t[e+s],l=a._texture.baseTexture.alphaMode>0,h=a.alpha,u=h<1&&l?(0,f.premultiplyTint)(a._tintRGB,h):a._tintRGB+(255*h<<24);r[o]=u,r[o+n]=u,r[o+2*n]=u,r[o+3*n]=u,o+=4*n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(S.ObjectRenderer),lt=i(264),ht=i(426),ut=i(38),ft=function(t,e){return(ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(nt||(nt={}));var dt={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:nt.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},pt=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],ct=function(){function t(t){this.styleID=0,this.reset(),mt(this,t,t)}return t.prototype.clone=function(){var e={};return mt(e,this,dt),new t(e)},t.prototype.reset=function(){mt(this,dt,dt)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=yt(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=yt(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=yt(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&pt.indexOf(r)<0&&(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function xt(t){return"number"==typeof t?(0,f.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function yt(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=xt(t[e]);return t}return xt(t)}function mt(t,e,i){for(var r in i)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}var gt=function(){function t(t,e,i,r,n,o,s,a,l){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=l}return t.measureText=function(e,i,r,n){void 0===n&&(n=t._canvas),r=null==r?i.wordWrap:r;var o=i.toFontString(),s=t.measureFont(o);0===s.fontSize&&(s.fontSize=i.fontSize,s.ascent=i.fontSize);var a=n.getContext("2d");a.font=o;for(var l=(r?t.wordWrap(e,i,n):e).split(/(?:\r\n|\r|\n)/),h=new Array(l.length),u=0,f=0;f<l.length;f++){var d=a.measureText(l[f]).width+(l[f].length-1)*i.letterSpacing;h[f]=d,u=Math.max(u,d)}var p=u+i.strokeThickness;i.dropShadow&&(p+=i.dropShadowDistance);var c=i.lineHeight||s.fontSize+i.strokeThickness,x=Math.max(c,s.fontSize+i.strokeThickness)+(l.length-1)*(c+i.leading);return i.dropShadow&&(x+=i.dropShadowDistance),new t(e,i,p,x,l,h,c+i.leading,u,s)},t.wordWrap=function(e,i,r){void 0===r&&(r=t._canvas);for(var n=r.getContext("2d"),o=0,s="",a="",l=Object.create(null),h=i.letterSpacing,u=i.whiteSpace,f=t.collapseSpaces(u),d=t.collapseNewlines(u),p=!f,c=i.wordWrapWidth+h,x=t.tokenize(e),y=0;y<x.length;y++){var m=x[y];if(t.isNewline(m)){if(!d){a+=t.addLine(s),p=!f,s="",o=0;continue}m=" "}if(f){var g=t.isBreakingSpace(m),v=t.isBreakingSpace(s[s.length-1]);if(g&&v)continue}var _=t.getFromCache(m,h,l,n);if(_>c)if(""!==s&&(a+=t.addLine(s),s="",o=0),t.canBreakWords(m,i.breakWords))for(var b=t.wordWrapSplit(m),T=0;T<b.length;T++){for(var E=b[T],w=1;b[T+w];){var S=b[T+w],P=E[E.length-1];if(t.canBreakChars(P,S,m,T,i.breakWords))break;E+=S,w++}T+=E.length-1;var X=t.getFromCache(E,h,l,n);X+o>c&&(a+=t.addLine(s),p=!1,s="",o=0),s+=E,o+=X}else{s.length>0&&(a+=t.addLine(s),s="",o=0);var I=y===x.length-1;a+=t.addLine(m,!I),p=!1,s="",o=0}else _+o>c&&(p=!1,a+=t.addLine(s),s="",o=0),(s.length>0||!t.isBreakingSpace(m)||p)&&(s+=m,o+=_)}return a+t.addLine(s,!1)},t.addLine=function(e,i){return void 0===i&&(i=!0),e=t.trimRight(e),i?e+"\n":e},t.getFromCache=function(t,e,i,r){var n=i[t];if("number"!=typeof n){var o=t.length*e;n=r.measureText(t).width+o,i[t]=n}return n},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var i=e.length-1;i>=0;i--){var r=e[i];if(!t.isBreakingSpace(r))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var i=[],r="";if("string"!=typeof e)return i;for(var n=0;n<e.length;n++){var o=e[n];t.isBreakingSpace(o)||t.isNewline(o)?(""!==r&&(i.push(r),r=""),i.push(o)):r+=o}return""!==r&&i.push(r),i},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,i,r,n){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var i={ascent:0,descent:0,fontSize:0},r=t._canvas,n=t._context;n.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(n.measureText(o).width),a=Math.ceil(n.measureText(t.BASELINE_SYMBOL).width),l=2*a;a=a*t.BASELINE_MULTIPLIER|0,r.width=s,r.height=l,n.fillStyle="#f00",n.fillRect(0,0,s,l),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(o,0,a);var h=n.getImageData(0,0,s,l).data,u=h.length,f=4*s,d=0,p=0,c=!1;for(d=0;d<a;++d){for(var x=0;x<f;x+=4)if(255!==h[p+x]){c=!0;break}if(c)break;p+=f}for(i.ascent=a-d,p=u-f,c=!1,d=l;d>a;--d){for(x=0;x<f;x+=4)if(255!==h[p+x]){c=!0;break}if(c)break;p-=f}return i.descent=d-a,i.fontSize=i.ascent+i.descent,t._fonts[e]=i,i},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),vt=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();vt.width=vt.height=10,gt._canvas=vt,gt._context=vt.getContext("2d"),gt._fonts={},gt.METRICS_STRING="|ÉqÅ",gt.BASELINE_SYMBOL="M",gt.BASELINE_MULTIPLIER=1.4,gt._newlines=[10,13],gt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var _t={texture:!0,children:!1,baseTexture:!0},bt=function(t){function e(e,i,r){var n=this,o=!1;r||(r=document.createElement("canvas"),o=!0),r.width=3,r.height=3;var s=S.Texture.from(r);return s.orig=new x.Rectangle,s.trim=new x.Rectangle,(n=t.call(this,s)||this)._ownCanvas=o,n.canvas=r,n.context=n.canvas.getContext("2d"),n._resolution=lt.X.RESOLUTION,n._autoResolution=!0,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=e,n.style=i,n.localStyleID=-1,n}return function(t,e){function i(){this.constructor=t}ft(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,r,n=this.context,o=gt.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,l=o.lines,h=o.lineHeight,u=o.lineWidths,d=o.maxLineWidth,p=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var c=e.dropShadow?2:1,x=0;x<c;++x){var y=e.dropShadow&&0===x,m=y?Math.ceil(Math.max(1,a)+2*e.padding):0,g=m*this._resolution;if(y){n.fillStyle="black",n.strokeStyle="black";var v=e.dropShadowColor,_=(0,f.hex2rgb)("number"==typeof v?v:(0,f.string2hex)(v));n.shadowColor="rgba("+255*_[0]+","+255*_[1]+","+255*_[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+g}else n.fillStyle=this._generateFillStyle(e,l,o),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var b=0;b<l.length;b++)i=e.strokeThickness/2,r=e.strokeThickness/2+b*h+p.ascent,"right"===e.align?i+=d-u[b]:"center"===e.align&&(i+=(d-u[b])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(l[b],i+e.padding,r+e.padding-m,!0),e.fill&&this.drawLetterSpacing(l[b],i+e.padding,r+e.padding-m)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,i,r){void 0===r&&(r=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=this.context.measureText(t).width,l=0,h=0;h<s.length;++h){var u=s[h];r?this.context.strokeText(u,o,i):this.context.fillText(u,o,i),o+=a-(l=this.context.measureText(t.substring(h+1)).width)+n,a=l}else r?this.context.strokeText(t,e,i):this.context.fillText(t,e,i)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,f.trimCanvas)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var i=this._texture,r=this._style,n=r.trim?0:r.padding,o=i.baseTexture;i.trim.width=i._frame.width=Math.ceil(t.width/this._resolution),i.trim.height=i._frame.height=Math.ceil(t.height/this._resolution),i.trim.x=-n,i.trim.y=-n,i.orig.width=i._frame.width-2*n,i.orig.height=i._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,i){var r,n=t.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];var o=t.dropShadow?t.dropShadowDistance:0,s=t.padding||0,a=Math.ceil(this.canvas.width/this._resolution)-o-2*s,l=Math.ceil(this.canvas.height/this._resolution)-o-2*s,h=n.slice(),u=t.fillGradientStops.slice();if(!u.length)for(var f=h.length+1,d=1;d<f;++d)u.push(d/f);if(h.unshift(n[0]),u.unshift(0),h.push(n[n.length-1]),u.push(1),t.fillGradientType===nt.LINEAR_VERTICAL){r=this.context.createLinearGradient(a/2,s,a/2,l+s);var p=0,c=(i.fontProperties.fontSize+t.strokeThickness)/l;for(d=0;d<e.length;d++)for(var x=i.lineHeight*d,y=0;y<h.length;y++){var m=x/l+("number"==typeof u[y]?u[y]:y/h.length)*c,g=Math.max(p,m);g=Math.min(g,1),r.addColorStop(g,h[y]),p=g}}else{r=this.context.createLinearGradient(s,l/2,a+s,l/2);var v=h.length+1,_=1;for(d=0;d<h.length;d++){var b;b="number"==typeof u[d]?u[d]:_/v,r.addColorStop(b,h[d]),_++}}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},_t,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,f.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,f.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof ct?t:new ct(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e}(ut.Sprite);lt.X.UPLOADS_PER_FRAME=4;var Tt=function(t,e){return(Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},Et=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function wt(t,e){var i=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof S.Texture){var n=t._textures[r].baseTexture;-1===e.indexOf(n)&&(e.push(n),i=!0)}return i}function St(t,e){if(t.baseTexture instanceof S.BaseTexture){var i=t.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function Pt(t,e){if(t._texture&&t._texture instanceof S.Texture){var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function Xt(t,e){return e instanceof bt&&(e.updateText(!0),!0)}function It(t,e){if(e instanceof ct){var i=e.toFontString();return gt.measureFont(i),!0}return!1}function At(t,e){if(t instanceof bt){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function Ot(t,e){return t instanceof ct&&(-1===e.indexOf(t)&&e.push(t),!0)}var Ct=function(){function t(t){var e=this;this.limiter=new Et(lt.X.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(At),this.registerFindHook(Ot),this.registerFindHook(wt),this.registerFindHook(St),this.registerFindHook(Pt),this.registerUploadHook(Xt),this.registerUploadHook(It)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,y.vB.system.addOnce(this.tick,this,y.uF.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)y.vB.system.addOnce(this.tick,this,y.uF.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);for(this.completes.length=0,i=0,r=n.length;i<r;i++)n[i]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof d.Container)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&y.vB.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function Mt(t,e){return e instanceof S.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function Dt(t,e){if(!(e instanceof ht.Graphics))return!1;var i=e.geometry;e.finishPoly(),i.updateBatches();for(var r=i.batches,n=0;n<r.length;n++){var o=r[n].style.texture;o&&Mt(t,o.baseTexture)}return i.batchable||t.geometry.bind(i,e._resolveDirectShader(t)),!0}function Rt(t,e){return t instanceof ht.Graphics&&(e.push(t),!0)}var Lt=function(t){function e(e){var i=t.call(this,e)||this;return i.uploadHookHelper=i.renderer,i.registerFindHook(Rt),i.registerUploadHook(Mt),i.registerUploadHook(Dt),i}return function(t,e){function i(){this.constructor=t}Tt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e}(Ct),Nt=function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}(),Bt=function(){function t(t,e,i){void 0===i&&(i=null),this._texture=t instanceof S.Texture?t:null,this.baseTexture=t instanceof S.BaseTexture?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var r=this.baseTexture.resource;this.resolution=this._updateResolution(i||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,i=(0,f.getResolutionOfUrl)(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&this.baseTexture.setResolution(i),i},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var i=e,r=t.BATCH_SIZE;i-e<r&&i<this._frameKeys.length;){var n=this._frameKeys[i],o=this._frames[n],s=o.frame;if(s){var a,l=null,h=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,u=new x.Rectangle(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);a=o.rotated?new x.Rectangle(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new x.Rectangle(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(l=new x.Rectangle(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new S.Texture(this.baseTexture,a,u,l,o.rotated?2:0,o.anchor),S.Texture.addToCache(this.textures[n],n)}i++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var i=0;i<t[e].length;i++){var r=t[e][i];this.animations[e].push(this.textures[r])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(t){var e;for(var i in void 0===t&&(t=!1),this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),Ft=function(){function t(){}return t.use=function(e,i){var r=this,n=e.name+"_image";if(e.data&&e.type===Z.TYPE.JSON&&e.data.frames&&!r.resources[n]){var o={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},s=t.getResourcePath(e,r.baseUrl);r.add(n,s,o,(function(t){if(t.error)i(t.error);else{var r=new Bt(t.texture,e.data,e.url);r.parse((function(){e.spritesheet=r,e.textures=r.textures,i()}))}}))}else i()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:f.url.resolve(t.url.replace(e,""),t.data.meta.image)},t}(),Ut=function(t,e){return(Ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function kt(t,e){function i(){this.constructor=t}Ut(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var jt=new x.Point,Gt=function(t){function e(e,i,r){void 0===i&&(i=100),void 0===r&&(r=100);var n=t.call(this,e)||this;return n.tileTransform=new x.Transform,n._width=i,n._height=r,n.uvMatrix=n.texture.uvMatrix||new S.TextureMatrix(e),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n}return kt(e,t),Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,r)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new x.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,jt);var e=this._width,i=this._height,r=-e*this.anchor._x;if(jt.x>=r&&jt.x<r+e){var n=-i*this.anchor._y;if(jt.y>=n&&jt.y<n+i)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,i){return"number"==typeof i&&((0,f.deprecation)("5.3.0","TilingSprite.from use options instead of width and height args"),i={width:i,height:arguments[2]}),new e(S.Texture.from(t,i),i.width,i.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),e}(ut.Sprite),Ht="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",zt=new x.Matrix,Yt=function(t){function e(e){var i=t.call(this,e)||this,r={globals:i.renderer.globalUniforms};return i.shader=S.Shader.from(Ht,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",r),i.simpleShader=S.Shader.from(Ht,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",r),i.quad=new S.QuadUv,i.state=S.State.for2d(),i}return kt(e,t),e.prototype.render=function(t){var e=this.renderer,i=this.quad,r=i.vertices;r[0]=r[6]=t._width*-t.anchor.x,r[1]=r[3]=t._height*-t.anchor.y,r[2]=r[4]=t._width*(1-t.anchor.x),r[5]=r[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((r=i.uvs)[0]=r[6]=-t.anchor.x,r[1]=r[3]=-t.anchor.y,r[2]=r[4]=1-t.anchor.x,r[5]=r[7]=1-t.anchor.y),i.invalidate();var n=t._texture,o=n.baseTexture,s=t.tileTransform.localTransform,a=t.uvMatrix,l=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;l&&(o._glTextures[e.CONTEXT_UID]?l=o.wrapMode!==et.WRAP_MODES.CLAMP:o.wrapMode===et.WRAP_MODES.CLAMP&&(o.wrapMode=et.WRAP_MODES.REPEAT));var h=l?this.simpleShader:this.shader,u=n.width,d=n.height,p=t._width,c=t._height;zt.set(s.a*u/p,s.b*u/c,s.c*d/p,s.d*d/c,s.tx/p,s.ty/c),zt.invert(),l?zt.prepend(a.mapCoord):(h.uniforms.uMapCoord=a.mapCoord.toArray(!0),h.uniforms.uClampFrame=a.uClampFrame,h.uniforms.uClampOffset=a.uClampOffset),h.uniforms.uTransform=zt.toArray(!0),h.uniforms.uColor=(0,f.premultiplyTintToRgba)(t.tint,t.worldAlpha,h.uniforms.uColor,o.alphaMode),h.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),h.uniforms.uSampler=n,e.shader.bind(h),e.geometry.bind(i),this.state.blendMode=(0,f.correctBlendMode)(t.blendMode,o.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(S.ObjectRenderer),Vt=function(t,e){return(Vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Wt(t,e){function i(){this.constructor=t}Vt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var qt=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),Kt=new x.Point,Zt=new x.Polygon,Jt=function(t){function e(e,i,r,n){void 0===n&&(n=et.DRAW_MODES.TRIANGLES);var o=t.call(this)||this;return o.geometry=e,e.refCount++,o.shader=i,o.state=r||S.State.for2d(),o.drawMode=n,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=0,o._transformID=-1,o._roundPixels=lt.X.ROUND_PIXELS,o.batchUvs=null,o}return Wt(e,t),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var i=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===et.DRAW_MODES.TRIANGLES&&i.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var i=this.transform.worldTransform,r=i.a,n=i.b,o=i.c,s=i.d,a=i.tx,l=i.ty,h=this.vertexData,u=0;u<h.length/2;u++){var f=e[2*u],d=e[2*u+1];h[2*u]=r*f+o*d+a,h[2*u+1]=n*f+s*d+l}if(this._roundPixels){var p=lt.X.RESOLUTION;for(u=0;u<h.length;++u)h[u]=Math.round((h[u]*p|0)/p)}this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new qt(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Kt);for(var e=this.geometry.getBuffer("aVertexPosition").data,i=Zt.points,r=this.geometry.getIndex().data,n=r.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*r[s],l=2*r[s+1],h=2*r[s+2];if(i[0]=e[a],i[1]=e[a+1],i[2]=e[l],i[3]=e[l+1],i[4]=e[h],i[5]=e[h+1],Zt.contains(Kt.x,Kt.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(d.Container),Qt=function(t){function e(e,i){var r=this,n={uSampler:e,alpha:1,uTextureMatrix:x.Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i)).uniforms&&Object.assign(n,i.uniforms),(r=t.call(this,i.program||S.Program.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),n)||this)._colorDirty=!1,r.uvMatrix=new S.TextureMatrix(e),r.batchable=void 0===i.program,r.pluginName=i.pluginName,r.tint=i.tint,r.alpha=i.alpha,r}return Wt(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;(0,f.premultiplyTintToRgba)(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(S.Shader),$t=function(t){function e(e,i,r){var n=t.call(this)||this,o=new S.Buffer(e),s=new S.Buffer(i,!0),a=new S.Buffer(r,!0,!0);return n.addAttribute("aVertexPosition",o,2,!1,et.TYPES.FLOAT).addAttribute("aTextureCoord",s,2,!1,et.TYPES.FLOAT).addIndex(a),n._updateId=-1,n}return Wt(e,t),Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(S.Geometry),te=function(t,e){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},ee=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},ie=function(){function t(){}return t.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var r in e){var n=e[r].match(/^[a-z]+/gm)[0],o=e[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var a in o){var l=o[a].split("="),h=l[0],u=l[1].replace(/"/gm,""),f=parseFloat(u),d=isNaN(f)?u:f;s[h]=d}i[n].push(s)}var p=new ee;return i.info.forEach((function(t){return p.info.push({face:t.face,size:parseInt(t.size,10)})})),i.common.forEach((function(t){return p.common.push({lineHeight:parseInt(t.lineHeight,10)})})),i.page.forEach((function(t){return p.page.push({id:parseInt(t.id,10),file:t.file})})),i.char.forEach((function(t){return p.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),i.kerning.forEach((function(t){return p.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),p},t}(),re=function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new ee,i=t.getElementsByTagName("info"),r=t.getElementsByTagName("common"),n=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),a=0;a<i.length;a++)e.info.push({face:i[a].getAttribute("face"),size:parseInt(i[a].getAttribute("size"),10)});for(a=0;a<r.length;a++)e.common.push({lineHeight:parseInt(r[a].getAttribute("lineHeight"),10)});for(a=0;a<n.length;a++)e.page.push({id:parseInt(n[a].getAttribute("id"),10)||0,file:n[a].getAttribute("file")});for(a=0;a<o.length;a++){var l=o[a];e.char.push({id:parseInt(l.getAttribute("id"),10),page:parseInt(l.getAttribute("page"),10)||0,x:parseInt(l.getAttribute("x"),10),y:parseInt(l.getAttribute("y"),10),width:parseInt(l.getAttribute("width"),10),height:parseInt(l.getAttribute("height"),10),xoffset:parseInt(l.getAttribute("xoffset"),10),yoffset:parseInt(l.getAttribute("yoffset"),10),xadvance:parseInt(l.getAttribute("xadvance"),10)})}for(a=0;a<s.length;a++)e.kerning.push({first:parseInt(s[a].getAttribute("first"),10),second:parseInt(s[a].getAttribute("second"),10),amount:parseInt(s[a].getAttribute("amount"),10)});return e},t}(),ne=function(){function t(){}return t.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return re.test(e)}return!1},t.parse=function(t){var e=(new window.DOMParser).parseFromString(t,"text/xml");return re.parse(e)},t}(),oe=[ie,re,ne];function se(t){for(var e=0;e<oe.length;e++)if(oe[e].test(t))return oe[e];return null}function ae(t,e,i,r,n,o){var s,a=i.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var l=i.dropShadow?i.dropShadowDistance:0,h=i.padding||0,u=Math.ceil(t.width/r)-l-2*h,f=Math.ceil(t.height/r)-l-2*h,d=a.slice(),p=i.fillGradientStops.slice();if(!p.length)for(var c=d.length+1,x=1;x<c;++x)p.push(x/c);if(d.unshift(a[0]),p.unshift(0),d.push(a[a.length-1]),p.push(1),i.fillGradientType===nt.LINEAR_VERTICAL){s=e.createLinearGradient(u/2,h,u/2,f+h);var y=0,m=(o.fontProperties.fontSize+i.strokeThickness)/f;for(x=0;x<n.length;x++)for(var g=o.lineHeight*x,v=0;v<d.length;v++){var _=g/f+("number"==typeof p[v]?p[v]:v/d.length)*m,b=Math.max(y,_);b=Math.min(b,1),s.addColorStop(b,d[v]),y=b}}else{s=e.createLinearGradient(h,f/2,u+h,f/2);var T=d.length+1,E=1;for(x=0;x<d.length;x++){var w;w="number"==typeof p[x]?p[x]:E/T,s.addColorStop(w,d[x]),E++}}return s}function le(t,e,i,r,n,o,s){var a=i.text,l=i.fontProperties;e.translate(r,n),e.scale(o,o);var h=s.strokeThickness/2,u=-s.strokeThickness/2;e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=ae(t,e,s,o,[a],i),e.strokeStyle=s.stroke,e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=ae(t,e,s,o,[a],i),e.strokeStyle=s.stroke;var d=s.dropShadowColor,p=(0,f.hex2rgb)("number"==typeof d?d:(0,f.string2hex)(d));s.dropShadow?(e.shadowColor="rgba("+255*p[0]+","+255*p[1]+","+255*p[2]+","+s.dropShadowAlpha+")",e.shadowBlur=s.dropShadowBlur,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*s.dropShadowDistance,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*s.dropShadowDistance):(e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),s.stroke&&s.strokeThickness&&e.strokeText(a,h,u+i.lineHeight-l.descent),s.fill&&e.fillText(a,h,u+i.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}var he=function(){function t(t,e){var i=t.info[0],r=t.common[0],n=t.page[0],o=(0,f.getResolutionOfUrl)(n.file),s={};this.font=i.face,this.size=i.size,this.lineHeight=r.lineHeight/o,this.chars={},this.pageTextures=s;for(var a=0;a<t.page.length;a++){var l=t.page[a],h=l.id,u=l.file;s[h]=e instanceof Array?e[a]:e[u]}for(a=0;a<t.char.length;a++){var d=t.char[a],p=(h=d.id,d.page),c=t.char[a],y=c.x,m=c.y,g=c.width,v=c.height,_=c.xoffset,b=c.yoffset,T=c.xadvance;y/=o,m/=o,g/=o,v/=o,_/=o,b/=o,T/=o;var E=new x.Rectangle(y+s[p].frame.x/o,m+s[p].frame.y/o,g,v);this.chars[h]={xOffset:_,yOffset:b,xAdvance:T,kerning:{},texture:new S.Texture(s[p].baseTexture,E),page:p}}for(a=0;a<t.kerning.length;a++){var w=t.kerning[a],P=w.first,X=w.second,I=w.amount;P/=o,X/=o,I/=o,this.chars[X]&&(this.chars[X].kerning[P]=I)}}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,i){var r;if(e instanceof ee)r=e;else{var n=se(e);if(!n)throw new Error("Unrecognized data format for font.");r=n.parse(e)}i instanceof S.Texture&&(i=[i]);var o=new t(r,i);return t.available[o.font]=o,o},t.uninstall=function(e){var i=t.available[e];if(!i)throw new Error("No font found named '"+e+"'");i.destroy(),delete t.available[e]},t.from=function(e,i,r){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},t.defaultOptions,r),o=n.chars,s=n.padding,a=n.resolution,l=n.textureWidth,h=n.textureHeight,u=function(t){"string"==typeof t&&(t=[t]);for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var o=n[0].charCodeAt(0),s=n[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,l=s;a<=l;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,n.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(o),f=i instanceof ct?i:new ct(i),d=l,p=new ee;p.info[0]={face:f.fontFamily,size:f.fontSize},p.common[0]={lineHeight:f.fontSize};for(var c,x,y,m=0,g=0,v=0,_=[],b=0;b<u.length;b++){c||((c=document.createElement("canvas")).width=l,c.height=h,x=c.getContext("2d"),y=new S.BaseTexture(c,{resolution:a}),_.push(new S.Texture(y)),p.page.push({id:_.length-1,file:""}));var T=gt.measureText(u[b],f,!1,c),E=T.width,w=Math.ceil(T.height),P=Math.ceil(("italic"===f.fontStyle?2:1)*E);if(g>=h-w*a){if(0===g)throw new Error("[BitmapFont] textureHeight "+h+"px is too small for "+f.fontSize+"px fonts");--b,c=null,x=null,y=null,g=0,m=0,v=0}else if(v=Math.max(w+T.fontProperties.descent,v),P*a+m>=d)--b,g+=v*a,g=Math.ceil(g),m=0,v=0;else{le(c,x,T,m,g,a,f);var X=T.text.charCodeAt(0);p.char.push({id:X,page:_.length-1,x:m/a,y:g/a,width:P,height:w,xoffset:0,yoffset:0,xadvance:Math.ceil(E-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0))}),m+=(P+2*s)*a,m=Math.ceil(m)}}var I=new t(p,_);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=I,I},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),ue=[],fe=[],de=function(t){function e(i,r){void 0===r&&(r={});var n=t.call(this)||this;n._tint=16777215,r.font&&((0,f.deprecation)("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),n._upgradeStyle(r));var o=Object.assign({},e.styleDefaults,r),s=o.align,a=o.tint,l=o.maxWidth,h=o.letterSpacing,u=o.fontName,d=o.fontSize;if(!he.available[u])throw new Error('Missing BitmapFont "'+u+'"');return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=s,n._tint=a,n._fontName=u,n._fontSize=d||he.available[u].size,n._text=i,n._maxWidth=l,n._maxLineHeight=0,n._letterSpacing=h,n._anchor=new x.ObservablePoint((function(){n.dirty=!0}),n,0,0),n._roundPixels=lt.X.ROUND_PIXELS,n.dirty=!0,n._textureCache={},n}return function(t,e){function i(){this.constructor=t}te(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.updateText=function(){for(var t,e=he.available[this._fontName],i=this._fontSize/e.size,r=new x.Point,n=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=s.length,l=this._maxWidth*e.size/this._fontSize,h=null,u=0,d=0,p=0,c=-1,y=0,m=0,g=0,v=0;v<a;v++){var _=s.charCodeAt(v),b=s.charAt(v);if(/(?:\s)/.test(b)&&(c=v,y=u),"\r"!==b&&"\n"!==b){var T=e.chars[_];if(T){h&&T.kerning[h]&&(r.x+=T.kerning[h]);var E=fe.pop()||{texture:S.Texture.EMPTY,line:0,charCode:0,position:new x.Point};E.texture=T.texture,E.line=p,E.charCode=_,E.position.x=r.x+T.xOffset+this._letterSpacing/2,E.position.y=r.y+T.yOffset,n.push(E),r.x+=T.xAdvance+this._letterSpacing,u=r.x,g=Math.max(g,T.yOffset+T.texture.height),h=_,-1!==c&&l>0&&r.x>l&&(++m,(0,f.removeItems)(n,1+c-m,1+v-c),v=c,c=-1,o.push(y),d=Math.max(d,y),p++,r.x=0,r.y+=e.lineHeight,h=null)}}else o.push(u),d=Math.max(d,u),++p,++m,r.x=0,r.y+=e.lineHeight,h=null}var w=s.charAt(s.length-1);"\r"!==w&&"\n"!==w&&(/(?:\s)/.test(w)&&(u=y),o.push(u),d=Math.max(d,u));var P=[];for(v=0;v<=p;v++){var X=0;"right"===this._align?X=d-o[v]:"center"===this._align&&(X=(d-o[v])/2),P.push(X)}var I=n.length,A={},O=[],C=this._activePagesMeshData;for(v=0;v<C.length;v++)ue.push(C[v]);for(v=0;v<I;v++){var M=(j=n[v].texture).baseTexture.uid;if(!A[M]){if(!(q=ue.pop())){var D=new $t,R=new Qt(S.Texture.EMPTY);q={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new Jt(D,R),vertices:null,uvs:null,indices:null}}q.index=0,q.indexCount=0,q.vertexCount=0,q.uvsCount=0,q.total=0;var L=this._textureCache;L[M]=L[M]||new S.Texture(j.baseTexture),q.mesh.texture=L[M],q.mesh.tint=this._tint,O.push(q),A[M]=q}A[M].total++}for(v=0;v<C.length;v++)-1===O.indexOf(C[v])&&this.removeChild(C[v].mesh);for(v=0;v<O.length;v++)O[v].mesh.parent!==this&&this.addChild(O[v].mesh);for(var v in this._activePagesMeshData=O,A){var N=(q=A[v]).total;if(!((null===(t=q.indices)||void 0===t?void 0:t.length)>6*N)||q.vertices.length<2*Jt.BATCHABLE_SIZE)q.vertices=new Float32Array(8*N),q.uvs=new Float32Array(8*N),q.indices=new Uint16Array(6*N);else for(var B=q.total,F=q.vertices,U=4*B*2;U<F.length;U++)F[U]=0;q.mesh.size=6*N}for(v=0;v<I;v++){var k=(b=n[v]).position.x+P[b.line];this._roundPixels&&(k=Math.round(k));var j,G=k*i,H=b.position.y*i,z=A[(j=b.texture).baseTexture.uid],Y=j.frame,V=j._uvs,W=z.index++;z.indices[6*W+0]=0+4*W,z.indices[6*W+1]=1+4*W,z.indices[6*W+2]=2+4*W,z.indices[6*W+3]=0+4*W,z.indices[6*W+4]=2+4*W,z.indices[6*W+5]=3+4*W,z.vertices[8*W+0]=G,z.vertices[8*W+1]=H,z.vertices[8*W+2]=G+Y.width*i,z.vertices[8*W+3]=H,z.vertices[8*W+4]=G+Y.width*i,z.vertices[8*W+5]=H+Y.height*i,z.vertices[8*W+6]=G,z.vertices[8*W+7]=H+Y.height*i,z.uvs[8*W+0]=V.x0,z.uvs[8*W+1]=V.y0,z.uvs[8*W+2]=V.x1,z.uvs[8*W+3]=V.y1,z.uvs[8*W+4]=V.x2,z.uvs[8*W+5]=V.y2,z.uvs[8*W+6]=V.x3,z.uvs[8*W+7]=V.y3}for(var v in this._textWidth=d*i,this._textHeight=(r.y+e.lineHeight)*i,A){var q=A[v];if(0!==this.anchor.x||0!==this.anchor.y)for(var K=0,Z=this._textWidth*this.anchor.x,J=this._textHeight*this.anchor.y,Q=0;Q<q.total;Q++)q.vertices[K++]-=Z,q.vertices[K++]-=J,q.vertices[K++]-=Z,q.vertices[K++]-=J,q.vertices[K++]-=Z,q.vertices[K++]-=J,q.vertices[K++]-=Z,q.vertices[K++]-=J;this._maxLineHeight=g*i;var $=q.mesh.geometry.getBuffer("aVertexPosition"),tt=q.mesh.geometry.getBuffer("aTextureCoord"),et=q.mesh.geometry.getIndex();$.data=q.vertices,tt.data=q.uvs,et.data=q.indices,$.update(),tt.update(),et.update()}for(v=0;v<n.length;v++)fe.push(n[v])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!he.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype._upgradeStyle=function(t){if("string"==typeof t.font){var e=t.font.split(" ");t.fontName=1===e.length?e[0]:e.slice(1).join(" "),e.length>=2&&(t.fontSize=parseInt(e[0],10))}else t.fontName=t.font.name,t.fontSize="number"==typeof t.font.size?t.font.size:parseInt(t.font.size,10)},e.prototype.destroy=function(e){var i=this._textureCache;for(var r in i)i[r].destroy(),delete i[r];this._textureCache=null,t.prototype.destroy.call(this,e)},e.registerFont=function(t,e){return(0,f.deprecation)("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),he.install(t,e)},Object.defineProperty(e,"fonts",{get:function(){return(0,f.deprecation)("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),he.available},enumerable:!1,configurable:!0}),e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(d.Container),pe=function(){function t(){}return t.add=function(){Z.setExtensionXhrType("fnt",Z.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,i){var r=se(e.data);if(r)for(var n=t.getBaseUrl(this,e),o=r.parse(e.data),s={},a=function(t){s[t.metadata.pageFile]=t.texture,Object.keys(s).length===o.page.length&&(e.bitmapFont=he.install(o,s),i())},l=0;l<o.page.length;++l){var h=o.page[l].file,u=n+h,f=!1;for(var d in this.resources){var p=this.resources[d];if(p.url===u){p.metadata.pageFile=h,p.texture?a(p):p.onAfterMiddleware.add(a),f=!0;break}}if(!f){var c={crossOrigin:e.crossOrigin,loadType:Z.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:h},e.metadata.imageMetadata),parentResource:e};this.add(u,c,a)}}else i()},t.getBaseUrl=function(e,i){var r=i.isDataUrl?"":t.dirname(i.url);return i.isDataUrl&&("."===r&&(r=""),e.baseUrl&&r&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(r+="/")),(r=r.replace(e.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t}(),ce=function(t,e){return(ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},xe=function(t){function e(e){void 0===e&&(e=1);var i=t.call(this,S.defaultVertex,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return i.alpha=e,i}return function(t,e){function i(){this.constructor=t}ce(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(S.Filter),ye=function(t,e){return(ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function me(t,e){function i(){this.constructor=t}ye(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var ge,ve,_e,be,Te,Ee,we,Se,Pe,Xe,Ie,Ae,Oe,Ce,Me,De,Re,Le={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Ne=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(ge||(ge={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(ve||(ve={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(_e||(_e={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(be||(be={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Te||(Te={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Ee||(Ee={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(we||(we={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(Se||(Se={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(Pe||(Pe={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Xe||(Xe={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(Ie||(Ie={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(Ae||(Ae={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(Oe||(Oe={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(Ce||(Ce={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(Me||(Me={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(De||(De={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(Re||(Re={}));var Be=function(t){function e(e,i,r,n,o){void 0===i&&(i=8),void 0===r&&(r=4),void 0===n&&(n=lt.X.FILTER_RESOLUTION),void 0===o&&(o=5);var s=this,a=function(t,e){var i,r=Math.ceil(t/2),n="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";i=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=i.replace("%index%",s.toString());o+=a=a.replace("%sampleIndex%",s-(r-1)+".0"),o+="\n"}return(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o,e),l=function(t){for(var e,i=Le[t],r=i.length,n=Ne,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString());e=s,s>=r&&(e=t-s-1),o+=a=a.replace("%value%",i[e].toString()),o+="\n"}return(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o);return(s=t.call(this,a,l)||this).horizontal=e,s.resolution=n,s._quality=0,s.quality=r,s.blur=i,s}return me(e,t),e.prototype.apply=function(t,e,i,r){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/e.width):this.uniforms.strength=1/i.height*(i.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,r);else{var n=t.getFilterTexture(),o=t.renderer,s=e,a=n;this.state.blend=!1,t.applyFilter(this,s,a,Oe.CLEAR);for(var l=1;l<this.passes-1;l++){t.bindAndClear(s,Oe.BLIT),this.uniforms.uSampler=a;var h=a;a=s,s=h,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,i,r),t.returnFilterTexture(n)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(S.Filter),Fe=function(t){function e(e,i,r,n){void 0===e&&(e=8),void 0===i&&(i=4),void 0===r&&(r=lt.X.FILTER_RESOLUTION),void 0===n&&(n=5);var o=t.call(this)||this;return o.blurXFilter=new Be(!0,e,i,r,n),o.blurYFilter=new Be(!1,e,i,r,n),o.resolution=r,o.quality=i,o.blur=e,o.repeatEdgePixels=!1,o}return me(e,t),e.prototype.apply=function(t,e,i,r){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,Oe.CLEAR),this.blurYFilter.apply(t,s,i,r),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,i,r):this.blurXFilter.apply(t,e,i,r)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),e}(S.Filter),Ue=function(t,e){return(Ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},ke=function(t){function e(){var e=this,i={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,S.defaultFilterVertex,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",i)||this).alpha=1,e}return function(t,e){function i(){this.constructor=t}Ue(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var i=t;e&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.greyscale=function(t,e){var i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var i=Math.cos(t),r=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),s=[i+(1-i)*n,n*(1-i)-o*r,n*(1-i)+o*r,0,0,n*(1-i)+o*r,i+n*(1-i),n*(1-i)-o*r,0,0,n*(1-i)-o*r,n*(1-i)+o*r,i+n*(1-i),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var i=(t||0)+1,r=-.5*(i-1),n=[i,0,0,0,r,0,i,0,0,r,0,0,i,0,r,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var i=2*t/3+1,r=-.5*(i-1),n=[i,r,r,0,0,r,i,r,0,0,r,r,i,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,i,r,n){var o=((i=i||16770432)>>16&255)/255,s=(i>>8&255)/255,a=(255&i)/255,l=((r=r||3375104)>>16&255)/255,h=(r>>8&255)/255,u=(255&r)/255,f=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,l,h,u,e=e||.15,0,o-l,s-h,a-u,0,0];this._loadMatrix(f,n)},e.prototype.night=function(t,e){var i=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.predator=function(t,e){var i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(S.Filter);ke.prototype.grayscale=ke.prototype.greyscale;var je=function(t,e){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},Ge=function(t){function e(e,i){var r=this,n=new x.Matrix;return e.renderable=!1,(r=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,r.maskMatrix=n,null==i&&(i=20),r.scale=new x.Point(i,i),r}return function(t,e){function i(){this.constructor=t}je(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.apply=function(t,e,i,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,i,r)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),e}(S.Filter),He=function(t,e){return(He=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},ze=function(t){function e(){return t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function(t,e){function i(){this.constructor=t}He(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e}(S.Filter),Ye=function(t,e){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},Ve=function(t){function e(e,i){void 0===e&&(e=.5),void 0===i&&(i=Math.random());var r=t.call(this,S.defaultFilterVertex,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return r.noise=e,r.seed=i,r}return function(t,e){function i(){this.constructor=t}Ye(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),e}(S.Filter),We=new x.Matrix;d.DisplayObject.prototype._cacheAsBitmap=!1,d.DisplayObject.prototype._cacheData=null;var qe=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(d.DisplayObject.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new qe),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),d.DisplayObject.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},d.DisplayObject.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters){var r=this.filters[0].padding;i.pad(r)}i.ceil(lt.X.RESOLUTION);var n=t.renderTexture.current,o=t.renderTexture.sourceFrame.clone(),s=t.projection.transform,a=S.RenderTexture.create({width:i.width,height:i.height}),l="cacheAsBitmap_"+(0,f.uid)();this._cacheData.textureCacheId=l,S.BaseTexture.addToCache(a.baseTexture,l),S.Texture.addToCache(a,l);var h=this.transform.localTransform.copyTo(We).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,t.render(this,a,!0,h,!1),t.projection.transform=s,t.renderTexture.bind(n,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var u=new ut.Sprite(a);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-i.x/i.width,u.anchor.y=-i.y/i.height,u.alpha=e,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=u.containsPoint.bind(u)}},d.DisplayObject.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},d.DisplayObject.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),i=this.alpha;this.alpha=1;var r=t.context,n=t._projTransform;e.ceil(lt.X.RESOLUTION);var o=S.RenderTexture.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+(0,f.uid)();this._cacheData.textureCacheId=s,S.BaseTexture.addToCache(o.baseTexture,s),S.Texture.addToCache(o,s);var a=We;this.transform.localTransform.copyTo(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,o,!0,a,!1),t.context=r,t._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new ut.Sprite(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-e.x/e.width,l.anchor.y=-e.y/e.height,l.alpha=i,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},d.DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},d.DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},d.DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,S.BaseTexture.removeFromCache(this._cacheData.textureCacheId),S.Texture.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},d.DisplayObject.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},d.DisplayObject.prototype.name=null,d.Container.prototype.getChildByName=function(t,e){for(var i=0,r=this.children.length;i<r;i++)if(this.children[i].name===t)return this.children[i];if(e)for(i=0,r=this.children.length;i<r;i++)if(this.children[i].getChildByName){var n=this.children[i].getChildByName(t,!0);if(n)return n}return null},d.DisplayObject.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new x.Point),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var Ke=function(t,e){return(Ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Ze(t,e){function i(){this.constructor=t}Ke(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Je=function(t){function e(e,i,r,n){void 0===e&&(e=100),void 0===i&&(i=100),void 0===r&&(r=10),void 0===n&&(n=10);var o=t.call(this)||this;return o.segWidth=r,o.segHeight=n,o.width=e,o.height=i,o.build(),o}return Ze(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],i=[],r=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,l=0;l<t;l++){var h=l%this.segWidth,u=l/this.segWidth|0;e.push(h*s,u*a),i.push(h/n,u/o)}var f=n*o;for(l=0;l<f;l++){var d=l%n,p=l/n|0,c=p*this.segWidth+d,x=p*this.segWidth+d+1,y=(p+1)*this.segWidth+d,m=(p+1)*this.segWidth+d+1;r.push(c,x,y,x,m,y)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}($t),Qe=function(t){function e(e,i,r){void 0===e&&(e=200),void 0===r&&(r=0);var n=t.call(this,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(6*(i.length-1)))||this;return n.points=i,n._width=e,n.textureScale=r,n.build(),n}return Ze(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),i.data=new Float32Array(4*t.length),r.data=new Uint16Array(6*(t.length-1)));var n=i.data,o=r.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=0,a=t[0],l=this._width*this.textureScale,h=t.length,u=0;u<h;u++){var f=4*u;if(this.textureScale>0){var d=a.x-t[u].x,p=a.y-t[u].y,c=Math.sqrt(d*d+p*p);a=t[u],s+=c/l}else s=u/(h-1);n[f]=s,n[f+1]=0,n[f+2]=s,n[f+3]=1}var x=0;for(u=0;u<h-1;u++)f=2*u,o[x++]=f,o[x++]=f+1,o[x++]=f+2,o[x++]=f+2,o[x++]=f+1,o[x++]=f+3;i.update(),r.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,i=t[0],r=0,n=0,o=this.buffers[0].data,s=t.length,a=0;a<s;a++){var l=t[a],h=4*a;n=-((e=a<t.length-1?t[a+1]:l).x-i.x),r=e.y-i.y;var u=Math.sqrt(r*r+n*n),f=this.textureScale>0?this.textureScale*this._width/2:this._width/2;r/=u,n/=u,r*=f,n*=f,o[h]=l.x+r,o[h+1]=l.y+n,o[h+2]=l.x-r,o[h+3]=l.y-n,i=l}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}($t),$e=function(t){function e(e,i,r){void 0===r&&(r=0);var n=this,o=new Qe(e.height,i,r),s=new Qt(e);return r>0&&(e.baseTexture.wrapMode=et.WRAP_MODES.REPEAT),(n=t.call(this,o,s)||this).autoUpdate=!0,n}return Ze(e,t),e.prototype._render=function(e){var i=this.geometry;(this.autoUpdate||i._width!==this.shader.texture.height)&&(i._width=this.shader.texture.height,i.update()),t.prototype._render.call(this,e)},e}(Jt),ti=function(t){function e(e,i,r){var n=this,o=new Je(e.width,e.height,i,r),s=new Qt(S.Texture.WHITE);return(n=t.call(this,o,s)||this).texture=e,n}return Ze(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},e}(Jt),ei=function(t){function e(e,i,r,n,o){void 0===e&&(e=S.Texture.EMPTY);var s=this,a=new $t(i,r,n);a.getBuffer("aVertexPosition").static=!1;var l=new Qt(e);return(s=t.call(this,a,l,null,o)||this).autoUpdate=!0,s}return Ze(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},e}(Jt),ii=function(t){function e(e,i,r,n,o){void 0===i&&(i=10),void 0===r&&(r=10),void 0===n&&(n=10),void 0===o&&(o=10);var s=t.call(this,S.Texture.WHITE,4,4)||this;return s._origWidth=e.orig.width,s._origHeight=e.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=i,s._rightWidth=n,s._topHeight=r,s._bottomHeight=o,s.texture=e,s}return Ze(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,i=this._topHeight+this._bottomHeight,r=this._height>i?1:this._height/i;return Math.min(e,r)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var i=1/this._origWidth,r=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(ti),ri=i(557),ni=function(t,e){return(ni=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},oi=function(t){function e(e,i){void 0===i&&(i=!0);var r=t.call(this,e[0]instanceof S.Texture?e[0]:e[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=i,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=e,r}return function(t,e){function i(){this.constructor=t}ni(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(y.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(y.vB.shared.add(this.update,this,y.uF.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,i=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var i=[],r=0;r<t.length;++r)i.push(S.Texture.from(t[r]));return new e(i)},e.fromImages=function(t){for(var i=[],r=0;r<t.length;++r)i.push(S.Texture.from(t[r]));return new e(i)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof S.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(y.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(y.vB.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(ut.Sprite),si=function(t,e){return(si=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function ai(t,e){function i(){this.constructor=t}si(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var li="5.0.0";function hi(){var t=this;Object.defineProperties(t,{SVG_SIZE:{get:function(){return(0,f.deprecation)(li,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),t.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return(0,f.deprecation)(li,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),t.Transform}},TransformBase:{get:function(){return(0,f.deprecation)(li,"PIXI.TransformBase class has been removed, use PIXI.Transform"),t.Transform}},TRANSFORM_MODE:{get:function(){return(0,f.deprecation)(li,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return(0,f.deprecation)(li,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),t.Renderer}},CanvasRenderTarget:{get:function(){return(0,f.deprecation)(li,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),t.utils.CanvasRenderTarget}},loader:{get:function(){return(0,f.deprecation)(li,"PIXI.loader instance has moved to PIXI.Loader.shared"),t.Loader.shared}},FilterManager:{get:function(){return(0,f.deprecation)(li,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),t.systems.FilterSystem}},CanvasTinter:{get:function(){return(0,f.deprecation)("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),t.canvasUtils}},GroupD8:{get:function(){return(0,f.deprecation)("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),t.groupD8}}}),t.accessibility={},Object.defineProperties(t.accessibility,{AccessibilityManager:{get:function(){return(0,f.deprecation)("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),t.AccessibilityManager}}}),t.interaction={},Object.defineProperties(t.interaction,{InteractionManager:{get:function(){return(0,f.deprecation)("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),t.InteractionManager}},InteractionData:{get:function(){return(0,f.deprecation)("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),t.InteractionData}},InteractionEvent:{get:function(){return(0,f.deprecation)("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),t.InteractionEvent}}}),t.prepare={},Object.defineProperties(t.prepare,{BasePrepare:{get:function(){return(0,f.deprecation)("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),t.BasePrepare}},Prepare:{get:function(){return(0,f.deprecation)("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),t.Prepare}},CanvasPrepare:{get:function(){return(0,f.deprecation)("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),t.CanvasPrepare}}}),t.extract={},Object.defineProperties(t.extract,{Extract:{get:function(){return(0,f.deprecation)("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),t.Extract}},CanvasExtract:{get:function(){return(0,f.deprecation)("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),t.CanvasExtract}}}),t.extras={},Object.defineProperties(t.extras,{TilingSprite:{get:function(){return(0,f.deprecation)(li,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),t.TilingSprite}},TilingSpriteRenderer:{get:function(){return(0,f.deprecation)(li,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),t.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return(0,f.deprecation)(li,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),t.AnimatedSprite}},BitmapText:{get:function(){return(0,f.deprecation)(li,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),t.BitmapText}}}),t.TilingSprite.fromFrame=function(e,i,r){return(0,f.deprecation)("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),t.TilingSprite.from(e,{width:i,height:r})},t.TilingSprite.fromImage=function(e,i,r,n){return void 0===n&&(n={}),(0,f.deprecation)("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),n&&"object"!=typeof n&&(n={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),n.width=i,n.height=r,t.TilingSprite.from(e,n)},Object.defineProperties(t.utils,{getSvgSize:{get:function(){return(0,f.deprecation)(li,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),t.resources.SVGResource.getSize}}}),t.mesh={},Object.defineProperties(t.mesh,{Mesh:{get:function(){return(0,f.deprecation)(li,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),t.SimpleMesh}},NineSlicePlane:{get:function(){return(0,f.deprecation)(li,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),t.NineSlicePlane}},Plane:{get:function(){return(0,f.deprecation)(li,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),t.SimplePlane}},Rope:{get:function(){return(0,f.deprecation)(li,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),t.SimpleRope}},RawMesh:{get:function(){return(0,f.deprecation)(li,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),t.Mesh}},CanvasMeshRenderer:{get:function(){return(0,f.deprecation)(li,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),t.CanvasMeshRenderer}},MeshRenderer:{get:function(){return(0,f.deprecation)(li,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),t.MeshRenderer}}}),t.particles={},Object.defineProperties(t.particles,{ParticleContainer:{get:function(){return(0,f.deprecation)(li,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),t.ParticleContainer}},ParticleRenderer:{get:function(){return(0,f.deprecation)(li,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),t.ParticleRenderer}}}),t.ticker={},Object.defineProperties(t.ticker,{Ticker:{get:function(){return(0,f.deprecation)(li,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),t.Ticker}},shared:{get:function(){return(0,f.deprecation)(li,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),t.Ticker.shared}}}),t.loaders={},Object.defineProperties(t.loaders,{Loader:{get:function(){return(0,f.deprecation)(li,"PIXI.loaders.Loader class has moved to PIXI.Loader"),t.Loader}},Resource:{get:function(){return(0,f.deprecation)(li,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),t.LoaderResource}},bitmapFontParser:{get:function(){return(0,f.deprecation)(li,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),t.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){(0,f.deprecation)(li,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return(0,f.deprecation)(li,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),t.SpritesheetLoader.use}},getResourcePath:{get:function(){return(0,f.deprecation)(li,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),t.SpritesheetLoader.getResourcePath}}}),t.Loader.addPixiMiddleware=function(e){return(0,f.deprecation)(li,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),t.loaders.Loader.registerPlugin({use:e()})};var e=function(t){return"on"+t.charAt(0).toUpperCase()+t.slice(1)};Object.assign(t.Loader.prototype,{on:function(t){var i=e(t);(0,f.deprecation)(li,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+i+".add")},once:function(t){var i=e(t);(0,f.deprecation)(li,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+i+".once")},off:function(t){var i=e(t);(0,f.deprecation)(li,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+i+".detach")}}),Object.defineProperty(t.extract,"WebGLExtract",{get:function(){return(0,f.deprecation)(li,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),t.Extract}}),Object.defineProperty(t.prepare,"WebGLPrepare",{get:function(){return(0,f.deprecation)(li,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),t.Prepare}}),t.Container.prototype._renderWebGL=function(t){(0,f.deprecation)(li,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(t)},t.Container.prototype.renderWebGL=function(t){(0,f.deprecation)(li,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(t)},t.DisplayObject.prototype.renderWebGL=function(t){(0,f.deprecation)(li,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(t)},t.Container.prototype.renderAdvancedWebGL=function(t){(0,f.deprecation)(li,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(t)},Object.defineProperties(t.settings,{TRANSFORM_MODE:{get:function(){return(0,f.deprecation)(li,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){(0,f.deprecation)(li,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var i=t.BaseTexture;i.prototype.loadSource=function(e){(0,f.deprecation)(li,"PIXI.BaseTexture.loadSource method has been deprecated");var i=t.resources.autoDetectResource(e);i.internal=!0,this.setResource(i),this.update()};var r=!1;Object.defineProperties(i.prototype,{hasLoaded:{get:function(){return(0,f.deprecation)(li,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var t;return(0,f.deprecation)(li,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),null===(t=this.resource)||void 0===t?void 0:t.url},set:function(t){(0,f.deprecation)(li,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=t)}},source:{get:function(){return(0,f.deprecation)(li,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(t){(0,f.deprecation)(li,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=t)}},premultiplyAlpha:{get:function(){return(0,f.deprecation)("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){(0,f.deprecation)("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}},_id:{get:function(){return r||((0,f.deprecation)("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),r=!0),this._batchLocation},set:function(t){this._batchLocation=t}}}),i.fromImage=function(t,e,r,n){(0,f.deprecation)(li,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:e};return i.from(t,{scaleMode:r,resourceOptions:o})},i.fromCanvas=function(t,e){return(0,f.deprecation)(li,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),i.from(t,{scaleMode:e})},i.fromSVG=function(t,e,r,n){(0,f.deprecation)(li,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:e};return i.from(t,{scaleMode:r,resourceOptions:o})},Object.defineProperties(t.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return(0,f.deprecation)("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){(0,f.deprecation)("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}}}),t.Point.prototype.copy=function(t){return(0,f.deprecation)(li,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(t)},t.ObservablePoint.prototype.copy=function(t){return(0,f.deprecation)(li,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(t)},t.Rectangle.prototype.copy=function(t){return(0,f.deprecation)(li,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(t)},t.Matrix.prototype.copy=function(t){return(0,f.deprecation)(li,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(t)},t.systems.StateSystem.prototype.setState=function(t){return(0,f.deprecation)("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(t)},Object.assign(t.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){return(0,f.deprecation)(li,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,e)},returnRenderTarget:function(t){(0,f.deprecation)(li,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(t)},calculateScreenSpaceMatrix:function(t){(0,f.deprecation)(li,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var e=t.identity(),i=this.activeState,r=i.sourceFrame,n=i.destinationFrame;return e.translate(r.x/n.width,r.y/n.height),e.scale(n.width,n.height),e},calculateNormalizedScreenSpaceMatrix:function(t){(0,f.deprecation)(li,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var e=this.activeState,i=e.sourceFrame,r=e.destinationFrame,n=t.identity();n.translate(i.x/r.width,i.y/r.height);var o=r.width/i.width,s=r.height/i.height;return n.scale(o,s),n}}),Object.defineProperties(t.RenderTexture.prototype,{sourceFrame:{get:function(){return(0,f.deprecation)(li,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return(0,f.deprecation)(li,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var n=function(t){function e(e,i,r,n){return(0,f.deprecation)(li,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!0,e,i,r,n)||this}return ai(e,t),e}(t.filters.BlurFilterPass),o=function(t){function e(e,i,r,n){return(0,f.deprecation)(li,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!1,e,i,r,n)||this}return ai(e,t),e}(t.filters.BlurFilterPass);Object.assign(t.filters,{BlurXFilter:n,BlurYFilter:o});var s=t.Sprite,a=t.Texture,l=t.Graphics;function h(t,e,i,r){return(0,f.deprecation)(li,"PIXI.Sprite."+t+" method is deprecated, use PIXI.Sprite.from"),s.from(e,{resourceOptions:{scale:r,crossorigin:i}})}function u(t,e,i,r){return(0,f.deprecation)(li,"PIXI.Texture."+t+" method is deprecated, use PIXI.Texture.from"),a.from(e,{resourceOptions:{scale:r,crossorigin:i}})}l.prototype.generateCanvasTexture||(l.prototype.generateCanvasTexture=function(){(0,f.deprecation)(li,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(l.prototype,"graphicsData",{get:function(){return(0,f.deprecation)(li,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),s.fromImage=h.bind(null,"fromImage"),s.fromSVG=h.bind(null,"fromSVG"),s.fromCanvas=h.bind(null,"fromCanvas"),s.fromVideo=h.bind(null,"fromVideo"),s.fromFrame=h.bind(null,"fromFrame"),a.fromImage=u.bind(null,"fromImage"),a.fromSVG=u.bind(null,"fromSVG"),a.fromCanvas=u.bind(null,"fromCanvas"),a.fromVideo=u.bind(null,"fromVideo"),a.fromFrame=u.bind(null,"fromFrame"),Object.defineProperty(t.AbstractRenderer.prototype,"autoResize",{get:function(){return(0,f.deprecation)(li,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(t){(0,f.deprecation)(li,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=t}}),Object.defineProperty(t.Renderer.prototype,"textureManager",{get:function(){return(0,f.deprecation)(li,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),t.utils.mixins={mixin:function(){(0,f.deprecation)(li,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){(0,f.deprecation)(li,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){(0,f.deprecation)(li,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(t.BitmapText.prototype,"font",{get:function(){return(0,f.deprecation)("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(e){if((0,f.deprecation)("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),e){var i={font:e};this._upgradeStyle(i),i.fontSize=i.fontSize||t.BitmapFont.available[i.fontName].size,this._fontName=i.fontName,this._fontSize=i.fontSize,this.dirty=!0}}})}S.Renderer.registerPlugin("accessibility",c),S.Renderer.registerPlugin("extract",A),S.Renderer.registerPlugin("interaction",w),S.Renderer.registerPlugin("particle",at),S.Renderer.registerPlugin("prepare",Lt),S.Renderer.registerPlugin("batch",S.BatchRenderer),S.Renderer.registerPlugin("tilingSprite",Yt),$.registerPlugin(pe),$.registerPlugin(Ft),P.registerPlugin(y.Sb),P.registerPlugin(tt);var ui="5.3.7",fi={AlphaFilter:xe,BlurFilter:Fe,BlurFilterPass:Be,ColorMatrixFilter:ke,DisplacementFilter:Ge,FXAAFilter:ze,NoiseFilter:Ve}},971:function(t,e,i){var r;t=i.nmd(t),function(n){e&&e.nodeType,t&&t.nodeType;var o="object"==typeof i.g&&i.g;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,l=36,h=/^xn--/,u=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,c=String.fromCharCode;function x(t){throw RangeError(d[t])}function y(t,e){for(var i=t.length,r=[];i--;)r[i]=e(t[i]);return r}function m(t,e){var i=t.split("@"),r="";return i.length>1&&(r=i[0]+"@",t=i[1]),r+y((t=t.replace(f,".")).split("."),e).join(".")}function g(t){for(var e,i,r=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(i=t.charCodeAt(n++)))?r.push(((1023&e)<<10)+(1023&i)+65536):(r.push(e),n--):r.push(e);return r}function v(t){return y(t,(function(t){var e="";return t>65535&&(e+=c((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+c(t)})).join("")}function _(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function b(t,e,i){var r=0;for(t=i?p(t/700):t>>1,t+=p(t/e);t>455;r+=l)t=p(t/35);return p(r+36*t/(t+38))}function T(t){var e,i,r,n,o,s,h,u,f,d,c,y=[],m=t.length,g=0,_=128,T=72;for((i=t.lastIndexOf("-"))<0&&(i=0),r=0;r<i;++r)t.charCodeAt(r)>=128&&x("not-basic"),y.push(t.charCodeAt(r));for(n=i>0?i+1:0;n<m;){for(o=g,s=1,h=l;n>=m&&x("invalid-input"),((u=(c=t.charCodeAt(n++))-48<10?c-22:c-65<26?c-65:c-97<26?c-97:l)>=l||u>p((a-g)/s))&&x("overflow"),g+=u*s,!(u<(f=h<=T?1:h>=T+26?26:h-T));h+=l)s>p(a/(d=l-f))&&x("overflow"),s*=d;T=b(g-o,e=y.length+1,0==o),p(g/e)>a-_&&x("overflow"),_+=p(g/e),g%=e,y.splice(g++,0,_)}return v(y)}function E(t){var e,i,r,n,o,s,h,u,f,d,y,m,v,T,E,w=[];for(m=(t=g(t)).length,e=128,i=0,o=72,s=0;s<m;++s)(y=t[s])<128&&w.push(c(y));for(r=n=w.length,n&&w.push("-");r<m;){for(h=a,s=0;s<m;++s)(y=t[s])>=e&&y<h&&(h=y);for(h-e>p((a-i)/(v=r+1))&&x("overflow"),i+=(h-e)*v,e=h,s=0;s<m;++s)if((y=t[s])<e&&++i>a&&x("overflow"),y==e){for(u=i,f=l;!(u<(d=f<=o?1:f>=o+26?26:f-o));f+=l)E=u-d,T=l-d,w.push(c(_(d+E%T,0))),u=p(E/T);w.push(c(_(u,0))),o=b(i,v,r==n),i=0,++r}++i,++e}return w.join("")}s={version:"1.3.2",ucs2:{decode:g,encode:v},decode:T,encode:E,toASCII:function(t){return m(t,(function(t){return u.test(t)?"xn--"+E(t):t}))},toUnicode:function(t){return m(t,(function(t){return h.test(t)?T(t.slice(4).toLowerCase()):t}))}},void 0===(r=function(){return s}.call(e,i,e,t))||(t.exports=r)}()},587:t=>{"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,i,r,n){i=i||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(i);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var l=t.length;a>0&&l>a&&(l=a);for(var h=0;h<l;++h){var u,f,d,p,c=t[h].replace(s,"%20"),x=c.indexOf(r);x>=0?(u=c.substr(0,x),f=c.substr(x+1)):(u=c,f=""),d=decodeURIComponent(u),p=decodeURIComponent(f),e(o,d)?Array.isArray(o[d])?o[d].push(p):o[d]=[o[d],p]:o[d]=p}return o}},361:t=>{"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,i,r,n){return i=i||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(n){var o=encodeURIComponent(e(n))+r;return Array.isArray(t[n])?t[n].map((function(t){return o+encodeURIComponent(e(t))})).join(i):o+encodeURIComponent(e(t[n]))})).join(i):n?encodeURIComponent(e(n))+r+encodeURIComponent(e(t)):""}},673:(t,e,i)=>{"use strict";e.decode=e.parse=i(587),e.encode=e.stringify=i(361)},594:function(t,e,i){var r,n;!function(o,s){"use strict";void 0===(n="function"==typeof(r=function(){var t={};function e(t,e){this.x=t||0,this.y=e||0}function i(t,i){this.pos=t||new e,this.r=i||0,this.offset=new e}function r(t,i){this.pos=t||new e,this.angle=0,this.offset=new e,this.setPoints(i||[])}function n(t,i,r){this.pos=t||new e,this.w=i||0,this.h=r||0}function o(){this.a=null,this.b=null,this.overlapN=new e,this.overlapV=new e,this.clear()}t.Vector=e,t.V=e,e.prototype.copy=e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.perp=e.prototype.perp=function(){var t=this.x;return this.x=this.y,this.y=-t,this},e.prototype.rotate=e.prototype.rotate=function(t){var e=this.x,i=this.y;return this.x=e*Math.cos(t)-i*Math.sin(t),this.y=e*Math.sin(t)+i*Math.cos(t),this},e.prototype.reverse=e.prototype.reverse=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.normalize=e.prototype.normalize=function(){var t=this.len();return t>0&&(this.x=this.x/t,this.y=this.y/t),this},e.prototype.add=e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.sub=e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.scale=e.prototype.scale=function(t,e){return this.x*=t,this.y*=void 0!==e?e:t,this},e.prototype.project=e.prototype.project=function(t){var e=this.dot(t)/t.len2();return this.x=e*t.x,this.y=e*t.y,this},e.prototype.projectN=e.prototype.projectN=function(t){var e=this.dot(t);return this.x=e*t.x,this.y=e*t.y,this},e.prototype.reflect=e.prototype.reflect=function(t){var e=this.x,i=this.y;return this.project(t).scale(2),this.x-=e,this.y-=i,this},e.prototype.reflectN=e.prototype.reflectN=function(t){var e=this.x,i=this.y;return this.projectN(t).scale(2),this.x-=e,this.y-=i,this},e.prototype.dot=e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len2=e.prototype.len2=function(){return this.dot(this)},e.prototype.len=e.prototype.len=function(){return Math.sqrt(this.len2())},t.Circle=i,i.prototype.getAABB=i.prototype.getAABB=function(){var t=this.r;return new n(this.pos.clone().add(this.offset).sub(new e(t,t)),2*t,2*t).toPolygon()},i.prototype.setOffset=i.prototype.setOffset=function(t){return this.offset=t,this},t.Polygon=r,r.prototype.setPoints=r.prototype.setPoints=function(t){if(!this.points||this.points.length!==t.length){var i,r=this.calcPoints=[],n=this.edges=[],o=this.normals=[];for(i=0;i<t.length;i++){var s=t[i],a=i<t.length-1?t[i+1]:t[0];s===a||s.x!==a.x||s.y!==a.y?(r.push(new e),n.push(new e),o.push(new e)):(t.splice(i,1),i-=1)}}return this.points=t,this._recalc(),this},r.prototype.setAngle=r.prototype.setAngle=function(t){return this.angle=t,this._recalc(),this},r.prototype.setOffset=r.prototype.setOffset=function(t){return this.offset=t,this._recalc(),this},r.prototype.rotate=r.prototype.rotate=function(t){for(var e=this.points,i=e.length,r=0;r<i;r++)e[r].rotate(t);return this._recalc(),this},r.prototype.translate=r.prototype.translate=function(t,e){for(var i=this.points,r=i.length,n=0;n<r;n++)i[n].x+=t,i[n].y+=e;return this._recalc(),this},r.prototype._recalc=function(){var t,e=this.calcPoints,i=this.edges,r=this.normals,n=this.points,o=this.offset,s=this.angle,a=n.length;for(t=0;t<a;t++){var l=e[t].copy(n[t]);l.x+=o.x,l.y+=o.y,0!==s&&l.rotate(s)}for(t=0;t<a;t++){var h=e[t],u=t<a-1?e[t+1]:e[0],f=i[t].copy(u).sub(h);r[t].copy(f).perp().normalize()}return this},r.prototype.getAABB=r.prototype.getAABB=function(){for(var t=this.calcPoints,i=t.length,r=t[0].x,o=t[0].y,s=t[0].x,a=t[0].y,l=1;l<i;l++){var h=t[l];h.x<r?r=h.x:h.x>s&&(s=h.x),h.y<o?o=h.y:h.y>a&&(a=h.y)}return new n(this.pos.clone().add(new e(r,o)),s-r,a-o).toPolygon()},r.prototype.getCentroid=r.prototype.getCentroid=function(){for(var t=this.calcPoints,i=t.length,r=0,n=0,o=0,s=0;s<i;s++){var a=t[s],l=s===i-1?t[0]:t[s+1],h=a.x*l.y-l.x*a.y;r+=(a.x+l.x)*h,n+=(a.y+l.y)*h,o+=h}return new e(r/=o*=3,n/=o)},t.Box=n,n.prototype.toPolygon=n.prototype.toPolygon=function(){var t=this.pos,i=this.w,n=this.h;return new r(new e(t.x,t.y),[new e,new e(i,0),new e(i,n),new e(0,n)])},t.Response=o,o.prototype.clear=o.prototype.clear=function(){return this.aInB=!0,this.bInA=!0,this.overlap=Number.MAX_VALUE,this};for(var s=[],a=0;a<10;a++)s.push(new e);var l=[];for(a=0;a<5;a++)l.push([]);var h=new o,u=new n(new e,1e-6,1e-6).toPolygon();function f(t,e,i){for(var r=Number.MAX_VALUE,n=-Number.MAX_VALUE,o=t.length,s=0;s<o;s++){var a=t[s].dot(e);a<r&&(r=a),a>n&&(n=a)}i[0]=r,i[1]=n}function d(t,e,i,r,n,o){var a=l.pop(),h=l.pop(),u=s.pop().copy(e).sub(t),d=u.dot(n);if(f(i,n,a),f(r,n,h),h[0]+=d,h[1]+=d,a[0]>h[1]||h[0]>a[1])return s.push(u),l.push(a),l.push(h),!0;if(o){var p,c,x=0;a[0]<h[0]?(o.aInB=!1,a[1]<h[1]?(x=a[1]-h[0],o.bInA=!1):x=(p=a[1]-h[0])<(c=h[1]-a[0])?p:-c):(o.bInA=!1,a[1]>h[1]?(x=a[0]-h[1],o.aInB=!1):x=(p=a[1]-h[0])<(c=h[1]-a[0])?p:-c);var y=Math.abs(x);y<o.overlap&&(o.overlap=y,o.overlapN.copy(n),x<0&&o.overlapN.reverse())}return s.push(u),l.push(a),l.push(h),!1}function p(t,e){var i=t.len2(),r=e.dot(t);return r<0?c:r>i?y:x}t.isSeparatingAxis=d;var c=-1,x=0,y=1;function m(t,e,i){for(var r=s.pop().copy(e.pos).add(e.offset).sub(t.pos),n=e.r,o=n*n,a=t.calcPoints,l=a.length,h=s.pop(),u=s.pop(),f=0;f<l;f++){var d=f===l-1?0:f+1,x=0===f?l-1:f-1,m=0,g=null;h.copy(t.edges[f]),u.copy(r).sub(a[f]),i&&u.len2()>o&&(i.aInB=!1);var v=p(h,u);if(v===c){h.copy(t.edges[x]);var _=s.pop().copy(r).sub(a[x]);if((v=p(h,_))===y){if((T=u.len())>n)return s.push(r),s.push(h),s.push(u),s.push(_),!1;i&&(i.bInA=!1,g=u.normalize(),m=n-T)}s.push(_)}else if(v===y){if(h.copy(t.edges[d]),u.copy(r).sub(a[d]),(v=p(h,u))===c){if((T=u.len())>n)return s.push(r),s.push(h),s.push(u),!1;i&&(i.bInA=!1,g=u.normalize(),m=n-T)}}else{var b=h.perp().normalize(),T=u.dot(b),E=Math.abs(T);if(T>0&&E>n)return s.push(r),s.push(b),s.push(u),!1;i&&(g=b,m=n-T,(T>=0||m<2*n)&&(i.bInA=!1))}g&&i&&Math.abs(m)<Math.abs(i.overlap)&&(i.overlap=m,i.overlapN.copy(g))}return i&&(i.a=t,i.b=e,i.overlapV.copy(i.overlapN).scale(i.overlap)),s.push(r),s.push(h),s.push(u),!0}function g(t,e,i){for(var r=t.calcPoints,n=r.length,o=e.calcPoints,s=o.length,a=0;a<n;a++)if(d(t.pos,e.pos,r,o,t.normals[a],i))return!1;for(a=0;a<s;a++)if(d(t.pos,e.pos,r,o,e.normals[a],i))return!1;return i&&(i.a=t,i.b=e,i.overlapV.copy(i.overlapN).scale(i.overlap)),!0}return t.pointInCircle=function(t,e){var i=s.pop().copy(t).sub(e.pos).sub(e.offset),r=e.r*e.r,n=i.len2();return s.push(i),n<=r},t.pointInPolygon=function(t,e){u.pos.copy(t),h.clear();var i=g(u,e,h);return i&&(i=h.aInB),i},t.testCircleCircle=function(t,e,i){var r=s.pop().copy(e.pos).add(e.offset).sub(t.pos).sub(t.offset),n=t.r+e.r,o=n*n,a=r.len2();if(a>o)return s.push(r),!1;if(i){var l=Math.sqrt(a);i.a=t,i.b=e,i.overlap=n-l,i.overlapN.copy(r.normalize()),i.overlapV.copy(r).scale(i.overlap),i.aInB=t.r<=e.r&&l<=e.r-t.r,i.bInA=e.r<=t.r&&l<=t.r-e.r}return s.push(r),!0},t.testPolygonCircle=m,t.testCirclePolygon=function(t,e,i){var r=m(e,t,i);if(r&&i){var n=i.a,o=i.aInB;i.overlapN.reverse(),i.overlapV.reverse(),i.a=i.b,i.b=n,i.aInB=i.bInA,i.bInA=o}return r},t.testPolygonPolygon=g,t})?r.call(e,i,e,t):r)||(t.exports=n)}()},575:(t,e,i)=>{"use strict";var r=i(971),n=i(502);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=v,e.resolve=function(t,e){return v(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?v(t,!1,!0).resolveObject(e):e},e.format=function(t){return n.isString(t)&&(t=v(t)),t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(h),f=["%","/","?",";","#"].concat(u),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,c=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=i(673);function v(t,e,i){if(t&&n.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,i),r}o.prototype.parse=function(t,e,i){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",h=t.split(a);h[0]=h[0].replace(/\\/g,"/");var v=t=h.join(a);if(v=v.trim(),!i&&1===t.split("#").length){var _=l.exec(v);if(_)return this.path=v,this.href=v,this.pathname=_[1],_[2]?(this.search=_[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var b=s.exec(v);if(b){var T=(b=b[0]).toLowerCase();this.protocol=T,v=v.substr(b.length)}if(i||b||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===v.substr(0,2);!E||b&&y[b]||(v=v.substr(2),this.slashes=!0)}if(!y[b]&&(E||b&&!m[b])){for(var w,S,P=-1,X=0;X<d.length;X++)-1!==(I=v.indexOf(d[X]))&&(-1===P||I<P)&&(P=I);for(-1!==(S=-1===P?v.lastIndexOf("@"):v.lastIndexOf("@",P))&&(w=v.slice(0,S),v=v.slice(S+1),this.auth=decodeURIComponent(w)),P=-1,X=0;X<f.length;X++){var I;-1!==(I=v.indexOf(f[X]))&&(-1===P||I<P)&&(P=I)}-1===P&&(P=v.length),this.host=v.slice(0,P),v=v.slice(P),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var O=this.hostname.split(/\./),C=(X=0,O.length);X<C;X++){var M=O[X];if(M&&!M.match(p)){for(var D="",R=0,L=M.length;R<L;R++)M.charCodeAt(R)>127?D+="x":D+=M[R];if(!D.match(p)){var N=O.slice(0,X),B=O.slice(X+1),F=M.match(c);F&&(N.push(F[1]),B.unshift(F[2])),B.length&&(v="/"+B.join(".")+v),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname));var U=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+U,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!x[T])for(X=0,C=u.length;X<C;X++){var j=u[X];if(-1!==v.indexOf(j)){var G=encodeURIComponent(j);G===j&&(G=escape(j)),v=v.split(j).join(G)}}var H=v.indexOf("#");-1!==H&&(this.hash=v.substr(H),v=v.slice(0,H));var z=v.indexOf("?");if(-1!==z?(this.search=v.substr(z),this.query=v.substr(z+1),e&&(this.query=g.parse(this.query)),v=v.slice(0,z)):e&&(this.search="",this.query={}),v&&(this.pathname=v),m[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var Y=this.search||"";this.path=U+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(s=g.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==o?(o="//"+(o||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(i=i.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(v(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(n.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var i=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];i[a]=this[a]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var l=Object.keys(t),h=0;h<l.length;h++){var u=l[h];"protocol"!==u&&(i[u]=t[u])}return m[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!m[t.protocol]){for(var f=Object.keys(t),d=0;d<f.length;d++){var p=f[d];i[p]=t[p]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||y[t.protocol])i.pathname=t.pathname;else{for(var c=(t.pathname||"").split("/");c.length&&!(t.host=c.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),i.pathname=c.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var x=i.pathname||"",g=i.search||"";i.path=x+g}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var v=i.pathname&&"/"===i.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=_||v||i.host&&t.pathname,T=b,E=i.pathname&&i.pathname.split("/")||[],w=(c=t.pathname&&t.pathname.split("/")||[],i.protocol&&!m[i.protocol]);if(w&&(i.hostname="",i.port=null,i.host&&(""===E[0]?E[0]=i.host:E.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===c[0]?c[0]=t.host:c.unshift(t.host)),t.host=null),b=b&&(""===c[0]||""===E[0])),_)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,E=c;else if(c.length)E||(E=[]),E.pop(),E=E.concat(c),i.search=t.search,i.query=t.query;else if(!n.isNullOrUndefined(t.search))return w&&(i.hostname=i.host=E.shift(),(A=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=A.shift(),i.host=i.hostname=A.shift())),i.search=t.search,i.query=t.query,n.isNull(i.pathname)&&n.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i;if(!E.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var S=E.slice(-1)[0],P=(i.host||t.host||E.length>1)&&("."===S||".."===S)||""===S,X=0,I=E.length;I>=0;I--)"."===(S=E[I])?E.splice(I,1):".."===S?(E.splice(I,1),X++):X&&(E.splice(I,1),X--);if(!b&&!T)for(;X--;X)E.unshift("..");!b||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),P&&"/"!==E.join("/").substr(-1)&&E.push("");var A,O=""===E[0]||E[0]&&"/"===E[0].charAt(0);return w&&(i.hostname=i.host=O?"":E.length?E.shift():"",(A=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=A.shift(),i.host=i.hostname=A.shift())),(b=b||i.host&&E.length)&&!O&&E.unshift(""),E.length?i.pathname=E.join("/"):(i.pathname=null,i.path=null),n.isNull(i.pathname)&&n.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},502:t=>{"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},697:(t,e,i)=>{"use strict";i.d(e,{d3:()=>p,gg:()=>c,fT:()=>x});var r=i(244),n=i(594),o=i.n(n);function s(t,e){t.pivot.set((e||t).width/2,0)}function a(t){let e={};e.value=t,e.isDown=!1,e.isUp=!0,e.press=void 0,e.release=void 0,e.downHandler=t=>{t.key===e.value&&(e.isUp&&e.press&&e.press(),e.isDown=!0,e.isUp=!1,t.preventDefault())},e.upHandler=t=>{t.key===e.value&&(e.isDown&&e.release&&e.release(),e.isDown=!1,e.isUp=!0,t.preventDefault())};const i=e.downHandler.bind(e),r=e.upHandler.bind(e);return window.addEventListener("keydown",i,!1),window.addEventListener("keyup",r,!1),e.unsubscribe=()=>{window.removeEventListener("keydown",i),window.removeEventListener("keyup",r)},e}var l=i(694);const h=i.n(l)().create({zone:document.getElementById("controls-overlay"),color:"#333",maxNumberOfNipples:1}),u=t=>new Promise((async e=>{const i=new r.Container,{anims:n}=await((t,e,i)=>new Promise((r=>{e.loader.add("hero.json").load(((e,n)=>{const o=n["hero.json"],a=[],l=e=>{const i=new t.AnimatedSprite(o.spritesheet.animations[e]);return a.push(i),i},h=t=>(a.forEach((t=>{t.stop(),t.gotoAndStop(0),i.removeChildren()})),(t=>{t.play(),s(t),s(t.boundingBox,t),i.addChild(t),i.addChild(t.boundingBox)})(t),t),u=l("hero_standing");u.animationSpeed=.025,u.boundingBox=new t.Graphics,u.boundingBox.visible=!1,u.boundingBox.lineStyle(1,16711680),u.boundingBox.drawRect(3,1,10,15);const f=l("hero_walking");f.animationSpeed=.1,f.boundingBox=new t.Graphics,f.boundingBox.visible=!1,f.boundingBox.lineStyle(1,16711680),f.boundingBox.drawRect(3,1,10,15);const d=l("hero_rising");d.loop=!1,d.animationSpeed=.09,d.boundingBox=new t.Graphics,d.boundingBox.visible=!1,d.boundingBox.lineStyle(1,16711680),d.boundingBox.drawRect(3,1,10,15);const p=l("hero_falling");p.loop=!1,p.animationSpeed=.09,p.boundingBox=new t.Graphics,p.boundingBox.visible=!1,p.boundingBox.lineStyle(1,16711680),p.boundingBox.drawRect(3,1,10,15),r({anims:{anims:a,walk:()=>h(f),stand:()=>h(u),rise:()=>h(d),fall:()=>h(p)}})}))})))(r,t,i);i.vx=0,i.vy=0,i.x=100,i.y=100,n.stand();const{controls:o,updateState:l}=(t=>{let e=!1,i=!1,r=!1,n=!1,o=!1;const s={left:{},right:{},jump:{}};return s.left.press=()=>{i=!0,e=!1,t(1,n||o)},s.left.release=()=>{i=!1,r?t(2,n||o):(e=!0,t(0,n||o))},s.right.press=()=>{r=!0,e=!1,t(2,n||o)},s.right.release=()=>{r=!1,i?t(1,n||o):(e=!0,t(0,n||o))},s.jump.press=()=>{n||o||(n=!0,e=!1,t(3))},s.jump.release=()=>{n=!1},{controls:s,updateState:(s,a)=>{a>0&&!o?(n=!1,o=!0,t(4)):0===a&&((o||n)&&(i?t(1):r?t(2):(e=!0,t(0))),n=!1,o=!1),(r||i)&&0===s&&(e||(e=!0,t(0)))}}})(((t,e)=>{1===t?(console.log("moving left"),i.vx=-c,i.scale.x=-1,e||n.walk()):2===t&&(console.log("moving right"),i.vx=c,i.scale.x=1,e||n.walk()),3===t?(console.log("rising"),i.vy=-x,n.rise()):4===t&&(console.log("falling"),n.fall()),0===t&&(console.log("standing"),i.vx=0,e||n.stand())}));(t=>{const e=a("ArrowLeft");e.press=t.left.press,e.release=t.left.release;const i=a("ArrowRight");i.press=t.right.press,i.release=t.right.release;const r=a("ArrowUp");r.press=t.jump.press,r.release=t.jump.release})(o),(t=>{h.on("start",((e,i)=>{i.on("move",((e,{direction:i})=>{i&&("right"===i.x?t.right.press():t.left.press())}))})),h.on("end",(()=>{t.left.release(),t.right.release()}))})(o),e({actor:i,updateBeforeCol:t=>{i.vy+=p;const e=i.vx*t,r=i.vy*t;i.x+=e,i.y+=r},updateAfterCol:()=>{l(i.vx,i.vy)}})}));var f=i(646);const d=JSON.parse('{"Bb":20,"Z6":8,"sK":64,"ug":[{"Sv":[{"tile":1,"rot":0,"y":0,"flipX":false,"index":0,"x":0},{"tile":3,"rot":1,"y":0,"flipX":false,"index":1,"x":1},{"tile":2,"rot":2,"y":0,"flipX":false,"index":2,"x":2},{"tile":2,"rot":2,"y":0,"flipX":false,"index":3,"x":3},{"tile":2,"rot":2,"y":0,"flipX":false,"index":4,"x":4},{"tile":2,"rot":2,"y":0,"flipX":false,"index":5,"x":5},{"tile":2,"rot":2,"y":0,"flipX":false,"index":6,"x":6},{"tile":2,"rot":2,"y":0,"flipX":false,"index":7,"x":7},{"tile":2,"rot":2,"y":0,"flipX":false,"index":8,"x":8},{"tile":2,"rot":2,"y":0,"flipX":false,"index":9,"x":9},{"tile":2,"rot":2,"y":0,"flipX":false,"index":10,"x":10},{"tile":2,"rot":2,"y":0,"flipX":false,"index":11,"x":11},{"tile":2,"rot":2,"y":0,"flipX":false,"index":12,"x":12},{"tile":2,"rot":2,"y":0,"flipX":false,"index":13,"x":13},{"tile":2,"rot":2,"y":0,"flipX":false,"index":14,"x":14},{"tile":3,"rot":3,"y":0,"flipX":true,"index":15,"x":15},{"tile":3,"rot":1,"y":0,"flipX":false,"index":16,"x":16},{"tile":2,"rot":2,"y":0,"flipX":false,"index":17,"x":17},{"tile":2,"rot":2,"y":0,"flipX":false,"index":18,"x":18},{"tile":2,"rot":2,"y":0,"flipX":false,"index":19,"x":19},{"tile":2,"rot":2,"y":0,"flipX":false,"index":20,"x":20},{"tile":2,"rot":2,"y":0,"flipX":false,"index":21,"x":21},{"tile":2,"rot":2,"y":0,"flipX":false,"index":22,"x":22},{"tile":2,"rot":2,"y":0,"flipX":false,"index":23,"x":23},{"tile":2,"rot":2,"y":0,"flipX":false,"index":24,"x":24},{"tile":2,"rot":2,"y":0,"flipX":false,"index":25,"x":25},{"tile":2,"rot":2,"y":0,"flipX":false,"index":26,"x":26},{"tile":2,"rot":2,"y":0,"flipX":false,"index":27,"x":27},{"tile":2,"rot":2,"y":0,"flipX":false,"index":28,"x":28},{"tile":2,"rot":2,"y":0,"flipX":false,"index":29,"x":29},{"tile":2,"rot":2,"y":0,"flipX":false,"index":30,"x":30},{"tile":2,"rot":2,"y":0,"flipX":false,"index":31,"x":31},{"tile":2,"rot":2,"y":0,"flipX":false,"index":32,"x":32},{"tile":2,"rot":2,"y":0,"flipX":false,"index":33,"x":33},{"tile":2,"rot":2,"y":0,"flipX":false,"index":34,"x":34},{"tile":2,"rot":2,"y":0,"flipX":false,"index":35,"x":35},{"tile":2,"rot":2,"y":0,"flipX":false,"index":36,"x":36},{"tile":2,"rot":2,"y":0,"flipX":false,"index":37,"x":37},{"tile":2,"rot":2,"y":0,"flipX":false,"index":38,"x":38},{"tile":2,"rot":2,"y":0,"flipX":false,"index":39,"x":39},{"tile":2,"rot":2,"y":0,"flipX":false,"index":40,"x":40},{"tile":2,"rot":2,"y":0,"flipX":false,"index":41,"x":41},{"tile":2,"rot":2,"y":0,"flipX":false,"index":42,"x":42},{"tile":2,"rot":2,"y":0,"flipX":false,"index":43,"x":43},{"tile":2,"rot":2,"y":0,"flipX":false,"index":44,"x":44},{"tile":2,"rot":2,"y":0,"flipX":false,"index":45,"x":45},{"tile":2,"rot":2,"y":0,"flipX":false,"index":46,"x":46},{"tile":2,"rot":2,"y":0,"flipX":false,"index":47,"x":47},{"tile":2,"rot":2,"y":0,"flipX":false,"index":48,"x":48},{"tile":2,"rot":2,"y":0,"flipX":false,"index":49,"x":49},{"tile":3,"rot":2,"y":0,"flipX":false,"index":50,"x":50},{"tile":1,"rot":0,"y":0,"flipX":false,"index":51,"x":51},{"tile":1,"rot":0,"y":0,"flipX":false,"index":52,"x":52},{"tile":1,"rot":0,"y":0,"flipX":false,"index":53,"x":53},{"tile":1,"rot":0,"y":0,"flipX":false,"index":54,"x":54},{"tile":1,"rot":0,"y":0,"flipX":false,"index":55,"x":55},{"tile":1,"rot":0,"y":0,"flipX":false,"index":56,"x":56},{"tile":1,"rot":0,"y":0,"flipX":false,"index":57,"x":57},{"tile":1,"rot":0,"y":0,"flipX":false,"index":58,"x":58},{"tile":1,"rot":0,"y":0,"flipX":false,"index":59,"x":59},{"tile":1,"rot":0,"y":0,"flipX":false,"index":60,"x":60},{"tile":1,"rot":0,"y":0,"flipX":false,"index":61,"x":61},{"tile":1,"rot":0,"y":0,"flipX":false,"index":62,"x":62},{"tile":1,"rot":0,"y":0,"flipX":false,"index":63,"x":63},{"tile":1,"rot":0,"y":1,"flipX":false,"index":64,"x":0},{"tile":2,"rot":1,"y":1,"flipX":false,"index":65,"x":1},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":66,"x":2},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":67,"x":3},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":68,"x":4},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":69,"x":5},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":70,"x":6},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":71,"x":7},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":72,"x":8},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":73,"x":9},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":74,"x":10},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":75,"x":11},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":76,"x":12},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":77,"x":13},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":78,"x":14},{"tile":2,"rot":3,"y":1,"flipX":false,"index":79,"x":15},{"tile":2,"rot":1,"y":1,"flipX":false,"index":80,"x":16},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":81,"x":17},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":82,"x":18},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":83,"x":19},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":84,"x":20},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":85,"x":21},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":86,"x":22},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":87,"x":23},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":88,"x":24},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":89,"x":25},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":90,"x":26},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":91,"x":27},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":92,"x":28},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":93,"x":29},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":94,"x":30},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":95,"x":31},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":96,"x":32},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":97,"x":33},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":98,"x":34},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":99,"x":35},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":100,"x":36},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":101,"x":37},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":102,"x":38},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":103,"x":39},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":104,"x":40},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":105,"x":41},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":106,"x":42},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":107,"x":43},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":108,"x":44},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":109,"x":45},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":110,"x":46},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":111,"x":47},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":112,"x":48},{"tile":-1,"rot":0,"y":1,"flipX":false,"index":113,"x":49},{"tile":2,"rot":3,"y":1,"flipX":false,"index":114,"x":50},{"tile":1,"rot":0,"y":1,"flipX":false,"index":115,"x":51},{"tile":1,"rot":0,"y":1,"flipX":false,"index":116,"x":52},{"tile":1,"rot":0,"y":1,"flipX":false,"index":117,"x":53},{"tile":1,"rot":0,"y":1,"flipX":false,"index":118,"x":54},{"tile":1,"rot":0,"y":1,"flipX":false,"index":119,"x":55},{"tile":1,"rot":0,"y":1,"flipX":false,"index":120,"x":56},{"tile":1,"rot":0,"y":1,"flipX":false,"index":121,"x":57},{"tile":1,"rot":0,"y":1,"flipX":false,"index":122,"x":58},{"tile":1,"rot":0,"y":1,"flipX":false,"index":123,"x":59},{"tile":1,"rot":0,"y":1,"flipX":false,"index":124,"x":60},{"tile":1,"rot":0,"y":1,"flipX":false,"index":125,"x":61},{"tile":1,"rot":0,"y":1,"flipX":false,"index":126,"x":62},{"tile":1,"rot":0,"y":1,"flipX":false,"index":127,"x":63},{"tile":1,"rot":0,"y":2,"flipX":false,"index":128,"x":0},{"tile":2,"rot":1,"y":2,"flipX":false,"index":129,"x":1},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":130,"x":2},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":131,"x":3},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":132,"x":4},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":133,"x":5},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":134,"x":6},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":135,"x":7},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":136,"x":8},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":137,"x":9},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":138,"x":10},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":139,"x":11},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":140,"x":12},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":141,"x":13},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":142,"x":14},{"tile":2,"rot":3,"y":2,"flipX":false,"index":143,"x":15},{"tile":2,"rot":1,"y":2,"flipX":false,"index":144,"x":16},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":145,"x":17},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":146,"x":18},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":147,"x":19},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":148,"x":20},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":149,"x":21},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":150,"x":22},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":151,"x":23},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":152,"x":24},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":153,"x":25},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":154,"x":26},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":155,"x":27},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":156,"x":28},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":157,"x":29},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":158,"x":30},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":159,"x":31},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":160,"x":32},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":161,"x":33},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":162,"x":34},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":163,"x":35},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":164,"x":36},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":165,"x":37},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":166,"x":38},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":167,"x":39},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":168,"x":40},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":169,"x":41},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":170,"x":42},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":171,"x":43},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":172,"x":44},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":173,"x":45},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":174,"x":46},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":175,"x":47},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":176,"x":48},{"tile":-1,"rot":0,"y":2,"flipX":false,"index":177,"x":49},{"tile":2,"rot":3,"y":2,"flipX":false,"index":178,"x":50},{"tile":1,"rot":0,"y":2,"flipX":false,"index":179,"x":51},{"tile":1,"rot":0,"y":2,"flipX":false,"index":180,"x":52},{"tile":1,"rot":0,"y":2,"flipX":false,"index":181,"x":53},{"tile":1,"rot":0,"y":2,"flipX":false,"index":182,"x":54},{"tile":1,"rot":0,"y":2,"flipX":false,"index":183,"x":55},{"tile":1,"rot":0,"y":2,"flipX":false,"index":184,"x":56},{"tile":1,"rot":0,"y":2,"flipX":false,"index":185,"x":57},{"tile":1,"rot":0,"y":2,"flipX":false,"index":186,"x":58},{"tile":1,"rot":0,"y":2,"flipX":false,"index":187,"x":59},{"tile":1,"rot":0,"y":2,"flipX":false,"index":188,"x":60},{"tile":1,"rot":0,"y":2,"flipX":false,"index":189,"x":61},{"tile":1,"rot":0,"y":2,"flipX":false,"index":190,"x":62},{"tile":1,"rot":0,"y":2,"flipX":false,"index":191,"x":63},{"tile":1,"rot":0,"y":3,"flipX":false,"index":192,"x":0},{"tile":2,"rot":1,"y":3,"flipX":false,"index":193,"x":1},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":194,"x":2},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":195,"x":3},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":196,"x":4},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":197,"x":5},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":198,"x":6},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":199,"x":7},{"tile":4,"rot":0,"y":3,"flipX":false,"index":200,"x":8},{"tile":2,"rot":0,"y":3,"flipX":false,"index":201,"x":9},{"tile":4,"rot":1,"y":3,"flipX":false,"index":202,"x":10},{"tile":0,"rot":0,"y":3,"flipX":false,"index":203,"x":11},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":204,"x":12},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":205,"x":13},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":206,"x":14},{"tile":2,"rot":3,"y":3,"flipX":false,"index":207,"x":15},{"tile":2,"rot":1,"y":3,"flipX":false,"index":208,"x":16},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":209,"x":17},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":210,"x":18},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":211,"x":19},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":212,"x":20},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":213,"x":21},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":214,"x":22},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":215,"x":23},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":216,"x":24},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":217,"x":25},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":218,"x":26},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":219,"x":27},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":220,"x":28},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":221,"x":29},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":222,"x":30},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":223,"x":31},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":224,"x":32},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":225,"x":33},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":226,"x":34},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":227,"x":35},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":228,"x":36},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":229,"x":37},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":230,"x":38},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":231,"x":39},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":232,"x":40},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":233,"x":41},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":234,"x":42},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":235,"x":43},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":236,"x":44},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":237,"x":45},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":238,"x":46},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":239,"x":47},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":240,"x":48},{"tile":-1,"rot":0,"y":3,"flipX":false,"index":241,"x":49},{"tile":2,"rot":3,"y":3,"flipX":false,"index":242,"x":50},{"tile":1,"rot":0,"y":3,"flipX":false,"index":243,"x":51},{"tile":1,"rot":0,"y":3,"flipX":false,"index":244,"x":52},{"tile":1,"rot":0,"y":3,"flipX":false,"index":245,"x":53},{"tile":1,"rot":0,"y":3,"flipX":false,"index":246,"x":54},{"tile":1,"rot":0,"y":3,"flipX":false,"index":247,"x":55},{"tile":1,"rot":0,"y":3,"flipX":false,"index":248,"x":56},{"tile":1,"rot":0,"y":3,"flipX":false,"index":249,"x":57},{"tile":1,"rot":0,"y":3,"flipX":false,"index":250,"x":58},{"tile":1,"rot":0,"y":3,"flipX":false,"index":251,"x":59},{"tile":1,"rot":0,"y":3,"flipX":false,"index":252,"x":60},{"tile":1,"rot":0,"y":3,"flipX":false,"index":253,"x":61},{"tile":1,"rot":0,"y":3,"flipX":false,"index":254,"x":62},{"tile":1,"rot":0,"y":3,"flipX":false,"index":255,"x":63},{"tile":1,"rot":0,"y":4,"flipX":false,"index":256,"x":0},{"tile":2,"rot":1,"y":4,"flipX":false,"index":257,"x":1},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":258,"x":2},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":259,"x":3},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":260,"x":4},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":261,"x":5},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":262,"x":6},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":263,"x":7},{"tile":4,"rot":3,"y":4,"flipX":false,"index":264,"x":8},{"tile":2,"rot":2,"y":4,"flipX":false,"index":265,"x":9},{"tile":4,"rot":2,"y":4,"flipX":false,"index":266,"x":10},{"tile":0,"rot":0,"y":4,"flipX":false,"index":267,"x":11},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":268,"x":12},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":269,"x":13},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":270,"x":14},{"tile":2,"rot":3,"y":4,"flipX":false,"index":271,"x":15},{"tile":2,"rot":1,"y":4,"flipX":false,"index":272,"x":16},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":273,"x":17},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":274,"x":18},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":275,"x":19},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":276,"x":20},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":277,"x":21},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":278,"x":22},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":279,"x":23},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":280,"x":24},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":281,"x":25},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":282,"x":26},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":283,"x":27},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":284,"x":28},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":285,"x":29},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":286,"x":30},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":287,"x":31},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":288,"x":32},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":289,"x":33},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":290,"x":34},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":291,"x":35},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":292,"x":36},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":293,"x":37},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":294,"x":38},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":295,"x":39},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":296,"x":40},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":297,"x":41},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":298,"x":42},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":299,"x":43},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":300,"x":44},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":301,"x":45},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":302,"x":46},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":303,"x":47},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":304,"x":48},{"tile":-1,"rot":0,"y":4,"flipX":false,"index":305,"x":49},{"tile":2,"rot":3,"y":4,"flipX":false,"index":306,"x":50},{"tile":1,"rot":0,"y":4,"flipX":false,"index":307,"x":51},{"tile":1,"rot":0,"y":4,"flipX":false,"index":308,"x":52},{"tile":1,"rot":0,"y":4,"flipX":false,"index":309,"x":53},{"tile":1,"rot":0,"y":4,"flipX":false,"index":310,"x":54},{"tile":1,"rot":0,"y":4,"flipX":false,"index":311,"x":55},{"tile":1,"rot":0,"y":4,"flipX":false,"index":312,"x":56},{"tile":1,"rot":0,"y":4,"flipX":false,"index":313,"x":57},{"tile":1,"rot":0,"y":4,"flipX":false,"index":314,"x":58},{"tile":1,"rot":0,"y":4,"flipX":false,"index":315,"x":59},{"tile":1,"rot":0,"y":4,"flipX":false,"index":316,"x":60},{"tile":1,"rot":0,"y":4,"flipX":false,"index":317,"x":61},{"tile":1,"rot":0,"y":4,"flipX":false,"index":318,"x":62},{"tile":1,"rot":0,"y":4,"flipX":false,"index":319,"x":63},{"tile":1,"rot":0,"y":5,"flipX":false,"index":320,"x":0},{"tile":3,"rot":0,"y":5,"flipX":false,"index":321,"x":1},{"tile":2,"rot":0,"y":5,"flipX":false,"index":322,"x":2},{"tile":2,"rot":0,"y":5,"flipX":false,"index":323,"x":3},{"tile":4,"rot":0,"y":5,"flipX":true,"index":324,"x":4},{"tile":0,"rot":0,"y":5,"flipX":false,"index":325,"x":5},{"tile":0,"rot":0,"y":5,"flipX":false,"index":326,"x":6},{"tile":0,"rot":0,"y":5,"flipX":false,"index":327,"x":7},{"tile":0,"rot":0,"y":5,"flipX":false,"index":328,"x":8},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":329,"x":9},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":330,"x":10},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":331,"x":11},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":332,"x":12},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":333,"x":13},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":334,"x":14},{"tile":2,"rot":3,"y":5,"flipX":false,"index":335,"x":15},{"tile":2,"rot":1,"y":5,"flipX":false,"index":336,"x":16},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":337,"x":17},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":338,"x":18},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":339,"x":19},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":340,"x":20},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":341,"x":21},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":342,"x":22},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":343,"x":23},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":344,"x":24},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":345,"x":25},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":346,"x":26},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":347,"x":27},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":348,"x":28},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":349,"x":29},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":350,"x":30},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":351,"x":31},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":352,"x":32},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":353,"x":33},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":354,"x":34},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":355,"x":35},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":356,"x":36},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":357,"x":37},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":358,"x":38},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":359,"x":39},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":360,"x":40},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":361,"x":41},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":362,"x":42},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":363,"x":43},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":364,"x":44},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":365,"x":45},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":366,"x":46},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":367,"x":47},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":368,"x":48},{"tile":-1,"rot":0,"y":5,"flipX":false,"index":369,"x":49},{"tile":2,"rot":3,"y":5,"flipX":false,"index":370,"x":50},{"tile":1,"rot":0,"y":5,"flipX":false,"index":371,"x":51},{"tile":1,"rot":0,"y":5,"flipX":false,"index":372,"x":52},{"tile":1,"rot":0,"y":5,"flipX":false,"index":373,"x":53},{"tile":1,"rot":0,"y":5,"flipX":false,"index":374,"x":54},{"tile":1,"rot":0,"y":5,"flipX":false,"index":375,"x":55},{"tile":1,"rot":0,"y":5,"flipX":false,"index":376,"x":56},{"tile":1,"rot":0,"y":5,"flipX":false,"index":377,"x":57},{"tile":1,"rot":0,"y":5,"flipX":false,"index":378,"x":58},{"tile":1,"rot":0,"y":5,"flipX":false,"index":379,"x":59},{"tile":1,"rot":0,"y":5,"flipX":false,"index":380,"x":60},{"tile":1,"rot":0,"y":5,"flipX":false,"index":381,"x":61},{"tile":1,"rot":0,"y":5,"flipX":false,"index":382,"x":62},{"tile":1,"rot":0,"y":5,"flipX":false,"index":383,"x":63},{"tile":1,"rot":0,"y":6,"flipX":false,"index":384,"x":0},{"tile":1,"rot":0,"y":6,"flipX":false,"index":385,"x":1},{"tile":1,"rot":0,"y":6,"flipX":false,"index":386,"x":2},{"tile":1,"rot":0,"y":6,"flipX":false,"index":387,"x":3},{"tile":3,"rot":0,"y":6,"flipX":false,"index":388,"x":4},{"tile":4,"rot":0,"y":6,"flipX":true,"index":389,"x":5},{"tile":0,"rot":0,"y":6,"flipX":false,"index":390,"x":6},{"tile":0,"rot":0,"y":6,"flipX":false,"index":391,"x":7},{"tile":0,"rot":0,"y":6,"flipX":false,"index":392,"x":8},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":393,"x":9},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":394,"x":10},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":395,"x":11},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":396,"x":12},{"tile":4,"rot":0,"y":6,"flipX":false,"index":397,"x":13},{"tile":2,"rot":0,"y":6,"flipX":false,"index":398,"x":14},{"tile":3,"rot":0,"y":6,"flipX":true,"index":399,"x":15},{"tile":2,"rot":1,"y":6,"flipX":false,"index":400,"x":16},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":401,"x":17},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":402,"x":18},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":403,"x":19},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":404,"x":20},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":405,"x":21},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":406,"x":22},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":407,"x":23},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":408,"x":24},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":409,"x":25},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":410,"x":26},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":411,"x":27},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":412,"x":28},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":413,"x":29},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":414,"x":30},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":415,"x":31},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":416,"x":32},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":417,"x":33},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":418,"x":34},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":419,"x":35},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":420,"x":36},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":421,"x":37},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":422,"x":38},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":423,"x":39},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":424,"x":40},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":425,"x":41},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":426,"x":42},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":427,"x":43},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":428,"x":44},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":429,"x":45},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":430,"x":46},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":431,"x":47},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":432,"x":48},{"tile":-1,"rot":0,"y":6,"flipX":false,"index":433,"x":49},{"tile":2,"rot":3,"y":6,"flipX":false,"index":434,"x":50},{"tile":1,"rot":0,"y":6,"flipX":false,"index":435,"x":51},{"tile":1,"rot":0,"y":6,"flipX":false,"index":436,"x":52},{"tile":1,"rot":0,"y":6,"flipX":false,"index":437,"x":53},{"tile":1,"rot":0,"y":6,"flipX":false,"index":438,"x":54},{"tile":3,"rot":1,"y":6,"flipX":false,"index":439,"x":55},{"tile":2,"rot":2,"y":6,"flipX":false,"index":440,"x":56},{"tile":2,"rot":2,"y":6,"flipX":false,"index":441,"x":57},{"tile":2,"rot":2,"y":6,"flipX":false,"index":442,"x":58},{"tile":2,"rot":2,"y":6,"flipX":false,"index":443,"x":59},{"tile":2,"rot":2,"y":6,"flipX":false,"index":444,"x":60},{"tile":3,"rot":2,"y":6,"flipX":false,"index":445,"x":61},{"tile":1,"rot":0,"y":6,"flipX":false,"index":446,"x":62},{"tile":1,"rot":0,"y":6,"flipX":false,"index":447,"x":63},{"tile":1,"rot":0,"y":7,"flipX":false,"index":448,"x":0},{"tile":1,"rot":0,"y":7,"flipX":false,"index":449,"x":1},{"tile":1,"rot":0,"y":7,"flipX":false,"index":450,"x":2},{"tile":1,"rot":0,"y":7,"flipX":false,"index":451,"x":3},{"tile":1,"rot":0,"y":7,"flipX":false,"index":452,"x":4},{"tile":3,"rot":0,"y":7,"flipX":false,"index":453,"x":5},{"tile":4,"rot":0,"y":7,"flipX":true,"index":454,"x":6},{"tile":0,"rot":0,"y":7,"flipX":false,"index":455,"x":7},{"tile":0,"rot":0,"y":7,"flipX":false,"index":456,"x":8},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":457,"x":9},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":458,"x":10},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":459,"x":11},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":460,"x":12},{"tile":2,"rot":3,"y":7,"flipX":false,"index":461,"x":13},{"tile":1,"rot":0,"y":7,"flipX":false,"index":462,"x":14},{"tile":1,"rot":0,"y":7,"flipX":false,"index":463,"x":15},{"tile":2,"rot":1,"y":7,"flipX":false,"index":464,"x":16},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":465,"x":17},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":466,"x":18},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":467,"x":19},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":468,"x":20},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":469,"x":21},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":470,"x":22},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":471,"x":23},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":472,"x":24},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":473,"x":25},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":474,"x":26},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":475,"x":27},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":476,"x":28},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":477,"x":29},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":478,"x":30},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":479,"x":31},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":480,"x":32},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":481,"x":33},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":482,"x":34},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":483,"x":35},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":484,"x":36},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":485,"x":37},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":486,"x":38},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":487,"x":39},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":488,"x":40},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":489,"x":41},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":490,"x":42},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":491,"x":43},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":492,"x":44},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":493,"x":45},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":494,"x":46},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":495,"x":47},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":496,"x":48},{"tile":-1,"rot":0,"y":7,"flipX":false,"index":497,"x":49},{"tile":2,"rot":3,"y":7,"flipX":false,"index":498,"x":50},{"tile":1,"rot":0,"y":7,"flipX":false,"index":499,"x":51},{"tile":1,"rot":0,"y":7,"flipX":false,"index":500,"x":52},{"tile":1,"rot":0,"y":7,"flipX":false,"index":501,"x":53},{"tile":1,"rot":0,"y":7,"flipX":false,"index":502,"x":54},{"tile":2,"rot":1,"y":7,"flipX":false,"index":503,"x":55},{"tile":0,"rot":0,"y":7,"flipX":false,"index":504,"x":56},{"tile":0,"rot":0,"y":7,"flipX":false,"index":505,"x":57},{"tile":0,"rot":0,"y":7,"flipX":false,"index":506,"x":58},{"tile":0,"rot":0,"y":7,"flipX":false,"index":507,"x":59},{"tile":0,"rot":0,"y":7,"flipX":false,"index":508,"x":60},{"tile":2,"rot":3,"y":7,"flipX":false,"index":509,"x":61},{"tile":1,"rot":0,"y":7,"flipX":false,"index":510,"x":62},{"tile":1,"rot":0,"y":7,"flipX":false,"index":511,"x":63},{"tile":1,"rot":0,"y":8,"flipX":false,"index":512,"x":0},{"tile":1,"rot":0,"y":8,"flipX":false,"index":513,"x":1},{"tile":1,"rot":0,"y":8,"flipX":false,"index":514,"x":2},{"tile":1,"rot":0,"y":8,"flipX":false,"index":515,"x":3},{"tile":1,"rot":0,"y":8,"flipX":false,"index":516,"x":4},{"tile":1,"rot":0,"y":8,"flipX":false,"index":517,"x":5},{"tile":2,"rot":1,"y":8,"flipX":false,"index":518,"x":6},{"tile":0,"rot":0,"y":8,"flipX":false,"index":519,"x":7},{"tile":0,"rot":0,"y":8,"flipX":false,"index":520,"x":8},{"tile":0,"rot":0,"y":8,"flipX":false,"index":521,"x":9},{"tile":0,"rot":0,"y":8,"flipX":false,"index":522,"x":10},{"tile":0,"rot":0,"y":8,"flipX":false,"index":523,"x":11},{"tile":4,"rot":0,"y":8,"flipX":false,"index":524,"x":12},{"tile":3,"rot":0,"y":8,"flipX":true,"index":525,"x":13},{"tile":1,"rot":0,"y":8,"flipX":false,"index":526,"x":14},{"tile":1,"rot":0,"y":8,"flipX":false,"index":527,"x":15},{"tile":2,"rot":1,"y":8,"flipX":false,"index":528,"x":16},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":529,"x":17},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":530,"x":18},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":531,"x":19},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":532,"x":20},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":533,"x":21},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":534,"x":22},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":535,"x":23},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":536,"x":24},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":537,"x":25},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":538,"x":26},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":539,"x":27},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":540,"x":28},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":541,"x":29},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":542,"x":30},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":543,"x":31},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":544,"x":32},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":545,"x":33},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":546,"x":34},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":547,"x":35},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":548,"x":36},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":549,"x":37},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":550,"x":38},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":551,"x":39},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":552,"x":40},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":553,"x":41},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":554,"x":42},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":555,"x":43},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":556,"x":44},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":557,"x":45},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":558,"x":46},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":559,"x":47},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":560,"x":48},{"tile":-1,"rot":0,"y":8,"flipX":false,"index":561,"x":49},{"tile":2,"rot":3,"y":8,"flipX":false,"index":562,"x":50},{"tile":1,"rot":0,"y":8,"flipX":false,"index":563,"x":51},{"tile":1,"rot":0,"y":8,"flipX":false,"index":564,"x":52},{"tile":1,"rot":0,"y":8,"flipX":false,"index":565,"x":53},{"tile":1,"rot":0,"y":8,"flipX":false,"index":566,"x":54},{"tile":2,"rot":1,"y":8,"flipX":false,"index":567,"x":55},{"tile":0,"rot":0,"y":8,"flipX":false,"index":568,"x":56},{"tile":0,"rot":0,"y":8,"flipX":false,"index":569,"x":57},{"tile":0,"rot":0,"y":8,"flipX":false,"index":570,"x":58},{"tile":0,"rot":0,"y":8,"flipX":false,"index":571,"x":59},{"tile":0,"rot":0,"y":8,"flipX":false,"index":572,"x":60},{"tile":2,"rot":3,"y":8,"flipX":false,"index":573,"x":61},{"tile":1,"rot":0,"y":8,"flipX":false,"index":574,"x":62},{"tile":1,"rot":0,"y":8,"flipX":false,"index":575,"x":63},{"tile":1,"rot":0,"y":9,"flipX":false,"index":576,"x":0},{"tile":1,"rot":0,"y":9,"flipX":false,"index":577,"x":1},{"tile":1,"rot":0,"y":9,"flipX":false,"index":578,"x":2},{"tile":1,"rot":0,"y":9,"flipX":false,"index":579,"x":3},{"tile":1,"rot":0,"y":9,"flipX":false,"index":580,"x":4},{"tile":1,"rot":0,"y":9,"flipX":false,"index":581,"x":5},{"tile":2,"rot":1,"y":9,"flipX":false,"index":582,"x":6},{"tile":0,"rot":0,"y":9,"flipX":false,"index":583,"x":7},{"tile":0,"rot":0,"y":9,"flipX":false,"index":584,"x":8},{"tile":0,"rot":0,"y":9,"flipX":false,"index":585,"x":9},{"tile":0,"rot":0,"y":9,"flipX":false,"index":586,"x":10},{"tile":0,"rot":0,"y":9,"flipX":false,"index":587,"x":11},{"tile":2,"rot":3,"y":9,"flipX":false,"index":588,"x":12},{"tile":1,"rot":0,"y":9,"flipX":false,"index":589,"x":13},{"tile":1,"rot":0,"y":9,"flipX":false,"index":590,"x":14},{"tile":1,"rot":0,"y":9,"flipX":false,"index":591,"x":15},{"tile":2,"rot":1,"y":9,"flipX":false,"index":592,"x":16},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":593,"x":17},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":594,"x":18},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":595,"x":19},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":596,"x":20},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":597,"x":21},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":598,"x":22},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":599,"x":23},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":600,"x":24},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":601,"x":25},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":602,"x":26},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":603,"x":27},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":604,"x":28},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":605,"x":29},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":606,"x":30},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":607,"x":31},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":608,"x":32},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":609,"x":33},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":610,"x":34},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":611,"x":35},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":612,"x":36},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":613,"x":37},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":614,"x":38},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":615,"x":39},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":616,"x":40},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":617,"x":41},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":618,"x":42},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":619,"x":43},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":620,"x":44},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":621,"x":45},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":622,"x":46},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":623,"x":47},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":624,"x":48},{"tile":-1,"rot":0,"y":9,"flipX":false,"index":625,"x":49},{"tile":2,"rot":3,"y":9,"flipX":false,"index":626,"x":50},{"tile":1,"rot":0,"y":9,"flipX":false,"index":627,"x":51},{"tile":3,"rot":1,"y":9,"flipX":false,"index":628,"x":52},{"tile":2,"rot":2,"y":9,"flipX":false,"index":629,"x":53},{"tile":2,"rot":2,"y":9,"flipX":false,"index":630,"x":54},{"tile":4,"rot":2,"y":9,"flipX":false,"index":631,"x":55},{"tile":0,"rot":0,"y":9,"flipX":false,"index":632,"x":56},{"tile":0,"rot":0,"y":9,"flipX":false,"index":633,"x":57},{"tile":0,"rot":0,"y":9,"flipX":false,"index":634,"x":58},{"tile":0,"rot":0,"y":9,"flipX":false,"index":635,"x":59},{"tile":0,"rot":0,"y":9,"flipX":false,"index":636,"x":60},{"tile":4,"rot":3,"y":9,"flipX":false,"index":637,"x":61},{"tile":2,"rot":2,"y":9,"flipX":false,"index":638,"x":62},{"tile":3,"rot":2,"y":9,"flipX":false,"index":639,"x":63},{"tile":1,"rot":0,"y":10,"flipX":false,"index":640,"x":0},{"tile":1,"rot":0,"y":10,"flipX":false,"index":641,"x":1},{"tile":1,"rot":0,"y":10,"flipX":false,"index":642,"x":2},{"tile":1,"rot":0,"y":10,"flipX":false,"index":643,"x":3},{"tile":1,"rot":0,"y":10,"flipX":false,"index":644,"x":4},{"tile":1,"rot":0,"y":10,"flipX":false,"index":645,"x":5},{"tile":2,"rot":1,"y":10,"flipX":false,"index":646,"x":6},{"tile":0,"rot":0,"y":10,"flipX":false,"index":647,"x":7},{"tile":0,"rot":0,"y":10,"flipX":false,"index":648,"x":8},{"tile":0,"rot":0,"y":10,"flipX":false,"index":649,"x":9},{"tile":0,"rot":0,"y":10,"flipX":false,"index":650,"x":10},{"tile":4,"rot":0,"y":10,"flipX":false,"index":651,"x":11},{"tile":3,"rot":0,"y":10,"flipX":true,"index":652,"x":12},{"tile":1,"rot":0,"y":10,"flipX":false,"index":653,"x":13},{"tile":1,"rot":0,"y":10,"flipX":false,"index":654,"x":14},{"tile":1,"rot":0,"y":10,"flipX":false,"index":655,"x":15},{"tile":2,"rot":1,"y":10,"flipX":false,"index":656,"x":16},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":657,"x":17},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":658,"x":18},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":659,"x":19},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":660,"x":20},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":661,"x":21},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":662,"x":22},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":663,"x":23},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":664,"x":24},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":665,"x":25},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":666,"x":26},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":667,"x":27},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":668,"x":28},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":669,"x":29},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":670,"x":30},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":671,"x":31},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":672,"x":32},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":673,"x":33},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":674,"x":34},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":675,"x":35},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":676,"x":36},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":677,"x":37},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":678,"x":38},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":679,"x":39},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":680,"x":40},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":681,"x":41},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":682,"x":42},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":683,"x":43},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":684,"x":44},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":685,"x":45},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":686,"x":46},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":687,"x":47},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":688,"x":48},{"tile":-1,"rot":0,"y":10,"flipX":false,"index":689,"x":49},{"tile":2,"rot":3,"y":10,"flipX":false,"index":690,"x":50},{"tile":1,"rot":0,"y":10,"flipX":false,"index":691,"x":51},{"tile":2,"rot":1,"y":10,"flipX":false,"index":692,"x":52},{"tile":0,"rot":0,"y":10,"flipX":false,"index":693,"x":53},{"tile":0,"rot":0,"y":10,"flipX":false,"index":694,"x":54},{"tile":0,"rot":0,"y":10,"flipX":false,"index":695,"x":55},{"tile":0,"rot":0,"y":10,"flipX":false,"index":696,"x":56},{"tile":0,"rot":0,"y":10,"flipX":false,"index":697,"x":57},{"tile":0,"rot":0,"y":10,"flipX":false,"index":698,"x":58},{"tile":0,"rot":0,"y":10,"flipX":false,"index":699,"x":59},{"tile":0,"rot":0,"y":10,"flipX":false,"index":700,"x":60},{"tile":0,"rot":0,"y":10,"flipX":false,"index":701,"x":61},{"tile":0,"rot":0,"y":10,"flipX":false,"index":702,"x":62},{"tile":2,"rot":3,"y":10,"flipX":false,"index":703,"x":63},{"tile":1,"rot":0,"y":11,"flipX":false,"index":704,"x":0},{"tile":3,"rot":1,"y":11,"flipX":false,"index":705,"x":1},{"tile":2,"rot":2,"y":11,"flipX":false,"index":706,"x":2},{"tile":2,"rot":2,"y":11,"flipX":false,"index":707,"x":3},{"tile":2,"rot":2,"y":11,"flipX":false,"index":708,"x":4},{"tile":2,"rot":2,"y":11,"flipX":false,"index":709,"x":5},{"tile":4,"rot":2,"y":11,"flipX":false,"index":710,"x":6},{"tile":0,"rot":0,"y":11,"flipX":false,"index":711,"x":7},{"tile":0,"rot":0,"y":11,"flipX":false,"index":712,"x":8},{"tile":0,"rot":0,"y":11,"flipX":false,"index":713,"x":9},{"tile":0,"rot":0,"y":11,"flipX":false,"index":714,"x":10},{"tile":4,"rot":3,"y":11,"flipX":false,"index":715,"x":11},{"tile":2,"rot":2,"y":11,"flipX":false,"index":716,"x":12},{"tile":2,"rot":2,"y":11,"flipX":false,"index":717,"x":13},{"tile":2,"rot":2,"y":11,"flipX":false,"index":718,"x":14},{"tile":2,"rot":2,"y":11,"flipX":false,"index":719,"x":15},{"tile":4,"rot":2,"y":11,"flipX":false,"index":720,"x":16},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":721,"x":17},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":722,"x":18},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":723,"x":19},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":724,"x":20},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":725,"x":21},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":726,"x":22},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":727,"x":23},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":728,"x":24},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":729,"x":25},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":730,"x":26},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":731,"x":27},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":732,"x":28},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":733,"x":29},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":734,"x":30},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":735,"x":31},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":736,"x":32},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":737,"x":33},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":738,"x":34},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":739,"x":35},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":740,"x":36},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":741,"x":37},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":742,"x":38},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":743,"x":39},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":744,"x":40},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":745,"x":41},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":746,"x":42},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":747,"x":43},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":748,"x":44},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":749,"x":45},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":750,"x":46},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":751,"x":47},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":752,"x":48},{"tile":-1,"rot":0,"y":11,"flipX":false,"index":753,"x":49},{"tile":2,"rot":3,"y":11,"flipX":false,"index":754,"x":50},{"tile":1,"rot":0,"y":11,"flipX":false,"index":755,"x":51},{"tile":2,"rot":1,"y":11,"flipX":false,"index":756,"x":52},{"tile":0,"rot":0,"y":11,"flipX":false,"index":757,"x":53},{"tile":0,"rot":0,"y":11,"flipX":false,"index":758,"x":54},{"tile":0,"rot":0,"y":11,"flipX":false,"index":759,"x":55},{"tile":0,"rot":0,"y":11,"flipX":false,"index":760,"x":56},{"tile":0,"rot":0,"y":11,"flipX":false,"index":761,"x":57},{"tile":0,"rot":0,"y":11,"flipX":false,"index":762,"x":58},{"tile":0,"rot":0,"y":11,"flipX":false,"index":763,"x":59},{"tile":0,"rot":0,"y":11,"flipX":false,"index":764,"x":60},{"tile":0,"rot":0,"y":11,"flipX":false,"index":765,"x":61},{"tile":0,"rot":0,"y":11,"flipX":false,"index":766,"x":62},{"tile":2,"rot":3,"y":11,"flipX":false,"index":767,"x":63},{"tile":1,"rot":0,"y":12,"flipX":false,"index":768,"x":0},{"tile":2,"rot":1,"y":12,"flipX":false,"index":769,"x":1},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":770,"x":2},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":771,"x":3},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":772,"x":4},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":773,"x":5},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":774,"x":6},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":775,"x":7},{"tile":0,"rot":0,"y":12,"flipX":false,"index":776,"x":8},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":777,"x":9},{"tile":0,"rot":0,"y":12,"flipX":false,"index":778,"x":10},{"tile":0,"rot":0,"y":12,"flipX":false,"index":779,"x":11},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":780,"x":12},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":781,"x":13},{"tile":0,"rot":0,"y":12,"flipX":false,"index":782,"x":14},{"tile":0,"rot":0,"y":12,"flipX":false,"index":783,"x":15},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":784,"x":16},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":785,"x":17},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":786,"x":18},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":787,"x":19},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":788,"x":20},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":789,"x":21},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":790,"x":22},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":791,"x":23},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":792,"x":24},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":793,"x":25},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":794,"x":26},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":795,"x":27},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":796,"x":28},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":797,"x":29},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":798,"x":30},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":799,"x":31},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":800,"x":32},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":801,"x":33},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":802,"x":34},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":803,"x":35},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":804,"x":36},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":805,"x":37},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":806,"x":38},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":807,"x":39},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":808,"x":40},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":809,"x":41},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":810,"x":42},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":811,"x":43},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":812,"x":44},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":813,"x":45},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":814,"x":46},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":815,"x":47},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":816,"x":48},{"tile":-1,"rot":0,"y":12,"flipX":false,"index":817,"x":49},{"tile":2,"rot":3,"y":12,"flipX":false,"index":818,"x":50},{"tile":1,"rot":0,"y":12,"flipX":false,"index":819,"x":51},{"tile":2,"rot":1,"y":12,"flipX":false,"index":820,"x":52},{"tile":0,"rot":0,"y":12,"flipX":false,"index":821,"x":53},{"tile":0,"rot":0,"y":12,"flipX":false,"index":822,"x":54},{"tile":0,"rot":0,"y":12,"flipX":false,"index":823,"x":55},{"tile":0,"rot":0,"y":12,"flipX":false,"index":824,"x":56},{"tile":0,"rot":0,"y":12,"flipX":false,"index":825,"x":57},{"tile":0,"rot":0,"y":12,"flipX":false,"index":826,"x":58},{"tile":0,"rot":0,"y":12,"flipX":false,"index":827,"x":59},{"tile":0,"rot":0,"y":12,"flipX":false,"index":828,"x":60},{"tile":0,"rot":0,"y":12,"flipX":false,"index":829,"x":61},{"tile":0,"rot":0,"y":12,"flipX":false,"index":830,"x":62},{"tile":2,"rot":3,"y":12,"flipX":false,"index":831,"x":63},{"tile":1,"rot":0,"y":13,"flipX":false,"index":832,"x":0},{"tile":2,"rot":1,"y":13,"flipX":false,"index":833,"x":1},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":834,"x":2},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":835,"x":3},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":836,"x":4},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":837,"x":5},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":838,"x":6},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":839,"x":7},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":840,"x":8},{"tile":0,"rot":0,"y":13,"flipX":false,"index":841,"x":9},{"tile":0,"rot":0,"y":13,"flipX":false,"index":842,"x":10},{"tile":0,"rot":0,"y":13,"flipX":false,"index":843,"x":11},{"tile":0,"rot":0,"y":13,"flipX":false,"index":844,"x":12},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":845,"x":13},{"tile":0,"rot":0,"y":13,"flipX":false,"index":846,"x":14},{"tile":0,"rot":0,"y":13,"flipX":false,"index":847,"x":15},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":848,"x":16},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":849,"x":17},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":850,"x":18},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":851,"x":19},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":852,"x":20},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":853,"x":21},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":854,"x":22},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":855,"x":23},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":856,"x":24},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":857,"x":25},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":858,"x":26},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":859,"x":27},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":860,"x":28},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":861,"x":29},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":862,"x":30},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":863,"x":31},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":864,"x":32},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":865,"x":33},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":866,"x":34},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":867,"x":35},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":868,"x":36},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":869,"x":37},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":870,"x":38},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":871,"x":39},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":872,"x":40},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":873,"x":41},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":874,"x":42},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":875,"x":43},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":876,"x":44},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":877,"x":45},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":878,"x":46},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":879,"x":47},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":880,"x":48},{"tile":-1,"rot":0,"y":13,"flipX":false,"index":881,"x":49},{"tile":4,"rot":3,"y":13,"flipX":false,"index":882,"x":50},{"tile":2,"rot":2,"y":13,"flipX":false,"index":883,"x":51},{"tile":4,"rot":2,"y":13,"flipX":false,"index":884,"x":52},{"tile":0,"rot":0,"y":13,"flipX":false,"index":885,"x":53},{"tile":0,"rot":0,"y":13,"flipX":false,"index":886,"x":54},{"tile":0,"rot":0,"y":13,"flipX":false,"index":887,"x":55},{"tile":0,"rot":0,"y":13,"flipX":false,"index":888,"x":56},{"tile":0,"rot":0,"y":13,"flipX":false,"index":889,"x":57},{"tile":0,"rot":0,"y":13,"flipX":false,"index":890,"x":58},{"tile":0,"rot":0,"y":13,"flipX":false,"index":891,"x":59},{"tile":0,"rot":0,"y":13,"flipX":false,"index":892,"x":60},{"tile":0,"rot":0,"y":13,"flipX":false,"index":893,"x":61},{"tile":0,"rot":0,"y":13,"flipX":false,"index":894,"x":62},{"tile":2,"rot":3,"y":13,"flipX":false,"index":895,"x":63},{"tile":1,"rot":0,"y":14,"flipX":false,"index":896,"x":0},{"tile":2,"rot":1,"y":14,"flipX":false,"index":897,"x":1},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":898,"x":2},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":899,"x":3},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":900,"x":4},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":901,"x":5},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":902,"x":6},{"tile":4,"rot":0,"y":14,"flipX":false,"index":903,"x":7},{"tile":2,"rot":0,"y":14,"flipX":false,"index":904,"x":8},{"tile":2,"rot":0,"y":14,"flipX":false,"index":905,"x":9},{"tile":4,"rot":0,"y":14,"flipX":true,"index":906,"x":10},{"tile":0,"rot":0,"y":14,"flipX":false,"index":907,"x":11},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":908,"x":12},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":909,"x":13},{"tile":0,"rot":0,"y":14,"flipX":false,"index":910,"x":14},{"tile":0,"rot":0,"y":14,"flipX":false,"index":911,"x":15},{"tile":0,"rot":0,"y":14,"flipX":false,"index":912,"x":16},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":913,"x":17},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":914,"x":18},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":915,"x":19},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":916,"x":20},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":917,"x":21},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":918,"x":22},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":919,"x":23},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":920,"x":24},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":921,"x":25},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":922,"x":26},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":923,"x":27},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":924,"x":28},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":925,"x":29},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":926,"x":30},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":927,"x":31},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":928,"x":32},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":929,"x":33},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":930,"x":34},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":931,"x":35},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":932,"x":36},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":933,"x":37},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":934,"x":38},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":935,"x":39},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":936,"x":40},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":937,"x":41},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":938,"x":42},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":939,"x":43},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":940,"x":44},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":941,"x":45},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":942,"x":46},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":943,"x":47},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":944,"x":48},{"tile":-1,"rot":0,"y":14,"flipX":false,"index":945,"x":49},{"tile":0,"rot":0,"y":14,"flipX":false,"index":946,"x":50},{"tile":0,"rot":0,"y":14,"flipX":false,"index":947,"x":51},{"tile":0,"rot":0,"y":14,"flipX":false,"index":948,"x":52},{"tile":0,"rot":0,"y":14,"flipX":false,"index":949,"x":53},{"tile":0,"rot":0,"y":14,"flipX":false,"index":950,"x":54},{"tile":0,"rot":0,"y":14,"flipX":false,"index":951,"x":55},{"tile":0,"rot":0,"y":14,"flipX":false,"index":952,"x":56},{"tile":0,"rot":0,"y":14,"flipX":false,"index":953,"x":57},{"tile":0,"rot":0,"y":14,"flipX":false,"index":954,"x":58},{"tile":0,"rot":0,"y":14,"flipX":false,"index":955,"x":59},{"tile":0,"rot":0,"y":14,"flipX":false,"index":956,"x":60},{"tile":0,"rot":0,"y":14,"flipX":false,"index":957,"x":61},{"tile":0,"rot":0,"y":14,"flipX":false,"index":958,"x":62},{"tile":2,"rot":3,"y":14,"flipX":false,"index":959,"x":63},{"tile":1,"rot":0,"y":15,"flipX":false,"index":960,"x":0},{"tile":2,"rot":1,"y":15,"flipX":false,"index":961,"x":1},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":962,"x":2},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":963,"x":3},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":964,"x":4},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":965,"x":5},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":966,"x":6},{"tile":2,"rot":3,"y":15,"flipX":false,"index":967,"x":7},{"tile":1,"rot":0,"y":15,"flipX":false,"index":968,"x":8},{"tile":1,"rot":0,"y":15,"flipX":false,"index":969,"x":9},{"tile":2,"rot":1,"y":15,"flipX":false,"index":970,"x":10},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":971,"x":11},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":972,"x":12},{"tile":0,"rot":0,"y":15,"flipX":false,"index":973,"x":13},{"tile":0,"rot":0,"y":15,"flipX":false,"index":974,"x":14},{"tile":0,"rot":0,"y":15,"flipX":false,"index":975,"x":15},{"tile":0,"rot":0,"y":15,"flipX":false,"index":976,"x":16},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":977,"x":17},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":978,"x":18},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":979,"x":19},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":980,"x":20},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":981,"x":21},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":982,"x":22},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":983,"x":23},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":984,"x":24},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":985,"x":25},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":986,"x":26},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":987,"x":27},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":988,"x":28},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":989,"x":29},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":990,"x":30},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":991,"x":31},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":992,"x":32},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":993,"x":33},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":994,"x":34},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":995,"x":35},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":996,"x":36},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":997,"x":37},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":998,"x":38},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":999,"x":39},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":1000,"x":40},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":1001,"x":41},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":1002,"x":42},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":1003,"x":43},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":1004,"x":44},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":1005,"x":45},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":1006,"x":46},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":1007,"x":47},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":1008,"x":48},{"tile":-1,"rot":0,"y":15,"flipX":false,"index":1009,"x":49},{"tile":0,"rot":0,"y":15,"flipX":false,"index":1010,"x":50},{"tile":0,"rot":0,"y":15,"flipX":false,"index":1011,"x":51},{"tile":0,"rot":0,"y":15,"flipX":false,"index":1012,"x":52},{"tile":0,"rot":0,"y":15,"flipX":false,"index":1013,"x":53},{"tile":0,"rot":0,"y":15,"flipX":false,"index":1014,"x":54},{"tile":0,"rot":0,"y":15,"flipX":false,"index":1015,"x":55},{"tile":0,"rot":0,"y":15,"flipX":false,"index":1016,"x":56},{"tile":0,"rot":0,"y":15,"flipX":false,"index":1017,"x":57},{"tile":0,"rot":0,"y":15,"flipX":false,"index":1018,"x":58},{"tile":0,"rot":0,"y":15,"flipX":false,"index":1019,"x":59},{"tile":0,"rot":0,"y":15,"flipX":false,"index":1020,"x":60},{"tile":0,"rot":0,"y":15,"flipX":false,"index":1021,"x":61},{"tile":0,"rot":0,"y":15,"flipX":false,"index":1022,"x":62},{"tile":2,"rot":3,"y":15,"flipX":false,"index":1023,"x":63},{"tile":1,"rot":0,"y":16,"flipX":false,"index":1024,"x":0},{"tile":3,"rot":0,"y":16,"flipX":false,"index":1025,"x":1},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1026,"x":2},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1027,"x":3},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1028,"x":4},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1029,"x":5},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1030,"x":6},{"tile":3,"rot":0,"y":16,"flipX":true,"index":1031,"x":7},{"tile":1,"rot":0,"y":16,"flipX":false,"index":1032,"x":8},{"tile":1,"rot":0,"y":16,"flipX":false,"index":1033,"x":9},{"tile":3,"rot":0,"y":16,"flipX":false,"index":1034,"x":10},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1035,"x":11},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1036,"x":12},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1037,"x":13},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1038,"x":14},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1039,"x":15},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1040,"x":16},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1041,"x":17},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1042,"x":18},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1043,"x":19},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1044,"x":20},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1045,"x":21},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1046,"x":22},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1047,"x":23},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1048,"x":24},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1049,"x":25},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1050,"x":26},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1051,"x":27},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1052,"x":28},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1053,"x":29},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1054,"x":30},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1055,"x":31},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1056,"x":32},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1057,"x":33},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1058,"x":34},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1059,"x":35},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1060,"x":36},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1061,"x":37},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1062,"x":38},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1063,"x":39},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1064,"x":40},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1065,"x":41},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1066,"x":42},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1067,"x":43},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1068,"x":44},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1069,"x":45},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1070,"x":46},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1071,"x":47},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1072,"x":48},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1073,"x":49},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1074,"x":50},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1075,"x":51},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1076,"x":52},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1077,"x":53},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1078,"x":54},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1079,"x":55},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1080,"x":56},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1081,"x":57},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1082,"x":58},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1083,"x":59},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1084,"x":60},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1085,"x":61},{"tile":2,"rot":0,"y":16,"flipX":false,"index":1086,"x":62},{"tile":3,"rot":0,"y":16,"flipX":true,"index":1087,"x":63},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1088,"x":0},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1089,"x":1},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1090,"x":2},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1091,"x":3},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1092,"x":4},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1093,"x":5},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1094,"x":6},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1095,"x":7},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1096,"x":8},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1097,"x":9},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1098,"x":10},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1099,"x":11},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1100,"x":12},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1101,"x":13},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1102,"x":14},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1103,"x":15},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1104,"x":16},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1105,"x":17},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1106,"x":18},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1107,"x":19},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1108,"x":20},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1109,"x":21},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1110,"x":22},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1111,"x":23},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1112,"x":24},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1113,"x":25},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1114,"x":26},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1115,"x":27},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1116,"x":28},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1117,"x":29},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1118,"x":30},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1119,"x":31},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1120,"x":32},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1121,"x":33},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1122,"x":34},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1123,"x":35},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1124,"x":36},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1125,"x":37},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1126,"x":38},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1127,"x":39},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1128,"x":40},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1129,"x":41},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1130,"x":42},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1131,"x":43},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1132,"x":44},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1133,"x":45},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1134,"x":46},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1135,"x":47},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1136,"x":48},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1137,"x":49},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1138,"x":50},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1139,"x":51},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1140,"x":52},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1141,"x":53},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1142,"x":54},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1143,"x":55},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1144,"x":56},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1145,"x":57},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1146,"x":58},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1147,"x":59},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1148,"x":60},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1149,"x":61},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1150,"x":62},{"tile":1,"rot":0,"y":17,"flipX":false,"index":1151,"x":63},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1152,"x":0},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1153,"x":1},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1154,"x":2},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1155,"x":3},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1156,"x":4},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1157,"x":5},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1158,"x":6},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1159,"x":7},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1160,"x":8},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1161,"x":9},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1162,"x":10},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1163,"x":11},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1164,"x":12},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1165,"x":13},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1166,"x":14},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1167,"x":15},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1168,"x":16},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1169,"x":17},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1170,"x":18},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1171,"x":19},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1172,"x":20},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1173,"x":21},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1174,"x":22},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1175,"x":23},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1176,"x":24},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1177,"x":25},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1178,"x":26},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1179,"x":27},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1180,"x":28},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1181,"x":29},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1182,"x":30},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1183,"x":31},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1184,"x":32},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1185,"x":33},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1186,"x":34},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1187,"x":35},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1188,"x":36},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1189,"x":37},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1190,"x":38},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1191,"x":39},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1192,"x":40},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1193,"x":41},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1194,"x":42},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1195,"x":43},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1196,"x":44},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1197,"x":45},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1198,"x":46},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1199,"x":47},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1200,"x":48},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1201,"x":49},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1202,"x":50},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1203,"x":51},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1204,"x":52},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1205,"x":53},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1206,"x":54},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1207,"x":55},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1208,"x":56},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1209,"x":57},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1210,"x":58},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1211,"x":59},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1212,"x":60},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1213,"x":61},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1214,"x":62},{"tile":1,"rot":0,"y":18,"flipX":false,"index":1215,"x":63},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1216,"x":0},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1217,"x":1},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1218,"x":2},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1219,"x":3},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1220,"x":4},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1221,"x":5},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1222,"x":6},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1223,"x":7},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1224,"x":8},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1225,"x":9},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1226,"x":10},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1227,"x":11},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1228,"x":12},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1229,"x":13},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1230,"x":14},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1231,"x":15},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1232,"x":16},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1233,"x":17},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1234,"x":18},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1235,"x":19},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1236,"x":20},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1237,"x":21},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1238,"x":22},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1239,"x":23},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1240,"x":24},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1241,"x":25},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1242,"x":26},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1243,"x":27},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1244,"x":28},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1245,"x":29},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1246,"x":30},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1247,"x":31},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1248,"x":32},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1249,"x":33},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1250,"x":34},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1251,"x":35},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1252,"x":36},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1253,"x":37},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1254,"x":38},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1255,"x":39},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1256,"x":40},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1257,"x":41},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1258,"x":42},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1259,"x":43},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1260,"x":44},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1261,"x":45},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1262,"x":46},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1263,"x":47},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1264,"x":48},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1265,"x":49},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1266,"x":50},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1267,"x":51},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1268,"x":52},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1269,"x":53},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1270,"x":54},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1271,"x":55},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1272,"x":56},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1273,"x":57},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1274,"x":58},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1275,"x":59},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1276,"x":60},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1277,"x":61},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1278,"x":62},{"tile":1,"rot":0,"y":19,"flipX":false,"index":1279,"x":63}]}]}'),p=.098,c=1,x=2;r.settings.RESOLUTION=5,r.settings.SCALE_MODE=r.SCALE_MODES.NEAREST,r.settings.RESOLUTION;const y=new r.Application({transparent:!0});function m(t){return new(o().Box)(new(o().Vector)(t.x,t.y),t.width,t.height).toPolygon()}y.renderer.view.style.position="absolute",y.renderer.view.style.display="block",y.renderer.view.style.backgroundColor="#888",window.onresize=function(){y.renderer.resize(window.innerWidth/r.settings.RESOLUTION,window.innerHeight/r.settings.RESOLUTION)},window.onresize(),document.body.appendChild(y.view),async function(){const{collidables:t,tilemap:e}=await(t=>new Promise((e=>{t.loader.add("cave-8_1.png").add("cave-8_2.png").add("cave-8_3.png").add("cave-8_4.png").load(((t,i)=>{const r=new f._O(0,i),n=[];for(var o=d.Z6,s=0;s<d.sK;s++)for(var a=0;a<d.Bb;a++){const t=d.ug[0].Sv.find((t=>t.x===s&&t.y===a));if(-1!==t.tile&&0!==t.tile){const e=i[`cave-8_${t.tile}.png`].texture;let l;switch(t.rot){case 1:l=6;break;case 2:l=4;break;case 3:l=2}t.flipX&&(l=12),e.rotate=l,r.addFrame(e,s*o,a*o);const h={x:s*o,y:a*o,width:o,height:o};n.push(h)}}e({collidables:n,tilemap:r})}))})))(y);y.stage.addChild(e);const{actor:i,updateBeforeCol:n,updateAfterCol:s}=await u(y);y.stage.addChild(i),y.stage.x=0,y.stage.y=i.x-50-i.height/2-y.stage.height/2;const a=new r.Graphics;a.visible=!0,a.lineStyle(1,16711680),a.drawRect(0,0,50,50),a.x=Math.max(i.x-25,y.stage.x),a.y=Math.max(i.y-25,y.stage.y),y.stage.addChild(a),y.ticker.add((r=>{const l=i.x,h=i.y;n(r),t.every((t=>{let e=function(t,e){const i=m(t),r=m(e),n=new(o().Response);return!!o().testPolygonPolygon(i,r,n)&&n}(function(t,e=0,i=0){const r=t.parent,n=t.clone();return n.x=r.x+t.x,n.y=r.y+t.y,n.x-=t.width/2,n.y-=t.pivot.y/2,n.x+=e,n.y+=i,n}(i.getChildAt(0).boundingBox),t);return e&&(e.overlapV.x?i.x-=e.overlapV.x:e.overlapV.y&&(i.vy=0,i.y-=e.overlapV.y)),!0}));const u=i.x-l,f=i.y-h;console.log(i.x,a.x,e.x,y.stage.x+y.stage.width,y.stage.width-y.view.width),(i.x<=a.x&&y.stage.x<0||i.x>=a.x+a.width&&y.stage.x+y.stage.width>-y.stage.width)&&(a.x+=u,y.stage.x-=u),(i.y<=a.y&&y.stage.y<0||i.y+i.height>=a.y+a.height&&y.stage.y+y.stage.height>-y.stage.height)&&(a.y+=f,y.stage.y-=f),s(r)}))}()}},e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),i(697)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29uc3RhbnRzL2xpYi9jb25zdGFudHMuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2NvcmUuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Rpc3BsYXkvbGliL2Rpc3BsYXkuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2dyYXBoaWNzL2xpYi9ncmFwaGljcy5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWF0aC9saWIvbWF0aC5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvcnVubmVyL2xpYi9ydW5uZXIuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL2lzbW9iaWxlanMvZXNtL2lzTW9iaWxlLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9zZXR0aW5ncy9saWIvc2V0dGluZ3MuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS9saWIvc3ByaXRlLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90aWNrZXIvbGliL3RpY2tlci5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL3V0aWxzLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9lYXJjdXQvc3JjL2VhcmN1dC5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvZXM2LXByb21pc2UtcG9seWZpbGwvcHJvbWlzZS5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvbWluaS1zaWduYWxzL2xpYi9taW5pLXNpZ25hbHMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL25pcHBsZWpzL2Rpc3QvbmlwcGxlanMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BhcnNlLXVyaS9pbmRleC5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvcGl4aS10aWxlbWFwL2Rpc3QvcGl4aS10aWxlbWFwLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9wb2x5ZmlsbC9saWIvcG9seWZpbGwuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2FjY2Vzc2liaWxpdHkvbGliL2FjY2Vzc2liaWxpdHkuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ludGVyYWN0aW9uL2xpYi9pbnRlcmFjdGlvbi5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXBwL2xpYi9hcHAuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2V4dHJhY3QvbGliL2V4dHJhY3QuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9kaXN0L3Jlc291cmNlLWxvYWRlci5lc20uanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2xvYWRlcnMvbGliL2xvYWRlcnMuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3BhcnRpY2xlcy9saWIvcGFydGljbGVzLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0L2xpYi90ZXh0LmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9wcmVwYXJlL2xpYi9wcmVwYXJlLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGVzaGVldC9saWIvc3ByaXRlc2hlZXQuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS10aWxpbmcvbGliL3Nwcml0ZS10aWxpbmcuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gvbGliL21lc2guZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQtYml0bWFwL2xpYi90ZXh0LWJpdG1hcC5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWFscGhhL2xpYi9maWx0ZXItYWxwaGEuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1ibHVyL2xpYi9maWx0ZXItYmx1ci5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeC9saWIvZmlsdGVyLWNvbG9yLW1hdHJpeC5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudC9saWIvZmlsdGVyLWRpc3BsYWNlbWVudC5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWZ4YWEvbGliL2ZpbHRlci1meGFhLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItbm9pc2UvbGliL2ZpbHRlci1ub2lzZS5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwL2xpYi9taXhpbi1jYWNoZS1hcy1iaXRtYXAuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21peGluLWdldC1jaGlsZC1ieS1uYW1lL2xpYi9taXhpbi1nZXQtY2hpbGQtYnktbmFtZS5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbi9saWIvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbi5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWVzaC1leHRyYXMvbGliL21lc2gtZXh0cmFzLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGUtYW5pbWF0ZWQvbGliL3Nwcml0ZS1hbmltYXRlZC5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcGl4aS5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvcHVueWNvZGUvcHVueWNvZGUuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nL2RlY29kZS5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmcvZW5jb2RlLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy9pbmRleC5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvc2F0L1NBVC5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvdXJsL3VybC5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvdXJsL3V0aWwuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vc3JjL2FuaW1zL2hlcm9BbmltLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL3NyYy9jb250cm9sbGVycy9rZXlib2FyZC5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9zcmMvY29udHJvbGxlcnMvbW9iaWxlRHJpdmVyLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL3NyYy9hY3RvcnMvaGVyby5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9zcmMvc3RhdGUvSGVyb0FjdGlvbnNTdGF0ZS5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9zcmMvY29udHJvbGxlcnMva2V5Ym9hcmREcml2ZXIuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL3NyYy9zdGFnZXMvY2F2ZS5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3BpeGktZ2FtZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lL3dlYnBhY2svcnVudGltZS9ub2RlIG1vZHVsZSBkZWNvcmF0b3IiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lL3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6WyJFTlYiLCJSRU5ERVJFUl9UWVBFIiwiQlVGRkVSX0JJVFMiLCJCTEVORF9NT0RFUyIsIkRSQVdfTU9ERVMiLCJGT1JNQVRTIiwiVEFSR0VUUyIsIlRZUEVTIiwiU0NBTEVfTU9ERVMiLCJXUkFQX01PREVTIiwiTUlQTUFQX01PREVTIiwiQUxQSEFfTU9ERVMiLCJDTEVBUl9NT0RFUyIsIkdDX01PREVTIiwiUFJFQ0lTSU9OIiwiTUFTS19UWVBFUyIsIk1TQUFfUVVBTElUWSIsImlzTW9iaWxlIiwiSU5TVEFMTEVEIiwiYXV0b0RldGVjdFJlc291cmNlIiwic291cmNlIiwib3B0aW9ucyIsImV4dGVuc2lvbiIsInJlc3VsdCIsImV4ZWMiLCJ0b0xvd2VyQ2FzZSIsImkiLCJsZW5ndGgiLCJSZXNvdXJjZVBsdWdpbiIsInRlc3QiLCJFcnJvciIsImV4dGVuZFN0YXRpY3MiLCJkIiwiYiIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfX2V4dGVuZHMiLCJfXyIsInRoaXMiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsImNyZWF0ZSIsIlJlc291cmNlIiwid2lkdGgiLCJoZWlnaHQiLCJfd2lkdGgiLCJfaGVpZ2h0IiwiZGVzdHJveWVkIiwiaW50ZXJuYWwiLCJvblJlc2l6ZSIsIlIiLCJvblVwZGF0ZSIsIm9uRXJyb3IiLCJiaW5kIiwiYmFzZVRleHR1cmUiLCJhZGQiLCJlbWl0IiwidW5iaW5kIiwicmVtb3ZlIiwicmVzaXplIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwidXBkYXRlIiwibG9hZCIsIlByb21pc2UiLCJyZXNvbHZlIiwic3R5bGUiLCJfcmVuZGVyZXIiLCJfYmFzZVRleHR1cmUiLCJfZ2xUZXh0dXJlIiwiZGlzcG9zZSIsImRlc3Ryb3kiLCJyZW1vdmVBbGwiLCJfc291cmNlIiwiX2V4dGVuc2lvbiIsIkJ1ZmZlclJlc291cmNlIiwiX3N1cGVyIiwiX3RoaXMiLCJfYSIsImNhbGwiLCJkYXRhIiwidXBsb2FkIiwicmVuZGVyZXIiLCJnbFRleHR1cmUiLCJnbCIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMIiwiYWxwaGFNb2RlIiwidGV4U3ViSW1hZ2UyRCIsInRhcmdldCIsImZvcm1hdCIsInR5cGUiLCJ0ZXhJbWFnZTJEIiwiaW50ZXJuYWxGb3JtYXQiLCJGbG9hdDMyQXJyYXkiLCJVaW50OEFycmF5IiwiVWludDMyQXJyYXkiLCJkZWZhdWx0QnVmZmVyT3B0aW9ucyIsInNjYWxlTW9kZSIsIkJhc2VUZXh0dXJlIiwicmVzb3VyY2UiLCJtaXBtYXAiLCJhbmlzb3Ryb3BpY0xldmVsIiwid3JhcE1vZGUiLCJyZXNvbHV0aW9uIiwicmVzb3VyY2VPcHRpb25zIiwidW5kZWZpbmVkIiwicHJlbXVsdGlwbHlBbHBoYSIsInVpZCIsInRvdWNoZWQiLCJpc1Bvd2VyT2ZUd28iLCJfcmVmcmVzaFBPVCIsIl9nbFRleHR1cmVzIiwiZGlydHlJZCIsImRpcnR5U3R5bGVJZCIsImNhY2hlSWQiLCJ2YWxpZCIsInRleHR1cmVDYWNoZUlkcyIsIl9iYXRjaEVuYWJsZWQiLCJfYmF0Y2hMb2NhdGlvbiIsInBhcmVudFRleHR1cmVBcnJheSIsInNldFJlc291cmNlIiwiTWF0aCIsImNlaWwiLCJzZXRTdHlsZSIsImRpcnR5Iiwic2V0U2l6ZSIsInNldFJlYWxTaXplIiwicmVhbFdpZHRoIiwicmVhbEhlaWdodCIsImlzUG93MiIsInNldFJlc29sdXRpb24iLCJvbGRSZXNvbHV0aW9uIiwiZXZlbnQiLCJCYXNlVGV4dHVyZUNhY2hlIiwiVGV4dHVyZUNhY2hlIiwicmVtb3ZlRnJvbUNhY2hlIiwiY2FzdFRvQmFzZVRleHR1cmUiLCJmcm9tIiwic3RyaWN0IiwiaXNGcmFtZSIsIl9waXhpSWQiLCJhZGRUb0NhY2hlIiwiZnJvbUJ1ZmZlciIsImJ1ZmZlciIsImFzc2lnbiIsImlkIiwiaW5kZXhPZiIsInB1c2giLCJjb25zb2xlIiwid2FybiIsImJhc2VUZXh0dXJlRnJvbUNhY2hlIiwiaW5kZXgiLCJzcGxpY2UiLCJfZ2xvYmFsQmF0Y2giLCJFdmVudEVtaXR0ZXIiLCJBYnN0cmFjdE11bHRpUmVzb3VyY2UiLCJpdGVtcyIsIml0ZW1EaXJ0eUlkcyIsInBhcnRUZXh0dXJlIiwiX2xvYWQiLCJpbml0RnJvbUFycmF5IiwicmVzb3VyY2VzIiwiYWRkQmFzZVRleHR1cmVBdCIsImFkZFJlc291cmNlQXQiLCJsZW4iLCJvbiIsIm9mZiIsInByb21pc2VzIiwibWFwIiwiaXRlbSIsImZpbHRlciIsImFsbCIsInRoZW4iLCJBcnJheVJlc291cmNlIiwidXJscyIsImlzQXJyYXkiLCJ0ZXh0dXJlIiwidGV4SW1hZ2UzRCIsIlRFWFRVUkVfMkRfQVJSQVkiLCJ0ZXhTdWJJbWFnZTNEIiwiQmFzZUltYWdlUmVzb3VyY2UiLCJzb3VyY2VBbnkiLCJuYXR1cmFsV2lkdGgiLCJ2aWRlb1dpZHRoIiwibmF0dXJhbEhlaWdodCIsInZpZGVvSGVpZ2h0Iiwibm9TdWJJbWFnZSIsImNyb3NzT3JpZ2luIiwiZWxlbWVudCIsInVybCIsImNyb3Nzb3JpZ2luIiwiZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4iLCJURVhUVVJFXzJEIiwiQ2FudmFzUmVzb3VyY2UiLCJhcHBseSIsImFyZ3VtZW50cyIsIk9mZnNjcmVlbkNhbnZhcyIsIndpbmRvdyIsIkhUTUxDYW52YXNFbGVtZW50IiwiQ3ViZVJlc291cmNlIiwiYXV0b0xvYWQiLCJsaW5rQmFzZVRleHR1cmUiLCJTSURFUyIsImtleXMiLCJzaWRlIiwiSW1hZ2VSZXNvdXJjZSIsIkhUTUxJbWFnZUVsZW1lbnQiLCJpbWFnZUVsZW1lbnQiLCJJbWFnZSIsInNyYyIsImNvbXBsZXRlIiwiX3Byb2Nlc3MiLCJwcmVzZXJ2ZUJpdG1hcCIsImNyZWF0ZUJpdG1hcCIsImNyZWF0ZUltYWdlQml0bWFwIiwiYml0bWFwIiwicmVqZWN0IiwiY29tcGxldGVkIiwib25sb2FkIiwib25lcnJvciIsInByb2Nlc3MiLCJmbGFnIiwiZ2xUZXh0dXJlcyIsImtleSIsIm90aGVyVGV4IiwiY2xvc2UiLCJTVkdSZXNvdXJjZSIsInNvdXJjZUJhc2U2NCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN2ZyIsInNjYWxlIiwiX292ZXJyaWRlV2lkdGgiLCJfb3ZlcnJpZGVIZWlnaHQiLCJfcmVzb2x2ZSIsIl9jcm9zc29yaWdpbiIsInRyaW0iLCJidG9hIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJfbG9hZFN2ZyIsInRlbXBJbWFnZSIsInN2Z1dpZHRoIiwic3ZnSGVpZ2h0Iiwicm91bmQiLCJjYW52YXMiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwiZ2V0U2l6ZSIsInN2Z1N0cmluZyIsInNpemVNYXRjaCIsIlNWR19TSVpFIiwic2l6ZSIsInBhcnNlRmxvYXQiLCJWaWRlb1Jlc291cmNlIiwiSFRNTFZpZGVvRWxlbWVudCIsInZpZGVvRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImZpcnN0U3JjIiwic291cmNlRWxlbWVudCIsIm1pbWUiLCJiYXNlU3JjIiwic3BsaXQiLCJzaGlmdCIsImV4dCIsInN1YnN0ciIsImxhc3RJbmRleE9mIiwiTUlNRV9UWVBFUyIsImFwcGVuZENoaWxkIiwiX2F1dG9VcGRhdGUiLCJfaXNDb25uZWN0ZWRUb1RpY2tlciIsIl91cGRhdGVGUFMiLCJ1cGRhdGVGUFMiLCJfbXNUb05leHRVcGRhdGUiLCJhdXRvUGxheSIsIl9vbkNhblBsYXkiLCJfb25FcnJvciIsIl9kZWx0YVRpbWUiLCJlbGFwc2VkTVMiLCJwbGF5YmFja1JhdGUiLCJmbG9vciIsInJlYWR5U3RhdGUiLCJIQVZFX0VOT1VHSF9EQVRBIiwiSEFWRV9GVVRVUkVfREFUQSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfb25QbGF5U3RhcnQiLCJfb25QbGF5U3RvcCIsIl9pc1NvdXJjZVJlYWR5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9pc1NvdXJjZVBsYXlpbmciLCJjdXJyZW50VGltZSIsInBhdXNlZCIsImVuZGVkIiwiYXV0b1VwZGF0ZSIsInBsYXkiLCJwYXVzZSIsInNldCIsInZhbHVlIiwib2d2IiwibW92IiwibTR2IiwiSW1hZ2VCaXRtYXBSZXNvdXJjZSIsIkltYWdlQml0bWFwIiwiU3lzdGVtIiwiRGVwdGhSZXNvdXJjZSIsImNvbnRleHQiLCJ3ZWJHTFZlcnNpb24iLCJERVBUSF9DT01QT05FTlQiLCJERVBUSF9DT01QT05FTlQxNiIsIkZyYW1lYnVmZmVyIiwic3RlbmNpbCIsImRlcHRoIiwiZGlydHlGb3JtYXQiLCJkaXJ0eVNpemUiLCJkZXB0aFRleHR1cmUiLCJjb2xvclRleHR1cmVzIiwiZ2xGcmFtZWJ1ZmZlcnMiLCJkaXNwb3NlUnVubmVyIiwibXVsdGlzYW1wbGUiLCJhZGRDb2xvclRleHR1cmUiLCJhZGREZXB0aFRleHR1cmUiLCJlbmFibGVEZXB0aCIsImVuYWJsZVN0ZW5jaWwiLCJkZXN0cm95RGVwdGhUZXh0dXJlIiwiQmFzZVJlbmRlclRleHR1cmUiLCJ3aWR0aF8xIiwiaGVpZ2h0XzEiLCJjbGVhckNvbG9yIiwiZnJhbWVidWZmZXIiLCJtYXNrU3RhY2siLCJmaWx0ZXJTdGFjayIsIlRleHR1cmVVdnMiLCJ4MCIsInkwIiwieDEiLCJ5MSIsIngyIiwieTIiLCJ4MyIsInkzIiwidXZzRmxvYXQzMiIsImZyYW1lIiwiYmFzZUZyYW1lIiwicm90YXRlIiwidHciLCJ0aCIsIncyIiwiaDIiLCJjWCIsIngiLCJjWSIsInkiLCJncm91cEQ4IiwiREVGQVVMVF9VVlMiLCJUZXh0dXJlIiwib3JpZyIsImFuY2hvciIsIm5vRnJhbWUiLCJSZWN0YW5nbGUiLCJfZnJhbWUiLCJfdXZzIiwidXZNYXRyaXgiLCJfcm90YXRlIiwiTnVtYmVyIiwiZGVmYXVsdEFuY2hvciIsIlBvaW50IiwiX3VwZGF0ZUlEIiwib25CYXNlVGV4dHVyZVVwZGF0ZWQiLCJvbmNlIiwidXBkYXRlVXZzIiwiZGVzdHJveUJhc2UiLCJjbG9uZSIsImdldFJlc29sdXRpb25PZlVybCIsImZyb21VUkwiLCJmcm9tTG9hZGVyIiwiaW1hZ2VVcmwiLCJuYW1lIiwidGV4dHVyZUZyb21DYWNoZSIsInhOb3RGaXQiLCJ5Tm90Rml0IiwicmVsYXRpb25zaGlwIiwiZXJyb3JYIiwiZXJyb3JZIiwicmVtb3ZlQWxsSGFuZGxlcnMiLCJ0ZXgiLCJFTVBUWSIsIldISVRFIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJjcmVhdGVXaGl0ZVRleHR1cmUiLCJSZW5kZXJUZXh0dXJlIiwiYmFzZVJlbmRlclRleHR1cmUiLCJfbGVnYWN5UmVuZGVyZXIiLCJsZWdhY3lSZW5kZXJlciIsImZpbHRlckZyYW1lIiwiZmlsdGVyUG9vbEtleSIsInJlc2l6ZUJhc2VUZXh0dXJlIiwiUmVuZGVyVGV4dHVyZVBvb2wiLCJ0ZXh0dXJlT3B0aW9ucyIsInRleHR1cmVQb29sIiwiZW5hYmxlRnVsbFNjcmVlbiIsIl9waXhlbHNXaWR0aCIsIl9waXhlbHNIZWlnaHQiLCJjcmVhdGVUZXh0dXJlIiwiZ2V0T3B0aW1hbFRleHR1cmUiLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsIlNDUkVFTl9LRVkiLCJuZXh0UG93MiIsInJlbmRlclRleHR1cmUiLCJwb3AiLCJnZXRGaWx0ZXJUZXh0dXJlIiwiaW5wdXQiLCJmaWx0ZXJUZXh0dXJlIiwicmV0dXJuVGV4dHVyZSIsInJldHVybkZpbHRlclRleHR1cmUiLCJjbGVhciIsImRlc3Ryb3lUZXh0dXJlcyIsInRleHR1cmVzIiwiaiIsInNldFNjcmVlblNpemUiLCJzY3JlZW5LZXkiLCJBdHRyaWJ1dGUiLCJub3JtYWxpemVkIiwic3RyaWRlIiwic3RhcnQiLCJpbnN0YW5jZSIsIlVJRCIsIkJ1ZmZlciIsIl9zdGF0aWMiLCJfZ2xCdWZmZXJzIiwic3RhdGljIiwiZ2V0QnVmZmVyVHlwZSIsImFycmF5IiwiQllURVNfUEVSX0VMRU1FTlQiLCJVaW50MTZBcnJheSIsIkludDMyQXJyYXkiLCJieXRlU2l6ZU1hcCIsIjUxMjYiLCI1MTIzIiwiNTEyMSIsIlVJRCQxIiwibWFwJDEiLCJHZW9tZXRyeSIsImJ1ZmZlcnMiLCJhdHRyaWJ1dGVzIiwiaW5kZXhCdWZmZXIiLCJnbFZlcnRleEFycmF5T2JqZWN0cyIsImluc3RhbmNlZCIsImluc3RhbmNlQ291bnQiLCJyZWZDb3VudCIsImFkZEF0dHJpYnV0ZSIsImlkcyIsImJ1ZmZlckluZGV4IiwiZ2V0QXR0cmlidXRlIiwiZ2V0QnVmZmVyIiwiYWRkSW5kZXgiLCJnZXRJbmRleCIsImludGVybGVhdmUiLCJhcnJheXMiLCJzaXplcyIsImludGVybGVhdmVkQnVmZmVyIiwiYXR0cmlidXRlIiwib3V0U2l6ZSIsInZpZXdzIiwiQXJyYXlCdWZmZXIiLCJvdXQiLCJsaXR0bGVPZmZzZXQiLCJpbnRlcmxlYXZlVHlwZWRBcnJheXMiLCJnZW9tZXRyeSIsInNsaWNlIiwiYXR0cmliIiwibWVyZ2UiLCJnZW9tZXRyaWVzIiwiZ2VvbWV0cnlPdXQiLCJvZmZzZXRzIiwib2Zmc2V0Iiwib2Zmc2V0MiIsImJ1ZmZlckluZGV4VG9Db3VudCIsImluZGV4QnVmZmVyRGF0YSIsIlF1YWQiLCJRdWFkVXYiLCJ2ZXJ0aWNlcyIsInV2cyIsInZlcnRleEJ1ZmZlciIsInV2QnVmZmVyIiwidGFyZ2V0VGV4dHVyZUZyYW1lIiwiZGVzdGluYXRpb25GcmFtZSIsImludmFsaWRhdGUiLCJVSUQkMiIsIlVuaWZvcm1Hcm91cCIsInVuaWZvcm1zIiwiZ3JvdXAiLCJzeW5jVW5pZm9ybXMiLCJGaWx0ZXJTdGF0ZSIsImxlZ2FjeSIsInNvdXJjZUZyYW1lIiwiZmlsdGVycyIsIkZpbHRlclN5c3RlbSIsImRlZmF1bHRGaWx0ZXJTdGFjayIsInZpZXciLCJzdGF0ZVBvb2wiLCJxdWFkIiwicXVhZFV2IiwidGVtcFJlY3QiLCJhY3RpdmVTdGF0ZSIsImdsb2JhbFVuaWZvcm1zIiwib3V0cHV0RnJhbWUiLCJpbnB1dFNpemUiLCJpbnB1dFBpeGVsIiwiaW5wdXRDbGFtcCIsImZpbHRlckFyZWEiLCJmaWx0ZXJDbGFtcCIsImZvcmNlQ2xlYXIiLCJ1c2VNYXhQYWRkaW5nIiwic3RhdGUiLCJwYWRkaW5nIiwiYXV0b0ZpdCIsIm1pbiIsIm1heCIsImN1cnJlbnQiLCJjb3B5RnJvbSIsImdldEJvdW5kcyIsInBhZCIsImZpdCIsImdldE9wdGltYWxGaWx0ZXJUZXh0dXJlIiwibGFzdFN0YXRlIiwiYmxpdCIsImZsaXAiLCJmbG9wIiwiQ0xFQVIiLCJ0IiwiYmluZEFuZENsZWFyIiwiY2xlYXJNb2RlIiwiZGVwcmVjYXRpb24iLCJhcHBseUZpbHRlciIsIm91dHB1dCIsInVTYW1wbGVyIiwiZmlsdGVyR2xvYmFscyIsInNoYWRlciIsImRyYXciLCJjYWxjdWxhdGVTcHJpdGVNYXRyaXgiLCJvdXRwdXRNYXRyaXgiLCJzcHJpdGUiLCJfdGV4dHVyZSIsIm1hcHBlZE1hdHJpeCIsIndvcmxkVHJhbnNmb3JtIiwiY29weVRvIiwiTWF0cml4IiwiaW52ZXJ0IiwicHJlcGVuZCIsInRyYW5zbGF0ZSIsInN3YXAiLCJlbXB0eVBvb2wiLCJPYmplY3RSZW5kZXJlciIsImZsdXNoIiwic3RvcCIsInJlbmRlciIsIl9vYmplY3QiLCJCYXRjaFN5c3RlbSIsImVtcHR5UmVuZGVyZXIiLCJjdXJyZW50UmVuZGVyZXIiLCJzZXRPYmplY3RSZW5kZXJlciIsIm9iamVjdFJlbmRlcmVyIiwicmVzZXQiLCJjb3B5Qm91bmRUZXh0dXJlcyIsImFyciIsIm1heFRleHR1cmVzIiwiYm91bmRUZXh0dXJlcyIsImJvdW5kQXJyYXkiLCJ0ZXhBcnJheSIsImJhdGNoSWQiLCJlbGVtZW50cyIsImNvdW50IiwibG9jIiwiYm91bmQiLCJDT05URVhUX1VJRF9DT1VOVEVSIiwiQ29udGV4dFN5c3RlbSIsImV4dGVuc2lvbnMiLCJzdXBwb3J0cyIsInVpbnQzMkluZGljZXMiLCJoYW5kbGVDb250ZXh0TG9zdCIsImhhbmRsZUNvbnRleHRSZXN0b3JlZCIsImlzQ29udGV4dExvc3QiLCJjb250ZXh0Q2hhbmdlIiwiQ09OVEVYVF9VSUQiLCJnZXRFeHRlbnNpb24iLCJyZXN0b3JlQ29udGV4dCIsImluaXRGcm9tQ29udGV4dCIsInZhbGlkYXRlQ29udGV4dCIsInJ1bm5lcnMiLCJpbml0RnJvbU9wdGlvbnMiLCJjcmVhdGVDb250ZXh0IiwiZ2V0RXh0ZW5zaW9ucyIsImRyYXdCdWZmZXJzIiwibG9zZUNvbnRleHQiLCJ2ZXJ0ZXhBcnJheU9iamVjdCIsImFuaXNvdHJvcGljRmlsdGVyaW5nIiwidWludDMyRWxlbWVudEluZGV4IiwiZmxvYXRUZXh0dXJlIiwiZmxvYXRUZXh0dXJlTGluZWFyIiwidGV4dHVyZUhhbGZGbG9hdCIsInRleHR1cmVIYWxmRmxvYXRMaW5lYXIiLCJjb2xvckJ1ZmZlckZsb2F0IiwicHJldmVudERlZmF1bHQiLCJ1c2VQcm9ncmFtIiwicG9zdHJlbmRlciIsInJlbmRlcmluZ1RvU2NyZWVuIiwiZ2V0Q29udGV4dEF0dHJpYnV0ZXMiLCJpc1dlYkdsMiIsIldlYkdMMlJlbmRlcmluZ0NvbnRleHQiLCJoYXN1aW50MzIiLCJHTEZyYW1lYnVmZmVyIiwibXNhYUJ1ZmZlciIsImJsaXRGcmFtZWJ1ZmZlciIsInRlbXBSZWN0YW5nbGUiLCJGcmFtZWJ1ZmZlclN5c3RlbSIsIm1hbmFnZWRGcmFtZWJ1ZmZlcnMiLCJ1bmtub3duRnJhbWVidWZmZXIiLCJtc2FhU2FtcGxlcyIsInZpZXdwb3J0IiwiaGFzTVJUIiwid3JpdGVEZXB0aFRleHR1cmUiLCJkaXNwb3NlQWxsIiwibmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb25fMSIsIm5hdGl2ZURlcHRoVGV4dHVyZUV4dGVuc2lvbiIsImFjdGl2ZVRleHR1cmVzIiwiZHJhd0J1ZmZlcnNXRUJHTCIsImdldEludGVybmFsZm9ybWF0UGFyYW1ldGVyIiwiUkVOREVSQlVGRkVSIiwiUkdCQTgiLCJTQU1QTEVTIiwiZmJvIiwiaW5pdEZyYW1lYnVmZmVyIiwiYmluZEZyYW1lYnVmZmVyIiwiRlJBTUVCVUZGRVIiLCJ1cGRhdGVGcmFtZWJ1ZmZlciIsInJlc2l6ZUZyYW1lYnVmZmVyIiwic2V0Vmlld3BvcnQiLCJ2IiwiciIsImciLCJhIiwibWFzayIsImNyZWF0ZUZyYW1lYnVmZmVyIiwiZGV0ZWN0U2FtcGxlcyIsImJpbmRSZW5kZXJidWZmZXIiLCJyZW5kZXJidWZmZXJTdG9yYWdlIiwiREVQVEhfU1RFTkNJTCIsImNyZWF0ZVJlbmRlcmJ1ZmZlciIsInJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSIsImZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyIiwiQ09MT1JfQVRUQUNITUVOVDAiLCJwYXJlbnRUZXh0dXJlIiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJERVBUSF9BVFRBQ0hNRU5UIiwiREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UIiwic2FtcGxlcyIsInJlcyIsInNvdXJjZVBpeGVscyIsImRlc3RQaXhlbHMiLCJzYW1lU2l6ZSIsIlJFQURfRlJBTUVCVUZGRVIiLCJDT0xPUl9CVUZGRVJfQklUIiwiTkVBUkVTVCIsIkxJTkVBUiIsImRpc3Bvc2VGcmFtZWJ1ZmZlciIsImNvbnRleHRMb3N0IiwiZGVsZXRlRnJhbWVidWZmZXIiLCJkZWxldGVSZW5kZXJidWZmZXIiLCJsaXN0IiwiZm9yY2VTdGVuY2lsIiwidyIsImgiLCJHTEJ1ZmZlciIsInVwZGF0ZUlEIiwiYnl0ZUxlbmd0aCIsImJ5dGVTaXplTWFwJDEiLCJHZW9tZXRyeVN5c3RlbSIsIl9hY3RpdmVHZW9tZXRyeSIsIl9hY3RpdmVWYW8iLCJoYXNWYW8iLCJoYXNJbnN0YW5jZSIsImNhblVzZVVJbnQzMkVsZW1lbnRJbmRleCIsIm1hbmFnZWRHZW9tZXRyaWVzIiwibWFuYWdlZEJ1ZmZlcnMiLCJuYXRpdmVWYW9FeHRlbnNpb25fMSIsImNyZWF0ZVZlcnRleEFycmF5IiwiY3JlYXRlVmVydGV4QXJyYXlPRVMiLCJiaW5kVmVydGV4QXJyYXkiLCJ2YW8iLCJiaW5kVmVydGV4QXJyYXlPRVMiLCJkZWxldGVWZXJ0ZXhBcnJheSIsImRlbGV0ZVZlcnRleEFycmF5T0VTIiwiaW5zdGFuY2VFeHRfMSIsInZlcnRleEF0dHJpYkRpdmlzb3IiLCJ2ZXJ0ZXhBdHRyaWJEaXZpc29yQU5HTEUiLCJkcmF3RWxlbWVudHNJbnN0YW5jZWQiLCJjIiwiZSIsImRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFIiwiZHJhd0FycmF5c0luc3RhbmNlZCIsImRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRSIsInZhb3MiLCJpbmNSZWZDb3VudCIsInByb2dyYW0iLCJpbml0R2VvbWV0cnlWYW8iLCJhY3RpdmF0ZVZhbyIsInVwZGF0ZUJ1ZmZlcnMiLCJnbEJ1ZmZlciIsIkVMRU1FTlRfQVJSQVlfQlVGRkVSIiwiQVJSQVlfQlVGRkVSIiwiYmluZEJ1ZmZlciIsIl9ib3VuZEJ1ZmZlciIsImJ1ZmZlclN1YkRhdGEiLCJkcmF3VHlwZSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQ19EUkFXIiwiYnVmZmVyRGF0YSIsImNoZWNrQ29tcGF0aWJpbGl0eSIsImdlb21ldHJ5QXR0cmlidXRlcyIsInNoYWRlckF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVEYXRhIiwiZ2V0U2lnbmF0dXJlIiwiYXR0cmlicyIsInN0cmluZ3MiLCJqb2luIiwic2lnbmF0dXJlIiwidmFvT2JqZWN0SGFzaCIsInRlbXBTdHJpZGUiLCJ0ZW1wU3RhcnQiLCJhdHRyaWJTaXplIiwiY3JlYXRlQnVmZmVyIiwiZGlzcG9zZUJ1ZmZlciIsImRlbGV0ZUJ1ZmZlciIsImRpc3Bvc2VHZW9tZXRyeSIsImJ1ZiIsInZhb0lkIiwibGFzdEJ1ZmZlciIsImxvY2F0aW9uIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiRkxPQVQiLCJieXRlU2l6ZSIsImdsVHlwZSIsIlVOU0lHTkVEX1NIT1JUIiwiVU5TSUdORURfSU5UIiwiZHJhd0VsZW1lbnRzIiwiZHJhd0FycmF5cyIsIk1hc2tEYXRhIiwibWFza09iamVjdCIsImF1dG9EZXRlY3QiLCJwb29sZWQiLCJpc01hc2tEYXRhIiwiX3N0ZW5jaWxDb3VudGVyIiwiX3NjaXNzb3JDb3VudGVyIiwiX3NjaXNzb3JSZWN0IiwiX3RhcmdldCIsImNvcHlDb3VudGVyc09yUmVzZXQiLCJtYXNrQWJvdmUiLCJjb21waWxlU2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwic2hhZGVyU291cmNlIiwiY29tcGlsZVByb2dyYW0iLCJ2ZXJ0ZXhTcmMiLCJmcmFnbWVudFNyYyIsImF0dHJpYnV0ZUxvY2F0aW9ucyIsImdsVmVydFNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJnbEZyYWdTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJjcmVhdGVQcm9ncmFtIiwiYXR0YWNoU2hhZGVyIiwiYmluZEF0dHJpYkxvY2F0aW9uIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImVycm9yIiwiZ2V0U2hhZGVySW5mb0xvZyIsIlZBTElEQVRFX1NUQVRVUyIsImdldEVycm9yIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJkZWxldGVQcm9ncmFtIiwiZGVsZXRlU2hhZGVyIiwiYm9vbGVhbkFycmF5IiwiZGVmYXVsdFZhbHVlIiwibWF4RnJhZ21lbnRQcmVjaXNpb24iLCJ1bmtub3duQ29udGV4dCIsImdldFRlc3RDb250ZXh0Iiwic2V0UHJlY2lzaW9uIiwicmVxdWVzdGVkUHJlY2lzaW9uIiwibWF4U3VwcG9ydGVkUHJlY2lzaW9uIiwic3Vic3RyaW5nIiwicHJlY2lzaW9uIiwicmVwbGFjZSIsIkdMU0xfVE9fU0laRSIsImZsb2F0IiwidmVjMiIsInZlYzMiLCJ2ZWM0IiwiaW50IiwiaXZlYzIiLCJpdmVjMyIsIml2ZWM0IiwiYm9vbCIsImJ2ZWMyIiwiYnZlYzMiLCJidmVjNCIsIm1hdDIiLCJtYXQzIiwibWF0NCIsInNhbXBsZXIyRCIsIm1hcFNpemUiLCJHTF9UQUJMRSIsIkdMX1RPX0dMU0xfVFlQRVMiLCJGTE9BVF9WRUMyIiwiRkxPQVRfVkVDMyIsIkZMT0FUX1ZFQzQiLCJJTlQiLCJJTlRfVkVDMiIsIklOVF9WRUMzIiwiSU5UX1ZFQzQiLCJCT09MIiwiQk9PTF9WRUMyIiwiQk9PTF9WRUMzIiwiQk9PTF9WRUM0IiwiRkxPQVRfTUFUMiIsIkZMT0FUX01BVDMiLCJGTE9BVF9NQVQ0IiwiU0FNUExFUl8yRCIsIklOVF9TQU1QTEVSXzJEIiwiVU5TSUdORURfSU5UX1NBTVBMRVJfMkQiLCJTQU1QTEVSX0NVQkUiLCJJTlRfU0FNUExFUl9DVUJFIiwiVU5TSUdORURfSU5UX1NBTVBMRVJfQ1VCRSIsIlNBTVBMRVJfMkRfQVJSQVkiLCJJTlRfU0FNUExFUl8yRF9BUlJBWSIsIlVOU0lHTkVEX0lOVF9TQU1QTEVSXzJEX0FSUkFZIiwibWFwVHlwZSIsInR5cGVOYW1lcyIsInRuIiwidW5zYWZlRXZhbCIsInVuaWZvcm1QYXJzZXJzIiwiY29kZSIsInVuaWZvcm0iLCJHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRCIsInNhbXBsZXJDdWJlIiwic2FtcGxlcjJEQXJyYXkiLCJHTFNMX1RPX0FSUkFZX1NFVFRFUlMiLCJmcmFnVGVtcGxhdGUiLCJnZW5lcmF0ZUlmVGVzdFNyYyIsIm1heElmcyIsImNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIiLCJVSUQkMyIsIm5hbWVDYWNoZSIsIlByb2dyYW0iLCJkZWZhdWx0VmVydGV4U3JjIiwiZGVmYXVsdEZyYWdtZW50U3JjIiwiZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0Iiwic2hhZGVyRnJhZ21lbnQiLCJISUdIX0ZMT0FUIiwiZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24iLCJleHRyYWN0RGF0YSIsImdsUHJvZ3JhbXMiLCJnZXRBdHRyaWJ1dGVEYXRhIiwidW5pZm9ybURhdGEiLCJnZXRVbmlmb3JtRGF0YSIsImF0dHJpYnV0ZXNBcnJheSIsInRvdGFsQXR0cmlidXRlcyIsIkFDVElWRV9BVFRSSUJVVEVTIiwiYXR0cmliRGF0YSIsImdldEFjdGl2ZUF0dHJpYiIsInNvcnQiLCJ0b3RhbFVuaWZvcm1zIiwiQUNUSVZFX1VOSUZPUk1TIiwiZ2V0QWN0aXZlVW5pZm9ybSIsIm1hdGNoIiwiUHJvZ3JhbUNhY2hlIiwiU2hhZGVyIiwidW5pZm9ybUdyb3VwIiwiY2hlY2tVbmlmb3JtRXhpc3RzIiwiU3RhdGUiLCJibGVuZE1vZGUiLCJwb2x5Z29uT2Zmc2V0IiwiYmxlbmQiLCJfYmxlbmRNb2RlIiwiX3BvbHlnb25PZmZzZXQiLCJmb3IyZCIsImRlcHRoVGVzdCIsIkZpbHRlciIsImVuYWJsZWQiLCJhVGV4dHVyZUNvb3JkIiwiZmlsdGVyTWFuYWdlciIsIl9jdXJyZW50U3RhdGUiLCJ0ZW1wTWF0IiwiVGV4dHVyZU1hdHJpeCIsImNsYW1wTWFyZ2luIiwibWFwQ29vcmQiLCJ1Q2xhbXBGcmFtZSIsInVDbGFtcE9mZnNldCIsIl90ZXh0dXJlSUQiLCJjbGFtcE9mZnNldCIsImlzU2ltcGxlIiwibXVsdGlwbHlVdnMiLCJtYXQiLCJ0eCIsInR5IiwiZm9yY2VVcGRhdGUiLCJhcHBlbmQiLCJ0ZXhCYXNlIiwibWFyZ2luIiwiU3ByaXRlTWFza0ZpbHRlciIsIm1hc2tNYXRyaXgiLCJyZW5kZXJhYmxlIiwibWFza1Nwcml0ZSIsIm5wbUFscGhhIiwib3RoZXJNYXRyaXgiLCJhbHBoYSIsIndvcmxkQWxwaGEiLCJtYXNrQ2xhbXAiLCJNYXNrU3lzdGVtIiwiZW5hYmxlU2Npc3NvciIsImFscGhhTWFza1Bvb2wiLCJtYXNrRGF0YVBvb2wiLCJhbHBoYU1hc2tJbmRleCIsInNldE1hc2tTdGFjayIsInNjaXNzb3IiLCJtYXNrRGF0YU9yVGFyZ2V0IiwibWFza0RhdGEiLCJkZXRlY3QiLCJwdXNoU3ByaXRlTWFzayIsInBvcFNwcml0ZU1hc2siLCJpc1Nwcml0ZSIsImlzRmFzdFJlY3QiLCJtYXRyaXgiLCJyb3RYIiwiYXRhbjIiLCJyb3RYWSIsIlBJIiwiYWxwaGFNYXNrRmlsdGVyIiwic3Rhc2hGaWx0ZXJBcmVhIiwiQWJzdHJhY3RNYXNrU3lzdGVtIiwiZ2xDb25zdCIsImdldFN0YWNrTGVuZ3RoIiwiY3VyU3RhY2tMZW4iLCJuZXdTdGFja0xlbiIsImRpc2FibGUiLCJlbmFibGUiLCJfdXNlQ3VycmVudCIsIlNjaXNzb3JTeXN0ZW0iLCJXZWJHTFJlbmRlcmluZ0NvbnRleHQiLCJTQ0lTU09SX1RFU1QiLCJwcmV2RGF0YSIsImJvdW5kcyIsInJlY3QiLCJydCIsInByb2plY3Rpb24iLCJ0cmFuc2Zvcm0iLCJTdGVuY2lsU3lzdGVtIiwiU1RFTkNJTF9URVNUIiwicHJldk1hc2tDb3VudCIsImNvbG9yTWFzayIsInN0ZW5jaWxGdW5jIiwiRVFVQUwiLCJfZ2V0Qml0d2lzZU1hc2siLCJzdGVuY2lsT3AiLCJLRUVQIiwiSU5DUiIsImJhdGNoIiwiU1RFTkNJTF9CVUZGRVJfQklUIiwiY2xlYXJTdGVuY2lsIiwiREVDUiIsIlByb2plY3Rpb25TeXN0ZW0iLCJkZWZhdWx0RnJhbWUiLCJwcm9qZWN0aW9uTWF0cml4Iiwicm9vdCIsImNhbGN1bGF0ZVByb2plY3Rpb24iLCJzeW5jVW5pZm9ybUdyb3VwIiwiZ2xvYmFscyIsIl9kZXN0aW5hdGlvbkZyYW1lIiwiX3Jlc29sdXRpb24iLCJwbSIsInNpZ24iLCJpZGVudGl0eSIsInNldFRyYW5zZm9ybSIsIl9tYXRyaXgiLCJ0ZW1wUmVjdDIiLCJ2aWV3cG9ydEZyYW1lIiwiUmVuZGVyVGV4dHVyZVN5c3RlbSIsIl9iYWNrZ3JvdW5kQ29sb3JSZ2JhIiwiZGVmYXVsdE1hc2tTdGFjayIsInNjcmVlbiIsIklHTFVuaWZvcm1EYXRhIiwiR0xQcm9ncmFtIiwidW5pZm9ybUdyb3VwcyIsIlVJRCQ0IiwiZGVmYXVsdFN5bmNEYXRhIiwidGV4dHVyZUNvdW50IiwiU2hhZGVyU3lzdGVtIiwic3lzdGVtQ2hlY2siLCJjYWNoZSIsImZ1bmMiLCJGdW5jdGlvbiIsInVuc2FmZUV2YWxTdXBwb3J0ZWQiLCJkb250U3luYyIsImdsUHJvZ3JhbSIsImdlbmVyYXRlU2hhZGVyIiwic2V0VW5pZm9ybXMiLCJzeW5jRGF0YSIsImdldGdsUHJvZ3JhbSIsImNyZWF0ZVN5bmNHcm91cHMiLCJmdW5jRnJhZ21lbnRzIiwicGFyc2VkIiwidGVtcGxhdGUiLCJnZW5lcmF0ZVVuaWZvcm1zU3luYyIsImF0dHJpYk1hcCIsInNoYWRlclByb2dyYW0iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJTdGF0ZVN5c3RlbSIsInN0YXRlSWQiLCJfYmxlbmRFcSIsInNldEJsZW5kIiwic2V0T2Zmc2V0Iiwic2V0Q3VsbEZhY2UiLCJzZXREZXB0aFRlc3QiLCJzZXRGcm9udEZhY2UiLCJjaGVja3MiLCJkZWZhdWx0U3RhdGUiLCJibGVuZE1vZGVzIiwiT05FIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsIkRTVF9DT0xPUiIsIk9ORV9NSU5VU19TUkNfQ09MT1IiLCJTUkNfQUxQSEEiLCJEU1RfQUxQSEEiLCJaRVJPIiwiT05FX01JTlVTX0RTVF9BTFBIQSIsIkZVTkNfUkVWRVJTRV9TVUJUUkFDVCIsIkZVTkNfQUREIiwibWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpIiwiZGlmZiIsImZvcmNlU3RhdGUiLCJ1cGRhdGVDaGVjayIsImNoZWNrQmxlbmRNb2RlIiwiQkxFTkQiLCJjaGVja1BvbHlnb25PZmZzZXQiLCJQT0xZR09OX09GRlNFVF9GSUxMIiwiREVQVEhfVEVTVCIsIkNVTExfRkFDRSIsImZyb250RmFjZSIsInNldEJsZW5kTW9kZSIsIm1vZGUiLCJibGVuZEZ1bmMiLCJibGVuZEZ1bmNTZXBhcmF0ZSIsImJsZW5kRXF1YXRpb25TZXBhcmF0ZSIsInNldFBvbHlnb25PZmZzZXQiLCJVTlBBQ0tfRkxJUF9ZX1dFQkdMIiwic3lzdGVtIiwiVGV4dHVyZUdDU3lzdGVtIiwiY2hlY2tDb3VudCIsIm1heElkbGUiLCJjaGVja0NvdW50TWF4IiwicnVuIiwidG0iLCJtYW5hZ2VkVGV4dHVyZXMiLCJ3YXNSZW1vdmVkIiwiZGVzdHJveVRleHR1cmUiLCJ1bmxvYWQiLCJkaXNwbGF5T2JqZWN0IiwiY2hpbGRyZW4iLCJHTFRleHR1cmUiLCJUZXh0dXJlU3lzdGVtIiwiY3VycmVudExvY2F0aW9uIiwiX3Vua25vd25Cb3VuZFRleHR1cmVzIiwidW5rbm93blRleHR1cmUiLCJnZXRQYXJhbWV0ZXIiLCJNQVhfVEVYVFVSRV9JTUFHRV9VTklUUyIsImVtcHR5VGV4dHVyZXMiLCJlbXB0eVRleHR1cmUyRCIsImJpbmRUZXh0dXJlIiwiUkdCQSIsIlVOU0lHTkVEX0JZVEUiLCJURVhUVVJFX0NVQkVfTUFQIiwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YIiwidGV4UGFyYW1ldGVyaSIsIlRFWFRVUkVfTUFHX0ZJTFRFUiIsIlRFWFRVUkVfTUlOX0ZJTFRFUiIsInRleHR1cmVHQyIsImluaXRUZXh0dXJlIiwiYWN0aXZlVGV4dHVyZSIsIlRFWFRVUkUwIiwidXBkYXRlVGV4dHVyZSIsImluaXRUZXh0dXJlVHlwZSIsIlJHQkEzMkYiLCJIQUxGX0ZMT0FUIiwiUkdCQTE2RiIsInVwZGF0ZVRleHR1cmVTdHlsZSIsInNraXBSZW1vdmUiLCJkZWxldGVUZXh0dXJlIiwicmVtb3ZlSXRlbXMiLCJnZW5lcmF0ZU1pcG1hcCIsIlRFWFRVUkVfV1JBUF9TIiwiVEVYVFVSRV9XUkFQX1QiLCJMSU5FQVJfTUlQTUFQX0xJTkVBUiIsIk5FQVJFU1RfTUlQTUFQX05FQVJFU1QiLCJhbmlzb3Ryb3BpY0V4dCIsImxldmVsIiwiTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUIiwidGV4UGFyYW1ldGVyZiIsIlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUIiwic3lzdGVtcyIsInRlbXBNYXRyaXgiLCJBYnN0cmFjdFJlbmRlcmVyIiwicm91bmRQaXhlbHMiLCJ0cmFuc3BhcmVudCIsImF1dG9EZW5zaXR5IiwiYXV0b1Jlc2l6ZSIsInByZXNlcnZlRHJhd2luZ0J1ZmZlciIsImNsZWFyQmVmb3JlUmVuZGVyIiwiX2JhY2tncm91bmRDb2xvciIsIl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmciLCJiYWNrZ3JvdW5kQ29sb3IiLCJfbGFzdE9iamVjdFJlbmRlcmVkIiwicGx1Z2lucyIsImluaXRQbHVnaW5zIiwic3RhdGljTWFwIiwibyIsInNjcmVlbldpZHRoIiwic2NyZWVuSGVpZ2h0IiwiZ2VuZXJhdGVUZXh0dXJlIiwicmVnaW9uIiwiZ2V0TG9jYWxCb3VuZHMiLCJwYXJlbnQiLCJyZW1vdmVWaWV3IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwidGhpc0FueSIsIl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCIsImhleDJzdHJpbmciLCJoZXgycmdiIiwiUmVuZGVyZXIiLCJwcmVyZW5kZXIiLCJhZGRTeXN0ZW0iLCJfX3BsdWdpbnMiLCJhbnRpYWxpYXMiLCJwcmVtdWx0aXBsaWVkQWxwaGEiLCJwb3dlclByZWZlcmVuY2UiLCJzYXlIZWxsbyIsImlzV2ViR0xTdXBwb3J0ZWQiLCJDbGFzc1JlZiIsInNraXBVcGRhdGVUcmFuc2Zvcm0iLCJpc0xvc3QiLCJjYWNoZVBhcmVudCIsImVuYWJsZVRlbXBQYXJlbnQiLCJ1cGRhdGVUcmFuc2Zvcm0iLCJkaXNhYmxlVGVtcFBhcmVudCIsInJlZ2lzdGVyUGx1Z2luIiwicGx1Z2luTmFtZSIsImN0b3IiLCJhdXRvRGV0ZWN0UmVuZGVyZXIiLCJfZGVmYXVsdCIsImRlZmF1bHRGaWx0ZXIiLCJCYXRjaERyYXdDYWxsIiwiQmF0Y2hUZXh0dXJlQXJyYXkiLCJWaWV3YWJsZUJ1ZmZlciIsInJhd0JpbmFyeURhdGEiLCJ1aW50MzJWaWV3IiwiZmxvYXQzMlZpZXciLCJfaW50OFZpZXciLCJJbnQ4QXJyYXkiLCJfdWludDhWaWV3IiwiX2ludDE2VmlldyIsIkludDE2QXJyYXkiLCJfdWludDE2VmlldyIsIl9pbnQzMlZpZXciLCJzaXplT2YiLCJBYnN0cmFjdEJhdGNoUmVuZGVyZXIiLCJzaGFkZXJHZW5lcmF0b3IiLCJnZW9tZXRyeUNsYXNzIiwidmVydGV4U2l6ZSIsIl92ZXJ0ZXhDb3VudCIsIl9pbmRleENvdW50IiwiX2J1ZmZlcmVkRWxlbWVudHMiLCJfYnVmZmVyZWRUZXh0dXJlcyIsIl9idWZmZXJTaXplIiwiX3NoYWRlciIsIl9wYWNrZWRHZW9tZXRyaWVzIiwiX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUiLCJfZmx1c2hJZCIsIl9hQnVmZmVycyIsIl9pQnVmZmVycyIsIk1BWF9URVhUVVJFUyIsIm9uUHJlcmVuZGVyIiwiX2RjSW5kZXgiLCJfYUluZGV4IiwiX2lJbmRleCIsIl9hdHRyaWJ1dGVCdWZmZXIiLCJfaW5kZXhCdWZmZXIiLCJfdGVtcEJvdW5kVGV4dHVyZXMiLCJpbml0Rmx1c2hCdWZmZXJzIiwiX2RyYXdDYWxsUG9vbCIsIl90ZXh0dXJlQXJyYXlQb29sIiwiTUFYX1NQUklURVMiLCJNQVhfVEEiLCJ2ZXJ0ZXhEYXRhIiwiaW5kaWNlcyIsImJ1aWxkVGV4dHVyZXNBbmREcmF3Q2FsbHMiLCJ0ZXh0dXJlQXJyYXlzIiwidG91Y2giLCJUSUNLIiwiY291bnRUZXhBcnJheXMiLCJidWlsZERyYXdDYWxscyIsImZpbmlzaCIsImRyYXdDYWxscyIsImRjSW5kZXgiLCJhSW5kZXgiLCJpSW5kZXgiLCJkcmF3Q2FsbCIsInNwcml0ZUJsZW5kTW9kZSIsInByZW11bHRpcGx5QmxlbmRNb2RlIiwicGFja0ludGVybGVhdmVkR2VvbWV0cnkiLCJiaW5kQW5kQ2xlYXJUZXhBcnJheSIsInRleHR1cmVTeXN0ZW0iLCJ1cGRhdGVHZW9tZXRyeSIsInBhY2tlZEdlb21ldHJpZXMiLCJhdHRyaWJ1dGVCdWZmZXIiLCJfYnVmZmVyIiwiZHJhd0JhdGNoZXMiLCJkY0NvdW50Iiwic3RhdGVTeXN0ZW0iLCJjdXJUZXhBcnJheSIsIl9iIiwiZ2V0QXR0cmlidXRlQnVmZmVyIiwiZ2V0SW5kZXhCdWZmZXIiLCJyb3VuZGVkUDIiLCJyb3VuZGVkU2l6ZUluZGV4IiwibG9nMiIsInJvdW5kZWRTaXplIiwicGFja2VkVmVydGljZXMiLCJpbmRpY2llcyIsInRleHR1cmVJZCIsImFyZ2IiLCJwcmVtdWx0aXBseVRpbnQiLCJfdGludFJHQiIsIkJhdGNoU2hhZGVyR2VuZXJhdG9yIiwicHJvZ3JhbUNhY2hlIiwiZGVmYXVsdEdyb3VwQ2FjaGUiLCJzYW1wbGVWYWx1ZXMiLCJ1U2FtcGxlcnMiLCJnZW5lcmF0ZVNhbXBsZVNyYyIsInRpbnQiLCJ0cmFuc2xhdGlvbk1hdHJpeCIsImRlZmF1bHQiLCJCYXRjaEdlb21ldHJ5IiwiZGVmYXVsdFZlcnRleCQyIiwiZGVmYXVsdEZyYWdtZW50JDIiLCJCYXRjaFBsdWdpbkZhY3RvcnkiLCJ2ZXJ0ZXgiLCJmcmFnbWVudCIsIkJhdGNoUGx1Z2luIiwiQmF0Y2hSZW5kZXJlciIsIkJvdW5kcyIsIm1pblgiLCJJbmZpbml0eSIsIm1pblkiLCJtYXhYIiwibWF4WSIsImlzRW1wdHkiLCJnZXRSZWN0YW5nbGUiLCJhZGRQb2ludCIsInBvaW50IiwiYWRkUXVhZCIsImFkZEZyYW1lIiwiYWRkRnJhbWVNYXRyaXgiLCJhZGRWZXJ0ZXhEYXRhIiwiYmVnaW5PZmZzZXQiLCJlbmRPZmZzZXQiLCJhZGRWZXJ0aWNlcyIsImFkZFZlcnRpY2VzTWF0cml4IiwicGFkWCIsInBhZFkiLCJyYXdYIiwicmF3WSIsImFkZEJvdW5kcyIsImFkZEJvdW5kc01hc2siLCJfbWluWCIsIl9taW5ZIiwiX21heFgiLCJfbWF4WSIsImFkZEJvdW5kc01hdHJpeCIsImFkZEJvdW5kc0FyZWEiLCJhcmVhIiwicGFkZGluZ1giLCJwYWRkaW5nWSIsImFkZEZyYW1lUGFkIiwiRGlzcGxheU9iamVjdCIsInRlbXBEaXNwbGF5T2JqZWN0UGFyZW50IiwiVHJhbnNmb3JtIiwidmlzaWJsZSIsIl9sYXN0U29ydGVkSW5kZXgiLCJfekluZGV4IiwiX2VuYWJsZWRGaWx0ZXJzIiwiX2JvdW5kcyIsIl9sb2NhbEJvdW5kcyIsIl9ib3VuZHNJRCIsIl9ib3VuZHNSZWN0IiwiX2xvY2FsQm91bmRzUmVjdCIsIl9tYXNrIiwiX2Rlc3Ryb3llZCIsImlzTWFzayIsIm1peGluIiwicHJvcGVydHlOYW1lIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0iLCJza2lwVXBkYXRlIiwiY2FsY3VsYXRlQm91bmRzIiwidHJhbnNmb3JtUmVmIiwicGFyZW50UmVmIiwid29ybGRCb3VuZHMiLCJ3b3JsZEJvdW5kc0lEIiwidG9HbG9iYWwiLCJwb3NpdGlvbiIsImRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0iLCJ0b0xvY2FsIiwiYXBwbHlJbnZlcnNlIiwic2V0UGFyZW50IiwiY29udGFpbmVyIiwiYWRkQ2hpbGQiLCJzY2FsZVgiLCJzY2FsZVkiLCJyb3RhdGlvbiIsInNrZXdYIiwic2tld1kiLCJwaXZvdFgiLCJwaXZvdFkiLCJza2V3IiwicGl2b3QiLCJfb3B0aW9ucyIsInJlbW92ZUFsbExpc3RlbmVycyIsImhpdEFyZWEiLCJpbnRlcmFjdGl2ZSIsImludGVyYWN0aXZlQ2hpbGRyZW4iLCJUZW1wb3JhcnlEaXNwbGF5T2JqZWN0IiwibXlQYXJlbnQiLCJsb2NhbFRyYW5zZm9ybSIsIlJBRF9UT19ERUciLCJERUdfVE9fUkFEIiwic29ydERpcnR5Iiwic29ydENoaWxkcmVuIiwiekluZGV4IiwiQ29udGFpbmVyIiwic29ydGFibGVDaGlsZHJlbiIsIm9uQ2hpbGRyZW5DaGFuZ2UiLCJfbGVuZ3RoIiwiYXJndW1lbnRzJDEiLCJfaSIsImNoaWxkIiwiX3BhcmVudElEIiwiYWRkQ2hpbGRBdCIsInN3YXBDaGlsZHJlbiIsImNoaWxkMiIsImluZGV4MSIsImdldENoaWxkSW5kZXgiLCJpbmRleDIiLCJzZXRDaGlsZEluZGV4IiwiY3VycmVudEluZGV4IiwiZ2V0Q2hpbGRBdCIsInJlbW92ZUNoaWxkQXQiLCJyZW1vdmVDaGlsZHJlbiIsImJlZ2luSW5kZXgiLCJlbmRJbmRleCIsInJlbW92ZWQiLCJiZWdpbiIsInJhbmdlIiwiUmFuZ2VFcnJvciIsInNvcnRSZXF1aXJlZCIsIl9jYWxjdWxhdGVCb3VuZHMiLCJza2lwQ2hpbGRyZW5VcGRhdGUiLCJyZW5kZXJBZHZhbmNlZCIsIl9yZW5kZXIiLCJkZXN0cm95Q2hpbGRyZW4iLCJvbGRDaGlsZHJlbiIsImNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSIsIkxJTkVfSk9JTiIsIkxJTkVfQ0FQIiwiR1JBUEhJQ1NfQ1VSVkVTIiwiYWRhcHRpdmUiLCJtYXhMZW5ndGgiLCJtaW5TZWdtZW50cyIsIm1heFNlZ21lbnRzIiwiZXBzaWxvbiIsIl9zZWdtZW50c0NvdW50IiwiZGVmYXVsdFNlZ21lbnRzIiwiaXNOYU4iLCJGaWxsU3R5bGUiLCJjb2xvciIsIm9iaiIsImJ1aWxkUG9seSIsImJ1aWxkIiwiZ3JhcGhpY3NEYXRhIiwicG9pbnRzIiwic2hhcGUiLCJ0cmlhbmd1bGF0ZSIsImdyYXBoaWNzR2VvbWV0cnkiLCJob2xlcyIsInZlcnRzIiwiaG9sZUFycmF5IiwiaG9sZSIsImNvbmNhdCIsInRyaWFuZ2xlcyIsImVhcmN1dCIsInZlcnRQb3MiLCJidWlsZENpcmNsZSIsImNpcmNsZURhdGEiLCJTSEFQRVMiLCJyYWRpdXMiLCJlbGxpcHNlRGF0YSIsInRvdGFsU2VncyIsInNxcnQiLCJzZWciLCJzaW4iLCJjb3MiLCJjZW50ZXIiLCJjaXJjbGUiLCJidWlsZFJlY3RhbmdsZSIsInJlY3REYXRhIiwiZ2V0UHQiLCJuMSIsIm4yIiwicGVyYyIsInF1YWRyYXRpY0JlemllckN1cnZlIiwiZnJvbVgiLCJmcm9tWSIsImNwWCIsImNwWSIsInRvWCIsInRvWSIsInhhIiwieWEiLCJ4YiIsInliIiwiYnVpbGRSb3VuZGVkUmVjdGFuZ2xlIiwicnJlY3REYXRhIiwidmVjUG9zIiwic3F1YXJlIiwibngiLCJueSIsImlubmVyV2VpZ2h0Iiwib3V0ZXJXZWlnaHQiLCJjbG9ja3dpc2UiLCJleHgiLCJleXkiLCJlaXgiLCJlaXkiLCJlb3giLCJlb3kiLCJjeCIsImN5Iiwic3giLCJzeSIsImV4IiwiZXkiLCJjeDJwMHgiLCJjeTJwMHkiLCJhbmdsZTAiLCJhbmdsZTEiLCJzdGFydEFuZ2xlIiwiYW5nbGVEaWZmIiwiYWJzQW5nbGVEaWZmIiwiYWJzIiwic2VnQ291bnQiLCJhbmdsZUluYyIsImFuZ2xlIiwiYnVpbGRMaW5lIiwibGluZVN0eWxlIiwibmF0aXZlIiwiY2xvc2VkU2hhcGUiLCJjbG9zZVN0cm9rZSIsInN0YXJ0SW5kZXgiLCJidWlsZE5hdGl2ZUxpbmUiLCJlcHMiLCJjbG9zZVBvaW50RXBzIiwiZmlyc3RQb2ludCIsImxhc3RQb2ludCIsImNsb3NlZFBhdGgiLCJtaWRQb2ludFgiLCJtaWRQb2ludFkiLCJ1bnNoaWZ0IiwiaW5kZXhDb3VudCIsImluZGV4U3RhcnQiLCJ3aWR0aFNxdWFyZWQiLCJtaXRlckxpbWl0U3F1YXJlZCIsIm1pdGVyTGltaXQiLCJwZXJweCIsInBlcnB5IiwicGVycDF4IiwicGVycDF5IiwiZGlzdCIsInJhdGlvIiwiYWxpZ25tZW50IiwiY2FwIiwiUk9VTkQiLCJTUVVBUkUiLCJkeDAiLCJkeTAiLCJkeDEiLCJkeTEiLCJjcm9zcyIsImMxIiwiYzIiLCJweCIsInB5IiwicGRpc3QiLCJpbXgiLCJpbXkiLCJvbXgiLCJvbXkiLCJpbnNpZGVXZWlnaHQiLCJCRVZFTCIsImVwczIiLCJidWlsZE5vbk5hdGl2ZUxpbmUiLCJTdGFyIiwiaW5uZXJSYWRpdXMiLCJkZWx0YSIsIlBJXzIiLCJwb2x5Z29uIiwiUG9seWdvbiIsIkFyY1V0aWxzIiwiY3VydmVUbyIsImExIiwiYjEiLCJhMiIsImIyIiwibW0iLCJkZCIsImNjIiwidHQiLCJrMSIsImsyIiwiajEiLCJqMiIsInF4IiwicXkiLCJlbmRBbmdsZSIsImFudGljbG9ja3dpc2UiLCJhcmMiLCJfc3RhcnRYIiwiX3N0YXJ0WSIsIl9hbnRpY2xvY2t3aXNlIiwic3dlZXAiLCJuIiwidGhldGEiLCJ0aGV0YTIiLCJjVGhldGEiLCJzVGhldGEiLCJzZWdNaW51cyIsInJlbWFpbmRlciIsInMiLCJCZXppZXJVdGlscyIsImN1cnZlTGVuZ3RoIiwiY3BYMiIsImNwWTIiLCJ0MiIsInQzIiwibnQiLCJudDIiLCJudDMiLCJkeCIsImR5IiwicHJldlgiLCJwcmV2WSIsImR0IiwiZHQyIiwiZHQzIiwiUXVhZHJhdGljVXRpbHMiLCJheCIsImF5IiwiYngiLCJieSIsImEzMiIsImJhIiwibG9nIiwiQmF0Y2hQYXJ0IiwiYXR0cmliU3RhcnQiLCJlbmQiLCJlbmRBdHRyaWIiLCJGSUxMX0NPTU1BTkRTIiwiQkFUQ0hfUE9PTCIsIkRSQVdfQ0FMTF9QT09MIiwiR3JhcGhpY3NEYXRhIiwidG1wUG9pbnQiLCJ0bXBCb3VuZHMiLCJHcmFwaGljc0dlb21ldHJ5IiwiaW5kaWNlc1VpbnQxNiIsImNvbG9ycyIsInRleHR1cmVJZHMiLCJiYXRjaERpcnR5IiwiY2FjaGVEaXJ0eSIsImNsZWFyRGlydHkiLCJiYXRjaGVzIiwic2hhcGVJbmRleCIsImJvdW5kc0RpcnR5IiwiYm91bmRzUGFkZGluZyIsImJhdGNoYWJsZSIsImJhdGNoUGFydCIsImRyYXdTaGFwZSIsImRyYXdIb2xlIiwibGFzdFNoYXBlIiwiY29udGFpbnNQb2ludCIsImNvbnRhaW5zIiwiaGl0SG9sZSIsImlfMSIsInVwZGF0ZUJhdGNoZXMiLCJhbGxvdzMySW5kaWNlcyIsInZhbGlkYXRlQmF0Y2hpbmciLCJjdXJyZW50U3R5bGUiLCJ0cmFuc2Zvcm1Qb2ludHMiLCJuZXh0VGV4dHVyZSIsImluZGV4XzEiLCJhdHRyaWJJbmRleCIsInByb2Nlc3NGaWxsIiwicHJvY2Vzc0xpbmUiLCJfY29tcGFyZVN0eWxlcyIsImFkZFV2cyIsIm5lZWQzMiIsImlzQmF0Y2hhYmxlIiwicGFja0JhdGNoZXMiLCJzdHlsZUEiLCJzdHlsZUIiLCJsIiwiZmlsbCIsImxpbmUiLCJCQVRDSEFCTEVfU0laRSIsImN1cnJlbnRHcm91cCIsImN1cnJlbnRUZXh0dXJlIiwiZHJhd01vZGUiLCJhZGRDb2xvcnMiLCJhZGRUZXh0dXJlSWRzIiwicGFja0F0dHJpYnV0ZXMiLCJnbFBvaW50cyIsImYzMiIsInUzMiIsInByb2Nlc3NIb2xlcyIsInNlcXVlbmNlQm91bmRzIiwiY3VyTWF0cml4IiwibmV4dE1hdHJpeCIsImxpbmVXaWR0aCIsImVsbGlwc2UiLCJwb2x5IiwicmdiIiwicmdiYSIsInV2c1N0YXJ0IiwiYWRqdXN0VXZzIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJMaW5lU3R5bGUiLCJCVVRUIiwiTUlURVIiLCJ0ZW1wIiwiREVGQVVMVF9TSEFERVJTIiwiR3JhcGhpY3MiLCJfZ2VvbWV0cnkiLCJfZmlsbFN0eWxlIiwiX2xpbmVTdHlsZSIsIl9ob2xlTW9kZSIsImN1cnJlbnRQYXRoIiwiYmF0Y2hUaW50IiwiX3RyYW5zZm9ybUlEIiwiZmluaXNoUG9seSIsIl90aW50IiwiYXJncyIsImxpbmVUZXh0dXJlU3R5bGUiLCJmb3JFYWNoIiwic3RhcnRQb2x5IiwibW92ZVRvIiwibGluZVRvIiwiX2luaXRDdXJ2ZSIsInF1YWRyYXRpY0N1cnZlVG8iLCJiZXppZXJDdXJ2ZVRvIiwiYXJjVG8iLCJyYWRpdXNfMSIsInN0YXJ0WCIsInN0YXJ0WSIsInhEaWZmIiwieURpZmYiLCJiZWdpbkZpbGwiLCJiZWdpblRleHR1cmVGaWxsIiwiZW5kRmlsbCIsImRyYXdSZWN0IiwiZHJhd1JvdW5kZWRSZWN0IiwiUm91bmRlZFJlY3RhbmdsZSIsImRyYXdDaXJjbGUiLCJDaXJjbGUiLCJkcmF3RWxsaXBzZSIsIkVsbGlwc2UiLCJkcmF3UG9seWdvbiIsInBhdGgiLCJkcmF3U3RhciIsIl9wb3B1bGF0ZUJhdGNoZXMiLCJfcmVuZGVyQmF0Y2hlZCIsIl9yZW5kZXJEaXJlY3QiLCJnSSIsIl9iYXRjaFJHQiIsImNhbGN1bGF0ZVZlcnRpY2VzIiwiY2FsY3VsYXRlVGludHMiLCJfcmVzb2x2ZURpcmVjdFNoYWRlciIsIl9yZW5kZXJEcmF3Q2FsbERpcmVjdCIsImdyb3VwVGV4dHVyZUNvdW50IiwiX1RFTVBfUE9JTlQiLCJ0aW50UkdCIiwid3RJRCIsIl93b3JsZElEIiwid3QiLCJjbG9zZVBhdGgiLCJzZXRNYXRyaXgiLCJiZWdpbkhvbGUiLCJlbmRIb2xlIiwiUkVDVCIsInJlY3RhbmdsZSIsImVubGFyZ2UiLCJDSVJDIiwicjIiLCJoYWxmV2lkdGgiLCJoYWxmSGVpZ2h0IiwiRUxJUCIsIm5vcm14Iiwibm9ybXkiLCJmbGF0IiwiaWwiLCJQT0xZIiwiaW5zaWRlIiwieGkiLCJ5aSIsInhqIiwieWoiLCJSUkVDIiwicmFkaXVzMiIsImVxdWFscyIsIk9ic2VydmFibGVQb2ludCIsImNiIiwic2NvcGUiLCJfeCIsIl95IiwiZnJvbUFycmF5IiwidG9BcnJheSIsInRyYW5zcG9zZSIsInBvcyIsIm5ld1BvcyIsInR4MSIsImQxIiwiZGVjb21wb3NlIiwidXgiLCJ1eSIsInZ4IiwidnkiLCJyb3RhdGlvbkNheWxleSIsInJvdGF0aW9uTWF0cmljZXMiLCJzaWdudW0iLCJyb3ciLCJfdXgiLCJfdXkiLCJfdngiLCJfdnkiLCJrIiwiaW5pdCIsIkUiLCJTRSIsIlMiLCJTVyIsIlciLCJOVyIsIk4iLCJORSIsIk1JUlJPUl9WRVJUSUNBTCIsIk1BSU5fRElBR09OQUwiLCJNSVJST1JfSE9SSVpPTlRBTCIsIlJFVkVSU0VfRElBR09OQUwiLCJ1WCIsImluZCIsInVZIiwidlgiLCJ2WSIsImludiIsInJvdGF0aW9uU2Vjb25kIiwicm90YXRpb25GaXJzdCIsInN1YiIsInJvdGF0ZTE4MCIsImlzVmVydGljYWwiLCJieURpcmVjdGlvbiIsIm1hdHJpeEFwcGVuZFJvdGF0aW9uSW52Iiwib25DaGFuZ2UiLCJ1cGRhdGVTa2V3IiwiX3JvdGF0aW9uIiwiX2N4IiwiX3N4IiwiX2N5IiwiX3N5IiwiX2xvY2FsSUQiLCJfY3VycmVudExvY2FsSUQiLCJ1cGRhdGVMb2NhbFRyYW5zZm9ybSIsImx0IiwicGFyZW50VHJhbnNmb3JtIiwicHQiLCJzZXRGcm9tTWF0cml4IiwiSURFTlRJVFkiLCJSdW5uZXIiLCJfbmFtZSIsIl9hbGlhc0NvdW50IiwiYTAiLCJhMyIsImE0IiwiYTUiLCJhNiIsImE3IiwiZW5zdXJlTm9uQWxpYXNlZEl0ZW1zIiwiZGVmaW5lUHJvcGVydGllcyIsImRpc3BhdGNoIiwiYXBwbGVJcGhvbmUiLCJhcHBsZUlwb2QiLCJhcHBsZVRhYmxldCIsImFwcGxlVW5pdmVyc2FsIiwiYW5kcm9pZFBob25lIiwiYW5kcm9pZFRhYmxldCIsImFtYXpvblBob25lIiwiYW1hem9uVGFibGV0Iiwid2luZG93c1Bob25lIiwid2luZG93c1RhYmxldCIsIm90aGVyQmxhY2tCZXJyeSIsIm90aGVyQmxhY2tCZXJyeTEwIiwib3RoZXJPcGVyYSIsIm90aGVyQ2hyb21lIiwib3RoZXJGaXJlZm94IiwiaXNBcHBsZVRhYmxldE9uSW9zMTMiLCJuYXZpZ2F0b3IiLCJwbGF0Zm9ybSIsIm1heFRvdWNoUG9pbnRzIiwiTVNTdHJlYW0iLCJwYXJhbSIsIm5hdiIsInVzZXJBZ2VudCIsInRtcCIsInJlZ2V4IiwiY3JlYXRlTWF0Y2giLCJhcHBsZSIsInBob25lIiwiaXBvZCIsInRhYmxldCIsInVuaXZlcnNhbCIsImRldmljZSIsImFtYXpvbiIsImFuZHJvaWQiLCJ3aW5kb3dzIiwib3RoZXIiLCJibGFja2JlcnJ5IiwiYmxhY2tiZXJyeTEwIiwib3BlcmEiLCJmaXJlZm94IiwiY2hyb21lIiwiYW55Iiwic2V0dGluZ3MiLCJNSVBNQVBfVEVYVFVSRVMiLCJBTklTT1RST1BJQ19MRVZFTCIsIlJFU09MVVRJT04iLCJGSUxURVJfUkVTT0xVVElPTiIsIlNQUklURV9NQVhfVEVYVFVSRVMiLCJhbGxvd01heCIsInBhcnNlSW50IiwibWF4UmVjb21tZW5kZWRUZXh0dXJlcyIsIlNQUklURV9CQVRDSF9TSVpFIiwiUkVOREVSX09QVElPTlMiLCJHQ19NT0RFIiwiR0NfTUFYX0lETEUiLCJHQ19NQVhfQ0hFQ0tfQ09VTlQiLCJXUkFQX01PREUiLCJTQ0FMRV9NT0RFIiwiUFJFQ0lTSU9OX1ZFUlRFWCIsIlBSRUNJU0lPTl9GUkFHTUVOVCIsIkNBTl9VUExPQURfU0FNRV9CVUZGRVIiLCJDUkVBVEVfSU1BR0VfQklUTUFQIiwiUk9VTkRfUElYRUxTIiwidGVtcFBvaW50IiwiU3ByaXRlIiwiX2FuY2hvciIsIl9vbkFuY2hvclVwZGF0ZSIsIl9jYWNoZWRUaW50IiwidmVydGV4VHJpbW1lZERhdGEiLCJfdHJhbnNmb3JtVHJpbW1lZElEIiwiX3RleHR1cmVUcmltbWVkSUQiLCJfcm91bmRQaXhlbHMiLCJfb25UZXh0dXJlVXBkYXRlIiwidzAiLCJ3MSIsImgwIiwiaDEiLCJjYWxjdWxhdGVUcmltbWVkVmVydGljZXMiLCJkZXN0cm95QmFzZVRleHR1cmUiLCJVUERBVEVfUFJJT1JJVFkiLCJUaWNrZXJMaXN0ZW5lciIsImZuIiwicHJpb3JpdHkiLCJuZXh0IiwicHJldmlvdXMiLCJkZWx0YVRpbWUiLCJyZWRpcmVjdCIsImNvbm5lY3QiLCJoYXJkIiwiVGlja2VyIiwiX2hlYWQiLCJfcmVxdWVzdElkIiwiX21heEVsYXBzZWRNUyIsIl9taW5FbGFwc2VkTVMiLCJhdXRvU3RhcnQiLCJkZWx0YU1TIiwibGFzdFRpbWUiLCJzcGVlZCIsInN0YXJ0ZWQiLCJfcHJvdGVjdGVkIiwiX2xhc3RGcmFtZSIsIl90aWNrIiwidGltZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIl9yZXF1ZXN0SWZOZWVkZWQiLCJwZXJmb3JtYW5jZSIsIm5vdyIsIl9jYW5jZWxJZk5lZWRlZCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiX3N0YXJ0SWZQb3NzaWJsZSIsIk5PUk1BTCIsIl9hZGRMaXN0ZW5lciIsImFkZE9uY2UiLCJsaXN0ZW5lciIsImhlYWQiLCJmcHMiLCJtaW5GUFMiLCJtYXhGUFMiLCJtaW5GUE1TIiwiX3NoYXJlZCIsInNoYXJlZCIsIl9zeXN0ZW0iLCJUaWNrZXJQbHVnaW4iLCJzaGFyZWRUaWNrZXIiLCJ0aWNrZXIiLCJfdGlja2VyIiwiTE9XIiwib2xkVGlja2VyIiwic3VwcG9ydGVkIiwic2FpZEhlbGxvIiwic2tpcEhlbGxvIiwiY29udGV4dE9wdGlvbnMiLCJmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0Iiwic3VjY2VzcyIsImhleCIsImhleFN0cmluZyIsInRvU3RyaW5nIiwic3RyaW5nMmhleCIsInN0cmluZyIsInJnYjJoZXgiLCJucG0iLCJtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcyIsImNvcnJlY3RCbGVuZE1vZGUiLCJwcmVtdWx0aXBsaWVkIiwicHJlbXVsdGlwbHlSZ2JhIiwicHJlbXVsdGlwbHkiLCJHIiwiQiIsInByZW11bHRpcGx5VGludFRvUmdiYSIsImNyZWF0ZUluZGljZXNGb3JRdWFkcyIsIm91dEJ1ZmZlciIsInRvdGFsSW5kaWNlcyIsInN0YXJ0SWR4IiwicmVtb3ZlQ291bnQiLCJuZXh0VWlkIiwid2FybmluZ3MiLCJ2ZXJzaW9uIiwibWVzc2FnZSIsImlnbm9yZURlcHRoIiwic3RhY2siLCJncm91cENvbGxhcHNlZCIsImdyb3VwRW5kIiwiZGVzdHJveVRleHR1cmVDYWNoZSIsImNsZWFyVGV4dHVyZUNhY2hlIiwiQ2FudmFzUmVuZGVyVGFyZ2V0IiwiY2xlYXJSZWN0IiwidmFsIiwidHJpbUNhbnZhcyIsInBpeGVscyIsImdldEltYWdlRGF0YSIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsInRlbXBBbmNob3IiLCJEQVRBX1VSSSIsImRlY29tcG9zZURhdGFVcmkiLCJkYXRhVXJpIiwiZGF0YVVyaU1hdGNoIiwibWVkaWFUeXBlIiwic3ViVHlwZSIsImNoYXJzZXQiLCJlbmNvZGluZyIsImhyZWYiLCJwYXJzZWRVcmwiLCJwYXJzZSIsInNhbWVQb3J0IiwicG9ydCIsImhvc3RuYW1lIiwicHJvdG9jb2wiLCJob2xlSW5kaWNlcyIsImRpbSIsImludlNpemUiLCJoYXNIb2xlcyIsIm91dGVyTGVuIiwib3V0ZXJOb2RlIiwibGlua2VkTGlzdCIsInByZXYiLCJxdWV1ZSIsInN0ZWluZXIiLCJnZXRMZWZ0bW9zdCIsImNvbXBhcmVYIiwiZWxpbWluYXRlSG9sZSIsImZpbHRlclBvaW50cyIsImVsaW1pbmF0ZUhvbGVzIiwiZWFyY3V0TGlua2VkIiwibGFzdCIsInNpZ25lZEFyZWEiLCJpbnNlcnROb2RlIiwicmVtb3ZlTm9kZSIsImFnYWluIiwiZWFyIiwicGFzcyIsInoiLCJ6T3JkZXIiLCJwcmV2WiIsIm5leHRaIiwicSIsInRhaWwiLCJudW1NZXJnZXMiLCJwU2l6ZSIsInFTaXplIiwiaW5TaXplIiwic29ydExpbmtlZCIsImluZGV4Q3VydmUiLCJpc0Vhckhhc2hlZCIsImlzRWFyIiwiY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyIsInNwbGl0RWFyY3V0IiwicG9pbnRJblRyaWFuZ2xlIiwibWluVFgiLCJtaW5UWSIsIm1heFRYIiwibWF4VFkiLCJtaW5aIiwibWF4WiIsImludGVyc2VjdHMiLCJsb2NhbGx5SW5zaWRlIiwiaXNWYWxpZERpYWdvbmFsIiwic3BsaXRQb2x5Z29uIiwibSIsImh4IiwiaHkiLCJ0YW4iLCJteCIsIm15IiwidGFuTWluIiwic2VjdG9yQ29udGFpbnNTZWN0b3IiLCJmaW5kSG9sZUJyaWRnZSIsImxlZnRtb3N0IiwiaW50ZXJzZWN0c1BvbHlnb24iLCJtaWRkbGVJbnNpZGUiLCJwMSIsInAyIiwicTEiLCJxMiIsIm8xIiwibzIiLCJvMyIsIm80Iiwib25TZWdtZW50IiwibnVtIiwiTm9kZSIsImFuIiwiYnAiLCJzdW0iLCJtb2R1bGUiLCJleHBvcnRzIiwiZGV2aWF0aW9uIiwicG9seWdvbkFyZWEiLCJ0cmlhbmdsZXNBcmVhIiwiZmxhdHRlbiIsImRpbWVuc2lvbnMiLCJob2xlSW5kZXgiLCJOYXRpdmVQcm9taXNlIiwiZ2xvYmFsIiwibmF0aXZlUHJvbWlzZVN1cHBvcnRlZCIsIlBvbHlmaWxsIiwiUEVORElORyIsIlNFQUxFRCIsIkZVTEZJTExFRCIsIlJFSkVDVEVEIiwiTk9PUCIsImFzeW5jVGltZXIiLCJhc3luY1NldFRpbWVyIiwic2V0SW1tZWRpYXRlIiwic2V0VGltZW91dCIsImFzeW5jUXVldWUiLCJhc3luY0ZsdXNoIiwiYXN5bmNDYWxsIiwiY2FsbGJhY2siLCJhcmciLCJpbnZva2VDYWxsYmFjayIsInN1YnNjcmliZXIiLCJvd25lciIsInNldHRsZWQiLCJzdGF0ZV8iLCJkYXRhXyIsInByb21pc2UiLCJoYW5kbGVUaGVuYWJsZSIsInJlc29sdmVkIiwiVHlwZUVycm9yIiwiZnVsZmlsbCIsInJlYXNvbiIsInB1Ymxpc2hGdWxmaWxsbWVudCIsInB1Ymxpc2hSZWplY3Rpb24iLCJwdWJsaXNoIiwiY2FsbGJhY2tzIiwidGhlbl8iLCJyZXNvbHZlciIsInJlamVjdFByb21pc2UiLCJpbnZva2VSZXNvbHZlciIsIm9uRnVsZmlsbG1lbnQiLCJvblJlamVjdGlvbiIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwicmVzdWx0cyIsInJlbWFpbmluZyIsInJhY2UiLCJzZWxmIiwiaGFzIiwicHJlZml4IiwiRXZlbnRzIiwiRUUiLCJhZGRMaXN0ZW5lciIsImVtaXR0ZXIiLCJldnQiLCJfZXZlbnRzIiwiX2V2ZW50c0NvdW50IiwiY2xlYXJFdmVudCIsImV2ZW50TmFtZXMiLCJldmVudHMiLCJuYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImxpc3RlbmVycyIsImhhbmRsZXJzIiwiZWUiLCJsaXN0ZW5lckNvdW50IiwicmVtb3ZlTGlzdGVuZXIiLCJwcmVmaXhlZCIsIl9jcmVhdGVDbGFzcyIsInByb3BzIiwiZGVzY3JpcHRvciIsIndyaXRhYmxlIiwiQ29uc3RydWN0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfY2xhc3NDYWxsQ2hlY2siLCJNaW5pU2lnbmFsQmluZGluZyIsInRoaXNBcmciLCJfZm4iLCJfb25jZSIsIl90aGlzQXJnIiwiX25leHQiLCJfcHJldiIsIl9vd25lciIsImRldGFjaCIsIl9hZGRNaW5pU2lnbmFsQmluZGluZyIsIm5vZGUiLCJfdGFpbCIsIk1pbmlTaWduYWwiLCJleGlzdHMiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIl9fZXNNb2R1bGUiLCJhdHRhY2hFdmVudCIsImRldGFjaEV2ZW50IiwiY2hhbmdlZFRvdWNoZXMiLCJwYWdlWE9mZnNldCIsImRvY3VtZW50RWxlbWVudCIsImJvZHkiLCJzY3JvbGxMZWZ0IiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUb3AiLCJ1IiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJmIiwiUG9pbnRlckV2ZW50IiwiTVNQb2ludGVyRXZlbnQiLCJtb3ZlIiwiTyIsIl9oYW5kbGVyc18iLCJ0cmlnZ2VyIiwiY29uZmlnIiwiZGVmYXVsdHMiLCJiaW5kRXZ0IiwiX2RvbUhhbmRsZXJzXyIsInVuYmluZEV2dCIsIl8iLCJpZGVudGlmaWVyIiwiZnJvbnRQb3NpdGlvbiIsImNvbGxlY3Rpb24iLCJ0aHJlc2hvbGQiLCJmYWRlVGltZSIsImRhdGFPbmx5IiwicmVzdEpveXN0aWNrIiwicmVzdE9wYWNpdHkiLCJ6b25lIiwibG9ja1giLCJsb2NrWSIsImJ1aWxkRWwiLCJzdHlsaXplIiwiZWwiLCJ1aSIsInNob3ciLCJoaWRlIiwiYWRkVG9Eb20iLCJyZW1vdmVGcm9tRG9tIiwic2V0UG9zaXRpb24iLCJyZXNldERpcmVjdGlvbiIsImNvbXB1dGVEaXJlY3Rpb24iLCJiYWNrIiwiZnJvbnQiLCJjbGFzc05hbWUiLCJvcGFjaXR5IiwiZGlzcGxheSIsIm1hcmdpbkxlZnQiLCJtYXJnaW5Ub3AiLCJiYWNrZ3JvdW5kIiwiYXBwbHlTdHlsZXMiLCJjbGVhclRpbWVvdXQiLCJyZW1vdmVUaW1lb3V0Iiwic2hvd1RpbWVvdXQiLCJyZXN0VGltZW91dCIsInJlc3RDYWxsYmFjayIsImRpcmVjdGlvbiIsInJhZGlhbiIsImZvcmNlIiwiVCIsIm5pcHBsZXMiLCJpZGxlcyIsImFjdGl2ZXMiLCJwcmVzc3VyZUludGVydmFscyIsIm1hbmFnZXIiLCJtdWx0aXRvdWNoIiwibWF4TnVtYmVyT2ZOaXBwbGVzIiwiY2F0Y2hEaXN0YW5jZSIsImR5bmFtaWNQYWdlIiwidXBkYXRlQm94IiwicHJlcGFyZU5pcHBsZXMiLCJiaW5kaW5ncyIsInByb2Nlc3NPbk1vdmUiLCJwcm9jZXNzT25FbmQiLCJ0b3VjaEFjdGlvbiIsIm1zVG91Y2hBY3Rpb24iLCJjcmVhdGVOaXBwbGUiLCJnZXRJZGVudGlmaWVyIiwiYm94IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYmluZE5pcHBsZSIsIm9uRGVzdHJveWVkIiwicHJlc3N1cmVGbiIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInByZXNzdXJlIiwid2Via2l0Rm9yY2UiLCJvbnN0YXJ0IiwicHJvY2Vzc09uU3RhcnQiLCJ2YWx1ZXMiLCJ0b3VjaGVzIiwiZmluZEluZGV4IiwiYmluZERvY3VtZW50IiwicGFnZVgiLCJwYWdlWSIsImdldE9yQ3JlYXRlIiwicmVtb3ZlSWRlbnRpZmllciIsImJ1dHRvbnMiLCJkaXN0YW5jZSIsIlAiLCJkZWdyZWUiLCJ2ZWN0b3IiLCJyYXciLCJ1bmJpbmREb2N1bWVudCIsImNvbGxlY3Rpb25zIiwicHJlcGFyZUNvbGxlY3Rpb25zIiwiZXZlcnkiLCJjcmVhdGVDb2xsZWN0aW9uIiwiYmluZENvbGxlY3Rpb24iLCJiaW5kZWQiLCJwb2ludGVySWQiLCJsYXRlc3QiLCJvbm1vdmUiLCJvbkFueSIsIm9uZW5kIiwib25jYW5jZWwiLCJfZm91bmRfIiwiSSIsImZhY3RvcnkiLCJwcm9wSXNFbnVtZXJhYmxlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0b09iamVjdCIsInRlc3QxIiwiU3RyaW5nIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInRlc3QyIiwiZnJvbUNoYXJDb2RlIiwidGVzdDMiLCJsZXR0ZXIiLCJlcnIiLCJzaG91bGRVc2VOYXRpdmUiLCJzeW1ib2xzIiwidG8iLCJzdHIiLCJvcHRzIiwicGFyc2VyIiwibG9vc2UiLCJzdHJpY3RNb2RlIiwidXJpIiwiJDAiLCIkMSIsIiQyIiwiY29yZSIsImNvbnN0YW50cyIsIm1hdGgiLCJncmFwaGljcyIsIkNhbnZhc1RpbGVSZW5kZXJlciIsInRpbGVBbmltIiwiZG9udFVzZVRyYW5zZm9ybSIsImNyIiwiUElYSSIsIkNhbnZhc1JlbmRlcmVyIiwiQ29uc3RhbnQiLCJidWZmZXJTaXplIiwiYm91bmRTaXplIiwiYm91bmRDb3VudFBlckJ1ZmZlciIsInVzZTMyYml0SW5kZXgiLCJET19DTEVBUiIsIlJlY3RUaWxlTGF5ZXIiLCJzdXBlciIsIm1vZGlmaWNhdGlvbk1hcmtlciIsIl8kX2xvY2FsQm91bmRzIiwic2hhZG93Q29sb3IiLCJfZ2xvYmFsTWF0IiwicG9pbnRzQnVmIiwiaGFzQW5pbSIsImNvbXBvc2l0ZVBhcmVudCIsInZiSWQiLCJ2YiIsInZiQnVmZmVyIiwidmJBcnJheSIsInZiSW50cyIsImluaXRpYWxpemUiLCJ0ZXh0dXJlXyIsImFuaW1YIiwiYW5pbVkiLCJ0ZXh0dXJlSW5kZXgiLCJmb3VuZCIsInRleHR1cmVMaXN0IiwiYWRkUmVjdCIsInRpbGVXaWR0aCIsInRpbGVIZWlnaHQiLCJhbmltQ291bnRYIiwiYW5pbUNvdW50WSIsInBiIiwidGlsZW1hcCIsInJlbmRlckNhbnZhc0NvcmUiLCJnZXREcmF3YWJsZVNvdXJjZSIsImdsb2JhbEFscGhhIiwicGx1Z2luIiwiZ2V0U2hhZGVyIiwicHJvalRyYW5zTWF0cml4IiwiYW5pbWF0aW9uRnJhbWUiLCJyZW5kZXJXZWJHTENvcmUiLCJyZWN0c0NvdW50IiwiYmluZFRleHR1cmVzIiwiY3JlYXRlVmIiLCJjaGVja0luZGV4QnVmZmVyIiwidmVydGV4QnVmIiwidmVydFBlclF1YWQiLCJ2cyIsImJrIiwic3oiLCJzaGlmdFUiLCJzaGlmdFYiLCJhbmltWEVuY29kZWQiLCJhbmltWUVuY29kZWQiLCJ1MCIsInYwIiwidTEiLCJ2MSIsInUyIiwidjIiLCJ1MyIsInYzIiwiVFJJQU5HTEVTIiwiYW5pbSIsImRlc3Ryb3lWYiIsIkNvbXBvc2l0ZVJlY3RUaWxlTGF5ZXIiLCJiaXRtYXBzIiwidGV4UGVyQ2hpbGQiLCJfbGFzdExheWVyIiwic2V0Qml0bWFwcyIsImxlbjEiLCJsZW4yIiwibGF5ZXIiLCJhbmltV2lkdGgiLCJhbmltSGVpZ2h0IiwiY2hpbGRJbmRleCIsInRpbGVSb3RhdGUiLCJ0aWxlQW5pbVgiLCJ0aWxlQW5pbVkiLCJsYXllcnMiLCJpc01vZGlmaWVkIiwiY2xlYXJNb2RpZnkiLCJNdWx0aVRleHR1cmVSZXNvdXJjZSIsIl9jbGVhckJ1ZmZlciIsImJhc2VUZXgiLCJib3VuZFNwcml0ZXMiLCJkaXJ0aWVzIiwic3ByIiwiVU5QQUNLIiwiZG9DbGVhciIsImZpbGxTYW1wbGVycyIsInNhbXBsZXJTaXplIiwidVNhbXBsZXJTaXplIiwiVGlsZW1hcFNoYWRlciIsInNoYWRlclZlcnQiLCJzaGFkZXJGcmFnIiwiUmVjdFRpbGVTaGFkZXIiLCJnZW5lcmF0ZUZyYWdtZW50U3JjIiwiUmVjdFRpbGVHZW9tIiwidmVydFNpemUiLCJsYXN0VGltZUFjY2VzcyIsIlRpbGVSZW5kZXJlciIsInNuIiwiaWJMZW4iLCJ0ZXhMb2MiLCJ0ZXhSZXNvdXJjZXMiLCJyZWN0U2hhZGVyIiwiaW5pdEJvdW5kcyIsIkNMQU1QIiwiYmluZFRleHR1cmVzV2l0aG91dFJUIiwic2V0VGV4dHVyZSIsImdsdHNVc2VkIiwiZ2VvbSIsIkRhdGUiLCJ1dGlscyIsImdldFRpbWUiLCJzdGFydFRpbWVfMSIsInZlbmRvcnMiLCJkZWxheSIsImlzSW50ZWdlciIsImlzRmluaXRlIiwiYWNjZXNzaWJsZVRhcmdldCIsImFjY2Vzc2libGUiLCJhY2Nlc3NpYmxlVGl0bGUiLCJhY2Nlc3NpYmxlSGludCIsInRhYkluZGV4IiwiX2FjY2Vzc2libGVBY3RpdmUiLCJfYWNjZXNzaWJsZURpdiIsImFjY2Vzc2libGVUeXBlIiwiYWNjZXNzaWJsZVBvaW50ZXJFdmVudHMiLCJhY2Nlc3NpYmxlQ2hpbGRyZW4iLCJyZW5kZXJJZCIsIkFjY2Vzc2liaWxpdHlNYW5hZ2VyIiwiX2hvb2tEaXYiLCJjcmVhdGVUb3VjaEhvb2siLCJkaXYiLCJESVZfVE9VQ0hfU0laRSIsIkRJVl9UT1VDSF9QT1NfWCIsIkRJVl9UT1VDSF9QT1NfWSIsInBvb2wiLCJkZWJ1ZyIsIl9vbktleURvd24iLCJfb25Nb3VzZU1vdmUiLCJfaXNBY3RpdmUiLCJfaXNNb2JpbGVBY2Nlc3NpYmlsaXR5IiwiYW5kcm9pZFVwZGF0ZUNvdW50IiwiYW5kcm9pZFVwZGF0ZUZyZXF1ZW5jeSIsImhvb2tEaXYiLCJESVZfSE9PS19TSVpFIiwiRElWX0hPT0tfUE9TX1giLCJESVZfSE9PS19QT1NfWSIsInRpdGxlIiwiYWN0aXZhdGUiLCJkZXN0cm95VG91Y2hIb29rIiwiZGVhY3RpdmF0ZSIsInVwZGF0ZUFjY2Vzc2libGVPYmplY3RzIiwiY2FwSGl0QXJlYSIsInVwZGF0ZURlYnVnSFRNTCIsImlubmVySFRNTCIsImJvcmRlclN0eWxlIiwiX29uQ2xpY2siLCJfb25Gb2N1cyIsIl9vbkZvY3VzT3V0IiwicG9pbnRlckV2ZW50cyIsImludGVyYWN0aW9uTWFuYWdlciIsImludGVyYWN0aW9uIiwiZGlzcGF0Y2hFdmVudCIsImV2ZW50RGF0YSIsImtleUNvZGUiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJJbnRlcmFjdGlvbkRhdGEiLCJyb3RhdGlvbkFuZ2xlIiwidHdpc3QiLCJ0YW5nZW50aWFsUHJlc3N1cmUiLCJvcmlnaW5hbEV2ZW50IiwiaXNQcmltYXJ5IiwiYnV0dG9uIiwidGlsdFgiLCJ0aWx0WSIsInBvaW50ZXJUeXBlIiwiZ2V0TG9jYWxQb3NpdGlvbiIsImdsb2JhbFBvcyIsImNvcHlFdmVudCIsIndoaWNoIiwiSW50ZXJhY3Rpb25FdmVudCIsInN0b3BwZWQiLCJzdG9wc1Byb3BhZ2F0aW5nQXQiLCJzdG9wUHJvcGFnYXRpb25IaW50IiwiY3VycmVudFRhcmdldCIsInN0b3BQcm9wYWdhdGlvbiIsIkludGVyYWN0aW9uVHJhY2tpbmdEYXRhIiwiX3BvaW50ZXJJZCIsIl9mbGFncyIsIkZMQUdTIiwiTk9ORSIsIl9kb1NldCIsInluIiwiZmxhZ3MiLCJPVkVSIiwiUklHSFRfRE9XTiIsIkxFRlRfRE9XTiIsImZyZWV6ZSIsIlRyZWVTZWFyY2giLCJfdGVtcFBvaW50IiwicmVjdXJzaXZlRmluZEhpdCIsImludGVyYWN0aW9uRXZlbnQiLCJoaXRUZXN0IiwiaGl0IiwiaW50ZXJhY3RpdmVQYXJlbnQiLCJoaXRUZXN0Q2hpbGRyZW4iLCJjaGlsZEhpdCIsImZpbmRIaXQiLCJpbnRlcmFjdGl2ZVRhcmdldCIsImN1cnNvciIsIl90cmFja2VkUG9pbnRlcnMiLCJoaXRUZXN0RXZlbnQiLCJJbnRlcmFjdGlvbk1hbmFnZXIiLCJhdXRvUHJldmVudERlZmF1bHQiLCJpbnRlcmFjdGlvbkZyZXF1ZW5jeSIsIm1vdXNlIiwiYWN0aXZlSW50ZXJhY3Rpb25EYXRhIiwiaW50ZXJhY3Rpb25EYXRhUG9vbCIsImludGVyYWN0aW9uRE9NRWxlbWVudCIsIm1vdmVXaGVuSW5zaWRlIiwiZXZlbnRzQWRkZWQiLCJ0aWNrZXJBZGRlZCIsIm1vdXNlT3ZlclJlbmRlcmVyIiwic3VwcG9ydHNUb3VjaEV2ZW50cyIsInN1cHBvcnRzUG9pbnRlckV2ZW50cyIsIm9uUG9pbnRlclVwIiwicHJvY2Vzc1BvaW50ZXJVcCIsIm9uUG9pbnRlckNhbmNlbCIsInByb2Nlc3NQb2ludGVyQ2FuY2VsIiwib25Qb2ludGVyRG93biIsInByb2Nlc3NQb2ludGVyRG93biIsIm9uUG9pbnRlck1vdmUiLCJwcm9jZXNzUG9pbnRlck1vdmUiLCJvblBvaW50ZXJPdXQiLCJwcm9jZXNzUG9pbnRlck92ZXJPdXQiLCJvblBvaW50ZXJPdmVyIiwiY3Vyc29yU3R5bGVzIiwicG9pbnRlciIsImN1cnJlbnRDdXJzb3JNb2RlIiwiZGVsYXllZEV2ZW50cyIsInNlYXJjaCIsIl90ZW1wRGlzcGxheU9iamVjdCIsIl91c2VTeXN0ZW1UaWNrZXIiLCJ1c2VTeXN0ZW1UaWNrZXIiLCJzZXRUYXJnZXRFbGVtZW50IiwiYWRkVGlja2VyTGlzdGVuZXIiLCJyZW1vdmVUaWNrZXJMaXN0ZW5lciIsImdsb2JhbFBvaW50IiwibGFzdE9iamVjdFJlbmRlcmVkIiwicHJvY2Vzc0ludGVyYWN0aXZlIiwicmVtb3ZlRXZlbnRzIiwiYWRkRXZlbnRzIiwidGlja2VyVXBkYXRlIiwibXNQb2ludGVyRW5hYmxlZCIsIm1zQ29udGVudFpvb21pbmciLCJfZGlkTW92ZSIsImludGVyYWN0aW9uRGF0YSIsImNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCIsInNldEN1cnNvck1vZGUiLCJldmVudFN0cmluZyIsImRlbGF5RGlzcGF0Y2hFdmVudCIsIm1hcFBvc2l0aW9uVG9Qb2ludCIsInBhcmVudEVsZW1lbnQiLCJyZXNvbHV0aW9uTXVsdGlwbGllciIsImRlbGF5ZWRMZW4iLCJkaXNwbGF5T2JqZWN0XzEiLCJub3JtYWxpemVUb1BvaW50ZXJEYXRhIiwiaXNOb3JtYWxpemVkIiwiY2FuY2VsYWJsZSIsImV2ZW50TGVuIiwiZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIiwiaXNSaWdodEJ1dHRvbiIsInRyYWNrZWRQb2ludGVycyIsInJpZ2h0RG93biIsImxlZnREb3duIiwib25Qb2ludGVyQ29tcGxldGUiLCJjYW5jZWxsZWQiLCJldmVudEFwcGVuZCIsInJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQiLCJ0cmFja2luZ0RhdGEiLCJpc1RvdWNoIiwiaXNNb3VzZSIsImlzTW91c2VUYXAiLCJpc0Rvd24iLCJvdmVyIiwibm9uZSIsInBvaW50ZXJFdmVudCIsImNsaWVudFgiLCJjbGllbnRZIiwiZ2xvYmFsWCIsImdsb2JhbFkiLCJub3JtYWxpemVkRXZlbnRzIiwiVG91Y2hFdmVudCIsImxpIiwicmFkaXVzWCIsInJhZGl1c1kiLCJsYXllclgiLCJsYXllclkiLCJNb3VzZUV2ZW50IiwidGVtcEV2ZW50IiwiQXBwbGljYXRpb24iLCJmb3JjZUNhbnZhcyIsInN0YWdlIiwiX3BsdWdpbnMiLCJzdGFnZU9wdGlvbnMiLCJyZXZlcnNlIiwiUmVzaXplUGx1Z2luIiwiZG9tIiwicXVldWVSZXNpemUiLCJfcmVzaXplVG8iLCJjYW5jZWxSZXNpemUiLCJfcmVzaXplSWQiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInJlc2l6ZVRvIiwiVEVNUF9SRUNUIiwiRXh0cmFjdCIsImV4dHJhY3QiLCJpbWFnZSIsInF1YWxpdHkiLCJiYXNlNjQiLCJ0b0RhdGFVUkwiLCJmbGlwWSIsImdlbmVyYXRlZCIsImNhbnZhc0J1ZmZlciIsIndlYmdsUGl4ZWxzIiwicmVhZFBpeGVscyIsImNhbnZhc0RhdGEiLCJhcnJheVBvc3REaXZpZGUiLCJwdXRJbWFnZURhdGEiLCJ0YXJnZXRfMSIsIl9ub29wIiwiZWFjaFNlcmllcyIsIml0ZXJhdG9yIiwiZGVmZXJOZXh0Iiwib25seU9uY2UiLCJjYWxsRm4iLCJfZGVmaW5lUHJvcGVydGllcyIsInVzZVhkciIsIlhEb21haW5SZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJfbm9vcCQxIiwiX3NldEZsYWciLCJTVEFUVVNfRkxBR1MiLCJEQVRBX1VSTCIsIl9nZXRFeHRlbnNpb24iLCJ0aW1lb3V0IiwibG9hZFR5cGUiLCJfZGV0ZXJtaW5lTG9hZFR5cGUiLCJ4aHJUeXBlIiwibWV0YWRhdGEiLCJ4aHIiLCJUWVBFIiwiVU5LTk9XTiIsInByb2dyZXNzQ2h1bmsiLCJfZGVxdWV1ZSIsIl9vbkxvYWRCaW5kaW5nIiwiX2VsZW1lbnRUaW1lciIsIl9ib3VuZENvbXBsZXRlIiwiX2JvdW5kT25FcnJvciIsIl9ib3VuZE9uUHJvZ3Jlc3MiLCJfb25Qcm9ncmVzcyIsIl9ib3VuZE9uVGltZW91dCIsIl9vblRpbWVvdXQiLCJfYm91bmRYaHJPbkVycm9yIiwiX3hock9uRXJyb3IiLCJfYm91bmRYaHJPblRpbWVvdXQiLCJfeGhyT25UaW1lb3V0IiwiX2JvdW5kWGhyT25BYm9ydCIsIl94aHJPbkFib3J0IiwiX2JvdW5kWGhyT25Mb2FkIiwiX3hock9uTG9hZCIsIm9uU3RhcnQiLCJvblByb2dyZXNzIiwib25Db21wbGV0ZSIsIm9uQWZ0ZXJNaWRkbGV3YXJlIiwic2V0RXh0ZW5zaW9uTG9hZFR5cGUiLCJleHRuYW1lIiwic2V0RXh0TWFwIiwiX2xvYWRUeXBlTWFwIiwic2V0RXh0ZW5zaW9uWGhyVHlwZSIsIl94aHJUeXBlTWFwIiwiX3Byb3RvIiwiX2NsZWFyRXZlbnRzIiwiX2ZpbmlzaCIsImFib3J0IiwieGRyIiwiRU1QVFlfR0lGIiwiZmlyc3RDaGlsZCIsImlzTG9hZGluZyIsImlzQ29tcGxldGUiLCJMT0FESU5HIiwiX2RldGVybWluZUNyb3NzT3JpZ2luIiwiTE9BRF9UWVBFIiwiSU1BR0UiLCJfbG9hZEVsZW1lbnQiLCJBVURJTyIsIl9sb2FkU291cmNlRWxlbWVudCIsIlZJREVPIiwiWEhSIiwiX2xvYWRYZHIiLCJfbG9hZFhociIsIl9oYXNGbGFnIiwib250aW1lb3V0Iiwib25wcm9ncmVzcyIsIkNPTVBMRVRFIiwibG9hZEVsZW1lbnQiLCJza2lwU291cmNlIiwiQXVkaW8iLCJpc0NvY29vbkpTIiwibWltZVR5cGVzIiwibWltZVR5cGUiLCJfY3JlYXRlU291cmNlIiwiX21pbWVUeXBlcyIsIl9kZXRlcm1pbmVYaHJUeXBlIiwib3BlbiIsIlhIUl9SRVNQT05TRV9UWVBFIiwiSlNPTiIsIkRPQ1VNRU5UIiwicmVzcG9uc2VUeXBlIiwiVEVYVCIsInNlbmQiLCJub2RlTmFtZSIsImxlbmd0aENvbXB1dGFibGUiLCJsb2FkZWQiLCJ0b3RhbCIsInJlcVR5cGUiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwidGV4dCIsInJlc3BvbnNlVGV4dCIsIkJVRkZFUiIsIkRPTVBhcnNlciIsImRvbXBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsIlhNTCIsInJlc3BvbnNlIiwicmVzcG9uc2VVUkwiLCJvcmlnaW4iLCJob3N0IiwiaXNEYXRhVXJsIiwic2xhc2hJbmRleCIsInF1ZXJ5U3RhcnQiLCJoYXNoU3RhcnQiLCJfZ2V0TWltZUZyb21YaHJUeXBlIiwiQkxPQiIsIkRFRkFVTFQiLCJnaWYiLCJwbmciLCJibXAiLCJqcGciLCJqcGVnIiwidGlmIiwidGlmZiIsIndlYnAiLCJ0Z2EiLCJtcDMiLCJvZ2ciLCJ3YXYiLCJtcDQiLCJ3ZWJtIiwieGh0bWwiLCJodG1sIiwiaHRtIiwieG1sIiwidG14IiwidHN4IiwianNvbiIsInR4dCIsInR0ZiIsIm90ZiIsIlVybCIsIlVSTCIsIndlYmtpdFVSTCIsImNhY2hpbmciLCJwYXJzaW5nIiwiQmxvYiIsImNyZWF0ZU9iamVjdFVSTCIsImJsb2IiLCJyZXZva2VPYmplY3RVUkwiLCJnZXRSZXNwb25zZUhlYWRlciIsImlueCIsImJ5dGVidWZmZXIiLCJlbmNvZGVkQ2hhckluZGV4ZXMiLCJqbngiLCJjaGFyQ29kZUF0IiwiX2pueCIsImVuY29kZUJpbmFyeSIsInJneEV4dHJhY3RVcmxIYXNoIiwiTG9hZGVyIiwiYmFzZVVybCIsImNvbmN1cnJlbmN5IiwicHJvZ3Jlc3MiLCJsb2FkaW5nIiwiZGVmYXVsdFF1ZXJ5U3RyaW5nIiwiX2JlZm9yZU1pZGRsZXdhcmUiLCJfYWZ0ZXJNaWRkbGV3YXJlIiwiX3Jlc291cmNlc1BhcnNpbmciLCJfYm91bmRMb2FkUmVzb3VyY2UiLCJfbG9hZFJlc291cmNlIiwiX3F1ZXVlIiwid29ya2VyIiwid29ya2VycyIsIl90YXNrcyIsInNhdHVyYXRlZCIsInVuc2F0dXJhdGVkIiwiZW1wdHkiLCJkcmFpbiIsIl9pbnNlcnQiLCJraWxsIiwidGFzayIsInJ1bm5pbmciLCJpZGxlIiwicmVzdW1lIiwiaW5zZXJ0QXRGcm9udCIsIm9uTG9hZCIsIl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZSIsInByZSIsIl9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlIiwidXNlIiwicGFyZW50UmVzb3VyY2UiLCJfcHJlcGFyZVVybCIsImluY29tcGxldGVDaGlsZHJlbiIsIl9pMiIsImVhY2hDaHVuayIsIl9pMyIsIl9vblN0YXJ0IiwiX29uQ29tcGxldGUiLCJjaHVuayIsImhhc2giLCJkZXF1ZXVlIiwiX3RoaXMyIiwiX29uTG9hZCIsIl90aGlzMyIsIkxvYWRlclJlc291cmNlIiwiVGV4dHVyZUxvYWRlciIsIkFwcExvYWRlclBsdWdpbiIsInNoYXJlZExvYWRlciIsImxvYWRlciIsIlRFWFRfR1JBRElFTlQiLCJQYXJ0aWNsZUNvbnRhaW5lciIsIm1heFNpemUiLCJwcm9wZXJ0aWVzIiwiYmF0Y2hTaXplIiwiX3Byb3BlcnRpZXMiLCJfbWF4U2l6ZSIsIl9iYXRjaFNpemUiLCJfYnVmZmVycyIsIl9idWZmZXJVcGRhdGVJRHMiLCJzZXRQcm9wZXJ0aWVzIiwidGludFJnYiIsInBhcnRpY2xlIiwic21hbGxlc3RDaGlsZEluZGV4IiwiUGFydGljbGVCdWZmZXIiLCJkeW5hbWljUHJvcGVydHlGbGFncyIsImR5bmFtaWNQcm9wZXJ0aWVzIiwic3RhdGljUHJvcGVydGllcyIsInByb3BlcnR5IiwiYXR0cmlidXRlTmFtZSIsInVwbG9hZEZ1bmN0aW9uIiwic3RhdGljU3RyaWRlIiwic3RhdGljQnVmZmVyIiwic3RhdGljRGF0YSIsInN0YXRpY0RhdGFVaW50MzIiLCJkeW5hbWljU3RyaWRlIiwiZHluYW1pY0J1ZmZlciIsImR5bmFtaWNEYXRhIiwiZHluYW1pY0RhdGFVaW50MzIiLCJpbml0QnVmZmVycyIsImR5bmFtaWNPZmZzZXQiLCJkeW5CdWZmZXIiLCJzdGF0aWNPZmZzZXQiLCJzdGF0QnVmZmVyIiwidXBsb2FkRHluYW1pYyIsImFtb3VudCIsInVwbG9hZFN0YXRpYyIsIlBhcnRpY2xlUmVuZGVyZXIiLCJ1cGxvYWRWZXJ0aWNlcyIsInVwbG9hZFBvc2l0aW9uIiwidXBsb2FkUm90YXRpb24iLCJ1cGxvYWRVdnMiLCJ1cGxvYWRUaW50IiwidG90YWxDaGlsZHJlbiIsImdlbmVyYXRlQnVmZmVycyIsInVDb2xvciIsInVwZGF0ZVN0YXRpYyIsIl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIiLCJiaWQiLCJzcHJpdGVQb3NpdGlvbiIsInNwcml0ZVJvdGF0aW9uIiwidGV4dHVyZVV2cyIsImRlZmF1bHRTdHlsZSIsImFsaWduIiwiYnJlYWtXb3JkcyIsImRyb3BTaGFkb3ciLCJkcm9wU2hhZG93QWxwaGEiLCJkcm9wU2hhZG93QW5nbGUiLCJkcm9wU2hhZG93Qmx1ciIsImRyb3BTaGFkb3dDb2xvciIsImRyb3BTaGFkb3dEaXN0YW5jZSIsImZpbGxHcmFkaWVudFR5cGUiLCJMSU5FQVJfVkVSVElDQUwiLCJmaWxsR3JhZGllbnRTdG9wcyIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImZvbnRTdHlsZSIsImZvbnRWYXJpYW50IiwiZm9udFdlaWdodCIsImxldHRlclNwYWNpbmciLCJsaW5lSGVpZ2h0IiwibGluZUpvaW4iLCJzdHJva2UiLCJzdHJva2VUaGlja25lc3MiLCJ0ZXh0QmFzZWxpbmUiLCJ3aGl0ZVNwYWNlIiwid29yZFdyYXAiLCJ3b3JkV3JhcFdpZHRoIiwibGVhZGluZyIsImdlbmVyaWNGb250RmFtaWxpZXMiLCJUZXh0U3R5bGUiLCJzdHlsZUlEIiwiZGVlcENvcHlQcm9wZXJ0aWVzIiwiY2xvbmVkUHJvcGVydGllcyIsIl9hbGlnbiIsIl9icmVha1dvcmRzIiwiX2Ryb3BTaGFkb3ciLCJfZHJvcFNoYWRvd0FscGhhIiwiX2Ryb3BTaGFkb3dBbmdsZSIsIl9kcm9wU2hhZG93Qmx1ciIsIl9kcm9wU2hhZG93Q29sb3IiLCJvdXRwdXRDb2xvciIsImdldENvbG9yIiwiX2Ryb3BTaGFkb3dEaXN0YW5jZSIsIl9maWxsIiwiX2ZpbGxHcmFkaWVudFR5cGUiLCJfZmlsbEdyYWRpZW50U3RvcHMiLCJhcnJheTEiLCJhcnJheTIiLCJhcmVBcnJheXNFcXVhbCIsIl9mb250RmFtaWx5IiwiX2ZvbnRTaXplIiwiX2ZvbnRTdHlsZSIsIl9mb250VmFyaWFudCIsIl9mb250V2VpZ2h0IiwiX2xldHRlclNwYWNpbmciLCJfbGluZUhlaWdodCIsIl9sZWFkaW5nIiwiX2xpbmVKb2luIiwiX21pdGVyTGltaXQiLCJfcGFkZGluZyIsIl9zdHJva2UiLCJfc3Ryb2tlVGhpY2tuZXNzIiwiX3RleHRCYXNlbGluZSIsIl90cmltIiwiX3doaXRlU3BhY2UiLCJfd29yZFdyYXAiLCJfd29yZFdyYXBXaWR0aCIsInRvRm9udFN0cmluZyIsImZvbnRTaXplU3RyaW5nIiwiZm9udEZhbWlsaWVzIiwiZ2V0U2luZ2xlQ29sb3IiLCJwcm9wZXJ0eU9iaiIsInByb3AiLCJUZXh0TWV0cmljcyIsImxpbmVzIiwibGluZVdpZHRocyIsIm1heExpbmVXaWR0aCIsImZvbnRQcm9wZXJ0aWVzIiwibWVhc3VyZVRleHQiLCJfY2FudmFzIiwiZm9udCIsIm1lYXN1cmVGb250IiwiYXNjZW50IiwiY29sbGFwc2VTcGFjZXMiLCJjb2xsYXBzZU5ld2xpbmVzIiwiY2FuUHJlcGVuZFNwYWNlcyIsInRva2VucyIsInRva2VuaXplIiwidG9rZW4iLCJpc05ld2xpbmUiLCJhZGRMaW5lIiwiY3VycklzQnJlYWtpbmdTcGFjZSIsImlzQnJlYWtpbmdTcGFjZSIsImxhc3RJc0JyZWFraW5nU3BhY2UiLCJ0b2tlbldpZHRoIiwiZ2V0RnJvbUNhY2hlIiwiY2FuQnJlYWtXb3JkcyIsImNoYXJhY3RlcnMiLCJ3b3JkV3JhcFNwbGl0IiwiY2hhciIsIm5leHRDaGFyIiwibGFzdENoYXIiLCJjYW5CcmVha0NoYXJzIiwiY2hhcmFjdGVyV2lkdGgiLCJpc0xhc3RUb2tlbiIsIm5ld0xpbmUiLCJ0cmltUmlnaHQiLCJzcGFjaW5nIiwiX25ld2xpbmVzIiwiX2JyZWFraW5nU3BhY2VzIiwiX3Rva2VuIiwiX2NoYXIiLCJfbmV4dENoYXIiLCJfaW5kZXgiLCJfZm9udHMiLCJkZXNjZW50IiwiX2NvbnRleHQiLCJtZXRyaWNzU3RyaW5nIiwiTUVUUklDU19TVFJJTkciLCJCQVNFTElORV9TWU1CT0wiLCJiYXNlbGluZSIsIkJBU0VMSU5FX01VTFRJUExJRVIiLCJmaWxsVGV4dCIsImltYWdlZGF0YSIsImlkeCIsImNsZWFyTWV0cmljcyIsImRlZmF1bHREZXN0cm95T3B0aW9ucyIsIlRleHQiLCJvd25DYW52YXMiLCJfb3duQ2FudmFzIiwiX2F1dG9SZXNvbHV0aW9uIiwiX3RleHQiLCJfc3R5bGUiLCJfc3R5bGVMaXN0ZW5lciIsIl9mb250IiwibG9jYWxTdHlsZUlEIiwidXBkYXRlVGV4dCIsInJlc3BlY3REaXJ0eSIsImxpbmVQb3NpdGlvblgiLCJsaW5lUG9zaXRpb25ZIiwibWVhc3VyZWQiLCJwYXNzZXNDb3VudCIsImlzU2hhZG93UGFzcyIsImRzT2Zmc2V0VGV4dCIsImRzT2Zmc2V0U2hhZG93Iiwic3Ryb2tlU3R5bGUiLCJzaGFkb3dCbHVyIiwic2hhZG93T2Zmc2V0WCIsInNoYWRvd09mZnNldFkiLCJfZ2VuZXJhdGVGaWxsU3R5bGUiLCJkcmF3TGV0dGVyU3BhY2luZyIsImlzU3Ryb2tlIiwiY3VycmVudFBvc2l0aW9uIiwic3RyaW5nQXJyYXkiLCJwcmV2aW91c1dpZHRoIiwiY3VycmVudFdpZHRoIiwiY3VycmVudENoYXIiLCJzdHJva2VUZXh0IiwidHJpbW1lZCIsIm1ldHJpY3MiLCJncmFkaWVudCIsImRyb3BTaGFkb3dDb3JyZWN0aW9uIiwibGVuZ3RoUGx1czEiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImxhc3RJdGVyYXRpb25TdG9wIiwiZ3JhZFN0b3BMaW5lSGVpZ2h0IiwidGhpc0xpbmVUb3AiLCJnbG9iYWxTdG9wIiwiY2xhbXBlZFN0b3AiLCJhZGRDb2xvclN0b3AiLCJ0b3RhbEl0ZXJhdGlvbnMiLCJjdXJyZW50SXRlcmF0aW9uIiwiQ291bnRMaW1pdGVyIiwibWF4SXRlbXNQZXJGcmFtZSIsIml0ZW1zTGVmdCIsImJlZ2luRnJhbWUiLCJhbGxvd2VkVG9VcGxvYWQiLCJmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMiLCJfdGV4dHVyZXMiLCJmaW5kQmFzZVRleHR1cmUiLCJmaW5kVGV4dHVyZSIsImRyYXdUZXh0IiwiX2hlbHBlciIsImNhbGN1bGF0ZVRleHRTdHlsZSIsImZpbmRUZXh0IiwiZmluZFRleHRTdHlsZSIsIkJhc2VQcmVwYXJlIiwibGltaXRlciIsInVwbG9hZEhvb2tIZWxwZXIiLCJhZGRIb29rcyIsInVwbG9hZEhvb2tzIiwiY29tcGxldGVzIiwidGlja2luZyIsImRlbGF5ZWRUaWNrIiwicHJlcGFyZUl0ZW1zIiwicmVnaXN0ZXJGaW5kSG9vayIsInJlZ2lzdGVyVXBsb2FkSG9vayIsImRvbmUiLCJ0aWNrIiwidXBsb2FkZWQiLCJhZGRIb29rIiwidXBsb2FkSG9vayIsInVwbG9hZEJhc2VUZXh0dXJlcyIsInVwbG9hZEdyYXBoaWNzIiwiZmluZEdyYXBoaWNzIiwiUHJlcGFyZSIsIlRpbWVMaW1pdGVyIiwibWF4TWlsbGlzZWNvbmRzIiwiZnJhbWVTdGFydCIsIlNwcml0ZXNoZWV0IiwicmVzb2x1dGlvbkZpbGVuYW1lIiwiYW5pbWF0aW9ucyIsIl91cGRhdGVSZXNvbHV0aW9uIiwiX2ZyYW1lcyIsImZyYW1lcyIsIl9mcmFtZUtleXMiLCJfYmF0Y2hJbmRleCIsIl9jYWxsYmFjayIsIm1ldGEiLCJCQVRDSF9TSVpFIiwiX3Byb2Nlc3NGcmFtZXMiLCJfcHJvY2Vzc0FuaW1hdGlvbnMiLCJfcGFyc2VDb21wbGV0ZSIsIl9uZXh0QmF0Y2giLCJpbml0aWFsRnJhbWVJbmRleCIsImZyYW1lSW5kZXgiLCJtYXhGcmFtZXMiLCJzb3VyY2VTaXplIiwicm90YXRlZCIsInNwcml0ZVNvdXJjZVNpemUiLCJhbmltTmFtZSIsImZyYW1lTmFtZSIsIlNwcml0ZXNoZWV0TG9hZGVyIiwiaW1hZ2VSZXNvdXJjZU5hbWUiLCJsb2FkT3B0aW9ucyIsImltYWdlTWV0YWRhdGEiLCJyZXNvdXJjZVBhdGgiLCJnZXRSZXNvdXJjZVBhdGgiLCJzcHJpdGVzaGVldCIsIlRpbGluZ1Nwcml0ZSIsInRpbGVUcmFuc2Zvcm0iLCJ1dlJlc3BlY3RBbmNob3IiLCJUaWxpbmdTcHJpdGVSZW5kZXJlciIsInNpbXBsZVNoYWRlciIsInRzIiwidXYiLCJIIiwidU1hcENvb3JkIiwidVRyYW5zZm9ybSIsIk1lc2hCYXRjaFV2cyIsIl9idWZmZXJVcGRhdGVJZCIsIl90ZXh0dXJlVXBkYXRlSWQiLCJ0ZW1wUG9seWdvbiIsIk1lc2giLCJ2ZXJ0ZXhEaXJ0eSIsImJhdGNoVXZzIiwiX3JlbmRlclRvQmF0Y2giLCJfcmVuZGVyRGVmYXVsdCIsImNhbGN1bGF0ZVV2cyIsIm1hdGVyaWFsIiwidmVydGV4RGlydHlJZCIsImdlb21VdnMiLCJzdGVwIiwiaW5kMCIsImluZDEiLCJpbmQyIiwiTWVzaE1hdGVyaWFsIiwidVRleHR1cmVNYXRyaXgiLCJfY29sb3JEaXJ0eSIsIl9hbHBoYSIsIk1lc2hHZW9tZXRyeSIsInZlcnRpY2VzQnVmZmVyIiwidXZzQnVmZmVyIiwiX3VwZGF0ZUlkIiwiQml0bWFwRm9udERhdGEiLCJpbmZvIiwiY29tbW9uIiwicGFnZSIsImtlcm5pbmciLCJUZXh0Rm9ybWF0IiwicmF3RGF0YSIsImNoYXJzIiwia2VybmluZ3MiLCJhdHRyaWJ1dGVMaXN0IiwiaXRlbURhdGEiLCJzdHJWYWx1ZSIsImZsb2F0VmFsdWUiLCJmYWNlIiwiZmlsZSIsInhvZmZzZXQiLCJ5b2Zmc2V0IiwieGFkdmFuY2UiLCJmaXJzdCIsInNlY29uZCIsIlhNTEZvcm1hdCIsIlhNTERvY3VtZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJYTUxTdHJpbmdGb3JtYXQiLCJ4bWxUeHQiLCJmb3JtYXRzIiwiYXV0b0RldGVjdEZvcm1hdCIsImdlbmVyYXRlRmlsbFN0eWxlIiwiZHJhd0dseXBoIiwiQml0bWFwRm9udCIsInBhZ2VUZXh0dXJlcyIsInBhZ2VfMSIsIl9jIiwieE9mZnNldCIsInlPZmZzZXQiLCJ4QWR2YW5jZSIsIl9kIiwiaW5zdGFsbCIsImZvbnREYXRhIiwiYXZhaWxhYmxlIiwidW5pbnN0YWxsIiwidGV4dFN0eWxlIiwiZGVmYXVsdE9wdGlvbnMiLCJ0ZXh0dXJlV2lkdGgiLCJ0ZXh0dXJlSGVpZ2h0IiwiY2hhcnNMaXN0Iiwic3RhcnRDb2RlIiwiZW5kQ29kZSIsImpfMSIsInJlc29sdmVDaGFyYWN0ZXJzIiwicG9zaXRpb25YIiwicG9zaXRpb25ZIiwibWF4Q2hhckhlaWdodCIsInRleHR1cmVHbHlwaFdpZHRoIiwiQUxQSEEiLCJOVU1FUklDIiwiQUxQSEFOVU1FUklDIiwiQVNDSUkiLCJwYWdlTWVzaERhdGFQb29sIiwiY2hhclJlbmRlckRhdGFQb29sIiwiQml0bWFwVGV4dCIsIl91cGdyYWRlU3R5bGUiLCJzdHlsZURlZmF1bHRzIiwibWF4V2lkdGgiLCJmb250TmFtZSIsIl9hY3RpdmVQYWdlc01lc2hEYXRhIiwiX3RleHRXaWR0aCIsIl90ZXh0SGVpZ2h0IiwiX2ZvbnROYW1lIiwiX21heFdpZHRoIiwiX21heExpbmVIZWlnaHQiLCJfdGV4dHVyZUNhY2hlIiwidGV4dExlbmd0aCIsInByZXZDaGFyQ29kZSIsImxhc3RMaW5lV2lkdGgiLCJsYXN0QnJlYWtQb3MiLCJsYXN0QnJlYWtXaWR0aCIsInNwYWNlc1JlbW92ZWQiLCJtYXhMaW5lSGVpZ2h0IiwiY2hhckNvZGUiLCJjaGFyRGF0YSIsImNoYXJSZW5kZXJEYXRhIiwibGluZUFsaWduT2Zmc2V0cyIsImFsaWduT2Zmc2V0IiwibGVuQ2hhcnMiLCJwYWdlc01lc2hEYXRhIiwibmV3UGFnZXNNZXNoRGF0YSIsImFjdGl2ZVBhZ2VzTWVzaERhdGEiLCJiYXNlVGV4dHVyZVVpZCIsInBhZ2VNZXNoRGF0YSIsInZlcnRleENvdW50IiwidXZzQ291bnQiLCJtZXNoIiwidG90YWxfMSIsInhQb3MiLCJ5UG9zIiwicGFnZU1lc2giLCJ0ZXh0dXJlRnJhbWUiLCJhbmNob3JPZmZzZXRYIiwiYW5jaG9yT2Zmc2V0WSIsImlfMiIsInRleHR1cmVCdWZmZXIiLCJ2YWxpZGF0ZSIsInZhbHVlU3BsaXQiLCJyZWdpc3RlckZvbnQiLCJCaXRtYXBGb250TG9hZGVyIiwiZ2V0QmFzZVVybCIsInBhZ2VGaWxlIiwiYml0bWFwRm9udCIsImJpdG1hcFJlc291cmNlIiwicmVzVXJsIiwiZGlybmFtZSIsImRpciIsIkFscGhhRmlsdGVyIiwiZGVmYXVsdFZlcnRleCIsInVBbHBoYSIsIkdBVVNTSUFOX1ZBTFVFUyIsIjUiLCI3IiwiOSIsIjExIiwiMTMiLCIxNSIsIkJsdXJGaWx0ZXJQYXNzIiwiaG9yaXpvbnRhbCIsInN0cmVuZ3RoIiwia2VybmVsU2l6ZSIsInZlcnRTcmMiLCJoYWxmTGVuZ3RoIiwidmVydFNvdXJjZSIsImJsdXJMb29wIiwiYmx1ciIsImdlbmVyYXRlQmx1clZlcnRTb3VyY2UiLCJmcmFnU3JjIiwia2VybmVsIiwiZnJhZ1NvdXJjZSIsImdlbmVyYXRlQmx1ckZyYWdTb3VyY2UiLCJfcXVhbGl0eSIsInBhc3NlcyIsInJlbmRlclRhcmdldCIsIkJMSVQiLCJCbHVyRmlsdGVyIiwiYmx1clhGaWx0ZXIiLCJibHVyWUZpbHRlciIsInJlcGVhdEVkZ2VQaXhlbHMiLCJ4U3RyZW5ndGgiLCJ5U3RyZW5ndGgiLCJ1cGRhdGVQYWRkaW5nIiwiX3JlcGVhdEVkZ2VQaXhlbHMiLCJDb2xvck1hdHJpeEZpbHRlciIsImRlZmF1bHRGaWx0ZXJWZXJ0ZXgiLCJfbG9hZE1hdHJpeCIsIm11bHRpcGx5IiwibmV3TWF0cml4IiwiX211bHRpcGx5IiwiX2NvbG9yTWF0cml4IiwiYnJpZ2h0bmVzcyIsImdyZXlzY2FsZSIsImJsYWNrQW5kV2hpdGUiLCJodWUiLCJjb3NSIiwic2luUiIsInNxclciLCJjb250cmFzdCIsInNhdHVyYXRlIiwiZGVzYXR1cmF0ZSIsIm5lZ2F0aXZlIiwic2VwaWEiLCJ0ZWNobmljb2xvciIsInBvbGFyb2lkIiwidG9CR1IiLCJrb2RhY2hyb21lIiwiYnJvd25pIiwidmludGFnZSIsImNvbG9yVG9uZSIsImRlc2F0dXJhdGlvbiIsInRvbmVkIiwibGlnaHRDb2xvciIsImRhcmtDb2xvciIsImxSIiwibEciLCJsQiIsImRSIiwiZEciLCJkQiIsIm5pZ2h0IiwiaW50ZW5zaXR5IiwicHJlZGF0b3IiLCJsc2QiLCJncmF5c2NhbGUiLCJEaXNwbGFjZW1lbnRGaWx0ZXIiLCJtYXBTYW1wbGVyIiwiZmlsdGVyTWF0cml4IiwibGVuWCIsImxlblkiLCJGWEFBRmlsdGVyIiwiTm9pc2VGaWx0ZXIiLCJub2lzZSIsInNlZWQiLCJyYW5kb20iLCJ1Tm9pc2UiLCJ1U2VlZCIsIl90ZW1wTWF0cml4IiwiQ2FjaGVEYXRhIiwidGV4dHVyZUNhY2hlSWQiLCJvcmlnaW5hbFJlbmRlciIsIm9yaWdpbmFsUmVuZGVyQ2FudmFzIiwib3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMiLCJvcmlnaW5hbEdldExvY2FsQm91bmRzIiwib3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0iLCJvcmlnaW5hbERlc3Ryb3kiLCJvcmlnaW5hbE1hc2siLCJvcmlnaW5hbEZpbHRlckFyZWEiLCJvcmlnaW5hbENvbnRhaW5zUG9pbnQiLCJjYWNoZUFzQml0bWFwIiwiX2NhY2hlQXNCaXRtYXAiLCJfY2FjaGVEYXRhIiwicmVuZGVyQ2FudmFzIiwiX3JlbmRlckNhY2hlZCIsIl9yZW5kZXJDYWNoZWRDYW52YXMiLCJfY2FjaGVBc0JpdG1hcERlc3Ryb3kiLCJfZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QiLCJfaW5pdENhY2hlZERpc3BsYXlPYmplY3QiLCJjYWNoZUFscGhhIiwiY2FjaGVkUmVuZGVyVGV4dHVyZSIsImNhY2hlZFNvdXJjZUZyYW1lIiwiY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybSIsIl9jYWxjdWxhdGVDYWNoZWRCb3VuZHMiLCJfZ2V0Q2FjaGVkTG9jYWxCb3VuZHMiLCJjYWNoZWRTcHJpdGUiLCJfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMiLCJfcmVuZGVyQ2FudmFzIiwiY2FjaGVkUmVuZGVyVGFyZ2V0IiwiX3Byb2pUcmFuc2Zvcm0iLCJkZWVwIiwiZ2V0Q2hpbGRCeU5hbWUiLCJQbGFuZUdlb21ldHJ5Iiwic2VnV2lkdGgiLCJzZWdIZWlnaHQiLCJzZWdtZW50c1giLCJzZWdtZW50c1kiLCJzaXplWCIsInNpemVZIiwidG90YWxTdWIiLCJ4cG9zIiwieXBvcyIsInZhbHVlMiIsInZhbHVlMyIsInZhbHVlNCIsIlJvcGVHZW9tZXRyeSIsInRleHR1cmVTY2FsZSIsInVwZGF0ZVZlcnRpY2VzIiwibmV4dFBvaW50IiwicGVycFgiLCJwZXJwWSIsInBlcnBMZW5ndGgiLCJTaW1wbGVSb3BlIiwicm9wZUdlb21ldHJ5IiwibWVzaE1hdGVyaWFsIiwiU2ltcGxlUGxhbmUiLCJ2ZXJ0aWNlc1giLCJ2ZXJ0aWNlc1kiLCJwbGFuZUdlb21ldHJ5IiwidGV4dHVyZVVwZGF0ZWQiLCJTaW1wbGVNZXNoIiwiTmluZVNsaWNlUGxhbmUiLCJsZWZ0V2lkdGgiLCJ0b3BIZWlnaHQiLCJyaWdodFdpZHRoIiwiYm90dG9tSGVpZ2h0IiwiX29yaWdXaWR0aCIsIl9vcmlnSGVpZ2h0IiwiX2xlZnRXaWR0aCIsIl9yaWdodFdpZHRoIiwiX3RvcEhlaWdodCIsIl9ib3R0b21IZWlnaHQiLCJfcmVmcmVzaCIsInVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcyIsIl9nZXRNaW5TY2FsZSIsInVwZGF0ZVZlcnRpY2FsVmVydGljZXMiLCJzY2FsZVciLCJzY2FsZUgiLCJfdXZ3IiwiX3V2aCIsIkFuaW1hdGVkU3ByaXRlIiwiX2R1cmF0aW9ucyIsImFuaW1hdGlvblNwZWVkIiwibG9vcCIsInVwZGF0ZUFuY2hvciIsIm9uRnJhbWVDaGFuZ2UiLCJvbkxvb3AiLCJfY3VycmVudFRpbWUiLCJfcGxheWluZyIsIl9wcmV2aW91c0ZyYW1lIiwiZ290b0FuZFN0b3AiLCJmcmFtZU51bWJlciIsInByZXZpb3VzRnJhbWUiLCJjdXJyZW50RnJhbWUiLCJnb3RvQW5kUGxheSIsImVsYXBzZWQiLCJsYWciLCJmcm9tRnJhbWVzIiwiZnJvbUltYWdlcyIsImltYWdlcyIsInY1IiwidXNlRGVwcmVjYXRlZCIsIlRyYW5zZm9ybVN0YXRpYyIsIlRyYW5zZm9ybUJhc2UiLCJUUkFOU0ZPUk1fTU9ERSIsIlNUQVRJQyIsIkRZTkFNSUMiLCJXZWJHTFJlbmRlcmVyIiwiRmlsdGVyTWFuYWdlciIsIkNhbnZhc1RpbnRlciIsImNhbnZhc1V0aWxzIiwiR3JvdXBEOCIsImFjY2Vzc2liaWxpdHkiLCJwcmVwYXJlIiwiQ2FudmFzUHJlcGFyZSIsIkNhbnZhc0V4dHJhY3QiLCJleHRyYXMiLCJmcm9tRnJhbWUiLCJmcmFtZUlkIiwiZnJvbUltYWdlIiwiaW1hZ2VJZCIsImdldFN2Z1NpemUiLCJQbGFuZSIsIlJvcGUiLCJSYXdNZXNoIiwiQ2FudmFzTWVzaFJlbmRlcmVyIiwiTWVzaFJlbmRlcmVyIiwicGFydGljbGVzIiwibG9hZGVycyIsImJpdG1hcEZvbnRQYXJzZXIiLCJwYXJzZUJpdG1hcEZvbnREYXRhIiwic3ByaXRlc2hlZXRQYXJzZXIiLCJhZGRQaXhpTWlkZGxld2FyZSIsIm1pZGRsZXdhcmUiLCJldmVudFRvU2lnbmFsIiwic2lnbmFsIiwiX3JlbmRlcldlYkdMIiwicmVuZGVyV2ViR0wiLCJyZW5kZXJBZHZhbmNlZFdlYkdMIiwiQmFzZVRleHR1cmVBbnkiLCJsb2FkU291cmNlIiwiYmFzZVRleHR1cmVJZERlcHJlY2F0aW9uIiwiaGFzTG9hZGVkIiwiX2lkIiwiZnJvbUNhbnZhcyIsImZyb21TVkciLCJjb3B5Iiwic2V0U3RhdGUiLCJnZXRSZW5kZXJUYXJnZXQiLCJfY2xlYXIiLCJyZXR1cm5SZW5kZXJUYXJnZXQiLCJjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeCIsImNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeCIsInRyYW5zbGF0ZVNjYWxlWCIsInRyYW5zbGF0ZVNjYWxlWSIsIkJsdXJYRmlsdGVyIiwiQmx1cllGaWx0ZXIiLCJTcHJpdGVBbnkiLCJUZXh0dXJlQW55IiwiR3JhcGhpY3NBbnkiLCJzcHJpdGVGcm9tIiwidGV4dHVyZUZyb20iLCJnZW5lcmF0ZUNhbnZhc1RleHR1cmUiLCJmcm9tVmlkZW8iLCJtaXhpbnMiLCJkZWxheU1peGluIiwicGVyZm9ybU1peGlucyIsIlZFUlNJT04iLCJub2RlVHlwZSIsImZyZWVHbG9iYWwiLCJwdW55Y29kZSIsIm1heEludCIsImJhc2UiLCJyZWdleFB1bnljb2RlIiwicmVnZXhOb25BU0NJSSIsInJlZ2V4U2VwYXJhdG9ycyIsImVycm9ycyIsInN0cmluZ0Zyb21DaGFyQ29kZSIsIm1hcERvbWFpbiIsInBhcnRzIiwidWNzMmRlY29kZSIsImV4dHJhIiwiY291bnRlciIsInVjczJlbmNvZGUiLCJkaWdpdFRvQmFzaWMiLCJkaWdpdCIsImFkYXB0IiwibnVtUG9pbnRzIiwiZmlyc3RUaW1lIiwiYmFzZU1pbnVzVE1pbiIsImRlY29kZSIsImJhc2ljIiwib2xkaSIsImJhc2VNaW51c1QiLCJjb2RlUG9pbnQiLCJpbnB1dExlbmd0aCIsImJpYXMiLCJlbmNvZGUiLCJoYW5kbGVkQ1BDb3VudCIsImJhc2ljTGVuZ3RoIiwiY3VycmVudFZhbHVlIiwiaGFuZGxlZENQQ291bnRQbHVzT25lIiwicU1pbnVzVCIsInFzIiwic2VwIiwiZXEiLCJyZWdleHAiLCJtYXhLZXlzIiwia3N0ciIsInZzdHIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJzdHJpbmdpZnlQcmltaXRpdmUiLCJrcyIsInN0cmluZ2lmeSIsIlNBVCIsIlZlY3RvciIsInNldFBvaW50cyIsIkJveCIsIlJlc3BvbnNlIiwicGVycCIsIm5vcm1hbGl6ZSIsInByb2plY3QiLCJhbXQiLCJkb3QiLCJwcm9qZWN0TiIsInJlZmxlY3QiLCJheGlzIiwicmVmbGVjdE4iLCJnZXRBQUJCIiwidG9Qb2x5Z29uIiwiY2FsY1BvaW50cyIsImVkZ2VzIiwibm9ybWFscyIsIl9yZWNhbGMiLCJzZXRBbmdsZSIsImNhbGNQb2ludCIsInhNaW4iLCJ5TWluIiwieE1heCIsInlNYXgiLCJnZXRDZW50cm9pZCIsImFyIiwiTUFYX1ZBTFVFIiwiVF9WRUNUT1JTIiwiVF9BUlJBWVMiLCJUX1JFU1BPTlNFIiwiVEVTVF9QT0lOVCIsImZsYXR0ZW5Qb2ludHNPbiIsIm5vcm1hbCIsImlzU2VwYXJhdGluZ0F4aXMiLCJhUG9zIiwiYlBvcyIsImFQb2ludHMiLCJiUG9pbnRzIiwicmFuZ2VBIiwicmFuZ2VCIiwib2Zmc2V0ViIsInByb2plY3RlZE9mZnNldCIsIm9wdGlvbjEiLCJvcHRpb24yIiwib3ZlcmxhcCIsImFic092ZXJsYXAiLCJ2b3Jvbm9pUmVnaW9uIiwiZHAiLCJMRUZUX1ZPUk9OT0lfUkVHSU9OIiwiUklHSFRfVk9ST05PSV9SRUdJT04iLCJNSURETEVfVk9ST05PSV9SRUdJT04iLCJ0ZXN0UG9seWdvbkNpcmNsZSIsImNpcmNsZVBvcyIsImVkZ2UiLCJvdmVybGFwTiIsInBvaW50MiIsImRpc3RBYnMiLCJ0ZXN0UG9seWdvblBvbHlnb24iLCJhTGVuIiwiYkxlbiIsImRpZmZlcmVuY2VWIiwicmFkaXVzU3EiLCJkaXN0YW5jZVNxIiwidG90YWxSYWRpdXMiLCJ0b3RhbFJhZGl1c1NxIiwiYUluQiIsInV0aWwiLCJzbGFzaGVzIiwiYXV0aCIsInF1ZXJ5IiwicGF0aG5hbWUiLCJ1cmxQYXJzZSIsInJlbGF0aXZlIiwicmVzb2x2ZU9iamVjdCIsImlzU3RyaW5nIiwicHJvdG9jb2xQYXR0ZXJuIiwicG9ydFBhdHRlcm4iLCJzaW1wbGVQYXRoUGF0dGVybiIsInVud2lzZSIsImF1dG9Fc2NhcGUiLCJub25Ib3N0Q2hhcnMiLCJob3N0RW5kaW5nQ2hhcnMiLCJob3N0bmFtZVBhcnRQYXR0ZXJuIiwiaG9zdG5hbWVQYXJ0U3RhcnQiLCJ1bnNhZmVQcm90b2NvbCIsImhvc3RsZXNzUHJvdG9jb2wiLCJzbGFzaGVkUHJvdG9jb2wiLCJxdWVyeXN0cmluZyIsInBhcnNlUXVlcnlTdHJpbmciLCJzbGFzaGVzRGVub3RlSG9zdCIsImlzT2JqZWN0IiwicXVlcnlJbmRleCIsInNwbGl0dGVyIiwidVNwbGl0IiwicmVzdCIsInNpbXBsZVBhdGgiLCJwcm90byIsImxvd2VyUHJvdG8iLCJhdFNpZ24iLCJob3N0RW5kIiwiaGVjIiwicGFyc2VIb3N0IiwiaXB2Nkhvc3RuYW1lIiwiaG9zdHBhcnRzIiwicGFydCIsIm5ld3BhcnQiLCJ2YWxpZFBhcnRzIiwibm90SG9zdCIsImJpdCIsInRvQVNDSUkiLCJhZSIsImVzYyIsImVzY2FwZSIsInFtIiwicmVsIiwidGtleXMiLCJ0ayIsInRrZXkiLCJya2V5cyIsInJrIiwicmtleSIsInJlbFBhdGgiLCJpc1NvdXJjZUFicyIsImlzUmVsQWJzIiwibXVzdEVuZEFicyIsInJlbW92ZUFsbERvdHMiLCJzcmNQYXRoIiwicHN5Y2hvdGljIiwiaXNOdWxsT3JVbmRlZmluZWQiLCJhdXRoSW5Ib3N0IiwiaXNOdWxsIiwiaGFzVHJhaWxpbmdTbGFzaCIsInVwIiwiaXNBYnNvbHV0ZSIsInNldEFuY2hvciIsInJlZiIsImtleWJvYXJkIiwiaXNVcCIsInByZXNzIiwicmVsZWFzZSIsImRvd25IYW5kbGVyIiwidXBIYW5kbGVyIiwiZG93bkxpc3RlbmVyIiwidXBMaXN0ZW5lciIsInVuc3Vic2NyaWJlIiwibmlwcGxlTWFuYWdlciIsImdldEVsZW1lbnRCeUlkIiwiYXBwIiwiYXN5bmMiLCJoZXJvIiwiYW5pbXMiLCJoZXJvQW5pbSIsInNoZWV0IiwiYWRkQW5pbSIsImJvdW5kaW5nQm94IiwidmFsaWRhdGVBbmltIiwiaGVyb1N0YW5kaW5nIiwiaGVyb1dhbGtpbmciLCJoZXJvUmlzaW5nIiwiaGVyb0ZhbGxpbmciLCJ3YWxrIiwic3RhbmQiLCJyaXNlIiwiZmFsbCIsImNvbnRyb2xzIiwidXBkYXRlU3RhdGUiLCJzdGFuZGluZyIsIm1vdmluZ0xlZnQiLCJtb3ZpbmdSaWdodCIsInJpc2luZyIsImZhbGxpbmciLCJqdW1wIiwiYWN0aW9uIiwiVkVMT0NJVFlfWCIsIlZFTE9DSVRZX1kiLCJrYkFycm93TGVmdCIsImtiQXJyb3dSaWdodCIsImtiQXJyb3dVcCIsImtleWJvYXJkRHJpdmVyIiwidkpveXN0aWNrIiwibW9iaWxlRHJpdmVyIiwiYWN0b3IiLCJ1cGRhdGVCZWZvcmVDb2wiLCJHUkFWSVRZIiwieHUiLCJ5dSIsInVwZGF0ZUFmdGVyQ29sIiwidG9TYXRCb3hQb2x5Z29uIiwib25yZXNpemUiLCJjb2xsaWRhYmxlcyIsImNhdmVNYXAiLCJ0aWxlIiwicm90IiwiZmxpcFgiLCJjb2xsaXNpb25Cb3giLCJ1cGRhdGVIZXJvQkMiLCJ1cGRhdGVIZXJvQUMiLCJzY3JvbGxBcmVhIiwiU0NST0xMX0FSRUFfV0lEVEgiLCJTQ1JPTExfQVJFQV9IRUlHSFQiLCJveHUiLCJveXUiLCJjb2xsaWRhYmxlIiwiaGl0UmVzcCIsIm9iajEiLCJvYmoyIiwiYm94MSIsImJveDIiLCJoaXRUZXN0UmVjdGFuZ2xlIiwicGFyZW50UG9zaXRpb25SZWYiLCJvdmVybGFwViIsIm54dSIsIm55dSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJkZWZpbml0aW9uIiwiZ2xvYmFsVGhpcyIsIm5tZCIsInBhdGhzIl0sIm1hcHBpbmdzIjoiO3VDQW1CQSxJQUFJQSxFQWlCQUMsRUFpQkFDLEVBZ0RBQyxFQW1EQUMsRUF5QkFDLEVBMkJBQyxFQTJCQUMsRUF1QkFDLEVBdUJBQyxFQXdCQUMsRUF1QkFDLEVBdUJBQyxFQTRCQUMsRUFpQkFDLEVBbUJBQyxFQXFCQUMsRSx3U0E1WkosU0FBV2hCLEdBQ1BBLEVBQUlBLEVBQWtCLGFBQUksR0FBSyxlQUMvQkEsRUFBSUEsRUFBVyxNQUFJLEdBQUssUUFDeEJBLEVBQUlBLEVBQVksT0FBSSxHQUFLLFNBSDdCLENBSUdBLElBQVFBLEVBQU0sS0FhakIsU0FBV0MsR0FD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SUFBSXk4QixTQUFTLGNBQWIsR0FDZCxNQUFPalQsR0FDUixHQUFzQixpQkFBWHRmLE9BQXFCLE9BQU9BLFFBTGpCLEdDQXhCa2tILEVBQW9CL3BGLEVBQUksQ0FBQzhRLEVBQUs2a0QsSUFBU3g2RixPQUFPVSxVQUFVTCxlQUFlOEMsS0FBS3d5QyxFQUFLNmtELEdDQ2pGbzBCLEVBQW9Cdm9HLEVBQUtzNkMsSUFDSCxvQkFBWCtGLFFBQTBCQSxPQUFPQyxhQUMxQzNtRSxPQUFPOEIsZUFBZTYrRCxFQUFTK0YsT0FBT0MsWUFBYSxDQUFFNzFELE1BQU8sV0FFN0Q5USxPQUFPOEIsZUFBZTYrRCxFQUFTLGFBQWMsQ0FBRTd2RCxPQUFPLEtDTHZEODlHLEVBQW9CTSxJQUFPeHVELElBQzFCQSxFQUFPeXVELE1BQVEsR0FDVnp1RCxFQUFPdC9CLFdBQVVzL0IsRUFBT3QvQixTQUFXLElBQ2pDcy9CLEdDRFJrdUQsRUFBb0IsTSIsImZpbGUiOiJpbmRleC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEBwaXhpL2NvbnN0YW50cyAtIHY1LjMuN1xuICogQ29tcGlsZWQgVHVlLCAyOSBEZWMgMjAyMCAxOTozMDoxMSBVVENcbiAqXG4gKiBAcGl4aS9jb25zdGFudHMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4vKipcbiAqIERpZmZlcmVudCB0eXBlcyBvZiBlbnZpcm9ubWVudHMgZm9yIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBFTlZcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0xfTEVHQUNZIC0gVXNlZCBmb3Igb2xkZXIgdjEgV2ViR0wgZGV2aWNlcy4gUGl4aUpTIHdpbGwgYWltIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5XG4gKiAgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy4gSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyBwcmVmZXIgdGhpcyBlbnZpcm9ubWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFZlcnNpb24gMSBvZiBXZWJHTFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMMiAtIFZlcnNpb24gMiBvZiBXZWJHTFxuICovXG52YXIgRU5WO1xuKGZ1bmN0aW9uIChFTlYpIHtcbiAgICBFTlZbRU5WW1wiV0VCR0xfTEVHQUNZXCJdID0gMF0gPSBcIldFQkdMX0xFR0FDWVwiO1xuICAgIEVOVltFTlZbXCJXRUJHTFwiXSA9IDFdID0gXCJXRUJHTFwiO1xuICAgIEVOVltFTlZbXCJXRUJHTDJcIl0gPSAyXSA9IFwiV0VCR0wyXCI7XG59KShFTlYgfHwgKEVOViA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50IHRvIGlkZW50aWZ5IHRoZSBSZW5kZXJlciBUeXBlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBSRU5ERVJFUl9UWVBFXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOS05PV04gLSBVbmtub3duIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gV2ViR0wgcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0FOVkFTIC0gQ2FudmFzIHJlbmRlciB0eXBlLlxuICovXG52YXIgUkVOREVSRVJfVFlQRTtcbihmdW5jdGlvbiAoUkVOREVSRVJfVFlQRSkge1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIlVOS05PV05cIl0gPSAwXSA9IFwiVU5LTk9XTlwiO1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIldFQkdMXCJdID0gMV0gPSBcIldFQkdMXCI7XG4gICAgUkVOREVSRVJfVFlQRVtSRU5ERVJFUl9UWVBFW1wiQ0FOVkFTXCJdID0gMl0gPSBcIkNBTlZBU1wiO1xufSkoUkVOREVSRVJfVFlQRSB8fCAoUkVOREVSRVJfVFlQRSA9IHt9KSk7XG4vKipcbiAqIEJpdHdpc2UgT1Igb2YgbWFza3MgdGhhdCBpbmRpY2F0ZSB0aGUgYnVmZmVycyB0byBiZSBjbGVhcmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCVUZGRVJfQklUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUiAtIEluZGljYXRlcyB0aGUgYnVmZmVycyBjdXJyZW50bHkgZW5hYmxlZCBmb3IgY29sb3Igd3JpdGluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSCAtIEluZGljYXRlcyB0aGUgZGVwdGggYnVmZmVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBJbmRpY2F0ZXMgdGhlIHN0ZW5jaWwgYnVmZmVyLlxuICovXG52YXIgQlVGRkVSX0JJVFM7XG4oZnVuY3Rpb24gKEJVRkZFUl9CSVRTKSB7XG4gICAgQlVGRkVSX0JJVFNbQlVGRkVSX0JJVFNbXCJDT0xPUlwiXSA9IDE2Mzg0XSA9IFwiQ09MT1JcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIkRFUFRIXCJdID0gMjU2XSA9IFwiREVQVEhcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIlNURU5DSUxcIl0gPSAxMDI0XSA9IFwiU1RFTkNJTFwiO1xufSkoQlVGRkVSX0JJVFMgfHwgKEJVRkZFUl9CSVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBibGVuZCBtb2RlcyBzdXBwb3J0ZWQgYnkgUElYSS5cbiAqXG4gKiBJTVBPUlRBTlQgLSBUaGUgV2ViR0wgcmVuZGVyZXIgb25seSBzdXBwb3J0cyB0aGUgTk9STUFMLCBBREQsIE1VTFRJUExZIGFuZCBTQ1JFRU4gYmxlbmQgbW9kZXMuXG4gKiBBbnl0aGluZyBlbHNlIHdpbGwgc2lsZW50bHkgYWN0IGxpa2UgTk9STUFMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCTEVORF9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNVUxUSVBMWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9WRVJMQVlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEQVJLRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSUdIVEVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfRE9ER0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9CVVJOXG4gKiBAcHJvcGVydHkge251bWJlcn0gSEFSRF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNPRlRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBESUZGRVJFTkNFXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVhDTFVTSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gSFVFXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0FUVVJBVElPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SXG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5PU0lUWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTF9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERfTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NSRUVOX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfSU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfT1VUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX0FUT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfT1ZFUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9JTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9PVVRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfQVRPUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNVQlRSQUNUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX09WRVJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFUkFTRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFhPUlxuICovXG52YXIgQkxFTkRfTU9ERVM7XG4oZnVuY3Rpb24gKEJMRU5EX01PREVTKSB7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT1JNQUxcIl0gPSAwXSA9IFwiTk9STUFMXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJBRERcIl0gPSAxXSA9IFwiQUREXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJNVUxUSVBMWVwiXSA9IDJdID0gXCJNVUxUSVBMWVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU0NSRUVOXCJdID0gM10gPSBcIlNDUkVFTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiT1ZFUkxBWVwiXSA9IDRdID0gXCJPVkVSTEFZXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEQVJLRU5cIl0gPSA1XSA9IFwiREFSS0VOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJMSUdIVEVOXCJdID0gNl0gPSBcIkxJR0hURU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkNPTE9SX0RPREdFXCJdID0gN10gPSBcIkNPTE9SX0RPREdFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUl9CVVJOXCJdID0gOF0gPSBcIkNPTE9SX0JVUk5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhBUkRfTElHSFRcIl0gPSA5XSA9IFwiSEFSRF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU09GVF9MSUdIVFwiXSA9IDEwXSA9IFwiU09GVF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRElGRkVSRU5DRVwiXSA9IDExXSA9IFwiRElGRkVSRU5DRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRVhDTFVTSU9OXCJdID0gMTJdID0gXCJFWENMVVNJT05cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhVRVwiXSA9IDEzXSA9IFwiSFVFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTQVRVUkFUSU9OXCJdID0gMTRdID0gXCJTQVRVUkFUSU9OXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUlwiXSA9IDE1XSA9IFwiQ09MT1JcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkxVTUlOT1NJVFlcIl0gPSAxNl0gPSBcIkxVTUlOT1NJVFlcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PUk1BTF9OUE1cIl0gPSAxN10gPSBcIk5PUk1BTF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkFERF9OUE1cIl0gPSAxOF0gPSBcIkFERF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNDUkVFTl9OUE1cIl0gPSAxOV0gPSBcIlNDUkVFTl9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PTkVcIl0gPSAyMF0gPSBcIk5PTkVcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19PVkVSXCJdID0gMF0gPSBcIlNSQ19PVkVSXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfSU5cIl0gPSAyMV0gPSBcIlNSQ19JTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX09VVFwiXSA9IDIyXSA9IFwiU1JDX09VVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX0FUT1BcIl0gPSAyM10gPSBcIlNSQ19BVE9QXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1ZFUlwiXSA9IDI0XSA9IFwiRFNUX09WRVJcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9JTlwiXSA9IDI1XSA9IFwiRFNUX0lOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1VUXCJdID0gMjZdID0gXCJEU1RfT1VUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfQVRPUFwiXSA9IDI3XSA9IFwiRFNUX0FUT1BcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkVSQVNFXCJdID0gMjZdID0gXCJFUkFTRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1VCVFJBQ1RcIl0gPSAyOF0gPSBcIlNVQlRSQUNUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJYT1JcIl0gPSAyOV0gPSBcIlhPUlwiO1xufSkoQkxFTkRfTU9ERVMgfHwgKEJMRU5EX01PREVTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyB3ZWJnbCBkcmF3IG1vZGVzLiBUaGVzZSBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IHdoaWNoIEdMIGRyYXdNb2RlIHRvIHVzZVxuICogdW5kZXIgY2VydGFpbiBzaXR1YXRpb25zIGFuZCByZW5kZXJlcnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIERSQVdfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9JTlRTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX0xPT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9GQU5cbiAqL1xudmFyIERSQVdfTU9ERVM7XG4oZnVuY3Rpb24gKERSQVdfTU9ERVMpIHtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJQT0lOVFNcIl0gPSAwXSA9IFwiUE9JTlRTXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORVNcIl0gPSAxXSA9IFwiTElORVNcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJMSU5FX0xPT1BcIl0gPSAyXSA9IFwiTElORV9MT09QXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORV9TVFJJUFwiXSA9IDNdID0gXCJMSU5FX1NUUklQXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVTXCJdID0gNF0gPSBcIlRSSUFOR0xFU1wiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlRSSUFOR0xFX1NUUklQXCJdID0gNV0gPSBcIlRSSUFOR0xFX1NUUklQXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVfRkFOXCJdID0gNl0gPSBcIlRSSUFOR0xFX0ZBTlwiO1xufSkoRFJBV19NT0RFUyB8fCAoRFJBV19NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgdGV4dHVyZS9yZXNvdXJjZXMgZm9ybWF0cy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRk9STUFUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0JBPTY0MDhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0I9NjQwN1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEFMUEhBPTY0MDZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTkFOQ0U9NjQwOVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRV9BTFBIQT02NDEwXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEhfQ09NUE9ORU5UPTY0MDJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9TVEVOQ0lMPTM0MDQxXG4gKi9cbnZhciBGT1JNQVRTO1xuKGZ1bmN0aW9uIChGT1JNQVRTKSB7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdCQVwiXSA9IDY0MDhdID0gXCJSR0JBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdCXCJdID0gNjQwN10gPSBcIlJHQlwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkFMUEhBXCJdID0gNjQwNl0gPSBcIkFMUEhBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiTFVNSU5BTkNFXCJdID0gNjQwOV0gPSBcIkxVTUlOQU5DRVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkxVTUlOQU5DRV9BTFBIQVwiXSA9IDY0MTBdID0gXCJMVU1JTkFOQ0VfQUxQSEFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJERVBUSF9DT01QT05FTlRcIl0gPSA2NDAyXSA9IFwiREVQVEhfQ09NUE9ORU5UXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiREVQVEhfU1RFTkNJTFwiXSA9IDM0MDQxXSA9IFwiREVQVEhfU1RFTkNJTFwiO1xufSkoRk9STUFUUyB8fCAoRk9STUFUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgdGFyZ2V0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUQVJHRVRTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfMkQ9MzU1M1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVA9MzQwNjdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFXzJEX0FSUkFZPTM1ODY2XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YPTM0MDY5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YPTM0MDcwXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZPTM0MDcxXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZPTM0MDcyXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aPTM0MDczXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aPTM0MDc0XG4gKi9cbnZhciBUQVJHRVRTO1xuKGZ1bmN0aW9uIChUQVJHRVRTKSB7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV8yRFwiXSA9IDM1NTNdID0gXCJURVhUVVJFXzJEXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUFwiXSA9IDM0MDY3XSA9IFwiVEVYVFVSRV9DVUJFX01BUFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfMkRfQVJSQVlcIl0gPSAzNTg2Nl0gPSBcIlRFWFRVUkVfMkRfQVJSQVlcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1hcIl0gPSAzNDA2OV0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWFwiXSA9IDM0MDcwXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZXCJdID0gMzQwNzFdID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1lcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1lcIl0gPSAzNDA3Ml0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWlwiXSA9IDM0MDczXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aXCJdID0gMzQwNzRdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1pcIjtcbn0pKFRBUkdFVFMgfHwgKFRBUkdFVFMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIEdMIGRhdGEgZm9ybWF0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUWVBFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9CWVRFPTUxMjFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVD01MTIzXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV82XzU9MzM2MzVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF80XzRfNF80PTMyODE5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV81XzVfMT0zMjgyMFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEZMT0FUPTUxMjZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIQUxGX0ZMT0FUPTM2MTkzXG4gKi9cbnZhciBUWVBFUztcbihmdW5jdGlvbiAoVFlQRVMpIHtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX0JZVEVcIl0gPSA1MTIxXSA9IFwiVU5TSUdORURfQllURVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRcIl0gPSA1MTIzXSA9IFwiVU5TSUdORURfU0hPUlRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXzVfNl81XCJdID0gMzM2MzVdID0gXCJVTlNJR05FRF9TSE9SVF81XzZfNVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiXSA9IDMyODE5XSA9IFwiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiXSA9IDMyODIwXSA9IFwiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiRkxPQVRcIl0gPSA1MTI2XSA9IFwiRkxPQVRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIkhBTEZfRkxPQVRcIl0gPSAzNjE5M10gPSBcIkhBTEZfRkxPQVRcIjtcbn0pKFRZUEVTIHx8IChUWVBFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSBzY2FsZSBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERX0gc2NhbGUgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHNjYWxpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgTElORUFSIG9yIE5FQVJFU1QsIGRlcGVuZGluZyB1cG9uIHN1aXRhYmlsaXR5LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBTQ0FMRV9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVIgU21vb3RoIHNjYWxpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBORUFSRVNUIFBpeGVsYXRpbmcgc2NhbGluZ1xuICovXG52YXIgU0NBTEVfTU9ERVM7XG4oZnVuY3Rpb24gKFNDQUxFX01PREVTKSB7XG4gICAgU0NBTEVfTU9ERVNbU0NBTEVfTU9ERVNbXCJORUFSRVNUXCJdID0gMF0gPSBcIk5FQVJFU1RcIjtcbiAgICBTQ0FMRV9NT0RFU1tTQ0FMRV9NT0RFU1tcIkxJTkVBUlwiXSA9IDFdID0gXCJMSU5FQVJcIjtcbn0pKFNDQUxFX01PREVTIHx8IChTQ0FMRV9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5XUkFQX01PREV9IHdyYXAgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHdyYXBwaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIENMQU1QIG9yIFJFUEVBVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKiBJZiB0aGUgdGV4dHVyZSBpcyBub24gcG93ZXIgb2YgdHdvIHRoZW4gY2xhbXAgd2lsbCBiZSB1c2VkIHJlZ2FyZGxlc3MgYXMgV2ViR0wgY2FuXG4gKiBvbmx5IHVzZSBSRVBFQVQgaWYgdGhlIHRleHR1cmUgaXMgcG8yLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIFdSQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMQU1QIC0gVGhlIHRleHR1cmVzIHV2cyBhcmUgY2xhbXBlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNSVJST1JFRF9SRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0IHdpdGggbWlycm9yaW5nXG4gKi9cbnZhciBXUkFQX01PREVTO1xuKGZ1bmN0aW9uIChXUkFQX01PREVTKSB7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiQ0xBTVBcIl0gPSAzMzA3MV0gPSBcIkNMQU1QXCI7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiUkVQRUFUXCJdID0gMTA0OTddID0gXCJSRVBFQVRcIjtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJNSVJST1JFRF9SRVBFQVRcIl0gPSAzMzY0OF0gPSBcIk1JUlJPUkVEX1JFUEVBVFwiO1xufSkoV1JBUF9NT0RFUyB8fCAoV1JBUF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIE1pcG1hcCBmaWx0ZXJpbmcgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU30gYWZmZWN0cyBkZWZhdWx0IHRleHR1cmUgZmlsdGVyaW5nLlxuICogTWlwbWFwcyBhcmUgZ2VuZXJhdGVkIGZvciBhIGJhc2VUZXh0dXJlIGlmIGl0cyBgbWlwbWFwYCBmaWVsZCBpcyBgT05gLFxuICogb3IgaXRzIGBQT1cyYCBhbmQgdGV4dHVyZSBkaW1lbnNpb25zIGFyZSBwb3dlcnMgb2YgMi5cbiAqIER1ZSB0byBwbGF0Zm9ybSByZXN0cmljdGlvbiwgYE9OYCBvcHRpb24gd2lsbCB3b3JrIGxpa2UgYFBPVzJgIGZvciB3ZWJnbC0xLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIE1JUE1BUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gT0ZGIC0gTm8gbWlwbWFwc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPVzIgLSBHZW5lcmF0ZSBtaXBtYXBzIGlmIHRleHR1cmUgZGltZW5zaW9ucyBhcmUgcG93MlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9OIC0gQWx3YXlzIGdlbmVyYXRlIG1pcG1hcHNcbiAqL1xudmFyIE1JUE1BUF9NT0RFUztcbihmdW5jdGlvbiAoTUlQTUFQX01PREVTKSB7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9GRlwiXSA9IDBdID0gXCJPRkZcIjtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiUE9XMlwiXSA9IDFdID0gXCJQT1cyXCI7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9OXCJdID0gMl0gPSBcIk9OXCI7XG59KShNSVBNQVBfTU9ERVMgfHwgKE1JUE1BUF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIEhvdyB0byB0cmVhdCB0ZXh0dXJlcyB3aXRoIHByZW11bHRpcGxpZWQgYWxwaGFcbiAqXG4gKiBAbmFtZSBBTFBIQV9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9fUFJFTVVMVElQTElFRF9BTFBIQSAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgbGVhdmUgaXQgbGlrZSB0aGF0LlxuICogIE9wdGlvbiBmb3IgY29tcHJlc3NlZCBhbmQgZGF0YSB0ZXh0dXJlcyB0aGF0IGFyZSBjcmVhdGVkIGZyb20gdHlwZWQgYXJyYXlzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBSRU1VTFRJUExZX09OX1VQTE9BRCAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgcHJlbXVsdGlwbHkgb24gdXBsb2FkLlxuICogIERlZmF1bHQgb3B0aW9uLCB1c2VkIGZvciBhbGwgbG9hZGVkIGltYWdlcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQUkVNVUxUSVBMSUVEX0FMUEhBIC0gU291cmNlIGlzIGFscmVhZHkgcHJlbXVsdGlwbGllZFxuICogIEV4YW1wbGU6IHNwaW5lIGF0bGFzZXMgd2l0aCBgX3BtYWAgc3VmZml4LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5QTSAtIEFsaWFzIGZvciBOT19QUkVNVUxUSVBMSUVEX0FMUEhBLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOUEFDSyAtIERlZmF1bHQgb3B0aW9uLCBhbGlhcyBmb3IgUFJFTVVMVElQTFlfT05fVVBMT0FELlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBNQSAtIEFsaWFzIGZvciBQUkVNVUxUSVBMSUVEX0FMUEhBLlxuICovXG52YXIgQUxQSEFfTU9ERVM7XG4oZnVuY3Rpb24gKEFMUEhBX01PREVTKSB7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJOUE1cIl0gPSAwXSA9IFwiTlBNXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJVTlBBQ0tcIl0gPSAxXSA9IFwiVU5QQUNLXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJQTUFcIl0gPSAyXSA9IFwiUE1BXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJOT19QUkVNVUxUSVBMSUVEX0FMUEhBXCJdID0gMF0gPSBcIk5PX1BSRU1VTFRJUExJRURfQUxQSEFcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBSRU1VTFRJUExZX09OX1VQTE9BRFwiXSA9IDFdID0gXCJQUkVNVUxUSVBMWV9PTl9VUExPQURcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBSRU1VTFRJUExZX0FMUEhBXCJdID0gMl0gPSBcIlBSRU1VTFRJUExZX0FMUEhBXCI7XG59KShBTFBIQV9NT0RFUyB8fCAoQUxQSEFfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBIb3cgdG8gY2xlYXIgcmVuZGVyVGV4dHVyZXMgaW4gZmlsdGVyXG4gKlxuICogQG5hbWUgQ0xFQVJfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEJMRU5EIC0gUHJlc2VydmUgdGhlIGluZm9ybWF0aW9uIGluIHRoZSB0ZXh0dXJlLCBibGVuZCBhYm92ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMRUFSIC0gTXVzdCB1c2UgYGdsLmNsZWFyYCBvcGVyYXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBCTElUIC0gQ2xlYXIgb3IgYmxpdCBpdCwgZGVwZW5kcyBvbiBkZXZpY2UgYW5kIGxldmVsIG9mIHBhcmFub2lhXG4gKiBAcHJvcGVydHkge251bWJlcn0gTk8gLSBBbGlhcyBmb3IgQkxFTkQsIHNhbWUgYXMgYGZhbHNlYCBpbiBlYXJsaWVyIHZlcnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gWUVTIC0gQWxpYXMgZm9yIENMRUFSLCBzYW1lIGFzIGB0cnVlYCBpbiBlYXJsaWVyIHZlcnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gQVVUTyAtIEFsaWFzIGZvciBCTElUXG4gKi9cbnZhciBDTEVBUl9NT0RFUztcbihmdW5jdGlvbiAoQ0xFQVJfTU9ERVMpIHtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIk5PXCJdID0gMF0gPSBcIk5PXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJZRVNcIl0gPSAxXSA9IFwiWUVTXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJBVVRPXCJdID0gMl0gPSBcIkFVVE9cIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkJMRU5EXCJdID0gMF0gPSBcIkJMRU5EXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJDTEVBUlwiXSA9IDFdID0gXCJDTEVBUlwiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQkxJVFwiXSA9IDJdID0gXCJCTElUXCI7XG59KShDTEVBUl9NT0RFUyB8fCAoQ0xFQVJfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgZ2MgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLkdDX01PREV9IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlIGZvciBQaXhpSlMgdGV4dHVyZXMgaXMgQVVUT1xuICogSWYgc2V0IHRvIEdDX01PREUsIHRoZSByZW5kZXJlciB3aWxsIG9jY2FzaW9uYWxseSBjaGVjayB0ZXh0dXJlcyB1c2FnZS4gSWYgdGhleSBhcmUgbm90XG4gKiB1c2VkIGZvciBhIHNwZWNpZmllZCBwZXJpb2Qgb2YgdGltZSB0aGV5IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFUuIFRoZXkgd2lsbCBvZiBjb3Vyc2VcbiAqIGJlIHVwbG9hZGVkIGFnYWluIHdoZW4gdGhleSBhcmUgcmVxdWlyZWQuIFRoaXMgaXMgYSBzaWxlbnQgYmVoaW5kIHRoZSBzY2VuZXMgcHJvY2VzcyB0aGF0XG4gKiBzaG91bGQgZW5zdXJlIHRoYXQgdGhlIEdQVSBkb2VzIG5vdCAgZ2V0IGZpbGxlZCB1cC5cbiAqXG4gKiBIYW5keSBmb3IgbW9iaWxlIGRldmljZXMhXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAbmFtZSBHQ19NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcHJvcGVydHkge251bWJlcn0gQVVUTyAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIGhhcHBlbiBwZXJpb2RpY2FsbHkgYXV0b21hdGljYWxseVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1BTlVBTCAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIG5lZWQgdG8gYmUgY2FsbGVkIG1hbnVhbGx5XG4gKi9cbnZhciBHQ19NT0RFUztcbihmdW5jdGlvbiAoR0NfTU9ERVMpIHtcbiAgICBHQ19NT0RFU1tHQ19NT0RFU1tcIkFVVE9cIl0gPSAwXSA9IFwiQVVUT1wiO1xuICAgIEdDX01PREVTW0dDX01PREVTW1wiTUFOVUFMXCJdID0gMV0gPSBcIk1BTlVBTFwiO1xufSkoR0NfTU9ERVMgfHwgKEdDX01PREVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gc2hhZGVycy5cbiAqXG4gKiBAbmFtZSBQUkVDSVNJT05cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAY29uc3RhbnRcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gTE9XPSdsb3dwJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IE1FRElVTT0nbWVkaXVtcCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBISUdIPSdoaWdocCdcbiAqL1xudmFyIFBSRUNJU0lPTjtcbihmdW5jdGlvbiAoUFJFQ0lTSU9OKSB7XG4gICAgUFJFQ0lTSU9OW1wiTE9XXCJdID0gXCJsb3dwXCI7XG4gICAgUFJFQ0lTSU9OW1wiTUVESVVNXCJdID0gXCJtZWRpdW1wXCI7XG4gICAgUFJFQ0lTSU9OW1wiSElHSFwiXSA9IFwiaGlnaHBcIjtcbn0pKFBSRUNJU0lPTiB8fCAoUFJFQ0lTSU9OID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIGZvciBtYXNrIGltcGxlbWVudGF0aW9ucy5cbiAqIFdlIHVzZSBgdHlwZWAgc3VmZml4IGJlY2F1c2UgaXQgbGVhZHMgdG8gdmVyeSBkaWZmZXJlbnQgYmVoYXZpb3Vyc1xuICpcbiAqIEBuYW1lIE1BU0tfVFlQRVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkUgLSBNYXNrIGlzIGlnbm9yZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ0lTU09SIC0gU2Npc3NvciBtYXNrLCByZWN0YW5nbGUgb24gc2NyZWVuLCBjaGVhcFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBTdGVuY2lsIG1hc2ssIDEtYml0LCBtZWRpdW0sIHdvcmtzIG9ubHkgaWYgcmVuZGVyZXIgc3VwcG9ydHMgc3RlbmNpbFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNQUklURSAtIE1hc2sgdGhhdCB1c2VzIFNwcml0ZU1hc2tGaWx0ZXIsIHVzZXMgdGVtcG9yYXJ5IFJlbmRlclRleHR1cmVcbiAqL1xudmFyIE1BU0tfVFlQRVM7XG4oZnVuY3Rpb24gKE1BU0tfVFlQRVMpIHtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTQ0lTU09SXCJdID0gMV0gPSBcIlNDSVNTT1JcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTVEVOQ0lMXCJdID0gMl0gPSBcIlNURU5DSUxcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTUFJJVEVcIl0gPSAzXSA9IFwiU1BSSVRFXCI7XG59KShNQVNLX1RZUEVTIHx8IChNQVNLX1RZUEVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIGZvciBtdWx0aS1zYW1wbGluZyBhbnRpYWxpYXNpbmcuXG4gKlxuICogQHNlZSBQSVhJLkZyYW1lYnVmZmVyI211bHRpc2FtcGxlXG4gKlxuICogQG5hbWUgTVNBQV9RVUFMSVRZXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FIC0gTm8gbXVsdGlzYW1wbGluZyBmb3IgdGhpcyByZW5kZXJUZXh0dXJlXG4gKiBAcHJvcGVydHkge251bWJlcn0gTE9XIC0gVHJ5IDIgc2FtcGxlc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE1FRElVTSAtIFRyeSA0IHNhbXBsZXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBISUdIIC0gVHJ5IDggc2FtcGxlc1xuICovXG52YXIgTVNBQV9RVUFMSVRZO1xuKGZ1bmN0aW9uIChNU0FBX1FVQUxJVFkpIHtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIkxPV1wiXSA9IDJdID0gXCJMT1dcIjtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTUVESVVNXCJdID0gNF0gPSBcIk1FRElVTVwiO1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJISUdIXCJdID0gOF0gPSBcIkhJR0hcIjtcbn0pKE1TQUFfUVVBTElUWSB8fCAoTVNBQV9RVUFMSVRZID0ge30pKTtcblxuZXhwb3J0IHsgQUxQSEFfTU9ERVMsIEJMRU5EX01PREVTLCBCVUZGRVJfQklUUywgQ0xFQVJfTU9ERVMsIERSQVdfTU9ERVMsIEVOViwgRk9STUFUUywgR0NfTU9ERVMsIE1BU0tfVFlQRVMsIE1JUE1BUF9NT0RFUywgTVNBQV9RVUFMSVRZLCBQUkVDSVNJT04sIFJFTkRFUkVSX1RZUEUsIFNDQUxFX01PREVTLCBUQVJHRVRTLCBUWVBFUywgV1JBUF9NT0RFUyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9jb3JlIC0gdjUuMy43XG4gKiBDb21waWxlZCBUdWUsIDI5IERlYyAyMDIwIDE5OjMwOjExIFVUQ1xuICpcbiAqIEBwaXhpL2NvcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IEVOViwgQUxQSEFfTU9ERVMsIFNDQUxFX01PREVTLCBGT1JNQVRTLCBUWVBFUywgVEFSR0VUUywgTUlQTUFQX01PREVTLCBNU0FBX1FVQUxJVFksIENMRUFSX01PREVTLCBEUkFXX01PREVTLCBCVUZGRVJfQklUUywgTUFTS19UWVBFUywgUFJFQ0lTSU9OLCBCTEVORF9NT0RFUywgR0NfTU9ERVMsIFdSQVBfTU9ERVMsIFJFTkRFUkVSX1RZUEUgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgaXNNb2JpbGUsIHVpZCwgaXNQb3cyLCBCYXNlVGV4dHVyZUNhY2hlLCBUZXh0dXJlQ2FjaGUsIEV2ZW50RW1pdHRlciwgZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4sIGdldFJlc29sdXRpb25PZlVybCwgbmV4dFBvdzIsIGRlcHJlY2F0aW9uLCBQcm9ncmFtQ2FjaGUsIHJlbW92ZUl0ZW1zLCBoZXgyc3RyaW5nLCBoZXgycmdiLCBzYXlIZWxsbywgaXNXZWJHTFN1cHBvcnRlZCwgcHJlbXVsdGlwbHlCbGVuZE1vZGUsIGxvZzIsIHByZW11bHRpcGx5VGludCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG5pbXBvcnQgeyBUaWNrZXIgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgZ3JvdXBEOCwgUmVjdGFuZ2xlLCBQb2ludCwgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogVGhlIG1heGltdW0gc3VwcG9ydCBmb3IgdXNpbmcgV2ViR0wuIElmIGEgZGV2aWNlIGRvZXMgbm90XG4gKiBzdXBwb3J0IFdlYkdMIHZlcnNpb24sIGZvciBpbnN0YW5jZSBXZWJHTCAyLCBpdCB3aWxsIHN0aWxsXG4gKiBhdHRlbXB0IHRvIGZhbGxiYWNrIHN1cHBvcnQgdG8gV2ViR0wgMS4gSWYgeW91IHdhbnQgdG9cbiAqIGV4cGxpY2l0bHkgcmVtb3ZlIGZlYXR1cmUgc3VwcG9ydCB0byB0YXJnZXQgYSBtb3JlIHN0YWJsZVxuICogYmFzZWxpbmUsIHByZWZlciBhIGxvd2VyIGVudmlyb25tZW50LlxuICpcbiAqIER1ZSB0byB7QGxpbmsgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9OTM0ODIzfGJ1ZyBpbiBjaHJvbWl1bX1cbiAqIHdlIGRpc2FibGUgd2ViZ2wyIGJ5IGRlZmF1bHQgZm9yIGFsbCBub24tYXBwbGUgbW9iaWxlIGRldmljZXMuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgUFJFRkVSX0VOVlxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCBQSVhJLkVOVi5XRUJHTDJcbiAqL1xuc2V0dGluZ3MuUFJFRkVSX0VOViA9IGlzTW9iaWxlLmFueSA/IEVOVi5XRUJHTCA6IEVOVi5XRUJHTDI7XG4vKipcbiAqIElmIHNldCB0byBgdHJ1ZWAsICpvbmx5KiBUZXh0dXJlcyBhbmQgQmFzZVRleHR1cmUgb2JqZWN0cyBzdG9yZWRcbiAqIGluIHRoZSBjYWNoZXMgKHtAbGluayBQSVhJLnV0aWxzLlRleHR1cmVDYWNoZSBUZXh0dXJlQ2FjaGV9IGFuZFxuICoge0BsaW5rIFBJWEkudXRpbHMuQmFzZVRleHR1cmVDYWNoZSBCYXNlVGV4dHVyZUNhY2hlfSkgY2FuIGJlXG4gKiB1c2VkIHdoZW4gY2FsbGluZyB7QGxpbmsgUElYSS5UZXh0dXJlLmZyb20gVGV4dHVyZS5mcm9tfSBvclxuICoge0BsaW5rIFBJWEkuQmFzZVRleHR1cmUuZnJvbSBCYXNlVGV4dHVyZS5mcm9tfS5cbiAqIE90aGVyd2lzZSwgdGhlc2UgYGZyb21gIGNhbGxzIHRocm93IGFuIGV4Y2VwdGlvbi4gVXNpbmcgdGhpcyBwcm9wZXJ0eVxuICogY2FuIGJlIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byBlbmZvcmNlIHByZWxvYWRpbmcgYWxsIGFzc2V0cyB3aXRoXG4gKiB7QGxpbmsgUElYSS5Mb2FkZXIgTG9hZGVyfS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBTVFJJQ1RfVEVYVFVSRV9DQUNIRVxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtib29sZWFufVxuICogQGRlZmF1bHQgZmFsc2VcbiAqL1xuc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEUgPSBmYWxzZTtcblxuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGluc3RhbGxlZCByZXNvdXJjZSB0eXBlcywgY2xhc3MgbXVzdCBleHRlbmQge0BsaW5rIFBJWEkucmVzb3VyY2VzLlJlc291cmNlfS5cbiAqIEBleGFtcGxlXG4gKiBjbGFzcyBDdXN0b21SZXNvdXJjZSBleHRlbmRzIFBJWEkucmVzb3VyY2VzLlJlc291cmNlIHtcbiAqICAgLy8gTVVTVCBoYXZlIHNvdXJjZSwgb3B0aW9ucyBjb25zdHJ1Y3RvciBzaWduYXR1cmVcbiAqICAgLy8gZm9yIGF1dG8tZGV0ZWN0ZWQgcmVzb3VyY2VzIHRvIGJlIGNyZWF0ZWQuXG4gKiAgIGNvbnN0cnVjdG9yKHNvdXJjZSwgb3B0aW9ucykge1xuICogICAgIHN1cGVyKCk7XG4gKiAgIH1cbiAqICAgdXBsb2FkKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gKiAgICAgLy8gdXBsb2FkIHdpdGggR0xcbiAqICAgICByZXR1cm4gdHJ1ZTtcbiAqICAgfVxuICogICAvLyB1c2VkIHRvIGF1dG8tZGV0ZWN0IHJlc291cmNlXG4gKiAgIHN0YXRpYyB0ZXN0KHNvdXJjZSwgZXh0ZW5zaW9uKSB7XG4gKiAgICAgcmV0dXJuIGV4dGVuc2lvbiA9PT0gJ3h5eid8fCBzb3VyY2UgaW5zdGFuY2VvZiBTb21lQ2xhc3M7XG4gKiAgIH1cbiAqIH1cbiAqIC8vIEluc3RhbGwgdGhlIG5ldyByZXNvdXJjZSB0eXBlXG4gKiBQSVhJLnJlc291cmNlcy5JTlNUQUxMRUQucHVzaChDdXN0b21SZXNvdXJjZSk7XG4gKlxuICogQG5hbWUgUElYSS5yZXNvdXJjZXMuSU5TVEFMTEVEXG4gKiBAdHlwZSB7QXJyYXk8Kj59XG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqL1xudmFyIElOU1RBTExFRCA9IFtdO1xuLyoqXG4gKiBDcmVhdGUgYSByZXNvdXJjZSBlbGVtZW50IGZyb20gYSBzaW5nbGUgc291cmNlIGVsZW1lbnQuIFRoaXNcbiAqIGF1dG8tZGV0ZWN0cyB3aGljaCB0eXBlIG9mIHJlc291cmNlIHRvIGNyZWF0ZS4gQWxsIHJlc291cmNlcyB0aGF0XG4gKiBhcmUgYXV0by1kZXRlY3RhYmxlIG11c3QgaGF2ZSBhIHN0YXRpYyBgdGVzdGAgbWV0aG9kIGFuZCBhIGNvbnN0cnVjdG9yXG4gKiB3aXRoIHRoZSBhcmd1bWVudHMgYChzb3VyY2UsIG9wdGlvbnM/KWAuIEN1cnJlbnRseSwgdGhlIHN1cHBvcnRlZFxuICogcmVzb3VyY2VzIGZvciBhdXRvLWRldGVjdGlvbiBpbmNsdWRlOlxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuQ2FudmFzUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuVmlkZW9SZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5CdWZmZXJSZXNvdXJjZX1cbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2VcbiAqIEBwYXJhbSB7c3RyaW5nfCp9IHNvdXJjZSAtIFJlc291cmNlIHNvdXJjZSwgdGhpcyBjYW4gYmUgdGhlIFVSTCB0byB0aGUgcmVzb3VyY2UsXG4gKiAgICAgICAgYSB0eXBlZC1hcnJheSAoZm9yIEJ1ZmZlclJlc291cmNlKSwgSFRNTFZpZGVvRWxlbWVudCwgU1ZHIGRhdGEtdXJpXG4gKiAgICAgICAgb3IgYW55IG90aGVyIHJlc291cmNlIHRoYXQgY2FuIGJlIGF1dG8tZGV0ZWN0ZWQuIElmIG5vdCByZXNvdXJjZSBpc1xuICogICAgICAgIGRldGVjdGVkLCBpdCdzIGFzc3VtZWQgdG8gYmUgYW4gSW1hZ2VSZXNvdXJjZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBQYXNzLXRocm91Z2ggb3B0aW9ucyB0byB1c2UgZm9yIFJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgQnVmZmVyUmVzb3VyY2Ugb3IgU1ZHIHJhc3Rlcml6YXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIEJ1ZmZlclJlc291cmNlIG9yIFNWRyByYXN0ZXJpemF0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gSW1hZ2UsIFNWRyBhbmQgVmlkZW8gZmxhZyB0byBzdGFydCBsb2FkaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGU9MV0gLSBTVkcgc291cmNlIHNjYWxlLiBPdmVycmlkZGVuIGJ5IHdpZHRoLCBoZWlnaHRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3JlYXRlQml0bWFwPVBJWEkuc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUF0gLSBJbWFnZSBvcHRpb24gdG8gY3JlYXRlIEJpdG1hcCBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NvcmlnaW49dHJ1ZV0gLSBJbWFnZSBhbmQgVmlkZW8gb3B0aW9uIHRvIHNldCBjcm9zc09yaWdpblxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUGxheT10cnVlXSAtIFZpZGVvIG9wdGlvbiB0byBzdGFydCBwbGF5aW5nIHZpZGVvIGltbWVkaWF0ZWx5XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXBkYXRlRlBTPTBdIC0gVmlkZW8gb3B0aW9uIHRvIHVwZGF0ZSBob3cgbWFueSB0aW1lcyBhIHNlY29uZCB0aGVcbiAqICAgICAgICB0ZXh0dXJlIHNob3VsZCBiZSB1cGRhdGVkIGZyb20gdGhlIHZpZGVvLiBMZWF2ZSBhdCAwIHRvIHVwZGF0ZSBhdCBldmVyeSByZW5kZXJcbiAqIEByZXR1cm4ge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfSBUaGUgY3JlYXRlZCByZXNvdXJjZS5cbiAqL1xuZnVuY3Rpb24gYXV0b0RldGVjdFJlc291cmNlKHNvdXJjZSwgb3B0aW9ucykge1xuICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgZXh0ZW5zaW9uID0gJyc7XG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIHNlYXJjaCBmb3IgZmlsZSBleHRlbnNpb246IHBlcmlvZCwgMy00IGNoYXJzLCB0aGVuID8sICMgb3IgRU9MXG4gICAgICAgIHZhciByZXN1bHQgPSAoL1xcLihcXHd7Myw0fSkoPzokfFxcP3wjKS9pKS5leGVjKHNvdXJjZSk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbiA9IHJlc3VsdFsxXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSBJTlNUQUxMRUQubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIFJlc291cmNlUGx1Z2luID0gSU5TVEFMTEVEW2ldO1xuICAgICAgICBpZiAoUmVzb3VyY2VQbHVnaW4udGVzdCAmJiBSZXNvdXJjZVBsdWdpbi50ZXN0KHNvdXJjZSwgZXh0ZW5zaW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNvdXJjZVBsdWdpbihzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignVW5yZWNvZ25pemVkIHNvdXJjZSB0eXBlIHRvIGF1dG8tZGV0ZWN0IFJlc291cmNlJyk7XG59XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIEJhc2UgcmVzb3VyY2UgY2xhc3MgZm9yIHRleHR1cmVzIHRoYXQgbWFuYWdlcyB2YWxpZGF0aW9uIGFuZCB1cGxvYWRpbmcsIGRlcGVuZGluZyBvbiBpdHMgdHlwZS5cbiAqXG4gKiBVcGxvYWRpbmcgb2YgYSBiYXNlIHRleHR1cmUgdG8gdGhlIEdQVSBpcyByZXF1aXJlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG52YXIgUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlc291cmNlKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAwOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCB3aWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHJlc291cmNlIGhhcyBiZWVuIGRlc3Ryb3llZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgcmVzb3VyY2UgaXMgY3JlYXRlZCBieSBCYXNlVGV4dHVyZVxuICAgICAgICAgKiB1c2VmdWwgZm9yIGRvaW5nIGNsZWFudXAgd2l0aCBCYXNlVGV4dHVyZSBkZXN0cm95XG4gICAgICAgICAqIGFuZCBub3QgY2xlYW5pbmcgdXAgcmVzb3VyY2VzIHRoYXQgd2VyZSBjcmVhdGVkXG4gICAgICAgICAqIGV4dGVybmFsbHkuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW50ZXJuYWwgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pbmktcnVubmVyIGZvciBoYW5kbGluZyByZXNpemUgZXZlbnRzXG4gICAgICAgICAqIGFjY2VwdHMgMiBwYXJhbWV0ZXJzOiB3aWR0aCwgaGVpZ2h0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1J1bm5lcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25SZXNpemUgPSBuZXcgUnVubmVyKCdzZXRSZWFsU2l6ZScpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWluaS1ydW5uZXIgZm9yIGhhbmRsaW5nIHVwZGF0ZSBldmVudHNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UnVubmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblVwZGF0ZSA9IG5ldyBSdW5uZXIoJ3VwZGF0ZScpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSGFuZGxlIGludGVybmFsIGVycm9ycywgc3VjaCBhcyBsb2FkaW5nIGVycm9yc1xuICAgICAgICAgKiBhY2NlcHRzIDEgcGFyYW06IGVycm9yXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1J1bm5lcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25FcnJvciA9IG5ldyBSdW5uZXIoJ29uRXJyb3InKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmluZCB0byBhIHBhcmVudCBCYXNlVGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFBhcmVudCB0ZXh0dXJlXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5vblJlc2l6ZS5hZGQoYmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLm9uVXBkYXRlLmFkZChiYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMub25FcnJvci5hZGQoYmFzZVRleHR1cmUpO1xuICAgICAgICAvLyBDYWxsIGEgcmVzaXplIGltbWVkaWF0ZSBpZiB3ZSBhbHJlYWR5XG4gICAgICAgIC8vIGhhdmUgdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgICAgIGlmICh0aGlzLl93aWR0aCB8fCB0aGlzLl9oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMub25SZXNpemUuZW1pdCh0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5iaW5kIHRvIGEgcGFyZW50IEJhc2VUZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUGFyZW50IHRleHR1cmVcbiAgICAgKi9cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHRoaXMub25SZXNpemUucmVtb3ZlKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZS5yZW1vdmUoYmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLm9uRXJyb3IucmVtb3ZlKGJhc2VUZXh0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgYSByZXNpemUgZXZlbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBYIGRpbWVuc2lvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBZIGRpbWVuc2lvblxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICBpZiAod2lkdGggIT09IHRoaXMuX3dpZHRoIHx8IGhlaWdodCAhPT0gdGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZS5lbWl0KHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzb3VyY2UucHJvdG90eXBlLCBcInZhbGlkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhcyBiZWVuIHZhbGlkYXRlZFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5fd2lkdGggJiYgISF0aGlzLl9oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBIYXMgYmVlbiB1cGRhdGVkIHRyaWdnZXIgZXZlbnRcbiAgICAgKi9cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlLmVtaXQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBjYW4gYmUgb3ZlcnJpZGRlbiB0byBzdGFydCBwcmVsb2FkaW5nIGEgcmVzb3VyY2VcbiAgICAgKiBvciBkbyBhbnkgb3RoZXIgcHJlcGFyZSBzdGVwLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fSBIYW5kbGUgdGhlIHZhbGlkYXRlIGV2ZW50XG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzb3VyY2UucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXNvdXJjZS5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzdHlsZSwgb3B0aW9uYWwgdG8gb3ZlcnJpZGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSB5ZWFoLCByZW5kZXJlciFcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgLSB0ZXh0dXJlIGluc3RhbmNlIGZvciB0aGlzIHdlYmdsIGNvbnRleHRcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuc3R5bGUgPSBmdW5jdGlvbiAoX3JlbmRlcmVyLCBfYmFzZVRleHR1cmUsIF9nbFRleHR1cmUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAgYW55dGhpbmcsIHRoaXMgaGFwcGVucyB3aGVuIGRlc3Ryb3lpbmcgaXMgcmVhZHkuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIG92ZXJyaWRlXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsIHdoZW4gZGVzdHJveWluZyByZXNvdXJjZSwgdW5iaW5kIGFueSBCYXNlVGV4dHVyZSBvYmplY3RcbiAgICAgKiBiZWZvcmUgY2FsbGluZyB0aGlzIG1ldGhvZCwgYXMgcmVmZXJlbmNlIGNvdW50cyBhcmUgbWFpbnRhaW5lZFxuICAgICAqIGludGVybmFsbHkuXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5vbkVycm9yLnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgdGhpcy5vbkVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25SZXNpemUucmVtb3ZlQWxsKCk7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25VcGRhdGUucmVtb3ZlQWxsKCk7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWJzdHJhY3QsIHVzZWQgdG8gYXV0by1kZXRlY3QgcmVzb3VyY2UgdHlwZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uIC0gVGhlIGV4dGVuc2lvbiBvZiBzb3VyY2UsIGlmIHNldFxuICAgICAqL1xuICAgIFJlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoX3NvdXJjZSwgX2V4dGVuc2lvbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzb3VyY2U7XG59KCkpO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgU2hhcmVkQXJyYXlCdWZmZXJcbiAqL1xuLyoqXG4gKiBCdWZmZXIgcmVzb3VyY2Ugd2l0aCBkYXRhIG9mIHR5cGVkIGFycmF5LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbnZhciBCdWZmZXJSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQnVmZmVyUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8VWludDhBcnJheXxVaW50MzJBcnJheX0gc291cmNlIC0gU291cmNlIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gT3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLndpZHRoIC0gV2lkdGggb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5oZWlnaHQgLSBIZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCdWZmZXJSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hID0gb3B0aW9ucyB8fCB7fSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICBpZiAoIXdpZHRoIHx8ICFoZWlnaHQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQnVmZmVyUmVzb3VyY2Ugd2lkdGggb3IgaGVpZ2h0IGludmFsaWQnKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTb3VyY2UgYXJyYXlcbiAgICAgICAgICogQ2Fubm90IGJlIENsYW1wZWRVaW50OEFycmF5IGJlY2F1c2UgaXQgY2FudCBiZSB1cGxvYWRlZCB0byBXZWJHTFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl8VWludDhBcnJheXxVaW50MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRhdGEgPSBzb3VyY2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSB0ZXh0dXJlIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFVwbG9hZCB0byB0aGUgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVmZXJlbmNlIHRvIHBhcmVudCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gZ2xUZXh0dXJlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIEJ1ZmZlclJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiAocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0spO1xuICAgICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoID09PSBiYXNlVGV4dHVyZS53aWR0aCAmJiBnbFRleHR1cmUuaGVpZ2h0ID09PSBiYXNlVGV4dHVyZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoYmFzZVRleHR1cmUudGFyZ2V0LCAwLCAwLCAwLCBiYXNlVGV4dHVyZS53aWR0aCwgYmFzZVRleHR1cmUuaGVpZ2h0LCBiYXNlVGV4dHVyZS5mb3JtYXQsIGJhc2VUZXh0dXJlLnR5cGUsIHRoaXMuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbFRleHR1cmUud2lkdGggPSBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBiYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0LCBiYXNlVGV4dHVyZS53aWR0aCwgYmFzZVRleHR1cmUuaGVpZ2h0LCAwLCBiYXNlVGV4dHVyZS5mb3JtYXQsIGdsVGV4dHVyZS50eXBlLCB0aGlzLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXNcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBCdWZmZXJSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHsqfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiA8Y2FudmFzPlxuICAgICAqL1xuICAgIEJ1ZmZlclJlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXlcbiAgICAgICAgICAgIHx8IHNvdXJjZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXlcbiAgICAgICAgICAgIHx8IHNvdXJjZSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5O1xuICAgIH07XG4gICAgcmV0dXJuIEJ1ZmZlclJlc291cmNlO1xufShSZXNvdXJjZSkpO1xuXG52YXIgZGVmYXVsdEJ1ZmZlck9wdGlvbnMgPSB7XG4gICAgc2NhbGVNb2RlOiBTQ0FMRV9NT0RFUy5ORUFSRVNULFxuICAgIGZvcm1hdDogRk9STUFUUy5SR0JBLFxuICAgIGFscGhhTW9kZTogQUxQSEFfTU9ERVMuTlBNLFxufTtcbi8qKlxuICogQSBUZXh0dXJlIHN0b3JlcyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlLlxuICogQWxsIHRleHR1cmVzIGhhdmUgYSBiYXNlIHRleHR1cmUsIHdoaWNoIGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzb3VyY2UuXG4gKiBUaGVyZWZvcmUgeW91IGNhbiBoYXZlIG1hbnkgdGV4dHVyZXMgYWxsIHVzaW5nIGEgc2luZ2xlIEJhc2VUZXh0dXJlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwYXJhbSB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V8c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW3Jlc291cmNlPW51bGxdXG4gKiAgICAgICAgVGhlIGN1cnJlbnQgcmVzb3VyY2UgdG8gdXNlLCBmb3IgdGhpbmdzIHRoYXQgYXJlbid0IFJlc291cmNlIG9iamVjdHMsIHdpbGwgYmUgY29udmVydGVkXG4gKiAgICAgICAgaW50byBhIFJlc291cmNlLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIENvbGxlY3Rpb24gb2Ygb3B0aW9uc1xuICogQHBhcmFtIHtQSVhJLk1JUE1BUF9NT0RFU30gW29wdGlvbnMubWlwbWFwPVBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTXSAtIElmIG1pcG1hcHBpbmcgaXMgZW5hYmxlZCBmb3IgdGV4dHVyZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFuaXNvdHJvcGljTGV2ZWw9UElYSS5zZXR0aW5ncy5BTklTT1RST1BJQ19MRVZFTF0gLSBBbmlzb3Ryb3BpYyBmaWx0ZXJpbmcgbGV2ZWwgb2YgdGV4dHVyZVxuICogQHBhcmFtIHtQSVhJLldSQVBfTU9ERVN9IFtvcHRpb25zLndyYXBNb2RlPVBJWEkuc2V0dGluZ3MuV1JBUF9NT0RFXSAtIFdyYXAgbW9kZSBmb3IgdGV4dHVyZXNcbiAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW29wdGlvbnMuc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBEZWZhdWx0IHNjYWxlIG1vZGUsIGxpbmVhciwgbmVhcmVzdFxuICogQHBhcmFtIHtQSVhJLkZPUk1BVFN9IFtvcHRpb25zLmZvcm1hdD1QSVhJLkZPUk1BVFMuUkdCQV0gLSBHTCBmb3JtYXQgdHlwZVxuICogQHBhcmFtIHtQSVhJLlRZUEVTfSBbb3B0aW9ucy50eXBlPVBJWEkuVFlQRVMuVU5TSUdORURfQllURV0gLSBHTCBkYXRhIHR5cGVcbiAqIEBwYXJhbSB7UElYSS5UQVJHRVRTfSBbb3B0aW9ucy50YXJnZXQ9UElYSS5UQVJHRVRTLlRFWFRVUkVfMkRdIC0gR0wgdGV4dHVyZSB0YXJnZXRcbiAqIEBwYXJhbSB7UElYSS5BTFBIQV9NT0RFU30gW29wdGlvbnMuYWxwaGFNb2RlPVBJWEkuQUxQSEFfTU9ERVMuVU5QQUNLXSAtIFByZSBtdWx0aXBseSB0aGUgaW1hZ2UgYWxwaGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0wXSAtIFdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTBdIC0gSGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbl0gLSBSZXNvbHV0aW9uIG9mIHRoZSBiYXNlIHRleHR1cmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5yZXNvdXJjZU9wdGlvbnNdIC0gT3B0aW9uYWwgcmVzb3VyY2Ugb3B0aW9ucyxcbiAqICAgICAgICBzZWUge0BsaW5rIFBJWEkucmVzb3VyY2VzLmF1dG9EZXRlY3RSZXNvdXJjZSBhdXRvRGV0ZWN0UmVzb3VyY2V9XG4gKi9cbnZhciBCYXNlVGV4dHVyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFzZVRleHR1cmUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmFzZVRleHR1cmUocmVzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHJlc291cmNlID09PSB2b2lkIDApIHsgcmVzb3VyY2UgPSBudWxsOyB9XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IG51bGw7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHZhciBhbHBoYU1vZGUgPSBvcHRpb25zLmFscGhhTW9kZSwgbWlwbWFwID0gb3B0aW9ucy5taXBtYXAsIGFuaXNvdHJvcGljTGV2ZWwgPSBvcHRpb25zLmFuaXNvdHJvcGljTGV2ZWwsIHNjYWxlTW9kZSA9IG9wdGlvbnMuc2NhbGVNb2RlLCB3aWR0aCA9IG9wdGlvbnMud2lkdGgsIGhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0LCB3cmFwTW9kZSA9IG9wdGlvbnMud3JhcE1vZGUsIGZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0LCB0eXBlID0gb3B0aW9ucy50eXBlLCB0YXJnZXQgPSBvcHRpb25zLnRhcmdldCwgcmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbiwgcmVzb3VyY2VPcHRpb25zID0gb3B0aW9ucy5yZXNvdXJjZU9wdGlvbnM7XG4gICAgICAgIC8vIENvbnZlcnQgdGhlIHJlc291cmNlIHRvIGEgUmVzb3VyY2Ugb2JqZWN0XG4gICAgICAgIGlmIChyZXNvdXJjZSAmJiAhKHJlc291cmNlIGluc3RhbmNlb2YgUmVzb3VyY2UpKSB7XG4gICAgICAgICAgICByZXNvdXJjZSA9IGF1dG9EZXRlY3RSZXNvdXJjZShyZXNvdXJjZSwgcmVzb3VyY2VPcHRpb25zKTtcbiAgICAgICAgICAgIHJlc291cmNlLmludGVybmFsID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndpZHRoID0gd2lkdGggfHwgMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJhc2UgdGV4dHVyZSBzZXQgd2hlbiB0aGUgaW1hZ2UgaGFzIGxvYWRlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGVpZ2h0ID0gaGVpZ2h0IHx8IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pcG1hcCBtb2RlIG9mIHRoZSB0ZXh0dXJlLCBhZmZlY3RzIGRvd25zY2FsZWQgaW1hZ2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTUlQTUFQX01PREVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWlwbWFwID0gbWlwbWFwICE9PSB1bmRlZmluZWQgPyBtaXBtYXAgOiBzZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbmlzb3Ryb3BpYyBmaWx0ZXJpbmcgbGV2ZWwgb2YgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuQU5JU09UUk9QSUNfTEVWRUxcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuaXNvdHJvcGljTGV2ZWwgPSBhbmlzb3Ryb3BpY0xldmVsICE9PSB1bmRlZmluZWQgPyBhbmlzb3Ryb3BpY0xldmVsIDogc2V0dGluZ3MuQU5JU09UUk9QSUNfTEVWRUw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgdGhlIHRleHR1cmUgd3JhcHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMud3JhcE1vZGUgPSB3cmFwTW9kZSB8fCBzZXR0aW5ncy5XUkFQX01PREU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgbW9kZSB0byBhcHBseSB3aGVuIHNjYWxpbmcgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU0NBTEVfTU9ERVN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2NhbGVNb2RlID0gc2NhbGVNb2RlICE9PSB1bmRlZmluZWQgPyBzY2FsZU1vZGUgOiBzZXR0aW5ncy5TQ0FMRV9NT0RFO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBpeGVsIGZvcm1hdCBvZiB0aGUgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZPUk1BVFN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuRk9STUFUUy5SR0JBXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mb3JtYXQgPSBmb3JtYXQgfHwgRk9STUFUUy5SR0JBO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgcmVzb3VyY2UgZGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRZUEVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlRZUEVTLlVOU0lHTkVEX0JZVEVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnR5cGUgPSB0eXBlIHx8IFRZUEVTLlVOU0lHTkVEX0JZVEU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGFyZ2V0IHR5cGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UQVJHRVRTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlRBUkdFVFMuVEVYVFVSRV8yRFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGFyZ2V0ID0gdGFyZ2V0IHx8IFRBUkdFVFMuVEVYVFVSRV8yRDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvdyB0byB0cmVhdCBwcmVtdWx0aXBsaWVkIGFscGhhLCBzZWUge0BsaW5rIFBJWEkuQUxQSEFfTU9ERVN9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkFMUEhBX01PREVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkFMUEhBX01PREVTLlVOUEFDS1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWxwaGFNb2RlID0gYWxwaGFNb2RlICE9PSB1bmRlZmluZWQgPyBhbHBoYU1vZGUgOiBBTFBIQV9NT0RFUy5VTlBBQ0s7XG4gICAgICAgIGlmIChvcHRpb25zLnByZW11bHRpcGx5QWxwaGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gdHJpZ2dlcnMgZGVwcmVjYXRpb25cbiAgICAgICAgICAgIF90aGlzLnByZW11bHRpcGx5QWxwaGEgPSBvcHRpb25zLnByZW11bHRpcGx5QWxwaGE7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdsb2JhbCB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBCYXNlVGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVpZCA9IHVpZCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBieSBhdXRvbWF0aWMgdGV4dHVyZSBHYXJiYWdlIENvbGxlY3Rpb24sIHN0b3JlcyBsYXN0IEdDIHRpY2sgd2hlbiBpdCB3YXMgYm91bmRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50b3VjaGVkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSB0ZXh0dXJlIGlzIGEgcG93ZXIgb2YgdHdvLCB0cnkgdG8gdXNlIHBvd2VyIG9mIHR3byB0ZXh0dXJlcyBhcyBtdWNoXG4gICAgICAgICAqIGFzIHlvdSBjYW5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc1Bvd2VyT2ZUd28gPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX3JlZnJlc2hQT1QoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXAgb2YgcmVuZGVyIGNvbnRleHQgdGV4dHVyZXMgd2hlcmUgdGhpcyBpcyBib3VuZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZ2xUZXh0dXJlcyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBieSBUZXh0dXJlU3lzdGVtIHRvIG9ubHkgdXBkYXRlIHRleHR1cmUgdG8gdGhlIEdQVSB3aGVuIG5lZWRlZC5cbiAgICAgICAgICogUGxlYXNlIGNhbGwgYHVwZGF0ZSgpYCB0byBpbmNyZW1lbnQgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kaXJ0eUlkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYnkgVGV4dHVyZVN5c3RlbSB0byBvbmx5IHVwZGF0ZSB0ZXh0dXJlIHN0eWxlIHdoZW4gbmVlZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRpcnR5U3R5bGVJZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50bHkgZGVmYXVsdCBjYWNoZSBJRC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FjaGVJZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZW5lcmFsbHkgc3BlYWtpbmcgbWVhbnMgd2hlbiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmFsaWQgPSB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGFsdGVybmF0aXZlIGNhY2hlIGlkcywgc2luY2Ugc29tZSBCYXNlVGV4dHVyZXNcbiAgICAgICAgICogY2FuIGhhdmUgbW9yZSB0aGFuIG9uZSBJRCwgc2hvcnQgbmFtZSBhbmQgbG9uZ2VyIGZ1bGwgVVJMXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PHN0cmluZz59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dHVyZUNhY2hlSWRzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGFnIGlmIEJhc2VUZXh0dXJlIGhhcyBiZWVuIGRlc3Ryb3llZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvdXJjZSB1c2VkIGJ5IHRoaXMgQmFzZVRleHR1cmUsIHRoZXJlIGNhbiBvbmx5XG4gICAgICAgICAqIGJlIG9uZSByZXNvdXJjZSBwZXIgQmFzZVRleHR1cmUsIGJ1dCB0ZXh0dXJlcyBjYW4gc2hhcmVcbiAgICAgICAgICogcmVzb3VyY2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvdXJjZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgdGhlIHRleHR1cmUgYmF0Y2gsIHVzZWQgYnkgbXVsdGktdGV4dHVyZSByZW5kZXJlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhdGNoRW5hYmxlZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2NhdGlvbiBpbnNpZGUgdGV4dHVyZSBiYXRjaCwgdXNlZCBieSBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmF0Y2hMb2NhdGlvbiA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGl0cyBhIHBhcnQgb2YgYW5vdGhlciB0ZXh0dXJlLCBoYW5kbGVkIGJ5IEFycmF5UmVzb3VyY2Ugb3IgQ3ViZVJlc291cmNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wYXJlbnRUZXh0dXJlQXJyYXkgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUgc291cmNlIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjbG9hZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBsb2FkZWQuXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUgc291cmNlIGZhaWxzIHRvIGxvYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZXJyb3JcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGVycm9yZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RXJyb3JFdmVudH0gZXZlbnQgLSBMb2FkIGVycm9yIGV2ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNsb2FkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGxvYWRlZC5cbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjdXBkYXRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBJbnN0YW5jZSBvZiB0ZXh0dXJlIGJlaW5nIHVwZGF0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyBkZXN0cm95ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyBkZXN0cm95ZWQuXG4gICAgICAgICAqL1xuICAgICAgICAvLyBTZXQgdGhlIHJlc291cmNlXG4gICAgICAgIF90aGlzLnNldFJlc291cmNlKHJlc291cmNlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZVRleHR1cmUucHJvdG90eXBlLCBcInJlYWxXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQaXhlbCB3aWR0aCBvZiB0aGUgc291cmNlIG9mIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKCh0aGlzLndpZHRoICogdGhpcy5yZXNvbHV0aW9uKSAtIDFlLTQpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VUZXh0dXJlLnByb3RvdHlwZSwgXCJyZWFsSGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBpeGVsIGhlaWdodCBvZiB0aGUgc291cmNlIG9mIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKCh0aGlzLmhlaWdodCAqIHRoaXMucmVzb2x1dGlvbikgLSAxZS00KTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgc3R5bGUgb3B0aW9ucyBvZiBCYXNlVGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbc2NhbGVNb2RlXSAtIFBpeGkgc2NhbGVtb2RlXG4gICAgICogQHBhcmFtIHtQSVhJLk1JUE1BUF9NT0RFU30gW21pcG1hcF0gLSBlbmFibGUgbWlwbWFwc1xuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFN0eWxlID0gZnVuY3Rpb24gKHNjYWxlTW9kZSwgbWlwbWFwKSB7XG4gICAgICAgIHZhciBkaXJ0eTtcbiAgICAgICAgaWYgKHNjYWxlTW9kZSAhPT0gdW5kZWZpbmVkICYmIHNjYWxlTW9kZSAhPT0gdGhpcy5zY2FsZU1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGVNb2RlID0gc2NhbGVNb2RlO1xuICAgICAgICAgICAgZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtaXBtYXAgIT09IHVuZGVmaW5lZCAmJiBtaXBtYXAgIT09IHRoaXMubWlwbWFwKSB7XG4gICAgICAgICAgICB0aGlzLm1pcG1hcCA9IG1pcG1hcDtcbiAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHlTdHlsZUlkKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHcvaC9yZXNvbHV0aW9uLiBUZXh0dXJlIGJlY29tZXMgdmFsaWQgaWYgd2lkdGggYW5kIGhlaWdodCBhcmUgZ3JlYXRlciB0aGFuIHplcm8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBWaXN1YWwgd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVmlzdWFsIGhlaWdodFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gLSBPcHRpb25hbGx5IHNldCByZXNvbHV0aW9uXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLl9yZWZyZXNoUE9UKCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyByZWFsIHNpemUgb2YgYmFzZVRleHR1cmUsIHByZXNlcnZlcyBjdXJyZW50IHJlc29sdXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbFdpZHRoIC0gRnVsbCByZW5kZXJlZCB3aWR0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZWFsSGVpZ2h0IC0gRnVsbCByZW5kZXJlZCBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIC0gT3B0aW9uYWxseSBzZXQgcmVzb2x1dGlvblxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFJlYWxTaXplID0gZnVuY3Rpb24gKHJlYWxXaWR0aCwgcmVhbEhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy53aWR0aCA9IHJlYWxXaWR0aCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSByZWFsSGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLl9yZWZyZXNoUE9UKCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVmcmVzaCBjaGVjayBmb3IgaXNQb3dlck9mVHdvIHRleHR1cmUgYmFzZWQgb24gc2l6ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX3JlZnJlc2hQT1QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaXNQb3dlck9mVHdvID0gaXNQb3cyKHRoaXMucmVhbFdpZHRoKSAmJiBpc1BvdzIodGhpcy5yZWFsSGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgcmVzb2x1dGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSByZXNcbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRSZXNvbHV0aW9uID0gZnVuY3Rpb24gKHJlc29sdXRpb24pIHtcbiAgICAgICAgdmFyIG9sZFJlc29sdXRpb24gPSB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIGlmIChvbGRSZXNvbHV0aW9uID09PSByZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBpZiAodGhpcy52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMud2lkdGggKiBvbGRSZXNvbHV0aW9uIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKiBvbGRSZXNvbHV0aW9uIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHJlc291cmNlIGlmIGl0IHdhc24ndCBzZXQuIFRocm93cyBlcnJvciBpZiByZXNvdXJjZSBhbHJlYWR5IHByZXNlbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9IHJlc291cmNlIC0gdGhhdCBpcyBtYW5hZ2luZyB0aGlzIEJhc2VUZXh0dXJlXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0UmVzb3VyY2UgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UgPT09IHJlc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNvdXJjZSBjYW4gYmUgc2V0IG9ubHkgb25jZScpO1xuICAgICAgICB9XG4gICAgICAgIHJlc291cmNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSByZXNvdXJjZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnZhbGlkYXRlcyB0aGUgb2JqZWN0LiBUZXh0dXJlIGJlY29tZXMgdmFsaWQgaWYgd2lkdGggYW5kIGhlaWdodCBhcmUgZ3JlYXRlciB0aGFuIHplcm8uXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy53aWR0aCA+IDAgJiYgdGhpcy5oZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdsb2FkZWQnLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCsrO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGVycm9ycyB3aXRoIHJlc291cmNlcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXJyb3JFdmVudH0gZXZlbnQgLSBFcnJvciBldmVudCBlbWl0dGVkLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB0aGlzLCBldmVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGJhc2UgdGV4dHVyZS5cbiAgICAgKiBUaGUgbWV0aG9kIHN0b3BzIGlmIHJlc291cmNlIGRvZXNuJ3Qgd2FudCB0aGlzIHRleHR1cmUgdG8gYmUgZGVzdHJveWVkLlxuICAgICAqIFJlbW92ZXMgdGV4dHVyZSBmcm9tIGFsbCBjYWNoZXMuXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHJlbW92ZSBhbmQgZGVzdHJveSB0aGUgcmVzb3VyY2VcbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2UudW5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgLy8gb25seSBkZXN0cm95IHJlc291cmNlZCBjcmVhdGVkIGludGVybmFsbHlcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc291cmNlLmludGVybmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jYWNoZUlkKSB7XG4gICAgICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVt0aGlzLmNhY2hlSWRdO1xuICAgICAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVt0aGlzLmNhY2hlSWRdO1xuICAgICAgICAgICAgdGhpcy5jYWNoZUlkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBmaW5hbGx5IGxldCB0aGUgV2ViR0wgcmVuZGVyZXIga25vdy4uXG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRnJlZXMgdGhlIHRleHR1cmUgZnJvbSBXZWJHTCBtZW1vcnkgd2l0aG91dCBkZXN0cm95aW5nIHRoaXMgdGV4dHVyZSBvYmplY3QuXG4gICAgICogVGhpcyBtZWFucyB5b3UgY2FuIHN0aWxsIHVzZSB0aGUgdGV4dHVyZSBsYXRlciB3aGljaCB3aWxsIHVwbG9hZCBpdCB0byBHUFVcbiAgICAgKiBtZW1vcnkgYWdhaW4uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZGlzcG9zZScsIHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgQmFzZVRleHR1cmV8VGV4dHVyZSBjYXN0XG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmNhc3RUb0Jhc2VUZXh0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBiYXNlIHRleHR1cmUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGltYWdlIHVybCwgaW1hZ2UgZWxlbWVudCwgY2FudmFzIGVsZW1lbnQuIElmIHRoZVxuICAgICAqIHNvdXJjZSBpcyBhbiBpbWFnZSB1cmwgb3IgYW4gaW1hZ2UgZWxlbWVudCBhbmQgbm90IGluIHRoZSBiYXNlIHRleHR1cmVcbiAgICAgKiBjYWNoZSwgaXQgd2lsbCBiZSBjcmVhdGVkIGFuZCBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxTVkdFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFRoZVxuICAgICAqICAgICAgICBzb3VyY2UgdG8gY3JlYXRlIGJhc2UgdGV4dHVyZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0cmljdF0gLSBFbmZvcmNlIHN0cmljdC1tb2RlLCBzZWUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEV9LlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgbmV3IGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gKHNvdXJjZSwgb3B0aW9ucywgc3RyaWN0KSB7XG4gICAgICAgIGlmIChzdHJpY3QgPT09IHZvaWQgMCkgeyBzdHJpY3QgPSBzZXR0aW5ncy5TVFJJQ1RfVEVYVFVSRV9DQUNIRTsgfVxuICAgICAgICB2YXIgaXNGcmFtZSA9IHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnO1xuICAgICAgICB2YXIgY2FjaGVJZCA9IG51bGw7XG4gICAgICAgIGlmIChpc0ZyYW1lKSB7XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UuX3BpeGlJZCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZS5fcGl4aUlkID0gXCJwaXhpaWRfXCIgKyB1aWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhY2hlSWQgPSBzb3VyY2UuX3BpeGlJZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBCYXNlVGV4dHVyZUNhY2hlW2NhY2hlSWRdO1xuICAgICAgICAvLyBTdHJpY3QtbW9kZSByZWplY3RzIGludmFsaWQgY2FjaGVJZHNcbiAgICAgICAgaWYgKGlzRnJhbWUgJiYgc3RyaWN0ICYmICFiYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGNhY2hlSWQgXFxcIlwiICsgY2FjaGVJZCArIFwiXFxcIiBkb2VzIG5vdCBleGlzdCBpbiBCYXNlVGV4dHVyZUNhY2hlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICAgICAgYmFzZVRleHR1cmUuY2FjaGVJZCA9IGNhY2hlSWQ7XG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBjYWNoZUlkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgQmFzZVRleHR1cmUgd2l0aCBhIEJ1ZmZlclJlc291cmNlIGZyb20gYSBGbG9hdDMyQXJyYXkuXG4gICAgICogUkdCQSB2YWx1ZXMgYXJlIGZsb2F0cyBmcm9tIDAgdG8gMS5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8VWludDhBcnJheX0gYnVmZmVyIC0gVGhlIG9wdGlvbmFsIGFycmF5IHRvIHVzZSwgaWYgbm8gZGF0YVxuICAgICAqICAgICAgICBpcyBwcm92aWRlZCwgYSBuZXcgRmxvYXQzMkFycmF5IGlzIGNyZWF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgcmVzdWx0aW5nIG5ldyBCYXNlVGV4dHVyZVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmZyb21CdWZmZXIgPSBmdW5jdGlvbiAoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIGJ1ZmZlciA9IGJ1ZmZlciB8fCBuZXcgRmxvYXQzMkFycmF5KHdpZHRoICogaGVpZ2h0ICogNCk7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IG5ldyBCdWZmZXJSZXNvdXJjZShidWZmZXIsIHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9KTtcbiAgICAgICAgdmFyIHR5cGUgPSBidWZmZXIgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgPyBUWVBFUy5GTE9BVCA6IFRZUEVTLlVOU0lHTkVEX0JZVEU7XG4gICAgICAgIHJldHVybiBuZXcgQmFzZVRleHR1cmUocmVzb3VyY2UsIE9iamVjdC5hc3NpZ24oZGVmYXVsdEJ1ZmZlck9wdGlvbnMsIG9wdGlvbnMgfHwgeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0LCB0eXBlOiB0eXBlIH0pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBCYXNlVGV4dHVyZSB0byB0aGUgZ2xvYmFsIEJhc2VUZXh0dXJlQ2FjaGUuIFRoaXMgY2FjaGUgaXMgc2hhcmVkIGFjcm9zcyB0aGUgd2hvbGUgUElYSSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBCYXNlVGV4dHVyZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCB0aGF0IHRoZSBCYXNlVGV4dHVyZSB3aWxsIGJlIHN0b3JlZCBhZ2FpbnN0LlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUsIGlkKSB7XG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGlkKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQmFzZVRleHR1cmVDYWNoZVtpZF0pIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkJhc2VUZXh0dXJlIGFkZGVkIHRvIHRoZSBjYWNoZSB3aXRoIGFuIGlkIFtcIiArIGlkICsgXCJdIHRoYXQgYWxyZWFkeSBoYWQgYW4gZW50cnlcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBCYXNlVGV4dHVyZUNhY2hlW2lkXSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBCYXNlVGV4dHVyZSBmcm9tIHRoZSBnbG9iYWwgQmFzZVRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIGlkIG9mIGEgQmFzZVRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBCYXNlVGV4dHVyZSBpbnN0YW5jZSBpdHNlbGYuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZXxudWxsfSBUaGUgQmFzZVRleHR1cmUgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiYXNlVGV4dHVyZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZUZyb21DYWNoZSA9IEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVdO1xuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlRnJvbUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gYmFzZVRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlRnJvbUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGJhc2VUZXh0dXJlICYmIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHbG9iYWwgbnVtYmVyIG9mIHRoZSB0ZXh0dXJlIGJhdGNoLCB1c2VkIGJ5IG11bHRpLXRleHR1cmUgcmVuZGVyZXJzXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaCA9IDA7XG4gICAgcmV0dXJuIEJhc2VUZXh0dXJlO1xufShFdmVudEVtaXR0ZXIpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0aGF0IGNhbiBtYW5hZ2Ugc2V2ZXJhbCByZXNvdXJjZSAoaXRlbXMpIGluc2lkZS5cbiAqIEFsbCByZXNvdXJjZXMgbmVlZCB0byBoYXZlIHRoZSBzYW1lIHBpeGVsIHNpemUuXG4gKiBQYXJlbnQgY2xhc3MgZm9yIEN1YmVSZXNvdXJjZSBhbmQgQXJyYXlSZXNvdXJjZVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIHRvIGZvciBSZXNvdXJjZSBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gLSBIZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gKi9cbnZhciBBYnN0cmFjdE11bHRpUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFic3RyYWN0TXVsdGlSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdE11bHRpUmVzb3VyY2UobGVuZ3RoLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMgfHwge30sIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBwYXJ0aWFsIGJhc2VUZXh0dXJlcyB0aGF0IGNvcnJlc3BvbmQgdG8gcmVzb3VyY2VzXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PFBJWEkuQmFzZVRleHR1cmU+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLml0ZW1zID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXJ0eSBJRHMgZm9yIGVhY2ggcGFydFxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLml0ZW1EaXJ0eUlkcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFydFRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoKTtcbiAgICAgICAgICAgIF90aGlzLml0ZW1zLnB1c2gocGFydFRleHR1cmUpO1xuICAgICAgICAgICAgLy8gLTIgLSBmaXJzdCBydW4gb2YgdGV4dHVyZSBhcnJheSB1cGxvYWRcbiAgICAgICAgICAgIC8vIC0xIC0gdGV4dHVyZSBpdGVtIHdhcyBhbGxvY2F0ZWRcbiAgICAgICAgICAgIC8vID49MCAtIHRleHR1cmUgaXRlbSB1cGxvYWRlZCAsIGluIHN5bmMgd2l0aCBpdGVtc1tpXS5kaXJ0eUlkXG4gICAgICAgICAgICBfdGhpcy5pdGVtRGlydHlJZHMucHVzaCgtMik7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBlbGVtZW50cyBpbiBhcnJheVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xvYWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQm91bmQgYmFzZVRleHR1cmUsIHRoZXJlIGNhbiBvbmx5IGJlIG9uZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHVzZWQgZnJvbSBBcnJheVJlc291cmNlIGFuZCBDdWJlUmVzb3VyY2UgY29uc3RydWN0b3JzXG4gICAgICogQHBhcmFtIHtBcnJheTwqPn0gcmVzb3VyY2VzIC0gQ2FuIGJlIHJlc291cmNlcywgaW1hZ2UgZWxlbWVudHMsIGNhbnZhcywgZXRjLiAsXG4gICAgICogIGxlbmd0aCBzaG91bGQgYmUgc2FtZSBhcyBjb25zdHJ1Y3RvciBsZW5ndGhcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gZGV0ZWN0IG9wdGlvbnMgZm9yIHJlc291cmNlc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2UucHJvdG90eXBlLmluaXRGcm9tQXJyYXkgPSBmdW5jdGlvbiAocmVzb3VyY2VzLCBvcHRpb25zKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFyZXNvdXJjZXNbaV0pIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXNvdXJjZXNbaV0uY2FzdFRvQmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEJhc2VUZXh0dXJlQXQocmVzb3VyY2VzW2ldLmNhc3RUb0Jhc2VUZXh0dXJlKCksIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVzb3VyY2VzW2ldIGluc3RhbmNlb2YgUmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFJlc291cmNlQXQocmVzb3VyY2VzW2ldLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUmVzb3VyY2VBdChhdXRvRGV0ZWN0UmVzb3VyY2UocmVzb3VyY2VzW2ldLCBvcHRpb25zKSwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhpcyBCYXNlSW1hZ2VSZXNvdXJjZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEFic3RyYWN0TXVsdGlSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXRlbXMgPSBudWxsO1xuICAgICAgICB0aGlzLml0ZW1EaXJ0eUlkcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IGEgcmVzb3VyY2UgYnkgSURcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9IHJlc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gWmVyby1iYXNlZCBpbmRleCBvZiByZXNvdXJjZSB0byBzZXRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLnJlc291cmNlcy5BcnJheVJlc291cmNlfSBJbnN0YW5jZSBmb3IgY2hhaW5pbmdcbiAgICAgKi9cbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2UucHJvdG90eXBlLmFkZFJlc291cmNlQXQgPSBmdW5jdGlvbiAocmVzb3VyY2UsIGluZGV4KSB7XG4gICAgICAgIGlmICghdGhpcy5pdGVtc1tpbmRleF0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkluZGV4IFwiICsgaW5kZXggKyBcIiBpcyBvdXQgb2YgYm91bmRzXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluaGVyaXQgdGhlIGZpcnN0IHJlc291cmNlIGRpbWVuc2lvbnNcbiAgICAgICAgaWYgKHJlc291cmNlLnZhbGlkICYmICF0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZShyZXNvdXJjZS53aWR0aCwgcmVzb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLml0ZW1zW2luZGV4XS5zZXRSZXNvdXJjZShyZXNvdXJjZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwYXJlbnQgYmFzZSB0ZXh0dXJlXG4gICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT25seSBvbmUgYmFzZSB0ZXh0dXJlIHBlciBUZXh0dXJlQXJyYXkgaXMgYWxsb3dlZCcpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLnBhcmVudFRleHR1cmVBcnJheSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5vbigndXBkYXRlJywgYmFzZVRleHR1cmUudXBkYXRlLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuc2V0IHRoZSBwYXJlbnQgYmFzZSB0ZXh0dXJlXG4gICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2UucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuYmluZC5jYWxsKHRoaXMsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLnBhcmVudFRleHR1cmVBcnJheSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLm9mZigndXBkYXRlJywgYmFzZVRleHR1cmUudXBkYXRlLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWQgYWxsIHRoZSByZXNvdXJjZXMgc2ltdWx0YW5lb3VzbHlcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fSBXaGVuIGxvYWQgaXMgcmVzb2x2ZWRcbiAgICAgKi9cbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzb3VyY2VzID0gdGhpcy5pdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0ucmVzb3VyY2U7IH0pLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbTsgfSk7XG4gICAgICAgIC8vIFRPRE86IGFsc28gaW1wbGVtZW50IGxvYWQgcGFydC1ieS1wYXJ0IHN0cmF0ZWd5XG4gICAgICAgIHZhciBwcm9taXNlcyA9IHJlc291cmNlcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0ubG9hZCgpOyB9KTtcbiAgICAgICAgdGhpcy5fbG9hZCA9IFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMuaXRlbXNbMF0sIHJlYWxXaWR0aCA9IF9hLnJlYWxXaWR0aCwgcmVhbEhlaWdodCA9IF9hLnJlYWxIZWlnaHQ7XG4gICAgICAgICAgICBfdGhpcy5yZXNpemUocmVhbFdpZHRoLCByZWFsSGVpZ2h0KTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoX3RoaXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfTtcbiAgICByZXR1cm4gQWJzdHJhY3RNdWx0aVJlc291cmNlO1xufShSZXNvdXJjZSkpO1xuXG4vKipcbiAqIEEgcmVzb3VyY2UgdGhhdCBjb250YWlucyBhIG51bWJlciBvZiBzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtudW1iZXJ8QXJyYXk8Kj59IHNvdXJjZSAtIE51bWJlciBvZiBpdGVtcyBpbiBhcnJheSBvciB0aGUgY29sbGVjdGlvblxuICogICAgICAgIG9mIGltYWdlIFVSTHMgdG8gdXNlLiBDYW4gYWxzbyBiZSByZXNvdXJjZXMsIGltYWdlIGVsZW1lbnRzLCBjYW52YXMsIGV0Yy5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zIHRvIGFwcGx5IHRvIHtAbGluayBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2V9XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAqL1xudmFyIEFycmF5UmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFycmF5UmVzb3VyY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXJyYXlSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hID0gb3B0aW9ucyB8fCB7fSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICB2YXIgdXJscztcbiAgICAgICAgdmFyIGxlbmd0aDtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlKSkge1xuICAgICAgICAgICAgdXJscyA9IHNvdXJjZTtcbiAgICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZW5ndGggPSBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBsZW5ndGgsIHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9KSB8fCB0aGlzO1xuICAgICAgICBpZiAodXJscykge1xuICAgICAgICAgICAgX3RoaXMuaW5pdEZyb21BcnJheSh1cmxzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBhIGJhc2VUZXh0dXJlIGJ5IElELFxuICAgICAqIEFycmF5UmVzb3VyY2UganVzdCB0YWtlcyByZXNvdXJjZSBmcm9tIGl0LCBub3RoaW5nIG1vcmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBaZXJvLWJhc2VkIGluZGV4IG9mIHJlc291cmNlIHRvIHNldFxuICAgICAqIEByZXR1cm4ge1BJWEkucmVzb3VyY2VzLkFycmF5UmVzb3VyY2V9IEluc3RhbmNlIGZvciBjaGFpbmluZ1xuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLmFkZEJhc2VUZXh0dXJlQXQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUsIGluZGV4KSB7XG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS5yZXNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KGJhc2VUZXh0dXJlLnJlc291cmNlLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FycmF5UmVzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCBSZW5kZXJUZXh0dXJlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYmluZGluZ1xuICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV8yRF9BUlJBWTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgcmVzb3VyY2VzIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIHRleHR1cmUgd2FzIHVwbG9hZGVkXG4gICAgICovXG4gICAgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKHJlbmRlcmVyLCB0ZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgbGVuZ3RoID0gX2EubGVuZ3RoLCBpdGVtRGlydHlJZHMgPSBfYS5pdGVtRGlydHlJZHMsIGl0ZW1zID0gX2EuaXRlbXM7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBpZiAoZ2xUZXh0dXJlLmRpcnR5SWQgPCAwKSB7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTNEKGdsLlRFWFRVUkVfMkRfQVJSQVksIDAsIHRleHR1cmUuZm9ybWF0LCB0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0LCBsZW5ndGgsIDAsIHRleHR1cmUuZm9ybWF0LCB0ZXh0dXJlLnR5cGUsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgICAgICBpZiAoaXRlbURpcnR5SWRzW2ldIDwgaXRlbS5kaXJ0eUlkKSB7XG4gICAgICAgICAgICAgICAgaXRlbURpcnR5SWRzW2ldID0gaXRlbS5kaXJ0eUlkO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsLnRleFN1YkltYWdlM0QoZ2wuVEVYVFVSRV8yRF9BUlJBWSwgMCwgMCwgLy8geG9mZnNldFxuICAgICAgICAgICAgICAgICAgICAwLCAvLyB5b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIGksIC8vIHpvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5yZXNvdXJjZS53aWR0aCwgaXRlbS5yZXNvdXJjZS5oZWlnaHQsIDEsIHRleHR1cmUuZm9ybWF0LCB0ZXh0dXJlLnR5cGUsIGl0ZW0ucmVzb3VyY2Uuc291cmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gQXJyYXlSZXNvdXJjZTtcbn0oQWJzdHJhY3RNdWx0aVJlc291cmNlKSk7XG5cbi8qKlxuICogQmFzZSBmb3IgYWxsIHRoZSBpbWFnZS9jYW52YXMgcmVzb3VyY2VzXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLlJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xudmFyIEJhc2VJbWFnZVJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlSW1hZ2VSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxTVkdFbGVtZW50fSBzb3VyY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlSW1hZ2VSZXNvdXJjZShzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHNvdXJjZUFueSA9IHNvdXJjZTtcbiAgICAgICAgdmFyIHdpZHRoID0gc291cmNlQW55Lm5hdHVyYWxXaWR0aCB8fCBzb3VyY2VBbnkudmlkZW9XaWR0aCB8fCBzb3VyY2VBbnkud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBzb3VyY2VBbnkubmF0dXJhbEhlaWdodCB8fCBzb3VyY2VBbnkudmlkZW9IZWlnaHQgfHwgc291cmNlQW55LmhlaWdodDtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNvdXJjZSBlbGVtZW50XG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxTVkdFbGVtZW50fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHNldCB0byBgdHJ1ZWAsIHdpbGwgZm9yY2UgYHRleEltYWdlMkRgIG92ZXIgYHRleFN1YkltYWdlMkRgIGZvciB1cGxvYWRpbmcuXG4gICAgICAgICAqIENlcnRhaW4gdHlwZXMgb2YgbWVkaWEgKGUuZy4gdmlkZW8pIHVzaW5nIGB0ZXhJbWFnZTJEYCBpcyBtb3JlIHBlcmZvcm1hbnQuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ub1N1YkltYWdlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGNyb3NzIG9yaWdpbiBiYXNlZCBkZXRlY3RpbmcgdGhlIHVybCBhbmQgdGhlIGNyb3Nzb3JpZ2luXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGFwcGx5IGNyb3NzT3JpZ2luXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFVSTCB0byBjaGVja1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxzdHJpbmd9IFtjcm9zc29yaWdpbj10cnVlXSAtIENyb3NzIG9yaWdpbiB2YWx1ZSB0byB1c2VcbiAgICAgKi9cbiAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbiA9IGZ1bmN0aW9uIChlbGVtZW50LCB1cmwsIGNyb3Nzb3JpZ2luKSB7XG4gICAgICAgIGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkICYmIHVybC5pbmRleE9mKCdkYXRhOicpICE9PSAwKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNyb3NzT3JpZ2luID0gZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjcm9zc29yaWdpbiAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY3Jvc3NPcmlnaW4gPSB0eXBlb2YgY3Jvc3NvcmlnaW4gPT09ICdzdHJpbmcnID8gY3Jvc3NvcmlnaW4gOiAnYW5vbnltb3VzJztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSB0ZXh0dXJlIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFVwbG9hZCB0byB0aGUgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVmZXJlbmNlIHRvIHBhcmVudCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8U1ZHRWxlbWVudH0gW3NvdXJjZV0gKG9wdGlvbmFsKVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciB3aWR0aCA9IGJhc2VUZXh0dXJlLnJlYWxXaWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGJhc2VUZXh0dXJlLnJlYWxIZWlnaHQ7XG4gICAgICAgIHNvdXJjZSA9IHNvdXJjZSB8fCB0aGlzLnNvdXJjZTtcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLlVOUEFDSyk7XG4gICAgICAgIGlmICghdGhpcy5ub1N1YkltYWdlXG4gICAgICAgICAgICAmJiBiYXNlVGV4dHVyZS50YXJnZXQgPT09IGdsLlRFWFRVUkVfMkRcbiAgICAgICAgICAgICYmIGdsVGV4dHVyZS53aWR0aCA9PT0gd2lkdGhcbiAgICAgICAgICAgICYmIGdsVGV4dHVyZS5oZWlnaHQgPT09IGhlaWdodCkge1xuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCBiYXNlVGV4dHVyZS5mb3JtYXQsIGJhc2VUZXh0dXJlLnR5cGUsIHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbFRleHR1cmUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS5mb3JtYXQsIGJhc2VUZXh0dXJlLnR5cGUsIHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgc291cmNlIHdpZHRoL2hlaWdodCB3YXMgY2hhbmdlZCwgcmVzaXplIGNhbiBjYXVzZSBleHRyYSBiYXNlVGV4dHVyZSB1cGRhdGUuXG4gICAgICogVHJpZ2dlcnMgb25lIHVwZGF0ZSBpbiBhbnkgY2FzZS5cbiAgICAgKi9cbiAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHZhciB3aWR0aCA9IHNvdXJjZS5uYXR1cmFsV2lkdGggfHwgc291cmNlLnZpZGVvV2lkdGggfHwgc291cmNlLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gc291cmNlLm5hdHVyYWxIZWlnaHQgfHwgc291cmNlLnZpZGVvSGVpZ2h0IHx8IHNvdXJjZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGlzIEJhc2VJbWFnZVJlc291cmNlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc291cmNlID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlSW1hZ2VSZXNvdXJjZTtcbn0oUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIE9mZnNjcmVlbkNhbnZhc1xuICovXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEhUTUxDYW52YXNFbGVtZW50LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBzb3VyY2UgLSBDYW52YXMgZWxlbWVudCB0byB1c2VcbiAqL1xudmFyIENhbnZhc1Jlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYW52YXNSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDYW52YXNSZXNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR8T2Zmc2NyZWVuQ2FudmFzfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBzb3VyY2UgaXMgSFRNTENhbnZhc0VsZW1lbnQgb3IgT2Zmc2NyZWVuQ2FudmFzXG4gICAgICovXG4gICAgQ2FudmFzUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgdmFyIE9mZnNjcmVlbkNhbnZhcyA9IHdpbmRvdy5PZmZzY3JlZW5DYW52YXM7XG4gICAgICAgIC8vIENoZWNrIGZvciBicm93c2VycyB0aGF0IGRvbid0IHlldCBzdXBwb3J0IE9mZnNjcmVlbkNhbnZhc1xuICAgICAgICBpZiAoT2Zmc2NyZWVuQ2FudmFzICYmIHNvdXJjZSBpbnN0YW5jZW9mIE9mZnNjcmVlbkNhbnZhcykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50O1xuICAgIH07XG4gICAgcmV0dXJuIENhbnZhc1Jlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIGZvciBhIEN1YmVUZXh0dXJlIHdoaWNoIGNvbnRhaW5zIHNpeCByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5BcnJheVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nfFBJWEkucmVzb3VyY2VzLlJlc291cmNlPn0gW3NvdXJjZV0gLSBDb2xsZWN0aW9uIG9mIFVSTHMgb3IgcmVzb3VyY2VzXG4gKiAgICAgICAgdG8gdXNlIGFzIHRoZSBzaWRlcyBvZiB0aGUgY3ViZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBJbWFnZVJlc291cmNlIG9wdGlvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBXaWR0aCBvZiByZXNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gLSBIZWlnaHQgb2YgcmVzb3VyY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIFdoZXRoZXIgdG8gYXV0by1sb2FkIHJlc291cmNlc1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxpbmtCYXNlVGV4dHVyZT10cnVlXSAtIEluIGNhc2UgQmFzZVRleHR1cmVzIGFyZSBzdXBwbGllZCxcbiAqICAgd2hldGhlciB0byBjb3B5IHRoZW0gb3IgdXNlXG4gKi9cbnZhciBDdWJlUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEN1YmVSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDdWJlUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMgfHwge30sIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodCwgYXV0b0xvYWQgPSBfYS5hdXRvTG9hZCwgbGlua0Jhc2VUZXh0dXJlID0gX2EubGlua0Jhc2VUZXh0dXJlO1xuICAgICAgICBpZiAoc291cmNlICYmIHNvdXJjZS5sZW5ndGggIT09IEN1YmVSZXNvdXJjZS5TSURFUykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBsZW5ndGguIEdvdCBcIiArIHNvdXJjZS5sZW5ndGggKyBcIiwgZXhwZWN0ZWQgNlwiKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIDYsIHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9KSB8fCB0aGlzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEN1YmVSZXNvdXJjZS5TSURFUzsgaSsrKSB7XG4gICAgICAgICAgICBfdGhpcy5pdGVtc1tpXS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluIGNhc2UgQmFzZVRleHR1cmVzIGFyZSBzdXBwbGllZCwgd2hldGhlciB0byB1c2Ugc2FtZSByZXNvdXJjZSBvciBiaW5kIGJhc2VUZXh0dXJlIGl0c2VsZlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5saW5rQmFzZVRleHR1cmUgPSBsaW5rQmFzZVRleHR1cmUgIT09IGZhbHNlO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBfdGhpcy5pbml0RnJvbUFycmF5KHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF1dG9Mb2FkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgX3RoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGJpbmRpbmdcbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBwYXJlbnQgYmFzZSB0ZXh0dXJlXG4gICAgICovXG4gICAgQ3ViZVJlc291cmNlLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFX0NVQkVfTUFQO1xuICAgIH07XG4gICAgQ3ViZVJlc291cmNlLnByb3RvdHlwZS5hZGRCYXNlVGV4dHVyZUF0ID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlLCBpbmRleCwgbGlua0Jhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmIChsaW5rQmFzZVRleHR1cmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGlua0Jhc2VUZXh0dXJlID0gdGhpcy5saW5rQmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLml0ZW1zW2luZGV4XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5kZXggXCIgKyBpbmRleCArIFwiIGlzIG91dCBvZiBib3VuZHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmxpbmtCYXNlVGV4dHVyZVxuICAgICAgICAgICAgfHwgYmFzZVRleHR1cmUucGFyZW50VGV4dHVyZUFycmF5XG4gICAgICAgICAgICB8fCBPYmplY3Qua2V5cyhiYXNlVGV4dHVyZS5fZ2xUZXh0dXJlcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gY29weSBtb2RlXG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmUucmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFJlc291cmNlQXQoYmFzZVRleHR1cmUucmVzb3VyY2UsIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkN1YmVSZXNvdXJjZSBkb2VzIG5vdCBzdXBwb3J0IGNvcHlpbmcgb2YgcmVuZGVyVGV4dHVyZS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBsaW5rIG1vZGUsIHRoZSBkaWZmaWN1bHQgb25lIVxuICAgICAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpbmRleDtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLnBhcmVudFRleHR1cmVBcnJheSA9IHRoaXMuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2luZGV4XSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS52YWxpZCAmJiAhdGhpcy52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5yZXNpemUoYmFzZVRleHR1cmUucmVhbFdpZHRoLCBiYXNlVGV4dHVyZS5yZWFsSGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLml0ZW1zW2luZGV4XSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgcmVzb3VyY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBDdWJlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgX2Jhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgdmFyIGRpcnR5ID0gdGhpcy5pdGVtRGlydHlJZHM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQ3ViZVJlc291cmNlLlNJREVTOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzaWRlID0gdGhpcy5pdGVtc1tpXTtcbiAgICAgICAgICAgIGlmIChkaXJ0eVtpXSA8IHNpZGUuZGlydHlJZCkge1xuICAgICAgICAgICAgICAgIGlmIChzaWRlLnZhbGlkICYmIHNpZGUucmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2lkZS5yZXNvdXJjZS51cGxvYWQocmVuZGVyZXIsIHNpZGUsIGdsVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIGRpcnR5W2ldID0gc2lkZS5kaXJ0eUlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkaXJ0eVtpXSA8IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVpdGhlciBpdGVtIGlzIG5vdCB2YWxpZCB5ZXQsIGVpdGhlciBpdHMgYSByZW5kZXJUZXh0dXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbG9jYXRlIHRoZSBtZW1vcnlcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuZ2wudGV4SW1hZ2UyRChzaWRlLnRhcmdldCwgMCwgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0LCBfYmFzZVRleHR1cmUucmVhbFdpZHRoLCBfYmFzZVRleHR1cmUucmVhbEhlaWdodCwgMCwgX2Jhc2VUZXh0dXJlLmZvcm1hdCwgZ2xUZXh0dXJlLnR5cGUsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICBkaXJ0eVtpXSA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHNvdXJjZSBpcyBhbiBhcnJheSBvZiA2IGVsZW1lbnRzXG4gICAgICovXG4gICAgQ3ViZVJlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHNvdXJjZSkgJiYgc291cmNlLmxlbmd0aCA9PT0gQ3ViZVJlc291cmNlLlNJREVTO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIHRleHR1cmUgc2lkZXMgdG8gc3RvcmUgZm9yIEN1YmVSZXNvdXJjZXNcbiAgICAgKlxuICAgICAqIEBuYW1lIFBJWEkucmVzb3VyY2VzLkN1YmVSZXNvdXJjZS5TSURFU1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgNlxuICAgICAqL1xuICAgIEN1YmVSZXNvdXJjZS5TSURFUyA9IDY7XG4gICAgcmV0dXJuIEN1YmVSZXNvdXJjZTtcbn0oQWJzdHJhY3RNdWx0aVJlc291cmNlKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSFRNTEltYWdlRWxlbWVudC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG52YXIgSW1hZ2VSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW1hZ2VSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8c3RyaW5nfSBzb3VyY2UgLSBpbWFnZSBzb3VyY2Ugb3IgVVJMXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0xvYWQ9dHJ1ZV0gLSBzdGFydCBsb2FkaW5nIHByb2Nlc3NcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyZWF0ZUJpdG1hcD1QSVhJLnNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVBdIC0gd2hldGhlciBpdHMgcmVxdWlyZWQgdG8gY3JlYXRlXG4gICAgICogICAgICAgIGEgYml0bWFwIGJlZm9yZSB1cGxvYWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyb3Nzb3JpZ2luPXRydWVdIC0gTG9hZCBpbWFnZSB1c2luZyBjcm9zcyBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQUxQSEFfTU9ERVN9IFtvcHRpb25zLmFscGhhTW9kZT1QSVhJLkFMUEhBX01PREVTLlVOUEFDS10gLSBQcmVtdWx0aXBseSBpbWFnZSBhbHBoYSBpbiBiaXRtYXBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbWFnZVJlc291cmNlKHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHZhciBpbWFnZUVsZW1lbnQgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKGltYWdlRWxlbWVudCwgc291cmNlLCBvcHRpb25zLmNyb3Nzb3JpZ2luKTtcbiAgICAgICAgICAgIGltYWdlRWxlbWVudC5zcmMgPSBzb3VyY2U7XG4gICAgICAgICAgICBzb3VyY2UgPSBpbWFnZUVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzb3VyY2UpIHx8IHRoaXM7XG4gICAgICAgIC8vIEZpcmVGb3ggNjgsIGFuZCBwb3NzaWJseSBvdGhlciB2ZXJzaW9ucywgc2VlbXMgbGlrZSBzZXR0aW5nIHRoZSBIVE1MSW1hZ2VFbGVtZW50I3dpZHRoIGFuZCAjaGVpZ2h0XG4gICAgICAgIC8vIHRvIG5vbi16ZXJvIHZhbHVlcyBiZWZvcmUgaXRzIGxvYWRpbmcgY29tcGxldGVzIGlmIGltYWdlcyBhcmUgaW4gYSBjYWNoZS5cbiAgICAgICAgLy8gQmVjYXVzZSBvZiB0aGlzLCBuZWVkIHRvIHNldCB0aGUgYF93aWR0aGAgYW5kIHRoZSBgX2hlaWdodGAgdG8gemVybyB0byBhdm9pZCB1cGxvYWRpbmcgaW5jb21wbGV0ZSBpbWFnZXMuXG4gICAgICAgIC8vIFBsZWFzZSByZWZlciB0byB0aGUgaXNzdWUgIzU5NjggKGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvNTk2OCkuXG4gICAgICAgIGlmICghc291cmNlLmNvbXBsZXRlICYmICEhX3RoaXMuX3dpZHRoICYmICEhX3RoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgX3RoaXMuX3dpZHRoID0gMDtcbiAgICAgICAgICAgIF90aGlzLl9oZWlnaHQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVUkwgb2YgdGhlIGltYWdlIHNvdXJjZVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51cmwgPSBzb3VyY2Uuc3JjO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBwcm9jZXNzIGlzIGNvbXBsZXRlZFxuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlPHZvaWQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3Byb2Nlc3MgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIGltYWdlIHNob3VsZCBiZSBkaXNwb3NlZCBhZnRlciB1cGxvYWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnByZXNlcnZlQml0bWFwID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBjYXBhYmxlLCBjb252ZXJ0IHRoZSBpbWFnZSB1c2luZyBjcmVhdGVJbWFnZUJpdG1hcCBBUElcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jcmVhdGVCaXRtYXAgPSAob3B0aW9ucy5jcmVhdGVCaXRtYXAgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBvcHRpb25zLmNyZWF0ZUJpdG1hcCA6IHNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVApICYmICEhd2luZG93LmNyZWF0ZUltYWdlQml0bWFwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29udHJvbHMgdGV4dHVyZSBhbHBoYU1vZGUgZmllbGRcbiAgICAgICAgICogQ29waWVzIGZyb20gb3B0aW9uc1xuICAgICAgICAgKiBEZWZhdWx0IGlzIGBudWxsYCwgY29waWVzIG9wdGlvbiBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQUxQSEFfTU9ERVN8bnVsbH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbHBoYU1vZGUgPSB0eXBlb2Ygb3B0aW9ucy5hbHBoYU1vZGUgPT09ICdudW1iZXInID8gb3B0aW9ucy5hbHBoYU1vZGUgOiBudWxsO1xuICAgICAgICBpZiAob3B0aW9ucy5wcmVtdWx0aXBseUFscGhhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIHRyaWdnZXJzIGRlcHJlY2F0aW9uXG4gICAgICAgICAgICBfdGhpcy5wcmVtdWx0aXBseUFscGhhID0gb3B0aW9ucy5wcmVtdWx0aXBseUFscGhhO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSW1hZ2VCaXRtYXAgZWxlbWVudCBjcmVhdGVkIGZvciBIVE1MSW1hZ2VFbGVtZW50XG4gICAgICAgICAqIEBtZW1iZXIge0ltYWdlQml0bWFwfVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iaXRtYXAgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xvYWQgPSBudWxsO1xuICAgICAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF90aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJldHVybnMgYSBwcm9taXNlIHdoZW4gaW1hZ2Ugd2lsbCBiZSBsb2FkZWQgYW5kIHByb2Nlc3NlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY3JlYXRlQml0bWFwXSAtIHdoZXRoZXIgcHJvY2VzcyBpbWFnZSBpbnRvIGJpdG1hcFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqL1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoY3JlYXRlQml0bWFwKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3JlYXRlQml0bWFwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQml0bWFwID0gY3JlYXRlQml0bWFwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xvYWQgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gX3RoaXMuc291cmNlO1xuICAgICAgICAgICAgX3RoaXMudXJsID0gc291cmNlLnNyYztcbiAgICAgICAgICAgIHZhciBjb21wbGV0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZXNpemUoc291cmNlLndpZHRoLCBzb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmNyZWF0ZUJpdG1hcCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKF90aGlzLnByb2Nlc3MoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKF90aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHNvdXJjZS5jb21wbGV0ZSAmJiBzb3VyY2Uuc3JjKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gY29tcGxldGVkO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF2b2lkcyBQcm9taXNlIGZyZWV6aW5nIHdoZW4gcmVzb3VyY2UgYnJva2VuXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uRXJyb3IuZW1pdChldmVudCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gd2UgbmVlZCB0byBjb252ZXJ0IGltYWdlIGludG8gQml0bWFwSW1hZ2UuXG4gICAgICogQ2FuIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgcmVhbCBwcm9taXNlIGlzIGNhY2hlZCBpbnNpZGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gY2FjaGVkIHByb21pc2UgdG8gZmlsbCB0aGF0IGJpdG1hcFxuICAgICAqL1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgaWYgKHRoaXMuX3Byb2Nlc3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJpdG1hcCAhPT0gbnVsbCB8fCAhd2luZG93LmNyZWF0ZUltYWdlQml0bWFwKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Byb2Nlc3MgPSB3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXAoc291cmNlLCAwLCAwLCBzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQsIHtcbiAgICAgICAgICAgIHByZW11bHRpcGx5QWxwaGE6IHRoaXMuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0sgPyAncHJlbXVsdGlwbHknIDogJ25vbmUnLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGJpdG1hcCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuYml0bWFwID0gYml0bWFwO1xuICAgICAgICAgICAgX3RoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICBfdGhpcy5fcHJvY2VzcyA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKF90aGlzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSBpbWFnZSByZXNvdXJjZSB0byBHUFUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gUmVuZGVyZXIgdG8gdXBsb2FkIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEJhc2VUZXh0dXJlIGZvciB0aGlzIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gR0xUZXh0dXJlIHRvIHVzZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiAocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmFscGhhTW9kZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIC8vIGJpdG1hcCBzdG9yZXMgdW5wYWNrIHByZW11bHRpcGx5IGZsYWcsIHdlIGRvbnQgaGF2ZSB0byBub3RpZnkgdGV4SW1hZ2UyRCBhYm91dCBpdFxuICAgICAgICAgICAgYmFzZVRleHR1cmUuYWxwaGFNb2RlID0gdGhpcy5hbHBoYU1vZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNyZWF0ZUJpdG1hcCkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUudXBsb2FkLmNhbGwodGhpcywgcmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5iaXRtYXApIHtcbiAgICAgICAgICAgIC8vIHllYWgsIGlnbm9yZSB0aGUgb3V0cHV0XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3MoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5iaXRtYXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51cGxvYWQuY2FsbCh0aGlzLCByZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSwgdGhpcy5iaXRtYXApO1xuICAgICAgICBpZiAoIXRoaXMucHJlc2VydmVCaXRtYXApIHtcbiAgICAgICAgICAgIC8vIGNoZWNrcyBpZiB0aGVyZSBhcmUgb3RoZXIgcmVuZGVyZXJzIHRoYXQgcG9zc2libHkgbmVlZCB0aGlzIGJpdG1hcFxuICAgICAgICAgICAgdmFyIGZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGdsVGV4dHVyZXMgPSBiYXNlVGV4dHVyZS5fZ2xUZXh0dXJlcztcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBnbFRleHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIG90aGVyVGV4ID0gZ2xUZXh0dXJlc1trZXldO1xuICAgICAgICAgICAgICAgIGlmIChvdGhlclRleCAhPT0gZ2xUZXh0dXJlICYmIG90aGVyVGV4LmRpcnR5SWQgIT09IGJhc2VUZXh0dXJlLmRpcnR5SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmxhZykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJpdG1hcC5jbG9zZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJpdG1hcC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICB0aGlzLnNvdXJjZS5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgICAgIGlmICh0aGlzLmJpdG1hcCkge1xuICAgICAgICAgICAgdGhpcy5iaXRtYXAuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuYml0bWFwID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wcm9jZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHNvdXJjZSBpcyBzdHJpbmcgb3IgSFRNTEltYWdlRWxlbWVudFxuICAgICAqL1xuICAgIEltYWdlUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnIHx8IHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VSZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBTVkcgZWxlbWVudHMgYW5kIGdyYXBoaWNzLlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIC0gQmFzZTY0IGVuY29kZWQgU1ZHIGVsZW1lbnQgb3IgVVJMIGZvciBTVkcgZmlsZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zIHRvIHVzZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjYWxlPTFdIC0gU2NhbGUgdG8gYXBwbHkgdG8gU1ZHLiBPdmVycmlkZGVuIGJ5Li4uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gUmFzdGVyaXplIFNWRyB0aGlzIHdpZGUuIEFzcGVjdCByYXRpbyBwcmVzZXJ2ZWQgaWYgaGVpZ2h0IG5vdCBzcGVjaWZpZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIFJhc3Rlcml6ZSBTVkcgdGhpcyBoaWdoLiBBc3BlY3QgcmF0aW8gcHJlc2VydmVkIGlmIHdpZHRoIG5vdCBzcGVjaWZpZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gU3RhcnQgbG9hZGluZyByaWdodCBhd2F5LlxuICovXG52YXIgU1ZHUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNWR1Jlc291cmNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNWR1Jlc291cmNlKHNvdXJjZUJhc2U2NCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3dpZHRoID0gMDtcbiAgICAgICAgX3RoaXMuX2hlaWdodCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXNlNjQgZW5jb2RlZCBTVkcgZWxlbWVudCBvciBVUkwgZm9yIFNWRyBmaWxlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdmcgPSBzb3VyY2VCYXNlNjQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc291cmNlIHNjYWxlIHRvIGFwcGx5IHdoZW4gcmFzdGVyaXppbmcgb24gbG9hZFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2NhbGUgPSBvcHRpb25zLnNjYWxlIHx8IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHdpZHRoIG92ZXJyaWRlIGZvciByYXN0ZXJpemF0aW9uIG9uIGxvYWRcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9vdmVycmlkZVdpZHRoID0gb3B0aW9ucy53aWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgaGVpZ2h0IG92ZXJyaWRlIGZvciByYXN0ZXJpemF0aW9uIG9uIGxvYWRcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9vdmVycmlkZUhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbCB3aGVuIGNvbXBsZXRlbHkgbG9hZGVkXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3Jvc3Mgb3JpZ2luIHZhbHVlIHRvIHVzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufHN0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9jcm9zc29yaWdpbiA9IG9wdGlvbnMuY3Jvc3NvcmlnaW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9taXNlIHdoZW4gbG9hZGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlPHZvaWQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgX3RoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU1ZHUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIC8vIFNhdmUgdGhpcyB1bnRpbCBhZnRlciBsb2FkIGlzIGZpbmlzaGVkXG4gICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZXNpemUoX3RoaXMuc291cmNlLndpZHRoLCBfdGhpcy5zb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKF90aGlzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBDb252ZXJ0IFNWRyBpbmxpbmUgc3RyaW5nIHRvIGRhdGEtdXJpXG4gICAgICAgICAgICBpZiAoKC9eXFw8c3ZnLykudGVzdChfdGhpcy5zdmcudHJpbSgpKSkge1xuICAgICAgICAgICAgICAgIGlmICghYnRvYSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCBiYXNlNjQgY29udmVyc2lvbnMuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLnN2ZyA9IFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KF90aGlzLnN2ZykpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLl9sb2FkU3ZnKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWRzIGFuIFNWRyBpbWFnZSBmcm9tIGBpbWFnZVVybGAgb3IgYGRhdGEgVVJMYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU1ZHUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkU3ZnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdGVtcEltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKHRlbXBJbWFnZSwgdGhpcy5zdmcsIHRoaXMuX2Nyb3Nzb3JpZ2luKTtcbiAgICAgICAgdGVtcEltYWdlLnNyYyA9IHRoaXMuc3ZnO1xuICAgICAgICB0ZW1wSW1hZ2Uub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5fcmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXBJbWFnZS5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIF90aGlzLm9uRXJyb3IuZW1pdChldmVudCk7XG4gICAgICAgIH07XG4gICAgICAgIHRlbXBJbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLl9yZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN2Z1dpZHRoID0gdGVtcEltYWdlLndpZHRoO1xuICAgICAgICAgICAgdmFyIHN2Z0hlaWdodCA9IHRlbXBJbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICBpZiAoIXN2Z1dpZHRoIHx8ICFzdmdIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBTVkcgaW1hZ2UgbXVzdCBoYXZlIHdpZHRoIGFuZCBoZWlnaHQgZGVmaW5lZCAoaW4gcGl4ZWxzKSwgY2FudmFzIEFQSSBuZWVkcyB0aGVtLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0IHJlbmRlciBzaXplXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBzdmdXaWR0aCAqIF90aGlzLnNjYWxlO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHN2Z0hlaWdodCAqIF90aGlzLnNjYWxlO1xuICAgICAgICAgICAgaWYgKF90aGlzLl9vdmVycmlkZVdpZHRoIHx8IF90aGlzLl9vdmVycmlkZUhlaWdodCkge1xuICAgICAgICAgICAgICAgIHdpZHRoID0gX3RoaXMuX292ZXJyaWRlV2lkdGggfHwgX3RoaXMuX292ZXJyaWRlSGVpZ2h0IC8gc3ZnSGVpZ2h0ICogc3ZnV2lkdGg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gX3RoaXMuX292ZXJyaWRlSGVpZ2h0IHx8IF90aGlzLl9vdmVycmlkZVdpZHRoIC8gc3ZnV2lkdGggKiBzdmdIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGgpO1xuICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQpO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgY2FudmFzIGVsZW1lbnRcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSBfdGhpcy5zb3VyY2U7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICBjYW52YXMuX3BpeGlJZCA9IFwiY2FudmFzX1wiICsgdWlkKCk7XG4gICAgICAgICAgICAvLyBEcmF3IHRoZSBTdmcgdG8gdGhlIGNhbnZhc1xuICAgICAgICAgICAgY2FudmFzXG4gICAgICAgICAgICAgICAgLmdldENvbnRleHQoJzJkJylcbiAgICAgICAgICAgICAgICAuZHJhd0ltYWdlKHRlbXBJbWFnZSwgMCwgMCwgc3ZnV2lkdGgsIHN2Z0hlaWdodCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZSgpO1xuICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHNpemUgZnJvbSBhbiBzdmcgc3RyaW5nIHVzaW5nIHJlZ2V4cC5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3ZnU3RyaW5nIC0gYSBzZXJpYWxpemVkIHN2ZyBlbGVtZW50XG4gICAgICogQHJldHVybiB7UElYSS5JU2l6ZX0gaW1hZ2UgZXh0ZW5zaW9uXG4gICAgICovXG4gICAgU1ZHUmVzb3VyY2UuZ2V0U2l6ZSA9IGZ1bmN0aW9uIChzdmdTdHJpbmcpIHtcbiAgICAgICAgdmFyIHNpemVNYXRjaCA9IFNWR1Jlc291cmNlLlNWR19TSVpFLmV4ZWMoc3ZnU3RyaW5nKTtcbiAgICAgICAgdmFyIHNpemUgPSB7fTtcbiAgICAgICAgaWYgKHNpemVNYXRjaCkge1xuICAgICAgICAgICAgc2l6ZVtzaXplTWF0Y2hbMV1dID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHNpemVNYXRjaFszXSkpO1xuICAgICAgICAgICAgc2l6ZVtzaXplTWF0Y2hbNV1dID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHNpemVNYXRjaFs3XSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgU1ZHUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY3Jvc3NvcmlnaW4gPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbiAtIFRoZSBleHRlbnNpb24gb2Ygc291cmNlLCBpZiBzZXRcbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gKHNvdXJjZSwgZXh0ZW5zaW9uKSB7XG4gICAgICAgIC8vIHVybCBmaWxlIGV4dGVuc2lvbiBpcyBTVkdcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvbiA9PT0gJ3N2ZydcbiAgICAgICAgICAgIC8vIHNvdXJjZSBpcyBTVkcgZGF0YS11cmlcbiAgICAgICAgICAgIHx8ICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJyAmJiAoL15kYXRhOmltYWdlXFwvc3ZnXFwreG1sKDsoY2hhcnNldD11dGY4fHV0ZjgpKT87YmFzZTY0LykudGVzdChzb3VyY2UpKVxuICAgICAgICAgICAgLy8gc291cmNlIGlzIFNWRyBpbmxpbmVcbiAgICAgICAgICAgIHx8ICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJyAmJiBzb3VyY2UuaW5kZXhPZignPHN2ZycpID09PSAwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ0V4cCBmb3IgU1ZHIHNpemUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50IHtSZWdFeHB8c3RyaW5nfSBTVkdfU0laRVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZVxuICAgICAqIEBleGFtcGxlICZsdDtzdmcgd2lkdGg9XCIxMDBcIiBoZWlnaHQ9XCIxMDBcIiZndDsmbHQ7L3N2ZyZndDtcbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS5TVkdfU0laRSA9IC88c3ZnW14+XSooPzpcXHMod2lkdGh8aGVpZ2h0KT0oJ3xcIikoXFxkKig/OlxcLlxcZCspPykoPzpweCk/KCd8XCIpKVtePl0qKD86XFxzKHdpZHRofGhlaWdodCk9KCd8XCIpKFxcZCooPzpcXC5cXGQrKT8pKD86cHgpPygnfFwiKSlbXj5dKj4vaTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuXG4gICAgcmV0dXJuIFNWR1Jlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEhUTUxWaWRlb0VsZW1lbnQuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7SFRNTFZpZGVvRWxlbWVudHxvYmplY3R8c3RyaW5nfEFycmF5PHN0cmluZ3xvYmplY3Q+fSBzb3VyY2UgLSBWaWRlbyBlbGVtZW50IHRvIHVzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zIHRvIHVzZVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIFN0YXJ0IGxvYWRpbmcgdGhlIHZpZGVvIGltbWVkaWF0ZWx5XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9QbGF5PXRydWVdIC0gU3RhcnQgcGxheWluZyB2aWRlbyBpbW1lZGlhdGVseVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnVwZGF0ZUZQUz0wXSAtIEhvdyBtYW55IHRpbWVzIGEgc2Vjb25kIHRvIHVwZGF0ZSB0aGUgdGV4dHVyZSBmcm9tIHRoZSB2aWRlby5cbiAqIExlYXZlIGF0IDAgdG8gdXBkYXRlIGF0IGV2ZXJ5IHJlbmRlci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NvcmlnaW49dHJ1ZV0gLSBMb2FkIGltYWdlIHVzaW5nIGNyb3NzIG9yaWdpblxuICovXG52YXIgVmlkZW9SZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVmlkZW9SZXNvdXJjZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBWaWRlb1Jlc291cmNlKHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHZhciB2aWRlb0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICAgICAgLy8gd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy81OTk2XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKCdwcmVsb2FkJywgJ2F1dG8nKTtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3dlYmtpdC1wbGF5c2lubGluZScsICcnKTtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3BsYXlzaW5saW5lJywgJycpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgc291cmNlID0gW3NvdXJjZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZmlyc3RTcmMgPSBzb3VyY2VbMF0uc3JjIHx8IHNvdXJjZVswXTtcbiAgICAgICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKHZpZGVvRWxlbWVudCwgZmlyc3RTcmMsIG9wdGlvbnMuY3Jvc3NvcmlnaW4pO1xuICAgICAgICAgICAgLy8gYXJyYXkgb2Ygb2JqZWN0cyBvciBzdHJpbmdzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gc291cmNlW2ldLCBzcmMgPSBfYS5zcmMsIG1pbWUgPSBfYS5taW1lO1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYyB8fCBzb3VyY2VbaV07XG4gICAgICAgICAgICAgICAgdmFyIGJhc2VTcmMgPSBzcmMuc3BsaXQoJz8nKS5zaGlmdCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdmFyIGV4dCA9IGJhc2VTcmMuc3Vic3RyKGJhc2VTcmMubGFzdEluZGV4T2YoJy4nKSArIDEpO1xuICAgICAgICAgICAgICAgIG1pbWUgPSBtaW1lIHx8IFZpZGVvUmVzb3VyY2UuTUlNRV9UWVBFU1tleHRdIHx8IFwidmlkZW8vXCIgKyBleHQ7XG4gICAgICAgICAgICAgICAgc291cmNlRWxlbWVudC5zcmMgPSBzcmM7XG4gICAgICAgICAgICAgICAgc291cmNlRWxlbWVudC50eXBlID0gbWltZTtcbiAgICAgICAgICAgICAgICB2aWRlb0VsZW1lbnQuYXBwZW5kQ2hpbGQoc291cmNlRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBPdmVycmlkZSB0aGUgc291cmNlXG4gICAgICAgICAgICBzb3VyY2UgPSB2aWRlb0VsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzb3VyY2UpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm5vU3ViSW1hZ2UgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIHRvIHVzZSBQSVhJLlRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgdGhlIGJhc2UgdGV4dHVyZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB0aGUgaW5zdGFuY2UgaXMgY3VycmVudGx5IGNvbm5lY3RlZCB0byBQSVhJLlRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgdGhlIGJhc2UgdGV4dHVyZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fdXBkYXRlRlBTID0gb3B0aW9ucy51cGRhdGVGUFMgfHwgMDtcbiAgICAgICAgX3RoaXMuX21zVG9OZXh0VXBkYXRlID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gc2V0IHRvIHRydWUgd2lsbCBhdXRvbWF0aWNhbGx5IHBsYXkgdmlkZW9zIHVzZWQgYnkgdGhpcyB0ZXh0dXJlIG9uY2VcbiAgICAgICAgICogdGhleSBhcmUgbG9hZGVkLiBJZiBmYWxzZSwgaXQgd2lsbCBub3QgbW9kaWZ5IHRoZSBwbGF5aW5nIHN0YXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvUGxheSA9IG9wdGlvbnMuYXV0b1BsYXkgIT09IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xvYWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZWQgd2l0aCBsb2FkLlxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgLy8gQmluZCBmb3IgbGlzdGVuZXJzXG4gICAgICAgIF90aGlzLl9vbkNhblBsYXkgPSBfdGhpcy5fb25DYW5QbGF5LmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5fb25FcnJvciA9IF90aGlzLl9vbkVycm9yLmJpbmQoX3RoaXMpO1xuICAgICAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF90aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgdXBkYXRpbmcgb2YgdGhlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVsdGFUaW1lPTBdIC0gdGltZSBkZWx0YSBzaW5jZSBsYXN0IHRpY2tcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoX2RlbHRhVGltZSkge1xuICAgICAgICBpZiAoX2RlbHRhVGltZSA9PT0gdm9pZCAwKSB7IF9kZWx0YVRpbWUgPSAwOyB9XG4gICAgICAgIGlmICghdGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIC8vIGFjY291bnQgZm9yIGlmIHZpZGVvIGhhcyBoYWQgaXRzIHBsYXliYWNrUmF0ZSBjaGFuZ2VkXG4gICAgICAgICAgICB2YXIgZWxhcHNlZE1TID0gVGlja2VyLnNoYXJlZC5lbGFwc2VkTVMgKiB0aGlzLnNvdXJjZS5wbGF5YmFja1JhdGU7XG4gICAgICAgICAgICB0aGlzLl9tc1RvTmV4dFVwZGF0ZSA9IE1hdGguZmxvb3IodGhpcy5fbXNUb05leHRVcGRhdGUgLSBlbGFwc2VkTVMpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl91cGRhdGVGUFMgfHwgdGhpcy5fbXNUb05leHRVcGRhdGUgPD0gMCkge1xuICAgICAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbXNUb05leHRVcGRhdGUgPSB0aGlzLl91cGRhdGVGUFMgPyBNYXRoLmZsb29yKDEwMDAgLyB0aGlzLl91cGRhdGVGUFMpIDogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhcnQgcHJlbG9hZGluZyB0aGUgdmlkZW8gcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gSGFuZGxlIHRoZSB2YWxpZGF0ZSBldmVudFxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIGlmICgoc291cmNlLnJlYWR5U3RhdGUgPT09IHNvdXJjZS5IQVZFX0VOT1VHSF9EQVRBIHx8IHNvdXJjZS5yZWFkeVN0YXRlID09PSBzb3VyY2UuSEFWRV9GVVRVUkVfREFUQSlcbiAgICAgICAgICAgICYmIHNvdXJjZS53aWR0aCAmJiBzb3VyY2UuaGVpZ2h0KSB7XG4gICAgICAgICAgICBzb3VyY2UuY29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdwbGF5JywgdGhpcy5fb25QbGF5U3RhcnQuYmluZCh0aGlzKSk7XG4gICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdwYXVzZScsIHRoaXMuX29uUGxheVN0b3AuYmluZCh0aGlzKSk7XG4gICAgICAgIGlmICghdGhpcy5faXNTb3VyY2VSZWFkeSgpKSB7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fb25FcnJvciwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9vbkNhblBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSB2aWRlbyBlcnJvciBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9vbkVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fb25FcnJvciwgdHJ1ZSk7XG4gICAgICAgIHRoaXMub25FcnJvci5lbWl0KGV2ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdW5kZXJseWluZyBzb3VyY2UgaXMgcGxheWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBwbGF5aW5nLlxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9pc1NvdXJjZVBsYXlpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgcmV0dXJuIChzb3VyY2UuY3VycmVudFRpbWUgPiAwICYmIHNvdXJjZS5wYXVzZWQgPT09IGZhbHNlICYmIHNvdXJjZS5lbmRlZCA9PT0gZmFsc2UgJiYgc291cmNlLnJlYWR5U3RhdGUgPiAyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdW5kZXJseWluZyBzb3VyY2UgaXMgcmVhZHkgZm9yIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVhZHkuXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX2lzU291cmNlUmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5yZWFkeVN0YXRlID09PSAzIHx8IHNvdXJjZS5yZWFkeVN0YXRlID09PSA0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUnVucyB0aGUgdXBkYXRlIGxvb3Agd2hlbiB0aGUgdmlkZW8gaXMgcmVhZHkgdG8gcGxheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5fb25QbGF5U3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEp1c3QgaW4gY2FzZSB0aGUgdmlkZW8gaGFzIG5vdCByZWNlaXZlZCBpdHMgY2FuIHBsYXkgZXZlbiB5ZXQuLlxuICAgICAgICBpZiAoIXRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2FuUGxheSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF1dG9VcGRhdGUgJiYgIXRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcGF1c2UgZXZlbnQgaXMgdHJpZ2dlcmVkLCBzdG9wcyB0aGUgdXBkYXRlIGxvb3BcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX29uUGxheVN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdGhlIHZpZGVvIGlzIGxvYWRlZCBhbmQgcmVhZHkgdG8gcGxheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5fb25DYW5QbGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgdmFyIHZhbGlkID0gdGhpcy52YWxpZDtcbiAgICAgICAgdGhpcy5yZXNpemUoc291cmNlLnZpZGVvV2lkdGgsIHNvdXJjZS52aWRlb0hlaWdodCk7XG4gICAgICAgIC8vIHByZXZlbnQgbXVsdGlwbGUgbG9hZGVkIGRpc3BhdGNoZXMuLlxuICAgICAgICBpZiAoIXZhbGlkICYmIHRoaXMuX3Jlc29sdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUodGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faXNTb3VyY2VQbGF5aW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX29uUGxheVN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hdXRvUGxheSkge1xuICAgICAgICAgICAgc291cmNlLnBsYXkoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIHNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX29uRXJyb3IsIHRydWUpO1xuICAgICAgICAgICAgc291cmNlLnBhdXNlKCk7XG4gICAgICAgICAgICBzb3VyY2Uuc3JjID0gJyc7XG4gICAgICAgICAgICBzb3VyY2UubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLCBcImF1dG9VcGRhdGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdWxkIHRoZSBiYXNlIHRleHR1cmUgYXV0b21hdGljYWxseSB1cGRhdGUgaXRzZWxmLCBzZXQgdG8gdHJ1ZSBieSBkZWZhdWx0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdXRvVXBkYXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXV0b1VwZGF0ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fYXV0b1VwZGF0ZSAmJiB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmICF0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyICYmIHRoaXMuX2lzU291cmNlUGxheWluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIFRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLCBcInVwZGF0ZUZQU1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgbWFueSB0aW1lcyBhIHNlY29uZCB0byB1cGRhdGUgdGhlIHRleHR1cmUgZnJvbSB0aGUgdmlkZW8uIExlYXZlIGF0IDAgdG8gdXBkYXRlIGF0IGV2ZXJ5IHJlbmRlci5cbiAgICAgICAgICogQSBsb3dlciBmcHMgY2FuIGhlbHAgcGVyZm9ybWFuY2UsIGFzIHVwZGF0aW5nIHRoZSB0ZXh0dXJlIGF0IDYwZnBzIG9uIGEgMzBwcyB2aWRlbyBtYXkgbm90IGJlIGVmZmljaWVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlRlBTO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl91cGRhdGVGUFMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVGUFMgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHsqfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbnNpb24gLSBUaGUgZXh0ZW5zaW9uIG9mIHNvdXJjZSwgaWYgc2V0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHZpZGVvIHNvdXJjZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UsIGV4dGVuc2lvbikge1xuICAgICAgICByZXR1cm4gKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpXG4gICAgICAgICAgICB8fCBWaWRlb1Jlc291cmNlLlRZUEVTLmluZGV4T2YoZXh0ZW5zaW9uKSA+IC0xO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTGlzdCBvZiBjb21tb24gdmlkZW8gZmlsZSBleHRlbnNpb25zIHN1cHBvcnRlZCBieSBWaWRlb1Jlc291cmNlLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXIge0FycmF5PHN0cmluZz59XG4gICAgICogQHN0YXRpY1xuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UuVFlQRVMgPSBbJ21wNCcsICdtNHYnLCAnd2VibScsICdvZ2cnLCAnb2d2JywgJ2gyNjQnLCAnYXZpJywgJ21vdiddO1xuICAgIC8qKlxuICAgICAqIE1hcCBvZiB2aWRlbyBNSU1FIHR5cGVzIHRoYXQgY2FuJ3QgYmUgZGlyZWN0bHkgZGVyaXZlZCBmcm9tIGZpbGUgZXh0ZW5zaW9ucy5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICogQHN0YXRpY1xuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UuTUlNRV9UWVBFUyA9IHtcbiAgICAgICAgb2d2OiAndmlkZW8vb2dnJyxcbiAgICAgICAgbW92OiAndmlkZW8vcXVpY2t0aW1lJyxcbiAgICAgICAgbTR2OiAndmlkZW8vbXA0JyxcbiAgICB9O1xuICAgIHJldHVybiBWaWRlb1Jlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEltYWdlQml0bWFwLlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge0ltYWdlQml0bWFwfSBzb3VyY2UgLSBJbWFnZSBlbGVtZW50IHRvIHVzZVxuICovXG52YXIgSW1hZ2VCaXRtYXBSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW1hZ2VCaXRtYXBSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJbWFnZUJpdG1hcFJlc291cmNlKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtJbWFnZUJpdG1hcH0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgc291cmNlIGlzIGFuIEltYWdlQml0bWFwXG4gICAgICovXG4gICAgSW1hZ2VCaXRtYXBSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gISF3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXAgJiYgc291cmNlIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXA7XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VCaXRtYXBSZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuSU5TVEFMTEVELnB1c2goSW1hZ2VSZXNvdXJjZSwgSW1hZ2VCaXRtYXBSZXNvdXJjZSwgQ2FudmFzUmVzb3VyY2UsIFZpZGVvUmVzb3VyY2UsIFNWR1Jlc291cmNlLCBCdWZmZXJSZXNvdXJjZSwgQ3ViZVJlc291cmNlLCBBcnJheVJlc291cmNlKTtcblxudmFyIGluZGV4ID0gKHtcbiAgICBSZXNvdXJjZTogUmVzb3VyY2UsXG4gICAgQmFzZUltYWdlUmVzb3VyY2U6IEJhc2VJbWFnZVJlc291cmNlLFxuICAgIElOU1RBTExFRDogSU5TVEFMTEVELFxuICAgIGF1dG9EZXRlY3RSZXNvdXJjZTogYXV0b0RldGVjdFJlc291cmNlLFxuICAgIEFic3RyYWN0TXVsdGlSZXNvdXJjZTogQWJzdHJhY3RNdWx0aVJlc291cmNlLFxuICAgIEFycmF5UmVzb3VyY2U6IEFycmF5UmVzb3VyY2UsXG4gICAgQnVmZmVyUmVzb3VyY2U6IEJ1ZmZlclJlc291cmNlLFxuICAgIENhbnZhc1Jlc291cmNlOiBDYW52YXNSZXNvdXJjZSxcbiAgICBDdWJlUmVzb3VyY2U6IEN1YmVSZXNvdXJjZSxcbiAgICBJbWFnZVJlc291cmNlOiBJbWFnZVJlc291cmNlLFxuICAgIFNWR1Jlc291cmNlOiBTVkdSZXNvdXJjZSxcbiAgICBWaWRlb1Jlc291cmNlOiBWaWRlb1Jlc291cmNlLFxuICAgIEltYWdlQml0bWFwUmVzb3VyY2U6IEltYWdlQml0bWFwUmVzb3VyY2Vcbn0pO1xuXG4vKipcbiAqIFN5c3RlbSBpcyBhIGJhc2UgY2xhc3MgdXNlZCBmb3IgZXh0ZW5kaW5nIHN5c3RlbXMgdXNlZCBieSB0aGUge0BsaW5rIFBJWEkuUmVuZGVyZXJ9XG4gKlxuICogQHNlZSBQSVhJLlJlbmRlcmVyI2FkZFN5c3RlbVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmljIGRlc3Ryb3kgbWV0aG9kcyB0byBiZSBvdmVycmlkZGVuIGJ5IHRoZSBzdWJjbGFzc1xuICAgICAqL1xuICAgIFN5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gU3lzdGVtO1xufSgpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBEZXB0aFRleHR1cmUuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJ1ZmZlclJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xudmFyIERlcHRoUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERlcHRoUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGVwdGhSZXNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHRleHR1cmUgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVXBsb2FkIHRvIHRoZSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZWZlcmVuY2UgdG8gcGFyZW50IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgLSBnbFRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgRGVwdGhSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuVU5QQUNLKTtcbiAgICAgICAgaWYgKGdsVGV4dHVyZS53aWR0aCA9PT0gYmFzZVRleHR1cmUud2lkdGggJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gYmFzZVRleHR1cmUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgMCwgMCwgYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCB0aGlzLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIFxuICAgICAgICAgICAgLy8gIGdsLkRFUFRIX0NPTVBPTkVOVDE2IE5lZWRlZCBmb3IgZGVwdGggdG8gcmVuZGVyIHByb3Blcmx5IGluIHdlYmdsMi4wXG4gICAgICAgICAgICByZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMSA/IGdsLkRFUFRIX0NPTVBPTkVOVCA6IGdsLkRFUFRIX0NPTVBPTkVOVDE2LCBiYXNlVGV4dHVyZS53aWR0aCwgYmFzZVRleHR1cmUuaGVpZ2h0LCAwLCBiYXNlVGV4dHVyZS5mb3JtYXQsIGJhc2VUZXh0dXJlLnR5cGUsIHRoaXMuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gRGVwdGhSZXNvdXJjZTtcbn0oQnVmZmVyUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBGcmFtZSBidWZmZXIgdXNlZCBieSB0aGUgQmFzZVJlbmRlclRleHR1cmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBGcmFtZWJ1ZmZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gRnJhbWVidWZmZXIod2lkdGgsIGhlaWdodCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogV2lkdGggb2YgZnJhbWVidWZmZXIgaW4gcGl4ZWxzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSBNYXRoLmNlaWwod2lkdGggfHwgMTAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhlaWdodCBvZiBmcmFtZWJ1ZmZlciBpbiBwaXhlbHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0IHx8IDEwMCk7XG4gICAgICAgIHRoaXMuc3RlbmNpbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRlcHRoID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGlydHlJZCA9IDA7XG4gICAgICAgIHRoaXMuZGlydHlGb3JtYXQgPSAwO1xuICAgICAgICB0aGlzLmRpcnR5U2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb2xvclRleHR1cmVzID0gW107XG4gICAgICAgIHRoaXMuZ2xGcmFtZWJ1ZmZlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyID0gbmV3IFJ1bm5lcignZGlzcG9zZUZyYW1lYnVmZmVyJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXNpcmVkIG51bWJlciBvZiBzYW1wbGVzIGZvciBhbnRpYWxpYXNpbmcuIDAgbWVhbnMgQUEgc2hvdWxkIG5vdCBiZSB1c2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBFeHBlcmltZW50YWwgV2ViR0wyIGZlYXR1cmUsIGFsbG93cyB0byB1c2UgYW50aWFsaWFzaW5nIGluIGluZGl2aWR1YWwgcmVuZGVyVGV4dHVyZXMuXG4gICAgICAgICAqIEFudGlhbGlhc2luZyBpcyB0aGUgc2FtZSBhcyBmb3IgbWFpbiBidWZmZXIgd2l0aCByZW5kZXJlciBgYW50aWFsaWFzOnRydWVgIG9wdGlvbnMuXG4gICAgICAgICAqIFNlcmlvdXNseSBhZmZlY3RzIEdQVSBtZW1vcnkgY29uc3VtcHRpb24gYW5kIEdQVSBwZXJmb3JtYW5jZS5cbiAgICAgICAgICpcbiAgICAgICAgICpgYGBqc1xuICAgICAgICAgKiByZW5kZXJUZXh0dXJlLmZyYW1lYnVmZmVyLm11bHRpc2FtcGxlID0gUElYSS5NU0FBX1FVQUxJVFkuSElHSDtcbiAgICAgICAgICogLy8uLi5cbiAgICAgICAgICogcmVuZGVyZXIucmVuZGVyKHJlbmRlclRleHR1cmUsIG15Q29udGFpbmVyKTtcbiAgICAgICAgICogcmVuZGVyZXIuZnJhbWVidWZmZXIuYmxpdCgpOyAvLyBjb3BpZXMgZGF0YSBmcm9tIE1TQUEgZnJhbWVidWZmZXIgdG8gdGV4dHVyZVxuICAgICAgICAgKiAgYGBgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTVNBQV9RVUFMSVRZfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLk1TQUFfUVVBTElUWS5OT05FXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm11bHRpc2FtcGxlID0gTVNBQV9RVUFMSVRZLk5PTkU7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGcmFtZWJ1ZmZlci5wcm90b3R5cGUsIFwiY29sb3JUZXh0dXJlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgY29sb3JUZXh0dXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmVzWzBdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQWRkIHRleHR1cmUgdG8gdGhlIGNvbG9yVGV4dHVyZSBhcnJheVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtpbmRleD0wXSAtIEluZGV4IG9mIHRoZSBhcnJheSB0byBhZGQgdGhlIHRleHR1cmUgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IFt0ZXh0dXJlXSAtIFRleHR1cmUgdG8gYWRkIHRvIHRoZSBhcnJheVxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyLnByb3RvdHlwZS5hZGRDb2xvclRleHR1cmUgPSBmdW5jdGlvbiAoaW5kZXgsIHRleHR1cmUpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHsgaW5kZXggPSAwOyB9XG4gICAgICAgIC8vIFRPRE8gYWRkIHNvbWUgdmFsaWRhdGlvbiB0byB0aGUgdGV4dHVyZSAtIHNhbWUgd2lkdGggLyBoZWlnaHQgZXRjP1xuICAgICAgICB0aGlzLmNvbG9yVGV4dHVyZXNbaW5kZXhdID0gdGV4dHVyZSB8fCBuZXcgQmFzZVRleHR1cmUobnVsbCwge1xuICAgICAgICAgICAgc2NhbGVNb2RlOiBTQ0FMRV9NT0RFUy5ORUFSRVNULFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgICAgIG1pcG1hcDogTUlQTUFQX01PREVTLk9GRixcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGEgZGVwdGggdGV4dHVyZSB0byB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IFt0ZXh0dXJlXSAtIFRleHR1cmUgdG8gYWRkXG4gICAgICovXG4gICAgRnJhbWVidWZmZXIucHJvdG90eXBlLmFkZERlcHRoVGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUgPSB0ZXh0dXJlIHx8IG5ldyBCYXNlVGV4dHVyZShuZXcgRGVwdGhSZXNvdXJjZShudWxsLCB7IHdpZHRoOiB0aGlzLndpZHRoLCBoZWlnaHQ6IHRoaXMuaGVpZ2h0IH0pLCB7XG4gICAgICAgICAgICBzY2FsZU1vZGU6IFNDQUxFX01PREVTLk5FQVJFU1QsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgbWlwbWFwOiBNSVBNQVBfTU9ERVMuT0ZGLFxuICAgICAgICAgICAgZm9ybWF0OiBGT1JNQVRTLkRFUFRIX0NPTVBPTkVOVCxcbiAgICAgICAgICAgIHR5cGU6IFRZUEVTLlVOU0lHTkVEX1NIT1JULFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlGb3JtYXQrKztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmFibGUgZGVwdGggb24gdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyLnByb3RvdHlwZS5lbmFibGVEZXB0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXB0aCA9IHRydWU7XG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5hYmxlIHN0ZW5jaWwgb24gdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyLnByb3RvdHlwZS5lbmFibGVTdGVuY2lsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0ZW5jaWwgPSB0cnVlO1xuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2l6ZSB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgZnJhbWUgYnVmZmVyIHRvIHJlc2l6ZSB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIGZyYW1lIGJ1ZmZlciB0byByZXNpemUgdG9cbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcbiAgICAgICAgaWYgKHdpZHRoID09PSB0aGlzLndpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5oZWlnaHQpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgdGhpcy5kaXJ0eVNpemUrKztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbG9yVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5jb2xvclRleHR1cmVzW2ldO1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0ZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgICAgICAvLyB0YWtlIGludG8gYWNvdW50IHRoZSBmYWN0IHRoZSB0ZXh0dXJlIG1heSBoYXZlIGEgZGlmZmVyZW50IHJlc29sdXRpb24uLlxuICAgICAgICAgICAgdGV4dHVyZS5zZXRTaXplKHdpZHRoIC8gcmVzb2x1dGlvbiwgaGVpZ2h0IC8gcmVzb2x1dGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMuZGVwdGhUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZS5zZXRTaXplKHdpZHRoIC8gcmVzb2x1dGlvbiwgaGVpZ2h0IC8gcmVzb2x1dGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIFdlYkdMIHJlc291cmNlcyB0aGF0IGFyZSBjb25uZWN0ZWQgdG8gdGhpcyBnZW9tZXRyeVxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIuZW1pdCh0aGlzLCBmYWxzZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyBhbmQgcmVtb3ZlcyB0aGUgZGVwdGggdGV4dHVyZSBhZGRlZCB0byB0aGlzIGZyYW1lYnVmZmVyLlxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyLnByb3RvdHlwZS5kZXN0cm95RGVwdGhUZXh0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kZXB0aFRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgICAgICsrdGhpcy5kaXJ0eUlkO1xuICAgICAgICAgICAgKyt0aGlzLmRpcnR5Rm9ybWF0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRnJhbWVidWZmZXI7XG59KCkpO1xuXG4vKipcbiAqIEEgQmFzZVJlbmRlclRleHR1cmUgaXMgYSBzcGVjaWFsIHRleHR1cmUgdGhhdCBhbGxvd3MgYW55IFBpeGlKUyBkaXNwbGF5IG9iamVjdCB0byBiZSByZW5kZXJlZCB0byBpdC5cbiAqXG4gKiBfX0hpbnRfXzogQWxsIERpc3BsYXlPYmplY3RzIChpLmUuIFNwcml0ZXMpIHRoYXQgcmVuZGVyIHRvIGEgQmFzZVJlbmRlclRleHR1cmUgc2hvdWxkIGJlIHByZWxvYWRlZFxuICogb3RoZXJ3aXNlIGJsYWNrIHJlY3RhbmdsZXMgd2lsbCBiZSBkcmF3biBpbnN0ZWFkLlxuICpcbiAqIEEgQmFzZVJlbmRlclRleHR1cmUgdGFrZXMgYSBzbmFwc2hvdCBvZiBhbnkgRGlzcGxheSBPYmplY3QgZ2l2ZW4gdG8gaXRzIHJlbmRlciBtZXRob2QuIFRoZSBwb3NpdGlvblxuICogYW5kIHJvdGF0aW9uIG9mIHRoZSBnaXZlbiBEaXNwbGF5IE9iamVjdHMgaXMgaWdub3JlZC4gRm9yIGV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGxldCByZW5kZXJlciA9IFBJWEkuYXV0b0RldGVjdFJlbmRlcmVyKCk7XG4gKiBsZXQgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5CYXNlUmVuZGVyVGV4dHVyZSh7IHdpZHRoOiA4MDAsIGhlaWdodDogNjAwIH0pO1xuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlKGJhc2VSZW5kZXJUZXh0dXJlKTtcbiAqIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKFwic3Bpbk9ial8wMS5wbmdcIik7XG4gKlxuICogc3ByaXRlLnBvc2l0aW9uLnggPSA4MDAvMjtcbiAqIHNwcml0ZS5wb3NpdGlvbi55ID0gNjAwLzI7XG4gKiBzcHJpdGUuYW5jaG9yLnggPSAwLjU7XG4gKiBzcHJpdGUuYW5jaG9yLnkgPSAwLjU7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgU3ByaXRlIGluIHRoaXMgY2FzZSB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGl0cyBsb2NhbCB0cmFuc2Zvcm0uIFRvIHJlbmRlciB0aGlzIHNwcml0ZSBhdCAwLDBcbiAqIHlvdSBjYW4gY2xlYXIgdGhlIHRyYW5zZm9ybVxuICpcbiAqIGBgYGpzXG4gKlxuICogc3ByaXRlLnNldFRyYW5zZm9ybSgpXG4gKlxuICogbGV0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVJlbmRlclRleHR1cmUoeyB3aWR0aDogMTAwLCBoZWlnaHQ6IDEwMCB9KTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmFzZVRleHR1cmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXNlUmVuZGVyVGV4dHVyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFzZVJlbmRlclRleHR1cmUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0xMDBdIC0gVGhlIHdpZHRoIG9mIHRoZSBiYXNlIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9MTAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIGJhc2UgcmVuZGVyIHRleHR1cmUuXG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbb3B0aW9ucy5zY2FsZU1vZGVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VSZW5kZXJUZXh0dXJlKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgICAgICAvLyBCYWNrd2FyZCBjb21wYXRpYmlsaXR5IG9mIHNpZ25hdHVyZVxuICAgICAgICAgICAgdmFyIHdpZHRoXzEgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICB2YXIgaGVpZ2h0XzEgPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICB2YXIgc2NhbGVNb2RlID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSBhcmd1bWVudHNbM107XG4gICAgICAgICAgICBvcHRpb25zID0geyB3aWR0aDogd2lkdGhfMSwgaGVpZ2h0OiBoZWlnaHRfMSwgc2NhbGVNb2RlOiBzY2FsZU1vZGUsIHJlc29sdXRpb246IHJlc29sdXRpb24gfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBudWxsLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgICAgICB2YXIgX2EgPSBvcHRpb25zIHx8IHt9LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIC8vIFNldCBkZWZhdWx0c1xuICAgICAgICBfdGhpcy5taXBtYXAgPSAwO1xuICAgICAgICBfdGhpcy53aWR0aCA9IE1hdGguY2VpbCh3aWR0aCkgfHwgMTAwO1xuICAgICAgICBfdGhpcy5oZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KSB8fCAxMDA7XG4gICAgICAgIF90aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuY2xlYXJDb2xvciA9IFswLCAwLCAwLCAwXTtcbiAgICAgICAgX3RoaXMuZnJhbWVidWZmZXIgPSBuZXcgRnJhbWVidWZmZXIoX3RoaXMud2lkdGggKiBfdGhpcy5yZXNvbHV0aW9uLCBfdGhpcy5oZWlnaHQgKiBfdGhpcy5yZXNvbHV0aW9uKVxuICAgICAgICAgICAgLmFkZENvbG9yVGV4dHVyZSgwLCBfdGhpcyk7XG4gICAgICAgIC8vIFRPRE8gLSBjb3VsZCB0aGlzIGJlIGFkZGVkIHRoZSBzeXN0ZW1zP1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRhdGEgc3RydWN0dXJlIGZvciB0aGUgc3RlbmNpbCBtYXNrcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXNrRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza1N0YWNrID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGF0YSBzdHJ1Y3R1cmUgZm9yIHRoZSBmaWx0ZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZpbHRlclN0YWNrID0gW3t9XTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBCYXNlUmVuZGVyVGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgdG8gcmVzaXplIHRvLlxuICAgICAqL1xuICAgIEJhc2VSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB3aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgICAgIGhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLnJlc2l6ZSh3aWR0aCAqIHRoaXMucmVzb2x1dGlvbiwgaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZyZWVzIHRoZSB0ZXh0dXJlIGFuZCBmcmFtZWJ1ZmZlciBmcm9tIFdlYkdMIG1lbW9yeSB3aXRob3V0IGRlc3Ryb3lpbmcgdGhpcyB0ZXh0dXJlIG9iamVjdC5cbiAgICAgKiBUaGlzIG1lYW5zIHlvdSBjYW4gc3RpbGwgdXNlIHRoZSB0ZXh0dXJlIGxhdGVyIHdoaWNoIHdpbGwgdXBsb2FkIGl0IHRvIEdQVVxuICAgICAqIG1lbW9yeSBhZ2Fpbi5cbiAgICAgKlxuICAgICAqIEBmaXJlcyBQSVhJLkJhc2VUZXh0dXJlI2Rpc3Bvc2VcbiAgICAgKi9cbiAgICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5kaXNwb3NlKCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlLlxuICAgICAqL1xuICAgIEJhc2VSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5kZXN0cm95RGVwdGhUZXh0dXJlKCk7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEJhc2VSZW5kZXJUZXh0dXJlO1xufShCYXNlVGV4dHVyZSkpO1xuXG4vKipcbiAqIFN0b3JlcyBhIHRleHR1cmUncyBmcmFtZSBpbiBVViBjb29yZGluYXRlcywgaW5cbiAqIHdoaWNoIGV2ZXJ5dGhpbmcgbGllcyBpbiB0aGUgcmVjdGFuZ2xlIGBbKDAsMCksICgxLDApLFxuICogKDEsMSksICgwLDEpXWAuXG4gKlxuICogfCBDb3JuZXIgICAgICAgfCBDb29yZGluYXRlcyB8XG4gKiB8LS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLXxcbiAqIHwgVG9wLUxlZnQgICAgIHwgYCh4MCx5MClgICAgfFxuICogfCBUb3AtUmlnaHQgICAgfCBgKHgxLHkxKWAgICB8XG4gKiB8IEJvdHRvbS1SaWdodCB8IGAoeDIseTIpYCAgIHxcbiAqIHwgQm90dG9tLUxlZnQgIHwgYCh4Myx5MylgICAgfFxuICpcbiAqIEBjbGFzc1xuICogQHByb3RlY3RlZFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVVdnMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGV4dHVyZVV2cygpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFgtY29tcG9uZW50IG9mIHRvcC1sZWZ0IGNvcm5lciBgKHgwLHkwKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueDAgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogWS1jb21wb25lbnQgb2YgdG9wLWxlZnQgY29ybmVyIGAoeDAseTApYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55MCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBYLWNvbXBvbmVudCBvZiB0b3AtcmlnaHQgY29ybmVyIGAoeDEseTEpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54MSA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBZLWNvbXBvbmVudCBvZiB0b3AtcmlnaHQgY29ybmVyIGAoeDEseTEpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55MSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBYLWNvbXBvbmVudCBvZiBib3R0b20tcmlnaHQgY29ybmVyIGAoeDIseTIpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54MiA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBZLWNvbXBvbmVudCBvZiBib3R0b20tcmlnaHQgY29ybmVyIGAoeDIseTIpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55MiA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBYLWNvbXBvbmVudCBvZiBib3R0b20tbGVmdCBjb3JuZXIgYCh4Myx5MylgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLngzID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFktY29tcG9uZW50IG9mIGJvdHRvbS1yaWdodCBjb3JuZXIgYCh4Myx5MylgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkzID0gMTtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdGV4dHVyZSBVdnMgYmFzZWQgb24gdGhlIGdpdmVuIGZyYW1lIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGZyYW1lIC0gVGhlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gYmFzZUZyYW1lIC0gVGhlIGJhc2UgZnJhbWUgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRlIC0gUm90YXRpb24gb2YgZnJhbWUsIHNlZSB7QGxpbmsgUElYSS5ncm91cEQ4fVxuICAgICAqL1xuICAgIFRleHR1cmVVdnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChmcmFtZSwgYmFzZUZyYW1lLCByb3RhdGUpIHtcbiAgICAgICAgdmFyIHR3ID0gYmFzZUZyYW1lLndpZHRoO1xuICAgICAgICB2YXIgdGggPSBiYXNlRnJhbWUuaGVpZ2h0O1xuICAgICAgICBpZiAocm90YXRlKSB7XG4gICAgICAgICAgICAvLyB3aWR0aCBhbmQgaGVpZ2h0IGRpdiAyIGRpdiBiYXNlRnJhbWUgc2l6ZVxuICAgICAgICAgICAgdmFyIHcyID0gZnJhbWUud2lkdGggLyAyIC8gdHc7XG4gICAgICAgICAgICB2YXIgaDIgPSBmcmFtZS5oZWlnaHQgLyAyIC8gdGg7XG4gICAgICAgICAgICAvLyBjb29yZGluYXRlcyBvZiBjZW50ZXJcbiAgICAgICAgICAgIHZhciBjWCA9IChmcmFtZS54IC8gdHcpICsgdzI7XG4gICAgICAgICAgICB2YXIgY1kgPSAoZnJhbWUueSAvIHRoKSArIGgyO1xuICAgICAgICAgICAgcm90YXRlID0gZ3JvdXBEOC5hZGQocm90YXRlLCBncm91cEQ4Lk5XKTsgLy8gTlcgaXMgdG9wLWxlZnQgY29ybmVyXG4gICAgICAgICAgICB0aGlzLngwID0gY1ggKyAodzIgKiBncm91cEQ4LnVYKHJvdGF0ZSkpO1xuICAgICAgICAgICAgdGhpcy55MCA9IGNZICsgKGgyICogZ3JvdXBEOC51WShyb3RhdGUpKTtcbiAgICAgICAgICAgIHJvdGF0ZSA9IGdyb3VwRDguYWRkKHJvdGF0ZSwgMik7IC8vIHJvdGF0ZSA5MCBkZWdyZWVzIGNsb2Nrd2lzZVxuICAgICAgICAgICAgdGhpcy54MSA9IGNYICsgKHcyICogZ3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgICAgIHRoaXMueTEgPSBjWSArIChoMiAqIGdyb3VwRDgudVkocm90YXRlKSk7XG4gICAgICAgICAgICByb3RhdGUgPSBncm91cEQ4LmFkZChyb3RhdGUsIDIpO1xuICAgICAgICAgICAgdGhpcy54MiA9IGNYICsgKHcyICogZ3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgICAgIHRoaXMueTIgPSBjWSArIChoMiAqIGdyb3VwRDgudVkocm90YXRlKSk7XG4gICAgICAgICAgICByb3RhdGUgPSBncm91cEQ4LmFkZChyb3RhdGUsIDIpO1xuICAgICAgICAgICAgdGhpcy54MyA9IGNYICsgKHcyICogZ3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgICAgIHRoaXMueTMgPSBjWSArIChoMiAqIGdyb3VwRDgudVkocm90YXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLngwID0gZnJhbWUueCAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MCA9IGZyYW1lLnkgLyB0aDtcbiAgICAgICAgICAgIHRoaXMueDEgPSAoZnJhbWUueCArIGZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MSA9IGZyYW1lLnkgLyB0aDtcbiAgICAgICAgICAgIHRoaXMueDIgPSAoZnJhbWUueCArIGZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MiA9IChmcmFtZS55ICsgZnJhbWUuaGVpZ2h0KSAvIHRoO1xuICAgICAgICAgICAgdGhpcy54MyA9IGZyYW1lLnggLyB0dztcbiAgICAgICAgICAgIHRoaXMueTMgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbMF0gPSB0aGlzLngwO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbMV0gPSB0aGlzLnkwO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbMl0gPSB0aGlzLngxO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbM10gPSB0aGlzLnkxO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbNF0gPSB0aGlzLngyO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbNV0gPSB0aGlzLnkyO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbNl0gPSB0aGlzLngzO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzJbN10gPSB0aGlzLnkzO1xuICAgIH07XG4gICAgcmV0dXJuIFRleHR1cmVVdnM7XG59KCkpO1xuXG52YXIgREVGQVVMVF9VVlMgPSBuZXcgVGV4dHVyZVV2cygpO1xuLyoqXG4gKiBBIHRleHR1cmUgc3RvcmVzIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlcHJlc2VudHMgYW4gaW1hZ2Ugb3IgcGFydCBvZiBhbiBpbWFnZS5cbiAqXG4gKiBJdCBjYW5ub3QgYmUgYWRkZWQgdG8gdGhlIGRpc3BsYXkgbGlzdCBkaXJlY3RseTsgaW5zdGVhZCB1c2UgaXQgYXMgdGhlIHRleHR1cmUgZm9yIGEgU3ByaXRlLlxuICogSWYgbm8gZnJhbWUgaXMgcHJvdmlkZWQgZm9yIGEgdGV4dHVyZSwgdGhlbiB0aGUgd2hvbGUgaW1hZ2UgaXMgdXNlZC5cbiAqXG4gKiBZb3UgY2FuIGRpcmVjdGx5IGNyZWF0ZSBhIHRleHR1cmUgZnJvbSBhbiBpbWFnZSBhbmQgdGhlbiByZXVzZSBpdCBtdWx0aXBsZSB0aW1lcyBsaWtlIHRoaXMgOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKCdhc3NldHMvaW1hZ2UucG5nJyk7XG4gKiBsZXQgc3ByaXRlMSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIGxldCBzcHJpdGUyID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogYGBgXG4gKlxuICogSWYgeW91IGRpZG50IHBhc3MgdGhlIHRleHR1cmUgZnJhbWUgdG8gY29uc3RydWN0b3IsIGl0IGVuYWJsZXMgYG5vRnJhbWVgIG1vZGU6XG4gKiBpdCBzdWJzY3JpYmVzIG9uIGJhc2VUZXh0dXJlIGV2ZW50cywgaXQgYXV0b21hdGljYWxseSByZXNpemVzIGF0IHRoZSBzYW1lIHRpbWUgYXMgYmFzZVRleHR1cmUuXG4gKlxuICogVGV4dHVyZXMgbWFkZSBmcm9tIFNWR3MsIGxvYWRlZCBvciBub3QsIGNhbm5vdCBiZSB1c2VkIGJlZm9yZSB0aGUgZmlsZSBmaW5pc2hlcyBwcm9jZXNzaW5nLlxuICogWW91IGNhbiBjaGVjayBmb3IgdGhpcyBieSBjaGVja2luZyB0aGUgc3ByaXRlJ3MgX3RleHR1cmVJRCBwcm9wZXJ0eS5cbiAqIGBgYGpzXG4gKiB2YXIgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKCdhc3NldHMvaW1hZ2Uuc3ZnJyk7XG4gKiB2YXIgc3ByaXRlMSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIC8vc3ByaXRlMS5fdGV4dHVyZUlEIHNob3VsZCBub3QgYmUgdW5kZWZpbmVkIGlmIHRoZSB0ZXh0dXJlIGhhcyBmaW5pc2hlZCBwcm9jZXNzaW5nIHRoZSBTVkcgZmlsZVxuICogYGBgXG4gKiBZb3UgY2FuIHVzZSBhIHRpY2tlciBvciByQUYgdG8gZW5zdXJlIHlvdXIgc3ByaXRlcyBsb2FkIHRoZSBmaW5pc2hlZCB0ZXh0dXJlcyBhZnRlciBwcm9jZXNzaW5nLiBTZWUgaXNzdWUgIzMwNjguXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRleHR1cmUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBiYXNlIHRleHR1cmUgc291cmNlIHRvIGNyZWF0ZSB0aGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW2ZyYW1lXSAtIFRoZSByZWN0YW5nbGUgZnJhbWUgb2YgdGhlIHRleHR1cmUgdG8gc2hvd1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtvcmlnXSAtIFRoZSBhcmVhIG9mIG9yaWdpbmFsIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbdHJpbV0gLSBUcmltbWVkIHJlY3RhbmdsZSBvZiBvcmlnaW5hbCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGVdIC0gaW5kaWNhdGVzIGhvdyB0aGUgdGV4dHVyZSB3YXMgcm90YXRlZCBieSB0ZXh0dXJlIHBhY2tlci4gU2VlIHtAbGluayBQSVhJLmdyb3VwRDh9XG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IFthbmNob3JdIC0gRGVmYXVsdCBhbmNob3IgcG9pbnQgdXNlZCBmb3Igc3ByaXRlIHBsYWNlbWVudCAvIHJvdGF0aW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dHVyZShiYXNlVGV4dHVyZSwgZnJhbWUsIG9yaWcsIHRyaW0sIHJvdGF0ZSwgYW5jaG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoaXMgVGV4dHVyZSBoYXZlIGFueSBmcmFtZSBkYXRhIGFzc2lnbmVkIHRvIGl0P1xuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIG1vZGUgaXMgZW5hYmxlZCBhdXRvbWF0aWNhbGx5IGlmIG5vIGZyYW1lIHdhcyBwYXNzZWQgaW5zaWRlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJbiB0aGlzIG1vZGUgdGV4dHVyZSBpcyBzdWJzY3JpYmVkIHRvIGJhc2VUZXh0dXJlIGV2ZW50cywgYW5kIGZpcmVzIGB1cGRhdGVgIG9uIGFueSBjaGFuZ2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEJld2FyZSwgYWZ0ZXIgbG9hZGluZyBvciByZXNpemUgb2YgYmFzZVRleHR1cmUgZXZlbnQgY2FuIGZpcmVkIHR3byB0aW1lcyFcbiAgICAgICAgICogSWYgeW91IHdhbnQgbW9yZSBjb250cm9sLCBzdWJzY3JpYmUgb24gYmFzZVRleHR1cmUgaXRzZWxmLlxuICAgICAgICAgKlxuICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgKiB0ZXh0dXJlLm9uKCd1cGRhdGUnLCAoKSA9PiB7fSk7XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKlxuICAgICAgICAgKiBBbnkgYXNzaWdubWVudCBvZiBgZnJhbWVgIHN3aXRjaGVzIG9mZiBgbm9GcmFtZWAgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm5vRnJhbWUgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFmcmFtZSkge1xuICAgICAgICAgICAgX3RoaXMubm9GcmFtZSA9IHRydWU7XG4gICAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJhc2VUZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2UgdGV4dHVyZSB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGFyZWEgb2YgdGhlIEJhc2VUZXh0dXJlIGltYWdlIHRvIGFjdHVhbGx5IGNvcHkgdG8gdGhlIENhbnZhcyAvIFdlYkdMIHdoZW4gcmVuZGVyaW5nLFxuICAgICAgICAgKiBpcnJlc3BlY3RpdmUgb2YgdGhlIGFjdHVhbCBmcmFtZSBzaXplIG9yIHBsYWNlbWVudCAod2hpY2ggY2FuIGJlIGluZmx1ZW5jZWQgYnkgdHJpbW1lZCB0ZXh0dXJlIGF0bGFzZXMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZyYW1lID0gZnJhbWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSB0cmltbWVkIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZSwgYmVmb3JlIGl0IHdhcyBwdXQgaW4gYXRsYXNcbiAgICAgICAgICogUGxlYXNlIGNhbGwgYHVwZGF0ZVV2cygpYCBhZnRlciB5b3UgY2hhbmdlIGNvb3JkaW5hdGVzIG9mIGB0cmltYCBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50cmltID0gdHJpbTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBsZXQgdGhlIHJlbmRlcmVyIGtub3cgaWYgdGhlIHRleHR1cmUgaXMgdmFsaWQuIElmIGl0J3Mgbm90IHRoZW4gaXQgY2Fubm90IGJlIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmFsaWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBVViBkYXRhIGNhY2hlLiBDYW4gYmUgdXNlZCBhcyBxdWFkIFVWXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZVV2c31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3V2cyA9IERFRkFVTFRfVVZTO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBUZXh0dXJlTWF0cml4IGluc3RhbmNlIGZvciB0aGlzIHRleHR1cmVcbiAgICAgICAgICogQnkgZGVmYXVsdCB0aGF0IG9iamVjdCBpcyBub3QgY3JlYXRlZCBiZWNhdXNlIGl0cyBoZWF2eVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dk1hdHJpeCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBhcmVhIG9mIG9yaWdpbmFsIHRleHR1cmUsIGJlZm9yZSBpdCB3YXMgcHV0IGluIGF0bGFzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZyA9IG9yaWcgfHwgZnJhbWU7IC8vIG5ldyBSZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG4gICAgICAgIF90aGlzLl9yb3RhdGUgPSBOdW1iZXIocm90YXRlIHx8IDApO1xuICAgICAgICBpZiAocm90YXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG9sZCB0ZXh0dXJlcGFja2VyIGxlZ2FjeSwgc29tZSBnYW1lcy9saWJyYXJpZXMgYXJlIHBhc3NpbmcgXCJ0cnVlXCIgZm9yIHJvdGF0ZWQgdGV4dHVyZXNcbiAgICAgICAgICAgIF90aGlzLl9yb3RhdGUgPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF90aGlzLl9yb3RhdGUgJSAyICE9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2F0dGVtcHQgdG8gdXNlIGRpYW1vbmQtc2hhcGVkIFVWcy4gSWYgeW91IGFyZSBzdXJlLCBzZXQgcm90YXRpb24gbWFudWFsbHknKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQW5jaG9yIHBvaW50IHRoYXQgaXMgdXNlZCBhcyBkZWZhdWx0IGlmIHNwcml0ZSBpcyBjcmVhdGVkIHdpdGggdGhpcyB0ZXh0dXJlLlxuICAgICAgICAgKiBDaGFuZ2luZyB0aGUgYGRlZmF1bHRBbmNob3JgIGF0IGEgbGF0ZXIgcG9pbnQgb2YgdGltZSB3aWxsIG5vdCB1cGRhdGUgU3ByaXRlJ3MgYW5jaG9yIHBvaW50LlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAgICAgKiBAZGVmYXVsdCB7MCwwfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVmYXVsdEFuY2hvciA9IGFuY2hvciA/IG5ldyBQb2ludChhbmNob3IueCwgYW5jaG9yLnkpIDogbmV3IFBvaW50KDAsIDApO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIElEIGlzIG9ic2VydmVkIGJ5IHNwcml0ZXMgYW5kIFRleHR1cmVNYXRyaXggaW5zdGFuY2VzLlxuICAgICAgICAgKiBDYWxsIHVwZGF0ZVV2cygpIHRvIGluY3JlbWVudCBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdXBkYXRlSUQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGlkcyB1bmRlciB3aGljaCB0aGlzIFRleHR1cmUgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIHRleHR1cmUgY2FjaGUuIFRoaXMgaXNcbiAgICAgICAgICogYXV0b21hdGljYWxseSBzZXQgYXMgbG9uZyBhcyBUZXh0dXJlLmFkZFRvQ2FjaGUgaXMgdXNlZCwgYnV0IG1heSBub3QgYmUgc2V0IGlmIGFcbiAgICAgICAgICogVGV4dHVyZSBpcyBhZGRlZCBkaXJlY3RseSB0byB0aGUgVGV4dHVyZUNhY2hlIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVDYWNoZUlkcyA9IFtdO1xuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5vbmNlKCdsb2FkZWQnLCBfdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgX3RoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF90aGlzLm5vRnJhbWUpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGZyYW1lIHdlIHNob3VsZCBtb25pdG9yIGZvciBhbnkgYmFzZSB0ZXh0dXJlIGNoYW5nZXMuLlxuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQoYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuZnJhbWUgPSBmcmFtZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX3RoaXMubm9GcmFtZSkge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUub24oJ3VwZGF0ZScsIF90aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCBfdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoaXMgdGV4dHVyZSBvbiB0aGUgZ3B1LlxuICAgICAqXG4gICAgICogQ2FsbHMgdGhlIFRleHR1cmVSZXNvdXJjZSB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBJZiB5b3UgYWRqdXN0ZWQgYGZyYW1lYCBtYW51YWxseSwgcGxlYXNlIGNhbGwgYHVwZGF0ZVV2cygpYCBpbnN0ZWFkLlxuICAgICAqXG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZS51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGJhc2UgdGV4dHVyZSBpcyB1cGRhdGVkXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBiYXNlIHRleHR1cmUuXG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUub25CYXNlVGV4dHVyZVVwZGF0ZWQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgaWYgKHRoaXMubm9GcmFtZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZnJhbWUud2lkdGggPSBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lLmhlaWdodCA9IGJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMudmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE8gdGhpcyBjb2RlIGxvb2tzIGNvbmZ1c2luZy4uIGJvbyB0byBhYnVzaW5nIGdldHRlcnMgYW5kIHNldHRlcnMhXG4gICAgICAgICAgICAvLyBpZiB1c2VyIGdhdmUgdXMgZnJhbWUgdGhhdCBoYXMgYmlnZ2VyIHNpemUgdGhhbiByZXNpemVkIHRleHR1cmUgaXQgY2FuIGJlIGEgcHJvYmxlbVxuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IHRoaXMuX2ZyYW1lO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lCYXNlPWZhbHNlXSAtIFdoZXRoZXIgdG8gZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKGRlc3Ryb3lCYXNlKSB7XG4gICAgICAgIGlmICh0aGlzLmJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICBpZiAoZGVzdHJveUJhc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSB0aGlzLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSB0aGUgdGV4dHVyZSBpZiBpdCBleGlzdHMgaW4gdGhlIHRleHR1cmUgY2FjaGUuLlxuICAgICAgICAgICAgICAgIC8vIHRoaXMgb25seSBuZWVkcyB0byBiZSByZW1vdmVkIGlmIHRoZSBiYXNlIHRleHR1cmUgaXMgYWN0dWFsbHkgZGVzdHJveWVkIHRvby4uXG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlICYmIHJlc291cmNlLnVybCAmJiBUZXh0dXJlQ2FjaGVbcmVzb3VyY2UudXJsXSkge1xuICAgICAgICAgICAgICAgICAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZShyZXNvdXJjZS51cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUub2ZmKCdsb2FkZWQnLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZyYW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdXZzID0gbnVsbDtcbiAgICAgICAgdGhpcy50cmltID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnID0gbnVsbDtcbiAgICAgICAgdGhpcy52YWxpZCA9IGZhbHNlO1xuICAgICAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0ZXh0dXJlIG9iamVjdCB0aGF0IGFjdHMgdGhlIHNhbWUgYXMgdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXcgdGV4dHVyZVxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSwgdGhpcy5mcmFtZS5jbG9uZSgpLCB0aGlzLm9yaWcuY2xvbmUoKSwgdGhpcy50cmltICYmIHRoaXMudHJpbS5jbG9uZSgpLCB0aGlzLnJvdGF0ZSwgdGhpcy5kZWZhdWx0QW5jaG9yKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGludGVybmFsIFdlYkdMIFVWIGNhY2hlLiBVc2UgaXQgYWZ0ZXIgeW91IGNoYW5nZSBgZnJhbWVgIG9yIGB0cmltYCBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBDYWxsIGl0IGFmdGVyIGNoYW5naW5nIHRoZSBmcmFtZVxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLnVwZGF0ZVV2cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3V2cyA9PT0gREVGQVVMVF9VVlMpIHtcbiAgICAgICAgICAgIHRoaXMuX3V2cyA9IG5ldyBUZXh0dXJlVXZzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdXZzLnNldCh0aGlzLl9mcmFtZSwgdGhpcy5iYXNlVGV4dHVyZSwgdGhpcy5yb3RhdGUpO1xuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBUZXh0dXJlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8UElYSS5CYXNlVGV4dHVyZX0gc291cmNlXG4gICAgICogICAgICAgIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3RyaWN0XSAtIEVuZm9yY2Ugc3RyaWN0LW1vZGUsIHNlZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5TVFJJQ1RfVEVYVFVSRV9DQUNIRX0uXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gKHNvdXJjZSwgb3B0aW9ucywgc3RyaWN0KSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGlmIChzdHJpY3QgPT09IHZvaWQgMCkgeyBzdHJpY3QgPSBzZXR0aW5ncy5TVFJJQ1RfVEVYVFVSRV9DQUNIRTsgfVxuICAgICAgICB2YXIgaXNGcmFtZSA9IHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnO1xuICAgICAgICB2YXIgY2FjaGVJZCA9IG51bGw7XG4gICAgICAgIGlmIChpc0ZyYW1lKSB7XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UuX3BpeGlJZCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZS5fcGl4aUlkID0gXCJwaXhpaWRfXCIgKyB1aWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhY2hlSWQgPSBzb3VyY2UuX3BpeGlJZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGV4dHVyZSA9IFRleHR1cmVDYWNoZVtjYWNoZUlkXTtcbiAgICAgICAgLy8gU3RyaWN0LW1vZGUgcmVqZWN0cyBpbnZhbGlkIGNhY2hlSWRzXG4gICAgICAgIGlmIChpc0ZyYW1lICYmIHN0cmljdCAmJiAhdGV4dHVyZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGNhY2hlSWQgXFxcIlwiICsgY2FjaGVJZCArIFwiXFxcIiBkb2VzIG5vdCBleGlzdCBpbiBUZXh0dXJlQ2FjaGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGV4dHVyZSkge1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLnJlc29sdXRpb24pIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnJlc29sdXRpb24gPSBnZXRSZXNvbHV0aW9uT2ZVcmwoc291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRleHR1cmUgPSBuZXcgVGV4dHVyZShuZXcgQmFzZVRleHR1cmUoc291cmNlLCBvcHRpb25zKSk7XG4gICAgICAgICAgICB0ZXh0dXJlLmJhc2VUZXh0dXJlLmNhY2hlSWQgPSBjYWNoZUlkO1xuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBjYWNoZUlkKTtcbiAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBjYWNoZUlkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBsZXRzIGFzc3VtZSBpdHMgYSBiYXNlIHRleHR1cmUhXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXNlZnVsIGZvciBsb2FkaW5nIHRleHR1cmVzIHZpYSBVUkxzLiBVc2UgaW5zdGVhZCBvZiBgVGV4dHVyZS5mcm9tYCBiZWNhdXNlXG4gICAgICogaXQgZG9lcyBhIGJldHRlciBqb2Igb2YgaGFuZGxpbmcgZmFpbGVkIFVSTHMgbW9yZSBlZmZlY3RpdmVseS4gVGhpcyBhbHNvIGlnbm9yZXNcbiAgICAgKiBgUElYSS5zZXR0aW5ncy5TVFJJQ1RfVEVYVFVSRV9DQUNIRWAuIFdvcmtzIGZvciBWaWRlb3MsIFNWR3MsIEltYWdlcy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSByZW1vdGUgVVJMIHRvIGxvYWQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25hbCBvcHRpb25zIHRvIGluY2x1ZGVcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFBJWEkuVGV4dHVyZT59IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgVGV4dHVyZS5cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21VUkwgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciByZXNvdXJjZU9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHsgYXV0b0xvYWQ6IGZhbHNlIH0sIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZXNvdXJjZU9wdGlvbnMpO1xuICAgICAgICB2YXIgdGV4dHVyZSA9IFRleHR1cmUuZnJvbSh1cmwsIE9iamVjdC5hc3NpZ24oeyByZXNvdXJjZU9wdGlvbnM6IHJlc291cmNlT3B0aW9ucyB9LCBvcHRpb25zKSwgZmFsc2UpO1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc291cmNlO1xuICAgICAgICAvLyBUaGUgdGV4dHVyZSB3YXMgYWxyZWFkeSBsb2FkZWRcbiAgICAgICAgaWYgKHRleHR1cmUuYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWFudWFsbHkgbG9hZCB0aGUgdGV4dHVyZSwgdGhpcyBzaG91bGQgYWxsb3cgdXNlcnMgdG8gaGFuZGxlIGxvYWQgZXJyb3JzXG4gICAgICAgIHJldHVybiByZXNvdXJjZS5sb2FkKCkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUodGV4dHVyZSk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IFRleHR1cmUgd2l0aCBhIEJ1ZmZlclJlc291cmNlIGZyb20gYSBGbG9hdDMyQXJyYXkuXG4gICAgICogUkdCQSB2YWx1ZXMgYXJlIGZsb2F0cyBmcm9tIDAgdG8gMS5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8VWludDhBcnJheX0gYnVmZmVyIC0gVGhlIG9wdGlvbmFsIGFycmF5IHRvIHVzZSwgaWYgbm8gZGF0YVxuICAgICAqICAgICAgICBpcyBwcm92aWRlZCwgYSBuZXcgRmxvYXQzMkFycmF5IGlzIGNyZWF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSByZXN1bHRpbmcgbmV3IEJhc2VUZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tQnVmZmVyID0gZnVuY3Rpb24gKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUoQmFzZVRleHR1cmUuZnJvbUJ1ZmZlcihidWZmZXIsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRleHR1cmUgZnJvbSBhIHNvdXJjZSBhbmQgYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IHNvdXJjZSAtIFRoZSBpbnB1dCBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGltYWdlVXJsIC0gRmlsZSBuYW1lIG9mIHRleHR1cmUsIGZvciBjYWNoZSBhbmQgcmVzb2x2aW5nIHJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lXSAtIEh1bWFuIHJlYWRhYmxlIG5hbWUgZm9yIHRoZSB0ZXh0dXJlIGNhY2hlLiBJZiBubyBuYW1lIGlzXG4gICAgICogICAgICAgIHNwZWNpZmllZCwgb25seSBgaW1hZ2VVcmxgIHdpbGwgYmUgdXNlZCBhcyB0aGUgY2FjaGUgSUQuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBPdXRwdXQgdGV4dHVyZVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbUxvYWRlciA9IGZ1bmN0aW9uIChzb3VyY2UsIGltYWdlVXJsLCBuYW1lKSB7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IG5ldyBJbWFnZVJlc291cmNlKHNvdXJjZSk7XG4gICAgICAgIHJlc291cmNlLnVybCA9IGltYWdlVXJsO1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUocmVzb3VyY2UsIHtcbiAgICAgICAgICAgIHNjYWxlTW9kZTogc2V0dGluZ3MuU0NBTEVfTU9ERSxcbiAgICAgICAgICAgIHJlc29sdXRpb246IGdldFJlc29sdXRpb25PZlVybChpbWFnZVVybCksXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgLy8gTm8gbmFtZSwgdXNlIGltYWdlVXJsIGluc3RlYWRcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICBuYW1lID0gaW1hZ2VVcmw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGV0cyBhbHNvIGFkZCB0aGUgZnJhbWUgdG8gcGl4aSdzIGdsb2JhbCBjYWNoZSBmb3IgJ2Zyb21Mb2FkZXInIGZ1bmN0aW9uXG4gICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgbmFtZSk7XG4gICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBuYW1lKTtcbiAgICAgICAgLy8gYWxzbyBhZGQgcmVmZXJlbmNlcyBieSB1cmwgaWYgdGhleSBhcmUgZGlmZmVyZW50LlxuICAgICAgICBpZiAobmFtZSAhPT0gaW1hZ2VVcmwpIHtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBUZXh0dXJlIHRvIHRoZSBnbG9iYWwgVGV4dHVyZUNhY2hlLiBUaGlzIGNhY2hlIGlzIHNoYXJlZCBhY3Jvc3MgdGhlIHdob2xlIFBJWEkgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIFRleHR1cmUgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgdGhhdCB0aGUgVGV4dHVyZSB3aWxsIGJlIHN0b3JlZCBhZ2FpbnN0LlxuICAgICAqL1xuICAgIFRleHR1cmUuYWRkVG9DYWNoZSA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBpZCkge1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGlkKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChUZXh0dXJlQ2FjaGVbaWRdKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUZXh0dXJlIGFkZGVkIHRvIHRoZSBjYWNoZSB3aXRoIGFuIGlkIFtcIiArIGlkICsgXCJdIHRoYXQgYWxyZWFkeSBoYWQgYW4gZW50cnlcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBUZXh0dXJlQ2FjaGVbaWRdID0gdGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgVGV4dHVyZSBmcm9tIHRoZSBnbG9iYWwgVGV4dHVyZUNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIGlkIG9mIGEgVGV4dHVyZSB0byBiZSByZW1vdmVkLCBvciBhIFRleHR1cmUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfG51bGx9IFRoZSBUZXh0dXJlIHRoYXQgd2FzIHJlbW92ZWRcbiAgICAgKi9cbiAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSA9IGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dHVyZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlRnJvbUNhY2hlID0gVGV4dHVyZUNhY2hlW3RleHR1cmVdO1xuICAgICAgICAgICAgaWYgKHRleHR1cmVGcm9tQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKHRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGV4dHVyZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHR1cmVGcm9tQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGV4dHVyZSAmJiB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGV4dHVyZSBtYXRjaGVzIHRoZSBvbmUgYmVpbmcgcGFzc2VkIGluIGJlZm9yZSBkZWxldGluZyBpdCBmcm9tIHRoZSBjYWNoZS5cbiAgICAgICAgICAgICAgICBpZiAoVGV4dHVyZUNhY2hlW3RleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXSA9PT0gdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZS5wcm90b3R5cGUsIFwicmVzb2x1dGlvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHJlc29sdXRpb24gb2YgYmFzZVRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0dXJlLnByb3RvdHlwZSwgXCJmcmFtZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZnJhbWUgc3BlY2lmaWVzIHRoZSByZWdpb24gb2YgdGhlIGJhc2UgdGV4dHVyZSB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzLlxuICAgICAgICAgKiBQbGVhc2UgY2FsbCBgdXBkYXRlVXZzKClgIGFmdGVyIHlvdSBjaGFuZ2UgY29vcmRpbmF0ZXMgb2YgYGZyYW1lYCBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mcmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lID0gZnJhbWU7XG4gICAgICAgICAgICB0aGlzLm5vRnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciB4ID0gZnJhbWUueCwgeSA9IGZyYW1lLnksIHdpZHRoID0gZnJhbWUud2lkdGgsIGhlaWdodCA9IGZyYW1lLmhlaWdodDtcbiAgICAgICAgICAgIHZhciB4Tm90Rml0ID0geCArIHdpZHRoID4gdGhpcy5iYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgIHZhciB5Tm90Rml0ID0geSArIGhlaWdodCA+IHRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgaWYgKHhOb3RGaXQgfHwgeU5vdEZpdCkge1xuICAgICAgICAgICAgICAgIHZhciByZWxhdGlvbnNoaXAgPSB4Tm90Rml0ICYmIHlOb3RGaXQgPyAnYW5kJyA6ICdvcic7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yWCA9IFwiWDogXCIgKyB4ICsgXCIgKyBcIiArIHdpZHRoICsgXCIgPSBcIiArICh4ICsgd2lkdGgpICsgXCIgPiBcIiArIHRoaXMuYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yWSA9IFwiWTogXCIgKyB5ICsgXCIgKyBcIiArIGhlaWdodCArIFwiID0gXCIgKyAoeSArIGhlaWdodCkgKyBcIiA+IFwiICsgdGhpcy5iYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZXh0dXJlIEVycm9yOiBmcmFtZSBkb2VzIG5vdCBmaXQgaW5zaWRlIHRoZSBiYXNlIFRleHR1cmUgZGltZW5zaW9uczogJ1xuICAgICAgICAgICAgICAgICAgICArIChlcnJvclggKyBcIiBcIiArIHJlbGF0aW9uc2hpcCArIFwiIFwiICsgZXJyb3JZKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZhbGlkID0gd2lkdGggJiYgaGVpZ2h0ICYmIHRoaXMuYmFzZVRleHR1cmUudmFsaWQ7XG4gICAgICAgICAgICBpZiAoIXRoaXMudHJpbSAmJiAhdGhpcy5yb3RhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWcgPSBmcmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0dXJlLnByb3RvdHlwZSwgXCJyb3RhdGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHRleHR1cmUgaXMgcm90YXRlZCBpbnNpZGUgdGhlIGF0bGFzXG4gICAgICAgICAqIHNldCB0byAyIHRvIGNvbXBlbnNhdGUgZm9yIHRleHR1cmUgcGFja2VyIHJvdGF0aW9uXG4gICAgICAgICAqIHNldCB0byA2IHRvIGNvbXBlbnNhdGUgZm9yIHNwaW5lIHBhY2tlciByb3RhdGlvblxuICAgICAgICAgKiBjYW4gYmUgdXNlZCB0byByb3RhdGUgb3IgbWlycm9yIHNwcml0ZXNcbiAgICAgICAgICogU2VlIHtAbGluayBQSVhJLmdyb3VwRDh9IGZvciBleHBsYW5hdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHJvdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fcm90YXRlID0gcm90YXRlO1xuICAgICAgICAgICAgaWYgKHRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHR1cmUucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgVGV4dHVyZSBpbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0dXJlLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGV4dHVyZSBpbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciBCYXNlVGV4dHVyZXxUZXh0dXJlIGNhc3RcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5jYXN0VG9CYXNlVGV4dHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZVRleHR1cmU7XG4gICAgfTtcbiAgICByZXR1cm4gVGV4dHVyZTtcbn0oRXZlbnRFbWl0dGVyKSk7XG5mdW5jdGlvbiBjcmVhdGVXaGl0ZVRleHR1cmUoKSB7XG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IDE2O1xuICAgIGNhbnZhcy5oZWlnaHQgPSAxNjtcbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIDE2LCAxNik7XG4gICAgcmV0dXJuIG5ldyBUZXh0dXJlKG5ldyBCYXNlVGV4dHVyZShuZXcgQ2FudmFzUmVzb3VyY2UoY2FudmFzKSkpO1xufVxuZnVuY3Rpb24gcmVtb3ZlQWxsSGFuZGxlcnModGV4KSB7XG4gICAgdGV4LmRlc3Ryb3kgPSBmdW5jdGlvbiBfZW1wdHlEZXN0cm95KCkgeyB9O1xuICAgIHRleC5vbiA9IGZ1bmN0aW9uIF9lbXB0eU9uKCkgeyB9O1xuICAgIHRleC5vbmNlID0gZnVuY3Rpb24gX2VtcHR5T25jZSgpIHsgfTtcbiAgICB0ZXguZW1pdCA9IGZ1bmN0aW9uIF9lbXB0eUVtaXQoKSB7IH07XG59XG4vKipcbiAqIEFuIGVtcHR5IHRleHR1cmUsIHVzZWQgb2Z0ZW4gdG8gbm90IGhhdmUgdG8gY3JlYXRlIG11bHRpcGxlIGVtcHR5IHRleHR1cmVzLlxuICogQ2FuIG5vdCBiZSBkZXN0cm95ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gKi9cblRleHR1cmUuRU1QVFkgPSBuZXcgVGV4dHVyZShuZXcgQmFzZVRleHR1cmUoKSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLkVNUFRZKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuRU1QVFkuYmFzZVRleHR1cmUpO1xuLyoqXG4gKiBBIHdoaXRlIHRleHR1cmUgb2YgMTZ4MTYgc2l6ZSwgdXNlZCBmb3IgZ3JhcGhpY3MgYW5kIG90aGVyIHRoaW5nc1xuICogQ2FuIG5vdCBiZSBkZXN0cm95ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gKi9cblRleHR1cmUuV0hJVEUgPSBjcmVhdGVXaGl0ZVRleHR1cmUoKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuV0hJVEUpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5XSElURS5iYXNlVGV4dHVyZSk7XG5cbi8qKlxuICogQSBSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIFJlbmRlclRleHR1cmUgc2hvdWxkIGJlIHByZWxvYWRlZFxuICogb3RoZXJ3aXNlIGJsYWNrIHJlY3RhbmdsZXMgd2lsbCBiZSBkcmF3biBpbnN0ZWFkLlxuICpcbiAqIF9fSGludC0yX186IFRoZSBhY3R1YWwgbWVtb3J5IGFsbG9jYXRpb24gd2lsbCBoYXBwZW4gb24gZmlyc3QgcmVuZGVyLlxuICogWW91IHNob3VsZG4ndCBjcmVhdGUgcmVuZGVyVGV4dHVyZXMgZWFjaCBmcmFtZSBqdXN0IHRvIGRlbGV0ZSB0aGVtIGFmdGVyLCB0cnkgdG8gcmV1c2UgdGhlbS5cbiAqXG4gKiBBIFJlbmRlclRleHR1cmUgdGFrZXMgYSBzbmFwc2hvdCBvZiBhbnkgRGlzcGxheSBPYmplY3QgZ2l2ZW4gdG8gaXRzIHJlbmRlciBtZXRob2QuIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICogbGV0IHJlbmRlclRleHR1cmUgPSBQSVhJLlJlbmRlclRleHR1cmUuY3JlYXRlKHsgd2lkdGg6IDgwMCwgaGVpZ2h0OiA2MDAgfSk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcInNwaW5PYmpfMDEucG5nXCIpO1xuICpcbiAqIHNwcml0ZS5wb3NpdGlvbi54ID0gODAwLzI7XG4gKiBzcHJpdGUucG9zaXRpb24ueSA9IDYwMC8yO1xuICogc3ByaXRlLmFuY2hvci54ID0gMC41O1xuICogc3ByaXRlLmFuY2hvci55ID0gMC41O1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpO1xuICogYGBgXG4gKlxuICogVGhlIFNwcml0ZSBpbiB0aGlzIGNhc2Ugd2lsbCBiZSByZW5kZXJlZCB1c2luZyBpdHMgbG9jYWwgdHJhbnNmb3JtLiBUbyByZW5kZXIgdGhpcyBzcHJpdGUgYXQgMCwwXG4gKiB5b3UgY2FuIGNsZWFyIHRoZSB0cmFuc2Zvcm1cbiAqXG4gKiBgYGBqc1xuICpcbiAqIHNwcml0ZS5zZXRUcmFuc2Zvcm0oKVxuICpcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZS5jcmVhdGUoMTAwLCAxMDApO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpOyAgLy8gUmVuZGVycyB0byBjZW50ZXIgb2YgUmVuZGVyVGV4dHVyZVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlRleHR1cmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSZW5kZXJUZXh0dXJlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZW5kZXJUZXh0dXJlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlUmVuZGVyVGV4dHVyZX0gYmFzZVJlbmRlclRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlIG9iamVjdCB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW2ZyYW1lXSAtIFRoZSByZWN0YW5nbGUgZnJhbWUgb2YgdGhlIHRleHR1cmUgdG8gc2hvd1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUsIGZyYW1lKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIHN1cHBvcnQgZm9yIGxlZ2FjeS4uXG4gICAgICAgIHZhciBfbGVnYWN5UmVuZGVyZXIgPSBudWxsO1xuICAgICAgICBpZiAoIShiYXNlUmVuZGVyVGV4dHVyZSBpbnN0YW5jZW9mIEJhc2VSZW5kZXJUZXh0dXJlKSkge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgICAgdmFyIHNjYWxlTW9kZSA9IGFyZ3VtZW50c1szXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzRdO1xuICAgICAgICAgICAgLy8gd2UgaGF2ZSBhbiBvbGQgcmVuZGVyIHRleHR1cmUuLlxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUGxlYXNlIHVzZSBSZW5kZXJUZXh0dXJlLmNyZWF0ZShcIiArIHdpZHRoICsgXCIsIFwiICsgaGVpZ2h0ICsgXCIpIGluc3RlYWQgb2YgdGhlIGN0b3IgZGlyZWN0bHkuXCIpO1xuICAgICAgICAgICAgX2xlZ2FjeVJlbmRlcmVyID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMsIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIGZyYW1lID0gbnVsbDtcbiAgICAgICAgICAgIGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IEJhc2VSZW5kZXJUZXh0dXJlKHtcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgc2NhbGVNb2RlOiBzY2FsZU1vZGUsXG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZSB0ZXh0dXJlIG9iamVjdCB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGJhc2VSZW5kZXJUZXh0dXJlLCBmcmFtZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubGVnYWN5UmVuZGVyZXIgPSBfbGVnYWN5UmVuZGVyZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0b3JlcyBgc291cmNlRnJhbWVgIHdoZW4gdGhpcyB0ZXh0dXJlIGlzIGluc2lkZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgICAgICogWW91IGNhbiByZWFkIGl0IGluc2lkZSBmaWx0ZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWx0ZXJGcmFtZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUga2V5IGZvciBwb29sZWQgdGV4dHVyZSBvZiBGaWx0ZXJTeXN0ZW1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWx0ZXJQb29sS2V5ID0gbnVsbDtcbiAgICAgICAgX3RoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlclRleHR1cmUucHJvdG90eXBlLCBcImZyYW1lYnVmZmVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3J0Y3V0IHRvIGB0aGlzLmJhc2VUZXh0dXJlLmZyYW1lYnVmZmVyYCwgc2F2ZXMgYmFzZVRleHR1cmUgY2FzdC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GcmFtZWJ1ZmZlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJhc2VUZXh0dXJlLmZyYW1lYnVmZmVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgUmVuZGVyVGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Jlc2l6ZUJhc2VUZXh0dXJlPXRydWVdIC0gU2hvdWxkIHRoZSBiYXNlVGV4dHVyZS53aWR0aCBhbmQgaGVpZ2h0IHZhbHVlcyBiZSByZXNpemVkIGFzIHdlbGw/XG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQsIHJlc2l6ZUJhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmIChyZXNpemVCYXNlVGV4dHVyZSA9PT0gdm9pZCAwKSB7IHJlc2l6ZUJhc2VUZXh0dXJlID0gdHJ1ZTsgfVxuICAgICAgICB3aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgICAgIGhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuICAgICAgICAvLyBUT0RPIC0gY291bGQgYmUgbm90IHJlcXVpcmVkLi5cbiAgICAgICAgdGhpcy52YWxpZCA9ICh3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMCk7XG4gICAgICAgIHRoaXMuX2ZyYW1lLndpZHRoID0gdGhpcy5vcmlnLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuX2ZyYW1lLmhlaWdodCA9IHRoaXMub3JpZy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGlmIChyZXNpemVCYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHJlc29sdXRpb24gb2YgYmFzZVRleHR1cmUsIGJ1dCBkb2VzIG5vdCBjaGFuZ2UgZnJhbWVidWZmZXIgc2l6ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIG5ldyByZXNvbHV0aW9uIHRvIGFwcGx5IHRvIFJlbmRlclRleHR1cmVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5zZXRSZXNvbHV0aW9uID0gZnVuY3Rpb24gKHJlc29sdXRpb24pIHtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGhpcy5iYXNlVGV4dHVyZTtcbiAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnJlc29sdXRpb24gPT09IHJlc29sdXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBiYXNlVGV4dHVyZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgICAgICB0aGlzLnJlc2l6ZShiYXNlVGV4dHVyZS53aWR0aCwgYmFzZVRleHR1cmUuaGVpZ2h0LCBmYWxzZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgd2F5IG9mIGNyZWF0aW5nIGEgcmVuZGVyIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0xMDBdIC0gVGhlIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9MTAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlciB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IFRoZSBuZXcgcmVuZGVyIHRleHR1cmVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlLmNyZWF0ZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIC8vIGZhbGxiYWNrLCBvbGQtc3R5bGU6IGNyZWF0ZSh3aWR0aCwgaGVpZ2h0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24pXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGFyZ3VtZW50c1sxXSxcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGU6IGFyZ3VtZW50c1syXSxcbiAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiBhcmd1bWVudHNbM10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFJlbmRlclRleHR1cmUobmV3IEJhc2VSZW5kZXJUZXh0dXJlKG9wdGlvbnMpKTtcbiAgICB9O1xuICAgIHJldHVybiBSZW5kZXJUZXh0dXJlO1xufShUZXh0dXJlKSk7XG5cbi8qKlxuICogRXhwZXJpbWVudGFsIVxuICpcbiAqIFRleHR1cmUgcG9vbCwgdXNlZCBieSBGaWx0ZXJTeXN0ZW0gYW5kIHBsdWdpbnNcbiAqIFN0b3JlcyBjb2xsZWN0aW9uIG9mIHRlbXBvcmFyeSBwb3cyIG9yIHNjcmVlbi1zaXplZCByZW5kZXJUZXh0dXJlc1xuICpcbiAqIElmIHlvdSB1c2UgY3VzdG9tIFJlbmRlclRleHR1cmVQb29sIGZvciB5b3VyIGZpbHRlcnMsIHlvdSBjYW4gdXNlIG1ldGhvZHNcbiAqIGBnZXRGaWx0ZXJUZXh0dXJlYCBhbmQgYHJldHVybkZpbHRlclRleHR1cmVgIHNhbWUgYXMgaW5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSZW5kZXJUZXh0dXJlUG9vbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3RleHR1cmVPcHRpb25zXSAtIG9wdGlvbnMgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byBCYXNlUmVuZGVyVGV4dHVyZSBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW3RleHR1cmVPcHRpb25zLnNjYWxlTW9kZV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVuZGVyVGV4dHVyZVBvb2wodGV4dHVyZU9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbCA9IHt9O1xuICAgICAgICB0aGlzLnRleHR1cmVPcHRpb25zID0gdGV4dHVyZU9wdGlvbnMgfHwge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbGxvdyByZW5kZXJUZXh0dXJlcyBvZiB0aGUgc2FtZSBzaXplIGFzIHNjcmVlbiwgbm90IGp1c3QgcG93MlxuICAgICAgICAgKlxuICAgICAgICAgKiBBdXRvbWF0aWNhbGx5IHNldHMgdG8gdHJ1ZSBhZnRlciBgc2V0U2NyZWVuU2l6ZWBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW5hYmxlRnVsbFNjcmVlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9waXhlbHNXaWR0aCA9IDA7XG4gICAgICAgIHRoaXMuX3BpeGVsc0hlaWdodCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNyZWF0ZXMgb2YgdGV4dHVyZSB3aXRoIHBhcmFtcyB0aGF0IHdlcmUgc3BlY2lmaWVkIGluIHBvb2wgY29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZWFsV2lkdGggLSB3aWR0aCBvZiB0ZXh0dXJlIGluIHBpeGVsc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZWFsSGVpZ2h0IC0gaGVpZ2h0IG9mIHRleHR1cmUgaW4gcGl4ZWxzXG4gICAgICogQHJldHVybnMge1JlbmRlclRleHR1cmV9XG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLmNyZWF0ZVRleHR1cmUgPSBmdW5jdGlvbiAocmVhbFdpZHRoLCByZWFsSGVpZ2h0KSB7XG4gICAgICAgIHZhciBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBCYXNlUmVuZGVyVGV4dHVyZShPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHdpZHRoOiByZWFsV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHJlYWxIZWlnaHQsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgICB9LCB0aGlzLnRleHR1cmVPcHRpb25zKSk7XG4gICAgICAgIHJldHVybiBuZXcgUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGEgUG93ZXItb2YtVHdvIHJlbmRlciB0ZXh0dXJlIG9yIGZ1bGxTY3JlZW4gdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5XaWR0aCAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluSGVpZ2h0IC0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlLlxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5nZXRPcHRpbWFsVGV4dHVyZSA9IGZ1bmN0aW9uIChtaW5XaWR0aCwgbWluSGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSB2b2lkIDApIHsgcmVzb2x1dGlvbiA9IDE7IH1cbiAgICAgICAgdmFyIGtleSA9IFJlbmRlclRleHR1cmVQb29sLlNDUkVFTl9LRVk7XG4gICAgICAgIG1pbldpZHRoICo9IHJlc29sdXRpb247XG4gICAgICAgIG1pbkhlaWdodCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlRnVsbFNjcmVlbiB8fCBtaW5XaWR0aCAhPT0gdGhpcy5fcGl4ZWxzV2lkdGggfHwgbWluSGVpZ2h0ICE9PSB0aGlzLl9waXhlbHNIZWlnaHQpIHtcbiAgICAgICAgICAgIG1pbldpZHRoID0gbmV4dFBvdzIobWluV2lkdGgpO1xuICAgICAgICAgICAgbWluSGVpZ2h0ID0gbmV4dFBvdzIobWluSGVpZ2h0KTtcbiAgICAgICAgICAgIGtleSA9ICgobWluV2lkdGggJiAweEZGRkYpIDw8IDE2KSB8IChtaW5IZWlnaHQgJiAweEZGRkYpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy50ZXh0dXJlUG9vbFtrZXldKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVQb29sW2tleV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IHRoaXMudGV4dHVyZVBvb2xba2V5XS5wb3AoKTtcbiAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGhpcy5jcmVhdGVUZXh0dXJlKG1pbldpZHRoLCBtaW5IZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlclRleHR1cmUuZmlsdGVyUG9vbEtleSA9IGtleTtcbiAgICAgICAgcmVuZGVyVGV4dHVyZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgICAgICByZXR1cm4gcmVuZGVyVGV4dHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgZXh0cmEgdGV4dHVyZSBvZiB0aGUgc2FtZSBzaXplIGFzIGlucHV0IHJlbmRlclRleHR1cmVcbiAgICAgKlxuICAgICAqIGBnZXRGaWx0ZXJUZXh0dXJlKGlucHV0LCAwLjUpYCBvciBgZ2V0RmlsdGVyVGV4dHVyZSgwLjUsIGlucHV0KWBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIHJlbmRlclRleHR1cmUgZnJvbSB3aGljaCBzaXplIGFuZCByZXNvbHV0aW9uIHdpbGwgYmUgY29waWVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSAtIG92ZXJyaWRlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlclRleHR1cmVcbiAgICAgKiAgSXQgb3ZlcnJpZGVzLCBpdCBkb2VzIG5vdCBtdWx0aXBseVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlJlbmRlclRleHR1cmV9XG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLmdldEZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiAoaW5wdXQsIHJlc29sdXRpb24pIHtcbiAgICAgICAgdmFyIGZpbHRlclRleHR1cmUgPSB0aGlzLmdldE9wdGltYWxUZXh0dXJlKGlucHV0LndpZHRoLCBpbnB1dC5oZWlnaHQsIHJlc29sdXRpb24gfHwgaW5wdXQucmVzb2x1dGlvbik7XG4gICAgICAgIGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBpbnB1dC5maWx0ZXJGcmFtZTtcbiAgICAgICAgcmV0dXJuIGZpbHRlclRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQbGFjZSBhIHJlbmRlciB0ZXh0dXJlIGJhY2sgaW50byB0aGUgcG9vbC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJUZXh0dXJlIHRvIGZyZWVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUucmV0dXJuVGV4dHVyZSA9IGZ1bmN0aW9uIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgIHZhciBrZXkgPSByZW5kZXJUZXh0dXJlLmZpbHRlclBvb2xLZXk7XG4gICAgICAgIHJlbmRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBudWxsO1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sW2tleV0ucHVzaChyZW5kZXJUZXh0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciByZXR1cm5UZXh0dXJlLCB0byBiZSBjb21wbGlhbnQgd2l0aCBGaWx0ZXJTeXN0ZW0gaW50ZXJmYWNlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyVGV4dHVyZSB0byBmcmVlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLnJldHVybkZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICB0aGlzLnJldHVyblRleHR1cmUocmVuZGVyVGV4dHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIHBvb2xcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lUZXh0dXJlcz10cnVlXSAtIGRlc3Ryb3kgYWxsIHN0b3JlZCB0ZXh0dXJlc1xuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIChkZXN0cm95VGV4dHVyZXMpIHtcbiAgICAgICAgZGVzdHJveVRleHR1cmVzID0gZGVzdHJveVRleHR1cmVzICE9PSBmYWxzZTtcbiAgICAgICAgaWYgKGRlc3Ryb3lUZXh0dXJlcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnRleHR1cmVQb29sKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRleHR1cmVzID0gdGhpcy50ZXh0dXJlUG9vbFtpXTtcbiAgICAgICAgICAgICAgICBpZiAodGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZXh0dXJlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZXNbal0uZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHR1cmVQb29sID0ge307XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJZiBzY3JlZW4gc2l6ZSB3YXMgY2hhbmdlZCwgZHJvcHMgYWxsIHNjcmVlbi1zaXplZCB0ZXh0dXJlcyxcbiAgICAgKiBzZXRzIG5ldyBzY3JlZW4gc2l6ZSwgc2V0cyBgZW5hYmxlRnVsbFNjcmVlbmAgdG8gdHJ1ZVxuICAgICAqXG4gICAgICogU2l6ZSBpcyBtZWFzdXJlZCBpbiBwaXhlbHMsIGByZW5kZXJlci52aWV3YCBjYW4gYmUgcGFzc2VkIGhlcmUsIG5vdCBgcmVuZGVyZXIuc2NyZWVuYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklTaXplfSBzaXplIC0gSW5pdGlhbCBzaXplIG9mIHNjcmVlblxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5zZXRTY3JlZW5TaXplID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgaWYgKHNpemUud2lkdGggPT09IHRoaXMuX3BpeGVsc1dpZHRoXG4gICAgICAgICAgICAmJiBzaXplLmhlaWdodCA9PT0gdGhpcy5fcGl4ZWxzSGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNjcmVlbktleSA9IFJlbmRlclRleHR1cmVQb29sLlNDUkVFTl9LRVk7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IHRoaXMudGV4dHVyZVBvb2xbc2NyZWVuS2V5XTtcbiAgICAgICAgdGhpcy5lbmFibGVGdWxsU2NyZWVuID0gc2l6ZS53aWR0aCA+IDAgJiYgc2l6ZS5oZWlnaHQgPiAwO1xuICAgICAgICBpZiAodGV4dHVyZXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4dHVyZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlc1tqXS5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2xbc2NyZWVuS2V5XSA9IFtdO1xuICAgICAgICB0aGlzLl9waXhlbHNXaWR0aCA9IHNpemUud2lkdGg7XG4gICAgICAgIHRoaXMuX3BpeGVsc0hlaWdodCA9IHNpemUuaGVpZ2h0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogS2V5IHRoYXQgaXMgdXNlZCB0byBzdG9yZSBmdWxsc2NyZWVuIHJlbmRlclRleHR1cmVzIGluIGEgcG9vbFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdCB7c3RyaW5nfVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVQb29sLlNDUkVFTl9LRVkgPSAnc2NyZWVuJztcbiAgICByZXR1cm4gUmVuZGVyVGV4dHVyZVBvb2w7XG59KCkpO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4vKipcbiAqIEhvbGRzIHRoZSBpbmZvcm1hdGlvbiBmb3IgYSBzaW5nbGUgYXR0cmlidXRlIHN0cnVjdHVyZSByZXF1aXJlZCB0byByZW5kZXIgZ2VvbWV0cnkuXG4gKlxuICogVGhpcyBkb2VzIG5vdCBjb250YWluIHRoZSBhY3R1YWwgZGF0YSwgYnV0IGluc3RlYWQgaGFzIGEgYnVmZmVyIGlkIHRoYXQgbWFwcyB0byBhIHtAbGluayBQSVhJLkJ1ZmZlcn1cbiAqIFRoaXMgY2FuIGluY2x1ZGUgYW55dGhpbmcgZnJvbSBwb3NpdGlvbnMsIHV2cywgbm9ybWFscywgY29sb3JzIGV0Yy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBdHRyaWJ1dGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJ1ZmZlciAtIHRoZSBpZCBvZiB0aGUgYnVmZmVyIHRoYXQgdGhpcyBhdHRyaWJ1dGUgd2lsbCBsb29rIGZvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZT0wXSAtIHRoZSBzaXplIG9mIHRoZSBhdHRyaWJ1dGUuIElmIHlvdSBoYXZlIDIgZmxvYXRzIHBlciB2ZXJ0ZXggKGVnIHBvc2l0aW9uIHggYW5kIHkpIHRoaXMgd291bGQgYmUgMi5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtub3JtYWxpemVkPWZhbHNlXSAtIHNob3VsZCB0aGUgZGF0YSBiZSBub3JtYWxpemVkLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdHlwZT1QSVhJLlRZUEVTLkZMT0FUXSAtIHdoYXQgdHlwZSBvZiBudW1iZXIgaXMgdGhlIGF0dHJpYnV0ZS4gQ2hlY2sge0BsaW5rIFBJWEkuVFlQRVN9IHRvIHNlZSB0aGUgb25lcyBhdmFpbGFibGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3N0cmlkZT0wXSAtIEhvdyBmYXIgYXBhcnQgKGluIGZsb2F0cykgdGhlIHN0YXJ0IG9mIGVhY2ggdmFsdWUgaXMuICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0PTBdIC0gSG93IGZhciBpbnRvIHRoZSBhcnJheSB0byBzdGFydCByZWFkaW5nIHZhbHVlcyAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXR0cmlidXRlKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlLCBzdGFydCwgaW5zdGFuY2UpIHtcbiAgICAgICAgaWYgKHNpemUgPT09IHZvaWQgMCkgeyBzaXplID0gMDsgfVxuICAgICAgICBpZiAobm9ybWFsaXplZCA9PT0gdm9pZCAwKSB7IG5vcm1hbGl6ZWQgPSBmYWxzZTsgfVxuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSA1MTI2OyB9XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLm5vcm1hbGl6ZWQgPSBub3JtYWxpemVkO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnN0cmlkZSA9IHN0cmlkZTtcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgICAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBBdHRyaWJ1dGUuXG4gICAgICovXG4gICAgQXR0cmlidXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGFuIEF0dHJpYnV0ZSBiYXNlZCBvbiB0aGUgaW5mb3JtYXRpb24gcHJvdmlkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYnVmZmVyIC0gdGhlIGlkIG9mIHRoZSBidWZmZXIgdGhhdCB0aGlzIGF0dHJpYnV0ZSB3aWxsIGxvb2sgZm9yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzaXplPTBdIC0gdGhlIHNpemUgb2YgdGhlIGF0dHJpYnV0ZS4gSWYgeW91IGhhdmUgMiBmbG9hdHMgcGVyIHZlcnRleCAoZWcgcG9zaXRpb24geCBhbmQgeSkgdGhpcyB3b3VsZCBiZSAyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbbm9ybWFsaXplZD1mYWxzZV0gLSBzaG91bGQgdGhlIGRhdGEgYmUgbm9ybWFsaXplZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3R5cGU9UElYSS5UWVBFUy5GTE9BVF0gLSB3aGF0IHR5cGUgb2YgbnVtYmVyIGlzIHRoZSBhdHRyaWJ1dGUuIENoZWNrIHtAbGluayBQSVhJLlRZUEVTfSB0byBzZWUgdGhlIG9uZXMgYXZhaWxhYmxlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdHJpZGU9MF0gLSBIb3cgZmFyIGFwYXJ0IChpbiBmbG9hdHMpIHRoZSBzdGFydCBvZiBlYWNoIHZhbHVlIGlzLiAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5BdHRyaWJ1dGV9IEEgbmV3IHtAbGluayBQSVhJLkF0dHJpYnV0ZX0gYmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIHByb3ZpZGVkXG4gICAgICovXG4gICAgQXR0cmlidXRlLmZyb20gPSBmdW5jdGlvbiAoYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdHRyaWJ1dGUoYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUpO1xuICAgIH07XG4gICAgcmV0dXJuIEF0dHJpYnV0ZTtcbn0oKSk7XG5cbnZhciBVSUQgPSAwO1xuLyoqXG4gKiBBIHdyYXBwZXIgZm9yIGRhdGEgc28gdGhhdCBpdCBjYW4gYmUgdXNlZCBhbmQgdXBsb2FkZWQgYnkgV2ViR0xcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCdWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBkYXRhIC0gdGhlIGRhdGEgdG8gc3RvcmUgaW4gdGhlIGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtfc3RhdGljPXRydWVdIC0gYHRydWVgIGZvciBzdGF0aWMgYnVmZmVyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaW5kZXg9ZmFsc2VdIC0gYHRydWVgIGZvciBpbmRleCBidWZmZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCdWZmZXIoZGF0YSwgX3N0YXRpYywgaW5kZXgpIHtcbiAgICAgICAgaWYgKF9zdGF0aWMgPT09IHZvaWQgMCkgeyBfc3RhdGljID0gdHJ1ZTsgfVxuICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkgeyBpbmRleCA9IGZhbHNlOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGF0YSBpbiB0aGUgYnVmZmVyLCBhcyBhIHR5cGVkIGFycmF5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5QnVmZmVyfCBTaGFyZWRBcnJheUJ1ZmZlciB8IEFycmF5QnVmZmVyVmlld31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IChkYXRhIHx8IG5ldyBGbG9hdDMyQXJyYXkoMSkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgb2YgcmVuZGVyZXIgSURzIHRvIHdlYmdsIGJ1ZmZlclxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBHTEJ1ZmZlcj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9nbEJ1ZmZlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuc3RhdGljID0gX3N0YXRpYztcbiAgICAgICAgdGhpcy5pZCA9IFVJRCsrO1xuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIgPSBuZXcgUnVubmVyKCdkaXNwb3NlQnVmZmVyJyk7XG4gICAgfVxuICAgIC8vIFRPRE8gY291bGQgZXhwbG9yZSBmbGFnZ2luZyBvbmx5IGEgcGFydGlhbCB1cGxvYWQ/XG4gICAgLyoqXG4gICAgICogZmxhZ3MgdGhpcyBidWZmZXIgYXMgcmVxdWlyaW5nIGFuIHVwbG9hZCB0byB0aGUgR1BVXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcnxTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IFtkYXRhXSAtIHRoZSBkYXRhIHRvIHVwZGF0ZSBpbiB0aGUgYnVmZmVyLlxuICAgICAqL1xuICAgIEJ1ZmZlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YSB8fCB0aGlzLmRhdGE7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEKys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBkaXNwb3NlcyBXZWJHTCByZXNvdXJjZXMgdGhhdCBhcmUgY29ubmVjdGVkIHRvIHRoaXMgZ2VvbWV0cnlcbiAgICAgKi9cbiAgICBCdWZmZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5lbWl0KHRoaXMsIGZhbHNlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBidWZmZXJcbiAgICAgKi9cbiAgICBCdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGJ1ZmZlciBiYXNlZCBvbiBhbiBhcnJheSBvciBUeXBlZEFycmF5XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlclZpZXcgfCBudW1iZXJbXX0gZGF0YSAtIHRoZSBUeXBlZEFycmF5IHRoYXQgdGhlIGJ1ZmZlciB3aWxsIHN0b3JlLiBJZiB0aGlzIGlzIGEgcmVndWxhciBBcnJheSBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIEZsb2F0MzJBcnJheS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJ1ZmZlcn0gQSBuZXcgQnVmZmVyIGJhc2VkIG9uIHRoZSBkYXRhIHByb3ZpZGVkLlxuICAgICAqL1xuICAgIEJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBCdWZmZXIoZGF0YSk7XG4gICAgfTtcbiAgICByZXR1cm4gQnVmZmVyO1xufSgpKTtcblxuZnVuY3Rpb24gZ2V0QnVmZmVyVHlwZShhcnJheSkge1xuICAgIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNCkge1xuICAgICAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnRmxvYXQzMkFycmF5JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQzMkFycmF5JztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ0ludDMyQXJyYXknO1xuICAgIH1cbiAgICBlbHNlIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMikge1xuICAgICAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50MTZBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50MTZBcnJheSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDEpIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50OEFycmF5JztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUT0RPIG1hcCBvdXQgdGhlIHJlc3Qgb2YgdGhlIGFycmF5IGVsZW1lbnRzIVxuICAgIHJldHVybiBudWxsO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG52YXIgbWFwID0ge1xuICAgIEZsb2F0MzJBcnJheTogRmxvYXQzMkFycmF5LFxuICAgIFVpbnQzMkFycmF5OiBVaW50MzJBcnJheSxcbiAgICBJbnQzMkFycmF5OiBJbnQzMkFycmF5LFxuICAgIFVpbnQ4QXJyYXk6IFVpbnQ4QXJyYXksXG59O1xuZnVuY3Rpb24gaW50ZXJsZWF2ZVR5cGVkQXJyYXlzKGFycmF5cywgc2l6ZXMpIHtcbiAgICB2YXIgb3V0U2l6ZSA9IDA7XG4gICAgdmFyIHN0cmlkZSA9IDA7XG4gICAgdmFyIHZpZXdzID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc3RyaWRlICs9IHNpemVzW2ldO1xuICAgICAgICBvdXRTaXplICs9IGFycmF5c1tpXS5sZW5ndGg7XG4gICAgfVxuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIob3V0U2l6ZSAqIDQpO1xuICAgIHZhciBvdXQgPSBudWxsO1xuICAgIHZhciBsaXR0bGVPZmZzZXQgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzaXplID0gc2l6ZXNbaV07XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tpXTtcbiAgICAgICAgdmFyIHR5cGUgPSBnZXRCdWZmZXJUeXBlKGFycmF5KTtcbiAgICAgICAgaWYgKCF2aWV3c1t0eXBlXSkge1xuICAgICAgICAgICAgdmlld3NbdHlwZV0gPSBuZXcgbWFwW3R5cGVdKGJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgb3V0ID0gdmlld3NbdHlwZV07XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXJyYXkubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBpbmRleFN0YXJ0ID0gKChqIC8gc2l6ZSB8IDApICogc3RyaWRlKSArIGxpdHRsZU9mZnNldDtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGogJSBzaXplO1xuICAgICAgICAgICAgb3V0W2luZGV4U3RhcnQgKyBpbmRleF0gPSBhcnJheVtqXTtcbiAgICAgICAgfVxuICAgICAgICBsaXR0bGVPZmZzZXQgKz0gc2l6ZTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcbn1cblxudmFyIGJ5dGVTaXplTWFwID0geyA1MTI2OiA0LCA1MTIzOiAyLCA1MTIxOiAxIH07XG52YXIgVUlEJDEgPSAwO1xuLyogZXNsaW50LWRpc2FibGUgb2JqZWN0LXNob3J0aGFuZCAqL1xudmFyIG1hcCQxID0ge1xuICAgIEZsb2F0MzJBcnJheTogRmxvYXQzMkFycmF5LFxuICAgIFVpbnQzMkFycmF5OiBVaW50MzJBcnJheSxcbiAgICBJbnQzMkFycmF5OiBJbnQzMkFycmF5LFxuICAgIFVpbnQ4QXJyYXk6IFVpbnQ4QXJyYXksXG4gICAgVWludDE2QXJyYXk6IFVpbnQxNkFycmF5LFxufTtcbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbi8qKlxuICogVGhlIEdlb21ldHJ5IHJlcHJlc2VudHMgYSBtb2RlbC4gSXQgY29uc2lzdHMgb2YgdHdvIGNvbXBvbmVudHM6XG4gKiAtIEdlb21ldHJ5U3R5bGUgLSBUaGUgc3RydWN0dXJlIG9mIHRoZSBtb2RlbCBzdWNoIGFzIHRoZSBhdHRyaWJ1dGVzIGxheW91dFxuICogLSBHZW9tZXRyeURhdGEgLSB0aGUgZGF0YSBvZiB0aGUgbW9kZWwgLSB0aGlzIGNvbnNpc3RzIG9mIGJ1ZmZlcnMuXG4gKiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuXG4gKlxuICogR2VvbWV0cnkgY2FuIGJlIGRlZmluZWQgd2l0aG91dCBwYXNzaW5nIGluIGEgc3R5bGUgb3IgZGF0YSBpZiByZXF1aXJlZCAodGhhdHMgaG93IEkgcHJlZmVyISlcbiAqXG4gKiBgYGBqc1xuICogbGV0IGdlb21ldHJ5ID0gbmV3IFBJWEkuR2VvbWV0cnkoKTtcbiAqXG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3Bvc2l0aW9ucycsIFswLCAwLCAxMDAsIDAsIDEwMCwgMTAwLCAwLCAxMDBdLCAyKTtcbiAqIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgndXZzJywgWzAsMCwxLDAsMSwxLDAsMV0sMilcbiAqIGdlb21ldHJ5LmFkZEluZGV4KFswLDEsMiwxLDMsMl0pXG4gKlxuICogYGBgXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHZW9tZXRyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQnVmZmVyW119IFtidWZmZXJzXSAtIGFuIGFycmF5IG9mIGJ1ZmZlcnMuIG9wdGlvbmFsLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbYXR0cmlidXRlc10gLSBvZiB0aGUgZ2VvbWV0cnksIG9wdGlvbmFsIHN0cnVjdHVyZSBvZiB0aGUgYXR0cmlidXRlcyBsYXlvdXRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHZW9tZXRyeShidWZmZXJzLCBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmIChidWZmZXJzID09PSB2b2lkIDApIHsgYnVmZmVycyA9IFtdOyB9XG4gICAgICAgIGlmIChhdHRyaWJ1dGVzID09PSB2b2lkIDApIHsgYXR0cmlidXRlcyA9IHt9OyB9XG4gICAgICAgIHRoaXMuYnVmZmVycyA9IGJ1ZmZlcnM7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgb2YgcmVuZGVyZXIgSURzIHRvIHdlYmdsIFZBT3NcbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbFZlcnRleEFycmF5T2JqZWN0cyA9IHt9O1xuICAgICAgICB0aGlzLmlkID0gVUlEJDErKztcbiAgICAgICAgdGhpcy5pbnN0YW5jZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBpbnN0YW5jZXMgaW4gdGhpcyBnZW9tZXRyeSwgcGFzcyBpdCB0byBgR2VvbWV0cnlTeXN0ZW0uZHJhdygpYFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5zdGFuY2VDb3VudCA9IDE7XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoJ2Rpc3Bvc2VHZW9tZXRyeScpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ291bnQgb2YgZXhpc3RpbmcgKG5vdCBkZXN0cm95ZWQpIG1lc2hlcyB0aGF0IHJlZmVyZW5jZSB0aGlzIGdlb21ldHJ5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVmQ291bnQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAqXG4gICAgKiBBZGRzIGFuIGF0dHJpYnV0ZSB0byB0aGUgZ2VvbWV0cnlcbiAgICAqIE5vdGU6IGBzdHJpZGVgIGFuZCBgc3RhcnRgIHNob3VsZCBiZSBgdW5kZWZpbmVkYCBpZiB5b3UgZG9udCBrbm93IHRoZW0sIG5vdCAwIVxuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgKG1hdGNoaW5nIHVwIHRvIGEgc2hhZGVyKVxuICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcnxudW1iZXJbXX0gW2J1ZmZlcl0gLSB0aGUgYnVmZmVyIHRoYXQgaG9sZHMgdGhlIGRhdGEgb2YgdGhlIGF0dHJpYnV0ZSAuIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIEFycmF5IGFuZCBhIGJ1ZmZlciB3aWxsIGJlIGNyZWF0ZWQgZnJvbSBpdC5cbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZT0wXSAtIHRoZSBzaXplIG9mIHRoZSBhdHRyaWJ1dGUuIElmIHlvdSBoYXZlIDIgZmxvYXRzIHBlciB2ZXJ0ZXggKGVnIHBvc2l0aW9uIHggYW5kIHkpIHRoaXMgd291bGQgYmUgMlxuICAgICogQHBhcmFtIHtCb29sZWFufSBbbm9ybWFsaXplZD1mYWxzZV0gLSBzaG91bGQgdGhlIGRhdGEgYmUgbm9ybWFsaXplZC5cbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdHlwZT1QSVhJLlRZUEVTLkZMT0FUXSAtIHdoYXQgdHlwZSBvZiBudW1iZXIgaXMgdGhlIGF0dHJpYnV0ZS4gQ2hlY2sge1BJWEkuVFlQRVN9IHRvIHNlZSB0aGUgb25lcyBhdmFpbGFibGVcbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RyaWRlXSAtIEhvdyBmYXIgYXBhcnQgKGluIGZsb2F0cykgdGhlIHN0YXJ0IG9mIGVhY2ggdmFsdWUgaXMuICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnRdIC0gSG93IGZhciBpbnRvIHRoZSBhcnJheSB0byBzdGFydCByZWFkaW5nIHZhbHVlcyAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbnN0YW5jZT1mYWxzZV0gLSBJbnN0YW5jaW5nIGZsYWdcbiAgICAqXG4gICAgKiBAcmV0dXJuIHtQSVhJLkdlb21ldHJ5fSByZXR1cm5zIHNlbGYsIHVzZWZ1bCBmb3IgY2hhaW5pbmcuXG4gICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuYWRkQXR0cmlidXRlID0gZnVuY3Rpb24gKGlkLCBidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKSB7XG4gICAgICAgIGlmIChzaXplID09PSB2b2lkIDApIHsgc2l6ZSA9IDA7IH1cbiAgICAgICAgaWYgKG5vcm1hbGl6ZWQgPT09IHZvaWQgMCkgeyBub3JtYWxpemVkID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKGluc3RhbmNlID09PSB2b2lkIDApIHsgaW5zdGFuY2UgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoIWJ1ZmZlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBwYXNzIGEgYnVmZmVyIHdoZW4gY3JlYXRpbmcgYW4gYXR0cmlidXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBpcyBhIGJ1ZmZlciFcbiAgICAgICAgaWYgKCEoYnVmZmVyIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgICAgICAgICAgLy8gaXRzIGFuIGFycmF5IVxuICAgICAgICAgICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVmZmVyID0gbmV3IEJ1ZmZlcihidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpZHMgPSBpZC5zcGxpdCgnfCcpO1xuICAgICAgICBpZiAoaWRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoaWRzW2ldLCBidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJ1ZmZlckluZGV4ID0gdGhpcy5idWZmZXJzLmluZGV4T2YoYnVmZmVyKTtcbiAgICAgICAgaWYgKGJ1ZmZlckluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICAgICAgICAgIGJ1ZmZlckluZGV4ID0gdGhpcy5idWZmZXJzLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzW2lkXSA9IG5ldyBBdHRyaWJ1dGUoYnVmZmVySW5kZXgsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKTtcbiAgICAgICAgLy8gYXNzdW1pbmcgdGhhdCBpZiB0aGVyZSBpcyBpbnN0YW5jZWQgZGF0YSB0aGVuIHRoaXMgd2lsbCBiZSBkcmF3biB3aXRoIGluc3RhbmNpbmchXG4gICAgICAgIHRoaXMuaW5zdGFuY2VkID0gdGhpcy5pbnN0YW5jZWQgfHwgaW5zdGFuY2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgcmVxdWVzdGVkIGF0dHJpYnV0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSByZXF1aXJlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuQXR0cmlidXRlfSB0aGUgYXR0cmlidXRlIHJlcXVlc3RlZC5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXNbaWRdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgcmVxdWVzdGVkIGJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gdGhlIG5hbWUgb2YgdGhlIGJ1ZmZlciByZXF1aXJlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuQnVmZmVyfSB0aGUgYnVmZmVyIHJlcXVlc3RlZC5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuZ2V0QnVmZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcnNbdGhpcy5nZXRBdHRyaWJ1dGUoaWQpLmJ1ZmZlcl07XG4gICAgfTtcbiAgICAvKipcbiAgICAqXG4gICAgKiBBZGRzIGFuIGluZGV4IGJ1ZmZlciB0byB0aGUgZ2VvbWV0cnlcbiAgICAqIFRoZSBpbmRleCBidWZmZXIgY29udGFpbnMgaW50ZWdlcnMsIHRocmVlIGZvciBlYWNoIHRyaWFuZ2xlIGluIHRoZSBnZW9tZXRyeSwgd2hpY2ggcmVmZXJlbmNlIHRoZSB2YXJpb3VzIGF0dHJpYnV0ZSBidWZmZXJzIChwb3NpdGlvbiwgY29sb3VyLCBVViBjb29yZGluYXRlcywgb3RoZXIgVVYgY29vcmRpbmF0ZXMsIG5vcm1hbCwg4oCmKS4gVGhlcmUgaXMgb25seSBPTkUgaW5kZXggYnVmZmVyLlxuICAgICpcbiAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ8bnVtYmVyW119IFtidWZmZXJdIC0gdGhlIGJ1ZmZlciB0aGF0IGhvbGRzIHRoZSBkYXRhIG9mIHRoZSBpbmRleCBidWZmZXIuIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIEFycmF5IGFuZCBhIGJ1ZmZlciB3aWxsIGJlIGNyZWF0ZWQgZnJvbSBpdC5cbiAgICAqIEByZXR1cm4ge1BJWEkuR2VvbWV0cnl9IHJldHVybnMgc2VsZiwgdXNlZnVsIGZvciBjaGFpbmluZy5cbiAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5hZGRJbmRleCA9IGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgaWYgKCEoYnVmZmVyIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgICAgICAgICAgLy8gaXRzIGFuIGFycmF5IVxuICAgICAgICAgICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gbmV3IFVpbnQxNkFycmF5KGJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWZmZXIgPSBuZXcgQnVmZmVyKGJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgYnVmZmVyLmluZGV4ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVycy5pbmRleE9mKGJ1ZmZlcikgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaChidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgaW5kZXggYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJ1ZmZlcn0gdGhlIGluZGV4IGJ1ZmZlci5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuZ2V0SW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4QnVmZmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogdGhpcyBmdW5jdGlvbiBtb2RpZmllcyB0aGUgc3RydWN0dXJlIHNvIHRoYXQgYWxsIGN1cnJlbnQgYXR0cmlidXRlcyBiZWNvbWUgaW50ZXJsZWF2ZWQgaW50byBhIHNpbmdsZSBidWZmZXJcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgaWYgeW91ciBtb2RlbCByZW1haW5zIHN0YXRpYyBhcyBpdCBvZmZlcnMgYSBsaXR0bGUgcGVyZm9ybWFuY2UgYm9vc3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR2VvbWV0cnl9IHJldHVybnMgc2VsZiwgdXNlZnVsIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuaW50ZXJsZWF2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gYSBzaW1wbGUgY2hlY2sgdG8gc2VlIGlmIGJ1ZmZlcnMgYXJlIGFscmVhZHkgaW50ZXJsZWF2ZWQuLlxuICAgICAgICBpZiAodGhpcy5idWZmZXJzLmxlbmd0aCA9PT0gMSB8fCAodGhpcy5idWZmZXJzLmxlbmd0aCA9PT0gMiAmJiB0aGlzLmluZGV4QnVmZmVyKSlcbiAgICAgICAgICAgIHsgcmV0dXJuIHRoaXM7IH1cbiAgICAgICAgLy8gYXNzdW1lIGFscmVhZHkgdGhhdCBubyBidWZmZXJzIGFyZSBpbnRlcmxlYXZlZFxuICAgICAgICB2YXIgYXJyYXlzID0gW107XG4gICAgICAgIHZhciBzaXplcyA9IFtdO1xuICAgICAgICB2YXIgaW50ZXJsZWF2ZWRCdWZmZXIgPSBuZXcgQnVmZmVyKCk7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGkgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgIGFycmF5cy5wdXNoKGJ1ZmZlci5kYXRhKTtcbiAgICAgICAgICAgIHNpemVzLnB1c2goKGF0dHJpYnV0ZS5zaXplICogYnl0ZVNpemVNYXBbYXR0cmlidXRlLnR5cGVdKSAvIDQpO1xuICAgICAgICAgICAgYXR0cmlidXRlLmJ1ZmZlciA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaW50ZXJsZWF2ZWRCdWZmZXIuZGF0YSA9IGludGVybGVhdmVUeXBlZEFycmF5cyhhcnJheXMsIHNpemVzKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyc1tpXSAhPT0gdGhpcy5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWZmZXJzID0gW2ludGVybGVhdmVkQnVmZmVyXTtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKHRoaXMuaW5kZXhCdWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgIHJldHVybiBidWZmZXIuZGF0YS5sZW5ndGggLyAoKGF0dHJpYnV0ZS5zdHJpZGUgLyA0KSB8fCBhdHRyaWJ1dGUuc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBkaXNwb3NlcyBXZWJHTCByZXNvdXJjZXMgdGhhdCBhcmUgY29ubmVjdGVkIHRvIHRoaXMgZ2VvbWV0cnlcbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyLmVtaXQodGhpcywgZmFsc2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5idWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiByZXR1cm5zIGEgY2xvbmUgb2YgdGhlIGdlb21ldHJ5XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5HZW9tZXRyeX0gYSBuZXcgY2xvbmUgb2YgdGhpcyBnZW9tZXRyeVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gbmV3IEdlb21ldHJ5KCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBnZW9tZXRyeS5idWZmZXJzW2ldID0gbmV3IEJ1ZmZlcih0aGlzLmJ1ZmZlcnNbaV0uZGF0YS5zbGljZSgwKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWIgPSB0aGlzLmF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICBnZW9tZXRyeS5hdHRyaWJ1dGVzW2ldID0gbmV3IEF0dHJpYnV0ZShhdHRyaWIuYnVmZmVyLCBhdHRyaWIuc2l6ZSwgYXR0cmliLm5vcm1hbGl6ZWQsIGF0dHJpYi50eXBlLCBhdHRyaWIuc3RyaWRlLCBhdHRyaWIuc3RhcnQsIGF0dHJpYi5pbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIGdlb21ldHJ5LmluZGV4QnVmZmVyID0gZ2VvbWV0cnkuYnVmZmVyc1t0aGlzLmJ1ZmZlcnMuaW5kZXhPZih0aGlzLmluZGV4QnVmZmVyKV07XG4gICAgICAgICAgICBnZW9tZXRyeS5pbmRleEJ1ZmZlci5pbmRleCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdlb21ldHJ5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogbWVyZ2VzIGFuIGFycmF5IG9mIGdlb21ldHJpZXMgaW50byBhIG5ldyBzaW5nbGUgb25lXG4gICAgICogZ2VvbWV0cnkgYXR0cmlidXRlIHN0eWxlcyBtdXN0IG1hdGNoIGZvciB0aGlzIG9wZXJhdGlvbiB0byB3b3JrXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnlbXX0gZ2VvbWV0cmllcyAtIGFycmF5IG9mIGdlb21ldHJpZXMgdG8gbWVyZ2VcbiAgICAgKiBAcmV0dXJucyB7UElYSS5HZW9tZXRyeX0gc2hpbnkgbmV3IGdlb21ldHJ5IVxuICAgICAqL1xuICAgIEdlb21ldHJ5Lm1lcmdlID0gZnVuY3Rpb24gKGdlb21ldHJpZXMpIHtcbiAgICAgICAgLy8gdG9kbyBhZGQgYSBnZW9tZXRyeSBjaGVjayFcbiAgICAgICAgLy8gYWxzbyBhIHNpemUgY2hlY2suLiBjYW50IGJlIHRvbyBiaWchXVxuICAgICAgICB2YXIgZ2VvbWV0cnlPdXQgPSBuZXcgR2VvbWV0cnkoKTtcbiAgICAgICAgdmFyIGFycmF5cyA9IFtdO1xuICAgICAgICB2YXIgc2l6ZXMgPSBbXTtcbiAgICAgICAgdmFyIG9mZnNldHMgPSBbXTtcbiAgICAgICAgdmFyIGdlb21ldHJ5O1xuICAgICAgICAvLyBwYXNzIG9uZS4uIGdldCBzaXplcy4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgc2l6ZXNbal0gPSBzaXplc1tqXSB8fCAwO1xuICAgICAgICAgICAgICAgIHNpemVzW2pdICs9IGdlb21ldHJ5LmJ1ZmZlcnNbal0uZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgb2Zmc2V0c1tqXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYnVpbGQgdGhlIGNvcnJlY3Qgc2l6ZSBhcnJheXMuLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIFRPRE8gdHlwZXMhXG4gICAgICAgICAgICBhcnJheXNbaV0gPSBuZXcgbWFwJDFbZ2V0QnVmZmVyVHlwZShnZW9tZXRyeS5idWZmZXJzW2ldLmRhdGEpXShzaXplc1tpXSk7XG4gICAgICAgICAgICBnZW9tZXRyeU91dC5idWZmZXJzW2ldID0gbmV3IEJ1ZmZlcihhcnJheXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhc3MgdG8gc2V0IGRhdGEuLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGFycmF5c1tqXS5zZXQoZ2VvbWV0cnkuYnVmZmVyc1tqXS5kYXRhLCBvZmZzZXRzW2pdKTtcbiAgICAgICAgICAgICAgICBvZmZzZXRzW2pdICs9IGdlb21ldHJ5LmJ1ZmZlcnNbal0uZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2VvbWV0cnlPdXQuYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIGlmIChnZW9tZXRyeS5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIgPSBnZW9tZXRyeU91dC5idWZmZXJzW2dlb21ldHJ5LmJ1ZmZlcnMuaW5kZXhPZihnZW9tZXRyeS5pbmRleEJ1ZmZlcildO1xuICAgICAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIuaW5kZXggPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgICAgICB2YXIgc3RyaWRlID0gMDtcbiAgICAgICAgICAgIHZhciBvZmZzZXQyID0gMDtcbiAgICAgICAgICAgIHZhciBidWZmZXJJbmRleFRvQ291bnQgPSAwO1xuICAgICAgICAgICAgLy8gZ2V0IGEgYnVmZmVyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2VvbWV0cnkuYnVmZmVyc1tpXSAhPT0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVySW5kZXhUb0NvdW50ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZmlndXJlIG91dCB0aGUgc3RyaWRlIG9mIG9uZSBidWZmZXIuLlxuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGdlb21ldHJ5LmF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKChhdHRyaWJ1dGUuYnVmZmVyIHwgMCkgPT09IGJ1ZmZlckluZGV4VG9Db3VudCkge1xuICAgICAgICAgICAgICAgICAgICBzdHJpZGUgKz0gKChhdHRyaWJ1dGUuc2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXSkgLyA0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0aW1lIHRvIG9mZiBzZXQgYWxsIGluZGV4ZXMuLlxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4QnVmZmVyRGF0YSA9IGdlb21ldHJpZXNbaV0uaW5kZXhCdWZmZXIuZGF0YTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGluZGV4QnVmZmVyRGF0YS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeU91dC5pbmRleEJ1ZmZlci5kYXRhW2ogKyBvZmZzZXQyXSArPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBnZW9tZXRyeS5idWZmZXJzW2J1ZmZlckluZGV4VG9Db3VudF0uZGF0YS5sZW5ndGggLyAoc3RyaWRlKTtcbiAgICAgICAgICAgICAgICBvZmZzZXQyICs9IGluZGV4QnVmZmVyRGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdlb21ldHJ5T3V0O1xuICAgIH07XG4gICAgcmV0dXJuIEdlb21ldHJ5O1xufSgpKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgcXVhZFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFF1YWQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFF1YWQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUXVhZCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIDAsIDAsXG4gICAgICAgICAgICAxLCAwLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgICAgIDAsIDEgXSkpXG4gICAgICAgICAgICAuYWRkSW5kZXgoWzAsIDEsIDMsIDJdKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUXVhZDtcbn0oR2VvbWV0cnkpKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgcXVhZCB3aXRoIHV2cyBsaWtlIGluIHY0XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5HZW9tZXRyeVxuICovXG52YXIgUXVhZFV2ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhRdWFkVXYsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUXVhZFV2KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgdmVydGljZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIC0xLCAtMSxcbiAgICAgICAgICAgIDEsIC0xLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgICAgIC0xLCAxIF0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFV2cyBvZiB0aGUgcXVhZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dnMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIDAsIDAsXG4gICAgICAgICAgICAxLCAwLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgICAgIDAsIDEgXSk7XG4gICAgICAgIF90aGlzLnZlcnRleEJ1ZmZlciA9IG5ldyBCdWZmZXIoX3RoaXMudmVydGljZXMpO1xuICAgICAgICBfdGhpcy51dkJ1ZmZlciA9IG5ldyBCdWZmZXIoX3RoaXMudXZzKTtcbiAgICAgICAgX3RoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCBfdGhpcy52ZXJ0ZXhCdWZmZXIpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUNvb3JkJywgX3RoaXMudXZCdWZmZXIpXG4gICAgICAgICAgICAuYWRkSW5kZXgoWzAsIDEsIDIsIDAsIDIsIDNdKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXBzIHR3byBSZWN0YW5nbGUgdG8gdGhlIHF1YWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSB0YXJnZXRUZXh0dXJlRnJhbWUgLSB0aGUgZmlyc3QgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIHRoZSBzZWNvbmQgcmVjdGFuZ2xlXG4gICAgICogQHJldHVybiB7UElYSS5RdWFkfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBRdWFkVXYucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uICh0YXJnZXRUZXh0dXJlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpIHtcbiAgICAgICAgdmFyIHggPSAwOyAvLyBkZXN0aW5hdGlvbkZyYW1lLnggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGg7XG4gICAgICAgIHZhciB5ID0gMDsgLy8gZGVzdGluYXRpb25GcmFtZS55IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodDtcbiAgICAgICAgdGhpcy51dnNbMF0gPSB4O1xuICAgICAgICB0aGlzLnV2c1sxXSA9IHk7XG4gICAgICAgIHRoaXMudXZzWzJdID0geCArIChkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoKTtcbiAgICAgICAgdGhpcy51dnNbM10gPSB5O1xuICAgICAgICB0aGlzLnV2c1s0XSA9IHggKyAoZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aCk7XG4gICAgICAgIHRoaXMudXZzWzVdID0geSArIChkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLnV2c1s2XSA9IHg7XG4gICAgICAgIHRoaXMudXZzWzddID0geSArIChkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQpO1xuICAgICAgICB4ID0gZGVzdGluYXRpb25GcmFtZS54O1xuICAgICAgICB5ID0gZGVzdGluYXRpb25GcmFtZS55O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzBdID0geDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1sxXSA9IHk7XG4gICAgICAgIHRoaXMudmVydGljZXNbMl0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1szXSA9IHk7XG4gICAgICAgIHRoaXMudmVydGljZXNbNF0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s1XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s2XSA9IHg7XG4gICAgICAgIHRoaXMudmVydGljZXNbN10gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGxlZ2FjeSB1cGxvYWQgbWV0aG9kLCBqdXN0IG1hcmtzIGJ1ZmZlcnMgZGlydHlcbiAgICAgKiBAcmV0dXJucyB7UElYSS5RdWFkVXZ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFF1YWRVdi5wcm90b3R5cGUuaW52YWxpZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgICAgIHRoaXMudXZCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFF1YWRVdjtcbn0oR2VvbWV0cnkpKTtcblxudmFyIFVJRCQyID0gMDtcbi8qKlxuICogVW5pZm9ybSBncm91cCBob2xkcyB1bmlmb3JtIG1hcCBhbmQgc29tZSBJRCdzIGZvciB3b3JrXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVW5pZm9ybUdyb3VwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW19zdGF0aWNdIC0gVW5pZm9ybXMgd29udCBiZSBjaGFuZ2VkIGFmdGVyIGNyZWF0aW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1bmlmb3JtIHZhbHVlc1xuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51bmlmb3JtcyA9IHVuaWZvcm1zO1xuICAgICAgICAvKipcbiAgICAgICAgICogSXRzIGEgZ3JvdXAgYW5kIG5vdCBhIHNpbmdsZSB1bmlmb3Jtc1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ncm91cCA9IHRydWU7XG4gICAgICAgIC8vIGxldHMgZ2VuZXJhdGUgdGhpcyB3aGVuIHRoZSBzaGFkZXIgP1xuICAgICAgICB0aGlzLnN5bmNVbmlmb3JtcyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogZGlydHkgdmVyc2lvblxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlJZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1bmlxdWUgaWRcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlkID0gVUlEJDIrKztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuaWZvcm1zIHdvbnQgYmUgY2hhbmdlZCBhZnRlciBjcmVhdGlvblxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0aWMgPSAhIV9zdGF0aWM7XG4gICAgfVxuICAgIFVuaWZvcm1Hcm91cC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB9O1xuICAgIFVuaWZvcm1Hcm91cC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKG5hbWUsIHVuaWZvcm1zLCBfc3RhdGljKSB7XG4gICAgICAgIHRoaXMudW5pZm9ybXNbbmFtZV0gPSBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKTtcbiAgICB9O1xuICAgIFVuaWZvcm1Hcm91cC5mcm9tID0gZnVuY3Rpb24gKHVuaWZvcm1zLCBfc3RhdGljKSB7XG4gICAgICAgIHJldHVybiBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKTtcbiAgICB9O1xuICAgIHJldHVybiBVbmlmb3JtR3JvdXA7XG59KCkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBmaWx0ZXIgc3RhdGVzLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIEZpbHRlclN0YXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZpbHRlclN0YXRlKCkge1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGFyZ2V0IG9mIHRoZSBmaWx0ZXJzXG4gICAgICAgICAqIFdlIHN0b3JlIGZvciBjYXNlIHdoZW4gY3VzdG9tIGZpbHRlciB3YW50cyB0byBrbm93IHRoZSBlbGVtZW50IGl0IHdhcyBhcHBsaWVkIG9uXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbXBhdGliaWxpdHkgd2l0aCBQaXhpSlMgdjQgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sZWdhY3kgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlc29sdXRpb24gb2YgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IDE7XG4gICAgICAgIC8vIG5leHQgdGhyZWUgZmllbGRzIGFyZSBjcmVhdGVkIG9ubHkgZm9yIHJvb3RcbiAgICAgICAgLy8gcmUtYXNzaWduZWQgZm9yIGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBmaWx0ZXJzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsdGVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbHRlcnMgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY2xlYXJzIHRoZSBzdGF0ZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgRmlsdGVyU3RhdGUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gRmlsdGVyU3RhdGU7XG59KCkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0aGUgZmlsdGVycy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKi9cbnZhciBGaWx0ZXJTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEZpbHRlclN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGaWx0ZXJTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIGZpbHRlcnMgZm9yIHRoZSBGaWx0ZXJTeXN0ZW1cbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVmYXVsdEZpbHRlclN0YWNrID0gW3t9XTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHN0b3JlcyBhIGJ1bmNoIG9mIFBPMiB0ZXh0dXJlcyB1c2VkIGZvciBmaWx0ZXJpbmdcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dHVyZVBvb2wgPSBuZXcgUmVuZGVyVGV4dHVyZVBvb2woKTtcbiAgICAgICAgX3RoaXMudGV4dHVyZVBvb2wuc2V0U2NyZWVuU2l6ZShyZW5kZXJlci52aWV3KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGEgcG9vbCBmb3Igc3RvcmluZyBmaWx0ZXIgc3RhdGVzLCBzYXZlIHVzIGNyZWF0aW5nIG5ldyBvbmVzIGVhY2ggdGlja1xuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlUG9vbCA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB2ZXJ5IHNpbXBsZSBnZW9tZXRyeSB1c2VkIHdoZW4gZHJhd2luZyBhIGZpbHRlciBlZmZlY3QgdG8gdGhlIHNjcmVlblxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlF1YWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5xdWFkID0gbmV3IFF1YWQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFF1YWQgVVZzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUXVhZFV2fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucXVhZFV2ID0gbmV3IFF1YWRVdigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGVtcG9yYXJ5IHJlY3QgZm9yIG1hdGhzXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRlbXBSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZlIHN0YXRlXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFjdGl2ZVN0YXRlID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHVuaWZvcm0gZ3JvdXAgaXMgYXR0YWNoZWQgdG8gZmlsdGVyIHVuaWZvcm1zIHdoZW4gdXNlZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlVuaWZvcm1Hcm91cH1cbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJlY3RhbmdsZX0gb3V0cHV0RnJhbWVcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0U2l6ZVxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2F0MzJBcnJheX0gaW5wdXRQaXhlbFxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2F0MzJBcnJheX0gaW5wdXRDbGFtcFxuICAgICAgICAgKiBAcHJvcGVydHkge051bWJlcn0gcmVzb2x1dGlvblxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2F0MzJBcnJheX0gZmlsdGVyQXJlYVxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2FkMzJBcnJheX0gZmlsdGVyQ2xhbXBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdsb2JhbFVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICAgICAgICBvdXRwdXRGcmFtZTogX3RoaXMudGVtcFJlY3QsXG4gICAgICAgICAgICBpbnB1dFNpemU6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICBpbnB1dFBpeGVsOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgaW5wdXRDbGFtcDogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgICAgICAvLyBsZWdhY3kgdmFyaWFibGVzXG4gICAgICAgICAgICBmaWx0ZXJBcmVhOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgZmlsdGVyQ2xhbXA6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0byBjbGVhciBvdXRwdXQgcmVuZGVyVGV4dHVyZSBpbiBBVVRPL0JMSVQgbW9kZS4gU2VlIHtAbGluayBQSVhJLkNMRUFSX01PREVTfVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZm9yY2VDbGVhciA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogT2xkIHBhZGRpbmcgYmVoYXZpb3IgaXMgdG8gdXNlIHRoZSBtYXggYW1vdW50IGluc3RlYWQgb2Ygc3VtIHBhZGRpbmcuXG4gICAgICAgICAqIFVzZSB0aGlzIGZsYWcgaWYgeW91IG5lZWQgdGhlIG9sZCBiZWhhdmlvci5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVzZU1heFBhZGRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbmV3IGZpbHRlciB0byB0aGUgU3lzdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIFRoZSB0YXJnZXQgb2YgdGhlIGZpbHRlciB0byByZW5kZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlcltdfSBmaWx0ZXJzIC0gVGhlIGZpbHRlcnMgdG8gYXBwbHkuXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKHRhcmdldCwgZmlsdGVycykge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgZmlsdGVyU3RhY2sgPSB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFjaztcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZVBvb2wucG9wKCkgfHwgbmV3IEZpbHRlclN0YXRlKCk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gZmlsdGVyc1swXS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgcGFkZGluZyA9IGZpbHRlcnNbMF0ucGFkZGluZztcbiAgICAgICAgdmFyIGF1dG9GaXQgPSBmaWx0ZXJzWzBdLmF1dG9GaXQ7XG4gICAgICAgIHZhciBsZWdhY3kgPSBmaWx0ZXJzWzBdLmxlZ2FjeTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZmlsdGVyID0gZmlsdGVyc1tpXTtcbiAgICAgICAgICAgIC8vIGxldHMgdXNlIHRoZSBsb3dlc3QgcmVzb2x1dGlvbi4uXG4gICAgICAgICAgICByZXNvbHV0aW9uID0gTWF0aC5taW4ocmVzb2x1dGlvbiwgZmlsdGVyLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgLy8gZmlndXJlIG91dCB0aGUgcGFkZGluZyByZXF1aXJlZCBmb3IgZmlsdGVyc1xuICAgICAgICAgICAgcGFkZGluZyA9IHRoaXMudXNlTWF4UGFkZGluZ1xuICAgICAgICAgICAgICAgIC8vIG9sZCBiZWhhdmlvcjogdXNlIGxhcmdlc3QgYW1vdW50IG9mIHBhZGRpbmchXG4gICAgICAgICAgICAgICAgPyBNYXRoLm1heChwYWRkaW5nLCBmaWx0ZXIucGFkZGluZylcbiAgICAgICAgICAgICAgICAvLyBuZXcgYmVoYXZpb3I6IHN1bSB0aGUgcGFkZGluZ1xuICAgICAgICAgICAgICAgIDogcGFkZGluZyArIGZpbHRlci5wYWRkaW5nO1xuICAgICAgICAgICAgLy8gb25seSBhdXRvIGZpdCBpZiBhbGwgZmlsdGVycyBhcmUgYXV0b2ZpdFxuICAgICAgICAgICAgYXV0b0ZpdCA9IGF1dG9GaXQgJiYgZmlsdGVyLmF1dG9GaXQ7XG4gICAgICAgICAgICBsZWdhY3kgPSBsZWdhY3kgfHwgZmlsdGVyLmxlZ2FjeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsdGVyU3RhY2subGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFja1swXS5yZW5kZXJUZXh0dXJlID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jdXJyZW50O1xuICAgICAgICB9XG4gICAgICAgIGZpbHRlclN0YWNrLnB1c2goc3RhdGUpO1xuICAgICAgICBzdGF0ZS5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgc3RhdGUubGVnYWN5ID0gbGVnYWN5O1xuICAgICAgICBzdGF0ZS50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLmNvcHlGcm9tKHRhcmdldC5maWx0ZXJBcmVhIHx8IHRhcmdldC5nZXRCb3VuZHModHJ1ZSkpO1xuICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5wYWQocGFkZGluZyk7XG4gICAgICAgIGlmIChhdXRvRml0KSB7XG4gICAgICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5maXQodGhpcy5yZW5kZXJlci5yZW5kZXJUZXh0dXJlLnNvdXJjZUZyYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByb3VuZCB0byB3aG9sZSBudW1iZXIgYmFzZWQgb24gcmVzb2x1dGlvblxuICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5jZWlsKHJlc29sdXRpb24pO1xuICAgICAgICBzdGF0ZS5yZW5kZXJUZXh0dXJlID0gdGhpcy5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZShzdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCwgc3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0LCByZXNvbHV0aW9uKTtcbiAgICAgICAgc3RhdGUuZmlsdGVycyA9IGZpbHRlcnM7XG4gICAgICAgIHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBzdGF0ZS5yZW5kZXJUZXh0dXJlLndpZHRoO1xuICAgICAgICBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IHN0YXRlLnJlbmRlclRleHR1cmUuaGVpZ2h0O1xuICAgICAgICB2YXIgZGVzdGluYXRpb25GcmFtZSA9IHRoaXMudGVtcFJlY3Q7XG4gICAgICAgIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBzdGF0ZS5zb3VyY2VGcmFtZS53aWR0aDtcbiAgICAgICAgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQ7XG4gICAgICAgIHN0YXRlLnJlbmRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBzdGF0ZS5zb3VyY2VGcmFtZTtcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHN0YXRlLnJlbmRlclRleHR1cmUsIHN0YXRlLnNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKTtcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9wcyBvZmYgdGhlIGZpbHRlciBhbmQgYXBwbGllcyBpdC5cbiAgICAgKlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZmlsdGVyU3RhY2sgPSB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFjaztcbiAgICAgICAgdmFyIHN0YXRlID0gZmlsdGVyU3RhY2sucG9wKCk7XG4gICAgICAgIHZhciBmaWx0ZXJzID0gc3RhdGUuZmlsdGVycztcbiAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZSA9IHN0YXRlO1xuICAgICAgICB2YXIgZ2xvYmFsVW5pZm9ybXMgPSB0aGlzLmdsb2JhbFVuaWZvcm1zLnVuaWZvcm1zO1xuICAgICAgICBnbG9iYWxVbmlmb3Jtcy5vdXRwdXRGcmFtZSA9IHN0YXRlLnNvdXJjZUZyYW1lO1xuICAgICAgICBnbG9iYWxVbmlmb3Jtcy5yZXNvbHV0aW9uID0gc3RhdGUucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGlucHV0U2l6ZSA9IGdsb2JhbFVuaWZvcm1zLmlucHV0U2l6ZTtcbiAgICAgICAgdmFyIGlucHV0UGl4ZWwgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dFBpeGVsO1xuICAgICAgICB2YXIgaW5wdXRDbGFtcCA9IGdsb2JhbFVuaWZvcm1zLmlucHV0Q2xhbXA7XG4gICAgICAgIGlucHV0U2l6ZVswXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgIGlucHV0U2l6ZVsxXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuICAgICAgICBpbnB1dFNpemVbMl0gPSAxLjAgLyBpbnB1dFNpemVbMF07XG4gICAgICAgIGlucHV0U2l6ZVszXSA9IDEuMCAvIGlucHV0U2l6ZVsxXTtcbiAgICAgICAgaW5wdXRQaXhlbFswXSA9IGlucHV0U2l6ZVswXSAqIHN0YXRlLnJlc29sdXRpb247XG4gICAgICAgIGlucHV0UGl4ZWxbMV0gPSBpbnB1dFNpemVbMV0gKiBzdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICBpbnB1dFBpeGVsWzJdID0gMS4wIC8gaW5wdXRQaXhlbFswXTtcbiAgICAgICAgaW5wdXRQaXhlbFszXSA9IDEuMCAvIGlucHV0UGl4ZWxbMV07XG4gICAgICAgIGlucHV0Q2xhbXBbMF0gPSAwLjUgKiBpbnB1dFBpeGVsWzJdO1xuICAgICAgICBpbnB1dENsYW1wWzFdID0gMC41ICogaW5wdXRQaXhlbFszXTtcbiAgICAgICAgaW5wdXRDbGFtcFsyXSA9IChzdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCAqIGlucHV0U2l6ZVsyXSkgLSAoMC41ICogaW5wdXRQaXhlbFsyXSk7XG4gICAgICAgIGlucHV0Q2xhbXBbM10gPSAoc3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0ICogaW5wdXRTaXplWzNdKSAtICgwLjUgKiBpbnB1dFBpeGVsWzNdKTtcbiAgICAgICAgLy8gb25seSB1cGRhdGUgdGhlIHJlY3QgaWYgaXRzIGxlZ2FjeS4uXG4gICAgICAgIGlmIChzdGF0ZS5sZWdhY3kpIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJBcmVhID0gZ2xvYmFsVW5pZm9ybXMuZmlsdGVyQXJlYTtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbMF0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICAgICAgZmlsdGVyQXJlYVsxXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuICAgICAgICAgICAgZmlsdGVyQXJlYVsyXSA9IHN0YXRlLnNvdXJjZUZyYW1lLng7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzNdID0gc3RhdGUuc291cmNlRnJhbWUueTtcbiAgICAgICAgICAgIGdsb2JhbFVuaWZvcm1zLmZpbHRlckNsYW1wID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRDbGFtcDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdsb2JhbFVuaWZvcm1zLnVwZGF0ZSgpO1xuICAgICAgICB2YXIgbGFzdFN0YXRlID0gZmlsdGVyU3RhY2tbZmlsdGVyU3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChzdGF0ZS5yZW5kZXJUZXh0dXJlLmZyYW1lYnVmZmVyLm11bHRpc2FtcGxlID4gMSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5mcmFtZWJ1ZmZlci5ibGl0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBmaWx0ZXJzWzBdLmFwcGx5KHRoaXMsIHN0YXRlLnJlbmRlclRleHR1cmUsIGxhc3RTdGF0ZS5yZW5kZXJUZXh0dXJlLCBDTEVBUl9NT0RFUy5CTEVORCwgc3RhdGUpO1xuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKHN0YXRlLnJlbmRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGZsaXAgPSBzdGF0ZS5yZW5kZXJUZXh0dXJlO1xuICAgICAgICAgICAgdmFyIGZsb3AgPSB0aGlzLmdldE9wdGltYWxGaWx0ZXJUZXh0dXJlKGZsaXAud2lkdGgsIGZsaXAuaGVpZ2h0LCBzdGF0ZS5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIGZsb3AuZmlsdGVyRnJhbWUgPSBmbGlwLmZpbHRlckZyYW1lO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBmbG9wLCBDTEVBUl9NT0RFUy5DTEVBUiwgc3RhdGUpO1xuICAgICAgICAgICAgICAgIHZhciB0ID0gZmxpcDtcbiAgICAgICAgICAgICAgICBmbGlwID0gZmxvcDtcbiAgICAgICAgICAgICAgICBmbG9wID0gdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcywgZmxpcCwgbGFzdFN0YXRlLnJlbmRlclRleHR1cmUsIENMRUFSX01PREVTLkJMRU5ELCBzdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUoZmxpcCk7XG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUoZmxvcCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZVBvb2wucHVzaChzdGF0ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCaW5kcyBhIHJlbmRlclRleHR1cmUgd2l0aCBjb3JyZXNwb25kaW5nIGBmaWx0ZXJGcmFtZWAsIGNsZWFycyBpdCBpZiBtb2RlIGNvcnJlc3BvbmRzLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBmaWx0ZXJUZXh0dXJlIC0gcmVuZGVyVGV4dHVyZSB0byBiaW5kLCBzaG91bGQgYmVsb25nIHRvIGZpbHRlciBwb29sIG9yIGZpbHRlciBzdGFja1xuICAgICAqIEBwYXJhbSB7UElYSS5DTEVBUl9NT0RFU30gW2NsZWFyTW9kZV0gLSBjbGVhck1vZGUsIGJ5IGRlZmF1bHQgaXRzIENMRUFSL1lFUy4gU2VlIHtAbGluayBQSVhJLkNMRUFSX01PREVTfVxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuYmluZEFuZENsZWFyID0gZnVuY3Rpb24gKGZpbHRlclRleHR1cmUsIGNsZWFyTW9kZSkge1xuICAgICAgICBpZiAoY2xlYXJNb2RlID09PSB2b2lkIDApIHsgY2xlYXJNb2RlID0gQ0xFQVJfTU9ERVMuQ0xFQVI7IH1cbiAgICAgICAgaWYgKGZpbHRlclRleHR1cmUgJiYgZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZSkge1xuICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uRnJhbWUgPSB0aGlzLnRlbXBSZWN0O1xuICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUud2lkdGg7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQoZmlsdGVyVGV4dHVyZSwgZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZSwgZGVzdGluYXRpb25GcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChmaWx0ZXJUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiByZW1vdmUgaW4gbmV4dCBtYWpvciB2ZXJzaW9uXG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJNb2RlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIGNsZWFyTW9kZSA9IGNsZWFyTW9kZSA/IENMRUFSX01PREVTLkNMRUFSIDogQ0xFQVJfTU9ERVMuQkxFTkQ7XG4gICAgICAgICAgICAvLyBnZXQgZGVwcmVjYXRpb24gZnVuY3Rpb24gZnJvbSB1dGlsc1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4xJywgJ1VzZSBDTEVBUl9NT0RFUyB3aGVuIHVzaW5nIGNsZWFyIGFwcGx5RmlsdGVyIG9wdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGVhck1vZGUgPT09IENMRUFSX01PREVTLkNMRUFSXG4gICAgICAgICAgICB8fCAoY2xlYXJNb2RlID09PSBDTEVBUl9NT0RFUy5CTElUICYmIHRoaXMuZm9yY2VDbGVhcikpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJ9IGZpbHRlciAtIFRoZSBmaWx0ZXIgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtQSVhJLkNMRUFSX01PREVTfSBbY2xlYXJNb2RlXSAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdFxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuYXBwbHlGaWx0ZXIgPSBmdW5jdGlvbiAoZmlsdGVyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdGhpcy5iaW5kQW5kQ2xlYXIob3V0cHV0LCBjbGVhck1vZGUpO1xuICAgICAgICAvLyBzZXQgdGhlIHVuaWZvcm1zLi5cbiAgICAgICAgZmlsdGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gaW5wdXQ7XG4gICAgICAgIGZpbHRlci51bmlmb3Jtcy5maWx0ZXJHbG9iYWxzID0gdGhpcy5nbG9iYWxVbmlmb3JtcztcbiAgICAgICAgLy8gVE9ETyBtYWtlIGl0IHNvIHRoYXQgdGhlIG9yZGVyIG9mIHRoaXMgZG9lcyBub3QgbWF0dGVyLi5cbiAgICAgICAgLy8gYmVjYXVzZSBpdCBkb2VzIGF0IHRoZSBtb21lbnQgY29zIG9mIGdsb2JhbCB1bmlmb3Jtcy5cbiAgICAgICAgLy8gdGhleSBuZWVkIHRvIGdldCByZXN5bmNlZFxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXQoZmlsdGVyLnN0YXRlKTtcbiAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQoZmlsdGVyKTtcbiAgICAgICAgaWYgKGZpbHRlci5sZWdhY3kpIHtcbiAgICAgICAgICAgIHRoaXMucXVhZFV2Lm1hcChpbnB1dC5fZnJhbWUsIGlucHV0LmZpbHRlckZyYW1lKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5xdWFkVXYpO1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyhEUkFXX01PREVTLlRSSUFOR0xFUyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMucXVhZCk7XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KERSQVdfTU9ERVMuVFJJQU5HTEVfU1RSSVApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSBfaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlc18gdG8gdGhpcyBtYXRyaXggdG8gZ2V0IF9zcHJpdGUgdGV4dHVyZSBub3JtYWxpemVkIGNvb3JkaW5hdGVzXy5cbiAgICAgKlxuICAgICAqIFVzZSBgb3V0cHV0TWF0cml4ICogdlRleHR1cmVDb29yZGAgaW4gdGhlIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG91dHB1dE1hdHJpeCAtIFRoZSBtYXRyaXggdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIFRoZSBzcHJpdGUgdG8gbWFwIHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCA9IGZ1bmN0aW9uIChvdXRwdXRNYXRyaXgsIHNwcml0ZSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLmFjdGl2ZVN0YXRlLCBzb3VyY2VGcmFtZSA9IF9hLnNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lID0gX2EuZGVzdGluYXRpb25GcmFtZTtcbiAgICAgICAgdmFyIG9yaWcgPSBzcHJpdGUuX3RleHR1cmUub3JpZztcbiAgICAgICAgdmFyIG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5zZXQoZGVzdGluYXRpb25GcmFtZS53aWR0aCwgMCwgMCwgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQsIHNvdXJjZUZyYW1lLngsIHNvdXJjZUZyYW1lLnkpO1xuICAgICAgICB2YXIgd29ybGRUcmFuc2Zvcm0gPSBzcHJpdGUud29ybGRUcmFuc2Zvcm0uY29weVRvKE1hdHJpeC5URU1QX01BVFJJWCk7XG4gICAgICAgIHdvcmxkVHJhbnNmb3JtLmludmVydCgpO1xuICAgICAgICBtYXBwZWRNYXRyaXgucHJlcGVuZCh3b3JsZFRyYW5zZm9ybSk7XG4gICAgICAgIG1hcHBlZE1hdHJpeC5zY2FsZSgxLjAgLyBvcmlnLndpZHRoLCAxLjAgLyBvcmlnLmhlaWdodCk7XG4gICAgICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoc3ByaXRlLmFuY2hvci54LCBzcHJpdGUuYW5jaG9yLnkpO1xuICAgICAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBGaWx0ZXIgU3lzdGVtLlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVGhvc2UgdGV4dHVyZXMgaGFzIHRvIGJlIGRlc3Ryb3llZCBieSBSZW5kZXJUZXh0dXJlU3lzdGVtIG9yIEZyYW1lYnVmZmVyU3lzdGVtXG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wuY2xlYXIoZmFsc2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyBhIFBvd2VyLW9mLVR3byByZW5kZXIgdGV4dHVyZSBvciBmdWxsU2NyZWVuIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluV2lkdGggLSBUaGUgbWluaW11bSB3aWR0aCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbkhlaWdodCAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGV4dHVyZX0gVGhlIG5ldyByZW5kZXIgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmdldE9wdGltYWxGaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gKG1pbldpZHRoLCBtaW5IZWlnaHQsIHJlc29sdXRpb24pIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uID0gMTsgfVxuICAgICAgICByZXR1cm4gdGhpcy50ZXh0dXJlUG9vbC5nZXRPcHRpbWFsVGV4dHVyZShtaW5XaWR0aCwgbWluSGVpZ2h0LCByZXNvbHV0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgZXh0cmEgcmVuZGVyIHRleHR1cmUgdG8gdXNlIGluc2lkZSBjdXJyZW50IGZpbHRlclxuICAgICAqIFRvIGJlIGNvbXBsaWFudCB3aXRoIG9sZGVyIGZpbHRlcnMsIHlvdSBjYW4gdXNlIHBhcmFtcyBpbiBhbnkgb3JkZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBbaW5wdXRdIC0gcmVuZGVyVGV4dHVyZSBmcm9tIHdoaWNoIHNpemUgYW5kIHJlc29sdXRpb24gd2lsbCBiZSBjb3BpZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIC0gb3ZlcnJpZGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlJlbmRlclRleHR1cmV9XG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5nZXRGaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gKGlucHV0LCByZXNvbHV0aW9uKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB2YXIgc3dhcCA9IGlucHV0O1xuICAgICAgICAgICAgaW5wdXQgPSByZXNvbHV0aW9uO1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHN3YXA7XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQgPSBpbnB1dCB8fCB0aGlzLmFjdGl2ZVN0YXRlLnJlbmRlclRleHR1cmU7XG4gICAgICAgIHZhciBmaWx0ZXJUZXh0dXJlID0gdGhpcy50ZXh0dXJlUG9vbC5nZXRPcHRpbWFsVGV4dHVyZShpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0LCByZXNvbHV0aW9uIHx8IGlucHV0LnJlc29sdXRpb24pO1xuICAgICAgICBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gaW5wdXQuZmlsdGVyRnJhbWU7XG4gICAgICAgIHJldHVybiBmaWx0ZXJUZXh0dXJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRnJlZXMgYSByZW5kZXIgdGV4dHVyZSBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJUYXJnZXQgdG8gZnJlZVxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUucmV0dXJuRmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZShyZW5kZXJUZXh0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVtcHRpZXMgdGhlIHRleHR1cmUgcG9vbC5cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmVtcHR5UG9vbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5jbGVhcih0cnVlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGNhbGxzIGB0ZXh0dXJlUG9vbC5yZXNpemUoKWAsIGFmZmVjdHMgZnVsbFNjcmVlbiByZW5kZXJUZXh0dXJlc1xuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sLnNldFNjcmVlblNpemUodGhpcy5yZW5kZXJlci52aWV3KTtcbiAgICB9O1xuICAgIHJldHVybiBGaWx0ZXJTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIEJhc2UgZm9yIGEgY29tbW9uIG9iamVjdCByZW5kZXJlciB0aGF0IGNhbiBiZSB1c2VkIGFzIGFcbiAqIHN5c3RlbSByZW5kZXJlciBwbHVnaW4uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE9iamVjdFJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBPYmplY3RSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0dWIgbWV0aG9kIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gZW1wdHkgdGhlIGN1cnJlbnRcbiAgICAgKiBiYXRjaCBieSByZW5kZXJpbmcgb2JqZWN0cyBub3cuXG4gICAgICovXG4gICAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBmbHVzaCFcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyaWMgZGVzdHJ1Y3Rpb24gbWV0aG9kIHRoYXQgZnJlZXMgYWxsIHJlc291cmNlcy4gVGhpc1xuICAgICAqIHNob3VsZCBiZSBjYWxsZWQgYnkgc3ViY2xhc3Nlcy5cbiAgICAgKi9cbiAgICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdHViIG1ldGhvZCB0aGF0IGluaXRpYWxpemVzIGFueSBzdGF0ZSByZXF1aXJlZCBiZWZvcmVcbiAgICAgKiByZW5kZXJpbmcgc3RhcnRzLiBJdCBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgYHByZXJlbmRlcmBcbiAgICAgKiBzaWduYWwsIHdoaWNoIG9jY3VycyBldmVyeSBmcmFtZSwgaW4gdGhhdCBpdCBpcyBjYWxsZWRcbiAgICAgKiB3aGVuZXZlciBhbiBvYmplY3QgcmVxdWVzdHMgX3RoaXNfIHJlbmRlcmVyIHNwZWNpZmljYWxseS5cbiAgICAgKi9cbiAgICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHNldCB0aGUgc2hhZGVyLi5cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSByZW5kZXJlci4gSXQgc2hvdWxkIGZyZWUgdXAgYW55IHN0YXRlIGFuZFxuICAgICAqIGJlY29tZSBkb3JtYW50LlxuICAgICAqL1xuICAgIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBLZWVwcyB0aGUgb2JqZWN0IHRvIHJlbmRlci4gSXQgZG9lc24ndCBoYXZlIHRvIGJlXG4gICAgICogcmVuZGVyZWQgaW1tZWRpYXRlbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gb2JqZWN0IC0gVGhlIG9iamVjdCB0byByZW5kZXIuXG4gICAgICovXG4gICAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChfb2JqZWN0KSB7XG4gICAgICAgIC8vIHJlbmRlciB0aGUgb2JqZWN0XG4gICAgfTtcbiAgICByZXR1cm4gT2JqZWN0UmVuZGVyZXI7XG59KCkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBiYXRjaGluZy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBCYXRjaFN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmF0Y2hTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmF0Y2hTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBlbXB0eSByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYmplY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVtcHR5UmVuZGVyZXIgPSBuZXcgT2JqZWN0UmVuZGVyZXIocmVuZGVyZXIpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgT2JqZWN0UmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JqZWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50UmVuZGVyZXIgPSBfdGhpcy5lbXB0eVJlbmRlcmVyO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgcmVuZGVyZXIgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5PYmplY3RSZW5kZXJlcn0gb2JqZWN0UmVuZGVyZXIgLSBUaGUgb2JqZWN0IHJlbmRlcmVyIHRvIHVzZS5cbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUuc2V0T2JqZWN0UmVuZGVyZXIgPSBmdW5jdGlvbiAob2JqZWN0UmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFJlbmRlcmVyID09PSBvYmplY3RSZW5kZXJlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLnN0b3AoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIgPSBvYmplY3RSZW5kZXJlcjtcbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RhcnQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBpZiB5b3Ugd2lzaCB0byBkbyBzb21lIGN1c3RvbSByZW5kZXJpbmdcbiAgICAgKiBJdCB3aWxsIGJhc2ljYWxseSByZW5kZXIgYW55dGhpbmcgdGhhdCBtYXkgYmUgYmF0Y2hlZCB1cCBzdWNoIGFzIHNwcml0ZXNcbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5lbXB0eVJlbmRlcmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBzeXN0ZW0gdG8gYW4gZW1wdHkgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5lbXB0eVJlbmRlcmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmR5IGZ1bmN0aW9uIGZvciBiYXRjaCByZW5kZXJlcnM6IGNvcGllcyBib3VuZCB0ZXh0dXJlcyBpbiBmaXJzdCBtYXhUZXh0dXJlcyBsb2NhdGlvbnMgdG8gYXJyYXlcbiAgICAgKiBzZXRzIGFjdHVhbCBfYmF0Y2hMb2NhdGlvbiBmb3IgdGhlbVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlW119IC0gYXJyIGNvcHkgZGVzdGluYXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4VGV4dHVyZXMgLSBudW1iZXIgb2YgY29waWVkIGVsZW1lbnRzXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLmNvcHlCb3VuZFRleHR1cmVzID0gZnVuY3Rpb24gKGFyciwgbWF4VGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIGJvdW5kVGV4dHVyZXMgPSB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYm91bmRUZXh0dXJlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IG1heFRleHR1cmVzIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIGFycltpXSA9IGJvdW5kVGV4dHVyZXNbaV0gfHwgbnVsbDtcbiAgICAgICAgICAgIGlmIChhcnJbaV0pIHtcbiAgICAgICAgICAgICAgICBhcnJbaV0uX2JhdGNoTG9jYXRpb24gPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIGJhdGNoIGxvY2F0aW9ucyB0byB0ZXh0dXJlcyBpbiBhcnJheSBiYXNlZCBvbiBib3VuZFRleHR1cmVzIHN0YXRlLlxuICAgICAqIEFsbCB0ZXh0dXJlcyBpbiB0ZXhBcnJheSBzaG91bGQgaGF2ZSBgX2JhdGNoRW5hYmxlZCA9IF9iYXRjaElkYCxcbiAgICAgKiBhbmQgdGhlaXIgY291bnQgc2hvdWxkIGJlIGxlc3MgdGhhbiBgbWF4VGV4dHVyZXNgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhdGNoVGV4dHVyZUFycmF5fSB0ZXhBcnJheSAtIHRleHR1cmVzIHRvIGJvdW5kXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlW119IGJvdW5kVGV4dHVyZXMgLSBjdXJyZW50IHN0YXRlIG9mIGJvdW5kIHRleHR1cmVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJhdGNoSWQgLSBtYXJrZXIgZm9yIF9iYXRjaEVuYWJsZWQgcGFyYW0gb2YgdGV4dHVyZXMgaW4gdGV4QXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4VGV4dHVyZXMgLSBudW1iZXIgb2YgdGV4dHVyZSBsb2NhdGlvbnMgdG8gbWFuaXB1bGF0ZVxuICAgICAqL1xuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZS5ib3VuZEFycmF5ID0gZnVuY3Rpb24gKHRleEFycmF5LCBib3VuZFRleHR1cmVzLCBiYXRjaElkLCBtYXhUZXh0dXJlcykge1xuICAgICAgICB2YXIgZWxlbWVudHMgPSB0ZXhBcnJheS5lbGVtZW50cywgaWRzID0gdGV4QXJyYXkuaWRzLCBjb3VudCA9IHRleEFycmF5LmNvdW50O1xuICAgICAgICB2YXIgaiA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRleCA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgdmFyIGxvYyA9IHRleC5fYmF0Y2hMb2NhdGlvbjtcbiAgICAgICAgICAgIGlmIChsb2MgPj0gMCAmJiBsb2MgPCBtYXhUZXh0dXJlc1xuICAgICAgICAgICAgICAgICYmIGJvdW5kVGV4dHVyZXNbbG9jXSA9PT0gdGV4KSB7XG4gICAgICAgICAgICAgICAgaWRzW2ldID0gbG9jO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGogPCBtYXhUZXh0dXJlcykge1xuICAgICAgICAgICAgICAgIHZhciBib3VuZCA9IGJvdW5kVGV4dHVyZXNbal07XG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kICYmIGJvdW5kLl9iYXRjaEVuYWJsZWQgPT09IGJhdGNoSWRcbiAgICAgICAgICAgICAgICAgICAgJiYgYm91bmQuX2JhdGNoTG9jYXRpb24gPT09IGopIHtcbiAgICAgICAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWRzW2ldID0gajtcbiAgICAgICAgICAgICAgICB0ZXguX2JhdGNoTG9jYXRpb24gPSBqO1xuICAgICAgICAgICAgICAgIGJvdW5kVGV4dHVyZXNbal0gPSB0ZXg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBCYXRjaFN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbnZhciBDT05URVhUX1VJRF9DT1VOVEVSID0gMDtcbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRoZSBjb250ZXh0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIENvbnRleHRTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbnRleHRTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyogZXNsaW50LWVuYWJsZSBjYW1lbGNhc2UgKi9cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb250ZXh0U3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRWl0aGVyIDEgb3IgMiB0byByZWZsZWN0IHRoZSBXZWJHTCB2ZXJzaW9uIGJlaW5nIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndlYkdMVmVyc2lvbiA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHRlbnNpb25zIGJlaW5nIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByb3BlcnR5IHtXRUJHTF9kcmF3X2J1ZmZlcnN9IGRyYXdCdWZmZXJzIC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7V0VCR0xfZGVwdGhfdGV4dHVyZX0gZGVwdGhUZXh0dXJlIC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T0VTX3RleHR1cmVfZmxvYXR9IGZsb2F0VGV4dHVyZSAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge1dFQkdMX2xvc2VfY29udGV4dH0gbG9zZUNvbnRleHQgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtPRVNfdmVydGV4X2FycmF5X29iamVjdH0gdmVydGV4QXJyYXlPYmplY3QgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWN9IGFuaXNvdHJvcGljRmlsdGVyaW5nIC0gV2ViR0wgdjEgYW5kIHYyIGV4dGVuc2lvblxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXh0ZW5zaW9ucyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogRmVhdHVyZXMgc3VwcG9ydGVkIGJ5IGN1cnJlbnQgY29udGV4dFxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHVpbnQzMkluZGljZXMgLSBTdXBwb3J0cyBvZiAzMi1iaXQgaW5kaWNlcyBidWZmZXJcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN1cHBvcnRzID0ge1xuICAgICAgICAgICAgdWludDMySW5kaWNlczogZmFsc2UsXG4gICAgICAgIH07XG4gICAgICAgIC8vIEJpbmQgZnVuY3Rpb25zXG4gICAgICAgIF90aGlzLmhhbmRsZUNvbnRleHRMb3N0ID0gX3RoaXMuaGFuZGxlQ29udGV4dExvc3QuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IF90aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZC5iaW5kKF90aGlzKTtcbiAgICAgICAgcmVuZGVyZXIudmlldy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRsb3N0JywgX3RoaXMuaGFuZGxlQ29udGV4dExvc3QsIGZhbHNlKTtcbiAgICAgICAgcmVuZGVyZXIudmlldy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIF90aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb250ZXh0U3lzdGVtLnByb3RvdHlwZSwgXCJpc0xvc3RcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoZSBjb250ZXh0IGlzIGxvc3RcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAoIXRoaXMuZ2wgfHwgdGhpcy5nbC5pc0NvbnRleHRMb3N0KCkpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBjb250ZXh0IGNoYW5nZSBldmVudFxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIG5ldyB3ZWJnbCBjb250ZXh0XG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIChnbCkge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEX0NPVU5URVIrKztcbiAgICAgICAgLy8gcmVzdG9yZSBhIGNvbnRleHQgaWYgaXQgd2FzIHByZXZpb3VzbHkgbG9zdFxuICAgICAgICBpZiAoZ2wuaXNDb250ZXh0TG9zdCgpICYmIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykpIHtcbiAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykucmVzdG9yZUNvbnRleHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFdlYkdMIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5pbml0RnJvbUNvbnRleHQgPSBmdW5jdGlvbiAoZ2wpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnZhbGlkYXRlQ29udGV4dChnbCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEX0NPVU5URVIrKztcbiAgICAgICAgdGhpcy5yZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UuZW1pdChnbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGZyb20gY29udGV4dCBvcHRpb25zXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvZ2V0Q29udGV4dFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gY29udGV4dCBhdHRyaWJ1dGVzXG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuaW5pdEZyb21PcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5jcmVhdGVDb250ZXh0KHRoaXMucmVuZGVyZXIudmlldywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuaW5pdEZyb21Db250ZXh0KGdsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBXZWJHTCBDb250ZXh0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FudmFzIHtIVE1MQ2FudmFzRWxlbWVudH0gdGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgd2Ugd2lsbCBnZXQgdGhlIGNvbnRleHQgZnJvbVxuICAgICAqIEBwYXJhbSBvcHRpb25zIHtvYmplY3R9IEFuIG9wdGlvbnMgb2JqZWN0IHRoYXQgZ2V0cyBwYXNzZWQgaW4gdG8gdGhlIGNhbnZhcyBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIGNvbnRleHQgYXR0cmlidXRlc1xuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxDYW52YXNFbGVtZW50L2dldENvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IHRoZSBXZWJHTCBjb250ZXh0XG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuY3JlYXRlQ29udGV4dCA9IGZ1bmN0aW9uIChjYW52YXMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGdsO1xuICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA+PSBFTlYuV0VCR0wyKSB7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2wpIHtcbiAgICAgICAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gMTtcbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgb3B0aW9ucylcbiAgICAgICAgICAgICAgICB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAoIWdsKSB7XG4gICAgICAgICAgICAgICAgLy8gZmFpbCwgbm90IGFibGUgdG8gZ2V0IGEgY29udGV4dFxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgV2ViR0wuIFRyeSB1c2luZyB0aGUgY2FudmFzIHJlbmRlcmVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLmdldEV4dGVuc2lvbnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2w7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBdXRvLXBvcHVsYXRlIHRoZSBleHRlbnNpb25zXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuZ2V0RXh0ZW5zaW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gdGltZSB0byBzZXQgdXAgZGVmYXVsdCBleHRlbnNpb25zIHRoYXQgUGl4aSB1c2VzLlxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBpZiAodGhpcy53ZWJHTFZlcnNpb24gPT09IDEpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5leHRlbnNpb25zLCB7XG4gICAgICAgICAgICAgICAgZHJhd0J1ZmZlcnM6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfZHJhd19idWZmZXJzJyksXG4gICAgICAgICAgICAgICAgZGVwdGhUZXh0dXJlOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RlcHRoX3RleHR1cmUnKSxcbiAgICAgICAgICAgICAgICBsb3NlQ29udGV4dDogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKSxcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhBcnJheU9iamVjdDogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdmVydGV4X2FycmF5X29iamVjdCcpXG4gICAgICAgICAgICAgICAgICAgIHx8IGdsLmdldEV4dGVuc2lvbignTU9aX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JylcbiAgICAgICAgICAgICAgICAgICAgfHwgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKSxcbiAgICAgICAgICAgICAgICBhbmlzb3Ryb3BpY0ZpbHRlcmluZzogZ2wuZ2V0RXh0ZW5zaW9uKCdFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKSxcbiAgICAgICAgICAgICAgICB1aW50MzJFbGVtZW50SW5kZXg6IGdsLmdldEV4dGVuc2lvbignT0VTX2VsZW1lbnRfaW5kZXhfdWludCcpLFxuICAgICAgICAgICAgICAgIC8vIEZsb2F0cyBhbmQgaGFsZi1mbG9hdHNcbiAgICAgICAgICAgICAgICBmbG9hdFRleHR1cmU6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfZmxvYXQnKSxcbiAgICAgICAgICAgICAgICBmbG9hdFRleHR1cmVMaW5lYXI6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyJyksXG4gICAgICAgICAgICAgICAgdGV4dHVyZUhhbGZGbG9hdDogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0JyksXG4gICAgICAgICAgICAgICAgdGV4dHVyZUhhbGZGbG9hdExpbmVhcjogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhcicpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy53ZWJHTFZlcnNpb24gPT09IDIpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5leHRlbnNpb25zLCB7XG4gICAgICAgICAgICAgICAgYW5pc290cm9waWNGaWx0ZXJpbmc6IGdsLmdldEV4dGVuc2lvbignRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJyksXG4gICAgICAgICAgICAgICAgLy8gRmxvYXRzIGFuZCBoYWxmLWZsb2F0c1xuICAgICAgICAgICAgICAgIGNvbG9yQnVmZmVyRmxvYXQ6IGdsLmdldEV4dGVuc2lvbignRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCcpLFxuICAgICAgICAgICAgICAgIGZsb2F0VGV4dHVyZUxpbmVhcjogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXInKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGEgbG9zdCB3ZWJnbCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtXZWJHTENvbnRleHRFdmVudH0gZXZlbnQgLSBUaGUgY29udGV4dCBsb3N0IGV2ZW50LlxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmhhbmRsZUNvbnRleHRMb3N0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGEgcmVzdG9yZWQgd2ViZ2wgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UuZW1pdCh0aGlzLmdsKTtcbiAgICB9O1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcy5yZW5kZXJlci52aWV3O1xuICAgICAgICAvLyByZW1vdmUgbGlzdGVuZXJzXG4gICAgICAgIHZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIHRoaXMuaGFuZGxlQ29udGV4dExvc3QpO1xuICAgICAgICB2aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQpO1xuICAgICAgICB0aGlzLmdsLnVzZVByb2dyYW0obnVsbCk7XG4gICAgICAgIGlmICh0aGlzLmV4dGVuc2lvbnMubG9zZUNvbnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuZXh0ZW5zaW9ucy5sb3NlQ29udGV4dC5sb3NlQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGhlIHBvc3QtcmVuZGVyIHJ1bm5lciBldmVudFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLnBvc3RyZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLnJlbmRlcmluZ1RvU2NyZWVuKSB7XG4gICAgICAgICAgICB0aGlzLmdsLmZsdXNoKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBSZW5kZXIgY29udGV4dFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLnZhbGlkYXRlQ29udGV4dCA9IGZ1bmN0aW9uIChnbCkge1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IGdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCk7XG4gICAgICAgIHZhciBpc1dlYkdsMiA9ICdXZWJHTDJSZW5kZXJpbmdDb250ZXh0JyBpbiB3aW5kb3cgJiYgZ2wgaW5zdGFuY2VvZiB3aW5kb3cuV2ViR0wyUmVuZGVyaW5nQ29udGV4dDtcbiAgICAgICAgaWYgKGlzV2ViR2wyKSB7XG4gICAgICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcyBpcyBnb2luZyB0byBiZSBmYWlybHkgc2ltcGxlIGZvciBub3cuLiBidXQgYXQgbGVhc3Qgd2UgaGF2ZSByb29tIHRvIGdyb3chXG4gICAgICAgIGlmICghYXR0cmlidXRlcy5zdGVuY2lsKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Byb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3QgaGF2ZSBhIHN0ZW5jaWwgYnVmZmVyLCBtYXNrcyBtYXkgbm90IHJlbmRlciBjb3JyZWN0bHknKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiwgbm8tY29uc29sZSAqL1xuICAgICAgICB9XG4gICAgICAgIHZhciBoYXN1aW50MzIgPSBpc1dlYkdsMiB8fCAhIWdsLmdldEV4dGVuc2lvbignT0VTX2VsZW1lbnRfaW5kZXhfdWludCcpO1xuICAgICAgICB0aGlzLnN1cHBvcnRzLnVpbnQzMkluZGljZXMgPSBoYXN1aW50MzI7XG4gICAgICAgIGlmICghaGFzdWludDMyKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Byb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3Qgc3VwcG9ydCAzMiBpbmRleCBidWZmZXIsIGNvbXBsZXggZ3JhcGhpY3MgbWF5IG5vdCByZW5kZXIgY29ycmVjdGx5Jyk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4sIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENvbnRleHRTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIEludGVybmFsIGZyYW1lYnVmZmVyIGZvciBXZWJHTCBjb250ZXh0XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHTEZyYW1lYnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdMRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBmcmFtZWJ1ZmZlclxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTEZyYW1lYnVmZmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlciA9IGZyYW1lYnVmZmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogc3RlbmNpbCtkZXB0aCAsIHVzdWFsbHkgY29zdHMgMzJiaXRzIHBlciBwaXhlbFxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmJ1ZmZlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RlbmNpbCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBsYXRlc3Qga25vd24gdmVyc2lvbiBvZiBmcmFtZWJ1ZmZlclxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlJZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBsYXRlc3Qga25vd24gdmVyc2lvbiBvZiBmcmFtZWJ1ZmZlciBmb3JtYXRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGxhdGVzdCBrbm93biB2ZXJzaW9uIG9mIGZyYW1lYnVmZmVyIHNpemVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5U2l6ZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlY3RlZCBBQSBzYW1wbGVzIG51bWJlclxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1TQUFfUVVBTElUWX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluIGNhc2UgTVNBQSwgd2UgdXNlIHRoaXMgUmVuZGVyYnVmZmVyIGluc3RlYWQgb2YgY29sb3JUZXh0dXJlc1swXSB3aGVuIHdlIHdyaXRlIGluZm9cbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJidWZmZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1zYWFCdWZmZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW4gY2FzZSB3ZSB1c2UgTVNBQSwgdGhpcyBpcyBhY3R1YWwgZnJhbWVidWZmZXIgdGhhdCBoYXMgY29sb3JUZXh0dXJlc1swXVxuICAgICAgICAgKiBUaGUgY29udGVudHMgb2YgdGhhdCBmcmFtZWJ1ZmZlciBhcmUgcmVhZCB3aGVuIHdlIHVzZSB0aGF0IHJlbmRlclRleHR1cmUgaW4gc3ByaXRlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZyYW1lYnVmZmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ibGl0RnJhbWVidWZmZXIgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gR0xGcmFtZWJ1ZmZlcjtcbn0oKSk7XG5cbnZhciB0ZW1wUmVjdGFuZ2xlID0gbmV3IFJlY3RhbmdsZSgpO1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgZnJhbWVidWZmZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIEZyYW1lYnVmZmVyU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGcmFtZWJ1ZmZlclN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGcmFtZWJ1ZmZlclN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiBtYW5hZ2VkIGZyYW1lYnVmZmVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZyYW1lYnVmZmVyW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFuYWdlZEZyYW1lYnVmZmVycyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogRnJhbWVidWZmZXIgdmFsdWUgdGhhdCBzaG93cyB0aGF0IHdlIGRvbid0IGtub3cgd2hhdCBpcyBib3VuZFxuICAgICAgICAgKiBAbWVtYmVyIHtGcmFtZWJ1ZmZlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bmtub3duRnJhbWVidWZmZXIgPSBuZXcgRnJhbWVidWZmZXIoMTAsIDEwKTtcbiAgICAgICAgX3RoaXMubXNhYVNhbXBsZXMgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMudW5rbm93bkZyYW1lYnVmZmVyO1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICB0aGlzLmhhc01SVCA9IHRydWU7XG4gICAgICAgIHRoaXMud3JpdGVEZXB0aFRleHR1cmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmRpc3Bvc2VBbGwodHJ1ZSk7XG4gICAgICAgIC8vIHdlYmdsMlxuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMSkge1xuICAgICAgICAgICAgLy8gd2ViZ2wgMSFcbiAgICAgICAgICAgIHZhciBuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbl8xID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuZHJhd0J1ZmZlcnM7XG4gICAgICAgICAgICB2YXIgbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuZGVwdGhUZXh0dXJlO1xuICAgICAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPT09IEVOVi5XRUJHTF9MRUdBQ1kpIHtcbiAgICAgICAgICAgICAgICBuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbl8xID0gbnVsbDtcbiAgICAgICAgICAgICAgICBuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uXzEpIHtcbiAgICAgICAgICAgICAgICBnbC5kcmF3QnVmZmVycyA9IGZ1bmN0aW9uIChhY3RpdmVUZXh0dXJlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb25fMS5kcmF3QnVmZmVyc1dFQkdMKGFjdGl2ZVRleHR1cmVzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNNUlQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBnbC5kcmF3QnVmZmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlRGVwdGhUZXh0dXJlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBXZWJHTDJcbiAgICAgICAgICAgIC8vIGNhY2hlIHBvc3NpYmxlIE1TQUEgc2FtcGxlc1xuICAgICAgICAgICAgdGhpcy5tc2FhU2FtcGxlcyA9IGdsLmdldEludGVybmFsZm9ybWF0UGFyYW1ldGVyKGdsLlJFTkRFUkJVRkZFUiwgZ2wuUkdCQTgsIGdsLlNBTVBMRVMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCaW5kIGEgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIGZyYW1lLCBkZWZhdWx0IGlzIGZyYW1lYnVmZmVyIHNpemVcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChmcmFtZWJ1ZmZlciwgZnJhbWUpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKGZyYW1lYnVmZmVyKSB7XG4gICAgICAgICAgICAvLyBUT0RPIGNhY2hpbmcgbGF5ZXIhXG4gICAgICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF0gfHwgdGhpcy5pbml0RnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBmcmFtZWJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgYWxsIHRleHR1cmVzIGFyZSB1bmJvdW5kLi5cbiAgICAgICAgICAgIC8vIG5vdyBjaGVjayBmb3IgdXBkYXRlcy4uLlxuICAgICAgICAgICAgaWYgKGZiby5kaXJ0eUlkICE9PSBmcmFtZWJ1ZmZlci5kaXJ0eUlkKSB7XG4gICAgICAgICAgICAgICAgZmJvLmRpcnR5SWQgPSBmcmFtZWJ1ZmZlci5kaXJ0eUlkO1xuICAgICAgICAgICAgICAgIGlmIChmYm8uZGlydHlGb3JtYXQgIT09IGZyYW1lYnVmZmVyLmRpcnR5Rm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZiby5kaXJ0eUZvcm1hdCA9IGZyYW1lYnVmZmVyLmRpcnR5Rm9ybWF0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZmJvLmRpcnR5U2l6ZSAhPT0gZnJhbWVidWZmZXIuZGlydHlTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGZiby5kaXJ0eVNpemUgPSBmcmFtZWJ1ZmZlci5kaXJ0eVNpemU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXplRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciB0ZXggPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzW2ldO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS51bmJpbmQodGV4LnBhcmVudFRleHR1cmVBcnJheSB8fCB0ZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS51bmJpbmQoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoZnJhbWUueCwgZnJhbWUueSwgZnJhbWUud2lkdGgsIGZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KDAsIDAsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoZnJhbWUueCwgZnJhbWUueSwgZnJhbWUud2lkdGgsIGZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KDAsIDAsIHRoaXMucmVuZGVyZXIud2lkdGgsIHRoaXMucmVuZGVyZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHQncyB2aWV3cG9ydC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IC0gWCBwb3NpdGlvbiBvZiB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IC0gWSBwb3NpdGlvbiBvZiB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCAtIFdpZHRoIG9mIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB2aWV3cG9ydFxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5zZXRWaWV3cG9ydCA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciB2ID0gdGhpcy52aWV3cG9ydDtcbiAgICAgICAgaWYgKHYud2lkdGggIT09IHdpZHRoIHx8IHYuaGVpZ2h0ICE9PSBoZWlnaHQgfHwgdi54ICE9PSB4IHx8IHYueSAhPT0geSkge1xuICAgICAgICAgICAgdi54ID0geDtcbiAgICAgICAgICAgIHYueSA9IHk7XG4gICAgICAgICAgICB2LndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICB2LmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuZ2wudmlld3BvcnQoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHNpemUgb2YgdGhlIGN1cnJlbnQgd2lkdGggYW5kIGhlaWdodC4gUmV0dXJucyBvYmplY3Qgd2l0aCBgd2lkdGhgIGFuZCBgaGVpZ2h0YCB2YWx1ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHN0b3JlIHRlbXBcbiAgICAgICAgICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB3aWR0aDogdGhpcy5jdXJyZW50LndpZHRoLCBoZWlnaHQ6IHRoaXMuY3VycmVudC5oZWlnaHQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHdpZHRoOiB0aGlzLnJlbmRlcmVyLndpZHRoLCBoZWlnaHQ6IHRoaXMucmVuZGVyZXIuaGVpZ2h0IH07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgY29sb3Igb2YgdGhlIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByIC0gUmVkIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGcgLSBHcmVlbiB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBiIC0gQmx1ZSB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhIC0gQWxwaGEgdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKiBAcGFyYW0ge1BJWEkuQlVGRkVSX0JJVFN9IFttYXNrPUJVRkZFUl9CSVRTLkNPTE9SIHwgQlVGRkVSX0JJVFMuREVQVEhdIC0gQml0d2lzZSBPUiBvZiBtYXNrc1xuICAgICAqICB0aGF0IGluZGljYXRlIHRoZSBidWZmZXJzIHRvIGJlIGNsZWFyZWQsIGJ5IGRlZmF1bHQgQ09MT1IgYW5kIERFUFRIIGJ1ZmZlcnMuXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKHIsIGcsIGIsIGEsIG1hc2spIHtcbiAgICAgICAgaWYgKG1hc2sgPT09IHZvaWQgMCkgeyBtYXNrID0gQlVGRkVSX0JJVFMuQ09MT1IgfCBCVUZGRVJfQklUUy5ERVBUSDsgfVxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICAvLyBUT0RPIGNsZWFyIGNvbG9yIGNhbiBiZSBzZXQgb25seSBvbmUgcmlnaHQ/XG4gICAgICAgIGdsLmNsZWFyQ29sb3IociwgZywgYiwgYSk7XG4gICAgICAgIGdsLmNsZWFyKG1hc2spO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcmFtZWJ1ZmZlciBmb3IgdGhpcyBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlclxuICAgICAqIEByZXR1cm5zIHtQSVhJLkdMRnJhbWVidWZmZXJ9IGNyZWF0ZWQgR0xGcmFtZWJ1ZmZlclxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5pbml0RnJhbWVidWZmZXIgPSBmdW5jdGlvbiAoZnJhbWVidWZmZXIpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIGZibyA9IG5ldyBHTEZyYW1lYnVmZmVyKGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCkpO1xuICAgICAgICBmYm8ubXVsdGlzYW1wbGUgPSB0aGlzLmRldGVjdFNhbXBsZXMoZnJhbWVidWZmZXIubXVsdGlzYW1wbGUpO1xuICAgICAgICBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXSA9IGZibztcbiAgICAgICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzLnB1c2goZnJhbWVidWZmZXIpO1xuICAgICAgICBmcmFtZWJ1ZmZlci5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIGZibztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2l6ZSB0aGUgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2l6ZUZyYW1lYnVmZmVyID0gZnVuY3Rpb24gKGZyYW1lYnVmZmVyKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgaWYgKGZiby5zdGVuY2lsKSB7XG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb2xvclRleHR1cmVzID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChjb2xvclRleHR1cmVzW2ldLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUsIDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlclxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS51cGRhdGVGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uIChmcmFtZWJ1ZmZlcikge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIC8vIGJpbmQgdGhlIGNvbG9yIHRleHR1cmVcbiAgICAgICAgdmFyIGNvbG9yVGV4dHVyZXMgPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzO1xuICAgICAgICB2YXIgY291bnQgPSBjb2xvclRleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgaWYgKCFnbC5kcmF3QnVmZmVycykge1xuICAgICAgICAgICAgY291bnQgPSBNYXRoLm1pbihjb3VudCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZiby5tdWx0aXNhbXBsZSA+IDEpIHtcbiAgICAgICAgICAgIGZiby5tc2FhQnVmZmVyID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZmJvLm1zYWFCdWZmZXIpO1xuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKGdsLlJFTkRFUkJVRkZFUiwgZmJvLm11bHRpc2FtcGxlLCBnbC5SR0JBOCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlJFTkRFUkJVRkZFUiwgZmJvLm1zYWFCdWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhY3RpdmVUZXh0dXJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID09PSAwICYmIGZiby5tdWx0aXNhbXBsZSA+IDEpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgIHZhciBwYXJlbnRUZXh0dXJlID0gdGV4dHVyZS5wYXJlbnRUZXh0dXJlQXJyYXkgfHwgdGV4dHVyZTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKHBhcmVudFRleHR1cmUsIDApO1xuICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgaSwgdGV4dHVyZS50YXJnZXQsIHBhcmVudFRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSwgMCk7XG4gICAgICAgICAgICBhY3RpdmVUZXh0dXJlcy5wdXNoKGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgaSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2ZVRleHR1cmVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGdsLmRyYXdCdWZmZXJzKGFjdGl2ZVRleHR1cmVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgd3JpdGVEZXB0aFRleHR1cmUgPSB0aGlzLndyaXRlRGVwdGhUZXh0dXJlO1xuICAgICAgICAgICAgaWYgKHdyaXRlRGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlcHRoVGV4dHVyZSA9IGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChkZXB0aFRleHR1cmUsIDApO1xuICAgICAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9BVFRBQ0hNRU5ULCBnbC5URVhUVVJFXzJELCBkZXB0aFRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmYm8uc3RlbmNpbCAmJiAoZnJhbWVidWZmZXIuc3RlbmNpbCB8fCBmcmFtZWJ1ZmZlci5kZXB0aCkpIHtcbiAgICAgICAgICAgIGZiby5zdGVuY2lsID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICAgICAgLy8gVE9ETy4uIHRoaXMgaXMgZGVwdGggQU5EIHN0ZW5jaWw/XG4gICAgICAgICAgICBpZiAoIWZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSkgeyAvLyB5b3UgY2FuJ3QgaGF2ZSBib3RoLCBzbyBvbmUgc2hvdWxkIHRha2UgcHJpb3JpdHkgaWYgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlY3RzIG51bWJlciBvZiBzYW1wbGVzIHRoYXQgaXMgbm90IG1vcmUgdGhhbiBhIHBhcmFtIGJ1dCBhcyBjbG9zZSB0byBpdCBhcyBwb3NzaWJsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1TQUFfUVVBTElUWX0gc2FtcGxlcyAtIG51bWJlciBvZiBzYW1wbGVzXG4gICAgICogQHJldHVybnMge1BJWEkuTVNBQV9RVUFMSVRZfSAtIHJlY29tbWVuZGVkIG51bWJlciBvZiBzYW1wbGVzXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmRldGVjdFNhbXBsZXMgPSBmdW5jdGlvbiAoc2FtcGxlcykge1xuICAgICAgICB2YXIgbXNhYVNhbXBsZXMgPSB0aGlzLm1zYWFTYW1wbGVzO1xuICAgICAgICB2YXIgcmVzID0gTVNBQV9RVUFMSVRZLk5PTkU7XG4gICAgICAgIGlmIChzYW1wbGVzIDw9IDEgfHwgbXNhYVNhbXBsZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2FhU2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG1zYWFTYW1wbGVzW2ldIDw9IHNhbXBsZXMpIHtcbiAgICAgICAgICAgICAgICByZXMgPSBtc2FhU2FtcGxlc1tpXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzID09PSAxKSB7XG4gICAgICAgICAgICByZXMgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT25seSB3b3JrcyB3aXRoIFdlYkdMMlxuICAgICAqXG4gICAgICogYmxpdHMgZnJhbWVidWZmZXIgdG8gYW5vdGhlciBvZiB0aGUgc2FtZSBvciBiaWdnZXIgc2l6ZVxuICAgICAqIGFmdGVyIHRoYXQgdGFyZ2V0IGZyYW1lYnVmZmVyIGlzIGJvdW5kXG4gICAgICpcbiAgICAgKiBGYWlscyB3aXRoIFdlYkdMIHdhcm5pbmcgaWYgYmxpdHMgbXVsdGlzYW1wbGUgZnJhbWVidWZmZXIgdG8gZGlmZmVyZW50IHNpemVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gW2ZyYW1lYnVmZmVyXSAtIGJ5IGRlZmF1bHQgaXQgYmxpdHMgXCJpbnRvIGl0c2VsZlwiLCBmcm9tIHJlbmRlckJ1ZmZlciB0byB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtzb3VyY2VQaXhlbHNdIC0gc291cmNlIHJlY3RhbmdsZSBpbiBwaXhlbHNcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZGVzdFBpeGVsc10gLSBkZXN0IHJlY3RhbmdsZSBpbiBwaXhlbHMsIGFzc3VtZWQgdG8gYmUgdGhlIHNhbWUgYXMgc291cmNlUGl4ZWxzXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmJsaXQgPSBmdW5jdGlvbiAoZnJhbWVidWZmZXIsIHNvdXJjZVBpeGVscywgZGVzdFBpeGVscykge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBjdXJyZW50ID0gX2EuY3VycmVudCwgcmVuZGVyZXIgPSBfYS5yZW5kZXJlciwgZ2wgPSBfYS5nbCwgQ09OVEVYVF9VSUQgPSBfYS5DT05URVhUX1VJRDtcbiAgICAgICAgaWYgKHJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uICE9PSAyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZibyA9IGN1cnJlbnQuZ2xGcmFtZWJ1ZmZlcnNbQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoIWZibykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgIGlmIChmYm8ubXVsdGlzYW1wbGUgPD0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZmJvLmJsaXRGcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIGZiby5ibGl0RnJhbWVidWZmZXIgPSBuZXcgRnJhbWVidWZmZXIoY3VycmVudC53aWR0aCwgY3VycmVudC5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGZiby5ibGl0RnJhbWVidWZmZXIuYWRkQ29sb3JUZXh0dXJlKDAsIGN1cnJlbnQuY29sb3JUZXh0dXJlc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZWJ1ZmZlciA9IGZiby5ibGl0RnJhbWVidWZmZXI7XG4gICAgICAgICAgICBmcmFtZWJ1ZmZlci53aWR0aCA9IGN1cnJlbnQud2lkdGg7XG4gICAgICAgICAgICBmcmFtZWJ1ZmZlci5oZWlnaHQgPSBjdXJyZW50LmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNvdXJjZVBpeGVscykge1xuICAgICAgICAgICAgc291cmNlUGl4ZWxzID0gdGVtcFJlY3RhbmdsZTtcbiAgICAgICAgICAgIHNvdXJjZVBpeGVscy53aWR0aCA9IGN1cnJlbnQud2lkdGg7XG4gICAgICAgICAgICBzb3VyY2VQaXhlbHMuaGVpZ2h0ID0gY3VycmVudC5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZXN0UGl4ZWxzKSB7XG4gICAgICAgICAgICBkZXN0UGl4ZWxzID0gc291cmNlUGl4ZWxzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzYW1lU2l6ZSA9IHNvdXJjZVBpeGVscy53aWR0aCA9PT0gZGVzdFBpeGVscy53aWR0aCAmJiBzb3VyY2VQaXhlbHMuaGVpZ2h0ID09PSBkZXN0UGl4ZWxzLmhlaWdodDtcbiAgICAgICAgdGhpcy5iaW5kKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLlJFQURfRlJBTUVCVUZGRVIsIGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgICAgIGdsLmJsaXRGcmFtZWJ1ZmZlcihzb3VyY2VQaXhlbHMueCwgc291cmNlUGl4ZWxzLnksIHNvdXJjZVBpeGVscy53aWR0aCwgc291cmNlUGl4ZWxzLmhlaWdodCwgZGVzdFBpeGVscy54LCBkZXN0UGl4ZWxzLnksIGRlc3RQaXhlbHMud2lkdGgsIGRlc3RQaXhlbHMuaGVpZ2h0LCBnbC5DT0xPUl9CVUZGRVJfQklULCBzYW1lU2l6ZSA/IGdsLk5FQVJFU1QgOiBnbC5MSU5FQVIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgZnJhbWVidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyIC0gZnJhbWVidWZmZXIgdGhhdCBoYXMgdG8gYmUgZGlzcG9zZWQgb2ZcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gLSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBhbGwgZGVsZXRlIGZ1bmN0aW9uIGNhbGxzXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uIChmcmFtZWJ1ZmZlciwgY29udGV4dExvc3QpIHtcbiAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBpZiAoIWZibykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzLmluZGV4T2YoZnJhbWVidWZmZXIpO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWVidWZmZXIuZGlzcG9zZVJ1bm5lci5yZW1vdmUodGhpcyk7XG4gICAgICAgIGlmICghY29udGV4dExvc3QpIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICBpZiAoZmJvLnN0ZW5jaWwpIHtcbiAgICAgICAgICAgICAgICBnbC5kZWxldGVSZW5kZXJidWZmZXIoZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBhbGwgZnJhbWVidWZmZXJzLCBidXQgbm90IHRleHR1cmVzIGJvdW5kIHRvIHRoZW1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gLSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBhbGwgZGVsZXRlIGZ1bmN0aW9uIGNhbGxzXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VBbGwgPSBmdW5jdGlvbiAoY29udGV4dExvc3QpIHtcbiAgICAgICAgdmFyIGxpc3QgPSB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnM7XG4gICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUZyYW1lYnVmZmVyKGxpc3RbaV0sIGNvbnRleHRMb3N0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRm9yY2luZyBjcmVhdGlvbiBvZiBzdGVuY2lsIGJ1ZmZlciBmb3IgY3VycmVudCBmcmFtZWJ1ZmZlciwgaWYgaXQgd2Fzbid0IGRvbmUgYmVmb3JlLlxuICAgICAqIFVzZWQgYnkgTWFza1N5c3RlbSwgd2hlbiBpdHMgdGltZSB0byB1c2Ugc3RlbmNpbCBtYXNrIGZvciBHcmFwaGljcyBlbGVtZW50LlxuICAgICAqXG4gICAgICogSXRzIGFuIGFsdGVybmF0aXZlIGZvciBwdWJsaWMgbGF6eSBgZnJhbWVidWZmZXIuZW5hYmxlU3RlbmNpbGAsIGluIGNhc2Ugd2UgbmVlZCBzdGVuY2lsIHdpdGhvdXQgcmViaW5kLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuZm9yY2VTdGVuY2lsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZnJhbWVidWZmZXIgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICghZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIGlmICghZmJvIHx8IGZiby5zdGVuY2lsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWVidWZmZXIuZW5hYmxlU3RlbmNpbCgpO1xuICAgICAgICB2YXIgdyA9IGZyYW1lYnVmZmVyLndpZHRoO1xuICAgICAgICB2YXIgaCA9IGZyYW1lYnVmZmVyLmhlaWdodDtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIHN0ZW5jaWwgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcbiAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIHN0ZW5jaWwpO1xuICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgdywgaCk7XG4gICAgICAgIGZiby5zdGVuY2lsID0gc3RlbmNpbDtcbiAgICAgICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCBzdGVuY2lsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJlc2V0cyBmcmFtZWJ1ZmZlciBzdG9yZWQgc3RhdGUsIGJpbmRzIHNjcmVlbiBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogc2hvdWxkIGJlIGNhbGxlZCBiZWZvcmUgcmVuZGVyVGV4dHVyZSByZXNldCgpXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnVua25vd25GcmFtZWJ1ZmZlcjtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICB9O1xuICAgIHJldHVybiBGcmFtZWJ1ZmZlclN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbnZhciBHTEJ1ZmZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHTEJ1ZmZlcihidWZmZXIpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBidWZmZXIgfHwgbnVsbDtcbiAgICAgICAgdGhpcy51cGRhdGVJRCA9IC0xO1xuICAgICAgICB0aGlzLmJ5dGVMZW5ndGggPSAtMTtcbiAgICAgICAgdGhpcy5yZWZDb3VudCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBHTEJ1ZmZlcjtcbn0oKSk7XG5cbnZhciBieXRlU2l6ZU1hcCQxID0geyA1MTI2OiA0LCA1MTIzOiAyLCA1MTIxOiAxIH07XG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBnZW9tZXRyeS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBHZW9tZXRyeVN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoR2VvbWV0cnlTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gR2VvbWV0cnlTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9hY3RpdmVHZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIF90aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHdlIGhhcyBgKl92ZXJ0ZXhfYXJyYXlfb2JqZWN0YCBleHRlbnNpb25cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oYXNWYW8gPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIGhhcyBgQU5HTEVfaW5zdGFuY2VkX2FycmF5c2AgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGFzSW5zdGFuY2UgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHN1cHBvcnQgYGdsLlVOU0lHTkVEX0lOVGAgaW4gYGdsLmRyYXdFbGVtZW50c2Agb3IgYGdsLmRyYXdFbGVtZW50c0luc3RhbmNlZGBcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYW5Vc2VVSW50MzJFbGVtZW50SW5kZXggPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlIGZvciBhbGwgZ2VvbWV0cmllcyBieSBpZCwgdXNlZCBpbiBjYXNlIHJlbmRlcmVyIGdldHMgZGVzdHJveWVkIG9yIGZvciBwcm9maWxpbmdcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hbmFnZWRHZW9tZXRyaWVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSBmb3IgYWxsIGJ1ZmZlcnMgYnkgaWQsIHVzZWQgaW4gY2FzZSByZW5kZXJlciBnZXRzIGRlc3Ryb3llZCBvciBmb3IgcHJvZmlsaW5nXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYW5hZ2VkQnVmZmVycyA9IHt9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VBbGwodHJ1ZSk7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMucmVuZGVyZXIuY29udGV4dDtcbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIC8vIHdlYmdsMlxuICAgICAgICBpZiAoY29udGV4dC53ZWJHTFZlcnNpb24gIT09IDIpIHtcbiAgICAgICAgICAgIC8vIHdlYmdsIDEhXG4gICAgICAgICAgICB2YXIgbmF0aXZlVmFvRXh0ZW5zaW9uXzEgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy52ZXJ0ZXhBcnJheU9iamVjdDtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlVmFvRXh0ZW5zaW9uXzEgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5hdGl2ZVZhb0V4dGVuc2lvbl8xKSB7XG4gICAgICAgICAgICAgICAgZ2wuY3JlYXRlVmVydGV4QXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuYXRpdmVWYW9FeHRlbnNpb25fMS5jcmVhdGVWZXJ0ZXhBcnJheU9FUygpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5ID0gZnVuY3Rpb24gKHZhbykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlVmFvRXh0ZW5zaW9uXzEuYmluZFZlcnRleEFycmF5T0VTKHZhbyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICh2YW8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZVZhb0V4dGVuc2lvbl8xLmRlbGV0ZVZlcnRleEFycmF5T0VTKHZhbyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzVmFvID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZ2wuY3JlYXRlVmVydGV4QXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0LndlYkdMVmVyc2lvbiAhPT0gMikge1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlRXh0XzEgPSBnbC5nZXRFeHRlbnNpb24oJ0FOR0xFX2luc3RhbmNlZF9hcnJheXMnKTtcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZUV4dF8xKSB7XG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliRGl2aXNvciA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZUV4dF8xLnZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRShhLCBiKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50c0luc3RhbmNlZCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZUV4dF8xLmRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFKGEsIGIsIGMsIGQsIGUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZ2wuZHJhd0FycmF5c0luc3RhbmNlZCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZUV4dF8xLmRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRShhLCBiLCBjLCBkKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNJbnN0YW5jZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4ID0gY29udGV4dC53ZWJHTFZlcnNpb24gPT09IDIgfHwgISFjb250ZXh0LmV4dGVuc2lvbnMudWludDMyRWxlbWVudEluZGV4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZHMgZ2VvbWV0cnkgc28gdGhhdCBpcyBjYW4gYmUgZHJhd24uIENyZWF0aW5nIGEgVmFvIGlmIHJlcXVpcmVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gaW5zdGFuY2Ugb2YgZ2VvbWV0cnkgdG8gYmluZFxuICAgICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IFtzaGFkZXJdIC0gaW5zdGFuY2Ugb2Ygc2hhZGVyIHRvIHVzZSB2YW8gZm9yXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoZ2VvbWV0cnksIHNoYWRlcikge1xuICAgICAgICBzaGFkZXIgPSBzaGFkZXIgfHwgdGhpcy5yZW5kZXJlci5zaGFkZXIuc2hhZGVyO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICAvLyBub3Qgc3VyZSB0aGUgYmVzdCB3YXkgdG8gYWRkcmVzcyB0aGlzLi5cbiAgICAgICAgLy8gY3VycmVudGx5IGRpZmZlcmVudCBzaGFkZXJzIHJlcXVpcmUgZGlmZmVyZW50IFZBT3MgZm9yIHRoZSBzYW1lIGdlb21ldHJ5XG4gICAgICAgIC8vIFN0aWxsIG11bGxpbmcgb3ZlciB0aGUgYmVzdCB3YXkgdG8gc29sdmUgdGhpcyBvbmUuLlxuICAgICAgICAvLyB3aWxsIGxpa2VseSBuZWVkIHRvIG1vZGlmeSB0aGUgc2hhZGVyIGF0dHJpYnV0ZSBsb2NhdGlvbnMgYXQgcnVuIHRpbWUhXG4gICAgICAgIHZhciB2YW9zID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBpbmNSZWZDb3VudCA9IGZhbHNlO1xuICAgICAgICBpZiAoIXZhb3MpIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdID0gZ2VvbWV0cnk7XG4gICAgICAgICAgICBnZW9tZXRyeS5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdID0gdmFvcyA9IHt9O1xuICAgICAgICAgICAgaW5jUmVmQ291bnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YW8gPSB2YW9zW3NoYWRlci5wcm9ncmFtLmlkXSB8fCB0aGlzLmluaXRHZW9tZXRyeVZhbyhnZW9tZXRyeSwgc2hhZGVyLnByb2dyYW0sIGluY1JlZkNvdW50KTtcbiAgICAgICAgdGhpcy5fYWN0aXZlR2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyAhPT0gdmFvKSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNWYW8pIHtcbiAgICAgICAgICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkodmFvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVWYW8oZ2VvbWV0cnksIHNoYWRlci5wcm9ncmFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIC0gb3B0aW1pc2UgbGF0ZXIhXG4gICAgICAgIC8vIGRvbid0IG5lZWQgdG8gbG9vcCB0aHJvdWdoIGlmIG5vdGhpbmcgY2hhbmdlZCFcbiAgICAgICAgLy8gbWF5YmUgbG9vayB0byBhZGQgYW4gJ2F1dG91cGRhdGUnIHRvIGdlb21ldHJ5P1xuICAgICAgICB0aGlzLnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0IGFuZCB1bmJpbmQgYW55IGFjdGl2ZSBWQU8gYW5kIGdlb21ldHJ5XG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGJ1ZmZlcnNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZUJ1ZmZlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuX2FjdGl2ZUdlb21ldHJ5O1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBnZW9tZXRyeS5idWZmZXJzW2ldO1xuICAgICAgICAgICAgdmFyIGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgICAgICBpZiAoYnVmZmVyLl91cGRhdGVJRCAhPT0gZ2xCdWZmZXIudXBkYXRlSUQpIHtcbiAgICAgICAgICAgICAgICBnbEJ1ZmZlci51cGRhdGVJRCA9IGJ1ZmZlci5fdXBkYXRlSUQ7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBjYW4gY2FjaGUgdGhpcyBvbiBidWZmZXIhIG1heWJlIGFkZGVkIGEgZ2V0dGVyIC8gc2V0dGVyP1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gYnVmZmVyLmluZGV4ID8gZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIgOiBnbC5BUlJBWV9CVUZGRVI7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyB0aGlzIGNvdWxkIGNoYW5nZSBpZiB0aGUgVkFPIGNoYW5nZXMuLi5cbiAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIGNvbWUgdXAgd2l0aCBhIGJldHRlciB3YXkgdG8gY2FjaGUuLlxuICAgICAgICAgICAgICAgIC8vIGlmICh0aGlzLmJvdW5kQnVmZmVyc1t0eXBlXSAhPT0gZ2xCdWZmZXIpXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuYm91bmRCdWZmZXJzW3R5cGVdID0gZ2xCdWZmZXI7XG4gICAgICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcih0eXBlLCBnbEJ1ZmZlci5idWZmZXIpO1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZEJ1ZmZlciA9IGdsQnVmZmVyO1xuICAgICAgICAgICAgICAgIGlmIChnbEJ1ZmZlci5ieXRlTGVuZ3RoID49IGJ1ZmZlci5kYXRhLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb2Zmc2V0IGlzIGFsd2F5cyB6ZXJvIGZvciBub3chXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlclN1YkRhdGEodHlwZSwgMCwgYnVmZmVyLmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRyYXdUeXBlID0gYnVmZmVyLnN0YXRpYyA/IGdsLlNUQVRJQ19EUkFXIDogZ2wuRFlOQU1JQ19EUkFXO1xuICAgICAgICAgICAgICAgICAgICBnbEJ1ZmZlci5ieXRlTGVuZ3RoID0gYnVmZmVyLmRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YSh0eXBlLCBidWZmZXIuZGF0YSwgZHJhd1R5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgY29tcGFiaWxpdHkgYmV0d2VlbiBhIGdlb21ldHJ5IGFuZCBhIHByb2dyYW1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIEdlb21ldHJ5IGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSBQcm9ncmFtIGluc3RhbmNlXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmNoZWNrQ29tcGF0aWJpbGl0eSA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgcHJvZ3JhbSkge1xuICAgICAgICAvLyBnZW9tZXRyeSBtdXN0IGhhdmUgYXQgbGVhc3QgYWxsIHRoZSBhdHRyaWJ1dGVzIHRoYXQgdGhlIHNoYWRlciByZXF1aXJlcy5cbiAgICAgICAgdmFyIGdlb21ldHJ5QXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIHZhciBzaGFkZXJBdHRyaWJ1dGVzID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhO1xuICAgICAgICBmb3IgKHZhciBqIGluIHNoYWRlckF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGlmICghZ2VvbWV0cnlBdHRyaWJ1dGVzW2pdKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwic2hhZGVyIGFuZCBnZW9tZXRyeSBpbmNvbXBhdGlibGUsIGdlb21ldHJ5IG1pc3NpbmcgdGhlIFxcXCJcIiArIGogKyBcIlxcXCIgYXR0cmlidXRlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIGdlb21ldHJ5IGFuZCBwcm9ncmFtIGFuZCBnZW5lcmF0ZXMgYSB1bmlxdWUgc2lnbmF0dXJlIGZvciB0aGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIHRvIGdldCBzaWduYXR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBwcm9ncmFtIC0gdG8gdGVzdCBnZW9tZXRyeSBhZ2FpbnN0XG4gICAgICogQHJldHVybnMge1N0cmluZ30gVW5pcXVlIHNpZ25hdHVyZSBvZiB0aGUgZ2VvbWV0cnkgYW5kIHByb2dyYW1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmdldFNpZ25hdHVyZSA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgcHJvZ3JhbSkge1xuICAgICAgICB2YXIgYXR0cmlicyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIHZhciBzaGFkZXJBdHRyaWJ1dGVzID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhO1xuICAgICAgICB2YXIgc3RyaW5ncyA9IFsnZycsIGdlb21ldHJ5LmlkXTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBhdHRyaWJzKSB7XG4gICAgICAgICAgICBpZiAoc2hhZGVyQXR0cmlidXRlc1tpXSkge1xuICAgICAgICAgICAgICAgIHN0cmluZ3MucHVzaChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyaW5ncy5qb2luKCctJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9yIGdldHMgVmFvIHdpdGggdGhlIHNhbWUgc3RydWN0dXJlIGFzIHRoZSBnZW9tZXRyeSBhbmQgc3RvcmVzIGl0IG9uIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBJZiB2YW8gaXMgY3JlYXRlZCwgaXQgaXMgYm91bmQgYXV0b21hdGljYWxseS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gSW5zdGFuY2Ugb2YgZ2VvbWV0cnkgdG8gdG8gZ2VuZXJhdGUgVmFvIGZvclxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBwcm9ncmFtIC0gSW5zdGFuY2Ugb2YgcHJvZ3JhbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luY1JlZkNvdW50PWZhbHNlXSAtIEluY3JlbWVudCByZWZDb3VudCBvZiBhbGwgZ2VvbWV0cnkgYnVmZmVyc1xuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5pbml0R2VvbWV0cnlWYW8gPSBmdW5jdGlvbiAoZ2VvbWV0cnksIHByb2dyYW0sIGluY1JlZkNvdW50KSB7XG4gICAgICAgIGlmIChpbmNSZWZDb3VudCA9PT0gdm9pZCAwKSB7IGluY1JlZkNvdW50ID0gdHJ1ZTsgfVxuICAgICAgICB0aGlzLmNoZWNrQ29tcGF0aWJpbGl0eShnZW9tZXRyeSwgcHJvZ3JhbSk7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBDT05URVhUX1VJRCA9IHRoaXMuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHZhciBzaWduYXR1cmUgPSB0aGlzLmdldFNpZ25hdHVyZShnZW9tZXRyeSwgcHJvZ3JhbSk7XG4gICAgICAgIHZhciB2YW9PYmplY3RIYXNoID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciB2YW8gPSB2YW9PYmplY3RIYXNoW3NpZ25hdHVyZV07XG4gICAgICAgIGlmICh2YW8pIHtcbiAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBnaXZlIHVzIGVhc3kgYWNjZXNzIHRvIHRoZSB2YW9cbiAgICAgICAgICAgIHZhb09iamVjdEhhc2hbcHJvZ3JhbS5pZF0gPSB2YW87XG4gICAgICAgICAgICByZXR1cm4gdmFvO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICB2YXIgdGVtcFN0cmlkZSA9IHt9O1xuICAgICAgICB2YXIgdGVtcFN0YXJ0ID0ge307XG4gICAgICAgIGZvciAodmFyIGogaW4gYnVmZmVycykge1xuICAgICAgICAgICAgdGVtcFN0cmlkZVtqXSA9IDA7XG4gICAgICAgICAgICB0ZW1wU3RhcnRbal0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGVzW2pdLnNpemUgJiYgcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlc1tqXS5zaXplID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdLnNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghYXR0cmlidXRlc1tqXS5zaXplKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUElYSSBHZW9tZXRyeSBhdHRyaWJ1dGUgJ1wiICsgaiArIFwiJyBzaXplIGNhbm5vdCBiZSBkZXRlcm1pbmVkIChsaWtlbHkgdGhlIGJvdW5kIHNoYWRlciBkb2VzIG5vdCBoYXZlIHRoZSBhdHRyaWJ1dGUpXCIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZW1wU3RyaWRlW2F0dHJpYnV0ZXNbal0uYnVmZmVyXSArPSBhdHRyaWJ1dGVzW2pdLnNpemUgKiBieXRlU2l6ZU1hcCQxW2F0dHJpYnV0ZXNbal0udHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaiBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIHZhciBhdHRyaWJTaXplID0gYXR0cmlidXRlLnNpemU7XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlLnN0cmlkZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRlbXBTdHJpZGVbYXR0cmlidXRlLmJ1ZmZlcl0gPT09IGF0dHJpYlNpemUgKiBieXRlU2l6ZU1hcCQxW2F0dHJpYnV0ZS50eXBlXSkge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RyaWRlID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUgPSB0ZW1wU3RyaWRlW2F0dHJpYnV0ZS5idWZmZXJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdGFydCA9IHRlbXBTdGFydFthdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgICAgICB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl0gKz0gYXR0cmliU2l6ZSAqIGJ5dGVTaXplTWFwJDFbYXR0cmlidXRlLnR5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhbyA9IGdsLmNyZWF0ZVZlcnRleEFycmF5KCk7XG4gICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgICAvLyBmaXJzdCB1cGRhdGUgLSBhbmQgY3JlYXRlIHRoZSBidWZmZXJzIVxuICAgICAgICAvLyBvbmx5IGNyZWF0ZSBhIGdsIGJ1ZmZlciBpZiBpdCBhY3R1YWxseSBnZXRzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbaV07XG4gICAgICAgICAgICBpZiAoIWJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXSA9IG5ldyBHTEJ1ZmZlcihnbC5jcmVhdGVCdWZmZXIoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdID0gYnVmZmVyO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmNSZWZDb3VudCkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXS5yZWZDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE8gLSBtYXliZSBtYWtlIHRoaXMgYSBkYXRhIG9iamVjdD9cbiAgICAgICAgLy8gbGV0cyB3YWl0IHRvIHNlZSBpZiB3ZSBuZWVkIHRvIGZpcnN0IVxuICAgICAgICB0aGlzLmFjdGl2YXRlVmFvKGdlb21ldHJ5LCBwcm9ncmFtKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlVmFvID0gdmFvO1xuICAgICAgICAvLyBhZGQgaXQgdG8gdGhlIGNhY2hlIVxuICAgICAgICB2YW9PYmplY3RIYXNoW3Byb2dyYW0uaWRdID0gdmFvO1xuICAgICAgICB2YW9PYmplY3RIYXNoW3NpZ25hdHVyZV0gPSB2YW87XG4gICAgICAgIHJldHVybiB2YW87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQnVmZmVyfSBidWZmZXIgLSBidWZmZXIgd2l0aCBkYXRhXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIC0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgZGVsZXRlVmVydGV4QXJyYXlcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUJ1ZmZlciA9IGZ1bmN0aW9uIChidWZmZXIsIGNvbnRleHRMb3N0KSB7XG4gICAgICAgIGlmICghdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMubWFuYWdlZEJ1ZmZlcnNbYnVmZmVyLmlkXTtcbiAgICAgICAgdmFyIGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGJ1ZmZlci5kaXNwb3NlUnVubmVyLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgaWYgKCFnbEJ1ZmZlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29udGV4dExvc3QpIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcihnbEJ1ZmZlci5idWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSBidWZmZXIuX2dsQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGdlb21ldHJ5XG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIEdlb21ldHJ5IHdpdGggYnVmZmVycy4gT25seSBWQU8gd2lsbCBiZSBkaXNwb3NlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSAtIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGRlbGV0ZVZlcnRleEFycmF5XG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VHZW9tZXRyeSA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgY29udGV4dExvc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2dlb21ldHJ5LmlkXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2dlb21ldHJ5LmlkXTtcbiAgICAgICAgdmFyIHZhb3MgPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuICAgICAgICBnZW9tZXRyeS5kaXNwb3NlUnVubmVyLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgaWYgKCF2YW9zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYnVmID0gYnVmZmVyc1tpXS5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgYnVmLnJlZkNvdW50LS07XG4gICAgICAgICAgICBpZiAoYnVmLnJlZkNvdW50ID09PSAwICYmICFjb250ZXh0TG9zdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZUJ1ZmZlcihidWZmZXJzW2ldLCBjb250ZXh0TG9zdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdCkge1xuICAgICAgICAgICAgZm9yICh2YXIgdmFvSWQgaW4gdmFvcykge1xuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSBvbmx5IHNpZ25hdHVyZXMsIGV2ZXJ5dGhpbmcgZWxzZSBhcmUgY29waWVzXG4gICAgICAgICAgICAgICAgaWYgKHZhb0lkWzBdID09PSAnZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbyA9IHZhb3NbdmFvSWRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fYWN0aXZlVmFvID09PSB2YW8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZ2wuZGVsZXRlVmVydGV4QXJyYXkodmFvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogZGlzcG9zZSBhbGwgV2ViR0wgcmVzb3VyY2VzIG9mIGFsbCBtYW5hZ2VkIGdlb21ldHJpZXMgYW5kIGJ1ZmZlcnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gLSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBgZ2wuZGVsZXRlYCBjYWxsc1xuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5kaXNwb3NlQWxsID0gZnVuY3Rpb24gKGNvbnRleHRMb3N0KSB7XG4gICAgICAgIHZhciBhbGwgPSBPYmplY3Qua2V5cyh0aGlzLm1hbmFnZWRHZW9tZXRyaWVzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUdlb21ldHJ5KHRoaXMubWFuYWdlZEdlb21ldHJpZXNbYWxsW2ldXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgICAgIGFsbCA9IE9iamVjdC5rZXlzKHRoaXMubWFuYWdlZEJ1ZmZlcnMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlQnVmZmVyKHRoaXMubWFuYWdlZEJ1ZmZlcnNbYWxsW2ldXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZSB2ZXJ0ZXggYXJyYXkgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIEdlb21ldHJ5IGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSBTaGFkZXIgcHJvZ3JhbSBpbnN0YW5jZVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5hY3RpdmF0ZVZhbyA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgcHJvZ3JhbSkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgQ09OVEVYVF9VSUQgPSB0aGlzLkNPTlRFWFRfVUlEO1xuICAgICAgICB2YXIgYnVmZmVycyA9IGdlb21ldHJ5LmJ1ZmZlcnM7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICAvLyBmaXJzdCB1cGRhdGUgdGhlIGluZGV4IGJ1ZmZlciBpZiB3ZSBoYXZlIG9uZS4uXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXS5idWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXN0QnVmZmVyID0gbnVsbDtcbiAgICAgICAgLy8gYWRkIGEgbmV3IG9uZSFcbiAgICAgICAgZm9yICh2YXIgaiBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBidWZmZXJzW2F0dHJpYnV0ZS5idWZmZXJdO1xuICAgICAgICAgICAgdmFyIGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgaWYgKHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXSkge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0QnVmZmVyICE9PSBnbEJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgZ2xCdWZmZXIuYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEJ1ZmZlciA9IGdsQnVmZmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb24gPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGFbal0ubG9jYXRpb247XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBpbnRyb2R1Y2Ugc3RhdGUgYWdhaW5cbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gb3B0aW1pc2UgdGhpcyBmb3Igb2xkZXIgZGV2aWNlcyB0aGF0IGhhdmUgbm8gVkFPc1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGxvY2F0aW9uLCBhdHRyaWJ1dGUuc2l6ZSwgYXR0cmlidXRlLnR5cGUgfHwgZ2wuRkxPQVQsIGF0dHJpYnV0ZS5ub3JtYWxpemVkLCBhdHRyaWJ1dGUuc3RyaWRlLCBhdHRyaWJ1dGUuc3RhcnQpO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBjYWxjdWxhdGUgaW5zdGFuY2UgY291bnQgYmFzZWQgb2YgdGhpcy4uLlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliRGl2aXNvcihsb2NhdGlvbiwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dlb21ldHJ5IGVycm9yLCBHUFUgSW5zdGFuY2luZyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgZGV2aWNlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXcgdGhlIGdlb21ldHJ5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdHlwZSAtIHRoZSB0eXBlIHByaW1pdGl2ZSB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemVdIC0gdGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBiZSByZW5kZXJlZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnRdIC0gU3RhcnRpbmcgaW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2luc3RhbmNlQ291bnRdIC0gdGhlIG51bWJlciBvZiBpbnN0YW5jZXMgb2YgdGhlIHNldCBvZiBlbGVtZW50cyB0byBleGVjdXRlXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAodHlwZSwgc2l6ZSwgc3RhcnQsIGluc3RhbmNlQ291bnQpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fYWN0aXZlR2VvbWV0cnk7XG4gICAgICAgIC8vIFRPRE8uLiB0aGlzIHNob3VsZCBub3QgY2hhbmdlIHNvIG1heWJlIGNhY2hlIHRoZSBmdW5jdGlvbj9cbiAgICAgICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICB2YXIgYnl0ZVNpemUgPSBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLkJZVEVTX1BFUl9FTEVNRU5UO1xuICAgICAgICAgICAgdmFyIGdsVHlwZSA9IGJ5dGVTaXplID09PSAyID8gZ2wuVU5TSUdORURfU0hPUlQgOiBnbC5VTlNJR05FRF9JTlQ7XG4gICAgICAgICAgICBpZiAoYnl0ZVNpemUgPT09IDIgfHwgKGJ5dGVTaXplID09PSA0ICYmIHRoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4KSkge1xuICAgICAgICAgICAgICAgIGlmIChnZW9tZXRyeS5pbnN0YW5jZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgICAgICBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQodHlwZSwgc2l6ZSB8fCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2xUeXBlLCAoc3RhcnQgfHwgMCkgKiBieXRlU2l6ZSwgaW5zdGFuY2VDb3VudCB8fCAxKTtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyh0eXBlLCBzaXplIHx8IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGEubGVuZ3RoLCBnbFR5cGUsIChzdGFydCB8fCAwKSAqIGJ5dGVTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCd1bnN1cHBvcnRlZCBpbmRleCBidWZmZXIgdHlwZTogdWludDMyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ2VvbWV0cnkuaW5zdGFuY2VkKSB7XG4gICAgICAgICAgICAvLyBUT0RPIG5lZWQgYSBiZXR0ZXIgd2F5IHRvIGNhbGN1bGF0ZSBzaXplLi5cbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXNJbnN0YW5jZWQodHlwZSwgc3RhcnQsIHNpemUgfHwgZ2VvbWV0cnkuZ2V0U2l6ZSgpLCBpbnN0YW5jZUNvdW50IHx8IDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyh0eXBlLCBzdGFydCwgc2l6ZSB8fCBnZW9tZXRyeS5nZXRTaXplKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5iaW5kL3Jlc2V0IGV2ZXJ5dGhpbmdcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5nbC5iaW5kVmVydGV4QXJyYXkobnVsbCk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBHZW9tZXRyeVN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogQ29tcG9uZW50IGZvciBtYXNrZWQgZWxlbWVudHNcbiAqXG4gKiBIb2xkcyBtYXNrIG1vZGUgYW5kIHRlbXBvcmFyeSBkYXRhIGFib3V0IGN1cnJlbnQgbWFza1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1hc2tEYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBNYXNrRGF0YVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IFttYXNrT2JqZWN0PW51bGxdIC0gb2JqZWN0IHRoYXQgZGVzY3JpYmVzIHRoZSBtYXNrXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFza0RhdGEobWFza09iamVjdCkge1xuICAgICAgICBpZiAobWFza09iamVjdCA9PT0gdm9pZCAwKSB7IG1hc2tPYmplY3QgPSBudWxsOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXNrIHR5cGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NQVNLX1RZUEVTfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gTUFTS19UWVBFUy5OT05FO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB3ZSBrbm93IHRoZSBtYXNrIHR5cGUgYmVmb3JlaGFuZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9EZXRlY3QgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hpY2ggZWxlbWVudCB3ZSB1c2UgdG8gbWFza1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hc2tPYmplY3QgPSBtYXNrT2JqZWN0IHx8IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGl0IGJlbG9uZ3MgdG8gTWFza1N5c3RlbSBwb29sXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvb2xlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdG9yIG9mIHRoZSB0eXBlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzTWFza0RhdGEgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3RlbmNpbCBjb3VudGVyIGFib3ZlIHRoZSBtYXNrIGluIHN0YWNrXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N0ZW5jaWxDb3VudGVyID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjaXNzb3IgY291bnRlciBhYm92ZSB0aGUgbWFzayBpbiBzdGFja1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zY2lzc29yQ291bnRlciA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2lzc29yIG9wZXJhdGlvbiBhYm92ZSB0aGUgbWFzayBpbiBzdGFjay5cbiAgICAgICAgICogTnVsbCBpZiBfc2Npc3NvckNvdW50ZXIgaXMgemVybywgcmVjdGFuZ2xlIGluc3RhbmNlIGlmIHBvc2l0aXZlLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3NjaXNzb3JSZWN0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRhcmdldGVkIGVsZW1lbnQuIFRlbXBvcmFyeSB2YXJpYWJsZSBzZXQgYnkgTWFza1N5c3RlbVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90YXJnZXQgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiByZXNldHMgdGhlIG1hc2sgZGF0YSBhZnRlciBwb3BNYXNrKClcbiAgICAgKi9cbiAgICBNYXNrRGF0YS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnBvb2xlZCkge1xuICAgICAgICAgICAgdGhpcy5tYXNrT2JqZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IE1BU0tfVFlQRVMuTk9ORTtcbiAgICAgICAgICAgIHRoaXMuYXV0b0RldGVjdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGNvcGllcyBjb3VudGVycyBmcm9tIG1hc2tEYXRhIGFib3ZlLCBjYWxsZWQgZnJvbSBwdXNoTWFzaygpXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhfG51bGx9IG1hc2tBYm92ZVxuICAgICAqL1xuICAgIE1hc2tEYXRhLnByb3RvdHlwZS5jb3B5Q291bnRlcnNPclJlc2V0ID0gZnVuY3Rpb24gKG1hc2tBYm92ZSkge1xuICAgICAgICBpZiAobWFza0Fib3ZlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGVuY2lsQ291bnRlciA9IG1hc2tBYm92ZS5fc3RlbmNpbENvdW50ZXI7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yQ291bnRlciA9IG1hc2tBYm92ZS5fc2Npc3NvckNvdW50ZXI7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yUmVjdCA9IG1hc2tBYm92ZS5fc2Npc3NvclJlY3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zdGVuY2lsQ291bnRlciA9IDA7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yQ291bnRlciA9IDA7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yUmVjdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBNYXNrRGF0YTtcbn0oKSk7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0gdHlwZSB7TnVtYmVyfSB0aGUgdHlwZSwgY2FuIGJlIGVpdGhlciBWRVJURVhfU0hBREVSIG9yIEZSQUdNRU5UX1NIQURFUlxuICogQHBhcmFtIHNyYyB7c3RyaW5nfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEByZXR1cm4ge1dlYkdMU2hhZGVyfSB0aGUgc2hhZGVyXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVTaGFkZXIoZ2wsIHR5cGUsIHNyYykge1xuICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc3JjKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG4gICAgcmV0dXJuIHNoYWRlcjtcbn1cbi8qKlxuICogQG1ldGhvZCBjb21waWxlUHJvZ3JhbVxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0gdmVydGV4U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIGZyYWdtZW50U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSBmcmFnbWVudCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0gYXR0cmlidXRlTG9jYXRpb25zIHtPYmplY3R9IEFuIGF0dHJpYnV0ZSBsb2NhdGlvbiBtYXAgdGhhdCBsZXRzIHlvdSBtYW51YWxseSBzZXQgdGhlIGF0dHJpYnV0ZSBsb2NhdGlvbnNcbiAqIEByZXR1cm4ge1dlYkdMUHJvZ3JhbX0gdGhlIHNoYWRlciBwcm9ncmFtXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBhdHRyaWJ1dGVMb2NhdGlvbnMpIHtcbiAgICB2YXIgZ2xWZXJ0U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdmVydGV4U3JjKTtcbiAgICB2YXIgZ2xGcmFnU2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNyYyk7XG4gICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGdsVmVydFNoYWRlcik7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGdsRnJhZ1NoYWRlcik7XG4gICAgLy8gb3B0aW9uYWxseSwgc2V0IHRoZSBhdHRyaWJ1dGVzIG1hbnVhbGx5IGZvciB0aGUgcHJvZ3JhbSByYXRoZXIgdGhhbiBsZXR0aW5nIFdlYkdMIGRlY2lkZS4uXG4gICAgaWYgKGF0dHJpYnV0ZUxvY2F0aW9ucykge1xuICAgICAgICBmb3IgKHZhciBpIGluIGF0dHJpYnV0ZUxvY2F0aW9ucykge1xuICAgICAgICAgICAgZ2wuYmluZEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIGF0dHJpYnV0ZUxvY2F0aW9uc1tpXSwgaSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG4gICAgLy8gaWYgbGlua2luZyBmYWlscywgdGhlbiBsb2cgYW5kIGNsZWFudXBcbiAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKSB7XG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGdsVmVydFNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4odmVydGV4U3JjKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZ2wuZ2V0U2hhZGVySW5mb0xvZyhnbFZlcnRTaGFkZXIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihnbEZyYWdTaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGZyYWdtZW50U3JjKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZ2wuZ2V0U2hhZGVySW5mb0xvZyhnbEZyYWdTaGFkZXIpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmVycm9yKCdQaXhpLmpzIEVycm9yOiBDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaGFkZXIuJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLlZBTElEQVRFX1NUQVRVUycsIGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuVkFMSURBVEVfU1RBVFVTKSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLmdldEVycm9yKCknLCBnbC5nZXRFcnJvcigpKTtcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBwcm9ncmFtIGluZm8gbG9nLCBsb2cgaXRcbiAgICAgICAgaWYgKGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pICE9PSAnJykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQaXhpLmpzIFdhcm5pbmc6IGdsLmdldFByb2dyYW1JbmZvTG9nKCknLCBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgcHJvZ3JhbSA9IG51bGw7XG4gICAgfVxuICAgIC8vIGNsZWFuIHVwIHNvbWUgc2hhZGVyc1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbFZlcnRTaGFkZXIpO1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbEZyYWdTaGFkZXIpO1xuICAgIHJldHVybiBwcm9ncmFtO1xufVxuXG5mdW5jdGlvbiBib29sZWFuQXJyYXkoc2l6ZSkge1xuICAgIHZhciBhcnJheSA9IG5ldyBBcnJheShzaXplKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycmF5W2ldID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cbi8qKlxuICogQG1ldGhvZCBkZWZhdWx0VmFsdWVcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSB0eXBlIHtTdHJpbmd9IFR5cGUgb2YgdmFsdWVcbiAqIEBwYXJhbSBzaXplIHtOdW1iZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBkZWZhdWx0VmFsdWUodHlwZSwgc2l6ZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdmbG9hdCc6XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgY2FzZSAndmVjMic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgyICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ3ZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMyAqIHNpemUpO1xuICAgICAgICBjYXNlICd2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDQgKiBzaXplKTtcbiAgICAgICAgY2FzZSAnaW50JzpcbiAgICAgICAgY2FzZSAnc2FtcGxlcjJEJzpcbiAgICAgICAgY2FzZSAnc2FtcGxlcjJEQXJyYXknOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGNhc2UgJ2l2ZWMyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgyICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2l2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgzICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2l2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSg0ICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2Jvb2wnOlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjYXNlICdidmVjMic6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDIgKiBzaXplKTtcbiAgICAgICAgY2FzZSAnYnZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSgzICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2J2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoNCAqIHNpemUpO1xuICAgICAgICBjYXNlICdtYXQyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLFxuICAgICAgICAgICAgICAgIDAsIDFdKTtcbiAgICAgICAgY2FzZSAnbWF0Myc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDFdKTtcbiAgICAgICAgY2FzZSAnbWF0NCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDEsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMCwgMV0pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxudmFyIHVua25vd25Db250ZXh0ID0ge307XG52YXIgY29udGV4dCA9IHVua25vd25Db250ZXh0O1xuLyoqXG4gKiByZXR1cm5zIGEgbGl0dGxlIFdlYkdMIGNvbnRleHQgdG8gdXNlIGZvciBwcm9ncmFtIGluc3BlY3Rpb24uXG4gKlxuICogQHN0YXRpY1xuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGEgZ2wgY29udGV4dCB0byB0ZXN0IHdpdGhcbiAqL1xuZnVuY3Rpb24gZ2V0VGVzdENvbnRleHQoKSB7XG4gICAgaWYgKGNvbnRleHQgPT09IHVua25vd25Db250ZXh0IHx8IChjb250ZXh0ICYmIGNvbnRleHQuaXNDb250ZXh0TG9zdCgpKSkge1xuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHZhciBnbCA9IHZvaWQgMDtcbiAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPj0gRU5WLldFQkdMMikge1xuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wyJywge30pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywge30pXG4gICAgICAgICAgICAgICAgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIHt9KTtcbiAgICAgICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgICAgICAvLyBmYWlsLCBub3QgYWJsZSB0byBnZXQgYSBjb250ZXh0XG4gICAgICAgICAgICAgICAgZ2wgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIHNoYWRlciB0ZXN0aW5nLi5cbiAgICAgICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RyYXdfYnVmZmVycycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQgPSBnbDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQ7XG59XG5cbnZhciBtYXhGcmFnbWVudFByZWNpc2lvbjtcbmZ1bmN0aW9uIGdldE1heEZyYWdtZW50UHJlY2lzaW9uKCkge1xuICAgIGlmICghbWF4RnJhZ21lbnRQcmVjaXNpb24pIHtcbiAgICAgICAgbWF4RnJhZ21lbnRQcmVjaXNpb24gPSBQUkVDSVNJT04uTUVESVVNO1xuICAgICAgICB2YXIgZ2wgPSBnZXRUZXN0Q29udGV4dCgpO1xuICAgICAgICBpZiAoZ2wpIHtcbiAgICAgICAgICAgIGlmIChnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2hhZGVyRnJhZ21lbnQgPSBnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoZ2wuRlJBR01FTlRfU0hBREVSLCBnbC5ISUdIX0ZMT0FUKTtcbiAgICAgICAgICAgICAgICBtYXhGcmFnbWVudFByZWNpc2lvbiA9IHNoYWRlckZyYWdtZW50LnByZWNpc2lvbiA/IFBSRUNJU0lPTi5ISUdIIDogUFJFQ0lTSU9OLk1FRElVTTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF4RnJhZ21lbnRQcmVjaXNpb247XG59XG5cbi8qKlxuICogU2V0cyB0aGUgZmxvYXQgcHJlY2lzaW9uIG9uIHRoZSBzaGFkZXIsIGVuc3VyaW5nIHRoZSBkZXZpY2Ugc3VwcG9ydHMgdGhlIHJlcXVlc3QgcHJlY2lzaW9uLlxuICogSWYgdGhlIHByZWNpc2lvbiBpcyBhbHJlYWR5IHByZXNlbnQsIGl0IGp1c3QgZW5zdXJlcyB0aGF0IHRoZSBkZXZpY2UgaXMgYWJsZSB0byBoYW5kbGUgaXQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgLSBUaGUgc2hhZGVyIHNvdXJjZVxuICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RlZFByZWNpc2lvbiAtIFRoZSByZXF1ZXN0IGZsb2F0IHByZWNpc2lvbiBvZiB0aGUgc2hhZGVyLiBPcHRpb25zIGFyZSAnbG93cCcsICdtZWRpdW1wJyBvciAnaGlnaHAnLlxuICogQHBhcmFtIHtzdHJpbmd9IG1heFN1cHBvcnRlZFByZWNpc2lvbiAtIFRoZSBtYXhpbXVtIHByZWNpc2lvbiB0aGUgc2hhZGVyIHN1cHBvcnRzLlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gbW9kaWZpZWQgc2hhZGVyIHNvdXJjZVxuICovXG5mdW5jdGlvbiBzZXRQcmVjaXNpb24oc3JjLCByZXF1ZXN0ZWRQcmVjaXNpb24sIG1heFN1cHBvcnRlZFByZWNpc2lvbikge1xuICAgIGlmIChzcmMuc3Vic3RyaW5nKDAsIDkpICE9PSAncHJlY2lzaW9uJykge1xuICAgICAgICAvLyBubyBwcmVjaXNpb24gc3VwcGxpZWQsIHNvIFBpeGlKUyB3aWxsIGFkZCB0aGUgcmVxdWVzdGVkIGxldmVsLlxuICAgICAgICB2YXIgcHJlY2lzaW9uID0gcmVxdWVzdGVkUHJlY2lzaW9uO1xuICAgICAgICAvLyBJZiBoaWdocCBpcyByZXF1ZXN0ZWQgYnV0IG5vdCBzdXBwb3J0ZWQsIGRvd25ncmFkZSBwcmVjaXNpb24gdG8gYSBsZXZlbCBhbGwgZGV2aWNlcyBzdXBwb3J0LlxuICAgICAgICBpZiAocmVxdWVzdGVkUHJlY2lzaW9uID09PSBQUkVDSVNJT04uSElHSCAmJiBtYXhTdXBwb3J0ZWRQcmVjaXNpb24gIT09IFBSRUNJU0lPTi5ISUdIKSB7XG4gICAgICAgICAgICBwcmVjaXNpb24gPSBQUkVDSVNJT04uTUVESVVNO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcInByZWNpc2lvbiBcIiArIHByZWNpc2lvbiArIFwiIGZsb2F0O1xcblwiICsgc3JjO1xuICAgIH1cbiAgICBlbHNlIGlmIChtYXhTdXBwb3J0ZWRQcmVjaXNpb24gIT09IFBSRUNJU0lPTi5ISUdIICYmIHNyYy5zdWJzdHJpbmcoMCwgMTUpID09PSAncHJlY2lzaW9uIGhpZ2hwJykge1xuICAgICAgICAvLyBwcmVjaXNpb24gd2FzIHN1cHBsaWVkLCBidXQgYXQgYSBsZXZlbCB0aGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0LCBzbyBkb3duZ3JhZGluZyB0byBtZWRpdW1wLlxuICAgICAgICByZXR1cm4gc3JjLnJlcGxhY2UoJ3ByZWNpc2lvbiBoaWdocCcsICdwcmVjaXNpb24gbWVkaXVtcCcpO1xuICAgIH1cbiAgICByZXR1cm4gc3JjO1xufVxuXG52YXIgR0xTTF9UT19TSVpFID0ge1xuICAgIGZsb2F0OiAxLFxuICAgIHZlYzI6IDIsXG4gICAgdmVjMzogMyxcbiAgICB2ZWM0OiA0LFxuICAgIGludDogMSxcbiAgICBpdmVjMjogMixcbiAgICBpdmVjMzogMyxcbiAgICBpdmVjNDogNCxcbiAgICBib29sOiAxLFxuICAgIGJ2ZWMyOiAyLFxuICAgIGJ2ZWMzOiAzLFxuICAgIGJ2ZWM0OiA0LFxuICAgIG1hdDI6IDQsXG4gICAgbWF0MzogOSxcbiAgICBtYXQ0OiAxNixcbiAgICBzYW1wbGVyMkQ6IDEsXG59O1xuLyoqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZCBtYXBTaXplXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gdHlwZSB7U3RyaW5nfVxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5mdW5jdGlvbiBtYXBTaXplKHR5cGUpIHtcbiAgICByZXR1cm4gR0xTTF9UT19TSVpFW3R5cGVdO1xufVxuXG52YXIgR0xfVEFCTEUgPSBudWxsO1xudmFyIEdMX1RPX0dMU0xfVFlQRVMgPSB7XG4gICAgRkxPQVQ6ICdmbG9hdCcsXG4gICAgRkxPQVRfVkVDMjogJ3ZlYzInLFxuICAgIEZMT0FUX1ZFQzM6ICd2ZWMzJyxcbiAgICBGTE9BVF9WRUM0OiAndmVjNCcsXG4gICAgSU5UOiAnaW50JyxcbiAgICBJTlRfVkVDMjogJ2l2ZWMyJyxcbiAgICBJTlRfVkVDMzogJ2l2ZWMzJyxcbiAgICBJTlRfVkVDNDogJ2l2ZWM0JyxcbiAgICBCT09MOiAnYm9vbCcsXG4gICAgQk9PTF9WRUMyOiAnYnZlYzInLFxuICAgIEJPT0xfVkVDMzogJ2J2ZWMzJyxcbiAgICBCT09MX1ZFQzQ6ICdidmVjNCcsXG4gICAgRkxPQVRfTUFUMjogJ21hdDInLFxuICAgIEZMT0FUX01BVDM6ICdtYXQzJyxcbiAgICBGTE9BVF9NQVQ0OiAnbWF0NCcsXG4gICAgU0FNUExFUl8yRDogJ3NhbXBsZXIyRCcsXG4gICAgSU5UX1NBTVBMRVJfMkQ6ICdzYW1wbGVyMkQnLFxuICAgIFVOU0lHTkVEX0lOVF9TQU1QTEVSXzJEOiAnc2FtcGxlcjJEJyxcbiAgICBTQU1QTEVSX0NVQkU6ICdzYW1wbGVyQ3ViZScsXG4gICAgSU5UX1NBTVBMRVJfQ1VCRTogJ3NhbXBsZXJDdWJlJyxcbiAgICBVTlNJR05FRF9JTlRfU0FNUExFUl9DVUJFOiAnc2FtcGxlckN1YmUnLFxuICAgIFNBTVBMRVJfMkRfQVJSQVk6ICdzYW1wbGVyMkRBcnJheScsXG4gICAgSU5UX1NBTVBMRVJfMkRfQVJSQVk6ICdzYW1wbGVyMkRBcnJheScsXG4gICAgVU5TSUdORURfSU5UX1NBTVBMRVJfMkRfQVJSQVk6ICdzYW1wbGVyMkRBcnJheScsXG59O1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmZ1bmN0aW9uIG1hcFR5cGUoZ2wsIHR5cGUpIHtcbiAgICBpZiAoIUdMX1RBQkxFKSB7XG4gICAgICAgIHZhciB0eXBlTmFtZXMgPSBPYmplY3Qua2V5cyhHTF9UT19HTFNMX1RZUEVTKTtcbiAgICAgICAgR0xfVEFCTEUgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlTmFtZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0biA9IHR5cGVOYW1lc1tpXTtcbiAgICAgICAgICAgIEdMX1RBQkxFW2dsW3RuXV0gPSBHTF9UT19HTFNMX1RZUEVTW3RuXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gR0xfVEFCTEVbdHlwZV07XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXMgKi9cbi8vIFBhcnNlcnMsIGVhY2ggb25lIG9mIHRoZXNlIHdpbGwgdGFrZSBhIGxvb2sgYXQgdGhlIHR5cGUgb2Ygc2hhZGVyIHByb3BlcnR5IGFuZCB1bmlmb3JtLlxuLy8gaWYgdGhleSBwYXNzIHRoZSB0ZXN0IGZ1bmN0aW9uIHRoZW4gdGhlIGNvZGUgZnVuY3Rpb24gaXMgY2FsbGVkIHRoYXQgcmV0dXJucyBhIHRoZSBzaGFkZXIgdXBsb2FkIGNvZGUgZm9yIHRoYXQgdW5pZm9ybS5cbi8vIFNoYWRlciB1cGxvYWQgY29kZSBpcyBhdXRvbWFnaWNhbGx5IGdlbmVyYXRlZCB3aXRoIHRoZXNlIHBhcnNlcnMuXG4vLyBJZiBubyBwYXJzZXIgaXMgdmFsaWQgdGhlbiB0aGUgZGVmYXVsdCB1cGxvYWQgZnVuY3Rpb25zIGFyZSB1c2VkLlxuLy8gZXhwb3NpbmcgUGFyc2VycyBtZWFucyB0aGF0IGN1c3RvbSB1cGxvYWQgbG9naWMgY2FuIGJlIGFkZGVkIHRvIHBpeGkncyBzaGFkZXJzLlxuLy8gQSBnb29kIGV4YW1wbGUgd291bGQgYmUgYSBwaXhpIHJlY3RhbmdsZSBjYW4gYmUgZGlyZWN0bHkgc2V0IG9uIGEgdW5pZm9ybS5cbi8vIElmIHRoZSBzaGFkZXIgc2VlcyBpdCBpdCBrbm93cyBob3cgdG8gdXBsb2FkIHRoZSByZWN0YW5nbGUgc3RydWN0dXJlIGFzIGEgdmVjNFxuLy8gZm9ybWF0IGlzIGFzIGZvbGxvd3M6XG4vL1xuLy8ge1xuLy8gICAgIHRlc3Q6IChkYXRhLCB1bmlmb3JtKSA9PiB7fSA8LS0tIHRlc3QgaXMgdGhpcyBjb2RlIHNob3VsZCBiZSB1c2VkIGZvciB0aGlzIHVuaWZvcm1cbi8vICAgICBjb2RlOiAobmFtZSwgdW5pZm9ybSkgPT4ge30gPC0tLSByZXR1cm5zIHRoZSBzdHJpbmcgb2YgdGhlIHBpZWNlIG9mIGNvZGUgdGhhdCB1cGxvYWRzIHRoZSB1bmlmb3JtXG4vLyB9XG52YXIgdW5pZm9ybVBhcnNlcnMgPSBbXG4gICAgLy8gYSBmbG9hdCBjYWNoZSBsYXllclxuICAgIHtcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnR5cGUgPT09ICdmbG9hdCcgJiYgZGF0YS5zaXplID09PSAxO1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgaWYodXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0gIT09IHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlKVxcbiAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgdWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWUgPSB1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXVxcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdKVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBcIjtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIC8vIGhhbmRsaW5nIHNhbXBsZXJzXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgICAgIHJldHVybiAoZGF0YS50eXBlID09PSAnc2FtcGxlcjJEJyB8fCBkYXRhLnR5cGUgPT09ICdzYW1wbGVyQ3ViZScgfHwgZGF0YS50eXBlID09PSAnc2FtcGxlcjJEQXJyYXknKSAmJiBkYXRhLnNpemUgPT09IDEgJiYgIWRhdGEuaXNBcnJheTtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFwidCA9IHN5bmNEYXRhLnRleHR1cmVDb3VudCsrO1xcblxcbiAgICAgICAgICAgIHJlbmRlcmVyLnRleHR1cmUuYmluZCh1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXSwgdCk7XFxuXFxuICAgICAgICAgICAgaWYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWUgIT09IHQpXFxuICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICB1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS52YWx1ZSA9IHQ7XFxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgdCk7XFxuOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG1heC1sZW5cXG4gICAgICAgICAgICB9XCI7IH0sXG4gICAgfSxcbiAgICAvLyB1cGxvYWRpbmcgcGl4aSBtYXRyaXggb2JqZWN0IHRvIG1hdDNcbiAgICB7XG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChkYXRhLCB1bmlmb3JtKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS50eXBlID09PSAnbWF0MycgJiYgZGF0YS5zaXplID09PSAxICYmIHVuaWZvcm0uYSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgLy8gVE9ETyBhbmQgc29tZSBzbWFydCBjYWNoaW5nIGRpcnR5IGlkcyBoZXJlIVxuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDNmdih1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgZmFsc2UsIHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnRvQXJyYXkodHJ1ZSkpO1xcbiAgICAgICAgICAgIFwiO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgLy8gdXBsb2FkaW5nIGEgcGl4aSBwb2ludCBhcyBhIHZlYzIgd2l0aCBjYWNoaW5nIGxheWVyXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSwgdW5pZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudHlwZSA9PT0gJ3ZlYzInICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiB1bmlmb3JtLnggIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl07XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2LnggfHwgY3ZbMV0gIT09IHYueSlcXG4gICAgICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMF0gPSB2Lng7XFxuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHYueTtcXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yZih1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgdi54LCB2LnkpO1xcbiAgICAgICAgICAgICAgICB9XCI7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICAvLyBjYWNoaW5nIGxheWVyIGZvciBhIHZlYzJcbiAgICB7XG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS50eXBlID09PSAndmVjMicgJiYgZGF0YS5zaXplID09PSAxO1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgICAgIGN2ID0gdWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWU7XFxuICAgICAgICAgICAgICAgIHYgPSB1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXTtcXG5cXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0pXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdlsxXTtcXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yZih1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgdlswXSwgdlsxXSk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBcIjtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIC8vIHVwbG9hZCBhIHBpeGkgcmVjdGFuZ2xlIGFzIGEgdmVjNCB3aXRoIGNhY2hpbmcgbGF5ZXJcbiAgICB7XG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChkYXRhLCB1bmlmb3JtKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS50eXBlID09PSAndmVjNCcgJiYgZGF0YS5zaXplID09PSAxICYmIHVuaWZvcm0ud2lkdGggIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl07XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2LnggfHwgY3ZbMV0gIT09IHYueSB8fCBjdlsyXSAhPT0gdi53aWR0aCB8fCBjdlszXSAhPT0gdi5oZWlnaHQpXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdi54O1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2Lnk7XFxuICAgICAgICAgICAgICAgICAgICBjdlsyXSA9IHYud2lkdGg7XFxuICAgICAgICAgICAgICAgICAgICBjdlszXSA9IHYuaGVpZ2h0O1xcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmKHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLmxvY2F0aW9uLCB2LngsIHYueSwgdi53aWR0aCwgdi5oZWlnaHQpXFxuICAgICAgICAgICAgICAgIH1cIjtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIC8vIGEgY2FjaGluZyBsYXllciBmb3IgdmVjNCB1cGxvYWRpbmdcbiAgICB7XG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS50eXBlID09PSAndmVjNCcgJiYgZGF0YS5zaXplID09PSAxO1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgICAgIGN2ID0gdWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWU7XFxuICAgICAgICAgICAgICAgIHYgPSB1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXTtcXG5cXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0gfHwgY3ZbMl0gIT09IHZbMl0gfHwgY3ZbM10gIT09IHZbM10pXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdlsxXTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzJdID0gdlsyXTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzNdID0gdlszXTtcXG5cXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSlcXG4gICAgICAgICAgICAgICAgfVwiO1xuICAgICAgICB9LFxuICAgIH0gXTtcblxuLy8gY3YgPSBDYWNoZWRWYWx1ZVxuLy8gdiA9IHZhbHVlXG4vLyB1ZCA9IHVuaWZvcm1EYXRhXG4vLyB1diA9IHVuaWZvcm1WYWx1ZVxuLy8gbCA9IGxvY2F0aW9uXG52YXIgR0xTTF9UT19TSU5HTEVfU0VUVEVSU19DQUNIRUQgPSB7XG4gICAgZmxvYXQ6IFwiXFxuICAgIGlmKGN2ICE9PSB2KVxcbiAgICB7XFxuICAgICAgICBjdi52ID0gdjtcXG4gICAgICAgIGdsLnVuaWZvcm0xZihsb2NhdGlvbiwgdilcXG4gICAgfVwiLFxuICAgIHZlYzI6IFwiXFxuICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdKVxcbiAgICB7XFxuICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICBnbC51bmlmb3JtMmYobG9jYXRpb24sIHZbMF0sIHZbMV0pXFxuICAgIH1cIixcbiAgICB2ZWMzOiBcIlxcbiAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSlcXG4gICAge1xcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xcbiAgICAgICAgY3ZbMl0gPSB2WzJdO1xcblxcbiAgICAgICAgZ2wudW5pZm9ybTNmKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKVxcbiAgICB9XCIsXG4gICAgdmVjNDogJ2dsLnVuaWZvcm00Zihsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSknLFxuICAgIGludDogJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWMyOiAnZ2wudW5pZm9ybTJpKGxvY2F0aW9uLCB2WzBdLCB2WzFdKScsXG4gICAgaXZlYzM6ICdnbC51bmlmb3JtM2kobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0pJyxcbiAgICBpdmVjNDogJ2dsLnVuaWZvcm00aShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSknLFxuICAgIGJvb2w6ICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMjogJ2dsLnVuaWZvcm0yaShsb2NhdGlvbiwgdlswXSwgdlsxXSknLFxuICAgIGJ2ZWMzOiAnZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKScsXG4gICAgYnZlYzQ6ICdnbC51bmlmb3JtNGkobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcbiAgICBtYXQyOiAnZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQzOiAnZ2wudW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQ0OiAnZ2wudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBzYW1wbGVyMkQ6ICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyQ3ViZTogJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXIyREFycmF5OiAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG59O1xudmFyIEdMU0xfVE9fQVJSQVlfU0VUVEVSUyA9IHtcbiAgICBmbG9hdDogXCJnbC51bmlmb3JtMWZ2KGxvY2F0aW9uLCB2KVwiLFxuICAgIHZlYzI6IFwiZ2wudW5pZm9ybTJmdihsb2NhdGlvbiwgdilcIixcbiAgICB2ZWMzOiBcImdsLnVuaWZvcm0zZnYobG9jYXRpb24sIHYpXCIsXG4gICAgdmVjNDogJ2dsLnVuaWZvcm00ZnYobG9jYXRpb24sIHYpJyxcbiAgICBtYXQ0OiAnZ2wudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQzOiAnZ2wudW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQyOiAnZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBpbnQ6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzI6ICdnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzM6ICdnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzQ6ICdnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2KScsXG4gICAgYm9vbDogJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMjogJ2dsLnVuaWZvcm0yaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMzogJ2dsLnVuaWZvcm0zaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjNDogJ2dsLnVuaWZvcm00aXYobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyMkQ6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlckN1YmU6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlcjJEQXJyYXk6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG59O1xuZnVuY3Rpb24gZ2VuZXJhdGVVbmlmb3Jtc1N5bmMoZ3JvdXAsIHVuaWZvcm1EYXRhKSB7XG4gICAgdmFyIGZ1bmNGcmFnbWVudHMgPSBbXCJcXG4gICAgICAgIHZhciB2ID0gbnVsbDtcXG4gICAgICAgIHZhciBjdiA9IG51bGxcXG4gICAgICAgIHZhciB0ID0gMDtcXG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsXFxuICAgIFwiXTtcbiAgICBmb3IgKHZhciBpIGluIGdyb3VwLnVuaWZvcm1zKSB7XG4gICAgICAgIHZhciBkYXRhID0gdW5pZm9ybURhdGFbaV07XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgaWYgKGdyb3VwLnVuaWZvcm1zW2ldLmdyb3VwKSB7XG4gICAgICAgICAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKFwiXFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuc3luY1VuaWZvcm1Hcm91cCh1dltcXFwiXCIgKyBpICsgXCJcXFwiXSwgc3luY0RhdGEpO1xcbiAgICAgICAgICAgICAgICBcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdW5pZm9ybSA9IGdyb3VwLnVuaWZvcm1zW2ldO1xuICAgICAgICB2YXIgcGFyc2VkID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdW5pZm9ybVBhcnNlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmICh1bmlmb3JtUGFyc2Vyc1tqXS50ZXN0KGRhdGEsIHVuaWZvcm0pKSB7XG4gICAgICAgICAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKHVuaWZvcm1QYXJzZXJzW2pdLmNvZGUoaSwgdW5pZm9ybSkpO1xuICAgICAgICAgICAgICAgIHBhcnNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwYXJzZWQpIHtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZVR5cGUgPSAoZGF0YS5zaXplID09PSAxKSA/IEdMU0xfVE9fU0lOR0xFX1NFVFRFUlNfQ0FDSEVEIDogR0xTTF9UT19BUlJBWV9TRVRURVJTO1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gdGVtcGxhdGVUeXBlW2RhdGEudHlwZV0ucmVwbGFjZSgnbG9jYXRpb24nLCBcInVkW1xcXCJcIiArIGkgKyBcIlxcXCJdLmxvY2F0aW9uXCIpO1xuICAgICAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKFwiXFxuICAgICAgICAgICAgY3YgPSB1ZFtcXFwiXCIgKyBpICsgXCJcXFwiXS52YWx1ZTtcXG4gICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgaSArIFwiXFxcIl07XFxuICAgICAgICAgICAgXCIgKyB0ZW1wbGF0ZSArIFwiO1wiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiB0aGUgaW50cm9kdWN0aW9uIG9mIHN5bmNEYXRhIGlzIHRvIHNvbHZlIGFuIGlzc3VlIHdoZXJlIHRleHR1cmVzIGluIHVuaWZvcm0gZ3JvdXBzIGFyZSBub3Qgc2V0IGNvcnJlY3RseVxuICAgICAqIHRoZSB0ZXh0dXJlIGNvdW50IHdhcyBhbHdheXMgc3RhcnRpbmcgZnJvbSAwIGluIGVhY2ggZ3JvdXAuIFRoaXMgbmVlZHMgdG8gaW5jcmVtZW50IGVhY2ggdGltZSBhIHRleHR1cmUgaXMgdXNlZFxuICAgICAqIG5vIG1hdHRlciB3aGljaCBncm91cCBpcyBiZWluZyB1c2VkXG4gICAgICpcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKCd1ZCcsICd1dicsICdyZW5kZXJlcicsICdzeW5jRGF0YScsIGZ1bmNGcmFnbWVudHMuam9pbignXFxuJykpO1xufVxuXG52YXIgZnJhZ1RlbXBsYXRlID0gW1xuICAgICdwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsnLFxuICAgICd2b2lkIG1haW4odm9pZCl7JyxcbiAgICAnZmxvYXQgdGVzdCA9IDAuMTsnLFxuICAgICclZm9ybG9vcCUnLFxuICAgICdnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JyxcbiAgICAnfScgXS5qb2luKCdcXG4nKTtcbmZ1bmN0aW9uIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcykge1xuICAgIHZhciBzcmMgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heElmczsgKytpKSB7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgc3JjICs9ICdcXG5lbHNlICc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPCBtYXhJZnMgLSAxKSB7XG4gICAgICAgICAgICBzcmMgKz0gXCJpZih0ZXN0ID09IFwiICsgaSArIFwiLjApe31cIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3JjO1xufVxuZnVuY3Rpb24gY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcihtYXhJZnMsIGdsKSB7XG4gICAgaWYgKG1heElmcyA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgb2YgYDBgIHBhc3NlZCB0byBgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcmAnKTtcbiAgICB9XG4gICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuICAgIHdoaWxlICh0cnVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnN0YW50LWNvbmRpdGlvblxuICAgICB7XG4gICAgICAgIHZhciBmcmFnbWVudFNyYyA9IGZyYWdUZW1wbGF0ZS5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcykpO1xuICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBmcmFnbWVudFNyYyk7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgICAgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgICAgIG1heElmcyA9IChtYXhJZnMgLyAyKSB8IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB2YWxpZCFcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXhJZnM7XG59XG5cbi8vIENhY2hlIHRoZSByZXN1bHQgdG8gcHJldmVudCBydW5uaW5nIHRoaXMgb3ZlciBhbmQgb3ZlclxudmFyIHVuc2FmZUV2YWw7XG4vKipcbiAqIE5vdCBhbGwgcGxhdGZvcm1zIGFsbG93IHRvIGdlbmVyYXRlIGZ1bmN0aW9uIGNvZGUgKGUuZy4sIGBuZXcgRnVuY3Rpb25gKS5cbiAqIHRoaXMgcHJvdmlkZXMgdGhlIHBsYXRmb3JtLWxldmVsIGRldGVjdGlvbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHVuc2FmZUV2YWxTdXBwb3J0ZWQoKSB7XG4gICAgaWYgKHR5cGVvZiB1bnNhZmVFdmFsID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIHVuc2FmZUV2YWw7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLW5ldy1mdW5jICovXG4gICAgICAgIHZhciBmdW5jID0gbmV3IEZ1bmN0aW9uKCdwYXJhbTEnLCAncGFyYW0yJywgJ3BhcmFtMycsICdyZXR1cm4gcGFyYW0xW3BhcmFtMl0gPT09IHBhcmFtMzsnKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1uZXctZnVuYyAqL1xuICAgICAgICB1bnNhZmVFdmFsID0gZnVuYyh7IGE6ICdiJyB9LCAnYScsICdiJykgPT09IHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHVuc2FmZUV2YWwgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHVuc2FmZUV2YWw7XG59XG5cbnZhciBkZWZhdWx0RnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICBnbF9GcmFnQ29sb3IgKj0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG59XCI7XG5cbnZhciBkZWZhdWx0VmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxufVxcblwiO1xuXG52YXIgVUlEJDMgPSAwO1xudmFyIG5hbWVDYWNoZSA9IHt9O1xuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgc2hhZGVyIHByb2dyYW0uXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUHJvZ3JhbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gLSBOYW1lIGZvciBzaGFkZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQcm9ncmFtKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIG5hbWUpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09IHZvaWQgMCkgeyBuYW1lID0gJ3BpeGktc2hhZGVyJzsgfVxuICAgICAgICB0aGlzLmlkID0gVUlEJDMrKztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHZlcnRleFNyYyB8fCBQcm9ncmFtLmRlZmF1bHRWZXJ0ZXhTcmM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMgfHwgUHJvZ3JhbS5kZWZhdWx0RnJhZ21lbnRTcmM7XG4gICAgICAgIHRoaXMudmVydGV4U3JjID0gdGhpcy52ZXJ0ZXhTcmMudHJpbSgpO1xuICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gdGhpcy5mcmFnbWVudFNyYy50cmltKCk7XG4gICAgICAgIGlmICh0aGlzLnZlcnRleFNyYy5zdWJzdHJpbmcoMCwgOCkgIT09ICcjdmVyc2lvbicpIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1xccysvZywgJy0nKTtcbiAgICAgICAgICAgIGlmIChuYW1lQ2FjaGVbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICBuYW1lQ2FjaGVbbmFtZV0rKztcbiAgICAgICAgICAgICAgICBuYW1lICs9IFwiLVwiICsgbmFtZUNhY2hlW25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmFtZUNhY2hlW25hbWVdID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmVydGV4U3JjID0gXCIjZGVmaW5lIFNIQURFUl9OQU1FIFwiICsgbmFtZSArIFwiXFxuXCIgKyB0aGlzLnZlcnRleFNyYztcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBcIiNkZWZpbmUgU0hBREVSX05BTUUgXCIgKyBuYW1lICsgXCJcXG5cIiArIHRoaXMuZnJhZ21lbnRTcmM7XG4gICAgICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHNldFByZWNpc2lvbih0aGlzLnZlcnRleFNyYywgc2V0dGluZ3MuUFJFQ0lTSU9OX1ZFUlRFWCwgUFJFQ0lTSU9OLkhJR0gpO1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IHNldFByZWNpc2lvbih0aGlzLmZyYWdtZW50U3JjLCBzZXR0aW5ncy5QUkVDSVNJT05fRlJBR01FTlQsIGdldE1heEZyYWdtZW50UHJlY2lzaW9uKCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGN1cnJlbnRseSB0aGlzIGRvZXMgbm90IGV4dHJhY3Qgc3RydWN0cyBvbmx5IGRlZmF1bHQgdHlwZXNcbiAgICAgICAgdGhpcy5leHRyYWN0RGF0YSh0aGlzLnZlcnRleFNyYywgdGhpcy5mcmFnbWVudFNyYyk7XG4gICAgICAgIC8vIHRoaXMgaXMgd2hlcmUgd2Ugc3RvcmUgc2hhZGVyIHJlZmVyZW5jZXMuLlxuICAgICAgICB0aGlzLmdsUHJvZ3JhbXMgPSB7fTtcbiAgICAgICAgdGhpcy5zeW5jVW5pZm9ybXMgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgZGF0YSBmb3IgYSBidXkgY3JlYXRpbmcgYSBzbWFsbCB0ZXN0IHByb2dyYW1cbiAgICAgKiBvciByZWFkaW5nIHRoZSBzcmMgZGlyZWN0bHkuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKi9cbiAgICBQcm9ncmFtLnByb3RvdHlwZS5leHRyYWN0RGF0YSA9IGZ1bmN0aW9uICh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKSB7XG4gICAgICAgIHZhciBnbCA9IGdldFRlc3RDb250ZXh0KCk7XG4gICAgICAgIGlmIChnbCkge1xuICAgICAgICAgICAgdmFyIHByb2dyYW0gPSBjb21waWxlUHJvZ3JhbShnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYyk7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZURhdGEgPSB0aGlzLmdldEF0dHJpYnV0ZURhdGEocHJvZ3JhbSwgZ2wpO1xuICAgICAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IHRoaXMuZ2V0VW5pZm9ybURhdGEocHJvZ3JhbSwgZ2wpO1xuICAgICAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybURhdGEgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlRGF0YSA9IHt9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSBhdHRyaWJ1dGUgZGF0YSBmcm9tIHRoZSBwcm9ncmFtXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xQcm9ncmFtfSBbcHJvZ3JhbV0gLSB0aGUgV2ViR0wgcHJvZ3JhbVxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBbZ2xdIC0gdGhlIFdlYkdMIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IHRoZSBhdHRyaWJ1dGUgZGF0YSBmb3IgdGhpcyBwcm9ncmFtXG4gICAgICovXG4gICAgUHJvZ3JhbS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlRGF0YSA9IGZ1bmN0aW9uIChwcm9ncmFtLCBnbCkge1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IHt9O1xuICAgICAgICB2YXIgYXR0cmlidXRlc0FycmF5ID0gW107XG4gICAgICAgIHZhciB0b3RhbEF0dHJpYnV0ZXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkFDVElWRV9BVFRSSUJVVEVTKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbEF0dHJpYnV0ZXM7IGkrKykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYkRhdGEgPSBnbC5nZXRBY3RpdmVBdHRyaWIocHJvZ3JhbSwgaSk7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IG1hcFR5cGUoZ2wsIGF0dHJpYkRhdGEudHlwZSk7XG4gICAgICAgICAgICAvKmVzbGludC1kaXNhYmxlICovXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIG5hbWU6IGF0dHJpYkRhdGEubmFtZSxcbiAgICAgICAgICAgICAgICBzaXplOiBtYXBTaXplKHR5cGUpLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICAgICAgICAgIGF0dHJpYnV0ZXNbYXR0cmliRGF0YS5uYW1lXSA9IGRhdGE7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzQXJyYXkucHVzaChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBhdHRyaWJ1dGVzQXJyYXkuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gKGEubmFtZSA+IGIubmFtZSkgPyAxIDogLTE7IH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbmZ1c2luZy1hcnJvd1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJpYnV0ZXNBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXR0cmlidXRlc0FycmF5W2ldLmxvY2F0aW9uID0gaTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHVuaWZvcm0gZGF0YSBmcm9tIHRoZSBwcm9ncmFtXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7d2ViR0wtcHJvZ3JhbX0gW3Byb2dyYW1dIC0gdGhlIHdlYmdsIHByb2dyYW1cbiAgICAgKiBAcGFyYW0ge2NvbnRleHR9IFtnbF0gLSB0aGUgV2ViR0wgY29udGV4dFxuICAgICAqXG4gICAgICogQHJldHVybnMge29iamVjdH0gdGhlIHVuaWZvcm0gZGF0YSBmb3IgdGhpcyBwcm9ncmFtXG4gICAgICovXG4gICAgUHJvZ3JhbS5wcm90b3R5cGUuZ2V0VW5pZm9ybURhdGEgPSBmdW5jdGlvbiAocHJvZ3JhbSwgZ2wpIHtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0ge307XG4gICAgICAgIHZhciB0b3RhbFVuaWZvcm1zID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5BQ1RJVkVfVU5JRk9STVMpO1xuICAgICAgICAvLyBUT0RPIGV4cG9zZSB0aGlzIGFzIGEgcHJvcD9cbiAgICAgICAgLy8gY29uc3QgbWFza1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXihwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyfHRyYW5zbGF0aW9uTWF0cml4KSQnKTtcbiAgICAgICAgLy8gY29uc3QgbWFza1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXihwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyfHRyYW5zbGF0aW9uTWF0cml4KSQnKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbFVuaWZvcm1zOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB1bmlmb3JtRGF0YSA9IGdsLmdldEFjdGl2ZVVuaWZvcm0ocHJvZ3JhbSwgaSk7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHVuaWZvcm1EYXRhLm5hbWUucmVwbGFjZSgvXFxbLio/XFxdJC8sICcnKTtcbiAgICAgICAgICAgIHZhciBpc0FycmF5ID0gdW5pZm9ybURhdGEubmFtZS5tYXRjaCgvXFxbLio/XFxdJC8pO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBtYXBUeXBlKGdsLCB1bmlmb3JtRGF0YS50eXBlKTtcbiAgICAgICAgICAgIC8qZXNsaW50LWRpc2FibGUgKi9cbiAgICAgICAgICAgIHVuaWZvcm1zW25hbWVdID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgc2l6ZTogdW5pZm9ybURhdGEuc2l6ZSxcbiAgICAgICAgICAgICAgICBpc0FycmF5OiBpc0FycmF5LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBkZWZhdWx0VmFsdWUodHlwZSwgdW5pZm9ybURhdGEuc2l6ZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmlmb3JtcztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm9ncmFtLCBcImRlZmF1bHRWZXJ0ZXhTcmNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm9ncmFtLCBcImRlZmF1bHRGcmFnbWVudFNyY1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRGcmFnbWVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCBmdW5jdGlvbiB0byBjcmVhdGUgYSBwcm9ncmFtIGJhc2VkIG9mIGEgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJcbiAgICAgKiB0aGlzIG1ldGhvZCB3aWxsIGFsc28gY2hlY2sgdG8gc2VlIGlmIHRoZXJlIGlzIGEgY2FjaGVkIHByb2dyYW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZT1waXhpLXNoYWRlcl0gLSBOYW1lIGZvciBzaGFkZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQSVhJLlByb2dyYW19IGFuIHNoaW55IG5ldyBQaXhpIHNoYWRlciFcbiAgICAgKi9cbiAgICBQcm9ncmFtLmZyb20gPSBmdW5jdGlvbiAodmVydGV4U3JjLCBmcmFnbWVudFNyYywgbmFtZSkge1xuICAgICAgICB2YXIga2V5ID0gdmVydGV4U3JjICsgZnJhZ21lbnRTcmM7XG4gICAgICAgIHZhciBwcm9ncmFtID0gUHJvZ3JhbUNhY2hlW2tleV07XG4gICAgICAgIGlmICghcHJvZ3JhbSkge1xuICAgICAgICAgICAgUHJvZ3JhbUNhY2hlW2tleV0gPSBwcm9ncmFtID0gbmV3IFByb2dyYW0odmVydGV4U3JjLCBmcmFnbWVudFNyYywgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb2dyYW07XG4gICAgfTtcbiAgICByZXR1cm4gUHJvZ3JhbTtcbn0oKSk7XG5cbi8qKlxuICogQSBoZWxwZXIgY2xhc3MgZm9yIHNoYWRlcnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTaGFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IFtwcm9ncmFtXSAtIFRoZSBwcm9ncmFtIHRoZSBzaGFkZXIgd2lsbCB1c2UuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2hhZGVyKHByb2dyYW0sIHVuaWZvcm1zKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9ncmFtIHRoYXQgdGhlIHNoYWRlciB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUHJvZ3JhbX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIC8vIGxldHMgc2VlIHdoYXRzIGJlZW4gcGFzc2VkIGluXG4gICAgICAgIC8vIHVuaWZvcm1zIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gYSB1bmlmb3JtIGdyb3VwXG4gICAgICAgIGlmICh1bmlmb3Jtcykge1xuICAgICAgICAgICAgaWYgKHVuaWZvcm1zIGluc3RhbmNlb2YgVW5pZm9ybUdyb3VwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAgPSB1bmlmb3JtcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3Jtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG5ldyBVbmlmb3JtR3JvdXAoe30pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRpbWUgdG8gYnVpbGQgc29tZSBnZXR0ZXJzIGFuZCBzZXR0ZXJzIVxuICAgICAgICAvLyBJIGd1ZXNzIGRvd24gdGhlIGxpbmUgdGhpcyBjb3VsZCBzb3J0IG9mIGdlbmVyYXRlIGFuIGluc3RydWN0aW9uIGxpc3QgcmF0aGVyIHRoYW4gdXNlIGRpcnR5IGlkcz9cbiAgICAgICAgLy8gZG9lcyB0aGUgdHJpY2sgZm9yIG5vdyB0aG91Z2ghXG4gICAgICAgIGZvciAodmFyIGkgaW4gcHJvZ3JhbS51bmlmb3JtRGF0YSkge1xuICAgICAgICAgICAgaWYgKHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cC51bmlmb3Jtc1tpXSA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFRPRE8gbW92ZSB0byBzaGFkZXIgc3lzdGVtLi5cbiAgICBTaGFkZXIucHJvdG90eXBlLmNoZWNrVW5pZm9ybUV4aXN0cyA9IGZ1bmN0aW9uIChuYW1lLCBncm91cCkge1xuICAgICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbbmFtZV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgaW4gZ3JvdXAudW5pZm9ybXMpIHtcbiAgICAgICAgICAgIHZhciB1bmlmb3JtID0gZ3JvdXAudW5pZm9ybXNbaV07XG4gICAgICAgICAgICBpZiAodW5pZm9ybS5ncm91cCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVW5pZm9ybUV4aXN0cyhuYW1lLCB1bmlmb3JtKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgU2hhZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB1c2FnZSBjb3VudCBvbiBwcm9ncmFtcz9cbiAgICAgICAgLy8gcmVtb3ZlIGlmIG5vdCB1c2VkIVxuICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2hhZGVyLnByb3RvdHlwZSwgXCJ1bmlmb3Jtc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaGFkZXIgdW5pZm9ybSB2YWx1ZXMsIHNob3J0Y3V0IGZvciBgdW5pZm9ybUdyb3VwLnVuaWZvcm1zYFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgZnVuY3Rpb24gdG8gY3JlYXRlIGEgc2hhZGVyIGJhc2VkIG9mIGEgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5TaGFkZXJ9IGFuIHNoaW55IG5ldyBQaXhpIHNoYWRlciFcbiAgICAgKi9cbiAgICBTaGFkZXIuZnJvbSA9IGZ1bmN0aW9uICh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCB1bmlmb3Jtcykge1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IFByb2dyYW0uZnJvbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTaGFkZXIocHJvZ3JhbSwgdW5pZm9ybXMpO1xuICAgIH07XG4gICAgcmV0dXJuIFNoYWRlcjtcbn0oKSk7XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbnZhciBCTEVORCA9IDA7XG52YXIgT0ZGU0VUID0gMTtcbnZhciBDVUxMSU5HID0gMjtcbnZhciBERVBUSF9URVNUID0gMztcbnZhciBXSU5ESU5HID0gNDtcbi8qKlxuICogVGhpcyBpcyBhIFdlYkdMIHN0YXRlLCBhbmQgaXMgaXMgcGFzc2VkIFRoZSBXZWJHTCBTdGF0ZU1hbmFnZXIuXG4gKlxuICogRWFjaCBtZXNoIHJlbmRlcmVkIG1heSByZXF1aXJlIFdlYkdMIHRvIGJlIGluIGEgZGlmZmVyZW50IHN0YXRlLlxuICogRm9yIGV4YW1wbGUgeW91IG1heSB3YW50IGRpZmZlcmVudCBibGVuZCBtb2RlIG9yIHRvIGVuYWJsZSBwb2x5Z29uIG9mZnNldHNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gMDtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgIHRoaXMucG9seWdvbk9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuYmxlbmQgPSB0cnVlO1xuICAgICAgICAvLyAgdGhpcy5kZXB0aFRlc3QgPSB0cnVlO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcImJsZW5kXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2YXRlcyBibGVuZGluZyBvZiB0aGUgY29tcHV0ZWQgZnJhZ21lbnQgY29sb3IgdmFsdWVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBCTEVORCkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IEJMRU5EKSkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IEJMRU5EKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZS5wcm90b3R5cGUsIFwib2Zmc2V0c1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmF0ZXMgYWRkaW5nIGFuIG9mZnNldCB0byBkZXB0aCB2YWx1ZXMgb2YgcG9seWdvbidzIGZyYWdtZW50c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgT0ZGU0VUKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgT0ZGU0VUKSkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IE9GRlNFVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcImN1bGxpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZhdGVzIGN1bGxpbmcgb2YgcG9seWdvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBDVUxMSU5HKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgQ1VMTElORykpICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBDVUxMSU5HKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZS5wcm90b3R5cGUsIFwiZGVwdGhUZXN0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2YXRlcyBkZXB0aCBjb21wYXJpc29ucyBhbmQgdXBkYXRlcyB0byB0aGUgZGVwdGggYnVmZmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgREVQVEhfVEVTVCkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IERFUFRIX1RFU1QpKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgREVQVEhfVEVTVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcImNsb2Nrd2lzZUZyb250RmFjZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgZnJvbnQgb3IgYmFjay1mYWNpbmcgcG9seWdvbnMgY2FuIGJlIGN1bGxlZC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IFdJTkRJTkcpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBXSU5ESU5HKSkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IFdJTkRJTkcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJibGVuZE1vZGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB3aGVuIHRoaXMgc3RhdGUgaXMgc2V0LiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqIFNldHRpbmcgdGhpcyBtb2RlIHRvIGFueXRoaW5nIG90aGVyIHRoYW4gTk9fQkxFTkQgd2lsbCBhdXRvbWF0aWNhbGx5IHN3aXRjaCBibGVuZGluZyBvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JsZW5kTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYmxlbmQgPSAodmFsdWUgIT09IEJMRU5EX01PREVTLk5PTkUpO1xuICAgICAgICAgICAgdGhpcy5fYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcInBvbHlnb25PZmZzZXRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBvbHlnb24gb2Zmc2V0LiBTZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gYW55dGhpbmcgb3RoZXIgdGhhbiAwIHdpbGwgYXV0b21hdGljYWxseSBlbmFibGUgcG9seWdvbiBvZmZzZXQgZmlsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb2x5Z29uT2Zmc2V0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5vZmZzZXRzID0gISF2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3BvbHlnb25PZmZzZXQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFN0YXRlLmZvcjJkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSBuZXcgU3RhdGUoKTtcbiAgICAgICAgc3RhdGUuZGVwdGhUZXN0ID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRlO1xufSgpKTtcblxudmFyIGRlZmF1bHRWZXJ0ZXgkMSA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xcblxcbnZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuXFxuICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG59XFxuXFxudmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxcbntcXG4gICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbigpO1xcbiAgICB2VGV4dHVyZUNvb3JkID0gZmlsdGVyVGV4dHVyZUNvb3JkKCk7XFxufVxcblwiO1xuXG52YXIgZGVmYXVsdEZyYWdtZW50JDEgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBGaWx0ZXIgaXMgYSBzcGVjaWFsIHR5cGUgb2YgV2ViR0wgc2hhZGVyIHRoYXQgaXMgYXBwbGllZCB0byB0aGUgc2NyZWVuLlxuICpcbiAqIHtAbGluayBodHRwOi8vcGl4aWpzLmlvL2V4YW1wbGVzLyMvZmlsdGVycy9ibHVyLWZpbHRlci5qcyBFeGFtcGxlfSBvZiB0aGVcbiAqIHtAbGluayBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlciBCbHVyRmlsdGVyfS5cbiAqXG4gKiAjIyMgVXNhZ2VcbiAqIEZpbHRlcnMgY2FuIGJlIGFwcGxpZWQgdG8gYW55IERpc3BsYXlPYmplY3Qgb3IgQ29udGFpbmVyLlxuICogUGl4aUpTJyBgRmlsdGVyU3lzdGVtYCByZW5kZXJzIHRoZSBjb250YWluZXIgaW50byB0ZW1wb3JhcnkgRnJhbWVidWZmZXIsXG4gKiB0aGVuIGZpbHRlciByZW5kZXJzIGl0IHRvIHRoZSBzY3JlZW4uXG4gKiBNdWx0aXBsZSBmaWx0ZXJzIGNhbiBiZSBhZGRlZCB0byB0aGUgYGZpbHRlcnNgIGFycmF5IHByb3BlcnR5IGFuZCBzdGFja2VkIG9uIGVhY2ggb3RoZXIuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmaWx0ZXIgPSBuZXcgUElYSS5GaWx0ZXIobXlTaGFkZXJWZXJ0LCBteVNoYWRlckZyYWcsIHsgbXlVbmlmb3JtOiAwLjUgfSk7XG4gKiBjb25zdCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGNvbnRhaW5lci5maWx0ZXJzID0gW2ZpbHRlcl07XG4gKiBgYGBcbiAqXG4gKiAjIyMgUHJldmlvdXMgVmVyc2lvbiBEaWZmZXJlbmNlc1xuICpcbiAqIEluIFBpeGlKUyAqKnYzKiosIGEgZmlsdGVyIHdhcyBhbHdheXMgYXBwbGllZCB0byBfd2hvbGUgc2NyZWVuXy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NCoqLCBhIGZpbHRlciBjYW4gYmUgYXBwbGllZCBfb25seSBwYXJ0IG9mIHRoZSBzY3JlZW5fLlxuICogRGV2ZWxvcGVycyBoYWQgdG8gY3JlYXRlIGEgc2V0IG9mIHVuaWZvcm1zIHRvIGRlYWwgd2l0aCBjb29yZGluYXRlcy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NSoqIGNvbWJpbmVzIF9ib3RoIGFwcHJvYWNoZXNfLlxuICogRGV2ZWxvcGVycyBjYW4gdXNlIG5vcm1hbCBjb29yZGluYXRlcyBvZiB2MyBhbmQgdGhlbiBhbGxvdyBmaWx0ZXIgdG8gdXNlIHBhcnRpYWwgRnJhbWVidWZmZXJzLFxuICogYnJpbmdpbmcgdGhvc2UgZXh0cmEgdW5pZm9ybXMgaW50byBhY2NvdW50LlxuICpcbiAqIEFsc28gYmUgYXdhcmUgdGhhdCB3ZSBoYXZlIGNoYW5nZWQgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyLCBwbGVhc2UgY29uc3VsdFxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy93aWtpL3Y1LUNyZWF0aW5nLWZpbHRlcnMgV2lraX0uXG4gKlxuICogIyMjIEJ1aWx0LWluIFVuaWZvcm1zXG4gKlxuICogUGl4aUpTIHZpZXdwb3J0IHVzZXMgc2NyZWVuIChDU1MpIGNvb3JkaW5hdGVzLCBgKDAsIDAsIHJlbmRlcmVyLnNjcmVlbi53aWR0aCwgcmVuZGVyZXIuc2NyZWVuLmhlaWdodClgLFxuICogYW5kIGBwcm9qZWN0aW9uTWF0cml4YCB1bmlmb3JtIG1hcHMgaXQgdG8gdGhlIGdsIHZpZXdwb3J0LlxuICpcbiAqICoqdVNhbXBsZXIqKlxuICpcbiAqIFRoZSBtb3N0IGltcG9ydGFudCB1bmlmb3JtIGlzIHRoZSBpbnB1dCB0ZXh0dXJlIHRoYXQgY29udGFpbmVyIHdhcyByZW5kZXJlZCBpbnRvLlxuICogX0ltcG9ydGFudCBub3RlOiBhcyB3aXRoIGFsbCBGcmFtZWJ1ZmZlcnMgaW4gUGl4aUpTLCBib3RoIGlucHV0IGFuZCBvdXRwdXQgYXJlXG4gKiBwcmVtdWx0aXBsaWVkIGJ5IGFscGhhLl9cbiAqXG4gKiBCeSBkZWZhdWx0LCBpbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzIGFyZSBwYXNzZWQgdG8gZnJhZ21lbnQgc2hhZGVyIHdpdGggYHZUZXh0dXJlQ29vcmRgLlxuICogVXNlIGl0IHRvIHNhbXBsZSB0aGUgaW5wdXQuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmcmFnbWVudCA9IGBcbiAqIHZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xuICogdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XG4gKiB2b2lkIG1haW4odm9pZClcbiAqIHtcbiAqICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XG4gKiB9XG4gKiBgO1xuICpcbiAqIGNvbnN0IG15RmlsdGVyID0gbmV3IFBJWEkuRmlsdGVyKG51bGwsIGZyYWdtZW50KTtcbiAqIGBgYFxuICpcbiAqIFRoaXMgZmlsdGVyIGlzIGp1c3Qgb25lIHVuaWZvcm0gbGVzcyB0aGFuIHtAbGluayBQSVhJLmZpbHRlcnMuQWxwaGFGaWx0ZXIgQWxwaGFGaWx0ZXJ9LlxuICpcbiAqICoqb3V0cHV0RnJhbWUqKlxuICpcbiAqIFRoZSBgb3V0cHV0RnJhbWVgIGhvbGRzIHRoZSByZWN0YW5nbGUgd2hlcmUgZmlsdGVyIGlzIGFwcGxpZWQgaW4gc2NyZWVuIChDU1MpIGNvb3JkaW5hdGVzLlxuICogSXQncyB0aGUgc2FtZSBhcyBgcmVuZGVyZXIuc2NyZWVuYCBmb3IgYSBmdWxsc2NyZWVuIGZpbHRlci5cbiAqIE9ubHkgYSBwYXJ0IG9mICBgb3V0cHV0RnJhbWUuendgIHNpemUgb2YgdGVtcG9yYXJ5IEZyYW1lYnVmZmVyIGlzIHVzZWQsXG4gKiBgKDAsIDAsIG91dHB1dEZyYW1lLndpZHRoLCBvdXRwdXRGcmFtZS5oZWlnaHQpYCxcbiAqXG4gKiBGaWx0ZXJzIHVzZXMgdGhpcyBxdWFkIHRvIG5vcm1hbGl6ZWQgKDAtMSkgc3BhY2UsIGl0cyBwYXNzZWQgaW50byBgYVZlcnRleFBvc2l0aW9uYCBhdHRyaWJ1dGUuXG4gKiBUbyBjYWxjdWxhdGUgdmVydGV4IHBvc2l0aW9uIGluIHNjcmVlbiBzcGFjZSB1c2luZyBub3JtYWxpemVkICgwLTEpIHNwYWNlOlxuICpcbiAqIGBgYFxuICogdmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXG4gKiB7XG4gKiAgICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XG4gKiAgICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xuICogfVxuICogYGBgXG4gKlxuICogKippbnB1dFNpemUqKlxuICpcbiAqIFRlbXBvcmFyeSBmcmFtZWJ1ZmZlciBpcyBkaWZmZXJlbnQsIGl0IGNhbiBiZSBlaXRoZXIgdGhlIHNpemUgb2Ygc2NyZWVuLCBlaXRoZXIgcG93ZXItb2YtdHdvLlxuICogVGhlIGBpbnB1dFNpemUueHlgIGFyZSBzaXplIG9mIHRlbXBvcmFyeSBmcmFtZWJ1ZmZlciB0aGF0IGhvbGRzIGlucHV0LlxuICogVGhlIGBpbnB1dFNpemUuendgIGlzIGludmVydGVkLCBpdCdzIGEgc2hvcnRjdXQgdG8gZXZhZGUgZGl2aXNpb24gaW5zaWRlIHRoZSBzaGFkZXIuXG4gKlxuICogU2V0IGBpbnB1dFNpemUueHkgPSBvdXRwdXRGcmFtZS56d2AgZm9yIGEgZnVsbHNjcmVlbiBmaWx0ZXIuXG4gKlxuICogVG8gY2FsY3VsYXRlIGlucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZSwgeW91IGhhdmUgdG8gbWFwIGl0IHRvIGZpbHRlciBub3JtYWxpemVkIHNwYWNlLlxuICogTXVsdGlwbHkgYnkgYG91dHB1dEZyYW1lLnp3YCB0byBnZXQgaW5wdXQgY29vcmRpbmF0ZS5cbiAqIERpdmlkZSBieSBgaW5wdXRTaXplLnh5YCB0byBnZXQgaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlLlxuICpcbiAqIGBgYFxuICogdmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxuICoge1xuICogICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpOyAvLyBzYW1lIGFzIC9pbnB1dFNpemUueHlcbiAqIH1cbiAqIGBgYFxuICogKipyZXNvbHV0aW9uKipcbiAqXG4gKiBUaGUgYHJlc29sdXRpb25gIGlzIHRoZSByYXRpbyBvZiBzY3JlZW4gKENTUykgcGl4ZWxzIHRvIHJlYWwgcGl4ZWxzLlxuICpcbiAqICoqaW5wdXRQaXhlbCoqXG4gKlxuICogYGlucHV0UGl4ZWwueHlgIGlzIHRoZSBzaXplIG9mIGZyYW1lYnVmZmVyIGluIHJlYWwgcGl4ZWxzLCBzYW1lIGFzIGBpbnB1dFNpemUueHkgKiByZXNvbHV0aW9uYFxuICogYGlucHV0UGl4ZWwuendgIGlzIGludmVydGVkIGBpbnB1dFBpeGVsLnh5YC5cbiAqXG4gKiBJdCdzIGhhbmR5IGZvciBmaWx0ZXJzIHRoYXQgdXNlIG5laWdoYm91ciBwaXhlbHMsIGxpa2Uge0BsaW5rIFBJWEkuZmlsdGVycy5GWEFBRmlsdGVyIEZYQUFGaWx0ZXJ9LlxuICpcbiAqICoqaW5wdXRDbGFtcCoqXG4gKlxuICogSWYgeW91IHRyeSB0byBnZXQgaW5mbyBmcm9tIG91dHNpZGUgb2YgdXNlZCBwYXJ0IG9mIEZyYW1lYnVmZmVyIC0geW91J2xsIGdldCB1bmRlZmluZWQgYmVoYXZpb3VyLlxuICogRm9yIGRpc3BsYWNlbWVudHMsIGNvb3JkaW5hdGVzIGhhcyB0byBiZSBjbGFtcGVkLlxuICpcbiAqIFRoZSBgaW5wdXRDbGFtcC54eWAgaXMgbGVmdC10b3AgcGl4ZWwgY2VudGVyLCB5b3UgbWF5IGlnbm9yZSBpdCwgYmVjYXVzZSB3ZSB1c2UgbGVmdC10b3AgcGFydCBvZiBGcmFtZWJ1ZmZlclxuICogYGlucHV0Q2xhbXAuendgIGlzIGJvdHRvbS1yaWdodCBwaXhlbCBjZW50ZXIuXG4gKlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcChtb2RpZmlnZWRUZXh0dXJlQ29vcmQsIGlucHV0Q2xhbXAueHksIGlucHV0Q2xhbXAuencpKVxuICogYGBgXG4gKiBPUlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBtaW4obW9kaWZpZ2VkVGV4dHVyZUNvb3JkLCBpbnB1dENsYW1wLnp3KSlcbiAqIGBgYFxuICpcbiAqICMjIyBBZGRpdGlvbmFsIEluZm9ybWF0aW9uXG4gKlxuICogQ29tcGxldGUgZG9jdW1lbnRhdGlvbiBvbiBGaWx0ZXIgdXNhZ2UgaXMgbG9jYXRlZCBpbiB0aGVcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvd2lraS92NS1DcmVhdGluZy1maWx0ZXJzIFdpa2l9LlxuICpcbiAqIFNpbmNlIFBpeGlKUyBvbmx5IGhhZCBhIGhhbmRmdWwgb2YgYnVpbHQtaW4gZmlsdGVycywgYWRkaXRpb25hbCBmaWx0ZXJzIGNhbiBiZSBkb3dubG9hZGVkXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWZpbHRlcnMgaGVyZX0gZnJvbSB0aGUgUGl4aUpTIEZpbHRlcnMgcmVwb3NpdG9yeS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICovXG52YXIgRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGaWx0ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3VuaWZvcm1zXSAtIEN1c3RvbSB1bmlmb3JtcyB0byB1c2UgdG8gYXVnbWVudCB0aGUgYnVpbHQtaW4gb25lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGaWx0ZXIodmVydGV4U3JjLCBmcmFnbWVudFNyYywgdW5pZm9ybXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHByb2dyYW0gPSBQcm9ncmFtLmZyb20odmVydGV4U3JjIHx8IEZpbHRlci5kZWZhdWx0VmVydGV4U3JjLCBmcmFnbWVudFNyYyB8fCBGaWx0ZXIuZGVmYXVsdEZyYWdtZW50U3JjKTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9ncmFtLCB1bmlmb3JtcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwYWRkaW5nIG9mIHRoZSBmaWx0ZXIuIFNvbWUgZmlsdGVycyByZXF1aXJlIGV4dHJhIHNwYWNlIHRvIGJyZWF0aCBzdWNoIGFzIGEgYmx1ci5cbiAgICAgICAgICogSW5jcmVhc2luZyB0aGlzIHdpbGwgYWRkIGV4dHJhIHdpZHRoIGFuZCBoZWlnaHQgdG8gdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0IHRoYXQgdGhlXG4gICAgICAgICAqIGZpbHRlciBpcyBhcHBsaWVkIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wYWRkaW5nID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBmaWx0ZXIuIFNldHRpbmcgdGhpcyB0byBiZSBsb3dlciB3aWxsIGxvd2VyIHRoZSBxdWFsaXR5IGJ1dFxuICAgICAgICAgKiBpbmNyZWFzZSB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhlIGZpbHRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZW5hYmxlZCBpcyB0cnVlIHRoZSBmaWx0ZXIgaXMgYXBwbGllZCwgaWYgZmFsc2UgaXQgd2lsbCBub3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGVuYWJsZWQsIFBpeGlKUyB3aWxsIGZpdCB0aGUgZmlsdGVyIGFyZWEgaW50byBib3VuZGFyaWVzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuXG4gICAgICAgICAqIFN3aXRjaCBpdCBvZmYgaWYgaXQgZG9lcyBub3Qgd29yayBmb3Igc3BlY2lmaWMgc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b0ZpdCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMZWdhY3kgZmlsdGVycyB1c2UgcG9zaXRpb24gYW5kIHV2cyBmcm9tIGF0dHJpYnV0ZXNcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sZWdhY3kgPSAhIV90aGlzLnByb2dyYW0uYXR0cmlidXRlRGF0YS5hVGV4dHVyZUNvb3JkO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHN0YXRlIHRoZSBmaWx0ZXIgcmVxdWlyZXMgdG8gcmVuZGVyXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IGNsZWFyTW9kZSAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2N1cnJlbnRTdGF0ZV0gLSBJdCdzIGN1cnJlbnQgc3RhdGUgb2YgZmlsdGVyLlxuICAgICAqICAgICAgICBUaGVyZSBhcmUgc29tZSB1c2VmdWwgcHJvcGVydGllcyBpbiB0aGUgY3VycmVudFN0YXRlIDpcbiAgICAgKiAgICAgICAgdGFyZ2V0LCBmaWx0ZXJzLCBzb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSwgcmVuZGVyVGFyZ2V0LCByZXNvbHV0aW9uXG4gICAgICovXG4gICAgRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUsIF9jdXJyZW50U3RhdGUpIHtcbiAgICAgICAgLy8gZG8gYXMgeW91IHBsZWFzZSFcbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgICAgICAvLyBvciBqdXN0IGRvIGEgcmVndWxhciByZW5kZXIuLlxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbHRlci5wcm90b3R5cGUsIFwiYmxlbmRNb2RlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGJsZW5kbW9kZSBvZiB0aGUgZmlsdGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaWx0ZXIsIFwiZGVmYXVsdFZlcnRleFNyY1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleCQxO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbHRlciwgXCJkZWZhdWx0RnJhZ21lbnRTcmNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdEZyYWdtZW50JDE7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gRmlsdGVyO1xufShTaGFkZXIpKTtcblxudmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIG90aGVyTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2TWFza0Nvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbiAgICB2TWFza0Nvb3JkID0gKCBvdGhlck1hdHJpeCAqIHZlYzMoIGFUZXh0dXJlQ29vcmQsIDEuMCkgICkueHk7XFxufVxcblwiO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2TWFza0Nvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gc2FtcGxlcjJEIG1hc2s7XFxudW5pZm9ybSBmbG9hdCBhbHBoYTtcXG51bmlmb3JtIGZsb2F0IG5wbUFscGhhO1xcbnVuaWZvcm0gdmVjNCBtYXNrQ2xhbXA7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBmbG9hdCBjbGlwID0gc3RlcCgzLjUsXFxuICAgICAgICBzdGVwKG1hc2tDbGFtcC54LCB2TWFza0Nvb3JkLngpICtcXG4gICAgICAgIHN0ZXAobWFza0NsYW1wLnksIHZNYXNrQ29vcmQueSkgK1xcbiAgICAgICAgc3RlcCh2TWFza0Nvb3JkLngsIG1hc2tDbGFtcC56KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueSwgbWFza0NsYW1wLncpKTtcXG5cXG4gICAgdmVjNCBvcmlnaW5hbCA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIHZlYzQgbWFza3kgPSB0ZXh0dXJlMkQobWFzaywgdk1hc2tDb29yZCk7XFxuICAgIGZsb2F0IGFscGhhTXVsID0gMS4wIC0gbnBtQWxwaGEgKiAoMS4wIC0gbWFza3kuYSk7XFxuXFxuICAgIG9yaWdpbmFsICo9IChhbHBoYU11bCAqIG1hc2t5LnIgKiBhbHBoYSAqIGNsaXApO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBvcmlnaW5hbDtcXG59XFxuXCI7XG5cbnZhciB0ZW1wTWF0ID0gbmV3IE1hdHJpeCgpO1xuLyoqXG4gKiBDbGFzcyBjb250cm9scyB1diBtYXBwaW5nIGZyb20gVGV4dHVyZSBub3JtYWwgc3BhY2UgdG8gQmFzZVRleHR1cmUgbm9ybWFsIHNwYWNlLlxuICpcbiAqIFRha2VzIGB0cmltYCBhbmQgYHJvdGF0ZWAgaW50byBhY2NvdW50LiBNYXkgY29udGFpbiBjbGFtcCBzZXR0aW5ncyBmb3IgTWVzaGVzIGFuZCBUaWxpbmdTcHJpdGUuXG4gKlxuICogQ2FuIGJlIHVzZWQgaW4gVGV4dHVyZSBgdXZNYXRyaXhgIGZpZWxkLCBvciBzZXBhcmF0ZWx5LCB5b3UgY2FuIHVzZSBkaWZmZXJlbnQgY2xhbXAgc2V0dGluZ3Mgb24gdGhlIHNhbWUgdGV4dHVyZS5cbiAqIElmIHlvdSB3YW50IHRvIGFkZCBzdXBwb3J0IGZvciB0ZXh0dXJlIHJlZ2lvbiBvZiBjZXJ0YWluIGZlYXR1cmUgb3IgZmlsdGVyLCB0aGF0J3Mgd2hhdCB5b3UncmUgbG9va2luZyBmb3IuXG4gKlxuICogVGFrZXMgdHJhY2sgb2YgVGV4dHVyZSBjaGFuZ2VzIHRocm91Z2ggYF9sYXN0VGV4dHVyZUlEYCBwcml2YXRlIGZpZWxkLlxuICogVXNlIGB1cGRhdGUoKWAgbWV0aG9kIGNhbGwgdG8gdHJhY2sgaXQgZnJvbSBvdXRzaWRlLlxuICpcbiAqIEBzZWUgUElYSS5UZXh0dXJlXG4gKiBAc2VlIFBJWEkuTWVzaFxuICogQHNlZSBQSVhJLlRpbGluZ1Nwcml0ZVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dHVyZU1hdHJpeCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gb2JzZXJ2ZWQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY2xhbXBNYXJnaW5dIC0gQ2hhbmdlcyBmcmFtZSBjbGFtcGluZywgMC41IGJ5IGRlZmF1bHQuIFVzZSAtMC41IGZvciBleHRyYSBib3JkZXIuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dHVyZU1hdHJpeCh0ZXh0dXJlLCBjbGFtcE1hcmdpbikge1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hdHJpeCBvcGVyYXRpb24gdGhhdCBjb252ZXJ0cyB0ZXh0dXJlIHJlZ2lvbiBjb29yZHMgdG8gdGV4dHVyZSBjb29yZHNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXBDb29yZCA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsYW1wIHJlZ2lvbiBmb3Igbm9ybWFsaXplZCBjb29yZHMsIGxlZnQtdG9wIHBpeGVsIGNlbnRlciBpbiB4eSAsIGJvdHRvbS1yaWdodCBpbiB6dy5cbiAgICAgICAgICogQ2FsY3VsYXRlZCBiYXNlZCBvbiBjbGFtcE9mZnNldC5cbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudUNsYW1wRnJhbWUgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm9ybWFsaXplZCBjbGFtcCBvZmZzZXQuXG4gICAgICAgICAqIENhbGN1bGF0ZWQgYmFzZWQgb24gY2xhbXBPZmZzZXQuXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVDbGFtcE9mZnNldCA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFja3MgVGV4dHVyZSBmcmFtZSBjaGFuZ2VzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFja3MgVGV4dHVyZSBmcmFtZSBjaGFuZ2VzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZ1xuICAgICAgICAgKiBXb3JrcyB3aXRoIFRpbGluZ1Nwcml0ZSBhbmQgTWVzaFxuICAgICAgICAgKiBDaGFuZ2UgdG8gMS41IGlmIHlvdSB0ZXh0dXJlIGhhcyByZXBlYXRlZCByaWdodCBhbmQgYm90dG9tIGxpbmVzLCB0aGF0IGxlYWRzIHRvIHNtb290aGVyIGJvcmRlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsYW1wT2Zmc2V0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmdcbiAgICAgICAgICogV29ya3Mgd2l0aCBUaWxpbmdTcHJpdGUgYW5kIE1lc2hcbiAgICAgICAgICogQ2hhbmdlIHRvIC0wLjUgdG8gYWRkIGEgcGl4ZWwgdG8gdGhlIGVkZ2UsIHJlY29tbWVuZGVkIGZvciB0cmFuc3BhcmVudCB0cmltbWVkIHRleHR1cmVzIGluIGF0bGFzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsYW1wTWFyZ2luID0gKHR5cGVvZiBjbGFtcE1hcmdpbiA9PT0gJ3VuZGVmaW5lZCcpID8gMC41IDogY2xhbXBNYXJnaW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0ZXh0dXJlIHNpemUgaXMgdGhlIHNhbWUgYXMgYmFzZVRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzU2ltcGxlID0gZmFsc2U7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0dXJlTWF0cml4LnByb3RvdHlwZSwgXCJ0ZXh0dXJlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRleHR1cmUgcHJvcGVydHlcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB1dnMgYXJyYXkgdG8gdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHV2cyAtIG1lc2ggdXZzXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXQ9dXZzXSBvdXRwdXRcbiAgICAgKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSBvdXRwdXRcbiAgICAgKi9cbiAgICBUZXh0dXJlTWF0cml4LnByb3RvdHlwZS5tdWx0aXBseVV2cyA9IGZ1bmN0aW9uICh1dnMsIG91dCkge1xuICAgICAgICBpZiAob3V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG91dCA9IHV2cztcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWF0ID0gdGhpcy5tYXBDb29yZDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1dnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciB4ID0gdXZzW2ldO1xuICAgICAgICAgICAgdmFyIHkgPSB1dnNbaSArIDFdO1xuICAgICAgICAgICAgb3V0W2ldID0gKHggKiBtYXQuYSkgKyAoeSAqIG1hdC5jKSArIG1hdC50eDtcbiAgICAgICAgICAgIG91dFtpICsgMV0gPSAoeCAqIG1hdC5iKSArICh5ICogbWF0LmQpICsgbWF0LnR5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiB1cGRhdGVzIG1hdHJpY2VzIGlmIHRleHR1cmUgd2FzIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZVVwZGF0ZT1mYWxzZV0gLSBpZiB0cnVlLCBtYXRyaWNlcyB3aWxsIGJlIHVwZGF0ZWQgYW55IGNhc2VcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgaXQgd2FzIHVwZGF0ZWRcbiAgICAgKi9cbiAgICBUZXh0dXJlTWF0cml4LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZm9yY2VVcGRhdGUpIHtcbiAgICAgICAgdmFyIHRleCA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIGlmICghdGV4IHx8ICF0ZXgudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZvcmNlVXBkYXRlXG4gICAgICAgICAgICAmJiB0aGlzLl90ZXh0dXJlSUQgPT09IHRleC5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0ZXguX3VwZGF0ZUlEO1xuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgICAgICB2YXIgdXZzID0gdGV4Ll91dnM7XG4gICAgICAgIHRoaXMubWFwQ29vcmQuc2V0KHV2cy54MSAtIHV2cy54MCwgdXZzLnkxIC0gdXZzLnkwLCB1dnMueDMgLSB1dnMueDAsIHV2cy55MyAtIHV2cy55MCwgdXZzLngwLCB1dnMueTApO1xuICAgICAgICB2YXIgb3JpZyA9IHRleC5vcmlnO1xuICAgICAgICB2YXIgdHJpbSA9IHRleC50cmltO1xuICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgdGVtcE1hdC5zZXQob3JpZy53aWR0aCAvIHRyaW0ud2lkdGgsIDAsIDAsIG9yaWcuaGVpZ2h0IC8gdHJpbS5oZWlnaHQsIC10cmltLnggLyB0cmltLndpZHRoLCAtdHJpbS55IC8gdHJpbS5oZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5tYXBDb29yZC5hcHBlbmQodGVtcE1hdCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleEJhc2UgPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBmcmFtZSA9IHRoaXMudUNsYW1wRnJhbWU7XG4gICAgICAgIHZhciBtYXJnaW4gPSB0aGlzLmNsYW1wTWFyZ2luIC8gdGV4QmFzZS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5jbGFtcE9mZnNldDtcbiAgICAgICAgZnJhbWVbMF0gPSAodGV4Ll9mcmFtZS54ICsgbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2Uud2lkdGg7XG4gICAgICAgIGZyYW1lWzFdID0gKHRleC5fZnJhbWUueSArIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLmhlaWdodDtcbiAgICAgICAgZnJhbWVbMl0gPSAodGV4Ll9mcmFtZS54ICsgdGV4Ll9mcmFtZS53aWR0aCAtIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgICAgICBmcmFtZVszXSA9ICh0ZXguX2ZyYW1lLnkgKyB0ZXguX2ZyYW1lLmhlaWdodCAtIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLmhlaWdodDtcbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXRbMF0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxXaWR0aDtcbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXRbMV0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxIZWlnaHQ7XG4gICAgICAgIHRoaXMuaXNTaW1wbGUgPSB0ZXguX2ZyYW1lLndpZHRoID09PSB0ZXhCYXNlLndpZHRoXG4gICAgICAgICAgICAmJiB0ZXguX2ZyYW1lLmhlaWdodCA9PT0gdGV4QmFzZS5oZWlnaHRcbiAgICAgICAgICAgICYmIHRleC5yb3RhdGUgPT09IDA7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIFRleHR1cmVNYXRyaXg7XG59KCkpO1xuXG4vKipcbiAqIFRoaXMgaGFuZGxlcyBhIFNwcml0ZSBhY3RpbmcgYXMgYSBtYXNrLCBhcyBvcHBvc2VkIHRvIGEgR3JhcGhpYy5cbiAqXG4gKiBXZWJHTCBvbmx5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGVNYXNrRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTcHJpdGVNYXNrRmlsdGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIHRoZSB0YXJnZXQgc3ByaXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3ByaXRlTWFza0ZpbHRlcihzcHJpdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1hc2tNYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdmVydGV4LCBmcmFnbWVudCkgfHwgdGhpcztcbiAgICAgICAgc3ByaXRlLnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwcml0ZSBtYXNrXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgbWF0cml4XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza01hdHJpeCA9IG1hc2tNYXRyaXg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlck1hbmFnZXIgLSBUaGUgcmVuZGVyZXIgdG8gcmV0cmlldmUgdGhlIGZpbHRlciBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7UElYSS5DTEVBUl9NT0RFU30gY2xlYXJNb2RlIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0LlxuICAgICAqL1xuICAgIFNwcml0ZU1hc2tGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSkge1xuICAgICAgICB2YXIgbWFza1Nwcml0ZSA9IHRoaXMubWFza1Nwcml0ZTtcbiAgICAgICAgdmFyIHRleCA9IG1hc2tTcHJpdGUuX3RleHR1cmU7XG4gICAgICAgIGlmICghdGV4LnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0ZXgudXZNYXRyaXgpIHtcbiAgICAgICAgICAgIC8vIG1hcmdpbiA9IDAuMCwgbGV0IGl0IGJsZWVkIGEgYml0LCBzaGFkZXIgY29kZSBiZWNvbWVzIGVhc2llclxuICAgICAgICAgICAgLy8gYXNzdW1pbmcgdGhhdCBhdGxhcyB0ZXh0dXJlcyB3ZXJlIG1hZGUgd2l0aCAxLXBpeGVsIHBhZGRpbmdcbiAgICAgICAgICAgIHRleC51dk1hdHJpeCA9IG5ldyBUZXh0dXJlTWF0cml4KHRleCwgMC4wKTtcbiAgICAgICAgfVxuICAgICAgICB0ZXgudXZNYXRyaXgudXBkYXRlKCk7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubnBtQWxwaGEgPSB0ZXguYmFzZVRleHR1cmUuYWxwaGFNb2RlID8gMC4wIDogMS4wO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hc2sgPSB0ZXg7XG4gICAgICAgIC8vIGdldCBfbm9ybWFsaXplZCBzcHJpdGUgdGV4dHVyZSBjb29yZHNfIGFuZCBjb252ZXJ0IHRoZW0gdG8gX25vcm1hbGl6ZWQgYXRsYXMgdGV4dHVyZSBjb29yZHNfIHdpdGggYHByZXBlbmRgXG4gICAgICAgIHRoaXMudW5pZm9ybXMub3RoZXJNYXRyaXggPSBmaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCh0aGlzLm1hc2tNYXRyaXgsIG1hc2tTcHJpdGUpXG4gICAgICAgICAgICAucHJlcGVuZCh0ZXgudXZNYXRyaXgubWFwQ29vcmQpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLmFscGhhID0gbWFza1Nwcml0ZS53b3JsZEFscGhhO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hc2tDbGFtcCA9IHRleC51dk1hdHJpeC51Q2xhbXBGcmFtZTtcbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgIH07XG4gICAgcmV0dXJuIFNwcml0ZU1hc2tGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBtYXNrcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBNYXNrU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNYXNrU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hc2tTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbmFibGUgc2Npc3NvclxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVuYWJsZVNjaXNzb3IgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgdXNlZCBzcHJpdGUgbWFzayBmaWx0ZXJzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlTWFza0ZpbHRlcltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFscGhhTWFza1Bvb2wgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgbWFzayBkYXRhXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWFza0RhdGFbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXNrRGF0YVBvb2wgPSBbXTtcbiAgICAgICAgX3RoaXMubWFza1N0YWNrID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGluZGV4IG9mIGFscGhhIG1hc2sgcG9vbFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbHBoYU1hc2tJbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgbWFzayBzdGFjayB0aGF0IGlzIHVzZWQgYnkgdGhpcyBTeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGFbXX0gbWFza1N0YWNrIC0gVGhlIG1hc2sgc3RhY2tcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5zZXRNYXNrU3RhY2sgPSBmdW5jdGlvbiAobWFza1N0YWNrKSB7XG4gICAgICAgIHRoaXMubWFza1N0YWNrID0gbWFza1N0YWNrO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNjaXNzb3Iuc2V0TWFza1N0YWNrKG1hc2tTdGFjayk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5zZXRNYXNrU3RhY2sobWFza1N0YWNrKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqIFJlbmRlcmVyIGJhdGNoIG11c3QgYmUgZmx1c2hlZCBiZWZvcmVoYW5kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHB1c2ggdGhlIG1hc2sgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF8UElYSS5TcHJpdGV8UElYSS5HcmFwaGljc3xQSVhJLkRpc3BsYXlPYmplY3R9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKHRhcmdldCwgbWFza0RhdGFPclRhcmdldCkge1xuICAgICAgICB2YXIgbWFza0RhdGEgPSBtYXNrRGF0YU9yVGFyZ2V0O1xuICAgICAgICBpZiAoIW1hc2tEYXRhLmlzTWFza0RhdGEpIHtcbiAgICAgICAgICAgIHZhciBkID0gdGhpcy5tYXNrRGF0YVBvb2wucG9wKCkgfHwgbmV3IE1hc2tEYXRhKCk7XG4gICAgICAgICAgICBkLnBvb2xlZCA9IHRydWU7XG4gICAgICAgICAgICBkLm1hc2tPYmplY3QgPSBtYXNrRGF0YU9yVGFyZ2V0O1xuICAgICAgICAgICAgbWFza0RhdGEgPSBkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXNrRGF0YS5hdXRvRGV0ZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmRldGVjdChtYXNrRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgbWFza0RhdGEuY29weUNvdW50ZXJzT3JSZXNldCh0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXSk7XG4gICAgICAgIG1hc2tEYXRhLl90YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHN3aXRjaCAobWFza0RhdGEudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNDSVNTT1I6XG4gICAgICAgICAgICAgICAgdGhpcy5tYXNrU3RhY2sucHVzaChtYXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zY2lzc29yLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNURU5DSUw6XG4gICAgICAgICAgICAgICAgdGhpcy5tYXNrU3RhY2sucHVzaChtYXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zdGVuY2lsLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNQUklURTpcbiAgICAgICAgICAgICAgICBtYXNrRGF0YS5jb3B5Q291bnRlcnNPclJlc2V0KG51bGwpO1xuICAgICAgICAgICAgICAgIHRoaXMucHVzaFNwcml0ZU1hc2sobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMubWFza1N0YWNrLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBtYXNrIGZyb20gdGhlIG1hc2sgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqIFJlbmRlcmVyIGJhdGNoIG11c3QgYmUgZmx1c2hlZCBiZWZvcmVoYW5kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHBvcCB0aGUgbWFzayBmcm9tXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICB2YXIgbWFza0RhdGEgPSB0aGlzLm1hc2tTdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKCFtYXNrRGF0YSB8fCBtYXNrRGF0YS5fdGFyZ2V0ICE9PSB0YXJnZXQpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGFkZCBhbiBhc3NlcnQgd2hlbiB3ZSBoYXZlIGl0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChtYXNrRGF0YS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU0NJU1NPUjpcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNjaXNzb3IucG9wKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU1RFTkNJTDpcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwucG9wKG1hc2tEYXRhLm1hc2tPYmplY3QpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNQUklURTpcbiAgICAgICAgICAgICAgICB0aGlzLnBvcFNwcml0ZU1hc2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbWFza0RhdGEucmVzZXQoKTtcbiAgICAgICAgaWYgKG1hc2tEYXRhLnBvb2xlZCkge1xuICAgICAgICAgICAgdGhpcy5tYXNrRGF0YVBvb2wucHVzaChtYXNrRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdHlwZSBvZiBNYXNrRGF0YSBiYXNlZCBvbiBpdHMgbWFza09iamVjdFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YX0gbWFza0RhdGFcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5kZXRlY3QgPSBmdW5jdGlvbiAobWFza0RhdGEpIHtcbiAgICAgICAgdmFyIG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuICAgICAgICBpZiAobWFza09iamVjdC5pc1Nwcml0ZSkge1xuICAgICAgICAgICAgbWFza0RhdGEudHlwZSA9IE1BU0tfVFlQRVMuU1BSSVRFO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG1hc2tEYXRhLnR5cGUgPSBNQVNLX1RZUEVTLlNURU5DSUw7XG4gICAgICAgIC8vIGRldGVjdCBzY2lzc29yIGluIGdyYXBoaWNzXG4gICAgICAgIGlmICh0aGlzLmVuYWJsZVNjaXNzb3JcbiAgICAgICAgICAgICYmIG1hc2tPYmplY3QuaXNGYXN0UmVjdFxuICAgICAgICAgICAgJiYgbWFza09iamVjdC5pc0Zhc3RSZWN0KCkpIHtcbiAgICAgICAgICAgIHZhciBtYXRyaXggPSBtYXNrT2JqZWN0LndvcmxkVHJhbnNmb3JtO1xuICAgICAgICAgICAgLy8gVE9ETzogbW92ZSB0aGUgY2hlY2sgdG8gdGhlIG1hdHJpeCBpdHNlbGZcbiAgICAgICAgICAgIC8vIHdlIGFyZSBjaGVja2luZyB0aGF0IGl0cyBvcnRob2dvbmFsIGFuZCB4IHJvdGF0aW9uIGlzIDAgOTAgMTgwIG9yIDI3MFxuICAgICAgICAgICAgdmFyIHJvdFggPSBNYXRoLmF0YW4yKG1hdHJpeC5iLCBtYXRyaXguYSk7XG4gICAgICAgICAgICB2YXIgcm90WFkgPSBNYXRoLmF0YW4yKG1hdHJpeC5kLCBtYXRyaXguYyk7XG4gICAgICAgICAgICAvLyB1c2UgdGhlIG5lYXJlc3QgZGVncmVlIHRvIDAuMDFcbiAgICAgICAgICAgIHJvdFggPSBNYXRoLnJvdW5kKHJvdFggKiAoMTgwIC8gTWF0aC5QSSkgKiAxMDApO1xuICAgICAgICAgICAgcm90WFkgPSBNYXRoLnJvdW5kKHJvdFhZICogKDE4MCAvIE1hdGguUEkpICogMTAwKSAtIHJvdFg7XG4gICAgICAgICAgICByb3RYID0gKChyb3RYICUgOTAwMCkgKyA5MDAwKSAlIDkwMDA7XG4gICAgICAgICAgICByb3RYWSA9ICgocm90WFkgJSAxODAwMCkgKyAxODAwMCkgJSAxODAwMDtcbiAgICAgICAgICAgIGlmIChyb3RYID09PSAwICYmIHJvdFhZID09PSA5MDAwKSB7XG4gICAgICAgICAgICAgICAgbWFza0RhdGEudHlwZSA9IE1BU0tfVFlQRVMuU0NJU1NPUjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF9IG1hc2tEYXRhIC0gU3ByaXRlIHRvIGJlIHVzZWQgYXMgdGhlIG1hc2tcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wdXNoU3ByaXRlTWFzayA9IGZ1bmN0aW9uIChtYXNrRGF0YSkge1xuICAgICAgICB2YXIgbWFza09iamVjdCA9IG1hc2tEYXRhLm1hc2tPYmplY3Q7XG4gICAgICAgIHZhciB0YXJnZXQgPSBtYXNrRGF0YS5fdGFyZ2V0O1xuICAgICAgICB2YXIgYWxwaGFNYXNrRmlsdGVyID0gdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdO1xuICAgICAgICBpZiAoIWFscGhhTWFza0ZpbHRlcikge1xuICAgICAgICAgICAgYWxwaGFNYXNrRmlsdGVyID0gdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdID0gW25ldyBTcHJpdGVNYXNrRmlsdGVyKG1hc2tPYmplY3QpXTtcbiAgICAgICAgfVxuICAgICAgICBhbHBoYU1hc2tGaWx0ZXJbMF0ucmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyWzBdLm1hc2tTcHJpdGUgPSBtYXNrT2JqZWN0O1xuICAgICAgICB2YXIgc3Rhc2hGaWx0ZXJBcmVhID0gdGFyZ2V0LmZpbHRlckFyZWE7XG4gICAgICAgIHRhcmdldC5maWx0ZXJBcmVhID0gbWFza09iamVjdC5nZXRCb3VuZHModHJ1ZSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZmlsdGVyLnB1c2godGFyZ2V0LCBhbHBoYU1hc2tGaWx0ZXIpO1xuICAgICAgICB0YXJnZXQuZmlsdGVyQXJlYSA9IHN0YXNoRmlsdGVyQXJlYTtcbiAgICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBmaWx0ZXIgZnJvbSB0aGUgZmlsdGVyIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wb3BTcHJpdGVNYXNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZpbHRlci5wb3AoKTtcbiAgICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleC0tO1xuICAgIH07XG4gICAgcmV0dXJuIE1hc2tTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBtYXNrcyBvZiBjZXJ0YWluIHR5cGVcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBBYnN0cmFjdE1hc2tTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFic3RyYWN0TWFza1N5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBYnN0cmFjdE1hc2tTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFzayBzdGFja1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hc2tEYXRhW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXNrU3RhY2sgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnN0YW50IGZvciBnbC5lbmFibGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2xDb25zdCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0cyBjb3VudCBvZiBtYXNrcyBvZiBjZXJ0YWluIHR5cGVcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIEFic3RyYWN0TWFza1N5c3RlbS5wcm90b3R5cGUuZ2V0U3RhY2tMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hc2tTdGFjay5sZW5ndGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBtYXNrIHN0YWNrIHRoYXQgaXMgdXNlZCBieSB0aGlzIFN5c3RlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YVtdfSBtYXNrU3RhY2sgLSBUaGUgbWFzayBzdGFja1xuICAgICAqL1xuICAgIEFic3RyYWN0TWFza1N5c3RlbS5wcm90b3R5cGUuc2V0TWFza1N0YWNrID0gZnVuY3Rpb24gKG1hc2tTdGFjaykge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgY3VyU3RhY2tMZW4gPSB0aGlzLmdldFN0YWNrTGVuZ3RoKCk7XG4gICAgICAgIHRoaXMubWFza1N0YWNrID0gbWFza1N0YWNrO1xuICAgICAgICB2YXIgbmV3U3RhY2tMZW4gPSB0aGlzLmdldFN0YWNrTGVuZ3RoKCk7XG4gICAgICAgIGlmIChuZXdTdGFja0xlbiAhPT0gY3VyU3RhY2tMZW4pIHtcbiAgICAgICAgICAgIGlmIChuZXdTdGFja0xlbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGdsLmRpc2FibGUodGhpcy5nbENvbnN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZSh0aGlzLmdsQ29uc3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0dXAgcmVuZGVyZXIgdG8gdXNlIHRoZSBjdXJyZW50IG1hc2sgZGF0YS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFic3RyYWN0TWFza1N5c3RlbS5wcm90b3R5cGUuX3VzZUN1cnJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIE9WRVJXUklURTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBtYXNrIHN0YWNrLlxuICAgICAqXG4gICAgICovXG4gICAgQWJzdHJhY3RNYXNrU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5tYXNrU3RhY2sgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0TWFza1N5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHNjaXNzb3IgcmVjdHMgKHVzZWQgZm9yIG1hc2tzKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBTY2lzc29yU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTY2lzc29yU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNjaXNzb3JTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmdsQ29uc3QgPSBXZWJHTFJlbmRlcmluZ0NvbnRleHQuU0NJU1NPUl9URVNUO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNjaXNzb3JTeXN0ZW0ucHJvdG90eXBlLmdldFN0YWNrTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFza0RhdGEgPSB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKG1hc2tEYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFza0RhdGEuX3NjaXNzb3JDb3VudGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBzdGVuY2lsIHN0YWNrLiBAYWx2aW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YX0gbWFza0RhdGEgLSBUaGUgbWFzayBkYXRhXG4gICAgICovXG4gICAgU2Npc3NvclN5c3RlbS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChtYXNrRGF0YSkge1xuICAgICAgICB2YXIgbWFza09iamVjdCA9IG1hc2tEYXRhLm1hc2tPYmplY3Q7XG4gICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgIHZhciBwcmV2RGF0YSA9IG1hc2tEYXRhLl9zY2lzc29yUmVjdDtcbiAgICAgICAgdmFyIGJvdW5kcyA9IG1hc2tPYmplY3QuZ2V0Qm91bmRzKHRydWUpO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHByZXZEYXRhKSB7XG4gICAgICAgICAgICBib3VuZHMuZml0KHByZXZEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICB9XG4gICAgICAgIG1hc2tEYXRhLl9zY2lzc29yQ291bnRlcisrO1xuICAgICAgICBtYXNrRGF0YS5fc2Npc3NvclJlY3QgPSBib3VuZHM7XG4gICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBvcHMgc2Npc3NvciBtYXNrLiBNYXNrRGF0YSBpcyBhbHJlYWR5IHJlbW92ZWQgZnJvbSBzdGFja1xuICAgICAqL1xuICAgIFNjaXNzb3JTeXN0ZW0ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgaWYgKHRoaXMuZ2V0U3RhY2tMZW5ndGgoKSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0dXAgcmVuZGVyZXIgdG8gdXNlIHRoZSBjdXJyZW50IHNjaXNzb3IgZGF0YS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNjaXNzb3JTeXN0ZW0ucHJvdG90eXBlLl91c2VDdXJyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVjdCA9IHRoaXMubWFza1N0YWNrW3RoaXMubWFza1N0YWNrLmxlbmd0aCAtIDFdLl9zY2lzc29yUmVjdDtcbiAgICAgICAgdmFyIHJ0ID0gdGhpcy5yZW5kZXJlci5yZW5kZXJUZXh0dXJlLmN1cnJlbnQ7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucmVuZGVyZXIucHJvamVjdGlvbiwgdHJhbnNmb3JtID0gX2EudHJhbnNmb3JtLCBzb3VyY2VGcmFtZSA9IF9hLnNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lID0gX2EuZGVzdGluYXRpb25GcmFtZTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBydCA/IHJ0LnJlc29sdXRpb24gOiB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgIHZhciB4ID0gKChyZWN0LnggLSBzb3VyY2VGcmFtZS54KSAqIHJlc29sdXRpb24pICsgZGVzdGluYXRpb25GcmFtZS54O1xuICAgICAgICB2YXIgeSA9ICgocmVjdC55IC0gc291cmNlRnJhbWUueSkgKiByZXNvbHV0aW9uKSArIGRlc3RpbmF0aW9uRnJhbWUueTtcbiAgICAgICAgdmFyIHdpZHRoID0gcmVjdC53aWR0aCAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBoZWlnaHQgPSByZWN0LmhlaWdodCAqIHJlc29sdXRpb247XG4gICAgICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHggKz0gdHJhbnNmb3JtLnR4ICogcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHkgKz0gdHJhbnNmb3JtLnR5ICogcmVzb2x1dGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJ0KSB7XG4gICAgICAgICAgICAvLyBmbGlwWS4gSW4gZnV0dXJlIHdlJ2xsIGhhdmUgaXQgb3ZlciByZW5kZXJUZXh0dXJlcyBhcyBhbiBvcHRpb25cbiAgICAgICAgICAgIHkgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCAtIGhlaWdodCAtIHk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5zY2lzc29yKHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgIH07XG4gICAgcmV0dXJuIFNjaXNzb3JTeXN0ZW07XG59KEFic3RyYWN0TWFza1N5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzdGVuY2lscyAodXNlZCBmb3IgbWFza3MpLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIFN0ZW5jaWxTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0ZW5jaWxTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3RlbmNpbFN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZ2xDb25zdCA9IFdlYkdMUmVuZGVyaW5nQ29udGV4dC5TVEVOQ0lMX1RFU1Q7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUuZ2V0U3RhY2tMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXNrRGF0YSA9IHRoaXMubWFza1N0YWNrW3RoaXMubWFza1N0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAobWFza0RhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXNrRGF0YS5fc3RlbmNpbENvdW50ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IHN0ZW5jaWwgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF9IG1hc2tEYXRhIC0gVGhlIG1hc2sgZGF0YVxuICAgICAqL1xuICAgIFN0ZW5jaWxTeXN0ZW0ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAobWFza0RhdGEpIHtcbiAgICAgICAgdmFyIG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgcHJldk1hc2tDb3VudCA9IG1hc2tEYXRhLl9zdGVuY2lsQ291bnRlcjtcbiAgICAgICAgaWYgKHByZXZNYXNrQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGZvcmNlIHVzZSBzdGVuY2lsIHRleHR1cmUgaW4gY3VycmVudCBmcmFtZWJ1ZmZlclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5mcmFtZWJ1ZmZlci5mb3JjZVN0ZW5jaWwoKTtcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICB9XG4gICAgICAgIG1hc2tEYXRhLl9zdGVuY2lsQ291bnRlcisrO1xuICAgICAgICAvLyBJbmNyZW1lbnQgdGhlIHJlZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBuZXcgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvbGQgb25lcy5cbiAgICAgICAgZ2wuY29sb3JNYXNrKGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgZ2wuc3RlbmNpbEZ1bmMoZ2wuRVFVQUwsIHByZXZNYXNrQ291bnQsIHRoaXMuX2dldEJpdHdpc2VNYXNrKCkpO1xuICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuSU5DUik7XG4gICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgIG1hc2tPYmplY3QucmVuZGVyKHRoaXMucmVuZGVyZXIpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQb3BzIHN0ZW5jaWwgbWFzay4gTWFza0RhdGEgaXMgYWxyZWFkeSByZW1vdmVkIGZyb20gc3RhY2tcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBtYXNrT2JqZWN0IC0gb2JqZWN0IG9mIHBvcHBlZCBtYXNrIGRhdGFcbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAobWFza09iamVjdCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICBpZiAodGhpcy5nZXRTdGFja0xlbmd0aCgpID09PSAwKSB7XG4gICAgICAgICAgICAvLyB0aGUgc3RhY2sgaXMgZW1wdHkhXG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgICAgICBnbC5jbGVhcihnbC5TVEVOQ0lMX0JVRkZFUl9CSVQpO1xuICAgICAgICAgICAgZ2wuY2xlYXJTdGVuY2lsKDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gRGVjcmVtZW50IHRoZSByZWZlcmVuY2Ugc3RlbmNpbCB2YWx1ZSB3aGVyZSB0aGUgcG9wcGVkIG1hc2sgb3ZlcmxhcHMgd2l0aCB0aGUgb3RoZXIgb25lc1xuICAgICAgICAgICAgZ2wuY29sb3JNYXNrKGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5ERUNSKTtcbiAgICAgICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXR1cCByZW5kZXJlciB0byB1c2UgdGhlIGN1cnJlbnQgc3RlbmNpbCBkYXRhLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUuX3VzZUN1cnJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGdsLmNvbG9yTWFzayh0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgZ2wuc3RlbmNpbEZ1bmMoZ2wuRVFVQUwsIHRoaXMuZ2V0U3RhY2tMZW5ndGgoKSwgdGhpcy5fZ2V0Qml0d2lzZU1hc2soKSk7XG4gICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5LRUVQKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbGwgMXMgZXF1YWwgdG8gdGhlIG51bWJlciBvZiBhY2l0dmUgc3RlbmNpbCBtYXNrcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGJpdHdpc2UgbWFzay5cbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5fZ2V0Qml0d2lzZU1hc2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAoMSA8PCB0aGlzLmdldFN0YWNrTGVuZ3RoKCkpIC0gMTtcbiAgICB9O1xuICAgIHJldHVybiBTdGVuY2lsU3lzdGVtO1xufShBYnN0cmFjdE1hc2tTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGhlIHByb2plY3Rpb24gbWF0cml4LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIFByb2plY3Rpb25TeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFByb2plY3Rpb25TeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUHJvamVjdGlvblN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNvdXJjZUZyYW1lID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgZGVzdGluYXRpb24gZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVmYXVsdEZyYW1lID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb2plY3QgbWF0cml4XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnByb2plY3Rpb25NYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRyYW5zZm9ybSB0aGF0IHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICAgICAqIGlmIG51bGwsIG5vdGhpbmcgd2lsbCBiZSBhcHBsaWVkXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwcm9qZWN0aW9uIG1hdHJpeCBiYXNlZCBvbiBhIHByb2plY3Rpb24gZnJhbWUgKHdoaWNoIGlzIGEgcmVjdGFuZ2xlKS5cbiAgICAgKlxuICAgICAqIE1ha2Ugc3VyZSB0byBydW4gYHJlbmRlcmVyLmZyYW1lYnVmZmVyLnNldFZpZXdwb3J0KGRlc3RpbmF0aW9uRnJhbWUpYCBhZnRlciBjYWxsaW5nIHRoaXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gVGhlIGRlc3RpbmF0aW9uIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHNvdXJjZUZyYW1lIC0gVGhlIHNvdXJjZSBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmVzb2x1dGlvbiAtIFJlc29sdXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJvb3QgLSBJZiBpcyByb290XG4gICAgICovXG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IGRlc3RpbmF0aW9uRnJhbWUgfHwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lIHx8IHRoaXMuZGVmYXVsdEZyYW1lO1xuICAgICAgICB0aGlzLnNvdXJjZUZyYW1lID0gc291cmNlRnJhbWUgfHwgdGhpcy5zb3VyY2VGcmFtZSB8fCBkZXN0aW5hdGlvbkZyYW1lO1xuICAgICAgICAvLyBDYWxjdWxhdGUgb2JqZWN0LXNwYWNlIHRvIGNsaXAtc3BhY2UgcHJvamVjdGlvblxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVByb2plY3Rpb24odGhpcy5kZXN0aW5hdGlvbkZyYW1lLCB0aGlzLnNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KTtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0aGlzLnByb2plY3Rpb25NYXRyaXguYXBwZW5kKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4ID0gdGhpcy5wcm9qZWN0aW9uTWF0cml4O1xuICAgICAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51cGRhdGUoKTtcbiAgICAgICAgLy8gdGhpcyB3aWxsIHdvcmsgZm9yIG5vd1xuICAgICAgICAvLyBidXQgd291bGQgYmUgc3dlZXQgdG8gc3RpY2sgYW5kIGV2ZW4gb24gdGhlIGdsb2JhbCB1bmlmb3Jtcy4uXG4gICAgICAgIGlmIChyZW5kZXJlci5zaGFkZXIuc2hhZGVyKSB7XG4gICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuc3luY1VuaWZvcm1Hcm91cChyZW5kZXJlci5zaGFkZXIuc2hhZGVyLnVuaWZvcm1zLmdsb2JhbHMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwcm9qZWN0aW9uIG1hdHJpeCBiYXNlZCBvbiBhIHByb2plY3Rpb24gZnJhbWUgKHdoaWNoIGlzIGEgcmVjdGFuZ2xlKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIFRoZSBkZXN0aW5hdGlvbiBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBzb3VyY2VGcmFtZSAtIFRoZSBzb3VyY2UgZnJhbWUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJlc29sdXRpb24gLSBSZXNvbHV0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSByb290IC0gSWYgaXMgcm9vdFxuICAgICAqL1xuICAgIFByb2plY3Rpb25TeXN0ZW0ucHJvdG90eXBlLmNhbGN1bGF0ZVByb2plY3Rpb24gPSBmdW5jdGlvbiAoX2Rlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCBfcmVzb2x1dGlvbiwgcm9vdCkge1xuICAgICAgICB2YXIgcG0gPSB0aGlzLnByb2plY3Rpb25NYXRyaXg7XG4gICAgICAgIHZhciBzaWduID0gIXJvb3QgPyAxIDogLTE7XG4gICAgICAgIHBtLmlkZW50aXR5KCk7XG4gICAgICAgIHBtLmEgPSAoMSAvIHNvdXJjZUZyYW1lLndpZHRoICogMik7XG4gICAgICAgIHBtLmQgPSBzaWduICogKDEgLyBzb3VyY2VGcmFtZS5oZWlnaHQgKiAyKTtcbiAgICAgICAgcG0udHggPSAtMSAtIChzb3VyY2VGcmFtZS54ICogcG0uYSk7XG4gICAgICAgIHBtLnR5ID0gLXNpZ24gLSAoc291cmNlRnJhbWUueSAqIHBtLmQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdHJhbnNmb3JtIG9mIHRoZSBhY3RpdmUgcmVuZGVyIHRhcmdldCB0byB0aGUgZ2l2ZW4gbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICovXG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gKF9tYXRyaXgpIHtcbiAgICAgICAgLy8gdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LnRyYW5zZm9ybSA9IG1hdHJpeDtcbiAgICB9O1xuICAgIHJldHVybiBQcm9qZWN0aW9uU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLy8gVGVtcG9yYXJ5IHJlY3RhbmdsZSBmb3IgYXNzaWduZWQgc291cmNlRnJhbWUgb3IgZGVzdGluYXRpb25GcmFtZVxudmFyIHRlbXBSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuLy8gVGVtcG9yYXJ5IHJlY3RhbmdsZSBmb3IgcmVuZGVyVGV4dHVyZSBkZXN0aW5hdGlvbkZyYW1lXG52YXIgdGVtcFJlY3QyID0gbmV3IFJlY3RhbmdsZSgpO1xuLy8gVGVtcG9yYXJ5IHJlY3RhbmdsZSBmb3IgcGFzc2luZyB0aGUgZnJhbWVidWZmZXIgdmlld3BvcnRcbnZhciB2aWV3cG9ydEZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgcmVuZGVyIHRleHR1cmVzLlxuICpcbiAqIFNob3VsZCBiZSBhZGRlZCBhZnRlciBGcmFtZWJ1ZmZlclN5c3RlbVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIFJlbmRlclRleHR1cmVTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlbmRlclRleHR1cmVTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVuZGVyVGV4dHVyZVN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjbGVhciBiYWNrZ3JvdW5kIGNvbG9yIGFzIHJnYmFcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jbGVhckNvbG9yID0gcmVuZGVyZXIuX2JhY2tncm91bmRDb2xvclJnYmE7XG4gICAgICAgIC8vIFRPRE8gbW92ZSB0aGlzIHByb3BlcnR5IHNvbWV3aGVyZSBlbHNlIVxuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBtYXNrcyBmb3IgdGhlIFN0ZW5jaWxTeXN0ZW1cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc1tdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRNYXNrU3RhY2sgPSBbXTtcbiAgICAgICAgLy8gZW1wdHkgcmVuZGVyIHRleHR1cmU/XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXIgdGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlclRleHR1cmV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3VycmVudCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTb3VyY2UgZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJpbmQgdGhlIGN1cnJlbnQgcmVuZGVyIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBbcmVuZGVyVGV4dHVyZV0gLSBSZW5kZXJUZXh0dXJlIHRvIGJpbmQsIGJ5IGRlZmF1bHQgaXRzIGBudWxsYCwgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtzb3VyY2VGcmFtZV0gLSBwYXJ0IG9mIHNjcmVlbiB0aGF0IGlzIG1hcHBlZCB0byB0aGUgcmVuZGVyVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtkZXN0aW5hdGlvbkZyYW1lXSAtIHBhcnQgb2YgcmVuZGVyVGV4dHVyZSwgYnkgZGVmYXVsdCBpdCBoYXMgdGhlIHNhbWUgc2l6ZSBhcyBzb3VyY2VGcmFtZVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAocmVuZGVyVGV4dHVyZSwgc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpIHtcbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUgPT09IHZvaWQgMCkgeyByZW5kZXJUZXh0dXJlID0gbnVsbDsgfVxuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSByZW5kZXJUZXh0dXJlO1xuICAgICAgICB2YXIgYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBmcmFtZWJ1ZmZlcjtcbiAgICAgICAgdmFyIHJlc29sdXRpb247XG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGlmICghc291cmNlRnJhbWUpIHtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC53aWR0aCA9IHJlbmRlclRleHR1cmUuZnJhbWUud2lkdGg7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QuaGVpZ2h0ID0gcmVuZGVyVGV4dHVyZS5mcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgc291cmNlRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGVzdGluYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0Mi54ID0gcmVuZGVyVGV4dHVyZS5mcmFtZS54O1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0Mi55ID0gcmVuZGVyVGV4dHVyZS5mcmFtZS55O1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0Mi53aWR0aCA9IHNvdXJjZUZyYW1lLndpZHRoO1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0Mi5oZWlnaHQgPSBzb3VyY2VGcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZSA9IHRlbXBSZWN0MjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyYW1lYnVmZmVyID0gYmFzZVRleHR1cmUuZnJhbWVidWZmZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGlmICghc291cmNlRnJhbWUpIHtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC53aWR0aCA9IHJlbmRlcmVyLnNjcmVlbi53aWR0aDtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC5oZWlnaHQgPSByZW5kZXJlci5zY3JlZW4uaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHNvdXJjZUZyYW1lID0gdGVtcFJlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uRnJhbWUpIHtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lID0gdGVtcFJlY3Q7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IHNvdXJjZUZyYW1lLndpZHRoO1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gc291cmNlRnJhbWUuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZpZXdwb3J0RnJhbWUueCA9IGRlc3RpbmF0aW9uRnJhbWUueCAqIHJlc29sdXRpb247XG4gICAgICAgIHZpZXdwb3J0RnJhbWUueSA9IGRlc3RpbmF0aW9uRnJhbWUueSAqIHJlc29sdXRpb247XG4gICAgICAgIHZpZXdwb3J0RnJhbWUud2lkdGggPSBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmlld3BvcnRGcmFtZS5oZWlnaHQgPSBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIHJlc29sdXRpb247XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuYmluZChmcmFtZWJ1ZmZlciwgdmlld3BvcnRGcmFtZSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucHJvamVjdGlvbi51cGRhdGUoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIHJlc29sdXRpb24sICFmcmFtZWJ1ZmZlcik7XG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLm1hc2suc2V0TWFza1N0YWNrKGJhc2VUZXh0dXJlLm1hc2tTdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLm1hc2suc2V0TWFza1N0YWNrKHRoaXMuZGVmYXVsdE1hc2tTdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZS5jb3B5RnJvbShzb3VyY2VGcmFtZSk7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZS5jb3B5RnJvbShkZXN0aW5hdGlvbkZyYW1lKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVyYXNlcyB0aGUgcmVuZGVyIHRleHR1cmUgYW5kIGZpbGxzIHRoZSBkcmF3aW5nIGFyZWEgd2l0aCBhIGNvbG91clxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gW2NsZWFyQ29sb3JdIC0gVGhlIGNvbG9yIGFzIHJnYmEsIGRlZmF1bHQgdG8gdXNlIHRoZSByZW5kZXJlciBiYWNrZ3JvdW5kQ29sb3JcbiAgICAgKiBAcGFyYW0ge1BJWEkuQlVGRkVSX0JJVFN9IFttYXNrPUJVRkZFUl9CSVRTLkNPTE9SIHwgQlVGRkVSX0JJVFMuREVQVEhdIC0gQml0d2lzZSBPUiBvZiBtYXNrc1xuICAgICAqICB0aGF0IGluZGljYXRlIHRoZSBidWZmZXJzIHRvIGJlIGNsZWFyZWQsIGJ5IGRlZmF1bHQgQ09MT1IgYW5kIERFUFRIIGJ1ZmZlcnMuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoY2xlYXJDb2xvciwgbWFzaykge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50KSB7XG4gICAgICAgICAgICBjbGVhckNvbG9yID0gY2xlYXJDb2xvciB8fCB0aGlzLmN1cnJlbnQuYmFzZVRleHR1cmUuY2xlYXJDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNsZWFyQ29sb3IgPSBjbGVhckNvbG9yIHx8IHRoaXMuY2xlYXJDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmNsZWFyKGNsZWFyQ29sb3JbMF0sIGNsZWFyQ29sb3JbMV0sIGNsZWFyQ29sb3JbMl0sIGNsZWFyQ29sb3JbM10sIG1hc2spO1xuICAgIH07XG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyByZXNpemUgdGhlIHJvb3Qgb25seSFcbiAgICAgICAgdGhpcy5iaW5kKG51bGwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHJlbmRlclRleHR1cmUgc3RhdGVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5iaW5kKG51bGwpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbmRlclRleHR1cmVTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG52YXIgSUdMVW5pZm9ybURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSUdMVW5pZm9ybURhdGEoKSB7XG4gICAgfVxuICAgIHJldHVybiBJR0xVbmlmb3JtRGF0YTtcbn0oKSk7XG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBXZWJHTCBQcm9ncmFtXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR0xQcm9ncmFtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIE1ha2VzIGEgbmV3IFBpeGkgcHJvZ3JhbVxuICAgICAqXG4gICAgICogQHBhcmFtIHByb2dyYW0ge1dlYkdMUHJvZ3JhbX0gd2ViZ2wgcHJvZ3JhbVxuICAgICAqIEBwYXJhbSB1bmlmb3JtRGF0YSB7T2JqZWN0fSB1bmlmb3Jtc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdMUHJvZ3JhbShwcm9ncmFtLCB1bmlmb3JtRGF0YSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNoYWRlciBwcm9ncmFtXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUHJvZ3JhbX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBob2xkcyB0aGUgdW5pZm9ybSBkYXRhIHdoaWNoIGNvbnRhaW5zIHVuaWZvcm0gbG9jYXRpb25zXG4gICAgICAgICAqIGFuZCBjdXJyZW50IHVuaWZvcm0gdmFsdWVzIHVzZWQgZm9yIGNhY2hpbmcgYW5kIHByZXZlbnRpbmcgdW5uZWVkZWQgR1BVIGNvbW1hbmRzXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5pZm9ybURhdGEgPSB1bmlmb3JtRGF0YTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVuaWZvcm1Hcm91cHMgaG9sZHMgdGhlIHZhcmlvdXMgdXBsb2FkIGZ1bmN0aW9ucyBmb3IgdGhlIHNoYWRlci4gRWFjaCB1bmlmb3JtIGdyb3VwXG4gICAgICAgICAqIGFuZCBwcm9ncmFtIGhhdmUgYSB1bmlxdWUgdXBsb2FkIGZ1bmN0aW9uIGdlbmVyYXRlZC5cbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51bmlmb3JtR3JvdXBzID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgcHJvZ3JhbVxuICAgICAqL1xuICAgIEdMUHJvZ3JhbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMudW5pZm9ybUdyb3VwcyA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gR0xQcm9ncmFtO1xufSgpKTtcblxudmFyIFVJRCQ0ID0gMDtcbi8vIGRlZnVhbHQgc3luYyBkYXRhIHNvIHdlIGRvbid0IGNyZWF0ZSBhIG5ldyBvbmUgZWFjaCB0aW1lIVxudmFyIGRlZmF1bHRTeW5jRGF0YSA9IHsgdGV4dHVyZUNvdW50OiAwIH07XG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzaGFkZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqL1xudmFyIFNoYWRlclN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2hhZGVyU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNoYWRlclN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIC8vIFZhbGlkYXRpb24gY2hlY2sgdGhhdCB0aGlzIGVudmlyb25tZW50IHN1cHBvcnQgYG5ldyBGdW5jdGlvbmBcbiAgICAgICAgX3RoaXMuc3lzdGVtQ2hlY2soKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdsID0gbnVsbDtcbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMucHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSB0byBob2xkcyB0aGUgZ2VuZXJhdGVkIGZ1bmN0aW9ucy4gU3RvcmVkIGFnYWluc3QgVW5pZm9ybU9iamVjdHMgdW5pcXVlIHNpZ25hdHVyZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FjaGUgPSB7fTtcbiAgICAgICAgX3RoaXMuaWQgPSBVSUQkNCsrO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlYWJsZSBmdW5jdGlvbiBieSBgQHBpeGkvdW5zYWZlLWV2YWxgIHRvIHNpbGVuY2VcbiAgICAgKiB0aHJvd2luZyBhbiBlcnJvciBpZiBwbGF0Zm9ybSBkb2Vzbid0IHN1cHBvcnQgdW5zYWZlLWV2YWxzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnN5c3RlbUNoZWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXVuc2FmZUV2YWxTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDdXJyZW50IGVudmlyb25tZW50IGRvZXMgbm90IGFsbG93IHVuc2FmZS1ldmFsLCAnXG4gICAgICAgICAgICAgICAgKyAncGxlYXNlIHVzZSBAcGl4aS91bnNhZmUtZXZhbCBtb2R1bGUgdG8gZW5hYmxlIHN1cHBvcnQuJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIChnbCkge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgc2hhZGVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgLSB0aGUgbmV3IHNoYWRlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RvbnRTeW5jXSAtIGZhbHNlIGlmIHRoZSBzaGFkZXIgc2hvdWxkIGF1dG9tYXRpY2FsbHkgc3luYyBpdHMgdW5pZm9ybXMuXG4gICAgICogQHJldHVybnMge1BJWEkuR0xQcm9ncmFtfSB0aGUgZ2xQcm9ncmFtIHRoYXQgYmVsb25ncyB0byB0aGUgc2hhZGVyLlxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChzaGFkZXIsIGRvbnRTeW5jKSB7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy5nbG9iYWxzID0gdGhpcy5yZW5kZXJlci5nbG9iYWxVbmlmb3JtcztcbiAgICAgICAgdmFyIHByb2dyYW0gPSBzaGFkZXIucHJvZ3JhbTtcbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IHByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmdlbmVyYXRlU2hhZGVyKHNoYWRlcik7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gc2hhZGVyO1xuICAgICAgICAvLyBUT0RPIC0gc29tZSBjdXJyZW50IFBpeGkgcGx1Z2lucyBieXBhc3MgdGhpcy4uIHNvIGl0IG5vdCBzYWZlIHRvIHVzZSB5ZXQuLlxuICAgICAgICBpZiAodGhpcy5wcm9ncmFtICE9PSBwcm9ncmFtKSB7XG4gICAgICAgICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKGdsUHJvZ3JhbS5wcm9ncmFtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRvbnRTeW5jKSB7XG4gICAgICAgICAgICBkZWZhdWx0U3luY0RhdGEudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMuc3luY1VuaWZvcm1Hcm91cChzaGFkZXIudW5pZm9ybUdyb3VwLCBkZWZhdWx0U3luY0RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnbFByb2dyYW07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB1bmlmb3JtcyB2YWx1ZXMgdG8gdGhlIGN1cnJlbnRseSBib3VuZCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdW5pZm9ybXMgLSB0aGUgdW5pZm9ybXMgdmFsdWVzIHRoYXQgYmUgYXBwbGllZCB0byB0aGUgY3VycmVudCBzaGFkZXJcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnNldFVuaWZvcm1zID0gZnVuY3Rpb24gKHVuaWZvcm1zKSB7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnNoYWRlci5wcm9ncmFtO1xuICAgICAgICB2YXIgZ2xQcm9ncmFtID0gc2hhZGVyLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG4gICAgICAgIHNoYWRlci5zeW5jVW5pZm9ybXMoZ2xQcm9ncmFtLnVuaWZvcm1EYXRhLCB1bmlmb3JtcywgdGhpcy5yZW5kZXJlcik7XG4gICAgfTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzICovXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBzeW5jcyB1bmlmb3JtcyBvbiB0aGUgZ3JvdXBcbiAgICAgKiBAcGFyYW0geyp9IGdyb3VwIC0gdGhlIHVuaWZvcm0gZ3JvdXAgdG8gc3luY1xuICAgICAqIEBwYXJhbSB7Kn0gW3N5bmNEYXRhXSAtIHRoaXMgaXMgZGF0YSB0aGF0IGlzIHBhc3NlZCB0byB0aGUgc3luYyBmdW5jdGlvbiBhbmQgYW55IG5lc3RlZCBzeW5jIGZ1bmN0aW9uc1xuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuc3luY1VuaWZvcm1Hcm91cCA9IGZ1bmN0aW9uIChncm91cCwgc3luY0RhdGEpIHtcbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IHRoaXMuZ2V0Z2xQcm9ncmFtKCk7XG4gICAgICAgIGlmICghZ3JvdXAuc3RhdGljIHx8IGdyb3VwLmRpcnR5SWQgIT09IGdsUHJvZ3JhbS51bmlmb3JtR3JvdXBzW2dyb3VwLmlkXSkge1xuICAgICAgICAgICAgZ2xQcm9ncmFtLnVuaWZvcm1Hcm91cHNbZ3JvdXAuaWRdID0gZ3JvdXAuZGlydHlJZDtcbiAgICAgICAgICAgIHRoaXMuc3luY1VuaWZvcm1zKGdyb3VwLCBnbFByb2dyYW0sIHN5bmNEYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVhYmxlIGJ5IHRoZSBAcGl4aS91bnNhZmUtZXZhbCBwYWNrYWdlIHRvIHVzZSBzdGF0aWNcbiAgICAgKiBzeW5jVW5mb3JtcyBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnN5bmNVbmlmb3JtcyA9IGZ1bmN0aW9uIChncm91cCwgZ2xQcm9ncmFtLCBzeW5jRGF0YSkge1xuICAgICAgICB2YXIgc3luY0Z1bmMgPSBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF0gfHwgdGhpcy5jcmVhdGVTeW5jR3JvdXBzKGdyb3VwKTtcbiAgICAgICAgc3luY0Z1bmMoZ2xQcm9ncmFtLnVuaWZvcm1EYXRhLCBncm91cC51bmlmb3JtcywgdGhpcy5yZW5kZXJlciwgc3luY0RhdGEpO1xuICAgIH07XG4gICAgLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5jcmVhdGVTeW5jR3JvdXBzID0gZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuZ2V0U2lnbmF0dXJlKGdyb3VwLCB0aGlzLnNoYWRlci5wcm9ncmFtLnVuaWZvcm1EYXRhKTtcbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlW2lkXSkge1xuICAgICAgICAgICAgdGhpcy5jYWNoZVtpZF0gPSBnZW5lcmF0ZVVuaWZvcm1zU3luYyhncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdID0gdGhpcy5jYWNoZVtpZF07XG4gICAgICAgIHJldHVybiBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIHVuaWZvcm0gZ3JvdXAgYW5kIGRhdGEgYW5kIGdlbmVyYXRlcyBhIHVuaXF1ZSBzaWduYXR1cmUgZm9yIHRoZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVW5pZm9ybUdyb3VwfSBncm91cCAtIHRoZSB1bmlmb3JtIGdyb3VwIHRvIGdldCBzaWduYXR1cmUgb2ZcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybURhdGEgLSB1bmlmb3JtIGluZm9ybWF0aW9uIGdlbmVyYXRlZCBieSB0aGUgc2hhZGVyXG4gICAgICogQHJldHVybnMge1N0cmluZ30gVW5pcXVlIHNpZ25hdHVyZSBvZiB0aGUgdW5pZm9ybSBncm91cFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5nZXRTaWduYXR1cmUgPSBmdW5jdGlvbiAoZ3JvdXAsIHVuaWZvcm1EYXRhKSB7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IGdyb3VwLnVuaWZvcm1zO1xuICAgICAgICB2YXIgc3RyaW5ncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpIGluIHVuaWZvcm1zKSB7XG4gICAgICAgICAgICBzdHJpbmdzLnB1c2goaSk7XG4gICAgICAgICAgICBpZiAodW5pZm9ybURhdGFbaV0pIHtcbiAgICAgICAgICAgICAgICBzdHJpbmdzLnB1c2godW5pZm9ybURhdGFbaV0udHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmluZ3Muam9pbignLScpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdW5kZXJseWluZyBHTFNoYWRlIHJvZiB0aGUgY3VycmVudGx5IGJvdW5kIHNoYWRlci5cbiAgICAgKiBUaGlzIGNhbiBiZSBoYW5keSBmb3Igd2hlbiB5b3UgdG8gaGF2ZSBhIGxpdHRsZSBtb3JlIGNvbnRyb2wgb3ZlciB0aGUgc2V0dGluZyBvZiB5b3VyIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HTFByb2dyYW19IHRoZSBnbFByb2dyYW0gZm9yIHRoZSBjdXJyZW50bHkgYm91bmQgU2hhZGVyIGZvciB0aGlzIGNvbnRleHRcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmdldGdsUHJvZ3JhbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIucHJvZ3JhbS5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgZ2xQcm9ncmFtIHZlcnNpb24gb2YgdGhlIFNoYWRlciBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIC0gdGhlIHNoYWRlciB0aGF0IHRoZSBnbFByb2dyYW0gd2lsbCBiZSBiYXNlZCBvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdMUHJvZ3JhbX0gQSBzaGlueSBuZXcgZ2xQcm9ncmFtIVxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuZ2VuZXJhdGVTaGFkZXIgPSBmdW5jdGlvbiAoc2hhZGVyKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBwcm9ncmFtID0gc2hhZGVyLnByb2dyYW07XG4gICAgICAgIHZhciBhdHRyaWJNYXAgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBwcm9ncmFtLmF0dHJpYnV0ZURhdGEpIHtcbiAgICAgICAgICAgIGF0dHJpYk1hcFtpXSA9IHByb2dyYW0uYXR0cmlidXRlRGF0YVtpXS5sb2NhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2hhZGVyUHJvZ3JhbSA9IGNvbXBpbGVQcm9ncmFtKGdsLCBwcm9ncmFtLnZlcnRleFNyYywgcHJvZ3JhbS5mcmFnbWVudFNyYywgYXR0cmliTWFwKTtcbiAgICAgICAgdmFyIHVuaWZvcm1EYXRhID0ge307XG4gICAgICAgIGZvciAodmFyIGkgaW4gcHJvZ3JhbS51bmlmb3JtRGF0YSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBwcm9ncmFtLnVuaWZvcm1EYXRhW2ldO1xuICAgICAgICAgICAgdW5pZm9ybURhdGFbaV0gPSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCBpKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZGVmYXVsdFZhbHVlKGRhdGEudHlwZSwgZGF0YS5zaXplKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IG5ldyBHTFByb2dyYW0oc2hhZGVyUHJvZ3JhbSwgdW5pZm9ybURhdGEpO1xuICAgICAgICBwcm9ncmFtLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0gPSBnbFByb2dyYW07XG4gICAgICAgIHJldHVybiBnbFByb2dyYW07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgU2hhZGVyU3lzdGVtIHN0YXRlLCBkb2VzIG5vdCBhZmZlY3QgV2ViR0wgc3RhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIFN5c3RlbSBhbmQgcmVtb3ZlcyBhbGwgaXRzIHRleHR1cmVzXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBUT0RPIGltcGxlbWVudCBkZXN0cm95IG1ldGhvZCBmb3IgU2hhZGVyU3lzdGVtXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBTaGFkZXJTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIE1hcHMgZ2wgYmxlbmQgY29tYmluYXRpb25zIHRvIFdlYkdMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHJlbmRlcmluZyBjb250ZXh0LlxuICogQHBhcmFtIHtudW1iZXJbXVtdfSBbYXJyYXk9W11dIC0gVGhlIGFycmF5IHRvIG91dHB1dCBpbnRvLlxuICogQHJldHVybiB7bnVtYmVyW11bXX0gTWFwcGVkIG1vZGVzLlxuICovXG5mdW5jdGlvbiBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkoZ2wsIGFycmF5KSB7XG4gICAgaWYgKGFycmF5ID09PSB2b2lkIDApIHsgYXJyYXkgPSBbXTsgfVxuICAgIC8vIFRPRE8gLSBwcmVtdWx0aXBseSBhbHBoYSB3b3VsZCBiZSBkaWZmZXJlbnQuXG4gICAgLy8gYWRkIGEgYm9vbGVhbiBmb3IgdGhhdCFcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT1JNQUxdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQUREXSA9IFtnbC5PTkUsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTVVMVElQTFldID0gW2dsLkRTVF9DT0xPUiwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQ1JFRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUiwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5PVkVSTEFZXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRBUktFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5MSUdIVEVOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkNPTE9SX0RPREdFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkNPTE9SX0JVUk5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuSEFSRF9MSUdIVF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TT0ZUX0xJR0hUXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRJRkZFUkVOQ0VdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRVhDTFVTSU9OXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkhVRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQVRVUkFUSU9OXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkNPTE9SXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkxVTUlOT1NJVFldID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTk9ORV0gPSBbMCwgMF07XG4gICAgLy8gbm90LXByZW11bHRpcGxpZWQgYmxlbmQgbW9kZXNcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQUREX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORSwgZ2wuT05FXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1IsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgLy8gY29tcG9zaXRlIG9wZXJhdGlvbnNcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TUkNfSU5dID0gW2dsLkRTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX09VVF0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX0FUT1BdID0gW2dsLkRTVF9BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX09WRVJdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX0lOXSA9IFtnbC5aRVJPLCBnbC5TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9PVVRdID0gW2dsLlpFUk8sIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9BVE9QXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlhPUl0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgLy8gU1VCVFJBQ1QgZnJvbSBmbGFzaFxuICAgIGFycmF5W0JMRU5EX01PREVTLlNVQlRSQUNUXSA9IFtnbC5PTkUsIGdsLk9ORSwgZ2wuT05FLCBnbC5PTkUsIGdsLkZVTkNfUkVWRVJTRV9TVUJUUkFDVCwgZ2wuRlVOQ19BRERdO1xuICAgIHJldHVybiBhcnJheTtcbn1cblxudmFyIEJMRU5EJDEgPSAwO1xudmFyIE9GRlNFVCQxID0gMTtcbnZhciBDVUxMSU5HJDEgPSAyO1xudmFyIERFUFRIX1RFU1QkMSA9IDM7XG52YXIgV0lORElORyQxID0gNDtcbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIFdlYkdMIHN0YXRlIG1hY2hpbmVzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIFN0YXRlU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGF0ZVN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGF0ZVN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdMIGNvbnRleHRcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdsID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0YXRlIElEXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZUlkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvbHlnb24gb2Zmc2V0XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb2x5Z29uT2Zmc2V0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJsZW5kIG1vZGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PTkVcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT05FO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBjdXJyZW50IGJsZW5kIGVxdWF0aW9uIGlzIGRpZmZlcmVudFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmxlbmRFcSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBjYWxsc1xuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcCA9IFtdO1xuICAgICAgICAvLyBtYXAgZnVuY3Rpb25zIGZvciB3aGVuIHdlIHNldCBzdGF0ZS4uXG4gICAgICAgIF90aGlzLm1hcFtCTEVORCQxXSA9IF90aGlzLnNldEJsZW5kO1xuICAgICAgICBfdGhpcy5tYXBbT0ZGU0VUJDFdID0gX3RoaXMuc2V0T2Zmc2V0O1xuICAgICAgICBfdGhpcy5tYXBbQ1VMTElORyQxXSA9IF90aGlzLnNldEN1bGxGYWNlO1xuICAgICAgICBfdGhpcy5tYXBbREVQVEhfVEVTVCQxXSA9IF90aGlzLnNldERlcHRoVGVzdDtcbiAgICAgICAgX3RoaXMubWFwW1dJTkRJTkckMV0gPSBfdGhpcy5zZXRGcm9udEZhY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGNoZWNrIGNhbGxzXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2hlY2tzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IFdlYkdMIFN0YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVmYXVsdFN0YXRlID0gbmV3IFN0YXRlKCk7XG4gICAgICAgIF90aGlzLmRlZmF1bHRTdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoZ2wpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLmJsZW5kTW9kZXMgPSBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkoZ2wpO1xuICAgICAgICB0aGlzLnNldCh0aGlzLmRlZmF1bHRTdGF0ZSk7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gc3RhdGUgLSBUaGUgc3RhdGUgdG8gc2V0LlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB0aGlzLmRlZmF1bHRTdGF0ZTtcbiAgICAgICAgLy8gVE9ETyBtYXliZSB0byBhbiBvYmplY3QgY2hlY2s/ICggdGhpcy5zdGF0ZSA9PT0gc3RhdGUgKT9cbiAgICAgICAgaWYgKHRoaXMuc3RhdGVJZCAhPT0gc3RhdGUuZGF0YSkge1xuICAgICAgICAgICAgdmFyIGRpZmYgPSB0aGlzLnN0YXRlSWQgXiBzdGF0ZS5kYXRhO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgLy8gb3JkZXIgZnJvbSBsZWFzdCB0byBtb3N0IGNvbW1vblxuICAgICAgICAgICAgd2hpbGUgKGRpZmYpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlmZiAmIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhdGUgY2hhbmdlIVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcFtpXS5jYWxsKHRoaXMsICEhKHN0YXRlLmRhdGEgJiAoMSA8PCBpKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaWZmID0gZGlmZiA+PiAxO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhdGVJZCA9IHN0YXRlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYmFzZWQgb24gdGhlIGFib3ZlIHNldHRpbmdzIHdlIGNoZWNrIGZvciBzcGVjaWZpYyBtb2Rlcy4uXG4gICAgICAgIC8vIGZvciBleGFtcGxlIGlmIGJsZW5kIGlzIGFjdGl2ZSB3ZSBjaGVjayBhbmQgc2V0IHRoZSBibGVuZCBtb2Rlc1xuICAgICAgICAvLyBvciBvZiBwb2x5Z29uIG9mZnNldCBpcyBhY3RpdmUgd2UgY2hlY2sgdGhlIHBvbHkgZGVwdGguXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGVja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzW2ldKHRoaXMsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhdGUsIHdoZW4gcHJldmlvdXMgc3RhdGUgaXMgdW5rbm93blxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBzdGF0ZSAtIFRoZSBzdGF0ZSB0byBzZXRcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuZm9yY2VTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICBzdGF0ZSA9IHN0YXRlIHx8IHRoaXMuZGVmYXVsdFN0YXRlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWFwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLm1hcFtpXS5jYWxsKHRoaXMsICEhKHN0YXRlLmRhdGEgJiAoMSA8PCBpKSkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGVja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzW2ldKHRoaXMsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlSWQgPSBzdGF0ZS5kYXRhO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBvciBkaXNhYmxlZCBibGVuZGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBibGVuZGluZy5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0QmxlbmQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVDaGVjayhTdGF0ZVN5c3RlbS5jaGVja0JsZW5kTW9kZSwgdmFsdWUpO1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQkxFTkQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBvciBkaXNhYmxlIHBvbHlnb24gb2Zmc2V0IGZpbGxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBwb2x5Z29uIG9mZnNldCB0ZXN0aW5nLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRPZmZzZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVDaGVjayhTdGF0ZVN5c3RlbS5jaGVja1BvbHlnb25PZmZzZXQsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLlBPTFlHT05fT0ZGU0VUX0ZJTEwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGRlcHRoIHRlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgZGVwdGggdGVzdGluZy5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0RGVwdGhUZXN0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5ERVBUSF9URVNUKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZSBjdWxsIGZhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgY3VsbCBmYWNlLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRDdWxsRmFjZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQ1VMTF9GQUNFKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdsIGZyb250IGZhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gdHJ1ZSBpcyBjbG9ja3dpc2UgYW5kIGZhbHNlIGlzIGNvdW50ZXItY2xvY2t3aXNlXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldEZyb250RmFjZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmdsLmZyb250RmFjZSh0aGlzLmdsW3ZhbHVlID8gJ0NXJyA6ICdDQ1cnXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIGJsZW5kIG1vZGUgdG8gc2V0IHRvLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRCbGVuZE1vZGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLmJsZW5kTW9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgICAgIHZhciBtb2RlID0gdGhpcy5ibGVuZE1vZGVzW3ZhbHVlXTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKG1vZGUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmMobW9kZVswXSwgbW9kZVsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmNTZXBhcmF0ZShtb2RlWzBdLCBtb2RlWzFdLCBtb2RlWzJdLCBtb2RlWzNdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kZS5sZW5ndGggPT09IDYpIHtcbiAgICAgICAgICAgIHRoaXMuX2JsZW5kRXEgPSB0cnVlO1xuICAgICAgICAgICAgZ2wuYmxlbmRFcXVhdGlvblNlcGFyYXRlKG1vZGVbNF0sIG1vZGVbNV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2JsZW5kRXEpIHtcbiAgICAgICAgICAgIHRoaXMuX2JsZW5kRXEgPSBmYWxzZTtcbiAgICAgICAgICAgIGdsLmJsZW5kRXF1YXRpb25TZXBhcmF0ZShnbC5GVU5DX0FERCwgZ2wuRlVOQ19BREQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb2x5Z29uIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIHRoZSBwb2x5Z29uIG9mZnNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSAtIHRoZSBwb2x5Z29uIG9mZnNldCBzY2FsZVxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRQb2x5Z29uT2Zmc2V0ID0gZnVuY3Rpb24gKHZhbHVlLCBzY2FsZSkge1xuICAgICAgICB0aGlzLmdsLnBvbHlnb25PZmZzZXQodmFsdWUsIHNjYWxlKTtcbiAgICB9O1xuICAgIC8vIHVzZWRcbiAgICAvKipcbiAgICAgKiBSZXNldHMgYWxsIHRoZSBsb2dpYyBhbmQgZGlzYWJsZXMgdGhlIHZhb3NcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZ2wucGl4ZWxTdG9yZWkodGhpcy5nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZm9yY2VTdGF0ZSh0aGlzLmRlZmF1bHRTdGF0ZSk7XG4gICAgICAgIHRoaXMuX2JsZW5kRXEgPSB0cnVlO1xuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IC0xO1xuICAgICAgICB0aGlzLnNldEJsZW5kTW9kZSgwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGNoZWNrcyB0byBzZWUgd2hpY2ggdXBkYXRlcyBzaG91bGQgYmUgY2hlY2tlZCBiYXNlZCBvbiB3aGljaCBzZXR0aW5ncyBoYXZlIGJlZW4gYWN0aXZhdGVkLlxuICAgICAqIEZvciBleGFtcGxlLCBpZiBibGVuZCBpcyBlbmFibGVkIHRoZW4gd2Ugc2hvdWxkIGNoZWNrIHRoZSBibGVuZCBtb2RlcyBlYWNoIHRpbWUgdGhlIHN0YXRlIGlzIGNoYW5nZWRcbiAgICAgKiBvciBpZiBwb2x5Z29uIGZpbGwgaXMgYWN0aXZhdGVkIHRoZW4gd2UgbmVlZCB0byBjaGVjayBpZiB0aGUgcG9seWdvbiBvZmZzZXQgY2hhbmdlcy5cbiAgICAgKiBUaGUgaWRlYSBpcyB0aGF0IHdlIG9ubHkgY2hlY2sgd2hhdCB3ZSBoYXZlIHRvby5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgLSB0aGUgY2hlY2tpbmcgZnVuY3Rpb24gdG8gYWRkIG9yIHJlbW92ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBzaG91bGQgdGhlIGNoZWNrIGZ1bmN0aW9uIGJlIGFkZGVkIG9yIHJlbW92ZWQuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZUNoZWNrID0gZnVuY3Rpb24gKGZ1bmMsIHZhbHVlKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hlY2tzLmluZGV4T2YoZnVuYyk7XG4gICAgICAgIGlmICh2YWx1ZSAmJiBpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzLnB1c2goZnVuYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXZhbHVlICYmIGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5jaGVja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBwcml2YXRlIGxpdHRsZSB3cmFwcGVyIGZ1bmN0aW9uIHRoYXQgd2UgY2FsbCB0byBjaGVjayB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZVN5c3RlbX0gU3lzdGVtIC0gdGhlIFN5c3RlbSB0byBwZXJmb3JtIHRoZSBzdGF0ZSBjaGVjayBvblxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZX0gc3RhdGUgLSB0aGUgc3RhdGUgdGhhdCB0aGUgYmxlbmRNb2RlIHdpbGwgcHVsbGVkIGZyb21cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5jaGVja0JsZW5kTW9kZSA9IGZ1bmN0aW9uIChzeXN0ZW0sIHN0YXRlKSB7XG4gICAgICAgIHN5c3RlbS5zZXRCbGVuZE1vZGUoc3RhdGUuYmxlbmRNb2RlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgcHJpdmF0ZSBsaXR0bGUgd3JhcHBlciBmdW5jdGlvbiB0aGF0IHdlIGNhbGwgdG8gY2hlY2sgdGhlIHBvbHlnb24gb2Zmc2V0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlU3lzdGVtfSBTeXN0ZW0gLSB0aGUgU3lzdGVtIHRvIHBlcmZvcm0gdGhlIHN0YXRlIGNoZWNrIG9uXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlfSBzdGF0ZSAtIHRoZSBzdGF0ZSB0aGF0IHRoZSBibGVuZE1vZGUgd2lsbCBwdWxsZWQgZnJvbVxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLmNoZWNrUG9seWdvbk9mZnNldCA9IGZ1bmN0aW9uIChzeXN0ZW0sIHN0YXRlKSB7XG4gICAgICAgIHN5c3RlbS5zZXRQb2x5Z29uT2Zmc2V0KDEsIHN0YXRlLnBvbHlnb25PZmZzZXQpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRlU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGV4dHVyZSBnYXJiYWdlIGNvbGxlY3Rpb24gb24gdGhlIEdQVSxcbiAqIGVuc3VyaW5nIHRoYXQgaXQgZG9lcyBub3QgZ2V0IGNsb2dnZWQgdXAgd2l0aCB0ZXh0dXJlcyB0aGF0IGFyZSBubyBsb25nZXIgYmVpbmcgdXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKi9cbnZhciBUZXh0dXJlR0NTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRleHR1cmVHQ1N5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlR0NTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3VudFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY291bnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgY291bnRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNoZWNrQ291bnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSBpZGxlIHRpbWUsIGluIHNlY29uZHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuR0NfTUFYX0lETEVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1heElkbGUgPSBzZXR0aW5ncy5HQ19NQVhfSURMRTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1heGltdW0gbnVtYmVyIG9mIGl0ZW0gdG8gY2hlY2tcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuR0NfTUFYX0NIRUNLX0NPVU5UXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jaGVja0NvdW50TWF4ID0gc2V0dGluZ3MuR0NfTUFYX0NIRUNLX0NPVU5UO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBnYXJhYmFnZSBjb2xsZWN0aW9uIG1vZGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HQ19NT0RFU31cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkdDX01PREVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1vZGUgPSBzZXR0aW5ncy5HQ19NT0RFO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZFxuICAgICAqIGlmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVXG4gICAgICovXG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZS5wb3N0cmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMucmVuZGVyZXIucmVuZGVyaW5nVG9TY3JlZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvdW50Kys7XG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09IEdDX01PREVTLk1BTlVBTCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hlY2tDb3VudCsrO1xuICAgICAgICBpZiAodGhpcy5jaGVja0NvdW50ID4gdGhpcy5jaGVja0NvdW50TWF4KSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQ291bnQgPSAwO1xuICAgICAgICAgICAgdGhpcy5ydW4oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSB3aGVuIHRoZSBsYXN0IHRpbWUgYSB0ZXh0dXJlIHdhcyB1c2VkXG4gICAgICogaWYgdGhlIHRleHR1cmUgaGFzIG5vdCBiZWVuIHVzZWQgZm9yIGEgc3BlY2lmaWVkIGFtb3VudCBvZiB0aW1lIGl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFVcbiAgICAgKi9cbiAgICBUZXh0dXJlR0NTeXN0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRtID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlO1xuICAgICAgICB2YXIgbWFuYWdlZFRleHR1cmVzID0gdG0ubWFuYWdlZFRleHR1cmVzO1xuICAgICAgICB2YXIgd2FzUmVtb3ZlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hbmFnZWRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBtYW5hZ2VkVGV4dHVyZXNbaV07XG4gICAgICAgICAgICAvLyBvbmx5IHN1cHBvcnRzIG5vbiBnZW5lcmF0ZWQgdGV4dHVyZXMgYXQgdGhlIG1vbWVudCFcbiAgICAgICAgICAgIGlmICghdGV4dHVyZS5mcmFtZWJ1ZmZlciAmJiB0aGlzLmNvdW50IC0gdGV4dHVyZS50b3VjaGVkID4gdGhpcy5tYXhJZGxlKSB7XG4gICAgICAgICAgICAgICAgdG0uZGVzdHJveVRleHR1cmUodGV4dHVyZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgICAgICAgICB3YXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAod2FzUmVtb3ZlZCkge1xuICAgICAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobWFuYWdlZFRleHR1cmVzW2ldICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tqKytdID0gbWFuYWdlZFRleHR1cmVzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlcy5sZW5ndGggPSBqO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCB0aGUgdGV4dHVyZXMgd2l0aGluIHRoZSBzcGVjaWZpZWQgZGlzcGxheU9iamVjdCBhbmQgaXRzIGNoaWxkcmVuIGZyb20gdGhlIEdQVVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheU9iamVjdCB0byByZW1vdmUgdGhlIHRleHR1cmVzIGZyb20uXG4gICAgICovXG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZS51bmxvYWQgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZTtcbiAgICAgICAgLy8gb25seSBkZXN0cm95IG5vbiBnZW5lcmF0ZWQgdGV4dHVyZXNcbiAgICAgICAgaWYgKChfYSA9IGRpc3BsYXlPYmplY3QuX3RleHR1cmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgdG0uZGVzdHJveVRleHR1cmUoZGlzcGxheU9iamVjdC5fdGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHRoaXMudW5sb2FkKGRpc3BsYXlPYmplY3QuY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGV4dHVyZUdDU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBJbnRlcm5hbCB0ZXh0dXJlIGZvciBXZWJHTCBjb250ZXh0XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHTFRleHR1cmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR0xUZXh0dXJlKHRleHR1cmUpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCB0ZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaWR0aCBvZiB0ZXh0dXJlIHRoYXQgd2FzIHVzZWQgaW4gdGV4SW1hZ2UyRFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIZWlnaHQgb2YgdGV4dHVyZSB0aGF0IHdhcyB1c2VkIGluIHRleEltYWdlMkRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHR1cmUgY29udGVudHMgZGlydHkgZmxhZ1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHR1cmUgc3R5bGUgZGlydHkgZmxhZ1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBtaXAgbGV2ZWxzIGhhcyB0byBiZSBnZW5lcmF0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWlwbWFwID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXcmFwTW9kZSBjb3BpZWQgZnJvbSBiYXNlVGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndyYXBNb2RlID0gMzMwNzE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBlIGNvcGllZCBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IDY0MDg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBlIGNvcGllZCBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW50ZXJuYWxGb3JtYXQgPSA1MTIxO1xuICAgIH1cbiAgICByZXR1cm4gR0xUZXh0dXJlO1xufSgpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGV4dHVyZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgVGV4dHVyZVN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGV4dHVyZVN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvLyBUT0RPIHNldCB0byBtYXggdGV4dHVyZXMuLi5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvdW5kIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmVbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZFRleHR1cmVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGxvY2F0aW9uXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50TG9jYXRpb24gPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgbWFuYWdlZCB0ZXh0dXJlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFuYWdlZFRleHR1cmVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgc29tZW9uZSB0ZW1wZXIgd2l0aCB0ZXh0dXJlcyBzdGF0ZT8gV2UnbGwgb3ZlcndyaXRlIHRoZW0gd2hlbiB3ZSBuZWVkIHRvIHVuYmluZCBzb21ldGhpbmcuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhc2VUZXh0dXJlIHZhbHVlIHRoYXQgc2hvd3MgdGhhdCB3ZSBkb24ndCBrbm93IHdoYXQgaXMgYm91bmRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bmtub3duVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZSgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcbiAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uO1xuICAgICAgICB2YXIgbWF4VGV4dHVyZXMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpO1xuICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoID0gbWF4VGV4dHVyZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIG1vdmUgdGhpcy4uIHRvIGEgbmljZSBtYWtlIGVtcHR5IHRleHR1cmVzIGNsYXNzLi5cbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzID0ge307XG4gICAgICAgIHZhciBlbXB0eVRleHR1cmUyRCA9IG5ldyBHTFRleHR1cmUoZ2wuY3JlYXRlVGV4dHVyZSgpKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZW1wdHlUZXh0dXJlMkQudGV4dHVyZSk7XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgMSwgMSwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbmV3IFVpbnQ4QXJyYXkoNCkpO1xuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV8yRF0gPSBlbXB0eVRleHR1cmUyRDtcbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfQ1VCRV9NQVBdID0gbmV3IEdMVGV4dHVyZShnbC5jcmVhdGVUZXh0dXJlKCkpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFX0NVQkVfTUFQLCB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV9DVUJFX01BUF0udGV4dHVyZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGksIDAsIGdsLlJHQkEsIDEsIDEsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYmluZChudWxsLCBpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZCBhIHRleHR1cmUgdG8gYSBzcGVjaWZpYyBsb2NhdGlvblxuICAgICAqXG4gICAgICogSWYgeW91IHdhbnQgdG8gdW5iaW5kIHNvbWV0aGluZywgcGxlYXNlIHVzZSBgdW5iaW5kKHRleHR1cmUpYCBpbnN0ZWFkIG9mIGBiaW5kKG51bGwsIHRleHR1cmVMb2NhdGlvbilgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZXxQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlXyAtIFRleHR1cmUgdG8gYmluZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG9jYXRpb249MF0gLSBMb2NhdGlvbiB0byBiaW5kIGF0XG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBsb2NhdGlvbikge1xuICAgICAgICBpZiAobG9jYXRpb24gPT09IHZvaWQgMCkgeyBsb2NhdGlvbiA9IDA7IH1cbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKHRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmNhc3RUb0Jhc2VUZXh0dXJlKCk7XG4gICAgICAgICAgICBpZiAodGV4dHVyZS5wYXJlbnRUZXh0dXJlQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAvLyBjYW5ub3QgYmluZCBwYXJ0aWFsIHRleHR1cmVcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiByZXBvcnQgYSB3YXJuaW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLnRvdWNoZWQgPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVHQy5jb3VudDtcbiAgICAgICAgICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmluaXRUZXh0dXJlKHRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dICE9PSB0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKHRleHR1cmUudGFyZ2V0LCBnbFRleHR1cmUudGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChnbFRleHR1cmUuZGlydHlJZCAhPT0gdGV4dHVyZS5kaXJ0eUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IHRleHR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfMkRdLnRleHR1cmUpO1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0ZXh0dXJlIGxvY2F0aW9uIGFuZCBib3VuZCB0ZXh0dXJlc1xuICAgICAqXG4gICAgICogQWN0dWFsIGBiaW5kKG51bGwsIGkpYCBjYWxscyB3aWxsIGJlIHBlcmZvcm1lZCBhdCBuZXh0IGB1bmJpbmQoKWAgY2FsbFxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IHRydWU7XG4gICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gLTE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSB0aGlzLnVua25vd25UZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbmJpbmQgYSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBiaW5kXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgYm91bmRUZXh0dXJlcyA9IF9hLmJvdW5kVGV4dHVyZXM7XG4gICAgICAgIGlmICh0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcykge1xuICAgICAgICAgICAgdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHNvbWVvbmUgY2hhbmdlZCB3ZWJHTCBzdGF0ZSxcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgdG8gYmUgc3VyZSB0aGF0IG91ciB0ZXh0dXJlIGRvZXMgbm90IGFwcGVhciBpbiBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyIHNhbXBsZXJzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoYm91bmRUZXh0dXJlc1tpXSA9PT0gdGhpcy51bmtub3duVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJpbmQobnVsbCwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGJvdW5kVGV4dHVyZXNbaV0gPT09IHRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKHRleHR1cmUudGFyZ2V0LCB0aGlzLmVtcHR5VGV4dHVyZXNbdGV4dHVyZS50YXJnZXRdLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGJvdW5kVGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGluaXRpYWxpemVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5pbml0VGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbFRleHR1cmUgPSBuZXcgR0xUZXh0dXJlKHRoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpKTtcbiAgICAgICAgLy8gZ3VhcmFudGVlIGFuIHVwZGF0ZS4uXG4gICAgICAgIGdsVGV4dHVyZS5kaXJ0eUlkID0gLTE7XG4gICAgICAgIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gPSBnbFRleHR1cmU7XG4gICAgICAgIHRoaXMubWFuYWdlZFRleHR1cmVzLnB1c2godGV4dHVyZSk7XG4gICAgICAgIHRleHR1cmUub24oJ2Rpc3Bvc2UnLCB0aGlzLmRlc3Ryb3lUZXh0dXJlLCB0aGlzKTtcbiAgICAgICAgcmV0dXJuIGdsVGV4dHVyZTtcbiAgICB9O1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmluaXRUZXh0dXJlVHlwZSA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gdGV4dHVyZS5mb3JtYXQ7XG4gICAgICAgIGdsVGV4dHVyZS50eXBlID0gdGV4dHVyZS50eXBlO1xuICAgICAgICBpZiAodGhpcy53ZWJHTFZlcnNpb24gIT09IDIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICBpZiAodGV4dHVyZS50eXBlID09PSBnbC5GTE9BVFxuICAgICAgICAgICAgJiYgdGV4dHVyZS5mb3JtYXQgPT09IGdsLlJHQkEpIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkEzMkY7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhhdCdzIFdlYkdMMSBIQUxGX0ZMT0FUX09FU1xuICAgICAgICAvLyB3ZSBoYXZlIHRvIGNvbnZlcnQgaXQgdG8gV2ViR0wgSEFMRl9GTE9BVFxuICAgICAgICBpZiAodGV4dHVyZS50eXBlID09PSBUWVBFUy5IQUxGX0ZMT0FUKSB7XG4gICAgICAgICAgICBnbFRleHR1cmUudHlwZSA9IGdsLkhBTEZfRkxPQVQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsVGV4dHVyZS50eXBlID09PSBnbC5IQUxGX0ZMT0FUXG4gICAgICAgICAgICAmJiB0ZXh0dXJlLmZvcm1hdCA9PT0gZ2wuUkdCQSkge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTE2RjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGEgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGluaXRpYWxpemVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIGlmICghZ2xUZXh0dXJlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdGhpcy5pbml0VGV4dHVyZVR5cGUodGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgaWYgKHRleHR1cmUucmVzb3VyY2UgJiYgdGV4dHVyZS5yZXNvdXJjZS51cGxvYWQocmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSkpIDtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBkZWZhdWx0LCByZW5kZXJUZXh0dXJlLWxpa2UgbG9naWNcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRleHR1cmUucmVhbFdpZHRoO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRleHR1cmUucmVhbEhlaWdodDtcbiAgICAgICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICAgICAgaWYgKGdsVGV4dHVyZS53aWR0aCAhPT0gd2lkdGhcbiAgICAgICAgICAgICAgICB8fCBnbFRleHR1cmUuaGVpZ2h0ICE9PSBoZWlnaHRcbiAgICAgICAgICAgICAgICB8fCBnbFRleHR1cmUuZGlydHlJZCA8IDApIHtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGdsLnRleEltYWdlMkQodGV4dHVyZS50YXJnZXQsIDAsIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCwgd2lkdGgsIGhlaWdodCwgMCwgdGV4dHVyZS5mb3JtYXQsIGdsVGV4dHVyZS50eXBlLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBsZXRzIG9ubHkgdXBkYXRlIHdoYXQgY2hhbmdlcy4uXG4gICAgICAgIGlmICh0ZXh0dXJlLmRpcnR5U3R5bGVJZCAhPT0gZ2xUZXh0dXJlLmRpcnR5U3R5bGVJZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlU3R5bGUodGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2xUZXh0dXJlLmRpcnR5SWQgPSB0ZXh0dXJlLmRpcnR5SWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZWxldGVzIHRoZSB0ZXh0dXJlIGZyb20gV2ViR0xcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZX0gdGV4dHVyZV8gLSB0aGUgdGV4dHVyZSB0byBkZXN0cm95XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFJlbW92ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIHNraXAgcmVtb3ZpbmcgdGhlIHRleHR1cmUgZnJvbSB0aGUgVGV4dHVyZU1hbmFnZXIuXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuZGVzdHJveVRleHR1cmUgPSBmdW5jdGlvbiAodGV4dHVyZSwgc2tpcFJlbW92ZSkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB0ZXh0dXJlID0gdGV4dHVyZS5jYXN0VG9CYXNlVGV4dHVyZSgpO1xuICAgICAgICBpZiAodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgdGhpcy51bmJpbmQodGV4dHVyZSk7XG4gICAgICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSk7XG4gICAgICAgICAgICB0ZXh0dXJlLm9mZignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuICAgICAgICAgICAgZGVsZXRlIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgICAgICBpZiAoIXNraXBSZW1vdmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IHRoaXMubWFuYWdlZFRleHR1cmVzLmluZGV4T2YodGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgaWYgKGkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMubWFuYWdlZFRleHR1cmVzLCBpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0ZXh0dXJlIHN0eWxlIHN1Y2ggYXMgbWlwbWFwIGZsYWdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byB1cGRhdGVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlU3R5bGUgPSBmdW5jdGlvbiAodGV4dHVyZSkge1xuICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgaWYgKCFnbFRleHR1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHRleHR1cmUubWlwbWFwID09PSBNSVBNQVBfTU9ERVMuUE9XMiB8fCB0aGlzLndlYkdMVmVyc2lvbiAhPT0gMikgJiYgIXRleHR1cmUuaXNQb3dlck9mVHdvKSB7XG4gICAgICAgICAgICBnbFRleHR1cmUubWlwbWFwID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbFRleHR1cmUubWlwbWFwID0gdGV4dHVyZS5taXBtYXAgPj0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy53ZWJHTFZlcnNpb24gIT09IDIgJiYgIXRleHR1cmUuaXNQb3dlck9mVHdvKSB7XG4gICAgICAgICAgICBnbFRleHR1cmUud3JhcE1vZGUgPSBXUkFQX01PREVTLkNMQU1QO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndyYXBNb2RlID0gdGV4dHVyZS53cmFwTW9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGV4dHVyZS5yZXNvdXJjZSAmJiB0ZXh0dXJlLnJlc291cmNlLnN0eWxlKHRoaXMucmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSkpIDtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0eWxlKHRleHR1cmUsIGdsVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2xUZXh0dXJlLmRpcnR5U3R5bGVJZCA9IHRleHR1cmUuZGlydHlTdHlsZUlkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHN0eWxlIGZvciB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gdXBkYXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiAodGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGlmIChnbFRleHR1cmUubWlwbWFwKSB7XG4gICAgICAgICAgICBnbC5nZW5lcmF0ZU1pcG1hcCh0ZXh0dXJlLnRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsVGV4dHVyZS53cmFwTW9kZSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbFRleHR1cmUud3JhcE1vZGUpO1xuICAgICAgICBpZiAoZ2xUZXh0dXJlLm1pcG1hcCkge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA9PT0gU0NBTEVfTU9ERVMuTElORUFSID8gZ2wuTElORUFSX01JUE1BUF9MSU5FQVIgOiBnbC5ORUFSRVNUX01JUE1BUF9ORUFSRVNUKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgIHZhciBhbmlzb3Ryb3BpY0V4dCA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLmFuaXNvdHJvcGljRmlsdGVyaW5nO1xuICAgICAgICAgICAgaWYgKGFuaXNvdHJvcGljRXh0ICYmIHRleHR1cmUuYW5pc290cm9waWNMZXZlbCA+IDAgJiYgdGV4dHVyZS5zY2FsZU1vZGUgPT09IFNDQUxFX01PREVTLkxJTkVBUikge1xuICAgICAgICAgICAgICAgIHZhciBsZXZlbCA9IE1hdGgubWluKHRleHR1cmUuYW5pc290cm9waWNMZXZlbCwgZ2wuZ2V0UGFyYW1ldGVyKGFuaXNvdHJvcGljRXh0Lk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCkpO1xuICAgICAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmYodGV4dHVyZS50YXJnZXQsIGFuaXNvdHJvcGljRXh0LlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULCBsZXZlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01JTl9GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID09PSBTQ0FMRV9NT0RFUy5MSU5FQVIgPyBnbC5MSU5FQVIgOiBnbC5ORUFSRVNUKTtcbiAgICAgICAgfVxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01BR19GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID09PSBTQ0FMRV9NT0RFUy5MSU5FQVIgPyBnbC5MSU5FQVIgOiBnbC5ORUFSRVNUKTtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW1zIGFyZSBpbmRpdmlkdWFsIGNvbXBvbmVudHMgdG8gdGhlIFJlbmRlcmVyIHBpcGVsaW5lLlxuICogQG5hbWVzcGFjZSBQSVhJLnN5c3RlbXNcbiAqL1xuXG52YXIgc3lzdGVtcyA9ICh7XG4gICAgRmlsdGVyU3lzdGVtOiBGaWx0ZXJTeXN0ZW0sXG4gICAgQmF0Y2hTeXN0ZW06IEJhdGNoU3lzdGVtLFxuICAgIENvbnRleHRTeXN0ZW06IENvbnRleHRTeXN0ZW0sXG4gICAgRnJhbWVidWZmZXJTeXN0ZW06IEZyYW1lYnVmZmVyU3lzdGVtLFxuICAgIEdlb21ldHJ5U3lzdGVtOiBHZW9tZXRyeVN5c3RlbSxcbiAgICBNYXNrU3lzdGVtOiBNYXNrU3lzdGVtLFxuICAgIFNjaXNzb3JTeXN0ZW06IFNjaXNzb3JTeXN0ZW0sXG4gICAgU3RlbmNpbFN5c3RlbTogU3RlbmNpbFN5c3RlbSxcbiAgICBQcm9qZWN0aW9uU3lzdGVtOiBQcm9qZWN0aW9uU3lzdGVtLFxuICAgIFJlbmRlclRleHR1cmVTeXN0ZW06IFJlbmRlclRleHR1cmVTeXN0ZW0sXG4gICAgU2hhZGVyU3lzdGVtOiBTaGFkZXJTeXN0ZW0sXG4gICAgU3RhdGVTeXN0ZW06IFN0YXRlU3lzdGVtLFxuICAgIFRleHR1cmVHQ1N5c3RlbTogVGV4dHVyZUdDU3lzdGVtLFxuICAgIFRleHR1cmVTeXN0ZW06IFRleHR1cmVTeXN0ZW1cbn0pO1xuXG52YXIgdGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbi8qKlxuICogVGhlIEFic3RyYWN0UmVuZGVyZXIgaXMgdGhlIGJhc2UgZm9yIGEgUGl4aUpTIFJlbmRlcmVyLiBJdCBpcyBleHRlbmRlZCBieSB0aGUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXJ9XG4gKiBhbmQge0BsaW5rIFBJWEkuUmVuZGVyZXJ9IHdoaWNoIGNhbiBiZSB1c2VkIGZvciByZW5kZXJpbmcgYSBQaXhpSlMgc2NlbmUuXG4gKlxuICogQGFic3RyYWN0XG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQWJzdHJhY3RSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWJzdHJhY3RSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3lzdGVtIC0gVGhlIG5hbWUgb2YgdGhlIHN5c3RlbSB0aGlzIHJlbmRlcmVyIGlzIGZvci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSBUaGUgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSBUaGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0RlbnNpdHk9ZmFsc2VdIC0gUmVzaXplcyByZW5kZXJlciB2aWV3IGluIENTUyBwaXhlbHMgdG8gYWxsb3cgZm9yXG4gICAgICogICByZXNvbHV0aW9ucyBvdGhlciB0aGFuIDEuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gU2V0cyBhbnRpYWxpYXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci4gVGhlXG4gICAgICogIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlcmVyIHJldGluYSB3b3VsZCBiZSAyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIEVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLFxuICAgICAqICBlbmFibGUgdGhpcyBpZiB5b3UgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgV2ViR0wgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAgICAgKiAgICAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0UmVuZGVyZXIodHlwZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSBSRU5ERVJFUl9UWVBFLlVOS05PV047IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLy8gQWRkIHRoZSBkZWZhdWx0IHJlbmRlciBvcHRpb25zXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBzZXR0aW5ncy5SRU5ERVJfT1BUSU9OUywgb3B0aW9ucyk7XG4gICAgICAgIC8vIERlcHJlY2F0aW9uIG5vdGljZSBmb3IgcmVuZGVyZXIgcm91bmRQaXhlbHMgb3B0aW9uXG4gICAgICAgIGlmIChvcHRpb25zLnJvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICBzZXR0aW5ncy5ST1VORF9QSVhFTFMgPSBvcHRpb25zLnJvdW5kUGl4ZWxzO1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMC4wJywgJ1JlbmRlcmVyIHJvdW5kUGl4ZWxzIG9wdGlvbiBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTJywgMik7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdXBwbGllZCBjb25zdHJ1Y3RvciBvcHRpb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5SRU5ERVJFUl9UWVBFLlVOS05PV05cbiAgICAgICAgICogQHNlZSBQSVhJLlJFTkRFUkVSX1RZUEVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWVhc3VyZW1lbnRzIG9mIHRoZSBzY3JlZW4uICgwLCAwLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KS5cbiAgICAgICAgICpcbiAgICAgICAgICogSXRzIHNhZmUgdG8gdXNlIGFzIGZpbHRlckFyZWEgb3IgaGl0QXJlYSBmb3IgdGhlIHdob2xlIHN0YWdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNjcmVlbiA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgb3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHQpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB0by5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52aWV3ID0gb3B0aW9ucy52aWV3IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhbnNwYXJlbnQgPSBvcHRpb25zLnRyYW5zcGFyZW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBDU1MgZGltZW5zaW9ucyBvZiBjYW52YXMgdmlldyBzaG91bGQgYmUgcmVzaXplZCB0byBzY3JlZW4gZGltZW5zaW9ucyBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b0RlbnNpdHkgPSBvcHRpb25zLmF1dG9EZW5zaXR5IHx8IG9wdGlvbnMuYXV0b1Jlc2l6ZSB8fCBmYWxzZTtcbiAgICAgICAgLy8gYXV0b1Jlc2l6ZSBpcyBkZXByZWNhdGVkLCBwcm92aWRlcyBmYWxsYmFjayBzdXBwb3J0XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmFsdWUgb2YgdGhlIHByZXNlcnZlRHJhd2luZ0J1ZmZlciBmbGFnIGFmZmVjdHMgd2hldGhlciBvciBub3QgdGhlIGNvbnRlbnRzIG9mXG4gICAgICAgICAqIHRoZSBzdGVuY2lsIGJ1ZmZlciBpcyByZXRhaW5lZCBhZnRlciByZW5kZXJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIgPSBvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgc2V0cyBpZiB0aGUgQ2FudmFzUmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgICAgICogSWYgdGhlIHNjZW5lIGlzIE5PVCB0cmFuc3BhcmVudCBQaXhpSlMgd2lsbCB1c2UgYSBjYW52YXMgc2l6ZWQgZmlsbFJlY3Qgb3BlcmF0aW9uIGV2ZXJ5XG4gICAgICAgICAqIGZyYW1lIHRvIHNldCB0aGUgY2FudmFzIGJhY2tncm91bmQgY29sb3IuIElmIHRoZSBzY2VuZSBpcyB0cmFuc3BhcmVudCBQaXhpSlMgd2lsbCB1c2UgY2xlYXJSZWN0XG4gICAgICAgICAqIHRvIGNsZWFyIHRoZSBjYW52YXMgZXZlcnkgZnJhbWUuIERpc2FibGUgdGhpcyBieSBzZXR0aW5nIHRoaXMgdG8gZmFsc2UuIEZvciBleGFtcGxlLCBpZlxuICAgICAgICAgKiB5b3VyIGdhbWUgaGFzIGEgY2FudmFzIGZpbGxpbmcgYmFja2dyb3VuZCBpbWFnZSB5b3Ugb2Z0ZW4gZG9uJ3QgbmVlZCB0aGlzIHNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNsZWFyQmVmb3JlUmVuZGVyID0gb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGEgbnVtYmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSAweDAwMDAwMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGFuIFtSLCBHLCBCXSBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhID0gWzAsIDAsIDAsIDBdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYSBzdHJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9ICcjMDAwMDAwJztcbiAgICAgICAgX3RoaXMuYmFja2dyb3VuZENvbG9yID0gb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgfHwgX3RoaXMuX2JhY2tncm91bmRDb2xvcjsgLy8gcnVuIGJnIGNvbG9yIHNldHRlclxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3Qgcm9vdCBvYmplY3QgdGhhdCB0aGUgcmVuZGVyZXIgdHJpZWQgdG8gcmVuZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBwbHVnaW5zLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2lucyA9IHt9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIHBsdWdpbnMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0YXRpY01hcCAtIFRoZSBkaWN0aW9uYXJ5IG9mIHN0YXRpY2FsbHkgc2F2ZWQgcGx1Z2lucy5cbiAgICAgKi9cbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5pbml0UGx1Z2lucyA9IGZ1bmN0aW9uIChzdGF0aWNNYXApIHtcbiAgICAgICAgZm9yICh2YXIgbyBpbiBzdGF0aWNNYXApIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXSA9IG5ldyAoc3RhdGljTWFwW29dKSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNhbWUgYXMgdmlldy53aWR0aCwgYWN0dWFsIG51bWJlciBvZiBwaXhlbHMgaW4gdGhlIGNhbnZhcyBieSBob3Jpem9udGFsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCA4MDBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlldy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2FtZSBhcyB2aWV3LmhlaWdodCwgYWN0dWFsIG51bWJlciBvZiBwaXhlbHMgaW4gdGhlIGNhbnZhcyBieSB2ZXJ0aWNhbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgNjAwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXcuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgc2NyZWVuIGFuZCBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqIENhbnZhcyBkaW1lbnNpb25zIGFyZSBtdWx0aXBsaWVkIGJ5IHJlc29sdXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuV2lkdGggLSBUaGUgbmV3IHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbkhlaWdodCAtIFRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAgICovXG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgdGhpcy5zY3JlZW4ud2lkdGggPSBzY3JlZW5XaWR0aDtcbiAgICAgICAgdGhpcy5zY3JlZW4uaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0O1xuICAgICAgICB0aGlzLnZpZXcud2lkdGggPSBzY3JlZW5XaWR0aCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy52aWV3LmhlaWdodCA9IHNjcmVlbkhlaWdodCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKHRoaXMuYXV0b0RlbnNpdHkpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5zdHlsZS53aWR0aCA9IHNjcmVlbldpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy52aWV3LnN0eWxlLmhlaWdodCA9IHNjcmVlbkhlaWdodCArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYWZ0ZXIgdmlldyBoYXMgYmVlbiByZXNpemVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNyZXNpemVcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuSGVpZ2h0IC0gVGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW1pdCgncmVzaXplJywgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVc2VmdWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdGV4dHVyZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBjYW4gdGhlbiBiZSB1c2VkIHRvIGNyZWF0ZSBzcHJpdGVzXG4gICAgICogVGhpcyBjYW4gYmUgcXVpdGUgdXNlZnVsIGlmIHlvdXIgZGlzcGxheU9iamVjdCBpcyBjb21wbGljYXRlZCBhbmQgbmVlZHMgdG8gYmUgcmV1c2VkIG11bHRpcGxlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheU9iamVjdCB0aGUgb2JqZWN0IHdpbGwgYmUgZ2VuZXJhdGVkIGZyb20uXG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBzY2FsZU1vZGUgLSBUaGUgc2NhbGUgbW9kZSBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVnaW9uXSAtIFRoZSByZWdpb24gb2YgdGhlIGRpc3BsYXlPYmplY3QsIHRoYXQgc2hhbGwgYmUgcmVuZGVyZWQsXG4gICAgICogICAgICAgIGlmIG5vIHJlZ2lvbiBpcyBzcGVjaWZpZWQsIGRlZmF1bHRzIHRvIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBBIHRleHR1cmUgb2YgdGhlIGdyYXBoaWNzIG9iamVjdC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5nZW5lcmF0ZVRleHR1cmUgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uLCByZWdpb24pIHtcbiAgICAgICAgcmVnaW9uID0gcmVnaW9uIHx8IGRpc3BsYXlPYmplY3QuZ2V0TG9jYWxCb3VuZHMobnVsbCwgdHJ1ZSk7XG4gICAgICAgIC8vIG1pbmltdW0gdGV4dHVyZSBzaXplIGlzIDF4MSwgMHgwIHdpbGwgdGhyb3cgYW4gZXJyb3JcbiAgICAgICAgaWYgKHJlZ2lvbi53aWR0aCA9PT0gMClcbiAgICAgICAgICAgIHsgcmVnaW9uLndpZHRoID0gMTsgfVxuICAgICAgICBpZiAocmVnaW9uLmhlaWdodCA9PT0gMClcbiAgICAgICAgICAgIHsgcmVnaW9uLmhlaWdodCA9IDE7IH1cbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZSh7XG4gICAgICAgICAgICB3aWR0aDogcmVnaW9uLndpZHRoIHwgMCxcbiAgICAgICAgICAgIGhlaWdodDogcmVnaW9uLmhlaWdodCB8IDAsXG4gICAgICAgICAgICBzY2FsZU1vZGU6IHNjYWxlTW9kZSxcbiAgICAgICAgICAgIHJlc29sdXRpb246IHJlc29sdXRpb24sXG4gICAgICAgIH0pO1xuICAgICAgICB0ZW1wTWF0cml4LnR4ID0gLXJlZ2lvbi54O1xuICAgICAgICB0ZW1wTWF0cml4LnR5ID0gLXJlZ2lvbi55O1xuICAgICAgICB0aGlzLnJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlLCBmYWxzZSwgdGVtcE1hdHJpeCwgISFkaXNwbGF5T2JqZWN0LnBhcmVudCk7XG4gICAgICAgIHJldHVybiByZW5kZXJUZXh0dXJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBldmVyeXRoaW5nIGZyb20gdGhlIHJlbmRlcmVyIGFuZCBvcHRpb25hbGx5IHJlbW92ZXMgdGhlIENhbnZhcyBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gUmVtb3ZlcyB0aGUgQ2FudmFzIGVsZW1lbnQgZnJvbSB0aGUgRE9NLlxuICAgICAqL1xuICAgIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAocmVtb3ZlVmlldykge1xuICAgICAgICBmb3IgKHZhciBvIGluIHRoaXMucGx1Z2lucykge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbW92ZVZpZXcgJiYgdGhpcy52aWV3LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNBbnkgPSB0aGlzO1xuICAgICAgICAvLyBudWxsLWluZyBhbGwgb2JqZWN0cywgdGhhdCdzIGEgdHJhZGl0aW9uIVxuICAgICAgICB0aGlzQW55LnBsdWdpbnMgPSBudWxsO1xuICAgICAgICB0aGlzQW55LnR5cGUgPSBSRU5ERVJFUl9UWVBFLlVOS05PV047XG4gICAgICAgIHRoaXNBbnkudmlldyA9IG51bGw7XG4gICAgICAgIHRoaXNBbnkuc2NyZWVuID0gbnVsbDtcbiAgICAgICAgdGhpc0FueS5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzQW55Lm9wdGlvbnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJiYWNrZ3JvdW5kQ29sb3JcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgdG8gZmlsbCBpZiBub3QgdHJhbnNwYXJlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSBoZXgyc3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIGhleDJyZ2IodmFsdWUsIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEFic3RyYWN0UmVuZGVyZXI7XG59KEV2ZW50RW1pdHRlcikpO1xuXG4vKipcbiAqIFRoZSBSZW5kZXJlciBkcmF3cyB0aGUgc2NlbmUgYW5kIGFsbCBpdHMgY29udGVudCBvbnRvIGEgV2ViR0wgZW5hYmxlZCBjYW52YXMuXG4gKlxuICogVGhpcyByZW5kZXJlciBzaG91bGQgYmUgdXNlZCBmb3IgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IFdlYkdMLlxuICpcbiAqIFRoaXMgcmVuZGVyZXIgd29ya3MgYnkgYXV0b21hdGljYWxseSBtYW5hZ2luZyBXZWJHTEJhdGNoZXNtLCBzbyBubyBuZWVkIGZvciBTcHJpdGUgQmF0Y2hlcyBvciBTcHJpdGUgQ2xvdWRzLlxuICogRG9uJ3QgZm9yZ2V0IHRvIGFkZCB0aGUgdmlldyB0byB5b3VyIERPTSBvciB5b3Ugd2lsbCBub3Qgc2VlIGFueXRoaW5nIVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuQWJzdHJhY3RSZW5kZXJlclxuICovXG52YXIgUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIFRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvRGVuc2l0eT1mYWxzZV0gLSBSZXNpemVzIHJlbmRlcmVyIHZpZXcgaW4gQ1NTIHBpeGVscyB0byBhbGxvdyBmb3JcbiAgICAgKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBTZXRzIGFudGlhbGlhcy4gSWYgbm90IGF2YWlsYWJsZSBuYXRpdmVseSB0aGVuIEZYQUFcbiAgICAgKiAgYW50aWFsaWFzaW5nIGlzIHVzZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICogIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJlciByZXRpbmEgd291bGQgYmUgMi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyXG4gICAgICogIHRoZSBjYW52YXMgb3Igbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLiBJZiB5b3Ugd2lzaCB0byBzZXQgdGhpcyB0byBmYWxzZSwgeW91ICptdXN0KiBzZXRcbiAgICAgKiAgcHJlc2VydmVEcmF3aW5nQnVmZmVyIHRvIGB0cnVlYC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBFbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbixcbiAgICAgKiAgZW5hYmxlIHRoaXMgaWYgeW91IG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIFdlYkdMIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICAgICAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG93ZXJQcmVmZXJlbmNlXSAtIFBhcmFtZXRlciBwYXNzZWQgdG8gV2ViR0wgY29udGV4dCwgc2V0IHRvIFwiaGlnaC1wZXJmb3JtYW5jZVwiXG4gICAgICogIGZvciBkZXZpY2VzIHdpdGggZHVhbCBncmFwaGljcyBjYXJkLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5jb250ZXh0XSAtIElmIFdlYkdMIGNvbnRleHQgYWxyZWFkeSBleGlzdHMsIGFsbCBwYXJhbWV0ZXJzIG11c3QgYmUgdGFrZW4gZnJvbSBpdC5cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVuZGVyZXIob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBSRU5ERVJFUl9UWVBFLldFQkdMLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgICAgICAvLyB0aGUgb3B0aW9ucyB3aWxsIGhhdmUgYmVlbiBtb2RpZmllZCBoZXJlIGluIHRoZSBzdXBlciBjb25zdHJ1Y3RvciB3aXRoIHBpeGkncyBkZWZhdWx0IHNldHRpbmdzLi5cbiAgICAgICAgb3B0aW9ucyA9IF90aGlzLm9wdGlvbnM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZWJHTCBjb250ZXh0LCBzZXQgYnkgdGhlIGNvbnRleHRTeXN0ZW0gKHRoaXMuY29udGV4dClcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdsID0gbnVsbDtcbiAgICAgICAgX3RoaXMuQ09OVEVYVF9VSUQgPSAwO1xuICAgICAgICAvLyBUT0RPIGxlZ2FjeSFcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHNpZ25hbCBpbnN0YW5jZXMgb2YgKipydW5uZXIqKiwgdGhlc2VcbiAgICAgICAgICogYXJlIGFzc2lnbmVkIHRvIGVhY2ggc3lzdGVtIGNyZWF0ZWQuXG4gICAgICAgICAqIEBzZWUgUElYSS5SdW5uZXJcbiAgICAgICAgICogQG5hbWUgUElYSS5SZW5kZXJlciNydW5uZXJzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBkZXN0cm95IC0gRGVzdHJveSBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gY29udGV4dENoYW5nZSAtIENvbnRleHQgY2hhbmdlIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSByZXNldCAtIFJlc2V0IHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSB1cGRhdGUgLSBVcGRhdGUgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHBvc3RyZW5kZXIgLSBQb3N0LXJlbmRlciBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcHJlcmVuZGVyIC0gUHJlLXJlbmRlciBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcmVzaXplIC0gUmVzaXplIHJ1bm5lclxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucnVubmVycyA9IHtcbiAgICAgICAgICAgIGRlc3Ryb3k6IG5ldyBSdW5uZXIoJ2Rlc3Ryb3knKSxcbiAgICAgICAgICAgIGNvbnRleHRDaGFuZ2U6IG5ldyBSdW5uZXIoJ2NvbnRleHRDaGFuZ2UnKSxcbiAgICAgICAgICAgIHJlc2V0OiBuZXcgUnVubmVyKCdyZXNldCcpLFxuICAgICAgICAgICAgdXBkYXRlOiBuZXcgUnVubmVyKCd1cGRhdGUnKSxcbiAgICAgICAgICAgIHBvc3RyZW5kZXI6IG5ldyBSdW5uZXIoJ3Bvc3RyZW5kZXInKSxcbiAgICAgICAgICAgIHByZXJlbmRlcjogbmV3IFJ1bm5lcigncHJlcmVuZGVyJyksXG4gICAgICAgICAgICByZXNpemU6IG5ldyBSdW5uZXIoJ3Jlc2l6ZScpLFxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogR2xvYmFsIHVuaWZvcm1zXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVW5pZm9ybUdyb3VwfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2xvYmFsVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgICAgICAgIHByb2plY3Rpb25NYXRyaXg6IG5ldyBNYXRyaXgoKSxcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXNrIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuTWFza1N5c3RlbX0gbWFza1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hZGRTeXN0ZW0oTWFza1N5c3RlbSwgJ21hc2snKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDb250ZXh0IHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkNvbnRleHRTeXN0ZW19IGNvbnRleHRcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oQ29udGV4dFN5c3RlbSwgJ2NvbnRleHQnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTdGF0ZSBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5TdGF0ZVN5c3RlbX0gc3RhdGVcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU3RhdGVTeXN0ZW0sICdzdGF0ZScpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNoYWRlciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5TaGFkZXJTeXN0ZW19IHNoYWRlclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTaGFkZXJTeXN0ZW0sICdzaGFkZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZXh0dXJlIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlRleHR1cmVTeXN0ZW19IHRleHR1cmVcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oVGV4dHVyZVN5c3RlbSwgJ3RleHR1cmUnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBHZW9tZXRyeSBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5HZW9tZXRyeVN5c3RlbX0gZ2VvbWV0cnlcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oR2VvbWV0cnlTeXN0ZW0sICdnZW9tZXRyeScpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZyYW1lYnVmZmVyIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkZyYW1lYnVmZmVyU3lzdGVtfSBmcmFtZWJ1ZmZlclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShGcmFtZWJ1ZmZlclN5c3RlbSwgJ2ZyYW1lYnVmZmVyJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2Npc3NvciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5TY2lzc29yU3lzdGVtfSBzY2lzc29yXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFNjaXNzb3JTeXN0ZW0sICdzY2lzc29yJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3RlbmNpbCBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5TdGVuY2lsU3lzdGVtfSBzdGVuY2lsXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFN0ZW5jaWxTeXN0ZW0sICdzdGVuY2lsJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUHJvamVjdGlvbiBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5Qcm9qZWN0aW9uU3lzdGVtfSBwcm9qZWN0aW9uXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFByb2plY3Rpb25TeXN0ZW0sICdwcm9qZWN0aW9uJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGV4dHVyZSBnYXJiYWdlIGNvbGxlY3RvciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5UZXh0dXJlR0NTeXN0ZW19IHRleHR1cmVHQ1xuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShUZXh0dXJlR0NTeXN0ZW0sICd0ZXh0dXJlR0MnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGaWx0ZXIgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oRmlsdGVyU3lzdGVtLCAnZmlsdGVyJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmVuZGVyVGV4dHVyZSBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5SZW5kZXJUZXh0dXJlU3lzdGVtfSByZW5kZXJUZXh0dXJlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFJlbmRlclRleHR1cmVTeXN0ZW0sICdyZW5kZXJUZXh0dXJlJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQmF0Y2ggc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuQmF0Y2hTeXN0ZW19IGJhdGNoXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEJhdGNoU3lzdGVtLCAnYmF0Y2gnKTtcbiAgICAgICAgX3RoaXMuaW5pdFBsdWdpbnMoUmVuZGVyZXIuX19wbHVnaW5zKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcHRpb25zIHBhc3NlZCBpbiB0byBjcmVhdGUgYSBuZXcgV2ViR0wgY29udGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChvcHRpb25zLmNvbnRleHQpIHtcbiAgICAgICAgICAgIF90aGlzLmNvbnRleHQuaW5pdEZyb21Db250ZXh0KG9wdGlvbnMuY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5jb250ZXh0LmluaXRGcm9tT3B0aW9ucyh7XG4gICAgICAgICAgICAgICAgYWxwaGE6ICEhX3RoaXMudHJhbnNwYXJlbnQsXG4gICAgICAgICAgICAgICAgYW50aWFsaWFzOiBvcHRpb25zLmFudGlhbGlhcyxcbiAgICAgICAgICAgICAgICBwcmVtdWx0aXBsaWVkQWxwaGE6IF90aGlzLnRyYW5zcGFyZW50ICYmIF90aGlzLnRyYW5zcGFyZW50ICE9PSAnbm90TXVsdGlwbGllZCcsXG4gICAgICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IG9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyLFxuICAgICAgICAgICAgICAgIHBvd2VyUHJlZmVyZW5jZTogX3RoaXMub3B0aW9ucy5wb3dlclByZWZlcmVuY2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZyBpZiB3ZSBhcmUgcmVuZGVyaW5nIHRvIHRoZSBzY3JlZW4gdnMgcmVuZGVyVGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSB0cnVlO1xuICAgICAgICBzYXlIZWxsbyhfdGhpcy5jb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMiA/ICdXZWJHTCAyJyA6ICdXZWJHTCAxJyk7XG4gICAgICAgIF90aGlzLnJlc2l6ZShfdGhpcy5vcHRpb25zLndpZHRoLCBfdGhpcy5vcHRpb25zLmhlaWdodCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHJlbmRlcmVyIGlmIFdlYkdMIGlzIGF2YWlsYWJsZS4gT3ZlcnJpZGVhYmxlXG4gICAgICogYnkgdGhlICoqQHBpeGkvY2FudmFzLXJlbmRlcmVyKiogcGFja2FnZSB0byBhbGxvdyBmYWxsYmFjay5cbiAgICAgKiB0aHJvd3MgZXJyb3IgaWYgV2ViR0wgaXMgbm90IGF2YWlsYWJsZS5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSZW5kZXJlci5jcmVhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAoaXNXZWJHTFN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlbmRlcmVyKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViR0wgdW5zdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLCB1c2UgXCJwaXhpLmpzLWxlZ2FjeVwiIGZvciBmYWxsYmFjayBjYW52YXMyZCBzdXBwb3J0LicpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGEgbmV3IHN5c3RlbSB0byB0aGUgcmVuZGVyZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQ2xhc3NSZWYgLSBDbGFzcyByZWZlcmVuY2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdIC0gUHJvcGVydHkgbmFtZSBmb3Igc3lzdGVtLCBpZiBub3Qgc3BlY2lmaWVkXG4gICAgICogICAgICAgIHdpbGwgdXNlIGEgc3RhdGljIGBuYW1lYCBwcm9wZXJ0eSBvbiB0aGUgY2xhc3MgaXRzZWxmLiBUaGlzXG4gICAgICogICAgICAgIG5hbWUgd2lsbCBiZSBhc3NpZ25lZCBhcyBzIHByb3BlcnR5IG9uIHRoZSBSZW5kZXJlciBzbyBtYWtlXG4gICAgICogICAgICAgIHN1cmUgaXQgZG9lc24ndCBjb2xsaWRlIHdpdGggcHJvcGVydGllcyBvbiBSZW5kZXJlci5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlcmVyfSBSZXR1cm4gaW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUuYWRkU3lzdGVtID0gZnVuY3Rpb24gKENsYXNzUmVmLCBuYW1lKSB7XG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IENsYXNzUmVmLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN5c3RlbSA9IG5ldyBDbGFzc1JlZih0aGlzKTtcbiAgICAgICAgaWYgKHRoaXNbbmFtZV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIldob29wcyEgVGhlIG5hbWUgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBpcyBhbHJlYWR5IGluIHVzZVwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzW25hbWVdID0gc3lzdGVtO1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMucnVubmVycykge1xuICAgICAgICAgICAgdGhpcy5ydW5uZXJzW2ldLmFkZChzeXN0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBhZnRlciByZW5kZXJpbmcgZmluaXNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLlJlbmRlcmVyI3Bvc3RyZW5kZXJcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBiZWZvcmUgcmVuZGVyaW5nIHN0YXJ0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjcHJlcmVuZGVyXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgV2ViR0wgY29udGV4dCBpcyBzZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLlJlbmRlcmVyI2NvbnRleHRcbiAgICAgICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gV2ViR0wgY29udGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHRvIGl0cyBXZWJHTCB2aWV3XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBvYmplY3QgdG8gYmUgcmVuZGVyZWQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtyZW5kZXJUZXh0dXJlXSAtIFRoZSByZW5kZXIgdGV4dHVyZSB0byByZW5kZXIgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2xlYXI9dHJ1ZV0gLSBTaG91bGQgdGhlIGNhbnZhcyBiZSBjbGVhcmVkIGJlZm9yZSB0aGUgbmV3IHJlbmRlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbdHJhbnNmb3JtXSAtIEEgdHJhbnNmb3JtIHRvIGFwcGx5IHRvIHRoZSByZW5kZXIgdGV4dHVyZSBiZWZvcmUgcmVuZGVyaW5nLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGVUcmFuc2Zvcm09ZmFsc2VdIC0gU2hvdWxkIHdlIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm0gcGFzcz9cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QsIHJlbmRlclRleHR1cmUsIGNsZWFyLCB0cmFuc2Zvcm0sIHNraXBVcGRhdGVUcmFuc2Zvcm0pIHtcbiAgICAgICAgLy8gY2FuIGJlIGhhbmR5IHRvIGtub3chXG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSAhcmVuZGVyVGV4dHVyZTtcbiAgICAgICAgdGhpcy5ydW5uZXJzLnByZXJlbmRlci5lbWl0KCk7XG4gICAgICAgIHRoaXMuZW1pdCgncHJlcmVuZGVyJyk7XG4gICAgICAgIC8vIGFwcGx5IGEgdHJhbnNmb3JtIGF0IGEgR1BVIGxldmVsXG4gICAgICAgIHRoaXMucHJvamVjdGlvbi50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIC8vIG5vIHBvaW50IHJlbmRlcmluZyBpZiBvdXIgY29udGV4dCBoYXMgYmVlbiBibG93biB1cCFcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5pc0xvc3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHNjZW5lIGdyYXBoXG4gICAgICAgICAgICB2YXIgY2FjaGVQYXJlbnQgPSBkaXNwbGF5T2JqZWN0LmVuYWJsZVRlbXBQYXJlbnQoKTtcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LmRpc2FibGVUZW1wUGFyZW50KGNhY2hlUGFyZW50KTtcbiAgICAgICAgICAgIC8vIGRpc3BsYXlPYmplY3QuaGl0QXJlYSA9IC8vVE9ETyBhZGQgYSB0ZW1wIGhpdCBhcmVhXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlLmJpbmQocmVuZGVyVGV4dHVyZSk7XG4gICAgICAgIHRoaXMuYmF0Y2guY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG4gICAgICAgIGlmIChjbGVhciAhPT0gdW5kZWZpbmVkID8gY2xlYXIgOiB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlcih0aGlzKTtcbiAgICAgICAgLy8gYXBwbHkgdHJhbnNmb3JtLi5cbiAgICAgICAgdGhpcy5iYXRjaC5jdXJyZW50UmVuZGVyZXIuZmx1c2goKTtcbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ydW5uZXJzLnBvc3RyZW5kZXIuZW1pdCgpO1xuICAgICAgICAvLyByZXNldCB0cmFuc2Zvcm0gYWZ0ZXIgcmVuZGVyXG4gICAgICAgIHRoaXMucHJvamVjdGlvbi50cmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICB0aGlzLmVtaXQoJ3Bvc3RyZW5kZXInKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIFdlYkdMIHZpZXcgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSBUaGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnJlc2l6ZS5jYWxsKHRoaXMsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpO1xuICAgICAgICB0aGlzLnJ1bm5lcnMucmVzaXplLmVtaXQoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIFdlYkdMIHN0YXRlIHNvIHlvdSBjYW4gcmVuZGVyIHRoaW5ncyBob3dldmVyIHlvdSBmYW5jeSFcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ydW5uZXJzLnJlc2V0LmVtaXQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuYmluZCgpO1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlcnl0aGluZyBmcm9tIHRoZSByZW5kZXJlciAoZXZlbnQgbGlzdGVuZXJzLCBzcHJpdGViYXRjaCwgZXRjLi4uKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICogIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy8yMjMzXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAocmVtb3ZlVmlldykge1xuICAgICAgICB0aGlzLnJ1bm5lcnMuZGVzdHJveS5lbWl0KCk7XG4gICAgICAgIGZvciAodmFyIHIgaW4gdGhpcy5ydW5uZXJzKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5lcnNbcl0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNhbGwgYmFzZSBkZXN0cm95XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHJlbW92ZVZpZXcpO1xuICAgICAgICAvLyBUT0RPIG51bGxpZnkgYWxsIHRoZSBtYW5hZ2Vycy4uXG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBsdWdpbk5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcGx1Z2luLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN0b3IgLSBUaGUgY29uc3RydWN0b3IgZnVuY3Rpb24gb3IgY2xhc3MgZm9yIHRoZSBwbHVnaW4uXG4gICAgICovXG4gICAgUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luTmFtZSwgY3Rvcikge1xuICAgICAgICBSZW5kZXJlci5fX3BsdWdpbnMgPSBSZW5kZXJlci5fX3BsdWdpbnMgfHwge307XG4gICAgICAgIFJlbmRlcmVyLl9fcGx1Z2luc1twbHVnaW5OYW1lXSA9IGN0b3I7XG4gICAgfTtcbiAgICByZXR1cm4gUmVuZGVyZXI7XG59KEFic3RyYWN0UmVuZGVyZXIpKTtcblxuLyoqXG4gKiBUaGlzIGhlbHBlciBmdW5jdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgZGV0ZWN0IHdoaWNoIHJlbmRlcmVyIHlvdSBzaG91bGQgYmUgdXNpbmcuXG4gKiBXZWJHTCBpcyB0aGUgcHJlZmVycmVkIHJlbmRlcmVyIGFzIGl0IGlzIGEgbG90IGZhc3Rlci4gSWYgV2ViR0wgaXMgbm90IHN1cHBvcnRlZCBieVxuICogdGhlIGJyb3dzZXIgdGhlbiB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGEgY2FudmFzIHJlbmRlcmVyXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBhdXRvRGV0ZWN0UmVuZGVyZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSByZW5kZXJlcnMgdmlld1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSB0aGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudCwgZGVmYXVsdCBmYWxzZVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvRGVuc2l0eT1mYWxzZV0gLSBSZXNpemVzIHJlbmRlcmVyIHZpZXcgaW4gQ1NTIHBpeGVscyB0byBhbGxvdyBmb3JcbiAqICAgcmVzb2x1dGlvbnMgb3RoZXIgdGhhbiAxXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBzZXRzIGFudGlhbGlhc1xuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gZW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sIGVuYWJsZSB0aGlzIGlmIHlvdVxuICogIG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIHdlYmdsIGNvbnRleHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICogICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlciwgcmV0aW5hIHdvdWxkIGJlIDJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VDYW52YXM9ZmFsc2VdIC0gcHJldmVudHMgc2VsZWN0aW9uIG9mIFdlYkdMIHJlbmRlcmVyLCBldmVuIGlmIHN1Y2ggaXMgcHJlc2VudCwgdGhpc1xuICogICBvcHRpb24gb25seSBpcyBhdmFpbGFibGUgd2hlbiB1c2luZyAqKnBpeGkuanMtbGVnYWN5Kiogb3IgKipAcGl4aS9jYW52YXMtcmVuZGVyZXIqKiBtb2R1bGVzLCBvdGhlcndpc2VcbiAqICAgaXQgaXMgaWdub3JlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byB3ZWJnbCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZCAqKndlYmdsIG9ubHkqKlxuICogQHJldHVybiB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1JlbmRlcmVyfSBSZXR1cm5zIFdlYkdMIHJlbmRlcmVyIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIENhbnZhc1JlbmRlcmVyXG4gKi9cbmZ1bmN0aW9uIGF1dG9EZXRlY3RSZW5kZXJlcihvcHRpb25zKSB7XG4gICAgcmV0dXJuIFJlbmRlcmVyLmNyZWF0ZShvcHRpb25zKTtcbn1cblxudmFyIF9kZWZhdWx0ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG59XCI7XG5cbnZhciBkZWZhdWx0RmlsdGVyID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IGlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbn1cXG5cXG52ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxue1xcbiAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcXG59XFxuXCI7XG5cbi8qKlxuICogVXNlZCBieSB0aGUgYmF0Y2hlciB0byBkcmF3IGJhdGNoZXMuXG4gKiBFYWNoIG9uZSBvZiB0aGVzZSBjb250YWlucyBhbGwgaW5mb3JtYXRpb24gcmVxdWlyZWQgdG8gZHJhdyBhIGJvdW5kIGdlb21ldHJ5LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhdGNoRHJhd0NhbGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmF0Y2hEcmF3Q2FsbCgpIHtcbiAgICAgICAgdGhpcy50ZXhBcnJheSA9IG51bGw7XG4gICAgICAgIHRoaXMuYmxlbmQgPSAwO1xuICAgICAgICB0aGlzLnR5cGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUztcbiAgICAgICAgdGhpcy5zdGFydCA9IDA7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkYXRhIGZvciB1bmlmb3JtcyBvciBjdXN0b20gd2ViZ2wgc3RhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIEJhdGNoRHJhd0NhbGw7XG59KCkpO1xuXG4vKipcbiAqIFVzZWQgYnkgdGhlIGJhdGNoZXIgdG8gYnVpbGQgdGV4dHVyZSBiYXRjaGVzLlxuICogSG9sZHMgbGlzdCBvZiB0ZXh0dXJlcyBhbmQgdGhlaXIgcmVzcGVjdGl2ZSBsb2NhdGlvbnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmF0Y2hUZXh0dXJlQXJyYXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmF0Y2hUZXh0dXJlQXJyYXkoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBpbnNpZGUgdGV4dHVyZXMgYXJyYXlcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVzcGVjdGl2ZSBsb2NhdGlvbnMgZm9yIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIG51bWJlciBvZiBmaWxsZWQgZWxlbWVudHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgfVxuICAgIEJhdGNoVGV4dHVyZUFycmF5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbaV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgIH07XG4gICAgcmV0dXJuIEJhdGNoVGV4dHVyZUFycmF5O1xufSgpKTtcblxuLyoqXG4gKiBGbGV4aWJsZSB3cmFwcGVyIGFyb3VuZCBgQXJyYXlCdWZmZXJgIHRoYXQgYWxzbyBwcm92aWRlc1xuICogdHlwZWQgYXJyYXkgdmlld3Mgb24gZGVtYW5kLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFZpZXdhYmxlQnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gVGhlIHNpemUgb2YgdGhlIGJ1ZmZlciBpbiBieXRlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBWaWV3YWJsZUJ1ZmZlcihzaXplKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVbmRlcmx5aW5nIGBBcnJheUJ1ZmZlcmAgdGhhdCBob2xkcyBhbGwgdGhlIGRhdGFcbiAgICAgICAgICogYW5kIGlzIG9mIGNhcGFjaXR5IGBzaXplYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXlCdWZmZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhd0JpbmFyeURhdGEgPSBuZXcgQXJyYXlCdWZmZXIoc2l6ZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgVWludDMyQXJyYXlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudWludDMyVmlldyA9IG5ldyBVaW50MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEZsb2F0MzJBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmxvYXQzMlZpZXcgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3YWJsZUJ1ZmZlci5wcm90b3R5cGUsIFwiaW50OFZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDhBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0ludDhBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pbnQ4Vmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludDhWaWV3ID0gbmV3IEludDhBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ludDhWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJ1aW50OFZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYFVpbnQ4QXJyYXlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50OEFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3VpbnQ4Vmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VpbnQ4VmlldyA9IG5ldyBVaW50OEFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdWludDhWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJpbnQxNlZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDE2QXJyYXlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtJbnQxNkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2ludDE2Vmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludDE2VmlldyA9IG5ldyBJbnQxNkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW50MTZWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJ1aW50MTZWaWV3XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBVaW50MTZBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3VpbnQxNlZpZXcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91aW50MTZWaWV3ID0gbmV3IFVpbnQxNkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdWludDE2VmlldztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3YWJsZUJ1ZmZlci5wcm90b3R5cGUsIFwiaW50MzJWaWV3XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBJbnQzMkFycmF5YC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SW50MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pbnQzMlZpZXcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnQzMlZpZXcgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ludDMyVmlldztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZpZXcgb2YgdGhlIGdpdmVuIHR5cGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIE9uZSBvZiBgaW50OGAsIGB1aW50OGAsIGBpbnQxNmAsXG4gICAgICogICAgYHVpbnQxNmAsIGBpbnQzMmAsIGB1aW50MzJgLCBhbmQgYGZsb2F0MzJgLlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gdHlwZWQgYXJyYXkgb2YgZ2l2ZW4gdHlwZVxuICAgICAqL1xuICAgIFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZS52aWV3ID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbdHlwZSArIFwiVmlld1wiXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIGFsbCBidWZmZXIgcmVmZXJlbmNlcy4gRG8gbm90IHVzZSBhZnRlciBjYWxsaW5nXG4gICAgICogdGhpcy5cbiAgICAgKi9cbiAgICBWaWV3YWJsZUJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yYXdCaW5hcnlEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW50OFZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl91aW50OFZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbnQxNlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl91aW50MTZWaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW50MzJWaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy51aW50MzJWaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy5mbG9hdDMyVmlldyA9IG51bGw7XG4gICAgfTtcbiAgICBWaWV3YWJsZUJ1ZmZlci5zaXplT2YgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2ludDgnOlxuICAgICAgICAgICAgY2FzZSAndWludDgnOlxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgY2FzZSAnaW50MTYnOlxuICAgICAgICAgICAgY2FzZSAndWludDE2JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgICAgIGNhc2UgJ2ludDMyJzpcbiAgICAgICAgICAgIGNhc2UgJ3VpbnQzMic6XG4gICAgICAgICAgICBjYXNlICdmbG9hdDMyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gNDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHR5cGUgKyBcIiBpc24ndCBhIHZhbGlkIHZpZXcgdHlwZVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFZpZXdhYmxlQnVmZmVyO1xufSgpKTtcblxuLyoqXG4gKiBSZW5kZXJlciBkZWRpY2F0ZWQgdG8gZHJhd2luZyBhbmQgYmF0Y2hpbmcgc3ByaXRlcy5cbiAqXG4gKiBUaGlzIGlzIHRoZSBkZWZhdWx0IGJhdGNoIHJlbmRlcmVyLiBJdCBidWZmZXJzIG9iamVjdHNcbiAqIHdpdGggdGV4dHVyZS1iYXNlZCBnZW9tZXRyaWVzIGFuZCByZW5kZXJzIHRoZW0gaW5cbiAqIGJhdGNoZXMuIEl0IHVwbG9hZHMgbXVsdGlwbGUgdGV4dHVyZXMgdG8gdGhlIEdQVSB0b1xuICogcmVkdWNlIHRvIHRoZSBudW1iZXIgb2YgZHJhdyBjYWxscy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcm90ZWN0ZWRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cbnZhciBBYnN0cmFjdEJhdGNoUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFic3RyYWN0QmF0Y2hSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgaG9vayBvbnRvIHRoZSByZW5kZXJlcidzIGBjb250ZXh0Q2hhbmdlYFxuICAgICAqIGFuZCBgcHJlcmVuZGVyYCBzaWduYWxzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBYnN0cmFjdEJhdGNoUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWQgdG8gZ2VuZXJhdGUgYSBzaGFkZXIgdGhhdCBjYW5cbiAgICAgICAgICogY29sb3IgZWFjaCB2ZXJ0ZXggYmFzZWQgb24gYSBgYVRleHR1cmVJZGBcbiAgICAgICAgICogYXR0cmlidXRlIHRoYXQgcG9pbnRzIHRvIGFuIHRleHR1cmUgaW4gYHVTYW1wbGVyYC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBlbmFibGVzIHRoZSBvYmplY3RzIHdpdGggZGlmZmVyZW50IHRleHR1cmVzXG4gICAgICAgICAqIHRvIGJlIGRyYXduIGluIHRoZSBzYW1lIGRyYXcgY2FsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogWW91IGNhbiBjdXN0b21pemUgeW91ciBzaGFkZXIgYnkgY3JlYXRpbmcgeW91clxuICAgICAgICAgKiBjdXN0b20gc2hhZGVyIGdlbmVyYXRvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXRjaFNoYWRlckdlbmVyYXRvcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2hhZGVyR2VuZXJhdG9yID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjbGFzcyB0aGF0IHJlcHJlc2VudHMgdGhlIGdlb21ldHJ5IG9mIG9iamVjdHNcbiAgICAgICAgICogdGhhdCBhcmUgZ29pbmcgdG8gYmUgYmF0Y2hlZCB3aXRoIHRoaXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CYXRjaEdlb21ldHJ5XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdlb21ldHJ5Q2xhc3MgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2l6ZSBvZiBkYXRhIGJlaW5nIGJ1ZmZlcmVkIHBlciB2ZXJ0ZXggaW4gdGhlXG4gICAgICAgICAqIGF0dHJpYnV0ZSBidWZmZXJzIChpbiBmbG9hdHMpLiBCeSBkZWZhdWx0LCB0aGVcbiAgICAgICAgICogYmF0Y2gtcmVuZGVyZXIgcGx1Z2luIHVzZXMgNjpcbiAgICAgICAgICpcbiAgICAgICAgICogfCBhVmVydGV4UG9zaXRpb24gfCAyIHxcbiAgICAgICAgICogfC0tLS0tLS0tLS0tLS0tLS0tfC0tLXxcbiAgICAgICAgICogfCBhVGV4dHVyZUNvb3JkcyAgfCAyIHxcbiAgICAgICAgICogfCBhQ29sb3IgICAgICAgICAgfCAxIHxcbiAgICAgICAgICogfCBhVGV4dHVyZUlkICAgICAgfCAxIHxcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleFNpemUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHN0YXRlIGluIHdoaWNoIHRoaXMgcmVuZGVyZXIgd2lsbCB3b3JrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgYnVmZmVyYWJsZSBvYmplY3RzIGJlZm9yZSBhIGZsdXNoXG4gICAgICAgICAqIG9jY3VycyBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IHNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFICogNFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2l6ZSA9IHNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFICogNDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvdGFsIGNvdW50IG9mIGFsbCB2ZXJ0aWNlcyB1c2VkIGJ5IHRoZSBjdXJyZW50bHlcbiAgICAgICAgICogYnVmZmVyZWQgb2JqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3ZlcnRleENvdW50ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvdGFsIGNvdW50IG9mIGFsbCBpbmRpY2VzIHVzZWQgYnkgdGhlIGN1cnJlbnRseVxuICAgICAgICAgKiBidWZmZXJlZCBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faW5kZXhDb3VudCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgb2Ygb2JqZWN0cyB0aGF0IGFyZSB5ZXQgdG8gYmUgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdFtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlcmVkRWxlbWVudHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERhdGEgZm9yIHRleHR1cmUgYmF0Y2ggYnVpbGRlciwgaGVscHMgdG8gc2F2ZSBhIGJpdCBvZiBDUFUgb24gYSBwYXNzLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5CYXNlVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlcmVkVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBlbGVtZW50cyB0aGF0IGFyZSBidWZmZXJlZCBhbmQgYXJlXG4gICAgICAgICAqIHdhaXRpbmcgdG8gYmUgZmx1c2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlclNpemUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBzaGFkZXIgaXMgZ2VuZXJhdGVkIGJ5IGB0aGlzLnNoYWRlckdlbmVyYXRvcmAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEl0IGlzIGdlbmVyYXRlZCBzcGVjaWZpY2FsbHkgdG8gaGFuZGxlIHRoZSByZXF1aXJlZFxuICAgICAgICAgKiBudW1iZXIgb2YgdGV4dHVyZXMgYmVpbmcgYmF0Y2hlZCB0b2dldGhlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9zaGFkZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBgdGhpcy5nZW9tZXRyeUNsYXNzYCBnZW9tZXRyeSBvYmplY3RzXG4gICAgICAgICAqIHRoYXQgc3RvcmUgYnVmZmVycy4gVGhleSBhcmUgdXNlZCB0byBwYXNzIGRhdGFcbiAgICAgICAgICogdG8gdGhlIHNoYWRlciBvbiBlYWNoIGRyYXcgY2FsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlc2UgYXJlIG5ldmVyIHJlLWFsbG9jYXRlZCBhZ2FpbiwgdW5sZXNzIGFcbiAgICAgICAgICogY29udGV4dCBjaGFuZ2Ugb2NjdXJzOyBob3dldmVyLCB0aGUgcG9vbCBtYXlcbiAgICAgICAgICogYmUgZXhwYW5kZWQgaWYgcmVxdWlyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR2VvbWV0cnlbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFic3RyYWN0QmF0Y2hSZW5kZXJlci5jb250ZXh0Q2hhbmdlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcGFja2VkR2VvbWV0cmllcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2l6ZSBvZiBgdGhpcy5fcGFja2VkR2VvbWV0cmllc2AuIEl0IGNhbiBiZSBleHBhbmRlZFxuICAgICAgICAgKiBpZiBtb3JlIHRoYW4gYHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemVgIGZsdXNoZXNcbiAgICAgICAgICogb2NjdXIgaW4gYSBzaW5nbGUgZnJhbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplID0gMjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmx1c2ggbWF5IG9jY3VyIG11bHRpcGxlIHRpbWVzIGluIGEgc2luZ2xlXG4gICAgICAgICAqIGZyYW1lLiBPbiBpT1MgZGV2aWNlcyBvciB3aGVuXG4gICAgICAgICAqIGBzZXR0aW5ncy5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSYCBpcyBmYWxzZSwgdGhlXG4gICAgICAgICAqIGJhdGNoIHJlbmRlcmVyIGRvZXMgbm90IHVwbG9hZCBkYXRhIHRvIHRoZSBzYW1lXG4gICAgICAgICAqIGBXZWJHTEJ1ZmZlcmAgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGluZGV4IGludG8gYHBhY2tlZEdlb21ldHJpZXNgIHRoYXQgcG9pbnRzIHRvXG4gICAgICAgICAqIGdlb21ldHJ5IGhvbGRpbmcgdGhlIG1vc3QgcmVjZW50IGJ1ZmZlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mbHVzaElkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgYFZpZXdhYmxlQnVmZmVyYCBvYmplY3RzIHRoYXQgYXJlIHNvcnRlZCBpblxuICAgICAgICAgKiBvcmRlciBvZiBpbmNyZWFzaW5nIHNpemUuIFRoZSBmbHVzaCBtZXRob2QgdXNlc1xuICAgICAgICAgKiB0aGUgYnVmZmVyIHdpdGggdGhlIGxlYXN0IHNpemUgYWJvdmUgdGhlIGFtb3VudFxuICAgICAgICAgKiBpdCByZXF1aXJlcy4gVGhlc2UgYXJlIHVzZWQgZm9yIHBhc3NpbmcgYXR0cmlidXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGZpcnN0IGJ1ZmZlciBoYXMgYSBzaXplIG9mIDg7IGVhY2ggc3Vic2VxdWVudFxuICAgICAgICAgKiBidWZmZXIgaGFzIGRvdWJsZSBjYXBhY2l0eSBvZiBpdHMgcHJldmlvdXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVmlld2FibGVCdWZmZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFic3RyYWN0QmF0Y2hSZW5kZXJlciNnZXRBdHRyaWJ1dGVCdWZmZXJcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hQnVmZmVycyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBgVWludDE2QXJyYXlgIG9iamVjdHMgdGhhdCBhcmUgc29ydGVkIGluXG4gICAgICAgICAqIG9yZGVyIG9mIGluY3JlYXNpbmcgc2l6ZS4gVGhlIGZsdXNoIG1ldGhvZCB1c2VzXG4gICAgICAgICAqIHRoZSBidWZmZXIgd2l0aCB0aGUgbGVhc3Qgc2l6ZSBhYm92ZSB0aGUgYW1vdW50XG4gICAgICAgICAqIGl0IHJlcXVpcmVzLiBUaGVzZSBhcmUgdXNlZCBmb3IgcGFzc2luZyBpbmRpY2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZmlyc3QgYnVmZmVyIGhhcyBhIHNpemUgb2YgMTI7IGVhY2ggc3Vic2VxdWVudFxuICAgICAgICAgKiBidWZmZXIgaGFzIGRvdWJsZSBjYXBhY2l0eSBvZiBpdHMgcHJldmlvdXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5W119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIjZ2V0SW5kZXhCdWZmZXJcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9pQnVmZmVycyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSBudW1iZXIgb2YgdGV4dHVyZXMgdGhhdCBjYW4gYmUgdXBsb2FkZWQgdG9cbiAgICAgICAgICogdGhlIEdQVSB1bmRlciB0aGUgY3VycmVudCBjb250ZXh0LiBJdCBpcyBpbml0aWFsaXplZFxuICAgICAgICAgKiBwcm9wZXJseSBpbiBgdGhpcy5jb250ZXh0Q2hhbmdlYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RCYXRjaFJlbmRlcmVyI2NvbnRleHRDaGFuZ2VcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5NQVhfVEVYVFVSRVMgPSAxO1xuICAgICAgICBfdGhpcy5yZW5kZXJlci5vbigncHJlcmVuZGVyJywgX3RoaXMub25QcmVyZW5kZXIsIF90aGlzKTtcbiAgICAgICAgcmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLmFkZChfdGhpcyk7XG4gICAgICAgIF90aGlzLl9kY0luZGV4ID0gMDtcbiAgICAgICAgX3RoaXMuX2FJbmRleCA9IDA7XG4gICAgICAgIF90aGlzLl9pSW5kZXggPSAwO1xuICAgICAgICBfdGhpcy5fYXR0cmlidXRlQnVmZmVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2luZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3RlbXBCb3VuZFRleHR1cmVzID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgYGNvbnRleHRDaGFuZ2VgIHNpZ25hbC5cbiAgICAgKlxuICAgICAqIEl0IGNhbGN1bGF0ZXMgYHRoaXMuTUFYX1RFWFRVUkVTYCBhbmQgYWxsb2NhdGluZyB0aGVcbiAgICAgKiBwYWNrZWQtZ2VvbWV0cnkgb2JqZWN0IHBvb2wuXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSkge1xuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc3RlcCAxOiBmaXJzdCBjaGVjayBtYXggdGV4dHVyZXMgdGhlIEdQVSBjYW4gaGFuZGxlLlxuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSBNYXRoLm1pbihnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLCBzZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgICAgIC8vIHN0ZXAgMjogY2hlY2sgdGhlIG1heGltdW0gbnVtYmVyIG9mIGlmIHN0YXRlbWVudHMgdGhlIHNoYWRlciBjYW4gaGF2ZSB0b28uLlxuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyKHRoaXMuTUFYX1RFWFRVUkVTLCBnbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2hhZGVyID0gdGhpcy5zaGFkZXJHZW5lcmF0b3IuZ2VuZXJhdGVTaGFkZXIodGhpcy5NQVhfVEVYVFVSRVMpO1xuICAgICAgICAvLyB3ZSB1c2UgdGhlIHNlY29uZCBzaGFkZXIgYXMgdGhlIGZpcnN0IG9uZSBkZXBlbmRpbmcgb24geW91ciBicm93c2VyXG4gICAgICAgIC8vIG1heSBvbWl0IGFUZXh0dXJlSWQgYXMgaXQgaXMgbm90IHVzZWQgYnkgdGhlIHNoYWRlciBzbyBpcyBvcHRpbWl6ZWQgb3V0LlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemU7IGkrKykge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllc1tpXSA9IG5ldyAodGhpcy5nZW9tZXRyeUNsYXNzKSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5pdEZsdXNoQnVmZmVycygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZXMgc3VyZSB0aGF0IHN0YXRpYyBhbmQgZHluYW1pYyBmbHVzaCBwb29sZWQgb2JqZWN0cyBoYXZlIGNvcnJlY3QgZGltZW5zaW9uc1xuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuaW5pdEZsdXNoQnVmZmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9kcmF3Q2FsbFBvb2wgPSBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX2RyYXdDYWxsUG9vbCwgX3RleHR1cmVBcnJheVBvb2wgPSBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX3RleHR1cmVBcnJheVBvb2w7XG4gICAgICAgIC8vIG1heCBkcmF3IGNhbGxzXG4gICAgICAgIHZhciBNQVhfU1BSSVRFUyA9IHRoaXMuc2l6ZSAvIDQ7XG4gICAgICAgIC8vIG1heCB0ZXh0dXJlIGFycmF5c1xuICAgICAgICB2YXIgTUFYX1RBID0gTWF0aC5mbG9vcihNQVhfU1BSSVRFUyAvIHRoaXMuTUFYX1RFWFRVUkVTKSArIDE7XG4gICAgICAgIHdoaWxlIChfZHJhd0NhbGxQb29sLmxlbmd0aCA8IE1BWF9TUFJJVEVTKSB7XG4gICAgICAgICAgICBfZHJhd0NhbGxQb29sLnB1c2gobmV3IEJhdGNoRHJhd0NhbGwoKSk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKF90ZXh0dXJlQXJyYXlQb29sLmxlbmd0aCA8IE1BWF9UQSkge1xuICAgICAgICAgICAgX3RleHR1cmVBcnJheVBvb2wucHVzaChuZXcgQmF0Y2hUZXh0dXJlQXJyYXkoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLk1BWF9URVhUVVJFUzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl90ZW1wQm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIGBwcmVyZW5kZXJgIHNpZ25hbC5cbiAgICAgKlxuICAgICAqIEl0IGVuc3VyZXMgdGhhdCBmbHVzaGVzIHN0YXJ0IGZyb20gdGhlIGZpcnN0IGdlb21ldHJ5XG4gICAgICogb2JqZWN0IGFnYWluLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUub25QcmVyZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2ZsdXNoSWQgPSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQnVmZmVycyB0aGUgXCJiYXRjaGFibGVcIiBvYmplY3QuIEl0IG5lZWQgbm90IGJlIHJlbmRlcmVkXG4gICAgICogaW1tZWRpYXRlbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZWxlbWVudCAtIHRoZSBlbGVtZW50IHRvIHJlbmRlciB3aGVuXG4gICAgICogICAgdXNpbmcgdGhpcyByZW5kZXJlclxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCFlbGVtZW50Ll90ZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3ZlcnRleENvdW50ICsgKGVsZW1lbnQudmVydGV4RGF0YS5sZW5ndGggLyAyKSA+IHRoaXMuc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ZlcnRleENvdW50ICs9IGVsZW1lbnQudmVydGV4RGF0YS5sZW5ndGggLyAyO1xuICAgICAgICB0aGlzLl9pbmRleENvdW50ICs9IGVsZW1lbnQuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkVGV4dHVyZXNbdGhpcy5fYnVmZmVyU2l6ZV0gPSBlbGVtZW50Ll90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB0aGlzLl9idWZmZXJlZEVsZW1lbnRzW3RoaXMuX2J1ZmZlclNpemUrK10gPSBlbGVtZW50O1xuICAgIH07XG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5idWlsZFRleHR1cmVzQW5kRHJhd0NhbGxzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCB0ZXh0dXJlcyA9IF9hLl9idWZmZXJlZFRleHR1cmVzLCBNQVhfVEVYVFVSRVMgPSBfYS5NQVhfVEVYVFVSRVM7XG4gICAgICAgIHZhciB0ZXh0dXJlQXJyYXlzID0gQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl90ZXh0dXJlQXJyYXlQb29sO1xuICAgICAgICB2YXIgYmF0Y2ggPSB0aGlzLnJlbmRlcmVyLmJhdGNoO1xuICAgICAgICB2YXIgYm91bmRUZXh0dXJlcyA9IHRoaXMuX3RlbXBCb3VuZFRleHR1cmVzO1xuICAgICAgICB2YXIgdG91Y2ggPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVHQy5jb3VudDtcbiAgICAgICAgdmFyIFRJQ0sgPSArK0Jhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaDtcbiAgICAgICAgdmFyIGNvdW50VGV4QXJyYXlzID0gMDtcbiAgICAgICAgdmFyIHRleEFycmF5ID0gdGV4dHVyZUFycmF5c1swXTtcbiAgICAgICAgdmFyIHN0YXJ0ID0gMDtcbiAgICAgICAgYmF0Y2guY29weUJvdW5kVGV4dHVyZXMoYm91bmRUZXh0dXJlcywgTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJTaXplOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0ZXggPSB0ZXh0dXJlc1tpXTtcbiAgICAgICAgICAgIHRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0ZXguX2JhdGNoRW5hYmxlZCA9PT0gVElDSykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRleEFycmF5LmNvdW50ID49IE1BWF9URVhUVVJFUykge1xuICAgICAgICAgICAgICAgIGJhdGNoLmJvdW5kQXJyYXkodGV4QXJyYXksIGJvdW5kVGV4dHVyZXMsIFRJQ0ssIE1BWF9URVhUVVJFUyk7XG4gICAgICAgICAgICAgICAgdGhpcy5idWlsZERyYXdDYWxscyh0ZXhBcnJheSwgc3RhcnQsIGkpO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICB0ZXhBcnJheSA9IHRleHR1cmVBcnJheXNbKytjb3VudFRleEFycmF5c107XG4gICAgICAgICAgICAgICAgKytUSUNLO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4Ll9iYXRjaEVuYWJsZWQgPSBUSUNLO1xuICAgICAgICAgICAgdGV4LnRvdWNoZWQgPSB0b3VjaDtcbiAgICAgICAgICAgIHRleEFycmF5LmVsZW1lbnRzW3RleEFycmF5LmNvdW50KytdID0gdGV4O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZXhBcnJheS5jb3VudCA+IDApIHtcbiAgICAgICAgICAgIGJhdGNoLmJvdW5kQXJyYXkodGV4QXJyYXksIGJvdW5kVGV4dHVyZXMsIFRJQ0ssIE1BWF9URVhUVVJFUyk7XG4gICAgICAgICAgICB0aGlzLmJ1aWxkRHJhd0NhbGxzKHRleEFycmF5LCBzdGFydCwgdGhpcy5fYnVmZmVyU2l6ZSk7XG4gICAgICAgICAgICArK2NvdW50VGV4QXJyYXlzO1xuICAgICAgICAgICAgKytUSUNLO1xuICAgICAgICB9XG4gICAgICAgIC8vIENsZWFuLXVwXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoID0gVElDSztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBvcHVsYXRpbmcgZHJhd2NhbGxzIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXRjaFRleHR1cmVBcnJheX0gdGV4QXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmluaXNoXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5idWlsZERyYXdDYWxscyA9IGZ1bmN0aW9uICh0ZXhBcnJheSwgc3RhcnQsIGZpbmlzaCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBlbGVtZW50cyA9IF9hLl9idWZmZXJlZEVsZW1lbnRzLCBfYXR0cmlidXRlQnVmZmVyID0gX2EuX2F0dHJpYnV0ZUJ1ZmZlciwgX2luZGV4QnVmZmVyID0gX2EuX2luZGV4QnVmZmVyLCB2ZXJ0ZXhTaXplID0gX2EudmVydGV4U2l6ZTtcbiAgICAgICAgdmFyIGRyYXdDYWxscyA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sO1xuICAgICAgICB2YXIgZGNJbmRleCA9IHRoaXMuX2RjSW5kZXg7XG4gICAgICAgIHZhciBhSW5kZXggPSB0aGlzLl9hSW5kZXg7XG4gICAgICAgIHZhciBpSW5kZXggPSB0aGlzLl9pSW5kZXg7XG4gICAgICAgIHZhciBkcmF3Q2FsbCA9IGRyYXdDYWxsc1tkY0luZGV4XTtcbiAgICAgICAgZHJhd0NhbGwuc3RhcnQgPSB0aGlzLl9pSW5kZXg7XG4gICAgICAgIGRyYXdDYWxsLnRleEFycmF5ID0gdGV4QXJyYXk7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGZpbmlzaDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICB2YXIgdGV4ID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgdmFyIHNwcml0ZUJsZW5kTW9kZSA9IHByZW11bHRpcGx5QmxlbmRNb2RlW3RleC5hbHBoYU1vZGUgPyAxIDogMF1bc3ByaXRlLmJsZW5kTW9kZV07XG4gICAgICAgICAgICBlbGVtZW50c1tpXSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoc3RhcnQgPCBpICYmIGRyYXdDYWxsLmJsZW5kICE9PSBzcHJpdGVCbGVuZE1vZGUpIHtcbiAgICAgICAgICAgICAgICBkcmF3Q2FsbC5zaXplID0gaUluZGV4IC0gZHJhd0NhbGwuc3RhcnQ7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgIGRyYXdDYWxsID0gZHJhd0NhbGxzWysrZGNJbmRleF07XG4gICAgICAgICAgICAgICAgZHJhd0NhbGwudGV4QXJyYXkgPSB0ZXhBcnJheTtcbiAgICAgICAgICAgICAgICBkcmF3Q2FsbC5zdGFydCA9IGlJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGFja0ludGVybGVhdmVkR2VvbWV0cnkoc3ByaXRlLCBfYXR0cmlidXRlQnVmZmVyLCBfaW5kZXhCdWZmZXIsIGFJbmRleCwgaUluZGV4KTtcbiAgICAgICAgICAgIGFJbmRleCArPSBzcHJpdGUudmVydGV4RGF0YS5sZW5ndGggLyAyICogdmVydGV4U2l6ZTtcbiAgICAgICAgICAgIGlJbmRleCArPSBzcHJpdGUuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgICAgICBkcmF3Q2FsbC5ibGVuZCA9IHNwcml0ZUJsZW5kTW9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnQgPCBmaW5pc2gpIHtcbiAgICAgICAgICAgIGRyYXdDYWxsLnNpemUgPSBpSW5kZXggLSBkcmF3Q2FsbC5zdGFydDtcbiAgICAgICAgICAgICsrZGNJbmRleDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kY0luZGV4ID0gZGNJbmRleDtcbiAgICAgICAgdGhpcy5fYUluZGV4ID0gYUluZGV4O1xuICAgICAgICB0aGlzLl9pSW5kZXggPSBpSW5kZXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCaW5kIHRleHR1cmVzIGZvciBjdXJyZW50IHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhdGNoVGV4dHVyZUFycmF5fSB0ZXhBcnJheVxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuYmluZEFuZENsZWFyVGV4QXJyYXkgPSBmdW5jdGlvbiAodGV4QXJyYXkpIHtcbiAgICAgICAgdmFyIHRleHR1cmVTeXN0ZW0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4QXJyYXkuY291bnQ7IGorKykge1xuICAgICAgICAgICAgdGV4dHVyZVN5c3RlbS5iaW5kKHRleEFycmF5LmVsZW1lbnRzW2pdLCB0ZXhBcnJheS5pZHNbal0pO1xuICAgICAgICAgICAgdGV4QXJyYXkuZWxlbWVudHNbal0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRleEFycmF5LmNvdW50ID0gMDtcbiAgICB9O1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUudXBkYXRlR2VvbWV0cnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHBhY2tlZEdlb21ldHJpZXMgPSBfYS5fcGFja2VkR2VvbWV0cmllcywgYXR0cmlidXRlQnVmZmVyID0gX2EuX2F0dHJpYnV0ZUJ1ZmZlciwgaW5kZXhCdWZmZXIgPSBfYS5faW5kZXhCdWZmZXI7XG4gICAgICAgIGlmICghc2V0dGluZ3MuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUikgeyAvKiBVc3VhbGx5IG9uIGlPUyBkZXZpY2VzLCB3aGVyZSB0aGUgYnJvd3NlciBkb2Vzbid0XG4gICAgICAgICAgICBsaWtlIHVwbG9hZHMgdG8gdGhlIHNhbWUgYnVmZmVyIGluIGEgc2luZ2xlIGZyYW1lLiAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUgPD0gdGhpcy5fZmx1c2hJZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUrKztcbiAgICAgICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdID0gbmV3ICh0aGlzLmdlb21ldHJ5Q2xhc3MpKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9idWZmZXIudXBkYXRlKGF0dHJpYnV0ZUJ1ZmZlci5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2luZGV4QnVmZmVyLnVwZGF0ZShpbmRleEJ1ZmZlcik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LmJpbmQocGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICAgICAgICAgIHRoaXMuX2ZsdXNoSWQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxldHMgdXNlIHRoZSBmYXN0ZXIgb3B0aW9uLCBhbHdheXMgdXNlIGJ1ZmZlciBudW1iZXIgMFxuICAgICAgICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXS5fYnVmZmVyLnVwZGF0ZShhdHRyaWJ1dGVCdWZmZXIucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9pbmRleEJ1ZmZlci51cGRhdGUoaW5kZXhCdWZmZXIpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS51cGRhdGVCdWZmZXJzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZHJhd0JhdGNoZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkY0NvdW50ID0gdGhpcy5fZGNJbmRleDtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5yZW5kZXJlciwgZ2wgPSBfYS5nbCwgc3RhdGVTeXN0ZW0gPSBfYS5zdGF0ZTtcbiAgICAgICAgdmFyIGRyYXdDYWxscyA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sO1xuICAgICAgICB2YXIgY3VyVGV4QXJyYXkgPSBudWxsO1xuICAgICAgICAvLyBVcGxvYWQgdGV4dHVyZXMgYW5kIGRvIHRoZSBkcmF3IGNhbGxzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGNDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBkcmF3Q2FsbHNbaV0sIHRleEFycmF5ID0gX2IudGV4QXJyYXksIHR5cGUgPSBfYi50eXBlLCBzaXplID0gX2Iuc2l6ZSwgc3RhcnQgPSBfYi5zdGFydCwgYmxlbmQgPSBfYi5ibGVuZDtcbiAgICAgICAgICAgIGlmIChjdXJUZXhBcnJheSAhPT0gdGV4QXJyYXkpIHtcbiAgICAgICAgICAgICAgICBjdXJUZXhBcnJheSA9IHRleEFycmF5O1xuICAgICAgICAgICAgICAgIHRoaXMuYmluZEFuZENsZWFyVGV4QXJyYXkodGV4QXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSBibGVuZDtcbiAgICAgICAgICAgIHN0YXRlU3lzdGVtLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyh0eXBlLCBzaXplLCBnbC5VTlNJR05FRF9TSE9SVCwgc3RhcnQgKiAyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgY29udGVudCBfbm93XyBhbmQgZW1wdGllcyB0aGUgY3VycmVudCBiYXRjaC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fdmVydGV4Q291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hdHRyaWJ1dGVCdWZmZXIgPSB0aGlzLmdldEF0dHJpYnV0ZUJ1ZmZlcih0aGlzLl92ZXJ0ZXhDb3VudCk7XG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyID0gdGhpcy5nZXRJbmRleEJ1ZmZlcih0aGlzLl9pbmRleENvdW50KTtcbiAgICAgICAgdGhpcy5fYUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5faUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fZGNJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuYnVpbGRUZXh0dXJlc0FuZERyYXdDYWxscygpO1xuICAgICAgICB0aGlzLnVwZGF0ZUdlb21ldHJ5KCk7XG4gICAgICAgIHRoaXMuZHJhd0JhdGNoZXMoKTtcbiAgICAgICAgLy8gcmVzZXQgZWxlbWVudHMgYnVmZmVyIGZvciB0aGUgbmV4dCBmbHVzaFxuICAgICAgICB0aGlzLl9idWZmZXJTaXplID0gMDtcbiAgICAgICAgdGhpcy5fdmVydGV4Q291bnQgPSAwO1xuICAgICAgICB0aGlzLl9pbmRleENvdW50ID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBhIG5ldyBzcHJpdGUgYmF0Y2guXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcy5fc2hhZGVyKTtcbiAgICAgICAgaWYgKHNldHRpbmdzLkNBTl9VUExPQURfU0FNRV9CVUZGRVIpIHtcbiAgICAgICAgICAgIC8vIGJpbmQgYnVmZmVyICMwLCB3ZSBkb24ndCBuZWVkIG90aGVyc1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wcyBhbmQgZmx1c2hlcyB0aGUgY3VycmVudCBiYXRjaC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgYEFic3RyYWN0QmF0Y2hSZW5kZXJlcmAuIEl0IGNhbm5vdCBiZSB1c2VkIGFnYWluLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW2ldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlci5vZmYoJ3ByZXJlbmRlcicsIHRoaXMub25QcmVyZW5kZXIsIHRoaXMpO1xuICAgICAgICB0aGlzLl9hQnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2lCdWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2F0dHJpYnV0ZUJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX3NoYWRlcikge1xuICAgICAgICAgICAgdGhpcy5fc2hhZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIGFuIGF0dHJpYnV0ZSBidWZmZXIgZnJvbSBgdGhpcy5fYUJ1ZmZlcnNgIHRoYXRcbiAgICAgKiBjYW4gaG9sZCBhdGxlYXN0IGBzaXplYCBmbG9hdHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIG1pbmltdW0gY2FwYWNpdHkgcmVxdWlyZWRcbiAgICAgKiBAcmV0dXJuIHtWaWV3YWJsZUJ1ZmZlcn0gLSBidWZmZXIgdGhhbiBjYW4gaG9sZCBhdGxlYXN0IGBzaXplYCBmbG9hdHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZ2V0QXR0cmlidXRlQnVmZmVyID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgLy8gOCB2ZXJ0aWNlcyBpcyBlbm91Z2ggZm9yIDIgcXVhZHNcbiAgICAgICAgdmFyIHJvdW5kZWRQMiA9IG5leHRQb3cyKE1hdGguY2VpbChzaXplIC8gOCkpO1xuICAgICAgICB2YXIgcm91bmRlZFNpemVJbmRleCA9IGxvZzIocm91bmRlZFAyKTtcbiAgICAgICAgdmFyIHJvdW5kZWRTaXplID0gcm91bmRlZFAyICogODtcbiAgICAgICAgaWYgKHRoaXMuX2FCdWZmZXJzLmxlbmd0aCA8PSByb3VuZGVkU2l6ZUluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl9pQnVmZmVycy5sZW5ndGggPSByb3VuZGVkU2l6ZUluZGV4ICsgMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5fYUJ1ZmZlcnNbcm91bmRlZFNpemVdO1xuICAgICAgICBpZiAoIWJ1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5fYUJ1ZmZlcnNbcm91bmRlZFNpemVdID0gYnVmZmVyID0gbmV3IFZpZXdhYmxlQnVmZmVyKHJvdW5kZWRTaXplICogdGhpcy52ZXJ0ZXhTaXplICogNCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZldGNoZXMgYW4gaW5kZXggYnVmZmVyIGZyb20gYHRoaXMuX2lCdWZmZXJzYCB0aGF0IGNhblxuICAgICAqIGhhdmUgYXQgbGVhc3QgYHNpemVgIGNhcGFjaXR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBtaW5pbXVtIHJlcXVpcmVkIGNhcGFjaXR5XG4gICAgICogQHJldHVybiB7VWludDE2QXJyYXl9IC0gYnVmZmVyIHRoYXQgY2FuIGZpdCBgc2l6ZWBcbiAgICAgKiAgICBpbmRpY2VzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5nZXRJbmRleEJ1ZmZlciA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIC8vIDEyIGluZGljZXMgaXMgZW5vdWdoIGZvciAyIHF1YWRzXG4gICAgICAgIHZhciByb3VuZGVkUDIgPSBuZXh0UG93MihNYXRoLmNlaWwoc2l6ZSAvIDEyKSk7XG4gICAgICAgIHZhciByb3VuZGVkU2l6ZUluZGV4ID0gbG9nMihyb3VuZGVkUDIpO1xuICAgICAgICB2YXIgcm91bmRlZFNpemUgPSByb3VuZGVkUDIgKiAxMjtcbiAgICAgICAgaWYgKHRoaXMuX2lCdWZmZXJzLmxlbmd0aCA8PSByb3VuZGVkU2l6ZUluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl9pQnVmZmVycy5sZW5ndGggPSByb3VuZGVkU2l6ZUluZGV4ICsgMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5faUJ1ZmZlcnNbcm91bmRlZFNpemVJbmRleF07XG4gICAgICAgIGlmICghYnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9pQnVmZmVyc1tyb3VuZGVkU2l6ZUluZGV4XSA9IGJ1ZmZlciA9IG5ldyBVaW50MTZBcnJheShyb3VuZGVkU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRha2VzIHRoZSBmb3VyIGJhdGNoaW5nIHBhcmFtZXRlcnMgb2YgYGVsZW1lbnRgLCBpbnRlcmxlYXZlc1xuICAgICAqIGFuZCBwdXNoZXMgdGhlbSBpbnRvIHRoZSBiYXRjaGluZyBhdHRyaWJ1dGUvaW5kZXggYnVmZmVycyBnaXZlbi5cbiAgICAgKlxuICAgICAqIEl0IHVzZXMgdGhlc2UgcHJvcGVydGllczogYHZlcnRleERhdGFgIGB1dnNgLCBgdGV4dHVyZUlkYCBhbmRcbiAgICAgKiBgaW5kaWNpZXNgLiBJdCBhbHNvIHVzZXMgdGhlIFwidGludFwiIG9mIHRoZSBiYXNlLXRleHR1cmUsIGlmXG4gICAgICogcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IGVsZW1lbnQgLSBlbGVtZW50IGJlaW5nIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtQSVhJLlZpZXdhYmxlQnVmZmVyfSBhdHRyaWJ1dGVCdWZmZXIgLSBhdHRyaWJ1dGUgYnVmZmVyLlxuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IGluZGV4QnVmZmVyIC0gaW5kZXggYnVmZmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFJbmRleCAtIG51bWJlciBvZiBmbG9hdHMgYWxyZWFkeSBpbiB0aGUgYXR0cmlidXRlIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpSW5kZXggLSBudW1iZXIgb2YgaW5kaWNlcyBhbHJlYWR5IGluIGBpbmRleEJ1ZmZlcmBcbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnBhY2tJbnRlcmxlYXZlZEdlb21ldHJ5ID0gZnVuY3Rpb24gKGVsZW1lbnQsIGF0dHJpYnV0ZUJ1ZmZlciwgaW5kZXhCdWZmZXIsIGFJbmRleCwgaUluZGV4KSB7XG4gICAgICAgIHZhciB1aW50MzJWaWV3ID0gYXR0cmlidXRlQnVmZmVyLnVpbnQzMlZpZXcsIGZsb2F0MzJWaWV3ID0gYXR0cmlidXRlQnVmZmVyLmZsb2F0MzJWaWV3O1xuICAgICAgICB2YXIgcGFja2VkVmVydGljZXMgPSBhSW5kZXggLyB0aGlzLnZlcnRleFNpemU7XG4gICAgICAgIHZhciB1dnMgPSBlbGVtZW50LnV2cztcbiAgICAgICAgdmFyIGluZGljaWVzID0gZWxlbWVudC5pbmRpY2VzO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IGVsZW1lbnQudmVydGV4RGF0YTtcbiAgICAgICAgdmFyIHRleHR1cmVJZCA9IGVsZW1lbnQuX3RleHR1cmUuYmFzZVRleHR1cmUuX2JhdGNoTG9jYXRpb247XG4gICAgICAgIHZhciBhbHBoYSA9IE1hdGgubWluKGVsZW1lbnQud29ybGRBbHBoYSwgMS4wKTtcbiAgICAgICAgdmFyIGFyZ2IgPSAoYWxwaGEgPCAxLjBcbiAgICAgICAgICAgICYmIGVsZW1lbnQuX3RleHR1cmUuYmFzZVRleHR1cmUuYWxwaGFNb2RlKVxuICAgICAgICAgICAgPyBwcmVtdWx0aXBseVRpbnQoZWxlbWVudC5fdGludFJHQiwgYWxwaGEpXG4gICAgICAgICAgICA6IGVsZW1lbnQuX3RpbnRSR0IgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuICAgICAgICAvLyBsZXRzIG5vdCB3b3JyeSBhYm91dCB0aW50ISBmb3Igbm93Li5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB2ZXJ0ZXhEYXRhW2ldO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdmVydGV4RGF0YVtpICsgMV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaSArIDFdO1xuICAgICAgICAgICAgdWludDMyVmlld1thSW5kZXgrK10gPSBhcmdiO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdGV4dHVyZUlkO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5kaWNpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGluZGV4QnVmZmVyW2lJbmRleCsrXSA9IHBhY2tlZFZlcnRpY2VzICsgaW5kaWNpZXNbaV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBvb2wgb2YgYEJhdGNoRHJhd0NhbGxgIG9iamVjdHMgdGhhdCBgZmx1c2hgIHVzZWRcbiAgICAgKiB0byBjcmVhdGUgXCJiYXRjaGVzXCIgb2YgdGhlIG9iamVjdHMgYmVpbmcgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBUaGVzZSBhcmUgbmV2ZXIgcmUtYWxsb2NhdGVkIGFnYWluLlxuICAgICAqIFNoYXJlZCBiZXR3ZWVuIGFsbCBiYXRjaCByZW5kZXJlcnMgYmVjYXVzZSBpdCBjYW4gYmUgb25seSBvbmUgXCJmbHVzaFwiIHdvcmtpbmcgYXQgdGhlIG1vbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhdGNoRHJhd0NhbGxbXX1cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX2RyYXdDYWxsUG9vbCA9IFtdO1xuICAgIC8qKlxuICAgICAqIFBvb2wgb2YgYEJhdGNoRHJhd0NhbGxgIG9iamVjdHMgdGhhdCBgZmx1c2hgIHVzZWRcbiAgICAgKiB0byBjcmVhdGUgXCJiYXRjaGVzXCIgb2YgdGhlIG9iamVjdHMgYmVpbmcgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBUaGVzZSBhcmUgbmV2ZXIgcmUtYWxsb2NhdGVkIGFnYWluLlxuICAgICAqIFNoYXJlZCBiZXR3ZWVuIGFsbCBiYXRjaCByZW5kZXJlcnMgYmVjYXVzZSBpdCBjYW4gYmUgb25seSBvbmUgXCJmbHVzaFwiIHdvcmtpbmcgYXQgdGhlIG1vbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhdGNoVGV4dHVyZUFycmF5W119XG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl90ZXh0dXJlQXJyYXlQb29sID0gW107XG4gICAgcmV0dXJuIEFic3RyYWN0QmF0Y2hSZW5kZXJlcjtcbn0oT2JqZWN0UmVuZGVyZXIpKTtcblxuLyoqXG4gKiBIZWxwZXIgdGhhdCBnZW5lcmF0ZXMgYmF0Y2hpbmcgbXVsdGktdGV4dHVyZSBzaGFkZXIuIFVzZSBpdCB3aXRoIHlvdXIgbmV3IEJhdGNoUmVuZGVyZXJcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXRjaFNoYWRlckdlbmVyYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmVydGV4U3JjIC0gVmVydGV4IHNoYWRlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFnVGVtcGxhdGUgLSBGcmFnbWVudCBzaGFkZXIgdGVtcGxhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXRjaFNoYWRlckdlbmVyYXRvcih2ZXJ0ZXhTcmMsIGZyYWdUZW1wbGF0ZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSB2ZXJ0ZXhTcmM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGZyYWdlbWVudCBzaGFkZXIgdGVtcGxhdGUuIE11c3QgY29udGFpbiBcIiVjb3VudCVcIiBhbmQgXCIlZm9ybG9vcCVcIi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mcmFnVGVtcGxhdGUgPSBmcmFnVGVtcGxhdGU7XG4gICAgICAgIHRoaXMucHJvZ3JhbUNhY2hlID0ge307XG4gICAgICAgIHRoaXMuZGVmYXVsdEdyb3VwQ2FjaGUgPSB7fTtcbiAgICAgICAgaWYgKGZyYWdUZW1wbGF0ZS5pbmRleE9mKCclY291bnQlJykgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZyYWdtZW50IHRlbXBsYXRlIG11c3QgY29udGFpbiBcIiVjb3VudCVcIi4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJhZ1RlbXBsYXRlLmluZGV4T2YoJyVmb3Jsb29wJScpIDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGcmFnbWVudCB0ZW1wbGF0ZSBtdXN0IGNvbnRhaW4gXCIlZm9ybG9vcCVcIi4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBCYXRjaFNoYWRlckdlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGVTaGFkZXIgPSBmdW5jdGlvbiAobWF4VGV4dHVyZXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10pIHtcbiAgICAgICAgICAgIHZhciBzYW1wbGVWYWx1ZXMgPSBuZXcgSW50MzJBcnJheShtYXhUZXh0dXJlcyk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspIHtcbiAgICAgICAgICAgICAgICBzYW1wbGVWYWx1ZXNbaV0gPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kZWZhdWx0R3JvdXBDYWNoZVttYXhUZXh0dXJlc10gPSBVbmlmb3JtR3JvdXAuZnJvbSh7IHVTYW1wbGVyczogc2FtcGxlVmFsdWVzIH0sIHRydWUpO1xuICAgICAgICAgICAgdmFyIGZyYWdtZW50U3JjID0gdGhpcy5mcmFnVGVtcGxhdGU7XG4gICAgICAgICAgICBmcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjLnJlcGxhY2UoLyVjb3VudCUvZ2ksIFwiXCIgKyBtYXhUZXh0dXJlcyk7XG4gICAgICAgICAgICBmcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjLnJlcGxhY2UoLyVmb3Jsb29wJS9naSwgdGhpcy5nZW5lcmF0ZVNhbXBsZVNyYyhtYXhUZXh0dXJlcykpO1xuICAgICAgICAgICAgdGhpcy5wcm9ncmFtQ2FjaGVbbWF4VGV4dHVyZXNdID0gbmV3IFByb2dyYW0odGhpcy52ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICB0aW50OiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksXG4gICAgICAgICAgICB0cmFuc2xhdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICAgICAgZGVmYXVsdDogdGhpcy5kZWZhdWx0R3JvdXBDYWNoZVttYXhUZXh0dXJlc10sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgU2hhZGVyKHRoaXMucHJvZ3JhbUNhY2hlW21heFRleHR1cmVzXSwgdW5pZm9ybXMpO1xuICAgIH07XG4gICAgQmF0Y2hTaGFkZXJHZW5lcmF0b3IucHJvdG90eXBlLmdlbmVyYXRlU2FtcGxlU3JjID0gZnVuY3Rpb24gKG1heFRleHR1cmVzKSB7XG4gICAgICAgIHZhciBzcmMgPSAnJztcbiAgICAgICAgc3JjICs9ICdcXG4nO1xuICAgICAgICBzcmMgKz0gJ1xcbic7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgc3JjICs9ICdcXG5lbHNlICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSA8IG1heFRleHR1cmVzIC0gMSkge1xuICAgICAgICAgICAgICAgIHNyYyArPSBcImlmKHZUZXh0dXJlSWQgPCBcIiArIGkgKyBcIi41KVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3JjICs9ICdcXG57JztcbiAgICAgICAgICAgIHNyYyArPSBcIlxcblxcdGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyc1tcIiArIGkgKyBcIl0sIHZUZXh0dXJlQ29vcmQpO1wiO1xuICAgICAgICAgICAgc3JjICs9ICdcXG59JztcbiAgICAgICAgfVxuICAgICAgICBzcmMgKz0gJ1xcbic7XG4gICAgICAgIHNyYyArPSAnXFxuJztcbiAgICAgICAgcmV0dXJuIHNyYztcbiAgICB9O1xuICAgIHJldHVybiBCYXRjaFNoYWRlckdlbmVyYXRvcjtcbn0oKSk7XG5cbi8qKlxuICogR2VvbWV0cnkgdXNlZCB0byBiYXRjaCBzdGFuZGFyZCBQSVhJIGNvbnRlbnQgKGUuZy4gTWVzaCwgU3ByaXRlLCBHcmFwaGljcyBvYmplY3RzKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXRjaEdlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXRjaEdlb21ldHJ5LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW19zdGF0aWM9ZmFsc2VdIC0gT3B0aW1pemF0aW9uIGZsYWcsIHdoZXJlIGBmYWxzZWBcbiAgICAgKiAgICAgICAgaXMgdXBkYXRlZCBldmVyeSBmcmFtZSwgYHRydWVgIGRvZXNuJ3QgY2hhbmdlIGZyYW1lLXRvLWZyYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhdGNoR2VvbWV0cnkoX3N0YXRpYykge1xuICAgICAgICBpZiAoX3N0YXRpYyA9PT0gdm9pZCAwKSB7IF9zdGF0aWMgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQnVmZmVyIHVzZWQgZm9yIHBvc2l0aW9uLCBjb2xvciwgdGV4dHVyZSBJRHNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9idWZmZXIgPSBuZXcgQnVmZmVyKG51bGwsIF9zdGF0aWMsIGZhbHNlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGV4IGJ1ZmZlciBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faW5kZXhCdWZmZXIgPSBuZXcgQnVmZmVyKG51bGwsIF9zdGF0aWMsIHRydWUpO1xuICAgICAgICBfdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIF90aGlzLl9idWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FUZXh0dXJlQ29vcmQnLCBfdGhpcy5fYnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhQ29sb3InLCBfdGhpcy5fYnVmZmVyLCA0LCB0cnVlLCBUWVBFUy5VTlNJR05FRF9CWVRFKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVJZCcsIF90aGlzLl9idWZmZXIsIDEsIHRydWUsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEluZGV4KF90aGlzLl9pbmRleEJ1ZmZlcik7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEJhdGNoR2VvbWV0cnk7XG59KEdlb21ldHJ5KSk7XG5cbnZhciBkZWZhdWx0VmVydGV4JDIgPSBcInByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5hdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjNCBhQ29sb3I7XFxuYXR0cmlidXRlIGZsb2F0IGFUZXh0dXJlSWQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gdmVjNCB0aW50O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZUZXh0dXJlSWQgPSBhVGV4dHVyZUlkO1xcbiAgICB2Q29sb3IgPSBhQ29sb3IgKiB0aW50O1xcbn1cXG5cIjtcblxudmFyIGRlZmF1bHRGcmFnbWVudCQyID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcbnZhcnlpbmcgZmxvYXQgdlRleHR1cmVJZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcnNbJWNvdW50JV07XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICB2ZWM0IGNvbG9yO1xcbiAgICAlZm9ybG9vcCVcXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3IgKiB2Q29sb3I7XFxufVxcblwiO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBoaWRlY29uc3RydWN0b3JcbiAqL1xudmFyIEJhdGNoUGx1Z2luRmFjdG9yeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXRjaFBsdWdpbkZhY3RvcnkoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBCYXRjaFJlbmRlcmVyIHBsdWdpbiBmb3IgUmVuZGVyZXIuIHRoaXMgY29udmVuaWVuY2UgY2FuIHByb3ZpZGUgYW4gZWFzeSB3YXlcbiAgICAgKiB0byBleHRlbmQgQmF0Y2hSZW5kZXJlciB3aXRoIGFsbCB0aGUgbmVjZXNzYXJ5IHBpZWNlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGZyYWdtZW50ID0gYFxuICAgICAqIHZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xuICAgICAqIHZhcnlpbmcgdmVjNCB2Q29sb3I7XG4gICAgICogdmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xuICAgICAqIHVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyc1slY291bnQlXTtcbiAgICAgKlxuICAgICAqIHZvaWQgbWFpbih2b2lkKXtcbiAgICAgKiAgICAgdmVjNCBjb2xvcjtcbiAgICAgKiAgICAgJWZvcmxvb3AlXG4gICAgICogICAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvciAqIHZlYzQoY29sb3IuYSAtIGNvbG9yLnJnYiwgY29sb3IuYSk7XG4gICAgICogfVxuICAgICAqIGA7XG4gICAgICogY29uc3QgSW52ZXJ0QmF0Y2hSZW5kZXJlciA9IFBJWEkuQmF0Y2hQbHVnaW5GYWN0b3J5LmNyZWF0ZSh7IGZyYWdtZW50IH0pO1xuICAgICAqIFBJWEkuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2ludmVydCcsIEludmVydEJhdGNoUmVuZGVyZXIpO1xuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSgpO1xuICAgICAqIHNwcml0ZS5wbHVnaW5OYW1lID0gJ2ludmVydCc7XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52ZXJ0ZXg9UElYSS5CYXRjaFBsdWdpbkZhY3RvcnkuZGVmYXVsdFZlcnRleFNyY10gLSBWZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5mcmFnbWVudD1QSVhJLkJhdGNoUGx1Z2luRmFjdG9yeS5kZWZhdWx0RnJhZ21lbnRUZW1wbGF0ZV0gLSBGcmFnbWVudCBzaGFkZXIgdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudmVydGV4U2l6ZT02XSAtIFZlcnRleCBzaXplXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLmdlb21ldHJ5Q2xhc3M9UElYSS5CYXRjaEdlb21ldHJ5XVxuICAgICAqIEByZXR1cm4geyp9IE5ldyBiYXRjaCByZW5kZXJlciBwbHVnaW5cbiAgICAgKi9cbiAgICBCYXRjaFBsdWdpbkZhY3RvcnkuY3JlYXRlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB2ZXJ0ZXg6IGRlZmF1bHRWZXJ0ZXgkMixcbiAgICAgICAgICAgIGZyYWdtZW50OiBkZWZhdWx0RnJhZ21lbnQkMixcbiAgICAgICAgICAgIGdlb21ldHJ5Q2xhc3M6IEJhdGNoR2VvbWV0cnksXG4gICAgICAgICAgICB2ZXJ0ZXhTaXplOiA2LFxuICAgICAgICB9LCBvcHRpb25zKSwgdmVydGV4ID0gX2EudmVydGV4LCBmcmFnbWVudCA9IF9hLmZyYWdtZW50LCB2ZXJ0ZXhTaXplID0gX2EudmVydGV4U2l6ZSwgZ2VvbWV0cnlDbGFzcyA9IF9hLmdlb21ldHJ5Q2xhc3M7XG4gICAgICAgIHJldHVybiAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgICAgICBfX2V4dGVuZHMoQmF0Y2hQbHVnaW4sIF9zdXBlcik7XG4gICAgICAgICAgICBmdW5jdGlvbiBCYXRjaFBsdWdpbihyZW5kZXJlcikge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAgICAgICAgIF90aGlzLnNoYWRlckdlbmVyYXRvciA9IG5ldyBCYXRjaFNoYWRlckdlbmVyYXRvcih2ZXJ0ZXgsIGZyYWdtZW50KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5nZW9tZXRyeUNsYXNzID0gZ2VvbWV0cnlDbGFzcztcbiAgICAgICAgICAgICAgICBfdGhpcy52ZXJ0ZXhTaXplID0gdmVydGV4U2l6ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQmF0Y2hQbHVnaW47XG4gICAgICAgIH0oQWJzdHJhY3RCYXRjaFJlbmRlcmVyKSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmF0Y2hQbHVnaW5GYWN0b3J5LCBcImRlZmF1bHRWZXJ0ZXhTcmNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWZXJ0ZXgkMjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXRjaFBsdWdpbkZhY3RvcnksIFwiZGVmYXVsdEZyYWdtZW50VGVtcGxhdGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdEZyYWdtZW50JDI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQmF0Y2hQbHVnaW5GYWN0b3J5O1xufSgpKTtcbi8vIFNldHVwIHRoZSBkZWZhdWx0IEJhdGNoUmVuZGVyZXIgcGx1Z2luLCB0aGlzIGlzIHdoYXRcbi8vIHdlJ2xsIGFjdHVhbGx5IGV4cG9ydCBhdCB0aGUgcm9vdCBsZXZlbFxudmFyIEJhdGNoUmVuZGVyZXIgPSBCYXRjaFBsdWdpbkZhY3RvcnkuY3JlYXRlKCk7XG5cbmV4cG9ydCB7IEFic3RyYWN0QmF0Y2hSZW5kZXJlciwgQWJzdHJhY3RSZW5kZXJlciwgQXR0cmlidXRlLCBCYXNlUmVuZGVyVGV4dHVyZSwgQmFzZVRleHR1cmUsIEJhdGNoRHJhd0NhbGwsIEJhdGNoR2VvbWV0cnksIEJhdGNoUGx1Z2luRmFjdG9yeSwgQmF0Y2hSZW5kZXJlciwgQmF0Y2hTaGFkZXJHZW5lcmF0b3IsIEJhdGNoVGV4dHVyZUFycmF5LCBCdWZmZXIsIEZpbHRlciwgRmlsdGVyU3RhdGUsIEZyYW1lYnVmZmVyLCBHTEZyYW1lYnVmZmVyLCBHTFByb2dyYW0sIEdMVGV4dHVyZSwgR2VvbWV0cnksIElHTFVuaWZvcm1EYXRhLCBNYXNrRGF0YSwgT2JqZWN0UmVuZGVyZXIsIFByb2dyYW0sIFF1YWQsIFF1YWRVdiwgUmVuZGVyVGV4dHVyZSwgUmVuZGVyVGV4dHVyZVBvb2wsIFJlbmRlcmVyLCBTaGFkZXIsIFNwcml0ZU1hc2tGaWx0ZXIsIFN0YXRlLCBTeXN0ZW0sIFRleHR1cmUsIFRleHR1cmVNYXRyaXgsIFRleHR1cmVVdnMsIFVuaWZvcm1Hcm91cCwgVmlld2FibGVCdWZmZXIsIGF1dG9EZXRlY3RSZW5kZXJlciwgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlciwgZGVmYXVsdEZpbHRlciBhcyBkZWZhdWx0RmlsdGVyVmVydGV4LCBfZGVmYXVsdCBhcyBkZWZhdWx0VmVydGV4LCBpbmRleCBhcyByZXNvdXJjZXMsIHN5c3RlbXMsIHVuaWZvcm1QYXJzZXJzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3JlLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9kaXNwbGF5IC0gdjUuMy43XG4gKiBDb21waWxlZCBUdWUsIDI5IERlYyAyMDIwIDE5OjMwOjExIFVUQ1xuICpcbiAqIEBwaXhpL2Rpc3BsYXkgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFJlY3RhbmdsZSwgVHJhbnNmb3JtLCBSQURfVE9fREVHLCBERUdfVE9fUkFEIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIsIHJlbW92ZUl0ZW1zIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIFNldHMgdGhlIGRlZmF1bHQgdmFsdWUgZm9yIHRoZSBjb250YWluZXIgcHJvcGVydHkgJ3NvcnRhYmxlQ2hpbGRyZW4nLlxuICogSWYgc2V0IHRvIHRydWUsIHRoZSBjb250YWluZXIgd2lsbCBzb3J0IGl0cyBjaGlsZHJlbiBieSB6SW5kZXggdmFsdWVcbiAqIHdoZW4gdXBkYXRlVHJhbnNmb3JtKCkgaXMgY2FsbGVkLCBvciBtYW51YWxseSBpZiBzb3J0Q2hpbGRyZW4oKSBpcyBjYWxsZWQuXG4gKlxuICogVGhpcyBhY3R1YWxseSBjaGFuZ2VzIHRoZSBvcmRlciBvZiBlbGVtZW50cyBpbiB0aGUgYXJyYXksIHNvIHNob3VsZCBiZSB0cmVhdGVkXG4gKiBhcyBhIGJhc2ljIHNvbHV0aW9uIHRoYXQgaXMgbm90IHBlcmZvcm1hbnQgY29tcGFyZWQgdG8gb3RoZXIgc29sdXRpb25zLFxuICogc3VjaCBhcyBAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZGlzcGxheVxuICpcbiAqIEFsc28gYmUgYXdhcmUgb2YgdGhhdCB0aGlzIG1heSBub3Qgd29yayBuaWNlbHkgd2l0aCB0aGUgYWRkQ2hpbGRBdCgpIGZ1bmN0aW9uLFxuICogYXMgdGhlIHpJbmRleCBzb3J0aW5nIG1heSBjYXVzZSB0aGUgY2hpbGQgdG8gYXV0b21hdGljYWxseSBzb3J0ZWQgdG8gYW5vdGhlciBwb3NpdGlvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFNPUlRBQkxFX0NISUxEUkVOXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdCBmYWxzZVxuICovXG5zZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTiA9IGZhbHNlO1xuXG4vKipcbiAqICdCdWlsZGVyJyBwYXR0ZXJuIGZvciBib3VuZHMgcmVjdGFuZ2xlcy5cbiAqXG4gKiBUaGlzIGNvdWxkIGJlIGNhbGxlZCBhbiBBeGlzLUFsaWduZWQgQm91bmRpbmcgQm94LlxuICogSXQgaXMgbm90IGFuIGFjdHVhbCBzaGFwZS4gSXQgaXMgYSBtdXRhYmxlIHRoaW5nOyBubyAnRU1QVFknIG9yIHRob3NlIGtpbmQgb2YgcHJvYmxlbXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQm91bmRzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJvdW5kcygpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWluWSA9IEluZmluaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heFggPSAtSW5maW5pdHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcbiAgICAgICAgdGhpcy5yZWN0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEl0IGlzIHVwZGF0ZWQgdG8gX2JvdW5kc0lEIG9mIGNvcnJlc3BvbmRpbmcgb2JqZWN0IHRvIGtlZXAgYm91bmRzIGluIHN5bmMgd2l0aCBjb250ZW50LlxuICAgICAgICAgKiBVcGRhdGVkIGZyb20gb3V0c2lkZSwgdGh1cyBwdWJsaWMgbW9kaWZpZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHB1YmxpY1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGRhdGVJRCA9IC0xO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYm91bmRzIGFyZSBlbXB0eS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgZW1wdHkuXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW5YID4gdGhpcy5tYXhYIHx8IHRoaXMubWluWSA+IHRoaXMubWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgYm91bmRzIGFuZCByZXNldHMuXG4gICAgICpcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm1pblggPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4WCA9IC1JbmZpbml0eTtcbiAgICAgICAgdGhpcy5tYXhZID0gLUluZmluaXR5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FuIHJldHVybiBSZWN0YW5nbGUuRU1QVFkgY29uc3RhbnQsIGVpdGhlciBjb25zdHJ1Y3QgbmV3IHJlY3RhbmdsZSwgZWl0aGVyIHVzZSB5b3VyIHJlY3RhbmdsZVxuICAgICAqIEl0IGlzIG5vdCBndWFyYW50ZWVkIHRoYXQgaXQgd2lsbCByZXR1cm4gdGVtcFJlY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSB0ZW1wb3Jhcnkgb2JqZWN0IHdpbGwgYmUgdXNlZCBpZiBBQUJCIGlzIG5vdCBlbXB0eVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlJlY3RhbmdsZX0gQSByZWN0YW5nbGUgb2YgdGhlIGJvdW5kc1xuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuZ2V0UmVjdGFuZ2xlID0gZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgaWYgKHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFkpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWN0YW5nbGUuRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgcmVjdCA9IHJlY3QgfHwgbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcbiAgICAgICAgcmVjdC54ID0gdGhpcy5taW5YO1xuICAgICAgICByZWN0LnkgPSB0aGlzLm1pblk7XG4gICAgICAgIHJlY3Qud2lkdGggPSB0aGlzLm1heFggLSB0aGlzLm1pblg7XG4gICAgICAgIHJlY3QuaGVpZ2h0ID0gdGhpcy5tYXhZIC0gdGhpcy5taW5ZO1xuICAgICAgICByZXR1cm4gcmVjdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGlubGluZWQgd2hlbiBpdHMgcG9zc2libGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSBUaGUgcG9pbnQgdG8gYWRkLlxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgdGhpcy5taW5YID0gTWF0aC5taW4odGhpcy5taW5YLCBwb2ludC54KTtcbiAgICAgICAgdGhpcy5tYXhYID0gTWF0aC5tYXgodGhpcy5tYXhYLCBwb2ludC54KTtcbiAgICAgICAgdGhpcy5taW5ZID0gTWF0aC5taW4odGhpcy5taW5ZLCBwb2ludC55KTtcbiAgICAgICAgdGhpcy5tYXhZID0gTWF0aC5tYXgodGhpcy5tYXhZLCBwb2ludC55KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBxdWFkLCBub3QgdHJhbnNmb3JtZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIFRoZSB2ZXJ0cyB0byBhZGQuXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRRdWFkID0gZnVuY3Rpb24gKHZlcnRpY2VzKSB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICB2YXIgeCA9IHZlcnRpY2VzWzBdO1xuICAgICAgICB2YXIgeSA9IHZlcnRpY2VzWzFdO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgeCA9IHZlcnRpY2VzWzJdO1xuICAgICAgICB5ID0gdmVydGljZXNbM107XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB4ID0gdmVydGljZXNbNF07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1s1XTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHggPSB2ZXJ0aWNlc1s2XTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzddO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgc3ByaXRlIGZyYW1lLCB0cmFuc2Zvcm1lZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHRyYW5zZm9ybSAtIHRyYW5zZm9ybSB0byBhcHBseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIGxlZnQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MCAtIHRvcCBZIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gcmlnaHQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIGJvdHRvbSBZIG9mIGZyYW1lXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRGcmFtZSA9IGZ1bmN0aW9uICh0cmFuc2Zvcm0sIHgwLCB5MCwgeDEsIHkxKSB7XG4gICAgICAgIHRoaXMuYWRkRnJhbWVNYXRyaXgodHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLCB4MCwgeTAsIHgxLCB5MSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHNwcml0ZSBmcmFtZSwgbXVsdGlwbGllZCBieSBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIG1hdHJpeCB0byBhcHBseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIGxlZnQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MCAtIHRvcCBZIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gcmlnaHQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIGJvdHRvbSBZIG9mIGZyYW1lXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRGcmFtZU1hdHJpeCA9IGZ1bmN0aW9uIChtYXRyaXgsIHgwLCB5MCwgeDEsIHkxKSB7XG4gICAgICAgIHZhciBhID0gbWF0cml4LmE7XG4gICAgICAgIHZhciBiID0gbWF0cml4LmI7XG4gICAgICAgIHZhciBjID0gbWF0cml4LmM7XG4gICAgICAgIHZhciBkID0gbWF0cml4LmQ7XG4gICAgICAgIHZhciB0eCA9IG1hdHJpeC50eDtcbiAgICAgICAgdmFyIHR5ID0gbWF0cml4LnR5O1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcbiAgICAgICAgdmFyIHggPSAoYSAqIHgwKSArIChjICogeTApICsgdHg7XG4gICAgICAgIHZhciB5ID0gKGIgKiB4MCkgKyAoZCAqIHkwKSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgeCA9IChhICogeDEpICsgKGMgKiB5MCkgKyB0eDtcbiAgICAgICAgeSA9IChiICogeDEpICsgKGQgKiB5MCkgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHggPSAoYSAqIHgwKSArIChjICogeTEpICsgdHg7XG4gICAgICAgIHkgPSAoYiAqIHgwKSArIChkICogeTEpICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB4ID0gKGEgKiB4MSkgKyAoYyAqIHkxKSArIHR4O1xuICAgICAgICB5ID0gKGIgKiB4MSkgKyAoZCAqIHkxKSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgc2NyZWVuIHZlcnRpY2VzIGZyb20gYXJyYXlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0ZXhEYXRhIC0gY2FsY3VsYXRlZCB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbk9mZnNldCAtIGJlZ2luIG9mZnNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRPZmZzZXQgLSBlbmQgb2Zmc2V0LCBleGNsdWRlZFxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkVmVydGV4RGF0YSA9IGZ1bmN0aW9uICh2ZXJ0ZXhEYXRhLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0KSB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICBmb3IgKHZhciBpID0gYmVnaW5PZmZzZXQ7IGkgPCBlbmRPZmZzZXQ7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIHggPSB2ZXJ0ZXhEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIHkgPSB2ZXJ0ZXhEYXRhW2kgKyAxXTtcbiAgICAgICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IG1heFk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYW4gYXJyYXkgb2YgbWVzaCB2ZXJ0aWNlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gdHJhbnNmb3JtIC0gbWVzaCB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGljZXMgLSBtZXNoIGNvb3JkaW5hdGVzIGluIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luT2Zmc2V0IC0gYmVnaW4gb2Zmc2V0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZE9mZnNldCAtIGVuZCBvZmZzZXQsIGV4Y2x1ZGVkXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRWZXJ0aWNlcyA9IGZ1bmN0aW9uICh0cmFuc2Zvcm0sIHZlcnRpY2VzLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0KSB7XG4gICAgICAgIHRoaXMuYWRkVmVydGljZXNNYXRyaXgodHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYW4gYXJyYXkgb2YgbWVzaCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIG1lc2ggbWF0cml4XG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gbWVzaCBjb29yZGluYXRlcyBpbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbk9mZnNldCAtIGJlZ2luIG9mZnNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRPZmZzZXQgLSBlbmQgb2Zmc2V0LCBleGNsdWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkWD0wXSAtIHggcGFkZGluZ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkWT0wXSAtIHkgcGFkZGluZ1xuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkVmVydGljZXNNYXRyaXggPSBmdW5jdGlvbiAobWF0cml4LCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCwgcGFkWCwgcGFkWSkge1xuICAgICAgICBpZiAocGFkWCA9PT0gdm9pZCAwKSB7IHBhZFggPSAwOyB9XG4gICAgICAgIGlmIChwYWRZID09PSB2b2lkIDApIHsgcGFkWSA9IHBhZFg7IH1cbiAgICAgICAgdmFyIGEgPSBtYXRyaXguYTtcbiAgICAgICAgdmFyIGIgPSBtYXRyaXguYjtcbiAgICAgICAgdmFyIGMgPSBtYXRyaXguYztcbiAgICAgICAgdmFyIGQgPSBtYXRyaXguZDtcbiAgICAgICAgdmFyIHR4ID0gbWF0cml4LnR4O1xuICAgICAgICB2YXIgdHkgPSBtYXRyaXgudHk7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICBmb3IgKHZhciBpID0gYmVnaW5PZmZzZXQ7IGkgPCBlbmRPZmZzZXQ7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIHJhd1ggPSB2ZXJ0aWNlc1tpXTtcbiAgICAgICAgICAgIHZhciByYXdZID0gdmVydGljZXNbaSArIDFdO1xuICAgICAgICAgICAgdmFyIHggPSAoYSAqIHJhd1gpICsgKGMgKiByYXdZKSArIHR4O1xuICAgICAgICAgICAgdmFyIHkgPSAoZCAqIHJhd1kpICsgKGIgKiByYXdYKSArIHR5O1xuICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIHggLSBwYWRYKTtcbiAgICAgICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCB4ICsgcGFkWCk7XG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgeSAtIHBhZFkpO1xuICAgICAgICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIHkgKyBwYWRZKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUaGUgQm91bmRzIHRvIGJlIGFkZGVkXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHMgPSBmdW5jdGlvbiAoYm91bmRzKSB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICB0aGlzLm1pblggPSBib3VuZHMubWluWCA8IG1pblggPyBib3VuZHMubWluWCA6IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IGJvdW5kcy5taW5ZIDwgbWluWSA/IGJvdW5kcy5taW5ZIDogbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gYm91bmRzLm1heFggPiBtYXhYID8gYm91bmRzLm1heFggOiBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBib3VuZHMubWF4WSA+IG1heFkgPyBib3VuZHMubWF4WSA6IG1heFk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggQm91bmRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVGhlIEJvdW5kcyB0byBiZSBhZGRlZC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBtYXNrIC0gVE9ET1xuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzTWFzayA9IGZ1bmN0aW9uIChib3VuZHMsIG1hc2spIHtcbiAgICAgICAgdmFyIF9taW5YID0gYm91bmRzLm1pblggPiBtYXNrLm1pblggPyBib3VuZHMubWluWCA6IG1hc2subWluWDtcbiAgICAgICAgdmFyIF9taW5ZID0gYm91bmRzLm1pblkgPiBtYXNrLm1pblkgPyBib3VuZHMubWluWSA6IG1hc2subWluWTtcbiAgICAgICAgdmFyIF9tYXhYID0gYm91bmRzLm1heFggPCBtYXNrLm1heFggPyBib3VuZHMubWF4WCA6IG1hc2subWF4WDtcbiAgICAgICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBtYXNrLm1heFkgPyBib3VuZHMubWF4WSA6IG1hc2subWF4WTtcbiAgICAgICAgaWYgKF9taW5YIDw9IF9tYXhYICYmIF9taW5ZIDw9IF9tYXhZKSB7XG4gICAgICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcbiAgICAgICAgICAgIHRoaXMubWluWCA9IF9taW5YIDwgbWluWCA/IF9taW5YIDogbWluWDtcbiAgICAgICAgICAgIHRoaXMubWluWSA9IF9taW5ZIDwgbWluWSA/IF9taW5ZIDogbWluWTtcbiAgICAgICAgICAgIHRoaXMubWF4WCA9IF9tYXhYID4gbWF4WCA/IF9tYXhYIDogbWF4WDtcbiAgICAgICAgICAgIHRoaXMubWF4WSA9IF9tYXhZID4gbWF4WSA/IF9tYXhZIDogbWF4WTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHMsIG11bHRpcGxpZWQgYnkgbWF0cml4LiBCb3VuZHMgc2hvdWxkbid0IGJlIGVtcHR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gb3RoZXIgYm91bmRzXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gbXVsdGlwbGljYXRvclxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzTWF0cml4ID0gZnVuY3Rpb24gKGJvdW5kcywgbWF0cml4KSB7XG4gICAgICAgIHRoaXMuYWRkRnJhbWVNYXRyaXgobWF0cml4LCBib3VuZHMubWluWCwgYm91bmRzLm1pblksIGJvdW5kcy5tYXhYLCBib3VuZHMubWF4WSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggUmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGFyZWEgLSBUT0RPXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNBcmVhID0gZnVuY3Rpb24gKGJvdW5kcywgYXJlYSkge1xuICAgICAgICB2YXIgX21pblggPSBib3VuZHMubWluWCA+IGFyZWEueCA/IGJvdW5kcy5taW5YIDogYXJlYS54O1xuICAgICAgICB2YXIgX21pblkgPSBib3VuZHMubWluWSA+IGFyZWEueSA/IGJvdW5kcy5taW5ZIDogYXJlYS55O1xuICAgICAgICB2YXIgX21heFggPSBib3VuZHMubWF4WCA8IGFyZWEueCArIGFyZWEud2lkdGggPyBib3VuZHMubWF4WCA6IChhcmVhLnggKyBhcmVhLndpZHRoKTtcbiAgICAgICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBhcmVhLnkgKyBhcmVhLmhlaWdodCA/IGJvdW5kcy5tYXhZIDogKGFyZWEueSArIGFyZWEuaGVpZ2h0KTtcbiAgICAgICAgaWYgKF9taW5YIDw9IF9tYXhYICYmIF9taW5ZIDw9IF9tYXhZKSB7XG4gICAgICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcbiAgICAgICAgICAgIHRoaXMubWluWCA9IF9taW5YIDwgbWluWCA/IF9taW5YIDogbWluWDtcbiAgICAgICAgICAgIHRoaXMubWluWSA9IF9taW5ZIDwgbWluWSA/IF9taW5ZIDogbWluWTtcbiAgICAgICAgICAgIHRoaXMubWF4WCA9IF9tYXhYID4gbWF4WCA/IF9tYXhYIDogbWF4WDtcbiAgICAgICAgICAgIHRoaXMubWF4WSA9IF9tYXhZID4gbWF4WSA/IF9tYXhZIDogbWF4WTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFkcyBib3VuZHMgb2JqZWN0LCBtYWtpbmcgaXQgZ3JvdyBpbiBhbGwgZGlyZWN0aW9ucy5cbiAgICAgKiBJZiBwYWRkaW5nWSBpcyBvbWl0dGVkLCBib3RoIHBhZGRpbmdYIGFuZCBwYWRkaW5nWSB3aWxsIGJlIHNldCB0byBwYWRkaW5nWC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkZGluZ1g9MF0gLSBUaGUgaG9yaXpvbnRhbCBwYWRkaW5nIGFtb3VudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3BhZGRpbmdZPTBdIC0gVGhlIHZlcnRpY2FsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24gKHBhZGRpbmdYLCBwYWRkaW5nWSkge1xuICAgICAgICBpZiAocGFkZGluZ1ggPT09IHZvaWQgMCkgeyBwYWRkaW5nWCA9IDA7IH1cbiAgICAgICAgaWYgKHBhZGRpbmdZID09PSB2b2lkIDApIHsgcGFkZGluZ1kgPSBwYWRkaW5nWDsgfVxuICAgICAgICBpZiAoIXRoaXMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB0aGlzLm1pblggLT0gcGFkZGluZ1g7XG4gICAgICAgICAgICB0aGlzLm1heFggKz0gcGFkZGluZ1g7XG4gICAgICAgICAgICB0aGlzLm1pblkgLT0gcGFkZGluZ1k7XG4gICAgICAgICAgICB0aGlzLm1heFkgKz0gcGFkZGluZ1k7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgcGFkZGVkIGZyYW1lLiAoeDAsIHkwKSBzaG91bGQgYmUgc3RyaWN0bHkgbGVzcyB0aGFuICh4MSwgeTEpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDAgLSBsZWZ0IFggb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTAgLSB0b3AgWSBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIHJpZ2h0IFggb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBib3R0b20gWSBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYWRYIC0gcGFkZGluZyBYXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZFkgLSBwYWRkaW5nIFlcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEZyYW1lUGFkID0gZnVuY3Rpb24gKHgwLCB5MCwgeDEsIHkxLCBwYWRYLCBwYWRZKSB7XG4gICAgICAgIHgwIC09IHBhZFg7XG4gICAgICAgIHkwIC09IHBhZFk7XG4gICAgICAgIHgxICs9IHBhZFg7XG4gICAgICAgIHkxICs9IHBhZFk7XG4gICAgICAgIHRoaXMubWluWCA9IHRoaXMubWluWCA8IHgwID8gdGhpcy5taW5YIDogeDA7XG4gICAgICAgIHRoaXMubWF4WCA9IHRoaXMubWF4WCA+IHgxID8gdGhpcy5tYXhYIDogeDE7XG4gICAgICAgIHRoaXMubWluWSA9IHRoaXMubWluWSA8IHkwID8gdGhpcy5taW5ZIDogeTA7XG4gICAgICAgIHRoaXMubWF4WSA9IHRoaXMubWF4WSA+IHkxID8gdGhpcy5tYXhZIDogeTE7XG4gICAgfTtcbiAgICByZXR1cm4gQm91bmRzO1xufSgpKTtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogVGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBvYmplY3RzIHRoYXQgYXJlIHJlbmRlcmVkIG9uIHRoZSBzY3JlZW4uXG4gKlxuICogVGhpcyBpcyBhbiBhYnN0cmFjdCBjbGFzcyBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIG9uIGl0cyBvd247IHJhdGhlciBpdCBzaG91bGQgYiBlIGV4dGVuZGVkLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBEaXNwbGF5T2JqZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEaXNwbGF5T2JqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERpc3BsYXlPYmplY3QoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbnVsbDtcbiAgICAgICAgLy8gVE9ETzogbmVlZCB0byBjcmVhdGUgVHJhbnNmb3JtIGZyb20gZmFjdG9yeVxuICAgICAgICAvKipcbiAgICAgICAgICogV29ybGQgdHJhbnNmb3JtIGFuZCBsb2NhbCB0cmFuc2Zvcm0gb2YgdGhpcyBvYmplY3QuXG4gICAgICAgICAqIFRoaXMgd2lsbCBiZWNvbWUgcmVhZC1vbmx5IGxhdGVyLCBwbGVhc2UgZG8gbm90IGFzc2lnbiBhbnl0aGluZyB0aGVyZSB1bmxlc3MgeW91IGtub3cgd2hhdCBhcmUgeW91IGRvaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcGFjaXR5IG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFscGhhID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2aXNpYmlsaXR5IG9mIHRoZSBvYmplY3QuIElmIGZhbHNlIHRoZSBvYmplY3Qgd2lsbCBub3QgYmUgZHJhd24sIGFuZFxuICAgICAgICAgKiB0aGUgdXBkYXRlVHJhbnNmb3JtIGZ1bmN0aW9uIHdpbGwgbm90IGJlIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogT25seSBhZmZlY3RzIHJlY3Vyc2l2ZSBjYWxscyBmcm9tIHBhcmVudC4gWW91IGNhbiBhc2sgZm9yIGJvdW5kcyBvciBjYWxsIHVwZGF0ZVRyYW5zZm9ybSBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FuIHRoaXMgb2JqZWN0IGJlIHJlbmRlcmVkLCBpZiBmYWxzZSB0aGUgb2JqZWN0IHdpbGwgbm90IGJlIGRyYXduIGJ1dCB0aGUgdXBkYXRlVHJhbnNmb3JtXG4gICAgICAgICAqIG1ldGhvZHMgd2lsbCBzdGlsbCBiZSBjYWxsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIE9ubHkgYWZmZWN0cyByZWN1cnNpdmUgY2FsbHMgZnJvbSBwYXJlbnQuIFlvdSBjYW4gYXNrIGZvciBib3VuZHMgbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkaXNwbGF5IG9iamVjdCBjb250YWluZXIgdGhhdCBjb250YWlucyB0aGlzIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbXVsdGlwbGllZCBhbHBoYSBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndvcmxkQWxwaGEgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hpY2ggaW5kZXggaW4gdGhlIGNoaWxkcmVuIGFycmF5IHRoZSBkaXNwbGF5IGNvbXBvbmVudCB3YXMgYmVmb3JlIHRoZSBwcmV2aW91cyB6SW5kZXggc29ydC5cbiAgICAgICAgICogVXNlZCBieSBjb250YWluZXJzIHRvIGhlbHAgc29ydCBvYmplY3RzIHdpdGggdGhlIHNhbWUgekluZGV4LCBieSB1c2luZyBwcmV2aW91cyBhcnJheSBpbmRleCBhcyB0aGUgZGVjaWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbGFzdFNvcnRlZEluZGV4ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB6SW5kZXggb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqIEEgaGlnaGVyIHZhbHVlIHdpbGwgbWVhbiBpdCB3aWxsIGJlIHJlbmRlcmVkIG9uIHRvcCBvZiBvdGhlciBkaXNwbGF5T2JqZWN0cyB3aXRoaW4gdGhlIHNhbWUgY29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl96SW5kZXggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFyZWEgdGhlIGZpbHRlciBpcyBhcHBsaWVkIHRvLiBUaGlzIGlzIHVzZWQgYXMgbW9yZSBvZiBhbiBvcHRpbWl6YXRpb25cbiAgICAgICAgICogcmF0aGVyIHRoYW4gZmlndXJpbmcgb3V0IHRoZSBkaW1lbnNpb25zIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGVhY2ggZnJhbWUgeW91IGNhbiBzZXQgdGhpcyByZWN0YW5nbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEFsc28gd29ya3MgYXMgYW4gaW50ZXJhY3Rpb24gbWFzay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7P1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBmaWx0ZXJzIGZvciB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICogKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSBXZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAgICAgKiBUbyByZW1vdmUgZmlsdGVycyBzaW1wbHkgc2V0IHRoaXMgcHJvcGVydHkgdG8gYCdudWxsJ2AuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIgez9QSVhJLkZpbHRlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50bHkgZW5hYmxlZCBmaWx0ZXJzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsdGVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9lbmFibGVkRmlsdGVycyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYm91bmRzIG9iamVjdCwgdGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSBhbmQgc3RvcmUgdGhlIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYm91bmRzID0gbmV3IEJvdW5kcygpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTG9jYWwgYm91bmRzIG9iamVjdCwgc3dhcHBlZCB3aXRoIGBfYm91bmRzYCB3aGVuIHVzaW5nIGBnZXRMb2NhbEJvdW5kcygpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbG9jYWxCb3VuZHMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZ3MgdGhlIGNhY2hlZCBib3VuZHMgYXMgZGlydHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JvdW5kc0lEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlIG9mIHRoaXMgZGlzcGxheS1vYmplY3QncyBib3VuZHMtcmVjdGFuZ2xlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JvdW5kc1JlY3QgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgb2YgdGhpcyBkaXNwbGF5LW9iamVjdCdzIGxvY2FsLWJvdW5kcyByZWN0YW5nbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcmlnaW5hbCwgY2FjaGVkIG1hc2sgb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ8UElYSS5NYXNrRGF0YXxudWxsfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWFzayA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoaXMgRGlzcGxheU9iamVjdCBpcyBhZGRlZCB0byBhIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNhZGRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIGFkZGVkIHRvLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhpcyBEaXNwbGF5T2JqZWN0IGlzIHJlbW92ZWQgZnJvbSBhIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyZW1vdmVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgcmVtb3ZlZCBmcm9tLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBvYmplY3QgaGFzIGJlZW4gZGVzdHJveWVkIHZpYSBkZXN0cm95KCkuIElmIHRydWUsIGl0IHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogdXNlZCB0byBmYXN0IGNoZWNrIGlmIGEgc3ByaXRlIGlzLi4gYSBzcHJpdGUhXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc1Nwcml0ZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyBhbnkgb3RoZXIgZGlzcGxheU9iamVjdCB1c2UgdGhpcyBvYmplY3QgYXMgYSBtYXNrP1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXNNYXNrID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWl4ZXMgYWxsIGVudW1lcmFibGUgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBmcm9tIGEgc291cmNlIG9iamVjdCB0byBEaXNwbGF5T2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2YgcHJvcGVydGllcyBhbmQgbWV0aG9kcyB0byBtaXggaW4uXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5taXhpbiA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgLy8gaW4gRVM4L0VTMjAxNywgdGhpcyB3b3VsZCBiZSByZWFsbHkgZWFzeTpcbiAgICAgICAgLy8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgICAgICAvLyBnZXQgYWxsIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IGtleXNcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgICAgICAvLyBsb29wIHRocm91Z2ggcHJvcGVydGllc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBrZXlzW2ldO1xuICAgICAgICAgICAgLy8gU2V0IHRoZSBwcm9wZXJ0eSB1c2luZyB0aGUgcHJvcGVydHkgZGVzY3JpcHRvciAtIHRoaXMgd29ya3MgZm9yIGFjY2Vzc29ycyBhbmQgbm9ybWFsIHZhbHVlIHByb3BlcnRpZXNcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgcHJvcGVydHlOYW1lLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgcHJvcGVydHlOYW1lKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IHVwZGF0ZXMgdHJhbnNmb3JtIG9mIGFsbCBvYmplY3RzIGZyb20gdGhlIHJvb3QgdG8gdGhpcyBvbmVcbiAgICAgKiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgdG9Mb2NhbCgpXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIFRPRE8gLSBPcHRpbWl6YXRpb24gcGFzcyFcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICAvLyBtdWx0aXBseSB0aGUgYWxwaGFzLi5cbiAgICAgICAgdGhpcy53b3JsZEFscGhhID0gdGhpcy5hbHBoYSAqIHRoaXMucGFyZW50LndvcmxkQWxwaGE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlXSAtIFNldHRpbmcgdG8gYHRydWVgIHdpbGwgc3RvcCB0aGUgdHJhbnNmb3JtcyBvZiB0aGUgc2NlbmUgZ3JhcGggZnJvbVxuICAgICAqICBiZWluZyB1cGRhdGVkLiBUaGlzIG1lYW5zIHRoZSBjYWxjdWxhdGlvbiByZXR1cm5lZCBNQVkgYmUgb3V0IG9mIGRhdGUgQlVUIHdpbGwgZ2l2ZSB5b3UgYVxuICAgICAqICBuaWNlIHBlcmZvcm1hbmNlIGJvb3N0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIE9wdGlvbmFsIHJlY3RhbmdsZSB0byBzdG9yZSB0aGUgcmVzdWx0IG9mIHRoZSBib3VuZHMgY2FsY3VsYXRpb24uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhLlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uIChza2lwVXBkYXRlLCByZWN0KSB7XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fYm91bmRzLnVwZGF0ZUlEICE9PSB0aGlzLl9ib3VuZHNJRCkge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy51cGRhdGVJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9ib3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9ib3VuZHNSZWN0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QgYXMgYSByZWN0YW5nbGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWEuXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHJhbnNmb3JtUmVmID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgIHZhciBwYXJlbnRSZWYgPSB0aGlzLnBhcmVudDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHdvcmxkQm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgICAgICB2YXIgd29ybGRCb3VuZHNJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSB0aGlzLl9sb2NhbEJvdW5kcztcbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0Qm91bmRzKGZhbHNlLCByZWN0KTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRSZWY7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtUmVmO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSB3b3JsZEJvdW5kcztcbiAgICAgICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEICs9IHRoaXMuX2JvdW5kc0lEIC0gd29ybGRCb3VuZHNJRDsgLy8gcmVmbGVjdCBzaWRlLWVmZmVjdHNcbiAgICAgICAgcmV0dXJuIGJvdW5kcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoaXMgb2JqZWN0LlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnRvR2xvYmFsID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSkge1xuICAgICAgICBpZiAoc2tpcFVwZGF0ZSA9PT0gdm9pZCAwKSB7IHNraXBVcGRhdGUgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoIXNraXBVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIC8vIHRoaXMgcGFyZW50IGNoZWNrIGlzIGZvciBqdXN0IGluIGNhc2UgdGhlIGl0ZW0gaXMgYSByb290IG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHRlbXBvcmFyeSBwYXJlbnQgc28gdGhhdCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIHdvcmtzIGNvcnJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYWlubHkgdG8gYXZvaWQgYSBwYXJlbnQgY2hlY2sgaW4gdGhlIG1haW4gbG9vcC4gRXZlcnkgbGl0dGxlIGhlbHBzIGZvciBwZXJmb3JtYW5jZSA6KVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIGxvdFxuICAgICAgICByZXR1cm4gdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseShwb3NpdGlvbiwgcG9pbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbG9jYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHJlbGF0aXZlIHRvIGFub3RoZXIgcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBbZnJvbV0gLSBUaGUgRGlzcGxheU9iamVjdCB0byBjYWxjdWxhdGUgdGhlIGdsb2JhbCBwb3NpdGlvbiBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IEEgcG9pbnQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS50b0xvY2FsID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBmcm9tLCBwb2ludCwgc2tpcFVwZGF0ZSkge1xuICAgICAgICBpZiAoZnJvbSkge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBmcm9tLnRvR2xvYmFsKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAvLyB0aGlzIHBhcmVudCBjaGVjayBpcyBmb3IganVzdCBpbiBjYXNlIHRoZSBpdGVtIGlzIGEgcm9vdCBvYmplY3QuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSB0ZW1wb3JhcnkgcGFyZW50IHNvIHRoYXQgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSB3b3JrcyBjb3JyZWN0bHlcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWFpbmx5IHRvIGF2b2lkIGEgcGFyZW50IGNoZWNrIGluIHRoZSBtYWluIGxvb3AuIEV2ZXJ5IGxpdHRsZSBoZWxwcyBmb3IgcGVyZm9ybWFuY2UgOilcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNpbXBseSBhcHBseSB0aGUgbWF0cml4Li5cbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvc2l0aW9uLCBwb2ludCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBhcmVudCBDb250YWluZXIgb2YgdGhpcyBEaXNwbGF5T2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIENvbnRhaW5lciB0byBhZGQgdGhpcyBEaXNwbGF5T2JqZWN0IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQ29udGFpbmVyfSBUaGUgQ29udGFpbmVyIHRoYXQgdGhpcyBEaXNwbGF5T2JqZWN0IHdhcyBhZGRlZCB0by5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5zZXRQYXJlbnQgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgIGlmICghY29udGFpbmVyIHx8ICFjb250YWluZXIuYWRkQ2hpbGQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2V0UGFyZW50OiBBcmd1bWVudCBtdXN0IGJlIGEgQ29udGFpbmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHRoaXMpO1xuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8gc2V0IHRoZSBwb3NpdGlvbiwgc2NhbGUsIHNrZXcgYW5kIHBpdm90IGF0IG9uY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZVg9MV0gLSBUaGUgWCBzY2FsZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVZPTFdIC0gVGhlIFkgc2NhbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtza2V3WD0wXSAtIFRoZSBYIHNrZXcgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NrZXdZPTBdIC0gVGhlIFkgc2tldyB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGl2b3RYPTBdIC0gVGhlIFggcGl2b3QgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bpdm90WT0wXSAtIFRoZSBZIHBpdm90IHZhbHVlXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZVxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uICh4LCB5LCBzY2FsZVgsIHNjYWxlWSwgcm90YXRpb24sIHNrZXdYLCBza2V3WSwgcGl2b3RYLCBwaXZvdFkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmIChzY2FsZVggPT09IHZvaWQgMCkgeyBzY2FsZVggPSAxOyB9XG4gICAgICAgIGlmIChzY2FsZVkgPT09IHZvaWQgMCkgeyBzY2FsZVkgPSAxOyB9XG4gICAgICAgIGlmIChyb3RhdGlvbiA9PT0gdm9pZCAwKSB7IHJvdGF0aW9uID0gMDsgfVxuICAgICAgICBpZiAoc2tld1ggPT09IHZvaWQgMCkgeyBza2V3WCA9IDA7IH1cbiAgICAgICAgaWYgKHNrZXdZID09PSB2b2lkIDApIHsgc2tld1kgPSAwOyB9XG4gICAgICAgIGlmIChwaXZvdFggPT09IHZvaWQgMCkgeyBwaXZvdFggPSAwOyB9XG4gICAgICAgIGlmIChwaXZvdFkgPT09IHZvaWQgMCkgeyBwaXZvdFkgPSAwOyB9XG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHg7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHk7XG4gICAgICAgIHRoaXMuc2NhbGUueCA9ICFzY2FsZVggPyAxIDogc2NhbGVYO1xuICAgICAgICB0aGlzLnNjYWxlLnkgPSAhc2NhbGVZID8gMSA6IHNjYWxlWTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICB0aGlzLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICB0aGlzLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB0aGlzLnBpdm90LnggPSBwaXZvdFg7XG4gICAgICAgIHRoaXMucGl2b3QueSA9IHBpdm90WTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCYXNlIGRlc3Ryb3kgbWV0aG9kIGZvciBnZW5lcmljIGRpc3BsYXkgb2JqZWN0cy4gVGhpcyB3aWxsIGF1dG9tYXRpY2FsbHlcbiAgICAgKiByZW1vdmUgdGhlIGRpc3BsYXkgb2JqZWN0IGZyb20gaXRzIHBhcmVudCBDb250YWluZXIgYXMgd2VsbCBhcyByZW1vdmVcbiAgICAgKiBhbGwgY3VycmVudCBldmVudCBsaXN0ZW5lcnMgYW5kIGludGVybmFsIHJlZmVyZW5jZXMuIERvIG5vdCB1c2UgYSBEaXNwbGF5T2JqZWN0XG4gICAgICogYWZ0ZXIgY2FsbGluZyBgZGVzdHJveSgpYC5cbiAgICAgKlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoX29wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG4gICAgICAgIHRoaXMuaGl0QXJlYSA9IG51bGw7XG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwiX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFVzZWQgaW4gUmVuZGVyZXIsIGNhY2hlQXNCaXRtYXAgYW5kIG90aGVyIHBsYWNlcyB3aGVyZSB5b3UgY2FsbCBhbiBgdXBkYXRlVHJhbnNmb3JtYCBvbiByb290XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCBjYWNoZVBhcmVudCA9IGVsZW0uZW5hYmxlVGVtcFBhcmVudCgpO1xuICAgICAqIGVsZW0udXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICogZWxlbS5kaXNhYmxlVGVtcFBhcmVudChjYWNoZVBhcmVudCk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5EaXNwbGF5T2JqZWN0fSBjdXJyZW50IHBhcmVudFxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmVuYWJsZVRlbXBQYXJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBteVBhcmVudCA9IHRoaXMucGFyZW50O1xuICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICByZXR1cm4gbXlQYXJlbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYWlyIG1ldGhvZCBmb3IgYGVuYWJsZVRlbXBQYXJlbnRgXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNhY2hlUGFyZW50IGFjdHVhbCBwYXJlbnQgb2YgZWxlbWVudFxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmRpc2FibGVUZW1wUGFyZW50ID0gZnVuY3Rpb24gKGNhY2hlUGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gY2FjaGVQYXJlbnQ7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwieFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLng7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHkgYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLnk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi55ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwid29ybGRUcmFuc2Zvcm1cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCB0cmFuc2Zvcm0gb2YgdGhlIG9iamVjdCBiYXNlZCBvbiB3b3JsZCAocGFyZW50KSBmYWN0b3JzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJsb2NhbFRyYW5zZm9ybVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIGxvY2FsIGZhY3RvcnM6IHBvc2l0aW9uLCBzY2FsZSwgb3RoZXIgc3R1ZmYuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInBvc2l0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJzY2FsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgZmFjdG9yIG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5zY2FsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnNjYWxlLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJwaXZvdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZC5cbiAgICAgICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBpdm90O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGl2b3QuY29weUZyb20odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInNrZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNrZXcgZmFjdG9yIGZvciB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5za2V3O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2tldy5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwicm90YXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvdGF0aW9uIG9mIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAgICAgICAgICogJ3JvdGF0aW9uJyBhbmQgJ2FuZ2xlJyBoYXZlIHRoZSBzYW1lIGVmZmVjdCBvbiBhIGRpc3BsYXkgb2JqZWN0OyByb3RhdGlvbiBpcyBpbiByYWRpYW5zLCBhbmdsZSBpcyBpbiBkZWdyZWVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwiYW5nbGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuZ2xlIG9mIHRoZSBvYmplY3QgaW4gZGVncmVlcy5cbiAgICAgICAgICogJ3JvdGF0aW9uJyBhbmQgJ2FuZ2xlJyBoYXZlIHRoZSBzYW1lIGVmZmVjdCBvbiBhIGRpc3BsYXkgb2JqZWN0OyByb3RhdGlvbiBpcyBpbiByYWRpYW5zLCBhbmdsZSBpcyBpbiBkZWdyZWVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiAqIFJBRF9UT19ERUc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiA9IHZhbHVlICogREVHX1RPX1JBRDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJ6SW5kZXhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHpJbmRleCBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICogSWYgYSBjb250YWluZXIgaGFzIHRoZSBzb3J0YWJsZUNoaWxkcmVuIHByb3BlcnR5IHNldCB0byB0cnVlLCBjaGlsZHJlbiB3aWxsIGJlIGF1dG9tYXRpY2FsbHlcbiAgICAgICAgICogc29ydGVkIGJ5IHpJbmRleCB2YWx1ZTsgYSBoaWdoZXIgdmFsdWUgd2lsbCBtZWFuIGl0IHdpbGwgYmUgbW92ZWQgdG93YXJkcyB0aGUgZW5kIG9mIHRoZSBhcnJheSxcbiAgICAgICAgICogYW5kIHRodXMgcmVuZGVyZWQgb24gdG9wIG9mIG90aGVyIGRpc3BsYXlPYmplY3RzIHdpdGhpbiB0aGUgc2FtZSBjb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3pJbmRleDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3pJbmRleCA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuc29ydERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJ3b3JsZFZpc2libGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBvYmplY3QgaXMgZ2xvYmFsbHkgdmlzaWJsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcztcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW0udmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnBhcmVudDtcbiAgICAgICAgICAgIH0gd2hpbGUgKGl0ZW0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwibWFza1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIGEgbWFzayBmb3IgdGhlIGRpc3BsYXlPYmplY3QuIEEgbWFzayBpcyBhbiBvYmplY3QgdGhhdCBsaW1pdHMgdGhlIHZpc2liaWxpdHkgb2YgYW5cbiAgICAgICAgICogb2JqZWN0IHRvIHRoZSBzaGFwZSBvZiB0aGUgbWFzayBhcHBsaWVkIHRvIGl0LiBJbiBQaXhpSlMgYSByZWd1bGFyIG1hc2sgbXVzdCBiZSBhXG4gICAgICAgICAqIHtAbGluayBQSVhJLkdyYXBoaWNzfSBvciBhIHtAbGluayBQSVhJLlNwcml0ZX0gb2JqZWN0LiBUaGlzIGFsbG93cyBmb3IgbXVjaCBmYXN0ZXIgbWFza2luZyBpbiBjYW52YXMgYXMgaXRcbiAgICAgICAgICogdXRpbGl0aWVzIHNoYXBlIGNsaXBwaW5nLiBUbyByZW1vdmUgYSBtYXNrLCBzZXQgdGhpcyBwcm9wZXJ0eSB0byBgbnVsbGAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEZvciBzcHJpdGUgbWFzayBib3RoIGFscGhhIGFuZCByZWQgY2hhbm5lbCBhcmUgdXNlZC4gQmxhY2sgbWFzayBpcyB0aGUgc2FtZSBhcyB0cmFuc3BhcmVudCBtYXNrLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjb25zdCBncmFwaGljcyA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICAgICAqIGdyYXBoaWNzLmJlZ2luRmlsbCgweEZGMzMwMCk7XG4gICAgICAgICAqIGdyYXBoaWNzLmRyYXdSZWN0KDUwLCAyNTAsIDEwMCwgMTAwKTtcbiAgICAgICAgICogZ3JhcGhpY3MuZW5kRmlsbCgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICAgICAqIHNwcml0ZS5tYXNrID0gZ3JhcGhpY3M7XG4gICAgICAgICAqIEB0b2RvIEF0IHRoZSBtb21lbnQsIFBJWEkuQ2FudmFzUmVuZGVyZXIgZG9lc24ndCBzdXBwb3J0IFBJWEkuU3ByaXRlIGFzIG1hc2suXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfFBJWEkuTWFza0RhdGF8bnVsbH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hc2s7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgICAgICAgICAgIHZhciBtYXNrT2JqZWN0ID0gKHRoaXMuX21hc2subWFza09iamVjdCB8fCB0aGlzLl9tYXNrKTtcbiAgICAgICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG1hc2tPYmplY3QuaXNNYXNrID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tYXNrID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgICAgICAgICAgIHZhciBtYXNrT2JqZWN0ID0gKHRoaXMuX21hc2subWFza09iamVjdCB8fCB0aGlzLl9tYXNrKTtcbiAgICAgICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBtYXNrT2JqZWN0LmlzTWFzayA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gRGlzcGxheU9iamVjdDtcbn0oRXZlbnRFbWl0dGVyKSk7XG52YXIgVGVtcG9yYXJ5RGlzcGxheU9iamVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGVtcG9yYXJ5RGlzcGxheU9iamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc29ydERpcnR5ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gVGVtcG9yYXJ5RGlzcGxheU9iamVjdDtcbn0oRGlzcGxheU9iamVjdCkpO1xuLyoqXG4gKiBEaXNwbGF5T2JqZWN0IGRlZmF1bHQgdXBkYXRlVHJhbnNmb3JtLCBkb2VzIG5vdCB1cGRhdGUgY2hpbGRyZW4gb2YgY29udGFpbmVyLlxuICogV2lsbCBjcmFzaCBpZiB0aGVyZSdzIG5vIHBhcmVudCBlbGVtZW50LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAZnVuY3Rpb24gZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtID0gRGlzcGxheU9iamVjdC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuXG5mdW5jdGlvbiBzb3J0Q2hpbGRyZW4oYSwgYikge1xuICAgIGlmIChhLnpJbmRleCA9PT0gYi56SW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGEuX2xhc3RTb3J0ZWRJbmRleCAtIGIuX2xhc3RTb3J0ZWRJbmRleDtcbiAgICB9XG4gICAgcmV0dXJuIGEuekluZGV4IC0gYi56SW5kZXg7XG59XG4vKipcbiAqIEEgQ29udGFpbmVyIHJlcHJlc2VudHMgYSBjb2xsZWN0aW9uIG9mIGRpc3BsYXkgb2JqZWN0cy5cbiAqXG4gKiBJdCBpcyB0aGUgYmFzZSBjbGFzcyBvZiBhbGwgZGlzcGxheSBvYmplY3RzIHRoYXQgYWN0IGFzIGEgY29udGFpbmVyIGZvciBvdGhlciBvYmplY3RzIChsaWtlIFNwcml0ZXMpLlxuICpcbiAqYGBganNcbiAqIGxldCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkRpc3BsYXlPYmplY3RcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbnRhaW5lciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb250YWluZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJyYXkgb2YgY2hpbGRyZW4gb2YgdGhpcyBjb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdFtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIGNvbnRhaW5lciB3aWxsIHNvcnQgaXRzIGNoaWxkcmVuIGJ5IHpJbmRleCB2YWx1ZVxuICAgICAgICAgKiB3aGVuIHVwZGF0ZVRyYW5zZm9ybSgpIGlzIGNhbGxlZCwgb3IgbWFudWFsbHkgaWYgc29ydENoaWxkcmVuKCkgaXMgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGFjdHVhbGx5IGNoYW5nZXMgdGhlIG9yZGVyIG9mIGVsZW1lbnRzIGluIHRoZSBhcnJheSwgc28gc2hvdWxkIGJlIHRyZWF0ZWRcbiAgICAgICAgICogYXMgYSBiYXNpYyBzb2x1dGlvbiB0aGF0IGlzIG5vdCBwZXJmb3JtYW50IGNvbXBhcmVkIHRvIG90aGVyIHNvbHV0aW9ucyxcbiAgICAgICAgICogc3VjaCBhcyBAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZGlzcGxheVxuICAgICAgICAgKlxuICAgICAgICAgKiBBbHNvIGJlIGF3YXJlIG9mIHRoYXQgdGhpcyBtYXkgbm90IHdvcmsgbmljZWx5IHdpdGggdGhlIGFkZENoaWxkQXQoKSBmdW5jdGlvbixcbiAgICAgICAgICogYXMgdGhlIHpJbmRleCBzb3J0aW5nIG1heSBjYXVzZSB0aGUgY2hpbGQgdG8gYXV0b21hdGljYWxseSBzb3J0ZWQgdG8gYW5vdGhlciBwb3NpdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlNPUlRBQkxFX0NISUxEUkVOXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3J0YWJsZUNoaWxkcmVuID0gc2V0dGluZ3MuU09SVEFCTEVfQ0hJTERSRU47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgY2hpbGRyZW4gYmUgc29ydGVkIGJ5IHpJbmRleCBhdCB0aGUgbmV4dCB1cGRhdGVUcmFuc2Zvcm0gY2FsbC5cbiAgICAgICAgICogV2lsbCBnZXQgYXV0b21hdGljYWxseSBzZXQgdG8gdHJ1ZSBpZiBhIG5ldyBjaGlsZCBpcyBhZGRlZCwgb3IgaWYgYSBjaGlsZCdzIHpJbmRleCBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc29ydERpcnR5ID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBEaXNwbGF5T2JqZWN0IGlzIGFkZGVkIHRvIHRoaXMgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5Db250YWluZXIjY2hpbGRBZGRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgYWRkZWQgdG8gdGhlIENvbnRhaW5lci5cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0aGF0IGFkZGVkIHRoZSBjaGlsZC5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGNoaWxkcmVuJ3MgaW5kZXggb2YgdGhlIGFkZGVkIGNoaWxkLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBEaXNwbGF5T2JqZWN0IGlzIHJlbW92ZWQgZnJvbSB0aGlzIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyZW1vdmVkRnJvbVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgcmVtb3ZlZCBmcm9tIHRoZSBDb250YWluZXIuXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdGhhdCByZW1vdmVkIHJlbW92ZWQgdGhlIGNoaWxkLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgZm9ybWVyIGNoaWxkcmVuJ3MgaW5kZXggb2YgdGhlIHJlbW92ZWQgY2hpbGRcbiAgICAgICAgICovXG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRhYmxlIG1ldGhvZCB0aGF0IGNhbiBiZSB1c2VkIGJ5IENvbnRhaW5lciBzdWJjbGFzc2VzIHdoZW5ldmVyIHRoZSBjaGlsZHJlbiBhcnJheSBpcyBtb2RpZmllZFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUub25DaGlsZHJlbkNoYW5nZSA9IGZ1bmN0aW9uIChfbGVuZ3RoKSB7XG4gICAgICAgIC8qIGVtcHR5ICovXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIG9uZSBvciBtb3JlIGNoaWxkcmVuIHRvIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBNdWx0aXBsZSBpdGVtcyBjYW4gYmUgYWRkZWQgbGlrZSBzbzogYG15Q29udGFpbmVyLmFkZENoaWxkKHRoaW5nT25lLCB0aGluZ1R3bywgdGhpbmdUaHJlZSlgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGRyZW4gLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byBhZGQgdG8gdGhlIGNvbnRhaW5lclxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW19pXSA9IGFyZ3VtZW50cyQxW19pXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcnJheSBhbmQgYWRkIGFsbCBjaGlsZHJlblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgLy8gaWYgdGhlIGNoaWxkIGhhcyBhIHBhcmVudCB0aGVuIGxldHMgcmVtb3ZlIGl0IGFzIFBpeGlKUyBvYmplY3RzIGNhbiBvbmx5IGV4aXN0IGluIG9uZSBwbGFjZVxuICAgICAgICAgICAgaWYgKGNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLnBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5zb3J0RGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UodGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRBZGRlZCcsIGNoaWxkLCB0aGlzLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRyZW5bMF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY2hpbGQgdG8gdGhlIGNvbnRhaW5lciBhdCBhIHNwZWNpZmllZCBpbmRleC4gSWYgdGhlIGluZGV4IGlzIG91dCBvZiBib3VuZHMgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCB0byBhZGRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gcGxhY2UgdGhlIGNoaWxkIGluXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgdGhhdCB3YXMgYWRkZWQuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5hZGRDaGlsZEF0ID0gZnVuY3Rpb24gKGNoaWxkLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihjaGlsZCArIFwiYWRkQ2hpbGRBdDogVGhlIGluZGV4IFwiICsgaW5kZXggKyBcIiBzdXBwbGllZCBpcyBvdXQgb2YgYm91bmRzIFwiICsgdGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgICAgIGNoaWxkLnBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSB0cnVlO1xuICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDAsIGNoaWxkKTtcbiAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgIGNoaWxkLmVtaXQoJ2FkZGVkJywgdGhpcyk7XG4gICAgICAgIHRoaXMuZW1pdCgnY2hpbGRBZGRlZCcsIGNoaWxkLCB0aGlzLCBpbmRleCk7XG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN3YXBzIHRoZSBwb3NpdGlvbiBvZiAyIERpc3BsYXkgT2JqZWN0cyB3aXRoaW4gdGhpcyBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBGaXJzdCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkMiAtIFNlY29uZCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zd2FwQ2hpbGRyZW4gPSBmdW5jdGlvbiAoY2hpbGQsIGNoaWxkMikge1xuICAgICAgICBpZiAoY2hpbGQgPT09IGNoaWxkMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleDEgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICB2YXIgaW5kZXgyID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkMik7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5baW5kZXgxXSA9IGNoaWxkMjtcbiAgICAgICAgdGhpcy5jaGlsZHJlbltpbmRleDJdID0gY2hpbGQ7XG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleDEgPCBpbmRleDIgPyBpbmRleDEgOiBpbmRleDIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW5kZXggcG9zaXRpb24gb2YgYSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZSB0byBpZGVudGlmeVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IHBvc2l0aW9uIG9mIHRoZSBjaGlsZCBkaXNwbGF5IG9iamVjdCB0byBpZGVudGlmeVxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRJbmRleCA9IGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBzdXBwbGllZCBEaXNwbGF5T2JqZWN0IG11c3QgYmUgYSBjaGlsZCBvZiB0aGUgY2FsbGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgcG9zaXRpb24gb2YgYW4gZXhpc3RpbmcgY2hpbGQgaW4gdGhlIGRpc3BsYXkgb2JqZWN0IGNvbnRhaW5lclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIERpc3BsYXlPYmplY3QgaW5zdGFuY2UgZm9yIHdoaWNoIHlvdSB3YW50IHRvIGNoYW5nZSB0aGUgaW5kZXggbnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIHJlc3VsdGluZyBpbmRleCBudW1iZXIgZm9yIHRoZSBjaGlsZCBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuc2V0Q2hpbGRJbmRleCA9IGZ1bmN0aW9uIChjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGluZGV4IFwiICsgaW5kZXggKyBcIiBzdXBwbGllZCBpcyBvdXQgb2YgYm91bmRzIFwiICsgdGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50SW5kZXggPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBjdXJyZW50SW5kZXgsIDEpOyAvLyByZW1vdmUgZnJvbSBvbGQgcG9zaXRpb25cbiAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDAsIGNoaWxkKTsgLy8gYWRkIGF0IG5ldyBwb3NpdGlvblxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY2hpbGQgYXQgdGhlIHNwZWNpZmllZCBpbmRleFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgYXRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCBhdCB0aGUgZ2l2ZW4gaW5kZXgsIGlmIGFueS5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkQXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ2V0Q2hpbGRBdDogSW5kZXggKFwiICsgaW5kZXggKyBcIikgZG9lcyBub3QgZXhpc3QuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2luZGV4XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgb25lIG9yIG1vcmUgY2hpbGRyZW4gZnJvbSB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi5QSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkcmVuIC0gVGhlIERpc3BsYXlPYmplY3QocykgdG8gcmVtb3ZlXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgZmlyc3QgY2hpbGQgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgdmFyIGNoaWxkcmVuID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBjaGlsZHJlbltfaV0gPSBhcmd1bWVudHMkMVtfaV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUgYXJndW1lbnQgd2UgY2FuIGJ5cGFzcyBsb29waW5nIHRocm91Z2ggdGhlIHRoZW1cbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgYXJndW1lbnRzIHByb3BlcnR5IGFuZCByZW1vdmUgYWxsIGNoaWxkcmVuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChjaGlsZHJlbltpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlblswXTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKVxuICAgICAgICAgICAgICAgIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG4gICAgICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgICAgIGNoaWxkLmVtaXQoJ3JlbW92ZWQnLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRSZW1vdmVkJywgY2hpbGQsIHRoaXMsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRyZW5bMF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY2hpbGQgZnJvbSB0aGUgc3BlY2lmaWVkIGluZGV4IHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZEF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHZhciBjaGlsZCA9IHRoaXMuZ2V0Q2hpbGRBdChpbmRleCk7XG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWQuLlxuICAgICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGluZGV4LCAxKTtcbiAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgIGNoaWxkLmVtaXQoJ3JlbW92ZWQnLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBjaGlsZHJlbiBmcm9tIHRoaXMgY29udGFpbmVyIHRoYXQgYXJlIHdpdGhpbiB0aGUgYmVnaW4gYW5kIGVuZCBpbmRleGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiZWdpbkluZGV4PTBdIC0gVGhlIGJlZ2lubmluZyBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZEluZGV4PXRoaXMuY2hpbGRyZW4ubGVuZ3RoXSAtIFRoZSBlbmRpbmcgcG9zaXRpb24uIERlZmF1bHQgdmFsdWUgaXMgc2l6ZSBvZiB0aGUgY29udGFpbmVyLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gTGlzdCBvZiByZW1vdmVkIGNoaWxkcmVuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZHJlbiA9IGZ1bmN0aW9uIChiZWdpbkluZGV4LCBlbmRJbmRleCkge1xuICAgICAgICBpZiAoYmVnaW5JbmRleCA9PT0gdm9pZCAwKSB7IGJlZ2luSW5kZXggPSAwOyB9XG4gICAgICAgIGlmIChlbmRJbmRleCA9PT0gdm9pZCAwKSB7IGVuZEluZGV4ID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IH1cbiAgICAgICAgdmFyIGJlZ2luID0gYmVnaW5JbmRleDtcbiAgICAgICAgdmFyIGVuZCA9IGVuZEluZGV4O1xuICAgICAgICB2YXIgcmFuZ2UgPSBlbmQgLSBiZWdpbjtcbiAgICAgICAgdmFyIHJlbW92ZWQ7XG4gICAgICAgIGlmIChyYW5nZSA+IDAgJiYgcmFuZ2UgPD0gZW5kKSB7XG4gICAgICAgICAgICByZW1vdmVkID0gdGhpcy5jaGlsZHJlbi5zcGxpY2UoYmVnaW4sIHJhbmdlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVtb3ZlZC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRbaV0ucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAocmVtb3ZlZFtpXS50cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShiZWdpbkluZGV4KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVtb3ZlZC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRbaV0uZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRSZW1vdmVkJywgcmVtb3ZlZFtpXSwgdGhpcywgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyYW5nZSA9PT0gMCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdyZW1vdmVDaGlsZHJlbjogbnVtZXJpYyB2YWx1ZXMgYXJlIG91dHNpZGUgdGhlIGFjY2VwdGFibGUgcmFuZ2UuJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTb3J0cyBjaGlsZHJlbiBieSB6SW5kZXguIFByZXZpb3VzIG9yZGVyIGlzIG1hbnRhaW5lZCBmb3IgMiBjaGlsZHJlbiB3aXRoIHRoZSBzYW1lIHpJbmRleC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnNvcnRDaGlsZHJlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvcnRSZXF1aXJlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgY2hpbGQuX2xhc3RTb3J0ZWRJbmRleCA9IGk7XG4gICAgICAgICAgICBpZiAoIXNvcnRSZXF1aXJlZCAmJiBjaGlsZC56SW5kZXggIT09IDApIHtcbiAgICAgICAgICAgICAgICBzb3J0UmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzb3J0UmVxdWlyZWQgJiYgdGhpcy5jaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNvcnQoc29ydENoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdHJhbnNmb3JtIG9uIGFsbCBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lciBmb3IgcmVuZGVyaW5nXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnNvcnRhYmxlQ2hpbGRyZW4gJiYgdGhpcy5zb3J0RGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuc29ydENoaWxkcmVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIC8vIFRPRE86IGNoZWNrIHJlbmRlciBmbGFncywgaG93IHRvIHByb2Nlc3Mgc3R1ZmYgaGVyZVxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChjaGlsZC52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmNhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYm91bmRzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoIWNoaWxkLnZpc2libGUgfHwgIWNoaWxkLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgLy8gVE9ETzogZmlsdGVyK21hc2ssIG5lZWQgdG8gbWFzayBib3RoIHNvbWVob3dcbiAgICAgICAgICAgIGlmIChjaGlsZC5fbWFzaykge1xuICAgICAgICAgICAgICAgIHZhciBtYXNrT2JqZWN0ID0gKGNoaWxkLl9tYXNrLm1hc2tPYmplY3QgfHwgY2hpbGQuX21hc2spO1xuICAgICAgICAgICAgICAgIG1hc2tPYmplY3QuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kc01hc2soY2hpbGQuX2JvdW5kcywgbWFza09iamVjdC5fYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkLmZpbHRlckFyZWEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzQXJlYShjaGlsZC5fYm91bmRzLCBjaGlsZC5maWx0ZXJBcmVhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHMoY2hpbGQuX2JvdW5kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVjdF0gLSBPcHRpb25hbCByZWN0YW5nbGUgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgYm91bmRzIGNhbGN1bGF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBDaGlsZHJlblVwZGF0ZT1mYWxzZV0gLSBTZXR0aW5nIHRvIGB0cnVlYCB3aWxsIHN0b3AgcmUtY2FsY3VsYXRpb24gb2YgY2hpbGRyZW4gdHJhbnNmb3JtcyxcbiAgICAgKiAgaXQgd2FzIGRlZmF1bHQgYmVoYXZpb3VyIG9mIHBpeGkgNC4wLTUuMiBhbmQgY2F1c2VkIG1hbnkgcHJvYmxlbXMgdG8gdXNlcnMuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAocmVjdCwgc2tpcENoaWxkcmVuVXBkYXRlKSB7XG4gICAgICAgIGlmIChza2lwQ2hpbGRyZW5VcGRhdGUgPT09IHZvaWQgMCkgeyBza2lwQ2hpbGRyZW5VcGRhdGUgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gX3N1cGVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgICAgICBpZiAoIXNraXBDaGlsZHJlblVwZGF0ZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0LiBPdmVycmlkZSB0aGlzIHRvXG4gICAgICogY2FsY3VsYXRlIHRoZSBib3VuZHMgb2YgdGhlIHNwZWNpZmljIG9iamVjdCAobm90IGluY2x1ZGluZyBjaGlsZHJlbikuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBGSUxMIElOLy9cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICAvLyBpZiB0aGUgb2JqZWN0IGlzIG5vdCB2aXNpYmxlIG9yIHRoZSBhbHBoYSBpcyAwIHRoZW4gbm8gbmVlZCB0byByZW5kZXIgdGhpcyBlbGVtZW50XG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBkbyBhIHF1aWNrIGNoZWNrIHRvIHNlZSBpZiB0aGlzIGVsZW1lbnQgaGFzIGEgbWFzayBvciBhIGZpbHRlci5cbiAgICAgICAgaWYgKHRoaXMuX21hc2sgfHwgKHRoaXMuZmlsdGVycyAmJiB0aGlzLmZpbHRlcnMubGVuZ3RoKSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJBZHZhbmNlZChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICAgICAgLy8gc2ltcGxlIHJlbmRlciBjaGlsZHJlbiFcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLnJlbmRlcihyZW5kZXJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlciBhbmQgYWR2YW5jZWQgZmVhdHVyZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQWR2YW5jZWQgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgdmFyIGZpbHRlcnMgPSB0aGlzLmZpbHRlcnM7XG4gICAgICAgIHZhciBtYXNrID0gdGhpcy5fbWFzaztcbiAgICAgICAgLy8gcHVzaCBmaWx0ZXIgZmlyc3QgYXMgd2UgbmVlZCB0byBlbnN1cmUgdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIGNvcnJlY3QgZm9yIGFueSBtYXNraW5nXG4gICAgICAgIGlmIChmaWx0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWRGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyc1tpXS5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLnB1c2goZmlsdGVyc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmZpbHRlci5wdXNoKHRoaXMsIHRoaXMuX2VuYWJsZWRGaWx0ZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWFzaykge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFzay5wdXNoKHRoaXMsIHRoaXMuX21hc2spO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFkZCB0aGlzIG9iamVjdCB0byB0aGUgYmF0Y2gsIG9ubHkgcmVuZGVyZWQgaWYgaXQgaGFzIGEgdGV4dHVyZS5cbiAgICAgICAgdGhpcy5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgICAgICAgLy8gbm93IGxvb3AgdGhyb3VnaCB0aGUgY2hpbGRyZW4gYW5kIG1ha2Ugc3VyZSB0aGV5IGdldCByZW5kZXJlZFxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLnJlbmRlcihyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgaWYgKG1hc2spIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2sucG9wKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVuZGVyZXIuZmlsdGVyLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUbyBiZSBvdmVycmlkZGVuIGJ5IHRoZSBzdWJjbGFzc2VzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAoX3JlbmRlcmVyKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgd2hlcmUgY29udGVudCBpdHNlbGYgZ2V0cyByZW5kZXJlZC4uLlxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgaW50ZXJuYWwgcmVmZXJlbmNlcyBhbmQgbGlzdGVuZXJzIGFzIHdlbGwgYXMgcmVtb3ZlcyBjaGlsZHJlbiBmcm9tIHRoZSBkaXNwbGF5IGxpc3QuXG4gICAgICogRG8gbm90IHVzZSBhIENvbnRhaW5lciBhZnRlciBjYWxsaW5nIGBkZXN0cm95YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuc29ydERpcnR5ID0gZmFsc2U7XG4gICAgICAgIHZhciBkZXN0cm95Q2hpbGRyZW4gPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy5jaGlsZHJlbjtcbiAgICAgICAgdmFyIG9sZENoaWxkcmVuID0gdGhpcy5yZW1vdmVDaGlsZHJlbigwLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgICAgIGlmIChkZXN0cm95Q2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkQ2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBvbGRDaGlsZHJlbltpXS5kZXN0cm95KG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29udGFpbmVyLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS54ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuICAgICAgICAgICAgaWYgKHdpZHRoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gdmFsdWUgLyB3aWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnRhaW5lci5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS55ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldExvY2FsQm91bmRzKCkuaGVpZ2h0O1xuICAgICAgICAgICAgaWYgKGhlaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHZhbHVlIC8gaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENvbnRhaW5lcjtcbn0oRGlzcGxheU9iamVjdCkpO1xuLyoqXG4gKiBDb250YWluZXIgZGVmYXVsdCB1cGRhdGVUcmFuc2Zvcm0sIGRvZXMgdXBkYXRlIGNoaWxkcmVuIG9mIGNvbnRhaW5lci5cbiAqIFdpbGwgY3Jhc2ggaWYgdGhlcmUncyBubyBwYXJlbnQgZWxlbWVudC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5Db250YWluZXIjXG4gKiBAZnVuY3Rpb24gY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtXG4gKi9cbkNvbnRhaW5lci5wcm90b3R5cGUuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtID0gQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG5cbmV4cG9ydCB7IEJvdW5kcywgQ29udGFpbmVyLCBEaXNwbGF5T2JqZWN0LCBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXNwbGF5LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9ncmFwaGljcyAtIHY1LjMuN1xuICogQ29tcGlsZWQgVHVlLCAyOSBEZWMgMjAyMCAxOTozMDoxMSBVVENcbiAqXG4gKiBAcGl4aS9ncmFwaGljcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlLCBCYXRjaERyYXdDYWxsLCBCYXRjaFRleHR1cmVBcnJheSwgQmF0Y2hHZW9tZXRyeSwgU3RhdGUsIFVuaWZvcm1Hcm91cCwgU2hhZGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTSEFQRVMsIFBvaW50LCBQb2x5Z29uLCBQSV8yLCBNYXRyaXgsIFJlY3RhbmdsZSwgUm91bmRlZFJlY3RhbmdsZSwgQ2lyY2xlLCBFbGxpcHNlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBlYXJjdXQsIHByZW11bHRpcGx5VGludCwgZGVwcmVjYXRpb24sIGhleDJyZ2IgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBXUkFQX01PREVTLCBEUkFXX01PREVTLCBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBCb3VuZHMsIENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG4vKipcbiAqIFN1cHBvcnRlZCBsaW5lIGpvaW50cyBpbiBgUElYSS5MaW5lU3R5bGVgIGZvciBncmFwaGljcy5cbiAqXG4gKiBAc2VlIFBJWEkuR3JhcGhpY3MjbGluZVN0eWxlXG4gKiBAc2VlIGh0dHBzOi8vZ3JhcGhpY2Rlc2lnbi5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvNTkwMTgvd2hhdC1pcy1hLWJldmVsLWpvaW4tb2YtdHdvLWxpbmVzLWV4YWN0bHktaWxsdXN0cmF0b3JcbiAqXG4gKiBAbmFtZSBMSU5FX0pPSU5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7c3RyaW5nfVxuICogQHByb3BlcnR5IHtzdHJpbmd9IE1JVEVSIC0gJ21pdGVyJzogbWFrZSBhIHNoYXJwIGNvcm5lciB3aGVyZSBvdXRlciBwYXJ0IG9mIGxpbmVzIG1lZXRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBCRVZFTCAtICdiZXZlbCc6IGFkZCBhIHNxdWFyZSBidXR0IGF0IGVhY2ggZW5kIG9mIGxpbmUgc2VnbWVudCBhbmQgZmlsbCB0aGUgdHJpYW5nbGUgYXQgdHVyblxuICogQHByb3BlcnR5IHtzdHJpbmd9IFJPVU5EIC0gJ3JvdW5kJzogYWRkIGFuIGFyYyBhdCB0aGUgam9pbnRcbiAqL1xudmFyIExJTkVfSk9JTjtcbihmdW5jdGlvbiAoTElORV9KT0lOKSB7XG4gICAgTElORV9KT0lOW1wiTUlURVJcIl0gPSBcIm1pdGVyXCI7XG4gICAgTElORV9KT0lOW1wiQkVWRUxcIl0gPSBcImJldmVsXCI7XG4gICAgTElORV9KT0lOW1wiUk9VTkRcIl0gPSBcInJvdW5kXCI7XG59KShMSU5FX0pPSU4gfHwgKExJTkVfSk9JTiA9IHt9KSk7XG4vKipcbiAqIFN1cHBvcnQgbGluZSBjYXBzIGluIGBQSVhJLkxpbmVTdHlsZWAgZm9yIGdyYXBoaWNzLlxuICpcbiAqIEBzZWUgUElYSS5HcmFwaGljcyNsaW5lU3R5bGVcbiAqXG4gKiBAbmFtZSBMSU5FX0NBUFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gQlVUVCAtICdidXR0JzogZG9uJ3QgYWRkIGFueSBjYXAgYXQgbGluZSBlbmRzIChsZWF2ZXMgb3J0aG9nb25hbCBlZGdlcylcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBST1VORCAtICdyb3VuZCc6IGFkZCBzZW1pY2lyY2xlIGF0IGVuZHNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBTUVVBUkUgLSAnc3F1YXJlJzogYWRkIHNxdWFyZSBhdCBlbmQgKGxpa2UgYEJVVFRgIGV4Y2VwdCBtb3JlIGxlbmd0aCBhdCBlbmQpXG4gKi9cbnZhciBMSU5FX0NBUDtcbihmdW5jdGlvbiAoTElORV9DQVApIHtcbiAgICBMSU5FX0NBUFtcIkJVVFRcIl0gPSBcImJ1dHRcIjtcbiAgICBMSU5FX0NBUFtcIlJPVU5EXCJdID0gXCJyb3VuZFwiO1xuICAgIExJTkVfQ0FQW1wiU1FVQVJFXCJdID0gXCJzcXVhcmVcIjtcbn0pKExJTkVfQ0FQIHx8IChMSU5FX0NBUCA9IHt9KSk7XG4vKipcbiAqIEdyYXBoaWNzIGN1cnZlcyByZXNvbHV0aW9uIHNldHRpbmdzLiBJZiBgYWRhcHRpdmVgIGZsYWcgaXMgc2V0IHRvIGB0cnVlYCxcbiAqIHRoZSByZXNvbHV0aW9uIGlzIGNhbGN1bGF0ZWQgYmFzZWQgb24gdGhlIGN1cnZlJ3MgbGVuZ3RoIHRvIGVuc3VyZSBiZXR0ZXIgdmlzdWFsIHF1YWxpdHkuXG4gKiBBZGFwdGl2ZSBkcmF3IHdvcmtzIHdpdGggYGJlemllckN1cnZlVG9gIGFuZCBgcXVhZHJhdGljQ3VydmVUb2AuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgR1JBUEhJQ1NfQ1VSVkVTXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtib29sZWFufSBhZGFwdGl2ZT1mYWxzZSAtIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUgcmVzb2x1dGlvbiBzaG91bGQgYmUgYWRhcHRpdmVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhMZW5ndGg9MTAgLSBtYXhpbWFsIGxlbmd0aCBvZiBhIHNpbmdsZSBzZWdtZW50IG9mIHRoZSBjdXJ2ZSAoaWYgYWRhcHRpdmUgPSBmYWxzZSwgaWdub3JlZClcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5TZWdtZW50cz04IC0gbWluaW1hbCBudW1iZXIgb2Ygc2VnbWVudHMgaW4gdGhlIGN1cnZlIChpZiBhZGFwdGl2ZSA9IGZhbHNlLCBpZ25vcmVkKVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFNlZ21lbnRzPTIwNDggLSBtYXhpbWFsIG51bWJlciBvZiBzZWdtZW50cyBpbiB0aGUgY3VydmUgKGlmIGFkYXB0aXZlID0gZmFsc2UsIGlnbm9yZWQpXG4gKi9cbnZhciBHUkFQSElDU19DVVJWRVMgPSB7XG4gICAgYWRhcHRpdmU6IHRydWUsXG4gICAgbWF4TGVuZ3RoOiAxMCxcbiAgICBtaW5TZWdtZW50czogOCxcbiAgICBtYXhTZWdtZW50czogMjA0OCxcbiAgICBlcHNpbG9uOiAwLjAwMDEsXG4gICAgX3NlZ21lbnRzQ291bnQ6IGZ1bmN0aW9uIChsZW5ndGgsIGRlZmF1bHRTZWdtZW50cykge1xuICAgICAgICBpZiAoZGVmYXVsdFNlZ21lbnRzID09PSB2b2lkIDApIHsgZGVmYXVsdFNlZ21lbnRzID0gMjA7IH1cbiAgICAgICAgaWYgKCF0aGlzLmFkYXB0aXZlIHx8ICFsZW5ndGggfHwgaXNOYU4obGVuZ3RoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRTZWdtZW50cztcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gTWF0aC5jZWlsKGxlbmd0aCAvIHRoaXMubWF4TGVuZ3RoKTtcbiAgICAgICAgaWYgKHJlc3VsdCA8IHRoaXMubWluU2VnbWVudHMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubWluU2VnbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVzdWx0ID4gdGhpcy5tYXhTZWdtZW50cykge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tYXhTZWdtZW50cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG59O1xuXG4vKipcbiAqIEZpbGwgc3R5bGUgb2JqZWN0IGZvciBHcmFwaGljcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBGaWxsU3R5bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmlsbFN0eWxlKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhleCBjb2xvciB2YWx1ZSB1c2VkIHdoZW4gY29sb3JpbmcgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb2xvciA9IDB4RkZGRkZGO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFscGhhIHZhbHVlIHVzZWQgd2hlbiBmaWxsaW5nIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbHBoYSA9IDEuMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHRvIGJlIHVzZWQgZm9yIHRoZSBmaWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IFRleHR1cmUuV0hJVEU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhbnNmb3JtIGFwbHBpZWQgdG8gdGhlIHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hdHJpeCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgY3VycmVudCBmaWxsIGlzIHZpc2libGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5GaWxsU3R5bGV9XG4gICAgICovXG4gICAgRmlsbFN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9iaiA9IG5ldyBGaWxsU3R5bGUoKTtcbiAgICAgICAgb2JqLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgb2JqLmFscGhhID0gdGhpcy5hbHBoYTtcbiAgICAgICAgb2JqLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgIG9iai5tYXRyaXggPSB0aGlzLm1hdHJpeDtcbiAgICAgICAgb2JqLnZpc2libGUgPSB0aGlzLnZpc2libGU7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldFxuICAgICAqL1xuICAgIEZpbGxTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29sb3IgPSAweEZGRkZGRjtcbiAgICAgICAgdGhpcy5hbHBoYSA9IDE7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IFRleHR1cmUuV0hJVEU7XG4gICAgICAgIHRoaXMubWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpc1xuICAgICAqL1xuICAgIEZpbGxTdHlsZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5tYXRyaXggPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbGxTdHlsZTtcbn0oKSk7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIEJ1aWxkcyBhIHBvbHlnb24gdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkUG9seSA9IHtcbiAgICBidWlsZDogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSkge1xuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gZ3JhcGhpY3NEYXRhLnNoYXBlLnBvaW50cy5zbGljZSgpO1xuICAgIH0sXG4gICAgdHJpYW5ndWxhdGU6IGZ1bmN0aW9uIChncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciBob2xlcyA9IGdyYXBoaWNzRGF0YS5ob2xlcztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA+PSA2KSB7XG4gICAgICAgICAgICB2YXIgaG9sZUFycmF5ID0gW107XG4gICAgICAgICAgICAvLyBQcm9jZXNzIGhvbGVzLi5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9sZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaG9sZSA9IGhvbGVzW2ldO1xuICAgICAgICAgICAgICAgIGhvbGVBcnJheS5wdXNoKHBvaW50cy5sZW5ndGggLyAyKTtcbiAgICAgICAgICAgICAgICBwb2ludHMgPSBwb2ludHMuY29uY2F0KGhvbGUucG9pbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNvcnQgY29sb3JcbiAgICAgICAgICAgIHZhciB0cmlhbmdsZXMgPSBlYXJjdXQocG9pbnRzLCBob2xlQXJyYXksIDIpO1xuICAgICAgICAgICAgaWYgKCF0cmlhbmdsZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAxXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVydFBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG4vLyBmb3IgdHlwZSBvbmx5XG4vKipcbiAqIEJ1aWxkcyBhIGNpcmNsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCB0byBkcmF3XG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkQ2lyY2xlID0ge1xuICAgIGJ1aWxkOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhKSB7XG4gICAgICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgICAgICB2YXIgY2lyY2xlRGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciB4ID0gY2lyY2xlRGF0YS54O1xuICAgICAgICB2YXIgeSA9IGNpcmNsZURhdGEueTtcbiAgICAgICAgdmFyIHdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0O1xuICAgICAgICBwb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgLy8gVE9ETyAtIGJpdCBoYWNreT8/XG4gICAgICAgIGlmIChncmFwaGljc0RhdGEudHlwZSA9PT0gU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgICAgIHdpZHRoID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgICAgICAgICBoZWlnaHQgPSBjaXJjbGVEYXRhLnJhZGl1cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBlbGxpcHNlRGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgICAgIHdpZHRoID0gZWxsaXBzZURhdGEud2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSBlbGxpcHNlRGF0YS5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpZHRoID09PSAwIHx8IGhlaWdodCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0b3RhbFNlZ3MgPSBNYXRoLmZsb29yKDMwICogTWF0aC5zcXJ0KGNpcmNsZURhdGEucmFkaXVzKSlcbiAgICAgICAgICAgIHx8IE1hdGguZmxvb3IoMTUgKiBNYXRoLnNxcnQod2lkdGggKyBoZWlnaHQpKTtcbiAgICAgICAgdG90YWxTZWdzIC89IDIuMztcbiAgICAgICAgdmFyIHNlZyA9IChNYXRoLlBJICogMikgLyB0b3RhbFNlZ3M7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxTZWdzIC0gMC41OyBpKyspIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHggKyAoTWF0aC5zaW4oLXNlZyAqIGkpICogd2lkdGgpLCB5ICsgKE1hdGguY29zKC1zZWcgKiBpKSAqIGhlaWdodCkpO1xuICAgICAgICB9XG4gICAgICAgIHBvaW50cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICB9LFxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICAgICAgdmFyIGNlbnRlciA9IHZlcnRQb3M7XG4gICAgICAgIHZhciBjaXJjbGUgPSAoZ3JhcGhpY3NEYXRhLnNoYXBlKTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IGdyYXBoaWNzRGF0YS5tYXRyaXg7XG4gICAgICAgIHZhciB4ID0gY2lyY2xlLng7XG4gICAgICAgIHZhciB5ID0gY2lyY2xlLnk7XG4gICAgICAgIC8vIFB1c2ggY2VudGVyIChzcGVjaWFsIHBvaW50KVxuICAgICAgICB2ZXJ0cy5wdXNoKGdyYXBoaWNzRGF0YS5tYXRyaXggPyAobWF0cml4LmEgKiB4KSArIChtYXRyaXguYyAqIHkpICsgbWF0cml4LnR4IDogeCwgZ3JhcGhpY3NEYXRhLm1hdHJpeCA/IChtYXRyaXguYiAqIHgpICsgKG1hdHJpeC5kICogeSkgKyBtYXRyaXgudHkgOiB5KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldLCBwb2ludHNbaSArIDFdKTtcbiAgICAgICAgICAgIC8vIGFkZCBzb21lIHV2c1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZlcnRQb3MrKywgY2VudGVyLCB2ZXJ0UG9zKTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG4vKipcbiAqIEJ1aWxkcyBhIHJlY3RhbmdsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG52YXIgYnVpbGRSZWN0YW5nbGUgPSB7XG4gICAgYnVpbGQ6IGZ1bmN0aW9uIChncmFwaGljc0RhdGEpIHtcbiAgICAgICAgLy8gLS0tIC8vXG4gICAgICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgICAgICAvL1xuICAgICAgICB2YXIgcmVjdERhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgICAgIHZhciB4ID0gcmVjdERhdGEueDtcbiAgICAgICAgdmFyIHkgPSByZWN0RGF0YS55O1xuICAgICAgICB2YXIgd2lkdGggPSByZWN0RGF0YS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHJlY3REYXRhLmhlaWdodDtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICBwb2ludHMucHVzaCh4LCB5LCB4ICsgd2lkdGgsIHksIHggKyB3aWR0aCwgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCk7XG4gICAgfSxcbiAgICB0cmlhbmd1bGF0ZTogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICAgICAgdmVydHMucHVzaChwb2ludHNbMF0sIHBvaW50c1sxXSwgcG9pbnRzWzJdLCBwb2ludHNbM10sIHBvaW50c1s2XSwgcG9pbnRzWzddLCBwb2ludHNbNF0sIHBvaW50c1s1XSk7XG4gICAgICAgIGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcy5wdXNoKHZlcnRQb3MsIHZlcnRQb3MgKyAxLCB2ZXJ0UG9zICsgMiwgdmVydFBvcyArIDEsIHZlcnRQb3MgKyAyLCB2ZXJ0UG9zICsgMyk7XG4gICAgfSxcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlIGEgc2luZ2xlIHBvaW50IGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHVzZWQgYnkgcXVhZHJhdGljQmV6aWVyQ3VydmUuXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4xIC0gZmlyc3QgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gbjIgLSBzZWNvbmQgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gcGVyYyAtIHBlcmNlbnRhZ2VcbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIHJlc3VsdFxuICpcbiAqL1xuZnVuY3Rpb24gZ2V0UHQobjEsIG4yLCBwZXJjKSB7XG4gICAgdmFyIGRpZmYgPSBuMiAtIG4xO1xuICAgIHJldHVybiBuMSArIChkaWZmICogcGVyYyk7XG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuIChoZWxwZXIgZnVuY3Rpb24uLilcbiAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0gT3JpZ2luIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIE9yaWdpbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyW119IFtvdXQ9W11dIC0gVGhlIG91dHB1dCBhcnJheSB0byBhZGQgcG9pbnRzIGludG8uIElmIG5vdCBwYXNzZWQsIGEgbmV3IGFycmF5IGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gYW4gYXJyYXkgb2YgcG9pbnRzXG4gKi9cbmZ1bmN0aW9uIHF1YWRyYXRpY0JlemllckN1cnZlKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZLCBvdXQpIHtcbiAgICBpZiAob3V0ID09PSB2b2lkIDApIHsgb3V0ID0gW107IH1cbiAgICB2YXIgbiA9IDIwO1xuICAgIHZhciBwb2ludHMgPSBvdXQ7XG4gICAgdmFyIHhhID0gMDtcbiAgICB2YXIgeWEgPSAwO1xuICAgIHZhciB4YiA9IDA7XG4gICAgdmFyIHliID0gMDtcbiAgICB2YXIgeCA9IDA7XG4gICAgdmFyIHkgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgaiA9IGkgLyBuO1xuICAgICAgICAvLyBUaGUgR3JlZW4gTGluZVxuICAgICAgICB4YSA9IGdldFB0KGZyb21YLCBjcFgsIGopO1xuICAgICAgICB5YSA9IGdldFB0KGZyb21ZLCBjcFksIGopO1xuICAgICAgICB4YiA9IGdldFB0KGNwWCwgdG9YLCBqKTtcbiAgICAgICAgeWIgPSBnZXRQdChjcFksIHRvWSwgaik7XG4gICAgICAgIC8vIFRoZSBCbGFjayBEb3RcbiAgICAgICAgeCA9IGdldFB0KHhhLCB4Yiwgaik7XG4gICAgICAgIHkgPSBnZXRQdCh5YSwgeWIsIGopO1xuICAgICAgICBwb2ludHMucHVzaCh4LCB5KTtcbiAgICB9XG4gICAgcmV0dXJuIHBvaW50cztcbn1cbi8qKlxuICogQnVpbGRzIGEgcm91bmRlZCByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkUm91bmRlZFJlY3RhbmdsZSA9IHtcbiAgICBidWlsZDogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSkge1xuICAgICAgICB2YXIgcnJlY3REYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHggPSBycmVjdERhdGEueDtcbiAgICAgICAgdmFyIHkgPSBycmVjdERhdGEueTtcbiAgICAgICAgdmFyIHdpZHRoID0gcnJlY3REYXRhLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcnJlY3REYXRhLmhlaWdodDtcbiAgICAgICAgLy8gRG9uJ3QgYWxsb3cgbmVnYXRpdmUgcmFkaXVzIG9yIGdyZWF0ZXIgdGhhbiBoYWxmIHRoZSBzbWFsbGVzdCB3aWR0aFxuICAgICAgICB2YXIgcmFkaXVzID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ocnJlY3REYXRhLnJhZGl1cywgTWF0aC5taW4od2lkdGgsIGhlaWdodCkgLyAyKSk7XG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICAvLyBObyByYWRpdXMsIGRvIGEgc2ltcGxlIHJlY3RhbmdsZVxuICAgICAgICBpZiAoIXJhZGl1cykge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeCwgeSwgeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCwgeSArIHJhZGl1cywgeCwgeSwgeCArIHJhZGl1cywgeSwgcG9pbnRzKTtcbiAgICAgICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyB3aWR0aCAtIHJhZGl1cywgeSwgeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyByYWRpdXMsIHBvaW50cyk7XG4gICAgICAgICAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgd2lkdGgsIHkgKyBoZWlnaHQgLSByYWRpdXMsIHggKyB3aWR0aCwgeSArIGhlaWdodCwgeCArIHdpZHRoIC0gcmFkaXVzLCB5ICsgaGVpZ2h0LCBwb2ludHMpO1xuICAgICAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHJhZGl1cywgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCAtIHJhZGl1cywgcG9pbnRzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzIHRpbnkgbnVtYmVyIGRlYWxzIHdpdGggdGhlIGlzc3VlIHRoYXQgb2NjdXJzIHdoZW4gcG9pbnRzIG92ZXJsYXAgYW5kIGVhcmN1dCBmYWlscyB0byB0cmlhbmd1bGF0ZSB0aGUgaXRlbS5cbiAgICAgICAgLy8gVE9ETyAtIGZpeCB0aGlzIHByb3Blcmx5LCB0aGlzIGlzIG5vdCB2ZXJ5IGVsZWdhbnQuLiBidXQgaXQgd29ya3MgZm9yIG5vdy5cbiAgICB9LFxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gICAgICAgIHZhciB2ZWNQb3MgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICAgICAgICB2YXIgdHJpYW5nbGVzID0gZWFyY3V0KHBvaW50cywgbnVsbCwgMik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdHJpYW5nbGVzLmxlbmd0aDsgaSA8IGo7IGkgKz0gMykge1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICAvLyAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAxXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICAvLyAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHBvaW50cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldLCBwb2ludHNbKytpXSk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuLyoqXG4gKiBCdWZmZXJzIHZlcnRpY2VzIHRvIGRyYXcgYSBzcXVhcmUgY2FwLlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFgtY29vcmQgb2YgZW5kIHBvaW50XG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFktY29vcmQgb2YgZW5kIHBvaW50XG4gKiBAcGFyYW0ge251bWJlcn0gbnggLSBYLWNvb3JkIG9mIGxpbmUgbm9ybWFsIHBvaW50aW5nIGluc2lkZVxuICogQHBhcmFtIHtudW1iZXJ9IG55IC0gWS1jb29yZCBvZiBsaW5lIG5vcm1hbCBwb2ludGluZyBpbnNpZGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gdmVydHMgLSB2ZXJ0ZXggYnVmZmVyXG4gKiBAcmV0dXJucyB7fVxuICovXG5mdW5jdGlvbiBzcXVhcmUoeCwgeSwgbngsIG55LCBpbm5lcldlaWdodCwgb3V0ZXJXZWlnaHQsIGNsb2Nrd2lzZSwgLyogcm90YXRpb24gZm9yIHNxdWFyZSAodHJ1ZSBhdCBsZWZ0IGVuZCwgZmFsc2UgYXQgcmlnaHQgZW5kKSAqLyB2ZXJ0cykge1xuICAgIHZhciBpeCA9IHggLSAobnggKiBpbm5lcldlaWdodCk7XG4gICAgdmFyIGl5ID0geSAtIChueSAqIGlubmVyV2VpZ2h0KTtcbiAgICB2YXIgb3ggPSB4ICsgKG54ICogb3V0ZXJXZWlnaHQpO1xuICAgIHZhciBveSA9IHkgKyAobnkgKiBvdXRlcldlaWdodCk7XG4gICAgLyogUm90YXRlIG54LG55IGZvciBleHRlbnNpb24gdmVjdG9yICovXG4gICAgdmFyIGV4eDtcbiAgICB2YXIgZXl5O1xuICAgIGlmIChjbG9ja3dpc2UpIHtcbiAgICAgICAgZXh4ID0gbnk7XG4gICAgICAgIGV5eSA9IC1ueDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV4eCA9IC1ueTtcbiAgICAgICAgZXl5ID0gbng7XG4gICAgfVxuICAgIC8qIFtpfDBdeCx5IGV4dGVuZGVkIGF0IGNhcCAqL1xuICAgIHZhciBlaXggPSBpeCArIGV4eDtcbiAgICB2YXIgZWl5ID0gaXkgKyBleXk7XG4gICAgdmFyIGVveCA9IG94ICsgZXh4O1xuICAgIHZhciBlb3kgPSBveSArIGV5eTtcbiAgICAvKiBTcXVhcmUgaXRzZWxmIG11c3QgYmUgaW5zZXJ0ZWQgY2xvY2t3aXNlKi9cbiAgICB2ZXJ0cy5wdXNoKGVpeCwgZWl5KTtcbiAgICB2ZXJ0cy5wdXNoKGVveCwgZW95KTtcbiAgICByZXR1cm4gMjtcbn1cbi8qKlxuICogQnVmZmVycyB2ZXJ0aWNlcyB0byBkcmF3IGFuIGFyYyBhdCB0aGUgbGluZSBqb2ludCBvciBjYXAuXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBjeCAtIFgtY29vcmQgb2YgY2VudGVyXG4gKiBAcGFyYW0ge251bWJlcn0gY3kgLSBZLWNvb3JkIG9mIGNlbnRlclxuICogQHBhcmFtIHtudW1iZXJ9IHN4IC0gWC1jb29yZCBvZiBhcmMgc3RhcnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBzeSAtIFktY29vcmQgb2YgYXJjIHN0YXJ0XG4gKiBAcGFyYW0ge251bWJlcn0gZXggLSBYLWNvb3JkIG9mIGFyYyBlbmRcbiAqIEBwYXJhbSB7bnVtYmVyfSBleSAtIFktY29vcmQgb2YgYXJjIGVuZFxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB2ZXJ0cyAtIGJ1ZmZlciBvZiB2ZXJ0aWNlc1xuICogQHBhcmFtIHtib29sZWFufSBjbG9ja3dpc2UgLSBvcmllbnRhdGlvbiBvZiB2ZXJ0aWNlc1xuICogQHJldHVybnMge251bWJlcn0gLSBuby4gb2YgdmVydGljZXMgcHVzaGVkXG4gKi9cbmZ1bmN0aW9uIHJvdW5kKGN4LCBjeSwgc3gsIHN5LCBleCwgZXksIHZlcnRzLCBjbG9ja3dpc2UpIHtcbiAgICB2YXIgY3gycDB4ID0gc3ggLSBjeDtcbiAgICB2YXIgY3kycDB5ID0gc3kgLSBjeTtcbiAgICB2YXIgYW5nbGUwID0gTWF0aC5hdGFuMihjeDJwMHgsIGN5MnAweSk7XG4gICAgdmFyIGFuZ2xlMSA9IE1hdGguYXRhbjIoZXggLSBjeCwgZXkgLSBjeSk7XG4gICAgaWYgKGNsb2Nrd2lzZSAmJiBhbmdsZTAgPCBhbmdsZTEpIHtcbiAgICAgICAgYW5nbGUwICs9IE1hdGguUEkgKiAyO1xuICAgIH1cbiAgICBlbHNlIGlmICghY2xvY2t3aXNlICYmIGFuZ2xlMCA+IGFuZ2xlMSkge1xuICAgICAgICBhbmdsZTEgKz0gTWF0aC5QSSAqIDI7XG4gICAgfVxuICAgIHZhciBzdGFydEFuZ2xlID0gYW5nbGUwO1xuICAgIHZhciBhbmdsZURpZmYgPSBhbmdsZTEgLSBhbmdsZTA7XG4gICAgdmFyIGFic0FuZ2xlRGlmZiA9IE1hdGguYWJzKGFuZ2xlRGlmZik7XG4gICAgLyogaWYgKGFic0FuZ2xlRGlmZiA+PSBQSV9MQk9VTkQgJiYgYWJzQW5nbGVEaWZmIDw9IFBJX1VCT1VORClcbiAgICB7XG4gICAgICAgIGNvbnN0IHIxeCA9IGN4IC0gbnh0UHg7XG4gICAgICAgIGNvbnN0IHIxeSA9IGN5IC0gbnh0UHk7XG5cbiAgICAgICAgaWYgKHIxeCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHIxeSA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYW5nbGVEaWZmID0gLWFuZ2xlRGlmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyMXggPj0gLUdSQVBISUNTX0NVUlZFUy5lcHNpbG9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBhbmdsZURpZmYgPSAtYW5nbGVEaWZmO1xuICAgICAgICB9XG4gICAgfSovXG4gICAgdmFyIHJhZGl1cyA9IE1hdGguc3FydCgoY3gycDB4ICogY3gycDB4KSArIChjeTJwMHkgKiBjeTJwMHkpKTtcbiAgICB2YXIgc2VnQ291bnQgPSAoKDE1ICogYWJzQW5nbGVEaWZmICogTWF0aC5zcXJ0KHJhZGl1cykgLyBNYXRoLlBJKSA+PiAwKSArIDE7XG4gICAgdmFyIGFuZ2xlSW5jID0gYW5nbGVEaWZmIC8gc2VnQ291bnQ7XG4gICAgc3RhcnRBbmdsZSArPSBhbmdsZUluYztcbiAgICBpZiAoY2xvY2t3aXNlKSB7XG4gICAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICAgICAgdmVydHMucHVzaChzeCwgc3kpO1xuICAgICAgICBmb3IgKHZhciBpID0gMSwgYW5nbGUgPSBzdGFydEFuZ2xlOyBpIDwgc2VnQ291bnQ7IGkrKywgYW5nbGUgKz0gYW5nbGVJbmMpIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goY3ggKyAoKE1hdGguc2luKGFuZ2xlKSAqIHJhZGl1cykpLCBjeSArICgoTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzKSkpO1xuICAgICAgICB9XG4gICAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICAgICAgdmVydHMucHVzaChleCwgZXkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmVydHMucHVzaChzeCwgc3kpO1xuICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAxLCBhbmdsZSA9IHN0YXJ0QW5nbGU7IGkgPCBzZWdDb3VudDsgaSsrLCBhbmdsZSArPSBhbmdsZUluYykge1xuICAgICAgICAgICAgdmVydHMucHVzaChjeCArICgoTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzKSksIGN5ICsgKChNYXRoLmNvcyhhbmdsZSkgKiByYWRpdXMpKSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgICAgIH1cbiAgICAgICAgdmVydHMucHVzaChleCwgZXkpO1xuICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgfVxuICAgIHJldHVybiBzZWdDb3VudCAqIDI7XG59XG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhdyB1c2luZyB0aGUgcG9seWdvbiBtZXRob2QuXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gZ3JhcGhpY3NHZW9tZXRyeSAtIEdlb21ldHJ5IHdoZXJlIHRvIGFwcGVuZCBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gYnVpbGROb25OYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgIHZhciBzaGFwZSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cyB8fCBzaGFwZS5wb2ludHMuc2xpY2UoKTtcbiAgICB2YXIgZXBzID0gZ3JhcGhpY3NHZW9tZXRyeS5jbG9zZVBvaW50RXBzO1xuICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gaWYgdGhlIGxpbmUgd2lkdGggaXMgYW4gb2RkIG51bWJlciBhZGQgMC41IHRvIGFsaWduIHRvIGEgd2hvbGUgcGl4ZWxcbiAgICAvLyBjb21tZW50aW5nIHRoaXMgb3V0IGZpeGVzICM3MTEgYW5kICMxNjIwXG4gICAgLy8gaWYgKGdyYXBoaWNzRGF0YS5saW5lV2lkdGglMilcbiAgICAvLyB7XG4gICAgLy8gICAgIGZvciAoaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspXG4gICAgLy8gICAgIHtcbiAgICAvLyAgICAgICAgIHBvaW50c1tpXSArPSAwLjU7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG4gICAgdmFyIHN0eWxlID0gZ3JhcGhpY3NEYXRhLmxpbmVTdHlsZTtcbiAgICAvLyBnZXQgZmlyc3QgYW5kIGxhc3QgcG9pbnQuLiBmaWd1cmUgb3V0IHRoZSBtaWRkbGUhXG4gICAgdmFyIGZpcnN0UG9pbnQgPSBuZXcgUG9pbnQocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuICAgIHZhciBsYXN0UG9pbnQgPSBuZXcgUG9pbnQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgdmFyIGNsb3NlZFNoYXBlID0gc2hhcGUudHlwZSAhPT0gU0hBUEVTLlBPTFkgfHwgc2hhcGUuY2xvc2VTdHJva2U7XG4gICAgdmFyIGNsb3NlZFBhdGggPSBNYXRoLmFicyhmaXJzdFBvaW50LnggLSBsYXN0UG9pbnQueCkgPCBlcHNcbiAgICAgICAgJiYgTWF0aC5hYnMoZmlyc3RQb2ludC55IC0gbGFzdFBvaW50LnkpIDwgZXBzO1xuICAgIC8vIGlmIHRoZSBmaXJzdCBwb2ludCBpcyB0aGUgbGFzdCBwb2ludCAtIGdvbm5hIGhhdmUgaXNzdWVzIDopXG4gICAgaWYgKGNsb3NlZFNoYXBlKSB7XG4gICAgICAgIC8vIG5lZWQgdG8gY2xvbmUgYXMgd2UgYXJlIGdvaW5nIHRvIHNsaWdodGx5IG1vZGlmeSB0aGUgc2hhcGUuLlxuICAgICAgICBwb2ludHMgPSBwb2ludHMuc2xpY2UoKTtcbiAgICAgICAgaWYgKGNsb3NlZFBhdGgpIHtcbiAgICAgICAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgICAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgICAgICAgIGxhc3RQb2ludC5zZXQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1pZFBvaW50WCA9IChmaXJzdFBvaW50LnggKyBsYXN0UG9pbnQueCkgKiAwLjU7XG4gICAgICAgIHZhciBtaWRQb2ludFkgPSAobGFzdFBvaW50LnkgKyBmaXJzdFBvaW50LnkpICogMC41O1xuICAgICAgICBwb2ludHMudW5zaGlmdChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgICAgIHBvaW50cy5wdXNoKG1pZFBvaW50WCwgbWlkUG9pbnRZKTtcbiAgICB9XG4gICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgdmFyIGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICAgIHZhciBpbmRleENvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICB2YXIgaW5kZXhTdGFydCA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgLy8gTWF4LiBpbm5lciBhbmQgb3V0ZXIgd2lkdGhcbiAgICB2YXIgd2lkdGggPSBzdHlsZS53aWR0aCAvIDI7XG4gICAgdmFyIHdpZHRoU3F1YXJlZCA9IHdpZHRoICogd2lkdGg7XG4gICAgdmFyIG1pdGVyTGltaXRTcXVhcmVkID0gc3R5bGUubWl0ZXJMaW1pdCAqIHN0eWxlLm1pdGVyTGltaXQ7XG4gICAgLyogTGluZSBzZWdtZW50cyBvZiBpbnRlcmVzdCB3aGVyZSAoeDEseTEpIGZvcm1zIHRoZSBjb3JuZXIuICovXG4gICAgdmFyIHgwID0gcG9pbnRzWzBdO1xuICAgIHZhciB5MCA9IHBvaW50c1sxXTtcbiAgICB2YXIgeDEgPSBwb2ludHNbMl07XG4gICAgdmFyIHkxID0gcG9pbnRzWzNdO1xuICAgIHZhciB4MiA9IDA7XG4gICAgdmFyIHkyID0gMDtcbiAgICAvKiBwZXJwWz9dKHh8eSkgPSB0aGUgbGluZSBub3JtYWwgd2l0aCBtYWduaXR1ZGUgbGluZVdpZHRoLiAqL1xuICAgIHZhciBwZXJweCA9IC0oeTAgLSB5MSk7XG4gICAgdmFyIHBlcnB5ID0geDAgLSB4MTtcbiAgICB2YXIgcGVycDF4ID0gMDtcbiAgICB2YXIgcGVycDF5ID0gMDtcbiAgICB2YXIgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcbiAgICB2YXIgcmF0aW8gPSBzdHlsZS5hbGlnbm1lbnQ7IC8vIDAuNTtcbiAgICB2YXIgaW5uZXJXZWlnaHQgPSAoMSAtIHJhdGlvKSAqIDI7XG4gICAgdmFyIG91dGVyV2VpZ2h0ID0gcmF0aW8gKiAyO1xuICAgIGlmICghY2xvc2VkU2hhcGUpIHtcbiAgICAgICAgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuUk9VTkQpIHtcbiAgICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDAgLSAocGVycHggKiAoaW5uZXJXZWlnaHQgLSBvdXRlcldlaWdodCkgKiAwLjUpLCB5MCAtIChwZXJweSAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSksIHgwIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MCAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSwgeDAgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkwICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpLCB2ZXJ0cywgdHJ1ZSkgKyAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuU1FVQVJFKSB7XG4gICAgICAgICAgICBpbmRleENvdW50ICs9IHNxdWFyZSh4MCwgeTAsIHBlcnB4LCBwZXJweSwgaW5uZXJXZWlnaHQsIG91dGVyV2VpZ2h0LCB0cnVlLCB2ZXJ0cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUHVzaCBmaXJzdCBwb2ludCAoYmVsb3cgJiBhYm92ZSB2ZXJ0aWNlcylcbiAgICB2ZXJ0cy5wdXNoKHgwIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MCAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSk7XG4gICAgdmVydHMucHVzaCh4MCArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTAgKyAocGVycHkgKiBvdXRlcldlaWdodCkpO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgIHgwID0gcG9pbnRzWyhpIC0gMSkgKiAyXTtcbiAgICAgICAgeTAgPSBwb2ludHNbKChpIC0gMSkgKiAyKSArIDFdO1xuICAgICAgICB4MSA9IHBvaW50c1tpICogMl07XG4gICAgICAgIHkxID0gcG9pbnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgeDIgPSBwb2ludHNbKGkgKyAxKSAqIDJdO1xuICAgICAgICB5MiA9IHBvaW50c1soKGkgKyAxKSAqIDIpICsgMV07XG4gICAgICAgIHBlcnB4ID0gLSh5MCAtIHkxKTtcbiAgICAgICAgcGVycHkgPSB4MCAtIHgxO1xuICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KChwZXJweCAqIHBlcnB4KSArIChwZXJweSAqIHBlcnB5KSk7XG4gICAgICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgICAgICBwZXJweSAqPSB3aWR0aDtcbiAgICAgICAgcGVycDF4ID0gLSh5MSAtIHkyKTtcbiAgICAgICAgcGVycDF5ID0geDEgLSB4MjtcbiAgICAgICAgZGlzdCA9IE1hdGguc3FydCgocGVycDF4ICogcGVycDF4KSArIChwZXJwMXkgKiBwZXJwMXkpKTtcbiAgICAgICAgcGVycDF4IC89IGRpc3Q7XG4gICAgICAgIHBlcnAxeSAvPSBkaXN0O1xuICAgICAgICBwZXJwMXggKj0gd2lkdGg7XG4gICAgICAgIHBlcnAxeSAqPSB3aWR0aDtcbiAgICAgICAgLyogZFt4fHldKDB8MSkgPSB0aGUgY29tcG9uZW50IGRpc3BsYWNtZW50IGJldHdlZW4gcG9pbnRzIHAoMCwxfDEsMikgKi9cbiAgICAgICAgdmFyIGR4MCA9IHgxIC0geDA7XG4gICAgICAgIHZhciBkeTAgPSB5MCAtIHkxO1xuICAgICAgICB2YXIgZHgxID0geDEgLSB4MjtcbiAgICAgICAgdmFyIGR5MSA9IHkyIC0geTE7XG4gICAgICAgIC8qICt2ZSBpZiBpbnRlcm5hbCBhbmdsZSBjb3VudGVyY2xvY2t3aXNlLCAtdmUgaWYgaW50ZXJuYWwgYW5nbGUgY2xvY2t3aXNlLiAqL1xuICAgICAgICB2YXIgY3Jvc3MgPSAoZHkwICogZHgxKSAtIChkeTEgKiBkeDApO1xuICAgICAgICB2YXIgY2xvY2t3aXNlID0gKGNyb3NzIDwgMCk7XG4gICAgICAgIC8qIEdvaW5nIG5lYXJseSBzdHJhaWdodD8gKi9cbiAgICAgICAgaWYgKE1hdGguYWJzKGNyb3NzKSA8IDAuMSkge1xuICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCkpO1xuICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLyogcFt4fHldIGlzIHRoZSBtaXRlciBwb2ludC4gcGRpc3QgaXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gbWl0ZXIgcG9pbnQgYW5kIHAxLiAqL1xuICAgICAgICB2YXIgYzEgPSAoKC1wZXJweCArIHgwKSAqICgtcGVycHkgKyB5MSkpIC0gKCgtcGVycHggKyB4MSkgKiAoLXBlcnB5ICsgeTApKTtcbiAgICAgICAgdmFyIGMyID0gKCgtcGVycDF4ICsgeDIpICogKC1wZXJwMXkgKyB5MSkpIC0gKCgtcGVycDF4ICsgeDEpICogKC1wZXJwMXkgKyB5MikpO1xuICAgICAgICB2YXIgcHggPSAoKGR4MCAqIGMyKSAtIChkeDEgKiBjMSkpIC8gY3Jvc3M7XG4gICAgICAgIHZhciBweSA9ICgoZHkxICogYzEpIC0gKGR5MCAqIGMyKSkgLyBjcm9zcztcbiAgICAgICAgdmFyIHBkaXN0ID0gKChweCAtIHgxKSAqIChweCAtIHgxKSkgKyAoKHB5IC0geTEpICogKHB5IC0geTEpKTtcbiAgICAgICAgLyogSW5uZXIgbWl0ZXIgcG9pbnQgKi9cbiAgICAgICAgdmFyIGlteCA9IHgxICsgKChweCAtIHgxKSAqIGlubmVyV2VpZ2h0KTtcbiAgICAgICAgdmFyIGlteSA9IHkxICsgKChweSAtIHkxKSAqIGlubmVyV2VpZ2h0KTtcbiAgICAgICAgLyogT3V0ZXIgbWl0ZXIgcG9pbnQgKi9cbiAgICAgICAgdmFyIG9teCA9IHgxIC0gKChweCAtIHgxKSAqIG91dGVyV2VpZ2h0KTtcbiAgICAgICAgdmFyIG9teSA9IHkxIC0gKChweSAtIHkxKSAqIG91dGVyV2VpZ2h0KTtcbiAgICAgICAgLyogSXMgdGhlIGluc2lkZSBtaXRlciBwb2ludCB0b28gZmFyIGF3YXksIGNyZWF0aW5nIGEgc3Bpa2U/ICovXG4gICAgICAgIHZhciBzbWFsbGVySW5zaWRlU2VnbWVudFNxID0gTWF0aC5taW4oKGR4MCAqIGR4MCkgKyAoZHkwICogZHkwKSwgKGR4MSAqIGR4MSkgKyAoZHkxICogZHkxKSk7XG4gICAgICAgIHZhciBpbnNpZGVXZWlnaHQgPSBjbG9ja3dpc2UgPyBpbm5lcldlaWdodCA6IG91dGVyV2VpZ2h0O1xuICAgICAgICB2YXIgc21hbGxlckluc2lkZURpYWdvbmFsU3EgPSBzbWFsbGVySW5zaWRlU2VnbWVudFNxICsgKGluc2lkZVdlaWdodCAqIGluc2lkZVdlaWdodCAqIHdpZHRoU3F1YXJlZCk7XG4gICAgICAgIHZhciBpbnNpZGVNaXRlck9rID0gcGRpc3QgPD0gc21hbGxlckluc2lkZURpYWdvbmFsU3E7XG4gICAgICAgIGlmIChpbnNpZGVNaXRlck9rKSB7XG4gICAgICAgICAgICBpZiAoc3R5bGUuam9pbiA9PT0gTElORV9KT0lOLkJFVkVMIHx8IHBkaXN0IC8gd2lkdGhTcXVhcmVkID4gbWl0ZXJMaW1pdFNxdWFyZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2xvY2t3aXNlKSAvKiByb3RhdGluZyBhdCBpbm5lciBhbmdsZSAqLyB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpOyAvLyBpbm5lciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSk7IC8vIGZpcnN0IHNlZ21lbnQncyBvdXRlciB2ZXJ0ZXhcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7IC8vIGlubmVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyAocGVycDF4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJwMXkgKiBvdXRlcldlaWdodCkpOyAvLyBzZWNvbmQgc2VnbWVudCdzIG91dGVyIHZlcnRleFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIC8qIHJvdGF0aW5nIGF0IG91dGVyIGFuZ2xlICovIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCkpOyAvLyBmaXJzdCBzZWdtZW50J3MgaW5uZXIgdmVydGV4XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXkpOyAvLyBvdXRlciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnAxeCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycDF5ICogaW5uZXJXZWlnaHQpKTsgLy8gc2Vjb25kIHNlZ21lbnQncyBvdXRlciB2ZXJ0ZXhcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7IC8vIG91dGVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluZGV4Q291bnQgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN0eWxlLmpvaW4gPT09IExJTkVfSk9JTi5ST1VORCkge1xuICAgICAgICAgICAgICAgIGlmIChjbG9ja3dpc2UpIC8qIGFyYyBpcyBvdXRzaWRlICovIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpKTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhDb3VudCArPSByb3VuZCh4MSwgeTEsIHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSwgeDEgKyAocGVycDF4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJwMXkgKiBvdXRlcldlaWdodCksIHZlcnRzLCB0cnVlKSArIDQ7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpO1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnAxeCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycDF5ICogb3V0ZXJXZWlnaHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSAvKiBhcmMgaXMgaW5zaWRlICovIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCkpO1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhDb3VudCArPSByb3VuZCh4MSwgeTEsIHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSwgeDEgLSAocGVycDF4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJwMXkgKiBpbm5lcldlaWdodCksIHZlcnRzLCBmYWxzZSkgKyA0O1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnAxeCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycDF5ICogaW5uZXJXZWlnaHQpKTtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSAvLyBpbnNpZGUgbWl0ZXIgaXMgTk9UIG9rXG4gICAgICAgICB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSk7IC8vIGZpcnN0IHNlZ21lbnQncyBpbm5lciB2ZXJ0ZXhcbiAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpKTsgLy8gZmlyc3Qgc2VnbWVudCdzIG91dGVyIHZlcnRleFxuICAgICAgICAgICAgaWYgKHN0eWxlLmpvaW4gPT09IExJTkVfSk9JTi5CRVZFTCB8fCBwZGlzdCAvIHdpZHRoU3F1YXJlZCA+IG1pdGVyTGltaXRTcXVhcmVkKSA7XG4gICAgICAgICAgICBlbHNlIGlmIChzdHlsZS5qb2luID09PSBMSU5FX0pPSU4uUk9VTkQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2xvY2t3aXNlKSAvKiBhcmMgaXMgb3V0c2lkZSAqLyB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDEsIHkxLCB4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCksIHgxICsgKHBlcnAxeCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycDF5ICogb3V0ZXJXZWlnaHQpLCB2ZXJ0cywgdHJ1ZSkgKyAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIC8qIGFyYyBpcyBpbnNpZGUgKi8ge1xuICAgICAgICAgICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKHgxLCB5MSwgeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpLCB4MSAtIChwZXJwMXggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnAxeSAqIGlubmVyV2VpZ2h0KSwgdmVydHMsIGZhbHNlKSArIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGNsb2Nrd2lzZSkge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTsgLy8gaW5uZXIgbWl0ZXIgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7IC8vIGlubmVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTsgLy8gb3V0ZXIgbWl0ZXIgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7IC8vIG91dGVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluZGV4Q291bnQgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgLSAocGVycDF4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJwMXkgKiBpbm5lcldlaWdodCkpOyAvLyBzZWNvbmQgc2VnbWVudCdzIGlubmVyIHZlcnRleFxuICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJwMXggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnAxeSAqIG91dGVyV2VpZ2h0KSk7IC8vIHNlY29uZCBzZWdtZW50J3Mgb3V0ZXIgdmVydGV4XG4gICAgICAgICAgICBpbmRleENvdW50ICs9IDI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgeDAgPSBwb2ludHNbKGxlbmd0aCAtIDIpICogMl07XG4gICAgeTAgPSBwb2ludHNbKChsZW5ndGggLSAyKSAqIDIpICsgMV07XG4gICAgeDEgPSBwb2ludHNbKGxlbmd0aCAtIDEpICogMl07XG4gICAgeTEgPSBwb2ludHNbKChsZW5ndGggLSAxKSAqIDIpICsgMV07XG4gICAgcGVycHggPSAtKHkwIC0geTEpO1xuICAgIHBlcnB5ID0geDAgLSB4MTtcbiAgICBkaXN0ID0gTWF0aC5zcXJ0KChwZXJweCAqIHBlcnB4KSArIChwZXJweSAqIHBlcnB5KSk7XG4gICAgcGVycHggLz0gZGlzdDtcbiAgICBwZXJweSAvPSBkaXN0O1xuICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgIHBlcnB5ICo9IHdpZHRoO1xuICAgIHZlcnRzLnB1c2goeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpKTtcbiAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSk7XG4gICAgaWYgKCFjbG9zZWRTaGFwZSkge1xuICAgICAgICBpZiAoc3R5bGUuY2FwID09PSBMSU5FX0NBUC5ST1VORCkge1xuICAgICAgICAgICAgaW5kZXhDb3VudCArPSByb3VuZCh4MSAtIChwZXJweCAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSksIHkxIC0gKHBlcnB5ICogKGlubmVyV2VpZ2h0IC0gb3V0ZXJXZWlnaHQpICogMC41KSwgeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpLCB4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCksIHZlcnRzLCBmYWxzZSkgKyAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuU1FVQVJFKSB7XG4gICAgICAgICAgICBpbmRleENvdW50ICs9IHNxdWFyZSh4MSwgeTEsIHBlcnB4LCBwZXJweSwgaW5uZXJXZWlnaHQsIG91dGVyV2VpZ2h0LCBmYWxzZSwgdmVydHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgIHZhciBlcHMyID0gR1JBUEhJQ1NfQ1VSVkVTLmVwc2lsb24gKiBHUkFQSElDU19DVVJWRVMuZXBzaWxvbjtcbiAgICAvLyBpbmRpY2VzLnB1c2goaW5kZXhTdGFydCk7XG4gICAgZm9yICh2YXIgaSA9IGluZGV4U3RhcnQ7IGkgPCBpbmRleENvdW50ICsgaW5kZXhTdGFydCAtIDI7ICsraSkge1xuICAgICAgICB4MCA9IHZlcnRzWyhpICogMildO1xuICAgICAgICB5MCA9IHZlcnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgeDEgPSB2ZXJ0c1soaSArIDEpICogMl07XG4gICAgICAgIHkxID0gdmVydHNbKChpICsgMSkgKiAyKSArIDFdO1xuICAgICAgICB4MiA9IHZlcnRzWyhpICsgMikgKiAyXTtcbiAgICAgICAgeTIgPSB2ZXJ0c1soKGkgKyAyKSAqIDIpICsgMV07XG4gICAgICAgIC8qIFNraXAgemVybyBhcmVhIHRyaWFuZ2xlcyAqL1xuICAgICAgICBpZiAoTWF0aC5hYnMoKHgwICogKHkxIC0geTIpKSArICh4MSAqICh5MiAtIHkwKSkgKyAoeDIgKiAoeTAgLSB5MSkpKSA8IGVwczIpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGluZGljZXMucHVzaChpLCBpICsgMSwgaSArIDIpO1xuICAgIH1cbn1cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3IHVzaW5nIHRoZSBnbC5kcmF3QXJyYXlzKGdsLkxJTkVTKSBtZXRob2RcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBncmFwaGljc0dlb21ldHJ5IC0gR2VvbWV0cnkgd2hlcmUgdG8gYXBwZW5kIG91dHB1dFxuICovXG5mdW5jdGlvbiBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBzaGFwZSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cyB8fCBzaGFwZS5wb2ludHM7XG4gICAgdmFyIGNsb3NlZFNoYXBlID0gc2hhcGUudHlwZSAhPT0gU0hBUEVTLlBPTFkgfHwgc2hhcGUuY2xvc2VTdHJva2U7XG4gICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApXG4gICAgICAgIHsgcmV0dXJuOyB9XG4gICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gICAgdmFyIGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICAgIHZhciBzdGFydEluZGV4ID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICB2YXIgY3VycmVudEluZGV4ID0gc3RhcnRJbmRleDtcbiAgICB2ZXJ0cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmVydHMucHVzaChwb2ludHNbaSAqIDJdLCBwb2ludHNbKGkgKiAyKSArIDFdKTtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGN1cnJlbnRJbmRleCwgY3VycmVudEluZGV4ICsgMSk7XG4gICAgICAgIGN1cnJlbnRJbmRleCsrO1xuICAgIH1cbiAgICBpZiAoY2xvc2VkU2hhcGUpIHtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGN1cnJlbnRJbmRleCwgc3RhcnRJbmRleCk7XG4gICAgfVxufVxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBncmFwaGljc0dlb21ldHJ5IC0gR2VvbWV0cnkgd2hlcmUgdG8gYXBwZW5kIG91dHB1dFxuICovXG5mdW5jdGlvbiBidWlsZExpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgaWYgKGdyYXBoaWNzRGF0YS5saW5lU3R5bGUubmF0aXZlKSB7XG4gICAgICAgIGJ1aWxkTmF0aXZlTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYnVpbGROb25OYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSk7XG4gICAgfVxufVxuXG4vKipcbiAqIERyYXcgYSBzdGFyIHNoYXBlIHdpdGggYW4gYXJiaXRyYXJ5IG51bWJlciBvZiBwb2ludHMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlBvbHlnb25cbiAqIEBtZW1iZXJvZiBQSVhJLmdyYXBoaWNzVXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gQ2VudGVyIFggcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gQ2VudGVyIFkgcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludHMgLSBUaGUgbnVtYmVyIG9mIHBvaW50cyBvZiB0aGUgc3RhciwgbXVzdCBiZSA+IDFcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgb3V0ZXIgcmFkaXVzIG9mIHRoZSBzdGFyXG4gKiBAcGFyYW0ge251bWJlcn0gW2lubmVyUmFkaXVzXSAtIFRoZSBpbm5lciByYWRpdXMgYmV0d2VlbiBwb2ludHMsIGRlZmF1bHQgaGFsZiBgcmFkaXVzYFxuICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbj0wXSAtIFRoZSByb3RhdGlvbiBvZiB0aGUgc3RhciBpbiByYWRpYW5zLCB3aGVyZSAwIGlzIHZlcnRpY2FsXG4gKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gKi9cbnZhciBTdGFyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGFyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0YXIoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCByb3RhdGlvbikge1xuICAgICAgICBpZiAocm90YXRpb24gPT09IHZvaWQgMCkgeyByb3RhdGlvbiA9IDA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaW5uZXJSYWRpdXMgPSBpbm5lclJhZGl1cyB8fCByYWRpdXMgLyAyO1xuICAgICAgICB2YXIgc3RhcnRBbmdsZSA9ICgtMSAqIE1hdGguUEkgLyAyKSArIHJvdGF0aW9uO1xuICAgICAgICB2YXIgbGVuID0gcG9pbnRzICogMjtcbiAgICAgICAgdmFyIGRlbHRhID0gUElfMiAvIGxlbjtcbiAgICAgICAgdmFyIHBvbHlnb24gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHIgPSBpICUgMiA/IGlubmVyUmFkaXVzIDogcmFkaXVzO1xuICAgICAgICAgICAgdmFyIGFuZ2xlID0gKGkgKiBkZWx0YSkgKyBzdGFydEFuZ2xlO1xuICAgICAgICAgICAgcG9seWdvbi5wdXNoKHggKyAociAqIE1hdGguY29zKGFuZ2xlKSksIHkgKyAociAqIE1hdGguc2luKGFuZ2xlKSkpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9seWdvbikgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gU3Rhcjtcbn0oUG9seWdvbikpO1xuXG4vKipcbiAqIFV0aWxpdGllcyBmb3IgYXJjIGN1cnZlc1xuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgQXJjVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXJjVXRpbHMoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBhcmNUbygpIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSBiZXR3ZWVuIHR3byB0YW5nZW50cyBvbiB0aGUgY2FudmFzLlxuICAgICAqXG4gICAgICogXCJib3Jyb3dlZFwiIGZyb20gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9meGNhbnZhcy8gLSB0aGFua3MgZ29vZ2xlIVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgyIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTIgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBhcmNcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IElmIHRoZSBhcmMgbGVuZ3RoIGlzIHZhbGlkLCByZXR1cm4gY2VudGVyIG9mIGNpcmNsZSwgcmFkaXVzIGFuZCBvdGhlciBpbmZvIG90aGVyd2lzZSBgbnVsbGAuXG4gICAgICovXG4gICAgQXJjVXRpbHMuY3VydmVUbyA9IGZ1bmN0aW9uICh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzLCBwb2ludHMpIHtcbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgdmFyIGExID0gZnJvbVkgLSB5MTtcbiAgICAgICAgdmFyIGIxID0gZnJvbVggLSB4MTtcbiAgICAgICAgdmFyIGEyID0geTIgLSB5MTtcbiAgICAgICAgdmFyIGIyID0geDIgLSB4MTtcbiAgICAgICAgdmFyIG1tID0gTWF0aC5hYnMoKGExICogYjIpIC0gKGIxICogYTIpKTtcbiAgICAgICAgaWYgKG1tIDwgMS4wZS04IHx8IHJhZGl1cyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gIT09IHgxIHx8IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gIT09IHkxKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goeDEsIHkxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZCA9IChhMSAqIGExKSArIChiMSAqIGIxKTtcbiAgICAgICAgdmFyIGNjID0gKGEyICogYTIpICsgKGIyICogYjIpO1xuICAgICAgICB2YXIgdHQgPSAoYTEgKiBhMikgKyAoYjEgKiBiMik7XG4gICAgICAgIHZhciBrMSA9IHJhZGl1cyAqIE1hdGguc3FydChkZCkgLyBtbTtcbiAgICAgICAgdmFyIGsyID0gcmFkaXVzICogTWF0aC5zcXJ0KGNjKSAvIG1tO1xuICAgICAgICB2YXIgajEgPSBrMSAqIHR0IC8gZGQ7XG4gICAgICAgIHZhciBqMiA9IGsyICogdHQgLyBjYztcbiAgICAgICAgdmFyIGN4ID0gKGsxICogYjIpICsgKGsyICogYjEpO1xuICAgICAgICB2YXIgY3kgPSAoazEgKiBhMikgKyAoazIgKiBhMSk7XG4gICAgICAgIHZhciBweCA9IGIxICogKGsyICsgajEpO1xuICAgICAgICB2YXIgcHkgPSBhMSAqIChrMiArIGoxKTtcbiAgICAgICAgdmFyIHF4ID0gYjIgKiAoazEgKyBqMik7XG4gICAgICAgIHZhciBxeSA9IGEyICogKGsxICsgajIpO1xuICAgICAgICB2YXIgc3RhcnRBbmdsZSA9IE1hdGguYXRhbjIocHkgLSBjeSwgcHggLSBjeCk7XG4gICAgICAgIHZhciBlbmRBbmdsZSA9IE1hdGguYXRhbjIocXkgLSBjeSwgcXggLSBjeCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjeDogKGN4ICsgeDEpLFxuICAgICAgICAgICAgY3k6IChjeSArIHkxKSxcbiAgICAgICAgICAgIHJhZGl1czogcmFkaXVzLFxuICAgICAgICAgICAgc3RhcnRBbmdsZTogc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBlbmRBbmdsZSxcbiAgICAgICAgICAgIGFudGljbG9ja3dpc2U6IChiMSAqIGEyID4gYjIgKiBhMSksXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgLyoqXG4gICAgICogVGhlIGFyYyBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgKHVzZWQgdG8gY3JlYXRlIGNpcmNsZXMsIG9yIHBhcnRzIG9mIGNpcmNsZXMpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRYIC0gU3RhcnQgeCBsb2NhdGlvbiBvZiBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRZIC0gU3RhcnQgeSBsb2NhdGlvbiBvZiBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3ggLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEFuZ2xlIC0gVGhlIHN0YXJ0aW5nIGFuZ2xlLCBpbiByYWRpYW5zICgwIGlzIGF0IHRoZSAzIG8nY2xvY2sgcG9zaXRpb25cbiAgICAgKiAgb2YgdGhlIGFyYydzIGNpcmNsZSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kQW5nbGUgLSBUaGUgZW5kaW5nIGFuZ2xlLCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBhbnRpY2xvY2t3aXNlIC0gU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGRyYXdpbmcgc2hvdWxkIGJlXG4gICAgICogIGNvdW50ZXItY2xvY2t3aXNlIG9yIGNsb2Nrd2lzZS4gRmFsc2UgaXMgZGVmYXVsdCwgYW5kIGluZGljYXRlcyBjbG9ja3dpc2UsIHdoaWxlIHRydWVcbiAgICAgKiAgaW5kaWNhdGVzIGNvdW50ZXItY2xvY2t3aXNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIENvbGxlY3Rpb24gb2YgcG9pbnRzIHRvIGFkZCB0b1xuICAgICAqL1xuICAgIEFyY1V0aWxzLmFyYyA9IGZ1bmN0aW9uIChfc3RhcnRYLCBfc3RhcnRZLCBjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIF9hbnRpY2xvY2t3aXNlLCBwb2ludHMpIHtcbiAgICAgICAgdmFyIHN3ZWVwID0gZW5kQW5nbGUgLSBzdGFydEFuZ2xlO1xuICAgICAgICB2YXIgbiA9IEdSQVBISUNTX0NVUlZFUy5fc2VnbWVudHNDb3VudChNYXRoLmFicyhzd2VlcCkgKiByYWRpdXMsIE1hdGguY2VpbChNYXRoLmFicyhzd2VlcCkgLyBQSV8yKSAqIDQwKTtcbiAgICAgICAgdmFyIHRoZXRhID0gKHN3ZWVwKSAvIChuICogMik7XG4gICAgICAgIHZhciB0aGV0YTIgPSB0aGV0YSAqIDI7XG4gICAgICAgIHZhciBjVGhldGEgPSBNYXRoLmNvcyh0aGV0YSk7XG4gICAgICAgIHZhciBzVGhldGEgPSBNYXRoLnNpbih0aGV0YSk7XG4gICAgICAgIHZhciBzZWdNaW51cyA9IG4gLSAxO1xuICAgICAgICB2YXIgcmVtYWluZGVyID0gKHNlZ01pbnVzICUgMSkgLyBzZWdNaW51cztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gc2VnTWludXM7ICsraSkge1xuICAgICAgICAgICAgdmFyIHJlYWwgPSBpICsgKHJlbWFpbmRlciAqIGkpO1xuICAgICAgICAgICAgdmFyIGFuZ2xlID0gKCh0aGV0YSkgKyBzdGFydEFuZ2xlICsgKHRoZXRhMiAqIHJlYWwpKTtcbiAgICAgICAgICAgIHZhciBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICAgICAgdmFyIHMgPSAtTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goKCgoY1RoZXRhICogYykgKyAoc1RoZXRhICogcykpICogcmFkaXVzKSArIGN4LCAoKChjVGhldGEgKiAtcykgKyAoc1RoZXRhICogYykpICogcmFkaXVzKSArIGN5KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFyY1V0aWxzO1xufSgpKTtcblxuLyoqXG4gKiBVdGlsaXRpZXMgZm9yIGJlemllciBjdXJ2ZXNcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIEJlemllclV0aWxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJlemllclV0aWxzKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgbGVuZ3RoIG9mIGJlemllciBjdXJ2ZS5cbiAgICAgKiBBbmFseXRpY2FsIHNvbHV0aW9uIGlzIGltcG9zc2libGUsIHNpbmNlIGl0IGludm9sdmVzIGFuIGludGVncmFsIHRoYXQgZG9lcyBub3QgaW50ZWdyYXRlIGluIGdlbmVyYWwuXG4gICAgICogVGhlcmVmb3JlIG51bWVyaWNhbCBzb2x1dGlvbiBpcyB1c2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSBTdGFydGluZyBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0gU3RhcnRpbmcgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTGVuZ3RoIG9mIGJlemllciBjdXJ2ZVxuICAgICAqL1xuICAgIEJlemllclV0aWxzLmN1cnZlTGVuZ3RoID0gZnVuY3Rpb24gKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSB7XG4gICAgICAgIHZhciBuID0gMTA7XG4gICAgICAgIHZhciByZXN1bHQgPSAwLjA7XG4gICAgICAgIHZhciB0ID0gMC4wO1xuICAgICAgICB2YXIgdDIgPSAwLjA7XG4gICAgICAgIHZhciB0MyA9IDAuMDtcbiAgICAgICAgdmFyIG50ID0gMC4wO1xuICAgICAgICB2YXIgbnQyID0gMC4wO1xuICAgICAgICB2YXIgbnQzID0gMC4wO1xuICAgICAgICB2YXIgeCA9IDAuMDtcbiAgICAgICAgdmFyIHkgPSAwLjA7XG4gICAgICAgIHZhciBkeCA9IDAuMDtcbiAgICAgICAgdmFyIGR5ID0gMC4wO1xuICAgICAgICB2YXIgcHJldlggPSBmcm9tWDtcbiAgICAgICAgdmFyIHByZXZZID0gZnJvbVk7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IG47ICsraSkge1xuICAgICAgICAgICAgdCA9IGkgLyBuO1xuICAgICAgICAgICAgdDIgPSB0ICogdDtcbiAgICAgICAgICAgIHQzID0gdDIgKiB0O1xuICAgICAgICAgICAgbnQgPSAoMS4wIC0gdCk7XG4gICAgICAgICAgICBudDIgPSBudCAqIG50O1xuICAgICAgICAgICAgbnQzID0gbnQyICogbnQ7XG4gICAgICAgICAgICB4ID0gKG50MyAqIGZyb21YKSArICgzLjAgKiBudDIgKiB0ICogY3BYKSArICgzLjAgKiBudCAqIHQyICogY3BYMikgKyAodDMgKiB0b1gpO1xuICAgICAgICAgICAgeSA9IChudDMgKiBmcm9tWSkgKyAoMy4wICogbnQyICogdCAqIGNwWSkgKyAoMyAqIG50ICogdDIgKiBjcFkyKSArICh0MyAqIHRvWSk7XG4gICAgICAgICAgICBkeCA9IHByZXZYIC0geDtcbiAgICAgICAgICAgIGR5ID0gcHJldlkgLSB5O1xuICAgICAgICAgICAgcHJldlggPSB4O1xuICAgICAgICAgICAgcHJldlkgPSB5O1xuICAgICAgICAgICAgcmVzdWx0ICs9IE1hdGguc3FydCgoZHggKiBkeCkgKyAoZHkgKiBkeSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICpcbiAgICAgKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAgICAgKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBwb2ludHMgLSBQYXRoIGFycmF5IHRvIHB1c2ggcG9pbnRzIGludG9cbiAgICAgKi9cbiAgICBCZXppZXJVdGlscy5jdXJ2ZVRvID0gZnVuY3Rpb24gKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSwgcG9pbnRzKSB7XG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHBvaW50cy5sZW5ndGggLT0gMjtcbiAgICAgICAgdmFyIG4gPSBHUkFQSElDU19DVVJWRVMuX3NlZ21lbnRzQ291bnQoQmV6aWVyVXRpbHMuY3VydmVMZW5ndGgoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpKTtcbiAgICAgICAgdmFyIGR0ID0gMDtcbiAgICAgICAgdmFyIGR0MiA9IDA7XG4gICAgICAgIHZhciBkdDMgPSAwO1xuICAgICAgICB2YXIgdDIgPSAwO1xuICAgICAgICB2YXIgdDMgPSAwO1xuICAgICAgICBwb2ludHMucHVzaChmcm9tWCwgZnJvbVkpO1xuICAgICAgICBmb3IgKHZhciBpID0gMSwgaiA9IDA7IGkgPD0gbjsgKytpKSB7XG4gICAgICAgICAgICBqID0gaSAvIG47XG4gICAgICAgICAgICBkdCA9ICgxIC0gaik7XG4gICAgICAgICAgICBkdDIgPSBkdCAqIGR0O1xuICAgICAgICAgICAgZHQzID0gZHQyICogZHQ7XG4gICAgICAgICAgICB0MiA9IGogKiBqO1xuICAgICAgICAgICAgdDMgPSB0MiAqIGo7XG4gICAgICAgICAgICBwb2ludHMucHVzaCgoZHQzICogZnJvbVgpICsgKDMgKiBkdDIgKiBqICogY3BYKSArICgzICogZHQgKiB0MiAqIGNwWDIpICsgKHQzICogdG9YKSwgKGR0MyAqIGZyb21ZKSArICgzICogZHQyICogaiAqIGNwWSkgKyAoMyAqIGR0ICogdDIgKiBjcFkyKSArICh0MyAqIHRvWSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQmV6aWVyVXRpbHM7XG59KCkpO1xuXG4vKipcbiAqIFV0aWxpdGllcyBmb3IgcXVhZHJhdGljIGN1cnZlc1xuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgUXVhZHJhdGljVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUXVhZHJhdGljVXRpbHMoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBsZW5ndGggb2YgcXVhZHJhdGljIGN1cnZlXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL3d3dy5tYWxjemFrLmxpbnV4cGwuY29tL2Jsb2cvcXVhZHJhdGljLWJlemllci1jdXJ2ZS1sZW5ndGgvfVxuICAgICAqIGZvciB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb2YgbWF0aCBiZWhpbmQgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0geC1jb29yZGluYXRlIG9mIGN1cnZlIHN0YXJ0IHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0geS1jb29yZGluYXRlIG9mIGN1cnZlIHN0YXJ0IHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIHgtY29vcmRpbmF0ZSBvZiBjdXJ2ZSBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIHktY29vcmRpbmF0ZSBvZiBjdXJ2ZSBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIHgtY29vcmRpbmF0ZSBvZiBjdXJ2ZSBlbmQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0geS1jb29yZGluYXRlIG9mIGN1cnZlIGVuZCBwb2ludFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTGVuZ3RoIG9mIHF1YWRyYXRpYyBjdXJ2ZVxuICAgICAqL1xuICAgIFF1YWRyYXRpY1V0aWxzLmN1cnZlTGVuZ3RoID0gZnVuY3Rpb24gKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKSB7XG4gICAgICAgIHZhciBheCA9IGZyb21YIC0gKDIuMCAqIGNwWCkgKyB0b1g7XG4gICAgICAgIHZhciBheSA9IGZyb21ZIC0gKDIuMCAqIGNwWSkgKyB0b1k7XG4gICAgICAgIHZhciBieCA9ICgyLjAgKiBjcFgpIC0gKDIuMCAqIGZyb21YKTtcbiAgICAgICAgdmFyIGJ5ID0gKDIuMCAqIGNwWSkgLSAoMi4wICogZnJvbVkpO1xuICAgICAgICB2YXIgYSA9IDQuMCAqICgoYXggKiBheCkgKyAoYXkgKiBheSkpO1xuICAgICAgICB2YXIgYiA9IDQuMCAqICgoYXggKiBieCkgKyAoYXkgKiBieSkpO1xuICAgICAgICB2YXIgYyA9IChieCAqIGJ4KSArIChieSAqIGJ5KTtcbiAgICAgICAgdmFyIHMgPSAyLjAgKiBNYXRoLnNxcnQoYSArIGIgKyBjKTtcbiAgICAgICAgdmFyIGEyID0gTWF0aC5zcXJ0KGEpO1xuICAgICAgICB2YXIgYTMyID0gMi4wICogYSAqIGEyO1xuICAgICAgICB2YXIgYzIgPSAyLjAgKiBNYXRoLnNxcnQoYyk7XG4gICAgICAgIHZhciBiYSA9IGIgLyBhMjtcbiAgICAgICAgcmV0dXJuICgoYTMyICogcylcbiAgICAgICAgICAgICsgKGEyICogYiAqIChzIC0gYzIpKVxuICAgICAgICAgICAgKyAoKCg0LjAgKiBjICogYSkgLSAoYiAqIGIpKVxuICAgICAgICAgICAgICAgICogTWF0aC5sb2coKCgyLjAgKiBhMikgKyBiYSArIHMpIC8gKGJhICsgYzIpKSkpIC8gKDQuMCAqIGEzMik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzIC0gUG9pbnRzIHRvIGFkZCBzZWdtZW50cyB0by5cbiAgICAgKi9cbiAgICBRdWFkcmF0aWNVdGlscy5jdXJ2ZVRvID0gZnVuY3Rpb24gKGNwWCwgY3BZLCB0b1gsIHRvWSwgcG9pbnRzKSB7XG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHZhciBuID0gR1JBUEhJQ1NfQ1VSVkVTLl9zZWdtZW50c0NvdW50KFF1YWRyYXRpY1V0aWxzLmN1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKSk7XG4gICAgICAgIHZhciB4YSA9IDA7XG4gICAgICAgIHZhciB5YSA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IG47ICsraSkge1xuICAgICAgICAgICAgdmFyIGogPSBpIC8gbjtcbiAgICAgICAgICAgIHhhID0gZnJvbVggKyAoKGNwWCAtIGZyb21YKSAqIGopO1xuICAgICAgICAgICAgeWEgPSBmcm9tWSArICgoY3BZIC0gZnJvbVkpICogaik7XG4gICAgICAgICAgICBwb2ludHMucHVzaCh4YSArICgoKGNwWCArICgodG9YIC0gY3BYKSAqIGopKSAtIHhhKSAqIGopLCB5YSArICgoKGNwWSArICgodG9ZIC0gY3BZKSAqIGopKSAtIHlhKSAqIGopKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFF1YWRyYXRpY1V0aWxzO1xufSgpKTtcblxuLyoqXG4gKiBBIHN0cnVjdHVyZSB0byBob2xkIGludGVyaW0gYmF0Y2ggb2JqZWN0cyBmb3IgR3JhcGhpY3MuXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdyYXBoaWNzVXRpbHNcbiAqL1xudmFyIEJhdGNoUGFydCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXRjaFBhcnQoKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmVnaW4gYmF0Y2ggcGFydFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZSB8IFBJWEkuTGluZVN0eWxlfSBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGF0dHJpYlN0YXJ0XG4gICAgICovXG4gICAgQmF0Y2hQYXJ0LnByb3RvdHlwZS5iZWdpbiA9IGZ1bmN0aW9uIChzdHlsZSwgc3RhcnRJbmRleCwgYXR0cmliU3RhcnQpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydEluZGV4O1xuICAgICAgICB0aGlzLmF0dHJpYlN0YXJ0ID0gYXR0cmliU3RhcnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmQgYmF0Y2ggcGFydFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEluZGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEF0dHJpYlxuICAgICAqL1xuICAgIEJhdGNoUGFydC5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKGVuZEluZGV4LCBlbmRBdHRyaWIpIHtcbiAgICAgICAgdGhpcy5hdHRyaWJTaXplID0gZW5kQXR0cmliIC0gdGhpcy5hdHRyaWJTdGFydDtcbiAgICAgICAgdGhpcy5zaXplID0gZW5kSW5kZXggLSB0aGlzLnN0YXJ0O1xuICAgIH07XG4gICAgQmF0Y2hQYXJ0LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuc3RhcnQgPSAwO1xuICAgICAgICB0aGlzLmF0dHJpYlN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5hdHRyaWJTaXplID0gMDtcbiAgICB9O1xuICAgIHJldHVybiBCYXRjaFBhcnQ7XG59KCkpO1xuXG4vKipcbiAqIEdlbmVyYWxpemVkIGNvbnZlbmllbmNlIHV0aWxpdGllcyBmb3IgR3JhcGhpY3MuXG4gKlxuICogQG5hbWVzcGFjZSBncmFwaGljc1V0aWxzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgX2E7XG4vKipcbiAqIE1hcCBvZiBmaWxsIGNvbW1hbmRzIGZvciBlYWNoIHNoYXBlIHR5cGUuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuZ3JhcGhpY3NVdGlsc1xuICogQG1lbWJlciB7T2JqZWN0fSBGSUxMX0NPTU1BTkRTXG4gKi9cbnZhciBGSUxMX0NPTU1BTkRTID0gKF9hID0ge30sXG4gICAgX2FbU0hBUEVTLlBPTFldID0gYnVpbGRQb2x5LFxuICAgIF9hW1NIQVBFUy5DSVJDXSA9IGJ1aWxkQ2lyY2xlLFxuICAgIF9hW1NIQVBFUy5FTElQXSA9IGJ1aWxkQ2lyY2xlLFxuICAgIF9hW1NIQVBFUy5SRUNUXSA9IGJ1aWxkUmVjdGFuZ2xlLFxuICAgIF9hW1NIQVBFUy5SUkVDXSA9IGJ1aWxkUm91bmRlZFJlY3RhbmdsZSxcbiAgICBfYSk7XG4vKipcbiAqIEJhdGNoIHBvb2wsIHN0b3JlcyB1bnVzZWQgYmF0Y2hlcyBmb3IgcHJldmVudGluZyBhbGxvY2F0aW9ucy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5ncmFwaGljc1V0aWxzXG4gKiBAbWVtYmVyIHtBcnJheTxQSVhJLmdyYXBoaWNzVXRpbHMuQmF0Y2hQYXJ0Pn0gQkFUQ0hfUE9PTFxuICovXG52YXIgQkFUQ0hfUE9PTCA9IFtdO1xuLyoqXG4gKiBEcmF3IGNhbGwgcG9vbCwgc3RvcmVzIHVudXNlZCBkcmF3IGNhbGxzIGZvciBwcmV2ZW50aW5nIGFsbG9jYXRpb25zLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLmdyYXBoaWNzVXRpbHNcbiAqIEBtZW1iZXIge0FycmF5PFBJWEkuQmF0Y2hEcmF3Q2FsbD59IERSQVdfQ0FMTF9QT09MXG4gKi9cbnZhciBEUkFXX0NBTExfUE9PTCA9IFtdO1xuXG52YXIgaW5kZXggPSAoe1xuICAgIGJ1aWxkUG9seTogYnVpbGRQb2x5LFxuICAgIGJ1aWxkQ2lyY2xlOiBidWlsZENpcmNsZSxcbiAgICBidWlsZFJlY3RhbmdsZTogYnVpbGRSZWN0YW5nbGUsXG4gICAgYnVpbGRSb3VuZGVkUmVjdGFuZ2xlOiBidWlsZFJvdW5kZWRSZWN0YW5nbGUsXG4gICAgRklMTF9DT01NQU5EUzogRklMTF9DT01NQU5EUyxcbiAgICBCQVRDSF9QT09MOiBCQVRDSF9QT09MLFxuICAgIERSQVdfQ0FMTF9QT09MOiBEUkFXX0NBTExfUE9PTCxcbiAgICBidWlsZExpbmU6IGJ1aWxkTGluZSxcbiAgICBTdGFyOiBTdGFyLFxuICAgIEFyY1V0aWxzOiBBcmNVdGlscyxcbiAgICBCZXppZXJVdGlsczogQmV6aWVyVXRpbHMsXG4gICAgUXVhZHJhdGljVXRpbHM6IFF1YWRyYXRpY1V0aWxzLFxuICAgIEJhdGNoUGFydDogQmF0Y2hQYXJ0XG59KTtcblxuLyoqXG4gKiBBIGNsYXNzIHRvIGNvbnRhaW4gZGF0YSB1c2VmdWwgZm9yIEdyYXBoaWNzIG9iamVjdHNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljc0RhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsbFN0eWxlfSBbZmlsbFN0eWxlXSAtIHRoZSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAgICogQHBhcmFtIHtQSVhJLkxpbmVTdHlsZX0gW2xpbmVTdHlsZV0gLSB0aGUgY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFttYXRyaXhdIC0gVHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdyYXBoaWNzRGF0YShzaGFwZSwgZmlsbFN0eWxlLCBsaW5lU3R5bGUsIG1hdHJpeCkge1xuICAgICAgICBpZiAoZmlsbFN0eWxlID09PSB2b2lkIDApIHsgZmlsbFN0eWxlID0gbnVsbDsgfVxuICAgICAgICBpZiAobGluZVN0eWxlID09PSB2b2lkIDApIHsgbGluZVN0eWxlID0gbnVsbDsgfVxuICAgICAgICBpZiAobWF0cml4ID09PSB2b2lkIDApIHsgbWF0cml4ID0gbnVsbDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhcGUgPSBzaGFwZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdHlsZSBvZiB0aGUgbGluZS5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5MaW5lU3R5bGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVTdHlsZSA9IGxpbmVTdHlsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdHlsZSBvZiB0aGUgZmlsbC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWxsU3R5bGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0cmFuc2Zvcm0gbWF0cml4LlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF0cml4ID0gbWF0cml4O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIHNoYXBlLCBzZWUgdGhlIENvbnN0LlNoYXBlcyBmaWxlIGZvciBhbGwgdGhlIGV4aXN0aW5nIHR5cGVzLFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBzaGFwZS50eXBlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgcG9pbnRzLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBob2xlcy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0RhdGFbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaG9sZXMgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBHcmFwaGljc0RhdGEgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0RhdGF9IENsb25lZCBHcmFwaGljc0RhdGEgb2JqZWN0XG4gICAgICovXG4gICAgR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHcmFwaGljc0RhdGEodGhpcy5zaGFwZSwgdGhpcy5maWxsU3R5bGUsIHRoaXMubGluZVN0eWxlLCB0aGlzLm1hdHJpeCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgR3JhcGhpY3MgZGF0YS5cbiAgICAgKlxuICAgICAqL1xuICAgIEdyYXBoaWNzRGF0YS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zaGFwZSA9IG51bGw7XG4gICAgICAgIHRoaXMuaG9sZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5ob2xlcyA9IG51bGw7XG4gICAgICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMucG9pbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5saW5lU3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gR3JhcGhpY3NEYXRhO1xufSgpKTtcblxudmFyIHRtcFBvaW50ID0gbmV3IFBvaW50KCk7XG52YXIgdG1wQm91bmRzID0gbmV3IEJvdW5kcygpO1xuLyoqXG4gKiBUaGUgR3JhcGhpY3MgY2xhc3MgY29udGFpbnMgbWV0aG9kcyB1c2VkIHRvIGRyYXcgcHJpbWl0aXZlIHNoYXBlcyBzdWNoIGFzIGxpbmVzLCBjaXJjbGVzIGFuZFxuICogcmVjdGFuZ2xlcyB0byB0aGUgZGlzcGxheSwgYW5kIHRvIGNvbG9yIGFuZCBmaWxsIHRoZW0uXG4gKlxuICogR3JhcGhpY3NHZW9tZXRyeSBpcyBkZXNpZ25lZCB0byBub3QgYmUgY29udGludWFsbHkgdXBkYXRpbmcgdGhlIGdlb21ldHJ5IHNpbmNlIGl0J3MgZXhwZW5zaXZlXG4gKiB0byByZS10ZXNzZWxhdGUgdXNpbmcgKiplYXJjdXQqKi4gQ29uc2lkZXIgdXNpbmcge0BsaW5rIFBJWEkuTWVzaH0gZm9yIHRoaXMgdXNlLWNhc2UsIGl0J3MgbXVjaCBmYXN0ZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhdGNoR2VvbWV0cnlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljc0dlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhHcmFwaGljc0dlb21ldHJ5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEdyYXBoaWNzR2VvbWV0cnkoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnV2c0Zsb2F0MzIgPSBudWxsO1xuICAgICAgICBfdGhpcy5pbmRpY2VzVWludDE2ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHBvaW50cyB0byBkcmF3LCAyIG51bWJlcnMgcGVyIHBvaW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb2ludHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGNvbG9yc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29sb3JzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgVVZzIGNvbGxlY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGluZGljZXMgb2YgdGhlIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbmRpY2VzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHRleHR1cmUgSURzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dHVyZUlkcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgZHJhd24gc2hhcGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzRGF0YVtdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ncmFwaGljc0RhdGEgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHRoZSBncmFwaGljcyBvYmplY3QgaGFzIGNoYW5nZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGlydHkgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQmF0Y2hlcyBuZWVkIHRvIHJlZ2VuZXJhdGVkIGlmIHRoZSBnZW9tZXRyeSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhdGNoRGlydHkgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gY2hlY2sgaWYgdGhlIGNhY2hlIGlzIGRpcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhY2hlRGlydHkgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHdlIGNsZWFyZWQgdGhlIGdyYXBoaWNzRGF0YS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNsZWFyRGlydHkgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBjdXJyZW50IGRyYXcgY2FsbHMgZHJpdmVkIGZyb20gdGhlIGJhdGNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kcmF3Q2FsbHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybWVkaWF0ZSBhYnN0cmFjdCBmb3JtYXQgc2VudCB0byBiYXRjaCBzeXN0ZW0uXG4gICAgICAgICAqIENhbiBiZSBjb252ZXJ0ZWQgdG8gZHJhd0NhbGxzIG9yIHRvIGJhdGNoYWJsZSBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmdyYXBoaWNzVXRpbHMuQmF0Y2hQYXJ0W119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhdGNoZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGV4IG9mIHRoZSBsYXN0IGJhdGNoZWQgc2hhcGUgaW4gdGhlIHN0YWNrIG9mIGNhbGxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNoYXBlSW5kZXggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGVkIGJvdW5kcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ib3VuZHMgPSBuZXcgQm91bmRzKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYm91bmRzIGRpcnR5IGZsYWcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYm91bmRzRGlydHkgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhZGRpbmcgdG8gYWRkIHRvIHRoZSBib3VuZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYm91bmRzUGFkZGluZyA9IDA7XG4gICAgICAgIF90aGlzLmJhdGNoYWJsZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pbmRpY2VzVWludDE2ID0gbnVsbDtcbiAgICAgICAgX3RoaXMudXZzRmxvYXQzMiA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaW5pbWFsIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIHRoYXQgYXJlIGNvbnNpZGVyZWQgZGlmZmVyZW50LlxuICAgICAgICAgKiBBZmZlY3RzIGxpbmUgdGVzc2VsYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNsb3NlUG9pbnRFcHMgPSAxZS00O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZSwgXCJib3VuZHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBjdXJyZW50IGJvdW5kcyBvZiB0aGUgZ3JhcGhpYyBnZW9tZXRyeS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ib3VuZHNEaXJ0eSAhPT0gdGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYm91bmRzRGlydHkgPSB0aGlzLmRpcnR5O1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ2FsbCBpZiB5b3UgY2hhbmdlZCBncmFwaGljc0RhdGEgbWFudWFsbHkuXG4gICAgICogRW1wdGllcyBhbGwgYmF0Y2ggYnVmZmVycy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5pbnZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG4gICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgdGhpcy5iYXRjaERpcnR5Kys7XG4gICAgICAgIHRoaXMuc2hhcGVJbmRleCA9IDA7XG4gICAgICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY29sb3JzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMudXZzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuaW5kaWNlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnRleHR1cmVJZHMubGVuZ3RoID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRyYXdDYWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHNbaV0udGV4QXJyYXkuY2xlYXIoKTtcbiAgICAgICAgICAgIERSQVdfQ0FMTF9QT09MLnB1c2godGhpcy5kcmF3Q2FsbHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYmF0Y2hQYXJ0ID0gdGhpcy5iYXRjaGVzW2ldO1xuICAgICAgICAgICAgYmF0Y2hQYXJ0LnJlc2V0KCk7XG4gICAgICAgICAgICBCQVRDSF9QT09MLnB1c2goYmF0Y2hQYXJ0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgZ3JhcGhpY3MgdGhhdCB3ZXJlIGRyYXduIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LCBhbmQgcmVzZXRzIGZpbGwgYW5kIGxpbmUgc3R5bGUgc2V0dGluZ3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IFRoaXMgR3JhcGhpY3NHZW9tZXRyeSBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmNsZWFyRGlydHkrKztcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgZ2l2ZW4gc2hhcGUgdG8gdGhpcyBHcmFwaGljcyBvYmplY3QuIENhbiBiZSBhbnkgb2YgQ2lyY2xlLCBSZWN0YW5nbGUsIEVsbGlwc2UsIExpbmUgb3IgUG9seWdvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWxsU3R5bGV9IGZpbGxTdHlsZSAtIERlZmluZXMgc3R5bGUgb2YgdGhlIGZpbGwuXG4gICAgICogQHBhcmFtIHtQSVhJLkxpbmVTdHlsZX0gbGluZVN0eWxlIC0gRGVmaW5lcyBzdHlsZSBvZiB0aGUgbGluZXMuXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVHJhbnNmb3JtIGFwcGxpZWQgdG8gdGhlIHBvaW50cyBvZiB0aGUgc2hhcGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBSZXR1cm5zIGdlb21ldHJ5IGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5kcmF3U2hhcGUgPSBmdW5jdGlvbiAoc2hhcGUsIGZpbGxTdHlsZSwgbGluZVN0eWxlLCBtYXRyaXgpIHtcbiAgICAgICAgaWYgKGZpbGxTdHlsZSA9PT0gdm9pZCAwKSB7IGZpbGxTdHlsZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKGxpbmVTdHlsZSA9PT0gdm9pZCAwKSB7IGxpbmVTdHlsZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKG1hdHJpeCA9PT0gdm9pZCAwKSB7IG1hdHJpeCA9IG51bGw7IH1cbiAgICAgICAgdmFyIGRhdGEgPSBuZXcgR3JhcGhpY3NEYXRhKHNoYXBlLCBmaWxsU3R5bGUsIGxpbmVTdHlsZSwgbWF0cml4KTtcbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEucHVzaChkYXRhKTtcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBnaXZlbiBzaGFwZSB0byB0aGlzIEdyYXBoaWNzIG9iamVjdC4gQ2FuIGJlIGFueSBvZiBDaXJjbGUsIFJlY3RhbmdsZSwgRWxsaXBzZSwgTGluZSBvciBQb2x5Z29uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVHJhbnNmb3JtIGFwcGxpZWQgdG8gdGhlIHBvaW50cyBvZiB0aGUgc2hhcGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBSZXR1cm5zIGdlb21ldHJ5IGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5kcmF3SG9sZSA9IGZ1bmN0aW9uIChzaGFwZSwgbWF0cml4KSB7XG4gICAgICAgIGlmIChtYXRyaXggPT09IHZvaWQgMCkgeyBtYXRyaXggPSBudWxsOyB9XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0YSA9IG5ldyBHcmFwaGljc0RhdGEoc2hhcGUsIG51bGwsIG51bGwsIG1hdHJpeCk7XG4gICAgICAgIHZhciBsYXN0U2hhcGUgPSB0aGlzLmdyYXBoaWNzRGF0YVt0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgZGF0YS5saW5lU3R5bGUgPSBsYXN0U2hhcGUubGluZVN0eWxlO1xuICAgICAgICBsYXN0U2hhcGUuaG9sZXMucHVzaChkYXRhKTtcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljc0dlb21ldHJ5IG9iamVjdC5cbiAgICAgKlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgICAgICAvLyBkZXN0cm95IGVhY2ggb2YgdGhlIEdyYXBoaWNzRGF0YSBvYmplY3RzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnBvaW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuY29sb3JzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY29sb3JzID0gbnVsbDtcbiAgICAgICAgdGhpcy51dnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy51dnMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGljZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayB0byBzZWUgaWYgYSBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIHRoaXMgZ2VvbWV0cnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSBQb2ludCB0byBjaGVjayBpZiBpdCdzIGNvbnRhaW5lZC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gZ2VvbWV0cnkuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICB2YXIgZ3JhcGhpY3NEYXRhID0gdGhpcy5ncmFwaGljc0RhdGE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIGlmICghZGF0YS5maWxsU3R5bGUudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb25seSBkZWFsIHdpdGggZmlsbHMuLlxuICAgICAgICAgICAgaWYgKGRhdGEuc2hhcGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5tYXRyaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5tYXRyaXguYXBwbHlJbnZlcnNlKHBvaW50LCB0bXBQb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0bXBQb2ludC5jb3B5RnJvbShwb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNoYXBlLmNvbnRhaW5zKHRtcFBvaW50LngsIHRtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoaXRIb2xlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhvbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzEgPSAwOyBpXzEgPCBkYXRhLmhvbGVzLmxlbmd0aDsgaV8xKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaG9sZSA9IGRhdGEuaG9sZXNbaV8xXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9sZS5zaGFwZS5jb250YWlucyh0bXBQb2ludC54LCB0bXBQb2ludC55KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRIb2xlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghaGl0SG9sZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGludGVybWVkaWF0ZSBiYXRjaCBkYXRhLiBFaXRoZXIgZ2V0cyBjb252ZXJ0ZWQgdG8gZHJhd0NhbGxzXG4gICAgICogb3IgdXNlZCB0byBjb252ZXJ0IHRvIGJhdGNoIG9iamVjdHMgZGlyZWN0bHkgYnkgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Fsb293MzJJbmRpY2VzXSAtIEFsbG93IHVzaW5nIDMyLWJpdCBpbmRpY2VzIGZvciBwcmV2ZW50aW5ncyBhcnRlZmFjdHMgd2hlbiBtb3JlIHRoYXQgNjU1MzUgdmVydGljZXNcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS51cGRhdGVCYXRjaGVzID0gZnVuY3Rpb24gKGFsbG93MzJJbmRpY2VzKSB7XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlQmF0Y2hpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FjaGVEaXJ0eSA9IHRoaXMuZGlydHk7XG4gICAgICAgIHZhciB1dnMgPSB0aGlzLnV2cztcbiAgICAgICAgdmFyIGdyYXBoaWNzRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhO1xuICAgICAgICB2YXIgYmF0Y2hQYXJ0ID0gbnVsbDtcbiAgICAgICAgdmFyIGN1cnJlbnRTdHlsZSA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmJhdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYmF0Y2hQYXJ0ID0gdGhpcy5iYXRjaGVzW3RoaXMuYmF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGN1cnJlbnRTdHlsZSA9IGJhdGNoUGFydC5zdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5zaGFwZUluZGV4OyBpIDwgZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnNoYXBlSW5kZXgrKztcbiAgICAgICAgICAgIHZhciBkYXRhID0gZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIGZpbGxTdHlsZSA9IGRhdGEuZmlsbFN0eWxlO1xuICAgICAgICAgICAgdmFyIGxpbmVTdHlsZSA9IGRhdGEubGluZVN0eWxlO1xuICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBGSUxMX0NPTU1BTkRTW2RhdGEudHlwZV07XG4gICAgICAgICAgICAvLyBidWlsZCBvdXQgdGhlIHNoYXBlcyBwb2ludHMuLlxuICAgICAgICAgICAgY29tbWFuZC5idWlsZChkYXRhKTtcbiAgICAgICAgICAgIGlmIChkYXRhLm1hdHJpeCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtUG9pbnRzKGRhdGEucG9pbnRzLCBkYXRhLm1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDI7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IChqID09PSAwKSA/IGZpbGxTdHlsZSA6IGxpbmVTdHlsZTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0eWxlLnZpc2libGUpXG4gICAgICAgICAgICAgICAgICAgIHsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICB2YXIgbmV4dFRleHR1cmUgPSBzdHlsZS50ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleF8xID0gdGhpcy5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXIgYXR0cmliSW5kZXggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgICAgICAgICAgaWYgKGogPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzRmlsbChkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0xpbmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gKHRoaXMucG9pbnRzLmxlbmd0aCAvIDIpIC0gYXR0cmliSW5kZXg7XG4gICAgICAgICAgICAgICAgaWYgKHNpemUgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAvLyBjbG9zZSBiYXRjaCBpZiBzdHlsZSBpcyBkaWZmZXJlbnRcbiAgICAgICAgICAgICAgICBpZiAoYmF0Y2hQYXJ0ICYmICF0aGlzLl9jb21wYXJlU3R5bGVzKGN1cnJlbnRTdHlsZSwgc3R5bGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5lbmQoaW5kZXhfMSwgYXR0cmliSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzcGF3biBuZXcgYmF0Y2ggaWYgaXRzIGZpcnN0IGJhdGNoIG9yIHByZXZpb3VzIHdhcyBjbG9zZWRcbiAgICAgICAgICAgICAgICBpZiAoIWJhdGNoUGFydCkge1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQgPSBCQVRDSF9QT09MLnBvcCgpIHx8IG5ldyBCYXRjaFBhcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0LmJlZ2luKHN0eWxlLCBpbmRleF8xLCBhdHRyaWJJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hlcy5wdXNoKGJhdGNoUGFydCk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdHlsZSA9IHN0eWxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFkZFV2cyh0aGlzLnBvaW50cywgdXZzLCBzdHlsZS50ZXh0dXJlLCBhdHRyaWJJbmRleCwgc2l6ZSwgc3R5bGUubWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGljZXMubGVuZ3RoO1xuICAgICAgICB2YXIgYXR0cmliID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcbiAgICAgICAgaWYgKGJhdGNoUGFydCkge1xuICAgICAgICAgICAgYmF0Y2hQYXJ0LmVuZChpbmRleCwgYXR0cmliKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iYXRjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gdGhlcmUgYXJlIG5vIHZpc2libGUgc3R5bGVzIGluIEdyYXBoaWNzRGF0YVxuICAgICAgICAgICAgLy8gaXRzIHBvc3NpYmxlIHRoYXQgc29tZW9uZSB3YW50cyBHcmFwaGljcyBqdXN0IGZvciB0aGUgYm91bmRzXG4gICAgICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcHJldmVudCBhbGxvY2F0aW9uIHdoZW4gbGVuZ3RoIGlzIHNhbWUgYXMgYnVmZmVyXG4gICAgICAgIGlmICh0aGlzLmluZGljZXNVaW50MTYgJiYgdGhpcy5pbmRpY2VzLmxlbmd0aCA9PT0gdGhpcy5pbmRpY2VzVWludDE2Lmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5pbmRpY2VzVWludDE2LnNldCh0aGlzLmluZGljZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG5lZWQzMiA9IGF0dHJpYiA+IDB4ZmZmZiAmJiBhbGxvdzMySW5kaWNlcztcbiAgICAgICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNiA9IG5lZWQzMiA/IG5ldyBVaW50MzJBcnJheSh0aGlzLmluZGljZXMpIDogbmV3IFVpbnQxNkFycmF5KHRoaXMuaW5kaWNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyBtYWtlIHRoaXMgYSBjb25zdC4uXG4gICAgICAgIHRoaXMuYmF0Y2hhYmxlID0gdGhpcy5pc0JhdGNoYWJsZSgpO1xuICAgICAgICBpZiAodGhpcy5iYXRjaGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMucGFja0JhdGNoZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYnVpbGREcmF3Q2FsbHMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWZmaW5pdHkgY2hlY2tcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWxsU3R5bGUgfCBQSVhJLkxpbmVTdHlsZX0gc3R5bGVBXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZSB8IFBJWEkuTGluZVN0eWxlfSBzdHlsZUJcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5fY29tcGFyZVN0eWxlcyA9IGZ1bmN0aW9uIChzdHlsZUEsIHN0eWxlQikge1xuICAgICAgICBpZiAoIXN0eWxlQSB8fCAhc3R5bGVCKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlQS50ZXh0dXJlLmJhc2VUZXh0dXJlICE9PSBzdHlsZUIudGV4dHVyZS5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHlsZUEuY29sb3IgKyBzdHlsZUEuYWxwaGEgIT09IHN0eWxlQi5jb2xvciArIHN0eWxlQi5hbHBoYSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIXN0eWxlQS5uYXRpdmUgIT09ICEhc3R5bGVCLm5hdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdCBnZW9tZXRyeSBmb3IgYmF0Y2hpbmcgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS52YWxpZGF0ZUJhdGNoaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSA9PT0gdGhpcy5jYWNoZURpcnR5IHx8ICF0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciBmaWxsID0gZGF0YS5maWxsU3R5bGU7XG4gICAgICAgICAgICB2YXIgbGluZSA9IGRhdGEubGluZVN0eWxlO1xuICAgICAgICAgICAgaWYgKGZpbGwgJiYgIWZpbGwudGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgICAgICB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgaWYgKGxpbmUgJiYgIWxpbmUudGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgICAgICB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT2Zmc2V0IHRoZSBpbmRpY2VzIHNvIHRoYXQgaXQgd29ya3Mgd2l0aCB0aGUgYmF0Y2hlci5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wYWNrQmF0Y2hlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5iYXRjaERpcnR5Kys7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMiA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy51dnMpO1xuICAgICAgICB2YXIgYmF0Y2hlcyA9IHRoaXMuYmF0Y2hlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBiYXRjaGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJhdGNoID0gYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYmF0Y2guc2l6ZTsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gYmF0Y2guc3RhcnQgKyBqO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNltpbmRleF0gPSB0aGlzLmluZGljZXNVaW50MTZbaW5kZXhdIC0gYmF0Y2guYXR0cmliU3RhcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgaWYgdGhpcyBncmFwaGljcyBnZW9tZXRyeSBjYW4gYmUgYmF0Y2hlZC5cbiAgICAgKiBDdXJyZW50bHkgaXQgbmVlZHMgdG8gYmUgc21hbGwgZW5vdWdoIGFuZCBub3QgY29udGFpbiBhbnkgbmF0aXZlIGxpbmVzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmlzQmF0Y2hhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBwcmV2ZW50IGhlYXZ5IG1lc2ggYmF0Y2hpbmdcbiAgICAgICAgaWYgKHRoaXMucG9pbnRzLmxlbmd0aCA+IDB4ZmZmZiAqIDIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmF0Y2hlcyA9IHRoaXMuYmF0Y2hlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYmF0Y2hlc1tpXS5zdHlsZS5uYXRpdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh0aGlzLnBvaW50cy5sZW5ndGggPCBHcmFwaGljc0dlb21ldHJ5LkJBVENIQUJMRV9TSVpFICogMik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBpbnRlcm1lZGlhdGUgYmF0Y2hlcyBkYXRhIHRvIGRyYXdDYWxscy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5idWlsZERyYXdDYWxscyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIFRJQ0sgPSArK0Jhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRyYXdDYWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHNbaV0udGV4QXJyYXkuY2xlYXIoKTtcbiAgICAgICAgICAgIERSQVdfQ0FMTF9QT09MLnB1c2godGhpcy5kcmF3Q2FsbHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG4gICAgICAgIHZhciBjb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICAgICAgdmFyIHRleHR1cmVJZHMgPSB0aGlzLnRleHR1cmVJZHM7XG4gICAgICAgIHZhciBjdXJyZW50R3JvdXAgPSBEUkFXX0NBTExfUE9PTC5wb3AoKTtcbiAgICAgICAgaWYgKCFjdXJyZW50R3JvdXApIHtcbiAgICAgICAgICAgIGN1cnJlbnRHcm91cCA9IG5ldyBCYXRjaERyYXdDYWxsKCk7XG4gICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkgPSBuZXcgQmF0Y2hUZXh0dXJlQXJyYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkuY291bnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC50eXBlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7XG4gICAgICAgIHZhciB0ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICB2YXIgY3VycmVudFRleHR1cmUgPSBudWxsO1xuICAgICAgICB2YXIgdGV4dHVyZUlkID0gMDtcbiAgICAgICAgdmFyIG5hdGl2ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgZHJhd01vZGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUztcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMucHVzaChjdXJyZW50R3JvdXApO1xuICAgICAgICAvLyBUT0RPIC0gdGhpcyBjYW4gYmUgc2ltcGxpZmllZFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmJhdGNoZXNbaV07XG4gICAgICAgICAgICAvLyBUT0RPIGFkZCBzb21lIGZ1bGwgb24gTUFYX1RFWFRVUkUgQ09ERS4uXG4gICAgICAgICAgICB2YXIgTUFYX1RFWFRVUkVTID0gODtcbiAgICAgICAgICAgIC8vIEZvcmNlZCBjYXN0IGZvciBjaGVja2luZyBgbmF0aXZlYCB3aXRob3V0IGVycm9yc1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gZGF0YS5zdHlsZTtcbiAgICAgICAgICAgIHZhciBuZXh0VGV4dHVyZSA9IHN0eWxlLnRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICBpZiAobmF0aXZlICE9PSAhIXN0eWxlLm5hdGl2ZSkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZSA9ICEhc3R5bGUubmF0aXZlO1xuICAgICAgICAgICAgICAgIGRyYXdNb2RlID0gbmF0aXZlID8gRFJBV19NT0RFUy5MSU5FUyA6IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBiYXRjaCB0byBicmVhayFcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgICAgIFRJQ0srKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdXJyZW50VGV4dHVyZSAhPT0gbmV4dFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG5leHRUZXh0dXJlO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0VGV4dHVyZS5fYmF0Y2hFbmFibGVkICE9PSBUSUNLKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0dXJlQ291bnQgPT09IE1BWF9URVhUVVJFUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgVElDSysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50R3JvdXAuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBEUkFXX0NBTExfUE9PTC5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRHcm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBuZXcgQmF0Y2hEcmF3Q2FsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkgPSBuZXcgQmF0Y2hUZXh0dXJlQXJyYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHMucHVzaChjdXJyZW50R3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnN0YXJ0ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkuY291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnR5cGUgPSBkcmF3TW9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGFkZCB0aGlzIHRvIHRoZSByZW5kZXIgcGFydC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIEhhY2shIEJlY2F1c2UgdGV4dHVyZSBoYXMgcHJvdGVjdGVkIGB0b3VjaGVkYFxuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS50b3VjaGVkID0gMTsgLy8gdG91Y2g7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLl9iYXRjaEVuYWJsZWQgPSBUSUNLO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fYmF0Y2hMb2NhdGlvbiA9IHRleHR1cmVDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUud3JhcE1vZGUgPSAxMDQ5NztcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleEFycmF5LmVsZW1lbnRzW2N1cnJlbnRHcm91cC50ZXhBcnJheS5jb3VudCsrXSA9IG5leHRUZXh0dXJlO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSArPSBkYXRhLnNpemU7XG4gICAgICAgICAgICBpbmRleCArPSBkYXRhLnNpemU7XG4gICAgICAgICAgICB0ZXh0dXJlSWQgPSBuZXh0VGV4dHVyZS5fYmF0Y2hMb2NhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29sb3JzKGNvbG9ycywgc3R5bGUuY29sb3IsIHN0eWxlLmFscGhhLCBkYXRhLmF0dHJpYlNpemUpO1xuICAgICAgICAgICAgdGhpcy5hZGRUZXh0dXJlSWRzKHRleHR1cmVJZHMsIHRleHR1cmVJZCwgZGF0YS5hdHRyaWJTaXplKTtcbiAgICAgICAgfVxuICAgICAgICBCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSBUSUNLO1xuICAgICAgICAvLyB1cGxvYWQuLlxuICAgICAgICAvLyBtZXJnZSBmb3Igbm93IVxuICAgICAgICB0aGlzLnBhY2tBdHRyaWJ1dGVzKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYWNrcyBhdHRyaWJ1dGVzIHRvIHNpbmdsZSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUucGFja0F0dHJpYnV0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2ZXJ0cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICB2YXIgdXZzID0gdGhpcy51dnM7XG4gICAgICAgIHZhciBjb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICAgICAgdmFyIHRleHR1cmVJZHMgPSB0aGlzLnRleHR1cmVJZHM7XG4gICAgICAgIC8vIHZlcnRzIGFyZSAyIHBvc2l0aW9ucy4uIHNvIHdlICogYnkgMyBhcyB0aGVyZSBhcmUgNiBwcm9wZXJ0aWVzLi4gdGhlbiA0IGNvcyBpdHMgYnl0ZXNcbiAgICAgICAgdmFyIGdsUG9pbnRzID0gbmV3IEFycmF5QnVmZmVyKHZlcnRzLmxlbmd0aCAqIDMgKiA0KTtcbiAgICAgICAgdmFyIGYzMiA9IG5ldyBGbG9hdDMyQXJyYXkoZ2xQb2ludHMpO1xuICAgICAgICB2YXIgdTMyID0gbmV3IFVpbnQzMkFycmF5KGdsUG9pbnRzKTtcbiAgICAgICAgdmFyIHAgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRzLmxlbmd0aCAvIDI7IGkrKykge1xuICAgICAgICAgICAgZjMyW3ArK10gPSB2ZXJ0c1tpICogMl07XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHZlcnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgICAgIGYzMltwKytdID0gdXZzW2kgKiAyXTtcbiAgICAgICAgICAgIGYzMltwKytdID0gdXZzWyhpICogMikgKyAxXTtcbiAgICAgICAgICAgIHUzMltwKytdID0gY29sb3JzW2ldO1xuICAgICAgICAgICAgZjMyW3ArK10gPSB0ZXh0dXJlSWRzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlci51cGRhdGUoZ2xQb2ludHMpO1xuICAgICAgICB0aGlzLl9pbmRleEJ1ZmZlci51cGRhdGUodGhpcy5pbmRpY2VzVWludDE2KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgZmlsbCBwYXJ0IG9mIEdyYXBoaWNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZGF0YVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wcm9jZXNzRmlsbCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLmhvbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSG9sZXMoZGF0YS5ob2xlcyk7XG4gICAgICAgICAgICBidWlsZFBvbHkudHJpYW5ndWxhdGUoZGF0YSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY29tbWFuZCA9IEZJTExfQ09NTUFORFNbZGF0YS50eXBlXTtcbiAgICAgICAgICAgIGNvbW1hbmQudHJpYW5ndWxhdGUoZGF0YSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgbGluZSBwYXJ0IG9mIEdyYXBoaWNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZGF0YVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wcm9jZXNzTGluZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGJ1aWxkTGluZShkYXRhLCB0aGlzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmhvbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBidWlsZExpbmUoZGF0YS5ob2xlc1tpXSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgdGhlIGhvbGVzIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhW119IGhvbGVzIC0gSG9sZXMgdG8gcmVuZGVyXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnByb2Nlc3NIb2xlcyA9IGZ1bmN0aW9uIChob2xlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaG9sZSA9IGhvbGVzW2ldO1xuICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBGSUxMX0NPTU1BTkRTW2hvbGUudHlwZV07XG4gICAgICAgICAgICBjb21tYW5kLmJ1aWxkKGhvbGUpO1xuICAgICAgICAgICAgaWYgKGhvbGUubWF0cml4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1Qb2ludHMoaG9sZS5wb2ludHMsIGhvbGUubWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIG9iamVjdC4gRXhwZW5zaXZlIHRvIHVzZSBwZXJmb3JtYW5jZS13aXNlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmNhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuX2JvdW5kcztcbiAgICAgICAgdmFyIHNlcXVlbmNlQm91bmRzID0gdG1wQm91bmRzO1xuICAgICAgICB2YXIgY3VyTWF0cml4ID0gTWF0cml4LklERU5USVRZO1xuICAgICAgICB0aGlzLl9ib3VuZHMuY2xlYXIoKTtcbiAgICAgICAgc2VxdWVuY2VCb3VuZHMuY2xlYXIoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciBzaGFwZSA9IGRhdGEuc2hhcGU7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEudHlwZTtcbiAgICAgICAgICAgIHZhciBsaW5lU3R5bGUgPSBkYXRhLmxpbmVTdHlsZTtcbiAgICAgICAgICAgIHZhciBuZXh0TWF0cml4ID0gZGF0YS5tYXRyaXggfHwgTWF0cml4LklERU5USVRZO1xuICAgICAgICAgICAgdmFyIGxpbmVXaWR0aCA9IDAuMDtcbiAgICAgICAgICAgIGlmIChsaW5lU3R5bGUgJiYgbGluZVN0eWxlLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWxpZ25tZW50ID0gbGluZVN0eWxlLmFsaWdubWVudDtcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSBsaW5lU3R5bGUud2lkdGg7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFNIQVBFUy5QT0xZKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IGxpbmVXaWR0aCAqICgwLjUgKyBNYXRoLmFicygwLjUgLSBhbGlnbm1lbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IGxpbmVXaWR0aCAqIE1hdGgubWF4KDAsIGFsaWdubWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1ck1hdHJpeCAhPT0gbmV4dE1hdHJpeCkge1xuICAgICAgICAgICAgICAgIGlmICghc2VxdWVuY2VCb3VuZHMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcy5hZGRCb3VuZHNNYXRyaXgoc2VxdWVuY2VCb3VuZHMsIGN1ck1hdHJpeCk7XG4gICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlQm91bmRzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1ck1hdHJpeCA9IG5leHRNYXRyaXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gU0hBUEVTLlJFQ1QgfHwgdHlwZSA9PT0gU0hBUEVTLlJSRUMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVjdCA9IHNoYXBlO1xuICAgICAgICAgICAgICAgIHNlcXVlbmNlQm91bmRzLmFkZEZyYW1lUGFkKHJlY3QueCwgcmVjdC55LCByZWN0LnggKyByZWN0LndpZHRoLCByZWN0LnkgKyByZWN0LmhlaWdodCwgbGluZVdpZHRoLCBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2lyY2xlID0gc2hhcGU7XG4gICAgICAgICAgICAgICAgc2VxdWVuY2VCb3VuZHMuYWRkRnJhbWVQYWQoY2lyY2xlLngsIGNpcmNsZS55LCBjaXJjbGUueCwgY2lyY2xlLnksIGNpcmNsZS5yYWRpdXMgKyBsaW5lV2lkdGgsIGNpcmNsZS5yYWRpdXMgKyBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gU0hBUEVTLkVMSVApIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxsaXBzZSA9IHNoYXBlO1xuICAgICAgICAgICAgICAgIHNlcXVlbmNlQm91bmRzLmFkZEZyYW1lUGFkKGVsbGlwc2UueCwgZWxsaXBzZS55LCBlbGxpcHNlLngsIGVsbGlwc2UueSwgZWxsaXBzZS53aWR0aCArIGxpbmVXaWR0aCwgZWxsaXBzZS5oZWlnaHQgKyBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvbHkgPSBzaGFwZTtcbiAgICAgICAgICAgICAgICAvLyBhZGRpbmcgZGlyZWN0bHkgdG8gdGhlIGJvdW5kc1xuICAgICAgICAgICAgICAgIGJvdW5kcy5hZGRWZXJ0aWNlc01hdHJpeChjdXJNYXRyaXgsIHBvbHkucG9pbnRzLCAwLCBwb2x5LnBvaW50cy5sZW5ndGgsIGxpbmVXaWR0aCwgbGluZVdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNlcXVlbmNlQm91bmRzLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgYm91bmRzLmFkZEJvdW5kc01hdHJpeChzZXF1ZW5jZUJvdW5kcywgY3VyTWF0cml4KTtcbiAgICAgICAgfVxuICAgICAgICBib3VuZHMucGFkKHRoaXMuYm91bmRzUGFkZGluZywgdGhpcy5ib3VuZHNQYWRkaW5nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBwb2ludHMgdXNpbmcgbWF0cml4LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIFBvaW50cyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUcmFuc2Zvcm0gbWF0cml4XG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUudHJhbnNmb3JtUG9pbnRzID0gZnVuY3Rpb24gKHBvaW50cywgbWF0cml4KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aCAvIDI7IGkrKykge1xuICAgICAgICAgICAgdmFyIHggPSBwb2ludHNbKGkgKiAyKV07XG4gICAgICAgICAgICB2YXIgeSA9IHBvaW50c1soaSAqIDIpICsgMV07XG4gICAgICAgICAgICBwb2ludHNbKGkgKiAyKV0gPSAobWF0cml4LmEgKiB4KSArIChtYXRyaXguYyAqIHkpICsgbWF0cml4LnR4O1xuICAgICAgICAgICAgcG9pbnRzWyhpICogMikgKyAxXSA9IChtYXRyaXguYiAqIHgpICsgKG1hdHJpeC5kICogeSkgKyBtYXRyaXgudHk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBjb2xvcnMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3JzIC0gTGlzdCBvZiBjb2xvcnMgdG8gYWRkIHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbG9yIC0gQ29sb3IgdG8gYWRkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIC0gQWxwaGEgdG8gdXNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBOdW1iZXIgb2YgY29sb3JzIHRvIGFkZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmFkZENvbG9ycyA9IGZ1bmN0aW9uIChjb2xvcnMsIGNvbG9yLCBhbHBoYSwgc2l6ZSkge1xuICAgICAgICAvLyBUT0RPIHVzZSB0aGUgcHJlbXVsdGlwbHkgYml0cyBJdmFuIGFkZGVkXG4gICAgICAgIHZhciByZ2IgPSAoY29sb3IgPj4gMTYpICsgKGNvbG9yICYgMHhmZjAwKSArICgoY29sb3IgJiAweGZmKSA8PCAxNik7XG4gICAgICAgIHZhciByZ2JhID0gcHJlbXVsdGlwbHlUaW50KHJnYiwgYWxwaGEpO1xuICAgICAgICB3aGlsZSAoc2l6ZS0tID4gMCkge1xuICAgICAgICAgICAgY29sb3JzLnB1c2gocmdiYSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCB0ZXh0dXJlIGlkIHRoYXQgdGhlIHNoYWRlci9mcmFnbWVudCB3YW50cyB0byB1c2UuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdGV4dHVyZUlkc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYWRkVGV4dHVyZUlkcyA9IGZ1bmN0aW9uICh0ZXh0dXJlSWRzLCBpZCwgc2l6ZSkge1xuICAgICAgICB3aGlsZSAoc2l6ZS0tID4gMCkge1xuICAgICAgICAgICAgdGV4dHVyZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBVVnMgZm9yIGEgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdmVydHMgLSBWZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHV2cyAtIFVWc1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gUmVmZXJlbmNlIHRvIFRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBJbmRleCBidWZmZXIgc3RhcnQgaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZS9sZW5ndGggZm9yIGluZGV4IGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbbWF0cml4XSAtIE9wdGlvbmFsIHRyYW5zZm9ybSBmb3IgYWxsIHBvaW50cy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5hZGRVdnMgPSBmdW5jdGlvbiAodmVydHMsIHV2cywgdGV4dHVyZSwgc3RhcnQsIHNpemUsIG1hdHJpeCkge1xuICAgICAgICBpZiAobWF0cml4ID09PSB2b2lkIDApIHsgbWF0cml4ID0gbnVsbDsgfVxuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgdXZzU3RhcnQgPSB1dnMubGVuZ3RoO1xuICAgICAgICB2YXIgZnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBzaXplKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHZlcnRzWyhzdGFydCArIGluZGV4KSAqIDJdO1xuICAgICAgICAgICAgdmFyIHkgPSB2ZXJ0c1soKHN0YXJ0ICsgaW5kZXgpICogMikgKyAxXTtcbiAgICAgICAgICAgIGlmIChtYXRyaXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbnggPSAobWF0cml4LmEgKiB4KSArIChtYXRyaXguYyAqIHkpICsgbWF0cml4LnR4O1xuICAgICAgICAgICAgICAgIHkgPSAobWF0cml4LmIgKiB4KSArIChtYXRyaXguZCAqIHkpICsgbWF0cml4LnR5O1xuICAgICAgICAgICAgICAgIHggPSBueDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB1dnMucHVzaCh4IC8gZnJhbWUud2lkdGgsIHkgLyBmcmFtZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChmcmFtZS53aWR0aCA8IGJhc2VUZXh0dXJlLndpZHRoXG4gICAgICAgICAgICB8fCBmcmFtZS5oZWlnaHQgPCBiYXNlVGV4dHVyZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0VXZzKHV2cywgdGV4dHVyZSwgdXZzU3RhcnQsIHNpemUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNb2RpZnkgdXZzIGFycmF5IGFjY29yZGluZyB0byBwb3NpdGlvbiBvZiB0ZXh0dXJlIHJlZ2lvblxuICAgICAqIERvZXMgbm90IHdvcmsgd2l0aCByb3RhdGVkIG9yIHRyaW1tZWQgdGV4dHVyZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHV2cyAtIGFycmF5XG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSByZWdpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBzdGFydGluZyBpbmRleCBmb3IgdXZzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBob3cgbWFueSBwb2ludHMgdG8gYWRqdXN0XG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYWRqdXN0VXZzID0gZnVuY3Rpb24gKHV2cywgdGV4dHVyZSwgc3RhcnQsIHNpemUpIHtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGVwcyA9IDFlLTY7XG4gICAgICAgIHZhciBmaW5pc2ggPSBzdGFydCArIChzaXplICogMik7XG4gICAgICAgIHZhciBmcmFtZSA9IHRleHR1cmUuZnJhbWU7XG4gICAgICAgIHZhciBzY2FsZVggPSBmcmFtZS53aWR0aCAvIGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICB2YXIgc2NhbGVZID0gZnJhbWUuaGVpZ2h0IC8gYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICB2YXIgb2Zmc2V0WCA9IGZyYW1lLnggLyBmcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIG9mZnNldFkgPSBmcmFtZS55IC8gZnJhbWUuaGVpZ2h0O1xuICAgICAgICB2YXIgbWluWCA9IE1hdGguZmxvb3IodXZzW3N0YXJ0XSArIGVwcyk7XG4gICAgICAgIHZhciBtaW5ZID0gTWF0aC5mbG9vcih1dnNbc3RhcnQgKyAxXSArIGVwcyk7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydCArIDI7IGkgPCBmaW5pc2g7IGkgKz0gMikge1xuICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIE1hdGguZmxvb3IodXZzW2ldICsgZXBzKSk7XG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgTWF0aC5mbG9vcih1dnNbaSArIDFdICsgZXBzKSk7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0WCAtPSBtaW5YO1xuICAgICAgICBvZmZzZXRZIC09IG1pblk7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGZpbmlzaDsgaSArPSAyKSB7XG4gICAgICAgICAgICB1dnNbaV0gPSAodXZzW2ldICsgb2Zmc2V0WCkgKiBzY2FsZVg7XG4gICAgICAgICAgICB1dnNbaSArIDFdID0gKHV2c1tpICsgMV0gKyBvZmZzZXRZKSAqIHNjYWxlWTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHBvaW50cyB0byBjb25zaWRlciBhbiBvYmplY3QgXCJiYXRjaGFibGVcIixcbiAgICAgKiBhYmxlIHRvIGJlIGJhdGNoZWQgYnkgdGhlIHJlbmRlcmVyJ3MgYmF0Y2ggc3lzdGVtLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JhcGhpY3NHZW9tZXRyeVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9IEJBVENIQUJMRV9TSVpFXG4gICAgICogQGRlZmF1bHQgMTAwXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5CQVRDSEFCTEVfU0laRSA9IDEwMDtcbiAgICByZXR1cm4gR3JhcGhpY3NHZW9tZXRyeTtcbn0oQmF0Y2hHZW9tZXRyeSkpO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGxpbmUgc3R5bGUgZm9yIEdyYXBoaWNzLlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWxsU3R5bGVcbiAqL1xudmFyIExpbmVTdHlsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTGluZVN0eWxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExpbmVTdHlsZSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggKHRoaWNrbmVzcykgb2YgYW55IGxpbmVzIGRyYXduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndpZHRoID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbGlnbm1lbnQgb2YgYW55IGxpbmVzIGRyYXduICgwLjUgPSBtaWRkbGUsIDEgPSBvdXRlciwgMCA9IGlubmVyKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFsaWdubWVudCA9IDAuNTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5uYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpbmUgY2FwIHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkxJTkVfQ0FQfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkxJTkVfQ0FQLkJVVFRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhcCA9IExJTkVfQ0FQLkJVVFQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaW5lIGpvaW4gc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTElORV9KT0lOfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkxJTkVfSk9JTi5NSVRFUlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuam9pbiA9IExJTkVfSk9JTi5NSVRFUjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pdGVyIGxpbWl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDEwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5taXRlckxpbWl0ID0gMTA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTGluZVN0eWxlfVxuICAgICAqL1xuICAgIExpbmVTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYmogPSBuZXcgTGluZVN0eWxlKCk7XG4gICAgICAgIG9iai5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIG9iai5hbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgICAgIG9iai50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICBvYmoubWF0cml4ID0gdGhpcy5tYXRyaXg7XG4gICAgICAgIG9iai52aXNpYmxlID0gdGhpcy52aXNpYmxlO1xuICAgICAgICBvYmoud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICBvYmouYWxpZ25tZW50ID0gdGhpcy5hbGlnbm1lbnQ7XG4gICAgICAgIG9iai5uYXRpdmUgPSB0aGlzLm5hdGl2ZTtcbiAgICAgICAgb2JqLmNhcCA9IHRoaXMuY2FwO1xuICAgICAgICBvYmouam9pbiA9IHRoaXMuam9pbjtcbiAgICAgICAgb2JqLm1pdGVyTGltaXQgPSB0aGlzLm1pdGVyTGltaXQ7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgbGluZSBzdHlsZSB0byBkZWZhdWx0LlxuICAgICAqL1xuICAgIExpbmVTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVzZXQuY2FsbCh0aGlzKTtcbiAgICAgICAgLy8gT3ZlcnJpZGUgZGVmYXVsdCBsaW5lIHN0eWxlIGNvbG9yXG4gICAgICAgIHRoaXMuY29sb3IgPSAweDA7XG4gICAgICAgIHRoaXMuYWxpZ25tZW50ID0gMC41O1xuICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgdGhpcy5uYXRpdmUgPSBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBMaW5lU3R5bGU7XG59KEZpbGxTdHlsZSkpO1xuXG52YXIgdGVtcCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4vLyBhIGRlZmF1bHQgc2hhZGVycyBtYXAgdXNlZCBieSBncmFwaGljcy4uXG52YXIgREVGQVVMVF9TSEFERVJTID0ge307XG4vKipcbiAqIFRoZSBHcmFwaGljcyBjbGFzcyBjb250YWlucyBtZXRob2RzIHVzZWQgdG8gZHJhdyBwcmltaXRpdmUgc2hhcGVzIHN1Y2ggYXMgbGluZXMsIGNpcmNsZXMgYW5kXG4gKiByZWN0YW5nbGVzIHRvIHRoZSBkaXNwbGF5LCBhbmQgdG8gY29sb3IgYW5kIGZpbGwgdGhlbS5cbiAqXG4gKiBOb3RlIHRoYXQgYmVjYXVzZSBHcmFwaGljcyBjYW4gc2hhcmUgYSBHcmFwaGljc0dlb21ldHJ5IHdpdGggb3RoZXIgaW5zdGFuY2VzLFxuICogaXQgaXMgbmVjZXNzYXJ5IHRvIGNhbGwgYGRlc3Ryb3koKWAgdG8gcHJvcGVybHkgZGVyZWZlcmVuY2UgdGhlIHVuZGVybHlpbmdcbiAqIEdyYXBoaWNzR2VvbWV0cnkgYW5kIGF2b2lkIGEgbWVtb3J5IGxlYWsuIEFsdGVybmF0aXZlbHksIGtlZXAgdXNpbmcgdGhlIHNhbWVcbiAqIEdyYXBoaWNzIGluc3RhbmNlIGFuZCBjYWxsIGBjbGVhcigpYCBiZXR3ZWVuIHJlZHJhd3MuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdyYXBoaWNzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhHcmFwaGljcywgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gW2dlb21ldHJ5PW51bGxdIC0gR2VvbWV0cnkgdG8gdXNlLCBpZiBvbWl0dGVkXG4gICAgICogICAgICAgIHdpbGwgY3JlYXRlIGEgbmV3IEdyYXBoaWNzR2VvbWV0cnkgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gR3JhcGhpY3MoZ2VvbWV0cnkpIHtcbiAgICAgICAgaWYgKGdlb21ldHJ5ID09PSB2b2lkIDApIHsgZ2VvbWV0cnkgPSBudWxsOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9nZW9tZXRyeSA9IGdlb21ldHJ5IHx8IG5ldyBHcmFwaGljc0dlb21ldHJ5KCk7XG4gICAgICAgIF90aGlzLl9nZW9tZXRyeS5yZWZDb3VudCsrO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJzIHRoYXQgcHJvY2Vzc2VzIHRoZSBnZW9tZXRyeSBhbmQgcnVucyBvbiB0aGUgR1BVLlxuICAgICAgICAgKiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgR3JhcGhpY3Mgb2JqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgV2ViR0wgc3RhdGUgdGhlIEdyYXBoaWNzIHJlcXVpcmVkIHRvIHJlbmRlciwgZXhjbHVkZXMgc2hhZGVyIGFuZCBnZW9tZXRyeS4gRS5nLixcbiAgICAgICAgICogYmxlbmQgbW9kZSwgY3VsbGluZywgZGVwdGggdGVzdGluZywgZGlyZWN0aW9uIG9mIHJlbmRlcmluZyB0cmlhbmdsZXMsIGJhY2tmYWNlLCBldGMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGZpbGwgc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWxsU3R5bGV9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9maWxsU3R5bGUgPSBuZXcgRmlsbFN0eWxlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGxpbmUgc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5MaW5lU3R5bGV9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9saW5lU3R5bGUgPSBuZXcgTGluZVN0eWxlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHNoYXBlIHRyYW5zZm9ybSBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgaG9sZSBtb2RlIGlzIGVuYWJsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ob2xlTW9kZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBwYXRoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9seWdvbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBjYWNoZUFzQml0bWFwIGlzIHNldCB0byB0cnVlIHRoZSBncmFwaGljcyBvYmplY3Qgd2lsbCBiZSByZW5kZXJlZCBhcyBpZiBpdCB3YXMgYSBzcHJpdGUuXG4gICAgICAgICAqIFRoaXMgaXMgdXNlZnVsIGlmIHlvdXIgZ3JhcGhpY3MgZWxlbWVudCBkb2VzIG5vdCBjaGFuZ2Ugb2Z0ZW4sIGFzIGl0IHdpbGwgc3BlZWQgdXAgdGhlIHJlbmRlcmluZ1xuICAgICAgICAgKiBvZiB0aGUgb2JqZWN0IGluIGV4Y2hhbmdlIGZvciB0YWtpbmcgdXAgdGV4dHVyZSBtZW1vcnkuIEl0IGlzIGFsc28gdXNlZnVsIGlmIHlvdSBuZWVkIHRoZSBncmFwaGljc1xuICAgICAgICAgKiBvYmplY3QgdG8gYmUgYW50aS1hbGlhc2VkLCBiZWNhdXNlIGl0IHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgY2FudmFzLiBUaGlzIGlzIG5vdCByZWNvbW1lbmRlZCBpZlxuICAgICAgICAgKiB5b3UgYXJlIGNvbnN0YW50bHkgcmVkcmF3aW5nIHRoZSBncmFwaGljcyBlbGVtZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBjYWNoZUFzQml0bWFwXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyYXBoaWNzI1xuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY29sbGVjdGlvbnMgb2YgYmF0Y2hlcyEgVGhlc2UgY2FuIGJlIGRyYXduIGJ5IHRoZSByZW5kZXJlciBiYXRjaCBzeXN0ZW0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXRjaGVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgZGlydHkgZm9yIGxpbWl0aW5nIGNhbGN1bGF0aW5nIHRpbnRzIGZvciBiYXRjaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhdGNoVGludCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIGRpcnR5IGZvciBsaW1pdGluZyBjYWxjdWxhdGluZyBiYXRjaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhdGNoRGlydHkgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvcHkgb2YgdGhlIG9iamVjdCB2ZXJ0ZXggZGF0YS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlcmVyIHBsdWdpbiBmb3IgYmF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnYmF0Y2gnXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbHVnaW5OYW1lID0gJ2JhdGNoJztcbiAgICAgICAgX3RoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIC8vIFNldCBkZWZhdWx0XG4gICAgICAgIF90aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljcy5wcm90b3R5cGUsIFwiZ2VvbWV0cnlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5jbHVkZXMgdmVydGV4IHBvc2l0aW9ucywgZmFjZSBpbmRpY2VzLCBub3JtYWxzLCBjb2xvcnMsIFVWcywgYW5kXG4gICAgICAgICAqIGN1c3RvbSBhdHRyaWJ1dGVzIHdpdGhpbiBidWZmZXJzLCByZWR1Y2luZyB0aGUgY29zdCBvZiBwYXNzaW5nIGFsbFxuICAgICAgICAgKiB0aGlzIGRhdGEgdG8gdGhlIEdQVS4gQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIE1lc2ggb3IgR3JhcGhpY3Mgb2JqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0dlb21ldHJ5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dlb21ldHJ5O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBHcmFwaGljcyBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICogTm90ZSB0aGF0IG9ubHkgdGhlIGdlb21ldHJ5IG9mIHRoZSBvYmplY3QgaXMgY2xvbmVkLCBub3QgaXRzIHRyYW5zZm9ybSAocG9zaXRpb24sc2NhbGUsZXRjKVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gQSBjbG9uZSBvZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBHcmFwaGljcyh0aGlzLl9nZW9tZXRyeSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR3JhcGhpY3MucHJvdG90eXBlLCBcImJsZW5kTW9kZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gQXBwbHkgYSB2YWx1ZSBvZlxuICAgICAgICAgKiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyYXBoaWNzLnByb3RvdHlwZSwgXCJ0aW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGdyYXBoaWMgc2hhcGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2ZcbiAgICAgICAgICogMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyYXBoaWNzLnByb3RvdHlwZSwgXCJmaWxsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IGZpbGwgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsbFN0eWxlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxTdHlsZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljcy5wcm90b3R5cGUsIFwibGluZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBsaW5lIHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkxpbmVTdHlsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lU3R5bGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIGxpbmUgc3R5bGUgdXNlZCBmb3Igc3Vic2VxdWVudCBjYWxscyB0byBHcmFwaGljcyBtZXRob2RzIHN1Y2ggYXMgdGhlIGxpbmVUbygpXG4gICAgICogbWV0aG9kIG9yIHRoZSBkcmF3Q2lyY2xlKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBQSVhJLkdyYXBoaWNzI2xpbmVTdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbG9yPTB4MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbGlnbm1lbnQ9MC41XSAtIGFsaWdubWVudCBvZiB0aGUgbGluZSB0byBkcmF3LCAoMCA9IGlubmVyLCAwLjUgPSBtaWRkbGUsIDEgPSBvdXR0ZXIpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbbmF0aXZlPWZhbHNlXSAtIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgbGluZSBzdHlsZSB1c2VkIGZvciBzdWJzZXF1ZW50IGNhbGxzIHRvIEdyYXBoaWNzIG1ldGhvZHMgc3VjaCBhcyB0aGUgbGluZVRvKClcbiAgICAgKiBtZXRob2Qgb3IgdGhlIGRyYXdDaXJjbGUoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gTGluZSBzdHlsZSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTBdIC0gd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbG9yPTB4MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYWxwaGE9MV0gLSBhbHBoYSBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYWxpZ25tZW50PTAuNV0gLSBhbGlnbm1lbnQgb2YgdGhlIGxpbmUgdG8gZHJhdywgKDAgPSBpbm5lciwgMC41ID0gbWlkZGxlLCAxID0gb3V0dGVyKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubmF0aXZlPWZhbHNlXSAtIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICogQHBhcmFtIHtQSVhJLkxJTkVfQ0FQfVtvcHRpb25zLmNhcD1QSVhJLkxJTkVfQ0FQLkJVVFRdIC0gbGluZSBjYXAgc3R5bGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTElORV9KT0lOfVtvcHRpb25zLmpvaW49UElYSS5MSU5FX0pPSU4uTUlURVJdIC0gbGluZSBqb2luIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9W29wdGlvbnMubWl0ZXJMaW1pdD0xMF0gLSBtaXRlciBsaW1pdCByYXRpb1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVN0eWxlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0gbnVsbDsgfVxuICAgICAgICAvLyBTdXBwb3J0IG5vbi1vYmplY3QgcGFyYW1zOiAod2lkdGgsIGNvbG9yLCBhbHBoYSwgYWxpZ25tZW50LCBuYXRpdmUpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBhcmdzWzBdIHx8IDAsXG4gICAgICAgICAgICAgICAgY29sb3I6IGFyZ3NbMV0gfHwgMHgwLFxuICAgICAgICAgICAgICAgIGFscGhhOiBhcmdzWzJdICE9PSB1bmRlZmluZWQgPyBhcmdzWzJdIDogMSxcbiAgICAgICAgICAgICAgICBhbGlnbm1lbnQ6IGFyZ3NbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3NbM10gOiAwLjUsXG4gICAgICAgICAgICAgICAgbmF0aXZlOiAhIWFyZ3NbNF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVUZXh0dXJlU3R5bGUob3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMaWtlIGxpbmUgc3R5bGUgYnV0IHN1cHBvcnQgdGV4dHVyZSBmb3IgbGluZSBmaWxsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIENvbGxlY3Rpb24gb2Ygb3B0aW9ucyBmb3Igc2V0dGluZyBsaW5lIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0wXSAtIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbb3B0aW9ucy50ZXh0dXJlPVBJWEkuVGV4dHVyZS5XSElURV0gLSBUZXh0dXJlIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xvcj0weDBdIC0gY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlLlxuICAgICAqICBEZWZhdWx0IDB4RkZGRkZGIGlmIHRleHR1cmUgcHJlc2VudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYWxwaGE9MV0gLSBhbHBoYSBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbb3B0aW9ucy5tYXRyaXg9bnVsbF0gLSBUZXh0dXJlIG1hdHJpeCB0byB0cmFuc2Zvcm0gdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbGlnbm1lbnQ9MC41XSAtIGFsaWdubWVudCBvZiB0aGUgbGluZSB0byBkcmF3LCAoMCA9IGlubmVyLCAwLjUgPSBtaWRkbGUsIDEgPSBvdXR0ZXIpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5uYXRpdmU9ZmFsc2VdIC0gSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgKiBAcGFyYW0ge1BJWEkuTElORV9DQVB9W29wdGlvbnMuY2FwPVBJWEkuTElORV9DQVAuQlVUVF0gLSBsaW5lIGNhcCBzdHlsZVxuICAgICAqIEBwYXJhbSB7UElYSS5MSU5FX0pPSU59W29wdGlvbnMuam9pbj1QSVhJLkxJTkVfSk9JTi5NSVRFUl0gLSBsaW5lIGpvaW4gc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn1bb3B0aW9ucy5taXRlckxpbWl0PTEwXSAtIG1pdGVyIGxpbWl0IHJhdGlvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5saW5lVGV4dHVyZVN0eWxlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIHBhcmFtczogKHdpZHRoLCB0ZXh0dXJlLFxuICAgICAgICAvLyBjb2xvciwgYWxwaGEsIG1hdHJpeCwgYWxpZ25tZW50LCBuYXRpdmUpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCd2NS4yLjAnLCAnUGxlYXNlIHVzZSBvYmplY3QtYmFzZWQgb3B0aW9ucyBmb3IgR3JhcGhpY3MjbGluZVRleHR1cmVTdHlsZScpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICB2YXIgX2EgPSBhcmd1bWVudHMsIHdpZHRoID0gX2FbMF0sIHRleHR1cmUgPSBfYVsxXSwgY29sb3IgPSBfYVsyXSwgYWxwaGEgPSBfYVszXSwgbWF0cml4ID0gX2FbNF0sIGFsaWdubWVudCA9IF9hWzVdLCBuYXRpdmUgPSBfYVs2XTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IHdpZHRoOiB3aWR0aCwgdGV4dHVyZTogdGV4dHVyZSwgY29sb3I6IGNvbG9yLCBhbHBoYTogYWxwaGEsIG1hdHJpeDogbWF0cml4LCBhbGlnbm1lbnQ6IGFsaWdubWVudCwgbmF0aXZlOiBuYXRpdmUgfTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB1bmRlZmluZWQga2V5c1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBvcHRpb25zW2tleV0gPT09IHVuZGVmaW5lZCAmJiBkZWxldGUgb3B0aW9uc1trZXldOyB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBcHBseSBkZWZhdWx0c1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgIHRleHR1cmU6IFRleHR1cmUuV0hJVEUsXG4gICAgICAgICAgICBjb2xvcjogKG9wdGlvbnMgJiYgb3B0aW9ucy50ZXh0dXJlKSA/IDB4RkZGRkZGIDogMHgwLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBtYXRyaXg6IG51bGwsXG4gICAgICAgICAgICBhbGlnbm1lbnQ6IDAuNSxcbiAgICAgICAgICAgIG5hdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICBjYXA6IExJTkVfQ0FQLkJVVFQsXG4gICAgICAgICAgICBqb2luOiBMSU5FX0pPSU4uTUlURVIsXG4gICAgICAgICAgICBtaXRlckxpbWl0OiAxMCxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UG9seSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2aXNpYmxlID0gb3B0aW9ucy53aWR0aCA+IDAgJiYgb3B0aW9ucy5hbHBoYSA+IDA7XG4gICAgICAgIGlmICghdmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5fbGluZVN0eWxlLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tYXRyaXgpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1hdHJpeCA9IG9wdGlvbnMubWF0cml4LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5tYXRyaXguaW52ZXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2xpbmVTdHlsZSwgeyB2aXNpYmxlOiB2aXNpYmxlIH0sIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhcnQgYSBwb2x5Z29uIG9iamVjdCBpbnRlcm5hbGx5XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5zdGFydFBvbHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgICAgICB2YXIgbGVuID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGxlbiA+IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaGFwZSh0aGlzLmN1cnJlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmNsb3NlU3Ryb2tlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMucHVzaChwb2ludHNbbGVuIC0gMl0sIHBvaW50c1tsZW4gLSAxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRmluaXNoIHRoZSBwb2x5Z29uIG9iamVjdC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmZpbmlzaFBvbHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NoYXBlKHRoaXMuY3VycmVudFBhdGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTW92ZXMgdGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiB0byB4LCB5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSB0aGUgWCBjb29yZGluYXRlIHRvIG1vdmUgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIHRoZSBZIGNvb3JkaW5hdGUgdG8gbW92ZSB0b1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubW92ZVRvID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHNbMF0gPSB4O1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50c1sxXSA9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBsaW5lIHVzaW5nIHRoZSBjdXJyZW50IGxpbmUgc3R5bGUgZnJvbSB0aGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIHRvICh4LCB5KTtcbiAgICAgKiBUaGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIGlzIHRoZW4gc2V0IHRvICh4LCB5KS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gdGhlIFggY29vcmRpbmF0ZSB0byBkcmF3IHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0aGUgWSBjb29yZGluYXRlIHRvIGRyYXcgdG9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmxpbmVUbyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIGR1cGxpY2F0ZXMuLlxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChmcm9tWCAhPT0geCB8fCBmcm9tWSAhPT0geSkge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBjdXJ2ZVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXVxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5faW5pdEN1cnZlID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMgPSBbeCwgeV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyh4LCB5KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnF1YWRyYXRpY0N1cnZlVG8gPSBmdW5jdGlvbiAoY3BYLCBjcFksIHRvWCwgdG9ZKSB7XG4gICAgICAgIHRoaXMuX2luaXRDdXJ2ZSgpO1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbygwLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBRdWFkcmF0aWNVdGlscy5jdXJ2ZVRvKGNwWCwgY3BZLCB0b1gsIHRvWSwgcG9pbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlemllckN1cnZlVG8gPSBmdW5jdGlvbiAoY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSB7XG4gICAgICAgIHRoaXMuX2luaXRDdXJ2ZSgpO1xuICAgICAgICBCZXppZXJVdGlscy5jdXJ2ZVRvKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSwgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBhcmNUbygpIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSBiZXR3ZWVuIHR3byB0YW5nZW50cyBvbiB0aGUgY2FudmFzLlxuICAgICAqXG4gICAgICogXCJib3Jyb3dlZFwiIGZyb20gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9meGNhbnZhcy8gLSB0aGFua3MgZ29vZ2xlIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgdGFuZ2VudCBwb2ludCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgdGFuZ2VudCBwb2ludCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgyIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTIgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBhcmNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmFyY1RvID0gZnVuY3Rpb24gKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMpIHtcbiAgICAgICAgdGhpcy5faW5pdEN1cnZlKHgxLCB5MSk7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgdmFyIHJlc3VsdCA9IEFyY1V0aWxzLmN1cnZlVG8oeDEsIHkxLCB4MiwgeTIsIHJhZGl1cywgcG9pbnRzKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgdmFyIGN4ID0gcmVzdWx0LmN4LCBjeSA9IHJlc3VsdC5jeSwgcmFkaXVzXzEgPSByZXN1bHQucmFkaXVzLCBzdGFydEFuZ2xlID0gcmVzdWx0LnN0YXJ0QW5nbGUsIGVuZEFuZ2xlID0gcmVzdWx0LmVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlID0gcmVzdWx0LmFudGljbG9ja3dpc2U7XG4gICAgICAgICAgICB0aGlzLmFyYyhjeCwgY3ksIHJhZGl1c18xLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgYXJjIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSAodXNlZCB0byBjcmVhdGUgY2lyY2xlcywgb3IgcGFydHMgb2YgY2lyY2xlcykuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3ggLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEFuZ2xlIC0gVGhlIHN0YXJ0aW5nIGFuZ2xlLCBpbiByYWRpYW5zICgwIGlzIGF0IHRoZSAzIG8nY2xvY2sgcG9zaXRpb25cbiAgICAgKiAgb2YgdGhlIGFyYydzIGNpcmNsZSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kQW5nbGUgLSBUaGUgZW5kaW5nIGFuZ2xlLCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYW50aWNsb2Nrd2lzZT1mYWxzZV0gLSBTcGVjaWZpZXMgd2hldGhlciB0aGUgZHJhd2luZyBzaG91bGQgYmVcbiAgICAgKiAgY291bnRlci1jbG9ja3dpc2Ugb3IgY2xvY2t3aXNlLiBGYWxzZSBpcyBkZWZhdWx0LCBhbmQgaW5kaWNhdGVzIGNsb2Nrd2lzZSwgd2hpbGUgdHJ1ZVxuICAgICAqICBpbmRpY2F0ZXMgY291bnRlci1jbG9ja3dpc2UuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5hcmMgPSBmdW5jdGlvbiAoY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlKSB7XG4gICAgICAgIGlmIChhbnRpY2xvY2t3aXNlID09PSB2b2lkIDApIHsgYW50aWNsb2Nrd2lzZSA9IGZhbHNlOyB9XG4gICAgICAgIGlmIChzdGFydEFuZ2xlID09PSBlbmRBbmdsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhbnRpY2xvY2t3aXNlICYmIGVuZEFuZ2xlIDw9IHN0YXJ0QW5nbGUpIHtcbiAgICAgICAgICAgIGVuZEFuZ2xlICs9IFBJXzI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYW50aWNsb2Nrd2lzZSAmJiBzdGFydEFuZ2xlIDw9IGVuZEFuZ2xlKSB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlICs9IFBJXzI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN3ZWVwID0gZW5kQW5nbGUgLSBzdGFydEFuZ2xlO1xuICAgICAgICBpZiAoc3dlZXAgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGFydFggPSBjeCArIChNYXRoLmNvcyhzdGFydEFuZ2xlKSAqIHJhZGl1cyk7XG4gICAgICAgIHZhciBzdGFydFkgPSBjeSArIChNYXRoLnNpbihzdGFydEFuZ2xlKSAqIHJhZGl1cyk7XG4gICAgICAgIHZhciBlcHMgPSB0aGlzLl9nZW9tZXRyeS5jbG9zZVBvaW50RXBzO1xuICAgICAgICAvLyBJZiB0aGUgY3VycmVudFBhdGggZXhpc3RzLCB0YWtlIGl0cyBwb2ludHMuIE90aGVyd2lzZSBjYWxsIGBtb3ZlVG9gIHRvIHN0YXJ0IGEgcGF0aC5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGggPyB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyA6IG51bGw7XG4gICAgICAgIGlmIChwb2ludHMpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IG1ha2UgYSBiZXR0ZXIgZml4LlxuICAgICAgICAgICAgLy8gV2UgY2hlY2sgaG93IGZhciBvdXIgc3RhcnQgaXMgZnJvbSB0aGUgbGFzdCBleGlzdGluZyBwb2ludFxuICAgICAgICAgICAgdmFyIHhEaWZmID0gTWF0aC5hYnMocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSAtIHN0YXJ0WCk7XG4gICAgICAgICAgICB2YXIgeURpZmYgPSBNYXRoLmFicyhwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdIC0gc3RhcnRZKTtcbiAgICAgICAgICAgIGlmICh4RGlmZiA8IGVwcyAmJiB5RGlmZiA8IGVwcykgO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goc3RhcnRYLCBzdGFydFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oc3RhcnRYLCBzdGFydFkpO1xuICAgICAgICAgICAgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgIH1cbiAgICAgICAgQXJjVXRpbHMuYXJjKHN0YXJ0WCwgc3RhcnRZLCBjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UsIHBvaW50cyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIGEgc2ltcGxlIG9uZS1jb2xvciBmaWxsIHRoYXQgc3Vic2VxdWVudCBjYWxscyB0byBvdGhlciBHcmFwaGljcyBtZXRob2RzXG4gICAgICogKHN1Y2ggYXMgbGluZVRvKCkgb3IgZHJhd0NpcmNsZSgpKSB1c2Ugd2hlbiBkcmF3aW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb2xvcj0wXSAtIHRoZSBjb2xvciBvZiB0aGUgZmlsbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gLSB0aGUgYWxwaGEgb2YgdGhlIGZpbGxcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlZ2luRmlsbCA9IGZ1bmN0aW9uIChjb2xvciwgYWxwaGEpIHtcbiAgICAgICAgaWYgKGNvbG9yID09PSB2b2lkIDApIHsgY29sb3IgPSAwOyB9XG4gICAgICAgIGlmIChhbHBoYSA9PT0gdm9pZCAwKSB7IGFscGhhID0gMTsgfVxuICAgICAgICByZXR1cm4gdGhpcy5iZWdpblRleHR1cmVGaWxsKHsgdGV4dHVyZTogVGV4dHVyZS5XSElURSwgY29sb3I6IGNvbG9yLCBhbHBoYTogYWxwaGEgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCZWdpbiB0aGUgdGV4dHVyZSBmaWxsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT2JqZWN0IG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW29wdGlvbnMudGV4dHVyZT1QSVhJLlRleHR1cmUuV0hJVEVdIC0gVGV4dHVyZSB0byBmaWxsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbG9yPTB4ZmZmZmZmXSAtIEJhY2tncm91bmQgdG8gZmlsbCBiZWhpbmQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbHBoYT0xXSAtIEFscGhhIG9mIGZpbGxcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbb3B0aW9ucy5tYXRyaXg9bnVsbF0gLSBUcmFuc2Zvcm0gbWF0cml4XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZWdpblRleHR1cmVGaWxsID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIHBhcmFtczogKHRleHR1cmUsIGNvbG9yLCBhbHBoYSwgbWF0cml4KVxuICAgICAgICBpZiAob3B0aW9ucyBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCd2NS4yLjAnLCAnUGxlYXNlIHVzZSBvYmplY3QtYmFzZWQgb3B0aW9ucyBmb3IgR3JhcGhpY3MjYmVnaW5UZXh0dXJlRmlsbCcpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICB2YXIgX2EgPSBhcmd1bWVudHMsIHRleHR1cmUgPSBfYVswXSwgY29sb3IgPSBfYVsxXSwgYWxwaGEgPSBfYVsyXSwgbWF0cml4ID0gX2FbM107XG4gICAgICAgICAgICBvcHRpb25zID0geyB0ZXh0dXJlOiB0ZXh0dXJlLCBjb2xvcjogY29sb3IsIGFscGhhOiBhbHBoYSwgbWF0cml4OiBtYXRyaXggfTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB1bmRlZmluZWQga2V5c1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBvcHRpb25zW2tleV0gPT09IHVuZGVmaW5lZCAmJiBkZWxldGUgb3B0aW9uc1trZXldOyB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBcHBseSBkZWZhdWx0c1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB0ZXh0dXJlOiBUZXh0dXJlLldISVRFLFxuICAgICAgICAgICAgY29sb3I6IDB4RkZGRkZGLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBtYXRyaXg6IG51bGwsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmlzaWJsZSA9IG9wdGlvbnMuYWxwaGEgPiAwO1xuICAgICAgICBpZiAoIXZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubWF0cml4KSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5tYXRyaXggPSBvcHRpb25zLm1hdHJpeC5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWF0cml4LmludmVydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9maWxsU3R5bGUsIHsgdmlzaWJsZTogdmlzaWJsZSB9LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSBmaWxsIHRvIHRoZSBsaW5lcyBhbmQgc2hhcGVzIHRoYXQgd2VyZSBhZGRlZCBzaW5jZSB0aGUgbGFzdCBjYWxsIHRvIHRoZSBiZWdpbkZpbGwoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmVuZEZpbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIHJlY3RhbmdsZSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3UmVjdCA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXcgYSByZWN0YW5nbGUgc2hhcGUgd2l0aCByb3VuZGVkL2JldmVsZWQgY29ybmVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFJhZGl1cyBvZiB0aGUgcmVjdGFuZ2xlIGNvcm5lcnNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdSb3VuZGVkUmVjdCA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBSb3VuZGVkUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBjaXJjbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdDaXJjbGUgPSBmdW5jdGlvbiAoeCwgeSwgcmFkaXVzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgQ2lyY2xlKHgsIHksIHJhZGl1cykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYW4gZWxsaXBzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgaGFsZiB3aWR0aCBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGFsZiBoZWlnaHQgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdFbGxpcHNlID0gZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBFbGxpcHNlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIGEgcG9seWdvbiB1c2luZyB0aGUgZ2l2ZW4gcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW118UElYSS5Qb2ludFtdfFBJWEkuUG9seWdvbn0gcGF0aCAtIFRoZSBwYXRoIGRhdGEgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIHBvbHlnb24uXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3UG9seWdvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHZhciBwYXRoID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBwYXRoW19pXSA9IGFyZ3VtZW50cyQxW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcG9pbnRzO1xuICAgICAgICB2YXIgY2xvc2VTdHJva2UgPSB0cnVlOyAvLyAhIXRoaXMuX2ZpbGxTdHlsZTtcbiAgICAgICAgdmFyIHBvbHkgPSBwYXRoWzBdO1xuICAgICAgICAvLyBjaGVjayBpZiBkYXRhIGhhcyBwb2ludHMuLlxuICAgICAgICBpZiAocG9seS5wb2ludHMpIHtcbiAgICAgICAgICAgIGNsb3NlU3Ryb2tlID0gcG9seS5jbG9zZVN0cm9rZTtcbiAgICAgICAgICAgIHBvaW50cyA9IHBvbHkucG9pbnRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocGF0aFswXSkpIHtcbiAgICAgICAgICAgIHBvaW50cyA9IHBhdGhbMF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwb2ludHMgPSBwYXRoO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzaGFwZSA9IG5ldyBQb2x5Z29uKHBvaW50cyk7XG4gICAgICAgIHNoYXBlLmNsb3NlU3Ryb2tlID0gY2xvc2VTdHJva2U7XG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKHNoYXBlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3IGFueSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gU2hhcGUgdG8gZHJhd1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1NoYXBlID0gZnVuY3Rpb24gKHNoYXBlKSB7XG4gICAgICAgIGlmICghdGhpcy5faG9sZU1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2dlb21ldHJ5LmRyYXdTaGFwZShzaGFwZSwgdGhpcy5fZmlsbFN0eWxlLmNsb25lKCksIHRoaXMuX2xpbmVTdHlsZS5jbG9uZSgpLCB0aGlzLl9tYXRyaXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZ2VvbWV0cnkuZHJhd0hvbGUoc2hhcGUsIHRoaXMuX21hdHJpeCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3IGEgc3RhciBzaGFwZSB3aXRoIGFuIGFyYml0cmFyeSBudW1iZXIgb2YgcG9pbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBDZW50ZXIgWCBwb3NpdGlvbiBvZiB0aGUgc3RhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gQ2VudGVyIFkgcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRzIC0gVGhlIG51bWJlciBvZiBwb2ludHMgb2YgdGhlIHN0YXIsIG11c3QgYmUgPiAxXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSBvdXRlciByYWRpdXMgb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2lubmVyUmFkaXVzXSAtIFRoZSBpbm5lciByYWRpdXMgYmV0d2VlbiBwb2ludHMsIGRlZmF1bHQgaGFsZiBgcmFkaXVzYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb24gb2YgdGhlIHN0YXIgaW4gcmFkaWFucywgd2hlcmUgMCBpcyB2ZXJ0aWNhbFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1N0YXIgPSBmdW5jdGlvbiAoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCByb3RhdGlvbikge1xuICAgICAgICBpZiAocm90YXRpb24gPT09IHZvaWQgMCkgeyByb3RhdGlvbiA9IDA7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1BvbHlnb24obmV3IFN0YXIoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCByb3RhdGlvbikpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBncmFwaGljcyB0aGF0IHdlcmUgZHJhd24gdG8gdGhpcyBHcmFwaGljcyBvYmplY3QsIGFuZCByZXNldHMgZmlsbCBhbmQgbGluZSBzdHlsZSBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2dlb21ldHJ5LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZS5yZXNldCgpO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiBncmFwaGljcyBjb25zaXN0cyBvZiBvbmUgcmVjdGFuZ2xlLCBhbmQgdGh1cywgY2FuIGJlIGRyYXduIGxpa2UgYSBTcHJpdGUgYW5kXG4gICAgICogbWFza2VkIHdpdGggZ2wuc2Npc3Nvci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9ubHkgMSByZWN0LlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5pc0Zhc3RSZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2dlb21ldHJ5LmdyYXBoaWNzRGF0YTtcbiAgICAgICAgcmV0dXJuIGRhdGEubGVuZ3RoID09PSAxXG4gICAgICAgICAgICAmJiBkYXRhWzBdLnNoYXBlLnR5cGUgPT09IFNIQVBFUy5SRUNUXG4gICAgICAgICAgICAmJiAhKGRhdGFbMF0ubGluZVN0eWxlLnZpc2libGUgJiYgZGF0YVswXS5saW5lU3R5bGUud2lkdGgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fZ2VvbWV0cnk7XG4gICAgICAgIHZhciBoYXN1aW50MzIgPSByZW5kZXJlci5jb250ZXh0LnN1cHBvcnRzLnVpbnQzMkluZGljZXM7XG4gICAgICAgIC8vIGJhdGNoIHBhcnQuLlxuICAgICAgICAvLyBiYXRjaCBpdCFcbiAgICAgICAgZ2VvbWV0cnkudXBkYXRlQmF0Y2hlcyhoYXN1aW50MzIpO1xuICAgICAgICBpZiAoZ2VvbWV0cnkuYmF0Y2hhYmxlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5iYXRjaERpcnR5ICE9PSBnZW9tZXRyeS5iYXRjaERpcnR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9wdWxhdGVCYXRjaGVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJCYXRjaGVkKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vIGJhdGNoaW5nLi4uXG4gICAgICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRGlyZWN0KHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9wdWxhdGluZyBiYXRjaGVzIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3BvcHVsYXRlQmF0Y2hlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fZ2VvbWV0cnk7XG4gICAgICAgIHZhciBibGVuZE1vZGUgPSB0aGlzLmJsZW5kTW9kZTtcbiAgICAgICAgdmFyIGxlbiA9IGdlb21ldHJ5LmJhdGNoZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLmJhdGNoVGludCA9IC0xO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLmJhdGNoRGlydHkgPSBnZW9tZXRyeS5iYXRjaERpcnR5O1xuICAgICAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gbGVuO1xuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGdlb21ldHJ5LnBvaW50cyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBnSSA9IGdlb21ldHJ5LmJhdGNoZXNbaV07XG4gICAgICAgICAgICB2YXIgY29sb3IgPSBnSS5zdHlsZS5jb2xvcjtcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnZlcnRleERhdGEuYnVmZmVyLCBnSS5hdHRyaWJTdGFydCAqIDQgKiAyLCBnSS5hdHRyaWJTaXplICogMik7XG4gICAgICAgICAgICB2YXIgdXZzID0gbmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeS51dnNGbG9hdDMyLmJ1ZmZlciwgZ0kuYXR0cmliU3RhcnQgKiA0ICogMiwgZ0kuYXR0cmliU2l6ZSAqIDIpO1xuICAgICAgICAgICAgdmFyIGluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoZ2VvbWV0cnkuaW5kaWNlc1VpbnQxNi5idWZmZXIsIGdJLnN0YXJ0ICogMiwgZ0kuc2l6ZSk7XG4gICAgICAgICAgICB2YXIgYmF0Y2ggPSB7XG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YTogdmVydGV4RGF0YSxcbiAgICAgICAgICAgICAgICBibGVuZE1vZGU6IGJsZW5kTW9kZSxcbiAgICAgICAgICAgICAgICBpbmRpY2VzOiBpbmRpY2VzLFxuICAgICAgICAgICAgICAgIHV2czogdXZzLFxuICAgICAgICAgICAgICAgIF9iYXRjaFJHQjogaGV4MnJnYihjb2xvciksXG4gICAgICAgICAgICAgICAgX3RpbnRSR0I6IGNvbG9yLFxuICAgICAgICAgICAgICAgIF90ZXh0dXJlOiBnSS5zdHlsZS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgIGFscGhhOiBnSS5zdHlsZS5hbHBoYSxcbiAgICAgICAgICAgICAgICB3b3JsZEFscGhhOiAxXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5iYXRjaGVzW2ldID0gYmF0Y2g7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGJhdGNoZXMgdXNpbmcgdGhlIEJhdGhlZFJlbmRlcmVyIHBsdWdpblxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlckJhdGNoZWQgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJhdGNoZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVRpbnRzKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJhdGNoID0gdGhpcy5iYXRjaGVzW2ldO1xuICAgICAgICAgICAgYmF0Y2gud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYSAqIGJhdGNoLmFscGhhO1xuICAgICAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcihiYXRjaCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGdyYXBoaWNzIGRpcmVjdFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlckRpcmVjdCA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5fcmVzb2x2ZURpcmVjdFNoYWRlcihyZW5kZXJlcik7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuX2dlb21ldHJ5O1xuICAgICAgICB2YXIgdGludCA9IHRoaXMudGludDtcbiAgICAgICAgdmFyIHdvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHNoYWRlci51bmlmb3JtcztcbiAgICAgICAgdmFyIGRyYXdDYWxscyA9IGdlb21ldHJ5LmRyYXdDYWxscztcbiAgICAgICAgLy8gbGV0cyBzZXQgdGhlIHRyYW5zZm9tclxuICAgICAgICB1bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICAvLyBhbmQgdGhlbiBsZXRzIHNldCB0aGUgdGludC4uXG4gICAgICAgIHVuaWZvcm1zLnRpbnRbMF0gPSAoKCh0aW50ID4+IDE2KSAmIDB4RkYpIC8gMjU1KSAqIHdvcmxkQWxwaGE7XG4gICAgICAgIHVuaWZvcm1zLnRpbnRbMV0gPSAoKCh0aW50ID4+IDgpICYgMHhGRikgLyAyNTUpICogd29ybGRBbHBoYTtcbiAgICAgICAgdW5pZm9ybXMudGludFsyXSA9ICgodGludCAmIDB4RkYpIC8gMjU1KSAqIHdvcmxkQWxwaGE7XG4gICAgICAgIHVuaWZvcm1zLnRpbnRbM10gPSB3b3JsZEFscGhhO1xuICAgICAgICAvLyB0aGUgZmlyc3QgZHJhdyBjYWxsLCB3ZSBjYW4gc2V0IHRoZSB1bmlmb3JtcyBvZiB0aGUgc2hhZGVyIGRpcmVjdGx5IGhlcmUuXG4gICAgICAgIC8vIHRoaXMgbWVhbnMgdGhhdCB3ZSBjYW4gdGFjayBhZHZhbnRhZ2Ugb2YgdGhlIHN5bmMgZnVuY3Rpb24gb2YgcGl4aSFcbiAgICAgICAgLy8gYmluZCBhbmQgc3luYyB1bmlmb3Jtcy4uXG4gICAgICAgIC8vIHRoZXJlIGlzIGEgd2F5IHRvIG9wdGltaXNlIHRoaXMuLlxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGdlb21ldHJ5LCBzaGFkZXIpO1xuICAgICAgICAvLyBzZXQgc3RhdGUuLlxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgICAgIC8vIHRoZW4gcmVuZGVyIHRoZSByZXN0IG9mIHRoZW0uLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBkcmF3Q2FsbHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEcmF3Q2FsbERpcmVjdChyZW5kZXJlciwgZ2VvbWV0cnkuZHJhd0NhbGxzW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyBzcGVjaWZpYyBEcmF3Q2FsbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXRjaERyYXdDYWxsfSBkcmF3Q2FsbFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyRHJhd0NhbGxEaXJlY3QgPSBmdW5jdGlvbiAocmVuZGVyZXIsIGRyYXdDYWxsKSB7XG4gICAgICAgIHZhciB0ZXhBcnJheSA9IGRyYXdDYWxsLnRleEFycmF5LCB0eXBlID0gZHJhd0NhbGwudHlwZSwgc2l6ZSA9IGRyYXdDYWxsLnNpemUsIHN0YXJ0ID0gZHJhd0NhbGwuc3RhcnQ7XG4gICAgICAgIHZhciBncm91cFRleHR1cmVDb3VudCA9IHRleEFycmF5LmNvdW50O1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGdyb3VwVGV4dHVyZUNvdW50OyBqKyspIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnRleHR1cmUuYmluZCh0ZXhBcnJheS5lbGVtZW50c1tqXSwgaik7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyh0eXBlLCBzaXplLCBzdGFydCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyBzaGFkZXIgZm9yIGRpcmVjdCByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZXNvbHZlRGlyZWN0U2hhZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcbiAgICAgICAgdmFyIHBsdWdpbk5hbWUgPSB0aGlzLnBsdWdpbk5hbWU7XG4gICAgICAgIGlmICghc2hhZGVyKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBzaGFkZXIgaGVyZSwgd2UgY2FuIHVzZSB0aGUgZGVmYXVsdCBzaGFkZXIuXG4gICAgICAgICAgICAvLyBhbmQgdGhhdCBvbmx5IGdldHMgY3JlYXRlZCBpZiB3ZSBhY3R1YWxseSBuZWVkIGl0Li5cbiAgICAgICAgICAgIC8vIGJ1dCBtYXkgYmUgbW9yZSB0aGFuIG9uZSBwbHVnaW5zIGZvciBncmFwaGljc1xuICAgICAgICAgICAgaWYgKCFERUZBVUxUX1NIQURFUlNbcGx1Z2luTmFtZV0pIHtcbiAgICAgICAgICAgICAgICB2YXIgTUFYX1RFWFRVUkVTID0gcmVuZGVyZXIucGx1Z2lucy5iYXRjaC5NQVhfVEVYVFVSRVM7XG4gICAgICAgICAgICAgICAgdmFyIHNhbXBsZVZhbHVlcyA9IG5ldyBJbnQzMkFycmF5KE1BWF9URVhUVVJFUyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBNQVhfVEVYVFVSRVM7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBzYW1wbGVWYWx1ZXNbaV0gPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbnQ6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb25NYXRyaXg6IG5ldyBNYXRyaXgoKSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogVW5pZm9ybUdyb3VwLmZyb20oeyB1U2FtcGxlcnM6IHNhbXBsZVZhbHVlcyB9LCB0cnVlKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBwcm9ncmFtID0gcmVuZGVyZXIucGx1Z2luc1twbHVnaW5OYW1lXS5fc2hhZGVyLnByb2dyYW07XG4gICAgICAgICAgICAgICAgREVGQVVMVF9TSEFERVJTW3BsdWdpbk5hbWVdID0gbmV3IFNoYWRlcihwcm9ncmFtLCB1bmlmb3Jtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaGFkZXIgPSBERUZBVUxUX1NIQURFUlNbcGx1Z2luTmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNoYWRlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgYm91bmRzIG9mIHRoZSBncmFwaGljIHNoYXBlIGFzIGEgcmVjdGFuZ2xlIG9iamVjdFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fZ2VvbWV0cnk7XG4gICAgICAgIC8vIHNraXBwaW5nIHdoZW4gZ3JhcGhpY3MgaXMgZW1wdHksIGxpa2UgYSBjb250YWluZXJcbiAgICAgICAgaWYgKCFnZW9tZXRyeS5ncmFwaGljc0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gZ2VvbWV0cnkuYm91bmRzLCBtaW5YID0gX2EubWluWCwgbWluWSA9IF9hLm1pblksIG1heFggPSBfYS5tYXhYLCBtYXhZID0gX2EubWF4WTtcbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgR3JhcGhpY3MuX1RFTVBfUE9JTlQpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2VvbWV0cnkuY29udGFpbnNQb2ludChHcmFwaGljcy5fVEVNUF9QT0lOVCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNhbGN1YXRlIHRoZSB0aW50IGJ5IGFwcGx5aW5nIHRpbiB0byBiYXRjaGVzIHVzaW5nIEdyYXBoaWNzIHRpbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jYWxjdWxhdGVUaW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hUaW50ICE9PSB0aGlzLnRpbnQpIHtcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hUaW50ID0gdGhpcy50aW50O1xuICAgICAgICAgICAgdmFyIHRpbnRSR0IgPSBoZXgycmdiKHRoaXMudGludCwgdGVtcCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBiYXRjaCA9IHRoaXMuYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgYmF0Y2hUaW50ID0gYmF0Y2guX2JhdGNoUkdCO1xuICAgICAgICAgICAgICAgIHZhciByID0gKHRpbnRSR0JbMF0gKiBiYXRjaFRpbnRbMF0pICogMjU1O1xuICAgICAgICAgICAgICAgIHZhciBnID0gKHRpbnRSR0JbMV0gKiBiYXRjaFRpbnRbMV0pICogMjU1O1xuICAgICAgICAgICAgICAgIHZhciBiID0gKHRpbnRSR0JbMl0gKiBiYXRjaFRpbnRbMl0pICogMjU1O1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gSXZhbiwgY2FuIHRoaXMgYmUgZG9uZSBpbiBvbmUgZ28/XG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gKHIgPDwgMTYpICsgKGcgPDwgOCkgKyAoYiB8IDApO1xuICAgICAgICAgICAgICAgIGJhdGNoLl90aW50UkdCID0gKGNvbG9yID4+IDE2KVxuICAgICAgICAgICAgICAgICAgICArIChjb2xvciAmIDB4ZmYwMClcbiAgICAgICAgICAgICAgICAgICAgKyAoKGNvbG9yICYgMHhmZikgPDwgMTYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJZiB0aGVyZSdzIGEgdHJhbnNmb3JtIHVwZGF0ZSBvciBhIGNoYW5nZSB0byB0aGUgc2hhcGUgb2YgdGhlXG4gICAgICogZ2VvbWV0cnksIHJlY2FjdWxhdGUgdGhlIHZlcnRpY2VzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB3dElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1JRCA9PT0gd3RJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gd3RJRDtcbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2dlb21ldHJ5LnBvaW50czsgLy8gYmF0Y2gudmVydGV4RGF0YU9yaWdpbmFsO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgeCA9IGRhdGFbaV07XG4gICAgICAgICAgICB2YXIgeSA9IGRhdGFbaSArIDFdO1xuICAgICAgICAgICAgdmVydGV4RGF0YVtjb3VudCsrXSA9IChhICogeCkgKyAoYyAqIHkpICsgdHg7XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhW2NvdW50KytdID0gKGQgKiB5KSArIChiICogeCkgKyB0eTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBjdXJyZW50IHBhdGguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xvc2VQYXRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3VycmVudFBhdGggPSB0aGlzLmN1cnJlbnRQYXRoO1xuICAgICAgICBpZiAoY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gYWRkIGV4dHJhIHBvaW50IGluIHRoZSBlbmQgYmVjYXVzZSBidWlsZExpbmUgd2lsbCB0YWtlIGNhcmUgb2YgdGhhdFxuICAgICAgICAgICAgY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbHkgYSBtYXRyaXggdG8gdGhlIHBvc2l0aW9uYWwgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIE1hdHJpeCB0byB1c2UgZm9yIHRyYW5zZm9ybSBjdXJyZW50IHNoYXBlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5zZXRNYXRyaXggPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG1hdHJpeDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCZWdpbiBhZGRpbmcgaG9sZXMgdG8gdGhlIGxhc3QgZHJhdyBzaGFwZVxuICAgICAqIElNUE9SVEFOVDogaG9sZXMgbXVzdCBiZSBmdWxseSBpbnNpZGUgYSBzaGFwZSB0byB3b3JrXG4gICAgICogQWxzbyB3ZWlyZG5lc3MgZW5zdWVzIGlmIGhvbGVzIG92ZXJsYXAhXG4gICAgICogRWxsaXBzZXMsIENpcmNsZXMsIFJlY3RhbmdsZXMgYW5kIFJvdW5kZWQgUmVjdGFuZ2xlcyBjYW5ub3QgYmUgaG9sZXMgb3IgaG9zdCBmb3IgaG9sZXMgaW4gQ2FudmFzUmVuZGVyZXIsXG4gICAgICogcGxlYXNlIHVzZSBgbW92ZVRvYCBgbGluZVRvYCwgYHF1YWRyYXRpY0N1cnZlVG9gIGlmIHlvdSByZWx5IG9uIHBpeGktbGVnYWN5IGJ1bmRsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYmVnaW5Ib2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuZCBhZGRpbmcgaG9sZXMgdG8gdGhlIGxhc3QgZHJhdyBzaGFwZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5lbmRIb2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGxcbiAgICAgKiAgb3B0aW9ucyBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZVxuICAgICAqICB0aGVpciBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2dlb21ldHJ5LnJlZkNvdW50LS07XG4gICAgICAgIGlmICh0aGlzLl9nZW9tZXRyeS5yZWZDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICB0aGlzLl9saW5lU3R5bGUuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9saW5lU3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9nZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG51bGw7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVtcG9yYXJ5IHBvaW50IHRvIHVzZSBmb3IgY29udGFpbnNQb2ludFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgKi9cbiAgICBHcmFwaGljcy5fVEVNUF9QT0lOVCA9IG5ldyBQb2ludCgpO1xuICAgIHJldHVybiBHcmFwaGljcztcbn0oQ29udGFpbmVyKSk7XG5cbmV4cG9ydCB7IEZpbGxTdHlsZSwgR1JBUEhJQ1NfQ1VSVkVTLCBHcmFwaGljcywgR3JhcGhpY3NEYXRhLCBHcmFwaGljc0dlb21ldHJ5LCBMSU5FX0NBUCwgTElORV9KT0lOLCBMaW5lU3R5bGUsIGluZGV4IGFzIGdyYXBoaWNzVXRpbHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyYXBoaWNzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9tYXRoIC0gdjUuMy43XG4gKiBDb21waWxlZCBUdWUsIDI5IERlYyAyMDIwIDE5OjMwOjExIFVUQ1xuICpcbiAqIEBwaXhpL21hdGggaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4vKipcbiAqIFR3byBQaS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge251bWJlcn0gUElfMlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBJXzIgPSBNYXRoLlBJICogMjtcbi8qKlxuICogQ29udmVyc2lvbiBmYWN0b3IgZm9yIGNvbnZlcnRpbmcgcmFkaWFucyB0byBkZWdyZWVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7bnVtYmVyfSBSQURfVE9fREVHXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUkFEX1RPX0RFRyA9IDE4MCAvIE1hdGguUEk7XG4vKipcbiAqIENvbnZlcnNpb24gZmFjdG9yIGZvciBjb252ZXJ0aW5nIGRlZ3JlZXMgdG8gcmFkaWFucy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge251bWJlcn0gREVHX1RPX1JBRFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIERFR19UT19SQUQgPSBNYXRoLlBJIC8gMTgwO1xudmFyIFNIQVBFUztcbihmdW5jdGlvbiAoU0hBUEVTKSB7XG4gICAgU0hBUEVTW1NIQVBFU1tcIlBPTFlcIl0gPSAwXSA9IFwiUE9MWVwiO1xuICAgIFNIQVBFU1tTSEFQRVNbXCJSRUNUXCJdID0gMV0gPSBcIlJFQ1RcIjtcbiAgICBTSEFQRVNbU0hBUEVTW1wiQ0lSQ1wiXSA9IDJdID0gXCJDSVJDXCI7XG4gICAgU0hBUEVTW1NIQVBFU1tcIkVMSVBcIl0gPSAzXSA9IFwiRUxJUFwiO1xuICAgIFNIQVBFU1tTSEFQRVNbXCJSUkVDXCJdID0gNF0gPSBcIlJSRUNcIjtcbn0pKFNIQVBFUyB8fCAoU0hBUEVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgaWRlbnRpZnkgc2hhcGVzLCBtYWlubHkgdG8gcHJldmVudCBgaW5zdGFuY2VvZmAgY2FsbHMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBTSEFQRVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7ZW51bX1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT0xZIFBvbHlnb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSRUNUIFJlY3RhbmdsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENJUkMgQ2lyY2xlXG4gKiBAcHJvcGVydHkge251bWJlcn0gRUxJUCBFbGxpcHNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gUlJFQyBSb3VuZGVkIFJlY3RhbmdsZVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuXG4vKipcbiAqIFNpemUgb2JqZWN0LCBjb250YWlucyB3aWR0aCBhbmQgaGVpZ2h0XG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElTaXplXG4gKiBAcHJvcGVydHkge251bWJlcn0gd2lkdGggLSBXaWR0aCBjb21wb25lbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgY29tcG9uZW50XG4gKi9cbi8qKlxuICogUmVjdGFuZ2xlIG9iamVjdCBpcyBhbiBhcmVhIGRlZmluZWQgYnkgaXRzIHBvc2l0aW9uLCBhcyBpbmRpY2F0ZWQgYnkgaXRzIHRvcC1sZWZ0IGNvcm5lclxuICogcG9pbnQgKHgsIHkpIGFuZCBieSBpdHMgd2lkdGggYW5kIGl0cyBoZWlnaHQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVjdGFuZ2xlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIFRoZSBvdmVyYWxsIHdpZHRoIG9mIHRoaXMgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MF0gLSBUaGUgb3ZlcmFsbCBoZWlnaHQgb2YgdGhpcyByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAwOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IE51bWJlcih4KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0gTnVtYmVyKHkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gTnVtYmVyKHdpZHRoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBOdW1iZXIoaGVpZ2h0KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUkVDVFxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUkVDVDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY3RhbmdsZS5wcm90b3R5cGUsIFwibGVmdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLng7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjdGFuZ2xlLnByb3RvdHlwZSwgXCJyaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSByaWdodCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54ICsgdGhpcy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWN0YW5nbGUucHJvdG90eXBlLCBcInRvcFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSB0b3AgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWN0YW5nbGUucHJvdG90eXBlLCBcImJvdHRvbVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSBib3R0b20gZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueSArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY3RhbmdsZSwgXCJFTVBUWVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNvbnN0YW50IGVtcHR5IHJlY3RhbmdsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBBbiBlbXB0eSByZWN0YW5nbGVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUoMCwgMCwgMCwgMCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBhIGNvcHkgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgYW5vdGhlciByZWN0YW5nbGUgdG8gdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGNvcHkgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jb3B5RnJvbSA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgdGhpcy54ID0gcmVjdGFuZ2xlLng7XG4gICAgICAgIHRoaXMueSA9IHJlY3RhbmdsZS55O1xuICAgICAgICB0aGlzLndpZHRoID0gcmVjdGFuZ2xlLndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHJlY3RhbmdsZS5oZWlnaHQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoaXMgcmVjdGFuZ2xlIHRvIGFub3RoZXIgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBjb3B5IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGdpdmVuIHBhcmFtZXRlci5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNvcHlUbyA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgcmVjdGFuZ2xlLnggPSB0aGlzLng7XG4gICAgICAgIHJlY3RhbmdsZS55ID0gdGhpcy55O1xuICAgICAgICByZWN0YW5nbGUud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICByZWN0YW5nbGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgIHJldHVybiByZWN0YW5nbGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggPj0gdGhpcy54ICYmIHggPCB0aGlzLnggKyB0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICBpZiAoeSA+PSB0aGlzLnkgJiYgeSA8IHRoaXMueSArIHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFkcyB0aGUgcmVjdGFuZ2xlIG1ha2luZyBpdCBncm93IGluIGFsbCBkaXJlY3Rpb25zLlxuICAgICAqIElmIHBhZGRpbmdZIGlzIG9taXR0ZWQsIGJvdGggcGFkZGluZ1ggYW5kIHBhZGRpbmdZIHdpbGwgYmUgc2V0IHRvIHBhZGRpbmdYLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRkaW5nWD0wXSAtIFRoZSBob3Jpem9udGFsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkZGluZ1k9MF0gLSBUaGUgdmVydGljYWwgcGFkZGluZyBhbW91bnQuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24gKHBhZGRpbmdYLCBwYWRkaW5nWSkge1xuICAgICAgICBpZiAocGFkZGluZ1ggPT09IHZvaWQgMCkgeyBwYWRkaW5nWCA9IDA7IH1cbiAgICAgICAgaWYgKHBhZGRpbmdZID09PSB2b2lkIDApIHsgcGFkZGluZ1kgPSBwYWRkaW5nWDsgfVxuICAgICAgICB0aGlzLnggLT0gcGFkZGluZ1g7XG4gICAgICAgIHRoaXMueSAtPSBwYWRkaW5nWTtcbiAgICAgICAgdGhpcy53aWR0aCArPSBwYWRkaW5nWCAqIDI7XG4gICAgICAgIHRoaXMuaGVpZ2h0ICs9IHBhZGRpbmdZICogMjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaXRzIHRoaXMgcmVjdGFuZ2xlIGFyb3VuZCB0aGUgcGFzc2VkIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gZml0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmZpdCA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgdmFyIHgxID0gTWF0aC5tYXgodGhpcy54LCByZWN0YW5nbGUueCk7XG4gICAgICAgIHZhciB4MiA9IE1hdGgubWluKHRoaXMueCArIHRoaXMud2lkdGgsIHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoKTtcbiAgICAgICAgdmFyIHkxID0gTWF0aC5tYXgodGhpcy55LCByZWN0YW5nbGUueSk7XG4gICAgICAgIHZhciB5MiA9IE1hdGgubWluKHRoaXMueSArIHRoaXMuaGVpZ2h0LCByZWN0YW5nbGUueSArIHJlY3RhbmdsZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLnggPSB4MTtcbiAgICAgICAgdGhpcy53aWR0aCA9IE1hdGgubWF4KHgyIC0geDEsIDApO1xuICAgICAgICB0aGlzLnkgPSB5MTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLm1heCh5MiAtIHkxLCAwKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmxhcmdlcyByZWN0YW5nbGUgdGhhdCB3YXkgaXRzIGNvcm5lcnMgbGllIG9uIGdyaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSByZXNvbHV0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlcHM9MC4wMDFdIHByZWNpc2lvblxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNlaWwgPSBmdW5jdGlvbiAocmVzb2x1dGlvbiwgZXBzKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSB2b2lkIDApIHsgcmVzb2x1dGlvbiA9IDE7IH1cbiAgICAgICAgaWYgKGVwcyA9PT0gdm9pZCAwKSB7IGVwcyA9IDAuMDAxOyB9XG4gICAgICAgIHZhciB4MiA9IE1hdGguY2VpbCgodGhpcy54ICsgdGhpcy53aWR0aCAtIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICAgIHZhciB5MiA9IE1hdGguY2VpbCgodGhpcy55ICsgdGhpcy5oZWlnaHQgLSBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnggPSBNYXRoLmZsb29yKCh0aGlzLnggKyBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnkgPSBNYXRoLmZsb29yKCh0aGlzLnkgKyBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLndpZHRoID0geDIgLSB0aGlzLng7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0geTIgLSB0aGlzLnk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5sYXJnZXMgdGhpcyByZWN0YW5nbGUgdG8gaW5jbHVkZSB0aGUgcGFzc2VkIHJlY3RhbmdsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gaW5jbHVkZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5lbmxhcmdlID0gZnVuY3Rpb24gKHJlY3RhbmdsZSkge1xuICAgICAgICB2YXIgeDEgPSBNYXRoLm1pbih0aGlzLngsIHJlY3RhbmdsZS54KTtcbiAgICAgICAgdmFyIHgyID0gTWF0aC5tYXgodGhpcy54ICsgdGhpcy53aWR0aCwgcmVjdGFuZ2xlLnggKyByZWN0YW5nbGUud2lkdGgpO1xuICAgICAgICB2YXIgeTEgPSBNYXRoLm1pbih0aGlzLnksIHJlY3RhbmdsZS55KTtcbiAgICAgICAgdmFyIHkyID0gTWF0aC5tYXgodGhpcy55ICsgdGhpcy5oZWlnaHQsIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCk7XG4gICAgICAgIHRoaXMueCA9IHgxO1xuICAgICAgICB0aGlzLndpZHRoID0geDIgLSB4MTtcbiAgICAgICAgdGhpcy55ID0geTE7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0geTIgLSB5MTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gUmVjdGFuZ2xlO1xufSgpKTtcblxuLyoqXG4gKiBUaGUgQ2lyY2xlIG9iamVjdCBpcyB1c2VkIHRvIGhlbHAgZHJhdyBncmFwaGljcyBhbmQgY2FuIGFsc28gYmUgdXNlZCB0byBzcGVjaWZ5IGEgaGl0IGFyZWEgZm9yIGRpc3BsYXlPYmplY3RzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENpcmNsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl1cz0wXSAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENpcmNsZSh4LCB5LCByYWRpdXMpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmIChyYWRpdXMgPT09IHZvaWQgMCkgeyByYWRpdXMgPSAwOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5DSVJDXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5DSVJDO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBDaXJjbGUgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuQ2lyY2xlfSBhIGNvcHkgb2YgdGhlIENpcmNsZVxuICAgICAqL1xuICAgIENpcmNsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2lyY2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLnJhZGl1cyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIGNpcmNsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBDaXJjbGVcbiAgICAgKi9cbiAgICBDaXJjbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMucmFkaXVzIDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcjIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuICAgICAgICB2YXIgZHggPSAodGhpcy54IC0geCk7XG4gICAgICAgIHZhciBkeSA9ICh0aGlzLnkgLSB5KTtcbiAgICAgICAgZHggKj0gZHg7XG4gICAgICAgIGR5ICo9IGR5O1xuICAgICAgICByZXR1cm4gKGR4ICsgZHkgPD0gcjIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBmcmFtaW5nIHJlY3RhbmdsZSBvZiB0aGUgY2lyY2xlIGFzIGEgUmVjdGFuZ2xlIG9iamVjdFxuICAgICpcbiAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgZnJhbWluZyByZWN0YW5nbGVcbiAgICAqL1xuICAgIENpcmNsZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLnJhZGl1cywgdGhpcy55IC0gdGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzICogMiwgdGhpcy5yYWRpdXMgKiAyKTtcbiAgICB9O1xuICAgIHJldHVybiBDaXJjbGU7XG59KCkpO1xuXG4vKipcbiAqIFRoZSBFbGxpcHNlIG9iamVjdCBpcyB1c2VkIHRvIGhlbHAgZHJhdyBncmFwaGljcyBhbmQgY2FuIGFsc28gYmUgdXNlZCB0byBzcGVjaWZ5IGEgaGl0IGFyZWEgZm9yIGRpc3BsYXlPYmplY3RzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEVsbGlwc2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoaXMgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hhbGZXaWR0aD0wXSAtIFRoZSBoYWxmIHdpZHRoIG9mIHRoaXMgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGFsZkhlaWdodD0wXSAtIFRoZSBoYWxmIGhlaWdodCBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFbGxpcHNlKHgsIHksIGhhbGZXaWR0aCwgaGFsZkhlaWdodCkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKGhhbGZXaWR0aCA9PT0gdm9pZCAwKSB7IGhhbGZXaWR0aCA9IDA7IH1cbiAgICAgICAgaWYgKGhhbGZIZWlnaHQgPT09IHZvaWQgMCkgeyBoYWxmSGVpZ2h0ID0gMDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gaGFsZldpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhhbGZIZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLkVMSVBcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLkVMSVA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIEVsbGlwc2UgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuRWxsaXBzZX0gYSBjb3B5IG9mIHRoZSBlbGxpcHNlXG4gICAgICovXG4gICAgRWxsaXBzZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRWxsaXBzZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBlbGxpcHNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRzIGFyZSB3aXRoaW4gdGhpcyBlbGxpcHNlXG4gICAgICovXG4gICAgRWxsaXBzZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBub3JtYWxpemUgdGhlIGNvb3JkcyB0byBhbiBlbGxpcHNlIHdpdGggY2VudGVyIDAsMFxuICAgICAgICB2YXIgbm9ybXggPSAoKHggLSB0aGlzLngpIC8gdGhpcy53aWR0aCk7XG4gICAgICAgIHZhciBub3JteSA9ICgoeSAtIHRoaXMueSkgLyB0aGlzLmhlaWdodCk7XG4gICAgICAgIG5vcm14ICo9IG5vcm14O1xuICAgICAgICBub3JteSAqPSBub3JteTtcbiAgICAgICAgcmV0dXJuIChub3JteCArIG5vcm15IDw9IDEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZnJhbWluZyByZWN0YW5nbGUgb2YgdGhlIGVsbGlwc2UgYXMgYSBSZWN0YW5nbGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIGZyYW1pbmcgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgRWxsaXBzZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLndpZHRoLCB0aGlzLnkgLSB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH07XG4gICAgcmV0dXJuIEVsbGlwc2U7XG59KCkpO1xuXG4vKipcbiAqIEEgY2xhc3MgdG8gZGVmaW5lIGEgc2hhcGUgdmlhIHVzZXIgZGVmaW5lZCBjby1vcmluYXRlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQb2x5Z29uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnRbXXxudW1iZXJbXX0gcG9pbnRzIC0gVGhpcyBjYW4gYmUgYW4gYXJyYXkgb2YgUG9pbnRzXG4gICAgICogIHRoYXQgZm9ybSB0aGUgcG9seWdvbiwgYSBmbGF0IGFycmF5IG9mIG51bWJlcnMgdGhhdCB3aWxsIGJlIGludGVycHJldGVkIGFzIFt4LHksIHgseSwgLi4uXSwgb3JcbiAgICAgKiAgdGhlIGFyZ3VtZW50cyBwYXNzZWQgY2FuIGJlIGFsbCB0aGUgcG9pbnRzIG9mIHRoZSBwb2x5Z29uIGUuZy5cbiAgICAgKiAgYG5ldyBQSVhJLlBvbHlnb24obmV3IFBJWEkuUG9pbnQoKSwgbmV3IFBJWEkuUG9pbnQoKSwgLi4uKWAsIG9yIHRoZSBhcmd1bWVudHMgcGFzc2VkIGNhbiBiZSBmbGF0XG4gICAgICogIHgseSB2YWx1ZXMgZS5nLiBgbmV3IFBvbHlnb24oeCx5LCB4LHksIHgseSwgLi4uKWAgd2hlcmUgYHhgIGFuZCBgeWAgYXJlIE51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9seWdvbigpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHZhciBwb2ludHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHBvaW50c1tfaV0gPSBhcmd1bWVudHMkMVtfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZsYXQgPSBBcnJheS5pc0FycmF5KHBvaW50c1swXSkgPyBwb2ludHNbMF0gOiBwb2ludHM7XG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYW4gYXJyYXkgb2YgcG9pbnRzLCBjb252ZXJ0IGl0IHRvIGEgZmxhdCBhcnJheSBvZiBudW1iZXJzXG4gICAgICAgIGlmICh0eXBlb2YgZmxhdFswXSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHZhciBwID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmbGF0Lmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwLnB1c2goZmxhdFtpXS54LCBmbGF0W2ldLnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmxhdCA9IHA7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHRoZSBwb2ludHMgb2YgdGhpcyBwb2x5Z29uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludHMgPSBmbGF0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5QT0xZXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5QT0xZO1xuICAgICAgICAvKipcbiAgICAgICAgICogYGZhbHNlYCBhZnRlciBtb3ZlVG8sIGB0cnVlYCBhZnRlciBgY2xvc2VQYXRoYC4gSW4gYWxsIG90aGVyIGNhc2VzIGl0IGlzIGB0cnVlYC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbG9zZVN0cm9rZSA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvbHlnb25cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9seWdvbn0gYSBjb3B5IG9mIHRoZSBwb2x5Z29uXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cy5zbGljZSgpO1xuICAgICAgICB2YXIgcG9seWdvbiA9IG5ldyBQb2x5Z29uKHBvaW50cyk7XG4gICAgICAgIHBvbHlnb24uY2xvc2VTdHJva2UgPSB0aGlzLmNsb3NlU3Ryb2tlO1xuICAgICAgICByZXR1cm4gcG9seWdvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIHBhc3NlZCB0byB0aGlzIGZ1bmN0aW9uIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgcG9seWdvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBwb2x5Z29uXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB2YXIgaW5zaWRlID0gZmFsc2U7XG4gICAgICAgIC8vIHVzZSBzb21lIHJheWNhc3RpbmcgdG8gdGVzdCBoaXRzXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zdWJzdGFjay9wb2ludC1pbi1wb2x5Z29uL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IGxlbmd0aCAtIDE7IGkgPCBsZW5ndGg7IGogPSBpKyspIHtcbiAgICAgICAgICAgIHZhciB4aSA9IHRoaXMucG9pbnRzW2kgKiAyXTtcbiAgICAgICAgICAgIHZhciB5aSA9IHRoaXMucG9pbnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgICAgIHZhciB4aiA9IHRoaXMucG9pbnRzW2ogKiAyXTtcbiAgICAgICAgICAgIHZhciB5aiA9IHRoaXMucG9pbnRzWyhqICogMikgKyAxXTtcbiAgICAgICAgICAgIHZhciBpbnRlcnNlY3QgPSAoKHlpID4geSkgIT09ICh5aiA+IHkpKSAmJiAoeCA8ICgoeGogLSB4aSkgKiAoKHkgLSB5aSkgLyAoeWogLSB5aSkpKSArIHhpKTtcbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3QpIHtcbiAgICAgICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnNpZGU7XG4gICAgfTtcbiAgICByZXR1cm4gUG9seWdvbjtcbn0oKSk7XG5cbi8qKlxuICogVGhlIFJvdW5kZWQgUmVjdGFuZ2xlIG9iamVjdCBpcyBhbiBhcmVhIHRoYXQgaGFzIG5pY2Ugcm91bmRlZCBjb3JuZXJzLCBhcyBpbmRpY2F0ZWQgYnkgaXRzXG4gKiB0b3AtbGVmdCBjb3JuZXIgcG9pbnQgKHgsIHkpIGFuZCBieSBpdHMgd2lkdGggYW5kIGl0cyBoZWlnaHQgYW5kIGl0cyByYWRpdXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUm91bmRlZFJlY3RhbmdsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gVGhlIG92ZXJhbGwgd2lkdGggb2YgdGhpcyByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gVGhlIG92ZXJhbGwgaGVpZ2h0IG9mIHRoaXMgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl1cz0yMF0gLSBDb250cm9scyB0aGUgcmFkaXVzIG9mIHRoZSByb3VuZGVkIGNvcm5lcnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3VuZGVkUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cykge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAwOyB9XG4gICAgICAgIGlmIChyYWRpdXMgPT09IHZvaWQgMCkgeyByYWRpdXMgPSAyMDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlJSRUNcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLlJSRUM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IGEgY29weSBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBSb3VuZGVkUmVjdGFuZ2xlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSb3VuZGVkUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5yYWRpdXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqL1xuICAgIFJvdW5kZWRSZWN0YW5nbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggPj0gdGhpcy54ICYmIHggPD0gdGhpcy54ICsgdGhpcy53aWR0aCkge1xuICAgICAgICAgICAgaWYgKHkgPj0gdGhpcy55ICYmIHkgPD0gdGhpcy55ICsgdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHkgPj0gdGhpcy55ICsgdGhpcy5yYWRpdXMgJiYgeSA8PSB0aGlzLnkgKyB0aGlzLmhlaWdodCAtIHRoaXMucmFkaXVzKVxuICAgICAgICAgICAgICAgICAgICB8fCAoeCA+PSB0aGlzLnggKyB0aGlzLnJhZGl1cyAmJiB4IDw9IHRoaXMueCArIHRoaXMud2lkdGggLSB0aGlzLnJhZGl1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkeCA9IHggLSAodGhpcy54ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIHZhciBkeSA9IHkgLSAodGhpcy55ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIHZhciByYWRpdXMyID0gdGhpcy5yYWRpdXMgKiB0aGlzLnJhZGl1cztcbiAgICAgICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLndpZHRoIC0gdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHkgPSB5IC0gKHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHggPSB4IC0gKHRoaXMueCArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBSb3VuZGVkUmVjdGFuZ2xlO1xufSgpKTtcblxuLyoqXG4gKiBDb21tb24gaW50ZXJmYWNlIGZvciBwb2ludHMuIEJvdGggUG9pbnQgYW5kIE9ic2VydmFibGVQb2ludCBpbXBsZW1lbnQgaXRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW50ZXJmYWNlIElQb2ludERhdGFcbiAqL1xuLyoqXG4gKiBYIGNvb3JkXG4gKiBAbWVtYmVyb2YgUElYSS5JUG9pbnREYXRhI1xuICogQG1lbWJlciB7bnVtYmVyfSB4XG4gKi9cbi8qKlxuICogWSBjb29yZFxuICogQG1lbWJlcm9mIFBJWEkuSVBvaW50RGF0YSNcbiAqIEBtZW1iZXIge251bWJlcn0geVxuICovXG5cbi8qKlxuICogQ29tbW9uIGludGVyZmFjZSBmb3IgcG9pbnRzLiBCb3RoIFBvaW50IGFuZCBPYnNlcnZhYmxlUG9pbnQgaW1wbGVtZW50IGl0XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGludGVyZmFjZSBJUG9pbnRcbiAqIEBleHRlbmRzIFBJWEkuSVBvaW50RGF0YVxuICovXG4vKipcbiAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IHggYW5kIHkgcG9zaXRpb24uXG4gKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICpcbiAqIEBtZXRob2Qgc2V0XG4gKiBAbWVtYmVyb2YgUElYSS5JUG9pbnQjXG4gKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICogQHBhcmFtIHtudW1iZXJ9IFt5PXhdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAqL1xuLyoqXG4gKiBDb3BpZXMgeCBhbmQgeSBmcm9tIHRoZSBnaXZlbiBwb2ludFxuICogQG1ldGhvZCBjb3B5RnJvbVxuICogQG1lbWJlcm9mIFBJWEkuSVBvaW50I1xuICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHAgLSBUaGUgcG9pbnQgdG8gY29weSBmcm9tXG4gKiBAcmV0dXJucyB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gKi9cbi8qKlxuICogQ29waWVzIHggYW5kIHkgaW50byB0aGUgZ2l2ZW4gcG9pbnRcbiAqIEBtZXRob2QgY29weVRvXG4gKiBAbWVtYmVyb2YgUElYSS5JUG9pbnQjXG4gKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNvcHkuXG4gKiBAcmV0dXJucyB7UElYSS5JUG9pbnR9IEdpdmVuIHBvaW50IHdpdGggdmFsdWVzIHVwZGF0ZWRcbiAqL1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBvaW50IGlzIGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAqXG4gKiBAbWV0aG9kIGVxdWFsc1xuICogQG1lbWJlcm9mIFBJWEkuSVBvaW50I1xuICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHAgLSBUaGUgcG9pbnQgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gKi9cblxuLyoqXG4gKiBUaGUgUG9pbnQgb2JqZWN0IHJlcHJlc2VudHMgYSBsb2NhdGlvbiBpbiBhIHR3by1kaW1lbnNpb25hbCBjb29yZGluYXRlIHN5c3RlbSwgd2hlcmUgeCByZXByZXNlbnRzXG4gKiB0aGUgaG9yaXpvbnRhbCBheGlzIGFuZCB5IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIGF4aXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgSVBvaW50XG4gKi9cbnZhciBQb2ludCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9pbnQoeCwgeSkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9pbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IGEgY29weSBvZiB0aGUgcG9pbnRcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHggYW5kIHkgZnJvbSB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwIC0gVGhlIHBvaW50IHRvIGNvcHkgZnJvbVxuICAgICAqIEByZXR1cm5zIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAocCkge1xuICAgICAgICB0aGlzLnNldChwLngsIHAueSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHggYW5kIHkgaW50byB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weS5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5JUG9pbnR9IEdpdmVuIHBvaW50IHdpdGggdmFsdWVzIHVwZGF0ZWRcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY29weVRvID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcC5zZXQodGhpcy54LCB0aGlzLnkpO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHAgLSBUaGUgcG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZ2l2ZW4gcG9pbnQgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gKHAueCA9PT0gdGhpcy54KSAmJiAocC55ID09PSB0aGlzLnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9pbnQgdG8gYSBuZXcgeCBhbmQgeSBwb3NpdGlvbi5cbiAgICAgKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9eF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSB4OyB9XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFBvaW50O1xufSgpKTtcblxuLyoqXG4gKiBUaGUgUG9pbnQgb2JqZWN0IHJlcHJlc2VudHMgYSBsb2NhdGlvbiBpbiBhIHR3by1kaW1lbnNpb25hbCBjb29yZGluYXRlIHN5c3RlbSwgd2hlcmUgeCByZXByZXNlbnRzXG4gKiB0aGUgaG9yaXpvbnRhbCBheGlzIGFuZCB5IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIGF4aXMuXG4gKlxuICogQW4gT2JzZXJ2YWJsZVBvaW50IGlzIGEgcG9pbnQgdGhhdCB0cmlnZ2VycyBhIGNhbGxiYWNrIHdoZW4gdGhlIHBvaW50J3MgcG9zaXRpb24gaXMgY2hhbmdlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBJUG9pbnRcbiAqL1xudmFyIE9ic2VydmFibGVQb2ludCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiAtIGNhbGxiYWNrIHdoZW4gY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzY29wZSAtIG93bmVyIG9mIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGVQb2ludChjYiwgc2NvcGUsIHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgdGhpcy5jYiA9IGNiO1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvaW50LlxuICAgICAqIFRoZSBjYWxsYmFjayBhbmQgc2NvcGUgcGFyYW1zIGNhbiBiZSBvdmVyaWRkZW4gb3RoZXJ3aXNlIHRoZXkgd2lsbCBkZWZhdWx0XG4gICAgICogdG8gdGhlIGNsb25lIG9iamVjdCdzIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYj1udWxsXSAtIGNhbGxiYWNrIHdoZW4gY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbc2NvcGU9bnVsbF0gLSBvd25lciBvZiBjYWxsYmFja1xuICAgICAqIEByZXR1cm4ge1BJWEkuT2JzZXJ2YWJsZVBvaW50fSBhIGNvcHkgb2YgdGhlIHBvaW50XG4gICAgICovXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIChjYiwgc2NvcGUpIHtcbiAgICAgICAgaWYgKGNiID09PSB2b2lkIDApIHsgY2IgPSB0aGlzLmNiOyB9XG4gICAgICAgIGlmIChzY29wZSA9PT0gdm9pZCAwKSB7IHNjb3BlID0gdGhpcy5zY29wZTsgfVxuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGVQb2ludChjYiwgc2NvcGUsIHRoaXMuX3gsIHRoaXMuX3kpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9pbnQgdG8gYSBuZXcgeCBhbmQgeSBwb3NpdGlvbi5cbiAgICAgKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9eF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0geDsgfVxuICAgICAgICBpZiAodGhpcy5feCAhPT0geCB8fCB0aGlzLl95ICE9PSB5KSB7XG4gICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHggYW5kIHkgZnJvbSB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwIC0gVGhlIHBvaW50IHRvIGNvcHkgZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5jb3B5RnJvbSA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIGlmICh0aGlzLl94ICE9PSBwLnggfHwgdGhpcy5feSAhPT0gcC55KSB7XG4gICAgICAgICAgICB0aGlzLl94ID0gcC54O1xuICAgICAgICAgICAgdGhpcy5feSA9IHAueTtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvcGllcyB4IGFuZCB5IGludG8gdGhlIGdpdmVuIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNvcHkuXG4gICAgICogQHJldHVybnMge1BJWEkuSVBvaW50fSBHaXZlbiBwb2ludCB3aXRoIHZhbHVlcyB1cGRhdGVkXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiAocCkge1xuICAgICAgICBwLnNldCh0aGlzLl94LCB0aGlzLl95KTtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBvaW50IGlzIGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwIC0gVGhlIHBvaW50IHRvIGNoZWNrXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGdpdmVuIHBvaW50IGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHJldHVybiAocC54ID09PSB0aGlzLl94KSAmJiAocC55ID09PSB0aGlzLl95KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3g7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5feCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl94ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl95ICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3kgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZVBvaW50O1xufSgpKTtcblxuLyoqXG4gKiBUaGUgUGl4aUpTIE1hdHJpeCBhcyBhIGNsYXNzIG1ha2VzIGl0IGEgbG90IGZhc3Rlci5cbiAqXG4gKiBIZXJlIGlzIGEgcmVwcmVzZW50YXRpb24gb2YgaXQ6XG4gKiBgYGBqc1xuICogfCBhIHwgYyB8IHR4fFxuICogfCBiIHwgZCB8IHR5fFxuICogfCAwIHwgMCB8IDEgfFxuICogYGBgXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBNYXRyaXggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthPTFdIC0geCBzY2FsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYj0wXSAtIHggc2tld1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYz0wXSAtIHkgc2tld1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZD0xXSAtIHkgc2NhbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3R4PTBdIC0geCB0cmFuc2xhdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdHk9MF0gLSB5IHRyYW5zbGF0aW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWF0cml4KGEsIGIsIGMsIGQsIHR4LCB0eSkge1xuICAgICAgICBpZiAoYSA9PT0gdm9pZCAwKSB7IGEgPSAxOyB9XG4gICAgICAgIGlmIChiID09PSB2b2lkIDApIHsgYiA9IDA7IH1cbiAgICAgICAgaWYgKGMgPT09IHZvaWQgMCkgeyBjID0gMDsgfVxuICAgICAgICBpZiAoZCA9PT0gdm9pZCAwKSB7IGQgPSAxOyB9XG4gICAgICAgIGlmICh0eCA9PT0gdm9pZCAwKSB7IHR4ID0gMDsgfVxuICAgICAgICBpZiAodHkgPT09IHZvaWQgMCkgeyB0eSA9IDA7IH1cbiAgICAgICAgdGhpcy5hcnJheSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYSA9IGE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYiA9IGI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYyA9IGM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZCA9IGQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHggPSB0eDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eSA9IHR5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgTWF0cml4IG9iamVjdCBiYXNlZCBvbiB0aGUgZ2l2ZW4gYXJyYXkuIFRoZSBFbGVtZW50IHRvIE1hdHJpeCBtYXBwaW5nIG9yZGVyIGlzIGFzIGZvbGxvd3M6XG4gICAgICpcbiAgICAgKiBhID0gYXJyYXlbMF1cbiAgICAgKiBiID0gYXJyYXlbMV1cbiAgICAgKiBjID0gYXJyYXlbM11cbiAgICAgKiBkID0gYXJyYXlbNF1cbiAgICAgKiB0eCA9IGFycmF5WzJdXG4gICAgICogdHkgPSBhcnJheVs1XVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgYXJyYXkgdGhhdCB0aGUgbWF0cml4IHdpbGwgYmUgcG9wdWxhdGVkIGZyb20uXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5mcm9tQXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgdGhpcy5hID0gYXJyYXlbMF07XG4gICAgICAgIHRoaXMuYiA9IGFycmF5WzFdO1xuICAgICAgICB0aGlzLmMgPSBhcnJheVszXTtcbiAgICAgICAgdGhpcy5kID0gYXJyYXlbNF07XG4gICAgICAgIHRoaXMudHggPSBhcnJheVsyXTtcbiAgICAgICAgdGhpcy50eSA9IGFycmF5WzVdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogc2V0cyB0aGUgbWF0cml4IHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eCAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHkgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCB0eCwgdHkpIHtcbiAgICAgICAgdGhpcy5hID0gYTtcbiAgICAgICAgdGhpcy5iID0gYjtcbiAgICAgICAgdGhpcy5jID0gYztcbiAgICAgICAgdGhpcy5kID0gZDtcbiAgICAgICAgdGhpcy50eCA9IHR4O1xuICAgICAgICB0aGlzLnR5ID0gdHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBmcm9tIHRoZSBjdXJyZW50IE1hdHJpeCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRyYW5zcG9zZSAtIFdoZXRoZXIgd2UgbmVlZCB0byB0cmFuc3Bvc2UgdGhlIG1hdHJpeCBvciBub3RcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dD1uZXcgRmxvYXQzMkFycmF5KDkpXSAtIElmIHByb3ZpZGVkIHRoZSBhcnJheSB3aWxsIGJlIGFzc2lnbmVkIHRvIG91dFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSB0aGUgbmV3bHkgY3JlYXRlZCBhcnJheSB3aGljaCBjb250YWlucyB0aGUgbWF0cml4XG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKHRyYW5zcG9zZSwgb3V0KSB7XG4gICAgICAgIGlmICghdGhpcy5hcnJheSkge1xuICAgICAgICAgICAgdGhpcy5hcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoOSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFycmF5ID0gb3V0IHx8IHRoaXMuYXJyYXk7XG4gICAgICAgIGlmICh0cmFuc3Bvc2UpIHtcbiAgICAgICAgICAgIGFycmF5WzBdID0gdGhpcy5hO1xuICAgICAgICAgICAgYXJyYXlbMV0gPSB0aGlzLmI7XG4gICAgICAgICAgICBhcnJheVsyXSA9IDA7XG4gICAgICAgICAgICBhcnJheVszXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzRdID0gdGhpcy5kO1xuICAgICAgICAgICAgYXJyYXlbNV0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbNl0gPSB0aGlzLnR4O1xuICAgICAgICAgICAgYXJyYXlbN10gPSB0aGlzLnR5O1xuICAgICAgICAgICAgYXJyYXlbOF0gPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlbMF0gPSB0aGlzLmE7XG4gICAgICAgICAgICBhcnJheVsxXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzJdID0gdGhpcy50eDtcbiAgICAgICAgICAgIGFycmF5WzNdID0gdGhpcy5iO1xuICAgICAgICAgICAgYXJyYXlbNF0gPSB0aGlzLmQ7XG4gICAgICAgICAgICBhcnJheVs1XSA9IHRoaXMudHk7XG4gICAgICAgICAgICBhcnJheVs2XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs3XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs4XSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgbmV3IHBvc2l0aW9uIHdpdGggdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb24gYXBwbGllZC5cbiAgICAgKiBDYW4gYmUgdXNlZCB0byBnbyBmcm9tIGEgY2hpbGQncyBjb29yZGluYXRlIHNwYWNlIHRvIHRoZSB3b3JsZCBjb29yZGluYXRlIHNwYWNlLiAoZS5nLiByZW5kZXJpbmcpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9zIC0gVGhlIG9yaWdpblxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW25ld1Bvc10gLSBUaGUgcG9pbnQgdGhhdCB0aGUgbmV3IHBvc2l0aW9uIGlzIGFzc2lnbmVkIHRvIChhbGxvd2VkIHRvIGJlIHNhbWUgYXMgaW5wdXQpXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gVGhlIG5ldyBwb2ludCwgdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiAocG9zLCBuZXdQb3MpIHtcbiAgICAgICAgbmV3UG9zID0gKG5ld1BvcyB8fCBuZXcgUG9pbnQoKSk7XG4gICAgICAgIHZhciB4ID0gcG9zLng7XG4gICAgICAgIHZhciB5ID0gcG9zLnk7XG4gICAgICAgIG5ld1Bvcy54ID0gKHRoaXMuYSAqIHgpICsgKHRoaXMuYyAqIHkpICsgdGhpcy50eDtcbiAgICAgICAgbmV3UG9zLnkgPSAodGhpcy5iICogeCkgKyAodGhpcy5kICogeSkgKyB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gbmV3UG9zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgbmV3IHBvc2l0aW9uIHdpdGggdGhlIGludmVyc2Ugb2YgdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb24gYXBwbGllZC5cbiAgICAgKiBDYW4gYmUgdXNlZCB0byBnbyBmcm9tIHRoZSB3b3JsZCBjb29yZGluYXRlIHNwYWNlIHRvIGEgY2hpbGQncyBjb29yZGluYXRlIHNwYWNlLiAoZS5nLiBpbnB1dClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb3MgLSBUaGUgb3JpZ2luXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbbmV3UG9zXSAtIFRoZSBwb2ludCB0aGF0IHRoZSBuZXcgcG9zaXRpb24gaXMgYXNzaWduZWQgdG8gKGFsbG93ZWQgdG8gYmUgc2FtZSBhcyBpbnB1dClcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBUaGUgbmV3IHBvaW50LCBpbnZlcnNlLXRyYW5zZm9ybWVkIHRocm91Z2ggdGhpcyBtYXRyaXhcbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmFwcGx5SW52ZXJzZSA9IGZ1bmN0aW9uIChwb3MsIG5ld1Bvcykge1xuICAgICAgICBuZXdQb3MgPSAobmV3UG9zIHx8IG5ldyBQb2ludCgpKTtcbiAgICAgICAgdmFyIGlkID0gMSAvICgodGhpcy5hICogdGhpcy5kKSArICh0aGlzLmMgKiAtdGhpcy5iKSk7XG4gICAgICAgIHZhciB4ID0gcG9zLng7XG4gICAgICAgIHZhciB5ID0gcG9zLnk7XG4gICAgICAgIG5ld1Bvcy54ID0gKHRoaXMuZCAqIGlkICogeCkgKyAoLXRoaXMuYyAqIGlkICogeSkgKyAoKCh0aGlzLnR5ICogdGhpcy5jKSAtICh0aGlzLnR4ICogdGhpcy5kKSkgKiBpZCk7XG4gICAgICAgIG5ld1Bvcy55ID0gKHRoaXMuYSAqIGlkICogeSkgKyAoLXRoaXMuYiAqIGlkICogeCkgKyAoKCgtdGhpcy50eSAqIHRoaXMuYSkgKyAodGhpcy50eCAqIHRoaXMuYikpICogaWQpO1xuICAgICAgICByZXR1cm4gbmV3UG9zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB0aGUgbWF0cml4IG9uIHRoZSB4IGFuZCB5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBIb3cgbXVjaCB0byB0cmFuc2xhdGUgeCBieVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gSG93IG11Y2ggdG8gdHJhbnNsYXRlIHkgYnlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHRoaXMudHggKz0geDtcbiAgICAgICAgdGhpcy50eSArPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSBzY2FsZSB0cmFuc2Zvcm1hdGlvbiB0byB0aGUgbWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgYW1vdW50IHRvIHNjYWxlIGhvcml6b250YWxseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIGFtb3VudCB0byBzY2FsZSB2ZXJ0aWNhbGx5XG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5zY2FsZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHRoaXMuYSAqPSB4O1xuICAgICAgICB0aGlzLmQgKj0geTtcbiAgICAgICAgdGhpcy5jICo9IHg7XG4gICAgICAgIHRoaXMuYiAqPSB5O1xuICAgICAgICB0aGlzLnR4ICo9IHg7XG4gICAgICAgIHRoaXMudHkgKj0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgcm90YXRpb24gdHJhbnNmb3JtYXRpb24gdG8gdGhlIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSAtIFRoZSBhbmdsZSBpbiByYWRpYW5zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24gKGFuZ2xlKSB7XG4gICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgIHZhciBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICB2YXIgdHgxID0gdGhpcy50eDtcbiAgICAgICAgdGhpcy5hID0gKGExICogY29zKSAtICh0aGlzLmIgKiBzaW4pO1xuICAgICAgICB0aGlzLmIgPSAoYTEgKiBzaW4pICsgKHRoaXMuYiAqIGNvcyk7XG4gICAgICAgIHRoaXMuYyA9IChjMSAqIGNvcykgLSAodGhpcy5kICogc2luKTtcbiAgICAgICAgdGhpcy5kID0gKGMxICogc2luKSArICh0aGlzLmQgKiBjb3MpO1xuICAgICAgICB0aGlzLnR4ID0gKHR4MSAqIGNvcykgLSAodGhpcy50eSAqIHNpbik7XG4gICAgICAgIHRoaXMudHkgPSAodHgxICogc2luKSArICh0aGlzLnR5ICogY29zKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIHRoZSBnaXZlbiBNYXRyaXggdG8gdGhpcyBNYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGFwcGVuZC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYjEgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIGQxID0gdGhpcy5kO1xuICAgICAgICB0aGlzLmEgPSAobWF0cml4LmEgKiBhMSkgKyAobWF0cml4LmIgKiBjMSk7XG4gICAgICAgIHRoaXMuYiA9IChtYXRyaXguYSAqIGIxKSArIChtYXRyaXguYiAqIGQxKTtcbiAgICAgICAgdGhpcy5jID0gKG1hdHJpeC5jICogYTEpICsgKG1hdHJpeC5kICogYzEpO1xuICAgICAgICB0aGlzLmQgPSAobWF0cml4LmMgKiBiMSkgKyAobWF0cml4LmQgKiBkMSk7XG4gICAgICAgIHRoaXMudHggPSAobWF0cml4LnR4ICogYTEpICsgKG1hdHJpeC50eSAqIGMxKSArIHRoaXMudHg7XG4gICAgICAgIHRoaXMudHkgPSAobWF0cml4LnR4ICogYjEpICsgKG1hdHJpeC50eSAqIGQxKSArIHRoaXMudHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWF0cml4IGJhc2VkIG9uIGFsbCB0aGUgYXZhaWxhYmxlIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gUG9zaXRpb24gb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gUG9zaXRpb24gb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXZvdFggLSBQaXZvdCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpdm90WSAtIFBpdm90IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVYIC0gU2NhbGUgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVkgLSBTY2FsZSBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gUm90YXRpb24gaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBza2V3WCAtIFNrZXcgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBza2V3WSAtIFNrZXcgb24gdGhlIHkgYXhpc1xuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gKHgsIHksIHBpdm90WCwgcGl2b3RZLCBzY2FsZVgsIHNjYWxlWSwgcm90YXRpb24sIHNrZXdYLCBza2V3WSkge1xuICAgICAgICB0aGlzLmEgPSBNYXRoLmNvcyhyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICAgICAgdGhpcy5iID0gTWF0aC5zaW4ocm90YXRpb24gKyBza2V3WSkgKiBzY2FsZVg7XG4gICAgICAgIHRoaXMuYyA9IC1NYXRoLnNpbihyb3RhdGlvbiAtIHNrZXdYKSAqIHNjYWxlWTtcbiAgICAgICAgdGhpcy5kID0gTWF0aC5jb3Mocm90YXRpb24gLSBza2V3WCkgKiBzY2FsZVk7XG4gICAgICAgIHRoaXMudHggPSB4IC0gKChwaXZvdFggKiB0aGlzLmEpICsgKHBpdm90WSAqIHRoaXMuYykpO1xuICAgICAgICB0aGlzLnR5ID0geSAtICgocGl2b3RYICogdGhpcy5iKSArIChwaXZvdFkgKiB0aGlzLmQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcmVwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBwcmVwZW5kXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5wcmVwZW5kID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICB2YXIgdHgxID0gdGhpcy50eDtcbiAgICAgICAgaWYgKG1hdHJpeC5hICE9PSAxIHx8IG1hdHJpeC5iICE9PSAwIHx8IG1hdHJpeC5jICE9PSAwIHx8IG1hdHJpeC5kICE9PSAxKSB7XG4gICAgICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgICAgICAgICB0aGlzLmEgPSAoYTEgKiBtYXRyaXguYSkgKyAodGhpcy5iICogbWF0cml4LmMpO1xuICAgICAgICAgICAgdGhpcy5iID0gKGExICogbWF0cml4LmIpICsgKHRoaXMuYiAqIG1hdHJpeC5kKTtcbiAgICAgICAgICAgIHRoaXMuYyA9IChjMSAqIG1hdHJpeC5hKSArICh0aGlzLmQgKiBtYXRyaXguYyk7XG4gICAgICAgICAgICB0aGlzLmQgPSAoYzEgKiBtYXRyaXguYikgKyAodGhpcy5kICogbWF0cml4LmQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHggPSAodHgxICogbWF0cml4LmEpICsgKHRoaXMudHkgKiBtYXRyaXguYykgKyBtYXRyaXgudHg7XG4gICAgICAgIHRoaXMudHkgPSAodHgxICogbWF0cml4LmIpICsgKHRoaXMudHkgKiBtYXRyaXguZCkgKyBtYXRyaXgudHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVjb21wb3NlcyB0aGUgbWF0cml4ICh4LCB5LCBzY2FsZVgsIHNjYWxlWSwgYW5kIHJvdGF0aW9uKSBhbmQgc2V0cyB0aGUgcHJvcGVydGllcyBvbiB0byBhIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHRyYW5zZm9ybSAtIFRoZSB0cmFuc2Zvcm0gdG8gYXBwbHkgdGhlIHByb3BlcnRpZXMgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5UcmFuc2Zvcm19IFRoZSB0cmFuc2Zvcm0gd2l0aCB0aGUgbmV3bHkgYXBwbGllZCBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5kZWNvbXBvc2UgPSBmdW5jdGlvbiAodHJhbnNmb3JtKSB7XG4gICAgICAgIC8vIHNvcnQgb3V0IHJvdGF0aW9uIC8gc2tldy4uXG4gICAgICAgIHZhciBhID0gdGhpcy5hO1xuICAgICAgICB2YXIgYiA9IHRoaXMuYjtcbiAgICAgICAgdmFyIGMgPSB0aGlzLmM7XG4gICAgICAgIHZhciBkID0gdGhpcy5kO1xuICAgICAgICB2YXIgc2tld1ggPSAtTWF0aC5hdGFuMigtYywgZCk7XG4gICAgICAgIHZhciBza2V3WSA9IE1hdGguYXRhbjIoYiwgYSk7XG4gICAgICAgIHZhciBkZWx0YSA9IE1hdGguYWJzKHNrZXdYICsgc2tld1kpO1xuICAgICAgICBpZiAoZGVsdGEgPCAwLjAwMDAxIHx8IE1hdGguYWJzKFBJXzIgLSBkZWx0YSkgPCAwLjAwMDAxKSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBza2V3WTtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5za2V3LnggPSB0cmFuc2Zvcm0uc2tldy55ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IDA7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gc2tld1g7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy55ID0gc2tld1k7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmV4dCBzZXQgc2NhbGVcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlLnggPSBNYXRoLnNxcnQoKGEgKiBhKSArIChiICogYikpO1xuICAgICAgICB0cmFuc2Zvcm0uc2NhbGUueSA9IE1hdGguc3FydCgoYyAqIGMpICsgKGQgKiBkKSk7XG4gICAgICAgIC8vIG5leHQgc2V0IHBvc2l0aW9uXG4gICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdGhpcy50eDtcbiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW52ZXJ0cyB0aGlzIG1hdHJpeFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGIxID0gdGhpcy5iO1xuICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgICAgIHZhciBkMSA9IHRoaXMuZDtcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG4gICAgICAgIHZhciBuID0gKGExICogZDEpIC0gKGIxICogYzEpO1xuICAgICAgICB0aGlzLmEgPSBkMSAvIG47XG4gICAgICAgIHRoaXMuYiA9IC1iMSAvIG47XG4gICAgICAgIHRoaXMuYyA9IC1jMSAvIG47XG4gICAgICAgIHRoaXMuZCA9IGExIC8gbjtcbiAgICAgICAgdGhpcy50eCA9ICgoYzEgKiB0aGlzLnR5KSAtIChkMSAqIHR4MSkpIC8gbjtcbiAgICAgICAgdGhpcy50eSA9IC0oKGExICogdGhpcy50eSkgLSAoYjEgKiB0eDEpKSAvIG47XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoaXMgTWF0cml4IHRvIGFuIGlkZW50aXR5IChkZWZhdWx0KSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmlkZW50aXR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmEgPSAxO1xuICAgICAgICB0aGlzLmIgPSAwO1xuICAgICAgICB0aGlzLmMgPSAwO1xuICAgICAgICB0aGlzLmQgPSAxO1xuICAgICAgICB0aGlzLnR4ID0gMDtcbiAgICAgICAgdGhpcy50eSA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBNYXRyaXggb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IEEgY29weSBvZiB0aGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgICAgICBtYXRyaXguYiA9IHRoaXMuYjtcbiAgICAgICAgbWF0cml4LmMgPSB0aGlzLmM7XG4gICAgICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgICAgICBtYXRyaXgudHggPSB0aGlzLnR4O1xuICAgICAgICBtYXRyaXgudHkgPSB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgdmFsdWVzIG9mIHRoZSBnaXZlbiBtYXRyaXggdG8gYmUgdGhlIHNhbWUgYXMgdGhlIG9uZXMgaW4gdGhpcyBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gY29weSB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hdHJpeCBnaXZlbiBpbiBwYXJhbWV0ZXIgd2l0aCBpdHMgdmFsdWVzIHVwZGF0ZWQuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgICAgICBtYXRyaXguYiA9IHRoaXMuYjtcbiAgICAgICAgbWF0cml4LmMgPSB0aGlzLmM7XG4gICAgICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgICAgICBtYXRyaXgudHggPSB0aGlzLnR4O1xuICAgICAgICBtYXRyaXgudHkgPSB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgdmFsdWVzIG9mIHRoZSBtYXRyaXggdG8gYmUgdGhlIHNhbWUgYXMgdGhlIG9uZXMgaW4gZ2l2ZW4gbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGNvcHkgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gdGhpc1xuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIHRoaXMuYSA9IG1hdHJpeC5hO1xuICAgICAgICB0aGlzLmIgPSBtYXRyaXguYjtcbiAgICAgICAgdGhpcy5jID0gbWF0cml4LmM7XG4gICAgICAgIHRoaXMuZCA9IG1hdHJpeC5kO1xuICAgICAgICB0aGlzLnR4ID0gbWF0cml4LnR4O1xuICAgICAgICB0aGlzLnR5ID0gbWF0cml4LnR5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXgsIFwiSURFTlRJVFlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBkZWZhdWx0IChpZGVudGl0eSkgbWF0cml4XG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeCwgXCJURU1QX01BVFJJWFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRlbXAgbWF0cml4XG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIE1hdHJpeDtcbn0oKSk7XG5cbi8vIFlvdXIgZnJpZW5kbHkgbmVpZ2hib3VyIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RpaGVkcmFsX2dyb3VwXG4vKlxuICogVHJhbnNmb3JtIG1hdHJpeCBmb3Igb3BlcmF0aW9uIG4gaXM6XG4gKiB8IHV4IHwgdnggfFxuICogfCB1eSB8IHZ5IHxcbiAqL1xudmFyIHV4ID0gWzEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDFdO1xudmFyIHV5ID0gWzAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTFdO1xudmFyIHZ4ID0gWzAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTFdO1xudmFyIHZ5ID0gWzEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTFdO1xuLyoqXG4gKiBbQ2F5bGV5IFRhYmxlXXtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYXlsZXlfdGFibGV9XG4gKiBmb3IgdGhlIGNvbXBvc2l0aW9uIG9mIGVhY2ggcm90YXRpb24gaW4gdGhlIGRpaGVkZXJhbCBncm91cCBEOC5cbiAqXG4gKiBAdHlwZSBudW1iZXJbXVtdXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgcm90YXRpb25DYXlsZXkgPSBbXTtcbi8qKlxuICogTWF0cmljZXMgZm9yIGVhY2ggYEdEOFN5bW1ldHJ5YCByb3RhdGlvbi5cbiAqXG4gKiBAdHlwZSBNYXRyaXhbXVxuICogQHByaXZhdGVcbiAqL1xudmFyIHJvdGF0aW9uTWF0cmljZXMgPSBbXTtcbi8qXG4gKiBBbGlhcyBmb3Ige0Bjb2RlIE1hdGguc2lnbn0uXG4gKi9cbnZhciBzaWdudW0gPSBNYXRoLnNpZ247XG4vKlxuICogSW5pdGlhbGl6ZXMgYHJvdGF0aW9uQ2F5bGV5YCBhbmQgYHJvdGF0aW9uTWF0cmljZXNgLiBJdCBpcyBjYWxsZWRcbiAqIG9ubHkgb25jZSBiZWxvdy5cbiAqL1xuZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgdmFyIHJvdyA9IFtdO1xuICAgICAgICByb3RhdGlvbkNheWxleS5wdXNoKHJvdyk7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTY7IGorKykge1xuICAgICAgICAgICAgLyogTXVsdGlwbGllcyByb3RhdGlvbiBtYXRyaWNlcyBpIGFuZCBqLiAqL1xuICAgICAgICAgICAgdmFyIF91eCA9IHNpZ251bSgodXhbaV0gKiB1eFtqXSkgKyAodnhbaV0gKiB1eVtqXSkpO1xuICAgICAgICAgICAgdmFyIF91eSA9IHNpZ251bSgodXlbaV0gKiB1eFtqXSkgKyAodnlbaV0gKiB1eVtqXSkpO1xuICAgICAgICAgICAgdmFyIF92eCA9IHNpZ251bSgodXhbaV0gKiB2eFtqXSkgKyAodnhbaV0gKiB2eVtqXSkpO1xuICAgICAgICAgICAgdmFyIF92eSA9IHNpZ251bSgodXlbaV0gKiB2eFtqXSkgKyAodnlbaV0gKiB2eVtqXSkpO1xuICAgICAgICAgICAgLyogRmluZHMgcm90YXRpb24gbWF0cml4IG1hdGNoaW5nIHRoZSBwcm9kdWN0IGFuZCBwdXNoZXMgaXQuICovXG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IDE2OyBrKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodXhba10gPT09IF91eCAmJiB1eVtrXSA9PT0gX3V5XG4gICAgICAgICAgICAgICAgICAgICYmIHZ4W2tdID09PSBfdnggJiYgdnlba10gPT09IF92eSkge1xuICAgICAgICAgICAgICAgICAgICByb3cucHVzaChrKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICB2YXIgbWF0ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICBtYXQuc2V0KHV4W2ldLCB1eVtpXSwgdnhbaV0sIHZ5W2ldLCAwLCAwKTtcbiAgICAgICAgcm90YXRpb25NYXRyaWNlcy5wdXNoKG1hdCk7XG4gICAgfVxufVxuaW5pdCgpO1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge251bWJlcn0gR0Q4U3ltbWV0cnlcbiAqIEBzZWUgUElYSS5ncm91cEQ4XG4gKi9cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgZGloZWRyYWwgZ3JvdXAgRDgsIHdoaWNoIGlzIHNpbWlsYXIgdG9cbiAqIFtncm91cCBENF17QGxpbmsgaHR0cDovL21hdGh3b3JsZC53b2xmcmFtLmNvbS9EaWhlZHJhbEdyb3VwRDQuaHRtbH07XG4gKiBEOCBpcyB0aGUgc2FtZSBidXQgd2l0aCBkaWFnb25hbHMsIGFuZCBpdCBpcyB1c2VkIGZvciB0ZXh0dXJlXG4gKiByb3RhdGlvbnMuXG4gKlxuICogVGhlIGRpcmVjdGlvbnMgdGhlIFUtIGFuZCBWLSBheGVzIGFmdGVyIHJvdGF0aW9uXG4gKiBvZiBhbiBhbmdsZSBvZiBgYTogR0Q4Q29uc3RhbnRgIGFyZSB0aGUgdmVjdG9ycyBgKHVYKGEpLCB1WShhKSlgXG4gKiBhbmQgYCh2WChhKSwgdlkoYSkpYC4gVGhlc2UgYXJlbid0IG5lY2Vzc2FyaWx5IHVuaXQgdmVjdG9ycy5cbiAqXG4gKiAqKk9yaWdpbjoqKjxicj5cbiAqICBUaGlzIGlzIHRoZSBzbWFsbCBwYXJ0IG9mIGdhbWVvZmJvbWJzLmNvbSBwb3J0YWwgc3lzdGVtLiBJdCB3b3Jrcy5cbiAqXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5FXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5TRVxuICogQHNlZSBQSVhJLmdyb3VwRDguU1xuICogQHNlZSBQSVhJLmdyb3VwRDguU1dcbiAqIEBzZWUgUElYSS5ncm91cEQ4LldcbiAqIEBzZWUgUElYSS5ncm91cEQ4Lk5XXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5OXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5ORVxuICogQGF1dGhvciBJdmFuIEBpdmFucG9wZWx5c2hldlxuICogQG5hbWVzcGFjZSBQSVhJLmdyb3VwRDhcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBncm91cEQ4ID0ge1xuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgMMKwICAgICAgIHwgRWFzdCAgICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgRTogMCxcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDQ1wrDihrsgICAgIHwgU291dGhlYXN0IHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgU0U6IDEsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCA5MMKw4oa7ICAgICB8IFNvdXRoICAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFM6IDIsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCAxMzXCsOKGuyAgICB8IFNvdXRod2VzdCB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFNXOiAzLFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgMTgwwrAgICAgIHwgV2VzdCAgICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgVzogNCxcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uICAgIHwgRGlyZWN0aW9uICAgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLXxcbiAgICAgKiB8IC0xMzXCsC8yMjXCsOKGuyB8IE5vcnRod2VzdCAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE5XOiA1LFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gICAgfCBEaXJlY3Rpb24gICAgfFxuICAgICAqIHwtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tfFxuICAgICAqIHwgLTkwwrAvMjcwwrDihrsgIHwgTm9ydGggICAgICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTjogNixcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uICAgIHwgRGlyZWN0aW9uICAgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLXxcbiAgICAgKiB8IC00NcKwLzMxNcKw4oa7ICB8IE5vcnRoZWFzdCAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE5FOiA3LFxuICAgIC8qKlxuICAgICAqIFJlZmxlY3Rpb24gYWJvdXQgWS1heGlzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBNSVJST1JfVkVSVElDQUw6IDgsXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCB0aGUgbWFpbiBkaWFnb25hbC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTUFJTl9ESUFHT05BTDogMTAsXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCBYLWF4aXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE1JUlJPUl9IT1JJWk9OVEFMOiAxMixcbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IHJldmVyc2UgZGlhZ29uYWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFJFVkVSU0VfRElBR09OQUw6IDE0LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWC1jb21wb25lbnQgb2YgdGhlIFUtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHVYOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB1eFtpbmRdOyB9LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWS1jb21wb25lbnQgb2YgdGhlIFUtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHVZOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB1eVtpbmRdOyB9LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWC1jb21wb25lbnQgb2YgdGhlIFYtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHZYOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB2eFtpbmRdOyB9LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWS1jb21wb25lbnQgb2YgdGhlIFYtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHZZOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB2eVtpbmRdOyB9LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uIC0gc3ltbWV0cnkgd2hvc2Ugb3Bwb3NpdGVcbiAgICAgKiAgIGlzIG5lZWRlZC4gT25seSByb3RhdGlvbnMgaGF2ZSBvcHBvc2l0ZSBzeW1tZXRyaWVzIHdoaWxlXG4gICAgICogICByZWZsZWN0aW9ucyBkb24ndC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgb3Bwb3NpdGUgc3ltbWV0cnkgb2YgYHJvdGF0aW9uYFxuICAgICAqL1xuICAgIGludjogZnVuY3Rpb24gKHJvdGF0aW9uKSB7XG4gICAgICAgIGlmIChyb3RhdGlvbiAmIDgpIC8vIHRydWUgb25seSBpZiBiZXR3ZWVuIDggJiAxNSAocmVmbGVjdGlvbnMpXG4gICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb24gJiAxNTsgLy8gb3Igcm90YXRpb24gJSAxNlxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoLXJvdGF0aW9uKSAmIDc7IC8vIG9yICg4IC0gcm90YXRpb24pICUgOFxuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ29tcG9zZXMgdGhlIHR3byBEOCBvcGVyYXRpb25zLlxuICAgICAqXG4gICAgICogVGFraW5nIGBeYCBhcyByZWZsZWN0aW9uOlxuICAgICAqXG4gICAgICogfCAgICAgICB8IEU9MCB8IFM9MiB8IFc9NCB8IE49NiB8IEVePTggfCBTXj0xMCB8IFdePTEyIHwgTl49MTQgfFxuICAgICAqIHwtLS0tLS0tfC0tLS0tfC0tLS0tfC0tLS0tfC0tLS0tfC0tLS0tLXwtLS0tLS0tfC0tLS0tLS18LS0tLS0tLXxcbiAgICAgKiB8IEU9MCAgIHwgRSAgIHwgUyAgIHwgVyAgIHwgTiAgIHwgRV4gICB8IFNeICAgIHwgV14gICAgfCBOXiAgICB8XG4gICAgICogfCBTPTIgICB8IFMgICB8IFcgICB8IE4gICB8IEUgICB8IFNeICAgfCBXXiAgICB8IE5eICAgIHwgRV4gICAgfFxuICAgICAqIHwgVz00ICAgfCBXICAgfCBOICAgfCBFICAgfCBTICAgfCBXXiAgIHwgTl4gICAgfCBFXiAgICB8IFNeICAgIHxcbiAgICAgKiB8IE49NiAgIHwgTiAgIHwgRSAgIHwgUyAgIHwgVyAgIHwgTl4gICB8IEVeICAgIHwgU14gICAgfCBXXiAgICB8XG4gICAgICogfCBFXj04ICB8IEVeICB8IE5eICB8IFdeICB8IFNeICB8IEUgICAgfCBOICAgICB8IFcgICAgIHwgUyAgICAgfFxuICAgICAqIHwgU149MTAgfCBTXiAgfCBFXiAgfCBOXiAgfCBXXiAgfCBTICAgIHwgRSAgICAgfCBOICAgICB8IFcgICAgIHxcbiAgICAgKiB8IFdePTEyIHwgV14gIHwgU14gIHwgRV4gIHwgTl4gIHwgVyAgICB8IFMgICAgIHwgRSAgICAgfCBOICAgICB8XG4gICAgICogfCBOXj0xNCB8IE5eICB8IFdeICB8IFNeICB8IEVeICB8IE4gICAgfCBXICAgICB8IFMgICAgIHwgRSAgICAgfFxuICAgICAqXG4gICAgICogW1RoaXMgaXMgYSBDYXlsZXkgdGFibGVde0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NheWxleV90YWJsZX1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvblNlY29uZCAtIFNlY29uZCBvcGVyYXRpb24sIHdoaWNoXG4gICAgICogICBpcyB0aGUgcm93IGluIHRoZSBhYm92ZSBjYXlsZXkgdGFibGUuXG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbkZpcnN0IC0gRmlyc3Qgb3BlcmF0aW9uLCB3aGljaFxuICAgICAqICAgaXMgdGhlIGNvbHVtbiBpbiB0aGUgYWJvdmUgY2F5bGV5IHRhYmxlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IENvbXBvc2VkIG9wZXJhdGlvblxuICAgICAqL1xuICAgIGFkZDogZnVuY3Rpb24gKHJvdGF0aW9uU2Vjb25kLCByb3RhdGlvbkZpcnN0KSB7IHJldHVybiAocm90YXRpb25DYXlsZXlbcm90YXRpb25TZWNvbmRdW3JvdGF0aW9uRmlyc3RdKTsgfSxcbiAgICAvKipcbiAgICAgKiBSZXZlcnNlIG9mIGBhZGRgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb25TZWNvbmQgLSBTZWNvbmQgb3BlcmF0aW9uXG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbkZpcnN0IC0gRmlyc3Qgb3BlcmF0aW9uXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gUmVzdWx0XG4gICAgICovXG4gICAgc3ViOiBmdW5jdGlvbiAocm90YXRpb25TZWNvbmQsIHJvdGF0aW9uRmlyc3QpIHsgcmV0dXJuIChyb3RhdGlvbkNheWxleVtyb3RhdGlvblNlY29uZF1bZ3JvdXBEOC5pbnYocm90YXRpb25GaXJzdCldKTsgfSxcbiAgICAvKipcbiAgICAgKiBBZGRzIDE4MCBkZWdyZWVzIHRvIHJvdGF0aW9uLCB3aGljaCBpcyBhIGNvbW11dGF0aXZlXG4gICAgICogb3BlcmF0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gcm90YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJvdGF0ZWQgbnVtYmVyXG4gICAgICovXG4gICAgcm90YXRlMTgwOiBmdW5jdGlvbiAocm90YXRpb24pIHsgcmV0dXJuIHJvdGF0aW9uIF4gNDsgfSxcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIHJvdGF0aW9uIGFuZ2xlIGlzIHZlcnRpY2FsLCBpLmUuIHNvdXRoXG4gICAgICogb3Igbm9ydGguIEl0IGRvZXNuJ3Qgd29yayBmb3IgcmVmbGVjdGlvbnMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBkaXJlY3Rpb24gaXMgdmVydGljYWxcbiAgICAgKi9cbiAgICBpc1ZlcnRpY2FsOiBmdW5jdGlvbiAocm90YXRpb24pIHsgcmV0dXJuIChyb3RhdGlvbiAmIDMpID09PSAyOyB9LFxuICAgIC8qKlxuICAgICAqIEFwcHJveGltYXRlcyB0aGUgdmVjdG9yIGBWKGR4LGR5KWAgaW50byBvbmUgb2YgdGhlXG4gICAgICogZWlnaHQgZGlyZWN0aW9ucyBwcm92aWRlZCBieSBgZ3JvdXBEOGAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR4IC0gWC1jb21wb25lbnQgb2YgdGhlIHZlY3RvclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeSAtIFktY29tcG9uZW50IG9mIHRoZSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBBcHByb3hpbWF0aW9uIG9mIHRoZSB2ZWN0b3IgaW50b1xuICAgICAqICBvbmUgb2YgdGhlIGVpZ2h0IHN5bW1ldHJpZXMuXG4gICAgICovXG4gICAgYnlEaXJlY3Rpb246IGZ1bmN0aW9uIChkeCwgZHkpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGR4KSAqIDIgPD0gTWF0aC5hYnMoZHkpKSB7XG4gICAgICAgICAgICBpZiAoZHkgPj0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBncm91cEQ4LlM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5OO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKE1hdGguYWJzKGR5KSAqIDIgPD0gTWF0aC5hYnMoZHgpKSB7XG4gICAgICAgICAgICBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBncm91cEQ4Llc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHkgPiAwKSB7XG4gICAgICAgICAgICBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguU0U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5TVztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkeCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBncm91cEQ4Lk5FO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBncm91cEQ4Lk5XO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogSGVscHMgc3ByaXRlIHRvIGNvbXBlbnNhdGUgdGV4dHVyZSBwYWNrZXIgcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gc3ByaXRlIHdvcmxkIG1hdHJpeFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb24gLSBUaGUgcm90YXRpb24gZmFjdG9yIHRvIHVzZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHggLSBzcHJpdGUgYW5jaG9yaW5nXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR5IC0gc3ByaXRlIGFuY2hvcmluZ1xuICAgICAqL1xuICAgIG1hdHJpeEFwcGVuZFJvdGF0aW9uSW52OiBmdW5jdGlvbiAobWF0cml4LCByb3RhdGlvbiwgdHgsIHR5KSB7XG4gICAgICAgIGlmICh0eCA9PT0gdm9pZCAwKSB7IHR4ID0gMDsgfVxuICAgICAgICBpZiAodHkgPT09IHZvaWQgMCkgeyB0eSA9IDA7IH1cbiAgICAgICAgLy8gUGFja2VyIHVzZWQgXCJyb3RhdGlvblwiLCB3ZSB1c2UgXCJpbnYocm90YXRpb24pXCJcbiAgICAgICAgdmFyIG1hdCA9IHJvdGF0aW9uTWF0cmljZXNbZ3JvdXBEOC5pbnYocm90YXRpb24pXTtcbiAgICAgICAgbWF0LnR4ID0gdHg7XG4gICAgICAgIG1hdC50eSA9IHR5O1xuICAgICAgICBtYXRyaXguYXBwZW5kKG1hdCk7XG4gICAgfSxcbn07XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoYXQgdGFrZXMgY2FyZSBhYm91dCBpdHMgdmVyc2lvbnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUcmFuc2Zvcm0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVHJhbnNmb3JtKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdvcmxkIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvY2FsVHJhbnNmb3JtID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsZSBmYWN0b3Igb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjYWxlID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAxLCAxKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwaXZvdCBwb2ludCBvZiB0aGUgZGlzcGxheU9iamVjdCB0aGF0IGl0IHJvdGF0ZXMgYXJvdW5kLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGl2b3QgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMub25DaGFuZ2UsIHRoaXMsIDAsIDApO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNrZXcgYW1vdW50LCBvbiB0aGUgeCBhbmQgeSBheGlzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2tldyA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy51cGRhdGVTa2V3LCB0aGlzLCAwLCAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb3RhdGlvbiBhbW91bnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcm90YXRpb24gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFgtY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBYIGF4aXMsXG4gICAgICAgICAqIHRoZSBmaXJzdCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3ggPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFktY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBYIGF4aXMsXG4gICAgICAgICAqIHRoZSBmaXJzdCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3ggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFgtY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBZIGF4aXMsXG4gICAgICAgICAqIHRoZSBzZWNvbmQgY29sdW1uIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggd2l0aG91dCBhIHNjYWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2N5ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBZLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWSBheGlzLFxuICAgICAgICAgKiB0aGUgc2Vjb25kIGNvbHVtbiBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4IHdpdGhvdXQgYSBzY2FsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zeSA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIGxvY2FsIHRyYW5zZm9ybS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb2NhbElEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbGx5IHVuaXF1ZSBJRCBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtXG4gICAgICAgICAqIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBjdXJyZW50IGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIHdvcmxkIHRyYW5zZm9ybS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93b3JsZElEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbGx5IHVuaXF1ZSBJRCBvZiB0aGUgcGFyZW50J3Mgd29ybGQgdHJhbnNmb3JtXG4gICAgICAgICAqIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBjdXJyZW50IHdvcmxkIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGEgdmFsdWUgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLm9uQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgc2tldyBvciB0aGUgcm90YXRpb24gY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLnVwZGF0ZVNrZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2N4ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcueSk7XG4gICAgICAgIHRoaXMuX3N4ID0gTWF0aC5zaW4odGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcueSk7XG4gICAgICAgIHRoaXMuX2N5ID0gLU1hdGguc2luKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3LngpOyAvLyBjb3MsIGFkZGVkIFBJLzJcbiAgICAgICAgdGhpcy5fc3kgPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy54KTsgLy8gc2luLCBhZGRlZCBQSS8yXG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLnVwZGF0ZUxvY2FsVHJhbnNmb3JtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICBpZiAodGhpcy5fbG9jYWxJRCAhPT0gdGhpcy5fY3VycmVudExvY2FsSUQpIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgbWF0cml4IHZhbHVlcyBvZiB0aGUgZGlzcGxheW9iamVjdCBiYXNlZCBvbiBpdHMgdHJhbnNmb3JtIHByb3BlcnRpZXMuLlxuICAgICAgICAgICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS54O1xuICAgICAgICAgICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS54O1xuICAgICAgICAgICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS55O1xuICAgICAgICAgICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS55O1xuICAgICAgICAgICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLnggLSAoKHRoaXMucGl2b3QueCAqIGx0LmEpICsgKHRoaXMucGl2b3QueSAqIGx0LmMpKTtcbiAgICAgICAgICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi55IC0gKCh0aGlzLnBpdm90LnggKiBsdC5iKSArICh0aGlzLnBpdm90LnkgKiBsdC5kKSk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IHRoaXMuX2xvY2FsSUQ7XG4gICAgICAgICAgICAvLyBmb3JjZSBhbiB1cGRhdGUuLlxuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgbG9jYWwgYW5kIHRoZSB3b3JsZCB0cmFuc2Zvcm1hdGlvbiBtYXRyaWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHBhcmVudFRyYW5zZm9ybSAtIFRoZSBwYXJlbnQgdHJhbnNmb3JtXG4gICAgICovXG4gICAgVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAocGFyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIGlmICh0aGlzLl9sb2NhbElEICE9PSB0aGlzLl9jdXJyZW50TG9jYWxJRCkge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSBtYXRyaXggdmFsdWVzIG9mIHRoZSBkaXNwbGF5b2JqZWN0IGJhc2VkIG9uIGl0cyB0cmFuc2Zvcm0gcHJvcGVydGllcy4uXG4gICAgICAgICAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLng7XG4gICAgICAgICAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLng7XG4gICAgICAgICAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgICAgICAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgICAgICAgICBsdC50eCA9IHRoaXMucG9zaXRpb24ueCAtICgodGhpcy5waXZvdC54ICogbHQuYSkgKyAodGhpcy5waXZvdC55ICogbHQuYykpO1xuICAgICAgICAgICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLnkgLSAoKHRoaXMucGl2b3QueCAqIGx0LmIpICsgKHRoaXMucGl2b3QueSAqIGx0LmQpKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcbiAgICAgICAgICAgIC8vIGZvcmNlIGFuIHVwZGF0ZS4uXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9wYXJlbnRJRCAhPT0gcGFyZW50VHJhbnNmb3JtLl93b3JsZElEKSB7XG4gICAgICAgICAgICAvLyBjb25jYXQgdGhlIHBhcmVudCBtYXRyaXggd2l0aCB0aGUgb2JqZWN0cyB0cmFuc2Zvcm0uXG4gICAgICAgICAgICB2YXIgcHQgPSBwYXJlbnRUcmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICB2YXIgd3QgPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICAgICAgd3QuYSA9IChsdC5hICogcHQuYSkgKyAobHQuYiAqIHB0LmMpO1xuICAgICAgICAgICAgd3QuYiA9IChsdC5hICogcHQuYikgKyAobHQuYiAqIHB0LmQpO1xuICAgICAgICAgICAgd3QuYyA9IChsdC5jICogcHQuYSkgKyAobHQuZCAqIHB0LmMpO1xuICAgICAgICAgICAgd3QuZCA9IChsdC5jICogcHQuYikgKyAobHQuZCAqIHB0LmQpO1xuICAgICAgICAgICAgd3QudHggPSAobHQudHggKiBwdC5hKSArIChsdC50eSAqIHB0LmMpICsgcHQudHg7XG4gICAgICAgICAgICB3dC50eSA9IChsdC50eCAqIHB0LmIpICsgKGx0LnR5ICogcHQuZCkgKyBwdC50eTtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gcGFyZW50VHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBpZCBvZiB0aGUgdHJhbnNmb3JtLi5cbiAgICAgICAgICAgIHRoaXMuX3dvcmxkSUQrKztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVjb21wb3NlcyBhIG1hdHJpeCBhbmQgc2V0cyB0aGUgdHJhbnNmb3JtcyBwcm9wZXJ0aWVzIGJhc2VkIG9uIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBkZWNvbXBvc2VcbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLnNldEZyb21NYXRyaXggPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIG1hdHJpeC5kZWNvbXBvc2UodGhpcyk7XG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc2Zvcm0ucHJvdG90eXBlLCBcInJvdGF0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb3RhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdGF0aW9uICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTa2V3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBIGRlZmF1bHQgKGlkZW50aXR5KSB0cmFuc2Zvcm1cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0uSURFTlRJVFkgPSBuZXcgVHJhbnNmb3JtKCk7XG4gICAgcmV0dXJuIFRyYW5zZm9ybTtcbn0oKSk7XG5cbi8qKlxuICogTWF0aCBjbGFzc2VzIGFuZCB1dGlsaXRpZXMgbWl4ZWQgaW50byBQSVhJIG5hbWVzcGFjZS5cbiAqXG4gKiBAbGVuZHMgUElYSVxuICovXG5cbmV4cG9ydCB7IENpcmNsZSwgREVHX1RPX1JBRCwgRWxsaXBzZSwgTWF0cml4LCBPYnNlcnZhYmxlUG9pbnQsIFBJXzIsIFBvaW50LCBQb2x5Z29uLCBSQURfVE9fREVHLCBSZWN0YW5nbGUsIFJvdW5kZWRSZWN0YW5nbGUsIFNIQVBFUywgVHJhbnNmb3JtLCBncm91cEQ4IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRoLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9ydW5uZXIgLSB2NS4zLjdcbiAqIENvbXBpbGVkIFR1ZSwgMjkgRGVjIDIwMjAgMTk6MzA6MTEgVVRDXG4gKlxuICogQHBpeGkvcnVubmVyIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIFJ1bm5lciBpcyBhIGhpZ2hseSBwZXJmb3JtYW50IGFuZCBzaW1wbGUgYWx0ZXJuYXRpdmUgdG8gc2lnbmFscy4gQmVzdCB1c2VkIGluIHNpdHVhdGlvbnNcbiAqIHdoZXJlIGV2ZW50cyBhcmUgZGlzcGF0Y2hlZCB0byBtYW55IG9iamVjdHMgYXQgaGlnaCBmcmVxdWVuY3kgKHNheSBldmVyeSBmcmFtZSEpXG4gKlxuICpcbiAqIGxpa2UgYSBzaWduYWwuLlxuICogYGBgXG4gKiBpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuICpcbiAqIGNvbnN0IG15T2JqZWN0ID0ge1xuICogICAgIGxvYWRlZDogbmV3IFJ1bm5lcignbG9hZGVkJylcbiAqIH1cbiAqXG4gKiBjb25zdCBsaXN0ZW5lciA9IHtcbiAqICAgICBsb2FkZWQ6IGZ1bmN0aW9uKCl7XG4gKiAgICAgICAgIC8vIHRoaW5cbiAqICAgICB9XG4gKiB9XG4gKlxuICogbXlPYmplY3QudXBkYXRlLmFkZChsaXN0ZW5lcik7XG4gKlxuICogbXlPYmplY3QubG9hZGVkLmVtaXQoKTtcbiAqIGBgYFxuICpcbiAqIE9yIGZvciBoYW5kbGluZyBjYWxsaW5nIHRoZSBzYW1lIGZ1bmN0aW9uIG9uIG1hbnkgaXRlbXNcbiAqIGBgYFxuICogaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnQHBpeGkvcnVubmVyJztcbiAqXG4gKiBjb25zdCBteUdhbWUgPSB7XG4gKiAgICAgdXBkYXRlOiBuZXcgUnVubmVyKCd1cGRhdGUnKVxuICogfVxuICpcbiAqIGNvbnN0IGdhbWVPYmplY3QgPSB7XG4gKiAgICAgdXBkYXRlOiBmdW5jdGlvbih0aW1lKXtcbiAqICAgICAgICAgLy8gdXBkYXRlIG15IGdhbWV5IHN0YXRlXG4gKiAgICAgfVxuICogfVxuICpcbiAqIG15R2FtZS51cGRhdGUuYWRkKGdhbWVPYmplY3QxKTtcbiAqXG4gKiBteUdhbWUudXBkYXRlLmVtaXQodGltZSk7XG4gKiBgYGBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJ1bm5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiAgQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSB0aGUgZnVuY3Rpb24gbmFtZSB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgb24gdGhlIGxpc3RlbmVycyBhZGRlZCB0byB0aGlzIFJ1bm5lci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSdW5uZXIobmFtZSkge1xuICAgICAgICB0aGlzLml0ZW1zID0gW107XG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLl9hbGlhc0NvdW50ID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2gvQnJvYWRjYXN0IFJ1bm5lciB0byBhbGwgbGlzdGVuZXJzIGFkZGVkIHRvIHRoZSBxdWV1ZS5cbiAgICAgKiBAcGFyYW0gey4uLmFueX0gcGFyYW1zIC0gb3B0aW9uYWwgcGFyYW1ldGVycyB0byBwYXNzIHRvIGVhY2ggbGlzdGVuZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJ1bm5lcn1cbiAgICAgKi9cbiAgICBSdW5uZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiAoYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3KSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gOCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYXggYXJndW1lbnRzIHJlYWNoZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBuYW1lID0gX2EubmFtZSwgaXRlbXMgPSBfYS5pdGVtcztcbiAgICAgICAgdGhpcy5fYWxpYXNDb3VudCsrO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaXRlbXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGl0ZW1zW2ldW25hbWVdKGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZW1zID09PSB0aGlzLml0ZW1zKSB7XG4gICAgICAgICAgICB0aGlzLl9hbGlhc0NvdW50LS07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBSdW5uZXIucHJvdG90eXBlLmVuc3VyZU5vbkFsaWFzZWRJdGVtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FsaWFzQ291bnQgPiAwICYmIHRoaXMuaXRlbXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdGhpcy5fYWxpYXNDb3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5pdGVtcy5zbGljZSgwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGEgbGlzdGVuZXIgdG8gdGhlIFJ1bm5lclxuICAgICAqXG4gICAgICogUnVubmVycyBkbyBub3QgbmVlZCB0byBoYXZlIHNjb3BlIG9yIGZ1bmN0aW9ucyBwYXNzZWQgdG8gdGhlbS5cbiAgICAgKiBBbGwgdGhhdCBpcyByZXF1aXJlZCBpcyB0byBwYXNzIHRoZSBsaXN0ZW5pbmcgb2JqZWN0IGFuZCBlbnN1cmUgdGhhdCBpdCBoYXMgY29udGFpbnMgYSBmdW5jdGlvbiB0aGF0IGhhcyB0aGUgc2FtZSBuYW1lXG4gICAgICogYXMgdGhlIG5hbWUgcHJvdmlkZWQgdG8gdGhlIFJ1bm5lciB3aGVuIGl0IHdhcyBjcmVhdGVkLlxuICAgICAqXG4gICAgICogRWcgQSBsaXN0ZW5lciBwYXNzZWQgdG8gdGhpcyBSdW5uZXIgd2lsbCByZXF1aXJlIGEgJ2NvbXBsZXRlJyBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIGltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG4gICAgICpcbiAgICAgKiBjb25zdCBjb21wbGV0ZSA9IG5ldyBSdW5uZXIoJ2NvbXBsZXRlJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGUgc2NvcGUgdXNlZCB3aWxsIGJlIHRoZSBvYmplY3QgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHBhcmFtIHthbnl9IGl0ZW0gLSBUaGUgb2JqZWN0IHRoYXQgd2lsbCBiZSBsaXN0ZW5pbmcuXG4gICAgICogQHJldHVybiB7UElYSS5SdW5uZXJ9XG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICBpZiAoaXRlbVt0aGlzLl9uYW1lXSkge1xuICAgICAgICAgICAgdGhpcy5lbnN1cmVOb25BbGlhc2VkSXRlbXMoKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGl0ZW0pO1xuICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgc2luZ2xlIGxpc3RlbmVyIGZyb20gdGhlIGRpc3BhdGNoIHF1ZXVlLlxuICAgICAqIEBwYXJhbSB7YW55fSBpdGVtIC0gVGhlIGxpc3RlbnIgdGhhdCB5b3Ugd291bGQgbGlrZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybiB7UElYSS5SdW5uZXJ9XG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKCk7XG4gICAgICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayB0byBzZWUgaWYgdGhlIGxpc3RlbmVyIGlzIGFscmVhZHkgaW4gdGhlIFJ1bm5lclxuICAgICAqIEBwYXJhbSB7YW55fSBpdGVtIC0gVGhlIGxpc3RlbmVyIHRoYXQgeW91IHdvdWxkIGxpa2UgdG8gY2hlY2suXG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSkgIT09IC0xO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZnJvbSB0aGUgUnVubmVyXG4gICAgICogQHJldHVybiB7UElYSS5SdW5uZXJ9XG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5yZW1vdmVBbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKCk7XG4gICAgICAgIHRoaXMuaXRlbXMubGVuZ3RoID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIHJlZmVyZW5jZXMsIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqL1xuICAgIFJ1bm5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5pdGVtcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX25hbWUgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJ1bm5lci5wcm90b3R5cGUsIFwiZW1wdHlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoZXJlIGFyZSBubyB0aGlzIFJ1bm5lciBjb250YWlucyBubyBsaXN0ZW5lcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSdW5uZXIucHJvdG90eXBlLCBcIm5hbWVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhlIHJ1bm5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gUnVubmVyO1xufSgpKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFJ1bm5lci5wcm90b3R5cGUsIHtcbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgYGVtaXRgXG4gICAgICogQG1lbWJlcm9mIFBJWEkuUnVubmVyI1xuICAgICAqIEBtZXRob2QgZGlzcGF0Y2hcbiAgICAgKiBAc2VlIFBJWEkuUnVubmVyI2VtaXRcbiAgICAgKi9cbiAgICBkaXNwYXRjaDogeyB2YWx1ZTogUnVubmVyLnByb3RvdHlwZS5lbWl0IH0sXG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGBlbWl0YFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLlJ1bm5lciNcbiAgICAgKiBAbWV0aG9kIHJ1blxuICAgICAqIEBzZWUgUElYSS5SdW5uZXIjZW1pdFxuICAgICAqL1xuICAgIHJ1bjogeyB2YWx1ZTogUnVubmVyLnByb3RvdHlwZS5lbWl0IH0sXG59KTtcblxuZXhwb3J0IHsgUnVubmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ydW5uZXIuZXMuanMubWFwXG4iLCJ2YXIgYXBwbGVJcGhvbmUgPSAvaVBob25lL2k7XG52YXIgYXBwbGVJcG9kID0gL2lQb2QvaTtcbnZhciBhcHBsZVRhYmxldCA9IC9pUGFkL2k7XG52YXIgYXBwbGVVbml2ZXJzYWwgPSAvXFxiaU9TLXVuaXZlcnNhbCg/Oi4rKU1hY1xcYi9pO1xudmFyIGFuZHJvaWRQaG9uZSA9IC9cXGJBbmRyb2lkKD86LispTW9iaWxlXFxiL2k7XG52YXIgYW5kcm9pZFRhYmxldCA9IC9BbmRyb2lkL2k7XG52YXIgYW1hem9uUGhvbmUgPSAvKD86U0Q0OTMwVVJ8XFxiU2lsayg/Oi4rKU1vYmlsZVxcYikvaTtcbnZhciBhbWF6b25UYWJsZXQgPSAvU2lsay9pO1xudmFyIHdpbmRvd3NQaG9uZSA9IC9XaW5kb3dzIFBob25lL2k7XG52YXIgd2luZG93c1RhYmxldCA9IC9cXGJXaW5kb3dzKD86LispQVJNXFxiL2k7XG52YXIgb3RoZXJCbGFja0JlcnJ5ID0gL0JsYWNrQmVycnkvaTtcbnZhciBvdGhlckJsYWNrQmVycnkxMCA9IC9CQjEwL2k7XG52YXIgb3RoZXJPcGVyYSA9IC9PcGVyYSBNaW5pL2k7XG52YXIgb3RoZXJDaHJvbWUgPSAvXFxiKENyaU9TfENocm9tZSkoPzouKylNb2JpbGUvaTtcbnZhciBvdGhlckZpcmVmb3ggPSAvTW9iaWxlKD86LispRmlyZWZveFxcYi9pO1xudmFyIGlzQXBwbGVUYWJsZXRPbklvczEzID0gZnVuY3Rpb24gKG5hdmlnYXRvcikge1xuICAgIHJldHVybiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgbmF2aWdhdG9yLnBsYXRmb3JtID09PSAnTWFjSW50ZWwnICYmXG4gICAgICAgIHR5cGVvZiBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPT09ICdudW1iZXInICYmXG4gICAgICAgIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDEgJiZcbiAgICAgICAgdHlwZW9mIE1TU3RyZWFtID09PSAndW5kZWZpbmVkJyk7XG59O1xuZnVuY3Rpb24gY3JlYXRlTWF0Y2godXNlckFnZW50KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZWdleCkgeyByZXR1cm4gcmVnZXgudGVzdCh1c2VyQWdlbnQpOyB9O1xufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNNb2JpbGUocGFyYW0pIHtcbiAgICB2YXIgbmF2ID0ge1xuICAgICAgICB1c2VyQWdlbnQ6ICcnLFxuICAgICAgICBwbGF0Zm9ybTogJycsXG4gICAgICAgIG1heFRvdWNoUG9pbnRzOiAwXG4gICAgfTtcbiAgICBpZiAoIXBhcmFtICYmIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG5hdiA9IHtcbiAgICAgICAgICAgIHVzZXJBZ2VudDogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgIHBsYXRmb3JtOiBuYXZpZ2F0b3IucGxhdGZvcm0sXG4gICAgICAgICAgICBtYXhUb3VjaFBvaW50czogbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzIHx8IDBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHBhcmFtID09PSAnc3RyaW5nJykge1xuICAgICAgICBuYXYudXNlckFnZW50ID0gcGFyYW07XG4gICAgfVxuICAgIGVsc2UgaWYgKHBhcmFtICYmIHBhcmFtLnVzZXJBZ2VudCkge1xuICAgICAgICBuYXYgPSB7XG4gICAgICAgICAgICB1c2VyQWdlbnQ6IHBhcmFtLnVzZXJBZ2VudCxcbiAgICAgICAgICAgIHBsYXRmb3JtOiBwYXJhbS5wbGF0Zm9ybSxcbiAgICAgICAgICAgIG1heFRvdWNoUG9pbnRzOiBwYXJhbS5tYXhUb3VjaFBvaW50cyB8fCAwXG4gICAgICAgIH07XG4gICAgfVxuICAgIHZhciB1c2VyQWdlbnQgPSBuYXYudXNlckFnZW50O1xuICAgIHZhciB0bXAgPSB1c2VyQWdlbnQuc3BsaXQoJ1tGQkFOJyk7XG4gICAgaWYgKHR5cGVvZiB0bXBbMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHVzZXJBZ2VudCA9IHRtcFswXTtcbiAgICB9XG4gICAgdG1wID0gdXNlckFnZW50LnNwbGl0KCdUd2l0dGVyJyk7XG4gICAgaWYgKHR5cGVvZiB0bXBbMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHVzZXJBZ2VudCA9IHRtcFswXTtcbiAgICB9XG4gICAgdmFyIG1hdGNoID0gY3JlYXRlTWF0Y2godXNlckFnZW50KTtcbiAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICBhcHBsZToge1xuICAgICAgICAgICAgcGhvbmU6IG1hdGNoKGFwcGxlSXBob25lKSAmJiAhbWF0Y2god2luZG93c1Bob25lKSxcbiAgICAgICAgICAgIGlwb2Q6IG1hdGNoKGFwcGxlSXBvZCksXG4gICAgICAgICAgICB0YWJsZXQ6ICFtYXRjaChhcHBsZUlwaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAobWF0Y2goYXBwbGVUYWJsZXQpIHx8IGlzQXBwbGVUYWJsZXRPbklvczEzKG5hdikpICYmXG4gICAgICAgICAgICAgICAgIW1hdGNoKHdpbmRvd3NQaG9uZSksXG4gICAgICAgICAgICB1bml2ZXJzYWw6IG1hdGNoKGFwcGxlVW5pdmVyc2FsKSxcbiAgICAgICAgICAgIGRldmljZTogKG1hdGNoKGFwcGxlSXBob25lKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKGFwcGxlSXBvZCkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChhcHBsZVRhYmxldCkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChhcHBsZVVuaXZlcnNhbCkgfHxcbiAgICAgICAgICAgICAgICBpc0FwcGxlVGFibGV0T25Jb3MxMyhuYXYpKSAmJlxuICAgICAgICAgICAgICAgICFtYXRjaCh3aW5kb3dzUGhvbmUpXG4gICAgICAgIH0sXG4gICAgICAgIGFtYXpvbjoge1xuICAgICAgICAgICAgcGhvbmU6IG1hdGNoKGFtYXpvblBob25lKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFtYXpvblBob25lKSAmJiBtYXRjaChhbWF6b25UYWJsZXQpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaChhbWF6b25QaG9uZSkgfHwgbWF0Y2goYW1hem9uVGFibGV0KVxuICAgICAgICB9LFxuICAgICAgICBhbmRyb2lkOiB7XG4gICAgICAgICAgICBwaG9uZTogKCFtYXRjaCh3aW5kb3dzUGhvbmUpICYmIG1hdGNoKGFtYXpvblBob25lKSkgfHxcbiAgICAgICAgICAgICAgICAoIW1hdGNoKHdpbmRvd3NQaG9uZSkgJiYgbWF0Y2goYW5kcm9pZFBob25lKSksXG4gICAgICAgICAgICB0YWJsZXQ6ICFtYXRjaCh3aW5kb3dzUGhvbmUpICYmXG4gICAgICAgICAgICAgICAgIW1hdGNoKGFtYXpvblBob25lKSAmJlxuICAgICAgICAgICAgICAgICFtYXRjaChhbmRyb2lkUGhvbmUpICYmXG4gICAgICAgICAgICAgICAgKG1hdGNoKGFtYXpvblRhYmxldCkgfHwgbWF0Y2goYW5kcm9pZFRhYmxldCkpLFxuICAgICAgICAgICAgZGV2aWNlOiAoIW1hdGNoKHdpbmRvd3NQaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAobWF0Y2goYW1hem9uUGhvbmUpIHx8XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoKGFtYXpvblRhYmxldCkgfHxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2goYW5kcm9pZFBob25lKSB8fFxuICAgICAgICAgICAgICAgICAgICBtYXRjaChhbmRyb2lkVGFibGV0KSkpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2goL1xcYm9raHR0cFxcYi9pKVxuICAgICAgICB9LFxuICAgICAgICB3aW5kb3dzOiB7XG4gICAgICAgICAgICBwaG9uZTogbWF0Y2god2luZG93c1Bob25lKSxcbiAgICAgICAgICAgIHRhYmxldDogbWF0Y2god2luZG93c1RhYmxldCksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKHdpbmRvd3NQaG9uZSkgfHwgbWF0Y2god2luZG93c1RhYmxldClcbiAgICAgICAgfSxcbiAgICAgICAgb3RoZXI6IHtcbiAgICAgICAgICAgIGJsYWNrYmVycnk6IG1hdGNoKG90aGVyQmxhY2tCZXJyeSksXG4gICAgICAgICAgICBibGFja2JlcnJ5MTA6IG1hdGNoKG90aGVyQmxhY2tCZXJyeTEwKSxcbiAgICAgICAgICAgIG9wZXJhOiBtYXRjaChvdGhlck9wZXJhKSxcbiAgICAgICAgICAgIGZpcmVmb3g6IG1hdGNoKG90aGVyRmlyZWZveCksXG4gICAgICAgICAgICBjaHJvbWU6IG1hdGNoKG90aGVyQ2hyb21lKSxcbiAgICAgICAgICAgIGRldmljZTogbWF0Y2gob3RoZXJCbGFja0JlcnJ5KSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKG90aGVyQmxhY2tCZXJyeTEwKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKG90aGVyT3BlcmEpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2gob3RoZXJGaXJlZm94KSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKG90aGVyQ2hyb21lKVxuICAgICAgICB9LFxuICAgICAgICBhbnk6IGZhbHNlLFxuICAgICAgICBwaG9uZTogZmFsc2UsXG4gICAgICAgIHRhYmxldDogZmFsc2VcbiAgICB9O1xuICAgIHJlc3VsdC5hbnkgPVxuICAgICAgICByZXN1bHQuYXBwbGUuZGV2aWNlIHx8XG4gICAgICAgICAgICByZXN1bHQuYW5kcm9pZC5kZXZpY2UgfHxcbiAgICAgICAgICAgIHJlc3VsdC53aW5kb3dzLmRldmljZSB8fFxuICAgICAgICAgICAgcmVzdWx0Lm90aGVyLmRldmljZTtcbiAgICByZXN1bHQucGhvbmUgPVxuICAgICAgICByZXN1bHQuYXBwbGUucGhvbmUgfHwgcmVzdWx0LmFuZHJvaWQucGhvbmUgfHwgcmVzdWx0LndpbmRvd3MucGhvbmU7XG4gICAgcmVzdWx0LnRhYmxldCA9XG4gICAgICAgIHJlc3VsdC5hcHBsZS50YWJsZXQgfHwgcmVzdWx0LmFuZHJvaWQudGFibGV0IHx8IHJlc3VsdC53aW5kb3dzLnRhYmxldDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNNb2JpbGUuanMubWFwIiwiLyohXG4gKiBAcGl4aS9zZXR0aW5ncyAtIHY1LjMuN1xuICogQ29tcGlsZWQgVHVlLCAyOSBEZWMgMjAyMCAxOTozMDoxMSBVVENcbiAqXG4gKiBAcGl4aS9zZXR0aW5ncyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCBpc01vYmlsZUNhbGwgZnJvbSAnaXNtb2JpbGVqcyc7XG5cbi8vIFRoZSBFU00vQ0pTIHZlcnNpb25zIG9mIGlzbW9iaWxlanMgb25seVxudmFyIGlzTW9iaWxlID0gaXNNb2JpbGVDYWxsKHdpbmRvdy5uYXZpZ2F0b3IpO1xuXG4vKipcbiAqIFRoZSBtYXhpbXVtIHJlY29tbWVuZGVkIHRleHR1cmUgdW5pdHMgdG8gdXNlLlxuICogSW4gdGhlb3J5IHRoZSBiaWdnZXIgdGhlIGJldHRlciwgYW5kIGZvciBkZXNrdG9wIHdlJ2xsIHVzZSBhcyBtYW55IGFzIHdlIGNhbi5cbiAqIEJ1dCBzb21lIG1vYmlsZSBkZXZpY2VzIHNsb3cgZG93biBpZiB0aGVyZSBpcyB0byBtYW55IGJyYW5jaGVzIGluIHRoZSBzaGFkZXIuXG4gKiBTbyBpbiBwcmFjdGljZSB0aGVyZSBzZWVtcyB0byBiZSBhIHN3ZWV0IHNwb3Qgc2l6ZSB0aGF0IHZhcmllcyBkZXBlbmRpbmcgb24gdGhlIGRldmljZS5cbiAqXG4gKiBJbiB2NCwgYWxsIG1vYmlsZSBkZXZpY2VzIHdlcmUgbGltaXRlZCB0byA0IHRleHR1cmUgdW5pdHMgYmVjYXVzZSBmb3IgdGhpcy5cbiAqIEluIHY1LCB3ZSBhbGxvdyBhbGwgdGV4dHVyZSB1bml0cyB0byBiZSB1c2VkIG9uIG1vZGVybiBBcHBsZSBvciBBbmRyb2lkIGRldmljZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIG1heFJlY29tbWVuZGVkVGV4dHVyZXMobWF4KSB7XG4gICAgdmFyIGFsbG93TWF4ID0gdHJ1ZTtcbiAgICBpZiAoaXNNb2JpbGUudGFibGV0IHx8IGlzTW9iaWxlLnBob25lKSB7XG4gICAgICAgIGlmIChpc01vYmlsZS5hcHBsZS5kZXZpY2UpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IChuYXZpZ2F0b3IudXNlckFnZW50KS5tYXRjaCgvT1MgKFxcZCspXyhcXGQrKT8vKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgIHZhciBtYWpvclZlcnNpb24gPSBwYXJzZUludChtYXRjaFsxXSwgMTApO1xuICAgICAgICAgICAgICAgIC8vIExpbWl0IHRleHR1cmUgdW5pdHMgb24gZGV2aWNlcyBiZWxvdyBpT1MgMTEsIHdoaWNoIHdpbGwgYmUgb2xkZXIgaGFyZHdhcmVcbiAgICAgICAgICAgICAgICBpZiAobWFqb3JWZXJzaW9uIDwgMTEpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dNYXggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTW9iaWxlLmFuZHJvaWQuZGV2aWNlKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2ggPSAobmF2aWdhdG9yLnVzZXJBZ2VudCkubWF0Y2goL0FuZHJvaWRcXHMoWzAtOS5dKikvKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgIHZhciBtYWpvclZlcnNpb24gPSBwYXJzZUludChtYXRjaFsxXSwgMTApO1xuICAgICAgICAgICAgICAgIC8vIExpbWl0IHRleHR1cmUgdW5pdHMgb24gZGV2aWNlcyBiZWxvdyBBbmRyb2lkIDcgKE5vdWdhdCksIHdoaWNoIHdpbGwgYmUgb2xkZXIgaGFyZHdhcmVcbiAgICAgICAgICAgICAgICBpZiAobWFqb3JWZXJzaW9uIDwgNykge1xuICAgICAgICAgICAgICAgICAgICBhbGxvd01heCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYWxsb3dNYXggPyBtYXggOiA0O1xufVxuXG4vKipcbiAqIFVwbG9hZGluZyB0aGUgc2FtZSBidWZmZXIgbXVsdGlwbGUgdGltZXMgaW4gYSBzaW5nbGUgZnJhbWUgY2FuIGNhdXNlIHBlcmZvcm1hbmNlIGlzc3Vlcy5cbiAqIEFwcGFyZW50IG9uIGlPUyBzbyBvbmx5IGNoZWNrIGZvciB0aGF0IGF0IHRoZSBtb21lbnRcbiAqIFRoaXMgY2hlY2sgbWF5IGJlY29tZSBtb3JlIGNvbXBsZXggaWYgdGhpcyBpc3N1ZSBwb3BzIHVwIGVsc2V3aGVyZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGNhblVwbG9hZFNhbWVCdWZmZXIoKSB7XG4gICAgcmV0dXJuICFpc01vYmlsZS5hcHBsZS5kZXZpY2U7XG59XG5cbi8qKlxuICogVXNlcidzIGN1c3RvbWl6YWJsZSBnbG9iYWxzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IFBJWEkgc2V0dGluZ3MsIHN1Y2hcbiAqIGFzIGEgcmVuZGVyZXIncyBkZWZhdWx0IHJlc29sdXRpb24sIGZyYW1lcmF0ZSwgZmxvYXQgcHJlY2lzaW9uLCBldGMuXG4gKiBAZXhhbXBsZVxuICogLy8gVXNlIHRoZSBuYXRpdmUgd2luZG93IHJlc29sdXRpb24gYXMgdGhlIGRlZmF1bHQgcmVzb2x1dGlvblxuICogLy8gd2lsbCBzdXBwb3J0IGhpZ2gtZGVuc2l0eSBkaXNwbGF5cyB3aGVuIHJlbmRlcmluZ1xuICogUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gKlxuICogLy8gRGlzYWJsZSBpbnRlcnBvbGF0aW9uIHdoZW4gc2NhbGluZywgd2lsbCBtYWtlIHRleHR1cmUgYmUgcGl4ZWxhdGVkXG4gKiBQSVhJLnNldHRpbmdzLlNDQUxFX01PREUgPSBQSVhJLlNDQUxFX01PREVTLk5FQVJFU1Q7XG4gKiBAbmFtZXNwYWNlIFBJWEkuc2V0dGluZ3NcbiAqL1xudmFyIHNldHRpbmdzID0ge1xuICAgIC8qKlxuICAgICAqIElmIHNldCB0byB0cnVlIFdlYkdMIHdpbGwgYXR0ZW1wdCBtYWtlIHRleHR1cmVzIG1pbXBhcGVkIGJ5IGRlZmF1bHQuXG4gICAgICogTWlwbWFwcGluZyB3aWxsIG9ubHkgc3VjY2VlZCBpZiB0aGUgYmFzZSB0ZXh0dXJlIHVwbG9hZGVkIGhhcyBwb3dlciBvZiB0d28gZGltZW5zaW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBNSVBNQVBfVEVYVFVSRVNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLk1JUE1BUF9NT0RFU31cbiAgICAgKiBAZGVmYXVsdCBQSVhJLk1JUE1BUF9NT0RFUy5QT1cyXG4gICAgICovXG4gICAgTUlQTUFQX1RFWFRVUkVTOiAxLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgYW5pc290cm9waWMgZmlsdGVyaW5nIGxldmVsIG9mIHRleHR1cmVzLlxuICAgICAqIFVzdWFsbHkgZnJvbSAwIHRvIDE2XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgQU5JU09UUk9QSUNfTEVWRUxcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIEFOSVNPVFJPUElDX0xFVkVMOiAwLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgUkVTT0xVVElPTlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgUkVTT0xVVElPTjogMSxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGZpbHRlciByZXNvbHV0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEZJTFRFUl9SRVNPTFVUSU9OXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBGSUxURVJfUkVTT0xVVElPTjogMSxcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSB0ZXh0dXJlcyB0aGF0IHRoaXMgZGV2aWNlIHN1cHBvcnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFNQUklURV9NQVhfVEVYVFVSRVNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMzJcbiAgICAgKi9cbiAgICBTUFJJVEVfTUFYX1RFWFRVUkVTOiBtYXhSZWNvbW1lbmRlZFRleHR1cmVzKDMyKSxcbiAgICAvLyBUT0RPOiBtYXliZSBjaGFuZ2UgdG8gU1BSSVRFLkJBVENIX1NJWkU6IDIwMDBcbiAgICAvLyBUT0RPOiBtYXliZSBhZGQgUEFSVElDTEUuQkFUQ0hfU0laRTogMTUwMDBcbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBzcHJpdGUgYmF0Y2ggc2l6ZS5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGFpbXMgdG8gYmFsYW5jZSBkZXNrdG9wIGFuZCBtb2JpbGUgZGV2aWNlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBTUFJJVEVfQkFUQ0hfU0laRVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA0MDk2XG4gICAgICovXG4gICAgU1BSSVRFX0JBVENIX1NJWkU6IDQwOTYsXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgcmVuZGVyIG9wdGlvbnMgaWYgbm9uZSBhcmUgc3VwcGxpZWQgdG8ge0BsaW5rIFBJWEkuUmVuZGVyZXJ9XG4gICAgICogb3Ige0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXJ9LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFJFTkRFUl9PUFRJT05TXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7SFRNTENhbnZhc0VsZW1lbnR9IHZpZXc9bnVsbFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZXNvbHV0aW9uPTFcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGFudGlhbGlhcz1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYXV0b0RlbnNpdHk9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHRyYW5zcGFyZW50PWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGJhY2tncm91bmRDb2xvcj0weDAwMDAwMFxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoPTgwMFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQ9NjAwXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBsZWdhY3k9ZmFsc2VcbiAgICAgKi9cbiAgICBSRU5ERVJfT1BUSU9OUzoge1xuICAgICAgICB2aWV3OiBudWxsLFxuICAgICAgICBhbnRpYWxpYXM6IGZhbHNlLFxuICAgICAgICBhdXRvRGVuc2l0eTogZmFsc2UsXG4gICAgICAgIHRyYW5zcGFyZW50OiBmYWxzZSxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAweDAwMDAwMCxcbiAgICAgICAgY2xlYXJCZWZvcmVSZW5kZXI6IHRydWUsXG4gICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogZmFsc2UsXG4gICAgICAgIHdpZHRoOiA4MDAsXG4gICAgICAgIGhlaWdodDogNjAwLFxuICAgICAgICBsZWdhY3k6IGZhbHNlLFxuICAgIH0sXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBHYXJiYWdlIENvbGxlY3Rpb24gbW9kZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBHQ19NT0RFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5HQ19NT0RFU31cbiAgICAgKiBAZGVmYXVsdCBQSVhJLkdDX01PREVTLkFVVE9cbiAgICAgKi9cbiAgICBHQ19NT0RFOiAwLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1heCBpZGxlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01BWF9JRExFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDM2MDBcbiAgICAgKi9cbiAgICBHQ19NQVhfSURMRTogNjAgKiA2MCxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXhpbXVtIGNoZWNrIGNvdW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01BWF9DSEVDS19DT1VOVFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgKi9cbiAgICBHQ19NQVhfQ0hFQ0tfQ09VTlQ6IDYwICogMTAsXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFdSQVBfTU9ERVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuV1JBUF9NT0RFU31cbiAgICAgKiBAZGVmYXVsdCBQSVhJLldSQVBfTU9ERVMuQ0xBTVBcbiAgICAgKi9cbiAgICBXUkFQX01PREU6IDMzMDcxLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc2NhbGUgbW9kZSBmb3IgdGV4dHVyZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgU0NBTEVfTU9ERVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuU0NBTEVfTU9ERVN9XG4gICAgICogQGRlZmF1bHQgUElYSS5TQ0FMRV9NT0RFUy5MSU5FQVJcbiAgICAgKi9cbiAgICBTQ0FMRV9NT0RFOiAxLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gdmVydGV4IHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBQUkVDSVNJT05fVkVSVEVYXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uSElHSFxuICAgICAqL1xuICAgIFBSRUNJU0lPTl9WRVJURVg6ICdoaWdocCcsXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogaU9TIGlzIGJlc3Qgc2V0IGF0IGhpZ2hwIGR1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzM3NDJcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBQUkVDSVNJT05fRlJBR01FTlRcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLlBSRUNJU0lPTn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLlBSRUNJU0lPTi5NRURJVU1cbiAgICAgKi9cbiAgICBQUkVDSVNJT05fRlJBR01FTlQ6IGlzTW9iaWxlLmFwcGxlLmRldmljZSA/ICdoaWdocCcgOiAnbWVkaXVtcCcsXG4gICAgLyoqXG4gICAgICogQ2FuIHdlIHVwbG9hZCB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWU/XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUjogY2FuVXBsb2FkU2FtZUJ1ZmZlcigpLFxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgYml0bWFwIGNyZWF0aW9uIGJlZm9yZSBpbWFnZSBsb2FkLiBUaGlzIGZlYXR1cmUgaXMgZXhwZXJpbWVudGFsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIENSRUFURV9JTUFHRV9CSVRNQVBcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgQ1JFQVRFX0lNQUdFX0JJVE1BUDogZmFsc2UsXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgUk9VTkRfUElYRUxTOiBmYWxzZSxcbn07XG5cbmV4cG9ydCB7IGlzTW9iaWxlLCBzZXR0aW5ncyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0dGluZ3MuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZSAtIHY1LjMuN1xuICogQ29tcGlsZWQgVHVlLCAyOSBEZWMgMjAyMCAxOTozMDoxMSBVVENcbiAqXG4gKiBAcGl4aS9zcHJpdGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IFBvaW50LCBPYnNlcnZhYmxlUG9pbnQsIFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBzaWduIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIHRlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xudmFyIGluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoWzAsIDEsIDIsIDAsIDIsIDNdKTtcbi8qKlxuICogVGhlIFNwcml0ZSBvYmplY3QgaXMgdGhlIGJhc2UgZm9yIGFsbCB0ZXh0dXJlZCBvYmplY3RzIHRoYXQgYXJlIHJlbmRlcmVkIHRvIHRoZSBzY3JlZW5cbipcbiAqIEEgc3ByaXRlIGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYW4gaW1hZ2UgbGlrZSB0aGlzOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogYGBgXG4gKlxuICogVGhlIG1vcmUgZWZmaWNpZW50IHdheSB0byBjcmVhdGUgc3ByaXRlcyBpcyB1c2luZyBhIHtAbGluayBQSVhJLlNwcml0ZXNoZWV0fSxcbiAqIGFzIHN3YXBwaW5nIGJhc2UgdGV4dHVyZXMgd2hlbiByZW5kZXJpbmcgdG8gdGhlIHNjcmVlbiBpcyBpbmVmZmljaWVudC5cbiAqXG4gKiBgYGBqc1xuICogUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIGxldCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUoc2hlZXQudGV4dHVyZXNbXCJpbWFnZS5wbmdcIl0pO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNwcml0ZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW3RleHR1cmVdIC0gVGhlIHRleHR1cmUgZm9yIHRoaXMgc3ByaXRlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNwcml0ZSh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHBvaW50IGRlZmluZXMgdGhlIG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNcbiAgICAgICAgICogaW4gdGhlIHRleHR1cmUgdGhhdCBtYXAgdG8gdGhlIHBvc2l0aW9uIG9mIHRoaXNcbiAgICAgICAgICogc3ByaXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCeSBkZWZhdWx0LCB0aGlzIGlzIGAoMCwwKWAgKG9yIGB0ZXh0dXJlLmRlZmF1bHRBbmNob3JgXG4gICAgICAgICAqIGlmIHlvdSBoYXZlIG1vZGlmaWVkIHRoYXQpLCB3aGljaCBtZWFucyB0aGUgcG9zaXRpb25cbiAgICAgICAgICogYCh4LHkpYCBvZiB0aGlzIGBTcHJpdGVgIHdpbGwgYmUgdGhlIHRvcC1sZWZ0IGNvcm5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogTm90ZTogVXBkYXRpbmcgYHRleHR1cmUuZGVmYXVsdEFuY2hvcmAgYWZ0ZXJcbiAgICAgICAgICogY29uc3RydWN0aW5nIGEgYFNwcml0ZWAgZG9lcyBfbm90XyB1cGRhdGUgaXRzIGFuY2hvci5cbiAgICAgICAgICpcbiAgICAgICAgICoge0BsaW5rIGh0dHBzOi8vZG9jcy5jb2NvczJkLXgub3JnL2NvY29zMmQteC9lbi9zcHJpdGVzL21hbmlwdWxhdGlvbi5odG1sfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCBgdGV4dHVyZS5kZWZhdWx0QW5jaG9yYFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hbmNob3IgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KF90aGlzLl9vbkFuY2hvclVwZGF0ZSwgX3RoaXMsICh0ZXh0dXJlID8gdGV4dHVyZS5kZWZhdWx0QW5jaG9yLnggOiAwKSwgKHRleHR1cmUgPyB0ZXh0dXJlLmRlZmF1bHRBbmNob3IueSA6IDApKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIHNwcml0ZSBpcyB1c2luZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBzcHJpdGUgKHRoaXMgaXMgaW5pdGlhbGx5IHNldCBieSB0aGUgdGV4dHVyZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faGVpZ2h0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90aW50ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIFJHQiB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTY3NzcyMTVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90aW50UkdCID0gbnVsbDtcbiAgICAgICAgX3RoaXMudGludCA9IDB4RkZGRkZGO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZWQgdGludCB2YWx1ZSBzbyB3ZSBjYW4gdGVsbCB3aGVuIHRoZSB0aW50IGlzIGNoYW5nZWQuXG4gICAgICAgICAqIFZhbHVlIGlzIHVzZWQgZm9yIDJkIENhbnZhc1JlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGlzIGlzIHVzZWQgdG8gc3RvcmUgdGhlIHV2cyBkYXRhIG9mIHRoZSBzcHJpdGUsIGFzc2lnbmVkIGF0IHRoZSBzYW1lIHRpbWVcbiAgICAgICAgICogYXMgdGhlIHZlcnRleERhdGEgaW4gY2FsY3VsYXRlVmVydGljZXMoKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dnMgPSBudWxsO1xuICAgICAgICAvLyBjYWxsIHRleHR1cmUgc2V0dGVyXG4gICAgICAgIF90aGlzLnRleHR1cmUgPSB0ZXh0dXJlIHx8IFRleHR1cmUuRU1QVFk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGlzIGlzIHVzZWQgdG8gc3RvcmUgdGhlIHZlcnRleCBkYXRhIG9mIHRoZSBzcHJpdGUgKGJhc2ljYWxseSBhIHF1YWQpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QgSUYgaXQgaXMgYSB0cmltbWVkIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSA9IG51bGw7XG4gICAgICAgIF90aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICBfdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIF90aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICAgICAgX3RoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgLy8gQmF0Y2hhYmxlIHN0dWZmLi5cbiAgICAgICAgLy8gVE9ETyBjb3VsZCBtYWtlIHRoaXMgYSBtaXhpbj9cbiAgICAgICAgX3RoaXMuaW5kaWNlcyA9IGluZGljZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbHVnaW4gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIHRoaXMgZWxlbWVudC5cbiAgICAgICAgICogQWxsb3dzIHRvIGN1c3RvbWl6ZSB0aGUgcmVuZGVyaW5nIHByb2Nlc3Mgd2l0aG91dCBvdmVycmlkaW5nICdfcmVuZGVyJyAmICdfcmVuZGVyQ2FudmFzJyBtZXRob2RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdiYXRjaCdcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBsdWdpbk5hbWUgPSAnYmF0Y2gnO1xuICAgICAgICAvKipcbiAgICAgICAgICogdXNlZCB0byBmYXN0IGNoZWNrIGlmIGEgc3ByaXRlIGlzLi4gYSBzcHJpdGUhXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc1Nwcml0ZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCByb3VuZFBpeGVscyBmaWVsZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3JvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHRleHR1cmUgaXMgdXBkYXRlZCwgdGhpcyBldmVudCB3aWxsIGZpcmUgdG8gdXBkYXRlIHRoZSBzY2FsZSBhbmQgZnJhbWVcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgLy8gc28gaWYgX3dpZHRoIGlzIDAgdGhlbiB3aWR0aCB3YXMgbm90IHNldC4uXG4gICAgICAgIGlmICh0aGlzLl93aWR0aCkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gc2lnbih0aGlzLnNjYWxlLngpICogdGhpcy5fd2lkdGggLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gc2lnbih0aGlzLnNjYWxlLnkpICogdGhpcy5faGVpZ2h0IC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGFuY2hvciBwb3NpdGlvbiB1cGRhdGVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9vbkFuY2hvclVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gLTE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHdvcmxkVHJhbnNmb3JtICogdmVydGljZXMsIHN0b3JlIGl0IGluIHZlcnRleERhdGFcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmNhbGN1bGF0ZVZlcnRpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1JRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQgJiYgdGhpcy5fdGV4dHVyZUlEID09PSB0ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSB0ZXh0dXJlIFVWIGhlcmUsIGJlY2F1c2UgYmFzZSB0ZXh0dXJlIGNhbiBiZSBjaGFuZ2VkIHdpdGhvdXQgY2FsbGluZyBgX29uVGV4dHVyZVVwZGF0ZWBcbiAgICAgICAgaWYgKHRoaXMuX3RleHR1cmVJRCAhPT0gdGV4dHVyZS5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHRoaXMudXZzID0gdGhpcy5fdGV4dHVyZS5fdXZzLnV2c0Zsb2F0MzI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgICAgIC8vIHNldCB0aGUgdmVydGV4IGRhdGFcbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcbiAgICAgICAgdmFyIHRyaW0gPSB0ZXh0dXJlLnRyaW07XG4gICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5fYW5jaG9yO1xuICAgICAgICB2YXIgdzAgPSAwO1xuICAgICAgICB2YXIgdzEgPSAwO1xuICAgICAgICB2YXIgaDAgPSAwO1xuICAgICAgICB2YXIgaDEgPSAwO1xuICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkIGFuZCBpcyBub3QgYSB0aWxpbmdzcHJpdGUgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGUgZXh0cmFcbiAgICAgICAgICAgIC8vIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuXG4gICAgICAgICAgICB3MSA9IHRyaW0ueCAtIChhbmNob3IuX3ggKiBvcmlnLndpZHRoKTtcbiAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuICAgICAgICAgICAgaDEgPSB0cmltLnkgLSAoYW5jaG9yLl95ICogb3JpZy5oZWlnaHQpO1xuICAgICAgICAgICAgaDAgPSBoMSArIHRyaW0uaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdzEgPSAtYW5jaG9yLl94ICogb3JpZy53aWR0aDtcbiAgICAgICAgICAgIHcwID0gdzEgKyBvcmlnLndpZHRoO1xuICAgICAgICAgICAgaDEgPSAtYW5jaG9yLl95ICogb3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICBoMCA9IGgxICsgb3JpZy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVswXSA9IChhICogdzEpICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVsxXSA9IChkICogaDEpICsgKGIgKiB3MSkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVsyXSA9IChhICogdzApICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVszXSA9IChkICogaDEpICsgKGIgKiB3MCkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs0XSA9IChhICogdzApICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs1XSA9IChkICogaDApICsgKGIgKiB3MCkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs2XSA9IChhICogdzEpICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs3XSA9IChkICogaDApICsgKGIgKiB3MSkgKyB0eTtcbiAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2ldID0gTWF0aC5yb3VuZCgodmVydGV4RGF0YVtpXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHdvcmxkVHJhbnNmb3JtICogdmVydGljZXMgZm9yIGEgbm9uIHRleHR1cmUgd2l0aCBhIHRyaW0uIHN0b3JlIGl0IGluIHZlcnRleFRyaW1tZWREYXRhXG4gICAgICogVGhpcyBpcyB1c2VkIHRvIGVuc3VyZSB0aGF0IHRoZSB0cnVlIHdpZHRoIGFuZCBoZWlnaHQgb2YgYSB0cmltbWVkIHRleHR1cmUgaXMgcmVzcGVjdGVkXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5jYWxjdWxhdGVUcmltbWVkVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSkge1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID09PSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgICAgIC8vIGxldHMgZG8gc29tZSBzcGVjaWFsIHRyaW0gY29kZSFcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4VHJpbW1lZERhdGE7XG4gICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5fYW5jaG9yO1xuICAgICAgICAvLyBsZXRzIGNhbGN1bGF0ZSB0aGUgbmV3IHVudHJpbW1lZCBib3VuZHMuLlxuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG4gICAgICAgIHZhciB3MSA9IC1hbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgICB2YXIgdzAgPSB3MSArIG9yaWcud2lkdGg7XG4gICAgICAgIHZhciBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgdmFyIGgwID0gaDEgKyBvcmlnLmhlaWdodDtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVswXSA9IChhICogdzEpICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVsxXSA9IChkICogaDEpICsgKGIgKiB3MSkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVsyXSA9IChhICogdzApICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVszXSA9IChkICogaDEpICsgKGIgKiB3MCkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs0XSA9IChhICogdzApICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs1XSA9IChkICogaDApICsgKGIgKiB3MCkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs2XSA9IChhICogdzEpICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs3XSA9IChkICogaDApICsgKGIgKiB3MSkgKyB0eTtcbiAgICB9O1xuICAgIC8qKlxuICAgICpcbiAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAqXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHdlYmdsIHJlbmRlcmVyIHRvIHVzZS5cbiAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0cmltID0gdGhpcy5fdGV4dHVyZS50cmltO1xuICAgICAgICB2YXIgb3JpZyA9IHRoaXMuX3RleHR1cmUub3JpZztcbiAgICAgICAgLy8gRmlyc3QgbGV0cyBjaGVjayB0byBzZWUgaWYgdGhlIGN1cnJlbnQgdGV4dHVyZSBoYXMgYSB0cmltLi5cbiAgICAgICAgaWYgKCF0cmltIHx8ICh0cmltLndpZHRoID09PSBvcmlnLndpZHRoICYmIHRyaW0uaGVpZ2h0ID09PSBvcmlnLmhlaWdodCkpIHtcbiAgICAgICAgICAgIC8vIG5vIHRyaW0hIGxldHMgdXNlIHRoZSB1c3VhbCBjYWxjdWxhdGlvbnMuLlxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxldHMgY2FsY3VsYXRlIGEgc3BlY2lhbCB0cmltbWVkIGJvdW5kcy4uLlxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVUcmltbWVkVmVydGljZXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4VHJpbW1lZERhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVjdF0gLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblkgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhYID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuICAgICAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgc3ByaXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIHZhciB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgIHZhciB5MSA9IDA7XG4gICAgICAgIGlmICh0ZW1wUG9pbnQueCA+PSB4MSAmJiB0ZW1wUG9pbnQueCA8IHgxICsgd2lkdGgpIHtcbiAgICAgICAgICAgIHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLnk7XG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgc3ByaXRlIGFuZCBvcHRpb25hbGx5IGl0cyB0ZXh0dXJlIGFuZCBjaGlsZHJlblxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3RleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICB0aGlzLl9hbmNob3IgPSBudWxsO1xuICAgICAgICB2YXIgZGVzdHJveVRleHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy50ZXh0dXJlO1xuICAgICAgICBpZiAoZGVzdHJveVRleHR1cmUpIHtcbiAgICAgICAgICAgIHZhciBkZXN0cm95QmFzZVRleHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUuZGVzdHJveSghIWRlc3Ryb3lCYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgfTtcbiAgICAvLyBzb21lIGhlbHBlciBmdW5jdGlvbnMuLlxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgc3ByaXRlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLlRleHR1cmV8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfSBUaGUgbmV3bHkgY3JlYXRlZCBzcHJpdGVcbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIChzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSAoc291cmNlIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAgICAgID8gc291cmNlXG4gICAgICAgICAgICA6IFRleHR1cmUuZnJvbShzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcInJvdW5kUGl4ZWxzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm91bmRQaXhlbHM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICAgICAqIFRvIHNldCB0aGUgZ2xvYmFsIGRlZmF1bHQsIGNoYW5nZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFN9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNwcml0ZS5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueCkgKiB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgcyA9IHNpZ24odGhpcy5zY2FsZS54KSB8fCAxO1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueSkgfHwgMTtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcImFuY2hvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgc3ByaXRlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0YWtlbiBmcm9tIHRoZSB7QGxpbmsgUElYSS5UZXh0dXJlfFRleHR1cmV9XG4gICAgICAgICAqIGFuZCBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyBgKDAsMClgLCB0aGlzIG1lYW5zIHRoZSBzcHJpdGUncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgwLjUsMC41KWAgbWVhbnMgdGhlIHNwcml0ZSdzIG9yaWdpbiBpcyBjZW50ZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMSwxKWAgd291bGQgbWVhbiB0aGUgc3ByaXRlJ3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHlvdSBwYXNzIG9ubHkgc2luZ2xlIHBhcmFtZXRlciwgaXQgd2lsbCBzZXQgYm90aCB4IGFuZCB5IHRvIHRoZSBzYW1lIHZhbHVlIGFzIHNob3duIGluIHRoZSBleGFtcGxlIGJlbG93LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICAgICAqIHNwcml0ZS5hbmNob3Iuc2V0KDAuNSk7IC8vIFRoaXMgd2lsbCBzZXQgdGhlIG9yaWdpbiB0byBjZW50ZXIuICgwLjUpIGlzIHNhbWUgYXMgKDAuNSwgMC41KS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbmNob3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3IuY29weUZyb20odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNwcml0ZS5wcm90b3R5cGUsIFwidGludFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuXG4gICAgICAgICAqIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fdGludFJHQiA9ICh2YWx1ZSA+PiAxNikgKyAodmFsdWUgJiAweGZmMDApICsgKCh2YWx1ZSAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcInRleHR1cmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgc3ByaXRlIGlzIHVzaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGV4dHVyZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlIHx8IFRleHR1cmUuRU1QVFk7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIHRoZSB0ZXh0dXJlIHRvIGxvYWRcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25UZXh0dXJlVXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5vbmNlKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBTcHJpdGU7XG59KENvbnRhaW5lcikpO1xuXG5leHBvcnQgeyBTcHJpdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvdGlja2VyIC0gdjUuMy43XG4gKiBDb21waWxlZCBUdWUsIDI5IERlYyAyMDIwIDE5OjMwOjExIFVUQ1xuICpcbiAqIEBwaXhpL3RpY2tlciBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG4vKipcbiAqIFRhcmdldCBmcmFtZXMgcGVyIG1pbGxpc2Vjb25kLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRBUkdFVF9GUE1TXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IDAuMDZcbiAqL1xuc2V0dGluZ3MuVEFSR0VUX0ZQTVMgPSAwLjA2O1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIHVwZGF0ZSBwcmlvcml0aWVzIHVzZWQgYnkgaW50ZXJuYWwgUElYSSBjbGFzc2VzIHdoZW4gcmVnaXN0ZXJlZCB3aXRoXG4gKiB0aGUge0BsaW5rIFBJWEkuVGlja2VyfSBvYmplY3QuIEhpZ2hlciBwcmlvcml0eSBpdGVtcyBhcmUgdXBkYXRlZCBmaXJzdCBhbmQgbG93ZXJcbiAqIHByaW9yaXR5IGl0ZW1zLCBzdWNoIGFzIHJlbmRlciwgc2hvdWxkIGdvIGxhdGVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgVVBEQVRFX1BSSU9SSVRZXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBJTlRFUkFDVElPTj01MCBIaWdoZXN0IHByaW9yaXR5LCB1c2VkIGZvciB7QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gSElHSD0yNSBIaWdoIHByaW9yaXR5IHVwZGF0aW5nLCB7QGxpbmsgUElYSS5WaWRlb0Jhc2VUZXh0dXJlfSBhbmQge0BsaW5rIFBJWEkuQW5pbWF0ZWRTcHJpdGV9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMPTAgRGVmYXVsdCBwcmlvcml0eSBmb3IgdGlja2VyIGV2ZW50cywgc2VlIHtAbGluayBQSVhJLlRpY2tlciNhZGR9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExPVz0tMjUgTG93IHByaW9yaXR5IHVzZWQgZm9yIHtAbGluayBQSVhJLkFwcGxpY2F0aW9ufSByZW5kZXJpbmcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gVVRJTElUWT0tNTAgTG93ZXN0IHByaW9yaXR5IHVzZWQgZm9yIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSB1dGlsaXR5LlxuICovXG52YXIgVVBEQVRFX1BSSU9SSVRZO1xuKGZ1bmN0aW9uIChVUERBVEVfUFJJT1JJVFkpIHtcbiAgICBVUERBVEVfUFJJT1JJVFlbVVBEQVRFX1BSSU9SSVRZW1wiSU5URVJBQ1RJT05cIl0gPSA1MF0gPSBcIklOVEVSQUNUSU9OXCI7XG4gICAgVVBEQVRFX1BSSU9SSVRZW1VQREFURV9QUklPUklUWVtcIkhJR0hcIl0gPSAyNV0gPSBcIkhJR0hcIjtcbiAgICBVUERBVEVfUFJJT1JJVFlbVVBEQVRFX1BSSU9SSVRZW1wiTk9STUFMXCJdID0gMF0gPSBcIk5PUk1BTFwiO1xuICAgIFVQREFURV9QUklPUklUWVtVUERBVEVfUFJJT1JJVFlbXCJMT1dcIl0gPSAtMjVdID0gXCJMT1dcIjtcbiAgICBVUERBVEVfUFJJT1JJVFlbVVBEQVRFX1BSSU9SSVRZW1wiVVRJTElUWVwiXSA9IC01MF0gPSBcIlVUSUxJVFlcIjtcbn0pKFVQREFURV9QUklPUklUWSB8fCAoVVBEQVRFX1BSSU9SSVRZID0ge30pKTtcblxuLyoqXG4gKiBJbnRlcm5hbCBjbGFzcyBmb3IgaGFuZGxpbmcgdGhlIHByaW9yaXR5IHNvcnRpbmcgb2YgdGlja2VyIGhhbmRsZXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUaWNrZXJMaXN0ZW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0PW51bGxdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PTBdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29uY2U9ZmFsc2VdIC0gSWYgdGhlIGhhbmRsZXIgc2hvdWxkIGZpcmUgb25jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSwgb25jZSkge1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBudWxsOyB9XG4gICAgICAgIGlmIChwcmlvcml0eSA9PT0gdm9pZCAwKSB7IHByaW9yaXR5ID0gMDsgfVxuICAgICAgICBpZiAob25jZSA9PT0gdm9pZCAwKSB7IG9uY2UgPSBmYWxzZTsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhhbmRsZXIgZnVuY3Rpb24gdG8gZXhlY3V0ZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZuID0gZm47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FsbGluZyB0byBleGVjdXRlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHsqfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHByaW9yaXR5LlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGlzIHNob3VsZCBvbmx5IGV4ZWN1dGUgb25jZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25jZSA9IG9uY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmV4dCBpdGVtIGluIGNoYWluLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtUaWNrZXJMaXN0ZW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcHJldmlvdXMgaXRlbSBpbiBjaGFpbi5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB0aGlzIGxpc3RlbmVyIGhhcyBiZWVuIGRlc3Ryb3llZCBhbHJlYWR5LlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNpbXBsZSBjb21wYXJlIGZ1bmN0aW9uIHRvIGZpZ3VyZSBvdXQgaWYgYSBmdW5jdGlvbiBhbmQgY29udGV4dCBtYXRjaC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHthbnl9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBsaXN0ZW5lciBtYXRjaCB0aGUgYXJndW1lbnRzXG4gICAgICovXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLm1hdGNoID0gZnVuY3Rpb24gKGZuLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZm4gPT09IGZuICYmIHRoaXMuY29udGV4dCA9PT0gY29udGV4dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVtaXQgYnkgY2FsbGluZyB0aGUgY3VycmVudCBmdW5jdGlvbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSB0aW1lIHNpbmNlIHRoZSBsYXN0IGVtaXQuXG4gICAgICogQHJldHVybiB7VGlja2VyTGlzdGVuZXJ9IE5leHQgdGlja2VyXG4gICAgICovXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiAoZGVsdGFUaW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmZuKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mbi5jYWxsKHRoaXMuY29udGV4dCwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZm4oZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVkaXJlY3QgPSB0aGlzLm5leHQ7XG4gICAgICAgIGlmICh0aGlzLm9uY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTb2Z0LWRlc3Ryb3lpbmcgc2hvdWxkIHJlbW92ZVxuICAgICAgICAvLyB0aGUgbmV4dCByZWZlcmVuY2VcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVkaXJlY3Q7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRvIHRoZSBsaXN0LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtUaWNrZXJMaXN0ZW5lcn0gcHJldmlvdXMgLSBJbnB1dCBub2RlLCBwcmV2aW91cyBsaXN0ZW5lclxuICAgICAqL1xuICAgIFRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKHByZXZpb3VzKSB7XG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBwcmV2aW91cztcbiAgICAgICAgaWYgKHByZXZpb3VzLm5leHQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzLm5leHQucHJldmlvdXMgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV4dCA9IHByZXZpb3VzLm5leHQ7XG4gICAgICAgIHByZXZpb3VzLm5leHQgPSB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoYXJkID0gZmFsc2VdIGB0cnVlYCB0byByZW1vdmUgdGhlIGBuZXh0YCByZWZlcmVuY2UsIHRoaXNcbiAgICAgKiAgICAgICAgaXMgY29uc2lkZXJlZCBhIGhhcmQgZGVzdHJveS4gU29mdCBkZXN0cm95IG1haW50YWlucyB0aGUgbmV4dCByZWZlcmVuY2UuXG4gICAgICogQHJldHVybiB7VGlja2VyTGlzdGVuZXJ9IFRoZSBsaXN0ZW5lciB0byByZWRpcmVjdCB3aGlsZSBlbWl0dGluZyBvciByZW1vdmluZy5cbiAgICAgKi9cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChoYXJkKSB7XG4gICAgICAgIGlmIChoYXJkID09PSB2b2lkIDApIHsgaGFyZCA9IGZhbHNlOyB9XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZm4gPSBudWxsO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICAvLyBEaXNjb25uZWN0LCBob29rIHVwIG5leHQgYW5kIHByZXZpb3VzXG4gICAgICAgIGlmICh0aGlzLnByZXZpb3VzKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzLm5leHQgPSB0aGlzLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubmV4dCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0LnByZXZpb3VzID0gdGhpcy5wcmV2aW91cztcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWRpcmVjdCB0byB0aGUgbmV4dCBpdGVtXG4gICAgICAgIHZhciByZWRpcmVjdCA9IHRoaXMubmV4dDtcbiAgICAgICAgLy8gUmVtb3ZlIHJlZmVyZW5jZXNcbiAgICAgICAgdGhpcy5uZXh0ID0gaGFyZCA/IG51bGwgOiByZWRpcmVjdDtcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG4gICAgICAgIHJldHVybiByZWRpcmVjdDtcbiAgICB9O1xuICAgIHJldHVybiBUaWNrZXJMaXN0ZW5lcjtcbn0oKSk7XG5cbi8qKlxuICogQSBUaWNrZXIgY2xhc3MgdGhhdCBydW5zIGFuIHVwZGF0ZSBsb29wIHRoYXQgb3RoZXIgb2JqZWN0cyBsaXN0ZW4gdG8uXG4gKlxuICogVGhpcyBjbGFzcyBpcyBjb21wb3NlZCBhcm91bmQgbGlzdGVuZXJzIG1lYW50IGZvciBleGVjdXRpb24gb24gdGhlIG5leHQgcmVxdWVzdGVkIGFuaW1hdGlvbiBmcmFtZS5cbiAqIEFuaW1hdGlvbiBmcmFtZXMgYXJlIHJlcXVlc3RlZCBvbmx5IHdoZW4gbmVjZXNzYXJ5LCBlLmcuIFdoZW4gdGhlIHRpY2tlciBpcyBzdGFydGVkIGFuZCB0aGUgZW1pdHRlciBoYXMgbGlzdGVuZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpY2tlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaWNrZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZmlyc3QgbGlzdGVuZXIuIEFsbCBuZXcgbGlzdGVuZXJzIGFkZGVkIGFyZSBjaGFpbmVkIG9uIHRoaXMuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtUaWNrZXJMaXN0ZW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hlYWQgPSBuZXcgVGlja2VyTGlzdGVuZXIobnVsbCwgbnVsbCwgSW5maW5pdHkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgY3VycmVudCBmcmFtZSByZXF1ZXN0IElEXG4gICAgICAgICAqIEB0eXBlIHs/bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHZhbHVlIG1hbmFnZWQgYnkgbWluRlBTIHByb3BlcnR5IHNldHRlciBhbmQgZ2V0dGVyLlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBtYXhpbXVtIGFsbG93ZWQgbWlsbGlzZWNvbmRzIGJldHdlZW4gdXBkYXRlcy5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21heEVsYXBzZWRNUyA9IDEwMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHZhbHVlIG1hbmFnZWQgYnkgbWF4RlBTIHByb3BlcnR5IHNldHRlciBhbmQgZ2V0dGVyLlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBtaW5pbXVtIGFsbG93ZWQgbWlsbGlzZWNvbmRzIGJldHdlZW4gdXBkYXRlcy5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21pbkVsYXBzZWRNUyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGlzIHRpY2tlciBzaG91bGQgaW52b2tlIHRoZSBtZXRob2RcbiAgICAgICAgICoge0BsaW5rIFBJWEkuVGlja2VyI3N0YXJ0fSBhdXRvbWF0aWNhbGx5XG4gICAgICAgICAqIHdoZW4gYSBsaXN0ZW5lciBpcyBhZGRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsYXIgdGltZSB2YWx1ZSBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBjYXBwZWQgYnkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbWluRlBTfVxuICAgICAgICAgKiBhbmQgaXMgc2NhbGVkIHdpdGgge0BsaW5rIFBJWEkuVGlja2VyI3NwZWVkfS5cbiAgICAgICAgICogKipOb3RlOioqIFRoZSBjYXAgbWF5IGJlIGV4Y2VlZGVkIGJ5IHNjYWxpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2NhbGVyIHRpbWUgZWxhcHNlZCBpbiBtaWxsaXNlY29uZHMgZnJvbSBsYXN0IGZyYW1lIHRvIHRoaXMgZnJhbWUuXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgY2FwcGVkIGJ5IHNldHRpbmcge0BsaW5rIFBJWEkuVGlja2VyI21pbkZQU31cbiAgICAgICAgICogYW5kIGlzIHNjYWxlZCB3aXRoIHtAbGluayBQSVhJLlRpY2tlciNzcGVlZH0uXG4gICAgICAgICAqICoqTm90ZToqKiBUaGUgY2FwIG1heSBiZSBleGNlZWRlZCBieSBzY2FsaW5nLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqIERlZmF1bHRzIHRvIHRhcmdldCBmcmFtZSB0aW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTYuNjZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVsdGFNUyA9IDEgLyBzZXR0aW5ncy5UQVJHRVRfRlBNUztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbWUgZWxhcHNlZCBpbiBtaWxsaXNlY29uZHMgZnJvbSBsYXN0IGZyYW1lIHRvIHRoaXMgZnJhbWUuXG4gICAgICAgICAqIE9wcG9zZWQgdG8gd2hhdCB0aGUgc2NhbGFyIHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9XG4gICAgICAgICAqIGlzIGJhc2VkLCB0aGlzIHZhbHVlIGlzIG5laXRoZXIgY2FwcGVkIG5vciBzY2FsZWQuXG4gICAgICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAgICAgKiB0aGlzIHZhbHVlIHdpbGwgaGF2ZSBhIHByZWNpc2lvbiBvZiAxIMK1cy5cbiAgICAgICAgICogRGVmYXVsdHMgdG8gdGFyZ2V0IGZyYW1lIHRpbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxNi42NlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbGFwc2VkTVMgPSAxIC8gc2V0dGluZ3MuVEFSR0VUX0ZQTVM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCB0aW1lIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9IHdhcyBpbnZva2VkLlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIGFsc28gcmVzZXQgaW50ZXJuYWxseSBvdXRzaWRlIG9mIGludm9raW5nXG4gICAgICAgICAqIHVwZGF0ZSwgYnV0IG9ubHkgd2hlbiBhIG5ldyBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZhY3RvciBvZiBjdXJyZW50IHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTY2FsZXMgdGlja2VyLmRlbHRhVGltZSB0byB3aGF0IHdvdWxkIGJlXG4gICAgICAgICAqIC8vIHRoZSBlcXVpdmFsZW50IG9mIGFwcHJveGltYXRlbHkgMTIwIEZQU1xuICAgICAgICAgKiB0aWNrZXIuc3BlZWQgPSAyO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3BlZWQgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhpcyB0aWNrZXIgaGFzIGJlZW4gc3RhcnRlZC5cbiAgICAgICAgICogYHRydWVgIGlmIHtAbGluayBQSVhJLlRpY2tlciNzdGFydH0gaGFzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgKiBgZmFsc2VgIGlmIHtAbGluayBQSVhJLlRpY2tlciNzdG9wfSBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICAgICAqIFdoaWxlIGBmYWxzZWAsIHRoaXMgdmFsdWUgbWF5IGNoYW5nZSB0byBgdHJ1ZWAgaW4gdGhlXG4gICAgICAgICAqIGV2ZW50IG9mIHtAbGluayBQSVhJLlRpY2tlciNhdXRvU3RhcnR9IGJlaW5nIGB0cnVlYFxuICAgICAgICAgKiBhbmQgYSBsaXN0ZW5lciBpcyBhZGRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZW5hYmxlZCwgZGVsZXRpbmcgaXMgZGlzYWJsZWQuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wcm90ZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsYXN0IHRpbWUga2V5ZnJhbWUgd2FzIGV4ZWN1dGVkLlxuICAgICAgICAgKiBNYWludGFpbnMgYSByZWxhdGl2ZWx5IGZpeGVkIGludGVydmFsIHdpdGggdGhlIHByZXZpb3VzIHZhbHVlLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sYXN0RnJhbWUgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHRpY2sgbWV0aG9kIGJvdW5kIHRvIHRpY2tlciBpbnN0YW5jZS5cbiAgICAgICAgICogVGhpcyBpcyBiZWNhdXNlIGluIGVhcmx5IDIwMTUsIEZ1bmN0aW9uLmJpbmRcbiAgICAgICAgICogaXMgc3RpbGwgNjAlIHNsb3dlciBpbiBoaWdoIHBlcmZvcm1hbmNlIHNjZW5hcmlvcy5cbiAgICAgICAgICogQWxzbyBzZXBhcmF0aW5nIGZyYW1lIHJlcXVlc3RzIGZyb20gdXBkYXRlIG1ldGhvZFxuICAgICAgICAgKiBzbyBsaXN0ZW5lcnMgbWF5IGJlIGNhbGxlZCBhdCBhbnkgdGltZSBhbmQgd2l0aFxuICAgICAgICAgKiBhbnkgYW5pbWF0aW9uIEFQSSwganVzdCBpbnZva2UgdGlja2VyLnVwZGF0ZSh0aW1lKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgLSBUaW1lIHNpbmNlIGxhc3QgdGljay5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpY2sgPSBmdW5jdGlvbiAodGltZSkge1xuICAgICAgICAgICAgX3RoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoX3RoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgICAgIC8vIEludm9rZSBsaXN0ZW5lcnMgbm93XG4gICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlKHRpbWUpO1xuICAgICAgICAgICAgICAgIC8vIExpc3RlbmVyIHNpZGUgZWZmZWN0cyBtYXkgaGF2ZSBtb2RpZmllZCB0aWNrZXIgc3RhdGUuXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXJ0ZWQgJiYgX3RoaXMuX3JlcXVlc3RJZCA9PT0gbnVsbCAmJiBfdGhpcy5faGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3RoaXMuX3RpY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSByZXF1ZXN0cyBhIG5ldyBhbmltYXRpb24gZnJhbWUuXG4gICAgICogSWYgYSBmcmFtZSBoYXMgbm90IGFscmVhZHkgYmVlbiByZXF1ZXN0ZWQsIGFuZCBpZiB0aGUgaW50ZXJuYWxcbiAgICAgKiBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5fcmVxdWVzdElmTmVlZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdElkID09PSBudWxsICYmIHRoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNhbGxiYWNrcyBnZXQgY29ycmVjdCBkZWx0YVxuICAgICAgICAgICAgdGhpcy5sYXN0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgdGhpcy5fbGFzdEZyYW1lID0gdGhpcy5sYXN0VGltZTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl90aWNrKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSBjYW5jZWxzIGEgcGVuZGluZyBhbmltYXRpb24gZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuX2NhbmNlbElmTmVlZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdElkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZXF1ZXN0SWQpO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSByZXF1ZXN0cyBhIG5ldyBhbmltYXRpb24gZnJhbWUuXG4gICAgICogSWYgdGhlIHRpY2tlciBoYXMgYmVlbiBzdGFydGVkIGl0IGNoZWNrcyBpZiBhIGZyYW1lIGhhcyBub3QgYWxyZWFkeVxuICAgICAqIGJlZW4gcmVxdWVzdGVkLCBhbmQgaWYgdGhlIGludGVybmFsIGVtaXR0ZXIgaGFzIGxpc3RlbmVycy4gSWYgdGhlc2VcbiAgICAgKiBjb25kaXRpb25zIGFyZSBtZXQsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC4gSWYgdGhlIHRpY2tlciBoYXMgbm90XG4gICAgICogYmVlbiBzdGFydGVkLCBidXQgYXV0b1N0YXJ0IGlzIGB0cnVlYCwgdGhlbiB0aGUgdGlja2VyIHN0YXJ0cyBub3csXG4gICAgICogYW5kIGNvbnRpbnVlcyB3aXRoIHRoZSBwcmV2aW91cyBjb25kaXRpb25zIHRvIHJlcXVlc3QgYSBuZXcgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuX3N0YXJ0SWZQb3NzaWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hdXRvU3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBoYW5kbGVyIGZvciB0aWNrIGV2ZW50cy4gQ2FsbHMgY29udGludW91c2x5IHVubGVzc1xuICAgICAqIGl0IGlzIHJlbW92ZWQgb3IgdGhlIHRpY2tlciBpcyBzdG9wcGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIHVwZGF0ZXNcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT1QSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUxdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGZuLCBjb250ZXh0LCBwcmlvcml0eSkge1xuICAgICAgICBpZiAocHJpb3JpdHkgPT09IHZvaWQgMCkgeyBwcmlvcml0eSA9IFVQREFURV9QUklPUklUWS5OT1JNQUw7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBUaWNrZXJMaXN0ZW5lcihmbiwgY29udGV4dCwgcHJpb3JpdHkpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhIGhhbmRsZXIgZm9yIHRoZSB0aWNrIGV2ZW50IHdoaWNoIGlzIG9ubHkgZXhlY3V0ZSBvbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT1QSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUxdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuYWRkT25jZSA9IGZ1bmN0aW9uIChmbiwgY29udGV4dCwgcHJpb3JpdHkpIHtcbiAgICAgICAgaWYgKHByaW9yaXR5ID09PSB2b2lkIDApIHsgcHJpb3JpdHkgPSBVUERBVEVfUFJJT1JJVFkuTk9STUFMOyB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRMaXN0ZW5lcihuZXcgVGlja2VyTGlzdGVuZXIoZm4sIGNvbnRleHQsIHByaW9yaXR5LCB0cnVlKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbGx5IGFkZHMgdGhlIGV2ZW50IGhhbmRsZXIgc28gdGhhdCBpdCBjYW4gYmUgc29ydGVkIGJ5IHByaW9yaXR5LlxuICAgICAqIFByaW9yaXR5IGFsbG93cyBjZXJ0YWluIGhhbmRsZXIgKHVzZXIsIEFuaW1hdGVkU3ByaXRlLCBJbnRlcmFjdGlvbikgdG8gYmUgcnVuXG4gICAgICogYmVmb3JlIHRoZSByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VGlja2VyTGlzdGVuZXJ9IGxpc3RlbmVyIC0gQ3VycmVudCBsaXN0ZW5lciBiZWluZyBhZGRlZC5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLl9hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICAvLyBGb3IgYXR0YWNoaW5nIHRvIGhlYWRcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLl9oZWFkLm5leHQ7XG4gICAgICAgIHZhciBwcmV2aW91cyA9IHRoaXMuX2hlYWQ7XG4gICAgICAgIC8vIEFkZCB0aGUgZmlyc3QgaXRlbVxuICAgICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gR28gZnJvbSBoaWdoZXN0IHRvIGxvd2VzdCBwcmlvcml0eVxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIucHJpb3JpdHkgPiBjdXJyZW50LnByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldmlvdXMgPSBjdXJyZW50O1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOb3QgeWV0IGNvbm5lY3RlZFxuICAgICAgICAgICAgaWYgKCFsaXN0ZW5lci5wcmV2aW91cykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YXJ0SWZQb3NzaWJsZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW55IGhhbmRsZXJzIG1hdGNoaW5nIHRoZSBmdW5jdGlvbiBhbmQgY29udGV4dCBwYXJhbWV0ZXJzLlxuICAgICAqIElmIG5vIGhhbmRsZXJzIGFyZSBsZWZ0IGFmdGVyIHJlbW92aW5nLCB0aGVuIGl0IGNhbmNlbHMgdGhlIGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0IHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcmV0dXJucyB7UElYSS5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChmbiwgY29udGV4dCkge1xuICAgICAgICB2YXIgbGlzdGVuZXIgPSB0aGlzLl9oZWFkLm5leHQ7XG4gICAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgLy8gV2UgZm91bmQgYSBtYXRjaCwgbGV0cyByZW1vdmUgaXRcbiAgICAgICAgICAgIC8vIG5vIGJyZWFrIHRvIGRlbGV0ZSBhbGwgcG9zc2libGUgbWF0Y2hlc1xuICAgICAgICAgICAgLy8gaW5jYXNlIGEgbGlzdGVuZXIgd2FzIGFkZGVkIDIrIHRpbWVzXG4gICAgICAgICAgICBpZiAobGlzdGVuZXIubWF0Y2goZm4sIGNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9oZWFkLm5leHQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlja2VyLnByb3RvdHlwZSwgXCJjb3VudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGxpc3RlbmVycyBvbiB0aGlzIHRpY2tlciwgY2FsY3VsYXRlZCBieSB3YWxraW5nIHRocm91Z2ggbGlua2VkIGxpc3RcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9oZWFkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLl9oZWFkO1xuICAgICAgICAgICAgd2hpbGUgKChjdXJyZW50ID0gY3VycmVudC5uZXh0KSkge1xuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIHRpY2tlci4gSWYgdGhlIHRpY2tlciBoYXMgbGlzdGVuZXJzXG4gICAgICogYSBuZXcgYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZCBhdCB0aGlzIHBvaW50LlxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSB0aWNrZXIuIElmIHRoZSB0aWNrZXIgaGFzIHJlcXVlc3RlZFxuICAgICAqIGFuIGFuaW1hdGlvbiBmcmFtZSBpdCBpcyBjYW5jZWxlZCBhdCB0aGlzIHBvaW50LlxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSB0aWNrZXIgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLiBDYWxsaW5nXG4gICAgICogdGhpcyBtZXRob2QgcmVtb3ZlcyBhbGwgcmVmZXJlbmNlcyB0byBpbnRlcm5hbCBldmVudHMuXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3Byb3RlY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgICB2YXIgbGlzdGVuZXIgPSB0aGlzLl9oZWFkLm5leHQ7XG4gICAgICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9oZWFkLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2hlYWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VycyBhbiB1cGRhdGUuIEFuIHVwZGF0ZSBlbnRhaWxzIHNldHRpbmcgdGhlXG4gICAgICogY3VycmVudCB7QGxpbmsgUElYSS5UaWNrZXIjZWxhcHNlZE1TfSxcbiAgICAgKiB0aGUgY3VycmVudCB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfSxcbiAgICAgKiBpbnZva2luZyBhbGwgbGlzdGVuZXJzIHdpdGggY3VycmVudCBkZWx0YVRpbWUsXG4gICAgICogYW5kIHRoZW4gZmluYWxseSBzZXR0aW5nIHtAbGluayBQSVhJLlRpY2tlciNsYXN0VGltZX1cbiAgICAgKiB3aXRoIHRoZSB2YWx1ZSBvZiBjdXJyZW50VGltZSB0aGF0IHdhcyBwcm92aWRlZC5cbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IGFuaW1hdGlvblxuICAgICAqIGZyYW1lIGNhbGxiYWNrcyBpZiB0aGUgdGlja2VyIGluc3RhbmNlIGhhcyBiZWVuIHN0YXJ0ZWRcbiAgICAgKiBhbmQgbGlzdGVuZXJzIGFyZSBhZGRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY3VycmVudFRpbWU9cGVyZm9ybWFuY2Uubm93KCldIC0gdGhlIGN1cnJlbnQgdGltZSBvZiBleGVjdXRpb25cbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChjdXJyZW50VGltZSkge1xuICAgICAgICBpZiAoY3VycmVudFRpbWUgPT09IHZvaWQgMCkgeyBjdXJyZW50VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpOyB9XG4gICAgICAgIHZhciBlbGFwc2VkTVM7XG4gICAgICAgIC8vIElmIHRoZSBkaWZmZXJlbmNlIGluIHRpbWUgaXMgemVybyBvciBuZWdhdGl2ZSwgd2UgaWdub3JlIG1vc3Qgb2YgdGhlIHdvcmsgZG9uZSBoZXJlLlxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyB2YWxpZCBkaWZmZXJlbmNlLCB0aGVuIHNob3VsZCBiZSBubyByZWFzb24gdG8gbGV0IGFueW9uZSBrbm93IGFib3V0IGl0LlxuICAgICAgICAvLyBBIHplcm8gZGVsdGEsIGlzIGV4YWN0bHkgdGhhdCwgbm90aGluZyBzaG91bGQgdXBkYXRlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgZGlmZmVyZW5jZSBpbiB0aW1lIGNhbiBiZSBuZWdhdGl2ZSwgYW5kIG5vIHRoaXMgZG9lcyBub3QgbWVhbiB0aW1lIHRyYXZlbGluZy5cbiAgICAgICAgLy8gVGhpcyBjYW4gYmUgdGhlIHJlc3VsdCBvZiBhIHJhY2UgY29uZGl0aW9uIGJldHdlZW4gd2hlbiBhbiBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkXG4gICAgICAgIC8vIG9uIHRoZSBjdXJyZW50IEphdmFTY3JpcHQgZW5naW5lIGV2ZW50IGxvb3AsIGFuZCB3aGVuIHRoZSB0aWNrZXIncyBzdGFydCBtZXRob2QgaXMgaW52b2tlZFxuICAgICAgICAvLyAod2hpY2ggaW52b2tlcyB0aGUgaW50ZXJuYWwgX3JlcXVlc3RJZk5lZWRlZCBtZXRob2QpLiBJZiBhIGZyYW1lIGlzIHJlcXVlc3RlZCBiZWZvcmVcbiAgICAgICAgLy8gX3JlcXVlc3RJZk5lZWRlZCBpcyBpbnZva2VkLCB0aGVuIHRoZSBjYWxsYmFjayBmb3IgdGhlIGFuaW1hdGlvbiBmcmFtZSB0aGUgdGlja2VyIHJlcXVlc3RzLFxuICAgICAgICAvLyBjYW4gcmVjZWl2ZSBhIHRpbWUgYXJndW1lbnQgdGhhdCBjYW4gYmUgbGVzcyB0aGFuIHRoZSBsYXN0VGltZSB2YWx1ZSB0aGF0IHdhcyBzZXQgd2l0aGluXG4gICAgICAgIC8vIF9yZXF1ZXN0SWZOZWVkZWQuIFRoaXMgZGlmZmVyZW5jZSBpcyBpbiBtaWNyb3NlY29uZHMsIGJ1dCB0aGlzIGlzIGVub3VnaCB0byBjYXVzZSBwcm9ibGVtcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBjaGVjayBjb3ZlcnMgdGhpcyBicm93c2VyIGVuZ2luZSB0aW1pbmcgaXNzdWUsIGFzIHdlbGwgYXMgaWYgY29uc3VtZXJzIHBhc3MgYW4gaW52YWxpZFxuICAgICAgICAvLyBjdXJyZW50VGltZSB2YWx1ZS4gVGhpcyBtYXkgaGFwcGVuIGlmIGNvbnN1bWVycyBvcHQtb3V0IG9mIHRoZSBhdXRvU3RhcnQsIGFuZCB1cGRhdGUgdGhlbXNlbHZlcy5cbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lID4gdGhpcy5sYXN0VGltZSkge1xuICAgICAgICAgICAgLy8gU2F2ZSB1bmNhcHBlZCBlbGFwc2VkTVMgZm9yIG1lYXN1cmVtZW50XG4gICAgICAgICAgICBlbGFwc2VkTVMgPSB0aGlzLmVsYXBzZWRNUyA9IGN1cnJlbnRUaW1lIC0gdGhpcy5sYXN0VGltZTtcbiAgICAgICAgICAgIC8vIGNhcCB0aGUgbWlsbGlzZWNvbmRzIGVsYXBzZWQgdXNlZCBmb3IgZGVsdGFUaW1lXG4gICAgICAgICAgICBpZiAoZWxhcHNlZE1TID4gdGhpcy5fbWF4RWxhcHNlZE1TKSB7XG4gICAgICAgICAgICAgICAgZWxhcHNlZE1TID0gdGhpcy5fbWF4RWxhcHNlZE1TO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxhcHNlZE1TICo9IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgICAvLyBJZiBub3QgZW5vdWdoIHRpbWUgaGFzIHBhc3NlZCwgZXhpdCB0aGUgZnVuY3Rpb24uXG4gICAgICAgICAgICAvLyBHZXQgcmVhZHkgZm9yIG5leHQgZnJhbWUgYnkgc2V0dGluZyBfbGFzdEZyYW1lLCBidXQgYmFzZWQgb24gX21pbkVsYXBzZWRNU1xuICAgICAgICAgICAgLy8gYWRqdXN0bWVudCB0byBlbnN1cmUgYSByZWxhdGl2ZWx5IHN0YWJsZSBpbnRlcnZhbC5cbiAgICAgICAgICAgIGlmICh0aGlzLl9taW5FbGFwc2VkTVMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBjdXJyZW50VGltZSAtIHRoaXMuX2xhc3RGcmFtZSB8IDA7XG4gICAgICAgICAgICAgICAgaWYgKGRlbHRhIDwgdGhpcy5fbWluRWxhcHNlZE1TKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEZyYW1lID0gY3VycmVudFRpbWUgLSAoZGVsdGEgJSB0aGlzLl9taW5FbGFwc2VkTVMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kZWx0YU1TID0gZWxhcHNlZE1TO1xuICAgICAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSB0aGlzLmRlbHRhTVMgKiBzZXR0aW5ncy5UQVJHRVRfRlBNUztcbiAgICAgICAgICAgIC8vIENhY2hlIGEgbG9jYWwgcmVmZXJlbmNlLCBpbi1jYXNlIHRpY2tlciBpcyBkZXN0cm95ZWRcbiAgICAgICAgICAgIC8vIGR1cmluZyB0aGUgZW1pdCwgd2UgY2FuIHN0aWxsIGNoZWNrIGZvciBoZWFkLm5leHRcbiAgICAgICAgICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcbiAgICAgICAgICAgIC8vIEludm9rZSBsaXN0ZW5lcnMgYWRkZWQgdG8gaW50ZXJuYWwgZW1pdHRlclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gaGVhZC5uZXh0O1xuICAgICAgICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5lbWl0KHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVsdGFUaW1lID0gdGhpcy5kZWx0YU1TID0gdGhpcy5lbGFwc2VkTVMgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWNrZXIucHJvdG90eXBlLCBcIkZQU1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZnJhbWVzIHBlciBzZWNvbmQgYXQgd2hpY2ggdGhpcyB0aWNrZXIgaXMgcnVubmluZy5cbiAgICAgICAgICogVGhlIGRlZmF1bHQgaXMgYXBwcm94aW1hdGVseSA2MCBpbiBtb3N0IG1vZGVybiBicm93c2Vycy5cbiAgICAgICAgICogKipOb3RlOioqIFRoaXMgZG9lcyBub3QgZmFjdG9yIGluIHRoZSB2YWx1ZSBvZlxuICAgICAgICAgKiB7QGxpbmsgUElYSS5UaWNrZXIjc3BlZWR9LCB3aGljaCBpcyBzcGVjaWZpY1xuICAgICAgICAgKiB0byBzY2FsaW5nIHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTAwMCAvIHRoaXMuZWxhcHNlZE1TO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlci5wcm90b3R5cGUsIFwibWluRlBTXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIG1pbGxpc2Vjb25kcyBhbGxvd2VkIHRvXG4gICAgICAgICAqIGVsYXBzZSBiZXR3ZWVuIGludm9raW5nIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9LlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIHVzZWQgdG8gY2FwIHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LFxuICAgICAgICAgKiBidXQgZG9lcyBub3QgZWZmZWN0IHRoZSBtZWFzdXJlZCB2YWx1ZSBvZiB7QGxpbmsgUElYSS5UaWNrZXIjRlBTfS5cbiAgICAgICAgICogV2hlbiBzZXR0aW5nIHRoaXMgcHJvcGVydHkgaXQgaXMgY2xhbXBlZCB0byBhIHZhbHVlIGJldHdlZW5cbiAgICAgICAgICogYDBgIGFuZCBgUElYSS5zZXR0aW5ncy5UQVJHRVRfRlBNUyAqIDEwMDBgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDEwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAxMDAwIC8gdGhpcy5fbWF4RWxhcHNlZE1TO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmcHMpIHtcbiAgICAgICAgICAgIC8vIE1pbmltdW0gbXVzdCBiZSBiZWxvdyB0aGUgbWF4RlBTXG4gICAgICAgICAgICB2YXIgbWluRlBTID0gTWF0aC5taW4odGhpcy5tYXhGUFMsIGZwcyk7XG4gICAgICAgICAgICAvLyBNdXN0IGJlIGF0IGxlYXN0IDAsIGJ1dCBiZWxvdyAxIC8gc2V0dGluZ3MuVEFSR0VUX0ZQTVNcbiAgICAgICAgICAgIHZhciBtaW5GUE1TID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgbWluRlBTKSAvIDEwMDAsIHNldHRpbmdzLlRBUkdFVF9GUE1TKTtcbiAgICAgICAgICAgIHRoaXMuX21heEVsYXBzZWRNUyA9IDEgLyBtaW5GUE1TO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlci5wcm90b3R5cGUsIFwibWF4RlBTXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGhlIG1pbmltdW0gYW1vdW50IG9mIG1pbGxpc2Vjb25kcyByZXF1aXJlZCB0b1xuICAgICAgICAgKiBlbGFwc2UgYmV0d2VlbiBpbnZva2luZyB7QGxpbmsgUElYSS5UaWNrZXIjdXBkYXRlfS5cbiAgICAgICAgICogVGhpcyB3aWxsIGVmZmVjdCB0aGUgbWVhc3VyZWQgdmFsdWUgb2Yge0BsaW5rIFBJWEkuVGlja2VyI0ZQU30uXG4gICAgICAgICAqIElmIGl0IGlzIHNldCB0byBgMGAsIHRoZW4gdGhlcmUgaXMgbm8gbGltaXQ7IFBpeGlKUyB3aWxsIHJlbmRlciBhcyBtYW55IGZyYW1lcyBhcyBpdCBjYW4uXG4gICAgICAgICAqIE90aGVyd2lzZSBpdCB3aWxsIGJlIGF0IGxlYXN0IGBtaW5GUFNgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWluRWxhcHNlZE1TKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoMTAwMCAvIHRoaXMuX21pbkVsYXBzZWRNUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZnBzKSB7XG4gICAgICAgICAgICBpZiAoZnBzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE1heCBtdXN0IGJlIGF0IGxlYXN0IHRoZSBtaW5GUFNcbiAgICAgICAgICAgICAgICB2YXIgbWF4RlBTID0gTWF0aC5tYXgodGhpcy5taW5GUFMsIGZwcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMSAvIChtYXhGUFMgLyAxMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWNrZXIsIFwic2hhcmVkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaGFyZWQgdGlja2VyIGluc3RhbmNlIHVzZWQgYnkge0BsaW5rIFBJWEkuQW5pbWF0ZWRTcHJpdGV9IGFuZCBieVxuICAgICAgICAgKiB7QGxpbmsgUElYSS5WaWRlb1Jlc291cmNlfSB0byB1cGRhdGUgYW5pbWF0aW9uIGZyYW1lcyAvIHZpZGVvIHRleHR1cmVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJdCBtYXkgYWxzbyBiZSB1c2VkIGJ5IHtAbGluayBQSVhJLkFwcGxpY2F0aW9ufSBpZiBjcmVhdGVkIHdpdGggdGhlIGBzaGFyZWRUaWNrZXJgIG9wdGlvbiBwcm9wZXJ0eSBzZXQgdG8gdHJ1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIHByb3BlcnR5IHtAbGluayBQSVhJLlRpY2tlciNhdXRvU3RhcnR9IGlzIHNldCB0byBgdHJ1ZWAgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAgICAgICAqIFBsZWFzZSBmb2xsb3cgdGhlIGV4YW1wbGVzIGZvciB1c2FnZSwgaW5jbHVkaW5nIGhvdyB0byBvcHQtb3V0IG9mIGF1dG8tc3RhcnRpbmcgdGhlIHNoYXJlZCB0aWNrZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGxldCB0aWNrZXIgPSBQSVhJLlRpY2tlci5zaGFyZWQ7XG4gICAgICAgICAqIC8vIFNldCB0aGlzIHRvIHByZXZlbnQgc3RhcnRpbmcgdGhpcyB0aWNrZXIgd2hlbiBsaXN0ZW5lcnMgYXJlIGFkZGVkLlxuICAgICAgICAgKiAvLyBCeSBkZWZhdWx0IHRoaXMgaXMgdHJ1ZSBvbmx5IGZvciB0aGUgUElYSS5UaWNrZXIuc2hhcmVkIGluc3RhbmNlLlxuICAgICAgICAgKiB0aWNrZXIuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgICAqIC8vIEZZSSwgY2FsbCB0aGlzIHRvIGVuc3VyZSB0aGUgdGlja2VyIGlzIHN0b3BwZWQuIEl0IHNob3VsZCBiZSBzdG9wcGVkXG4gICAgICAgICAqIC8vIGlmIHlvdSBoYXZlIG5vdCBhdHRlbXB0ZWQgdG8gcmVuZGVyIGFueXRoaW5nIHlldC5cbiAgICAgICAgICogdGlja2VyLnN0b3AoKTtcbiAgICAgICAgICogLy8gQ2FsbCB0aGlzIHdoZW4geW91IGFyZSByZWFkeSBmb3IgYSBydW5uaW5nIHNoYXJlZCB0aWNrZXIuXG4gICAgICAgICAqIHRpY2tlci5zdGFydCgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBZb3UgbWF5IHVzZSB0aGUgc2hhcmVkIHRpY2tlciB0byByZW5kZXIuLi5cbiAgICAgICAgICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoKTtcbiAgICAgICAgICogbGV0IHN0YWdlID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgICAgICAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocmVuZGVyZXIudmlldyk7XG4gICAgICAgICAqIHRpY2tlci5hZGQoZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAgICAgICogICAgIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBPciB5b3UgY2FuIGp1c3QgdXBkYXRlIGl0IG1hbnVhbGx5LlxuICAgICAgICAgKiB0aWNrZXIuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgICAqIHRpY2tlci5zdG9wKCk7XG4gICAgICAgICAqIGZ1bmN0aW9uIGFuaW1hdGUodGltZSkge1xuICAgICAgICAgKiAgICAgdGlja2VyLnVwZGF0ZSh0aW1lKTtcbiAgICAgICAgICogICAgIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gICAgICAgICAqICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gICAgICAgICAqIH1cbiAgICAgICAgICogYW5pbWF0ZShwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGlja2VyfVxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghVGlja2VyLl9zaGFyZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2hhcmVkID0gVGlja2VyLl9zaGFyZWQgPSBuZXcgVGlja2VyKCk7XG4gICAgICAgICAgICAgICAgc2hhcmVkLmF1dG9TdGFydCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2hhcmVkLl9wcm90ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFRpY2tlci5fc2hhcmVkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlciwgXCJzeXN0ZW1cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN5c3RlbSB0aWNrZXIgaW5zdGFuY2UgdXNlZCBieSB7QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXJ9IGFuZCBieVxuICAgICAgICAgKiB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gZm9yIGNvcmUgdGltaW5nIGZ1bmN0aW9uYWxpdHkgdGhhdCBzaG91bGRuJ3QgdXN1YWxseSBuZWVkIHRvIGJlIHBhdXNlZCxcbiAgICAgICAgICogdW5saWtlIHRoZSBgc2hhcmVkYCB0aWNrZXIgd2hpY2ggZHJpdmVzIHZpc3VhbCBhbmltYXRpb25zIGFuZCByZW5kZXJpbmcgd2hpY2ggbWF5IHdhbnQgdG8gYmUgcGF1c2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgcHJvcGVydHkge0BsaW5rIFBJWEkuVGlja2VyI2F1dG9TdGFydH0gaXMgc2V0IHRvIGB0cnVlYCBmb3IgdGhpcyBpbnN0YW5jZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFUaWNrZXIuX3N5c3RlbSkge1xuICAgICAgICAgICAgICAgIHZhciBzeXN0ZW0gPSBUaWNrZXIuX3N5c3RlbSA9IG5ldyBUaWNrZXIoKTtcbiAgICAgICAgICAgICAgICBzeXN0ZW0uYXV0b1N0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzeXN0ZW0uX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gVGlja2VyLl9zeXN0ZW07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gVGlja2VyO1xufSgpKTtcblxuLyoqXG4gKiBNaWRkbGV3YXJlIGZvciBmb3IgQXBwbGljYXRpb24gVGlja2VyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQge1RpY2tlclBsdWdpbn0gZnJvbSAnQHBpeGkvdGlja2VyJztcbiAqIGltcG9ydCB7QXBwbGljYXRpb259IGZyb20gJ0BwaXhpL2FwcCc7XG4gKiBBcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihUaWNrZXJQbHVnaW4pO1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpY2tlclBsdWdpbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaWNrZXJQbHVnaW4oKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIHBsdWdpbiB3aXRoIHNjb3BlIG9mIGFwcGxpY2F0aW9uIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIGFwcGxpY2F0aW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBUaWNrZXJQbHVnaW4uaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFNldCBkZWZhdWx0XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGF1dG9TdGFydDogdHJ1ZSxcbiAgICAgICAgICAgIHNoYXJlZFRpY2tlcjogZmFsc2UsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAvLyBDcmVhdGUgdGlja2VyIHNldHRlclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3RpY2tlcicsIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHRpY2tlcikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90aWNrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGlja2VyLnJlbW92ZSh0aGlzLnJlbmRlciwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3RpY2tlciA9IHRpY2tlcjtcbiAgICAgICAgICAgICAgICBpZiAodGlja2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2tlci5hZGQodGhpcy5yZW5kZXIsIHRoaXMsIFVQREFURV9QUklPUklUWS5MT1cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdGlja2VyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIHN0b3BwaW5nIHRoZSByZW5kZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNzdG9wXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fdGlja2VyLnN0b3AoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RhcnRpbmcgdGhlIHJlbmRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI3N0YXJ0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX3RpY2tlci5zdGFydCgpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcmVmZXJlbmNlIHRvIHRoZSB0aWNrZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRpY2tlcn1cbiAgICAgICAgICogQG5hbWUgX3RpY2tlclxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpY2tlciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaWNrZXIgZm9yIGRvaW5nIHJlbmRlciB1cGRhdGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBuYW1lIHRpY2tlclxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UaWNrZXIuc2hhcmVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpY2tlciA9IG9wdGlvbnMuc2hhcmVkVGlja2VyID8gVGlja2VyLnNoYXJlZCA6IG5ldyBUaWNrZXIoKTtcbiAgICAgICAgLy8gU3RhcnQgdGhlIHJlbmRlcmluZ1xuICAgICAgICBpZiAob3B0aW9ucy5hdXRvU3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAgdGhlIHRpY2tlciwgc2NvcGVkIHRvIGFwcGxpY2F0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGlja2VyUGx1Z2luLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl90aWNrZXIpIHtcbiAgICAgICAgICAgIHZhciBvbGRUaWNrZXIgPSB0aGlzLl90aWNrZXI7XG4gICAgICAgICAgICB0aGlzLnRpY2tlciA9IG51bGw7XG4gICAgICAgICAgICBvbGRUaWNrZXIuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGlja2VyUGx1Z2luO1xufSgpKTtcblxuZXhwb3J0IHsgVGlja2VyLCBUaWNrZXJQbHVnaW4sIFVQREFURV9QUklPUklUWSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGlja2VyLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS91dGlscyAtIHY1LjMuN1xuICogQ29tcGlsZWQgVHVlLCAyOSBEZWMgMjAyMCAxOTozMDoxMSBVVENcbiAqXG4gKiBAcGl4aS91dGlscyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuZXhwb3J0IHsgaXNNb2JpbGUgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50ZW1pdHRlcjMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBlYXJjdXQgfSBmcm9tICdlYXJjdXQnO1xuaW1wb3J0IHsgcGFyc2UgfSBmcm9tICd1cmwnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1cmwgfSBmcm9tICd1cmwnO1xuaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKipcbiAqIFRoZSBwcmVmaXggdGhhdCBkZW5vdGVzIGEgVVJMIGlzIGZvciBhIHJldGluYSBhc3NldC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBSRVRJTkFfUFJFRklYXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge1JlZ0V4cH1cbiAqIEBkZWZhdWx0IC9AKFswLTlcXC5dKyl4L1xuICogQGV4YW1wbGUgYEAyeGBcbiAqL1xuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWCA9IC9AKFswLTlcXC5dKyl4Lztcbi8qKlxuICogU2hvdWxkIHRoZSBgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdGAgZmxhZyBiZSBlbmFibGVkIGFzIGEgY29udGV4dCBvcHRpb24gdXNlZCBpbiB0aGUgYGlzV2ViR0xTdXBwb3J0ZWRgIGZ1bmN0aW9uLlxuICogRm9yIG1vc3Qgc2NlbmFyaW9zIHRoaXMgc2hvdWxkIGJlIGxlZnQgYXMgdHJ1ZSwgYXMgb3RoZXJ3aXNlIHRoZSB1c2VyIG1heSBoYXZlIGEgcG9vciBleHBlcmllbmNlLlxuICogSG93ZXZlciwgaXQgY2FuIGJlIHVzZWZ1bCB0byBkaXNhYmxlIHVuZGVyIGNlcnRhaW4gc2NlbmFyaW9zLCBzdWNoIGFzIGhlYWRsZXNzIHVuaXQgdGVzdHMuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVRcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IHRydWVcbiAqL1xuc2V0dGluZ3MuRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQgPSB0cnVlO1xuXG52YXIgc2FpZEhlbGxvID0gZmFsc2U7XG52YXIgVkVSU0lPTiA9ICc1LjMuNyc7XG4vKipcbiAqIFNraXBzIHRoZSBoZWxsbyBtZXNzYWdlIG9mIHJlbmRlcmVycyB0aGF0IGFyZSBjcmVhdGVkIGFmdGVyIHRoaXMgaXMgcnVuLlxuICpcbiAqIEBmdW5jdGlvbiBza2lwSGVsbG9cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKi9cbmZ1bmN0aW9uIHNraXBIZWxsbygpIHtcbiAgICBzYWlkSGVsbG8gPSB0cnVlO1xufVxuLyoqXG4gKiBMb2dzIG91dCB0aGUgdmVyc2lvbiBhbmQgcmVuZGVyZXIgaW5mb3JtYXRpb24gZm9yIHRoaXMgcnVubmluZyBpbnN0YW5jZSBvZiBQSVhJLlxuICogSWYgeW91IGRvbid0IHdhbnQgdG8gc2VlIHRoaXMgbWVzc2FnZSB5b3UgY2FuIHJ1biBgUElYSS51dGlscy5za2lwSGVsbG8oKWAgYmVmb3JlXG4gKiBjcmVhdGluZyB5b3VyIHJlbmRlcmVyLiBLZWVwIGluIG1pbmQgdGhhdCBkb2luZyB0aGF0IHdpbGwgZm9yZXZlciBtYWtlIHlvdSBhIGplcmsgZmFjZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAZnVuY3Rpb24gc2F5SGVsbG9cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBzdHJpbmcgcmVuZGVyZXIgdHlwZSB0byBsb2cuXG4gKi9cbmZ1bmN0aW9uIHNheUhlbGxvKHR5cGUpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKHNhaWRIZWxsbykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPiAtMSkge1xuICAgICAgICB2YXIgYXJncyA9IFtcbiAgICAgICAgICAgIFwiXFxuICVjICVjICVjIFBpeGlKUyBcIiArIFZFUlNJT04gKyBcIiAtIFxcdTI3MzAgXCIgKyB0eXBlICsgXCIgXFx1MjczMCAgJWMgICVjICBodHRwOi8vd3d3LnBpeGlqcy5jb20vICAlYyAlYyBcXHUyNjY1JWNcXHUyNjY1JWNcXHUyNjY1IFxcblxcblwiLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjY2YTU7IGJhY2tncm91bmQ6ICMwMzAzMDc7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmYzNkYzsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JyBdO1xuICAgICAgICAoX2EgPSB3aW5kb3cuY29uc29sZSkubG9nLmFwcGx5KF9hLCBhcmdzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAod2luZG93LmNvbnNvbGUpIHtcbiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKFwiUGl4aUpTIFwiICsgVkVSU0lPTiArIFwiIC0gXCIgKyB0eXBlICsgXCIgLSBodHRwOi8vd3d3LnBpeGlqcy5jb20vXCIpO1xuICAgIH1cbiAgICBzYWlkSGVsbG8gPSB0cnVlO1xufVxuXG52YXIgc3VwcG9ydGVkO1xuLyoqXG4gKiBIZWxwZXIgZm9yIGNoZWNraW5nIGZvciBXZWJHTCBzdXBwb3J0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaXNXZWJHTFN1cHBvcnRlZFxuICogQHJldHVybiB7Ym9vbGVhbn0gSXMgV2ViR0wgc3VwcG9ydGVkLlxuICovXG5mdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkKCkge1xuICAgIGlmICh0eXBlb2Ygc3VwcG9ydGVkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzdXBwb3J0ZWQgPSAoZnVuY3Rpb24gc3VwcG9ydGVkKCkge1xuICAgICAgICAgICAgdmFyIGNvbnRleHRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHN0ZW5jaWw6IHRydWUsXG4gICAgICAgICAgICAgICAgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDogc2V0dGluZ3MuRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICAgICAgdmFyIGdsID0gKGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIGNvbnRleHRPcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgY29udGV4dE9wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICB2YXIgc3VjY2VzcyA9ICEhKGdsICYmIGdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCkuc3RlbmNpbCk7XG4gICAgICAgICAgICAgICAgaWYgKGdsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb3NlQ29udGV4dCA9IGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsb3NlQ29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBnbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlciB0byBhbiBbUiwgRywgQl0gYXJyYXkgb2Ygbm9ybWFsaXplZCBmbG9hdHMgKG51bWJlcnMgZnJvbSAwLjAgdG8gMS4wKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5oZXgycmdiKDB4ZmZmZmZmKTsgLy8gcmV0dXJucyBbMSwgMSwgMV1cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIFRoZSBoZXhhZGVjaW1hbCBudW1iZXIgdG8gY29udmVydFxuICogQHBhcmFtICB7bnVtYmVyW119IFtvdXQ9W11dIC0gSWYgc3VwcGxpZWQsIHRoaXMgYXJyYXkgd2lsbCBiZSB1c2VkIHJhdGhlciB0aGFuIHJldHVybmluZyBhIG5ldyBvbmVcbiAqIEByZXR1cm4ge251bWJlcltdfSBBbiBhcnJheSByZXByZXNlbnRpbmcgdGhlIFtSLCBHLCBCXSBvZiB0aGUgY29sb3Igd2hlcmUgYWxsIHZhbHVlcyBhcmUgZmxvYXRzLlxuICovXG5mdW5jdGlvbiBoZXgycmdiKGhleCwgb3V0KSB7XG4gICAgaWYgKG91dCA9PT0gdm9pZCAwKSB7IG91dCA9IFtdOyB9XG4gICAgb3V0WzBdID0gKChoZXggPj4gMTYpICYgMHhGRikgLyAyNTU7XG4gICAgb3V0WzFdID0gKChoZXggPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICBvdXRbMl0gPSAoaGV4ICYgMHhGRikgLyAyNTU7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29udmVydHMgYSBoZXhhZGVjaW1hbCBjb2xvciBudW1iZXIgdG8gYSBzdHJpbmcuXG4gKlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMuaGV4MnN0cmluZygweGZmZmZmZik7IC8vIHJldHVybnMgXCIjZmZmZmZmXCJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnN0cmluZ1xuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIE51bWJlciBpbiBoZXggKGUuZy4sIGAweGZmZmZmZmApXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmcgY29sb3IgKGUuZy4sIGBcIiNmZmZmZmZcImApLlxuICovXG5mdW5jdGlvbiBoZXgyc3RyaW5nKGhleCkge1xuICAgIHZhciBoZXhTdHJpbmcgPSBoZXgudG9TdHJpbmcoMTYpO1xuICAgIGhleFN0cmluZyA9ICcwMDAwMDAnLnN1YnN0cigwLCA2IC0gaGV4U3RyaW5nLmxlbmd0aCkgKyBoZXhTdHJpbmc7XG4gICAgcmV0dXJuIFwiI1wiICsgaGV4U3RyaW5nO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIHN0cmluZyB0byBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5zdHJpbmcyaGV4KFwiI2ZmZmZmZlwiKTsgLy8gcmV0dXJucyAweGZmZmZmZlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBzdHJpbmcyaGV4XG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIC0gVGhlIHN0cmluZyBjb2xvciAoZS5nLiwgYFwiI2ZmZmZmZlwiYClcbiAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIGluIGhleGFkZWNpbWFsLlxuICovXG5mdW5jdGlvbiBzdHJpbmcyaGV4KHN0cmluZykge1xuICAgIGlmICh0eXBlb2Ygc3RyaW5nID09PSAnc3RyaW5nJyAmJiBzdHJpbmdbMF0gPT09ICcjJykge1xuICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyKDEpO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VJbnQoc3RyaW5nLCAxNik7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgY29sb3IgYXMgYW4gW1IsIEcsIEJdIGFycmF5IG9mIG5vcm1hbGl6ZWQgZmxvYXRzIHRvIGEgaGV4YWRlY2ltYWwgbnVtYmVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBQSVhJLnV0aWxzLnJnYjJoZXgoWzEsIDEsIDFdKTsgLy8gcmV0dXJucyAweGZmZmZmZlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiByZ2IyaGV4XG4gKiBAcGFyYW0ge251bWJlcltdfSByZ2IgLSBBcnJheSBvZiBudW1iZXJzIHdoZXJlIGFsbCB2YWx1ZXMgYXJlIG5vcm1hbGl6ZWQgZmxvYXRzIGZyb20gMC4wIHRvIDEuMC5cbiAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIGluIGhleGFkZWNpbWFsLlxuICovXG5mdW5jdGlvbiByZ2IyaGV4KHJnYikge1xuICAgIHJldHVybiAoKChyZ2JbMF0gKiAyNTUpIDw8IDE2KSArICgocmdiWzFdICogMjU1KSA8PCA4KSArIChyZ2JbMl0gKiAyNTUgfCAwKSk7XG59XG5cbi8qKlxuICogQ29ycmVjdHMgUGl4aUpTIGJsZW5kLCB0YWtlcyBwcmVtdWx0aXBsaWVkIGFscGhhIGludG8gYWNjb3VudFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXNcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXJbXT59IE1hcHBlZCBtb2Rlcy5cbiAqL1xuZnVuY3Rpb24gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMoKSB7XG4gICAgdmFyIHBtID0gW107XG4gICAgdmFyIG5wbSA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzI7IGkrKykge1xuICAgICAgICBwbVtpXSA9IGk7XG4gICAgICAgIG5wbVtpXSA9IGk7XG4gICAgfVxuICAgIHBtW0JMRU5EX01PREVTLk5PUk1BTF9OUE1dID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgIHBtW0JMRU5EX01PREVTLkFERF9OUE1dID0gQkxFTkRfTU9ERVMuQUREO1xuICAgIHBtW0JMRU5EX01PREVTLlNDUkVFTl9OUE1dID0gQkxFTkRfTU9ERVMuU0NSRUVOO1xuICAgIG5wbVtCTEVORF9NT0RFUy5OT1JNQUxdID0gQkxFTkRfTU9ERVMuTk9STUFMX05QTTtcbiAgICBucG1bQkxFTkRfTU9ERVMuQUREXSA9IEJMRU5EX01PREVTLkFERF9OUE07XG4gICAgbnBtW0JMRU5EX01PREVTLlNDUkVFTl0gPSBCTEVORF9NT0RFUy5TQ1JFRU5fTlBNO1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIGFycmF5LnB1c2gobnBtKTtcbiAgICBhcnJheS5wdXNoKHBtKTtcbiAgICByZXR1cm4gYXJyYXk7XG59XG4vKipcbiAqIG1hcHMgcHJlbXVsdGlwbHkgZmxhZyBhbmQgYmxlbmRNb2RlIHRvIGFkanVzdGVkIGJsZW5kTW9kZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBjb25zdCBwcmVtdWx0aXBseUJsZW5kTW9kZVxuICogQHR5cGUge0FycmF5PG51bWJlcltdPn1cbiAqL1xudmFyIHByZW11bHRpcGx5QmxlbmRNb2RlID0gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMoKTtcbi8qKlxuICogY2hhbmdlcyBibGVuZE1vZGUgYWNjb3JkaW5nIHRvIHRleHR1cmUgZm9ybWF0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjb3JyZWN0QmxlbmRNb2RlXG4gKiBAcGFyYW0ge251bWJlcn0gYmxlbmRNb2RlIC0gc3VwcG9zZWQgYmxlbmQgbW9kZVxuICogQHBhcmFtIHtib29sZWFufSBwcmVtdWx0aXBsaWVkIC0gd2hldGhlciBzb3VyY2UgaXMgcHJlbXVsdGlwbGllZFxuICogQHJldHVybnMge251bWJlcn0gdHJ1ZSBibGVuZCBtb2RlIGZvciB0aGlzIHRleHR1cmVcbiAqL1xuZnVuY3Rpb24gY29ycmVjdEJsZW5kTW9kZShibGVuZE1vZGUsIHByZW11bHRpcGxpZWQpIHtcbiAgICByZXR1cm4gcHJlbXVsdGlwbHlCbGVuZE1vZGVbcHJlbXVsdGlwbGllZCA/IDEgOiAwXVtibGVuZE1vZGVdO1xufVxuLyoqXG4gKiBjb21iaW5lcyByZ2IgYW5kIGFscGhhIHRvIG91dCBhcnJheVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcHJlbXVsdGlwbHlSZ2JhXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxudW1iZXJbXX0gcmdiIC0gaW5wdXQgcmdiXG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgLSBhbHBoYSBwYXJhbVxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXRdIC0gb3V0cHV0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVtdWx0aXBseT10cnVlXSAtIGRvIHByZW11bHRpcGx5IGl0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSB2ZWM0IHJnYmFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlSZ2JhKHJnYiwgYWxwaGEsIG91dCwgcHJlbXVsdGlwbHkpIHtcbiAgICBvdXQgPSBvdXQgfHwgbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICBpZiAocHJlbXVsdGlwbHkgfHwgcHJlbXVsdGlwbHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvdXRbMF0gPSByZ2JbMF0gKiBhbHBoYTtcbiAgICAgICAgb3V0WzFdID0gcmdiWzFdICogYWxwaGE7XG4gICAgICAgIG91dFsyXSA9IHJnYlsyXSAqIGFscGhhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb3V0WzBdID0gcmdiWzBdO1xuICAgICAgICBvdXRbMV0gPSByZ2JbMV07XG4gICAgICAgIG91dFsyXSA9IHJnYlsyXTtcbiAgICB9XG4gICAgb3V0WzNdID0gYWxwaGE7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogcHJlbXVsdGlwbGllcyB0aW50XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW50IC0gaW50ZWdlciBSR0JcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSAtIGZsb2F0aW5nIHBvaW50IGFscGhhICgwLjAtMS4wKVxuICogQHJldHVybnMge251bWJlcn0gdGludCBtdWx0aXBsaWVkIGJ5IGFscGhhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5VGludCh0aW50LCBhbHBoYSkge1xuICAgIGlmIChhbHBoYSA9PT0gMS4wKSB7XG4gICAgICAgIHJldHVybiAoYWxwaGEgKiAyNTUgPDwgMjQpICsgdGludDtcbiAgICB9XG4gICAgaWYgKGFscGhhID09PSAwLjApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHZhciBSID0gKCh0aW50ID4+IDE2KSAmIDB4RkYpO1xuICAgIHZhciBHID0gKCh0aW50ID4+IDgpICYgMHhGRik7XG4gICAgdmFyIEIgPSAodGludCAmIDB4RkYpO1xuICAgIFIgPSAoKFIgKiBhbHBoYSkgKyAwLjUpIHwgMDtcbiAgICBHID0gKChHICogYWxwaGEpICsgMC41KSB8IDA7XG4gICAgQiA9ICgoQiAqIGFscGhhKSArIDAuNSkgfCAwO1xuICAgIHJldHVybiAoYWxwaGEgKiAyNTUgPDwgMjQpICsgKFIgPDwgMTYpICsgKEcgPDwgOCkgKyBCO1xufVxuLyoqXG4gKiBjb252ZXJ0cyBpbnRlZ2VyIHRpbnQgYW5kIGZsb2F0IGFscGhhIHRvIHZlYzQgZm9ybSwgcHJlbXVsdGlwbGllcyBieSBkZWZhdWx0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRUb1JnYmFcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW50IC0gaW5wdXQgdGludFxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIC0gYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIC0gZG8gcHJlbXVsdGlwbHkgaXRcbiAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IHZlYzQgcmdiYVxuICovXG5mdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRUb1JnYmEodGludCwgYWxwaGEsIG91dCwgcHJlbXVsdGlwbHkpIHtcbiAgICBvdXQgPSBvdXQgfHwgbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICBvdXRbMF0gPSAoKHRpbnQgPj4gMTYpICYgMHhGRikgLyAyNTUuMDtcbiAgICBvdXRbMV0gPSAoKHRpbnQgPj4gOCkgJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsyXSA9ICh0aW50ICYgMHhGRikgLyAyNTUuMDtcbiAgICBpZiAocHJlbXVsdGlwbHkgfHwgcHJlbXVsdGlwbHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvdXRbMF0gKj0gYWxwaGE7XG4gICAgICAgIG91dFsxXSAqPSBhbHBoYTtcbiAgICAgICAgb3V0WzJdICo9IGFscGhhO1xuICAgIH1cbiAgICBvdXRbM10gPSBhbHBoYTtcbiAgICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEdlbmVyaWMgTWFzayBTdGFjayBkYXRhIHN0cnVjdHVyZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIE51bWJlciBvZiBxdWFkc1xuICogQHBhcmFtIHtVaW50MTZBcnJheXxVaW50MzJBcnJheX0gW291dEJ1ZmZlcl0gLSBCdWZmZXIgZm9yIG91dHB1dCwgbGVuZ3RoIGhhcyB0byBiZSBgNiAqIHNpemVgXG4gKiBAcmV0dXJuIHtVaW50MTZBcnJheXxVaW50MzJBcnJheX0gLSBSZXN1bHRpbmcgaW5kZXggYnVmZmVyXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkcyhzaXplLCBvdXRCdWZmZXIpIHtcbiAgICBpZiAob3V0QnVmZmVyID09PSB2b2lkIDApIHsgb3V0QnVmZmVyID0gbnVsbDsgfVxuICAgIC8vIHRoZSB0b3RhbCBudW1iZXIgb2YgaW5kaWNlcyBpbiBvdXIgYXJyYXksIHRoZXJlIGFyZSA2IHBvaW50cyBwZXIgcXVhZC5cbiAgICB2YXIgdG90YWxJbmRpY2VzID0gc2l6ZSAqIDY7XG4gICAgb3V0QnVmZmVyID0gb3V0QnVmZmVyIHx8IG5ldyBVaW50MTZBcnJheSh0b3RhbEluZGljZXMpO1xuICAgIGlmIChvdXRCdWZmZXIubGVuZ3RoICE9PSB0b3RhbEluZGljZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3V0IGJ1ZmZlciBsZW5ndGggaXMgaW5jb3JyZWN0LCBnb3QgXCIgKyBvdXRCdWZmZXIubGVuZ3RoICsgXCIgYW5kIGV4cGVjdGVkIFwiICsgdG90YWxJbmRpY2VzKTtcbiAgICB9XG4gICAgLy8gZmlsbCB0aGUgaW5kaWNlcyB3aXRoIHRoZSBxdWFkcyB0byBkcmF3XG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDwgdG90YWxJbmRpY2VzOyBpICs9IDYsIGogKz0gNCkge1xuICAgICAgICBvdXRCdWZmZXJbaSArIDBdID0gaiArIDA7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgMV0gPSBqICsgMTtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyAyXSA9IGogKyAyO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDNdID0gaiArIDA7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgNF0gPSBqICsgMjtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyA1XSA9IGogKyAzO1xuICAgIH1cbiAgICByZXR1cm4gb3V0QnVmZmVyO1xufVxuXG5mdW5jdGlvbiBnZXRCdWZmZXJUeXBlKGFycmF5KSB7XG4gICAgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSA0KSB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuICdGbG9hdDMyQXJyYXknO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDMyQXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDMyQXJyYXknO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnSW50MzJBcnJheSc7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSAyKSB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQxNkFycmF5JztcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMSkge1xuICAgICAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQ4QXJyYXknO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFRPRE8gbWFwIG91dCB0aGUgcmVzdCBvZiB0aGUgYXJyYXkgZWxlbWVudHMhXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG9iamVjdC1zaG9ydGhhbmQgKi9cbnZhciBtYXAgPSB7IEZsb2F0MzJBcnJheTogRmxvYXQzMkFycmF5LCBVaW50MzJBcnJheTogVWludDMyQXJyYXksIEludDMyQXJyYXk6IEludDMyQXJyYXksIFVpbnQ4QXJyYXk6IFVpbnQ4QXJyYXkgfTtcbmZ1bmN0aW9uIGludGVybGVhdmVUeXBlZEFycmF5cyhhcnJheXMsIHNpemVzKSB7XG4gICAgdmFyIG91dFNpemUgPSAwO1xuICAgIHZhciBzdHJpZGUgPSAwO1xuICAgIHZhciB2aWV3cyA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHN0cmlkZSArPSBzaXplc1tpXTtcbiAgICAgICAgb3V0U2l6ZSArPSBhcnJheXNbaV0ubGVuZ3RoO1xuICAgIH1cbiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKG91dFNpemUgKiA0KTtcbiAgICB2YXIgb3V0ID0gbnVsbDtcbiAgICB2YXIgbGl0dGxlT2Zmc2V0ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc2l6ZSA9IHNpemVzW2ldO1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbaV07XG4gICAgICAgIC8qXG4gICAgICAgIEB0b2RvIFRoaXMgaXMgdW5zYWZlIGNhc3RpbmcgYnV0IGNvbnNpc3RlbnQgd2l0aCBob3cgdGhlIGNvZGUgd29ya2VkIHByZXZpb3VzbHkuIFNob3VsZCBpdCBzdGF5IHRoaXMgd2F5XG4gICAgICAgICAgICAgIG9yIHNob3VsZCBhbmQgYGdldEJ1ZmZlclR5cGVVbnNhZmVgIGZ1bmN0aW9uIGJlIGV4cG9zZWQgdGhhdCB0aHJvd3MgYW4gRXJyb3IgaWYgdW5zdXBwb3J0ZWQgdHlwZSBpcyBwYXNzZWQ/XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdHlwZSA9IGdldEJ1ZmZlclR5cGUoYXJyYXkpO1xuICAgICAgICBpZiAoIXZpZXdzW3R5cGVdKSB7XG4gICAgICAgICAgICB2aWV3c1t0eXBlXSA9IG5ldyBtYXBbdHlwZV0oYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBvdXQgPSB2aWV3c1t0eXBlXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhcnJheS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIGluZGV4U3RhcnQgPSAoKGogLyBzaXplIHwgMCkgKiBzdHJpZGUpICsgbGl0dGxlT2Zmc2V0O1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaiAlIHNpemU7XG4gICAgICAgICAgICBvdXRbaW5kZXhTdGFydCArIGluZGV4XSA9IGFycmF5W2pdO1xuICAgICAgICB9XG4gICAgICAgIGxpdHRsZU9mZnNldCArPSBzaXplO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xufVxuXG4vLyBUYWtlbiBmcm9tIHRoZSBiaXQtdHdpZGRsZSBwYWNrYWdlXG4vKipcbiAqIFJvdW5kcyB0byBuZXh0IHBvd2VyIG9mIHR3by5cbiAqXG4gKiBAZnVuY3Rpb24gbmV4dFBvdzJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdiAtIGlucHV0IHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIG5leHRQb3cyKHYpIHtcbiAgICB2ICs9IHYgPT09IDAgPyAxIDogMDtcbiAgICAtLXY7XG4gICAgdiB8PSB2ID4+PiAxO1xuICAgIHYgfD0gdiA+Pj4gMjtcbiAgICB2IHw9IHYgPj4+IDQ7XG4gICAgdiB8PSB2ID4+PiA4O1xuICAgIHYgfD0gdiA+Pj4gMTY7XG4gICAgcmV0dXJuIHYgKyAxO1xufVxuLyoqXG4gKiBDaGVja3MgaWYgYSBudW1iZXIgaXMgYSBwb3dlciBvZiB0d28uXG4gKlxuICogQGZ1bmN0aW9uIGlzUG93MlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB2IC0gaW5wdXQgdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB2YWx1ZSBpcyBwb3dlciBvZiB0d29cbiAqL1xuZnVuY3Rpb24gaXNQb3cyKHYpIHtcbiAgICByZXR1cm4gISh2ICYgKHYgLSAxKSkgJiYgKCEhdik7XG59XG4vKipcbiAqIENvbXB1dGVzIGNlaWwgb2YgbG9nIGJhc2UgMlxuICpcbiAqIEBmdW5jdGlvbiBsb2cyXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHYgLSBpbnB1dCB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfSBsb2dhcml0aG0gYmFzZSAyXG4gKi9cbmZ1bmN0aW9uIGxvZzIodikge1xuICAgIHZhciByID0gKHYgPiAweEZGRkYgPyAxIDogMCkgPDwgNDtcbiAgICB2ID4+Pj0gcjtcbiAgICB2YXIgc2hpZnQgPSAodiA+IDB4RkYgPyAxIDogMCkgPDwgMztcbiAgICB2ID4+Pj0gc2hpZnQ7XG4gICAgciB8PSBzaGlmdDtcbiAgICBzaGlmdCA9ICh2ID4gMHhGID8gMSA6IDApIDw8IDI7XG4gICAgdiA+Pj49IHNoaWZ0O1xuICAgIHIgfD0gc2hpZnQ7XG4gICAgc2hpZnQgPSAodiA+IDB4MyA/IDEgOiAwKSA8PCAxO1xuICAgIHYgPj4+PSBzaGlmdDtcbiAgICByIHw9IHNoaWZ0O1xuICAgIHJldHVybiByIHwgKHYgPj4gMSk7XG59XG5cbi8qKlxuICogUmVtb3ZlIGl0ZW1zIGZyb20gYSBqYXZhc2NyaXB0IGFycmF5IHdpdGhvdXQgZ2VuZXJhdGluZyBnYXJiYWdlXG4gKlxuICogQGZ1bmN0aW9uIHJlbW92ZUl0ZW1zXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtBcnJheTxhbnk+fSBhcnIgLSBBcnJheSB0byByZW1vdmUgZWxlbWVudHMgZnJvbVxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SWR4IC0gc3RhcnRpbmcgaW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSByZW1vdmVDb3VudCAtIGhvdyBtYW55IHRvIHJlbW92ZVxuICovXG5mdW5jdGlvbiByZW1vdmVJdGVtcyhhcnIsIHN0YXJ0SWR4LCByZW1vdmVDb3VudCkge1xuICAgIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoO1xuICAgIHZhciBpO1xuICAgIGlmIChzdGFydElkeCA+PSBsZW5ndGggfHwgcmVtb3ZlQ291bnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZW1vdmVDb3VudCA9IChzdGFydElkeCArIHJlbW92ZUNvdW50ID4gbGVuZ3RoID8gbGVuZ3RoIC0gc3RhcnRJZHggOiByZW1vdmVDb3VudCk7XG4gICAgdmFyIGxlbiA9IGxlbmd0aCAtIHJlbW92ZUNvdW50O1xuICAgIGZvciAoaSA9IHN0YXJ0SWR4OyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgYXJyW2ldID0gYXJyW2kgKyByZW1vdmVDb3VudF07XG4gICAgfVxuICAgIGFyci5sZW5ndGggPSBsZW47XG59XG5cbi8qKlxuICogUmV0dXJucyBzaWduIG9mIG51bWJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gc2lnblxuICogQHBhcmFtIHtudW1iZXJ9IG4gLSB0aGUgbnVtYmVyIHRvIGNoZWNrIHRoZSBzaWduIG9mXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAwIGlmIGBuYCBpcyAwLCAtMSBpZiBgbmAgaXMgbmVnYXRpdmUsIDEgaWYgYG5gIGlzIHBvc2l0aXZlXG4gKi9cbmZ1bmN0aW9uIHNpZ24obikge1xuICAgIGlmIChuID09PSAwKVxuICAgICAgICB7IHJldHVybiAwOyB9XG4gICAgcmV0dXJuIG4gPCAwID8gLTEgOiAxO1xufVxuXG52YXIgbmV4dFVpZCA9IDA7XG4vKipcbiAqIEdldHMgdGhlIG5leHQgdW5pcXVlIGlkZW50aWZpZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHVpZFxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbmV4dCB1bmlxdWUgaWRlbnRpZmllciB0byB1c2UuXG4gKi9cbmZ1bmN0aW9uIHVpZCgpIHtcbiAgICByZXR1cm4gKytuZXh0VWlkO1xufVxuXG4vLyBBIG1hcCBvZiB3YXJuaW5nIG1lc3NhZ2VzIGFscmVhZHkgZmlyZWRcbnZhciB3YXJuaW5ncyA9IHt9O1xuLyoqXG4gKiBIZWxwZXIgZm9yIHdhcm5pbmcgZGV2ZWxvcGVycyBhYm91dCBkZXByZWNhdGVkIGZlYXR1cmVzICYgc2V0dGluZ3MuXG4gKiBBIHN0YWNrIHRyYWNrIGZvciB3YXJuaW5ncyBpcyBnaXZlbjsgdXNlZnVsIGZvciB0cmFja2luZy1kb3duIHdoZXJlXG4gKiBkZXByZWNhdGVkIG1ldGhvZHMvcHJvcGVydGllcy9jbGFzc2VzIGFyZSBiZWluZyB1c2VkIHdpdGhpbiB0aGUgY29kZS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlcHJlY2F0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdmVyc2lvbiAtIFRoZSB2ZXJzaW9uIHdoZXJlIHRoZSBmZWF0dXJlIGJlY2FtZSBkZXByZWNhdGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIE1lc3NhZ2Ugc2hvdWxkIGluY2x1ZGUgd2hhdCBpcyBkZXByZWNhdGVkLCB3aGVyZSwgYW5kIHRoZSBuZXcgc29sdXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbaWdub3JlRGVwdGg9M10gLSBUaGUgbnVtYmVyIG9mIHN0ZXBzIHRvIGlnbm9yZSBhdCB0aGUgdG9wIG9mIHRoZSBlcnJvciBzdGFja1xuICogICAgICAgIHRoaXMgaXMgbW9zdGx5IHRvIGlnbm9yZSBpbnRlcm5hbCBkZXByZWNhdGlvbiBjYWxscy5cbiAqL1xuZnVuY3Rpb24gZGVwcmVjYXRpb24odmVyc2lvbiwgbWVzc2FnZSwgaWdub3JlRGVwdGgpIHtcbiAgICBpZiAoaWdub3JlRGVwdGggPT09IHZvaWQgMCkgeyBpZ25vcmVEZXB0aCA9IDM7IH1cbiAgICAvLyBJZ25vcmUgZHVwbGljYXRcbiAgICBpZiAod2FybmluZ3NbbWVzc2FnZV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgdmFyIHN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gICAgLy8gSGFuZGxlIElFIDwgMTAgYW5kIFNhZmFyaSA8IDZcbiAgICBpZiAodHlwZW9mIHN0YWNrID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAnLCBtZXNzYWdlICsgXCJcXG5EZXByZWNhdGVkIHNpbmNlIHZcIiArIHZlcnNpb24pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gY2hvcCBvZmYgdGhlIHN0YWNrIHRyYWNlIHdoaWNoIGluY2x1ZGVzIFBpeGlKUyBpbnRlcm5hbCBjYWxsc1xuICAgICAgICBzdGFjayA9IHN0YWNrLnNwbGl0KCdcXG4nKS5zcGxpY2UoaWdub3JlRGVwdGgpLmpvaW4oJ1xcbicpO1xuICAgICAgICBpZiAoY29uc29sZS5ncm91cENvbGxhcHNlZCkge1xuICAgICAgICAgICAgY29uc29sZS5ncm91cENvbGxhcHNlZCgnJWNQaXhpSlMgRGVwcmVjYXRpb24gV2FybmluZzogJWMlcycsICdjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNicsICdmb250LXdlaWdodDpub3JtYWw7Y29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTYnLCBtZXNzYWdlICsgXCJcXG5EZXByZWNhdGVkIHNpbmNlIHZcIiArIHZlcnNpb24pO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHN0YWNrKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIG1lc3NhZ2UgKyBcIlxcbkRlcHJlY2F0ZWQgc2luY2UgdlwiICsgdmVyc2lvbik7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oc3RhY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICAgIHdhcm5pbmdzW21lc3NhZ2VdID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFByb2dyYW1DYWNoZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbnZhciBQcm9ncmFtQ2FjaGUgPSB7fTtcbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUZXh0dXJlQ2FjaGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgVGV4dHVyZUNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBCYXNlVGV4dHVyZUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIEJhc2VUZXh0dXJlQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqXG4gKiBEZXN0cm95cyBhbGwgdGV4dHVyZSBpbiB0aGUgY2FjaGVcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlc3Ryb3lUZXh0dXJlQ2FjaGVcbiAqL1xuZnVuY3Rpb24gZGVzdHJveVRleHR1cmVDYWNoZSgpIHtcbiAgICB2YXIga2V5O1xuICAgIGZvciAoa2V5IGluIFRleHR1cmVDYWNoZSkge1xuICAgICAgICBUZXh0dXJlQ2FjaGVba2V5XS5kZXN0cm95KCk7XG4gICAgfVxuICAgIGZvciAoa2V5IGluIEJhc2VUZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgQmFzZVRleHR1cmVDYWNoZVtrZXldLmRlc3Ryb3koKTtcbiAgICB9XG59XG4vKipcbiAqIFJlbW92ZXMgYWxsIHRleHR1cmVzIGZyb20gY2FjaGUsIGJ1dCBkb2VzIG5vdCBkZXN0cm95IHRoZW1cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNsZWFyVGV4dHVyZUNhY2hlXG4gKi9cbmZ1bmN0aW9uIGNsZWFyVGV4dHVyZUNhY2hlKCkge1xuICAgIHZhciBrZXk7XG4gICAgZm9yIChrZXkgaW4gVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVba2V5XTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSkge1xuICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtrZXldO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgQ2FudmFzIGVsZW1lbnQgb2YgdGhlIGdpdmVuIHNpemUgdG8gYmUgdXNlZCBhcyBhIHRhcmdldCBmb3IgcmVuZGVyaW5nIHRvLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqL1xudmFyIENhbnZhc1JlbmRlclRhcmdldCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggZm9yIHRoZSBuZXdseSBjcmVhdGVkIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IGZvciB0aGUgbmV3bHkgY3JlYXRlZCBjYW52YXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBDYW52YXMgb2JqZWN0IHRoYXQgYmVsb25ncyB0byB0aGlzIENhbnZhc1JlbmRlclRhcmdldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgb2JqZWN0IHJlcHJlc2VudGluZyBhIHR3by1kaW1lbnNpb25hbCByZW5kZXJpbmcgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBjYW52YXMgdGhhdCB3YXMgY3JlYXRlZCBieSB0aGUgQ2FudmFzUmVuZGVyVGFyZ2V0IGNsYXNzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgY2FudmFzIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSBuZXcgd2lkdGggb2YgdGhlIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgY2FudmFzXG4gICAgICovXG4gICAgQ2FudmFzUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpZHRoICogdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQgKiB0aGlzLnJlc29sdXRpb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGNhbnZhcy5cbiAgICAgKlxuICAgICAqL1xuICAgIENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBjYW52YXMgYnVmZmVyIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB2YWw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FudmFzUmVuZGVyVGFyZ2V0LnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgY2FudmFzIGJ1ZmZlciBpbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB2YWw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQ2FudmFzUmVuZGVyVGFyZ2V0O1xufSgpKTtcblxuLyoqXG4gKiBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnMgZnJvbSBhIGNhbnZhc1xuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gdHJpbUNhbnZhc1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGNhbnZhcyB0byB0cmltXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUcmltIGRhdGFcbiAqL1xuZnVuY3Rpb24gdHJpbUNhbnZhcyhjYW52YXMpIHtcbiAgICAvLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9yZW15Lzc4NDUwOFxuICAgIHZhciB3aWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIHZhciBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB2YXIgcGl4ZWxzID0gaW1hZ2VEYXRhLmRhdGE7XG4gICAgdmFyIGxlbiA9IHBpeGVscy5sZW5ndGg7XG4gICAgdmFyIGJvdW5kID0ge1xuICAgICAgICB0b3A6IG51bGwsXG4gICAgICAgIGxlZnQ6IG51bGwsXG4gICAgICAgIHJpZ2h0OiBudWxsLFxuICAgICAgICBib3R0b206IG51bGwsXG4gICAgfTtcbiAgICB2YXIgZGF0YSA9IG51bGw7XG4gICAgdmFyIGk7XG4gICAgdmFyIHg7XG4gICAgdmFyIHk7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgICAgIGlmIChwaXhlbHNbaSArIDNdICE9PSAwKSB7XG4gICAgICAgICAgICB4ID0gKGkgLyA0KSAlIHdpZHRoO1xuICAgICAgICAgICAgeSA9IH5+KChpIC8gNCkgLyB3aWR0aCk7XG4gICAgICAgICAgICBpZiAoYm91bmQudG9wID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQudG9wID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChib3VuZC5sZWZ0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQubGVmdCA9IHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh4IDwgYm91bmQubGVmdCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLmxlZnQgPSB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvdW5kLnJpZ2h0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQucmlnaHQgPSB4ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJvdW5kLnJpZ2h0IDwgeCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLnJpZ2h0ID0geCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYm91bmQuYm90dG9tID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQuYm90dG9tID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJvdW5kLmJvdHRvbSA8IHkpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5ib3R0b20gPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChib3VuZC50b3AgIT09IG51bGwpIHtcbiAgICAgICAgd2lkdGggPSBib3VuZC5yaWdodCAtIGJvdW5kLmxlZnQ7XG4gICAgICAgIGhlaWdodCA9IGJvdW5kLmJvdHRvbSAtIGJvdW5kLnRvcCArIDE7XG4gICAgICAgIGRhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YShib3VuZC5sZWZ0LCBib3VuZC50b3AsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgIH07XG59XG5cbi8qKlxuICogUmVnZXhwIGZvciBkYXRhIFVSSS5cbiAqIEJhc2VkIG9uOiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3JhZ2luZ3dpbmQvZGF0YS11cmktcmVnZXh9XG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50IHtSZWdFeHB8c3RyaW5nfSBEQVRBX1VSSVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleGFtcGxlIGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NFxuICovXG52YXIgREFUQV9VUkkgPSAvXlxccypkYXRhOig/OihbXFx3LV0rKVxcLyhbXFx3Ky4tXSspKT8oPzo7Y2hhcnNldD0oW1xcdy1dKykpPyg/OjsoYmFzZTY0KSk/LCguKikvaTtcblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGludGVyZmFjZSBEZWNvbXBvc2VkRGF0YVVyaVxuICovXG4vKipcbiAqIHR5cGUsIGVnLiBgaW1hZ2VgXG4gKiBAbWVtYmVyb2YgUElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaSNcbiAqIEBtZW1iZXIge3N0cmluZ30gbWVkaWFUeXBlXG4gKi9cbi8qKlxuICogU3ViIHR5cGUsIGVnLiBgcG5nYFxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcmkjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IHN1YlR5cGVcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaSNcbiAqIEBtZW1iZXIge3N0cmluZ30gY2hhcnNldFxuICovXG4vKipcbiAqIERhdGEgZW5jb2RpbmcsIGVnLiBgYmFzZTY0YFxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcmkjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IGVuY29kaW5nXG4gKi9cbi8qKlxuICogVGhlIGFjdHVhbCBkYXRhXG4gKiBAbWVtYmVyb2YgUElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaSNcbiAqIEBtZW1iZXIge3N0cmluZ30gZGF0YVxuICovXG4vKipcbiAqIFNwbGl0IGEgZGF0YSBVUkkgaW50byBjb21wb25lbnRzLiBSZXR1cm5zIHVuZGVmaW5lZCBpZlxuICogcGFyYW1ldGVyIGBkYXRhVXJpYCBpcyBub3QgYSB2YWxpZCBkYXRhIFVSSS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlY29tcG9zZURhdGFVcmlcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhVXJpIC0gdGhlIGRhdGEgVVJJIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtQSVhJLnV0aWxzLkRlY29tcG9zZWREYXRhVXJpfHVuZGVmaW5lZH0gVGhlIGRlY29tcG9zZWQgZGF0YSB1cmkgb3IgdW5kZWZpbmVkXG4gKi9cbmZ1bmN0aW9uIGRlY29tcG9zZURhdGFVcmkoZGF0YVVyaSkge1xuICAgIHZhciBkYXRhVXJpTWF0Y2ggPSBEQVRBX1VSSS5leGVjKGRhdGFVcmkpO1xuICAgIGlmIChkYXRhVXJpTWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lZGlhVHlwZTogZGF0YVVyaU1hdGNoWzFdID8gZGF0YVVyaU1hdGNoWzFdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdWJUeXBlOiBkYXRhVXJpTWF0Y2hbMl0gPyBkYXRhVXJpTWF0Y2hbMl0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNoYXJzZXQ6IGRhdGFVcmlNYXRjaFszXSA/IGRhdGFVcmlNYXRjaFszXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZW5jb2Rpbmc6IGRhdGFVcmlNYXRjaFs0XSA/IGRhdGFVcmlNYXRjaFs0XS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGF0YTogZGF0YVVyaU1hdGNoWzVdLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG52YXIgdGVtcEFuY2hvcjtcbi8qKlxuICogU2V0cyB0aGUgYGNyb3NzT3JpZ2luYCBwcm9wZXJ0eSBmb3IgdGhpcyByZXNvdXJjZSBiYXNlZCBvbiBpZiB0aGUgdXJsXG4gKiBmb3IgdGhpcyByZXNvdXJjZSBpcyBjcm9zcy1vcmlnaW4uIElmIGNyb3NzT3JpZ2luIHdhcyBtYW51YWxseSBzZXQsIHRoaXNcbiAqIGZ1bmN0aW9uIGRvZXMgbm90aGluZy5cbiAqIE5pcHBlZCBmcm9tIHRoZSByZXNvdXJjZSBsb2FkZXIhXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gdGVzdC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbbG9jPXdpbmRvdy5sb2NhdGlvbl0gLSBUaGUgbG9jYXRpb24gb2JqZWN0IHRvIHRlc3QgYWdhaW5zdC5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNyb3NzT3JpZ2luIHZhbHVlIHRvIHVzZSAob3IgZW1wdHkgc3RyaW5nIGZvciBub25lKS5cbiAqL1xuZnVuY3Rpb24gZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsLCBsb2MpIHtcbiAgICBpZiAobG9jID09PSB2b2lkIDApIHsgbG9jID0gd2luZG93LmxvY2F0aW9uOyB9XG4gICAgLy8gZGF0YTogYW5kIGphdmFzY3JpcHQ6IHVybHMgYXJlIGNvbnNpZGVyZWQgc2FtZS1vcmlnaW5cbiAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICAvLyBkZWZhdWx0IGlzIHdpbmRvdy5sb2NhdGlvblxuICAgIGxvYyA9IGxvYyB8fCB3aW5kb3cubG9jYXRpb247XG4gICAgaWYgKCF0ZW1wQW5jaG9yKSB7XG4gICAgICAgIHRlbXBBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgfVxuICAgIC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgLy8gcGFyc2Ugd2l0aCB0aGUgbm9kZSB1cmwgbGliLCB3ZSBjYW4ndCB1c2UgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFuY2hvciBlbGVtZW50XG4gICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG4gICAgdGVtcEFuY2hvci5ocmVmID0gdXJsO1xuICAgIHZhciBwYXJzZWRVcmwgPSBwYXJzZSh0ZW1wQW5jaG9yLmhyZWYpO1xuICAgIHZhciBzYW1lUG9ydCA9ICghcGFyc2VkVXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnKSB8fCAocGFyc2VkVXJsLnBvcnQgPT09IGxvYy5wb3J0KTtcbiAgICAvLyBpZiBjcm9zcyBvcmlnaW5cbiAgICBpZiAocGFyc2VkVXJsLmhvc3RuYW1lICE9PSBsb2MuaG9zdG5hbWUgfHwgIXNhbWVQb3J0IHx8IHBhcnNlZFVybC5wcm90b2NvbCAhPT0gbG9jLnByb3RvY29sKSB7XG4gICAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGdldCB0aGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiBhbiBhc3NldCBieSBsb29raW5nIGZvciB0aGUgcHJlZml4XG4gKiB1c2VkIGJ5IHNwcml0ZXNoZWV0cyBhbmQgaW1hZ2UgdXJsc1xuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbk9mVXJsXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gdGhlIGltYWdlIHBhdGhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlPTFdIC0gdGhlIGRlZmF1bHRWYWx1ZSBpZiBubyBmaWxlbmFtZSBwcmVmaXggaXMgc2V0LlxuICogQHJldHVybiB7bnVtYmVyfSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIGFuIGFzc2V0XG4gKi9cbmZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybCh1cmwsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciByZXNvbHV0aW9uID0gc2V0dGluZ3MuUkVUSU5BX1BSRUZJWC5leGVjKHVybCk7XG4gICAgaWYgKHJlc29sdXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQocmVzb2x1dGlvblsxXSk7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IDE7XG59XG5cbi8qKlxuICogR2VuZXJhbGl6ZWQgY29udmVuaWVuY2UgdXRpbGl0aWVzIGZvciBQSVhJLlxuICogQGV4YW1wbGVcbiAqIC8vIEV4dGVuZCBQSVhJJ3MgaW50ZXJuYWwgRXZlbnQgRW1pdHRlci5cbiAqIGNsYXNzIE15RW1pdHRlciBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyIHtcbiAqICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgIHN1cGVyKCk7XG4gKiAgICAgIGNvbnNvbGUubG9nKFwiRW1pdHRlciBjcmVhdGVkIVwiKTtcbiAqICAgfVxuICogfVxuICpcbiAqIC8vIEdldCBpbmZvIG9uIGN1cnJlbnQgZGV2aWNlXG4gKiBjb25zb2xlLmxvZyhQSVhJLnV0aWxzLmlzTW9iaWxlKTtcbiAqXG4gKiAvLyBDb252ZXJ0IGhleCBjb2xvciB0byBzdHJpbmdcbiAqIGNvbnNvbGUubG9nKFBJWEkudXRpbHMuaGV4MnN0cmluZygweGZmMDBmZikpOyAvLyByZXR1cm5zOiBcIiNmZjAwZmZcIlxuICogQG5hbWVzcGFjZSBQSVhJLnV0aWxzXG4gKi9cblxuZXhwb3J0IHsgQmFzZVRleHR1cmVDYWNoZSwgQ2FudmFzUmVuZGVyVGFyZ2V0LCBEQVRBX1VSSSwgUHJvZ3JhbUNhY2hlLCBUZXh0dXJlQ2FjaGUsIGNsZWFyVGV4dHVyZUNhY2hlLCBjb3JyZWN0QmxlbmRNb2RlLCBjcmVhdGVJbmRpY2VzRm9yUXVhZHMsIGRlY29tcG9zZURhdGFVcmksIGRlcHJlY2F0aW9uLCBkZXN0cm95VGV4dHVyZUNhY2hlLCBkZXRlcm1pbmVDcm9zc09yaWdpbiwgZ2V0QnVmZmVyVHlwZSwgZ2V0UmVzb2x1dGlvbk9mVXJsLCBoZXgycmdiLCBoZXgyc3RyaW5nLCBpbnRlcmxlYXZlVHlwZWRBcnJheXMsIGlzUG93MiwgaXNXZWJHTFN1cHBvcnRlZCwgbG9nMiwgbmV4dFBvdzIsIHByZW11bHRpcGx5QmxlbmRNb2RlLCBwcmVtdWx0aXBseVJnYmEsIHByZW11bHRpcGx5VGludCwgcHJlbXVsdGlwbHlUaW50VG9SZ2JhLCByZW1vdmVJdGVtcywgcmdiMmhleCwgc2F5SGVsbG8sIHNpZ24sIHNraXBIZWxsbywgc3RyaW5nMmhleCwgdHJpbUNhbnZhcywgdWlkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5lcy5qcy5tYXBcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBlYXJjdXQ7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gZWFyY3V0O1xuXG5mdW5jdGlvbiBlYXJjdXQoZGF0YSwgaG9sZUluZGljZXMsIGRpbSkge1xuXG4gICAgZGltID0gZGltIHx8IDI7XG5cbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGgsXG4gICAgICAgIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoLFxuICAgICAgICBvdXRlck5vZGUgPSBsaW5rZWRMaXN0KGRhdGEsIDAsIG91dGVyTGVuLCBkaW0sIHRydWUpLFxuICAgICAgICB0cmlhbmdsZXMgPSBbXTtcblxuICAgIGlmICghb3V0ZXJOb2RlIHx8IG91dGVyTm9kZS5uZXh0ID09PSBvdXRlck5vZGUucHJldikgcmV0dXJuIHRyaWFuZ2xlcztcblxuICAgIHZhciBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB4LCB5LCBpbnZTaXplO1xuXG4gICAgaWYgKGhhc0hvbGVzKSBvdXRlck5vZGUgPSBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pO1xuXG4gICAgLy8gaWYgdGhlIHNoYXBlIGlzIG5vdCB0b28gc2ltcGxlLCB3ZSdsbCB1c2Ugei1vcmRlciBjdXJ2ZSBoYXNoIGxhdGVyOyBjYWxjdWxhdGUgcG9seWdvbiBiYm94XG4gICAgaWYgKGRhdGEubGVuZ3RoID4gODAgKiBkaW0pIHtcbiAgICAgICAgbWluWCA9IG1heFggPSBkYXRhWzBdO1xuICAgICAgICBtaW5ZID0gbWF4WSA9IGRhdGFbMV07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGRpbTsgaSA8IG91dGVyTGVuOyBpICs9IGRpbSkge1xuICAgICAgICAgICAgeCA9IGRhdGFbaV07XG4gICAgICAgICAgICB5ID0gZGF0YVtpICsgMV07XG4gICAgICAgICAgICBpZiAoeCA8IG1pblgpIG1pblggPSB4O1xuICAgICAgICAgICAgaWYgKHkgPCBtaW5ZKSBtaW5ZID0geTtcbiAgICAgICAgICAgIGlmICh4ID4gbWF4WCkgbWF4WCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA+IG1heFkpIG1heFkgPSB5O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWluWCwgbWluWSBhbmQgaW52U2l6ZSBhcmUgbGF0ZXIgdXNlZCB0byB0cmFuc2Zvcm0gY29vcmRzIGludG8gaW50ZWdlcnMgZm9yIHotb3JkZXIgY2FsY3VsYXRpb25cbiAgICAgICAgaW52U2l6ZSA9IE1hdGgubWF4KG1heFggLSBtaW5YLCBtYXhZIC0gbWluWSk7XG4gICAgICAgIGludlNpemUgPSBpbnZTaXplICE9PSAwID8gMSAvIGludlNpemUgOiAwO1xuICAgIH1cblxuICAgIGVhcmN1dExpbmtlZChvdXRlck5vZGUsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHJldHVybiB0cmlhbmdsZXM7XG59XG5cbi8vIGNyZWF0ZSBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdCBmcm9tIHBvbHlnb24gcG9pbnRzIGluIHRoZSBzcGVjaWZpZWQgd2luZGluZyBvcmRlclxuZnVuY3Rpb24gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGNsb2Nrd2lzZSkge1xuICAgIHZhciBpLCBsYXN0O1xuXG4gICAgaWYgKGNsb2Nrd2lzZSA9PT0gKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSA+IDApKSB7XG4gICAgICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoaSA9IGVuZCAtIGRpbTsgaSA+PSBzdGFydDsgaSAtPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcbiAgICB9XG5cbiAgICBpZiAobGFzdCAmJiBlcXVhbHMobGFzdCwgbGFzdC5uZXh0KSkge1xuICAgICAgICByZW1vdmVOb2RlKGxhc3QpO1xuICAgICAgICBsYXN0ID0gbGFzdC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiBsYXN0O1xufVxuXG4vLyBlbGltaW5hdGUgY29saW5lYXIgb3IgZHVwbGljYXRlIHBvaW50c1xuZnVuY3Rpb24gZmlsdGVyUG9pbnRzKHN0YXJ0LCBlbmQpIHtcbiAgICBpZiAoIXN0YXJ0KSByZXR1cm4gc3RhcnQ7XG4gICAgaWYgKCFlbmQpIGVuZCA9IHN0YXJ0O1xuXG4gICAgdmFyIHAgPSBzdGFydCxcbiAgICAgICAgYWdhaW47XG4gICAgZG8ge1xuICAgICAgICBhZ2FpbiA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghcC5zdGVpbmVyICYmIChlcXVhbHMocCwgcC5uZXh0KSB8fCBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XG4gICAgICAgICAgICBwID0gZW5kID0gcC5wcmV2O1xuICAgICAgICAgICAgaWYgKHAgPT09IHAubmV4dCkgYnJlYWs7XG4gICAgICAgICAgICBhZ2FpbiA9IHRydWU7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAgPSBwLm5leHQ7XG4gICAgICAgIH1cbiAgICB9IHdoaWxlIChhZ2FpbiB8fCBwICE9PSBlbmQpO1xuXG4gICAgcmV0dXJuIGVuZDtcbn1cblxuLy8gbWFpbiBlYXIgc2xpY2luZyBsb29wIHdoaWNoIHRyaWFuZ3VsYXRlcyBhIHBvbHlnb24gKGdpdmVuIGFzIGEgbGlua2VkIGxpc3QpXG5mdW5jdGlvbiBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgcGFzcykge1xuICAgIGlmICghZWFyKSByZXR1cm47XG5cbiAgICAvLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXG4gICAgaWYgKCFwYXNzICYmIGludlNpemUpIGluZGV4Q3VydmUoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHZhciBzdG9wID0gZWFyLFxuICAgICAgICBwcmV2LCBuZXh0O1xuXG4gICAgLy8gaXRlcmF0ZSB0aHJvdWdoIGVhcnMsIHNsaWNpbmcgdGhlbSBvbmUgYnkgb25lXG4gICAgd2hpbGUgKGVhci5wcmV2ICE9PSBlYXIubmV4dCkge1xuICAgICAgICBwcmV2ID0gZWFyLnByZXY7XG4gICAgICAgIG5leHQgPSBlYXIubmV4dDtcblxuICAgICAgICBpZiAoaW52U2l6ZSA/IGlzRWFySGFzaGVkKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSkgOiBpc0VhcihlYXIpKSB7XG4gICAgICAgICAgICAvLyBjdXQgb2ZmIHRoZSB0cmlhbmdsZVxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocHJldi5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGVhci5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKG5leHQuaSAvIGRpbSk7XG5cbiAgICAgICAgICAgIHJlbW92ZU5vZGUoZWFyKTtcblxuICAgICAgICAgICAgLy8gc2tpcHBpbmcgdGhlIG5leHQgdmVydGV4IGxlYWRzIHRvIGxlc3Mgc2xpdmVyIHRyaWFuZ2xlc1xuICAgICAgICAgICAgZWFyID0gbmV4dC5uZXh0O1xuICAgICAgICAgICAgc3RvcCA9IG5leHQubmV4dDtcblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBlYXIgPSBuZXh0O1xuXG4gICAgICAgIC8vIGlmIHdlIGxvb3BlZCB0aHJvdWdoIHRoZSB3aG9sZSByZW1haW5pbmcgcG9seWdvbiBhbmQgY2FuJ3QgZmluZCBhbnkgbW9yZSBlYXJzXG4gICAgICAgIGlmIChlYXIgPT09IHN0b3ApIHtcbiAgICAgICAgICAgIC8vIHRyeSBmaWx0ZXJpbmcgcG9pbnRzIGFuZCBzbGljaW5nIGFnYWluXG4gICAgICAgICAgICBpZiAoIXBhc3MpIHtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZmlsdGVyUG9pbnRzKGVhciksIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAxKTtcblxuICAgICAgICAgICAgLy8gaWYgdGhpcyBkaWRuJ3Qgd29yaywgdHJ5IGN1cmluZyBhbGwgc21hbGwgc2VsZi1pbnRlcnNlY3Rpb25zIGxvY2FsbHlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGVhciA9IGN1cmVMb2NhbEludGVyc2VjdGlvbnMoZmlsdGVyUG9pbnRzKGVhciksIHRyaWFuZ2xlcywgZGltKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMik7XG5cbiAgICAgICAgICAgIC8vIGFzIGEgbGFzdCByZXNvcnQsIHRyeSBzcGxpdHRpbmcgdGhlIHJlbWFpbmluZyBwb2x5Z29uIGludG8gdHdvXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDIpIHtcbiAgICAgICAgICAgICAgICBzcGxpdEVhcmN1dChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIGNoZWNrIHdoZXRoZXIgYSBwb2x5Z29uIG5vZGUgZm9ybXMgYSB2YWxpZCBlYXIgd2l0aCBhZGphY2VudCBub2Rlc1xuZnVuY3Rpb24gaXNFYXIoZWFyKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gbm93IG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlIG90aGVyIHBvaW50cyBpbnNpZGUgdGhlIHBvdGVudGlhbCBlYXJcbiAgICB2YXIgcCA9IGVhci5uZXh0Lm5leHQ7XG5cbiAgICB3aGlsZSAocCAhPT0gZWFyLnByZXYpIHtcbiAgICAgICAgaWYgKHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gdHJpYW5nbGUgYmJveDsgbWluICYgbWF4IGFyZSBjYWxjdWxhdGVkIGxpa2UgdGhpcyBmb3Igc3BlZWRcbiAgICB2YXIgbWluVFggPSBhLnggPCBiLnggPyAoYS54IDwgYy54ID8gYS54IDogYy54KSA6IChiLnggPCBjLnggPyBiLnggOiBjLngpLFxuICAgICAgICBtaW5UWSA9IGEueSA8IGIueSA/IChhLnkgPCBjLnkgPyBhLnkgOiBjLnkpIDogKGIueSA8IGMueSA/IGIueSA6IGMueSksXG4gICAgICAgIG1heFRYID0gYS54ID4gYi54ID8gKGEueCA+IGMueCA/IGEueCA6IGMueCkgOiAoYi54ID4gYy54ID8gYi54IDogYy54KSxcbiAgICAgICAgbWF4VFkgPSBhLnkgPiBiLnkgPyAoYS55ID4gYy55ID8gYS55IDogYy55KSA6IChiLnkgPiBjLnkgPyBiLnkgOiBjLnkpO1xuXG4gICAgLy8gei1vcmRlciByYW5nZSBmb3IgdGhlIGN1cnJlbnQgdHJpYW5nbGUgYmJveDtcbiAgICB2YXIgbWluWiA9IHpPcmRlcihtaW5UWCwgbWluVFksIG1pblgsIG1pblksIGludlNpemUpLFxuICAgICAgICBtYXhaID0gek9yZGVyKG1heFRYLCBtYXhUWSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgcCA9IGVhci5wcmV2WixcbiAgICAgICAgbiA9IGVhci5uZXh0WjtcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIGluIGJvdGggZGlyZWN0aW9uc1xuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aICYmIG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuXG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGRlY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aKSB7XG4gICAgICAgIGlmIChwICE9PSBlYXIucHJldiAmJiBwICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5wcmV2WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGluY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChuICYmIG4ueiA8PSBtYXhaKSB7XG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gZ28gdGhyb3VnaCBhbGwgcG9seWdvbiBub2RlcyBhbmQgY3VyZSBzbWFsbCBsb2NhbCBzZWxmLWludGVyc2VjdGlvbnNcbmZ1bmN0aW9uIGN1cmVMb2NhbEludGVyc2VjdGlvbnMoc3RhcnQsIHRyaWFuZ2xlcywgZGltKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBhID0gcC5wcmV2LFxuICAgICAgICAgICAgYiA9IHAubmV4dC5uZXh0O1xuXG4gICAgICAgIGlmICghZXF1YWxzKGEsIGIpICYmIGludGVyc2VjdHMoYSwgcCwgcC5uZXh0LCBiKSAmJiBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkpIHtcblxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYS5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHAuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChiLmkgLyBkaW0pO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgdHdvIG5vZGVzIGludm9sdmVkXG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwLm5leHQpO1xuXG4gICAgICAgICAgICBwID0gc3RhcnQgPSBiO1xuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcmV0dXJuIGZpbHRlclBvaW50cyhwKTtcbn1cblxuLy8gdHJ5IHNwbGl0dGluZyBwb2x5Z29uIGludG8gdHdvIGFuZCB0cmlhbmd1bGF0ZSB0aGVtIGluZGVwZW5kZW50bHlcbmZ1bmN0aW9uIHNwbGl0RWFyY3V0KHN0YXJ0LCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGxvb2sgZm9yIGEgdmFsaWQgZGlhZ29uYWwgdGhhdCBkaXZpZGVzIHRoZSBwb2x5Z29uIGludG8gdHdvXG4gICAgdmFyIGEgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBiID0gYS5uZXh0Lm5leHQ7XG4gICAgICAgIHdoaWxlIChiICE9PSBhLnByZXYpIHtcbiAgICAgICAgICAgIGlmIChhLmkgIT09IGIuaSAmJiBpc1ZhbGlkRGlhZ29uYWwoYSwgYikpIHtcbiAgICAgICAgICAgICAgICAvLyBzcGxpdCB0aGUgcG9seWdvbiBpbiB0d28gYnkgdGhlIGRpYWdvbmFsXG4gICAgICAgICAgICAgICAgdmFyIGMgPSBzcGxpdFBvbHlnb24oYSwgYik7XG5cbiAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgY29saW5lYXIgcG9pbnRzIGFyb3VuZCB0aGUgY3V0c1xuICAgICAgICAgICAgICAgIGEgPSBmaWx0ZXJQb2ludHMoYSwgYS5uZXh0KTtcbiAgICAgICAgICAgICAgICBjID0gZmlsdGVyUG9pbnRzKGMsIGMubmV4dCk7XG5cbiAgICAgICAgICAgICAgICAvLyBydW4gZWFyY3V0IG9uIGVhY2ggaGFsZlxuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChhLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGMsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiID0gYi5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGEgPSBhLm5leHQ7XG4gICAgfSB3aGlsZSAoYSAhPT0gc3RhcnQpO1xufVxuXG4vLyBsaW5rIGV2ZXJ5IGhvbGUgaW50byB0aGUgb3V0ZXIgbG9vcCwgcHJvZHVjaW5nIGEgc2luZ2xlLXJpbmcgcG9seWdvbiB3aXRob3V0IGhvbGVzXG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pIHtcbiAgICB2YXIgcXVldWUgPSBbXSxcbiAgICAgICAgaSwgbGVuLCBzdGFydCwgZW5kLCBsaXN0O1xuXG4gICAgZm9yIChpID0gMCwgbGVuID0gaG9sZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcbiAgICAgICAgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgbGlzdCA9IGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBmYWxzZSk7XG4gICAgICAgIGlmIChsaXN0ID09PSBsaXN0Lm5leHQpIGxpc3Quc3RlaW5lciA9IHRydWU7XG4gICAgICAgIHF1ZXVlLnB1c2goZ2V0TGVmdG1vc3QobGlzdCkpO1xuICAgIH1cblxuICAgIHF1ZXVlLnNvcnQoY29tcGFyZVgpO1xuXG4gICAgLy8gcHJvY2VzcyBob2xlcyBmcm9tIGxlZnQgdG8gcmlnaHRcbiAgICBmb3IgKGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZWxpbWluYXRlSG9sZShxdWV1ZVtpXSwgb3V0ZXJOb2RlKTtcbiAgICAgICAgb3V0ZXJOb2RlID0gZmlsdGVyUG9pbnRzKG91dGVyTm9kZSwgb3V0ZXJOb2RlLm5leHQpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRlck5vZGU7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVYKGEsIGIpIHtcbiAgICByZXR1cm4gYS54IC0gYi54O1xufVxuXG4vLyBmaW5kIGEgYnJpZGdlIGJldHdlZW4gdmVydGljZXMgdGhhdCBjb25uZWN0cyBob2xlIHdpdGggYW4gb3V0ZXIgcmluZyBhbmQgYW5kIGxpbmsgaXRcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGUoaG9sZSwgb3V0ZXJOb2RlKSB7XG4gICAgb3V0ZXJOb2RlID0gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKTtcbiAgICBpZiAob3V0ZXJOb2RlKSB7XG4gICAgICAgIHZhciBiID0gc3BsaXRQb2x5Z29uKG91dGVyTm9kZSwgaG9sZSk7XG5cbiAgICAgICAgLy8gZmlsdGVyIGNvbGxpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXG4gICAgICAgIGZpbHRlclBvaW50cyhvdXRlck5vZGUsIG91dGVyTm9kZS5uZXh0KTtcbiAgICAgICAgZmlsdGVyUG9pbnRzKGIsIGIubmV4dCk7XG4gICAgfVxufVxuXG4vLyBEYXZpZCBFYmVybHkncyBhbGdvcml0aG0gZm9yIGZpbmRpbmcgYSBicmlkZ2UgYmV0d2VlbiBob2xlIGFuZCBvdXRlciBwb2x5Z29uXG5mdW5jdGlvbiBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpIHtcbiAgICB2YXIgcCA9IG91dGVyTm9kZSxcbiAgICAgICAgaHggPSBob2xlLngsXG4gICAgICAgIGh5ID0gaG9sZS55LFxuICAgICAgICBxeCA9IC1JbmZpbml0eSxcbiAgICAgICAgbTtcblxuICAgIC8vIGZpbmQgYSBzZWdtZW50IGludGVyc2VjdGVkIGJ5IGEgcmF5IGZyb20gdGhlIGhvbGUncyBsZWZ0bW9zdCBwb2ludCB0byB0aGUgbGVmdDtcbiAgICAvLyBzZWdtZW50J3MgZW5kcG9pbnQgd2l0aCBsZXNzZXIgeCB3aWxsIGJlIHBvdGVudGlhbCBjb25uZWN0aW9uIHBvaW50XG4gICAgZG8ge1xuICAgICAgICBpZiAoaHkgPD0gcC55ICYmIGh5ID49IHAubmV4dC55ICYmIHAubmV4dC55ICE9PSBwLnkpIHtcbiAgICAgICAgICAgIHZhciB4ID0gcC54ICsgKGh5IC0gcC55KSAqIChwLm5leHQueCAtIHAueCkgLyAocC5uZXh0LnkgLSBwLnkpO1xuICAgICAgICAgICAgaWYgKHggPD0gaHggJiYgeCA+IHF4KSB7XG4gICAgICAgICAgICAgICAgcXggPSB4O1xuICAgICAgICAgICAgICAgIGlmICh4ID09PSBoeCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaHkgPT09IHAueSkgcmV0dXJuIHA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoeSA9PT0gcC5uZXh0LnkpIHJldHVybiBwLm5leHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG0gPSBwLnggPCBwLm5leHQueCA/IHAgOiBwLm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBvdXRlck5vZGUpO1xuXG4gICAgaWYgKCFtKSByZXR1cm4gbnVsbDtcblxuICAgIGlmIChoeCA9PT0gcXgpIHJldHVybiBtOyAvLyBob2xlIHRvdWNoZXMgb3V0ZXIgc2VnbWVudDsgcGljayBsZWZ0bW9zdCBlbmRwb2ludFxuXG4gICAgLy8gbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgb2YgaG9sZSBwb2ludCwgc2VnbWVudCBpbnRlcnNlY3Rpb24gYW5kIGVuZHBvaW50O1xuICAgIC8vIGlmIHRoZXJlIGFyZSBubyBwb2ludHMgZm91bmQsIHdlIGhhdmUgYSB2YWxpZCBjb25uZWN0aW9uO1xuICAgIC8vIG90aGVyd2lzZSBjaG9vc2UgdGhlIHBvaW50IG9mIHRoZSBtaW5pbXVtIGFuZ2xlIHdpdGggdGhlIHJheSBhcyBjb25uZWN0aW9uIHBvaW50XG5cbiAgICB2YXIgc3RvcCA9IG0sXG4gICAgICAgIG14ID0gbS54LFxuICAgICAgICBteSA9IG0ueSxcbiAgICAgICAgdGFuTWluID0gSW5maW5pdHksXG4gICAgICAgIHRhbjtcblxuICAgIHAgPSBtO1xuXG4gICAgZG8ge1xuICAgICAgICBpZiAoaHggPj0gcC54ICYmIHAueCA+PSBteCAmJiBoeCAhPT0gcC54ICYmXG4gICAgICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGh5IDwgbXkgPyBoeCA6IHF4LCBoeSwgbXgsIG15LCBoeSA8IG15ID8gcXggOiBoeCwgaHksIHAueCwgcC55KSkge1xuXG4gICAgICAgICAgICB0YW4gPSBNYXRoLmFicyhoeSAtIHAueSkgLyAoaHggLSBwLngpOyAvLyB0YW5nZW50aWFsXG5cbiAgICAgICAgICAgIGlmIChsb2NhbGx5SW5zaWRlKHAsIGhvbGUpICYmXG4gICAgICAgICAgICAgICAgKHRhbiA8IHRhbk1pbiB8fCAodGFuID09PSB0YW5NaW4gJiYgKHAueCA+IG0ueCB8fCAocC54ID09PSBtLnggJiYgc2VjdG9yQ29udGFpbnNTZWN0b3IobSwgcCkpKSkpKSB7XG4gICAgICAgICAgICAgICAgbSA9IHA7XG4gICAgICAgICAgICAgICAgdGFuTWluID0gdGFuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdG9wKTtcblxuICAgIHJldHVybiBtO1xufVxuXG4vLyB3aGV0aGVyIHNlY3RvciBpbiB2ZXJ0ZXggbSBjb250YWlucyBzZWN0b3IgaW4gdmVydGV4IHAgaW4gdGhlIHNhbWUgY29vcmRpbmF0ZXNcbmZ1bmN0aW9uIHNlY3RvckNvbnRhaW5zU2VjdG9yKG0sIHApIHtcbiAgICByZXR1cm4gYXJlYShtLnByZXYsIG0sIHAucHJldikgPCAwICYmIGFyZWEocC5uZXh0LCBtLCBtLm5leHQpIDwgMDtcbn1cblxuLy8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlclxuZnVuY3Rpb24gaW5kZXhDdXJ2ZShzdGFydCwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIHZhciBwID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICBpZiAocC56ID09PSBudWxsKSBwLnogPSB6T3JkZXIocC54LCBwLnksIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICBwLnByZXZaID0gcC5wcmV2O1xuICAgICAgICBwLm5leHRaID0gcC5uZXh0O1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcblxuICAgIHAucHJldloubmV4dFogPSBudWxsO1xuICAgIHAucHJldlogPSBudWxsO1xuXG4gICAgc29ydExpbmtlZChwKTtcbn1cblxuLy8gU2ltb24gVGF0aGFtJ3MgbGlua2VkIGxpc3QgbWVyZ2Ugc29ydCBhbGdvcml0aG1cbi8vIGh0dHA6Ly93d3cuY2hpYXJrLmdyZWVuZW5kLm9yZy51ay9+c2d0YXRoYW0vYWxnb3JpdGhtcy9saXN0c29ydC5odG1sXG5mdW5jdGlvbiBzb3J0TGlua2VkKGxpc3QpIHtcbiAgICB2YXIgaSwgcCwgcSwgZSwgdGFpbCwgbnVtTWVyZ2VzLCBwU2l6ZSwgcVNpemUsXG4gICAgICAgIGluU2l6ZSA9IDE7XG5cbiAgICBkbyB7XG4gICAgICAgIHAgPSBsaXN0O1xuICAgICAgICBsaXN0ID0gbnVsbDtcbiAgICAgICAgdGFpbCA9IG51bGw7XG4gICAgICAgIG51bU1lcmdlcyA9IDA7XG5cbiAgICAgICAgd2hpbGUgKHApIHtcbiAgICAgICAgICAgIG51bU1lcmdlcysrO1xuICAgICAgICAgICAgcSA9IHA7XG4gICAgICAgICAgICBwU2l6ZSA9IDA7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaW5TaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwU2l6ZSsrO1xuICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xuICAgICAgICAgICAgICAgIGlmICghcSkgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBxU2l6ZSA9IGluU2l6ZTtcblxuICAgICAgICAgICAgd2hpbGUgKHBTaXplID4gMCB8fCAocVNpemUgPiAwICYmIHEpKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAocFNpemUgIT09IDAgJiYgKHFTaXplID09PSAwIHx8ICFxIHx8IHAueiA8PSBxLnopKSB7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBwO1xuICAgICAgICAgICAgICAgICAgICBwID0gcC5uZXh0WjtcbiAgICAgICAgICAgICAgICAgICAgcFNpemUtLTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlID0gcTtcbiAgICAgICAgICAgICAgICAgICAgcSA9IHEubmV4dFo7XG4gICAgICAgICAgICAgICAgICAgIHFTaXplLS07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRhaWwpIHRhaWwubmV4dFogPSBlO1xuICAgICAgICAgICAgICAgIGVsc2UgbGlzdCA9IGU7XG5cbiAgICAgICAgICAgICAgICBlLnByZXZaID0gdGFpbDtcbiAgICAgICAgICAgICAgICB0YWlsID0gZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcCA9IHE7XG4gICAgICAgIH1cblxuICAgICAgICB0YWlsLm5leHRaID0gbnVsbDtcbiAgICAgICAgaW5TaXplICo9IDI7XG5cbiAgICB9IHdoaWxlIChudW1NZXJnZXMgPiAxKTtcblxuICAgIHJldHVybiBsaXN0O1xufVxuXG4vLyB6LW9yZGVyIG9mIGEgcG9pbnQgZ2l2ZW4gY29vcmRzIGFuZCBpbnZlcnNlIG9mIHRoZSBsb25nZXIgc2lkZSBvZiBkYXRhIGJib3hcbmZ1bmN0aW9uIHpPcmRlcih4LCB5LCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgLy8gY29vcmRzIGFyZSB0cmFuc2Zvcm1lZCBpbnRvIG5vbi1uZWdhdGl2ZSAxNS1iaXQgaW50ZWdlciByYW5nZVxuICAgIHggPSAzMjc2NyAqICh4IC0gbWluWCkgKiBpbnZTaXplO1xuICAgIHkgPSAzMjc2NyAqICh5IC0gbWluWSkgKiBpbnZTaXplO1xuXG4gICAgeCA9ICh4IHwgKHggPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgICB4ID0gKHggfCAoeCA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICAgIHggPSAoeCB8ICh4IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gICAgeCA9ICh4IHwgKHggPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICAgIHkgPSAoeSB8ICh5IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gICAgeSA9ICh5IHwgKHkgPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgICB5ID0gKHkgfCAoeSA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICAgIHkgPSAoeSB8ICh5IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgICByZXR1cm4geCB8ICh5IDw8IDEpO1xufVxuXG4vLyBmaW5kIHRoZSBsZWZ0bW9zdCBub2RlIG9mIGEgcG9seWdvbiByaW5nXG5mdW5jdGlvbiBnZXRMZWZ0bW9zdChzdGFydCkge1xuICAgIHZhciBwID0gc3RhcnQsXG4gICAgICAgIGxlZnRtb3N0ID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICBpZiAocC54IDwgbGVmdG1vc3QueCB8fCAocC54ID09PSBsZWZ0bW9zdC54ICYmIHAueSA8IGxlZnRtb3N0LnkpKSBsZWZ0bW9zdCA9IHA7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcmV0dXJuIGxlZnRtb3N0O1xufVxuXG4vLyBjaGVjayBpZiBhIHBvaW50IGxpZXMgd2l0aGluIGEgY29udmV4IHRyaWFuZ2xlXG5mdW5jdGlvbiBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcHgsIHB5KSB7XG4gICAgcmV0dXJuIChjeCAtIHB4KSAqIChheSAtIHB5KSAtIChheCAtIHB4KSAqIChjeSAtIHB5KSA+PSAwICYmXG4gICAgICAgICAgIChheCAtIHB4KSAqIChieSAtIHB5KSAtIChieCAtIHB4KSAqIChheSAtIHB5KSA+PSAwICYmXG4gICAgICAgICAgIChieCAtIHB4KSAqIChjeSAtIHB5KSAtIChjeCAtIHB4KSAqIChieSAtIHB5KSA+PSAwO1xufVxuXG4vLyBjaGVjayBpZiBhIGRpYWdvbmFsIGJldHdlZW4gdHdvIHBvbHlnb24gbm9kZXMgaXMgdmFsaWQgKGxpZXMgaW4gcG9seWdvbiBpbnRlcmlvcilcbmZ1bmN0aW9uIGlzVmFsaWREaWFnb25hbChhLCBiKSB7XG4gICAgcmV0dXJuIGEubmV4dC5pICE9PSBiLmkgJiYgYS5wcmV2LmkgIT09IGIuaSAmJiAhaW50ZXJzZWN0c1BvbHlnb24oYSwgYikgJiYgLy8gZG9uZXMndCBpbnRlcnNlY3Qgb3RoZXIgZWRnZXNcbiAgICAgICAgICAgKGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSAmJiBtaWRkbGVJbnNpZGUoYSwgYikgJiYgLy8gbG9jYWxseSB2aXNpYmxlXG4gICAgICAgICAgICAoYXJlYShhLnByZXYsIGEsIGIucHJldikgfHwgYXJlYShhLCBiLnByZXYsIGIpKSB8fCAvLyBkb2VzIG5vdCBjcmVhdGUgb3Bwb3NpdGUtZmFjaW5nIHNlY3RvcnNcbiAgICAgICAgICAgIGVxdWFscyhhLCBiKSAmJiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA+IDAgJiYgYXJlYShiLnByZXYsIGIsIGIubmV4dCkgPiAwKTsgLy8gc3BlY2lhbCB6ZXJvLWxlbmd0aCBjYXNlXG59XG5cbi8vIHNpZ25lZCBhcmVhIG9mIGEgdHJpYW5nbGVcbmZ1bmN0aW9uIGFyZWEocCwgcSwgcikge1xuICAgIHJldHVybiAocS55IC0gcC55KSAqIChyLnggLSBxLngpIC0gKHEueCAtIHAueCkgKiAoci55IC0gcS55KTtcbn1cblxuLy8gY2hlY2sgaWYgdHdvIHBvaW50cyBhcmUgZXF1YWxcbmZ1bmN0aW9uIGVxdWFscyhwMSwgcDIpIHtcbiAgICByZXR1cm4gcDEueCA9PT0gcDIueCAmJiBwMS55ID09PSBwMi55O1xufVxuXG4vLyBjaGVjayBpZiB0d28gc2VnbWVudHMgaW50ZXJzZWN0XG5mdW5jdGlvbiBpbnRlcnNlY3RzKHAxLCBxMSwgcDIsIHEyKSB7XG4gICAgdmFyIG8xID0gc2lnbihhcmVhKHAxLCBxMSwgcDIpKTtcbiAgICB2YXIgbzIgPSBzaWduKGFyZWEocDEsIHExLCBxMikpO1xuICAgIHZhciBvMyA9IHNpZ24oYXJlYShwMiwgcTIsIHAxKSk7XG4gICAgdmFyIG80ID0gc2lnbihhcmVhKHAyLCBxMiwgcTEpKTtcblxuICAgIGlmIChvMSAhPT0gbzIgJiYgbzMgIT09IG80KSByZXR1cm4gdHJ1ZTsgLy8gZ2VuZXJhbCBjYXNlXG5cbiAgICBpZiAobzEgPT09IDAgJiYgb25TZWdtZW50KHAxLCBwMiwgcTEpKSByZXR1cm4gdHJ1ZTsgLy8gcDEsIHExIGFuZCBwMiBhcmUgY29sbGluZWFyIGFuZCBwMiBsaWVzIG9uIHAxcTFcbiAgICBpZiAobzIgPT09IDAgJiYgb25TZWdtZW50KHAxLCBxMiwgcTEpKSByZXR1cm4gdHJ1ZTsgLy8gcDEsIHExIGFuZCBxMiBhcmUgY29sbGluZWFyIGFuZCBxMiBsaWVzIG9uIHAxcTFcbiAgICBpZiAobzMgPT09IDAgJiYgb25TZWdtZW50KHAyLCBwMSwgcTIpKSByZXR1cm4gdHJ1ZTsgLy8gcDIsIHEyIGFuZCBwMSBhcmUgY29sbGluZWFyIGFuZCBwMSBsaWVzIG9uIHAycTJcbiAgICBpZiAobzQgPT09IDAgJiYgb25TZWdtZW50KHAyLCBxMSwgcTIpKSByZXR1cm4gdHJ1ZTsgLy8gcDIsIHEyIGFuZCBxMSBhcmUgY29sbGluZWFyIGFuZCBxMSBsaWVzIG9uIHAycTJcblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gZm9yIGNvbGxpbmVhciBwb2ludHMgcCwgcSwgciwgY2hlY2sgaWYgcG9pbnQgcSBsaWVzIG9uIHNlZ21lbnQgcHJcbmZ1bmN0aW9uIG9uU2VnbWVudChwLCBxLCByKSB7XG4gICAgcmV0dXJuIHEueCA8PSBNYXRoLm1heChwLngsIHIueCkgJiYgcS54ID49IE1hdGgubWluKHAueCwgci54KSAmJiBxLnkgPD0gTWF0aC5tYXgocC55LCByLnkpICYmIHEueSA+PSBNYXRoLm1pbihwLnksIHIueSk7XG59XG5cbmZ1bmN0aW9uIHNpZ24obnVtKSB7XG4gICAgcmV0dXJuIG51bSA+IDAgPyAxIDogbnVtIDwgMCA/IC0xIDogMDtcbn1cblxuLy8gY2hlY2sgaWYgYSBwb2x5Z29uIGRpYWdvbmFsIGludGVyc2VjdHMgYW55IHBvbHlnb24gc2VnbWVudHNcbmZ1bmN0aW9uIGludGVyc2VjdHNQb2x5Z29uKGEsIGIpIHtcbiAgICB2YXIgcCA9IGE7XG4gICAgZG8ge1xuICAgICAgICBpZiAocC5pICE9PSBhLmkgJiYgcC5uZXh0LmkgIT09IGEuaSAmJiBwLmkgIT09IGIuaSAmJiBwLm5leHQuaSAhPT0gYi5pICYmXG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0cyhwLCBwLm5leHQsIGEsIGIpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBhKTtcblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gY2hlY2sgaWYgYSBwb2x5Z29uIGRpYWdvbmFsIGlzIGxvY2FsbHkgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBsb2NhbGx5SW5zaWRlKGEsIGIpIHtcbiAgICByZXR1cm4gYXJlYShhLnByZXYsIGEsIGEubmV4dCkgPCAwID9cbiAgICAgICAgYXJlYShhLCBiLCBhLm5leHQpID49IDAgJiYgYXJlYShhLCBhLnByZXYsIGIpID49IDAgOlxuICAgICAgICBhcmVhKGEsIGIsIGEucHJldikgPCAwIHx8IGFyZWEoYSwgYS5uZXh0LCBiKSA8IDA7XG59XG5cbi8vIGNoZWNrIGlmIHRoZSBtaWRkbGUgcG9pbnQgb2YgYSBwb2x5Z29uIGRpYWdvbmFsIGlzIGluc2lkZSB0aGUgcG9seWdvblxuZnVuY3Rpb24gbWlkZGxlSW5zaWRlKGEsIGIpIHtcbiAgICB2YXIgcCA9IGEsXG4gICAgICAgIGluc2lkZSA9IGZhbHNlLFxuICAgICAgICBweCA9IChhLnggKyBiLngpIC8gMixcbiAgICAgICAgcHkgPSAoYS55ICsgYi55KSAvIDI7XG4gICAgZG8ge1xuICAgICAgICBpZiAoKChwLnkgPiBweSkgIT09IChwLm5leHQueSA+IHB5KSkgJiYgcC5uZXh0LnkgIT09IHAueSAmJlxuICAgICAgICAgICAgICAgIChweCA8IChwLm5leHQueCAtIHAueCkgKiAocHkgLSBwLnkpIC8gKHAubmV4dC55IC0gcC55KSArIHAueCkpXG4gICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGluc2lkZTtcbn1cblxuLy8gbGluayB0d28gcG9seWdvbiB2ZXJ0aWNlcyB3aXRoIGEgYnJpZGdlOyBpZiB0aGUgdmVydGljZXMgYmVsb25nIHRvIHRoZSBzYW1lIHJpbmcsIGl0IHNwbGl0cyBwb2x5Z29uIGludG8gdHdvO1xuLy8gaWYgb25lIGJlbG9uZ3MgdG8gdGhlIG91dGVyIHJpbmcgYW5kIGFub3RoZXIgdG8gYSBob2xlLCBpdCBtZXJnZXMgaXQgaW50byBhIHNpbmdsZSByaW5nXG5mdW5jdGlvbiBzcGxpdFBvbHlnb24oYSwgYikge1xuICAgIHZhciBhMiA9IG5ldyBOb2RlKGEuaSwgYS54LCBhLnkpLFxuICAgICAgICBiMiA9IG5ldyBOb2RlKGIuaSwgYi54LCBiLnkpLFxuICAgICAgICBhbiA9IGEubmV4dCxcbiAgICAgICAgYnAgPSBiLnByZXY7XG5cbiAgICBhLm5leHQgPSBiO1xuICAgIGIucHJldiA9IGE7XG5cbiAgICBhMi5uZXh0ID0gYW47XG4gICAgYW4ucHJldiA9IGEyO1xuXG4gICAgYjIubmV4dCA9IGEyO1xuICAgIGEyLnByZXYgPSBiMjtcblxuICAgIGJwLm5leHQgPSBiMjtcbiAgICBiMi5wcmV2ID0gYnA7XG5cbiAgICByZXR1cm4gYjI7XG59XG5cbi8vIGNyZWF0ZSBhIG5vZGUgYW5kIG9wdGlvbmFsbHkgbGluayBpdCB3aXRoIHByZXZpb3VzIG9uZSAoaW4gYSBjaXJjdWxhciBkb3VibHkgbGlua2VkIGxpc3QpXG5mdW5jdGlvbiBpbnNlcnROb2RlKGksIHgsIHksIGxhc3QpIHtcbiAgICB2YXIgcCA9IG5ldyBOb2RlKGksIHgsIHkpO1xuXG4gICAgaWYgKCFsYXN0KSB7XG4gICAgICAgIHAucHJldiA9IHA7XG4gICAgICAgIHAubmV4dCA9IHA7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBwLm5leHQgPSBsYXN0Lm5leHQ7XG4gICAgICAgIHAucHJldiA9IGxhc3Q7XG4gICAgICAgIGxhc3QubmV4dC5wcmV2ID0gcDtcbiAgICAgICAgbGFzdC5uZXh0ID0gcDtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZU5vZGUocCkge1xuICAgIHAubmV4dC5wcmV2ID0gcC5wcmV2O1xuICAgIHAucHJldi5uZXh0ID0gcC5uZXh0O1xuXG4gICAgaWYgKHAucHJldlopIHAucHJldloubmV4dFogPSBwLm5leHRaO1xuICAgIGlmIChwLm5leHRaKSBwLm5leHRaLnByZXZaID0gcC5wcmV2Wjtcbn1cblxuZnVuY3Rpb24gTm9kZShpLCB4LCB5KSB7XG4gICAgLy8gdmVydGV4IGluZGV4IGluIGNvb3JkaW5hdGVzIGFycmF5XG4gICAgdGhpcy5pID0gaTtcblxuICAgIC8vIHZlcnRleCBjb29yZGluYXRlc1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcblxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IHZlcnRleCBub2RlcyBpbiBhIHBvbHlnb24gcmluZ1xuICAgIHRoaXMucHJldiA9IG51bGw7XG4gICAgdGhpcy5uZXh0ID0gbnVsbDtcblxuICAgIC8vIHotb3JkZXIgY3VydmUgdmFsdWVcbiAgICB0aGlzLnogPSBudWxsO1xuXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgbm9kZXMgaW4gei1vcmRlclxuICAgIHRoaXMucHJldlogPSBudWxsO1xuICAgIHRoaXMubmV4dFogPSBudWxsO1xuXG4gICAgLy8gaW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBpcyBhIHN0ZWluZXIgcG9pbnRcbiAgICB0aGlzLnN0ZWluZXIgPSBmYWxzZTtcbn1cblxuLy8gcmV0dXJuIGEgcGVyY2VudGFnZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHBvbHlnb24gYXJlYSBhbmQgaXRzIHRyaWFuZ3VsYXRpb24gYXJlYTtcbi8vIHVzZWQgdG8gdmVyaWZ5IGNvcnJlY3RuZXNzIG9mIHRyaWFuZ3VsYXRpb25cbmVhcmN1dC5kZXZpYXRpb24gPSBmdW5jdGlvbiAoZGF0YSwgaG9sZUluZGljZXMsIGRpbSwgdHJpYW5nbGVzKSB7XG4gICAgdmFyIGhhc0hvbGVzID0gaG9sZUluZGljZXMgJiYgaG9sZUluZGljZXMubGVuZ3RoO1xuICAgIHZhciBvdXRlckxlbiA9IGhhc0hvbGVzID8gaG9sZUluZGljZXNbMF0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcblxuICAgIHZhciBwb2x5Z29uQXJlYSA9IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSkpO1xuICAgIGlmIChoYXNIb2xlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaG9sZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xuICAgICAgICAgICAgdmFyIGVuZCA9IGkgPCBsZW4gLSAxID8gaG9sZUluZGljZXNbaSArIDFdICogZGltIDogZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICBwb2x5Z29uQXJlYSAtPSBNYXRoLmFicyhzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHRyaWFuZ2xlc0FyZWEgPSAwO1xuICAgIGZvciAoaSA9IDA7IGkgPCB0cmlhbmdsZXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgdmFyIGEgPSB0cmlhbmdsZXNbaV0gKiBkaW07XG4gICAgICAgIHZhciBiID0gdHJpYW5nbGVzW2kgKyAxXSAqIGRpbTtcbiAgICAgICAgdmFyIGMgPSB0cmlhbmdsZXNbaSArIDJdICogZGltO1xuICAgICAgICB0cmlhbmdsZXNBcmVhICs9IE1hdGguYWJzKFxuICAgICAgICAgICAgKGRhdGFbYV0gLSBkYXRhW2NdKSAqIChkYXRhW2IgKyAxXSAtIGRhdGFbYSArIDFdKSAtXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbYl0pICogKGRhdGFbYyArIDFdIC0gZGF0YVthICsgMV0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9seWdvbkFyZWEgPT09IDAgJiYgdHJpYW5nbGVzQXJlYSA9PT0gMCA/IDAgOlxuICAgICAgICBNYXRoLmFicygodHJpYW5nbGVzQXJlYSAtIHBvbHlnb25BcmVhKSAvIHBvbHlnb25BcmVhKTtcbn07XG5cbmZ1bmN0aW9uIHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSB7XG4gICAgdmFyIHN1bSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0LCBqID0gZW5kIC0gZGltOyBpIDwgZW5kOyBpICs9IGRpbSkge1xuICAgICAgICBzdW0gKz0gKGRhdGFbal0gLSBkYXRhW2ldKSAqIChkYXRhW2kgKyAxXSArIGRhdGFbaiArIDFdKTtcbiAgICAgICAgaiA9IGk7XG4gICAgfVxuICAgIHJldHVybiBzdW07XG59XG5cbi8vIHR1cm4gYSBwb2x5Z29uIGluIGEgbXVsdGktZGltZW5zaW9uYWwgYXJyYXkgZm9ybSAoZS5nLiBhcyBpbiBHZW9KU09OKSBpbnRvIGEgZm9ybSBFYXJjdXQgYWNjZXB0c1xuZWFyY3V0LmZsYXR0ZW4gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgIHZhciBkaW0gPSBkYXRhWzBdWzBdLmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0ge3ZlcnRpY2VzOiBbXSwgaG9sZXM6IFtdLCBkaW1lbnNpb25zOiBkaW19LFxuICAgICAgICBob2xlSW5kZXggPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YVtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCBkaW07IGQrKykgcmVzdWx0LnZlcnRpY2VzLnB1c2goZGF0YVtpXVtqXVtkXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICBob2xlSW5kZXggKz0gZGF0YVtpIC0gMV0ubGVuZ3RoO1xuICAgICAgICAgICAgcmVzdWx0LmhvbGVzLnB1c2goaG9sZUluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbiIsIihmdW5jdGlvbihnbG9iYWwpe1xuXG4vL1xuLy8gQ2hlY2sgZm9yIG5hdGl2ZSBQcm9taXNlIGFuZCBpdCBoYXMgY29ycmVjdCBpbnRlcmZhY2Vcbi8vXG5cbnZhciBOYXRpdmVQcm9taXNlID0gZ2xvYmFsWydQcm9taXNlJ107XG52YXIgbmF0aXZlUHJvbWlzZVN1cHBvcnRlZCA9XG4gIE5hdGl2ZVByb21pc2UgJiZcbiAgLy8gU29tZSBvZiB0aGVzZSBtZXRob2RzIGFyZSBtaXNzaW5nIGZyb21cbiAgLy8gRmlyZWZveC9DaHJvbWUgZXhwZXJpbWVudGFsIGltcGxlbWVudGF0aW9uc1xuICAncmVzb2x2ZScgaW4gTmF0aXZlUHJvbWlzZSAmJlxuICAncmVqZWN0JyBpbiBOYXRpdmVQcm9taXNlICYmXG4gICdhbGwnIGluIE5hdGl2ZVByb21pc2UgJiZcbiAgJ3JhY2UnIGluIE5hdGl2ZVByb21pc2UgJiZcbiAgLy8gT2xkZXIgdmVyc2lvbiBvZiB0aGUgc3BlYyBoYWQgYSByZXNvbHZlciBvYmplY3RcbiAgLy8gYXMgdGhlIGFyZyByYXRoZXIgdGhhbiBhIGZ1bmN0aW9uXG4gIChmdW5jdGlvbigpe1xuICAgIHZhciByZXNvbHZlO1xuICAgIG5ldyBOYXRpdmVQcm9taXNlKGZ1bmN0aW9uKHIpeyByZXNvbHZlID0gcjsgfSk7XG4gICAgcmV0dXJuIHR5cGVvZiByZXNvbHZlID09PSAnZnVuY3Rpb24nO1xuICB9KSgpO1xuXG5cbi8vXG4vLyBleHBvcnQgaWYgbmVjZXNzYXJ5XG4vL1xuXG5pZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnICYmIGV4cG9ydHMpXG57XG4gIC8vIG5vZGUuanNcbiAgZXhwb3J0cy5Qcm9taXNlID0gbmF0aXZlUHJvbWlzZVN1cHBvcnRlZCA/IE5hdGl2ZVByb21pc2UgOiBQcm9taXNlO1xuICBleHBvcnRzLlBvbHlmaWxsID0gUHJvbWlzZTtcbn1cbmVsc2VcbntcbiAgLy8gQU1EXG4gIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcbiAge1xuICAgIGRlZmluZShmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIG5hdGl2ZVByb21pc2VTdXBwb3J0ZWQgPyBOYXRpdmVQcm9taXNlIDogUHJvbWlzZTtcbiAgICB9KTtcbiAgfVxuICBlbHNlXG4gIHtcbiAgICAvLyBpbiBicm93c2VyIGFkZCB0byBnbG9iYWxcbiAgICBpZiAoIW5hdGl2ZVByb21pc2VTdXBwb3J0ZWQpXG4gICAgICBnbG9iYWxbJ1Byb21pc2UnXSA9IFByb21pc2U7XG4gIH1cbn1cblxuXG4vL1xuLy8gUG9seWZpbGxcbi8vXG5cbnZhciBQRU5ESU5HID0gJ3BlbmRpbmcnO1xudmFyIFNFQUxFRCA9ICdzZWFsZWQnO1xudmFyIEZVTEZJTExFRCA9ICdmdWxmaWxsZWQnO1xudmFyIFJFSkVDVEVEID0gJ3JlamVjdGVkJztcbnZhciBOT09QID0gZnVuY3Rpb24oKXt9O1xuXG5mdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vLyBhc3luYyBjYWxsc1xudmFyIGFzeW5jU2V0VGltZXIgPSB0eXBlb2Ygc2V0SW1tZWRpYXRlICE9PSAndW5kZWZpbmVkJyA/IHNldEltbWVkaWF0ZSA6IHNldFRpbWVvdXQ7XG52YXIgYXN5bmNRdWV1ZSA9IFtdO1xudmFyIGFzeW5jVGltZXI7XG5cbmZ1bmN0aW9uIGFzeW5jRmx1c2goKXtcbiAgLy8gcnVuIHByb21pc2UgY2FsbGJhY2tzXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXN5bmNRdWV1ZS5sZW5ndGg7IGkrKylcbiAgICBhc3luY1F1ZXVlW2ldWzBdKGFzeW5jUXVldWVbaV1bMV0pO1xuXG4gIC8vIHJlc2V0IGFzeW5jIGFzeW5jUXVldWVcbiAgYXN5bmNRdWV1ZSA9IFtdO1xuICBhc3luY1RpbWVyID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGFzeW5jQ2FsbChjYWxsYmFjaywgYXJnKXtcbiAgYXN5bmNRdWV1ZS5wdXNoKFtjYWxsYmFjaywgYXJnXSk7XG5cbiAgaWYgKCFhc3luY1RpbWVyKVxuICB7XG4gICAgYXN5bmNUaW1lciA9IHRydWU7XG4gICAgYXN5bmNTZXRUaW1lcihhc3luY0ZsdXNoLCAwKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGludm9rZVJlc29sdmVyKHJlc29sdmVyLCBwcm9taXNlKSB7XG4gIGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHZhbHVlKSB7XG4gICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWplY3RQcm9taXNlKHJlYXNvbikge1xuICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICByZXNvbHZlcihyZXNvbHZlUHJvbWlzZSwgcmVqZWN0UHJvbWlzZSk7XG4gIH0gY2F0Y2goZSkge1xuICAgIHJlamVjdFByb21pc2UoZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW52b2tlQ2FsbGJhY2soc3Vic2NyaWJlcil7XG4gIHZhciBvd25lciA9IHN1YnNjcmliZXIub3duZXI7XG4gIHZhciBzZXR0bGVkID0gb3duZXIuc3RhdGVfO1xuICB2YXIgdmFsdWUgPSBvd25lci5kYXRhXzsgIFxuICB2YXIgY2FsbGJhY2sgPSBzdWJzY3JpYmVyW3NldHRsZWRdO1xuICB2YXIgcHJvbWlzZSA9IHN1YnNjcmliZXIudGhlbjtcblxuICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKVxuICB7XG4gICAgc2V0dGxlZCA9IEZVTEZJTExFRDtcbiAgICB0cnkge1xuICAgICAgdmFsdWUgPSBjYWxsYmFjayh2YWx1ZSk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgZSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkpXG4gIHtcbiAgICBpZiAoc2V0dGxlZCA9PT0gRlVMRklMTEVEKVxuICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG5cbiAgICBpZiAoc2V0dGxlZCA9PT0gUkVKRUNURUQpXG4gICAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlKSB7XG4gIHZhciByZXNvbHZlZDtcblxuICB0cnkge1xuICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSlcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcblxuICAgIGlmICh2YWx1ZSAmJiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpKVxuICAgIHtcbiAgICAgIHZhciB0aGVuID0gdmFsdWUudGhlbjsgIC8vIHRoZW4gc2hvdWxkIGJlIHJldHJpdmVkIG9ubHkgb25jZVxuXG4gICAgICBpZiAodHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpXG4gICAgICB7XG4gICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgZnVuY3Rpb24odmFsKXtcbiAgICAgICAgICBpZiAoIXJlc29sdmVkKVxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB2YWwpXG4gICAgICAgICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgZnVsZmlsbChwcm9taXNlLCB2YWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgICBpZiAoIXJlc29sdmVkKVxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoIXJlc29sdmVkKVxuICAgICAgcmVqZWN0KHByb21pc2UsIGUpO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpe1xuICBpZiAocHJvbWlzZSA9PT0gdmFsdWUgfHwgIWhhbmRsZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlKSlcbiAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gZnVsZmlsbChwcm9taXNlLCB2YWx1ZSl7XG4gIGlmIChwcm9taXNlLnN0YXRlXyA9PT0gUEVORElORylcbiAge1xuICAgIHByb21pc2Uuc3RhdGVfID0gU0VBTEVEO1xuICAgIHByb21pc2UuZGF0YV8gPSB2YWx1ZTtcblxuICAgIGFzeW5jQ2FsbChwdWJsaXNoRnVsZmlsbG1lbnQsIHByb21pc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlamVjdChwcm9taXNlLCByZWFzb24pe1xuICBpZiAocHJvbWlzZS5zdGF0ZV8gPT09IFBFTkRJTkcpXG4gIHtcbiAgICBwcm9taXNlLnN0YXRlXyA9IFNFQUxFRDtcbiAgICBwcm9taXNlLmRhdGFfID0gcmVhc29uO1xuXG4gICAgYXN5bmNDYWxsKHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2gocHJvbWlzZSkge1xuICB2YXIgY2FsbGJhY2tzID0gcHJvbWlzZS50aGVuXztcbiAgcHJvbWlzZS50aGVuXyA9IHVuZGVmaW5lZDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuICAgIGludm9rZUNhbGxiYWNrKGNhbGxiYWNrc1tpXSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaEZ1bGZpbGxtZW50KHByb21pc2Upe1xuICBwcm9taXNlLnN0YXRlXyA9IEZVTEZJTExFRDtcbiAgcHVibGlzaChwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaFJlamVjdGlvbihwcm9taXNlKXtcbiAgcHJvbWlzZS5zdGF0ZV8gPSBSRUpFQ1RFRDtcbiAgcHVibGlzaChwcm9taXNlKTtcbn1cblxuLyoqXG4qIEBjbGFzc1xuKi9cbmZ1bmN0aW9uIFByb21pc2UocmVzb2x2ZXIpe1xuICBpZiAodHlwZW9mIHJlc29sdmVyICE9PSAnZnVuY3Rpb24nKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb21pc2UgY29uc3RydWN0b3IgdGFrZXMgYSBmdW5jdGlvbiBhcmd1bWVudCcpO1xuXG4gIGlmICh0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSA9PT0gZmFsc2UpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmFpbGVkIHRvIGNvbnN0cnVjdCBcXCdQcm9taXNlXFwnOiBQbGVhc2UgdXNlIHRoZSBcXCduZXdcXCcgb3BlcmF0b3IsIHRoaXMgb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4nKTtcblxuICB0aGlzLnRoZW5fID0gW107XG5cbiAgaW52b2tlUmVzb2x2ZXIocmVzb2x2ZXIsIHRoaXMpO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFByb21pc2UsXG5cbiAgc3RhdGVfOiBQRU5ESU5HLFxuICB0aGVuXzogbnVsbCxcbiAgZGF0YV86IHVuZGVmaW5lZCxcblxuICB0aGVuOiBmdW5jdGlvbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbil7XG4gICAgdmFyIHN1YnNjcmliZXIgPSB7XG4gICAgICBvd25lcjogdGhpcyxcbiAgICAgIHRoZW46IG5ldyB0aGlzLmNvbnN0cnVjdG9yKE5PT1ApLFxuICAgICAgZnVsZmlsbGVkOiBvbkZ1bGZpbGxtZW50LFxuICAgICAgcmVqZWN0ZWQ6IG9uUmVqZWN0aW9uXG4gICAgfTtcblxuICAgIGlmICh0aGlzLnN0YXRlXyA9PT0gRlVMRklMTEVEIHx8IHRoaXMuc3RhdGVfID09PSBSRUpFQ1RFRClcbiAgICB7XG4gICAgICAvLyBhbHJlYWR5IHJlc29sdmVkLCBjYWxsIGNhbGxiYWNrIGFzeW5jXG4gICAgICBhc3luY0NhbGwoaW52b2tlQ2FsbGJhY2ssIHN1YnNjcmliZXIpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgLy8gc3Vic2NyaWJlXG4gICAgICB0aGlzLnRoZW5fLnB1c2goc3Vic2NyaWJlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN1YnNjcmliZXIudGhlbjtcbiAgfSxcblxuICAnY2F0Y2gnOiBmdW5jdGlvbihvblJlamVjdGlvbikge1xuICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3Rpb24pO1xuICB9XG59O1xuXG5Qcm9taXNlLmFsbCA9IGZ1bmN0aW9uKHByb21pc2VzKXtcbiAgdmFyIENsYXNzID0gdGhpcztcblxuICBpZiAoIWlzQXJyYXkocHJvbWlzZXMpKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gUHJvbWlzZS5hbGwoKS4nKTtcblxuICByZXR1cm4gbmV3IENsYXNzKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICB2YXIgcmVtYWluaW5nID0gMDtcblxuICAgIGZ1bmN0aW9uIHJlc29sdmVyKGluZGV4KXtcbiAgICAgIHJlbWFpbmluZysrO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgcmVzdWx0c1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgaWYgKCEtLXJlbWFpbmluZylcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMCwgcHJvbWlzZTsgaSA8IHByb21pc2VzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlc1tpXTtcblxuICAgICAgaWYgKHByb21pc2UgJiYgdHlwZW9mIHByb21pc2UudGhlbiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcHJvbWlzZS50aGVuKHJlc29sdmVyKGkpLCByZWplY3QpO1xuICAgICAgZWxzZVxuICAgICAgICByZXN1bHRzW2ldID0gcHJvbWlzZTtcbiAgICB9XG5cbiAgICBpZiAoIXJlbWFpbmluZylcbiAgICAgIHJlc29sdmUocmVzdWx0cyk7XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yYWNlID0gZnVuY3Rpb24ocHJvbWlzZXMpe1xuICB2YXIgQ2xhc3MgPSB0aGlzO1xuXG4gIGlmICghaXNBcnJheShwcm9taXNlcykpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byBQcm9taXNlLnJhY2UoKS4nKTtcblxuICByZXR1cm4gbmV3IENsYXNzKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBwcm9taXNlOyBpIDwgcHJvbWlzZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2VzW2ldO1xuXG4gICAgICBpZiAocHJvbWlzZSAmJiB0eXBlb2YgcHJvbWlzZS50aGVuID09PSAnZnVuY3Rpb24nKVxuICAgICAgICBwcm9taXNlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmVzb2x2ZShwcm9taXNlKTtcbiAgICB9XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yZXNvbHZlID0gZnVuY3Rpb24odmFsdWUpe1xuICB2YXIgQ2xhc3MgPSB0aGlzO1xuXG4gIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBDbGFzcylcbiAgICByZXR1cm4gdmFsdWU7XG5cbiAgcmV0dXJuIG5ldyBDbGFzcyhmdW5jdGlvbihyZXNvbHZlKXtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJlamVjdCA9IGZ1bmN0aW9uKHJlYXNvbil7XG4gIHZhciBDbGFzcyA9IHRoaXM7XG5cbiAgcmV0dXJuIG5ldyBDbGFzcyhmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG5cbn0pKHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcyk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG4gICwgcHJlZml4ID0gJ34nO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIHRvIGNyZWF0ZSBhIHN0b3JhZ2UgZm9yIG91ciBgRUVgIG9iamVjdHMuXG4gKiBBbiBgRXZlbnRzYCBpbnN0YW5jZSBpcyBhIHBsYWluIG9iamVjdCB3aG9zZSBwcm9wZXJ0aWVzIGFyZSBldmVudCBuYW1lcy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEV2ZW50cygpIHt9XG5cbi8vXG4vLyBXZSB0cnkgdG8gbm90IGluaGVyaXQgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAuIEluIHNvbWUgZW5naW5lcyBjcmVhdGluZyBhblxuLy8gaW5zdGFuY2UgaW4gdGhpcyB3YXkgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBgT2JqZWN0LmNyZWF0ZShudWxsKWAgZGlyZWN0bHkuXG4vLyBJZiBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaXMgbm90IHN1cHBvcnRlZCB3ZSBwcmVmaXggdGhlIGV2ZW50IG5hbWVzIHdpdGggYVxuLy8gY2hhcmFjdGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBidWlsdC1pbiBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90XG4vLyBvdmVycmlkZGVuIG9yIHVzZWQgYXMgYW4gYXR0YWNrIHZlY3Rvci5cbi8vXG5pZiAoT2JqZWN0LmNyZWF0ZSkge1xuICBFdmVudHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvL1xuICAvLyBUaGlzIGhhY2sgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGBfX3Byb3RvX19gIHByb3BlcnR5IGlzIHN0aWxsIGluaGVyaXRlZCBpblxuICAvLyBzb21lIG9sZCBicm93c2VycyBsaWtlIEFuZHJvaWQgNCwgaVBob25lIDUuMSwgT3BlcmEgMTEgYW5kIFNhZmFyaSA1LlxuICAvL1xuICBpZiAoIW5ldyBFdmVudHMoKS5fX3Byb3RvX18pIHByZWZpeCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlPWZhbHNlXSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFRShmbiwgY29udGV4dCwgb25jZSkge1xuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMub25jZSA9IG9uY2UgfHwgZmFsc2U7XG59XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcihlbWl0dGVyLCBldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCBlbWl0dGVyLCBvbmNlKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdKSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyLCBlbWl0dGVyLl9ldmVudHNDb3VudCsrO1xuICBlbHNlIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0uZm4pIGVtaXR0ZXIuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gW2VtaXR0ZXIuX2V2ZW50c1tldnRdLCBsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIGVtaXR0ZXI7XG59XG5cbi8qKlxuICogQ2xlYXIgZXZlbnQgYnkgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2dCBUaGUgRXZlbnQgbmFtZS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNsZWFyRXZlbnQoZW1pdHRlciwgZXZ0KSB7XG4gIGlmICgtLWVtaXR0ZXIuX2V2ZW50c0NvdW50ID09PSAwKSBlbWl0dGVyLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIGVsc2UgZGVsZXRlIGVtaXR0ZXIuX2V2ZW50c1tldnRdO1xufVxuXG4vKipcbiAqIE1pbmltYWwgYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlIHRoYXQgaXMgbW9sZGVkIGFnYWluc3QgdGhlIE5vZGUuanNcbiAqIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgbGlzdGluZyB0aGUgZXZlbnRzIGZvciB3aGljaCB0aGUgZW1pdHRlciBoYXMgcmVnaXN0ZXJlZFxuICogbGlzdGVuZXJzLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgdmFyIG5hbWVzID0gW11cbiAgICAsIGV2ZW50c1xuICAgICwgbmFtZTtcblxuICBpZiAodGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHJldHVybiBuYW1lcztcblxuICBmb3IgKG5hbWUgaW4gKGV2ZW50cyA9IHRoaXMuX2V2ZW50cykpIHtcbiAgICBpZiAoaGFzLmNhbGwoZXZlbnRzLCBuYW1lKSkgbmFtZXMucHVzaChwcmVmaXggPyBuYW1lLnNsaWNlKDEpIDogbmFtZSk7XG4gIH1cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHJldHVybiBuYW1lcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhldmVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBuYW1lcztcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFRoZSByZWdpc3RlcmVkIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGhhbmRsZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFoYW5kbGVycykgcmV0dXJuIFtdO1xuICBpZiAoaGFuZGxlcnMuZm4pIHJldHVybiBbaGFuZGxlcnMuZm5dO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gaGFuZGxlcnMubGVuZ3RoLCBlZSA9IG5ldyBBcnJheShsKTsgaSA8IGw7IGkrKykge1xuICAgIGVlW2ldID0gaGFuZGxlcnNbaV0uZm47XG4gIH1cblxuICByZXR1cm4gZWU7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbnVtYmVyIG9mIGxpc3RlbmVycyBsaXN0ZW5pbmcgdG8gYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24gbGlzdGVuZXJDb3VudChldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybiAwO1xuICBpZiAobGlzdGVuZXJzLmZuKSByZXR1cm4gMTtcbiAgcmV0dXJuIGxpc3RlbmVycy5sZW5ndGg7XG59O1xuXG4vKipcbiAqIENhbGxzIGVhY2ggb2YgdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhZCBsaXN0ZW5lcnMsIGVsc2UgYGZhbHNlYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdChldmVudCwgYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiBmYWxzZTtcblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF1cbiAgICAsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGFyZ3NcbiAgICAsIGk7XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChsaXN0ZW5lcnMub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgc3dpdGNoIChsZW4pIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSksIHRydWU7XG4gICAgICBjYXNlIDM6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCksIHRydWU7XG4gICAgICBjYXNlIDY6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQsIGE1KSwgdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGkgPCBsZW47IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZuLmFwcGx5KGxpc3RlbmVycy5jb250ZXh0LCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aFxuICAgICAgLCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdGVuZXJzW2ldLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tpXS5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgc3dpdGNoIChsZW4pIHtcbiAgICAgICAgY2FzZSAxOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCk7IGJyZWFrO1xuICAgICAgICBjYXNlIDI6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSk7IGJyZWFrO1xuICAgICAgICBjYXNlIDM6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIpOyBicmVhaztcbiAgICAgICAgY2FzZSA0OiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyLCBhMyk7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICghYXJncykgZm9yIChqID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbi5hcHBseShsaXN0ZW5lcnNbaV0uY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24oZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIGZhbHNlKTtcbn07XG5cbi8qKlxuICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIHRydWUpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGxpc3RlbmVycyBvZiBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBtYXRjaCB0aGlzIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBoYXZlIHRoaXMgY29udGV4dC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBPbmx5IHJlbW92ZSBvbmUtdGltZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIHRoaXM7XG4gIGlmICghZm4pIHtcbiAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChcbiAgICAgIGxpc3RlbmVycy5mbiA9PT0gZm4gJiZcbiAgICAgICghb25jZSB8fCBsaXN0ZW5lcnMub25jZSkgJiZcbiAgICAgICghY29udGV4dCB8fCBsaXN0ZW5lcnMuY29udGV4dCA9PT0gY29udGV4dClcbiAgICApIHtcbiAgICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGV2ZW50cyA9IFtdLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChcbiAgICAgICAgbGlzdGVuZXJzW2ldLmZuICE9PSBmbiB8fFxuICAgICAgICAob25jZSAmJiAhbGlzdGVuZXJzW2ldLm9uY2UpIHx8XG4gICAgICAgIChjb250ZXh0ICYmIGxpc3RlbmVyc1tpXS5jb250ZXh0ICE9PSBjb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBSZXNldCB0aGUgYXJyYXksIG9yIHJlbW92ZSBpdCBjb21wbGV0ZWx5IGlmIHdlIGhhdmUgbm8gbW9yZSBsaXN0ZW5lcnMuXG4gICAgLy9cbiAgICBpZiAoZXZlbnRzLmxlbmd0aCkgdGhpcy5fZXZlbnRzW2V2dF0gPSBldmVudHMubGVuZ3RoID09PSAxID8gZXZlbnRzWzBdIDogZXZlbnRzO1xuICAgIGVsc2UgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBbZXZlbnRdIFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0O1xuXG4gIGlmIChldmVudCkge1xuICAgIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG4gICAgaWYgKHRoaXMuX2V2ZW50c1tldnRdKSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEFsaWFzIG1ldGhvZHMgbmFtZXMgYmVjYXVzZSBwZW9wbGUgcm9sbCBsaWtlIHRoYXQuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG5cbi8vXG4vLyBFeHBvc2UgdGhlIHByZWZpeC5cbi8vXG5FdmVudEVtaXR0ZXIucHJlZml4ZWQgPSBwcmVmaXg7XG5cbi8vXG4vLyBBbGxvdyBgRXZlbnRFbWl0dGVyYCB0byBiZSBpbXBvcnRlZCBhcyBtb2R1bGUgbmFtZXNwYWNlLlxuLy9cbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbi8vXG4vLyBFeHBvc2UgdGhlIG1vZHVsZS5cbi8vXG5pZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBtb2R1bGUpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxudmFyIE1pbmlTaWduYWxCaW5kaW5nID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWluaVNpZ25hbEJpbmRpbmcoZm4sIG9uY2UsIHRoaXNBcmcpIHtcbiAgICBpZiAob25jZSA9PT0gdW5kZWZpbmVkKSBvbmNlID0gZmFsc2U7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWluaVNpZ25hbEJpbmRpbmcpO1xuXG4gICAgdGhpcy5fZm4gPSBmbjtcbiAgICB0aGlzLl9vbmNlID0gb25jZTtcbiAgICB0aGlzLl90aGlzQXJnID0gdGhpc0FyZztcbiAgICB0aGlzLl9uZXh0ID0gdGhpcy5fcHJldiA9IHRoaXMuX293bmVyID0gbnVsbDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNaW5pU2lnbmFsQmluZGluZywgW3tcbiAgICBrZXk6ICdkZXRhY2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2goKSB7XG4gICAgICBpZiAodGhpcy5fb3duZXIgPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICAgIHRoaXMuX293bmVyLmRldGFjaCh0aGlzKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNaW5pU2lnbmFsQmluZGluZztcbn0pKCk7XG5cbmZ1bmN0aW9uIF9hZGRNaW5pU2lnbmFsQmluZGluZyhzZWxmLCBub2RlKSB7XG4gIGlmICghc2VsZi5faGVhZCkge1xuICAgIHNlbGYuX2hlYWQgPSBub2RlO1xuICAgIHNlbGYuX3RhaWwgPSBub2RlO1xuICB9IGVsc2Uge1xuICAgIHNlbGYuX3RhaWwuX25leHQgPSBub2RlO1xuICAgIG5vZGUuX3ByZXYgPSBzZWxmLl90YWlsO1xuICAgIHNlbGYuX3RhaWwgPSBub2RlO1xuICB9XG5cbiAgbm9kZS5fb3duZXIgPSBzZWxmO1xuXG4gIHJldHVybiBub2RlO1xufVxuXG52YXIgTWluaVNpZ25hbCA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1pbmlTaWduYWwoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pbmlTaWduYWwpO1xuXG4gICAgdGhpcy5faGVhZCA9IHRoaXMuX3RhaWwgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWluaVNpZ25hbCwgW3tcbiAgICBrZXk6ICdoYW5kbGVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZXJzKCkge1xuICAgICAgdmFyIGV4aXN0cyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzBdO1xuXG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgIGlmIChleGlzdHMpIHJldHVybiAhIW5vZGU7XG5cbiAgICAgIHZhciBlZSA9IFtdO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBlZS5wdXNoKG5vZGUpO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhcyhub2RlKSB7XG4gICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgTWluaVNpZ25hbEJpbmRpbmcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNoYXMoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBNaW5pU2lnbmFsQmluZGluZyBvYmplY3QuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub2RlLl9vd25lciA9PT0gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkaXNwYXRjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuXG4gICAgICBpZiAoIW5vZGUpIHJldHVybiBmYWxzZTtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUuX29uY2UpIHRoaXMuZGV0YWNoKG5vZGUpO1xuICAgICAgICBub2RlLl9mbi5hcHBseShub2RlLl90aGlzQXJnLCBhcmd1bWVudHMpO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYWRkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKGZuKSB7XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2FkZCgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIEZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9hZGRNaW5pU2lnbmFsQmluZGluZyh0aGlzLCBuZXcgTWluaVNpZ25hbEJpbmRpbmcoZm4sIGZhbHNlLCB0aGlzQXJnKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25jZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uY2UoZm4pIHtcbiAgICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjb25jZSgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIEZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9hZGRNaW5pU2lnbmFsQmluZGluZyh0aGlzLCBuZXcgTWluaVNpZ25hbEJpbmRpbmcoZm4sIHRydWUsIHRoaXNBcmcpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXRhY2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2gobm9kZSkge1xuICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIE1pbmlTaWduYWxCaW5kaW5nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjZGV0YWNoKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgTWluaVNpZ25hbEJpbmRpbmcgb2JqZWN0LicpO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuX293bmVyICE9PSB0aGlzKSByZXR1cm4gdGhpcztcblxuICAgICAgaWYgKG5vZGUuX3ByZXYpIG5vZGUuX3ByZXYuX25leHQgPSBub2RlLl9uZXh0O1xuICAgICAgaWYgKG5vZGUuX25leHQpIG5vZGUuX25leHQuX3ByZXYgPSBub2RlLl9wcmV2O1xuXG4gICAgICBpZiAobm9kZSA9PT0gdGhpcy5faGVhZCkge1xuICAgICAgICB0aGlzLl9oZWFkID0gbm9kZS5fbmV4dDtcbiAgICAgICAgaWYgKG5vZGUuX25leHQgPT09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLl90YWlsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlID09PSB0aGlzLl90YWlsKSB7XG4gICAgICAgIHRoaXMuX3RhaWwgPSBub2RlLl9wcmV2O1xuICAgICAgICB0aGlzLl90YWlsLl9uZXh0ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgbm9kZS5fb3duZXIgPSBudWxsO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGV0YWNoQWxsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoQWxsKCkge1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuICAgICAgaWYgKCFub2RlKSByZXR1cm4gdGhpcztcblxuICAgICAgdGhpcy5faGVhZCA9IHRoaXMuX3RhaWwgPSBudWxsO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBub2RlLl9vd25lciA9IG51bGw7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1pbmlTaWduYWw7XG59KSgpO1xuXG5NaW5pU2lnbmFsLk1pbmlTaWduYWxCaW5kaW5nID0gTWluaVNpZ25hbEJpbmRpbmc7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IE1pbmlTaWduYWw7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbiIsIiFmdW5jdGlvbih0LGkpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWkoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwibmlwcGxlanNcIixbXSxpKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLm5pcHBsZWpzPWkoKTp0Lm5pcHBsZWpzPWkoKX0od2luZG93LGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBpPXt9O2Z1bmN0aW9uIGUobyl7aWYoaVtvXSlyZXR1cm4gaVtvXS5leHBvcnRzO3ZhciBuPWlbb109e2k6byxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W29dLmNhbGwobi5leHBvcnRzLG4sbi5leHBvcnRzLGUpLG4ubD0hMCxuLmV4cG9ydHN9cmV0dXJuIGUubT10LGUuYz1pLGUuZD1mdW5jdGlvbih0LGksbyl7ZS5vKHQsaSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGkse2VudW1lcmFibGU6ITAsZ2V0Om99KX0sZS5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LGUudD1mdW5jdGlvbih0LGkpe2lmKDEmaSYmKHQ9ZSh0KSksOCZpKXJldHVybiB0O2lmKDQmaSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgbz1PYmplY3QuY3JlYXRlKG51bGwpO2lmKGUucihvKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZpJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIG4gaW4gdCllLmQobyxuLGZ1bmN0aW9uKGkpe3JldHVybiB0W2ldfS5iaW5kKG51bGwsbikpO3JldHVybiBvfSxlLm49ZnVuY3Rpb24odCl7dmFyIGk9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIGUuZChpLFwiYVwiLGkpLGl9LGUubz1mdW5jdGlvbih0LGkpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxpKX0sZS5wPVwiXCIsZShlLnM9MCl9KFtmdW5jdGlvbih0LGksZSl7XCJ1c2Ugc3RyaWN0XCI7ZS5yKGkpO3ZhciBvLG49ZnVuY3Rpb24odCxpKXt2YXIgZT1pLngtdC54LG89aS55LXQueTtyZXR1cm4gTWF0aC5zcXJ0KGUqZStvKm8pfSxzPWZ1bmN0aW9uKHQpe3JldHVybiB0KihNYXRoLlBJLzE4MCl9LHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQqKDE4MC9NYXRoLlBJKX0sZD1mdW5jdGlvbih0LGksZSl7Zm9yKHZhciBvLG49aS5zcGxpdCgvWyAsXSsvZykscz0wO3M8bi5sZW5ndGg7cys9MSlvPW5bc10sdC5hZGRFdmVudExpc3RlbmVyP3QuYWRkRXZlbnRMaXN0ZW5lcihvLGUsITEpOnQuYXR0YWNoRXZlbnQmJnQuYXR0YWNoRXZlbnQobyxlKX0sYT1mdW5jdGlvbih0LGksZSl7Zm9yKHZhciBvLG49aS5zcGxpdCgvWyAsXSsvZykscz0wO3M8bi5sZW5ndGg7cys9MSlvPW5bc10sdC5yZW1vdmVFdmVudExpc3RlbmVyP3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLGUpOnQuZGV0YWNoRXZlbnQmJnQuZGV0YWNoRXZlbnQobyxlKX0scD1mdW5jdGlvbih0KXtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLHQudHlwZS5tYXRjaCgvXnRvdWNoLyk/dC5jaGFuZ2VkVG91Y2hlczp0fSxjPWZ1bmN0aW9uKCl7cmV0dXJue3g6dm9pZCAwIT09d2luZG93LnBhZ2VYT2Zmc2V0P3dpbmRvdy5wYWdlWE9mZnNldDooZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGV8fGRvY3VtZW50LmJvZHkpLnNjcm9sbExlZnQseTp2b2lkIDAhPT13aW5kb3cucGFnZVlPZmZzZXQ/d2luZG93LnBhZ2VZT2Zmc2V0Oihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZXx8ZG9jdW1lbnQuYm9keSkuc2Nyb2xsVG9wfX0saD1mdW5jdGlvbih0LGkpe2kudG9wfHxpLnJpZ2h0fHxpLmJvdHRvbXx8aS5sZWZ0Pyh0LnN0eWxlLnRvcD1pLnRvcCx0LnN0eWxlLnJpZ2h0PWkucmlnaHQsdC5zdHlsZS5ib3R0b209aS5ib3R0b20sdC5zdHlsZS5sZWZ0PWkubGVmdCk6KHQuc3R5bGUubGVmdD1pLngrXCJweFwiLHQuc3R5bGUudG9wPWkueStcInB4XCIpfSxsPWZ1bmN0aW9uKHQsaSxlKXt2YXIgbz11KHQpO2Zvcih2YXIgbiBpbiBvKWlmKG8uaGFzT3duUHJvcGVydHkobikpaWYoXCJzdHJpbmdcIj09dHlwZW9mIGkpb1tuXT1pK1wiIFwiK2U7ZWxzZXtmb3IodmFyIHM9XCJcIixyPTAsZD1pLmxlbmd0aDtyPGQ7cis9MSlzKz1pW3JdK1wiIFwiK2UrXCIsIFwiO29bbl09cy5zbGljZSgwLC0yKX1yZXR1cm4gb30sdT1mdW5jdGlvbih0KXt2YXIgaT17fTtpW3RdPVwiXCI7cmV0dXJuW1wid2Via2l0XCIsXCJNb3pcIixcIm9cIl0uZm9yRWFjaChmdW5jdGlvbihlKXtpW2UrdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXT1cIlwifSksaX0sZj1mdW5jdGlvbih0LGkpe2Zvcih2YXIgZSBpbiBpKWkuaGFzT3duUHJvcGVydHkoZSkmJih0W2VdPWlbZV0pO3JldHVybiB0fSx5PWZ1bmN0aW9uKHQsaSl7aWYodC5sZW5ndGgpZm9yKHZhciBlPTAsbz10Lmxlbmd0aDtlPG87ZSs9MSlpKHRbZV0pO2Vsc2UgaSh0KX0sbT0hIShcIm9udG91Y2hzdGFydFwiaW4gd2luZG93KSx2PSEhd2luZG93LlBvaW50ZXJFdmVudCxnPSEhd2luZG93Lk1TUG9pbnRlckV2ZW50LGI9e3N0YXJ0OlwibW91c2Vkb3duXCIsbW92ZTpcIm1vdXNlbW92ZVwiLGVuZDpcIm1vdXNldXBcIn0seD17fTtmdW5jdGlvbiBPKCl7fXY/bz17c3RhcnQ6XCJwb2ludGVyZG93blwiLG1vdmU6XCJwb2ludGVybW92ZVwiLGVuZDpcInBvaW50ZXJ1cCwgcG9pbnRlcmNhbmNlbFwifTpnP289e3N0YXJ0OlwiTVNQb2ludGVyRG93blwiLG1vdmU6XCJNU1BvaW50ZXJNb3ZlXCIsZW5kOlwiTVNQb2ludGVyVXBcIn06bT8obz17c3RhcnQ6XCJ0b3VjaHN0YXJ0XCIsbW92ZTpcInRvdWNobW92ZVwiLGVuZDpcInRvdWNoZW5kLCB0b3VjaGNhbmNlbFwifSx4PWIpOm89YixPLnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGkpe3ZhciBlLG89dC5zcGxpdCgvWyAsXSsvZyk7dGhpcy5faGFuZGxlcnNfPXRoaXMuX2hhbmRsZXJzX3x8e307Zm9yKHZhciBuPTA7bjxvLmxlbmd0aDtuKz0xKWU9b1tuXSx0aGlzLl9oYW5kbGVyc19bZV09dGhpcy5faGFuZGxlcnNfW2VdfHxbXSx0aGlzLl9oYW5kbGVyc19bZV0ucHVzaChpKTtyZXR1cm4gdGhpc30sTy5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRoaXMuX2hhbmRsZXJzXz10aGlzLl9oYW5kbGVyc198fHt9LHZvaWQgMD09PXQ/dGhpcy5faGFuZGxlcnNfPXt9OnZvaWQgMD09PWk/dGhpcy5faGFuZGxlcnNfW3RdPW51bGw6dGhpcy5faGFuZGxlcnNfW3RdJiZ0aGlzLl9oYW5kbGVyc19bdF0uaW5kZXhPZihpKT49MCYmdGhpcy5faGFuZGxlcnNfW3RdLnNwbGljZSh0aGlzLl9oYW5kbGVyc19bdF0uaW5kZXhPZihpKSwxKSx0aGlzfSxPLnByb3RvdHlwZS50cmlnZ2VyPWZ1bmN0aW9uKHQsaSl7dmFyIGUsbz10aGlzLG49dC5zcGxpdCgvWyAsXSsvZyk7by5faGFuZGxlcnNfPW8uX2hhbmRsZXJzX3x8e307Zm9yKHZhciBzPTA7czxuLmxlbmd0aDtzKz0xKWU9bltzXSxvLl9oYW5kbGVyc19bZV0mJm8uX2hhbmRsZXJzX1tlXS5sZW5ndGgmJm8uX2hhbmRsZXJzX1tlXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuY2FsbChvLHt0eXBlOmUsdGFyZ2V0Om99LGkpfSl9LE8ucHJvdG90eXBlLmNvbmZpZz1mdW5jdGlvbih0KXt0aGlzLm9wdGlvbnM9dGhpcy5kZWZhdWx0c3x8e30sdCYmKHRoaXMub3B0aW9ucz1mdW5jdGlvbih0LGkpe3ZhciBlPXt9O2Zvcih2YXIgbyBpbiB0KXQuaGFzT3duUHJvcGVydHkobykmJmkuaGFzT3duUHJvcGVydHkobyk/ZVtvXT1pW29dOnQuaGFzT3duUHJvcGVydHkobykmJihlW29dPXRbb10pO3JldHVybiBlfSh0aGlzLm9wdGlvbnMsdCkpfSxPLnByb3RvdHlwZS5iaW5kRXZ0PWZ1bmN0aW9uKHQsaSl7dmFyIGU9dGhpcztyZXR1cm4gZS5fZG9tSGFuZGxlcnNfPWUuX2RvbUhhbmRsZXJzX3x8e30sZS5fZG9tSGFuZGxlcnNfW2ldPWZ1bmN0aW9uKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZVtcIm9uXCIraV0/ZVtcIm9uXCIraV0uYXBwbHkoZSxhcmd1bWVudHMpOmNvbnNvbGUud2FybignW1dBUk5JTkddIDogTWlzc2luZyBcIm9uJytpKydcIiBoYW5kbGVyLicpfSxkKHQsb1tpXSxlLl9kb21IYW5kbGVyc19baV0pLHhbaV0mJmQodCx4W2ldLGUuX2RvbUhhbmRsZXJzX1tpXSksZX0sTy5wcm90b3R5cGUudW5iaW5kRXZ0PWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRoaXMuX2RvbUhhbmRsZXJzXz10aGlzLl9kb21IYW5kbGVyc198fHt9LGEodCxvW2ldLHRoaXMuX2RvbUhhbmRsZXJzX1tpXSkseFtpXSYmYSh0LHhbaV0sdGhpcy5fZG9tSGFuZGxlcnNfW2ldKSxkZWxldGUgdGhpcy5fZG9tSGFuZGxlcnNfW2ldLHRoaXN9O3ZhciBfPU87ZnVuY3Rpb24gdyh0LGkpe3JldHVybiB0aGlzLmlkZW50aWZpZXI9aS5pZGVudGlmaWVyLHRoaXMucG9zaXRpb249aS5wb3NpdGlvbix0aGlzLmZyb250UG9zaXRpb249aS5mcm9udFBvc2l0aW9uLHRoaXMuY29sbGVjdGlvbj10LHRoaXMuZGVmYXVsdHM9e3NpemU6MTAwLHRocmVzaG9sZDouMSxjb2xvcjpcIndoaXRlXCIsZmFkZVRpbWU6MjUwLGRhdGFPbmx5OiExLHJlc3RKb3lzdGljazohMCxyZXN0T3BhY2l0eTouNSxtb2RlOlwiZHluYW1pY1wiLHpvbmU6ZG9jdW1lbnQuYm9keSxsb2NrWDohMSxsb2NrWTohMSxzaGFwZTpcImNpcmNsZVwifSx0aGlzLmNvbmZpZyhpKSxcImR5bmFtaWNcIj09PXRoaXMub3B0aW9ucy5tb2RlJiYodGhpcy5vcHRpb25zLnJlc3RPcGFjaXR5PTApLHRoaXMuaWQ9dy5pZCx3LmlkKz0xLHRoaXMuYnVpbGRFbCgpLnN0eWxpemUoKSx0aGlzLmluc3RhbmNlPXtlbDp0aGlzLnVpLmVsLG9uOnRoaXMub24uYmluZCh0aGlzKSxvZmY6dGhpcy5vZmYuYmluZCh0aGlzKSxzaG93OnRoaXMuc2hvdy5iaW5kKHRoaXMpLGhpZGU6dGhpcy5oaWRlLmJpbmQodGhpcyksYWRkOnRoaXMuYWRkVG9Eb20uYmluZCh0aGlzKSxyZW1vdmU6dGhpcy5yZW1vdmVGcm9tRG9tLmJpbmQodGhpcyksZGVzdHJveTp0aGlzLmRlc3Ryb3kuYmluZCh0aGlzKSxzZXRQb3NpdGlvbjp0aGlzLnNldFBvc2l0aW9uLmJpbmQodGhpcykscmVzZXREaXJlY3Rpb246dGhpcy5yZXNldERpcmVjdGlvbi5iaW5kKHRoaXMpLGNvbXB1dGVEaXJlY3Rpb246dGhpcy5jb21wdXRlRGlyZWN0aW9uLmJpbmQodGhpcyksdHJpZ2dlcjp0aGlzLnRyaWdnZXIuYmluZCh0aGlzKSxwb3NpdGlvbjp0aGlzLnBvc2l0aW9uLGZyb250UG9zaXRpb246dGhpcy5mcm9udFBvc2l0aW9uLHVpOnRoaXMudWksaWRlbnRpZmllcjp0aGlzLmlkZW50aWZpZXIsaWQ6dGhpcy5pZCxvcHRpb25zOnRoaXMub3B0aW9uc30sdGhpcy5pbnN0YW5jZX13LnByb3RvdHlwZT1uZXcgXyx3LmNvbnN0cnVjdG9yPXcsdy5pZD0wLHcucHJvdG90eXBlLmJ1aWxkRWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudWk9e30sdGhpcy5vcHRpb25zLmRhdGFPbmx5P3RoaXM6KHRoaXMudWkuZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLnVpLmJhY2s9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLnVpLmZyb250PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy51aS5lbC5jbGFzc05hbWU9XCJuaXBwbGUgY29sbGVjdGlvbl9cIit0aGlzLmNvbGxlY3Rpb24uaWQsdGhpcy51aS5iYWNrLmNsYXNzTmFtZT1cImJhY2tcIix0aGlzLnVpLmZyb250LmNsYXNzTmFtZT1cImZyb250XCIsdGhpcy51aS5lbC5zZXRBdHRyaWJ1dGUoXCJpZFwiLFwibmlwcGxlX1wiK3RoaXMuY29sbGVjdGlvbi5pZCtcIl9cIit0aGlzLmlkKSx0aGlzLnVpLmVsLmFwcGVuZENoaWxkKHRoaXMudWkuYmFjayksdGhpcy51aS5lbC5hcHBlbmRDaGlsZCh0aGlzLnVpLmZyb250KSx0aGlzKX0sdy5wcm90b3R5cGUuc3R5bGl6ZT1mdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5kYXRhT25seSlyZXR1cm4gdGhpczt2YXIgdD10aGlzLm9wdGlvbnMuZmFkZVRpbWUrXCJtc1wiLGk9ZnVuY3Rpb24odCxpKXt2YXIgZT11KHQpO2Zvcih2YXIgbyBpbiBlKWUuaGFzT3duUHJvcGVydHkobykmJihlW29dPWkpO3JldHVybiBlfShcImJvcmRlclJhZGl1c1wiLFwiNTAlXCIpLGU9bChcInRyYW5zaXRpb25cIixcIm9wYWNpdHlcIix0KSxvPXt9O3JldHVybiBvLmVsPXtwb3NpdGlvbjpcImFic29sdXRlXCIsb3BhY2l0eTp0aGlzLm9wdGlvbnMucmVzdE9wYWNpdHksZGlzcGxheTpcImJsb2NrXCIsekluZGV4Ojk5OX0sby5iYWNrPXtwb3NpdGlvbjpcImFic29sdXRlXCIsZGlzcGxheTpcImJsb2NrXCIsd2lkdGg6dGhpcy5vcHRpb25zLnNpemUrXCJweFwiLGhlaWdodDp0aGlzLm9wdGlvbnMuc2l6ZStcInB4XCIsbWFyZ2luTGVmdDotdGhpcy5vcHRpb25zLnNpemUvMitcInB4XCIsbWFyZ2luVG9wOi10aGlzLm9wdGlvbnMuc2l6ZS8yK1wicHhcIixiYWNrZ3JvdW5kOnRoaXMub3B0aW9ucy5jb2xvcixvcGFjaXR5OlwiLjVcIn0sby5mcm9udD17d2lkdGg6dGhpcy5vcHRpb25zLnNpemUvMitcInB4XCIsaGVpZ2h0OnRoaXMub3B0aW9ucy5zaXplLzIrXCJweFwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIixkaXNwbGF5OlwiYmxvY2tcIixtYXJnaW5MZWZ0Oi10aGlzLm9wdGlvbnMuc2l6ZS80K1wicHhcIixtYXJnaW5Ub3A6LXRoaXMub3B0aW9ucy5zaXplLzQrXCJweFwiLGJhY2tncm91bmQ6dGhpcy5vcHRpb25zLmNvbG9yLG9wYWNpdHk6XCIuNVwifSxmKG8uZWwsZSksXCJjaXJjbGVcIj09PXRoaXMub3B0aW9ucy5zaGFwZSYmZihvLmJhY2ssaSksZihvLmZyb250LGkpLHRoaXMuYXBwbHlTdHlsZXMobyksdGhpc30sdy5wcm90b3R5cGUuYXBwbHlTdHlsZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBpIGluIHRoaXMudWkpaWYodGhpcy51aS5oYXNPd25Qcm9wZXJ0eShpKSlmb3IodmFyIGUgaW4gdFtpXSl0aGlzLnVpW2ldLnN0eWxlW2VdPXRbaV1bZV07cmV0dXJuIHRoaXN9LHcucHJvdG90eXBlLmFkZFRvRG9tPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5kYXRhT25seXx8ZG9jdW1lbnQuYm9keS5jb250YWlucyh0aGlzLnVpLmVsKT90aGlzOih0aGlzLm9wdGlvbnMuem9uZS5hcHBlbmRDaGlsZCh0aGlzLnVpLmVsKSx0aGlzKX0sdy5wcm90b3R5cGUucmVtb3ZlRnJvbURvbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuZGF0YU9ubHl8fCFkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMudWkuZWwpP3RoaXM6KHRoaXMub3B0aW9ucy56b25lLnJlbW92ZUNoaWxkKHRoaXMudWkuZWwpLHRoaXMpfSx3LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMucmVtb3ZlVGltZW91dCksY2xlYXJUaW1lb3V0KHRoaXMuc2hvd1RpbWVvdXQpLGNsZWFyVGltZW91dCh0aGlzLnJlc3RUaW1lb3V0KSx0aGlzLnRyaWdnZXIoXCJkZXN0cm95ZWRcIix0aGlzLmluc3RhbmNlKSx0aGlzLnJlbW92ZUZyb21Eb20oKSx0aGlzLm9mZigpfSx3LnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7cmV0dXJuIGkub3B0aW9ucy5kYXRhT25seT9pOihjbGVhclRpbWVvdXQoaS5yZW1vdmVUaW1lb3V0KSxjbGVhclRpbWVvdXQoaS5zaG93VGltZW91dCksY2xlYXJUaW1lb3V0KGkucmVzdFRpbWVvdXQpLGkuYWRkVG9Eb20oKSxpLnJlc3RDYWxsYmFjaygpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLnVpLmVsLnN0eWxlLm9wYWNpdHk9MX0sMCksaS5zaG93VGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS50cmlnZ2VyKFwic2hvd25cIixpLmluc3RhbmNlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0LmNhbGwodGhpcyl9LGkub3B0aW9ucy5mYWRlVGltZSksaSl9LHcucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztyZXR1cm4gaS5vcHRpb25zLmRhdGFPbmx5P2k6KGkudWkuZWwuc3R5bGUub3BhY2l0eT1pLm9wdGlvbnMucmVzdE9wYWNpdHksY2xlYXJUaW1lb3V0KGkucmVtb3ZlVGltZW91dCksY2xlYXJUaW1lb3V0KGkuc2hvd1RpbWVvdXQpLGNsZWFyVGltZW91dChpLnJlc3RUaW1lb3V0KSxpLnJlbW92ZVRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBlPVwiZHluYW1pY1wiPT09aS5vcHRpb25zLm1vZGU/XCJub25lXCI6XCJibG9ja1wiO2kudWkuZWwuc3R5bGUuZGlzcGxheT1lLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQuY2FsbChpKSxpLnRyaWdnZXIoXCJoaWRkZW5cIixpLmluc3RhbmNlKX0saS5vcHRpb25zLmZhZGVUaW1lKSxpLm9wdGlvbnMucmVzdEpveXN0aWNrJiZpLnNldFBvc2l0aW9uKHQse3g6MCx5OjB9KSxpKX0sdy5wcm90b3R5cGUuc2V0UG9zaXRpb249ZnVuY3Rpb24odCxpKXt2YXIgZT10aGlzO2UuZnJvbnRQb3NpdGlvbj17eDppLngseTppLnl9O3ZhciBvPWUub3B0aW9ucy5mYWRlVGltZStcIm1zXCIsbj17fTtuLmZyb250PWwoXCJ0cmFuc2l0aW9uXCIsW1widG9wXCIsXCJsZWZ0XCJdLG8pO3ZhciBzPXtmcm9udDp7fX07cy5mcm9udD17bGVmdDplLmZyb250UG9zaXRpb24ueCtcInB4XCIsdG9wOmUuZnJvbnRQb3NpdGlvbi55K1wicHhcIn0sZS5hcHBseVN0eWxlcyhuKSxlLmFwcGx5U3R5bGVzKHMpLGUucmVzdFRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQuY2FsbChlKSxlLnJlc3RDYWxsYmFjaygpfSxlLm9wdGlvbnMuZmFkZVRpbWUpfSx3LnByb3RvdHlwZS5yZXN0Q2FsbGJhY2s9ZnVuY3Rpb24oKXt2YXIgdD17fTt0LmZyb250PWwoXCJ0cmFuc2l0aW9uXCIsXCJub25lXCIsXCJcIiksdGhpcy5hcHBseVN0eWxlcyh0KSx0aGlzLnRyaWdnZXIoXCJyZXN0ZWRcIix0aGlzLmluc3RhbmNlKX0sdy5wcm90b3R5cGUucmVzZXREaXJlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLmRpcmVjdGlvbj17eDohMSx5OiExLGFuZ2xlOiExfX0sdy5wcm90b3R5cGUuY29tcHV0ZURpcmVjdGlvbj1mdW5jdGlvbih0KXt2YXIgaSxlLG8sbj10LmFuZ2xlLnJhZGlhbixzPU1hdGguUEkvNCxyPU1hdGguUEkvMjtpZihuPnMmJm48MypzJiYhdC5sb2NrWD9pPVwidXBcIjpuPi1zJiZuPD1zJiYhdC5sb2NrWT9pPVwibGVmdFwiOm4+MyotcyYmbjw9LXMmJiF0LmxvY2tYP2k9XCJkb3duXCI6dC5sb2NrWXx8KGk9XCJyaWdodFwiKSx0LmxvY2tZfHwoZT1uPi1yJiZuPHI/XCJsZWZ0XCI6XCJyaWdodFwiKSx0LmxvY2tYfHwobz1uPjA/XCJ1cFwiOlwiZG93blwiKSx0LmZvcmNlPnRoaXMub3B0aW9ucy50aHJlc2hvbGQpe3ZhciBkLGE9e307Zm9yKGQgaW4gdGhpcy5kaXJlY3Rpb24pdGhpcy5kaXJlY3Rpb24uaGFzT3duUHJvcGVydHkoZCkmJihhW2RdPXRoaXMuZGlyZWN0aW9uW2RdKTt2YXIgcD17fTtmb3IoZCBpbiB0aGlzLmRpcmVjdGlvbj17eDplLHk6byxhbmdsZTppfSx0LmRpcmVjdGlvbj10aGlzLmRpcmVjdGlvbixhKWFbZF09PT10aGlzLmRpcmVjdGlvbltkXSYmKHBbZF09ITApO2lmKHAueCYmcC55JiZwLmFuZ2xlKXJldHVybiB0O3AueCYmcC55fHx0aGlzLnRyaWdnZXIoXCJwbGFpblwiLHQpLHAueHx8dGhpcy50cmlnZ2VyKFwicGxhaW46XCIrZSx0KSxwLnl8fHRoaXMudHJpZ2dlcihcInBsYWluOlwiK28sdCkscC5hbmdsZXx8dGhpcy50cmlnZ2VyKFwiZGlyIGRpcjpcIitpLHQpfWVsc2UgdGhpcy5yZXNldERpcmVjdGlvbigpO3JldHVybiB0fTt2YXIgVD13O2Z1bmN0aW9uIGsodCxpKXtyZXR1cm4gdGhpcy5uaXBwbGVzPVtdLHRoaXMuaWRsZXM9W10sdGhpcy5hY3RpdmVzPVtdLHRoaXMuaWRzPVtdLHRoaXMucHJlc3N1cmVJbnRlcnZhbHM9e30sdGhpcy5tYW5hZ2VyPXQsdGhpcy5pZD1rLmlkLGsuaWQrPTEsdGhpcy5kZWZhdWx0cz17em9uZTpkb2N1bWVudC5ib2R5LG11bHRpdG91Y2g6ITEsbWF4TnVtYmVyT2ZOaXBwbGVzOjEwLG1vZGU6XCJkeW5hbWljXCIscG9zaXRpb246e3RvcDowLGxlZnQ6MH0sY2F0Y2hEaXN0YW5jZToyMDAsc2l6ZToxMDAsdGhyZXNob2xkOi4xLGNvbG9yOlwid2hpdGVcIixmYWRlVGltZToyNTAsZGF0YU9ubHk6ITEscmVzdEpveXN0aWNrOiEwLHJlc3RPcGFjaXR5Oi41LGxvY2tYOiExLGxvY2tZOiExLHNoYXBlOlwiY2lyY2xlXCIsZHluYW1pY1BhZ2U6ITF9LHRoaXMuY29uZmlnKGkpLFwic3RhdGljXCIhPT10aGlzLm9wdGlvbnMubW9kZSYmXCJzZW1pXCIhPT10aGlzLm9wdGlvbnMubW9kZXx8KHRoaXMub3B0aW9ucy5tdWx0aXRvdWNoPSExKSx0aGlzLm9wdGlvbnMubXVsdGl0b3VjaHx8KHRoaXMub3B0aW9ucy5tYXhOdW1iZXJPZk5pcHBsZXM9MSksdGhpcy51cGRhdGVCb3goKSx0aGlzLnByZXBhcmVOaXBwbGVzKCksdGhpcy5iaW5kaW5ncygpLHRoaXMuYmVnaW4oKSx0aGlzLm5pcHBsZXN9ay5wcm90b3R5cGU9bmV3IF8say5jb25zdHJ1Y3Rvcj1rLGsuaWQ9MCxrLnByb3RvdHlwZS5wcmVwYXJlTmlwcGxlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMubmlwcGxlczt0Lm9uPXRoaXMub24uYmluZCh0aGlzKSx0Lm9mZj10aGlzLm9mZi5iaW5kKHRoaXMpLHQub3B0aW9ucz10aGlzLm9wdGlvbnMsdC5kZXN0cm95PXRoaXMuZGVzdHJveS5iaW5kKHRoaXMpLHQuaWRzPXRoaXMuaWRzLHQuaWQ9dGhpcy5pZCx0LnByb2Nlc3NPbk1vdmU9dGhpcy5wcm9jZXNzT25Nb3ZlLmJpbmQodGhpcyksdC5wcm9jZXNzT25FbmQ9dGhpcy5wcm9jZXNzT25FbmQuYmluZCh0aGlzKSx0LmdldD1mdW5jdGlvbihpKXtpZih2b2lkIDA9PT1pKXJldHVybiB0WzBdO2Zvcih2YXIgZT0wLG89dC5sZW5ndGg7ZTxvO2UrPTEpaWYodFtlXS5pZGVudGlmaWVyPT09aSlyZXR1cm4gdFtlXTtyZXR1cm4hMX19LGsucHJvdG90eXBlLmJpbmRpbmdzPWZ1bmN0aW9uKCl7dGhpcy5iaW5kRXZ0KHRoaXMub3B0aW9ucy56b25lLFwic3RhcnRcIiksdGhpcy5vcHRpb25zLnpvbmUuc3R5bGUudG91Y2hBY3Rpb249XCJub25lXCIsdGhpcy5vcHRpb25zLnpvbmUuc3R5bGUubXNUb3VjaEFjdGlvbj1cIm5vbmVcIn0say5wcm90b3R5cGUuYmVnaW49ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7aWYoXCJzdGF0aWNcIj09PXQubW9kZSl7dmFyIGk9dGhpcy5jcmVhdGVOaXBwbGUodC5wb3NpdGlvbix0aGlzLm1hbmFnZXIuZ2V0SWRlbnRpZmllcigpKTtpLmFkZCgpLHRoaXMuaWRsZXMucHVzaChpKX19LGsucHJvdG90eXBlLmNyZWF0ZU5pcHBsZT1mdW5jdGlvbih0LGkpe3ZhciBlPWMoKSxvPXt9LG49dGhpcy5vcHRpb25zO2lmKHQueCYmdC55KW89e3g6dC54LShlLngrdGhpcy5ib3gubGVmdCkseTp0LnktKGUueSt0aGlzLmJveC50b3ApfTtlbHNlIGlmKHQudG9wfHx0LnJpZ2h0fHx0LmJvdHRvbXx8dC5sZWZ0KXt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO3Muc3R5bGUuZGlzcGxheT1cImhpZGRlblwiLHMuc3R5bGUudG9wPXQudG9wLHMuc3R5bGUucmlnaHQ9dC5yaWdodCxzLnN0eWxlLmJvdHRvbT10LmJvdHRvbSxzLnN0eWxlLmxlZnQ9dC5sZWZ0LHMuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLG4uem9uZS5hcHBlbmRDaGlsZChzKTt2YXIgcj1zLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO24uem9uZS5yZW1vdmVDaGlsZChzKSxvPXQsdD17eDpyLmxlZnQrZS54LHk6ci50b3ArZS55fX12YXIgZD1uZXcgVCh0aGlzLHtjb2xvcjpuLmNvbG9yLHNpemU6bi5zaXplLHRocmVzaG9sZDpuLnRocmVzaG9sZCxmYWRlVGltZTpuLmZhZGVUaW1lLGRhdGFPbmx5Om4uZGF0YU9ubHkscmVzdEpveXN0aWNrOm4ucmVzdEpveXN0aWNrLHJlc3RPcGFjaXR5Om4ucmVzdE9wYWNpdHksbW9kZTpuLm1vZGUsaWRlbnRpZmllcjppLHBvc2l0aW9uOnQsem9uZTpuLnpvbmUsZnJvbnRQb3NpdGlvbjp7eDowLHk6MH0sc2hhcGU6bi5zaGFwZX0pO3JldHVybiBuLmRhdGFPbmx5fHwoaChkLnVpLmVsLG8pLGgoZC51aS5mcm9udCxkLmZyb250UG9zaXRpb24pKSx0aGlzLm5pcHBsZXMucHVzaChkKSx0aGlzLnRyaWdnZXIoXCJhZGRlZCBcIitkLmlkZW50aWZpZXIrXCI6YWRkZWRcIixkKSx0aGlzLm1hbmFnZXIudHJpZ2dlcihcImFkZGVkIFwiK2QuaWRlbnRpZmllcitcIjphZGRlZFwiLGQpLHRoaXMuYmluZE5pcHBsZShkKSxkfSxrLnByb3RvdHlwZS51cGRhdGVCb3g9ZnVuY3Rpb24oKXt0aGlzLmJveD10aGlzLm9wdGlvbnMuem9uZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX0say5wcm90b3R5cGUuYmluZE5pcHBsZT1mdW5jdGlvbih0KXt2YXIgaSxlPXRoaXMsbz1mdW5jdGlvbih0LG8pe2k9dC50eXBlK1wiIFwiK28uaWQrXCI6XCIrdC50eXBlLGUudHJpZ2dlcihpLG8pfTt0Lm9uKFwiZGVzdHJveWVkXCIsZS5vbkRlc3Ryb3llZC5iaW5kKGUpKSx0Lm9uKFwic2hvd24gaGlkZGVuIHJlc3RlZCBkaXIgcGxhaW5cIixvKSx0Lm9uKFwiZGlyOnVwIGRpcjpyaWdodCBkaXI6ZG93biBkaXI6bGVmdFwiLG8pLHQub24oXCJwbGFpbjp1cCBwbGFpbjpyaWdodCBwbGFpbjpkb3duIHBsYWluOmxlZnRcIixvKX0say5wcm90b3R5cGUucHJlc3N1cmVGbj1mdW5jdGlvbih0LGksZSl7dmFyIG89dGhpcyxuPTA7Y2xlYXJJbnRlcnZhbChvLnByZXNzdXJlSW50ZXJ2YWxzW2VdKSxvLnByZXNzdXJlSW50ZXJ2YWxzW2VdPXNldEludGVydmFsKGZ1bmN0aW9uKCl7dmFyIGU9dC5mb3JjZXx8dC5wcmVzc3VyZXx8dC53ZWJraXRGb3JjZXx8MDtlIT09biYmKGkudHJpZ2dlcihcInByZXNzdXJlXCIsZSksby50cmlnZ2VyKFwicHJlc3N1cmUgXCIraS5pZGVudGlmaWVyK1wiOnByZXNzdXJlXCIsZSksbj1lKX0uYmluZChvKSwxMDApfSxrLnByb3RvdHlwZS5vbnN0YXJ0PWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMsZT1pLm9wdGlvbnMsbz10O3Q9cCh0KSxpLnVwZGF0ZUJveCgpO3JldHVybiB5KHQsZnVuY3Rpb24obil7aS5hY3RpdmVzLmxlbmd0aDxlLm1heE51bWJlck9mTmlwcGxlcz9pLnByb2Nlc3NPblN0YXJ0KG4pOm8udHlwZS5tYXRjaCgvXnRvdWNoLykmJihPYmplY3Qua2V5cyhpLm1hbmFnZXIuaWRzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKE9iamVjdC52YWx1ZXMoby50b3VjaGVzKS5maW5kSW5kZXgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWRlbnRpZmllcj09PWV9KTwwKXt2YXIgbj1bdFswXV07bi5pZGVudGlmaWVyPWUsaS5wcm9jZXNzT25FbmQobil9fSksaS5hY3RpdmVzLmxlbmd0aDxlLm1heE51bWJlck9mTmlwcGxlcyYmaS5wcm9jZXNzT25TdGFydChuKSl9KSxpLm1hbmFnZXIuYmluZERvY3VtZW50KCksITF9LGsucHJvdG90eXBlLnByb2Nlc3NPblN0YXJ0PWZ1bmN0aW9uKHQpe3ZhciBpLGU9dGhpcyxvPWUub3B0aW9ucyxzPWUubWFuYWdlci5nZXRJZGVudGlmaWVyKHQpLHI9dC5mb3JjZXx8dC5wcmVzc3VyZXx8dC53ZWJraXRGb3JjZXx8MCxkPXt4OnQucGFnZVgseTp0LnBhZ2VZfSxhPWUuZ2V0T3JDcmVhdGUocyxkKTthLmlkZW50aWZpZXIhPT1zJiZlLm1hbmFnZXIucmVtb3ZlSWRlbnRpZmllcihhLmlkZW50aWZpZXIpLGEuaWRlbnRpZmllcj1zO3ZhciBwPWZ1bmN0aW9uKGkpe2kudHJpZ2dlcihcInN0YXJ0XCIsaSksZS50cmlnZ2VyKFwic3RhcnQgXCIraS5pZCtcIjpzdGFydFwiLGkpLGkuc2hvdygpLHI+MCYmZS5wcmVzc3VyZUZuKHQsaSxpLmlkZW50aWZpZXIpLGUucHJvY2Vzc09uTW92ZSh0KX07aWYoKGk9ZS5pZGxlcy5pbmRleE9mKGEpKT49MCYmZS5pZGxlcy5zcGxpY2UoaSwxKSxlLmFjdGl2ZXMucHVzaChhKSxlLmlkcy5wdXNoKGEuaWRlbnRpZmllciksXCJzZW1pXCIhPT1vLm1vZGUpcChhKTtlbHNle2lmKCEobihkLGEucG9zaXRpb24pPD1vLmNhdGNoRGlzdGFuY2UpKXJldHVybiBhLmRlc3Ryb3koKSx2b2lkIGUucHJvY2Vzc09uU3RhcnQodCk7cChhKX1yZXR1cm4gYX0say5wcm90b3R5cGUuZ2V0T3JDcmVhdGU9ZnVuY3Rpb24odCxpKXt2YXIgZSxvPXRoaXMub3B0aW9ucztyZXR1cm4vKHNlbWl8c3RhdGljKS8udGVzdChvLm1vZGUpPyhlPXRoaXMuaWRsZXNbMF0pPyh0aGlzLmlkbGVzLnNwbGljZSgwLDEpLGUpOlwic2VtaVwiPT09by5tb2RlP3RoaXMuY3JlYXRlTmlwcGxlKGksdCk6KGNvbnNvbGUud2FybihcIkNvdWRsbid0IGZpbmQgdGhlIG5lZWRlZCBuaXBwbGUuXCIpLCExKTplPXRoaXMuY3JlYXRlTmlwcGxlKGksdCl9LGsucHJvdG90eXBlLnByb2Nlc3NPbk1vdmU9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zLGU9dGhpcy5tYW5hZ2VyLmdldElkZW50aWZpZXIodCksbz10aGlzLm5pcHBsZXMuZ2V0KGUpO2lmKGZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0LmJ1dHRvbnMpPzAhPT10LnByZXNzdXJlOjAhPT10LmJ1dHRvbnN9KHQpKXtpZighbylyZXR1cm4gY29uc29sZS5lcnJvcihcIkZvdW5kIHpvbWJpZSBqb3lzdGljayB3aXRoIElEIFwiK2UpLHZvaWQgdGhpcy5tYW5hZ2VyLnJlbW92ZUlkZW50aWZpZXIoZSk7aWYoaS5keW5hbWljUGFnZSl7dmFyIGQ9YygpO3A9by5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvLnBvc2l0aW9uPXt4OmQueCtwLmxlZnQseTpkLnkrcC50b3B9fW8uaWRlbnRpZmllcj1lO3ZhciBhPW8ub3B0aW9ucy5zaXplLzIscD17eDp0LnBhZ2VYLHk6dC5wYWdlWX07aS5sb2NrWCYmKHAueT1vLnBvc2l0aW9uLnkpLGkubG9ja1kmJihwLng9by5wb3NpdGlvbi54KTt2YXIgbCx1LGYseSxtLHYsZyxiLHg9bihwLG8ucG9zaXRpb24pLE89KGw9cCx1PW8ucG9zaXRpb24sZj11LngtbC54LHk9dS55LWwueSxyKE1hdGguYXRhbjIoeSxmKSkpLF89cyhPKSx3PXgvYSxUPXtkaXN0YW5jZTp4LHBvc2l0aW9uOnB9O1wiY2lyY2xlXCI9PT1vLm9wdGlvbnMuc2hhcGU/KHg9TWF0aC5taW4oeCxhKSxtPW8ucG9zaXRpb24sdj14LGI9e3g6MCx5OjB9LGc9cyhnPU8pLGIueD1tLngtdipNYXRoLmNvcyhnKSxiLnk9bS55LXYqTWF0aC5zaW4oZykscD1iKToocD1mdW5jdGlvbih0LGksZSl7cmV0dXJue3g6TWF0aC5taW4oTWF0aC5tYXgodC54LGkueC1lKSxpLngrZSkseTpNYXRoLm1pbihNYXRoLm1heCh0LnksaS55LWUpLGkueStlKX19KHAsby5wb3NpdGlvbixhKSx4PW4ocCxvLnBvc2l0aW9uKSk7dmFyIGs9cC54LW8ucG9zaXRpb24ueCxQPXAueS1vLnBvc2l0aW9uLnk7by5mcm9udFBvc2l0aW9uPXt4OmsseTpQfSxpLmRhdGFPbmx5fHxoKG8udWkuZnJvbnQsby5mcm9udFBvc2l0aW9uKTt2YXIgRT17aWRlbnRpZmllcjpvLmlkZW50aWZpZXIscG9zaXRpb246cCxmb3JjZTp3LHByZXNzdXJlOnQuZm9yY2V8fHQucHJlc3N1cmV8fHQud2Via2l0Rm9yY2V8fDAsZGlzdGFuY2U6eCxhbmdsZTp7cmFkaWFuOl8sZGVncmVlOk99LHZlY3Rvcjp7eDprL2EseTotUC9hfSxyYXc6VCxpbnN0YW5jZTpvLGxvY2tYOmkubG9ja1gsbG9ja1k6aS5sb2NrWX07KEU9by5jb21wdXRlRGlyZWN0aW9uKEUpKS5hbmdsZT17cmFkaWFuOnMoMTgwLU8pLGRlZ3JlZToxODAtT30sby50cmlnZ2VyKFwibW92ZVwiLEUpLHRoaXMudHJpZ2dlcihcIm1vdmUgXCIrby5pZCtcIjptb3ZlXCIsRSl9ZWxzZSB0aGlzLnByb2Nlc3NPbkVuZCh0KX0say5wcm90b3R5cGUucHJvY2Vzc09uRW5kPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMsZT1pLm9wdGlvbnMsbz1pLm1hbmFnZXIuZ2V0SWRlbnRpZmllcih0KSxuPWkubmlwcGxlcy5nZXQobykscz1pLm1hbmFnZXIucmVtb3ZlSWRlbnRpZmllcihuLmlkZW50aWZpZXIpO24mJihlLmRhdGFPbmx5fHxuLmhpZGUoZnVuY3Rpb24oKXtcImR5bmFtaWNcIj09PWUubW9kZSYmKG4udHJpZ2dlcihcInJlbW92ZWRcIixuKSxpLnRyaWdnZXIoXCJyZW1vdmVkIFwiK24uaWQrXCI6cmVtb3ZlZFwiLG4pLGkubWFuYWdlci50cmlnZ2VyKFwicmVtb3ZlZCBcIituLmlkK1wiOnJlbW92ZWRcIixuKSxuLmRlc3Ryb3koKSl9KSxjbGVhckludGVydmFsKGkucHJlc3N1cmVJbnRlcnZhbHNbbi5pZGVudGlmaWVyXSksbi5yZXNldERpcmVjdGlvbigpLG4udHJpZ2dlcihcImVuZFwiLG4pLGkudHJpZ2dlcihcImVuZCBcIituLmlkK1wiOmVuZFwiLG4pLGkuaWRzLmluZGV4T2Yobi5pZGVudGlmaWVyKT49MCYmaS5pZHMuc3BsaWNlKGkuaWRzLmluZGV4T2Yobi5pZGVudGlmaWVyKSwxKSxpLmFjdGl2ZXMuaW5kZXhPZihuKT49MCYmaS5hY3RpdmVzLnNwbGljZShpLmFjdGl2ZXMuaW5kZXhPZihuKSwxKSwvKHNlbWl8c3RhdGljKS8udGVzdChlLm1vZGUpP2kuaWRsZXMucHVzaChuKTppLm5pcHBsZXMuaW5kZXhPZihuKT49MCYmaS5uaXBwbGVzLnNwbGljZShpLm5pcHBsZXMuaW5kZXhPZihuKSwxKSxpLm1hbmFnZXIudW5iaW5kRG9jdW1lbnQoKSwvKHNlbWl8c3RhdGljKS8udGVzdChlLm1vZGUpJiYoaS5tYW5hZ2VyLmlkc1tzLmlkXT1zLmlkZW50aWZpZXIpKX0say5wcm90b3R5cGUub25EZXN0cm95ZWQ9ZnVuY3Rpb24odCxpKXt0aGlzLm5pcHBsZXMuaW5kZXhPZihpKT49MCYmdGhpcy5uaXBwbGVzLnNwbGljZSh0aGlzLm5pcHBsZXMuaW5kZXhPZihpKSwxKSx0aGlzLmFjdGl2ZXMuaW5kZXhPZihpKT49MCYmdGhpcy5hY3RpdmVzLnNwbGljZSh0aGlzLmFjdGl2ZXMuaW5kZXhPZihpKSwxKSx0aGlzLmlkbGVzLmluZGV4T2YoaSk+PTAmJnRoaXMuaWRsZXMuc3BsaWNlKHRoaXMuaWRsZXMuaW5kZXhPZihpKSwxKSx0aGlzLmlkcy5pbmRleE9mKGkuaWRlbnRpZmllcik+PTAmJnRoaXMuaWRzLnNwbGljZSh0aGlzLmlkcy5pbmRleE9mKGkuaWRlbnRpZmllciksMSksdGhpcy5tYW5hZ2VyLnJlbW92ZUlkZW50aWZpZXIoaS5pZGVudGlmaWVyKSx0aGlzLm1hbmFnZXIudW5iaW5kRG9jdW1lbnQoKX0say5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnVuYmluZEV2dCh0aGlzLm9wdGlvbnMuem9uZSxcInN0YXJ0XCIpLHRoaXMubmlwcGxlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuZGVzdHJveSgpfSksdGhpcy5wcmVzc3VyZUludGVydmFscyl0aGlzLnByZXNzdXJlSW50ZXJ2YWxzLmhhc093blByb3BlcnR5KHQpJiZjbGVhckludGVydmFsKHRoaXMucHJlc3N1cmVJbnRlcnZhbHNbdF0pO3RoaXMudHJpZ2dlcihcImRlc3Ryb3llZFwiLHRoaXMubmlwcGxlcyksdGhpcy5tYW5hZ2VyLnVuYmluZERvY3VtZW50KCksdGhpcy5vZmYoKX07dmFyIFA9aztmdW5jdGlvbiBFKHQpe3ZhciBpLGU9dGhpcztyZXR1cm4gZS5pZHM9e30sZS5pbmRleD0wLGUuY29sbGVjdGlvbnM9W10sZS5jb25maWcodCksZS5wcmVwYXJlQ29sbGVjdGlvbnMoKSxkKHdpbmRvdyxcInJlc2l6ZVwiLGZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dChpKSxpPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxpPWMoKTtlLmNvbGxlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Q9ZS5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxlLnBvc2l0aW9uPXt4OmkueCt0LmxlZnQseTppLnkrdC50b3B9fSl9KX0sMTAwKX0pLGUuY29sbGVjdGlvbnN9RS5wcm90b3R5cGU9bmV3IF8sRS5jb25zdHJ1Y3Rvcj1FLEUucHJvdG90eXBlLnByZXBhcmVDb2xsZWN0aW9ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5jb2xsZWN0aW9ucy5jcmVhdGU9dC5jcmVhdGUuYmluZCh0KSx0LmNvbGxlY3Rpb25zLm9uPXQub24uYmluZCh0KSx0LmNvbGxlY3Rpb25zLm9mZj10Lm9mZi5iaW5kKHQpLHQuY29sbGVjdGlvbnMuZGVzdHJveT10LmRlc3Ryb3kuYmluZCh0KSx0LmNvbGxlY3Rpb25zLmdldD1mdW5jdGlvbihpKXt2YXIgZTtyZXR1cm4gdC5jb2xsZWN0aW9ucy5ldmVyeShmdW5jdGlvbih0KXtyZXR1cm4hKGU9dC5nZXQoaSkpfSksZX19LEUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jcmVhdGVDb2xsZWN0aW9uKHQpfSxFLnByb3RvdHlwZS5jcmVhdGVDb2xsZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBpPW5ldyBQKHRoaXMsdCk7cmV0dXJuIHRoaXMuYmluZENvbGxlY3Rpb24oaSksdGhpcy5jb2xsZWN0aW9ucy5wdXNoKGkpLGl9LEUucHJvdG90eXBlLmJpbmRDb2xsZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBpLGU9dGhpcyxvPWZ1bmN0aW9uKHQsbyl7aT10LnR5cGUrXCIgXCIrby5pZCtcIjpcIit0LnR5cGUsZS50cmlnZ2VyKGksbyl9O3Qub24oXCJkZXN0cm95ZWRcIixlLm9uRGVzdHJveWVkLmJpbmQoZSkpLHQub24oXCJzaG93biBoaWRkZW4gcmVzdGVkIGRpciBwbGFpblwiLG8pLHQub24oXCJkaXI6dXAgZGlyOnJpZ2h0IGRpcjpkb3duIGRpcjpsZWZ0XCIsbyksdC5vbihcInBsYWluOnVwIHBsYWluOnJpZ2h0IHBsYWluOmRvd24gcGxhaW46bGVmdFwiLG8pfSxFLnByb3RvdHlwZS5iaW5kRG9jdW1lbnQ9ZnVuY3Rpb24oKXt0aGlzLmJpbmRlZHx8KHRoaXMuYmluZEV2dChkb2N1bWVudCxcIm1vdmVcIikuYmluZEV2dChkb2N1bWVudCxcImVuZFwiKSx0aGlzLmJpbmRlZD0hMCl9LEUucHJvdG90eXBlLnVuYmluZERvY3VtZW50PWZ1bmN0aW9uKHQpe09iamVjdC5rZXlzKHRoaXMuaWRzKS5sZW5ndGgmJiEwIT09dHx8KHRoaXMudW5iaW5kRXZ0KGRvY3VtZW50LFwibW92ZVwiKS51bmJpbmRFdnQoZG9jdW1lbnQsXCJlbmRcIiksdGhpcy5iaW5kZWQ9ITEpfSxFLnByb3RvdHlwZS5nZXRJZGVudGlmaWVyPWZ1bmN0aW9uKHQpe3ZhciBpO3JldHVybiB0P3ZvaWQgMD09PShpPXZvaWQgMD09PXQuaWRlbnRpZmllcj90LnBvaW50ZXJJZDp0LmlkZW50aWZpZXIpJiYoaT10aGlzLmxhdGVzdHx8MCk6aT10aGlzLmluZGV4LHZvaWQgMD09PXRoaXMuaWRzW2ldJiYodGhpcy5pZHNbaV09dGhpcy5pbmRleCx0aGlzLmluZGV4Kz0xKSx0aGlzLmxhdGVzdD1pLHRoaXMuaWRzW2ldfSxFLnByb3RvdHlwZS5yZW1vdmVJZGVudGlmaWVyPWZ1bmN0aW9uKHQpe3ZhciBpPXt9O2Zvcih2YXIgZSBpbiB0aGlzLmlkcylpZih0aGlzLmlkc1tlXT09PXQpe2kuaWQ9ZSxpLmlkZW50aWZpZXI9dGhpcy5pZHNbZV0sZGVsZXRlIHRoaXMuaWRzW2VdO2JyZWFrfXJldHVybiBpfSxFLnByb3RvdHlwZS5vbm1vdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub25BbnkoXCJtb3ZlXCIsdCksITF9LEUucHJvdG90eXBlLm9uZW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9uQW55KFwiZW5kXCIsdCksITF9LEUucHJvdG90eXBlLm9uY2FuY2VsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9uQW55KFwiZW5kXCIsdCksITF9LEUucHJvdG90eXBlLm9uQW55PWZ1bmN0aW9uKHQsaSl7dmFyIGUsbz10aGlzLG49XCJwcm9jZXNzT25cIit0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aT1wKGkpO3JldHVybiB5KGksZnVuY3Rpb24odCl7ZT1vLmdldElkZW50aWZpZXIodCkseShvLmNvbGxlY3Rpb25zLGZ1bmN0aW9uKHQsaSxlKXtlLmlkcy5pbmRleE9mKGkpPj0wJiYoZVtuXSh0KSx0Ll9mb3VuZF89ITApfS5iaW5kKG51bGwsdCxlKSksdC5fZm91bmRffHxvLnJlbW92ZUlkZW50aWZpZXIoZSl9KSwhMX0sRS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMudW5iaW5kRG9jdW1lbnQoITApLHRoaXMuaWRzPXt9LHRoaXMuaW5kZXg9MCx0aGlzLmNvbGxlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24odCl7dC5kZXN0cm95KCl9KSx0aGlzLm9mZigpfSxFLnByb3RvdHlwZS5vbkRlc3Ryb3llZD1mdW5jdGlvbih0LGkpe2lmKHRoaXMuY29sbGVjdGlvbnMuaW5kZXhPZihpKTwwKXJldHVybiExO3RoaXMuY29sbGVjdGlvbnMuc3BsaWNlKHRoaXMuY29sbGVjdGlvbnMuaW5kZXhPZihpKSwxKX07dmFyIEk9bmV3IEU7aS5kZWZhdWx0PXtjcmVhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIEkuY3JlYXRlKHQpfSxmYWN0b3J5Okl9fV0pLmRlZmF1bHR9KTsiLCIvKlxub2JqZWN0LWFzc2lnblxuKGMpIFNpbmRyZSBTb3JodXNcbkBsaWNlbnNlIE1JVFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XG5cdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHR9XG5cblx0cmV0dXJuIE9iamVjdCh2YWwpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG5cdHRyeSB7XG5cdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctd3JhcHBlcnNcblx0XHR0ZXN0MVs1XSA9ICdkZSc7XG5cdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MiA9IHt9O1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0dGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuXHRcdH1cblx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0cmV0dXJuIHRlc3QyW25dO1xuXHRcdH0pO1xuXHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDMgPSB7fTtcblx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0fSk7XG5cdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Ly8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0dmFyIGZyb207XG5cdHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG5cdHZhciBzeW1ib2xzO1xuXG5cdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XG5cdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXG5cdFx0Zm9yICh2YXIga2V5IGluIGZyb20pIHtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0XHRzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgc3ltYm9sc1tpXSkpIHtcblx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdG87XG59O1xuIiwiJ3VzZSBzdHJpY3QnXG5cbmZ1bmN0aW9uIHBhcnNlVVJJIChzdHIsIG9wdHMpIHtcbiAgaWYgKCFzdHIpIHJldHVybiB1bmRlZmluZWRcblxuICBvcHRzID0gb3B0cyB8fCB7fVxuXG4gIHZhciBvID0ge1xuICAgIGtleTogW1xuICAgICAgJ3NvdXJjZScsXG4gICAgICAncHJvdG9jb2wnLFxuICAgICAgJ2F1dGhvcml0eScsXG4gICAgICAndXNlckluZm8nLFxuICAgICAgJ3VzZXInLFxuICAgICAgJ3Bhc3N3b3JkJyxcbiAgICAgICdob3N0JyxcbiAgICAgICdwb3J0JyxcbiAgICAgICdyZWxhdGl2ZScsXG4gICAgICAncGF0aCcsXG4gICAgICAnZGlyZWN0b3J5JyxcbiAgICAgICdmaWxlJyxcbiAgICAgICdxdWVyeScsXG4gICAgICAnYW5jaG9yJ1xuICAgIF0sXG4gICAgcToge1xuICAgICAgbmFtZTogJ3F1ZXJ5S2V5JyxcbiAgICAgIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nXG4gICAgfSxcbiAgICBwYXJzZXI6IHtcbiAgICAgIHN0cmljdDogL14oPzooW146XFwvPyNdKyk6KT8oPzpcXC9cXC8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPygoKCg/OltePyNcXC9dKlxcLykqKShbXj8jXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxcbiAgICAgIGxvb3NlOiAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShbXjpcXC8/Iy5dKyk6KT8oPzpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS9cbiAgICB9XG4gIH1cblxuICB2YXIgbSA9IG8ucGFyc2VyW29wdHMuc3RyaWN0TW9kZSA/ICdzdHJpY3QnIDogJ2xvb3NlJ10uZXhlYyhzdHIpXG4gIHZhciB1cmkgPSB7fVxuICB2YXIgaSA9IDE0XG5cbiAgd2hpbGUgKGktLSkgdXJpW28ua2V5W2ldXSA9IG1baV0gfHwgJydcblxuICB1cmlbby5xLm5hbWVdID0ge31cbiAgdXJpW28ua2V5WzEyXV0ucmVwbGFjZShvLnEucGFyc2VyLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgIGlmICgkMSkgdXJpW28ucS5uYW1lXVskMV0gPSAkMlxuICB9KVxuXG4gIHJldHVybiB1cmlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZVVSSVxuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbiBcbi8qIVxuICogcGl4aS10aWxlbWFwIC0gdjIuMS4zXG4gKiBDb21waWxlZCBTdW4sIDE4IE9jdCAyMDIwIDE3OjA4OjU4IFVUQ1xuICpcbiAqIHBpeGktdGlsZW1hcCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKiBcbiAqIENvcHlyaWdodCAyMDE5LTIwMjAsIEl2YW4gUG9wZWx5c2hldiwgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuICovXG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBkaXNwbGF5ID0gcmVxdWlyZSgnQHBpeGkvZGlzcGxheScpO1xudmFyIGNvcmUgPSByZXF1aXJlKCdAcGl4aS9jb3JlJyk7XG52YXIgY29uc3RhbnRzID0gcmVxdWlyZSgnQHBpeGkvY29uc3RhbnRzJyk7XG52YXIgbWF0aCA9IHJlcXVpcmUoJ0BwaXhpL21hdGgnKTtcbnZhciBncmFwaGljcyA9IHJlcXVpcmUoJ0BwaXhpL2dyYXBoaWNzJyk7XG52YXIgc3ByaXRlID0gcmVxdWlyZSgnQHBpeGkvc3ByaXRlJyk7XG5cbmNsYXNzIENhbnZhc1RpbGVSZW5kZXJlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xyXG4gICAgICAgIHRoaXMudGlsZUFuaW0gPSBbMCwgMF07XHJcbiAgICAgICAgdGhpcy5kb250VXNlVHJhbnNmb3JtID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgICAgIHRoaXMudGlsZUFuaW0gPSBbMCwgMF07XHJcbiAgICB9XHJcbn1cclxuY29uc3QgY3IgPSBQSVhJLkNhbnZhc1JlbmRlcmVyO1xyXG5pZiAoY3IpIHtcclxuICAgIGNyLnJlZ2lzdGVyUGx1Z2luKCd0aWxlbWFwJywgQ2FudmFzVGlsZVJlbmRlcmVyKTtcclxufVxuXG5jb25zdCBDb25zdGFudCA9IHtcclxuICAgIG1heFRleHR1cmVzOiAxNixcclxuICAgIGJ1ZmZlclNpemU6IDIwNDgsXHJcbiAgICBib3VuZFNpemU6IDEwMjQsXHJcbiAgICBib3VuZENvdW50UGVyQnVmZmVyOiAxLFxyXG4gICAgdXNlMzJiaXRJbmRleDogZmFsc2UsXHJcbiAgICBTQ0FMRV9NT0RFOiBjb25zdGFudHMuU0NBTEVfTU9ERVMuTElORUFSLFxyXG4gICAgRE9fQ0xFQVI6IHRydWVcclxufTtcblxuY29uc3QgUE9JTlRfU1RSVUNUX1NJWkUgPSAxMjtcclxuY2xhc3MgUmVjdFRpbGVMYXllciBleHRlbmRzIGRpc3BsYXkuQ29udGFpbmVyIHtcclxuICAgIGNvbnN0cnVjdG9yKHpJbmRleCwgdGV4dHVyZSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy56SW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMubW9kaWZpY2F0aW9uTWFya2VyID0gMDtcclxuICAgICAgICB0aGlzLl8kX2xvY2FsQm91bmRzID0gbmV3IGRpc3BsYXkuQm91bmRzKCk7XHJcbiAgICAgICAgdGhpcy5zaGFkb3dDb2xvciA9IG5ldyBGbG9hdDMyQXJyYXkoWzAuMCwgMC4wLCAwLjAsIDAuNV0pO1xyXG4gICAgICAgIHRoaXMuX2dsb2JhbE1hdCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wb2ludHNCdWYgPSBbXTtcclxuICAgICAgICB0aGlzLmhhc0FuaW0gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm9mZnNldFggPSAwO1xyXG4gICAgICAgIHRoaXMub2Zmc2V0WSA9IDA7XHJcbiAgICAgICAgdGhpcy5jb21wb3NpdGVQYXJlbnQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRpbGVBbmltID0gbnVsbDtcclxuICAgICAgICB0aGlzLnZiSWQgPSAwO1xyXG4gICAgICAgIHRoaXMudmIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudmJCdWZmZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudmJBcnJheSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy52YkludHMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSh6SW5kZXgsIHRleHR1cmUpO1xyXG4gICAgfVxyXG4gICAgaW5pdGlhbGl6ZSh6SW5kZXgsIHRleHR1cmVzKSB7XHJcbiAgICAgICAgaWYgKCF0ZXh0dXJlcykge1xyXG4gICAgICAgICAgICB0ZXh0dXJlcyA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghKHRleHR1cmVzIGluc3RhbmNlb2YgQXJyYXkpICYmIHRleHR1cmVzLmJhc2VUZXh0dXJlKSB7XHJcbiAgICAgICAgICAgIHRleHR1cmVzID0gW3RleHR1cmVzXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IHRleHR1cmVzO1xyXG4gICAgICAgIHRoaXMuekluZGV4ID0gekluZGV4O1xyXG4gICAgfVxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgdGhpcy5wb2ludHNCdWYubGVuZ3RoID0gMDtcclxuICAgICAgICB0aGlzLm1vZGlmaWNhdGlvbk1hcmtlciA9IDA7XHJcbiAgICAgICAgdGhpcy5fJF9sb2NhbEJvdW5kcy5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMuaGFzQW5pbSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgYWRkRnJhbWUodGV4dHVyZV8sIHgsIHksIGFuaW1YLCBhbmltWSkge1xyXG4gICAgICAgIGxldCB0ZXh0dXJlO1xyXG4gICAgICAgIGxldCB0ZXh0dXJlSW5kZXggPSAwO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGV4dHVyZV8gPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgdGV4dHVyZUluZGV4ID0gdGV4dHVyZV87XHJcbiAgICAgICAgICAgIHRleHR1cmUgPSB0aGlzLnRleHR1cmVzW3RleHR1cmVJbmRleF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRleHR1cmVfID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0dXJlID0gY29yZS5UZXh0dXJlLmZyb20odGV4dHVyZV8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGV4dHVyZSA9IHRleHR1cmVfO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBsZXQgdGV4dHVyZUxpc3QgPSB0aGlzLnRleHR1cmVzO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHR1cmVMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGV4dHVyZUxpc3RbaV0uYmFzZVRleHR1cmUgPT09IHRleHR1cmUuYmFzZVRleHR1cmUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlSW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hZGRSZWN0KHRleHR1cmVJbmRleCwgdGV4dHVyZS5mcmFtZS54LCB0ZXh0dXJlLmZyYW1lLnksIHgsIHksIHRleHR1cmUub3JpZy53aWR0aCwgdGV4dHVyZS5vcmlnLmhlaWdodCwgYW5pbVgsIGFuaW1ZLCB0ZXh0dXJlLnJvdGF0ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBhZGRSZWN0KHRleHR1cmVJbmRleCwgdSwgdiwgeCwgeSwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0LCBhbmltWCA9IDAsIGFuaW1ZID0gMCwgcm90YXRlID0gMCwgYW5pbUNvdW50WCA9IDEwMjQsIGFuaW1Db3VudFkgPSAxMDI0KSB7XHJcbiAgICAgICAgbGV0IHBiID0gdGhpcy5wb2ludHNCdWY7XHJcbiAgICAgICAgdGhpcy5oYXNBbmltID0gdGhpcy5oYXNBbmltIHx8IGFuaW1YID4gMCB8fCBhbmltWSA+IDA7XHJcbiAgICAgICAgcGIucHVzaCh1KTtcclxuICAgICAgICBwYi5wdXNoKHYpO1xyXG4gICAgICAgIHBiLnB1c2goeCk7XHJcbiAgICAgICAgcGIucHVzaCh5KTtcclxuICAgICAgICBwYi5wdXNoKHRpbGVXaWR0aCk7XHJcbiAgICAgICAgcGIucHVzaCh0aWxlSGVpZ2h0KTtcclxuICAgICAgICBwYi5wdXNoKHJvdGF0ZSk7XHJcbiAgICAgICAgcGIucHVzaChhbmltWCB8IDApO1xyXG4gICAgICAgIHBiLnB1c2goYW5pbVkgfCAwKTtcclxuICAgICAgICBwYi5wdXNoKHRleHR1cmVJbmRleCk7XHJcbiAgICAgICAgcGIucHVzaChhbmltQ291bnRYKTtcclxuICAgICAgICBwYi5wdXNoKGFuaW1Db3VudFkpO1xyXG4gICAgICAgIHRoaXMuXyRfbG9jYWxCb3VuZHMuYWRkRnJhbWVQYWQoeCwgeSwgeCArIHRpbGVXaWR0aCwgeSArIHRpbGVIZWlnaHQsIDAsIDApO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgdGlsZVJvdGF0ZShyb3RhdGUpIHtcclxuICAgICAgICBjb25zdCBwYiA9IHRoaXMucG9pbnRzQnVmO1xyXG4gICAgICAgIHBiW3BiLmxlbmd0aCAtIDNdID0gcm90YXRlO1xyXG4gICAgfVxyXG4gICAgdGlsZUFuaW1YKG9mZnNldCwgY291bnQpIHtcclxuICAgICAgICBjb25zdCBwYiA9IHRoaXMucG9pbnRzQnVmO1xyXG4gICAgICAgIHBiW3BiLmxlbmd0aCAtIDVdID0gb2Zmc2V0O1xyXG4gICAgICAgIHBiW3BiLmxlbmd0aCAtIDJdID0gY291bnQ7XHJcbiAgICB9XHJcbiAgICB0aWxlQW5pbVkob2Zmc2V0LCBjb3VudCkge1xyXG4gICAgICAgIGNvbnN0IHBiID0gdGhpcy5wb2ludHNCdWY7XHJcbiAgICAgICAgcGJbcGIubGVuZ3RoIC0gNF0gPSBvZmZzZXQ7XHJcbiAgICAgICAgcGJbcGIubGVuZ3RoIC0gMV0gPSBjb3VudDtcclxuICAgIH1cclxuICAgIHJlbmRlckNhbnZhcyhyZW5kZXJlcikge1xyXG4gICAgICAgIGxldCBwbHVnaW4gPSByZW5kZXJlci5wbHVnaW5zLnRpbGVtYXA7XHJcbiAgICAgICAgaWYgKCFwbHVnaW4uZG9udFVzZVRyYW5zZm9ybSkge1xyXG4gICAgICAgICAgICBsZXQgd3QgPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xyXG4gICAgICAgICAgICByZW5kZXJlci5jb250ZXh0LnNldFRyYW5zZm9ybSh3dC5hLCB3dC5iLCB3dC5jLCB3dC5kLCB3dC50eCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIHd0LnR5ICogcmVuZGVyZXIucmVzb2x1dGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVuZGVyQ2FudmFzQ29yZShyZW5kZXJlcik7XHJcbiAgICB9XHJcbiAgICByZW5kZXJDYW52YXNDb3JlKHJlbmRlcmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudGV4dHVyZXMubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgbGV0IHBvaW50cyA9IHRoaXMucG9pbnRzQnVmO1xyXG4gICAgICAgIGNvbnN0IHRpbGVBbmltID0gdGhpcy50aWxlQW5pbSB8fCByZW5kZXJlci5wbHVnaW5zLnRpbGVtYXAudGlsZUFuaW07XHJcbiAgICAgICAgcmVuZGVyZXIuY29udGV4dC5maWxsU3R5bGUgPSAnIzAwMDAwMCc7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbjsgaSArPSBQT0lOVF9TVFJVQ1RfU0laRSkge1xyXG4gICAgICAgICAgICBsZXQgeDEgPSBwb2ludHNbaV0sIHkxID0gcG9pbnRzW2kgKyAxXTtcclxuICAgICAgICAgICAgbGV0IHgyID0gcG9pbnRzW2kgKyAyXSwgeTIgPSBwb2ludHNbaSArIDNdO1xyXG4gICAgICAgICAgICBsZXQgdyA9IHBvaW50c1tpICsgNF07XHJcbiAgICAgICAgICAgIGxldCBoID0gcG9pbnRzW2kgKyA1XTtcclxuICAgICAgICAgICAgdmFyIHJvdGF0ZSA9IHBvaW50c1tpICsgNl07XHJcbiAgICAgICAgICAgIHgxICs9IHBvaW50c1tpICsgN10gKiB0aWxlQW5pbVswXTtcclxuICAgICAgICAgICAgeTEgKz0gcG9pbnRzW2kgKyA4XSAqIHRpbGVBbmltWzFdO1xyXG4gICAgICAgICAgICBsZXQgdGV4dHVyZUluZGV4ID0gcG9pbnRzW2kgKyA5XTtcclxuICAgICAgICAgICAgaWYgKHRleHR1cmVJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZW5kZXJlci5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLnRleHR1cmVzW3RleHR1cmVJbmRleF0uYmFzZVRleHR1cmUuZ2V0RHJhd2FibGVTb3VyY2UoKSwgeDEsIHkxLCB3LCBoLCB4MiwgeTIsIHcsIGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dC5nbG9iYWxBbHBoYSA9IDAuNTtcclxuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuZmlsbFJlY3QoeDIsIHkyLCB3LCBoKTtcclxuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuZ2xvYmFsQWxwaGEgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZGVzdHJveVZiKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnZiKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLnZiID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZW5kZXIocmVuZGVyZXIpIHtcclxuICAgICAgICBsZXQgcGx1Z2luID0gcmVuZGVyZXIucGx1Z2luc1sndGlsZW1hcCddO1xyXG4gICAgICAgIGxldCBzaGFkZXIgPSBwbHVnaW4uZ2V0U2hhZGVyKCk7XHJcbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocGx1Z2luKTtcclxuICAgICAgICB0aGlzLl9nbG9iYWxNYXQgPSBzaGFkZXIudW5pZm9ybXMucHJvalRyYW5zTWF0cml4O1xyXG4gICAgICAgIHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnVuaWZvcm1zLnByb2plY3Rpb25NYXRyaXguY29weVRvKHRoaXMuX2dsb2JhbE1hdCkuYXBwZW5kKHRoaXMud29ybGRUcmFuc2Zvcm0pO1xyXG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy5zaGFkb3dDb2xvciA9IHRoaXMuc2hhZG93Q29sb3I7XHJcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLmFuaW1hdGlvbkZyYW1lID0gdGhpcy50aWxlQW5pbSB8fCBwbHVnaW4udGlsZUFuaW07XHJcbiAgICAgICAgdGhpcy5yZW5kZXJXZWJHTENvcmUocmVuZGVyZXIsIHBsdWdpbik7XHJcbiAgICB9XHJcbiAgICByZW5kZXJXZWJHTENvcmUocmVuZGVyZXIsIHBsdWdpbikge1xyXG4gICAgICAgIGxldCBwb2ludHMgPSB0aGlzLnBvaW50c0J1ZjtcclxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGxldCByZWN0c0NvdW50ID0gcG9pbnRzLmxlbmd0aCAvIFBPSU5UX1NUUlVDVF9TSVpFO1xyXG4gICAgICAgIGxldCBzaGFkZXIgPSBwbHVnaW4uZ2V0U2hhZGVyKCk7XHJcbiAgICAgICAgbGV0IHRleHR1cmVzID0gdGhpcy50ZXh0dXJlcztcclxuICAgICAgICBpZiAodGV4dHVyZXMubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgcGx1Z2luLmJpbmRUZXh0dXJlcyhyZW5kZXJlciwgc2hhZGVyLCB0ZXh0dXJlcyk7XHJcbiAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQoc2hhZGVyLCBmYWxzZSk7XHJcbiAgICAgICAgbGV0IHZiID0gdGhpcy52YjtcclxuICAgICAgICBpZiAoIXZiKSB7XHJcbiAgICAgICAgICAgIHZiID0gcGx1Z2luLmNyZWF0ZVZiKCk7XHJcbiAgICAgICAgICAgIHRoaXMudmIgPSB2YjtcclxuICAgICAgICAgICAgdGhpcy52YklkID0gdmIuaWQ7XHJcbiAgICAgICAgICAgIHRoaXMudmJCdWZmZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGlmaWNhdGlvbk1hcmtlciA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBsdWdpbi5jaGVja0luZGV4QnVmZmVyKHJlY3RzQ291bnQsIHZiKTtcclxuICAgICAgICBjb25zdCBib3VuZENvdW50UGVyQnVmZmVyID0gQ29uc3RhbnQuYm91bmRDb3VudFBlckJ1ZmZlcjtcclxuICAgICAgICBsZXQgdmVydGV4QnVmID0gdmIuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKTtcclxuICAgICAgICBsZXQgdmVydGljZXMgPSByZWN0c0NvdW50ICogdmIudmVydFBlclF1YWQ7XHJcbiAgICAgICAgaWYgKHZlcnRpY2VzID09PSAwKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgaWYgKHRoaXMubW9kaWZpY2F0aW9uTWFya2VyICE9PSB2ZXJ0aWNlcykge1xyXG4gICAgICAgICAgICB0aGlzLm1vZGlmaWNhdGlvbk1hcmtlciA9IHZlcnRpY2VzO1xyXG4gICAgICAgICAgICBsZXQgdnMgPSB2Yi5zdHJpZGUgKiB2ZXJ0aWNlcztcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnZiQnVmZmVyIHx8IHRoaXMudmJCdWZmZXIuYnl0ZUxlbmd0aCA8IHZzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYmsgPSB2Yi5zdHJpZGU7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoYmsgPCB2cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJrICo9IDI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZiQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGJrKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudmJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy52YkJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZiSW50cyA9IG5ldyBVaW50MzJBcnJheSh0aGlzLnZiQnVmZmVyKTtcclxuICAgICAgICAgICAgICAgIHZlcnRleEJ1Zi51cGRhdGUodGhpcy52YkJ1ZmZlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGFyciA9IHRoaXMudmJBcnJheSwgaW50cyA9IHRoaXMudmJJbnRzO1xyXG4gICAgICAgICAgICBsZXQgc3ogPSAwO1xyXG4gICAgICAgICAgICBsZXQgdGV4dHVyZUlkID0gMDtcclxuICAgICAgICAgICAgbGV0IHNoaWZ0VSA9IHRoaXMub2Zmc2V0WDtcclxuICAgICAgICAgICAgbGV0IHNoaWZ0ViA9IHRoaXMub2Zmc2V0WTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpICs9IFBPSU5UX1NUUlVDVF9TSVpFKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZXBzID0gMC41O1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29tcG9zaXRlUGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvdW5kQ291bnRQZXJCdWZmZXIgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmVJZCA9IChwb2ludHNbaSArIDldID4+IDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGlmdFUgPSB0aGlzLm9mZnNldFggKiAocG9pbnRzW2kgKyA5XSAmIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGlmdFYgPSB0aGlzLm9mZnNldFkgKiAoKHBvaW50c1tpICsgOV0gPj4gMSkgJiAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmVJZCA9IHBvaW50c1tpICsgOV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaWZ0VSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaWZ0ViA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IHggPSBwb2ludHNbaSArIDJdLCB5ID0gcG9pbnRzW2kgKyAzXTtcclxuICAgICAgICAgICAgICAgIGxldCB3ID0gcG9pbnRzW2kgKyA0XSwgaCA9IHBvaW50c1tpICsgNV07XHJcbiAgICAgICAgICAgICAgICBsZXQgdSA9IHBvaW50c1tpXSArIHNoaWZ0VSwgdiA9IHBvaW50c1tpICsgMV0gKyBzaGlmdFY7XHJcbiAgICAgICAgICAgICAgICBsZXQgcm90YXRlID0gcG9pbnRzW2kgKyA2XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1YID0gcG9pbnRzW2kgKyA3XSwgYW5pbVkgPSBwb2ludHNbaSArIDhdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYW5pbVdpZHRoID0gcG9pbnRzW2kgKyAxMF0gfHwgMTAyNCwgYW5pbUhlaWdodCA9IHBvaW50c1tpICsgMTFdIHx8IDEwMjQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmltWEVuY29kZWQgPSBhbmltWCArIChhbmltV2lkdGggKiAyMDQ4KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1ZRW5jb2RlZCA9IGFuaW1ZICsgKGFuaW1IZWlnaHQgKiAyMDQ4KTtcclxuICAgICAgICAgICAgICAgIGxldCB1MCwgdjAsIHUxLCB2MSwgdTIsIHYyLCB1MywgdjM7XHJcbiAgICAgICAgICAgICAgICBpZiAocm90YXRlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdTAgPSB1O1xyXG4gICAgICAgICAgICAgICAgICAgIHYwID0gdjtcclxuICAgICAgICAgICAgICAgICAgICB1MSA9IHUgKyB3O1xyXG4gICAgICAgICAgICAgICAgICAgIHYxID0gdjtcclxuICAgICAgICAgICAgICAgICAgICB1MiA9IHUgKyB3O1xyXG4gICAgICAgICAgICAgICAgICAgIHYyID0gdiArIGg7XHJcbiAgICAgICAgICAgICAgICAgICAgdTMgPSB1O1xyXG4gICAgICAgICAgICAgICAgICAgIHYzID0gdiArIGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdzIgPSB3IC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaDIgPSBoIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocm90YXRlICUgNCAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3MiA9IGggLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoMiA9IHcgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjWCA9IHUgKyB3MjtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjWSA9IHYgKyBoMjtcclxuICAgICAgICAgICAgICAgICAgICByb3RhdGUgPSBtYXRoLmdyb3VwRDguYWRkKHJvdGF0ZSwgbWF0aC5ncm91cEQ4Lk5XKTtcclxuICAgICAgICAgICAgICAgICAgICB1MCA9IGNYICsgKHcyICogbWF0aC5ncm91cEQ4LnVYKHJvdGF0ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHYwID0gY1kgKyAoaDIgKiBtYXRoLmdyb3VwRDgudVkocm90YXRlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcm90YXRlID0gbWF0aC5ncm91cEQ4LmFkZChyb3RhdGUsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHUxID0gY1ggKyAodzIgKiBtYXRoLmdyb3VwRDgudVgocm90YXRlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdjEgPSBjWSArIChoMiAqIG1hdGguZ3JvdXBEOC51WShyb3RhdGUpKTtcclxuICAgICAgICAgICAgICAgICAgICByb3RhdGUgPSBtYXRoLmdyb3VwRDguYWRkKHJvdGF0ZSwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdTIgPSBjWCArICh3MiAqIG1hdGguZ3JvdXBEOC51WChyb3RhdGUpKTtcclxuICAgICAgICAgICAgICAgICAgICB2MiA9IGNZICsgKGgyICogbWF0aC5ncm91cEQ4LnVZKHJvdGF0ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0ZSA9IG1hdGguZ3JvdXBEOC5hZGQocm90YXRlLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICB1MyA9IGNYICsgKHcyICogbWF0aC5ncm91cEQ4LnVYKHJvdGF0ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHYzID0gY1kgKyAoaDIgKiBtYXRoLmdyb3VwRDgudVkocm90YXRlKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhcnJbc3orK10gPSB4O1xyXG4gICAgICAgICAgICAgICAgYXJyW3N6KytdID0geTtcclxuICAgICAgICAgICAgICAgIGFycltzeisrXSA9IHUwO1xyXG4gICAgICAgICAgICAgICAgYXJyW3N6KytdID0gdjA7XHJcbiAgICAgICAgICAgICAgICBhcnJbc3orK10gPSB1ICsgZXBzO1xyXG4gICAgICAgICAgICAgICAgYXJyW3N6KytdID0gdiArIGVwcztcclxuICAgICAgICAgICAgICAgIGFycltzeisrXSA9IHUgKyB3IC0gZXBzO1xyXG4gICAgICAgICAgICAgICAgYXJyW3N6KytdID0gdiArIGggLSBlcHM7XHJcbiAgICAgICAgICAgICAgICBhcnJbc3orK10gPSBhbmltWEVuY29kZWQ7XHJcbiAgICAgICAgICAgICAgICBhcnJbc3orK10gPSBhbmltWUVuY29kZWQ7XHJcbiAgICAgICAgICAgICAgICBhcnJbc3orK10gPSB0ZXh0dXJlSWQ7XHJcbiAgICAgICAgICAgICAgICBhcnJbc3orK10gPSB4ICsgdztcclxuICAgICAgICAgICAgICAgIGFycltzeisrXSA9IHk7XHJcbiAgICAgICAgICAgICAgICBhcnJbc3orK10gPSB1MTtcclxuICAgICAgICAgICAgICAgIGFycltzeisrXSA9IHYxO1xyXG4gICAgICAgICAgICAgICAgYXJyW3N6KytdID0gdSArIGVwcztcclxuICAgICAgICAgICAgICAgIGFycltzeisrXSA9IHYgKyBlcHM7XHJcbiAgICAgICAgICAgICAgICBhcnJbc3orK10gPSB1ICsgdyAtIGVwcztcclxuICAgICAgICAgICAgICAgIGFycltzeisrXSA9IHYgKyBoIC0gZXBzO1xyXG4gICAgICAgICAgICAgICAgYXJyW3N6KytdID0gYW5pbVhFbmNvZGVkO1xyXG4gICAgICAgICAgICAgICAgYXJyW3N6KytdID0gYW5pbVlFbmNvZGVkO1xyXG4gICAgICAgICAgICAgICAgYXJyW3N6KytdID0gdGV4dHVyZUlkO1xyXG4gICAgICAgICAgICAgICAgYXJyW3N6KytdID0geCArIHc7XHJcbiAgICAgICAgICAgICAgICBhcnJbc3orK10gPSB5ICsgaDtcclxuICAgICAgICAgICAgICAgIGFycltzeisrXSA9IHUyO1xyXG4gICAgICAgICAgICAgICAgYXJyW3N6KytdID0gdjI7XHJcbiAgICAgICAgICAgICAgICBhcnJbc3orK10gPSB1ICsgZXBzO1xyXG4gICAgICAgICAgICAgICAgYXJyW3N6KytdID0gdiArIGVwcztcclxuICAgICAgICAgICAgICAgIGFycltzeisrXSA9IHUgKyB3IC0gZXBzO1xyXG4gICAgICAgICAgICAgICAgYXJyW3N6KytdID0gdiArIGggLSBlcHM7XHJcbiAgICAgICAgICAgICAgICBhcnJbc3orK10gPSBhbmltWEVuY29kZWQ7XHJcbiAgICAgICAgICAgICAgICBhcnJbc3orK10gPSBhbmltWUVuY29kZWQ7XHJcbiAgICAgICAgICAgICAgICBhcnJbc3orK10gPSB0ZXh0dXJlSWQ7XHJcbiAgICAgICAgICAgICAgICBhcnJbc3orK10gPSB4O1xyXG4gICAgICAgICAgICAgICAgYXJyW3N6KytdID0geSArIGg7XHJcbiAgICAgICAgICAgICAgICBhcnJbc3orK10gPSB1MztcclxuICAgICAgICAgICAgICAgIGFycltzeisrXSA9IHYzO1xyXG4gICAgICAgICAgICAgICAgYXJyW3N6KytdID0gdSArIGVwcztcclxuICAgICAgICAgICAgICAgIGFycltzeisrXSA9IHYgKyBlcHM7XHJcbiAgICAgICAgICAgICAgICBhcnJbc3orK10gPSB1ICsgdyAtIGVwcztcclxuICAgICAgICAgICAgICAgIGFycltzeisrXSA9IHYgKyBoIC0gZXBzO1xyXG4gICAgICAgICAgICAgICAgYXJyW3N6KytdID0gYW5pbVhFbmNvZGVkO1xyXG4gICAgICAgICAgICAgICAgYXJyW3N6KytdID0gYW5pbVlFbmNvZGVkO1xyXG4gICAgICAgICAgICAgICAgYXJyW3N6KytdID0gdGV4dHVyZUlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZlcnRleEJ1Zi51cGRhdGUoYXJyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh2Yiwgc2hhZGVyKTtcclxuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KGNvbnN0YW50cy5EUkFXX01PREVTLlRSSUFOR0xFUywgcmVjdHNDb3VudCAqIDYsIDApO1xyXG4gICAgfVxyXG4gICAgaXNNb2RpZmllZChhbmltKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubW9kaWZpY2F0aW9uTWFya2VyICE9PSB0aGlzLnBvaW50c0J1Zi5sZW5ndGggfHxcclxuICAgICAgICAgICAgYW5pbSAmJiB0aGlzLmhhc0FuaW0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGNsZWFyTW9kaWZ5KCkge1xyXG4gICAgICAgIHRoaXMubW9kaWZpY2F0aW9uTWFya2VyID0gdGhpcy5wb2ludHNCdWYubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgX2NhbGN1bGF0ZUJvdW5kcygpIHtcclxuICAgICAgICBjb25zdCB7IG1pblgsIG1pblksIG1heFgsIG1heFkgfSA9IHRoaXMuXyRfbG9jYWxCb3VuZHM7XHJcbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZKTtcclxuICAgIH1cclxuICAgIGdldExvY2FsQm91bmRzKHJlY3QpIHtcclxuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuXyRfbG9jYWxCb3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3VwZXIuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcclxuICAgIH1cclxuICAgIGRlc3Ryb3kob3B0aW9ucykge1xyXG4gICAgICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5kZXN0cm95VmIoKTtcclxuICAgIH1cclxufVxuXG5jbGFzcyBDb21wb3NpdGVSZWN0VGlsZUxheWVyIGV4dGVuZHMgZGlzcGxheS5Db250YWluZXIge1xyXG4gICAgY29uc3RydWN0b3IoekluZGV4LCBiaXRtYXBzLCB0ZXhQZXJDaGlsZCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5tb2RpZmljYXRpb25NYXJrZXIgPSAwO1xyXG4gICAgICAgIHRoaXMuc2hhZG93Q29sb3IgPSBuZXcgRmxvYXQzMkFycmF5KFswLjAsIDAuMCwgMC4wLCAwLjVdKTtcclxuICAgICAgICB0aGlzLl9nbG9iYWxNYXQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2xhc3RMYXllciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy50aWxlQW5pbSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplKHpJbmRleCwgYml0bWFwcywgdGV4UGVyQ2hpbGQpIHtcclxuICAgICAgICBpZiAodGV4UGVyQ2hpbGQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgdGV4UGVyQ2hpbGQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnogPSB0aGlzLnpJbmRleCA9IHpJbmRleDtcclxuICAgICAgICB0aGlzLnRleFBlckNoaWxkID0gdGV4UGVyQ2hpbGQgfHwgQ29uc3RhbnQuYm91bmRDb3VudFBlckJ1ZmZlciAqIENvbnN0YW50Lm1heFRleHR1cmVzO1xyXG4gICAgICAgIGlmIChiaXRtYXBzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Qml0bWFwcyhiaXRtYXBzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXRCaXRtYXBzKGJpdG1hcHMpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpdG1hcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGJpdG1hcHNbaV0gJiYgIWJpdG1hcHNbaV0uYmFzZVRleHR1cmUpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgcGl4aS10aWxlbWFwIGNhbm5vdCB1c2UgZGVzdHJveWVkIHRleHR1cmVzLiBgICtcclxuICAgICAgICAgICAgICAgICAgICBgUHJvYmFibHksIHlvdSBwYXNzZWQgcmVzb3VyY2VzWydteUF0bGFzJ10udGV4dHVyZSBpbiBwaXhpID4gNS4yLjEsIGl0IGRvZXMgbm90IGV4aXN0IHRoZXJlLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB0ZXhQZXJDaGlsZCA9IHRoaXMudGV4UGVyQ2hpbGQ7XHJcbiAgICAgICAgbGV0IGxlbjEgPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcclxuICAgICAgICBsZXQgbGVuMiA9IE1hdGguY2VpbChiaXRtYXBzLmxlbmd0aCAvIHRleFBlckNoaWxkKTtcclxuICAgICAgICBsZXQgaTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuMTsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0udGV4dHVyZXMgPSBiaXRtYXBzLnNsaWNlKGkgKiB0ZXhQZXJDaGlsZCwgKGkgKyAxKSAqIHRleFBlckNoaWxkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChpID0gbGVuMTsgaSA8IGxlbjI7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgbGF5ZXIgPSBuZXcgUmVjdFRpbGVMYXllcih0aGlzLnpJbmRleCwgYml0bWFwcy5zbGljZShpICogdGV4UGVyQ2hpbGQsIChpICsgMSkgKiB0ZXhQZXJDaGlsZCkpO1xyXG4gICAgICAgICAgICBsYXllci5jb21wb3NpdGVQYXJlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICBsYXllci5vZmZzZXRYID0gQ29uc3RhbnQuYm91bmRTaXplO1xyXG4gICAgICAgICAgICBsYXllci5vZmZzZXRZID0gQ29uc3RhbnQuYm91bmRTaXplO1xyXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKGxheWVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1vZGlmaWNhdGlvbk1hcmtlciA9IDA7XHJcbiAgICB9XHJcbiAgICBhZGRSZWN0KHRleHR1cmVJbmRleCwgdSwgdiwgeCwgeSwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0LCBhbmltWCwgYW5pbVksIHJvdGF0ZSwgYW5pbVdpZHRoLCBhbmltSGVpZ2h0KSB7XHJcbiAgICAgICAgY29uc3QgY2hpbGRJbmRleCA9IHRleHR1cmVJbmRleCAvIHRoaXMudGV4UGVyQ2hpbGQgPj4gMDtcclxuICAgICAgICBjb25zdCB0ZXh0dXJlSWQgPSB0ZXh0dXJlSW5kZXggJSB0aGlzLnRleFBlckNoaWxkO1xyXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2NoaWxkSW5kZXhdICYmIHRoaXMuY2hpbGRyZW5bY2hpbGRJbmRleF0udGV4dHVyZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5fbGFzdExheWVyID0gdGhpcy5jaGlsZHJlbltjaGlsZEluZGV4XTtcclxuICAgICAgICAgICAgdGhpcy5fbGFzdExheWVyLmFkZFJlY3QodGV4dHVyZUlkLCB1LCB2LCB4LCB5LCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQsIGFuaW1YLCBhbmltWSwgcm90YXRlLCBhbmltV2lkdGgsIGFuaW1IZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fbGFzdExheWVyID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICB0aWxlUm90YXRlKHJvdGF0ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9sYXN0TGF5ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5fbGFzdExheWVyLnRpbGVSb3RhdGUocm90YXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICB0aWxlQW5pbVgob2Zmc2V0LCBjb3VudCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9sYXN0TGF5ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5fbGFzdExheWVyLnRpbGVBbmltWChvZmZzZXQsIGNvdW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICB0aWxlQW5pbVkob2Zmc2V0LCBjb3VudCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9sYXN0TGF5ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5fbGFzdExheWVyLnRpbGVBbmltWShvZmZzZXQsIGNvdW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBhZGRGcmFtZSh0ZXh0dXJlXywgeCwgeSwgYW5pbVgsIGFuaW1ZLCBhbmltV2lkdGgsIGFuaW1IZWlnaHQpIHtcclxuICAgICAgICBsZXQgdGV4dHVyZTtcclxuICAgICAgICBsZXQgbGF5ZXIgPSBudWxsO1xyXG4gICAgICAgIGxldCBpbmQgPSAwO1xyXG4gICAgICAgIGxldCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XHJcbiAgICAgICAgdGhpcy5fbGFzdExheWVyID0gbnVsbDtcclxuICAgICAgICBpZiAodHlwZW9mIHRleHR1cmVfID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIGxldCBjaGlsZEluZGV4ID0gdGV4dHVyZV8gLyB0aGlzLnRleFBlckNoaWxkID4+IDA7XHJcbiAgICAgICAgICAgIGxheWVyID0gY2hpbGRyZW5bY2hpbGRJbmRleF07XHJcbiAgICAgICAgICAgIGlmICghbGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgIGxheWVyID0gY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgICAgICBpZiAoIWxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbmQgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaW5kID0gdGV4dHVyZV8gJSB0aGlzLnRleFBlckNoaWxkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRleHR1cmUgPSBsYXllci50ZXh0dXJlc1tpbmRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXh0dXJlXyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgdGV4dHVyZSA9IGNvcmUuVGV4dHVyZS5mcm9tKHRleHR1cmVfKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlXztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgICAgIGxldCB0ZXggPSBjaGlsZC50ZXh0dXJlcztcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGV4Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleFtqXS5iYXNlVGV4dHVyZSA9PT0gdGV4dHVyZS5iYXNlVGV4dHVyZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllciA9IGNoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmQgPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLnRleHR1cmVzLmxlbmd0aCA8IHRoaXMudGV4UGVyQ2hpbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIgPSBjaGlsZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kID0gY2hpbGQudGV4dHVyZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC50ZXh0dXJlcy5wdXNoKHRleHR1cmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIgPSBuZXcgUmVjdFRpbGVMYXllcih0aGlzLnpJbmRleCwgdGV4dHVyZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIuY29tcG9zaXRlUGFyZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci5vZmZzZXRYID0gQ29uc3RhbnQuYm91bmRTaXplO1xyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyLm9mZnNldFkgPSBDb25zdGFudC5ib3VuZFNpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChsYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9sYXN0TGF5ZXIgPSBsYXllcjtcclxuICAgICAgICBsYXllci5hZGRSZWN0KGluZCwgdGV4dHVyZS5mcmFtZS54LCB0ZXh0dXJlLmZyYW1lLnksIHgsIHksIHRleHR1cmUub3JpZy53aWR0aCwgdGV4dHVyZS5vcmlnLmhlaWdodCwgYW5pbVgsIGFuaW1ZLCB0ZXh0dXJlLnJvdGF0ZSwgYW5pbVdpZHRoLCBhbmltSGVpZ2h0KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIHJlbmRlckNhbnZhcyhyZW5kZXJlcikge1xyXG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcGx1Z2luID0gcmVuZGVyZXIucGx1Z2lucy50aWxlbWFwO1xyXG4gICAgICAgIGlmICghcGx1Z2luLmRvbnRVc2VUcmFuc2Zvcm0pIHtcclxuICAgICAgICAgICAgbGV0IHd0ID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcclxuICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dC5zZXRUcmFuc2Zvcm0od3QuYSwgd3QuYiwgd3QuYywgd3QuZCwgd3QudHggKiByZW5kZXJlci5yZXNvbHV0aW9uLCB3dC50eSAqIHJlbmRlcmVyLnJlc29sdXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbGF5ZXJzID0gdGhpcy5jaGlsZHJlbjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxheWVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBsYXllciA9IGxheWVyc1tpXTtcclxuICAgICAgICAgICAgbGF5ZXIudGlsZUFuaW0gPSB0aGlzLnRpbGVBbmltO1xyXG4gICAgICAgICAgICBsYXllci5yZW5kZXJDYW52YXNDb3JlKHJlbmRlcmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZW5kZXIocmVuZGVyZXIpIHtcclxuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHBsdWdpbiA9IHJlbmRlcmVyLnBsdWdpbnNbJ3RpbGVtYXAnXTtcclxuICAgICAgICBsZXQgc2hhZGVyID0gcGx1Z2luLmdldFNoYWRlcigpO1xyXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHBsdWdpbik7XHJcbiAgICAgICAgdGhpcy5fZ2xvYmFsTWF0ID0gc2hhZGVyLnVuaWZvcm1zLnByb2pUcmFuc01hdHJpeDtcclxuICAgICAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4LmNvcHlUbyh0aGlzLl9nbG9iYWxNYXQpLmFwcGVuZCh0aGlzLndvcmxkVHJhbnNmb3JtKTtcclxuICAgICAgICBzaGFkZXIudW5pZm9ybXMuc2hhZG93Q29sb3IgPSB0aGlzLnNoYWRvd0NvbG9yO1xyXG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy5hbmltYXRpb25GcmFtZSA9IHRoaXMudGlsZUFuaW0gfHwgcGx1Z2luLnRpbGVBbmltO1xyXG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHNoYWRlciwgZmFsc2UpO1xyXG4gICAgICAgIGxldCBsYXllcnMgPSB0aGlzLmNoaWxkcmVuO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxheWVyID0gbGF5ZXJzW2ldO1xyXG4gICAgICAgICAgICBsYXllci5yZW5kZXJXZWJHTENvcmUocmVuZGVyZXIsIHBsdWdpbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaXNNb2RpZmllZChhbmltKSB7XHJcbiAgICAgICAgbGV0IGxheWVycyA9IHRoaXMuY2hpbGRyZW47XHJcbiAgICAgICAgaWYgKHRoaXMubW9kaWZpY2F0aW9uTWFya2VyICE9PSBsYXllcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxheWVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAobGF5ZXJzW2ldLmlzTW9kaWZpZWQoYW5pbSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGNsZWFyTW9kaWZ5KCkge1xyXG4gICAgICAgIGxldCBsYXllcnMgPSB0aGlzLmNoaWxkcmVuO1xyXG4gICAgICAgIHRoaXMubW9kaWZpY2F0aW9uTWFya2VyID0gbGF5ZXJzLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxheWVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsYXllcnNbaV0uY2xlYXJNb2RpZnkoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuY2xhc3MgR3JhcGhpY3NMYXllciBleHRlbmRzIGdyYXBoaWNzLkdyYXBoaWNzIHtcclxuICAgIGNvbnN0cnVjdG9yKHpJbmRleCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy56SW5kZXggPSB6SW5kZXg7XHJcbiAgICB9XHJcbiAgICByZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcclxuICAgICAgICBsZXQgd3QgPSBudWxsO1xyXG4gICAgICAgIGlmIChyZW5kZXJlci5wbHVnaW5zLnRpbGVtYXAuZG9udFVzZVRyYW5zZm9ybSkge1xyXG4gICAgICAgICAgICB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSA9IG1hdGguTWF0cml4LklERU5USVRZO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLnJlbmRlcih0aGlzKTtcclxuICAgICAgICBpZiAocmVuZGVyZXIucGx1Z2lucy50aWxlbWFwLmRvbnRVc2VUcmFuc2Zvcm0pIHtcclxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB3dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVuZGVyZXIuY29udGV4dC5nbG9iYWxBbHBoYSA9IDEuMDtcclxuICAgIH1cclxuICAgIGlzTW9kaWZpZWQoYW5pbSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGNsZWFyTW9kaWZ5KCkge1xyXG4gICAgfVxyXG59XG5cbmNsYXNzIE11bHRpVGV4dHVyZVJlc291cmNlIGV4dGVuZHMgY29yZS5yZXNvdXJjZXMuUmVzb3VyY2Uge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgICAgIHN1cGVyKG9wdGlvbnMuYnVmZmVyU2l6ZSwgb3B0aW9ucy5idWZmZXJTaXplKTtcclxuICAgICAgICB0aGlzLkRPX0NMRUFSID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ib3VuZFNpemUgPSAwO1xyXG4gICAgICAgIHRoaXMuX2NsZWFyQnVmZmVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmJhc2VUZXggPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYm91bmRTcHJpdGVzID0gW107XHJcbiAgICAgICAgdGhpcy5kaXJ0aWVzID0gW107XHJcbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5ib3VuZFNwcml0ZXM7XHJcbiAgICAgICAgY29uc3QgZGlydGllcyA9IHRoaXMuZGlydGllcztcclxuICAgICAgICB0aGlzLmJvdW5kU2l6ZSA9IG9wdGlvbnMuYm91bmRTaXplO1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb3B0aW9ucy5ib3VuZENvdW50UGVyQnVmZmVyOyBqKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgc3ByID0gbmV3IHNwcml0ZS5TcHJpdGUoKTtcclxuICAgICAgICAgICAgc3ByLnBvc2l0aW9uLnggPSBvcHRpb25zLmJvdW5kU2l6ZSAqIChqICYgMSk7XHJcbiAgICAgICAgICAgIHNwci5wb3NpdGlvbi55ID0gb3B0aW9ucy5ib3VuZFNpemUgKiAoaiA+PiAxKTtcclxuICAgICAgICAgICAgYm91bmRzLnB1c2goc3ByKTtcclxuICAgICAgICAgICAgZGlydGllcy5wdXNoKDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLkRPX0NMRUFSID0gISFvcHRpb25zLkRPX0NMRUFSO1xyXG4gICAgfVxyXG4gICAgYmluZChiYXNlVGV4dHVyZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmJhc2VUZXgpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IG9uZSBiYXNlVGV4dHVyZSBpcyBhbGxvd2VkIGZvciB0aGlzIHJlc291cmNlIScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmJhc2VUZXggPSBiYXNlVGV4dHVyZTtcclxuICAgICAgICBzdXBlci5iaW5kKGJhc2VUZXh0dXJlKTtcclxuICAgIH1cclxuICAgIHNldFRleHR1cmUoaW5kLCB0ZXh0dXJlKSB7XHJcbiAgICAgICAgY29uc3Qgc3ByID0gdGhpcy5ib3VuZFNwcml0ZXNbaW5kXTtcclxuICAgICAgICBpZiAoc3ByLnRleHR1cmUuYmFzZVRleHR1cmUgPT09IHRleHR1cmUuYmFzZVRleHR1cmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzcHIudGV4dHVyZSA9IHRleHR1cmU7XHJcbiAgICAgICAgdGhpcy5iYXNlVGV4LnVwZGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuZGlydGllc1tpbmRdID0gdGhpcy5iYXNlVGV4LmRpcnR5SWQ7XHJcbiAgICB9XHJcbiAgICB1cGxvYWQocmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSkge1xyXG4gICAgICAgIGNvbnN0IHsgZ2wgfSA9IHJlbmRlcmVyO1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcztcclxuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIHRleHR1cmUuYWxwaGFNb2RlID09PSB1bmRlZmluZWQgfHxcclxuICAgICAgICAgICAgdGV4dHVyZS5hbHBoYU1vZGUgPT09IGNvbnN0YW50cy5BTFBIQV9NT0RFUy5VTlBBQ0spO1xyXG4gICAgICAgIGlmIChnbFRleHR1cmUuZGlydHlJZCA8IDApIHtcclxuICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQodGV4dHVyZS50YXJnZXQsIDAsIHRleHR1cmUuZm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCAwLCB0ZXh0dXJlLmZvcm1hdCwgdGV4dHVyZS50eXBlLCBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZG9DbGVhciA9IHRoaXMuRE9fQ0xFQVI7XHJcbiAgICAgICAgaWYgKGRvQ2xlYXIgJiYgIXRoaXMuX2NsZWFyQnVmZmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoQ29uc3RhbnQuYm91bmRTaXplICogQ29uc3RhbnQuYm91bmRTaXplICogNCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuYm91bmRTcHJpdGVzO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm91bmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNwciA9IGJvdW5kc1tpXTtcclxuICAgICAgICAgICAgY29uc3QgdGV4ID0gc3ByLnRleHR1cmUuYmFzZVRleHR1cmU7XHJcbiAgICAgICAgICAgIGlmIChnbFRleHR1cmUuZGlydHlJZCA+PSB0aGlzLmRpcnRpZXNbaV0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRleC5yZXNvdXJjZTtcclxuICAgICAgICAgICAgaWYgKCF0ZXgudmFsaWQgfHwgIXJlcyB8fCAhcmVzLnNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRvQ2xlYXIgJiYgKHRleC53aWR0aCA8IHRoaXMuYm91bmRTaXplIHx8IHRleC5oZWlnaHQgPCB0aGlzLmJvdW5kU2l6ZSkpIHtcclxuICAgICAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQodGV4dHVyZS50YXJnZXQsIDAsIHNwci5wb3NpdGlvbi54LCBzcHIucG9zaXRpb24ueSwgdGhpcy5ib3VuZFNpemUsIHRoaXMuYm91bmRTaXplLCB0ZXh0dXJlLmZvcm1hdCwgdGV4dHVyZS50eXBlLCB0aGlzLl9jbGVhckJ1ZmZlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRCh0ZXh0dXJlLnRhcmdldCwgMCwgc3ByLnBvc2l0aW9uLngsIHNwci5wb3NpdGlvbi55LCB0ZXh0dXJlLmZvcm1hdCwgdGV4dHVyZS50eXBlLCByZXMuc291cmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gZmlsbFNhbXBsZXJzKHNoYWRlciwgbWF4VGV4dHVyZXMpIHtcclxuICAgIGxldCBzYW1wbGVWYWx1ZXMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xyXG4gICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGk7XHJcbiAgICB9XHJcbiAgICBzaGFkZXIudW5pZm9ybXMudVNhbXBsZXJzID0gc2FtcGxlVmFsdWVzO1xyXG4gICAgbGV0IHNhbXBsZXJTaXplID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspIHtcclxuICAgICAgICBzYW1wbGVyU2l6ZS5wdXNoKDEuMCAvIENvbnN0YW50LmJ1ZmZlclNpemUpO1xyXG4gICAgICAgIHNhbXBsZXJTaXplLnB1c2goMS4wIC8gQ29uc3RhbnQuYnVmZmVyU2l6ZSk7XHJcbiAgICB9XHJcbiAgICBzaGFkZXIudW5pZm9ybXMudVNhbXBsZXJTaXplID0gc2FtcGxlclNpemU7XHJcbn1cclxuZnVuY3Rpb24gZ2VuZXJhdGVGcmFnbWVudFNyYyhtYXhUZXh0dXJlcywgZnJhZ21lbnRTcmMpIHtcclxuICAgIHJldHVybiBmcmFnbWVudFNyYy5yZXBsYWNlKC8lY291bnQlL2dpLCBtYXhUZXh0dXJlcyArIFwiXCIpXHJcbiAgICAgICAgLnJlcGxhY2UoLyVmb3Jsb29wJS9naSwgZ2VuZXJhdGVTYW1wbGVTcmMobWF4VGV4dHVyZXMpKTtcclxufVxyXG5mdW5jdGlvbiBnZW5lcmF0ZVNhbXBsZVNyYyhtYXhUZXh0dXJlcykge1xyXG4gICAgbGV0IHNyYyA9ICcnO1xyXG4gICAgc3JjICs9ICdcXG4nO1xyXG4gICAgc3JjICs9ICdcXG4nO1xyXG4gICAgc3JjICs9ICdpZih2VGV4dHVyZUlkIDw9IC0xLjApIHsnO1xyXG4gICAgc3JjICs9ICdcXG5cXHRjb2xvciA9IHNoYWRvd0NvbG9yOyc7XHJcbiAgICBzcmMgKz0gJ1xcbn0nO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XHJcbiAgICAgICAgc3JjICs9ICdcXG5lbHNlICc7XHJcbiAgICAgICAgaWYgKGkgPCBtYXhUZXh0dXJlcyAtIDEpIHtcclxuICAgICAgICAgICAgc3JjICs9ICdpZih0ZXh0dXJlSWQgPT0gJyArIGkgKyAnLjApJztcclxuICAgICAgICB9XHJcbiAgICAgICAgc3JjICs9ICdcXG57JztcclxuICAgICAgICBzcmMgKz0gJ1xcblxcdGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyc1snICsgaSArICddLCB0ZXh0dXJlQ29vcmQgKiB1U2FtcGxlclNpemVbJyArIGkgKyAnXSk7JztcclxuICAgICAgICBzcmMgKz0gJ1xcbn0nO1xyXG4gICAgfVxyXG4gICAgc3JjICs9ICdcXG4nO1xyXG4gICAgc3JjICs9ICdcXG4nO1xyXG4gICAgcmV0dXJuIHNyYztcclxufVxuXG5sZXQgcmVjdFNoYWRlckZyYWcgPSBgXHJcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xyXG52YXJ5aW5nIHZlYzQgdkZyYW1lO1xyXG52YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XHJcbnVuaWZvcm0gdmVjNCBzaGFkb3dDb2xvcjtcclxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXJzWyVjb3VudCVdO1xyXG51bmlmb3JtIHZlYzIgdVNhbXBsZXJTaXplWyVjb3VudCVdO1xyXG5cclxudm9pZCBtYWluKHZvaWQpe1xyXG4gICB2ZWMyIHRleHR1cmVDb29yZCA9IGNsYW1wKHZUZXh0dXJlQ29vcmQsIHZGcmFtZS54eSwgdkZyYW1lLnp3KTtcclxuICAgZmxvYXQgdGV4dHVyZUlkID0gZmxvb3IodlRleHR1cmVJZCArIDAuNSk7XHJcblxyXG4gICB2ZWM0IGNvbG9yO1xyXG4gICAlZm9ybG9vcCVcclxuICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XHJcbn1cclxuYDtcclxubGV0IHJlY3RTaGFkZXJWZXJ0ID0gYFxyXG5hdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XHJcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XHJcbmF0dHJpYnV0ZSB2ZWM0IGFGcmFtZTtcclxuYXR0cmlidXRlIHZlYzIgYUFuaW07XHJcbmF0dHJpYnV0ZSBmbG9hdCBhVGV4dHVyZUlkO1xyXG5cclxudW5pZm9ybSBtYXQzIHByb2pUcmFuc01hdHJpeDtcclxudW5pZm9ybSB2ZWMyIGFuaW1hdGlvbkZyYW1lO1xyXG5cclxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XHJcbnZhcnlpbmcgZmxvYXQgdlRleHR1cmVJZDtcclxudmFyeWluZyB2ZWM0IHZGcmFtZTtcclxuXHJcbnZvaWQgbWFpbih2b2lkKXtcclxuICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qVHJhbnNNYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcclxuICAgdmVjMiBhbmltQ291bnQgPSBmbG9vcigoYUFuaW0gKyAwLjUpIC8gMjA0OC4wKTtcclxuICAgdmVjMiBhbmltRnJhbWVPZmZzZXQgPSBhQW5pbSAtIGFuaW1Db3VudCAqIDIwNDguMDtcclxuICAgdmVjMiBhbmltT2Zmc2V0ID0gYW5pbUZyYW1lT2Zmc2V0ICogZmxvb3IobW9kKGFuaW1hdGlvbkZyYW1lICsgMC41LCBhbmltQ291bnQpKTtcclxuXHJcbiAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkICsgYW5pbU9mZnNldDtcclxuICAgdkZyYW1lID0gYUZyYW1lICsgdmVjNChhbmltT2Zmc2V0LCBhbmltT2Zmc2V0KTtcclxuICAgdlRleHR1cmVJZCA9IGFUZXh0dXJlSWQ7XHJcbn1cclxuYDtcclxuY2xhc3MgVGlsZW1hcFNoYWRlciBleHRlbmRzIGNvcmUuU2hhZGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKG1heFRleHR1cmVzLCBzaGFkZXJWZXJ0LCBzaGFkZXJGcmFnKSB7XHJcbiAgICAgICAgc3VwZXIobmV3IGNvcmUuUHJvZ3JhbShzaGFkZXJWZXJ0LCBzaGFkZXJGcmFnKSwge1xyXG4gICAgICAgICAgICBhbmltYXRpb25GcmFtZTogbmV3IEZsb2F0MzJBcnJheSgyKSxcclxuICAgICAgICAgICAgdVNhbXBsZXJzOiBbXSxcclxuICAgICAgICAgICAgdVNhbXBsZXJTaXplOiBbXSxcclxuICAgICAgICAgICAgcHJvalRyYW5zTWF0cml4OiBuZXcgbWF0aC5NYXRyaXgoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubWF4VGV4dHVyZXMgPSAwO1xyXG4gICAgICAgIHRoaXMubWF4VGV4dHVyZXMgPSBtYXhUZXh0dXJlcztcclxuICAgICAgICBmaWxsU2FtcGxlcnModGhpcywgdGhpcy5tYXhUZXh0dXJlcyk7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgUmVjdFRpbGVTaGFkZXIgZXh0ZW5kcyBUaWxlbWFwU2hhZGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKG1heFRleHR1cmVzKSB7XHJcbiAgICAgICAgc3VwZXIobWF4VGV4dHVyZXMsIHJlY3RTaGFkZXJWZXJ0LCBnZW5lcmF0ZUZyYWdtZW50U3JjKG1heFRleHR1cmVzLCByZWN0U2hhZGVyRnJhZykpO1xyXG4gICAgICAgIGZpbGxTYW1wbGVycyh0aGlzLCB0aGlzLm1heFRleHR1cmVzKTtcclxuICAgIH1cclxufVxyXG5jbGFzcyBSZWN0VGlsZUdlb20gZXh0ZW5kcyBjb3JlLkdlb21ldHJ5IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy52ZXJ0U2l6ZSA9IDExO1xyXG4gICAgICAgIHRoaXMudmVydFBlclF1YWQgPSA0O1xyXG4gICAgICAgIHRoaXMuc3RyaWRlID0gdGhpcy52ZXJ0U2l6ZSAqIDQ7XHJcbiAgICAgICAgdGhpcy5sYXN0VGltZUFjY2VzcyA9IDA7XHJcbiAgICAgICAgY29uc3QgYnVmID0gdGhpcy5idWYgPSBuZXcgY29yZS5CdWZmZXIobmV3IEZsb2F0MzJBcnJheSgyKSwgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCBidWYsIDAsIGZhbHNlLCAwLCB0aGlzLnN0cmlkZSwgMClcclxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIGJ1ZiwgMCwgZmFsc2UsIDAsIHRoaXMuc3RyaWRlLCAyICogNClcclxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYUZyYW1lJywgYnVmLCAwLCBmYWxzZSwgMCwgdGhpcy5zdHJpZGUsIDQgKiA0KVxyXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhQW5pbScsIGJ1ZiwgMCwgZmFsc2UsIDAsIHRoaXMuc3RyaWRlLCA4ICogNClcclxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVJZCcsIGJ1ZiwgMCwgZmFsc2UsIDAsIHRoaXMuc3RyaWRlLCAxMCAqIDQpO1xyXG4gICAgfVxyXG59XG5cbmNsYXNzIFRpbGVSZW5kZXJlciBleHRlbmRzIGNvcmUuT2JqZWN0UmVuZGVyZXIge1xyXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcclxuICAgICAgICBzdXBlcihyZW5kZXJlcik7XHJcbiAgICAgICAgdGhpcy5zbiA9IC0xO1xyXG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaWJMZW4gPSAwO1xyXG4gICAgICAgIHRoaXMudGlsZUFuaW0gPSBbMCwgMF07XHJcbiAgICAgICAgdGhpcy50ZXhMb2MgPSBbXTtcclxuICAgICAgICB0aGlzLnRleFJlc291cmNlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMucmVjdFNoYWRlciA9IG5ldyBSZWN0VGlsZVNoYWRlcihDb25zdGFudC5tYXhUZXh0dXJlcyk7XHJcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG5ldyBjb3JlLkJ1ZmZlcih1bmRlZmluZWQsIHRydWUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tJbmRleEJ1ZmZlcigyMDAwKTtcclxuICAgICAgICB0aGlzLmluaXRCb3VuZHMoKTtcclxuICAgIH1cclxuICAgIGluaXRCb3VuZHMoKSB7XHJcbiAgICAgICAgaWYgKENvbnN0YW50LmJvdW5kQ291bnRQZXJCdWZmZXIgPD0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1heFRleHR1cmVzID0gQ29uc3RhbnQubWF4VGV4dHVyZXM7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlID0gbmV3IE11bHRpVGV4dHVyZVJlc291cmNlKENvbnN0YW50KTtcclxuICAgICAgICAgICAgY29uc3QgYmFzZVRleCA9IG5ldyBjb3JlLkJhc2VUZXh0dXJlKHJlc291cmNlKTtcclxuICAgICAgICAgICAgYmFzZVRleC5zY2FsZU1vZGUgPSBDb25zdGFudC5TQ0FMRV9NT0RFO1xyXG4gICAgICAgICAgICBiYXNlVGV4LndyYXBNb2RlID0gY29uc3RhbnRzLldSQVBfTU9ERVMuQ0xBTVA7XHJcbiAgICAgICAgICAgIHRoaXMudGV4UmVzb3VyY2VzLnB1c2gocmVzb3VyY2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGJpbmRUZXh0dXJlc1dpdGhvdXRSVChyZW5kZXJlciwgc2hhZGVyLCB0ZXh0dXJlcykge1xyXG4gICAgICAgIGxldCBzYW1wbGVyU2l6ZSA9IHNoYWRlci51bmlmb3Jtcy51U2FtcGxlclNpemU7XHJcbiAgICAgICAgdGhpcy50ZXhMb2MubGVuZ3RoID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmUgPSB0ZXh0dXJlc1tpXTtcclxuICAgICAgICAgICAgaWYgKCF0ZXh0dXJlIHx8ICF0ZXh0dXJlLnZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKHRleHR1cmVzW2ldLCBpKTtcclxuICAgICAgICAgICAgc2FtcGxlclNpemVbaSAqIDJdID0gMS4wIC8gdGV4dHVyZXNbaV0uYmFzZVRleHR1cmUud2lkdGg7XHJcbiAgICAgICAgICAgIHNhbXBsZXJTaXplW2kgKiAyICsgMV0gPSAxLjAgLyB0ZXh0dXJlc1tpXS5iYXNlVGV4dHVyZS5oZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51U2FtcGxlclNpemUgPSBzYW1wbGVyU2l6ZTtcclxuICAgIH1cclxuICAgIGJpbmRUZXh0dXJlcyhyZW5kZXJlciwgc2hhZGVyLCB0ZXh0dXJlcykge1xyXG4gICAgICAgIGNvbnN0IGxlbiA9IHRleHR1cmVzLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBtYXhUZXh0dXJlcyA9IENvbnN0YW50Lm1heFRleHR1cmVzO1xyXG4gICAgICAgIGlmIChsZW4gPiBDb25zdGFudC5ib3VuZENvdW50UGVyQnVmZmVyICogbWF4VGV4dHVyZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQ29uc3RhbnQuYm91bmRDb3VudFBlckJ1ZmZlciA8PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmluZFRleHR1cmVzV2l0aG91dFJUKHJlbmRlcmVyLCBzaGFkZXIsIHRleHR1cmVzKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0dXJlID0gdGV4dHVyZXNbaV07XHJcbiAgICAgICAgICAgIGlmICghdGV4dHVyZSB8fCAhdGV4dHVyZS52YWxpZClcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBjb25zdCBtdWx0aSA9IHRoaXMudGV4UmVzb3VyY2VzW2kgPj4gMl07XHJcbiAgICAgICAgICAgIG11bHRpLnNldFRleHR1cmUoaSAmIDMsIHRleHR1cmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZ2x0c1VzZWQgPSAoaSArIDMpID4+IDI7XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGdsdHNVc2VkOyBpKyspIHtcclxuICAgICAgICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKHRoaXMudGV4UmVzb3VyY2VzW2ldLmJhc2VUZXgsIGkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgfVxyXG4gICAgY3JlYXRlVmIoKSB7XHJcbiAgICAgICAgY29uc3QgZ2VvbSA9IG5ldyBSZWN0VGlsZUdlb20oKTtcclxuICAgICAgICBnZW9tLmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpO1xyXG4gICAgICAgIGdlb20ubGFzdFRpbWVBY2Nlc3MgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHJldHVybiBnZW9tO1xyXG4gICAgfVxyXG4gICAgY2hlY2tJbmRleEJ1ZmZlcihzaXplLCB2YiA9IG51bGwpIHtcclxuICAgICAgICBjb25zdCB0b3RhbEluZGljZXMgPSBzaXplICogNjtcclxuICAgICAgICBpZiAodG90YWxJbmRpY2VzIDw9IHRoaXMuaWJMZW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmliTGVuID0gdG90YWxJbmRpY2VzO1xyXG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIudXBkYXRlKFBJWEkudXRpbHMuY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHNpemUsIENvbnN0YW50LnVzZTMyYml0SW5kZXggPyBuZXcgVWludDMyQXJyYXkoc2l6ZSAqIDYpIDogdW5kZWZpbmVkKSk7XHJcbiAgICB9XHJcbiAgICBnZXRTaGFkZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVjdFNoYWRlcjtcclxuICAgIH1cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMucmVjdFNoYWRlciA9IG51bGw7XHJcbiAgICB9XHJcbn1cclxuY29yZS5SZW5kZXJlci5yZWdpc3RlclBsdWdpbigndGlsZW1hcCcsIFRpbGVSZW5kZXJlcik7XG5cbmNsYXNzIFpMYXllciBleHRlbmRzIGRpc3BsYXkuQ29udGFpbmVyIHtcclxuICAgIGNvbnN0cnVjdG9yKHRpbGVtYXAsIHpJbmRleCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5fbGFzdEFuaW1hdGlvbkZyYW1lID0gLTE7XHJcbiAgICAgICAgdGhpcy50aWxlbWFwID0gdGlsZW1hcDtcclxuICAgICAgICB0aGlzLnogPSB6SW5kZXg7XHJcbiAgICB9XHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICBsZXQgbGF5ZXJzID0gdGhpcy5jaGlsZHJlbjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxheWVycy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgbGF5ZXJzW2ldLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5fcHJldmlvdXNMYXllcnMgPSAwO1xyXG4gICAgfVxyXG4gICAgY2FjaGVJZkRpcnR5KCkge1xyXG4gICAgICAgIGxldCB0aWxlbWFwID0gdGhpcy50aWxlbWFwO1xyXG4gICAgICAgIGxldCBsYXllcnMgPSB0aGlzLmNoaWxkcmVuO1xyXG4gICAgICAgIGxldCBtb2RpZmllZCA9IHRoaXMuX3ByZXZpb3VzTGF5ZXJzICE9PSBsYXllcnMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuX3ByZXZpb3VzTGF5ZXJzID0gbGF5ZXJzLmxlbmd0aDtcclxuICAgICAgICBsZXQgYnVmID0gdGhpcy5jYW52YXNCdWZmZXI7XHJcbiAgICAgICAgbGV0IHRlbXBSZW5kZXIgPSB0aGlzLl90ZW1wUmVuZGVyO1xyXG4gICAgICAgIGlmICghYnVmKSB7XHJcbiAgICAgICAgICAgIGJ1ZiA9IHRoaXMuY2FudmFzQnVmZmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgIHRlbXBSZW5kZXIgPSB0aGlzLl90ZW1wUmVuZGVyID0gbmV3IFBJWEkuQ2FudmFzUmVuZGVyZXIoeyB3aWR0aDogMTAwLCBoZWlnaHQ6IDEwMCwgdmlldzogYnVmIH0pO1xyXG4gICAgICAgICAgICB0ZW1wUmVuZGVyLmNvbnRleHQgPSB0ZW1wUmVuZGVyLnJvb3RDb250ZXh0O1xyXG4gICAgICAgICAgICB0ZW1wUmVuZGVyLnBsdWdpbnMudGlsZW1hcC5kb250VXNlVHJhbnNmb3JtID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJ1Zi53aWR0aCAhPT0gdGlsZW1hcC5fbGF5ZXJXaWR0aCB8fFxyXG4gICAgICAgICAgICBidWYuaGVpZ2h0ICE9PSB0aWxlbWFwLl9sYXllckhlaWdodCkge1xyXG4gICAgICAgICAgICBidWYud2lkdGggPSB0aWxlbWFwLl9sYXllcldpZHRoO1xyXG4gICAgICAgICAgICBidWYuaGVpZ2h0ID0gdGlsZW1hcC5fbGF5ZXJIZWlnaHQ7XHJcbiAgICAgICAgICAgIG1vZGlmaWVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGk7XHJcbiAgICAgICAgaWYgKCFtb2RpZmllZCkge1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGF5ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXJzW2ldLmlzTW9kaWZpZWQodGhpcy5fbGFzdEFuaW1hdGlvbkZyYW1lICE9PSB0aWxlbWFwLmFuaW1hdGlvbkZyYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9sYXN0QW5pbWF0aW9uRnJhbWUgPSB0aWxlbWFwLmFuaW1hdGlvbkZyYW1lO1xyXG4gICAgICAgIGlmIChtb2RpZmllZCkge1xyXG4gICAgICAgICAgICBpZiAodGlsZW1hcC5faGFja1JlbmRlcmVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aWxlbWFwLl9oYWNrUmVuZGVyZXIodGVtcFJlbmRlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGVtcFJlbmRlci5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBidWYud2lkdGgsIGJ1Zi5oZWlnaHQpO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGF5ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsYXllcnNbaV0uY2xlYXJNb2RpZnkoKTtcclxuICAgICAgICAgICAgICAgIGxheWVyc1tpXS5yZW5kZXJDYW52YXModGVtcFJlbmRlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sYXllclRyYW5zZm9ybSA9IHRoaXMud29ybGRUcmFuc2Zvcm07XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxheWVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmxheWVyVHJhbnNmb3JtID0gbGF5ZXJzW2ldLndvcmxkVHJhbnNmb3JtO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcclxuICAgICAgICB0aGlzLmNhY2hlSWZEaXJ0eSgpO1xyXG4gICAgICAgIGxldCB3dCA9IHRoaXMubGF5ZXJUcmFuc2Zvcm07XHJcbiAgICAgICAgcmVuZGVyZXIuY29udGV4dC5zZXRUcmFuc2Zvcm0od3QuYSwgd3QuYiwgd3QuYywgd3QuZCwgd3QudHggKiByZW5kZXJlci5yZXNvbHV0aW9uLCB3dC50eSAqIHJlbmRlcmVyLnJlc29sdXRpb24pO1xyXG4gICAgICAgIGxldCB0aWxlbWFwID0gdGhpcy50aWxlbWFwO1xyXG4gICAgICAgIHJlbmRlcmVyLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMuY2FudmFzQnVmZmVyLCAwLCAwKTtcclxuICAgIH1cclxufVxuXG5jb25zdCBwaXhpX3RpbGVtYXAgPSB7XHJcbiAgICBDYW52YXNUaWxlUmVuZGVyZXIsXHJcbiAgICBDb21wb3NpdGVSZWN0VGlsZUxheWVyLFxyXG4gICAgQ29uc3RhbnQsXHJcbiAgICBHcmFwaGljc0xheWVyLFxyXG4gICAgTXVsdGlUZXh0dXJlUmVzb3VyY2UsXHJcbiAgICBSZWN0VGlsZUxheWVyLFxyXG4gICAgVGlsZW1hcFNoYWRlcixcclxuICAgIFJlY3RUaWxlU2hhZGVyLFxyXG4gICAgUmVjdFRpbGVHZW9tLFxyXG4gICAgVGlsZVJlbmRlcmVyLFxyXG4gICAgWkxheWVyLFxyXG59O1xuXG5leHBvcnRzLkNhbnZhc1RpbGVSZW5kZXJlciA9IENhbnZhc1RpbGVSZW5kZXJlcjtcbmV4cG9ydHMuQ29tcG9zaXRlUmVjdFRpbGVMYXllciA9IENvbXBvc2l0ZVJlY3RUaWxlTGF5ZXI7XG5leHBvcnRzLkNvbnN0YW50ID0gQ29uc3RhbnQ7XG5leHBvcnRzLkdyYXBoaWNzTGF5ZXIgPSBHcmFwaGljc0xheWVyO1xuZXhwb3J0cy5NdWx0aVRleHR1cmVSZXNvdXJjZSA9IE11bHRpVGV4dHVyZVJlc291cmNlO1xuZXhwb3J0cy5QT0lOVF9TVFJVQ1RfU0laRSA9IFBPSU5UX1NUUlVDVF9TSVpFO1xuZXhwb3J0cy5SZWN0VGlsZUdlb20gPSBSZWN0VGlsZUdlb207XG5leHBvcnRzLlJlY3RUaWxlTGF5ZXIgPSBSZWN0VGlsZUxheWVyO1xuZXhwb3J0cy5SZWN0VGlsZVNoYWRlciA9IFJlY3RUaWxlU2hhZGVyO1xuZXhwb3J0cy5UaWxlUmVuZGVyZXIgPSBUaWxlUmVuZGVyZXI7XG5leHBvcnRzLlRpbGVtYXBTaGFkZXIgPSBUaWxlbWFwU2hhZGVyO1xuZXhwb3J0cy5aTGF5ZXIgPSBaTGF5ZXI7XG5leHBvcnRzLmZpbGxTYW1wbGVycyA9IGZpbGxTYW1wbGVycztcbmV4cG9ydHMuZ2VuZXJhdGVGcmFnbWVudFNyYyA9IGdlbmVyYXRlRnJhZ21lbnRTcmM7XG5leHBvcnRzLmdlbmVyYXRlU2FtcGxlU3JjID0gZ2VuZXJhdGVTYW1wbGVTcmM7XG5leHBvcnRzLnBpeGlfdGlsZW1hcCA9IHBpeGlfdGlsZW1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpeGktdGlsZW1hcC5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvcG9seWZpbGwgLSB2NS4zLjdcbiAqIENvbXBpbGVkIFR1ZSwgMjkgRGVjIDIwMjAgMTk6MzA6MTEgVVRDXG4gKlxuICogQHBpeGkvcG9seWZpbGwgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBQb2x5ZmlsbCB9IGZyb20gJ2VzNi1wcm9taXNlLXBvbHlmaWxsJztcbmltcG9ydCBvYmplY3RBc3NpZ24gZnJvbSAnb2JqZWN0LWFzc2lnbic7XG5cbi8vIFN1cHBvcnQgZm9yIElFIDkgLSAxMSB3aGljaCBkb2VzIG5vdCBpbmNsdWRlIFByb21pc2VzXG5pZiAoIXdpbmRvdy5Qcm9taXNlKSB7XG4gICAgd2luZG93LlByb21pc2UgPSBQb2x5ZmlsbDtcbn1cblxuLy8gUmVmZXJlbmNlczpcbmlmICghT2JqZWN0LmFzc2lnbikge1xuICAgIE9iamVjdC5hc3NpZ24gPSBvYmplY3RBc3NpZ247XG59XG5cbi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwOi8vcGF1bGlyaXNoLmNvbS8yMDExL3JlcXVlc3RhbmltYXRpb25mcmFtZS1mb3Itc21hcnQtYW5pbWF0aW5nL1xuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vMTU3OTY3MVxuLy8gaHR0cDovL3VwZGF0ZXMuaHRtbDVyb2Nrcy5jb20vMjAxMi8wNS9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUtQVBJLW5vdy13aXRoLXN1Yi1taWxsaXNlY29uZC1wcmVjaXNpb25cbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3RpbWhhbGwvNDA3ODYxNFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1zZXJ2aWNlL3RyZWUvbWFzdGVyL3BvbHlmaWxscy9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbi8vIEV4cGVjdGVkIHRvIGJlIHVzZWQgd2l0aCBCcm93c2VyZml5XG4vLyBCcm93c2VyaWZ5IGF1dG9tYXRpY2FsbHkgZGV0ZWN0cyB0aGUgdXNlIG9mIGBnbG9iYWxgIGFuZCBwYXNzZXMgdGhlXG4vLyBjb3JyZWN0IHJlZmVyZW5jZSBvZiBgZ2xvYmFsYCwgYHNlbGZgLCBhbmQgZmluYWxseSBgd2luZG93YFxudmFyIE9ORV9GUkFNRV9USU1FID0gMTY7XG4vLyBEYXRlLm5vd1xuaWYgKCEoRGF0ZS5ub3cgJiYgRGF0ZS5wcm90b3R5cGUuZ2V0VGltZSkpIHtcbiAgICBEYXRlLm5vdyA9IGZ1bmN0aW9uIG5vdygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIH07XG59XG4vLyBwZXJmb3JtYW5jZS5ub3dcbmlmICghKHdpbmRvdy5wZXJmb3JtYW5jZSAmJiB3aW5kb3cucGVyZm9ybWFuY2Uubm93KSkge1xuICAgIHZhciBzdGFydFRpbWVfMSA9IERhdGUubm93KCk7XG4gICAgaWYgKCF3aW5kb3cucGVyZm9ybWFuY2UpIHtcbiAgICAgICAgd2luZG93LnBlcmZvcm1hbmNlID0ge307XG4gICAgfVxuICAgIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lXzE7IH07XG59XG4vLyByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbnZhciBsYXN0VGltZSA9IERhdGUubm93KCk7XG52YXIgdmVuZG9ycyA9IFsnbXMnLCAnbW96JywgJ3dlYmtpdCcsICdvJ107XG5mb3IgKHZhciB4ID0gMDsgeCA8IHZlbmRvcnMubGVuZ3RoICYmICF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyArK3gpIHtcbiAgICB2YXIgcCA9IHZlbmRvcnNbeF07XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvd1twICsgXCJSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl07XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gd2luZG93W3AgKyBcIkNhbmNlbEFuaW1hdGlvbkZyYW1lXCJdXG4gICAgICAgIHx8IHdpbmRvd1twICsgXCJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl07XG59XG5pZiAoIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoY2FsbGJhY2sgKyBcImlzIG5vdCBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBkZWxheSA9IE9ORV9GUkFNRV9USU1FICsgbGFzdFRpbWUgLSBjdXJyZW50VGltZTtcbiAgICAgICAgaWYgKGRlbGF5IDwgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RUaW1lID0gY3VycmVudFRpbWU7XG4gICAgICAgIHJldHVybiB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsYXN0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjYWxsYmFjayhwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgIH0sIGRlbGF5KTtcbiAgICB9O1xufVxuaWYgKCF3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUpIHtcbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIGNsZWFyVGltZW91dChpZCk7IH07XG59XG5cbi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3NpZ25cbmlmICghTWF0aC5zaWduKSB7XG4gICAgTWF0aC5zaWduID0gZnVuY3Rpb24gbWF0aFNpZ24oeCkge1xuICAgICAgICB4ID0gTnVtYmVyKHgpO1xuICAgICAgICBpZiAoeCA9PT0gMCB8fCBpc05hTih4KSkge1xuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHggPiAwID8gMSA6IC0xO1xuICAgIH07XG59XG5cbi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvaXNJbnRlZ2VyXG5pZiAoIU51bWJlci5pc0ludGVnZXIpIHtcbiAgICBOdW1iZXIuaXNJbnRlZ2VyID0gZnVuY3Rpb24gbnVtYmVySXNJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbHVlKSAmJiBNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWU7XG4gICAgfTtcbn1cblxuaWYgKCF3aW5kb3cuQXJyYXlCdWZmZXIpIHtcbiAgICB3aW5kb3cuQXJyYXlCdWZmZXIgPSBBcnJheTtcbn1cbmlmICghd2luZG93LkZsb2F0MzJBcnJheSkge1xuICAgIHdpbmRvdy5GbG9hdDMyQXJyYXkgPSBBcnJheTtcbn1cbmlmICghd2luZG93LlVpbnQzMkFycmF5KSB7XG4gICAgd2luZG93LlVpbnQzMkFycmF5ID0gQXJyYXk7XG59XG5pZiAoIXdpbmRvdy5VaW50MTZBcnJheSkge1xuICAgIHdpbmRvdy5VaW50MTZBcnJheSA9IEFycmF5O1xufVxuaWYgKCF3aW5kb3cuVWludDhBcnJheSkge1xuICAgIHdpbmRvdy5VaW50OEFycmF5ID0gQXJyYXk7XG59XG5pZiAoIXdpbmRvdy5JbnQzMkFycmF5KSB7XG4gICAgd2luZG93LkludDMyQXJyYXkgPSBBcnJheTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvbHlmaWxsLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9hY2Nlc3NpYmlsaXR5IC0gdjUuMy43XG4gKiBDb21waWxlZCBUdWUsIDI5IERlYyAyMDIwIDE5OjMwOjExIFVUQ1xuICpcbiAqIEBwaXhpL2FjY2Vzc2liaWxpdHkgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBpc01vYmlsZSwgcmVtb3ZlSXRlbXMgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYWNjZXNzaWJsZSBvYmplY3RzXG4gKiB1c2VkIGJ5IHtAbGluayBQSVhJLkFjY2Vzc2liaWxpdHlNYW5hZ2VyfS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIGFjY2Vzc2libGVUYXJnZXRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgT2JqZWN0LmFzc2lnbihcbiAqICAgICAgICAgIE15T2JqZWN0LnByb3RvdHlwZSxcbiAqICAgICAgICAgIFBJWEkuYWNjZXNzaWJsZVRhcmdldFxuICogICAgICApO1xuICovXG52YXIgYWNjZXNzaWJsZVRhcmdldCA9IHtcbiAgICAvKipcbiAgICAgKiAgRmxhZyBmb3IgaWYgdGhlIG9iamVjdCBpcyBhY2Nlc3NpYmxlLiBJZiB0cnVlIEFjY2Vzc2liaWxpdHlNYW5hZ2VyIHdpbGwgb3ZlcmxheSBhXG4gICAgICogICBzaGFkb3cgZGl2IHdpdGggYXR0cmlidXRlcyBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0aXRsZSBhdHRyaWJ1dGUgb2YgdGhlIHNoYWRvdyBkaXZcbiAgICAgKiBJZiBhY2Nlc3NpYmxlVGl0bGUgQU5EIGFjY2Vzc2libGVIaW50IGhhcyBub3QgYmVlbiB0aGlzIHdpbGwgZGVmYXVsdCB0byAnZGlzcGxheU9iamVjdCBbdGFiSW5kZXhdJ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7P3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVUaXRsZTogbnVsbCxcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhcmlhLWxhYmVsIGF0dHJpYnV0ZSBvZiB0aGUgc2hhZG93IGRpdlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgYWNjZXNzaWJsZUhpbnQ6IG51bGwsXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIHRhYkluZGV4OiAwLFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIF9hY2Nlc3NpYmxlQWN0aXZlOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICAgKi9cbiAgICBfYWNjZXNzaWJsZURpdjogbnVsbCxcbiAgICAvKipcbiAgICAgKiBTcGVjaWZ5IHRoZSB0eXBlIG9mIGRpdiB0aGUgYWNjZXNzaWJsZSBsYXllciBpcy4gU2NyZWVuIHJlYWRlcnMgdHJlYXQgdGhlIGVsZW1lbnQgZGlmZmVyZW50bHlcbiAgICAgKiBkZXBlbmRpbmcgb24gdGhpcyB0eXBlLiBEZWZhdWx0cyB0byBidXR0b24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAZGVmYXVsdCAnYnV0dG9uJ1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVUeXBlOiAnYnV0dG9uJyxcbiAgICAvKipcbiAgICAgKiBTcGVjaWZ5IHRoZSBwb2ludGVyLWV2ZW50cyB0aGUgYWNjZXNzaWJsZSBkaXYgd2lsbCB1c2VcbiAgICAgKiBEZWZhdWx0cyB0byBhdXRvLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQGRlZmF1bHQgJ2F1dG8nXG4gICAgICovXG4gICAgYWNjZXNzaWJsZVBvaW50ZXJFdmVudHM6ICdhdXRvJyxcbiAgICAvKipcbiAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIHdpbGwgcHJldmVudCBhbnkgY2hpbGRyZW4gaW5zaWRlIHRoaXMgY29udGFpbmVyIHRvXG4gICAgICogYmUgYWNjZXNzaWJsZS4gRGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgYWNjZXNzaWJsZUNoaWxkcmVuOiB0cnVlLFxuICAgIHJlbmRlcklkOiAtMSxcbn07XG5cbi8vIGFkZCBzb21lIGV4dHJhIHZhcmlhYmxlcyB0byB0aGUgY29udGFpbmVyLi5cbkRpc3BsYXlPYmplY3QubWl4aW4oYWNjZXNzaWJsZVRhcmdldCk7XG52YXIgS0VZX0NPREVfVEFCID0gOTtcbnZhciBESVZfVE9VQ0hfU0laRSA9IDEwMDtcbnZhciBESVZfVE9VQ0hfUE9TX1ggPSAwO1xudmFyIERJVl9UT1VDSF9QT1NfWSA9IDA7XG52YXIgRElWX1RPVUNIX1pJTkRFWCA9IDI7XG52YXIgRElWX0hPT0tfU0laRSA9IDE7XG52YXIgRElWX0hPT0tfUE9TX1ggPSAtMTAwMDtcbnZhciBESVZfSE9PS19QT1NfWSA9IC0xMDAwO1xudmFyIERJVl9IT09LX1pJTkRFWCA9IDI7XG4vKipcbiAqIFRoZSBBY2Nlc3NpYmlsaXR5IG1hbmFnZXIgcmVjcmVhdGVzIHRoZSBhYmlsaXR5IHRvIHRhYiBhbmQgaGF2ZSBjb250ZW50IHJlYWQgYnkgc2NyZWVuIHJlYWRlcnMuXG4gKiBUaGlzIGlzIHZlcnkgaW1wb3J0YW50IGFzIGl0IGNhbiBwb3NzaWJseSBoZWxwIHBlb3BsZSB3aXRoIGRpc2FiaWxpdGllcyBhY2Nlc3MgUGl4aUpTIGNvbnRlbnQuXG4gKlxuICogQSBEaXNwbGF5T2JqZWN0IGNhbiBiZSBtYWRlIGFjY2Vzc2libGUganVzdCBsaWtlIGl0IGNhbiBiZSBtYWRlIGludGVyYWN0aXZlLiBUaGlzIG1hbmFnZXIgd2lsbCBtYXAgdGhlXG4gKiBldmVudHMgYXMgaWYgdGhlIG1vdXNlIHdhcyBiZWluZyB1c2VkLCBtaW5pbWl6aW5nIHRoZSBlZmZvcnQgcmVxdWlyZWQgdG8gaW1wbGVtZW50LlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgYHJlbmRlcmVyLnBsdWdpbnMuYWNjZXNzaWJpbGl0eWBcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBY2Nlc3NpYmlsaXR5TWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ8UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7P0hUTUxFbGVtZW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faG9va0RpdiA9IG51bGw7XG4gICAgICAgIGlmIChpc01vYmlsZS50YWJsZXQgfHwgaXNNb2JpbGUucGhvbmUpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVG91Y2hIb29rKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmlyc3Qgd2UgY3JlYXRlIGEgZGl2IHRoYXQgd2lsbCBzaXQgb3ZlciB0aGUgUGl4aUpTIGVsZW1lbnQuIFRoaXMgaXMgd2hlcmUgdGhlIGRpdiBvdmVybGF5cyB3aWxsIGdvLlxuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gRElWX1RPVUNIX1NJWkUgKyBcInB4XCI7XG4gICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGRpdi5zdHlsZS50b3AgPSBESVZfVE9VQ0hfUE9TX1ggKyBcInB4XCI7XG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gRElWX1RPVUNIX1BPU19ZICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWC50b1N0cmluZygpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgZG9tIGVsZW1lbnQgdGhhdCB3aWxsIHNpdCBvdmVyIHRoZSBQaXhpSlMgZWxlbWVudC4gVGhpcyBpcyB3aGVyZSB0aGUgZGl2IG92ZXJsYXlzIHdpbGwgZ28uXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGl2ID0gZGl2O1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBzaW1wbGUgcG9vbCBmb3Igc3RvcmluZyBkaXZzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Kn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9vbCA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyBhIHRpY2sgdXNlZCB0byBjaGVjayBpZiBhbiBvYmplY3QgaXMgbm8gbG9uZ2VyIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJJZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXR0aW5nIHRoaXMgdG8gdHJ1ZSB3aWxsIHZpc3VhbGx5IHNob3cgdGhlIGRpdnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWJ1ZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlbmRlcmVyIHRoaXMgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIGN1cnJlbnRseSBhY3RpdmUgYWNjZXNzaWJsZSBpdGVtcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBwcmUtYmluZCB0aGUgZnVuY3Rpb25zXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29uS2V5RG93biA9IHRoaXMuX29uS2V5RG93bi5iaW5kKHRoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogcHJlLWJpbmQgdGhlIGZ1bmN0aW9uc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vbk1vdXNlTW92ZSA9IHRoaXMuX29uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogY291bnQgdG8gdGhyb3R0bGUgZGl2IHVwZGF0ZXMgb24gYW5kcm9pZCBkZXZpY2VzXG4gICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbmRyb2lkVXBkYXRlQ291bnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIGZyZXF1ZW5jeSB0byB1cGRhdGUgdGhlIGRpdiBlbGVtZW50cyAoKVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbmRyb2lkVXBkYXRlRnJlcXVlbmN5ID0gNTAwOyAvLyAyZnBzXG4gICAgICAgIC8vIGxldCBsaXN0ZW4gZm9yIHRhYi4uIG9uY2UgcHJlc3NlZCB3ZSBjYW4gZmlyZSB1cCBhbmQgc2hvdyB0aGUgYWNjZXNzaWJpbGl0eSBsYXllclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLCBcImlzQWN0aXZlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmxhZ1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzQWN0aXZlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZSwgXCJpc01vYmlsZUFjY2Vzc2liaWxpdHlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBmbGFnXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNNb2JpbGVBY2Nlc3NpYmlsaXR5O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgdG91Y2ggaG9va3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5jcmVhdGVUb3VjaEhvb2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBob29rRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUud2lkdGggPSBESVZfSE9PS19TSVpFICsgXCJweFwiO1xuICAgICAgICBob29rRGl2LnN0eWxlLmhlaWdodCA9IERJVl9IT09LX1NJWkUgKyBcInB4XCI7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBob29rRGl2LnN0eWxlLnRvcCA9IERJVl9IT09LX1BPU19YICsgXCJweFwiO1xuICAgICAgICBob29rRGl2LnN0eWxlLmxlZnQgPSBESVZfSE9PS19QT1NfWSArIFwicHhcIjtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS56SW5kZXggPSBESVZfSE9PS19aSU5ERVgudG9TdHJpbmcoKTtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI0ZGMDAwMCc7XG4gICAgICAgIGhvb2tEaXYudGl0bGUgPSAnc2VsZWN0IHRvIGVuYWJsZSBhY2Nlc3NhYmlsaXR5IGZvciB0aGlzIGNvbnRlbnQnO1xuICAgICAgICBob29rRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5hY3RpdmF0ZSgpO1xuICAgICAgICAgICAgX3RoaXMuZGVzdHJveVRvdWNoSG9vaygpO1xuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChob29rRGl2KTtcbiAgICAgICAgdGhpcy5faG9va0RpdiA9IGhvb2tEaXY7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgdG91Y2ggaG9va3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95VG91Y2hIb29rID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2hvb2tEaXYpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuX2hvb2tEaXYpO1xuICAgICAgICB0aGlzLl9ob29rRGl2ID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBzaG93bi5cbiAgICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlciBwcmVzc2VzIHRoZSB0YWIga2V5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0FjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3Rpbmcgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWRcbiAgICAgICAgdGhpcy5yZW5kZXJlci5vbigncG9zdHJlbmRlcicsIHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIudmlldy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnZpZXcucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlYWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIGhpZGRlbi5cbiAgICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlciBtb3ZlcyB0aGUgbW91c2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5kZWFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzQWN0aXZlIHx8IHRoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBjYXN0aW5nIHdoZW4gQ2FudmFzUmVuZGVyZXIgaXMgY29udmVydGVkXG4gICAgICAgIHRoaXMucmVuZGVyZXIub2ZmKCdwb3N0cmVuZGVyJywgdGhpcy51cGRhdGUpO1xuICAgICAgICBpZiAodGhpcy5kaXYucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5kaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpdik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgcmVjdXJzaXZlIGZ1bmN0aW9uIHdpbGwgcnVuIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBhZGQgYW55IG5ldyBhY2Nlc3NpYmxlIG9iamVjdHMgdG8gdGhlIERPTSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gZGlzcGxheU9iamVjdCAtIFRoZSBEaXNwbGF5T2JqZWN0IHRvIGNoZWNrLlxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyA9IGZ1bmN0aW9uIChkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIGlmICghZGlzcGxheU9iamVjdC52aXNpYmxlIHx8ICFkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVDaGlsZHJlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGUgJiYgZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChkaXNwbGF5T2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVySWQgPSB0aGlzLnJlbmRlcklkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW47XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQWNjZXNzaWJsZU9iamVjdHMoY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCZWZvcmUgZWFjaCByZW5kZXIgdGhpcyBmdW5jdGlvbiB3aWxsIGVuc3VyZSB0aGF0IGFsbCBkaXZzIGFyZSBtYXBwZWQgY29ycmVjdGx5IHRvIHRoZWlyIERpc3BsYXlPYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKiBPbiBBbmRyb2lkIGRlZmF1bHQgd2ViIGJyb3dzZXIsIHRhYiBvcmRlciBzZWVtcyB0byBiZSBjYWxjdWxhdGVkIGJ5IHBvc2l0aW9uIHJhdGhlciB0aGFuIHRhYkluZGV4LFxuICAgICAgICAqICBtb3ZpbmcgYnV0dG9ucyBjYW4gY2F1c2UgZm9jdXMgdG8gZmxpY2tlciBiZXR3ZWVuIHR3byBidXR0b25zIG1ha2luZyBpdCBoYXJkL2ltcG9zc2libGUgdG8gbmF2aWdhdGUsXG4gICAgICAgICogIHNvIEkgYW0ganVzdCBydW5uaW5nIHVwZGF0ZSBldmVyeSBoYWxmIGEgc2Vjb25kLCBzZWVtcyB0byBmaXggaXQuXG4gICAgICAgICovXG4gICAgICAgIHZhciBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgaWYgKGlzTW9iaWxlLmFuZHJvaWQuZGV2aWNlICYmIG5vdyA8IHRoaXMuYW5kcm9pZFVwZGF0ZUNvdW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbmRyb2lkVXBkYXRlQ291bnQgPSBub3cgKyB0aGlzLmFuZHJvaWRVcGRhdGVGcmVxdWVuY3k7XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSBjaGlsZHJlbi4uLlxuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3Rpbmcgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWRcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLnJlbmRlcmVyLnZpZXcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgc3ggPSAocmVjdC53aWR0aCAvIHRoaXMucmVuZGVyZXIud2lkdGgpICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHN5ID0gKHJlY3QuaGVpZ2h0IC8gdGhpcy5yZW5kZXJlci5oZWlnaHQpICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGRpdiA9IHRoaXMuZGl2O1xuICAgICAgICBkaXYuc3R5bGUubGVmdCA9IHJlY3QubGVmdCArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLnRvcCA9IHJlY3QudG9wICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQgKyBcInB4XCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChjaGlsZC5yZW5kZXJJZCAhPT0gdGhpcy5yZW5kZXJJZCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaSwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXYucmVtb3ZlQ2hpbGQoY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICAgICAgICAgIHRoaXMucG9vbC5wdXNoKGNoaWxkLl9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgICAgICAgICBjaGlsZC5fYWNjZXNzaWJsZURpdiA9IG51bGw7XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbWFwIGRpdiB0byBkaXNwbGF5Li5cbiAgICAgICAgICAgICAgICBkaXYgPSBjaGlsZC5fYWNjZXNzaWJsZURpdjtcbiAgICAgICAgICAgICAgICB2YXIgaGl0QXJlYSA9IGNoaWxkLmhpdEFyZWE7XG4gICAgICAgICAgICAgICAgdmFyIHd0ID0gY2hpbGQud29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmhpdEFyZWEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSAod3QudHggKyAoaGl0QXJlYS54ICogd3QuYSkpICogc3ggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSAod3QudHkgKyAoaGl0QXJlYS55ICogd3QuZCkpICogc3kgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGhpdEFyZWEud2lkdGggKiB3dC5hICogc3ggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBoaXRBcmVhLmhlaWdodCAqIHd0LmQgKiBzeSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdEFyZWEgPSBjaGlsZC5nZXRCb3VuZHMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXBIaXRBcmVhKGhpdEFyZWEpO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9IGhpdEFyZWEueCAqIHN4ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUudG9wID0gaGl0QXJlYS55ICogc3kgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGhpdEFyZWEud2lkdGggKiBzeCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGhpdEFyZWEuaGVpZ2h0ICogc3kgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBidXR0b24gdGl0bGVzIGFuZCBoaW50cyBpZiB0aGV5IGV4aXN0IGFuZCB0aGV5J3ZlIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpdi50aXRsZSAhPT0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlICYmIGNoaWxkLmFjY2Vzc2libGVUaXRsZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnRpdGxlID0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXYuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJykgIT09IGNoaWxkLmFjY2Vzc2libGVIaW50XG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBjaGlsZC5hY2Nlc3NpYmxlSGludCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGNoaWxkLmFjY2Vzc2libGVIaW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0aGUgdGl0bGUgb3IgaW5kZXggbWF5IGhhdmUgY2hhbmdlZCwgaWYgc28gbGV0cyB1cGRhdGUgaXQhXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmFjY2Vzc2libGVUaXRsZSAhPT0gZGl2LnRpdGxlIHx8IGNoaWxkLnRhYkluZGV4ICE9PSBkaXYudGFiSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnRpdGxlID0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICAgICAgICAgICAgICBkaXYudGFiSW5kZXggPSBjaGlsZC50YWJJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMudXBkYXRlRGVidWdIVE1MKGRpdik7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5jcmVtZW50IHRoZSByZW5kZXIgaWQuLlxuICAgICAgICB0aGlzLnJlbmRlcklkKys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBwcml2YXRlIGZ1bmN0aW9uIHRoYXQgd2lsbCB2aXN1YWxseSBhZGQgdGhlIGluZm9ybWF0aW9uIHRvIHRoZVxuICAgICAqIGFjY2Vzc2FiaWxpdHkgZGl2XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBkaXZcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUudXBkYXRlRGVidWdIVE1MID0gZnVuY3Rpb24gKGRpdikge1xuICAgICAgICBkaXYuaW5uZXJIVE1MID0gXCJ0eXBlOiBcIiArIGRpdi50eXBlICsgXCI8L2JyPiB0aXRsZSA6IFwiICsgZGl2LnRpdGxlICsgXCI8L2JyPiB0YWJJbmRleDogXCIgKyBkaXYudGFiSW5kZXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGp1c3QgdGhlIGhpdCBhcmVhIGJhc2VkIG9uIHRoZSBib3VuZHMgb2YgYSBkaXNwbGF5IG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gaGl0QXJlYSAtIEJvdW5kcyBvZiB0aGUgY2hpbGRcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuY2FwSGl0QXJlYSA9IGZ1bmN0aW9uIChoaXRBcmVhKSB7XG4gICAgICAgIGlmIChoaXRBcmVhLnggPCAwKSB7XG4gICAgICAgICAgICBoaXRBcmVhLndpZHRoICs9IGhpdEFyZWEueDtcbiAgICAgICAgICAgIGhpdEFyZWEueCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhpdEFyZWEueSA8IDApIHtcbiAgICAgICAgICAgIGhpdEFyZWEuaGVpZ2h0ICs9IGhpdEFyZWEueTtcbiAgICAgICAgICAgIGhpdEFyZWEueSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3Rpbmcgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWRcbiAgICAgICAgaWYgKGhpdEFyZWEueCArIGhpdEFyZWEud2lkdGggPiB0aGlzLnJlbmRlcmVyLndpZHRoKSB7XG4gICAgICAgICAgICBoaXRBcmVhLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aCAtIGhpdEFyZWEueDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGl0QXJlYS55ICsgaGl0QXJlYS5oZWlnaHQgPiB0aGlzLnJlbmRlcmVyLmhlaWdodCkge1xuICAgICAgICAgICAgaGl0QXJlYS5oZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCAtIGhpdEFyZWEueTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIERpc3BsYXlPYmplY3QgdG8gdGhlIGFjY2Vzc2liaWxpdHkgbWFuYWdlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBjaGlsZCB0byBtYWtlIGFjY2Vzc2libGUuXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmFkZENoaWxkID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgLy8gICAgdGhpcy5hY3RpdmF0ZSgpO1xuICAgICAgICB2YXIgZGl2ID0gdGhpcy5wb29sLnBvcCgpO1xuICAgICAgICBpZiAoIWRpdikge1xuICAgICAgICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBESVZfVE9VQ0hfU0laRSArIFwicHhcIjtcbiAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBESVZfVE9VQ0hfU0laRSArIFwicHhcIjtcbiAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmRlYnVnID8gJ3JnYmEoMjU1LDI1NSwyNTUsMC41KScgOiAndHJhbnNwYXJlbnQnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBESVZfVE9VQ0hfWklOREVYLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnbm9uZSc7XG4gICAgICAgICAgICAvLyBBUklBIGF0dHJpYnV0ZXMgZW5zdXJlIHRoYXQgYnV0dG9uIHRpdGxlIGFuZCBoaW50IHVwZGF0ZXMgYXJlIGFubm91bmNlZCBwcm9wZXJseVxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdjaHJvbWUnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hyb21lIGRvZXNuJ3QgbmVlZCBhcmlhLWxpdmUgdG8gd29yayBhcyBpbnRlbmRlZDsgaW4gZmFjdCBpdCBqdXN0IGdldHMgbW9yZSBjb25mdXNlZC5cbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnb2ZmJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvcnY6LipHZWNrb1xcLy8pKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyZUZveCBuZWVkcyB0aGlzIHRvIGFubm91bmNlIG9ubHkgdGhlIG5ldyBidXR0b24gbmFtZVxuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcmVsZXZhbnQnLCAnYWRkaXRpb25zJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyByZXF1aXJlZCBieSBJRSwgb3RoZXIgYnJvd3NlcnMgZG9uJ3QgbXVjaCBjYXJlXG4gICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1yZWxldmFudCcsICd0ZXh0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vbkNsaWNrLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5fb25Gb2N1cy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMuX29uRm9jdXNPdXQuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGRpdi5zdHlsZS5wb2ludGVyRXZlbnRzID0gZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlUG9pbnRlckV2ZW50cztcbiAgICAgICAgLy8gc2V0IHRoZSB0eXBlLCB0aGlzIGRlZmF1bHRzIHRvIGJ1dHRvbiFcbiAgICAgICAgZGl2LnR5cGUgPSBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUeXBlO1xuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUgJiYgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGRpdi50aXRsZSA9IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50XG4gICAgICAgICAgICB8fCBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICBkaXYudGl0bGUgPSBcImRpc3BsYXlPYmplY3QgXCIgKyBkaXNwbGF5T2JqZWN0LnRhYkluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50XG4gICAgICAgICAgICAmJiBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGVidWcpXG4gICAgICAgICAgICB7IHRoaXMudXBkYXRlRGVidWdIVE1MKGRpdik7IH1cbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZUFjdGl2ZSA9IHRydWU7XG4gICAgICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYgPSBkaXY7XG4gICAgICAgIGRpdi5kaXNwbGF5T2JqZWN0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGRpc3BsYXlPYmplY3QpO1xuICAgICAgICB0aGlzLmRpdi5hcHBlbmRDaGlsZChkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdi50YWJJbmRleCA9IGRpc3BsYXlPYmplY3QudGFiSW5kZXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBkaXYgYnV0dG9uIHByZXNzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKGNsaWNrKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGUgLSBUaGUgY2xpY2sgZXZlbnQuXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3Rpbmcgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWRcbiAgICAgICAgdmFyIGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ2NsaWNrJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdwb2ludGVydGFwJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICd0YXAnLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAobW91c2VvdmVyKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0ZvY3VzRXZlbnR9IGUgLSBUaGUgZm9jdXMgZXZlbnQuXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkZvY3VzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCFlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScpKSB7XG4gICAgICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdhc3NlcnRpdmUnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgY2FzdGluZyB3aGVuIENhbnZhc1JlbmRlcmVyIGlzIGNvbnZlcnRlZFxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBkaXYgZm9jdXMgZXZlbnRzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKG1vdXNlb3V0KVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0ZvY3VzRXZlbnR9IGUgLSBUaGUgZm9jdXNvdXQgZXZlbnQuXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkZvY3VzT3V0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCFlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScpKSB7XG4gICAgICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgY2FzdGluZyB3aGVuIENhbnZhc1JlbmRlcmVyIGlzIGNvbnZlcnRlZFxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnbW91c2VvdXQnLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIGEga2V5IGlzIHByZXNzZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBlIC0gVGhlIGtleWRvd24gZXZlbnQuXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbktleURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS5rZXlDb2RlICE9PSBLRVlfQ09ERV9UQUIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgbW91c2UgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIFRoZSBtb3VzZSBldmVudC5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uTW91c2VNb3ZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUubW92ZW1lbnRYID09PSAwICYmIGUubW92ZW1lbnRZID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gICAgICpcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95VG91Y2hIb29rKCk7XG4gICAgICAgIHRoaXMuZGl2ID0gbnVsbDtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24pO1xuICAgICAgICB0aGlzLnBvb2wgPSBudWxsO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQWNjZXNzaWJpbGl0eU1hbmFnZXI7XG59KCkpO1xuXG5leHBvcnQgeyBBY2Nlc3NpYmlsaXR5TWFuYWdlciwgYWNjZXNzaWJsZVRhcmdldCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWNjZXNzaWJpbGl0eS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvaW50ZXJhY3Rpb24gLSB2NS4zLjdcbiAqIENvbXBpbGVkIFR1ZSwgMjkgRGVjIDIwMjAgMTk6MzA6MTEgVVRDXG4gKlxuICogQHBpeGkvaW50ZXJhY3Rpb24gaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCwgVGVtcG9yYXJ5RGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIEhvbGRzIGFsbCBpbmZvcm1hdGlvbiByZWxhdGVkIHRvIGFuIEludGVyYWN0aW9uIGV2ZW50XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgSW50ZXJhY3Rpb25EYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEludGVyYWN0aW9uRGF0YSgpIHtcbiAgICAgICAgdGhpcy5wcmVzc3VyZSA9IDA7XG4gICAgICAgIHRoaXMucm90YXRpb25BbmdsZSA9IDA7XG4gICAgICAgIHRoaXMudHdpc3QgPSAwO1xuICAgICAgICB0aGlzLnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHBvaW50IHN0b3JlcyB0aGUgZ2xvYmFsIGNvb3JkcyBvZiB3aGVyZSB0aGUgdG91Y2gvbW91c2UgZXZlbnQgaGFwcGVuZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xvYmFsID0gbmV3IFBvaW50KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGFyZ2V0IFNwcml0ZSB0aGF0IHdhcyBpbnRlcmFjdGVkIHdpdGhcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TcHJpdGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHBhc3NlZCB0byBhbiBldmVudCBoYW5kbGVyLCB0aGlzIHdpbGwgYmUgdGhlIG9yaWdpbmFsIERPTSBFdmVudCB0aGF0IHdhcyBjYXB0dXJlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RvdWNoRXZlbnRcbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50XG4gICAgICAgICAqIEBtZW1iZXIge01vdXNlRXZlbnR8VG91Y2hFdmVudHxQb2ludGVyRXZlbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgaW50ZXJhY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZGVudGlmaWVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGV0aGVyIG9yIG5vdCB0aGUgcG9pbnRlciBkZXZpY2UgdGhhdCBjcmVhdGVkIHRoZSBldmVudCBpcyB0aGUgcHJpbWFyeSBwb2ludGVyLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvaXNQcmltYXJ5XG4gICAgICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1ByaW1hcnkgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGljaCBidXR0b24gd2FzIHByZXNzZWQgb24gdGhlIG1vdXNlIG9yIHBvaW50ZXIgZGV2aWNlIHRvIHRyaWdnZXIgdGhlIGV2ZW50LlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50L2J1dHRvblxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5idXR0b24gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoaWNoIGJ1dHRvbnMgYXJlIHByZXNzZWQgb24gdGhlIG1vdXNlIG9yIHBvaW50ZXIgZGV2aWNlIHdoZW4gdGhlIGV2ZW50IGlzIHRyaWdnZXJlZC5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25zXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJ1dHRvbnMgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeC1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAgICAgKiByYWRpdXNYIG9mIFRvdWNoRXZlbnRzIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3dpZHRoXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHBvaW50ZXIncyBjb250YWN0IGFsb25nIHRoZSB5LWF4aXMsIG1lYXN1cmVkIGluIENTUyBwaXhlbHMuXG4gICAgICAgICAqIHJhZGl1c1kgb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvaGVpZ2h0XG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5nbGUsIGluIGRlZ3JlZXMsIGJldHdlZW4gdGhlIHBvaW50ZXIgZGV2aWNlIGFuZCB0aGUgc2NyZWVuLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvdGlsdFhcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlsdFggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuZ2xlLCBpbiBkZWdyZWVzLCBiZXR3ZWVuIHRoZSBwb2ludGVyIGRldmljZSBhbmQgdGhlIHNjcmVlbi5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3RpbHRZXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpbHRZID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50LlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcG9pbnRlclR5cGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRlclR5cGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJlc3N1cmUgYXBwbGllZCBieSB0aGUgcG9pbnRpbmcgZGV2aWNlIGR1cmluZyB0aGUgZXZlbnQuIEEgVG91Y2gncyBmb3JjZSBwcm9wZXJ0eVxuICAgICAgICAgKiB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wcmVzc3VyZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmVzc3VyZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGcm9tIFRvdWNoRXZlbnRzIChub3QgUG9pbnRlckV2ZW50cyB0cmlnZ2VyZWQgYnkgdG91Y2hlcyksIHRoZSByb3RhdGlvbkFuZ2xlIG9mIHRoZSBUb3VjaC5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVG91Y2gvcm90YXRpb25BbmdsZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yb3RhdGlvbkFuZ2xlID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR3aXN0IG9mIGEgc3R5bHVzIHBvaW50ZXIuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3BvaW50ZXJldmVudHMvI3BvaW50ZXJldmVudC1pbnRlcmZhY2VcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHdpc3QgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQmFycmVsIHByZXNzdXJlIG9uIGEgc3R5bHVzIHBvaW50ZXIuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3BvaW50ZXJldmVudHMvI3BvaW50ZXJldmVudC1pbnRlcmZhY2VcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUsIFwicG9pbnRlcklkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgcG9pbnRlci4gSXQgd2lsbCBiZSB0aGUgc2FtZSBhcyBgaWRlbnRpZmllcmAuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wb2ludGVySWRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaWRlbnRpZmllcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFRoaXMgd2lsbCByZXR1cm4gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBzcGVjaWZpZWQgZGlzcGxheU9iamVjdCBmb3IgdGhpcyBJbnRlcmFjdGlvbkRhdGFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIERpc3BsYXlPYmplY3QgdGhhdCB5b3Ugd291bGQgbGlrZSB0aGUgbG9jYWxcbiAgICAgKiAgY29vcmRzIG9mZlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWwgKG90aGVyd2lzZVxuICAgICAqICB3aWxsIGNyZWF0ZSBhIG5ldyBwb2ludClcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtnbG9iYWxQb3NdIC0gQSBQb2ludCBvYmplY3QgY29udGFpbmluZyB5b3VyIGN1c3RvbSBnbG9iYWwgY29vcmRzLCBvcHRpb25hbFxuICAgICAqICAob3RoZXJ3aXNlIHdpbGwgdXNlIHRoZSBjdXJyZW50IGdsb2JhbCBjb29yZHMpXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gQSBwb2ludCBjb250YWluaW5nIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgSW50ZXJhY3Rpb25EYXRhIHBvc2l0aW9uIHJlbGF0aXZlXG4gICAgICogIHRvIHRoZSBEaXNwbGF5T2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZS5nZXRMb2NhbFBvc2l0aW9uID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QsIHBvaW50LCBnbG9iYWxQb3MpIHtcbiAgICAgICAgcmV0dXJuIGRpc3BsYXlPYmplY3Qud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKGdsb2JhbFBvcyB8fCB0aGlzLmdsb2JhbCwgcG9pbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHByb3BlcnRpZXMgZnJvbSBub3JtYWxpemVkIGV2ZW50IGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1RvdWNofE1vdXNlRXZlbnR8UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBub3JtYWxpemVkIGV2ZW50IGRhdGFcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLmNvcHlFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBpc1ByaW1hcnkgc2hvdWxkIG9ubHkgY2hhbmdlIG9uIHRvdWNoc3RhcnQvcG9pbnRlcmRvd24sIHNvIHdlIGRvbid0IHdhbnQgdG8gb3ZlcndyaXRlXG4gICAgICAgIC8vIGl0IHdpdGggXCJmYWxzZVwiIG9uIGxhdGVyIGV2ZW50cyB3aGVuIG91ciBzaGltIGZvciBpdCBvbiB0b3VjaCBldmVudHMgbWlnaHQgbm90IGJlXG4gICAgICAgIC8vIGFjY3VyYXRlXG4gICAgICAgIGlmICgnaXNQcmltYXJ5JyBpbiBldmVudCAmJiBldmVudC5pc1ByaW1hcnkpIHtcbiAgICAgICAgICAgIHRoaXMuaXNQcmltYXJ5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1dHRvbiA9ICdidXR0b24nIGluIGV2ZW50ICYmIGV2ZW50LmJ1dHRvbjtcbiAgICAgICAgLy8gZXZlbnQuYnV0dG9ucyBpcyBub3QgYXZhaWxhYmxlIGluIGFsbCBicm93c2VycyAoaWUuIFNhZmFyaSksIGJ1dCBpdCBkb2VzIGhhdmUgYSBub24tc3RhbmRhcmRcbiAgICAgICAgLy8gZXZlbnQud2hpY2ggcHJvcGVydHkgaW5zdGVhZCwgd2hpY2ggY29udmV5cyB0aGUgc2FtZSBpbmZvcm1hdGlvbi5cbiAgICAgICAgdmFyIGJ1dHRvbnMgPSAnYnV0dG9ucycgaW4gZXZlbnQgJiYgZXZlbnQuYnV0dG9ucztcbiAgICAgICAgdGhpcy5idXR0b25zID0gTnVtYmVyLmlzSW50ZWdlcihidXR0b25zKSA/IGJ1dHRvbnMgOiAnd2hpY2gnIGluIGV2ZW50ICYmIGV2ZW50LndoaWNoO1xuICAgICAgICB0aGlzLndpZHRoID0gJ3dpZHRoJyBpbiBldmVudCAmJiBldmVudC53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAnaGVpZ2h0JyBpbiBldmVudCAmJiBldmVudC5oZWlnaHQ7XG4gICAgICAgIHRoaXMudGlsdFggPSAndGlsdFgnIGluIGV2ZW50ICYmIGV2ZW50LnRpbHRYO1xuICAgICAgICB0aGlzLnRpbHRZID0gJ3RpbHRZJyBpbiBldmVudCAmJiBldmVudC50aWx0WTtcbiAgICAgICAgdGhpcy5wb2ludGVyVHlwZSA9ICdwb2ludGVyVHlwZScgaW4gZXZlbnQgJiYgZXZlbnQucG9pbnRlclR5cGU7XG4gICAgICAgIHRoaXMucHJlc3N1cmUgPSAncHJlc3N1cmUnIGluIGV2ZW50ICYmIGV2ZW50LnByZXNzdXJlO1xuICAgICAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSAncm90YXRpb25BbmdsZScgaW4gZXZlbnQgJiYgZXZlbnQucm90YXRpb25BbmdsZTtcbiAgICAgICAgdGhpcy50d2lzdCA9ICgndHdpc3QnIGluIGV2ZW50ICYmIGV2ZW50LnR3aXN0KSB8fCAwO1xuICAgICAgICB0aGlzLnRhbmdlbnRpYWxQcmVzc3VyZSA9ICgndGFuZ2VudGlhbFByZXNzdXJlJyBpbiBldmVudCAmJiBldmVudC50YW5nZW50aWFsUHJlc3N1cmUpIHx8IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIGRhdGEgZm9yIHBvb2xpbmcuXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gaXNQcmltYXJ5IGlzIHRoZSBvbmx5IHByb3BlcnR5IHRoYXQgd2UgcmVhbGx5IG5lZWQgdG8gcmVzZXQgLSBldmVyeXRoaW5nIGVsc2UgaXNcbiAgICAgICAgLy8gZ3VhcmFudGVlZCB0byBiZSBvdmVyd3JpdHRlblxuICAgICAgICB0aGlzLmlzUHJpbWFyeSA9IGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIEludGVyYWN0aW9uRGF0YTtcbn0oKSk7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIEV2ZW50IGNsYXNzIHRoYXQgbWltaWNzIG5hdGl2ZSBET00gZXZlbnRzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEludGVyYWN0aW9uRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25FdmVudCgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhpcyBldmVudCB3aWxsIGNvbnRpbnVlIHByb3BhZ2F0aW5nIGluIHRoZSB0cmVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBSZW1haW5pbmcgZXZlbnRzIGZvciB0aGUge0BsaW5rIHN0b3BzUHJvcGFnYXRpbmdBdH0gb2JqZWN0XG4gICAgICAgICAqIHdpbGwgc3RpbGwgYmUgZGlzcGF0Y2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXQgd2hpY2ggb2JqZWN0IHRoaXMgZXZlbnQgc3RvcHMgcHJvcGFnYXRpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcHNQcm9wYWdhdGluZ0F0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgd2UgYWxyZWFkeSByZWFjaGVkIHRoZSBlbGVtZW50IHdlIHdhbnQgdG9cbiAgICAgICAgICogc3RvcCBwcm9wYWdhdGluZyBhdC4gVGhpcyBpcyBpbXBvcnRhbnQgZm9yIGRlbGF5ZWQgZXZlbnRzLFxuICAgICAgICAgKiB3aGVyZSB3ZSBzdGFydCBvdmVyIGRlZXBlciBpbiB0aGUgdHJlZSBhZ2Fpbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uSGludCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9iamVjdCB3aGljaCBjYXVzZWQgdGhpcyBldmVudCB0byBiZSBkaXNwYXRjaGVkLlxuICAgICAgICAgKiBGb3IgbGlzdGVuZXIgY2FsbGJhY2sgc2VlIHtAbGluayBQSVhJLkludGVyYWN0aW9uRXZlbnQuY3VycmVudFRhcmdldH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvYmplY3Qgd2hvc2UgZXZlbnQgbGlzdGVuZXLigJlzIGNhbGxiYWNrIGlzIGN1cnJlbnRseSBiZWluZyBpbnZva2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHlwZSBvZiB0aGUgZXZlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVyYWN0aW9uRGF0YSByZWxhdGVkIHRvIHRoaXMgZXZlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JbnRlcmFjdGlvbkRhdGF9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmV2ZW50cyBldmVudCBmcm9tIHJlYWNoaW5nIGFueSBvYmplY3RzIG90aGVyIHRoYW4gdGhlIGN1cnJlbnQgb2JqZWN0LlxuICAgICAqXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25FdmVudC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbkhpbnQgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0b3BzUHJvcGFnYXRpbmdBdCA9IHRoaXMuY3VycmVudFRhcmdldDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgZXZlbnQuXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25FdmVudC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0b3BzUHJvcGFnYXRpbmdBdCA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uSGludCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gSW50ZXJhY3Rpb25FdmVudDtcbn0oKSk7XG5cbi8qKlxuICogRGlzcGxheU9iamVjdHMgd2l0aCB0aGUge0BsaW5rIFBJWEkuaW50ZXJhY3RpdmVUYXJnZXR9IG1peGluIHVzZSB0aGlzIGNsYXNzIHRvIHRyYWNrIGludGVyYWN0aW9uc1xuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBJbnRlcmFjdGlvblRyYWNraW5nRGF0YSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRlcklkIC0gVW5pcXVlIHBvaW50ZXIgaWQgb2YgdGhlIGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YShwb2ludGVySWQpIHtcbiAgICAgICAgdGhpcy5fcG9pbnRlcklkID0gcG9pbnRlcklkO1xuICAgICAgICB0aGlzLl9mbGFncyA9IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLk5PTkU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBpbnRlcmFjdGlvbiBmbGFnIHRvIHNldFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBTaG91bGQgdGhlIGZsYWcgYmUgc2V0IG9yIHVuc2V0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLl9kb1NldCA9IGZ1bmN0aW9uIChmbGFnLCB5bikge1xuICAgICAgICBpZiAoeW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsYWdzID0gdGhpcy5fZmxhZ3MgfCBmbGFnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZmxhZ3MgPSB0aGlzLl9mbGFncyAmICh+ZmxhZyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUsIFwicG9pbnRlcklkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuaXF1ZSBwb2ludGVyIGlkIG9mIHRoZSBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9pbnRlcklkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZSwgXCJmbGFnc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGF0ZSBvZiB0aGUgdHJhY2tpbmcgZGF0YSwgZXhwcmVzc2VkIGFzIGJpdCBmbGFnc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mbGFncztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZmxhZ3MpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsYWdzID0gZmxhZ3M7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLCBcIm5vbmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSXMgdGhlIHRyYWNrZWQgZXZlbnQgaW5hY3RpdmUgKG5vdCBvdmVyIG9yIGRvd24pP1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mbGFncyA9PT0gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuTk9ORTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUsIFwib3ZlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgdHJhY2tlZCBldmVudCBvdmVyIHRoZSBEaXNwbGF5T2JqZWN0P1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuT1ZFUikgIT09IDA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHluKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1NldChJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5PVkVSLCB5bik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLCBcInJpZ2h0RG93blwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiBjb21lIGRvd24gaW4gdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5SSUdIVF9ET1dOKSAhPT0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoeW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvU2V0KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLlJJR0hUX0RPV04sIHluKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUsIFwibGVmdERvd25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlkIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBjb21lIGRvd24gaW4gdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5MRUZUX0RPV04pICE9PSAwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5bikge1xuICAgICAgICAgICAgdGhpcy5fZG9TZXQoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuTEVGVF9ET1dOLCB5bik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUyA9IE9iamVjdC5mcmVlemUoe1xuICAgICAgICBOT05FOiAwLFxuICAgICAgICBPVkVSOiAxIDw8IDAsXG4gICAgICAgIExFRlRfRE9XTjogMSA8PCAxLFxuICAgICAgICBSSUdIVF9ET1dOOiAxIDw8IDIsXG4gICAgfSk7XG4gICAgcmV0dXJuIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhO1xufSgpKTtcblxuLyoqXG4gKiBTdHJhdGVneSBob3cgdG8gc2VhcmNoIHRocm91Z2ggc3RhZ2UgdHJlZSBmb3IgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICpcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUcmVlU2VhcmNoID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRyZWVTZWFyY2goKSB7XG4gICAgICAgIHRoaXMuX3RlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmUgaW1wbGVtZW50YXRpb24gZm9yIGZpbmRIaXRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBldmVudCBjb250YWluaW5nIHRoZSBwb2ludCB0aGF0XG4gICAgICogIGlzIHRlc3RlZCBmb3IgY29sbGlzaW9uXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0XG4gICAgICogIHRoYXQgd2lsbCBiZSBoaXQgdGVzdCAocmVjdXJzaXZlbHkgY3Jhd2xzIGl0cyBjaGlsZHJlbilcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZnVuY10gLSB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIGludGVyYWN0aXZlIG9iamVjdC4gVGhlXG4gICAgICogIGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QgYW5kIGhpdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoaXRUZXN0XSAtIHRoaXMgaW5kaWNhdGVzIGlmIHRoZSBvYmplY3RzIGluc2lkZSBzaG91bGQgYmUgaGl0IHRlc3QgYWdhaW5zdCB0aGUgcG9pbnRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbnRlcmFjdGl2ZV0gLSBXaGV0aGVyIHRoZSBkaXNwbGF5T2JqZWN0IGlzIGludGVyYWN0aXZlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gcmV0dXJucyB0cnVlIGlmIHRoZSBkaXNwbGF5T2JqZWN0IGhpdCB0aGUgcG9pbnRcbiAgICAgKi9cbiAgICBUcmVlU2VhcmNoLnByb3RvdHlwZS5yZWN1cnNpdmVGaW5kSGl0ID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGZ1bmMsIGhpdFRlc3QsIGludGVyYWN0aXZlKSB7XG4gICAgICAgIGlmICghZGlzcGxheU9iamVjdCB8fCAhZGlzcGxheU9iamVjdC52aXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBvaW50ID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmdsb2JhbDtcbiAgICAgICAgLy8gVG9vayBhIGxpdHRsZSB3aGlsZSB0byByZXdvcmsgdGhpcyBmdW5jdGlvbiBjb3JyZWN0bHkhIEJ1dCBub3cgaXQgaXMgZG9uZSBhbmQgbmljZSBhbmQgb3B0aW1pemVkISBeX15cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIG5vdyBsb29wIHRocm91Z2ggYWxsIG9iamVjdHMgYW5kIHRoZW4gb25seSBoaXQgdGVzdCB0aGUgb2JqZWN0cyBpdCBIQVNcbiAgICAgICAgLy8gdG8sIG5vdCBhbGwgb2YgdGhlbS4gTVVDSCBmYXN0ZXIuLlxuICAgICAgICAvLyBBbiBvYmplY3Qgd2lsbCBiZSBoaXQgdGVzdCBpZiB0aGUgZm9sbG93aW5nIGlzIHRydWU6XG4gICAgICAgIC8vXG4gICAgICAgIC8vIDE6IEl0IGlzIGludGVyYWN0aXZlLlxuICAgICAgICAvLyAyOiBJdCBiZWxvbmdzIHRvIGEgcGFyZW50IHRoYXQgaXMgaW50ZXJhY3RpdmUgQU5EIG9uZSBvZiB0aGUgcGFyZW50cyBjaGlsZHJlbiBoYXZlIG5vdCBhbHJlYWR5IGJlZW4gaGl0LlxuICAgICAgICAvL1xuICAgICAgICAvLyBBcyBhbm90aGVyIGxpdHRsZSBvcHRpbWl6YXRpb24gb25jZSBhbiBpbnRlcmFjdGl2ZSBvYmplY3QgaGFzIGJlZW4gaGl0IHdlIGNhbiBjYXJyeSBvblxuICAgICAgICAvLyB0aHJvdWdoIHRoZSBzY2VuZWdyYXBoLCBidXQgd2Uga25vdyB0aGF0IHRoZXJlIHdpbGwgYmUgbm8gbW9yZSBoaXRzISBTbyB3ZSBjYW4gYXZvaWQgZXh0cmEgaGl0IHRlc3RzXG4gICAgICAgIC8vIEEgZmluYWwgb3B0aW1pemF0aW9uIGlzIHRoYXQgYW4gb2JqZWN0IGlzIG5vdCBoaXQgdGVzdCBkaXJlY3RseSBpZiBhIGNoaWxkIGhhcyBhbHJlYWR5IGJlZW4gaGl0LlxuICAgICAgICBpbnRlcmFjdGl2ZSA9IGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUgfHwgaW50ZXJhY3RpdmU7XG4gICAgICAgIHZhciBoaXQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGludGVyYWN0aXZlUGFyZW50ID0gaW50ZXJhY3RpdmU7XG4gICAgICAgIC8vIEZsYWcgaGVyZSBjYW4gc2V0IHRvIGZhbHNlIGlmIHRoZSBldmVudCBpcyBvdXRzaWRlIHRoZSBwYXJlbnRzIGhpdEFyZWEgb3IgbWFza1xuICAgICAgICB2YXIgaGl0VGVzdENoaWxkcmVuID0gdHJ1ZTtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBoaXRBcmVhLCBubyBuZWVkIHRvIHRlc3QgYWdhaW5zdCBhbnl0aGluZyBlbHNlIGlmIHRoZSBwb2ludGVyIGlzIG5vdCB3aXRoaW4gdGhlIGhpdEFyZWFcbiAgICAgICAgLy8gVGhlcmUgaXMgYWxzbyBubyBsb25nZXIgYSBuZWVkIHRvIGhpdFRlc3QgY2hpbGRyZW4uXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmhpdEFyZWEpIHtcbiAgICAgICAgICAgIGlmIChoaXRUZXN0KSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRoaXMuX3RlbXBQb2ludCk7XG4gICAgICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LmhpdEFyZWEuY29udGFpbnModGhpcy5fdGVtcFBvaW50LngsIHRoaXMuX3RlbXBQb2ludC55KSkge1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGhpdFRlc3RDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnRlcmFjdGl2ZVBhcmVudCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgbWFzaywgbm8gbmVlZCB0byBoaXRUZXN0IGFnYWluc3QgYW55dGhpbmcgZWxzZSBpZiB0aGUgcG9pbnRlciBpcyBub3Qgd2l0aGluIHRoZSBtYXNrLlxuICAgICAgICAvLyBXZSBzdGlsbCB3YW50IHRvIGhpdFRlc3RDaGlsZHJlbiwgaG93ZXZlciwgdG8gZW5zdXJlIGEgbW91c2VvdXQgY2FuIHN0aWxsIGJlIGdlbmVyYXRlZC5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy81MTM1XG4gICAgICAgIGVsc2UgaWYgKGRpc3BsYXlPYmplY3QuX21hc2spIHtcbiAgICAgICAgICAgIGlmIChoaXRUZXN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoZGlzcGxheU9iamVjdC5fbWFzay5jb250YWluc1BvaW50ICYmIGRpc3BsYXlPYmplY3QuX21hc2suY29udGFpbnNQb2ludChwb2ludCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gKiogRlJFRSBUSVAgKiohIElmIGFuIG9iamVjdCBpcyBub3QgaW50ZXJhY3RpdmUgb3IgaGFzIG5vIGJ1dHRvbnMgaW4gaXRcbiAgICAgICAgLy8gKHN1Y2ggYXMgYSBnYW1lIHNjZW5lISkgc2V0IGludGVyYWN0aXZlQ2hpbGRyZW4gdG8gZmFsc2UgZm9yIHRoYXQgZGlzcGxheU9iamVjdC5cbiAgICAgICAgLy8gVGhpcyB3aWxsIGFsbG93IFBpeGlKUyB0byBjb21wbGV0ZWx5IGlnbm9yZSBhbmQgYnlwYXNzIGNoZWNraW5nIHRoZSBkaXNwbGF5T2JqZWN0cyBjaGlsZHJlbi5cbiAgICAgICAgaWYgKGhpdFRlc3RDaGlsZHJlbiAmJiBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlQ2hpbGRyZW4gJiYgZGlzcGxheU9iamVjdC5jaGlsZHJlbikge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIC8vIHRpbWUgdG8gZ2V0IHJlY3Vyc2l2ZS4uIGlmIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gaWYgc29tZXRoaW5nIGlzIGhpdC4uXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkSGl0ID0gdGhpcy5yZWN1cnNpdmVGaW5kSGl0KGludGVyYWN0aW9uRXZlbnQsIGNoaWxkLCBmdW5jLCBoaXRUZXN0LCBpbnRlcmFjdGl2ZVBhcmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkSGl0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGl0cyBhIGdvb2QgaWRlYSB0byBjaGVjayBpZiBhIGNoaWxkIGhhcyBsb3N0IGl0cyBwYXJlbnQuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWVhbnMgaXQgaGFzIGJlZW4gcmVtb3ZlZCB3aGlsc3QgbG9vcGluZyBzbyBpdHMgYmVzdFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gd2Ugbm8gbG9uZ2VyIG5lZWQgdG8gaGl0IHRlc3QgYW55IG1vcmUgb2JqZWN0cyBpbiB0aGlzIGNvbnRhaW5lciBhcyB3ZSB3ZVxuICAgICAgICAgICAgICAgICAgICAvLyBub3cga25vdyB0aGUgcGFyZW50IGhhcyBiZWVuIGhpdFxuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZVBhcmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY2hpbGQgaXMgaW50ZXJhY3RpdmUgLCB0aGF0IG1lYW5zIHRoYXQgdGhlIG9iamVjdCBoaXQgd2FzIGFjdHVhbGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIGludGVyYWN0aXZlIGFuZCBub3QganVzdCB0aGUgY2hpbGQgb2YgYW4gaW50ZXJhY3RpdmUgb2JqZWN0LlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIG1lYW5zIHdlIG5vIGxvbmdlciBuZWVkIHRvIGhpdCB0ZXN0IGFueXRoaW5nIGVsc2UuIFdlIHN0aWxsIG5lZWQgdG8gcnVuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRocm91Z2ggYWxsIG9iamVjdHMsIGJ1dCB3ZSBkb24ndCBuZWVkIHRvIHBlcmZvcm0gYW55IGhpdCB0ZXN0cy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkSGl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG5vIHBvaW50IHJ1bm5pbmcgdGhpcyBpZiB0aGUgaXRlbSBpcyBub3QgaW50ZXJhY3RpdmUgb3IgZG9lcyBub3QgaGF2ZSBhbiBpbnRlcmFjdGl2ZSBwYXJlbnQuXG4gICAgICAgIGlmIChpbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGhpdCB0ZXN0aW5nIChhcyBpbiB3ZSBoYXZlIG5vIGhpdCBhbnkgb2JqZWN0cyB5ZXQpXG4gICAgICAgICAgICAvLyBXZSBhbHNvIGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgaGl0IHRlc3RpbmcgaWYgb25jZSBvZiB0aGUgZGlzcGxheU9iamVjdHMgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIGhhcyBhbHJlYWR5IGJlZW4gaGl0IC0gYnV0IG9ubHkgaWYgaXQgd2FzIGludGVyYWN0aXZlLCBvdGhlcndpc2Ugd2UgbmVlZCB0byBrZWVwXG4gICAgICAgICAgICAvLyBsb29raW5nIGZvciBhbiBpbnRlcmFjdGl2ZSBjaGlsZCwganVzdCBpbiBjYXNlIHdlIGhpdCBvbmVcbiAgICAgICAgICAgIGlmIChoaXRUZXN0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgdGVzdGVkIGFnYWluc3QgaGl0QXJlYSBpZiBpdCBpcyBkZWZpbmVkXG4gICAgICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LmhpdEFyZWEgJiYgZGlzcGxheU9iamVjdC5jb250YWluc1BvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGl0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmdW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmMoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgISFoaXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGl0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBwcm92aWRlcyBhIG5lYXQgd2F5IG9mIGNyYXdsaW5nIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBydW5uaW5nIGFcbiAgICAgKiBzcGVjaWZpZWQgZnVuY3Rpb24gb24gYWxsIGludGVyYWN0aXZlIG9iamVjdHMgaXQgZmluZHMuIEl0IHdpbGwgYWxzbyB0YWtlIGNhcmUgb2YgaGl0XG4gICAgICogdGVzdGluZyB0aGUgaW50ZXJhY3RpdmUgb2JqZWN0cyBhbmQgcGFzc2VzIHRoZSBoaXQgYWNyb3NzIGluIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBldmVudCBjb250YWluaW5nIHRoZSBwb2ludCB0aGF0XG4gICAgICogIGlzIHRlc3RlZCBmb3IgY29sbGlzaW9uXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0XG4gICAgICogIHRoYXQgd2lsbCBiZSBoaXQgdGVzdCAocmVjdXJzaXZlbHkgY3Jhd2xzIGl0cyBjaGlsZHJlbilcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZnVuY10gLSB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIGludGVyYWN0aXZlIG9iamVjdC4gVGhlXG4gICAgICogIGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QgYW5kIGhpdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoaXRUZXN0XSAtIHRoaXMgaW5kaWNhdGVzIGlmIHRoZSBvYmplY3RzIGluc2lkZSBzaG91bGQgYmUgaGl0IHRlc3QgYWdhaW5zdCB0aGUgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSByZXR1cm5zIHRydWUgaWYgdGhlIGRpc3BsYXlPYmplY3QgaGl0IHRoZSBwb2ludFxuICAgICAqL1xuICAgIFRyZWVTZWFyY2gucHJvdG90eXBlLmZpbmRIaXQgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCkge1xuICAgICAgICB0aGlzLnJlY3Vyc2l2ZUZpbmRIaXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCwgZmFsc2UpO1xuICAgIH07XG4gICAgcmV0dXJuIFRyZWVTZWFyY2g7XG59KCkpO1xuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgY2xhc3NlcyB0aGF0IHJlcHJlc2VudCBhIGhpdCBhcmVhLlxuICpcbiAqIEl0IGlzIGltcGxlbWVudGVkIGJ5IHRoZSBmb2xsb3dpbmcgY2xhc3NlczpcbiAqIC0ge0BsaW5rIFBJWEkuQ2lyY2xlfVxuICogLSB7QGxpbmsgUElYSS5FbGxpcHNlfVxuICogLSB7QGxpbmsgUElYSS5Qb2x5Z29ufVxuICogLSB7QGxpbmsgUElYSS5Sb3VuZGVkUmVjdGFuZ2xlfVxuICpcbiAqIEBpbnRlcmZhY2UgSUhpdEFyZWFcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBhcmVhXG4gKlxuICogQG1ldGhvZFxuICogQG5hbWUgY29udGFpbnNcbiAqIEBtZW1iZXJvZiBQSVhJLklIaXRBcmVhI1xuICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgYXJlYVxuICovXG4vKipcbiAqIERlZmF1bHQgcHJvcGVydHkgdmFsdWVzIG9mIGludGVyYWN0aXZlIG9iamVjdHNcbiAqIFVzZWQgYnkge0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyfSB0byBhdXRvbWF0aWNhbGx5IGdpdmUgYWxsIERpc3BsYXlPYmplY3RzIHRoZXNlIHByb3BlcnRpZXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaW50ZXJhY3RpdmVUYXJnZXRcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgT2JqZWN0LmFzc2lnbihcbiAqICAgICAgICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLFxuICogICAgICAgICAgUElYSS5pbnRlcmFjdGl2ZVRhcmdldFxuICogICAgICApO1xuICovXG52YXIgaW50ZXJhY3RpdmVUYXJnZXQgPSB7XG4gICAgLyoqXG4gICAgICogRW5hYmxlIGludGVyYWN0aW9uIGV2ZW50cyBmb3IgdGhlIERpc3BsYXlPYmplY3QuIFRvdWNoLCBwb2ludGVyIGFuZCBtb3VzZVxuICAgICAqIGV2ZW50cyB3aWxsIG5vdCBiZSBlbWl0dGVkIHVubGVzcyBgaW50ZXJhY3RpdmVgIGlzIHNldCB0byBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5vbigndGFwJywgKGV2ZW50KSA9PiB7XG4gICAgICogICAgLy9oYW5kbGUgZXZlbnRcbiAgICAgKiB9KTtcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgaW50ZXJhY3RpdmU6IGZhbHNlLFxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhlIGNoaWxkcmVuIHRvIHRoZSBkaXNwbGF5T2JqZWN0IGNhbiBiZSBjbGlja2VkL3RvdWNoZWRcbiAgICAgKiBTZXR0aW5nIHRoaXMgdG8gZmFsc2UgYWxsb3dzIFBpeGlKUyB0byBieXBhc3MgYSByZWN1cnNpdmUgYGhpdFRlc3RgIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAgICAgKi9cbiAgICBpbnRlcmFjdGl2ZUNoaWxkcmVuOiB0cnVlLFxuICAgIC8qKlxuICAgICAqIEludGVyYWN0aW9uIHNoYXBlLiBDaGlsZHJlbiB3aWxsIGJlIGhpdCBmaXJzdCwgdGhlbiB0aGlzIHNoYXBlIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgKiBTZXR0aW5nIHRoaXMgd2lsbCBjYXVzZSB0aGlzIHNoYXBlIHRvIGJlIGNoZWNrZWQgaW4gaGl0IHRlc3RzIHJhdGhlciB0aGFuIHRoZSBkaXNwbGF5T2JqZWN0J3MgYm91bmRzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUuaGl0QXJlYSA9IG5ldyBQSVhJLlJlY3RhbmdsZSgwLCAwLCAxMDAsIDEwMCk7XG4gICAgICogQG1lbWJlciB7UElYSS5JSGl0QXJlYX1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGhpdEFyZWE6IG51bGwsXG4gICAgLyoqXG4gICAgICogSWYgZW5hYmxlZCwgdGhlIG1vdXNlIGN1cnNvciB1c2UgdGhlIHBvaW50ZXIgYmVoYXZpb3Igd2hlbiBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QgaWYgaXQgaXMgaW50ZXJhY3RpdmVcbiAgICAgKiBTZXR0aW5nIHRoaXMgY2hhbmdlcyB0aGUgJ2N1cnNvcicgcHJvcGVydHkgdG8gYCdwb2ludGVyJ2AuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5idXR0b25Nb2RlID0gdHJ1ZTtcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgZ2V0IGJ1dHRvbk1vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInO1xuICAgIH0sXG4gICAgc2V0IGJ1dHRvbk1vZGUodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFRoaXMgZGVmaW5lcyB3aGF0IGN1cnNvciBtb2RlIGlzIHVzZWQgd2hlbiB0aGUgbW91c2UgY3Vyc29yXG4gICAgICogaXMgaG92ZXJlZCBvdmVyIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUuY3Vyc29yID0gJ3dhaXQnO1xuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQ1NTL2N1cnNvclxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgY3Vyc29yOiBudWxsLFxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHNldCBvZiBhbGwgYWN0aXZlIHBvaW50ZXJzLCBieSBpZGVudGlmaWVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtNYXA8bnVtYmVyLCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YT59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldCB0cmFja2VkUG9pbnRlcnMoKSB7XG4gICAgICAgIGlmICh0aGlzLl90cmFja2VkUG9pbnRlcnMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHsgdGhpcy5fdHJhY2tlZFBvaW50ZXJzID0ge307IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYWNrZWRQb2ludGVycztcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIE1hcCBvZiBhbGwgdHJhY2tlZCBwb2ludGVycywgYnkgaWRlbnRpZmllci4gVXNlIHRyYWNrZWRQb2ludGVycyB0byBhY2Nlc3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtNYXA8bnVtYmVyLCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YT59XG4gICAgICovXG4gICAgX3RyYWNrZWRQb2ludGVyczogdW5kZWZpbmVkLFxufTtcblxuLy8gTWl4IGludGVyYWN0aXZlVGFyZ2V0IGludG8gRGlzcGxheU9iamVjdC5wcm90b3R5cGUsXG4vLyBhZnRlciBkZXByZWNhdGlvbiBoYXMgYmVlbiBoYW5kbGVkXG5EaXNwbGF5T2JqZWN0Lm1peGluKGludGVyYWN0aXZlVGFyZ2V0KTtcbnZhciBNT1VTRV9QT0lOVEVSX0lEID0gMTtcbi8vIGhlbHBlcnMgZm9yIGhpdFRlc3QoKSAtIG9ubHkgdXNlZCBpbnNpZGUgaGl0VGVzdCgpXG52YXIgaGl0VGVzdEV2ZW50ID0ge1xuICAgIHRhcmdldDogbnVsbCxcbiAgICBkYXRhOiB7XG4gICAgICAgIGdsb2JhbDogbnVsbCxcbiAgICB9LFxufTtcbi8qKlxuICogVGhlIGludGVyYWN0aW9uIG1hbmFnZXIgZGVhbHMgd2l0aCBtb3VzZSwgdG91Y2ggYW5kIHBvaW50ZXIgZXZlbnRzLlxuICpcbiAqIEFueSBEaXNwbGF5T2JqZWN0IGNhbiBiZSBpbnRlcmFjdGl2ZSBpZiBpdHMgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBpcyBzZXQgdG8gdHJ1ZS5cbiAqXG4gKiBUaGlzIG1hbmFnZXIgYWxzbyBzdXBwb3J0cyBtdWx0aXRvdWNoLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgYHJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb25gXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEludGVyYWN0aW9uTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW50ZXJhY3Rpb25NYW5hZ2VyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcnxQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdD10cnVlXSAtIFNob3VsZCB0aGUgbWFuYWdlciBhdXRvbWF0aWNhbGx5IHByZXZlbnQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmludGVyYWN0aW9uRnJlcXVlbmN5PTEwXSAtIE1heGltdW0gcmVxdWVuY3kgKG1zKSBhdCBwb2ludGVyIG92ZXIvb3V0IHN0YXRlcyB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnVzZVN5c3RlbVRpY2tlcj10cnVlXSAtIFdoZXRoZXIgdG8gYWRkIHtAbGluayB0aWNrZXJVcGRhdGV9IHRvIHtAbGluayBQSVhJLlRpY2tlci5zeXN0ZW19LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEludGVyYWN0aW9uTWFuYWdlcihyZW5kZXJlciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIGludGVyYWN0aW9uIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdWxkIGRlZmF1bHQgYnJvd3NlciBhY3Rpb25zIGF1dG9tYXRpY2FsbHkgYmUgcHJldmVudGVkLlxuICAgICAgICAgKiBEb2VzIG5vdCBhcHBseSB0byBwb2ludGVyIGV2ZW50cyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICogcHJldmVudERlZmF1bHQgb24gcG9pbnRlciBldmVudHMgc3RvcHMgbW91c2UgZXZlbnRzIGZyb20gZmlyaW5nXG4gICAgICAgICAqIFRodXMsIGZvciBldmVyeSBwb2ludGVyIGV2ZW50LCB0aGVyZSB3aWxsIGFsd2F5cyBiZSBlaXRoZXIgYSBtb3VzZSBvZiB0b3VjaCBldmVudCBhbG9uZ3NpZGUgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9QcmV2ZW50RGVmYXVsdCA9IG9wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdCA6IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXhpbXVtIHJlcXVlbmN5IGluIG1pbGxpc2Vjb25kcyBhdCB3aGljaCBwb2ludGVyIG92ZXIvb3V0IHN0YXRlcyB3aWxsIGJlIGNoZWNrZWQgYnkge0BsaW5rIHRpY2tlclVwZGF0ZX0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5ID0gb3B0aW9ucy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSB8fCAxMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb3VzZSBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSW50ZXJhY3Rpb25EYXRhfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubW91c2UgPSBuZXcgSW50ZXJhY3Rpb25EYXRhKCk7XG4gICAgICAgIF90aGlzLm1vdXNlLmlkZW50aWZpZXIgPSBNT1VTRV9QT0lOVEVSX0lEO1xuICAgICAgICAvLyBzZXR0aW5nIHRoZSBtb3VzZSB0byBzdGFydCBvZmYgZmFyIG9mZiBzY3JlZW4gd2lsbCBtZWFuIHRoYXQgbW91c2Ugb3ZlciBkb2VzXG4gICAgICAgIC8vICBub3QgZ2V0IGNhbGxlZCBiZWZvcmUgd2UgZXZlbiBtb3ZlIHRoZSBtb3VzZS5cbiAgICAgICAgX3RoaXMubW91c2UuZ2xvYmFsLnNldCgtOTk5OTk5KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2ZWx5IHRyYWNrZWQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48bnVtYmVyLFBJWEkuSW50ZXJhY3Rpb25EYXRhPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSA9IHt9O1xuICAgICAgICBfdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbTU9VU0VfUE9JTlRFUl9JRF0gPSBfdGhpcy5tb3VzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgdW51c2VkIEludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkludGVyYWN0aW9uRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbCA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gZXZlbnQgZGF0YSBvYmplY3QgdG8gaGFuZGxlIGFsbCB0aGUgZXZlbnQgdHJhY2tpbmcvZGlzcGF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXZlbnREYXRhID0gbmV3IEludGVyYWN0aW9uRXZlbnQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBET00gZWxlbWVudCB0byBiaW5kIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcHJvcGVydHkgZGV0ZXJtaW5lcyBpZiBtb3VzZW1vdmUgYW5kIHRvdWNobW92ZSBldmVudHMgYXJlIGZpcmVkIG9ubHkgd2hlbiB0aGUgY3Vyc29yXG4gICAgICAgICAqIGlzIG92ZXIgdGhlIG9iamVjdC5cbiAgICAgICAgICogU2V0dGluZyB0byB0cnVlIHdpbGwgbWFrZSB0aGluZ3Mgd29yayBtb3JlIGluIGxpbmUgd2l0aCBob3cgdGhlIERPTSB2ZXJzaW9uIHdvcmtzLlxuICAgICAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIGNhbiBtYWtlIHRoaW5ncyBlYXNpZXIgZm9yIHRoaW5ncyBsaWtlIGRyYWdnaW5nXG4gICAgICAgICAqIEl0IGlzIGN1cnJlbnRseSBzZXQgdG8gZmFsc2UgYXMgdGhpcyBpcyBob3cgUGl4aUpTIHVzZWQgdG8gd29yay4gVGhpcyB3aWxsIGJlIHNldCB0byB0cnVlIGluXG4gICAgICAgICAqIGZ1dHVyZSB2ZXJzaW9ucyBvZiBwaXhpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubW92ZVdoZW5JbnNpZGUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhdmUgZXZlbnRzIGJlZW4gYXR0YWNoZWQgdG8gdGhlIGRvbSBlbGVtZW50P1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSGFzIHRoZSBzeXN0ZW0gdGlja2VyIGJlZW4gYWRkZWQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpY2tlckFkZGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgbW91c2UgaG92ZXJpbmcgb3ZlciB0aGUgcmVuZGVyZXI/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCB0b3VjaCBldmVudHNcbiAgICAgICAgICogaHR0cHM6Ly93d3cudzMub3JnL1RSL3RvdWNoLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93O1xuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyB0aGUgZGV2aWNlIHN1cHBvcnQgcG9pbnRlciBldmVudHNcbiAgICAgICAgICogaHR0cHM6Ly93d3cudzMub3JnL1N1Ym1pc3Npb24vcG9pbnRlci1ldmVudHMvXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzID0gISF3aW5kb3cuUG9pbnRlckV2ZW50O1xuICAgICAgICAvLyB0aGlzIHdpbGwgbWFrZSBpdCBzbyB0aGF0IHlvdSBkb24ndCBoYXZlIHRvIGNhbGwgYmluZCBhbGwgdGhlIHRpbWVcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyVXAgPSBfdGhpcy5vblBvaW50ZXJVcC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJVcCA9IF90aGlzLnByb2Nlc3NQb2ludGVyVXAuYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlckNhbmNlbCA9IF90aGlzLm9uUG9pbnRlckNhbmNlbC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSBfdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbC5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyRG93biA9IF90aGlzLm9uUG9pbnRlckRvd24uYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyRG93biA9IF90aGlzLnByb2Nlc3NQb2ludGVyRG93bi5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyTW92ZSA9IF90aGlzLm9uUG9pbnRlck1vdmUuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IF90aGlzLnByb2Nlc3NQb2ludGVyTW92ZS5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyT3V0ID0gX3RoaXMub25Qb2ludGVyT3V0LmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSBfdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQuYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlck92ZXIgPSBfdGhpcy5vblBvaW50ZXJPdmVyLmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGljdGlvbmFyeSBvZiBob3cgZGlmZmVyZW50IGN1cnNvciBtb2RlcyBhcmUgaGFuZGxlZC4gU3RyaW5ncyBhcmUgaGFuZGxlZCBhcyBDU1MgY3Vyc29yXG4gICAgICAgICAqIHZhbHVlcywgb2JqZWN0cyBhcmUgaGFuZGxlZCBhcyBkaWN0aW9uYXJpZXMgb2YgQ1NTIHZhbHVlcyBmb3IgaW50ZXJhY3Rpb25ET01FbGVtZW50LFxuICAgICAgICAgKiBhbmQgZnVuY3Rpb25zIGFyZSBjYWxsZWQgaW5zdGVhZCBvZiBjaGFuZ2luZyB0aGUgQ1NTLlxuICAgICAgICAgKiBEZWZhdWx0IENTUyBjdXJzb3IgdmFsdWVzIGFyZSBwcm92aWRlZCBmb3IgJ2RlZmF1bHQnIGFuZCAncG9pbnRlcicgbW9kZXMuXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48c3RyaW5nLCBPYmplY3Q+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3Vyc29yU3R5bGVzID0ge1xuICAgICAgICAgICAgZGVmYXVsdDogJ2luaGVyaXQnLFxuICAgICAgICAgICAgcG9pbnRlcjogJ3BvaW50ZXInLFxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vZGUgb2YgdGhlIGN1cnNvciB0aGF0IGlzIGJlaW5nIHVzZWQuXG4gICAgICAgICAqIFRoZSB2YWx1ZSBvZiB0aGlzIGlzIGEga2V5IGZyb20gdGhlIGN1cnNvclN0eWxlcyBkaWN0aW9uYXJ5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBjYWNoZWQgbGV0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpby5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlbGF5ZWQgcG9pbnRlciBldmVudHMuIFVzZWQgdG8gZ3VhcmFudGVlIGNvcnJlY3Qgb3JkZXJpbmcgb2Ygb3Zlci9vdXQgZXZlbnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlbGF5ZWRFdmVudHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyZWVTZWFyY2ggY29tcG9uZW50IHRoYXQgaXMgdXNlZCB0byBoaXRUZXN0IHN0YWdlIHRyZWVcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UcmVlU2VhcmNofVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2VhcmNoID0gbmV3IFRyZWVTZWFyY2goKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYXMgYSBsYXN0IHJlbmRlcmVkIG9iamVjdCBpbiBjYXNlIHJlbmRlcmVyIGRvZXNudCBoYXZlIF9sYXN0T2JqZWN0UmVuZGVyZWRcbiAgICAgICAgICogQG1lbWJlciB7RGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZW1wRGlzcGxheU9iamVjdCA9IG5ldyBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2Vkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHRkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNldXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNyaWdodHVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvblxuICAgICAgICAgKiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNyaWdodGNsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZVxuICAgICAgICAgKiBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW21vdXNlZG93bl17QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6bW91c2Vkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNldXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbcmlnaHRkb3duXXtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNldmVudDpyaWdodGRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHR1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlbW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2VvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogTm90IGFsd2F5cyBmaXJlZCB3aGVuIHNvbWUgYnV0dG9ucyBhcmUgaGVsZCBkb3duIHdoaWxlIG90aGVycyBhcmUgcmVsZWFzZWQuIEluIHRob3NlIGNhc2VzLFxuICAgICAgICAgKiB1c2UgW21vdXNlZG93bl17QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6bW91c2Vkb3dufSBhbmRcbiAgICAgICAgICogW21vdXNldXBde0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNldXB9IGluc3RlYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSBwb2ludGVyIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3BvaW50ZXJkb3duXXtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNldmVudDpwb2ludGVyZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVybW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hzdGFydFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hlbmRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSB0b3VjaFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIGFuZCByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjdGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgb3V0c2lkZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFt0b3VjaHN0YXJ0XXtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNldmVudDp0b3VjaHN0YXJ0fS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoZW5kb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBtb3ZlZCBhbG9uZyB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaG1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkuXG4gICAgICAgICAqIG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2Vkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogb24gdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodGRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZXVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodHVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvblxuICAgICAgICAgKiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I2NsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHRjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGVcbiAgICAgICAgICogZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFttb3VzZWRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDptb3VzZWRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZXVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW3JpZ2h0ZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnJpZ2h0ZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0dXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgcG9pbnRlciBldmVudC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcmNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3BvaW50ZXJkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6cG9pbnRlcmRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVybW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaHN0YXJ0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoZW5kXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgdG91Y2guXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgb3V0c2lkZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFt0b3VjaHN0YXJ0XXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6dG91Y2hzdGFydH0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoZW5kb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBtb3ZlZCBhbG9uZyB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNobW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3VzZVN5c3RlbVRpY2tlciA9IG9wdGlvbnMudXNlU3lzdGVtVGlja2VyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnVzZVN5c3RlbVRpY2tlciA6IHRydWU7XG4gICAgICAgIF90aGlzLnNldFRhcmdldEVsZW1lbnQoX3RoaXMucmVuZGVyZXIudmlldywgX3RoaXMucmVuZGVyZXIucmVzb2x1dGlvbik7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUsIFwidXNlU3lzdGVtVGlja2VyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCB0aGUgSW50ZXJhY3Rpb25NYW5hZ2VyIGF1dG9tYXRpY2FsbHkgYWRkIHtAbGluayB0aWNrZXJVcGRhdGV9IHRvIHtAbGluayBQSVhJLlRpY2tlci5zeXN0ZW19LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91c2VTeXN0ZW1UaWNrZXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHVzZVN5c3RlbVRpY2tlcikge1xuICAgICAgICAgICAgdGhpcy5fdXNlU3lzdGVtVGlja2VyID0gdXNlU3lzdGVtVGlja2VyO1xuICAgICAgICAgICAgaWYgKHVzZVN5c3RlbVRpY2tlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkVGlja2VyTGlzdGVuZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlVGlja2VyTGlzdGVuZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLCBcImxhc3RPYmplY3RSZW5kZXJlZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMYXN0IHJlbmRlcmVkIG9iamVjdCBvciB0ZW1wIG9iamVjdFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQgfHwgdGhpcy5fdGVtcERpc3BsYXlPYmplY3Q7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBIaXQgdGVzdHMgYSBwb2ludCBhZ2FpbnN0IHRoZSBkaXNwbGF5IHRyZWUsIHJldHVybmluZyB0aGUgZmlyc3QgaW50ZXJhY3RpdmUgb2JqZWN0IHRoYXQgaXMgaGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBnbG9iYWxQb2ludCAtIEEgcG9pbnQgdG8gaGl0IHRlc3Qgd2l0aCwgaW4gZ2xvYmFsIHNwYWNlLlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IFtyb290XSAtIFRoZSByb290IGRpc3BsYXkgb2JqZWN0IHRvIHN0YXJ0IGZyb20uIElmIG9taXR0ZWQsIGRlZmF1bHRzXG4gICAgICogdG8gdGhlIGxhc3QgcmVuZGVyZWQgcm9vdCBvZiB0aGUgYXNzb2NpYXRlZCByZW5kZXJlci5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBoaXQgZGlzcGxheSBvYmplY3QsIGlmIGFueS5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmhpdFRlc3QgPSBmdW5jdGlvbiAoZ2xvYmFsUG9pbnQsIHJvb3QpIHtcbiAgICAgICAgLy8gY2xlYXIgdGhlIHRhcmdldCBmb3Igb3VyIGhpdCB0ZXN0XG4gICAgICAgIGhpdFRlc3RFdmVudC50YXJnZXQgPSBudWxsO1xuICAgICAgICAvLyBhc3NpZ24gdGhlIGdsb2JhbCBwb2ludFxuICAgICAgICBoaXRUZXN0RXZlbnQuZGF0YS5nbG9iYWwgPSBnbG9iYWxQb2ludDtcbiAgICAgICAgLy8gZW5zdXJlIHNhZmV0eSBvZiB0aGUgcm9vdFxuICAgICAgICBpZiAoIXJvb3QpIHtcbiAgICAgICAgICAgIHJvb3QgPSB0aGlzLmxhc3RPYmplY3RSZW5kZXJlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBydW4gdGhlIGhpdCB0ZXN0XG4gICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGhpdFRlc3RFdmVudCwgcm9vdCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIC8vIHJldHVybiBvdXIgZm91bmQgb2JqZWN0IC0gaXQnbGwgYmUgbnVsbCBpZiB3ZSBkaWRuJ3QgaGl0IGFueXRoaW5nXG4gICAgICAgIHJldHVybiBoaXRUZXN0RXZlbnQudGFyZ2V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgRE9NIGVsZW1lbnQgd2hpY2ggd2lsbCByZWNlaXZlIG1vdXNlL3RvdWNoIGV2ZW50cy4gVGhpcyBpcyB1c2VmdWwgZm9yIHdoZW4geW91IGhhdmVcbiAgICAgKiBvdGhlciBET00gZWxlbWVudHMgb24gdG9wIG9mIHRoZSByZW5kZXJlcnMgQ2FudmFzIGVsZW1lbnQuIFdpdGggdGhpcyB5b3UnbGwgYmUgYmFsZSB0byBkZWxlZ2F0ZVxuICAgICAqIGFub3RoZXIgRE9NIGVsZW1lbnQgdG8gcmVjZWl2ZSB0aG9zZSBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gdGhlIERPTSBlbGVtZW50IHdoaWNoIHdpbGwgcmVjZWl2ZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBuZXcgZWxlbWVudCAocmVsYXRpdmUgdG8gdGhlIGNhbnZhcykuXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5zZXRUYXJnZXRFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQsIHJlc29sdXRpb24pIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uID0gMTsgfVxuICAgICAgICB0aGlzLnJlbW92ZVRpY2tlckxpc3RlbmVyKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5hZGRFdmVudHMoKTtcbiAgICAgICAgdGhpcy5hZGRUaWNrZXJMaXN0ZW5lcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIHRoZSB0aWNrZXIgbGlzdGVuZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5hZGRUaWNrZXJMaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudGlja2VyQWRkZWQgfHwgIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50IHx8ICF0aGlzLl91c2VTeXN0ZW1UaWNrZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZCh0aGlzLnRpY2tlclVwZGF0ZSwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLklOVEVSQUNUSU9OKTtcbiAgICAgICAgdGhpcy50aWNrZXJBZGRlZCA9IHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIHRpY2tlciBsaXN0ZW5lclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlbW92ZVRpY2tlckxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMudGlja2VyQWRkZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBUaWNrZXIuc3lzdGVtLnJlbW92ZSh0aGlzLnRpY2tlclVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMudGlja2VyQWRkZWQgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhbGwgdGhlIERPTSBldmVudHNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmV2ZW50c0FkZGVkIHx8ICF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlO1xuICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG4gICAgICAgICAgICBzdHlsZS5tc0NvbnRlbnRab29taW5nID0gJ25vbmUnO1xuICAgICAgICAgICAgc3R5bGUubXNUb3VjaEFjdGlvbiA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgc3R5bGUudG91Y2hBY3Rpb24gPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZXNlIGV2ZW50cyBhcmUgYWRkZWQgZmlyc3QsIHNvIHRoYXQgaWYgcG9pbnRlciBldmVudHMgYXJlIG5vcm1hbGl6ZWQsIHRoZXkgYXJlIGZpcmVkXG4gICAgICAgICAqIGluIHRoZSBzYW1lIG9yZGVyIGFzIG5vbi1ub3JtYWxpemVkIGV2ZW50cy4gaWUuIHBvaW50ZXIgZXZlbnQgMXN0LCBtb3VzZSAvIHRvdWNoIDJuZFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgLy8gcG9pbnRlcm91dCBpcyBmaXJlZCBpbiBhZGRpdGlvbiB0byBwb2ludGVydXAgKGZvciB0b3VjaCBldmVudHMpIGFuZCBwb2ludGVyY2FuY2VsXG4gICAgICAgICAgICAvLyB3ZSBhbHJlYWR5IGhhbmRsZSB0aG9zZSwgc28gZm9yIHRoZSBwdXJwb3NlcyBvZiB3aGF0IHdlIGRvIGluIG9uUG9pbnRlck91dCwgd2Ugb25seVxuICAgICAgICAgICAgLy8gY2FyZSBhYm91dCB0aGUgcG9pbnRlcmxlYXZlIGV2ZW50XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWx3YXlzIGxvb2sgZGlyZWN0bHkgZm9yIHRvdWNoIGV2ZW50cyBzbyB0aGF0IHdlIGNhbiBwcm92aWRlIG9yaWdpbmFsIGRhdGFcbiAgICAgICAgLy8gSW4gYSBmdXR1cmUgdmVyc2lvbiB3ZSBzaG91bGQgY2hhbmdlIHRoaXMgdG8gYmVpbmcganVzdCBhIGZhbGxiYWNrIGFuZCByZWx5IHNvbGVseSBvblxuICAgICAgICAvLyBQb2ludGVyRXZlbnRzIHdoZW5ldmVyIGF2YWlsYWJsZVxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCB0aGUgRE9NIGV2ZW50cyB0aGF0IHdlcmUgcHJldmlvdXNseSByZWdpc3RlcmVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZXZlbnRzQWRkZWQgfHwgIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGU7XG4gICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpIHtcbiAgICAgICAgICAgIHN0eWxlLm1zQ29udGVudFpvb21pbmcgPSAnJztcbiAgICAgICAgICAgIHN0eWxlLm1zVG91Y2hBY3Rpb24gPSAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgc3R5bGUudG91Y2hBY3Rpb24gPSAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgc3RhdGUgb2YgaW50ZXJhY3RpdmUgb2JqZWN0cyBpZiBhdCBsZWFzdCB7QGxpbmsgaW50ZXJhY3Rpb25GcmVxdWVuY3l9XG4gICAgICogbWlsbGlzZWNvbmRzIGhhdmUgcGFzc2VkIHNpbmNlIHRoZSBsYXN0IGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiBJbnZva2VkIGJ5IGEgdGhyb3R0bGVkIHRpY2tlciB1cGRhdGUgZnJvbSB7QGxpbmsgUElYSS5UaWNrZXIuc3lzdGVtfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSB0aW1lIGRlbHRhIHNpbmNlIHRoZSBsYXN0IGNhbGxcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnRpY2tlclVwZGF0ZSA9IGZ1bmN0aW9uIChkZWx0YVRpbWUpIHtcbiAgICAgICAgdGhpcy5fZGVsdGFUaW1lICs9IGRlbHRhVGltZTtcbiAgICAgICAgaWYgKHRoaXMuX2RlbHRhVGltZSA8IHRoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kZWx0YVRpbWUgPSAwO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgc3RhdGUgb2YgaW50ZXJhY3RpdmUgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIG1vdmUgdGhlIG1vdXNlIHRoaXMgY2hlY2sgaGFzIGFscmVhZHkgYmVlbiBkb25lIHVzaW5nIHRoZSBtb3VzZSBtb3ZlIVxuICAgICAgICBpZiAodGhpcy5fZGlkTW92ZSkge1xuICAgICAgICAgICAgdGhpcy5fZGlkTW92ZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgLy8gUmVzZXRzIHRoZSBmbGFnIGFzIHNldCBieSBhIHN0b3BQcm9wYWdhdGlvbiBjYWxsLiBUaGlzIGZsYWcgaXMgdXN1YWxseSByZXNldCBieSBhIHVzZXIgaW50ZXJhY3Rpb24gb2YgYW55IGtpbmQsXG4gICAgICAgIC8vIGJ1dCB0aGVyZSB3YXMgYSBzY2VuYXJpbyBvZiBhIGRpc3BsYXkgb2JqZWN0IG1vdmluZyB1bmRlciBhIHN0YXRpYyBtb3VzZSBjdXJzb3IuXG4gICAgICAgIC8vIEluIHRoaXMgY2FzZSwgbW91c2VvdmVyIGFuZCBtb3VzZWV2ZW50cyB3b3VsZCBub3QgcGFzcyB0aGUgZmxhZyB0ZXN0IGluIGRpc3BhdGNoRXZlbnQgZnVuY3Rpb25cbiAgICAgICAgZm9yICh2YXIgayBpbiB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW2tdO1xuICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCAmJiBpbnRlcmFjdGlvbkRhdGEucG9pbnRlclR5cGUgIT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMubGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZSh0aGlzLmN1cnNvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IGN1cnNvciBtb2RlLCBoYW5kbGluZyBhbnkgY2FsbGJhY2tzIG9yIENTUyBzdHlsZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBjdXJzb3IgbW9kZSwgYSBrZXkgZnJvbSB0aGUgY3Vyc29yU3R5bGVzIGRpY3Rpb25hcnlcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnNldEN1cnNvck1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xuICAgICAgICBtb2RlID0gbW9kZSB8fCAnZGVmYXVsdCc7XG4gICAgICAgIC8vIGlmIHRoZSBtb2RlIGRpZG4ndCBhY3R1YWxseSBjaGFuZ2UsIGJhaWwgZWFybHlcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEN1cnNvck1vZGUgPT09IG1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID0gbW9kZTtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5jdXJzb3JTdHlsZXNbbW9kZV07XG4gICAgICAgIC8vIG9ubHkgZG8gdGhpbmdzIGlmIHRoZXJlIGlzIGEgY3Vyc29yIHN0eWxlIGZvciBpdFxuICAgICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHN0eWxlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RyaW5nIHN0eWxlcyBhcmUgaGFuZGxlZCBhcyBjdXJzb3IgQ1NTXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvciA9IHN0eWxlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIC8vIGZ1bmN0aW9ucyBhcmUganVzdCBjYWxsZWQsIGFuZCBwYXNzZWQgdGhlIGN1cnNvciBtb2RlXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlKG1vZGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCBpcyBhbiBvYmplY3QsIGFzc3VtZSB0aGF0IGl0IGlzIGEgZGljdGlvbmFyeSBvZiBDU1Mgc3R5bGVzLFxuICAgICAgICAgICAgICAgICAgICAvLyBhcHBseSBpdCB0byB0aGUgaW50ZXJhY3Rpb25ET01FbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUsIHN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1vZGUgPT09ICdzdHJpbmcnICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jdXJzb3JTdHlsZXMsIG1vZGUpKSB7XG4gICAgICAgICAgICAvLyBpZiBpdCBtb2RlIGlzIGEgc3RyaW5nIChub3QgYSBTeW1ib2wpIGFuZCBjdXJzb3JTdHlsZXMgZG9lc24ndCBoYXZlIGFueSBlbnRyeVxuICAgICAgICAgICAgLy8gZm9yIHRoZSBtb2RlLCB0aGVuIGFzc3VtZSB0aGF0IHRoZSBkZXYgd2FudHMgaXQgdG8gYmUgQ1NTIGZvciB0aGUgY3Vyc29yLlxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUuY3Vyc29yID0gbW9kZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlcyBhbiBldmVudCBvbiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgaW50ZXJhY3RlZCB3aXRoXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXkgb2JqZWN0IGluIHF1ZXN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50U3RyaW5nIC0gdGhlIG5hbWUgb2YgdGhlIGV2ZW50IChlLmcsIG1vdXNlZG93bilcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnREYXRhIC0gdGhlIGV2ZW50IGRhdGEgb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSkge1xuICAgICAgICAvLyBFdmVuIGlmIHRoZSBldmVudCB3YXMgc3RvcHBlZCwgYXQgbGVhc3QgZGlzcGF0Y2ggYW55IHJlbWFpbmluZyBldmVudHNcbiAgICAgICAgLy8gZm9yIHRoZSBzYW1lIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICBpZiAoIWV2ZW50RGF0YS5zdG9wUHJvcGFnYXRpb25IaW50IHx8IGRpc3BsYXlPYmplY3QgPT09IGV2ZW50RGF0YS5zdG9wc1Byb3BhZ2F0aW5nQXQpIHtcbiAgICAgICAgICAgIGV2ZW50RGF0YS5jdXJyZW50VGFyZ2V0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgIGV2ZW50RGF0YS50eXBlID0gZXZlbnRTdHJpbmc7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LmVtaXQoZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSk7XG4gICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdFtldmVudFN0cmluZ10pIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0W2V2ZW50U3RyaW5nXShldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQdXRzIGEgZXZlbnQgb24gYSBxdWV1ZSB0byBiZSBkaXNwYXRjaGVkIGxhdGVyLiBUaGlzIGlzIHVzZWQgdG8gZ3VhcmFudGVlIGNvcnJlY3RcbiAgICAgKiBvcmRlcmluZyBvZiBvdmVyL291dCBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXkgb2JqZWN0IGluIHF1ZXN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50U3RyaW5nIC0gdGhlIG5hbWUgb2YgdGhlIGV2ZW50IChlLmcsIG1vdXNlZG93bilcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnREYXRhIC0gdGhlIGV2ZW50IGRhdGEgb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmRlbGF5RGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIChkaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZywgZXZlbnREYXRhKSB7XG4gICAgICAgIHRoaXMuZGVsYXllZEV2ZW50cy5wdXNoKHsgZGlzcGxheU9iamVjdDogZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmc6IGV2ZW50U3RyaW5nLCBldmVudERhdGE6IGV2ZW50RGF0YSB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hcHMgeCBhbmQgeSBjb29yZHMgZnJvbSBhIERPTSBvYmplY3QgYW5kIG1hcHMgdGhlbSBjb3JyZWN0bHkgdG8gdGhlIFBpeGlKUyB2aWV3LiBUaGVcbiAgICAgKiByZXN1bHRpbmcgdmFsdWUgaXMgc3RvcmVkIGluIHRoZSBwb2ludC4gVGhpcyB0YWtlcyBpbnRvIGFjY291bnQgdGhlIGZhY3QgdGhhdCB0aGUgRE9NXG4gICAgICogZWxlbWVudCBjb3VsZCBiZSBzY2FsZWQgYW5kIHBvc2l0aW9uZWQgYW55d2hlcmUgb24gdGhlIHNjcmVlbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSB0aGUgcG9pbnQgdGhhdCB0aGUgcmVzdWx0IHdpbGwgYmUgc3RvcmVkIGluXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB4IC0gdGhlIHggY29vcmQgb2YgdGhlIHBvc2l0aW9uIHRvIG1hcFxuICAgICAqIEBwYXJhbSAge251bWJlcn0geSAtIHRoZSB5IGNvb3JkIG9mIHRoZSBwb3NpdGlvbiB0byBtYXBcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm1hcFBvc2l0aW9uVG9Qb2ludCA9IGZ1bmN0aW9uIChwb2ludCwgeCwgeSkge1xuICAgICAgICB2YXIgcmVjdDtcbiAgICAgICAgLy8gSUUgMTEgZml4XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgcmVjdCA9IHsgeDogMCwgeTogMCwgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVjdCA9IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXNvbHV0aW9uTXVsdGlwbGllciA9IDEuMCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgcG9pbnQueCA9ICgoeCAtIHJlY3QubGVmdCkgKiAodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQud2lkdGggLyByZWN0LndpZHRoKSkgKiByZXNvbHV0aW9uTXVsdGlwbGllcjtcbiAgICAgICAgcG9pbnQueSA9ICgoeSAtIHJlY3QudG9wKSAqICh0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5oZWlnaHQgLyByZWN0LmhlaWdodCkpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHByb3ZpZGVzIGEgbmVhdCB3YXkgb2YgY3Jhd2xpbmcgdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIHJ1bm5pbmcgYVxuICAgICAqIHNwZWNpZmllZCBmdW5jdGlvbiBvbiBhbGwgaW50ZXJhY3RpdmUgb2JqZWN0cyBpdCBmaW5kcy4gSXQgd2lsbCBhbHNvIHRha2UgY2FyZSBvZiBoaXRcbiAgICAgKiB0ZXN0aW5nIHRoZSBpbnRlcmFjdGl2ZSBvYmplY3RzIGFuZCBwYXNzZXMgdGhlIGhpdCBhY3Jvc3MgaW4gdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gZXZlbnQgY29udGFpbmluZyB0aGUgcG9pbnQgdGhhdFxuICAgICAqICBpcyB0ZXN0ZWQgZm9yIGNvbGxpc2lvblxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheU9iamVjdFxuICAgICAqICB0aGF0IHdpbGwgYmUgaGl0IHRlc3QgKHJlY3Vyc2l2ZWx5IGNyYXdscyBpdHMgY2hpbGRyZW4pXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2Z1bmNdIC0gdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCBpbnRlcmFjdGl2ZSBvYmplY3QuIFRoZVxuICAgICAqICBpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0IGFuZCBoaXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaGl0VGVzdF0gLSBpbmRpY2F0ZXMgd2hldGhlciB3ZSB3YW50IHRvIGNhbGN1bGF0ZSBoaXRzXG4gICAgICogIG9yIGp1c3QgaXRlcmF0ZSB0aHJvdWdoIGFsbCBpbnRlcmFjdGl2ZSBvYmplY3RzXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzSW50ZXJhY3RpdmUgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCkge1xuICAgICAgICB2YXIgaGl0ID0gdGhpcy5zZWFyY2guZmluZEhpdChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0KTtcbiAgICAgICAgdmFyIGRlbGF5ZWRFdmVudHMgPSB0aGlzLmRlbGF5ZWRFdmVudHM7XG4gICAgICAgIGlmICghZGVsYXllZEV2ZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBoaXQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzZXQgdGhlIHByb3BhZ2F0aW9uIGhpbnQsIGJlY2F1c2Ugd2Ugc3RhcnQgZGVlcGVyIGluIHRoZSB0cmVlIGFnYWluLlxuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnN0b3BQcm9wYWdhdGlvbkhpbnQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRlbGF5ZWRMZW4gPSBkZWxheWVkRXZlbnRzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5kZWxheWVkRXZlbnRzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVsYXllZExlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBkZWxheWVkRXZlbnRzW2ldLCBkaXNwbGF5T2JqZWN0XzEgPSBfYS5kaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZyA9IF9hLmV2ZW50U3RyaW5nLCBldmVudERhdGEgPSBfYS5ldmVudERhdGE7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIHJlYWNoIHRoZSBvYmplY3Qgd2Ugd2FudGVkIHRvIHN0b3AgcHJvcGFnYXRpbmcgYXQsXG4gICAgICAgICAgICAvLyBzZXQgdGhlIHByb3BhZ2F0aW9uIGhpbnQuXG4gICAgICAgICAgICBpZiAoZXZlbnREYXRhLnN0b3BzUHJvcGFnYXRpbmdBdCA9PT0gZGlzcGxheU9iamVjdF8xKSB7XG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLnN0b3BQcm9wYWdhdGlvbkhpbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3RfMSwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhpdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBwcmVzc2VkIGRvd24gb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcHJlc3NlZCBkb3duXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJEb3duID0gZnVuY3Rpb24gKG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBObyBuZWVkIHRvIHByZXZlbnQgZGVmYXVsdCBvbiBuYXR1cmFsIHBvaW50ZXIgZXZlbnRzLCBhcyB0aGVyZSBhcmUgbm8gc2lkZSBlZmZlY3RzXG4gICAgICAgICAqIE5vcm1hbGl6ZWQgZXZlbnRzLCBob3dldmVyLCBtYXkgaGF2ZSB0aGUgZG91YmxlIG1vdXNlZG93bi90b3VjaHN0YXJ0IGlzc3VlIG9uIHRoZSBuYXRpdmUgYW5kcm9pZCBicm93c2VyLFxuICAgICAgICAgKiBzbyBzdGlsbCBuZWVkIHRvIGJlIHByZXZlbnRlZC5cbiAgICAgICAgICovXG4gICAgICAgIC8vIEd1YXJhbnRlZWQgdGhhdCB0aGVyZSB3aWxsIGJlIGF0IGxlYXN0IG9uZSBldmVudCBpbiBldmVudHMsIGFuZCBhbGwgZXZlbnRzIG11c3QgaGF2ZSB0aGUgc2FtZSBwb2ludGVyIHR5cGVcbiAgICAgICAgaWYgKHRoaXMuYXV0b1ByZXZlbnREZWZhdWx0ICYmIGV2ZW50c1swXS5pc05vcm1hbGl6ZWQpIHtcbiAgICAgICAgICAgIHZhciBjYW5jZWxhYmxlID0gb3JpZ2luYWxFdmVudC5jYW5jZWxhYmxlIHx8ICEoJ2NhbmNlbGFibGUnIGluIG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGNhbmNlbGFibGUpIHtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLmxhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbWl0IGEgbW91c2UgZXZlbnQgZm9yIFwicGVuXCIgcG9pbnRlcnMsIHRoZSB3YXkgYSBicm93c2VyIHdvdWxkIGVtaXQgYSBmYWxsYmFjayBldmVudFxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBldmVudC5idXR0b24gPT09IDI7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGlzUmlnaHRCdXR0b24gPyAncmlnaHRkb3duJyA6ICdtb3VzZWRvd24nLCB0aGlzLmV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIGRvd24gY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyRG93biA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSA9IG5ldyBJbnRlcmFjdGlvblRyYWNraW5nRGF0YShpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hzdGFydCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmlnaHRCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdLnJpZ2h0RG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0ubGVmdERvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodGRvd24nIDogJ21vdXNlZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcmVsZWFzZWQgb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNhbmNlbGxlZCAtIHRydWUgaWYgdGhlIHBvaW50ZXIgaXMgY2FuY2VsbGVkXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAtIEZ1bmN0aW9uIHBhc3NlZCB0byB7QGxpbmsgcHJvY2Vzc0ludGVyYWN0aXZlfVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyQ29tcGxldGUgPSBmdW5jdGlvbiAob3JpZ2luYWxFdmVudCwgY2FuY2VsbGVkLCBmdW5jKSB7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG4gICAgICAgIC8vIGlmIHRoZSBldmVudCB3YXNuJ3QgdGFyZ2V0aW5nIG91ciBjYW52YXMsIHRoZW4gY29uc2lkZXIgaXQgdG8gYmUgcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAvLyBpbiBhbGwgY2FzZXMgKHVubGVzcyBpdCB3YXMgYSBwb2ludGVyY2FuY2VsKVxuICAgICAgICB2YXIgZXZlbnRBcHBlbmQgPSBvcmlnaW5hbEV2ZW50LnRhcmdldCAhPT0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPyAnb3V0c2lkZScgOiAnJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG4gICAgICAgICAgICAvLyBwZXJmb3JtIGhpdCB0ZXN0aW5nIGZvciBldmVudHMgdGFyZ2V0aW5nIG91ciBjYW52YXMgb3IgY2FuY2VsIGV2ZW50c1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5sYXN0T2JqZWN0UmVuZGVyZWQsIGZ1bmMsIGNhbmNlbGxlZCB8fCAhZXZlbnRBcHBlbmQpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KGNhbmNlbGxlZCA/ICdwb2ludGVyY2FuY2VsJyA6IFwicG9pbnRlcnVwXCIgKyBldmVudEFwcGVuZCwgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBldmVudC5idXR0b24gPT09IDI7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGlzUmlnaHRCdXR0b24gPyBcInJpZ2h0dXBcIiArIGV2ZW50QXBwZW5kIDogXCJtb3VzZXVwXCIgKyBldmVudEFwcGVuZCwgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChjYW5jZWxsZWQgPyAndG91Y2hjYW5jZWwnIDogXCJ0b3VjaGVuZFwiICsgZXZlbnRBcHBlbmQsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudC5wb2ludGVySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgY2FuY2VsbGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDb21wbGV0ZShldmVudCwgdHJ1ZSwgdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBjYW5jZWwgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyY2FuY2VsJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hjYW5jZWwnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHJlbGVhc2VkIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyVXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB0aGlzLm9uUG9pbnRlckNvbXBsZXRlKGV2ZW50LCBmYWxzZSwgdGhpcy5wcm9jZXNzUG9pbnRlclVwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIHVwIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlclVwID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG4gICAgICAgIHZhciB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgIHZhciBpc1RvdWNoID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcbiAgICAgICAgdmFyIGlzTW91c2UgPSAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJyk7XG4gICAgICAgIC8vIG5lZWQgdG8gdHJhY2sgbW91c2UgZG93biBzdGF0dXMgaW4gdGhlIG1vdXNlIGJsb2NrIHNvIHRoYXQgd2UgY2FuIGVtaXRcbiAgICAgICAgLy8gZXZlbnQgaW4gYSBsYXRlciBibG9ja1xuICAgICAgICB2YXIgaXNNb3VzZVRhcCA9IGZhbHNlO1xuICAgICAgICAvLyBNb3VzZSBvbmx5XG4gICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGRhdGEuYnV0dG9uID09PSAyO1xuICAgICAgICAgICAgdmFyIGZsYWdzID0gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1M7XG4gICAgICAgICAgICB2YXIgdGVzdCA9IGlzUmlnaHRCdXR0b24gPyBmbGFncy5SSUdIVF9ET1dOIDogZmxhZ3MuTEVGVF9ET1dOO1xuICAgICAgICAgICAgdmFyIGlzRG93biA9IHRyYWNraW5nRGF0YSAhPT0gdW5kZWZpbmVkICYmICh0cmFja2luZ0RhdGEuZmxhZ3MgJiB0ZXN0KTtcbiAgICAgICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwJyA6ICdtb3VzZXVwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRG93bikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodGNsaWNrJyA6ICdjbGljaycsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIHdlIGNhbiBjb25maXJtIHRoYXQgdGhlIG1vdXNlZG93biBoYXBwZW5lZCBvbiB0aGlzIG9iamVjdCwgZmxhZyBmb3IgbGF0ZXIgZW1pdCBvZiBwb2ludGVydGFwXG4gICAgICAgICAgICAgICAgICAgIGlzTW91c2VUYXAgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRG93bikge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0dXBvdXRzaWRlJyA6ICdtb3VzZXVwb3V0c2lkZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBkb3duIHN0YXRlIG9mIHRoZSB0cmFja2luZyBkYXRhXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmlnaHRCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLnJpZ2h0RG93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLmxlZnREb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFBvaW50ZXJzIGFuZCBUb3VjaGVzLCBhbmQgTW91c2VcbiAgICAgICAgaWYgKGhpdCkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZCcsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gZW1pdCBwb2ludGVydGFwIGlmIG5vdCBhIG1vdXNlLCBvciBpZiB0aGUgbW91c2UgYmxvY2sgZGVjaWRlZCBpdCB3YXMgYSB0YXBcbiAgICAgICAgICAgICAgICBpZiAoIWlzTW91c2UgfHwgaXNNb3VzZVRhcCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ0YXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0YXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG91Y2hlcyBhcmUgbm8gbG9uZ2VyIG92ZXIgKGlmIHRoZXkgZXZlciB3ZXJlKSB3aGVuIHdlIGdldCB0aGUgdG91Y2hlbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd2Ugc2hvdWxkIGVuc3VyZSB0aGF0IHdlIGRvbid0IGtlZXAgcHJldGVuZGluZyB0aGF0IHRoZXkgYXJlXG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydXBvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaClcbiAgICAgICAgICAgICAgICB7IHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hlbmRvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgfVxuICAgICAgICAvLyBPbmx5IHJlbW92ZSB0aGUgdHJhY2tpbmcgZGF0YSBpZiB0aGVyZSBpcyBubyBvdmVyL2Rvd24gc3RhdGUgc3RpbGwgYXNzb2NpYXRlZCB3aXRoIGl0XG4gICAgICAgIGlmICh0cmFja2luZ0RhdGEgJiYgdHJhY2tpbmdEYXRhLm5vbmUpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIG1vdmVzIGFjcm9zcyB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIG1vdmluZ1xuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyTW92ZSA9IGZ1bmN0aW9uIChvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgIHRoaXMuX2RpZE1vdmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzW2ldO1xuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgICAgICB7IHRoaXMuZW1pdCgndG91Y2htb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpXG4gICAgICAgICAgICAgICAgeyB0aGlzLmVtaXQoJ21vdXNlbW92ZScsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKHRoaXMuY3Vyc29yKTtcbiAgICAgICAgICAgIC8vIFRPRE8gQlVHIGZvciBwYXJlbnRzIGludGVyYWN0aXZlIG9iamVjdCAoYm9yZGVyIG9yZGVyIGlzc3VlKVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBtb3ZlIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlck1vdmUgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICB2YXIgaXNUb3VjaCA9IGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCc7XG4gICAgICAgIHZhciBpc01vdXNlID0gKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpO1xuICAgICAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubW92ZVdoZW5JbnNpZGUgfHwgaGl0KSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaClcbiAgICAgICAgICAgICAgICB7IHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2htb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZlZCBvdXQgb2YgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBiZWluZyBtb3ZlZCBvdXRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlck91dCA9IGZ1bmN0aW9uIChvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAvLyBPbmx5IG1vdXNlIGFuZCBwb2ludGVyIGNhbiBjYWxsIG9uUG9pbnRlck91dCwgc28gZXZlbnRzIHdpbGwgYWx3YXlzIGJlIGxlbmd0aCAxXG4gICAgICAgIHZhciBldmVudCA9IGV2ZW50c1swXTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMubGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCwgZmFsc2UpO1xuICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtb3VzZW91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gd2UgY2FuIGdldCB0b3VjaGxlYXZlIGV2ZW50cyBhZnRlciB0b3VjaGVuZCwgc28gd2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIGludHJvZHVjZSBtZW1vcnkgbGVha3NcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChpbnRlcmFjdGlvbkRhdGEuaWRlbnRpZmllcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIG92ZXIvb3V0IGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcbiAgICAgICAgdmFyIGlzTW91c2UgPSAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJyk7XG4gICAgICAgIHZhciB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgIC8vIGlmIHdlIGp1c3QgbW91c2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LCB0aGVuIHdlIG5lZWQgdG8gdHJhY2sgdGhhdCBzdGF0ZVxuICAgICAgICBpZiAoaGl0ICYmICF0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSA9IG5ldyBJbnRlcmFjdGlvblRyYWNraW5nRGF0YShpZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRyYWNraW5nRGF0YSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgaWYgKGhpdCAmJiB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyKSB7XG4gICAgICAgICAgICBpZiAoIXRyYWNraW5nRGF0YS5vdmVyKSB7XG4gICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsYXlEaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsYXlEaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvbmx5IGNoYW5nZSB0aGUgY3Vyc29yIGlmIGl0IGhhcyBub3QgYWxyZWFkeSBiZWVuIGNoYW5nZWQgKGJ5IHNvbWV0aGluZyBkZWVwZXIgaW4gdGhlXG4gICAgICAgICAgICAvLyBkaXNwbGF5IHRyZWUpXG4gICAgICAgICAgICBpZiAoaXNNb3VzZSAmJiB0aGlzLmN1cnNvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gZGlzcGxheU9iamVjdC5jdXJzb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHJhY2tpbmdEYXRhLm92ZXIpIHtcbiAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJvdXQnLCB0aGlzLmV2ZW50RGF0YSk7XG4gICAgICAgICAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2VvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIG1vdXNlIGRvd24gaW5mb3JtYXRpb24gZm9yIHRoZSBwb2ludGVyLCB0aGVuIGl0IGlzIHNhZmUgdG8gZGVsZXRlXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhLm5vbmUpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZlZCBpbnRvIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIG1vdmVkIGludG8gdGhlIHJlbmRlcmVyIHZpZXdcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlck92ZXIgPSBmdW5jdGlvbiAob3JpZ2luYWxFdmVudCkge1xuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAvLyBPbmx5IG1vdXNlIGFuZCBwb2ludGVyIGNhbiBjYWxsIG9uUG9pbnRlck92ZXIsIHNvIGV2ZW50cyB3aWxsIGFsd2F5cyBiZSBsZW5ndGggMVxuICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbMF07XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IGV2ZW50O1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IEludGVyYWN0aW9uRGF0YSBmb3IgYSBnaXZlbiBwb2ludGVySWQuIFN0b3JlIHRoYXQgZGF0YSBhcyB3ZWxsXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIE5vcm1hbGl6ZWQgcG9pbnRlciBldmVudCwgb3V0cHV0IGZyb20gbm9ybWFsaXplVG9Qb2ludGVyRGF0YVxuICAgICAqIEByZXR1cm4ge1BJWEkuSW50ZXJhY3Rpb25EYXRhfSAtIEludGVyYWN0aW9uIGRhdGEgZm9yIHRoZSBnaXZlbiBwb2ludGVyIGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgcG9pbnRlcklkID0gZXZlbnQucG9pbnRlcklkO1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhO1xuICAgICAgICBpZiAocG9pbnRlcklkID09PSBNT1VTRV9QT0lOVEVSX0lEIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLm1vdXNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF0pIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wucG9wKCkgfHwgbmV3IEludGVyYWN0aW9uRGF0YSgpO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmlkZW50aWZpZXIgPSBwb2ludGVySWQ7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdID0gaW50ZXJhY3Rpb25EYXRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvcHkgcHJvcGVydGllcyBmcm9tIHRoZSBldmVudCwgc28gdGhhdCB3ZSBjYW4gbWFrZSBzdXJlIHRoYXQgdG91Y2gvcG9pbnRlciBzcGVjaWZpY1xuICAgICAgICAvLyBkYXRhIGlzIGF2YWlsYWJsZVxuICAgICAgICBpbnRlcmFjdGlvbkRhdGEuY29weUV2ZW50KGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uRGF0YTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB1bnVzZWQgSW50ZXJhY3Rpb25EYXRhIHRvIHRoZSBwb29sLCBmb3IgYSBnaXZlbiBwb2ludGVySWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50ZXJJZCAtIElkZW50aWZpZXIgZnJvbSBhIHBvaW50ZXIgZXZlbnRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQgPSBmdW5jdGlvbiAocG9pbnRlcklkKSB7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuICAgICAgICBpZiAoaW50ZXJhY3Rpb25EYXRhKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sLnB1c2goaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlIGFuIEludGVyYWN0aW9uRXZlbnQgdG8gd3JhcCBhIERPTSBQb2ludGVyRXZlbnQgYW5kIEludGVyYWN0aW9uRGF0YVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBldmVudCB0byBiZSBjb25maWd1cmVkXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCAtIFRoZSBET00gZXZlbnQgdGhhdCB3aWxsIGJlIHBhaXJlZCB3aXRoIHRoZSBJbnRlcmFjdGlvbkV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRGF0YX0gaW50ZXJhY3Rpb25EYXRhIC0gVGhlIEludGVyYWN0aW9uRGF0YSB0aGF0IHdpbGwgYmUgcGFpcmVkXG4gICAgICogICAgICAgIHdpdGggdGhlIEludGVyYWN0aW9uRXZlbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IHRoZSBpbnRlcmFjdGlvbiBldmVudCB0aGF0IHdhcyBwYXNzZWQgaW5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBwb2ludGVyRXZlbnQsIGludGVyYWN0aW9uRGF0YSkge1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEgPSBpbnRlcmFjdGlvbkRhdGE7XG4gICAgICAgIHRoaXMubWFwUG9zaXRpb25Ub1BvaW50KGludGVyYWN0aW9uRGF0YS5nbG9iYWwsIHBvaW50ZXJFdmVudC5jbGllbnRYLCBwb2ludGVyRXZlbnQuY2xpZW50WSk7XG4gICAgICAgIC8vIE5vdCByZWFsbHkgc3VyZSB3aHkgdGhpcyBpcyBoYXBwZW5pbmcsIGJ1dCBpdCdzIGhvdyBhIHByZXZpb3VzIHZlcnNpb24gaGFuZGxlZCB0aGluZ3NcbiAgICAgICAgaWYgKHBvaW50ZXJFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgcG9pbnRlckV2ZW50Lmdsb2JhbFggPSBpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLng7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQuZ2xvYmFsWSA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueTtcbiAgICAgICAgfVxuICAgICAgICBpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCA9IHBvaW50ZXJFdmVudDtcbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5yZXNldCgpO1xuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25FdmVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhhdCB0aGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0IGNvbnRhaW5zIGFsbCBkYXRhIHRoYXQgYSByZWd1bGFyIHBvaW50ZXIgZXZlbnQgd291bGQgaGF2ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR8TW91c2VFdmVudHxQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIG9yaWdpbmFsIGV2ZW50IGRhdGEgZnJvbSBhIHRvdWNoIG9yIG1vdXNlIGV2ZW50XG4gICAgICogQHJldHVybiB7UG9pbnRlckV2ZW50W119IEFuIGFycmF5IGNvbnRhaW5pbmcgYSBzaW5nbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBpbiB0aGUgY2FzZSBvZiBhIHBvaW50ZXJcbiAgICAgKiAgb3IgbW91c2UgZXZlbnQsIG9yIGEgbXVsdGlwbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50cyBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgY2hhbmdlZCB0b3VjaGVzXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5ub3JtYWxpemVUb1BvaW50ZXJEYXRhID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkRXZlbnRzID0gW107XG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGkgPSBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7IGkgPCBsaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b24gPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLmJ1dHRvbiA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID8gMSA6IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbnMgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLmJ1dHRvbnMgPSBldmVudC50b3VjaGVzLmxlbmd0aCA/IDEgOiAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5pc1ByaW1hcnkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoLmlzUHJpbWFyeSA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAxICYmIGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC53aWR0aCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gud2lkdGggPSB0b3VjaC5yYWRpdXNYIHx8IDE7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2guaGVpZ2h0ID0gdG91Y2gucmFkaXVzWSB8fCAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gudGlsdFggPSAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gudGlsdFkgPSAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wb2ludGVyVHlwZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gucG9pbnRlclR5cGUgPSAndG91Y2gnOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wb2ludGVySWQgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLnBvaW50ZXJJZCA9IHRvdWNoLmlkZW50aWZpZXIgfHwgMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLnByZXNzdXJlID0gdG91Y2guZm9yY2UgfHwgMC41OyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50d2lzdCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gudHdpc3QgPSAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50YW5nZW50aWFsUHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7IH1cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBSZW1vdmUgdGhlc2UsIGFzIGxheWVyWC9ZIGlzIG5vdCBhIHN0YW5kYXJkLCBpcyBkZXByZWNhdGVkLCBoYXMgdW5ldmVuXG4gICAgICAgICAgICAgICAgLy8gc3VwcG9ydCwgYW5kIHRoZSBmaWxsIGlucyBhcmUgbm90IHF1aXRlIHRoZSBzYW1lXG4gICAgICAgICAgICAgICAgLy8gb2Zmc2V0WC9ZIG1pZ2h0IGJlIG9rYXksIGJ1dCBpcyBub3QgdGhlIHNhbWUgYXMgY2xpZW50WC9ZIHdoZW4gdGhlIGNhbnZhcydzIHRvcFxuICAgICAgICAgICAgICAgIC8vIGxlZnQgaXMgbm90IDAsMCBvbiB0aGUgcGFnZVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gubGF5ZXJYID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC5sYXllclggPSB0b3VjaC5vZmZzZXRYID0gdG91Y2guY2xpZW50WDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gubGF5ZXJZID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC5sYXllclkgPSB0b3VjaC5vZmZzZXRZID0gdG91Y2guY2xpZW50WTsgfVxuICAgICAgICAgICAgICAgIC8vIG1hcmsgdGhlIHRvdWNoIGFzIG5vcm1hbGl6ZWQsIGp1c3Qgc28gdGhhdCB3ZSBrbm93IHdlIGRpZCBpdFxuICAgICAgICAgICAgICAgIHRvdWNoLmlzTm9ybWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKHRvdWNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhcHBhcmVudGx5IFBvaW50ZXJFdmVudCBzdWJjbGFzc2VzIE1vdXNlRXZlbnQsIHNvIHlheVxuICAgICAgICBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgJiYgKCF0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyB8fCAhKGV2ZW50IGluc3RhbmNlb2Ygd2luZG93LlBvaW50ZXJFdmVudCkpKSB7XG4gICAgICAgICAgICB2YXIgdGVtcEV2ZW50ID0gZXZlbnQ7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5pc1ByaW1hcnkgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LmlzUHJpbWFyeSA9IHRydWU7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LndpZHRoID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC53aWR0aCA9IDE7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQuaGVpZ2h0ID0gMTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudGlsdFggPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LnRpbHRYID0gMDsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudGlsdFkgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LnRpbHRZID0gMDsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQucG9pbnRlclR5cGUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LnBvaW50ZXJUeXBlID0gJ21vdXNlJzsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQucG9pbnRlcklkID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC5wb2ludGVySWQgPSBNT1VTRV9QT0lOVEVSX0lEOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5wcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQucHJlc3N1cmUgPSAwLjU7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnR3aXN0ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC50d2lzdCA9IDA7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnRhbmdlbnRpYWxQcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID0gMDsgfVxuICAgICAgICAgICAgLy8gbWFyayB0aGUgbW91c2UgZXZlbnQgYXMgbm9ybWFsaXplZCwganVzdCBzbyB0aGF0IHdlIGtub3cgd2UgZGlkIGl0XG4gICAgICAgICAgICB0ZW1wRXZlbnQuaXNOb3JtYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaCh0ZW1wRXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZEV2ZW50cztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBpbnRlcmFjdGlvbiBtYW5hZ2VyXG4gICAgICpcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlVGlja2VyTGlzdGVuZXIoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHRoaXMubW91c2UgPSBudWxsO1xuICAgICAgICB0aGlzLmV2ZW50RGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJEb3duID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlckRvd24gPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlclVwID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlclVwID0gbnVsbDtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJDYW5jZWwgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gbnVsbDtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJNb3ZlID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlck91dCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEludGVyYWN0aW9uTWFuYWdlcjtcbn0oRXZlbnRFbWl0dGVyKSk7XG5cbmV4cG9ydCB7IEludGVyYWN0aW9uRGF0YSwgSW50ZXJhY3Rpb25FdmVudCwgSW50ZXJhY3Rpb25NYW5hZ2VyLCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YSwgaW50ZXJhY3RpdmVUYXJnZXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyYWN0aW9uLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9hcHAgLSB2NS4zLjdcbiAqIENvbXBpbGVkIFR1ZSwgMjkgRGVjIDIwMjAgMTk6MzA6MTEgVVRDXG4gKlxuICogQHBpeGkvYXBwIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBhdXRvRGV0ZWN0UmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyoqXG4gKiBDb252ZW5pZW5jZSBjbGFzcyB0byBjcmVhdGUgYSBuZXcgUElYSSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBUaGlzIGNsYXNzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyB0aGUgcmVuZGVyZXIsIHRpY2tlciBhbmQgcm9vdCBjb250YWluZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgYXBwbGljYXRpb25cbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKlxuICogLy8gQWRkIHRoZSB2aWV3IHRvIHRoZSBET01cbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICpcbiAqIC8vIGV4LCBhZGQgZGlzcGxheSBvYmplY3RzXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQoUElYSS5TcHJpdGUuZnJvbSgnc29tZXRoaW5nLnBuZycpKTtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBcHBsaWNhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvU3RhcnQ9dHJ1ZV0gLSBBdXRvbWF0aWNhbGx5IHN0YXJ0cyB0aGUgcmVuZGVyaW5nIGFmdGVyIHRoZSBjb25zdHJ1Y3Rpb24uXG4gICAgICogICAgICoqTm90ZSoqOiBTZXR0aW5nIHRoaXMgcGFyYW1ldGVyIHRvIGZhbHNlIGRvZXMgTk9UIHN0b3AgdGhlIHNoYXJlZCB0aWNrZXIgZXZlbiBpZiB5b3Ugc2V0XG4gICAgICogICAgIG9wdGlvbnMuc2hhcmVkVGlja2VyIHRvIHRydWUgaW4gY2FzZSB0aGF0IGl0IGlzIGFscmVhZHkgc3RhcnRlZC4gU3RvcCBpdCBieSB5b3VyIG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyZXJzIHZpZXcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gVGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyZXJzIHZpZXcuXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSBUaGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0RlbnNpdHk9ZmFsc2VdIC0gUmVzaXplcyByZW5kZXJlciB2aWV3IGluIENTUyBwaXhlbHMgdG8gYWxsb3cgZm9yXG4gICAgICogICByZXNvbHV0aW9ucyBvdGhlciB0aGFuIDEuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gU2V0cyBhbnRpYWxpYXNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBFbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbiwgZW5hYmxlIHRoaXMgaWYgeW91XG4gICAgICogIG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIFdlYkdMIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIsIHJldGluYSB3b3VsZCBiZSAyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VDYW52YXM9ZmFsc2VdIC0gcHJldmVudHMgc2VsZWN0aW9uIG9mIFdlYkdMIHJlbmRlcmVyLCBldmVuIGlmIHN1Y2ggaXMgcHJlc2VudCwgdGhpc1xuICAgICAqICAgb3B0aW9uIG9ubHkgaXMgYXZhaWxhYmxlIHdoZW4gdXNpbmcgKipwaXhpLmpzLWxlZ2FjeSoqIG9yICoqQHBpeGkvY2FudmFzLXJlbmRlcmVyKiogbW9kdWxlcywgb3RoZXJ3aXNlXG4gICAgICogICBpdCBpcyBpZ25vcmVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gICAgICogICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIHdlYmdsIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICAgICAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZC4gKiooV2ViR0wgb25seSkqKi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnNoYXJlZFRpY2tlcj1mYWxzZV0gLSBgdHJ1ZWAgdG8gdXNlIFBJWEkuVGlja2VyLnNoYXJlZCwgYGZhbHNlYCB0byBjcmVhdGUgbmV3IHRpY2tlci5cbiAgICAgKiAgSWYgc2V0IHRvIGZhbHNlLCB5b3UgY2Fubm90IHJlZ2lzdGVyIGEgaGFuZGxlciB0byBvY2N1ciBiZWZvcmUgYW55dGhpbmcgdGhhdCBydW5zIG9uIHRoZSBzaGFyZWQgdGlja2VyLlxuICAgICAqICBUaGUgc3lzdGVtIHRpY2tlciB3aWxsIGFsd2F5cyBydW4gYmVmb3JlIGJvdGggdGhlIHNoYXJlZCB0aWNrZXIgYW5kIHRoZSBhcHAgdGlja2VyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hhcmVkTG9hZGVyPWZhbHNlXSAtIGB0cnVlYCB0byB1c2UgUElYSS5Mb2FkZXIuc2hhcmVkLCBgZmFsc2VgIHRvIGNyZWF0ZSBuZXcgTG9hZGVyLlxuICAgICAqIEBwYXJhbSB7V2luZG93fEhUTUxFbGVtZW50fSBbb3B0aW9ucy5yZXNpemVUb10gLSBFbGVtZW50IHRvIGF1dG9tYXRpY2FsbHkgcmVzaXplIHN0YWdlIHRvLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFwcGxpY2F0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gVGhlIGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBmb3JjZUNhbnZhczogZmFsc2UsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2ViR0wgcmVuZGVyZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgQ2FudmFzUmVuZGVyZXIuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVuZGVyZXJ8UElYSS5DYW52YXNSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBhdXRvRGV0ZWN0UmVuZGVyZXIob3B0aW9ucyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm9vdCBkaXNwbGF5IGNvbnRhaW5lciB0aGF0J3MgcmVuZGVyZWQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFnZSA9IG5ldyBDb250YWluZXIoKTtcbiAgICAgICAgLy8gaW5zdGFsbCBwbHVnaW5zIGhlcmVcbiAgICAgICAgQXBwbGljYXRpb24uX3BsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgICAgICBwbHVnaW4uaW5pdC5jYWxsKF90aGlzLCBvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgbWlkZGxld2FyZSBwbHVnaW4gZm9yIHRoZSBhcHBsaWNhdGlvblxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuQXBwbGljYXRpb24uUGx1Z2lufSBwbHVnaW4gLSBQbHVnaW4gYmVpbmcgaW5zdGFsbGVkXG4gICAgICovXG4gICAgQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgIEFwcGxpY2F0aW9uLl9wbHVnaW5zLnB1c2gocGx1Z2luKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgY3VycmVudCBzdGFnZS5cbiAgICAgKi9cbiAgICBBcHBsaWNhdGlvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBUT0RPOiBTaW5jZSBDYW52YXNSZW5kZXJlciBoYXMgbm90IGJlZW4gY29udmVydGVkIHRoaXMgZnVuY3Rpb24gdGhpbmtzIGl0IHRha2VzIERpc3BsYXlPYmplY3QgJiBQSVhJLkRpc3BsYXlPYmplY3RcbiAgICAgICAgLy8gVGhpcyBjYW4gYmUgZml4ZWQgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWQuXG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc3RhZ2UpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcGxpY2F0aW9uLnByb3RvdHlwZSwgXCJ2aWV3XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIncyBjYW52YXMgZWxlbWVudC5cbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci52aWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcGxpY2F0aW9uLnByb3RvdHlwZSwgXCJzY3JlZW5cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIHNjcmVlbiByZWN0YW5nbGUuIEl0cyBzYWZlIHRvIHVzZSBhcyBgZmlsdGVyQXJlYWAgb3IgYGhpdEFyZWFgIGZvciB0aGUgd2hvbGUgc2NyZWVuLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnNjcmVlbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gQXV0b21hdGljYWxseSByZW1vdmUgY2FudmFzIGZyb20gRE9NLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtzdGFnZU9wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnc3RhZ2VPcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgc3RhZ2VPcHRpb25zLmNoaWxkcmVuIGlzIHNldFxuICAgICAqICB0byB0cnVlLiBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3RhZ2VPcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBzdGFnZU9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0XG4gICAgICogIHRvIHRydWUuIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIEFwcGxpY2F0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKHJlbW92ZVZpZXcsIHN0YWdlT3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBEZXN0cm95IHBsdWdpbnMgaW4gdGhlIG9wcG9zaXRlIG9yZGVyXG4gICAgICAgIC8vIHdoaWNoIHRoZXkgd2VyZSBjb25zdHJ1Y3RlZFxuICAgICAgICB2YXIgcGx1Z2lucyA9IEFwcGxpY2F0aW9uLl9wbHVnaW5zLnNsaWNlKDApO1xuICAgICAgICBwbHVnaW5zLnJldmVyc2UoKTtcbiAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgIHBsdWdpbi5kZXN0cm95LmNhbGwoX3RoaXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdGFnZS5kZXN0cm95KHN0YWdlT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuc3RhZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmRlc3Ryb3kocmVtb3ZlVmlldyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEFwcGxpY2F0aW9uO1xufSgpKTtcbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb25cbiAqIEB0eXBlZGVmIHtvYmplY3R9IFBsdWdpblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gaW5pdCAtIENhbGxlZCB3aGVuIEFwcGxpY2F0aW9uIGlzIGNvbnN0cnVjdGVkLCBzY29wZWQgdG8gQXBwbGljYXRpb24gaW5zdGFuY2UuXG4gKiAgUGFzc2VzIGluIGBvcHRpb25zYCBhcyB0aGUgb25seSBhcmd1bWVudCwgd2hpY2ggYXJlIEFwcGxpY2F0aW9uIGNvbnN0cnVjdG9yIG9wdGlvbnMuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBkZXN0cm95IC0gQ2FsbGVkIHdoZW4gZGVzdHJveWluZyBBcHBsaWNhdGlvbiwgc2NvcGVkIHRvIEFwcGxpY2F0aW9uIGluc3RhbmNlXG4gKi9cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBpbnN0YWxsZWQgcGx1Z2lucy5cbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKiBAdHlwZSB7UElYSS5BcHBsaWNhdGlvbi5QbHVnaW5bXX1cbiAqL1xuQXBwbGljYXRpb24uX3BsdWdpbnMgPSBbXTtcblxuLyoqXG4gKiBNaWRkbGV3YXJlIGZvciBmb3IgQXBwbGljYXRpb24ncyByZXNpemUgZnVuY3Rpb25hbGl0eVxuICogQHByaXZhdGVcbiAqIEBjbGFzc1xuICovXG52YXIgUmVzaXplUGx1Z2luID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZVBsdWdpbigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgcGx1Z2luIHdpdGggc2NvcGUgb2YgYXBwbGljYXRpb24gaW5zdGFuY2VcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIGFwcGxpY2F0aW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBSZXNpemVQbHVnaW4uaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSFRNTCBlbGVtZW50IG9yIHdpbmRvdyB0byBhdXRvbWF0aWNhbGx5IHJlc2l6ZSB0aGVcbiAgICAgICAgICogcmVuZGVyZXIncyB2aWV3IGVsZW1lbnQgdG8gbWF0Y2ggd2lkdGggYW5kIGhlaWdodC5cbiAgICAgICAgICogQHR5cGUge1dpbmRvd3xIVE1MRWxlbWVudH1cbiAgICAgICAgICogQG5hbWUgcmVzaXplVG9cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Jlc2l6ZVRvJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZG9tKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucXVldWVSZXNpemUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZVRvID0gZG9tO1xuICAgICAgICAgICAgICAgIGlmIChkb20pIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucXVldWVSZXNpemUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzaXplVG87XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlc2l6ZSBpcyB0aHJvdHRsZWQsIHNvIGl0J3NcbiAgICAgICAgICogc2FmZSB0byBjYWxsIHRoaXMgbXVsdGlwbGUgdGltZXMgcGVyIGZyYW1lIGFuZCBpdCdsbFxuICAgICAgICAgKiBvbmx5IGJlIGNhbGxlZCBvbmNlLlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuQXBwbGljYXRpb24jcXVldWVSZXNpemVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVldWVSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLl9yZXNpemVUbykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmNhbmNlbFJlc2l6ZSgpO1xuICAgICAgICAgICAgLy8gLy8gVGhyb3R0bGUgcmVzaXplIGV2ZW50cyBwZXIgcmFmXG4gICAgICAgICAgICBfdGhpcy5fcmVzaXplSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucmVzaXplKCk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FuY2VsIHRoZSByZXNpemUgcXVldWUuXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNjYW5jZWxSZXNpemVcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FuY2VsUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLl9yZXNpemVJZCkge1xuICAgICAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKF90aGlzLl9yZXNpemVJZCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3Jlc2l6ZUlkID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4ZWN1dGUgYW4gaW1tZWRpYXRlIHJlc2l6ZSBvbiB0aGUgcmVuZGVyZXIsIHRoaXMgaXMgbm90XG4gICAgICAgICAqIHRocm90dGxlZCBhbmQgY2FuIGJlIGV4cGVuc2l2ZSB0byBjYWxsIG1hbnkgdGltZXMgaW4gYSByb3cuXG4gICAgICAgICAqIFdpbGwgcmVzaXplIG9ubHkgaWYgYHJlc2l6ZVRvYCBwcm9wZXJ0eSBpcyBzZXQuXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNyZXNpemVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5fcmVzaXplVG8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjbGVhciBxdWV1ZSByZXNpemVcbiAgICAgICAgICAgIF90aGlzLmNhbmNlbFJlc2l6ZSgpO1xuICAgICAgICAgICAgdmFyIHdpZHRoO1xuICAgICAgICAgICAgdmFyIGhlaWdodDtcbiAgICAgICAgICAgIC8vIFJlc2l6ZSB0byB0aGUgd2luZG93XG4gICAgICAgICAgICBpZiAoX3RoaXMuX3Jlc2l6ZVRvID09PSB3aW5kb3cpIHtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlc2l6ZSB0byBvdGhlciBIVE1MIGVudGl0aWVzXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5fcmVzaXplVG8sIGNsaWVudFdpZHRoID0gX2EuY2xpZW50V2lkdGgsIGNsaWVudEhlaWdodCA9IF9hLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IGNsaWVudFdpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IGNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnJlbmRlcmVyLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gT24gcmVzaXplXG4gICAgICAgIHRoaXMuX3Jlc2l6ZUlkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVzaXplVG8gPSBudWxsO1xuICAgICAgICB0aGlzLnJlc2l6ZVRvID0gb3B0aW9ucy5yZXNpemVUbyB8fCBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAgdGhlIHRpY2tlciwgc2NvcGVkIHRvIGFwcGxpY2F0aW9uXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUmVzaXplUGx1Z2luLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsUmVzaXplKCk7XG4gICAgICAgIHRoaXMuY2FuY2VsUmVzaXplID0gbnVsbDtcbiAgICAgICAgdGhpcy5xdWV1ZVJlc2l6ZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzaXplVG8gPSBudWxsO1xuICAgICAgICB0aGlzLnJlc2l6ZSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzaXplUGx1Z2luO1xufSgpKTtcblxuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oUmVzaXplUGx1Z2luKTtcblxuZXhwb3J0IHsgQXBwbGljYXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZXh0cmFjdCAtIHY1LjMuN1xuICogQ29tcGlsZWQgVHVlLCAyOSBEZWMgMjAyMCAxOTozMDoxMSBVVENcbiAqXG4gKiBAcGl4aS9leHRyYWN0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQ2FudmFzUmVuZGVyVGFyZ2V0IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBSZW5kZXJUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbnZhciBURU1QX1JFQ1QgPSBuZXcgUmVjdGFuZ2xlKCk7XG52YXIgQllURVNfUEVSX1BJWEVMID0gNDtcbi8qKlxuICogVGhpcyBjbGFzcyBwcm92aWRlcyByZW5kZXJlci1zcGVjaWZpYyBwbHVnaW5zIGZvciBleHBvcnRpbmcgY29udGVudCBmcm9tIGEgcmVuZGVyZXIuXG4gKiBGb3IgaW5zdGFuY2UsIHRoZXNlIHBsdWdpbnMgY2FuIGJlIHVzZWQgZm9yIHNhdmluZyBhbiBJbWFnZSwgQ2FudmFzIGVsZW1lbnQgb3IgZm9yIGV4cG9ydGluZyB0aGUgcmF3IGltYWdlIGRhdGEgKHBpeGVscykuXG4gKlxuICogRG8gbm90IGluc3RhbnRpYXRlIHRoZXNlIHBsdWdpbnMgZGlyZWN0bHkuIEl0IGlzIGF2YWlsYWJsZSBmcm9tIHRoZSBgcmVuZGVyZXIucGx1Z2luc2AgcHJvcGVydHkuXG4gKiBTZWUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXIjcGx1Z2luc30gb3Ige0BsaW5rIFBJWEkuUmVuZGVyZXIjcGx1Z2luc30uXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgbmV3IGFwcCAod2lsbCBhdXRvLWFkZCBleHRyYWN0IHBsdWdpbiB0byByZW5kZXJlcilcbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKlxuICogLy8gRHJhdyBhIHJlZCBjaXJjbGVcbiAqIGNvbnN0IGdyYXBoaWNzID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICogICAgIC5iZWdpbkZpbGwoMHhGRjAwMDApXG4gKiAgICAgLmRyYXdDaXJjbGUoMCwgMCwgNTApO1xuICpcbiAqIC8vIFJlbmRlciB0aGUgZ3JhcGhpY3MgYXMgYW4gSFRNTEltYWdlRWxlbWVudFxuICogY29uc3QgaW1hZ2UgPSBhcHAucmVuZGVyZXIucGx1Z2lucy5leHRyYWN0LmltYWdlKGdyYXBoaWNzKTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRXh0cmFjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFeHRyYWN0KHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgbWV0aG9kcyBmb3IgZXh0cmFjdGluZyBkYXRhIChpbWFnZSwgcGl4ZWxzLCBldGMuKSBmcm9tIGEgZGlzcGxheSBvYmplY3Qgb3IgcmVuZGVyIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5FeHRyYWN0fSBleHRyYWN0XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgKiBAc2VlIFBJWEkuRXh0cmFjdFxuICAgICAgICAgKi9cbiAgICAgICAgcmVuZGVyZXIuZXh0cmFjdCA9IHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGEgSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gLSBJbWFnZSBmb3JtYXQsIGUuZy4gXCJpbWFnZS9qcGVnXCIgb3IgXCJpbWFnZS93ZWJwXCIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtxdWFsaXR5XSAtIEpQRUcgb3IgV2VicCBjb21wcmVzc2lvbiBmcm9tIDAgdG8gMS4gRGVmYXVsdCBpcyAwLjkyLlxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgICAqL1xuICAgIEV4dHJhY3QucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24gKHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KSB7XG4gICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWFnZS5zcmMgPSB0aGlzLmJhc2U2NCh0YXJnZXQsIGZvcm1hdCwgcXVhbGl0eSk7XG4gICAgICAgIHJldHVybiBpbWFnZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGEgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhpcyB0YXJnZXQuIEl0IHdvcmtzIGJ5IGNhbGxpbmdcbiAgICAgKiAgYEV4dHJhY3QuZ2V0Q2FudmFzYCBhbmQgdGhlbiBydW5uaW5nIHRvRGF0YVVSTCBvbiB0aGF0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXRdIC0gSW1hZ2UgZm9ybWF0LCBlLmcuIFwiaW1hZ2UvanBlZ1wiIG9yIFwiaW1hZ2Uvd2VicFwiLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcXVhbGl0eV0gLSBKUEVHIG9yIFdlYnAgY29tcHJlc3Npb24gZnJvbSAwIHRvIDEuIERlZmF1bHQgaXMgMC45Mi5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqL1xuICAgIEV4dHJhY3QucHJvdG90eXBlLmJhc2U2NCA9IGZ1bmN0aW9uICh0YXJnZXQsIGZvcm1hdCwgcXVhbGl0eSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXModGFyZ2V0KS50b0RhdGFVUkwoZm9ybWF0LCBxdWFsaXR5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCwgcmVuZGVycyB0aGlzIHRhcmdldCB0byBpdCBhbmQgdGhlbiByZXR1cm5zIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEEgQ2FudmFzIGVsZW1lbnQgd2l0aCB0aGUgdGV4dHVyZSByZW5kZXJlZCBvbi5cbiAgICAgKi9cbiAgICBFeHRyYWN0LnByb3RvdHlwZS5jYW52YXMgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgZnJhbWU7XG4gICAgICAgIHZhciBmbGlwWSA9IGZhbHNlO1xuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZTtcbiAgICAgICAgdmFyIGdlbmVyYXRlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgUmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0YXJnZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGhpcy5yZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgZnJhbWUgPSByZW5kZXJUZXh0dXJlLmZyYW1lO1xuICAgICAgICAgICAgZmxpcFkgPSBmYWxzZTtcbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChyZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBmbGlwWSA9IHRydWU7XG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aDtcbiAgICAgICAgICAgIGZyYW1lLmhlaWdodCA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0O1xuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGguZmxvb3IoKGZyYW1lLndpZHRoICogcmVzb2x1dGlvbikgKyAxZS00KTtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGguZmxvb3IoKGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb24pICsgMWUtNCk7XG4gICAgICAgIHZhciBjYW52YXNCdWZmZXIgPSBuZXcgQ2FudmFzUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQsIDEpO1xuICAgICAgICB2YXIgd2ViZ2xQaXhlbHMgPSBuZXcgVWludDhBcnJheShCWVRFU19QRVJfUElYRUwgKiB3aWR0aCAqIGhlaWdodCk7XG4gICAgICAgIC8vIHJlYWQgcGl4ZWxzIHRvIHRoZSBhcnJheVxuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgZ2wucmVhZFBpeGVscyhmcmFtZS54ICogcmVzb2x1dGlvbiwgZnJhbWUueSAqIHJlc29sdXRpb24sIHdpZHRoLCBoZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHdlYmdsUGl4ZWxzKTtcbiAgICAgICAgLy8gYWRkIHRoZSBwaXhlbHMgdG8gdGhlIGNhbnZhc1xuICAgICAgICB2YXIgY2FudmFzRGF0YSA9IGNhbnZhc0J1ZmZlci5jb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgRXh0cmFjdC5hcnJheVBvc3REaXZpZGUod2ViZ2xQaXhlbHMsIGNhbnZhc0RhdGEuZGF0YSk7XG4gICAgICAgIGNhbnZhc0J1ZmZlci5jb250ZXh0LnB1dEltYWdlRGF0YShjYW52YXNEYXRhLCAwLCAwKTtcbiAgICAgICAgLy8gcHVsbGluZyBwaXhlbHNcbiAgICAgICAgaWYgKGZsaXBZKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0XzEgPSBuZXcgQ2FudmFzUmVuZGVyVGFyZ2V0KGNhbnZhc0J1ZmZlci53aWR0aCwgY2FudmFzQnVmZmVyLmhlaWdodCwgMSk7XG4gICAgICAgICAgICB0YXJnZXRfMS5jb250ZXh0LnNjYWxlKDEsIC0xKTtcbiAgICAgICAgICAgIC8vIHdlIGNhbid0IHJlbmRlciB0byBpdHNlbGYgYmVjYXVzZSB3ZSBzaG91bGQgYmUgZW1wdHkgYmVmb3JlIHJlbmRlci5cbiAgICAgICAgICAgIHRhcmdldF8xLmNvbnRleHQuZHJhd0ltYWdlKGNhbnZhc0J1ZmZlci5jYW52YXMsIDAsIC1oZWlnaHQpO1xuICAgICAgICAgICAgY2FudmFzQnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGNhbnZhc0J1ZmZlciA9IHRhcmdldF8xO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnZW5lcmF0ZWQpIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZW5kIHRoZSBjYW52YXMgYmFjay4uXG4gICAgICAgIHJldHVybiBjYW52YXNCdWZmZXIuY2FudmFzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBvbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmUgaW4gUkdCQVxuICAgICAqIG9yZGVyLCB3aXRoIGludGVnZXIgdmFsdWVzIGJldHdlZW4gMCBhbmQgMjU1IChpbmNsdWRlZCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtVaW50OEFycmF5fSBPbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmVcbiAgICAgKi9cbiAgICBFeHRyYWN0LnByb3RvdHlwZS5waXhlbHMgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgZnJhbWU7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlO1xuICAgICAgICB2YXIgZ2VuZXJhdGVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBSZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgICAgICAvLyBiaW5kIHRoZSBidWZmZXJcbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChyZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgZnJhbWUgPSBURU1QX1JFQ1Q7XG4gICAgICAgICAgICBmcmFtZS53aWR0aCA9IHJlbmRlcmVyLndpZHRoO1xuICAgICAgICAgICAgZnJhbWUuaGVpZ2h0ID0gcmVuZGVyZXIuaGVpZ2h0O1xuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3aWR0aCA9IGZyYW1lLndpZHRoICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGhlaWdodCA9IGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciB3ZWJnbFBpeGVscyA9IG5ldyBVaW50OEFycmF5KEJZVEVTX1BFUl9QSVhFTCAqIHdpZHRoICogaGVpZ2h0KTtcbiAgICAgICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBnbC5yZWFkUGl4ZWxzKGZyYW1lLnggKiByZXNvbHV0aW9uLCBmcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgd2ViZ2xQaXhlbHMpO1xuICAgICAgICBpZiAoZ2VuZXJhdGVkKSB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgRXh0cmFjdC5hcnJheVBvc3REaXZpZGUod2ViZ2xQaXhlbHMsIHdlYmdsUGl4ZWxzKTtcbiAgICAgICAgcmV0dXJuIHdlYmdsUGl4ZWxzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGV4dHJhY3RcbiAgICAgKlxuICAgICAqL1xuICAgIEV4dHJhY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZXh0cmFjdCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGFrZXMgcHJlbXVsdGlwbGllZCBwaXhlbCBkYXRhIGFuZCBwcm9kdWNlcyByZWd1bGFyIHBpeGVsIGRhdGFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHBpeGVscyB7bnVtYmVyW10gfCBVaW50OEFycmF5IHwgVWludDhDbGFtcGVkQXJyYXl9IGFycmF5IG9mIHBpeGVsIGRhdGFcbiAgICAgKiBAcGFyYW0gb3V0IHtudW1iZXJbXSB8IFVpbnQ4QXJyYXkgfCBVaW50OENsYW1wZWRBcnJheX0gb3V0cHV0IGFycmF5XG4gICAgICovXG4gICAgRXh0cmFjdC5hcnJheVBvc3REaXZpZGUgPSBmdW5jdGlvbiAocGl4ZWxzLCBvdXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaXhlbHMubGVuZ3RoOyBpICs9IDQpIHtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IG91dFtpICsgM10gPSBwaXhlbHNbaSArIDNdO1xuICAgICAgICAgICAgaWYgKGFscGhhICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgb3V0W2ldID0gTWF0aC5yb3VuZChNYXRoLm1pbihwaXhlbHNbaV0gKiAyNTUuMCAvIGFscGhhLCAyNTUuMCkpO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMV0gPSBNYXRoLnJvdW5kKE1hdGgubWluKHBpeGVsc1tpICsgMV0gKiAyNTUuMCAvIGFscGhhLCAyNTUuMCkpO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMl0gPSBNYXRoLnJvdW5kKE1hdGgubWluKHBpeGVsc1tpICsgMl0gKiAyNTUuMCAvIGFscGhhLCAyNTUuMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0W2ldID0gcGl4ZWxzW2ldO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMV0gPSBwaXhlbHNbaSArIDFdO1xuICAgICAgICAgICAgICAgIG91dFtpICsgMl0gPSBwaXhlbHNbaSArIDJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRXh0cmFjdDtcbn0oKSk7XG5cbmV4cG9ydCB7IEV4dHJhY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4dHJhY3QuZXMuanMubWFwXG4iLCIvKiFcbiAqIHJlc291cmNlLWxvYWRlciAtIHYzLjAuMVxuICogaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLXNvdW5kXG4gKiBDb21waWxlZCBUdWUsIDAyIEp1bCAyMDE5IDE0OjA2OjE4IFVUQ1xuICpcbiAqIHJlc291cmNlLWxvYWRlciBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCBwYXJzZVVyaSBmcm9tICdwYXJzZS11cmknO1xuaW1wb3J0IFNpZ25hbCBmcm9tICdtaW5pLXNpZ25hbHMnO1xuXG4vKipcbiAqIFNtYWxsZXIgdmVyc2lvbiBvZiB0aGUgYXN5bmMgbGlicmFyeSBjb25zdHJ1Y3RzLlxuICpcbiAqIEBuYW1lc3BhY2UgYXN5bmNcbiAqL1xuXG4vKipcbiAqIE5vb3AgZnVuY3Rpb25cbiAqXG4gKiBAaWdub3JlXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBhc3luY1xuICovXG5mdW5jdGlvbiBfbm9vcCgpIHt9XG4vKiBlbXB0eSAqL1xuXG4vKipcbiAqIEl0ZXJhdGVzIGFuIGFycmF5IGluIHNlcmllcy5cbiAqXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBmdW5jdGlvbiBlYWNoU2VyaWVzXG4gKiBAcGFyYW0ge0FycmF5LjwqPn0gYXJyYXkgLSBBcnJheSB0byBpdGVyYXRlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gaXRlcmF0b3IgLSBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBkb25lLCBvciBvbiBlcnJvci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZmVyTmV4dD1mYWxzZV0gLSBCcmVhayBzeW5jaHJvbm91cyBlYWNoIGxvb3AgYnkgY2FsbGluZyBuZXh0IHdpdGggYSBzZXRUaW1lb3V0IG9mIDEuXG4gKi9cblxuXG5mdW5jdGlvbiBlYWNoU2VyaWVzKGFycmF5LCBpdGVyYXRvciwgY2FsbGJhY2ssIGRlZmVyTmV4dCkge1xuICB2YXIgaSA9IDA7XG4gIHZhciBsZW4gPSBhcnJheS5sZW5ndGg7XG5cbiAgKGZ1bmN0aW9uIG5leHQoZXJyKSB7XG4gICAgaWYgKGVyciB8fCBpID09PSBsZW4pIHtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRlZmVyTmV4dCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGl0ZXJhdG9yKGFycmF5W2krK10sIG5leHQpO1xuICAgICAgfSwgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJhdG9yKGFycmF5W2krK10sIG5leHQpO1xuICAgIH1cbiAgfSkoKTtcbn1cbi8qKlxuICogRW5zdXJlcyBhIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkIG9uY2UuXG4gKlxuICogQGlnbm9yZVxuICogQG1lbWJlcm9mIGFzeW5jXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHJldHVybiB7ZnVuY3Rpb259IFRoZSB3cmFwcGluZyBmdW5jdGlvbi5cbiAqL1xuXG5mdW5jdGlvbiBvbmx5T25jZShmbikge1xuICByZXR1cm4gZnVuY3Rpb24gb25jZVdyYXBwZXIoKSB7XG4gICAgaWYgKGZuID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxiYWNrIHdhcyBhbHJlYWR5IGNhbGxlZC4nKTtcbiAgICB9XG5cbiAgICB2YXIgY2FsbEZuID0gZm47XG4gICAgZm4gPSBudWxsO1xuICAgIGNhbGxGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuLyoqXG4gKiBBc3luYyBxdWV1ZSBpbXBsZW1lbnRhdGlvbixcbiAqXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBmdW5jdGlvbiBxdWV1ZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gd29ya2VyIC0gVGhlIHdvcmtlciBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHRhc2suXG4gKiBAcGFyYW0ge251bWJlcn0gY29uY3VycmVuY3kgLSBIb3cgbWFueSB3b3JrZXJzIHRvIHJ1biBpbiBwYXJyYWxsZWwuXG4gKiBAcmV0dXJuIHsqfSBUaGUgYXN5bmMgcXVldWUgb2JqZWN0LlxuICovXG5cblxuZnVuY3Rpb24gcXVldWUod29ya2VyLCBjb25jdXJyZW5jeSkge1xuICBpZiAoY29uY3VycmVuY3kgPT0gbnVsbCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICBjb25jdXJyZW5jeSA9IDE7XG4gIH0gZWxzZSBpZiAoY29uY3VycmVuY3kgPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbmN1cnJlbmN5IG11c3Qgbm90IGJlIHplcm8nKTtcbiAgfVxuXG4gIHZhciB3b3JrZXJzID0gMDtcbiAgdmFyIHEgPSB7XG4gICAgX3Rhc2tzOiBbXSxcbiAgICBjb25jdXJyZW5jeTogY29uY3VycmVuY3ksXG4gICAgc2F0dXJhdGVkOiBfbm9vcCxcbiAgICB1bnNhdHVyYXRlZDogX25vb3AsXG4gICAgYnVmZmVyOiBjb25jdXJyZW5jeSAvIDQsXG4gICAgZW1wdHk6IF9ub29wLFxuICAgIGRyYWluOiBfbm9vcCxcbiAgICBlcnJvcjogX25vb3AsXG4gICAgc3RhcnRlZDogZmFsc2UsXG4gICAgcGF1c2VkOiBmYWxzZSxcbiAgICBwdXNoOiBmdW5jdGlvbiBwdXNoKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICBfaW5zZXJ0KGRhdGEsIGZhbHNlLCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBraWxsOiBmdW5jdGlvbiBraWxsKCkge1xuICAgICAgd29ya2VycyA9IDA7XG4gICAgICBxLmRyYWluID0gX25vb3A7XG4gICAgICBxLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIHEuX3Rhc2tzID0gW107XG4gICAgfSxcbiAgICB1bnNoaWZ0OiBmdW5jdGlvbiB1bnNoaWZ0KGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICBfaW5zZXJ0KGRhdGEsIHRydWUsIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uIHByb2Nlc3MoKSB7XG4gICAgICB3aGlsZSAoIXEucGF1c2VkICYmIHdvcmtlcnMgPCBxLmNvbmN1cnJlbmN5ICYmIHEuX3Rhc2tzLmxlbmd0aCkge1xuICAgICAgICB2YXIgdGFzayA9IHEuX3Rhc2tzLnNoaWZ0KCk7XG5cbiAgICAgICAgaWYgKHEuX3Rhc2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHEuZW1wdHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdvcmtlcnMgKz0gMTtcblxuICAgICAgICBpZiAod29ya2VycyA9PT0gcS5jb25jdXJyZW5jeSkge1xuICAgICAgICAgIHEuc2F0dXJhdGVkKCk7XG4gICAgICAgIH1cblxuICAgICAgICB3b3JrZXIodGFzay5kYXRhLCBvbmx5T25jZShfbmV4dCh0YXNrKSkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgbGVuZ3RoOiBmdW5jdGlvbiBsZW5ndGgoKSB7XG4gICAgICByZXR1cm4gcS5fdGFza3MubGVuZ3RoO1xuICAgIH0sXG4gICAgcnVubmluZzogZnVuY3Rpb24gcnVubmluZygpIHtcbiAgICAgIHJldHVybiB3b3JrZXJzO1xuICAgIH0sXG4gICAgaWRsZTogZnVuY3Rpb24gaWRsZSgpIHtcbiAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGggKyB3b3JrZXJzID09PSAwO1xuICAgIH0sXG4gICAgcGF1c2U6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgaWYgKHEucGF1c2VkID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcS5wYXVzZWQgPSB0cnVlO1xuICAgIH0sXG4gICAgcmVzdW1lOiBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgICBpZiAocS5wYXVzZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcS5wYXVzZWQgPSBmYWxzZTsgLy8gTmVlZCB0byBjYWxsIHEucHJvY2VzcyBvbmNlIHBlciBjb25jdXJyZW50XG4gICAgICAvLyB3b3JrZXIgdG8gcHJlc2VydmUgZnVsbCBjb25jdXJyZW5jeSBhZnRlciBwYXVzZVxuXG4gICAgICBmb3IgKHZhciB3ID0gMTsgdyA8PSBxLmNvbmN1cnJlbmN5OyB3KyspIHtcbiAgICAgICAgcS5wcm9jZXNzKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIF9pbnNlcnQoZGF0YSwgaW5zZXJ0QXRGcm9udCwgY2FsbGJhY2spIHtcbiAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgIHRocm93IG5ldyBFcnJvcigndGFzayBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICBxLnN0YXJ0ZWQgPSB0cnVlO1xuXG4gICAgaWYgKGRhdGEgPT0gbnVsbCAmJiBxLmlkbGUoKSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgLy8gY2FsbCBkcmFpbiBpbW1lZGlhdGVseSBpZiB0aGVyZSBhcmUgbm8gdGFza3NcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcS5kcmFpbigpO1xuICAgICAgfSwgMSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGl0ZW0gPSB7XG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgY2FsbGJhY2s6IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyA/IGNhbGxiYWNrIDogX25vb3BcbiAgICB9O1xuXG4gICAgaWYgKGluc2VydEF0RnJvbnQpIHtcbiAgICAgIHEuX3Rhc2tzLnVuc2hpZnQoaXRlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHEuX3Rhc2tzLnB1c2goaXRlbSk7XG4gICAgfVxuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcS5wcm9jZXNzKCk7XG4gICAgfSwgMSk7XG4gIH1cblxuICBmdW5jdGlvbiBfbmV4dCh0YXNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3b3JrZXJzIC09IDE7XG4gICAgICB0YXNrLmNhbGxiYWNrLmFwcGx5KHRhc2ssIGFyZ3VtZW50cyk7XG5cbiAgICAgIGlmIChhcmd1bWVudHNbMF0gIT0gbnVsbCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgIHEuZXJyb3IoYXJndW1lbnRzWzBdLCB0YXNrLmRhdGEpO1xuICAgICAgfVxuXG4gICAgICBpZiAod29ya2VycyA8PSBxLmNvbmN1cnJlbmN5IC0gcS5idWZmZXIpIHtcbiAgICAgICAgcS51bnNhdHVyYXRlZCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAocS5pZGxlKCkpIHtcbiAgICAgICAgcS5kcmFpbigpO1xuICAgICAgfVxuXG4gICAgICBxLnByb2Nlc3MoKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHE7XG59XG5cbnZhciBhc3luYyA9ICh7XG4gICAgZWFjaFNlcmllczogZWFjaFNlcmllcyxcbiAgICBxdWV1ZTogcXVldWVcbn0pO1xuXG4vLyBhIHNpbXBsZSBpbi1tZW1vcnkgY2FjaGUgZm9yIHJlc291cmNlc1xudmFyIGNhY2hlID0ge307XG4vKipcbiAqIEEgc2ltcGxlIGluLW1lbW9yeSBjYWNoZSBmb3IgcmVzb3VyY2UuXG4gKlxuICogQG1lbWJlcm9mIG1pZGRsZXdhcmVcbiAqIEBmdW5jdGlvbiBjYWNoaW5nXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgTG9hZGVyLCBtaWRkbGV3YXJlIH0gZnJvbSAncmVzb3VyY2UtbG9hZGVyJztcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAqIGxvYWRlci51c2UobWlkZGxld2FyZS5jYWNoaW5nKTtcbiAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gQ3VycmVudCBSZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dCAtIENhbGxiYWNrIHdoZW4gY29tcGxldGVcbiAqL1xuXG5mdW5jdGlvbiBjYWNoaW5nKHJlc291cmNlLCBuZXh0KSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgLy8gaWYgY2FjaGVkLCB0aGVuIHNldCBkYXRhIGFuZCBjb21wbGV0ZSB0aGUgcmVzb3VyY2VcbiAgaWYgKGNhY2hlW3Jlc291cmNlLnVybF0pIHtcbiAgICByZXNvdXJjZS5kYXRhID0gY2FjaGVbcmVzb3VyY2UudXJsXTtcbiAgICByZXNvdXJjZS5jb21wbGV0ZSgpOyAvLyBtYXJrcyByZXNvdXJjZSBsb2FkIGNvbXBsZXRlIGFuZCBzdG9wcyBwcm9jZXNzaW5nIGJlZm9yZSBtaWRkbGV3YXJlc1xuICB9IC8vIGlmIG5vdCBjYWNoZWQsIHdhaXQgZm9yIGNvbXBsZXRlIGFuZCBzdG9yZSBpdCBpbiB0aGUgY2FjaGUuXG4gIGVsc2Uge1xuICAgICAgcmVzb3VyY2Uub25Db21wbGV0ZS5vbmNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlW190aGlzLnVybF0gPSBfdGhpcy5kYXRhO1xuICAgICAgfSk7XG4gICAgfVxuXG4gIG5leHQoKTtcbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG52YXIgdXNlWGRyID0gISEod2luZG93LlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KCkpKTtcbnZhciB0ZW1wQW5jaG9yID0gbnVsbDsgLy8gc29tZSBzdGF0dXMgY29uc3RhbnRzXG5cbnZhciBTVEFUVVNfTk9ORSA9IDA7XG52YXIgU1RBVFVTX09LID0gMjAwO1xudmFyIFNUQVRVU19FTVBUWSA9IDIwNDtcbnZhciBTVEFUVVNfSUVfQlVHX0VNUFRZID0gMTIyMztcbnZhciBTVEFUVVNfVFlQRV9PSyA9IDI7IC8vIG5vb3BcblxuZnVuY3Rpb24gX25vb3AkMSgpIHt9XG4vKiBlbXB0eSAqL1xuXG4vKipcbiAqIE1hbmFnZXMgdGhlIHN0YXRlIGFuZCBsb2FkaW5nIG9mIGEgcmVzb3VyY2UgYW5kIGFsbCBjaGlsZCByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKi9cblxuXG52YXIgUmVzb3VyY2UgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLkxPQURfVFlQRX0gbG9hZFR5cGUgLSBUaGUgbG9hZCB0eXBlIHRvIHNldCBpdCB0by5cbiAgICovXG4gIFJlc291cmNlLnNldEV4dGVuc2lvbkxvYWRUeXBlID0gZnVuY3Rpb24gc2V0RXh0ZW5zaW9uTG9hZFR5cGUoZXh0bmFtZSwgbG9hZFR5cGUpIHtcbiAgICBzZXRFeHRNYXAoUmVzb3VyY2UuX2xvYWRUeXBlTWFwLCBleHRuYW1lLCBsb2FkVHlwZSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxvYWQgdHlwZSB0byBiZSB1c2VkIGZvciBhIHNwZWNpZmljIGV4dGVuc2lvbi5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gdG8gc2V0IHRoZSB0eXBlIGZvciwgZS5nLiBcInBuZ1wiIG9yIFwiZm50XCJcbiAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0geGhyVHlwZSAtIFRoZSB4aHIgdHlwZSB0byBzZXQgaXQgdG8uXG4gICAqL1xuICA7XG5cbiAgUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSA9IGZ1bmN0aW9uIHNldEV4dGVuc2lvblhoclR5cGUoZXh0bmFtZSwgeGhyVHlwZSkge1xuICAgIHNldEV4dE1hcChSZXNvdXJjZS5feGhyVHlwZU1hcCwgZXh0bmFtZSwgeGhyVHlwZSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCBmb3IgYXVkaW8vdmlkZW8gbG9hZHMgeW91IGNhbiBwYXNzXG4gICAqICAgICAgYW4gYXJyYXkgb2Ygc291cmNlcy5cbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgICogQHBhcmFtIHtzdHJpbmd8Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0b1xuICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudGltZW91dD0wXSAtIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSBsb2FkLiBJZiB0aGUgbG9hZCB0YWtlc1xuICAgKiAgICAgIGxvbmdlciB0aGFuIHRoaXMgdGltZSBpdCBpcyBjYW5jZWxsZWQgYW5kIHRoZSBsb2FkIGlzIGNvbnNpZGVyZWQgYSBmYWlsdXJlLiBJZiB0aGlzIHZhbHVlIGlzXG4gICAqICAgICAgc2V0IHRvIGAwYCB0aGVuIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHRpbWVvdXQuXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBbb3B0aW9ucy5sb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgKiAgICAgIGJlIGxvYWRlZD9cbiAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gW29wdGlvbnMueGhyVHlwZT1SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUXSAtIEhvd1xuICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuSU1ldGFkYXRhfSBbb3B0aW9ucy5tZXRhZGF0YV0gLSBFeHRyYSBjb25maWd1cmF0aW9uIGZvciBtaWRkbGV3YXJlIGFuZCB0aGUgUmVzb3VyY2Ugb2JqZWN0LlxuICAgKi9cbiAgO1xuXG4gIGZ1bmN0aW9uIFJlc291cmNlKG5hbWUsIHVybCwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQm90aCBuYW1lIGFuZCB1cmwgYXJlIHJlcXVpcmVkIGZvciBjb25zdHJ1Y3RpbmcgYSByZXNvdXJjZS4nKTtcbiAgICB9XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdGUgZmxhZ3Mgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5fZmxhZ3MgPSAwOyAvLyBzZXQgZGF0YSB1cmwgZmxhZywgbmVlZHMgdG8gYmUgc2V0IGVhcmx5IGZvciBzb21lIF9kZXRlcm1pbmVYIGNoZWNrcyB0byB3b3JrLlxuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwsIHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKTtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG5cbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIC8qKlxuICAgICAqIFRoZSB1cmwgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICAvKipcbiAgICAgKiBUaGUgZXh0ZW5zaW9uIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG4gICAgdGhpcy5leHRlbnNpb24gPSB0aGlzLl9nZXRFeHRlbnNpb24oKTtcbiAgICAvKipcbiAgICAgKiBUaGUgZGF0YSB0aGF0IHdhcyBsb2FkZWQgYnkgdGhlIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7YW55fVxuICAgICAqL1xuXG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBJcyB0aGlzIHJlcXVlc3QgY3Jvc3Mtb3JpZ2luPyBJZiB1bnNldCwgZGV0ZXJtaW5lZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG4gICAgdGhpcy5jcm9zc09yaWdpbiA9IG9wdGlvbnMuY3Jvc3NPcmlnaW4gPT09IHRydWUgPyAnYW5vbnltb3VzJyA6IG9wdGlvbnMuY3Jvc3NPcmlnaW47XG4gICAgLyoqXG4gICAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzIGxvbmdlciB0aGFuIHRoaXMgdGltZVxuICAgICAqIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXMgc2V0IHRvIGAwYFxuICAgICAqIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuICAgIHRoaXMudGltZW91dCA9IG9wdGlvbnMudGltZW91dCB8fCAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBtZXRob2Qgb2YgbG9hZGluZyB0byB1c2UgZm9yIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5MT0FEX1RZUEV9XG4gICAgICovXG5cbiAgICB0aGlzLmxvYWRUeXBlID0gb3B0aW9ucy5sb2FkVHlwZSB8fCB0aGlzLl9kZXRlcm1pbmVMb2FkVHlwZSgpO1xuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIHVzZWQgdG8gbG9hZCB0aGUgcmVzb3VyY2UgdmlhIFhIUi4gSWYgdW5zZXQsIGRldGVybWluZWQgYXV0b21hdGljYWxseS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cblxuICAgIHRoaXMueGhyVHlwZSA9IG9wdGlvbnMueGhyVHlwZTtcbiAgICAvKipcbiAgICAgKiBFeHRyYSBpbmZvIGZvciBtaWRkbGV3YXJlLCBhbmQgY29udHJvbGxpbmcgc3BlY2lmaWNzIGFib3V0IGhvdyB0aGUgcmVzb3VyY2UgbG9hZHMuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgaWYgeW91IHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgLCB0aGUgUmVzb3VyY2UgY2xhc3MgdGFrZXMgb3duZXJzaGlwIG9mIGl0LlxuICAgICAqIE1lYW5pbmcgaXQgd2lsbCBtb2RpZnkgaXQgYXMgaXQgc2VlcyBmaXQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5JTWV0YWRhdGF9XG4gICAgICovXG5cbiAgICB0aGlzLm1ldGFkYXRhID0gb3B0aW9ucy5tZXRhZGF0YSB8fCB7fTtcbiAgICAvKipcbiAgICAgKiBUaGUgZXJyb3IgdGhhdCBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nIChpZiBhbnkpLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7RXJyb3J9XG4gICAgICovXG5cbiAgICB0aGlzLmVycm9yID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgWEhSIG9iamVjdCB0aGF0IHdhcyB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS4gVGhpcyBpcyBvbmx5IHNldFxuICAgICAqIHdoZW4gYGxvYWRUeXBlYCBpcyBgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUmAuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtYTUxIdHRwUmVxdWVzdH1cbiAgICAgKi9cblxuICAgIHRoaXMueGhyID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgY2hpbGQgcmVzb3VyY2VzIHRoaXMgcmVzb3VyY2Ugb3ducy5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICovXG5cbiAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIHJlc291cmNlIHR5cGUuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5UWVBFfVxuICAgICAqL1xuXG4gICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5VTktOT1dOO1xuICAgIC8qKlxuICAgICAqIFRoZSBwcm9ncmVzcyBjaHVuayBvd25lZCBieSB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5wcm9ncmVzc0NodW5rID0gMDtcbiAgICAvKipcbiAgICAgKiBUaGUgYGRlcXVldWVgIG1ldGhvZCB0aGF0IHdpbGwgYmUgdXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBhc3luYyBxdWV1ZSBkZXF1ZXVlIG1ldGhvZFxuICAgICAqIHVzZWQgcHJpdmF0ZWx5IGJ5IHRoZSBsb2FkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fZGVxdWV1ZSA9IF9ub29wJDE7XG4gICAgLyoqXG4gICAgICogVXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBvbiBsb2FkIGJpbmRpbmcgdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICovXG5cbiAgICB0aGlzLl9vbkxvYWRCaW5kaW5nID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgdGltZXIgZm9yIGVsZW1lbnQgbG9hZHMgdG8gY2hlY2sgaWYgdGhleSB0aW1lb3V0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLl9lbGVtZW50VGltZXIgPSAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBgY29tcGxldGVgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kQ29tcGxldGUgPSB0aGlzLmNvbXBsZXRlLmJpbmQodGhpcyk7XG4gICAgLyoqXG4gICAgICogVGhlIGBfb25FcnJvcmAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRPbkVycm9yID0gdGhpcy5fb25FcnJvci5iaW5kKHRoaXMpO1xuICAgIC8qKlxuICAgICAqIFRoZSBgX29uUHJvZ3Jlc3NgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kT25Qcm9ncmVzcyA9IHRoaXMuX29uUHJvZ3Jlc3MuYmluZCh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBUaGUgYF9vblRpbWVvdXRgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kT25UaW1lb3V0ID0gdGhpcy5fb25UaW1lb3V0LmJpbmQodGhpcyk7IC8vIHhociBjYWxsYmFja3NcblxuICAgIHRoaXMuX2JvdW5kWGhyT25FcnJvciA9IHRoaXMuX3hock9uRXJyb3IuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9ib3VuZFhock9uVGltZW91dCA9IHRoaXMuX3hock9uVGltZW91dC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2JvdW5kWGhyT25BYm9ydCA9IHRoaXMuX3hock9uQWJvcnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9ib3VuZFhock9uTG9hZCA9IHRoaXMuX3hock9uTG9hZC5iaW5kKHRoaXMpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgcmVzb3VyY2UgYmVpbmdzIHRvIGxvYWQuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25TdGFydFNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25TdGFydFNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uU3RhcnQgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBlYWNoIHRpbWUgcHJvZ3Jlc3Mgb2YgdGhpcyByZXNvdXJjZSBsb2FkIHVwZGF0ZXMuXG4gICAgICogTm90IGFsbCByZXNvdXJjZXMgdHlwZXMgYW5kIGxvYWRlciBzeXN0ZW1zIGNhbiBzdXBwb3J0IHRoaXMgZXZlbnRcbiAgICAgKiBzbyBzb21ldGltZXMgaXQgbWF5IG5vdCBiZSBhdmFpbGFibGUuIElmIHRoZSByZXNvdXJjZVxuICAgICAqIGlzIGJlaW5nIGxvYWRlZCBvbiBhIG1vZGVybiBicm93c2VyLCB1c2luZyBYSFIsIGFuZCB0aGUgcmVtb3RlIHNlcnZlclxuICAgICAqIHByb3Blcmx5IHNldHMgQ29udGVudC1MZW5ndGggaGVhZGVycywgdGhlbiB0aGlzIHdpbGwgYmUgYXZhaWxhYmxlLlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uUHJvZ3Jlc3NTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPFJlc291cmNlLk9uUHJvZ3Jlc3NTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vblByb2dyZXNzID0gbmV3IFNpZ25hbCgpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgb25jZSB0aGlzIHJlc291cmNlIGhhcyBsb2FkZWQsIGlmIHRoZXJlIHdhcyBhbiBlcnJvciBpdCB3aWxsXG4gICAgICogYmUgaW4gdGhlIGBlcnJvcmAgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uQ29tcGxldGUgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBhZnRlciB0aGlzIHJlc291cmNlIGhhcyBoYWQgYWxsIHRoZSAqYWZ0ZXIqIG1pZGRsZXdhcmUgcnVuIG9uIGl0LlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPFJlc291cmNlLk9uQ29tcGxldGVTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vbkFmdGVyTWlkZGxld2FyZSA9IG5ldyBTaWduYWwoKTtcbiAgfVxuICAvKipcbiAgICogV2hlbiB0aGUgcmVzb3VyY2Ugc3RhcnRzIHRvIGxvYWQuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgKiBAY2FsbGJhY2sgT25TdGFydFNpZ25hbFxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIHJlc291cmNlIHJlcG9ydHMgbG9hZGluZyBwcm9ncmVzcy5cbiAgICpcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEBjYWxsYmFjayBPblByb2dyZXNzU2lnbmFsXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGVyY2VudGFnZSAtIFRoZSBwcm9ncmVzcyBvZiB0aGUgbG9hZCBpbiB0aGUgcmFuZ2UgWzAsIDFdLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiB0aGUgcmVzb3VyY2UgZmluaXNoZXMgbG9hZGluZy5cbiAgICpcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEBjYWxsYmFjayBPbkNvbXBsZXRlU2lnbmFsXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgKi9cblxuICAvKipcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEB0eXBlZGVmIHtvYmplY3R9IElNZXRhZGF0YVxuICAgKiBAcHJvcGVydHkge0hUTUxJbWFnZUVsZW1lbnR8SFRNTEF1ZGlvRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBbbG9hZEVsZW1lbnQ9bnVsbF0gLSBUaGVcbiAgICogICAgICBlbGVtZW50IHRvIHVzZSBmb3IgbG9hZGluZywgaW5zdGVhZCBvZiBjcmVhdGluZyBvbmUuXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3NraXBTb3VyY2U9ZmFsc2VdIC0gU2tpcHMgYWRkaW5nIHNvdXJjZShzKSB0byB0aGUgbG9hZCBlbGVtZW50LiBUaGlzXG4gICAqICAgICAgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgIHRoYXQgeW91IGFscmVhZHkgYWRkZWQgbG9hZCBzb3VyY2VzIHRvLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ3xzdHJpbmdbXX0gW21pbWVUeXBlXSAtIFRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgc291cmNlIGVsZW1lbnRcbiAgICogICAgICBvZiBhIHZpZGVvL2F1ZGlvIGVsbWVudC4gSWYgdGhlIHVybHMgYXJlIGFuIGFycmF5LCB5b3UgY2FuIHBhc3MgdGhpcyBhcyBhbiBhcnJheSBhcyB3ZWxsXG4gICAqICAgICAgd2hlcmUgZWFjaCBpbmRleCBpcyB0aGUgbWltZSB0eXBlIHRvIHVzZSBmb3IgdGhlIGNvcnJlc3BvbmRpbmcgdXJsIGluZGV4LlxuICAgKi9cblxuICAvKipcbiAgICogU3RvcmVzIHdoZXRoZXIgb3Igbm90IHRoaXMgdXJsIGlzIGEgZGF0YSB1cmwuXG4gICAqXG4gICAqIEByZWFkb25seVxuICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBSZXNvdXJjZS5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZS5cbiAgICpcbiAgICovXG4gIF9wcm90by5jb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgIHRoaXMuX2NsZWFyRXZlbnRzKCk7XG5cbiAgICB0aGlzLl9maW5pc2goKTtcbiAgfVxuICAvKipcbiAgICogQWJvcnRzIHRoZSBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UsIHdpdGggYW4gb3B0aW9uYWwgbWVzc2FnZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byB1c2UgZm9yIHRoZSBlcnJvclxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5hYm9ydCA9IGZ1bmN0aW9uIGFib3J0KG1lc3NhZ2UpIHtcbiAgICAvLyBhYm9ydCBjYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLCBpZ25vcmUgc3Vic2VxdWVudCBjYWxscy5cbiAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gc3RvcmUgZXJyb3JcblxuXG4gICAgdGhpcy5lcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTsgLy8gY2xlYXIgZXZlbnRzIGJlZm9yZSBjYWxsaW5nIGFib3J0c1xuXG4gICAgdGhpcy5fY2xlYXJFdmVudHMoKTsgLy8gYWJvcnQgdGhlIGFjdHVhbCBsb2FkaW5nXG5cblxuICAgIGlmICh0aGlzLnhocikge1xuICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMueGRyKSB7XG4gICAgICB0aGlzLnhkci5hYm9ydCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAvLyBzaW5nbGUgc291cmNlXG4gICAgICBpZiAodGhpcy5kYXRhLnNyYykge1xuICAgICAgICB0aGlzLmRhdGEuc3JjID0gUmVzb3VyY2UuRU1QVFlfR0lGO1xuICAgICAgfSAvLyBtdWx0aS1zb3VyY2VcbiAgICAgIGVsc2Uge1xuICAgICAgICAgIHdoaWxlICh0aGlzLmRhdGEuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUNoaWxkKHRoaXMuZGF0YS5maXJzdENoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IC8vIGRvbmUgbm93LlxuXG5cbiAgICB0aGlzLl9maW5pc2goKTtcbiAgfVxuICAvKipcbiAgICogS2lja3Mgb2ZmIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZS4gVGhpcyBtZXRob2QgaXMgYXN5bmNocm9ub3VzLlxuICAgKlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0byBjYWxsIG9uY2UgdGhlIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ubG9hZCA9IGZ1bmN0aW9uIGxvYWQoY2IpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBjYihfdGhpcyk7XG4gICAgICAgIH0sIDEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChjYikge1xuICAgICAgdGhpcy5vbkNvbXBsZXRlLm9uY2UoY2IpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIHRydWUpO1xuXG4gICAgdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMpOyAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuXG4gICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4gPT09IGZhbHNlIHx8IHR5cGVvZiB0aGlzLmNyb3NzT3JpZ2luICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5jcm9zc09yaWdpbiA9IHRoaXMuX2RldGVybWluZUNyb3NzT3JpZ2luKHRoaXMudXJsKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHRoaXMubG9hZFR5cGUpIHtcbiAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFOlxuICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLklNQUdFO1xuXG4gICAgICAgIHRoaXMuX2xvYWRFbGVtZW50KCdpbWFnZScpO1xuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5BVURJTzpcbiAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5BVURJTztcblxuICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgnYXVkaW8nKTtcblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU86XG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVklERU87XG5cbiAgICAgICAgdGhpcy5fbG9hZFNvdXJjZUVsZW1lbnQoJ3ZpZGVvJyk7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUjpcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHVzZVhkciAmJiB0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgdGhpcy5fbG9hZFhkcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2xvYWRYaHIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgZmxhZyB0byBjaGVjay5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZmxhZyBpcyBzZXQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9oYXNGbGFnID0gZnVuY3Rpb24gX2hhc0ZsYWcoZmxhZykge1xuICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiBmbGFnKSAhPT0gMDtcbiAgfVxuICAvKipcbiAgICogKFVuKVNldHMgdGhlIGZsYWcuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gKHVuKXNldC5cbiAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFdoZXRoZXIgdG8gc2V0IG9yICh1bilzZXQgdGhlIGZsYWcuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9zZXRGbGFnID0gZnVuY3Rpb24gX3NldEZsYWcoZmxhZywgdmFsdWUpIHtcbiAgICB0aGlzLl9mbGFncyA9IHZhbHVlID8gdGhpcy5fZmxhZ3MgfCBmbGFnIDogdGhpcy5fZmxhZ3MgJiB+ZmxhZztcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIGFsbCB0aGUgZXZlbnRzIGZyb20gdGhlIHVuZGVybHlpbmcgbG9hZGluZyBzb3VyY2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9jbGVhckV2ZW50cyA9IGZ1bmN0aW9uIF9jbGVhckV2ZW50cygpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fZWxlbWVudFRpbWVyKTtcblxuICAgIGlmICh0aGlzLmRhdGEgJiYgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy54aHIpIHtcbiAgICAgIGlmICh0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RpbWVvdXQnLCB0aGlzLl9ib3VuZFhock9uVGltZW91dCwgZmFsc2UpO1xuICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRYaHJPbkxvYWQsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMueGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLnhoci5vbnRpbWVvdXQgPSBudWxsO1xuICAgICAgICB0aGlzLnhoci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy54aHIub25sb2FkID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEZpbmFsaXplcyB0aGUgbG9hZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2ZpbmlzaCA9IGZ1bmN0aW9uIF9maW5pc2goKSB7XG4gICAgaWYgKHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb21wbGV0ZSBjYWxsZWQgYWdhaW4gZm9yIGFuIGFscmVhZHkgY29tcGxldGVkIHJlc291cmNlLicpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFLCB0cnVlKTtcblxuICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIGZhbHNlKTtcblxuICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gZWxlbWVudCB0aGF0IGhhcyBhIHNpbmdsZSBzb3VyY2UsXG4gICAqIGxpa2UgYW4gSFRNTEltYWdlRWxlbWVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2xvYWRFbGVtZW50ID0gZnVuY3Rpb24gX2xvYWRFbGVtZW50KHR5cGUpIHtcbiAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdpbWFnZScgJiYgdHlwZW9mIHdpbmRvdy5JbWFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5tZXRhZGF0YS5za2lwU291cmNlKSB7XG4gICAgICB0aGlzLmRhdGEuc3JjID0gdGhpcy51cmw7XG4gICAgfVxuXG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG5cbiAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2JvdW5kT25UaW1lb3V0LCB0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gZWxlbWVudCB0aGF0IGhhcyBtdWx0aXBsZSBzb3VyY2VzLFxuICAgKiBsaWtlIGFuIEhUTUxBdWRpb0VsZW1lbnQgb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2xvYWRTb3VyY2VFbGVtZW50ID0gZnVuY3Rpb24gX2xvYWRTb3VyY2VFbGVtZW50KHR5cGUpIHtcbiAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdhdWRpbycgJiYgdHlwZW9mIHdpbmRvdy5BdWRpbyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuZGF0YSA9IG5ldyBBdWRpbygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRhdGEgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuYWJvcnQoXCJVbnN1cHBvcnRlZCBlbGVtZW50OiBcIiArIHR5cGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5tZXRhZGF0YS5za2lwU291cmNlKSB7XG4gICAgICAvLyBzdXBwb3J0IGZvciBDb2Nvb25KUyBDYW52YXMrIHJ1bnRpbWUsIGxhY2tzIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpXG4gICAgICBpZiAobmF2aWdhdG9yLmlzQ29jb29uSlMpIHtcbiAgICAgICAgdGhpcy5kYXRhLnNyYyA9IEFycmF5LmlzQXJyYXkodGhpcy51cmwpID8gdGhpcy51cmxbMF0gOiB0aGlzLnVybDtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnVybCkpIHtcbiAgICAgICAgdmFyIG1pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnVybC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmxbaV0sIEFycmF5LmlzQXJyYXkobWltZVR5cGVzKSA/IG1pbWVUeXBlc1tpXSA6IG1pbWVUeXBlcykpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgX21pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG4gICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmwsIEFycmF5LmlzQXJyYXkoX21pbWVUeXBlcykgPyBfbWltZVR5cGVzWzBdIDogX21pbWVUeXBlcykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICB0aGlzLmRhdGEubG9hZCgpO1xuXG4gICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgdGhpcy5fZWxlbWVudFRpbWVyID0gc2V0VGltZW91dCh0aGlzLl9ib3VuZE9uVGltZW91dCwgdGhpcy50aW1lb3V0KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIFhNTEh0dHBSZXF1ZXN0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFhociA9IGZ1bmN0aW9uIF9sb2FkWGhyKCkge1xuICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgfVxuXG4gICAgdmFyIHhociA9IHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7IC8vIHNldCB0aGUgcmVxdWVzdCB0eXBlIGFuZCB1cmxcblxuICAgIHhoci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7XG4gICAgeGhyLnRpbWVvdXQgPSB0aGlzLnRpbWVvdXQ7IC8vIGxvYWQganNvbiBhcyB0ZXh0IGFuZCBwYXJzZSBpdCBvdXJzZWx2ZXMuIFdlIGRvIHRoaXMgYmVjYXVzZSBzb21lIGJyb3dzZXJzXG4gICAgLy8gKmNvdWdoKiBzYWZhcmkgKmNvdWdoKiBjYW4ndCBkZWFsIHdpdGggaXQuXG5cbiAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OIHx8IHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICAgIH0gZWxzZSB7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gdGhpcy54aHJUeXBlO1xuICAgIH1cblxuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kWGhyT25FcnJvciwgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCd0aW1lb3V0JywgdGhpcy5fYm91bmRYaHJPblRpbWVvdXQsIGZhbHNlKTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCB0aGlzLl9ib3VuZFhock9uQWJvcnQsIGZhbHNlKTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kWGhyT25Mb2FkLCBmYWxzZSk7XG4gICAgeGhyLnNlbmQoKTtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWERvbWFpblJlcXVlc3QuIFRoaXMgaXMgaGVyZSBiZWNhdXNlIHdlIG5lZWQgdG8gc3VwcG9ydCBJRTkgKGdyb3NzKS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2xvYWRYZHIgPSBmdW5jdGlvbiBfbG9hZFhkcigpIHtcbiAgICAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuICAgIGlmICh0eXBlb2YgdGhpcy54aHJUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy54aHJUeXBlID0gdGhpcy5fZGV0ZXJtaW5lWGhyVHlwZSgpO1xuICAgIH1cblxuICAgIHZhciB4ZHIgPSB0aGlzLnhociA9IG5ldyBYRG9tYWluUmVxdWVzdCgpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4gICAgLy8gWERvbWFpblJlcXVlc3QgaGFzIGEgZmV3IHF1aXJrcy4gT2NjYXNpb25hbGx5IGl0IHdpbGwgYWJvcnQgcmVxdWVzdHNcbiAgICAvLyBBIHdheSB0byBhdm9pZCB0aGlzIGlzIHRvIG1ha2Ugc3VyZSBBTEwgY2FsbGJhY2tzIGFyZSBzZXQgZXZlbiBpZiBub3QgdXNlZFxuICAgIC8vIE1vcmUgaW5mbyBoZXJlOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE1Nzg2OTY2L3hkb21haW5yZXF1ZXN0LWFib3J0cy1wb3N0LW9uLWllLTlcblxuICAgIHhkci50aW1lb3V0ID0gdGhpcy50aW1lb3V0IHx8IDUwMDA7IC8vIFhEUiBuZWVkcyBhIHRpbWVvdXQgdmFsdWUgb3IgaXQgYnJlYWtzIGluIElFOVxuXG4gICAgeGRyLm9uZXJyb3IgPSB0aGlzLl9ib3VuZFhock9uRXJyb3I7XG4gICAgeGRyLm9udGltZW91dCA9IHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0O1xuICAgIHhkci5vbnByb2dyZXNzID0gdGhpcy5fYm91bmRPblByb2dyZXNzO1xuICAgIHhkci5vbmxvYWQgPSB0aGlzLl9ib3VuZFhock9uTG9hZDtcbiAgICB4ZHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpOyAvLyBOb3RlOiBUaGUgeGRyLnNlbmQoKSBjYWxsIGlzIHdyYXBwZWQgaW4gYSB0aW1lb3V0IHRvIHByZXZlbnQgYW5cbiAgICAvLyBpc3N1ZSB3aXRoIHRoZSBpbnRlcmZhY2Ugd2hlcmUgc29tZSByZXF1ZXN0cyBhcmUgbG9zdCBpZiBtdWx0aXBsZVxuICAgIC8vIFhEb21haW5SZXF1ZXN0cyBhcmUgYmVpbmcgc2VudCBhdCB0aGUgc2FtZSB0aW1lLlxuICAgIC8vIFNvbWUgaW5mbyBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vcGhvdG9uc3Rvcm0vcGhhc2VyL2lzc3Vlcy8xMjQ4XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB4ZHIuc2VuZCgpO1xuICAgIH0sIDEpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc291cmNlIHVzZWQgaW4gbG9hZGluZyB2aWEgYW4gZWxlbWVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgZWxlbWVudCB0eXBlICh2aWRlbyBvciBhdWRpbykuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgc291cmNlIFVSTCB0byBsb2FkIGZyb20uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbWltZV0gLSBUaGUgbWltZSB0eXBlIG9mIHRoZSB2aWRlb1xuICAgKiBAcmV0dXJuIHtIVE1MU291cmNlRWxlbWVudH0gVGhlIHNvdXJjZSBlbGVtZW50LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fY3JlYXRlU291cmNlID0gZnVuY3Rpb24gX2NyZWF0ZVNvdXJjZSh0eXBlLCB1cmwsIG1pbWUpIHtcbiAgICBpZiAoIW1pbWUpIHtcbiAgICAgIG1pbWUgPSB0eXBlICsgXCIvXCIgKyB0aGlzLl9nZXRFeHRlbnNpb24odXJsKTtcbiAgICB9XG5cbiAgICB2YXIgc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG4gICAgc291cmNlLnNyYyA9IHVybDtcbiAgICBzb3VyY2UudHlwZSA9IG1pbWU7XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIGlmIGEgbG9hZCBlcnJvcnMgb3V0LlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRoZSBlcnJvciBldmVudCBmcm9tIHRoZSBlbGVtZW50IHRoYXQgZW1pdHMgaXQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vbkVycm9yID0gZnVuY3Rpb24gX29uRXJyb3IoZXZlbnQpIHtcbiAgICB0aGlzLmFib3J0KFwiRmFpbGVkIHRvIGxvYWQgZWxlbWVudCB1c2luZzogXCIgKyBldmVudC50YXJnZXQubm9kZU5hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYSBsb2FkIHByb2dyZXNzIGV2ZW50IGZpcmVzIGZvciBhbiBlbGVtZW50IG9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RQcm9ncmVzc0V2ZW50fEV2ZW50fSBldmVudCAtIFByb2dyZXNzIGV2ZW50LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25Qcm9ncmVzcyA9IGZ1bmN0aW9uIF9vblByb2dyZXNzKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50ICYmIGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgIHRoaXMub25Qcm9ncmVzcy5kaXNwYXRjaCh0aGlzLCBldmVudC5sb2FkZWQgLyBldmVudC50b3RhbCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYSB0aW1lb3V0IGV2ZW50IGZpcmVzIGZvciBhbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25UaW1lb3V0ID0gZnVuY3Rpb24gX29uVGltZW91dCgpIHtcbiAgICB0aGlzLmFib3J0KFwiTG9hZCB0aW1lZCBvdXQuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYW4gZXJyb3IgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPbkVycm9yID0gZnVuY3Rpb24gX3hock9uRXJyb3IoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgXCIgUmVxdWVzdCBmYWlsZWQuIFN0YXR1czogXCIgKyB4aHIuc3RhdHVzICsgXCIsIHRleHQ6IFxcXCJcIiArIHhoci5zdGF0dXNUZXh0ICsgXCJcXFwiXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYW4gZXJyb3IgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPblRpbWVvdXQgPSBmdW5jdGlvbiBfeGhyT25UaW1lb3V0KCkge1xuICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICB0aGlzLmFib3J0KHJlcVR5cGUoeGhyKSArIFwiIFJlcXVlc3QgdGltZWQgb3V0LlwiKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIGlmIGFuIGFib3J0IGV2ZW50IGZpcmVzIGZvciB4aHIveGRyLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5feGhyT25BYm9ydCA9IGZ1bmN0aW9uIF94aHJPbkFib3J0KCkge1xuICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICB0aGlzLmFib3J0KHJlcVR5cGUoeGhyKSArIFwiIFJlcXVlc3Qgd2FzIGFib3J0ZWQgYnkgdGhlIHVzZXIuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBkYXRhIHN1Y2Nlc3NmdWxseSBsb2FkcyBmcm9tIGFuIHhoci94ZHIgcmVxdWVzdC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdExvYWRFdmVudHxFdmVudH0gZXZlbnQgLSBMb2FkIGV2ZW50XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPbkxvYWQgPSBmdW5jdGlvbiBfeGhyT25Mb2FkKCkge1xuICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICB2YXIgdGV4dCA9ICcnO1xuICAgIHZhciBzdGF0dXMgPSB0eXBlb2YgeGhyLnN0YXR1cyA9PT0gJ3VuZGVmaW5lZCcgPyBTVEFUVVNfT0sgOiB4aHIuc3RhdHVzOyAvLyBYRFIgaGFzIG5vIGAuc3RhdHVzYCwgYXNzdW1lIDIwMC5cbiAgICAvLyByZXNwb25zZVRleHQgaXMgYWNjZXNzaWJsZSBvbmx5IGlmIHJlc3BvbnNlVHlwZSBpcyAnJyBvciAndGV4dCcgYW5kIG9uIG9sZGVyIGJyb3dzZXJzXG5cbiAgICBpZiAoeGhyLnJlc3BvbnNlVHlwZSA9PT0gJycgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8IHR5cGVvZiB4aHIucmVzcG9uc2VUeXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGV4dCA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgfSAvLyBzdGF0dXMgY2FuIGJlIDAgd2hlbiB1c2luZyB0aGUgYGZpbGU6Ly9gIHByb3RvY29sIHNvIHdlIGFsc28gY2hlY2sgaWYgYSByZXNwb25zZSBpcyBzZXQuXG4gICAgLy8gSWYgaXQgaGFzIGEgcmVzcG9uc2UsIHdlIGFzc3VtZSAyMDA7IG90aGVyd2lzZSBhIDAgc3RhdHVzIGNvZGUgd2l0aCBubyBjb250ZW50cyBpcyBhbiBhYm9ydGVkIHJlcXVlc3QuXG5cblxuICAgIGlmIChzdGF0dXMgPT09IFNUQVRVU19OT05FICYmICh0ZXh0Lmxlbmd0aCA+IDAgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSKSkge1xuICAgICAgc3RhdHVzID0gU1RBVFVTX09LO1xuICAgIH0gLy8gaGFuZGxlIElFOSBidWc6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAwNDY5NzIvbXNpZS1yZXR1cm5zLXN0YXR1cy1jb2RlLW9mLTEyMjMtZm9yLWFqYXgtcmVxdWVzdFxuICAgIGVsc2UgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX0lFX0JVR19FTVBUWSkge1xuICAgICAgICBzdGF0dXMgPSBTVEFUVVNfRU1QVFk7XG4gICAgICB9XG5cbiAgICB2YXIgc3RhdHVzVHlwZSA9IHN0YXR1cyAvIDEwMCB8IDA7XG5cbiAgICBpZiAoc3RhdHVzVHlwZSA9PT0gU1RBVFVTX1RZUEVfT0spIHtcbiAgICAgIC8vIGlmIHRleHQsIGp1c3QgcmV0dXJuIGl0XG4gICAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IHRleHQ7XG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVEVYVDtcbiAgICAgIH0gLy8gaWYganNvbiwgcGFyc2UgaW50byBqc29uIG9iamVjdFxuICAgICAgZWxzZSBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLkpTT047XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5hYm9ydChcIkVycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQganNvbjogXCIgKyBlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gaWYgeG1sLCBwYXJzZSBpbnRvIGFuIHhtbCBkb2N1bWVudCBvciBkaXYgZWxlbWVudFxuICAgICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAod2luZG93LkRPTVBhcnNlcikge1xuICAgICAgICAgICAgICAgIHZhciBkb21wYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9tcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh0ZXh0LCAndGV4dC94bWwnKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZGl2O1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5YTUw7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHRoaXMuYWJvcnQoXCJFcnJvciB0cnlpbmcgdG8gcGFyc2UgbG9hZGVkIHhtbDogXCIgKyBlKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gb3RoZXIgdHlwZXMganVzdCByZXR1cm4gdGhlIHJlc3BvbnNlXG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHhoci5yZXNwb25zZSB8fCB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFib3J0KFwiW1wiICsgeGhyLnN0YXR1cyArIFwiXSBcIiArIHhoci5zdGF0dXNUZXh0ICsgXCI6IFwiICsgeGhyLnJlc3BvbnNlVVJMKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmNvbXBsZXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICAgKiBmb3IgdGhpcyByZXNvdXJjZSBpcyBjcm9zcy1vcmlnaW4uIElmIGNyb3NzT3JpZ2luIHdhcyBtYW51YWxseSBzZXQsIHRoaXNcbiAgICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB0ZXN0LlxuICAgKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNyb3NzT3JpZ2luIHZhbHVlIHRvIHVzZSAob3IgZW1wdHkgc3RyaW5nIGZvciBub25lKS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2RldGVybWluZUNyb3NzT3JpZ2luID0gZnVuY3Rpb24gX2RldGVybWluZUNyb3NzT3JpZ2luKHVybCwgbG9jKSB7XG4gICAgLy8gZGF0YTogYW5kIGphdmFzY3JpcHQ6IHVybHMgYXJlIGNvbnNpZGVyZWQgc2FtZS1vcmlnaW5cbiAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9IC8vIEEgc2FuZGJveGVkIGlmcmFtZSB3aXRob3V0IHRoZSAnYWxsb3ctc2FtZS1vcmlnaW4nIGF0dHJpYnV0ZSB3aWxsIGhhdmUgYSBzcGVjaWFsXG4gICAgLy8gb3JpZ2luIGRlc2lnbmVkIG5vdCB0byBtYXRjaCB3aW5kb3cubG9jYXRpb24ub3JpZ2luLCBhbmQgd2lsbCBhbHdheXMgcmVxdWlyZVxuICAgIC8vIGNyb3NzT3JpZ2luIHJlcXVlc3RzIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgbG9jYXRpb24gbWF0Y2hlcy5cblxuXG4gICAgaWYgKHdpbmRvdy5vcmlnaW4gIT09IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pIHtcbiAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICB9IC8vIGRlZmF1bHQgaXMgd2luZG93LmxvY2F0aW9uXG5cblxuICAgIGxvYyA9IGxvYyB8fCB3aW5kb3cubG9jYXRpb247XG5cbiAgICBpZiAoIXRlbXBBbmNob3IpIHtcbiAgICAgIHRlbXBBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgfSAvLyBsZXQgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSB1cmwgb2YgdGhpcyByZXNvdXJjZSBhbmQgdGhlblxuICAgIC8vIHBhcnNlIHdpdGggdGhlIG5vZGUgdXJsIGxpYiwgd2UgY2FuJ3QgdXNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhbmNob3IgZWxlbWVudFxuICAgIC8vIGJlY2F1c2UgdGhleSBkb24ndCB3b3JrIGluIElFOSA6KFxuXG5cbiAgICB0ZW1wQW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgdXJsID0gcGFyc2VVcmkodGVtcEFuY2hvci5ocmVmLCB7XG4gICAgICBzdHJpY3RNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgdmFyIHNhbWVQb3J0ID0gIXVybC5wb3J0ICYmIGxvYy5wb3J0ID09PSAnJyB8fCB1cmwucG9ydCA9PT0gbG9jLnBvcnQ7XG4gICAgdmFyIHByb3RvY29sID0gdXJsLnByb3RvY29sID8gdXJsLnByb3RvY29sICsgXCI6XCIgOiAnJzsgLy8gaWYgY3Jvc3Mgb3JpZ2luXG5cbiAgICBpZiAodXJsLmhvc3QgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgcHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbCkge1xuICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgcmVzcG9uc2VUeXBlIG9mIGFuIFhIUiByZXF1ZXN0IGJhc2VkIG9uIHRoZSBleHRlbnNpb24gb2YgdGhlXG4gICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFRoZSByZXNwb25zZVR5cGUgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZGV0ZXJtaW5lWGhyVHlwZSA9IGZ1bmN0aW9uIF9kZXRlcm1pbmVYaHJUeXBlKCkge1xuICAgIHJldHVybiBSZXNvdXJjZS5feGhyVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDtcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgbG9hZFR5cGUgb2YgYSByZXNvdXJjZSBiYXNlZCBvbiB0aGUgZXh0ZW5zaW9uIG9mIHRoZVxuICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge1Jlc291cmNlLkxPQURfVFlQRX0gVGhlIGxvYWRUeXBlIHRvIHVzZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2RldGVybWluZUxvYWRUeXBlID0gZnVuY3Rpb24gX2RldGVybWluZUxvYWRUeXBlKCkge1xuICAgIHJldHVybiBSZXNvdXJjZS5fbG9hZFR5cGVNYXBbdGhpcy5leHRlbnNpb25dIHx8IFJlc291cmNlLkxPQURfVFlQRS5YSFI7XG4gIH1cbiAgLyoqXG4gICAqIEV4dHJhY3RzIHRoZSBleHRlbnNpb24gKHNhbnMgJy4nKSBvZiB0aGUgZmlsZSBiZWluZyBsb2FkZWQgYnkgdGhlIHJlc291cmNlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBleHRlbnNpb24uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9nZXRFeHRlbnNpb24gPSBmdW5jdGlvbiBfZ2V0RXh0ZW5zaW9uKCkge1xuICAgIHZhciB1cmwgPSB0aGlzLnVybDtcbiAgICB2YXIgZXh0ID0gJyc7XG5cbiAgICBpZiAodGhpcy5pc0RhdGFVcmwpIHtcbiAgICAgIHZhciBzbGFzaEluZGV4ID0gdXJsLmluZGV4T2YoJy8nKTtcbiAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcoc2xhc2hJbmRleCArIDEsIHVybC5pbmRleE9mKCc7Jywgc2xhc2hJbmRleCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcXVlcnlTdGFydCA9IHVybC5pbmRleE9mKCc/Jyk7XG4gICAgICB2YXIgaGFzaFN0YXJ0ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICAgIHZhciBpbmRleCA9IE1hdGgubWluKHF1ZXJ5U3RhcnQgPiAtMSA/IHF1ZXJ5U3RhcnQgOiB1cmwubGVuZ3RoLCBoYXNoU3RhcnQgPiAtMSA/IGhhc2hTdGFydCA6IHVybC5sZW5ndGgpO1xuICAgICAgdXJsID0gdXJsLnN1YnN0cmluZygwLCBpbmRleCk7XG4gICAgICBleHQgPSB1cmwuc3Vic3RyaW5nKHVybC5sYXN0SW5kZXhPZignLicpICsgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4dC50b0xvd2VyQ2FzZSgpO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSBtaW1lIHR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIHJlc3BvbnNlVHlwZSBvZlxuICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IHR5cGUgLSBUaGUgdHlwZSB0byBnZXQgYSBtaW1lIHR5cGUgZm9yLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBtaW1lIHR5cGUgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZ2V0TWltZUZyb21YaHJUeXBlID0gZnVuY3Rpb24gX2dldE1pbWVGcm9tWGhyVHlwZSh0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUjpcbiAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9vY3RldC1iaW5hcnknO1xuXG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0I6XG4gICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vYmxvYic7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQ6XG4gICAgICAgIHJldHVybiAnYXBwbGljYXRpb24veG1sJztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OOlxuICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2pzb24nO1xuXG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFQ6XG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ6XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAndGV4dC9wbGFpbic7XG4gICAgfVxuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhSZXNvdXJjZSwgW3tcbiAgICBrZXk6IFwiaXNEYXRhVXJsXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZXMgaWYgdGhpcyByZXNvdXJjZSBoYXMgZmluaXNoZWQgbG9hZGluZy4gSXMgdHJ1ZSB3aGVuIHRoZSByZXNvdXJjZSBoYXMgY29tcGxldGVseVxuICAgICAqIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0NvbXBsZXRlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuQ09NUExFVEUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZXMgaWYgdGhpcyByZXNvdXJjZSBpcyBjdXJyZW50bHkgbG9hZGluZy4gSXMgdHJ1ZSB3aGVuIHRoZSByZXNvdXJjZSBzdGFydHMgbG9hZGluZyxcbiAgICAgKiBhbmQgaXMgZmFsc2UgYWdhaW4gd2hlbiBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0xvYWRpbmdcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmVzb3VyY2U7XG59KCk7XG4vKipcbiAqIFRoZSB0eXBlcyBvZiByZXNvdXJjZXMgYSByZXNvdXJjZSBjb3VsZCByZXByZXNlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5cblxuUmVzb3VyY2UuU1RBVFVTX0ZMQUdTID0ge1xuICBOT05FOiAwLFxuICBEQVRBX1VSTDogMSA8PCAwLFxuICBDT01QTEVURTogMSA8PCAxLFxuICBMT0FESU5HOiAxIDw8IDJcbn07XG4vKipcbiAqIFRoZSB0eXBlcyBvZiByZXNvdXJjZXMgYSByZXNvdXJjZSBjb3VsZCByZXByZXNlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5cblJlc291cmNlLlRZUEUgPSB7XG4gIFVOS05PV046IDAsXG4gIEpTT046IDEsXG4gIFhNTDogMixcbiAgSU1BR0U6IDMsXG4gIEFVRElPOiA0LFxuICBWSURFTzogNSxcbiAgVEVYVDogNlxufTtcbi8qKlxuICogVGhlIHR5cGVzIG9mIGxvYWRpbmcgYSByZXNvdXJjZSBjYW4gdXNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuXG5SZXNvdXJjZS5MT0FEX1RZUEUgPSB7XG4gIC8qKiBVc2VzIFhNTEh0dHBSZXF1ZXN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICBYSFI6IDEsXG5cbiAgLyoqIFVzZXMgYW4gYEltYWdlYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIElNQUdFOiAyLFxuXG4gIC8qKiBVc2VzIGFuIGBBdWRpb2Agb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICBBVURJTzogMyxcblxuICAvKiogVXNlcyBhIGBWaWRlb2Agb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICBWSURFTzogNFxufTtcbi8qKlxuICogVGhlIFhIUiByZWFkeSBzdGF0ZXMsIHVzZWQgaW50ZXJuYWxseS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cblxuUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUgPSB7XG4gIC8qKiBzdHJpbmcgKi9cbiAgREVGQVVMVDogJ3RleHQnLFxuXG4gIC8qKiBBcnJheUJ1ZmZlciAqL1xuICBCVUZGRVI6ICdhcnJheWJ1ZmZlcicsXG5cbiAgLyoqIEJsb2IgKi9cbiAgQkxPQjogJ2Jsb2InLFxuXG4gIC8qKiBEb2N1bWVudCAqL1xuICBET0NVTUVOVDogJ2RvY3VtZW50JyxcblxuICAvKiogT2JqZWN0ICovXG4gIEpTT046ICdqc29uJyxcblxuICAvKiogU3RyaW5nICovXG4gIFRFWFQ6ICd0ZXh0J1xufTtcblJlc291cmNlLl9sb2FkVHlwZU1hcCA9IHtcbiAgLy8gaW1hZ2VzXG4gIGdpZjogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICBwbmc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgYm1wOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIGpwZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICBqcGVnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHRpZjogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICB0aWZmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHdlYnA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgdGdhOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHN2ZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAnc3ZnK3htbCc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgLy8gZm9yIFNWRyBkYXRhIHVybHNcbiAgLy8gYXVkaW9cbiAgbXAzOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gIG9nZzogUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICB3YXY6IFJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcbiAgLy8gdmlkZW9zXG4gIG1wNDogUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPLFxuICB3ZWJtOiBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU9cbn07XG5SZXNvdXJjZS5feGhyVHlwZU1hcCA9IHtcbiAgLy8geG1sXG4gIHhodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgaHRtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIGh0bTogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIHhtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIHRteDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIHN2ZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIC8vIFRoaXMgd2FzIGFkZGVkIHRvIGhhbmRsZSBUaWxlZCBUaWxlc2V0IFhNTCwgYnV0IC50c3ggaXMgYWxzbyBhIFR5cGVTY3JpcHQgUmVhY3QgQ29tcG9uZW50LlxuICAvLyBTaW5jZSBpdCBpcyB3YXkgbGVzcyBsaWtlbHkgZm9yIHBlb3BsZSB0byBiZSBsb2FkaW5nIFR5cGVTY3JpcHQgZmlsZXMgaW5zdGVhZCBvZiBUaWxlZCBmaWxlcyxcbiAgLy8gdGhpcyBzaG91bGQgcHJvYmFibHkgYmUgZmluZS5cbiAgdHN4OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgLy8gaW1hZ2VzXG4gIGdpZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgcG5nOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICBibXA6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIGpwZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAganBlZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgdGlmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB0aWZmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB3ZWJwOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB0Z2E6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIC8vIGpzb25cbiAganNvbjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTixcbiAgLy8gdGV4dFxuICB0ZXh0OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhULFxuICB0eHQ6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsXG4gIC8vIGZvbnRzXG4gIHR0ZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSLFxuICBvdGY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUlxufTsgLy8gV2UgY2FuJ3Qgc2V0IHRoZSBgc3JjYCBhdHRyaWJ1dGUgdG8gZW1wdHkgc3RyaW5nLCBzbyBvbiBhYm9ydCB3ZSBzZXQgaXQgdG8gdGhpcyAxcHggdHJhbnNwYXJlbnQgZ2lmXG5cblJlc291cmNlLkVNUFRZX0dJRiA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFQLy8vd0FBQUNINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPdz09Jztcbi8qKlxuICogUXVpY2sgaGVscGVyIHRvIHNldCBhIHZhbHVlIG9uIG9uZSBvZiB0aGUgZXh0ZW5zaW9uIG1hcHMuIEVuc3VyZXMgdGhlcmUgaXMgbm9cbiAqIGRvdCBhdCB0aGUgc3RhcnQgb2YgdGhlIGV4dGVuc2lvbi5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge29iamVjdH0gbWFwIC0gVGhlIG1hcCB0byBzZXQgb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gKG9yIGtleSkgdG8gc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCAtIFRoZSB2YWx1ZSB0byBzZXQuXG4gKi9cblxuZnVuY3Rpb24gc2V0RXh0TWFwKG1hcCwgZXh0bmFtZSwgdmFsKSB7XG4gIGlmIChleHRuYW1lICYmIGV4dG5hbWUuaW5kZXhPZignLicpID09PSAwKSB7XG4gICAgZXh0bmFtZSA9IGV4dG5hbWUuc3Vic3RyaW5nKDEpO1xuICB9XG5cbiAgaWYgKCFleHRuYW1lKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbWFwW2V4dG5hbWVdID0gdmFsO1xufVxuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gZ2V0IHN0cmluZyB4aHIgdHlwZS5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0fFhEb21haW5SZXF1ZXN0fSB4aHIgLSBUaGUgcmVxdWVzdCB0byBjaGVjay5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHR5cGUuXG4gKi9cblxuXG5mdW5jdGlvbiByZXFUeXBlKHhocikge1xuICByZXR1cm4geGhyLnRvU3RyaW5nKCkucmVwbGFjZSgnb2JqZWN0ICcsICcnKTtcbn1cblxudmFyIF9rZXlTdHIgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuLyoqXG4gKiBFbmNvZGVzIGJpbmFyeSBpbnRvIGJhc2U2NC5cbiAqXG4gKiBAZnVuY3Rpb24gZW5jb2RlQmluYXJ5XG4gKiBAcGFyYW0ge3N0cmluZ30gaW5wdXQgVGhlIGlucHV0IGRhdGEgdG8gZW5jb2RlLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGVuY29kZWQgYmFzZTY0IHN0cmluZ1xuICovXG5cbmZ1bmN0aW9uIGVuY29kZUJpbmFyeShpbnB1dCkge1xuICB2YXIgb3V0cHV0ID0gJyc7XG4gIHZhciBpbnggPSAwO1xuXG4gIHdoaWxlIChpbnggPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAvLyBGaWxsIGJ5dGUgYnVmZmVyIGFycmF5XG4gICAgdmFyIGJ5dGVidWZmZXIgPSBbMCwgMCwgMF07XG4gICAgdmFyIGVuY29kZWRDaGFySW5kZXhlcyA9IFswLCAwLCAwLCAwXTtcblxuICAgIGZvciAodmFyIGpueCA9IDA7IGpueCA8IGJ5dGVidWZmZXIubGVuZ3RoOyArK2pueCkge1xuICAgICAgaWYgKGlueCA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAvLyB0aHJvdyBhd2F5IGhpZ2gtb3JkZXIgYnl0ZSwgYXMgZG9jdW1lbnRlZCBhdDpcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvRW4vVXNpbmdfWE1MSHR0cFJlcXVlc3QjSGFuZGxpbmdfYmluYXJ5X2RhdGFcbiAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gaW5wdXQuY2hhckNvZGVBdChpbngrKykgJiAweGZmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gMDtcbiAgICAgIH1cbiAgICB9IC8vIEdldCBlYWNoIGVuY29kZWQgY2hhcmFjdGVyLCA2IGJpdHMgYXQgYSB0aW1lXG4gICAgLy8gaW5kZXggMTogZmlyc3QgNiBiaXRzXG5cblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1swXSA9IGJ5dGVidWZmZXJbMF0gPj4gMjsgLy8gaW5kZXggMjogc2Vjb25kIDYgYml0cyAoMiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAxICsgNCBtb3N0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBieXRlIDIpXG5cbiAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMV0gPSAoYnl0ZWJ1ZmZlclswXSAmIDB4MykgPDwgNCB8IGJ5dGVidWZmZXJbMV0gPj4gNDsgLy8gaW5kZXggMzogdGhpcmQgNiBiaXRzICg0IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDIgKyAyIG1vc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGJ5dGUgMylcblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IChieXRlYnVmZmVyWzFdICYgMHgwZikgPDwgMiB8IGJ5dGVidWZmZXJbMl0gPj4gNjsgLy8gaW5kZXggMzogZm9ydGggNiBiaXRzICg2IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDMpXG5cbiAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSBieXRlYnVmZmVyWzJdICYgMHgzZjsgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgcGFkZGluZyBoYXBwZW5lZCwgYW5kIGFkanVzdCBhY2NvcmRpbmdseVxuXG4gICAgdmFyIHBhZGRpbmdCeXRlcyA9IGlueCAtIChpbnB1dC5sZW5ndGggLSAxKTtcblxuICAgIHN3aXRjaCAocGFkZGluZ0J5dGVzKSB7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIC8vIFNldCBsYXN0IDIgY2hhcmFjdGVycyB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gNjQ7XG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IDY0O1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAxOlxuICAgICAgICAvLyBTZXQgbGFzdCBjaGFyYWN0ZXIgdG8gcGFkZGluZyBjaGFyXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IDY0O1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBObyBwYWRkaW5nIC0gcHJvY2VlZFxuICAgIH0gLy8gTm93IHdlIHdpbGwgZ3JhYiBlYWNoIGFwcHJvcHJpYXRlIGNoYXJhY3RlciBvdXQgb2Ygb3VyIGtleXN0cmluZ1xuICAgIC8vIGJhc2VkIG9uIG91ciBpbmRleCBhcnJheSBhbmQgYXBwZW5kIGl0IHRvIHRoZSBvdXRwdXQgc3RyaW5nXG5cblxuICAgIGZvciAodmFyIF9qbnggPSAwOyBfam54IDwgZW5jb2RlZENoYXJJbmRleGVzLmxlbmd0aDsgKytfam54KSB7XG4gICAgICBvdXRwdXQgKz0gX2tleVN0ci5jaGFyQXQoZW5jb2RlZENoYXJJbmRleGVzW19qbnhdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuXG52YXIgVXJsID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMO1xuLyoqXG4gKiBBIG1pZGRsZXdhcmUgZm9yIHRyYW5zZm9ybWluZyBYSFIgbG9hZGVkIEJsb2JzIGludG8gbW9yZSB1c2VmdWwgb2JqZWN0c1xuICpcbiAqIEBtZW1iZXJvZiBtaWRkbGV3YXJlXG4gKiBAZnVuY3Rpb24gcGFyc2luZ1xuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IExvYWRlciwgbWlkZGxld2FyZSB9IGZyb20gJ3Jlc291cmNlLWxvYWRlcic7XG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgTG9hZGVyKCk7XG4gKiBsb2FkZXIudXNlKG1pZGRsZXdhcmUucGFyc2luZyk7XG4gKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIEN1cnJlbnQgUmVzb3VyY2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHQgLSBDYWxsYmFjayB3aGVuIGNvbXBsZXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2luZyhyZXNvdXJjZSwgbmV4dCkge1xuICBpZiAoIXJlc291cmNlLmRhdGEpIHtcbiAgICBuZXh0KCk7XG4gICAgcmV0dXJuO1xuICB9IC8vIGlmIHRoaXMgd2FzIGFuIFhIUiBsb2FkIG9mIGEgYmxvYlxuXG5cbiAgaWYgKHJlc291cmNlLnhociAmJiByZXNvdXJjZS54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CKSB7XG4gICAgLy8gaWYgdGhlcmUgaXMgbm8gYmxvYiBzdXBwb3J0IHdlIHByb2JhYmx5IGdvdCBhIGJpbmFyeSBzdHJpbmcgYmFja1xuICAgIGlmICghd2luZG93LkJsb2IgfHwgdHlwZW9mIHJlc291cmNlLmRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgdHlwZSA9IHJlc291cmNlLnhoci5nZXRSZXNwb25zZUhlYWRlcignY29udGVudC10eXBlJyk7IC8vIHRoaXMgaXMgYW4gaW1hZ2UsIGNvbnZlcnQgdGhlIGJpbmFyeSBzdHJpbmcgaW50byBhIGRhdGEgdXJsXG5cbiAgICAgIGlmICh0eXBlICYmIHR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICByZXNvdXJjZS5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgICAgIHJlc291cmNlLmRhdGEuc3JjID0gXCJkYXRhOlwiICsgdHlwZSArIFwiO2Jhc2U2NCxcIiArIGVuY29kZUJpbmFyeShyZXNvdXJjZS54aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgcmVzb3VyY2UudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7IC8vIHdhaXQgdW50aWwgdGhlIGltYWdlIGxvYWRzIGFuZCB0aGVuIGNhbGxiYWNrXG5cbiAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfTsgLy8gbmV4dCB3aWxsIGJlIGNhbGxlZCBvbiBsb2FkXG5cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSAvLyBpZiBjb250ZW50IHR5cGUgc2F5cyB0aGlzIGlzIGFuIGltYWdlLCB0aGVuIHdlIHNob3VsZCB0cmFuc2Zvcm0gdGhlIGJsb2IgaW50byBhbiBJbWFnZSBvYmplY3RcbiAgICBlbHNlIGlmIChyZXNvdXJjZS5kYXRhLnR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICB2YXIgc3JjID0gVXJsLmNyZWF0ZU9iamVjdFVSTChyZXNvdXJjZS5kYXRhKTtcbiAgICAgICAgcmVzb3VyY2UuYmxvYiA9IHJlc291cmNlLmRhdGE7XG4gICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSBzcmM7XG4gICAgICAgIHJlc291cmNlLnR5cGUgPSBSZXNvdXJjZS5UWVBFLklNQUdFOyAvLyBjbGVhbnVwIHRoZSBubyBsb25nZXIgdXNlZCBibG9iIGFmdGVyIHRoZSBpbWFnZSBsb2Fkc1xuICAgICAgICAvLyBUT0RPOiBJcyB0aGlzIGNvcnJlY3Q/IFdpbGwgdGhlIGltYWdlIGJlIGludmFsaWQgYWZ0ZXIgcmV2b2tpbmc/XG5cbiAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgVXJsLnJldm9rZU9iamVjdFVSTChzcmMpO1xuICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gbnVsbDtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH07IC8vIG5leHQgd2lsbCBiZSBjYWxsZWQgb24gbG9hZC5cblxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgfVxuXG4gIG5leHQoKTtcbn1cblxuLyoqXG4gKiBAbmFtZXNwYWNlIG1pZGRsZXdhcmVcbiAqL1xuXG52YXIgaW5kZXggPSAoe1xuICAgIGNhY2hpbmc6IGNhY2hpbmcsXG4gICAgcGFyc2luZzogcGFyc2luZ1xufSk7XG5cbnZhciBNQVhfUFJPR1JFU1MgPSAxMDA7XG52YXIgcmd4RXh0cmFjdFVybEhhc2ggPSAvKCNbXFx3LV0rKT8kLztcbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgbXVsdGlwbGUgcmVzb3VyY2VzIHRvIGxvYWQuXG4gKlxuICogQGNsYXNzXG4gKi9cblxudmFyIExvYWRlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW5jeT0xMF0gLSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAgICovXG4gIGZ1bmN0aW9uIExvYWRlcihiYXNlVXJsLCBjb25jdXJyZW5jeSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoYmFzZVVybCA9PT0gdm9pZCAwKSB7XG4gICAgICBiYXNlVXJsID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKGNvbmN1cnJlbmN5ID09PSB2b2lkIDApIHtcbiAgICAgIGNvbmN1cnJlbmN5ID0gMTA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuICAgIC8qKlxuICAgICAqIFRoZSBwcm9ncmVzcyBwZXJjZW50IG9mIHRoZSBsb2FkZXIgZ29pbmcgdGhyb3VnaCB0aGUgcXVldWUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgLyoqXG4gICAgICogTG9hZGluZyBzdGF0ZSBvZiB0aGUgbG9hZGVyLCB0cnVlIGlmIGl0IGlzIGN1cnJlbnRseSBsb2FkaW5nIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEEgcXVlcnlzdHJpbmcgdG8gYXBwZW5kIHRvIGV2ZXJ5IFVSTCBhZGRlZCB0byB0aGUgbG9hZGVyLlxuICAgICAqXG4gICAgICogVGhpcyBzaG91bGQgYmUgYSB2YWxpZCBxdWVyeSBzdHJpbmcgKndpdGhvdXQqIHRoZSBxdWVzdGlvbi1tYXJrIChgP2ApLiBUaGUgbG9hZGVyIHdpbGxcbiAgICAgKiBhbHNvICpub3QqIGVzY2FwZSB2YWx1ZXMgZm9yIHlvdS4gTWFrZSBzdXJlIHRvIGVzY2FwZSB5b3VyIHBhcmFtZXRlcnMgd2l0aFxuICAgICAqIFtgZW5jb2RlVVJJQ29tcG9uZW50YF0oaHR0cHM6Ly9tZG4uaW8vZW5jb2RlVVJJQ29tcG9uZW50KSBiZWZvcmUgYXNzaWduaW5nIHRoaXMgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAgICAgKlxuICAgICAqIGxvYWRlci5kZWZhdWx0UXVlcnlTdHJpbmcgPSAndXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnO1xuICAgICAqXG4gICAgICogLy8gVGhpcyB3aWxsIHJlcXVlc3QgJ2ltYWdlLnBuZz91c2VyPW1lJnBhc3N3b3JkPXNlY3JldCdcbiAgICAgKiBsb2FkZXIuYWRkKCdpbWFnZS5wbmcnKS5sb2FkKCk7XG4gICAgICpcbiAgICAgKiBsb2FkZXIucmVzZXQoKTtcbiAgICAgKlxuICAgICAqIC8vIFRoaXMgd2lsbCByZXF1ZXN0ICdpbWFnZS5wbmc/dj0xJnVzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0J1xuICAgICAqIGxvYWRlci5hZGQoJ2lhbWdlLnBuZz92PTEnKS5sb2FkKCk7XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQGRlZmF1bHQgJydcbiAgICAgKi9cblxuICAgIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nID0gJyc7XG4gICAgLyoqXG4gICAgICogVGhlIG1pZGRsZXdhcmUgdG8gcnVuIGJlZm9yZSBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICovXG5cbiAgICB0aGlzLl9iZWZvcmVNaWRkbGV3YXJlID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIG1pZGRsZXdhcmUgdG8gcnVuIGFmdGVyIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgKi9cblxuICAgIHRoaXMuX2FmdGVyTWlkZGxld2FyZSA9IFtdO1xuICAgIC8qKlxuICAgICAqIFRoZSB0cmFja3MgdGhlIHJlc291cmNlcyB3ZSBhcmUgY3VycmVudGx5IGNvbXBsZXRpbmcgcGFyc2luZyBmb3IuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICovXG5cbiAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIGBfbG9hZFJlc291cmNlYCBmdW5jdGlvbiBib3VuZCB3aXRoIHRoaXMgb2JqZWN0IGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHIgLSBUaGUgcmVzb3VyY2UgdG8gbG9hZFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGQgLSBUaGUgZGVxdWV1ZSBmdW5jdGlvblxuICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kTG9hZFJlc291cmNlID0gZnVuY3Rpb24gKHIsIGQpIHtcbiAgICAgIHJldHVybiBfdGhpcy5fbG9hZFJlc291cmNlKHIsIGQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIHJlc291cmNlcyB3YWl0aW5nIHRvIGJlIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgKi9cblxuXG4gICAgdGhpcy5fcXVldWUgPSBxdWV1ZSh0aGlzLl9ib3VuZExvYWRSZXNvdXJjZSwgY29uY3VycmVuY3kpO1xuXG4gICAgdGhpcy5fcXVldWUucGF1c2UoKTtcbiAgICAvKipcbiAgICAgKiBBbGwgdGhlIHJlc291cmNlcyBmb3IgdGhpcyBsb2FkZXIga2V5ZWQgYnkgbmFtZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge29iamVjdDxzdHJpbmcsIFJlc291cmNlPn1cbiAgICAgKi9cblxuXG4gICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCBvciBlcnJvcmVkIHJlc291cmNlLlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PblByb2dyZXNzU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25Qcm9ncmVzc1NpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBlcnJvcmVkIHJlc291cmNlLlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PbkVycm9yU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25FcnJvclNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uRXJyb3IgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uTG9hZFNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uTG9hZFNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uTG9hZCA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIGxvYWRlciBiZWdpbnMgdG8gcHJvY2VzcyB0aGUgcXVldWUuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uU3RhcnRTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PblN0YXJ0U2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25TdGFydCA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIHF1ZXVlZCByZXNvdXJjZXMgYWxsIGxvYWQuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PbkNvbXBsZXRlU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Db21wbGV0ZSA9IG5ldyBTaWduYWwoKTsgLy8gQWRkIGRlZmF1bHQgYmVmb3JlIG1pZGRsZXdhcmVcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZS5sZW5ndGg7ICsraSkge1xuICAgICAgdGhpcy5wcmUoTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZVtpXSk7XG4gICAgfSAvLyBBZGQgZGVmYXVsdCBhZnRlciBtaWRkbGV3YXJlXG5cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUubGVuZ3RoOyArK19pKSB7XG4gICAgICB0aGlzLnVzZShMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmVbX2ldKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gdGhlIHByb2dyZXNzIGNoYW5nZXMgdGhlIGxvYWRlciBhbmQgcmVzb3VyY2UgYXJlIGRpc2FwdGNoZWQuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhlIHByb2dyZXNzIGlzIGFkdmFuY2luZyBvbi5cbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBoYXMgY29tcGxldGVkIG9yIGZhaWxlZCB0byBjYXVzZSB0aGUgcHJvZ3Jlc3MgdG8gYWR2YW5jZS5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gYW4gZXJyb3Igb2NjdXJycyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25FcnJvclNpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgZXJyb3IgaGFwcGVuZWQgaW4uXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgY2F1c2VkIHRoZSBlcnJvci5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gYSBsb2FkIGNvbXBsZXRlcyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25Mb2FkU2lnbmFsXG4gICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgbGFvZGVkIHRoZSByZXNvdXJjZS5cbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBoYXMgY29tcGxldGVkIGxvYWRpbmcuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSBsb2FkZXIgc3RhcnRzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25TdGFydFNpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGhhcyBzdGFydGVkIGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiB0aGUgbG9hZGVyIGNvbXBsZXRlcyBsb2FkaW5nIHJlc291cmNlcyBpdCBkaXNwYXRjaGVzIHRoaXMgY2FsbGJhY2suXG4gICAqXG4gICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBoYXMgZmluaXNoZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBPcHRpb25zIGZvciBhIGNhbGwgdG8gYC5hZGQoKWAuXG4gICAqXG4gICAqIEBzZWUgTG9hZGVyI2FkZFxuICAgKlxuICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBJQWRkT3B0aW9uc1xuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW25hbWVdIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQsIGlmIG5vdCBwYXNzZWQgdGhlIHVybCBpcyB1c2VkLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2tleV0gLSBBbGlhcyBmb3IgYG5hbWVgLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICogQHByb3BlcnR5IHtzdHJpbmd8Ym9vbGVhbn0gW2Nyb3NzT3JpZ2luXSAtIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IERlZmF1bHQgaXMgdG9cbiAgICogICAgICBkZXRlcm1pbmUgYXV0b21hdGljYWxseS5cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lb3V0PTBdIC0gQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzXG4gICAqICAgICAgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXNcbiAgICogICAgICBzZXQgdG8gYDBgIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtsb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgKiAgICAgIGJlIGxvYWRlZD9cbiAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gW3hoclR5cGU9UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3dcbiAgICogICAgICBzaG91bGQgdGhlIGRhdGEgYmVpbmcgbG9hZGVkIGJlIGludGVycHJldGVkIHdoZW4gdXNpbmcgWEhSP1xuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtvbkNvbXBsZXRlXSAtIENhbGxiYWNrIHRvIGFkZCBhbiBhbiBvbkNvbXBsZXRlIHNpZ25hbCBpc3RlbmVyLlxuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBBbGlhcyBmb3IgYG9uQ29tcGxldGVgLlxuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLklNZXRhZGF0YX0gW21ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAqL1xuXG4gIC8qIGVzbGludC1kaXNhYmxlIHJlcXVpcmUtanNkb2MsdmFsaWQtanNkb2MgKi9cblxuICAvKipcbiAgICogQWRkcyBhIHJlc291cmNlIChvciBtdWx0aXBsZSByZXNvdXJjZXMpIHRvIHRoZSBsb2FkZXIgcXVldWUuXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gY2FuIHRha2UgYSB3aWRlIHZhcmlldHkgb2YgZGlmZmVyZW50IHBhcmFtZXRlcnMuIFRoZSBvbmx5IHRoaW5nIHRoYXQgaXMgYWx3YXlzXG4gICAqIHJlcXVpcmVkIHRoZSB1cmwgdG8gbG9hZC4gQWxsIHRoZSBmb2xsb3dpbmcgd2lsbCB3b3JrOlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBsb2FkZXJcbiAgICogICAgIC8vIG5vcm1hbCBwYXJhbSBzeW50YXhcbiAgICogICAgIC5hZGQoJ2tleScsICdodHRwOi8vLi4uJywgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKCdodHRwOi8vLi4uJywgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKCdodHRwOi8vLi4uJylcbiAgICpcbiAgICogICAgIC8vIG9iamVjdCBzeW50YXhcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIG5hbWU6ICdrZXkyJyxcbiAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgKiAgICAgfSwgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKHtcbiAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgKiAgICAgfSwgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKHtcbiAgICogICAgICAgICBuYW1lOiAna2V5MycsXG4gICAqICAgICAgICAgdXJsOiAnaHR0cDovLy4uLidcbiAgICogICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fVxuICAgKiAgICAgfSlcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIHVybDogJ2h0dHBzOi8vLi4uJyxcbiAgICogICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSxcbiAgICogICAgICAgICBjcm9zc09yaWdpbjogdHJ1ZVxuICAgKiAgICAgfSlcbiAgICpcbiAgICogICAgIC8vIHlvdSBjYW4gYWxzbyBwYXNzIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgdXJscyBvciBib3RoXG4gICAqICAgICAuYWRkKFtcbiAgICogICAgICAgICB7IG5hbWU6ICdrZXk0JywgdXJsOiAnaHR0cDovLy4uLicsIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9IH0sXG4gICAqICAgICAgICAgeyB1cmw6ICdodHRwOi8vLi4uJywgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30gfSxcbiAgICogICAgICAgICAnaHR0cDovLy4uLidcbiAgICogICAgIF0pXG4gICAqXG4gICAqICAgICAvLyBhbmQgeW91IGNhbiB1c2UgYm90aCBwYXJhbXMgYW5kIG9wdGlvbnNcbiAgICogICAgIC5hZGQoJ2tleScsICdodHRwOi8vLi4uJywgeyBjcm9zc09yaWdpbjogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nLCB7IGNyb3NzT3JpZ2luOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHt9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAdmFyaWF0aW9uIDFcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gMlxuICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAqIEBwYXJhbSB7SUFkZE9wdGlvbnN9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDNcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICovXG5cbiAgLyoqXG4gICogQGZ1bmN0aW9uXG4gICogQHZhcmlhdGlvbiA0XG4gICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAqIEBwYXJhbSB7SUFkZE9wdGlvbnN9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDVcbiAgKiBAcGFyYW0ge0lBZGRPcHRpb25zfSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLiBUaGlzIG9iamVjdCBtdXN0IGNvbnRhaW4gYSBgdXJsYCBwcm9wZXJ0eS5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDZcbiAgKiBAcGFyYW0ge0FycmF5PElBZGRPcHRpb25zfHN0cmluZz59IHJlc291cmNlcyAtIEFuIGFycmF5IG9mIHJlc291cmNlcyB0byBsb2FkLCB3aGVyZSBlYWNoIGlzXG4gICogICAgICBlaXRoZXIgYW4gb2JqZWN0IHdpdGggdGhlIG9wdGlvbnMgb3IgYSBzdHJpbmcgdXJsLiBJZiB5b3UgcGFzcyBhbiBvYmplY3QsIGl0IG11c3QgY29udGFpbiBhIGB1cmxgIHByb3BlcnR5LlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IExvYWRlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmFkZCA9IGZ1bmN0aW9uIGFkZChuYW1lLCB1cmwsIG9wdGlvbnMsIGNiKSB7XG4gICAgLy8gc3BlY2lhbCBjYXNlIG9mIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgdXJsc1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWUpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdGhpcy5hZGQobmFtZVtpXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gLy8gaWYgYW4gb2JqZWN0IGlzIHBhc3NlZCBpbnN0ZWFkIG9mIHBhcmFtc1xuXG5cbiAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBjYiA9IHVybCB8fCBuYW1lLmNhbGxiYWNrIHx8IG5hbWUub25Db21wbGV0ZTtcbiAgICAgIG9wdGlvbnMgPSBuYW1lO1xuICAgICAgdXJsID0gbmFtZS51cmw7XG4gICAgICBuYW1lID0gbmFtZS5uYW1lIHx8IG5hbWUua2V5IHx8IG5hbWUudXJsO1xuICAgIH0gLy8gY2FzZSB3aGVyZSBubyBuYW1lIGlzIHBhc3NlZCBzaGlmdCBhbGwgYXJncyBvdmVyIGJ5IG9uZS5cblxuXG4gICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICBjYiA9IG9wdGlvbnM7XG4gICAgICBvcHRpb25zID0gdXJsO1xuICAgICAgdXJsID0gbmFtZTtcbiAgICB9IC8vIG5vdyB0aGF0IHdlIHNoaWZ0ZWQgbWFrZSBzdXJlIHdlIGhhdmUgYSBwcm9wZXIgdXJsLlxuXG5cbiAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXJsIHBhc3NlZCB0byBhZGQgcmVzb3VyY2UgdG8gbG9hZGVyLicpO1xuICAgIH0gLy8gb3B0aW9ucyBhcmUgb3B0aW9uYWwgc28gcGVvcGxlIG1pZ2h0IHBhc3MgYSBmdW5jdGlvbiBhbmQgbm8gb3B0aW9uc1xuXG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgIH0gLy8gaWYgbG9hZGluZyBhbHJlYWR5IHlvdSBjYW4gb25seSBhZGQgcmVzb3VyY2VzIHRoYXQgaGF2ZSBhIHBhcmVudC5cblxuXG4gICAgaWYgKHRoaXMubG9hZGluZyAmJiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMucGFyZW50UmVzb3VyY2UpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhZGQgcmVzb3VyY2VzIHdoaWxlIHRoZSBsb2FkZXIgaXMgcnVubmluZy4nKTtcbiAgICB9IC8vIGNoZWNrIGlmIHJlc291cmNlIGFscmVhZHkgZXhpc3RzLlxuXG5cbiAgICBpZiAodGhpcy5yZXNvdXJjZXNbbmFtZV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlc291cmNlIG5hbWVkIFxcXCJcIiArIG5hbWUgKyBcIlxcXCIgYWxyZWFkeSBleGlzdHMuXCIpO1xuICAgIH0gLy8gYWRkIGJhc2UgdXJsIGlmIHRoaXMgaXNuJ3QgYW4gYWJzb2x1dGUgdXJsXG5cblxuICAgIHVybCA9IHRoaXMuX3ByZXBhcmVVcmwodXJsKTsgLy8gY3JlYXRlIHRoZSBzdG9yZSB0aGUgcmVzb3VyY2VcblxuICAgIHRoaXMucmVzb3VyY2VzW25hbWVdID0gbmV3IFJlc291cmNlKG5hbWUsIHVybCwgb3B0aW9ucyk7XG5cbiAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5vbkFmdGVyTWlkZGxld2FyZS5vbmNlKGNiKTtcbiAgICB9IC8vIGlmIGFjdGl2ZWx5IGxvYWRpbmcsIG1ha2Ugc3VyZSB0byBhZGp1c3QgcHJvZ3Jlc3MgY2h1bmtzIGZvciB0aGF0IHBhcmVudCBhbmQgaXRzIGNoaWxkcmVuXG5cblxuICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBvcHRpb25zLnBhcmVudFJlc291cmNlO1xuICAgICAgdmFyIGluY29tcGxldGVDaGlsZHJlbiA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoOyArK19pMikge1xuICAgICAgICBpZiAoIXBhcmVudC5jaGlsZHJlbltfaTJdLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW4ucHVzaChwYXJlbnQuY2hpbGRyZW5bX2kyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGZ1bGxDaHVuayA9IHBhcmVudC5wcm9ncmVzc0NodW5rICogKGluY29tcGxldGVDaGlsZHJlbi5sZW5ndGggKyAxKTsgLy8gKzEgZm9yIHBhcmVudFxuXG4gICAgICB2YXIgZWFjaENodW5rID0gZnVsbENodW5rIC8gKGluY29tcGxldGVDaGlsZHJlbi5sZW5ndGggKyAyKTsgLy8gKzIgZm9yIHBhcmVudCAmIG5ldyBjaGlsZFxuXG4gICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG4gICAgICBwYXJlbnQucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcblxuICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aDsgKytfaTMpIHtcbiAgICAgICAgaW5jb21wbGV0ZUNoaWxkcmVuW19pM10ucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcbiAgICAgIH1cblxuICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0ucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcbiAgICB9IC8vIGFkZCB0aGUgcmVzb3VyY2UgdG8gdGhlIHF1ZXVlXG5cblxuICAgIHRoaXMuX3F1ZXVlLnB1c2godGhpcy5yZXNvdXJjZXNbbmFtZV0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSByZXF1aXJlLWpzZG9jLHZhbGlkLWpzZG9jICovXG5cbiAgLyoqXG4gICAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmJlZm9yZSogdGhlXG4gICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnByZSA9IGZ1bmN0aW9uIHByZShmbikge1xuICAgIHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYWZ0ZXIqIHRoZVxuICAgKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51c2UgPSBmdW5jdGlvbiB1c2UoZm4pIHtcbiAgICB0aGlzLl9hZnRlck1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogUmVzZXRzIHRoZSBxdWV1ZSBvZiB0aGUgbG9hZGVyIHRvIHByZXBhcmUgZm9yIGEgbmV3IGxvYWQuXG4gICAqXG4gICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5fcXVldWUua2lsbCgpO1xuXG4gICAgdGhpcy5fcXVldWUucGF1c2UoKTsgLy8gYWJvcnQgYWxsIHJlc291cmNlIGxvYWRzXG5cblxuICAgIGZvciAodmFyIGsgaW4gdGhpcy5yZXNvdXJjZXMpIHtcbiAgICAgIHZhciByZXMgPSB0aGlzLnJlc291cmNlc1trXTtcblxuICAgICAgaWYgKHJlcy5fb25Mb2FkQmluZGluZykge1xuICAgICAgICByZXMuX29uTG9hZEJpbmRpbmcuZGV0YWNoKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXMuaXNMb2FkaW5nKSB7XG4gICAgICAgIHJlcy5hYm9ydCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucmVzb3VyY2VzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFN0YXJ0cyBsb2FkaW5nIHRoZSBxdWV1ZWQgcmVzb3VyY2VzLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2JdIC0gT3B0aW9uYWwgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGJvdW5kIHRvIHRoZSBgY29tcGxldGVgIGV2ZW50LlxuICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ubG9hZCA9IGZ1bmN0aW9uIGxvYWQoY2IpIHtcbiAgICAvLyByZWdpc3RlciBjb21wbGV0ZSBjYWxsYmFjayBpZiB0aGV5IHBhc3Mgb25lXG4gICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vbkNvbXBsZXRlLm9uY2UoY2IpO1xuICAgIH0gLy8gaWYgdGhlIHF1ZXVlIGhhcyBhbHJlYWR5IHN0YXJ0ZWQgd2UgYXJlIGRvbmUgaGVyZVxuXG5cbiAgICBpZiAodGhpcy5sb2FkaW5nKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcXVldWUuaWRsZSgpKSB7XG4gICAgICB0aGlzLl9vblN0YXJ0KCk7XG5cbiAgICAgIHRoaXMuX29uQ29tcGxldGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZGlzdHJpYnV0ZSBwcm9ncmVzcyBjaHVua3NcbiAgICAgIHZhciBudW1UYXNrcyA9IHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7XG4gICAgICB2YXIgY2h1bmsgPSBNQVhfUFJPR1JFU1MgLyBudW1UYXNrcztcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9xdWV1ZS5fdGFza3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdGhpcy5fcXVldWUuX3Rhc2tzW2ldLmRhdGEucHJvZ3Jlc3NDaHVuayA9IGNodW5rO1xuICAgICAgfSAvLyBub3RpZnkgd2UgYXJlIHN0YXJ0aW5nXG5cblxuICAgICAgdGhpcy5fb25TdGFydCgpOyAvLyBzdGFydCBsb2FkaW5nXG5cblxuICAgICAgdGhpcy5fcXVldWUucmVzdW1lKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgKlxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDEwXG4gICAqL1xuICA7XG5cbiAgLyoqXG4gICAqIFByZXBhcmVzIGEgdXJsIGZvciB1c2FnZSBiYXNlZCBvbiB0aGUgY29uZmlndXJhdGlvbiBvZiB0aGlzIG9iamVjdFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byBwcmVwYXJlLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBwcmVwYXJlZCB1cmwuXG4gICAqL1xuICBfcHJvdG8uX3ByZXBhcmVVcmwgPSBmdW5jdGlvbiBfcHJlcGFyZVVybCh1cmwpIHtcbiAgICB2YXIgcGFyc2VkVXJsID0gcGFyc2VVcmkodXJsLCB7XG4gICAgICBzdHJpY3RNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgdmFyIHJlc3VsdDsgLy8gYWJzb2x1dGUgdXJsLCBqdXN0IHVzZSBpdCBhcyBpcy5cblxuICAgIGlmIChwYXJzZWRVcmwucHJvdG9jb2wgfHwgIXBhcnNlZFVybC5wYXRoIHx8IHVybC5pbmRleE9mKCcvLycpID09PSAwKSB7XG4gICAgICByZXN1bHQgPSB1cmw7XG4gICAgfSAvLyBpZiBiYXNlVXJsIGRvZXNuJ3QgZW5kIGluIHNsYXNoIGFuZCB1cmwgZG9lc24ndCBzdGFydCB3aXRoIHNsYXNoLCB0aGVuIGFkZCBhIHNsYXNoIGluYmV0d2VlblxuICAgIGVsc2UgaWYgKHRoaXMuYmFzZVVybC5sZW5ndGggJiYgdGhpcy5iYXNlVXJsLmxhc3RJbmRleE9mKCcvJykgIT09IHRoaXMuYmFzZVVybC5sZW5ndGggLSAxICYmIHVybC5jaGFyQXQoMCkgIT09ICcvJykge1xuICAgICAgICByZXN1bHQgPSB0aGlzLmJhc2VVcmwgKyBcIi9cIiArIHVybDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuYmFzZVVybCArIHVybDtcbiAgICAgIH0gLy8gaWYgd2UgbmVlZCB0byBhZGQgYSBkZWZhdWx0IHF1ZXJ5c3RyaW5nLCB0aGVyZSBpcyBhIGJpdCBtb3JlIHdvcmtcblxuXG4gICAgaWYgKHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nKSB7XG4gICAgICB2YXIgaGFzaCA9IHJneEV4dHJhY3RVcmxIYXNoLmV4ZWMocmVzdWx0KVswXTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5zdWJzdHIoMCwgcmVzdWx0Lmxlbmd0aCAtIGhhc2gubGVuZ3RoKTtcblxuICAgICAgaWYgKHJlc3VsdC5pbmRleE9mKCc/JykgIT09IC0xKSB7XG4gICAgICAgIHJlc3VsdCArPSBcIiZcIiArIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ICs9IFwiP1wiICsgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmc7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdCArPSBoYXNoO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXG4gICAqIExvYWRzIGEgc2luZ2xlIHJlc291cmNlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBkZXF1ZXVlIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB3ZSBuZWVkIHRvIGRlcXVldWUgdGhpcyBpdGVtLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFJlc291cmNlID0gZnVuY3Rpb24gX2xvYWRSZXNvdXJjZShyZXNvdXJjZSwgZGVxdWV1ZSkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgcmVzb3VyY2UuX2RlcXVldWUgPSBkZXF1ZXVlOyAvLyBydW4gYmVmb3JlIG1pZGRsZXdhcmVcblxuICAgIGVhY2hTZXJpZXModGhpcy5fYmVmb3JlTWlkZGxld2FyZSwgZnVuY3Rpb24gKGZuLCBuZXh0KSB7XG4gICAgICBmbi5jYWxsKF90aGlzMiwgcmVzb3VyY2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gaWYgdGhlIGJlZm9yZSBtaWRkbGV3YXJlIG1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZSxcbiAgICAgICAgLy8gYnJlYWsgYW5kIGRvbid0IHByb2Nlc3MgYW55IG1vcmUgYmVmb3JlIG1pZGRsZXdhcmVcbiAgICAgICAgbmV4dChyZXNvdXJjZS5pc0NvbXBsZXRlID8ge30gOiBudWxsKTtcbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChyZXNvdXJjZS5pc0NvbXBsZXRlKSB7XG4gICAgICAgIF90aGlzMi5fb25Mb2FkKHJlc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc291cmNlLl9vbkxvYWRCaW5kaW5nID0gcmVzb3VyY2Uub25Db21wbGV0ZS5vbmNlKF90aGlzMi5fb25Mb2FkLCBfdGhpczIpO1xuICAgICAgICByZXNvdXJjZS5sb2FkKCk7XG4gICAgICB9XG4gICAgfSwgdHJ1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBvbmNlIGxvYWRpbmcgaGFzIHN0YXJ0ZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vblN0YXJ0ID0gZnVuY3Rpb24gX29uU3RhcnQoKSB7XG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBvbmNlIGVhY2ggcmVzb3VyY2UgaGFzIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uQ29tcGxldGUgPSBmdW5jdGlvbiBfb25Db21wbGV0ZSgpIHtcbiAgICB0aGlzLnByb2dyZXNzID0gTUFYX1BST0dSRVNTO1xuICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzLCB0aGlzLnJlc291cmNlcyk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBlYWNoIHRpbWUgYSByZXNvdXJjZXMgaXMgbG9hZGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHdhcyBsb2FkZWRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uTG9hZCA9IGZ1bmN0aW9uIF9vbkxvYWQocmVzb3VyY2UpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHJlc291cmNlLl9vbkxvYWRCaW5kaW5nID0gbnVsbDsgLy8gcmVtb3ZlIHRoaXMgcmVzb3VyY2UgZnJvbSB0aGUgYXN5bmMgcXVldWUsIGFuZCBhZGQgaXQgdG8gb3VyIGxpc3Qgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIGJlaW5nIHBhcnNlZFxuXG4gICAgdGhpcy5fcmVzb3VyY2VzUGFyc2luZy5wdXNoKHJlc291cmNlKTtcblxuICAgIHJlc291cmNlLl9kZXF1ZXVlKCk7IC8vIHJ1biBhbGwgdGhlIGFmdGVyIG1pZGRsZXdhcmUgZm9yIHRoaXMgcmVzb3VyY2VcblxuXG4gICAgZWFjaFNlcmllcyh0aGlzLl9hZnRlck1pZGRsZXdhcmUsIGZ1bmN0aW9uIChmbiwgbmV4dCkge1xuICAgICAgZm4uY2FsbChfdGhpczMsIHJlc291cmNlLCBuZXh0KTtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXNvdXJjZS5vbkFmdGVyTWlkZGxld2FyZS5kaXNwYXRjaChyZXNvdXJjZSk7XG4gICAgICBfdGhpczMucHJvZ3Jlc3MgPSBNYXRoLm1pbihNQVhfUFJPR1JFU1MsIF90aGlzMy5wcm9ncmVzcyArIHJlc291cmNlLnByb2dyZXNzQ2h1bmspO1xuXG4gICAgICBfdGhpczMub25Qcm9ncmVzcy5kaXNwYXRjaChfdGhpczMsIHJlc291cmNlKTtcblxuICAgICAgaWYgKHJlc291cmNlLmVycm9yKSB7XG4gICAgICAgIF90aGlzMy5vbkVycm9yLmRpc3BhdGNoKHJlc291cmNlLmVycm9yLCBfdGhpczMsIHJlc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzMy5vbkxvYWQuZGlzcGF0Y2goX3RoaXMzLCByZXNvdXJjZSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5zcGxpY2UoX3RoaXMzLl9yZXNvdXJjZXNQYXJzaW5nLmluZGV4T2YocmVzb3VyY2UpLCAxKTsgLy8gZG8gY29tcGxldGlvbiBjaGVja1xuXG5cbiAgICAgIGlmIChfdGhpczMuX3F1ZXVlLmlkbGUoKSAmJiBfdGhpczMuX3Jlc291cmNlc1BhcnNpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIF90aGlzMy5fb25Db21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH0sIHRydWUpO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhMb2FkZXIsIFt7XG4gICAga2V5OiBcImNvbmN1cnJlbmN5XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcXVldWUuY29uY3VycmVuY3k7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChjb25jdXJyZW5jeSkge1xuICAgICAgdGhpcy5fcXVldWUuY29uY3VycmVuY3kgPSBjb25jdXJyZW5jeTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTG9hZGVyO1xufSgpO1xuLyoqXG4gKiBBIGRlZmF1bHQgYXJyYXkgb2YgbWlkZGxld2FyZSB0byBydW4gYmVmb3JlIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAqIEVhY2ggb2YgdGhlc2UgbWlkZGxld2FyZXMgYXJlIGFkZGVkIHRvIGFueSBuZXcgTG9hZGVyIGluc3RhbmNlcyB3aGVuIHRoZXkgYXJlIGNyZWF0ZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gKi9cblxuXG5Mb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlID0gW107XG4vKipcbiAqIEEgZGVmYXVsdCBhcnJheSBvZiBtaWRkbGV3YXJlIHRvIHJ1biBhZnRlciBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gKiBFYWNoIG9mIHRoZXNlIG1pZGRsZXdhcmVzIGFyZSBhZGRlZCB0byBhbnkgbmV3IExvYWRlciBpbnN0YW5jZXMgd2hlbiB0aGV5IGFyZSBjcmVhdGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICovXG5cbkxvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZSA9IFtdO1xuLyoqXG4gKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICpiZWZvcmUqIHRoZVxuICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICovXG5cbkxvYWRlci5wcmUgPSBmdW5jdGlvbiBMb2FkZXJQcmVTdGF0aWMoZm4pIHtcbiAgTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICByZXR1cm4gTG9hZGVyO1xufTtcbi8qKlxuICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYWZ0ZXIqIHRoZVxuICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICovXG5cblxuTG9hZGVyLnVzZSA9IGZ1bmN0aW9uIExvYWRlclVzZVN0YXRpYyhmbikge1xuICBMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgcmV0dXJuIExvYWRlcjtcbn07XG5cbmV4cG9ydCB7IExvYWRlciwgUmVzb3VyY2UsIGFzeW5jLCBlbmNvZGVCaW5hcnksIGluZGV4IGFzIG1pZGRsZXdhcmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc291cmNlLWxvYWRlci5lc20uanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2xvYWRlcnMgLSB2NS4zLjdcbiAqIENvbXBpbGVkIFR1ZSwgMjkgRGVjIDIwMjAgMTk6MzA6MTEgVVRDXG4gKlxuICogQHBpeGkvbG9hZGVycyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJlc291cmNlLCBMb2FkZXIgYXMgTG9hZGVyJDEsIG1pZGRsZXdhcmUgfSBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKipcbiogUmVmZXJlbmNlIHRvICoqe0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiogcmVzb3VyY2UtbG9hZGVyfSoqJ3MgUmVzb3VyY2UgY2xhc3MuXG4qIEBzZWUgaHR0cDovL2VuZ2xlcmNqLmdpdGh1Yi5pby9yZXNvdXJjZS1sb2FkZXIvUmVzb3VyY2UuaHRtbFxuKiBAY2xhc3MgTG9hZGVyUmVzb3VyY2VcbiogQG1lbWJlcm9mIFBJWElcbiovXG52YXIgTG9hZGVyUmVzb3VyY2UgPSBSZXNvdXJjZTtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogTG9hZGVyIHBsdWdpbiBmb3IgaGFuZGxpbmcgVGV4dHVyZSByZXNvdXJjZXMuXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqL1xudmFyIFRleHR1cmVMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGV4dHVyZUxvYWRlcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGFmdGVyIGEgcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqIEBzZWUgUElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZVxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0XG4gICAgICovXG4gICAgVGV4dHVyZUxvYWRlci51c2UgPSBmdW5jdGlvbiAocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgLy8gY3JlYXRlIGEgbmV3IHRleHR1cmUgaWYgdGhlIGRhdGEgaXMgYW4gSW1hZ2Ugb2JqZWN0XG4gICAgICAgIGlmIChyZXNvdXJjZS5kYXRhICYmIHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSU1BR0UpIHtcbiAgICAgICAgICAgIHJlc291cmNlLnRleHR1cmUgPSBUZXh0dXJlLmZyb21Mb2FkZXIocmVzb3VyY2UuZGF0YSwgcmVzb3VyY2UudXJsLCByZXNvdXJjZS5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgfTtcbiAgICByZXR1cm4gVGV4dHVyZUxvYWRlcjtcbn0oKSk7XG5cbi8qKlxuICogVGhlIG5ldyBsb2FkZXIsIGV4dGVuZHMgUmVzb3VyY2UgTG9hZGVyIGJ5IENoYWQgRW5nbGVyOiBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcmVzb3VyY2UtbG9hZGVyXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGxvYWRlciA9IFBJWEkuTG9hZGVyLnNoYXJlZDsgLy8gUGl4aUpTIGV4cG9zZXMgYSBwcmVtYWRlIGluc3RhbmNlIGZvciB5b3UgdG8gdXNlLlxuICogLy9vclxuICogY29uc3QgbG9hZGVyID0gbmV3IFBJWEkuTG9hZGVyKCk7IC8vIHlvdSBjYW4gYWxzbyBjcmVhdGUgeW91ciBvd24gaWYgeW91IHdhbnRcbiAqXG4gKiBjb25zdCBzcHJpdGVzID0ge307XG4gKlxuICogLy8gQ2hhaW5hYmxlIGBhZGRgIHRvIGVucXVldWUgYSByZXNvdXJjZVxuICogbG9hZGVyLmFkZCgnYnVubnknLCAnZGF0YS9idW5ueS5wbmcnKVxuICogICAgICAgLmFkZCgnc3BhY2VzaGlwJywgJ2Fzc2V0cy9zcHJpdGVzaGVldC5qc29uJyk7XG4gKiBsb2FkZXIuYWRkKCdzY29yZUZvbnQnLCAnYXNzZXRzL3Njb3JlLmZudCcpO1xuICpcbiAqIC8vIENoYWluYWJsZSBgcHJlYCB0byBhZGQgYSBtaWRkbGV3YXJlIHRoYXQgcnVucyBmb3IgZWFjaCByZXNvdXJjZSwgKmJlZm9yZSogbG9hZGluZyB0aGF0IHJlc291cmNlLlxuICogLy8gVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IGN1c3RvbSBjYWNoaW5nIG1vZHVsZXMgKHVzaW5nIGZpbGVzeXN0ZW0sIGluZGV4ZWRkYiwgbWVtb3J5LCBldGMpLlxuICogbG9hZGVyLnByZShjYWNoaW5nTWlkZGxld2FyZSk7XG4gKlxuICogLy8gQ2hhaW5hYmxlIGB1c2VgIHRvIGFkZCBhIG1pZGRsZXdhcmUgdGhhdCBydW5zIGZvciBlYWNoIHJlc291cmNlLCAqYWZ0ZXIqIGxvYWRpbmcgdGhhdCByZXNvdXJjZS5cbiAqIC8vIFRoaXMgaXMgdXNlZnVsIHRvIGltcGxlbWVudCBjdXN0b20gcGFyc2luZyBtb2R1bGVzIChsaWtlIHNwcml0ZXNoZWV0IHBhcnNlcnMsIHNwaW5lIHBhcnNlciwgZXRjKS5cbiAqIGxvYWRlci51c2UocGFyc2luZ01pZGRsZXdhcmUpO1xuICpcbiAqIC8vIFRoZSBgbG9hZGAgbWV0aG9kIGxvYWRzIHRoZSBxdWV1ZSBvZiByZXNvdXJjZXMsIGFuZCBjYWxscyB0aGUgcGFzc2VkIGluIGNhbGxiYWNrIGNhbGxlZCBvbmNlIGFsbFxuICogLy8gcmVzb3VyY2VzIGhhdmUgbG9hZGVkLlxuICogbG9hZGVyLmxvYWQoKGxvYWRlciwgcmVzb3VyY2VzKSA9PiB7XG4gKiAgICAgLy8gcmVzb3VyY2VzIGlzIGFuIG9iamVjdCB3aGVyZSB0aGUga2V5IGlzIHRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSBsb2FkZWQgYW5kIHRoZSB2YWx1ZSBpcyB0aGUgcmVzb3VyY2Ugb2JqZWN0LlxuICogICAgIC8vIFRoZXkgaGF2ZSBhIGNvdXBsZSBkZWZhdWx0IHByb3BlcnRpZXM6XG4gKiAgICAgLy8gLSBgdXJsYDogVGhlIFVSTCB0aGF0IHRoZSByZXNvdXJjZSB3YXMgbG9hZGVkIGZyb21cbiAqICAgICAvLyAtIGBlcnJvcmA6IFRoZSBlcnJvciB0aGF0IGhhcHBlbmVkIHdoZW4gdHJ5aW5nIHRvIGxvYWQgKGlmIGFueSlcbiAqICAgICAvLyAtIGBkYXRhYDogVGhlIHJhdyBkYXRhIHRoYXQgd2FzIGxvYWRlZFxuICogICAgIC8vIGFsc28gbWF5IGNvbnRhaW4gb3RoZXIgcHJvcGVydGllcyBiYXNlZCBvbiB0aGUgbWlkZGxld2FyZSB0aGF0IHJ1bnMuXG4gKiAgICAgc3ByaXRlcy5idW5ueSA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuYnVubnkudGV4dHVyZSk7XG4gKiAgICAgc3ByaXRlcy5zcGFjZXNoaXAgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLnNwYWNlc2hpcC50ZXh0dXJlKTtcbiAqICAgICBzcHJpdGVzLnNjb3JlRm9udCA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuc2NvcmVGb250LnRleHR1cmUpO1xuICogfSk7XG4gKlxuICogLy8gdGhyb3VnaG91dCB0aGUgcHJvY2VzcyBtdWx0aXBsZSBzaWduYWxzIGNhbiBiZSBkaXNwYXRjaGVkLlxuICogbG9hZGVyLm9uUHJvZ3Jlc3MuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGxvYWRlZC9lcnJvcmVkIGZpbGVcbiAqIGxvYWRlci5vbkVycm9yLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBlcnJvcmVkIGZpbGVcbiAqIGxvYWRlci5vbkxvYWQuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGxvYWRlZCBmaWxlXG4gKiBsb2FkZXIub25Db21wbGV0ZS5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSB3aGVuIHRoZSBxdWV1ZWQgcmVzb3VyY2VzIGFsbCBsb2FkLlxuICogYGBgXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcmVzb3VyY2UtbG9hZGVyXG4gKlxuICogQGNsYXNzIExvYWRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwYXJhbSB7c3RyaW5nfSBbYmFzZVVybD0nJ10gLSBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW5jeT0xMF0gLSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAqL1xudmFyIExvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTG9hZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExvYWRlcihiYXNlVXJsLCBjb25jdXJyZW5jeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBiYXNlVXJsLCBjb25jdXJyZW5jeSkgfHwgdGhpcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBMb2FkZXIuX3BsdWdpbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwbHVnaW4gPSBMb2FkZXIuX3BsdWdpbnNbaV07XG4gICAgICAgICAgICB2YXIgcHJlID0gcGx1Z2luLnByZSwgdXNlID0gcGx1Z2luLnVzZTtcbiAgICAgICAgICAgIGlmIChwcmUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcmUocHJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1c2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy51c2UodXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhpcyBsb2FkZXIgY2Fubm90IGJlIGRlc3Ryb3llZC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wcm90ZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSBsb2FkZXIsIHJlbW92ZXMgcmVmZXJlbmNlcy5cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gICAgICogQG1ldGhvZCBkZXN0cm95XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIExvYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wcm90ZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvYWRlciwgXCJzaGFyZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBwcmVtYWRlIGluc3RhbmNlIG9mIHRoZSBsb2FkZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBsb2FkIHJlc291cmNlcy5cbiAgICAgICAgICogQG5hbWUgc2hhcmVkXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkxvYWRlcn1cbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNoYXJlZCA9IExvYWRlci5fc2hhcmVkO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWQpIHtcbiAgICAgICAgICAgICAgICBzaGFyZWQgPSBuZXcgTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgc2hhcmVkLl9wcm90ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIExvYWRlci5fc2hhcmVkID0gc2hhcmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNoYXJlZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBMb2FkZXIgcGx1Z2luIGZvciB0aGUgZ2xvYmFsIHNoYXJlZCBsb2FkZXIgYW5kIGFsbFxuICAgICAqIG5ldyBMb2FkZXIgaW5zdGFuY2VzIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1ldGhvZCByZWdpc3RlclBsdWdpblxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICAgICAqIEBwYXJhbSB7UElYSS5JTG9hZGVyUGx1Z2lufSBwbHVnaW4gLSBUaGUgcGx1Z2luIHRvIGFkZFxuICAgICAqIEByZXR1cm4ge1BJWEkuTG9hZGVyfSBSZWZlcmVuY2UgdG8gUElYSS5Mb2FkZXIgZm9yIGNoYWluaW5nXG4gICAgICovXG4gICAgTG9hZGVyLnJlZ2lzdGVyUGx1Z2luID0gZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICBMb2FkZXIuX3BsdWdpbnMucHVzaChwbHVnaW4pO1xuICAgICAgICBpZiAocGx1Z2luLmFkZCkge1xuICAgICAgICAgICAgcGx1Z2luLmFkZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBMb2FkZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGFsbCBpbnN0YWxsZWQgYHVzZWAgbWlkZGxld2FyZSBmb3IgTG9hZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge0FycmF5PFBJWEkuSUxvYWRlclBsdWdpbj59IF9wbHVnaW5zXG4gICAgICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBMb2FkZXIuX3BsdWdpbnMgPSBbXTtcbiAgICByZXR1cm4gTG9hZGVyO1xufShMb2FkZXIkMSkpO1xuLy8gcGFyc2UgYW55IGJsb2IgaW50byBtb3JlIHVzYWJsZSBvYmplY3RzIChlLmcuIEltYWdlKVxuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKHsgdXNlOiBtaWRkbGV3YXJlLnBhcnNpbmcgfSk7XG4vLyBwYXJzZSBhbnkgSW1hZ2Ugb2JqZWN0cyBpbnRvIHRleHR1cmVzXG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oVGV4dHVyZUxvYWRlcik7XG4vKipcbiAqIFBsdWdpbiB0byBiZSBpbnN0YWxsZWQgZm9yIGhhbmRsaW5nIHNwZWNpZmljIExvYWRlciByZXNvdXJjZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElMb2FkZXJQbHVnaW5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFthZGRdIC0gRnVuY3Rpb24gdG8gY2FsbCBpbW1lZGlhdGUgYWZ0ZXIgcmVnaXN0ZXJpbmcgcGx1Z2luLlxuICogQHByb3BlcnR5IHtQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlfSBbcHJlXSAtIE1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcnVuIGJlZm9yZSBsb2FkLCB0aGVcbiAqICAgICAgICAgICBhcmd1bWVudHMgZm9yIHRoaXMgYXJlIGAocmVzb3VyY2UsIG5leHQpYFxuICogQHByb3BlcnR5IHtQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlfSBbdXNlXSAtIE1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcnVuIGFmdGVyIGxvYWQsIHRoZVxuICogICAgICAgICAgIGFyZ3VtZW50cyBmb3IgdGhpcyBhcmUgYChyZXNvdXJjZSwgbmV4dClgXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQ2FsbGJhY2tJRFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICogQHR5cGVkZWYge2Z1bmN0aW9ufSBJU2lnbmFsQ2FsbGJhY2tcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2sgZnVuY3Rpb25cbiAqIEBwYXJhbSB7b2JqZWN0fSBbY29udGV4dF0gLSBDb250ZXh0XG4gKiBAcmV0dXJucyB7SUNhbGxiYWNrSUR9IC0gQ2FsbGJhY2tJRFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICogQHR5cGVkZWYge2Z1bmN0aW9ufSBJU2lnbmFsRGV0YWNoXG4gKiBAcGFyYW0ge0lDYWxsYmFja0lEfSBpZCAtIENhbGxiYWNrSUQgcmV0dXJuZWQgYnkgYGFkZGAvYG9uY2VgIG1ldGhvZHNcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAqIEB0eXBlZGVmIElMb2FkZXJTaWduYWxcbiAqIEBwcm9wZXJ0eSB7SVNpZ25hbENhbGxiYWNrfSBhZGQgLSBSZWdpc3RlciBjYWxsYmFja1xuICogQHByb3BlcnR5IHtJU2lnbmFsQ2FsbGJhY2t9IG9uY2UgLSBSZWdpc3RlciBvbmVzaG90IGNhbGxiYWNrXG4gKiBAcHJvcGVydHkge0lTaWduYWxEZXRhY2h9IGRldGFjaCAtIERldGFjaCBzcGVjaWZpYyBjYWxsYmFjayBieSBJRFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICogQGNhbGxiYWNrIGxvYWRlck1pZGRsZXdhcmVcbiAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAZGVzY3JpcHRpb24gRGlzcGF0Y2hlZCB3aGVuIHRoZSBsb2FkZXIgYmVnaW5zIHRvIGxvYWRpbmcgcHJvY2Vzcy5cbiAqIEBtZW1iZXIge1BJWEkuTG9hZGVyLklMb2FkZXJTaWduYWx9IG9uU3RhcnRcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAZGVzY3JpcHRpb24gRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgb3IgZXJyb3JlZCByZXNvdXJjZS5cbiAqIEBtZW1iZXIge1BJWEkuTG9hZGVyLklMb2FkZXJTaWduYWx9IG9uUHJvZ3Jlc3NcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAZGVzY3JpcHRpb24gRGlzcGF0Y2hlZCBvbmNlIHBlciBlcnJvcmVkIHJlc291cmNlLlxuICogQG1lbWJlciB7UElYSS5Mb2FkZXIuSUxvYWRlclNpZ25hbH0gb25FcnJvclxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBkZXNjcmlwdGlvbiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCByZXNvdXJjZS5cbiAqIEBtZW1iZXIge1BJWEkuTG9hZGVyLklMb2FkZXJTaWduYWx9IG9uTG9hZFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBkZXNjcmlwdGlvbiBEaXNwYXRjaGVkIHdoZW4gY29tcGxldGVseSBsb2FkZWQgYWxsIHJlc291cmNlcy5cbiAqIEBtZW1iZXIge1BJWEkuTG9hZGVyLklMb2FkZXJTaWduYWx9IG9uQ29tcGxldGVcbiAqL1xuXG4vKipcbiAqIEFwcGxpY2F0aW9uIHBsdWdpbiBmb3Igc3VwcG9ydGluZyBsb2FkZXIgb3B0aW9uLiBJbnN0YWxsaW5nIHRoZSBMb2FkZXJQbHVnaW5cbiAqIGlzIG5vdCBuZWNlc3NhcnkgaWYgdXNpbmcgKipwaXhpLmpzKiogb3IgKipwaXhpLmpzLWxlZ2FjeSoqLlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7QXBwTG9hZGVyUGx1Z2lufSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbiAqIGltcG9ydCB7QXBwbGljYXRpb259IGZyb20gJ0BwaXhpL2FwcCc7XG4gKiBBcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihBcHBMb2FkZXJQbHVnaW4pO1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQXBwTG9hZGVyUGx1Z2luID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFwcExvYWRlclBsdWdpbigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIG9uIGFwcGxpY2F0aW9uIGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFwcExvYWRlclBsdWdpbi5pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgc2hhcmVkTG9hZGVyOiBmYWxzZSxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2FkZXIgaW5zdGFuY2UgdG8gaGVscCB3aXRoIGFzc2V0IGxvYWRpbmcuXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQXBwbGljYXRpb24jbG9hZGVyXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkxvYWRlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvYWRlciA9IG9wdGlvbnMuc2hhcmVkTG9hZGVyID8gTG9hZGVyLnNoYXJlZCA6IG5ldyBMb2FkZXIoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGFwcGxpY2F0aW9uIGRlc3Ryb3llZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQXBwTG9hZGVyUGx1Z2luLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmxvYWRlcikge1xuICAgICAgICAgICAgdGhpcy5sb2FkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5sb2FkZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQXBwTG9hZGVyUGx1Z2luO1xufSgpKTtcblxuZXhwb3J0IHsgQXBwTG9hZGVyUGx1Z2luLCBMb2FkZXIsIExvYWRlclJlc291cmNlLCBUZXh0dXJlTG9hZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkZXJzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9wYXJ0aWNsZXMgLSB2NS4zLjdcbiAqIENvbXBpbGVkIFR1ZSwgMjkgRGVjIDIwMjAgMTk6MzA6MTEgVVRDXG4gKlxuICogQHBpeGkvcGFydGljbGVzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQkxFTkRfTU9ERVMsIFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgaGV4MnJnYiwgY3JlYXRlSW5kaWNlc0ZvclF1YWRzLCBjb3JyZWN0QmxlbmRNb2RlLCBwcmVtdWx0aXBseVJnYmEsIHByZW11bHRpcGx5VGludCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IEdlb21ldHJ5LCBCdWZmZXIsIFNoYWRlciwgU3RhdGUsIE9iamVjdFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogVGhlIFBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGlzIGEgcmVhbGx5IGZhc3QgdmVyc2lvbiBvZiB0aGUgQ29udGFpbmVyIGJ1aWx0IHNvbGVseSBmb3Igc3BlZWQsXG4gKiBzbyB1c2Ugd2hlbiB5b3UgbmVlZCBhIGxvdCBvZiBzcHJpdGVzIG9yIHBhcnRpY2xlcy5cbiAqXG4gKiBUaGUgdHJhZGVvZmYgb2YgdGhlIFBhcnRpY2xlQ29udGFpbmVyIGlzIHRoYXQgbW9zdCBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IHdpbGwgbm90IHdvcmsuXG4gKiBQYXJ0aWNsZUNvbnRhaW5lciBpbXBsZW1lbnRzIHRoZSBiYXNpYyBvYmplY3QgdHJhbnNmb3JtIChwb3NpdGlvbiwgc2NhbGUsIHJvdGF0aW9uKVxuICogYW5kIHNvbWUgYWR2YW5jZWQgZnVuY3Rpb25hbGl0eSBsaWtlIHRpbnQgKGFzIG9mIHY0LjUuNikuXG4gKlxuICogT3RoZXIgbW9yZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgbWFza2luZywgY2hpbGRyZW4sIGZpbHRlcnMsIGV0YyB3aWxsIG5vdCB3b3JrIG9uIHNwcml0ZXMgaW4gdGhpcyBiYXRjaC5cbiAqXG4gKiBJdCdzIGV4dHJlbWVseSBlYXN5IHRvIHVzZTpcbiAqIGBgYGpzXG4gKiBsZXQgY29udGFpbmVyID0gbmV3IFBhcnRpY2xlQ29udGFpbmVyKCk7XG4gKlxuICogZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7ICsraSlcbiAqIHtcbiAqICAgICBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcIm15SW1hZ2UucG5nXCIpO1xuICogICAgIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICogfVxuICogYGBgXG4gKlxuICogQW5kIGhlcmUgeW91IGhhdmUgYSBodW5kcmVkIHNwcml0ZXMgdGhhdCB3aWxsIGJlIHJlbmRlcmVkIGF0IHRoZSBzcGVlZCBvZiBsaWdodC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBhcnRpY2xlQ29udGFpbmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4U2l6ZT0xNTAwXSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiBwYXJ0aWNsZXMgdGhhdCBjYW4gYmUgcmVuZGVyZWQgYnkgdGhlIGNvbnRhaW5lci5cbiAgICAgKiAgQWZmZWN0cyBzaXplIG9mIGFsbG9jYXRlZCBidWZmZXJzLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbcHJvcGVydGllc10gLSBUaGUgcHJvcGVydGllcyBvZiBjaGlsZHJlbiB0aGF0IHNob3VsZCBiZSB1cGxvYWRlZCB0byB0aGUgZ3B1IGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudmVydGljZXM9ZmFsc2VdIC0gV2hlbiB0cnVlLCB2ZXJ0aWNlcyBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiAgICAgICAgICAgICAgICAgIGlmIHNwcml0ZSdzIGAgc2NhbGUvYW5jaG9yL3RyaW0vZnJhbWUvb3JpZ2AgaXMgZHluYW1pYywgcGxlYXNlIHNldCBgdHJ1ZWAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy5wb3NpdGlvbj10cnVlXSAtIFdoZW4gdHJ1ZSwgcG9zaXRpb24gYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy5yb3RhdGlvbj1mYWxzZV0gLSBXaGVuIHRydWUsIHJvdGF0aW9uIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudXZzPWZhbHNlXSAtIFdoZW4gdHJ1ZSwgdXZzIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudGludD1mYWxzZV0gLSBXaGVuIHRydWUsIGFscGhhIGFuZCB0aW50IGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYmF0Y2hTaXplPTE2Mzg0XSAtIE51bWJlciBvZiBwYXJ0aWNsZXMgcGVyIGJhdGNoLiBJZiBsZXNzIHRoYW4gbWF4U2l6ZSwgaXQgdXNlcyBtYXhTaXplIGluc3RlYWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1Jlc2l6ZT1mYWxzZV0gLSBJZiB0cnVlLCBjb250YWluZXIgYWxsb2NhdGVzIG1vcmUgYmF0Y2hlcyBpbiBjYXNlXG4gICAgICogIHRoZXJlIGFyZSBtb3JlIHRoYW4gYG1heFNpemVgIHBhcnRpY2xlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQYXJ0aWNsZUNvbnRhaW5lcihtYXhTaXplLCBwcm9wZXJ0aWVzLCBiYXRjaFNpemUsIGF1dG9SZXNpemUpIHtcbiAgICAgICAgaWYgKG1heFNpemUgPT09IHZvaWQgMCkgeyBtYXhTaXplID0gMTUwMDsgfVxuICAgICAgICBpZiAoYmF0Y2hTaXplID09PSB2b2lkIDApIHsgYmF0Y2hTaXplID0gMTYzODQ7IH1cbiAgICAgICAgaWYgKGF1dG9SZXNpemUgPT09IHZvaWQgMCkgeyBhdXRvUmVzaXplID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLy8gTWFraW5nIHN1cmUgdGhlIGJhdGNoIHNpemUgaXMgdmFsaWRcbiAgICAgICAgLy8gNjU1MzUgaXMgbWF4IHZlcnRleCBpbmRleCBpbiB0aGUgaW5kZXggYnVmZmVyIChzZWUgUGFydGljbGVSZW5kZXJlcilcbiAgICAgICAgLy8gc28gbWF4IG51bWJlciBvZiBwYXJ0aWNsZXMgaXMgNjU1MzYgLyA0ID0gMTYzODRcbiAgICAgICAgdmFyIG1heEJhdGNoU2l6ZSA9IDE2Mzg0O1xuICAgICAgICBpZiAoYmF0Y2hTaXplID4gbWF4QmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBiYXRjaFNpemUgPSBtYXhCYXRjaFNpemU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBwcm9wZXJ0aWVzIHRvIGJlIGR5bmFtaWMgKHRydWUpIC8gc3RhdGljIChmYWxzZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3Byb3BlcnRpZXMgPSBbZmFsc2UsIHRydWUsIGZhbHNlLCBmYWxzZSwgZmFsc2VdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21heFNpemUgPSBtYXhTaXplO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhdGNoU2l6ZSA9IGJhdGNoU2l6ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PFBJWEkuQnVmZmVyPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9idWZmZXJzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGZvciBldmVyeSBiYXRjaCBzdG9yZXMgX3VwZGF0ZUlEIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGxhc3QgY2hhbmdlIGluIHRoYXQgYmF0Y2hcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYnVmZmVyVXBkYXRlSURzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB3aGVuIGNoaWxkIGluc2VydGVkLCByZW1vdmVkIG9yIGNoYW5nZXMgcG9zaXRpb24gdGhpcyBudW1iZXIgZ29lcyB1cFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGBcbiAgICAgICAgICogdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlLCBjb250YWluZXIgYWxsb2NhdGVzIG1vcmUgYmF0Y2hlcyBpbiBjYXNlIHRoZXJlIGFyZSBtb3JlIHRoYW4gYG1heFNpemVgIHBhcnRpY2xlcy5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9SZXNpemUgPSBhdXRvUmVzaXplO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAgICAgKiBEZWZhdWx0IHRvIHRydWUgaGVyZSBhcyBwZXJmb3JtYW5jZSBpcyB1c3VhbGx5IHRoZSBwcmlvcml0eSBmb3IgcGFydGljbGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yb3VuZFBpeGVscyA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB1c2VkIHRvIHJlbmRlciB0aGUgY2hpbGRyZW4uXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgICAgICBfdGhpcy5zZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLlxuICAgICAgICAgKiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RpbnQgPSAwO1xuICAgICAgICBfdGhpcy50aW50UmdiID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICAgICAgX3RoaXMudGludCA9IDB4RkZGRkZGO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHByaXZhdGUgcHJvcGVydGllcyBhcnJheSB0byBkeW5hbWljIC8gc3RhdGljIGJhc2VkIG9uIHRoZSBwYXNzZWQgcHJvcGVydGllcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wZXJ0aWVzIC0gVGhlIHByb3BlcnRpZXMgdG8gYmUgdXBsb2FkZWRcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUuc2V0UHJvcGVydGllcyA9IGZ1bmN0aW9uIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGlmIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzBdID0gJ3ZlcnRpY2VzJyBpbiBwcm9wZXJ0aWVzIHx8ICdzY2FsZScgaW4gcHJvcGVydGllc1xuICAgICAgICAgICAgICAgID8gISFwcm9wZXJ0aWVzLnZlcnRpY2VzIHx8ICEhcHJvcGVydGllcy5zY2FsZSA6IHRoaXMuX3Byb3BlcnRpZXNbMF07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzFdID0gJ3Bvc2l0aW9uJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnBvc2l0aW9uIDogdGhpcy5fcHJvcGVydGllc1sxXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMl0gPSAncm90YXRpb24nIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMucm90YXRpb24gOiB0aGlzLl9wcm9wZXJ0aWVzWzJdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1szXSA9ICd1dnMnIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMudXZzIDogdGhpcy5fcHJvcGVydGllc1szXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbNF0gPSAndGludCcgaW4gcHJvcGVydGllcyB8fCAnYWxwaGEnIGluIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICA/ICEhcHJvcGVydGllcy50aW50IHx8ICEhcHJvcGVydGllcy5hbHBoYSA6IHRoaXMuX3Byb3BlcnRpZXNbNF07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBUT0RPIGRvbid0IG5lZWQgdG8hXG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZSwgXCJ0aW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lci4gVGhpcyBpcyBhIGhleCB2YWx1ZS5cbiAgICAgICAgICogQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSBXZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICAgICAgaGV4MnJnYih2YWx1ZSwgdGhpcy50aW50UmdiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGNvbnRhaW5lciB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSB3ZWJnbCByZW5kZXJlclxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMuY2hpbGRyZW4ubGVuZ3RoIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSB0aGlzLmNoaWxkcmVuWzBdLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vbmNlKCd1cGRhdGUnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKDApOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zLnBhcnRpY2xlKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZS5yZW5kZXIodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGZsYWcgdGhhdCBzdGF0aWMgZGF0YSBzaG91bGQgYmUgdXBkYXRlZCB0byB0cnVlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzbWFsbGVzdENoaWxkSW5kZXggLSBUaGUgc21hbGxlc3QgY2hpbGQgaW5kZXhcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUub25DaGlsZHJlbkNoYW5nZSA9IGZ1bmN0aW9uIChzbWFsbGVzdENoaWxkSW5kZXgpIHtcbiAgICAgICAgdmFyIGJ1ZmZlckluZGV4ID0gTWF0aC5mbG9vcihzbWFsbGVzdENoaWxkSW5kZXggLyB0aGlzLl9iYXRjaFNpemUpO1xuICAgICAgICB3aGlsZSAodGhpcy5fYnVmZmVyVXBkYXRlSURzLmxlbmd0aCA8IGJ1ZmZlckluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMucHVzaCgwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHNbYnVmZmVySW5kZXhdID0gKyt0aGlzLl91cGRhdGVJRDtcbiAgICB9O1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fYnVmZmVycykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGNvbnRhaW5lclxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fcHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFBhcnRpY2xlQ29udGFpbmVyO1xufShDb250YWluZXIpKTtcblxuLyoqXG4gKiBAYXV0aG9yIE1hdCBHcm92ZXNcbiAqXG4gKiBCaWcgdGhhbmtzIHRvIHRoZSB2ZXJ5IGNsZXZlciBNYXR0IERlc0xhdXJpZXJzIDxtYXR0ZGVzbD4gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL1xuICogZm9yIGNyZWF0aW5nIHRoZSBvcmlnaW5hbCBQaXhpSlMgdmVyc2lvbiFcbiAqIEFsc28gYSB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL2JjaGV2YWxpZXIgZm9yIHR3ZWFraW5nIHRoZSB0aW50IGFuZCBhbHBoYSBzbyB0aGF0XG4gKiB0aGV5IG5vdyBzaGFyZSA0IGJ5dGVzIG9uIHRoZSB2ZXJ0ZXggYnVmZmVyXG4gKlxuICogSGVhdmlseSBpbnNwaXJlZCBieSBMaWJHRFgncyBQYXJ0aWNsZUJ1ZmZlcjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJnZHgvbGliZ2R4L2Jsb2IvbWFzdGVyL2dkeC9zcmMvY29tL2JhZGxvZ2ljL2dkeC9ncmFwaGljcy9nMmQvUGFydGljbGVCdWZmZXIuamF2YVxuICovXG4vKipcbiAqIFRoZSBwYXJ0aWNsZSBidWZmZXIgbWFuYWdlcyB0aGUgc3RhdGljIGFuZCBkeW5hbWljIGJ1ZmZlcnMgZm9yIGEgcGFydGljbGUgY29udGFpbmVyLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZUJ1ZmZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wZXJ0aWVzIC0gVGhlIHByb3BlcnRpZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbltdfSBkeW5hbWljUHJvcGVydHlGbGFncyAtIEZsYWdzIGZvciB3aGljaCBwcm9wZXJ0aWVzIGFyZSBkeW5hbWljLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gVGhlIHNpemUgb2YgdGhlIGJhdGNoLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhcnRpY2xlQnVmZmVyKHByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBzaXplKSB7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkoKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIHBhcnRpY2xlcyB0aGUgYnVmZmVyIGNhbiBob2xkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgdGhlIHByb3BlcnRpZXMgdGhhdCBhcmUgZHluYW1pYy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgdGhlIHByb3BlcnRpZXMgdGhhdCBhcmUgc3RhdGljLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGljUHJvcGVydGllcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICAvLyBNYWtlIGNvcHkgb2YgcHJvcGVydGllcyBvYmplY3Qgc28gdGhhdCB3aGVuIHdlIGVkaXQgdGhlIG9mZnNldCBpdCBkb2Vzbid0XG4gICAgICAgICAgICAvLyBjaGFuZ2UgYWxsIG90aGVyIGluc3RhbmNlcyBvZiB0aGUgb2JqZWN0IGxpdGVyYWxcbiAgICAgICAgICAgIHByb3BlcnR5ID0ge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6IHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsXG4gICAgICAgICAgICAgICAgc2l6ZTogcHJvcGVydHkuc2l6ZSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogcHJvcGVydHkudXBsb2FkRnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgdHlwZTogcHJvcGVydHkudHlwZSB8fCBUWVBFUy5GTE9BVCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHByb3BlcnR5Lm9mZnNldCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZHluYW1pY1Byb3BlcnR5RmxhZ3NbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGljU3RyaWRlID0gMDtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICAgICAgdGhpcy5pbml0QnVmZmVycygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGFydGljbGVCdWZmZXIucHJvdG90eXBlLmluaXRCdWZmZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgICAgICB2YXIgZHluYW1pY09mZnNldCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb2xkcyB0aGUgaW5kaWNlcyBvZiB0aGUgZ2VvbWV0cnkgKHF1YWRzKSB0byBkcmF3XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIoY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHRoaXMuc2l6ZSksIHRydWUsIHRydWUpO1xuICAgICAgICBnZW9tZXRyeS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKTtcbiAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgcHJvcGVydHkub2Zmc2V0ID0gZHluYW1pY09mZnNldDtcbiAgICAgICAgICAgIGR5bmFtaWNPZmZzZXQgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkeW5CdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplICogdGhpcy5keW5hbWljU3RyaWRlICogNCAqIDQpO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbmV3IEZsb2F0MzJBcnJheShkeW5CdWZmZXIpO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy5keW5hbWljRGF0YSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgLy8gc3RhdGljIC8vXG4gICAgICAgIHZhciBzdGF0aWNPZmZzZXQgPSAwO1xuICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLnN0YXRpY1Byb3BlcnRpZXNbaV07XG4gICAgICAgICAgICBwcm9wZXJ0eS5vZmZzZXQgPSBzdGF0aWNPZmZzZXQ7XG4gICAgICAgICAgICBzdGF0aWNPZmZzZXQgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGljU3RyaWRlICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXRCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplICogdGhpcy5zdGF0aWNTdHJpZGUgKiA0ICogNCk7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoc3RhdEJ1ZmZlcik7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG5ldyBVaW50MzJBcnJheShzdGF0QnVmZmVyKTtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBuZXcgQnVmZmVyKHRoaXMuc3RhdGljRGF0YSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG4gICAgICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUocHJvcGVydHkuYXR0cmlidXRlTmFtZSwgdGhpcy5keW5hbWljQnVmZmVyLCAwLCBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFLCBwcm9wZXJ0eS50eXBlLCB0aGlzLmR5bmFtaWNTdHJpZGUgKiA0LCBwcm9wZXJ0eS5vZmZzZXQgKiA0KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsIHRoaXMuc3RhdGljQnVmZmVyLCAwLCBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFLCBwcm9wZXJ0eS50eXBlLCB0aGlzLnN0YXRpY1N0cmlkZSAqIDQsIHByb3BlcnR5Lm9mZnNldCAqIDQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBkeW5hbWljIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gVGhlIGNoaWxkcmVuIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIFRoZSBpbmRleCB0byBzdGFydCBhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gVGhlIG51bWJlciB0byB1cGxvYWQuXG4gICAgICovXG4gICAgUGFydGljbGVCdWZmZXIucHJvdG90eXBlLnVwbG9hZER5bmFtaWMgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG4gICAgICAgICAgICBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFID8gdGhpcy5keW5hbWljRGF0YVVpbnQzMiA6IHRoaXMuZHluYW1pY0RhdGEsIHRoaXMuZHluYW1pY1N0cmlkZSwgcHJvcGVydHkub2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBzdGF0aWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gVGhlIGluZGV4IHRvIHN0YXJ0IGF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUudXBsb2FkU3RhdGljID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUgPyB0aGlzLnN0YXRpY0RhdGFVaW50MzIgOiB0aGlzLnN0YXRpY0RhdGEsIHRoaXMuc3RhdGljU3RyaWRlLCBwcm9wZXJ0eS5vZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyLl91cGRhdGVJRCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIFBhcnRpY2xlQnVmZmVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljUHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbnVsbDtcbiAgICAgICAgLy8gYWxsIGJ1ZmZlcnMgYXJlIGRlc3Ryb3llZCBpbnNpZGUgZ2VvbWV0cnlcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5kZXN0cm95KCk7XG4gICAgfTtcbiAgICByZXR1cm4gUGFydGljbGVCdWZmZXI7XG59KCkpO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvcjtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVwiO1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjNCBhQ29sb3I7XFxuXFxuYXR0cmlidXRlIHZlYzIgYVBvc2l0aW9uQ29vcmQ7XFxuYXR0cmlidXRlIGZsb2F0IGFSb3RhdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgZmxvYXQgeCA9IChhVmVydGV4UG9zaXRpb24ueCkgKiBjb3MoYVJvdGF0aW9uKSAtIChhVmVydGV4UG9zaXRpb24ueSkgKiBzaW4oYVJvdGF0aW9uKTtcXG4gICAgZmxvYXQgeSA9IChhVmVydGV4UG9zaXRpb24ueCkgKiBzaW4oYVJvdGF0aW9uKSArIChhVmVydGV4UG9zaXRpb24ueSkgKiBjb3MoYVJvdGF0aW9uKTtcXG5cXG4gICAgdmVjMiB2ID0gdmVjMih4LCB5KTtcXG4gICAgdiA9IHYgKyBhUG9zaXRpb25Db29yZDtcXG5cXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCh0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzModiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZDb2xvciA9IGFDb2xvciAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdCB0aGV5IG5vd1xuICogc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgUGFydGljbGVSZW5kZXJlcjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJnZHgvbGliZ2R4L2Jsb2IvbWFzdGVyL2dkeC9zcmMvY29tL2JhZGxvZ2ljL2dkeC9ncmFwaGljcy9nMmQvUGFydGljbGVSZW5kZXJlci5qYXZhXG4gKi9cbi8qKlxuICogUmVuZGVyZXIgZm9yIFBhcnRpY2xlcyB0aGF0IGlzIGRlc2lnbmVyIGZvciBzcGVlZCBvdmVyIGZlYXR1cmUgc2V0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBhcnRpY2xlUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBhcnRpY2xlUmVuZGVyZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIHNwcml0ZSBiYXRjaCB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGFydGljbGVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLy8gNjU1MzUgaXMgbWF4IHZlcnRleCBpbmRleCBpbiB0aGUgaW5kZXggYnVmZmVyIChzZWUgUGFydGljbGVSZW5kZXJlcilcbiAgICAgICAgLy8gc28gbWF4IG51bWJlciBvZiBwYXJ0aWNsZXMgaXMgNjU1MzYgLyA0ID0gMTYzODRcbiAgICAgICAgLy8gYW5kIG1heCBudW1iZXIgb2YgZWxlbWVudCBpbiB0aGUgaW5kZXggYnVmZmVyIGlzIDE2Mzg0ICogNiA9IDk4MzA0XG4gICAgICAgIC8vIENyZWF0aW5nIGEgZnVsbCBpbmRleCBidWZmZXIsIG92ZXJoZWFkIGlzIDk4MzA0ICogMiA9IDE5NktvXG4gICAgICAgIC8vIGxldCBudW1JbmRpY2VzID0gOTgzMDQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzaGFkZXIgdGhhdCBpcyB1c2VkIGlmIGEgc3ByaXRlIGRvZXNuJ3QgaGF2ZSBhIG1vcmUgc3BlY2lmaWMgb25lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIF90aGlzLnByb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICBfdGhpcy50ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICBfdGhpcy5wcm9wZXJ0aWVzID0gW1xuICAgICAgICAgICAgLy8gdmVydGljZXNEYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FWZXJ0ZXhQb3NpdGlvbicsXG4gICAgICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogX3RoaXMudXBsb2FkVmVydGljZXMsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHBvc2l0aW9uRGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhUG9zaXRpb25Db29yZCcsXG4gICAgICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogX3RoaXMudXBsb2FkUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHJvdGF0aW9uRGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhUm90YXRpb24nLFxuICAgICAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IF90aGlzLnVwbG9hZFJvdGF0aW9uLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB1dnNEYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FUZXh0dXJlQ29vcmQnLFxuICAgICAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IF90aGlzLnVwbG9hZFV2cyxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gdGludERhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYUNvbG9yJyxcbiAgICAgICAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgICAgICAgIHR5cGU6IFRZUEVTLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IF90aGlzLnVwbG9hZFRpbnQsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSBdO1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBTaGFkZXIuZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50LCB7fSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgc3RhdGUgaW4gd2hpY2ggdGhpcyByZW5kZXJlciB3aWxsIHdvcmsuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIHBhcnRpY2xlIGNvbnRhaW5lciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gY29udGFpbmVyLmNoaWxkcmVuO1xuICAgICAgICB2YXIgbWF4U2l6ZSA9IGNvbnRhaW5lci5fbWF4U2l6ZTtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgdG90YWxDaGlsZHJlbiA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgaWYgKHRvdGFsQ2hpbGRyZW4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0b3RhbENoaWxkcmVuID4gbWF4U2l6ZSAmJiAhY29udGFpbmVyLmF1dG9SZXNpemUpIHtcbiAgICAgICAgICAgIHRvdGFsQ2hpbGRyZW4gPSBtYXhTaXplO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWZmZXJzID0gY29udGFpbmVyLl9idWZmZXJzO1xuICAgICAgICBpZiAoIWJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIGJ1ZmZlcnMgPSBjb250YWluZXIuX2J1ZmZlcnMgPSB0aGlzLmdlbmVyYXRlQnVmZmVycyhjb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IGNoaWxkcmVuWzBdLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAvLyBpZiB0aGUgdXZzIGhhdmUgbm90IHVwZGF0ZWQgdGhlbiBubyBwb2ludCByZW5kZXJpbmcganVzdCB5ZXQhXG4gICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gY29ycmVjdEJsZW5kTW9kZShjb250YWluZXIuYmxlbmRNb2RlLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUpO1xuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgbSA9IGNvbnRhaW5lci53b3JsZFRyYW5zZm9ybS5jb3B5VG8odGhpcy50ZW1wTWF0cml4KTtcbiAgICAgICAgbS5wcmVwZW5kKHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnVuaWZvcm1zLnByb2plY3Rpb25NYXRyaXgpO1xuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IG0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgdGhpcy5zaGFkZXIudW5pZm9ybXMudUNvbG9yID0gcHJlbXVsdGlwbHlSZ2JhKGNvbnRhaW5lci50aW50UmdiLCBjb250YWluZXIud29ybGRBbHBoYSwgdGhpcy5zaGFkZXIudW5pZm9ybXMudUNvbG9yLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUpO1xuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51U2FtcGxlciA9IGJhc2VUZXh0dXJlO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNoYWRlci5iaW5kKHRoaXMuc2hhZGVyKTtcbiAgICAgICAgdmFyIHVwZGF0ZVN0YXRpYyA9IGZhbHNlO1xuICAgICAgICAvLyBub3cgbGV0cyB1cGxvYWQgYW5kIHJlbmRlciB0aGUgYnVmZmVycy4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsQ2hpbGRyZW47IGkgKz0gYmF0Y2hTaXplLCBqICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBhbW91bnQgPSAodG90YWxDaGlsZHJlbiAtIGkpO1xuICAgICAgICAgICAgaWYgKGFtb3VudCA+IGJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgICAgIGFtb3VudCA9IGJhdGNoU2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChqID49IGJ1ZmZlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVycy5wdXNoKHRoaXMuX2dlbmVyYXRlT25lTW9yZUJ1ZmZlcihjb250YWluZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBidWZmZXJzW2pdO1xuICAgICAgICAgICAgLy8gd2UgYWx3YXlzIHVwbG9hZCB0aGUgZHluYW1pY1xuICAgICAgICAgICAgYnVmZmVyLnVwbG9hZER5bmFtaWMoY2hpbGRyZW4sIGksIGFtb3VudCk7XG4gICAgICAgICAgICB2YXIgYmlkID0gY29udGFpbmVyLl9idWZmZXJVcGRhdGVJRHNbal0gfHwgMDtcbiAgICAgICAgICAgIHVwZGF0ZVN0YXRpYyA9IHVwZGF0ZVN0YXRpYyB8fCAoYnVmZmVyLl91cGRhdGVJRCA8IGJpZCk7XG4gICAgICAgICAgICAvLyB3ZSBvbmx5IHVwbG9hZCB0aGUgc3RhdGljIGNvbnRlbnQgd2hlbiB3ZSBoYXZlIHRvIVxuICAgICAgICAgICAgaWYgKHVwZGF0ZVN0YXRpYykge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fdXBkYXRlSUQgPSBjb250YWluZXIuX3VwZGF0ZUlEO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci51cGxvYWRTdGF0aWMoY2hpbGRyZW4sIGksIGFtb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBiaW5kIHRoZSBidWZmZXJcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQoYnVmZmVyLmdlb21ldHJ5KTtcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyhnbC5UUklBTkdMRVMsIGFtb3VudCAqIDYsIGdsLlVOU0lHTkVEX1NIT1JULCAwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvbmUgcGFydGljbGUgYnVmZmVyIGZvciBlYWNoIGNoaWxkIGluIHRoZSBjb250YWluZXIgd2Ugd2FudCB0byByZW5kZXIgYW5kIHVwZGF0ZXMgaW50ZXJuYWwgcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBhcnRpY2xlQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBhcnRpY2xlQnVmZmVyW119IFRoZSBidWZmZXJzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5nZW5lcmF0ZUJ1ZmZlcnMgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgIHZhciBidWZmZXJzID0gW107XG4gICAgICAgIHZhciBzaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciBkeW5hbWljUHJvcGVydHlGbGFncyA9IGNvbnRhaW5lci5fcHJvcGVydGllcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpICs9IGJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgYnVmZmVycy5wdXNoKG5ldyBQYXJ0aWNsZUJ1ZmZlcih0aGlzLnByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBiYXRjaFNpemUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmZmVycztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb25lIG1vcmUgcGFydGljbGUgYnVmZmVyLCBiZWNhdXNlIGNvbnRhaW5lciBoYXMgYXV0b1Jlc2l6ZSBmZWF0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1BJWEkuUGFydGljbGVCdWZmZXJ9IGdlbmVyYXRlZCBidWZmZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgIHZhciBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgdmFyIGR5bmFtaWNQcm9wZXJ0eUZsYWdzID0gY29udGFpbmVyLl9wcm9wZXJ0aWVzO1xuICAgICAgICByZXR1cm4gbmV3IFBhcnRpY2xlQnVmZmVyKHRoaXMucHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIGJhdGNoU2l6ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHZlcnRpY2VzIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRWZXJ0aWNlcyA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIHcwID0gMDtcbiAgICAgICAgdmFyIHcxID0gMDtcbiAgICAgICAgdmFyIGgwID0gMDtcbiAgICAgICAgdmFyIGgxID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXTtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICAgICAgdmFyIHN4ID0gc3ByaXRlLnNjYWxlLng7XG4gICAgICAgICAgICB2YXIgc3kgPSBzcHJpdGUuc2NhbGUueTtcbiAgICAgICAgICAgIHZhciB0cmltID0gdGV4dHVyZS50cmltO1xuICAgICAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG4gICAgICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZCBhbmQgaXMgbm90IGEgdGlsaW5nc3ByaXRlIHRoZW4gd2UgbmVlZCB0byBhZGQgdGhlXG4gICAgICAgICAgICAgICAgLy8gZXh0cmEgc3BhY2UgYmVmb3JlIHRyYW5zZm9ybWluZyB0aGUgc3ByaXRlIGNvb3Jkcy4uXG4gICAgICAgICAgICAgICAgdzEgPSB0cmltLnggLSAoc3ByaXRlLmFuY2hvci54ICogb3JpZy53aWR0aCk7XG4gICAgICAgICAgICAgICAgdzAgPSB3MSArIHRyaW0ud2lkdGg7XG4gICAgICAgICAgICAgICAgaDEgPSB0cmltLnkgLSAoc3ByaXRlLmFuY2hvci55ICogb3JpZy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHcwID0gKG9yaWcud2lkdGgpICogKDEgLSBzcHJpdGUuYW5jaG9yLngpO1xuICAgICAgICAgICAgICAgIHcxID0gKG9yaWcud2lkdGgpICogLXNwcml0ZS5hbmNob3IueDtcbiAgICAgICAgICAgICAgICBoMCA9IG9yaWcuaGVpZ2h0ICogKDEgLSBzcHJpdGUuYW5jaG9yLnkpO1xuICAgICAgICAgICAgICAgIGgxID0gb3JpZy5oZWlnaHQgKiAtc3ByaXRlLmFuY2hvci55O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHcxICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IGgxICogc3k7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gdzAgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gaDEgKiBzeTtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSB3MCAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpICsgMV0gPSBoMCAqIHN5O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IHcxICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IGgwICogc3k7XG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciBwb3NpdGlvbnMgdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFBvc2l0aW9uID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlUG9zaXRpb24gPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0ucG9zaXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRSb3RhdGlvbiA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNwcml0ZVJvdGF0aW9uID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLnJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIFV2c1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFV2cyA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIHRleHR1cmVVdnMgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0uX3RleHR1cmUuX3V2cztcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlVXZzKSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHRleHR1cmVVdnMueDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSB0ZXh0dXJlVXZzLnkwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSB0ZXh0dXJlVXZzLngxO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gdGV4dHVyZVV2cy55MTtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gdGV4dHVyZVV2cy54MjtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IHRleHR1cmVVdnMueTI7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IHRleHR1cmVVdnMueDM7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpICsgMV0gPSB0ZXh0dXJlVXZzLnkzO1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyB5b3Uga25vdyB0aGlzIGNhbiBiZSBlYXNpZXIhXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpICsgMV0gPSAwO1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB0aW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFRpbnQgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV07XG4gICAgICAgICAgICB2YXIgcHJlbXVsdGlwbGllZCA9IHNwcml0ZS5fdGV4dHVyZS5iYXNlVGV4dHVyZS5hbHBoYU1vZGUgPiAwO1xuICAgICAgICAgICAgdmFyIGFscGhhID0gc3ByaXRlLmFscGhhO1xuICAgICAgICAgICAgLy8gd2UgZG9udCBjYWxsIGV4dHJhIGZ1bmN0aW9uIGlmIGFscGhhIGlzIDEuMCwgdGhhdCdzIGZhc3RlclxuICAgICAgICAgICAgdmFyIGFyZ2IgPSBhbHBoYSA8IDEuMCAmJiBwcmVtdWx0aXBsaWVkXG4gICAgICAgICAgICAgICAgPyBwcmVtdWx0aXBseVRpbnQoc3ByaXRlLl90aW50UkdCLCBhbHBoYSkgOiBzcHJpdGUuX3RpbnRSR0IgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IGFyZ2I7XG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIFBhcnRpY2xlUmVuZGVyZXIuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIGlmICh0aGlzLnNoYWRlcikge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGVtcE1hdHJpeCA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gUGFydGljbGVSZW5kZXJlcjtcbn0oT2JqZWN0UmVuZGVyZXIpKTtcblxuZXhwb3J0IHsgUGFydGljbGVDb250YWluZXIsIFBhcnRpY2xlUmVuZGVyZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRpY2xlcy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvdGV4dCAtIHY1LjMuN1xuICogQ29tcGlsZWQgVHVlLCAyOSBEZWMgMjAyMCAxOTozMDoxMSBVVENcbiAqXG4gKiBAcGl4aS90ZXh0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBoZXgyc3RyaW5nLCBoZXgycmdiLCBzdHJpbmcyaGV4LCB0cmltQ2FudmFzLCBzaWduIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBkZWZpbmUgdGhlIHR5cGUgb2YgZ3JhZGllbnQgb24gdGV4dC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFRFWFRfR1JBRElFTlRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUl9WRVJUSUNBTCBWZXJ0aWNhbCBncmFkaWVudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUl9IT1JJWk9OVEFMIExpbmVhciBncmFkaWVudFxuICovXG52YXIgVEVYVF9HUkFESUVOVDtcbihmdW5jdGlvbiAoVEVYVF9HUkFESUVOVCkge1xuICAgIFRFWFRfR1JBRElFTlRbVEVYVF9HUkFESUVOVFtcIkxJTkVBUl9WRVJUSUNBTFwiXSA9IDBdID0gXCJMSU5FQVJfVkVSVElDQUxcIjtcbiAgICBURVhUX0dSQURJRU5UW1RFWFRfR1JBRElFTlRbXCJMSU5FQVJfSE9SSVpPTlRBTFwiXSA9IDFdID0gXCJMSU5FQVJfSE9SSVpPTlRBTFwiO1xufSkoVEVYVF9HUkFESUVOVCB8fCAoVEVYVF9HUkFESUVOVCA9IHt9KSk7XG5cbi8vIGRpc2FibGluZyBlc2xpbnQgZm9yIG5vdywgZ29pbmcgdG8gcmV3cml0ZSB0aGlzIGluIHY1XG52YXIgZGVmYXVsdFN0eWxlID0ge1xuICAgIGFsaWduOiAnbGVmdCcsXG4gICAgYnJlYWtXb3JkczogZmFsc2UsXG4gICAgZHJvcFNoYWRvdzogZmFsc2UsXG4gICAgZHJvcFNoYWRvd0FscGhhOiAxLFxuICAgIGRyb3BTaGFkb3dBbmdsZTogTWF0aC5QSSAvIDYsXG4gICAgZHJvcFNoYWRvd0JsdXI6IDAsXG4gICAgZHJvcFNoYWRvd0NvbG9yOiAnYmxhY2snLFxuICAgIGRyb3BTaGFkb3dEaXN0YW5jZTogNSxcbiAgICBmaWxsOiAnYmxhY2snLFxuICAgIGZpbGxHcmFkaWVudFR5cGU6IFRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMLFxuICAgIGZpbGxHcmFkaWVudFN0b3BzOiBbXSxcbiAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgIGZvbnRTaXplOiAyNixcbiAgICBmb250U3R5bGU6ICdub3JtYWwnLFxuICAgIGZvbnRWYXJpYW50OiAnbm9ybWFsJyxcbiAgICBmb250V2VpZ2h0OiAnbm9ybWFsJyxcbiAgICBsZXR0ZXJTcGFjaW5nOiAwLFxuICAgIGxpbmVIZWlnaHQ6IDAsXG4gICAgbGluZUpvaW46ICdtaXRlcicsXG4gICAgbWl0ZXJMaW1pdDogMTAsXG4gICAgcGFkZGluZzogMCxcbiAgICBzdHJva2U6ICdibGFjaycsXG4gICAgc3Ryb2tlVGhpY2tuZXNzOiAwLFxuICAgIHRleHRCYXNlbGluZTogJ2FscGhhYmV0aWMnLFxuICAgIHRyaW06IGZhbHNlLFxuICAgIHdoaXRlU3BhY2U6ICdwcmUnLFxuICAgIHdvcmRXcmFwOiBmYWxzZSxcbiAgICB3b3JkV3JhcFdpZHRoOiAxMDAsXG4gICAgbGVhZGluZzogMCxcbn07XG52YXIgZ2VuZXJpY0ZvbnRGYW1pbGllcyA9IFtcbiAgICAnc2VyaWYnLFxuICAgICdzYW5zLXNlcmlmJyxcbiAgICAnbW9ub3NwYWNlJyxcbiAgICAnY3Vyc2l2ZScsXG4gICAgJ2ZhbnRhc3knLFxuICAgICdzeXN0ZW0tdWknIF07XG4vKipcbiAqIEEgVGV4dFN0eWxlIE9iamVjdCBjb250YWlucyBpbmZvcm1hdGlvbiB0byBkZWNvcmF0ZSBhIFRleHQgb2JqZWN0cy5cbiAqXG4gKiBBbiBpbnN0YW5jZSBjYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgVGV4dCBvYmplY3RzOyB0aGVuIGNoYW5naW5nIHRoZSBzdHlsZSB3aWxsIHVwZGF0ZSBhbGwgdGV4dCBvYmplY3RzIHVzaW5nIGl0LlxuICpcbiAqIEEgdG9vbCBjYW4gYmUgdXNlZCB0byBnZW5lcmF0ZSBhIHRleHQgc3R5bGUgW2hlcmVdKGh0dHBzOi8vcGl4aWpzLmlvL3BpeGktdGV4dC1zdHlsZSkuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dFN0eWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbc3R5bGVdIC0gVGhlIHN0eWxlIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmFsaWduPSdsZWZ0J10gLSBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLFxuICAgICAqICBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLmJyZWFrV29yZHM9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXRcbiAgICAgKiAgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS5kcm9wU2hhZG93PWZhbHNlXSAtIFNldCBhIGRyb3Agc2hhZG93IGZvciB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0FscGhhPTFdIC0gU2V0IGFscGhhIGZvciB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dBbmdsZT1NYXRoLlBJLzZdIC0gU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93Qmx1cj0wXSAtIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1c1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dDb2xvcj0nYmxhY2snXSAtIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSBkcm9wc2hhZG93IGUuZyAncmVkJywgJyMwMEZGMDAnXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U9NV0gLSBTZXQgYSBkaXN0YW5jZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXXxudW1iZXJ8bnVtYmVyW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybn0gW3N0eWxlLmZpbGw9J2JsYWNrJ10gLSBBIGNhbnZhc1xuICAgICAqICBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgZS5nICdyZWQnLCAnIzAwRkYwMCcuIENhbiBiZSBhbiBhcnJheSB0byBjcmVhdGUgYSBncmFkaWVudFxuICAgICAqICBlZyBbJyMwMDAwMDAnLCcjRkZGRkZGJ11cbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZmlsbEdyYWRpZW50VHlwZT1QSVhJLlRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMXSAtIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3Vyc1xuICAgICAqICB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuIFNlZSB7QGxpbmsgUElYSS5URVhUX0dSQURJRU5UfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IFtzdHlsZS5maWxsR3JhZGllbnRTdG9wc10gLSBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgYXJyYXkgY2FuIHNldFxuICAgICAqIHRoZSBzdG9wIHBvaW50cyAobnVtYmVycyBiZXR3ZWVuIDAgYW5kIDEpIGZvciB0aGUgY29sb3IsIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIGV2ZW5seSBzcGFjaW5nIHRoZW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFtzdHlsZS5mb250RmFtaWx5PSdBcmlhbCddIC0gVGhlIGZvbnQgZmFtaWx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBbc3R5bGUuZm9udFNpemU9MjZdIC0gVGhlIGZvbnQgc2l6ZSAoYXMgYSBudW1iZXIgaXQgY29udmVydHMgdG8gcHgsIGJ1dCBhcyBhIHN0cmluZyxcbiAgICAgKiAgZXF1aXZhbGVudHMgYXJlICcyNnB4JywnMjBwdCcsJzE2MCUnIG9yICcxLjZlbScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250U3R5bGU9J25vcm1hbCddIC0gVGhlIGZvbnQgc3R5bGUgKCdub3JtYWwnLCAnaXRhbGljJyBvciAnb2JsaXF1ZScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250VmFyaWFudD0nbm9ybWFsJ10gLSBUaGUgZm9udCB2YXJpYW50ICgnbm9ybWFsJyBvciAnc21hbGwtY2FwcycpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250V2VpZ2h0PSdub3JtYWwnXSAtIFRoZSBmb250IHdlaWdodCAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsXG4gICAgICogICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsICc4MDAnIG9yICc5MDAnKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubGVhZGluZz0wXSAtIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZXR0ZXJTcGFjaW5nPTBdIC0gVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycywgZGVmYXVsdCBpcyAwXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5saW5lSGVpZ2h0XSAtIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmxpbmVKb2luPSdtaXRlciddIC0gVGhlIGxpbmVKb2luIHByb3BlcnR5IHNldHMgdGhlIHR5cGUgb2YgY29ybmVyIGNyZWF0ZWQsIGl0IGNhbiByZXNvbHZlXG4gICAgICogICAgICBzcGlrZWQgdGV4dCBpc3N1ZXMuIFBvc3NpYmxlIHZhbHVlcyBcIm1pdGVyXCIgKGNyZWF0ZXMgYSBzaGFycCBjb3JuZXIpLCBcInJvdW5kXCIgKGNyZWF0ZXMgYSByb3VuZCBjb3JuZXIpIG9yIFwiYmV2ZWxcIlxuICAgICAqICAgICAgKGNyZWF0ZXMgYSBzcXVhcmVkIGNvcm5lcikuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5taXRlckxpbWl0PTEwXSAtIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlLiBUaGlzIGNhbiByZWR1Y2VcbiAgICAgKiAgICAgIG9yIGluY3JlYXNlIHRoZSBzcGlraW5lc3Mgb2YgcmVuZGVyZWQgdGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnBhZGRpbmc9MF0gLSBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tXG4gICAgICogICAgIGhhcHBlbmluZyBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbc3R5bGUuc3Ryb2tlPSdibGFjayddIC0gQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IHN0cm9rZVxuICAgICAqICBlLmcgJ2JsdWUnLCAnI0ZDRkYwMCdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnN0cm9rZVRoaWNrbmVzcz0wXSAtIEEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBzdHJva2UuXG4gICAgICogIERlZmF1bHQgaXMgMCAobm8gc3Ryb2tlKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLnRyaW09ZmFsc2VdIC0gVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS50ZXh0QmFzZWxpbmU9J2FscGhhYmV0aWMnXSAtIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUud2hpdGVTcGFjZT0ncHJlJ10gLSBEZXRlcm1pbmVzIHdoZXRoZXIgbmV3bGluZXMgJiBzcGFjZXMgYXJlIGNvbGxhcHNlZCBvciBwcmVzZXJ2ZWQgXCJub3JtYWxcIlxuICAgICAqICAgICAgKGNvbGxhcHNlLCBjb2xsYXBzZSksIFwicHJlXCIgKHByZXNlcnZlLCBwcmVzZXJ2ZSkgfCBcInByZS1saW5lXCIgKHByZXNlcnZlLCBjb2xsYXBzZSkuIEl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUud29yZFdyYXA9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIHdvcmQgd3JhcCBzaG91bGQgYmUgdXNlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUud29yZFdyYXBXaWR0aD0xMDBdIC0gVGhlIHdpZHRoIGF0IHdoaWNoIHRleHQgd2lsbCB3cmFwLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHRTdHlsZShzdHlsZSkge1xuICAgICAgICB0aGlzLnN0eWxlSUQgPSAwO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyh0aGlzLCBzdHlsZSwgc3R5bGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFRleHRTdHlsZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICogTm90ZSB0aGF0IHRoZSBvbmx5IHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3QgYXJlIGNsb25lZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dFN0eWxlfSBOZXcgY2xvbmVkIFRleHRTdHlsZSBvYmplY3RcbiAgICAgKi9cbiAgICBUZXh0U3R5bGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2xvbmVkUHJvcGVydGllcyA9IHt9O1xuICAgICAgICBkZWVwQ29weVByb3BlcnRpZXMoY2xvbmVkUHJvcGVydGllcywgdGhpcywgZGVmYXVsdFN0eWxlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0U3R5bGUoY2xvbmVkUHJvcGVydGllcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgYWxsIHByb3BlcnRpZXMgdG8gdGhlIGRlZmF1bHRzIHNwZWNpZmllZCBpbiBUZXh0U3R5bGUucHJvdG90eXBlLl9kZWZhdWx0XG4gICAgICovXG4gICAgVGV4dFN0eWxlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIGRlZmF1bHRTdHlsZSwgZGVmYXVsdFN0eWxlKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImFsaWduXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQgKCdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0JyksIGRvZXMgbm90IGFmZmVjdCBzaW5nbGUgbGluZSB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FsaWduO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChhbGlnbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2FsaWduICE9PSBhbGlnbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FsaWduID0gYWxpZ247XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJicmVha1dvcmRzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiBsaW5lcyBjYW4gYmUgd3JhcHBlZCB3aXRoaW4gd29yZHMsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9icmVha1dvcmRzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChicmVha1dvcmRzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYnJlYWtXb3JkcyAhPT0gYnJlYWtXb3Jkcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JyZWFrV29yZHMgPSBicmVha1dvcmRzO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZHJvcFNoYWRvd1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBkcm9wIHNoYWRvdyBmb3IgdGhlIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3c7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93ICE9PSBkcm9wU2hhZG93KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvdyA9IGRyb3BTaGFkb3c7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJkcm9wU2hhZG93QWxwaGFcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGFscGhhIGZvciB0aGUgZHJvcCBzaGFkb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FscGhhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93QWxwaGEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QWxwaGEgIT09IGRyb3BTaGFkb3dBbHBoYSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbHBoYSA9IGRyb3BTaGFkb3dBbHBoYTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImRyb3BTaGFkb3dBbmdsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBhbmdsZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FuZ2xlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93QW5nbGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QW5nbGUgIT09IGRyb3BTaGFkb3dBbmdsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZSA9IGRyb3BTaGFkb3dBbmdsZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImRyb3BTaGFkb3dCbHVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZHJvcFNoYWRvd0JsdXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93Qmx1ciAhPT0gZHJvcFNoYWRvd0JsdXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93Qmx1ciA9IGRyb3BTaGFkb3dCbHVyO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZHJvcFNoYWRvd0NvbG9yXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSBkcm9wc2hhZG93IGUuZyAncmVkJywgJyMwMEZGMDAnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Q29sb3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRyb3BTaGFkb3dDb2xvcikge1xuICAgICAgICAgICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZHJvcFNoYWRvd0NvbG9yKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93Q29sb3IgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0NvbG9yID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJkcm9wU2hhZG93RGlzdGFuY2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgZGlzdGFuY2Ugb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZHJvcFNoYWRvd0Rpc3RhbmNlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlICE9PSBkcm9wU2hhZG93RGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2UgPSBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmaWxsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBlLmcgJ3JlZCcsICcjMDBGRjAwJy5cbiAgICAgICAgICogQ2FuIGJlIGFuIGFycmF5IHRvIGNyZWF0ZSBhIGdyYWRpZW50IGVnIFsnIzAwMDAwMCcsJyNGRkZGRkYnXVxuICAgICAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW118bnVtYmVyfG51bWJlcltdfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWxsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmaWxsKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIG51bWJlciB0eXBlIGFzXG4gICAgICAgICAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgICAgICAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICAgICAgICAgIC8vIFRPRE86IE5vdCBzdXJlIGlmIGdldENvbG9yIHdvcmtzIHByb3Blcmx5IHdpdGggQ2FudmFzR3JhZGllbnQgYW5kL29yIENhbnZhc1BhdHRlcm4sIGNhbid0IHBhc3MgaW5cbiAgICAgICAgICAgIC8vICAgICAgIHdpdGhvdXQgY2FzdGluZyBoZXJlLlxuICAgICAgICAgICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZmlsbCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fZmlsbCAhPT0gb3V0cHV0Q29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmaWxsR3JhZGllbnRUeXBlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuXG4gICAgICAgICAqIFNlZSB7QGxpbmsgUElYSS5URVhUX0dSQURJRU5UfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWxsR3JhZGllbnRUeXBlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmaWxsR3JhZGllbnRUeXBlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZmlsbEdyYWRpZW50VHlwZSAhPT0gZmlsbEdyYWRpZW50VHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGUgPSBmaWxsR3JhZGllbnRUeXBlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZmlsbEdyYWRpZW50U3RvcHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGFycmF5IGNhbiBzZXQgdGhlIHN0b3AgcG9pbnRzXG4gICAgICAgICAqIChudW1iZXJzIGJldHdlZW4gMCBhbmQgMSkgZm9yIHRoZSBjb2xvciwgb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgZXZlbmx5IHNwYWNpbmcgdGhlbS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWxsR3JhZGllbnRTdG9wcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZmlsbEdyYWRpZW50U3RvcHMpIHtcbiAgICAgICAgICAgIGlmICghYXJlQXJyYXlzRXF1YWwodGhpcy5fZmlsbEdyYWRpZW50U3RvcHMsIGZpbGxHcmFkaWVudFN0b3BzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzID0gZmlsbEdyYWRpZW50U3RvcHM7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250RmFtaWx5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IGZhbWlseVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250RmFtaWx5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmb250RmFtaWx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5mb250RmFtaWx5ICE9PSBmb250RmFtaWx5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250U2l6ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBzaXplXG4gICAgICAgICAqIChhcyBhIG51bWJlciBpdCBjb252ZXJ0cyB0byBweCwgYnV0IGFzIGEgc3RyaW5nLCBlcXVpdmFsZW50cyBhcmUgJzI2cHgnLCcyMHB0JywnMTYwJScgb3IgJzEuNmVtJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfHN0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTaXplO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmb250U2l6ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRTaXplICE9PSBmb250U2l6ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gZm9udFNpemU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250U3R5bGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgc3R5bGVcbiAgICAgICAgICogKCdub3JtYWwnLCAnaXRhbGljJyBvciAnb2JsaXF1ZScpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTdHlsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZm9udFN0eWxlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFN0eWxlICE9PSBmb250U3R5bGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U3R5bGUgPSBmb250U3R5bGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250VmFyaWFudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCB2YXJpYW50XG4gICAgICAgICAqICgnbm9ybWFsJyBvciAnc21hbGwtY2FwcycpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRWYXJpYW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmb250VmFyaWFudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRWYXJpYW50ICE9PSBmb250VmFyaWFudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRWYXJpYW50ID0gZm9udFZhcmlhbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmb250V2VpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHdlaWdodFxuICAgICAgICAgKiAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsIDgwMCcgb3IgJzkwMCcpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRXZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZvbnRXZWlnaHQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250V2VpZ2h0ICE9PSBmb250V2VpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFdlaWdodCA9IGZvbnRXZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJsZXR0ZXJTcGFjaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbW91bnQgb2Ygc3BhY2luZyBiZXR3ZWVuIGxldHRlcnMsIGRlZmF1bHQgaXMgMFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsZXR0ZXJTcGFjaW5nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gbGV0dGVyU3BhY2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwibGluZUhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGluZSBoZWlnaHQsIGEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgc3BhY2UgdGhhdCBhIGxldHRlciB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGxpbmVIZWlnaHQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9saW5lSGVpZ2h0ICE9PSBsaW5lSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJsZWFkaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xlYWRpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGxlYWRpbmcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sZWFkaW5nICE9PSBsZWFkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGVhZGluZyA9IGxlYWRpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJsaW5lSm9pblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGluZUpvaW4gcHJvcGVydHkgc2V0cyB0aGUgdHlwZSBvZiBjb3JuZXIgY3JlYXRlZCwgaXQgY2FuIHJlc29sdmUgc3Bpa2VkIHRleHQgaXNzdWVzLlxuICAgICAgICAgKiBEZWZhdWx0IGlzICdtaXRlcicgKGNyZWF0ZXMgYSBzaGFycCBjb3JuZXIpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lSm9pbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobGluZUpvaW4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9saW5lSm9pbiAhPT0gbGluZUpvaW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lSm9pbiA9IGxpbmVKb2luO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwibWl0ZXJMaW1pdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWl0ZXIgbGltaXQgdG8gdXNlIHdoZW4gdXNpbmcgdGhlICdtaXRlcicgbGluZUpvaW4gbW9kZVxuICAgICAgICAgKiBUaGlzIGNhbiByZWR1Y2Ugb3IgaW5jcmVhc2UgdGhlIHNwaWtpbmVzcyBvZiByZW5kZXJlZCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9taXRlckxpbWl0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChtaXRlckxpbWl0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWl0ZXJMaW1pdCAhPT0gbWl0ZXJMaW1pdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21pdGVyTGltaXQgPSBtaXRlckxpbWl0O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwicGFkZGluZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tIGhhcHBlbmluZ1xuICAgICAgICAgKiBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhZGRpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHBhZGRpbmcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYWRkaW5nICE9PSBwYWRkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFkZGluZyA9IHBhZGRpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJzdHJva2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IHN0cm9rZVxuICAgICAgICAgKiBlLmcgJ2JsdWUnLCAnI0ZDRkYwMCdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfG51bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0cm9rZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3Ryb2tlKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIG51bWJlciB0eXBlIGFzXG4gICAgICAgICAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgICAgICAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICAgICAgICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKHN0cm9rZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fc3Ryb2tlICE9PSBvdXRwdXRDb2xvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0cm9rZSA9IG91dHB1dENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwic3Ryb2tlVGhpY2tuZXNzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBzdHJva2UuXG4gICAgICAgICAqIERlZmF1bHQgaXMgMCAobm8gc3Ryb2tlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdHJva2VUaGlja25lc3M7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0cm9rZVRoaWNrbmVzcyAhPT0gc3Ryb2tlVGhpY2tuZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Ryb2tlVGhpY2tuZXNzID0gc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwidGV4dEJhc2VsaW5lXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0QmFzZWxpbmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHRleHRCYXNlbGluZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHRCYXNlbGluZSAhPT0gdGV4dEJhc2VsaW5lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dEJhc2VsaW5lID0gdGV4dEJhc2VsaW5lO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwidHJpbVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyaW07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHRyaW0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90cmltICE9PSB0cmltKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpbSA9IHRyaW07XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJ3aGl0ZVNwYWNlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvdyBuZXdsaW5lcyBhbmQgc3BhY2VzIHNob3VsZCBiZSBoYW5kbGVkLlxuICAgICAgICAgKiBEZWZhdWx0IGlzICdwcmUnIChwcmVzZXJ2ZSwgcHJlc2VydmUpLlxuICAgICAgICAgKlxuICAgICAgICAgKiAgdmFsdWUgICAgICAgfCBOZXcgbGluZXMgICAgIHwgICBTcGFjZXNcbiAgICAgICAgICogIC0tLSAgICAgICAgIHwgLS0tICAgICAgICAgICB8ICAgLS0tXG4gICAgICAgICAqICdub3JtYWwnICAgICB8IENvbGxhcHNlICAgICAgfCAgIENvbGxhcHNlXG4gICAgICAgICAqICdwcmUnICAgICAgICB8IFByZXNlcnZlICAgICAgfCAgIFByZXNlcnZlXG4gICAgICAgICAqICdwcmUtbGluZScgICB8IFByZXNlcnZlICAgICAgfCAgIENvbGxhcHNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3doaXRlU3BhY2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHdoaXRlU3BhY2UpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93aGl0ZVNwYWNlICE9PSB3aGl0ZVNwYWNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2hpdGVTcGFjZSA9IHdoaXRlU3BhY2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJ3b3JkV3JhcFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgd29yZCB3cmFwIHNob3VsZCBiZSB1c2VkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93b3JkV3JhcDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAod29yZFdyYXApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93b3JkV3JhcCAhPT0gd29yZFdyYXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JkV3JhcCA9IHdvcmRXcmFwO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwid29yZFdyYXBXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggYXQgd2hpY2ggdGV4dCB3aWxsIHdyYXAsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmRXcmFwV2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93b3JkV3JhcFdpZHRoICE9PSB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29yZFdyYXBXaWR0aCA9IHdvcmRXcmFwV2lkdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBmb250IHN0eWxlIHN0cmluZyB0byB1c2UgZm9yIGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCgpYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gRm9udCBzdHlsZSBzdHJpbmcsIGZvciBwYXNzaW5nIHRvIGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCgpYFxuICAgICAqL1xuICAgIFRleHRTdHlsZS5wcm90b3R5cGUudG9Gb250U3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBidWlsZCBjYW52YXMgYXBpIGZvbnQgc2V0dGluZyBmcm9tIGluZGl2aWR1YWwgY29tcG9uZW50cy4gQ29udmVydCBhIG51bWVyaWMgdGhpcy5mb250U2l6ZSB0byBweFxuICAgICAgICB2YXIgZm9udFNpemVTdHJpbmcgPSAodHlwZW9mIHRoaXMuZm9udFNpemUgPT09ICdudW1iZXInKSA/IHRoaXMuZm9udFNpemUgKyBcInB4XCIgOiB0aGlzLmZvbnRTaXplO1xuICAgICAgICAvLyBDbGVhbi11cCBmb250RmFtaWx5IHByb3BlcnR5IGJ5IHF1b3RpbmcgZWFjaCBmb250IG5hbWVcbiAgICAgICAgLy8gdGhpcyB3aWxsIHN1cHBvcnQgZm9udCBuYW1lcyB3aXRoIHNwYWNlc1xuICAgICAgICB2YXIgZm9udEZhbWlsaWVzID0gdGhpcy5mb250RmFtaWx5O1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5mb250RmFtaWx5KSkge1xuICAgICAgICAgICAgZm9udEZhbWlsaWVzID0gdGhpcy5mb250RmFtaWx5LnNwbGl0KCcsJyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IGZvbnRGYW1pbGllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgLy8gVHJpbSBhbnkgZXh0cmEgd2hpdGUtc3BhY2VcbiAgICAgICAgICAgIHZhciBmb250RmFtaWx5ID0gZm9udEZhbWlsaWVzW2ldLnRyaW0oKTtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGZvbnQgYWxyZWFkeSBjb250YWlucyBzdHJpbmdzXG4gICAgICAgICAgICBpZiAoISgvKFtcXFwiXFwnXSlbXlxcJ1xcXCJdK1xcMS8pLnRlc3QoZm9udEZhbWlseSkgJiYgZ2VuZXJpY0ZvbnRGYW1pbGllcy5pbmRleE9mKGZvbnRGYW1pbHkpIDwgMCkge1xuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHkgPSBcIlxcXCJcIiArIGZvbnRGYW1pbHkgKyBcIlxcXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvbnRGYW1pbGllc1tpXSA9IGZvbnRGYW1pbHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9udFN0eWxlICsgXCIgXCIgKyB0aGlzLmZvbnRWYXJpYW50ICsgXCIgXCIgKyB0aGlzLmZvbnRXZWlnaHQgKyBcIiBcIiArIGZvbnRTaXplU3RyaW5nICsgXCIgXCIgKyBmb250RmFtaWxpZXMuam9pbignLCcpO1xuICAgIH07XG4gICAgcmV0dXJuIFRleHRTdHlsZTtcbn0oKSk7XG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBjb2xvclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29sb3IgYXMgYSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGdldFNpbmdsZUNvbG9yKGNvbG9yKSB7XG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGhleDJzdHJpbmcoY29sb3IpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgY29sb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChjb2xvci5pbmRleE9mKCcweCcpID09PSAwKSB7XG4gICAgICAgICAgICBjb2xvciA9IGNvbG9yLnJlcGxhY2UoJzB4JywgJyMnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29sb3I7XG59XG5mdW5jdGlvbiBnZXRDb2xvcihjb2xvcikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICAgICAgcmV0dXJuIGdldFNpbmdsZUNvbG9yKGNvbG9yKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sb3IubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbG9yW2ldID0gZ2V0U2luZ2xlQ29sb3IoY29sb3JbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG59XG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBUaGlzIHZlcnNpb24gY2FuIGFsc28gY29udmVydCBhcnJheSBvZiBjb2xvcnNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheTEgLSBGaXJzdCBhcnJheSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheTIgLSBTZWNvbmQgYXJyYXkgdG8gY29tcGFyZVxuICogQHJldHVybiB7Ym9vbGVhbn0gRG8gdGhlIGFycmF5cyBjb250YWluIHRoZSBzYW1lIHZhbHVlcyBpbiB0aGUgc2FtZSBvcmRlclxuICovXG5mdW5jdGlvbiBhcmVBcnJheXNFcXVhbChhcnJheTEsIGFycmF5Mikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheTEpIHx8ICFBcnJheS5pc0FycmF5KGFycmF5MikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYXJyYXkxLmxlbmd0aCAhPT0gYXJyYXkyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkxLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChhcnJheTFbaV0gIT09IGFycmF5MltpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGVuc3VyZSB0aGF0IG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBjb3BpZWQgYnkgdmFsdWUsIGFuZCBub3QgYnkgcmVmZXJlbmNlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCAtIFRhcmdldCBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGludG9cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgLSBTb3VyY2Ugb2JqZWN0IGZvciB0aGUgcHJvcGVydGllcyB0byBjb3B5XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlPYmogLSBPYmplY3QgY29udGFpbmluZyBwcm9wZXJ0aWVzIG5hbWVzIHdlIHdhbnQgdG8gbG9vcCBvdmVyXG4gKi9cbmZ1bmN0aW9uIGRlZXBDb3B5UHJvcGVydGllcyh0YXJnZXQsIHNvdXJjZSwgcHJvcGVydHlPYmopIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIHByb3BlcnR5T2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZVtwcm9wXSkpIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXS5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBUZXh0TWV0cmljcyBvYmplY3QgcmVwcmVzZW50cyB0aGUgbWVhc3VyZW1lbnQgb2YgYSBibG9jayBvZiB0ZXh0IHdpdGggYSBzcGVjaWZpZWQgc3R5bGUuXG4gKlxuICogYGBganNcbiAqIGxldCBzdHlsZSA9IG5ldyBQSVhJLlRleHRTdHlsZSh7Zm9udEZhbWlseSA6ICdBcmlhbCcsIGZvbnRTaXplOiAyNCwgZmlsbCA6IDB4ZmYxMDEwLCBhbGlnbiA6ICdjZW50ZXInfSlcbiAqIGxldCB0ZXh0TWV0cmljcyA9IFBJWEkuVGV4dE1ldHJpY3MubWVhc3VyZVRleHQoJ1lvdXIgdGV4dCcsIHN0eWxlKVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dE1ldHJpY3MgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgdGV4dCB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHN0eWxlIHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIG1lYXN1cmVkIHdpZHRoIG9mIHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBtZWFzdXJlZCBoZWlnaHQgb2YgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBsaW5lcyAtIGFuIGFycmF5IG9mIHRoZSBsaW5lcyBvZiB0ZXh0IGJyb2tlbiBieSBuZXcgbGluZXMgYW5kIHdyYXBwaW5nIGlmIHNwZWNpZmllZCBpbiBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGxpbmVXaWR0aHMgLSBhbiBhcnJheSBvZiB0aGUgbGluZSB3aWR0aHMgZm9yIGVhY2ggbGluZSBtYXRjaGVkIHRvIGBsaW5lc2BcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGluZUhlaWdodCAtIHRoZSBtZWFzdXJlZCBsaW5lIGhlaWdodCBmb3IgdGhpcyBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhMaW5lV2lkdGggLSB0aGUgbWF4aW11bSBsaW5lIHdpZHRoIGZvciBhbGwgbWVhc3VyZWQgbGluZXNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZm9udFByb3BlcnRpZXMgLSB0aGUgZm9udCBwcm9wZXJ0aWVzIG9iamVjdCBmcm9tIFRleHRNZXRyaWNzLm1lYXN1cmVGb250XG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dE1ldHJpY3ModGV4dCwgc3R5bGUsIHdpZHRoLCBoZWlnaHQsIGxpbmVzLCBsaW5lV2lkdGhzLCBsaW5lSGVpZ2h0LCBtYXhMaW5lV2lkdGgsIGZvbnRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dCB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0eWxlIHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dFN0eWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1lYXN1cmVkIHdpZHRoIG9mIHRoZSB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtZWFzdXJlZCBoZWlnaHQgb2YgdGhlIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBsaW5lcyBvZiB0aGUgdGV4dCBicm9rZW4gYnkgbmV3IGxpbmVzIGFuZCB3cmFwcGluZyBpcyBzcGVjaWZpZWQgaW4gc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVzID0gbGluZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiB0aGUgbGluZSB3aWR0aHMgZm9yIGVhY2ggbGluZSBtYXRjaGVkIHRvIGBsaW5lc2BcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVXaWR0aHMgPSBsaW5lV2lkdGhzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1lYXN1cmVkIGxpbmUgaGVpZ2h0IGZvciB0aGlzIHN0eWxlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4aW11bSBsaW5lIHdpZHRoIGZvciBhbGwgbWVhc3VyZWQgbGluZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhMaW5lV2lkdGggPSBtYXhMaW5lV2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBwcm9wZXJ0aWVzIG9iamVjdCBmcm9tIFRleHRNZXRyaWNzLm1lYXN1cmVGb250XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSUZvbnRNZXRyaWNzfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb250UHJvcGVydGllcyA9IGZvbnRQcm9wZXJ0aWVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZWFzdXJlcyB0aGUgc3VwcGxpZWQgc3RyaW5nIG9mIHRleHQgYW5kIHJldHVybnMgYSBSZWN0YW5nbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRoZSB0ZXh0IHRvIG1lYXN1cmUuXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSB0aGUgdGV4dCBzdHlsZSB0byB1c2UgZm9yIG1lYXN1cmluZ1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3dvcmRXcmFwXSAtIG9wdGlvbmFsIG92ZXJyaWRlIGZvciBpZiB3b3JkLXdyYXAgc2hvdWxkIGJlIGFwcGxpZWQgdG8gdGhlIHRleHQuXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0TWV0cmljc30gbWVhc3VyZWQgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgdGV4dC5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5tZWFzdXJlVGV4dCA9IGZ1bmN0aW9uICh0ZXh0LCBzdHlsZSwgd29yZFdyYXAsIGNhbnZhcykge1xuICAgICAgICBpZiAoY2FudmFzID09PSB2b2lkIDApIHsgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhczsgfVxuICAgICAgICB3b3JkV3JhcCA9ICh3b3JkV3JhcCA9PT0gdW5kZWZpbmVkIHx8IHdvcmRXcmFwID09PSBudWxsKSA/IHN0eWxlLndvcmRXcmFwIDogd29yZFdyYXA7XG4gICAgICAgIHZhciBmb250ID0gc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgICAgIHZhciBmb250UHJvcGVydGllcyA9IFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuICAgICAgICAvLyBmYWxsYmFjayBpbiBjYXNlIFVBIGRpc2FsbG93IGNhbnZhcyBkYXRhIGV4dHJhY3Rpb25cbiAgICAgICAgLy8gKHRvRGF0YVVSSSwgZ2V0SW1hZ2VEYXRhIGZ1bmN0aW9ucylcbiAgICAgICAgaWYgKGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplID09PSAwKSB7XG4gICAgICAgICAgICBmb250UHJvcGVydGllcy5mb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplO1xuICAgICAgICAgICAgZm9udFByb3BlcnRpZXMuYXNjZW50ID0gc3R5bGUuZm9udFNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcbiAgICAgICAgdmFyIG91dHB1dFRleHQgPSB3b3JkV3JhcCA/IFRleHRNZXRyaWNzLndvcmRXcmFwKHRleHQsIHN0eWxlLCBjYW52YXMpIDogdGV4dDtcbiAgICAgICAgdmFyIGxpbmVzID0gb3V0cHV0VGV4dC5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyk7XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gbmV3IEFycmF5KGxpbmVzLmxlbmd0aCk7XG4gICAgICAgIHZhciBtYXhMaW5lV2lkdGggPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbGluZVdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dChsaW5lc1tpXSkud2lkdGggKyAoKGxpbmVzW2ldLmxlbmd0aCAtIDEpICogc3R5bGUubGV0dGVyU3BhY2luZyk7XG4gICAgICAgICAgICBsaW5lV2lkdGhzW2ldID0gbGluZVdpZHRoO1xuICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsaW5lV2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3aWR0aCA9IG1heExpbmVXaWR0aCArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIHdpZHRoICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGluZUhlaWdodCA9IHN0eWxlLmxpbmVIZWlnaHQgfHwgZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLm1heChsaW5lSGVpZ2h0LCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcylcbiAgICAgICAgICAgICsgKChsaW5lcy5sZW5ndGggLSAxKSAqIChsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZykpO1xuICAgICAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdykge1xuICAgICAgICAgICAgaGVpZ2h0ICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRleHRNZXRyaWNzKHRleHQsIHN0eWxlLCB3aWR0aCwgaGVpZ2h0LCBsaW5lcywgbGluZVdpZHRocywgbGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcsIG1heExpbmVXaWR0aCwgZm9udFByb3BlcnRpZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBuZXdsaW5lcyB0byBhIHN0cmluZyB0byBoYXZlIGl0IG9wdGltYWxseSBmaXQgaW50byB0aGUgaG9yaXpvbnRhbFxuICAgICAqIGJvdW5kcyBzZXQgYnkgdGhlIFRleHQgb2JqZWN0J3Mgd29yZFdyYXBXaWR0aCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBTdHJpbmcgdG8gYXBwbHkgd29yZCB3cmFwcGluZyB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHN0eWxlIHRvIHVzZSB3aGVuIHdyYXBwaW5nXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBOZXcgc3RyaW5nIHdpdGggbmV3IGxpbmVzIGFwcGxpZWQgd2hlcmUgcmVxdWlyZWRcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy53b3JkV3JhcCA9IGZ1bmN0aW9uICh0ZXh0LCBzdHlsZSwgY2FudmFzKSB7XG4gICAgICAgIGlmIChjYW52YXMgPT09IHZvaWQgMCkgeyBjYW52YXMgPSBUZXh0TWV0cmljcy5fY2FudmFzOyB9XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHZhciB3aWR0aCA9IDA7XG4gICAgICAgIHZhciBsaW5lID0gJyc7XG4gICAgICAgIHZhciBsaW5lcyA9ICcnO1xuICAgICAgICB2YXIgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmcsIHdoaXRlU3BhY2UgPSBzdHlsZS53aGl0ZVNwYWNlO1xuICAgICAgICAvLyBIb3cgdG8gaGFuZGxlIHdoaXRlc3BhY2VzXG4gICAgICAgIHZhciBjb2xsYXBzZVNwYWNlcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlU3BhY2VzKHdoaXRlU3BhY2UpO1xuICAgICAgICB2YXIgY29sbGFwc2VOZXdsaW5lcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlTmV3bGluZXMod2hpdGVTcGFjZSk7XG4gICAgICAgIC8vIHdoZXRoZXIgb3Igbm90IHNwYWNlcyBtYXkgYmUgYWRkZWQgdG8gdGhlIGJlZ2lubmluZyBvZiBsaW5lc1xuICAgICAgICB2YXIgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcbiAgICAgICAgLy8gVGhlcmUgaXMgbGV0dGVyU3BhY2luZyBhZnRlciBldmVyeSBjaGFyIGV4Y2VwdCB0aGUgbGFzdCBvbmVcbiAgICAgICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFcbiAgICAgICAgLy8gc28gZm9yIGNvbnZlbmllbmNlIHRoZSBhYm92ZSBuZWVkcyB0byBiZSBjb21wYXJlZCB0byB3aWR0aCArIDEgZXh0cmEgbGV0dGVyU3BhY2VcbiAgICAgICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFfXG4gICAgICAgIC8vIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuICAgICAgICAvLyBBbmQgdGhlbiB0aGUgZmluYWwgc3BhY2UgaXMgc2ltcGx5IG5vIGFwcGVuZGVkIHRvIGVhY2ggbGluZVxuICAgICAgICB2YXIgd29yZFdyYXBXaWR0aCA9IHN0eWxlLndvcmRXcmFwV2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAvLyBicmVhayB0ZXh0IGludG8gd29yZHMsIHNwYWNlcyBhbmQgbmV3bGluZSBjaGFyc1xuICAgICAgICB2YXIgdG9rZW5zID0gVGV4dE1ldHJpY3MudG9rZW5pemUodGV4dCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIHdvcmQsIHNwYWNlIG9yIG5ld2xpbmVDaGFyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICAvLyBpZiB3b3JkIGlzIGEgbmV3IGxpbmVcbiAgICAgICAgICAgIGlmIChUZXh0TWV0cmljcy5pc05ld2xpbmUodG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgLy8ga2VlcCB0aGUgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICBpZiAoIWNvbGxhcHNlTmV3bGluZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgbmV3IGxpbmVzXG4gICAgICAgICAgICAgICAgLy8gd2Ugc2ltcGx5IGNvbnZlcnQgaXQgaW50byBhIHNwYWNlXG4gICAgICAgICAgICAgICAgdG9rZW4gPSAnICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgcmVwZWF0ZWQgd2hpdGVzcGFjZXNcbiAgICAgICAgICAgIGlmIChjb2xsYXBzZVNwYWNlcykge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGJvdGggdGhpcyBhbmQgdGhlIGxhc3QgdG9rZW5zIGZvciBzcGFjZXNcbiAgICAgICAgICAgICAgICB2YXIgY3VycklzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbik7XG4gICAgICAgICAgICAgICAgdmFyIGxhc3RJc0JyZWFraW5nU3BhY2UgPSBUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UobGluZVtsaW5lLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycklzQnJlYWtpbmdTcGFjZSAmJiBsYXN0SXNCcmVha2luZ1NwYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGdldCB3b3JkIHdpZHRoIGZyb20gY2FjaGUgaWYgcG9zc2libGVcbiAgICAgICAgICAgIHZhciB0b2tlbldpZHRoID0gVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlKHRva2VuLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG4gICAgICAgICAgICAvLyB3b3JkIGlzIGxvbmdlciB0aGFuIGRlc2lyZWQgYm91bmRzXG4gICAgICAgICAgICBpZiAodG9rZW5XaWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGFscmVhZHkgYXQgdGhlIGJlZ2lubmluZyBvZiBhIGxpbmVcbiAgICAgICAgICAgICAgICBpZiAobGluZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgbmV3bGluZXMgZm9yIG92ZXJmbG93IHdvcmRzXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBicmVhayBsYXJnZSB3b3JkIG92ZXIgbXVsdGlwbGUgbGluZXNcbiAgICAgICAgICAgICAgICBpZiAoVGV4dE1ldHJpY3MuY2FuQnJlYWtXb3Jkcyh0b2tlbiwgc3R5bGUuYnJlYWtXb3JkcykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYnJlYWsgd29yZCBpbnRvIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJhY3RlcnMgPSBUZXh0TWV0cmljcy53b3JkV3JhcFNwbGl0KHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9vcCB0aGUgY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNoYXJhY3RlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFyID0gY2hhcmFjdGVyc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBub3QgYXQgdGhlIGVuZCBvZiB0aGUgdG9rZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChjaGFyYWN0ZXJzW2ogKyBrXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0Q2hhciA9IGNoYXJhY3RlcnNbaiArIGtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXN0Q2hhciA9IGNoYXJbY2hhci5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG91bGQgbm90IHNwbGl0IGNoYXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFUZXh0TWV0cmljcy5jYW5CcmVha0NoYXJzKGxhc3RDaGFyLCBuZXh0Q2hhciwgdG9rZW4sIGosIHN0eWxlLmJyZWFrV29yZHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbWJpbmUgY2hhcnMgJiBtb3ZlIGZvcndhcmQgb25lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXIgKz0gbmV4dENoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaiArPSBjaGFyLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmFjdGVyV2lkdGggPSBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUoY2hhciwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJhY3RlcldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gY2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IGNoYXJhY3RlcldpZHRoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJ1biB3b3JkIG91dCBvZiB0aGUgYm91bmRzXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGFyZSB3b3JkcyBpbiB0aGlzIGxpbmUgYWxyZWFkeVxuICAgICAgICAgICAgICAgICAgICAvLyBmaW5pc2ggdGhhdCBsaW5lIGFuZCBzdGFydCBhIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNMYXN0VG9rZW4gPSBpID09PSB0b2tlbnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2l2ZSBpdCBpdHMgb3duIGxpbmUgaWYgaXQncyBub3QgdGhlIGVuZFxuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKHRva2VuLCAhaXNMYXN0VG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdvcmQgY291bGQgZml0XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB3b3JkIHdvbid0IGZpdCBiZWNhdXNlIG9mIGV4aXN0aW5nIHdvcmRzXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgIGlmICh0b2tlbldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0cyBhIHNwYWNlIHdlIGRvbid0IHdhbnQgaXRcbiAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCBhIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkb24ndCBhZGQgc3BhY2VzIHRvIHRoZSBiZWdpbm5pbmcgb2YgbGluZXNcbiAgICAgICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwIHx8ICFUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UodG9rZW4pIHx8IGNhblByZXBlbmRTcGFjZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSB3b3JkIHRvIHRoZSBjdXJyZW50IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgbGluZSArPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHdpZHRoIGNvdW50ZXJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gdG9rZW5XaWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBsaW5lcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZpZW5pZW5jZSBmdW5jdGlvbiBmb3IgbG9nZ2luZyBlYWNoIGxpbmUgYWRkZWQgZHVyaW5nIHRoZSB3b3JkV3JhcFxuICAgICAqIG1ldGhvZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgbGluZSAgICAgICAgLSBUaGUgbGluZSBvZiB0ZXh0IHRvIGFkZFxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBuZXdMaW5lICAgICAtIEFkZCBuZXcgbGluZSBjaGFyYWN0ZXIgdG8gZW5kXG4gICAgICogQHJldHVybiB7c3RyaW5nfSAgQSBmb3JtYXR0ZWQgbGluZVxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmFkZExpbmUgPSBmdW5jdGlvbiAobGluZSwgbmV3TGluZSkge1xuICAgICAgICBpZiAobmV3TGluZSA9PT0gdm9pZCAwKSB7IG5ld0xpbmUgPSB0cnVlOyB9XG4gICAgICAgIGxpbmUgPSBUZXh0TWV0cmljcy50cmltUmlnaHQobGluZSk7XG4gICAgICAgIGxpbmUgPSAobmV3TGluZSkgPyBsaW5lICsgXCJcXG5cIiA6IGxpbmU7XG4gICAgICAgIHJldHVybiBsaW5lO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyAmIHNldHMgdGhlIHdpZHRocyBvZiBjYWxjdWxhdGVkIGNoYXJhY3RlcnMgaW4gYSBjYWNoZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgICAgICAgICAgICAgICAgICAga2V5ICAgICAgICAgICAgLSBUaGUga2V5XG4gICAgICogQHBhcmFtICB7bnVtYmVyfSAgICAgICAgICAgICAgICAgICAgbGV0dGVyU3BhY2luZyAgLSBUaGUgbGV0dGVyIHNwYWNpbmdcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgICBjYWNoZSAgICAgICAgICAtIFRoZSBjYWNoZVxuICAgICAqIEBwYXJhbSAge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gIGNvbnRleHQgICAgICAgIC0gVGhlIGNhbnZhcyBjb250ZXh0XG4gICAgICogQHJldHVybiB7bnVtYmVyfSAgICAgICAgICAgICAgICAgICAgVGhlIGZyb20gY2FjaGUuXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlID0gZnVuY3Rpb24gKGtleSwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gY2FjaGVba2V5XTtcbiAgICAgICAgaWYgKHR5cGVvZiB3aWR0aCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHZhciBzcGFjaW5nID0gKChrZXkubGVuZ3RoKSAqIGxldHRlclNwYWNpbmcpO1xuICAgICAgICAgICAgd2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGtleSkud2lkdGggKyBzcGFjaW5nO1xuICAgICAgICAgICAgY2FjaGVba2V5XSA9IHdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aWR0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciB3ZSBzaG91bGQgY29sbGFwc2UgYnJlYWtpbmcgc3BhY2VzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICB3aGl0ZVNwYWNlIC0gVGhlIFRleHRTdHlsZSBwcm9wZXJ0eSB3aGl0ZVNwYWNlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIHNob3VsZCBjb2xsYXBzZVxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmNvbGxhcHNlU3BhY2VzID0gZnVuY3Rpb24gKHdoaXRlU3BhY2UpIHtcbiAgICAgICAgcmV0dXJuICh3aGl0ZVNwYWNlID09PSAnbm9ybWFsJyB8fCB3aGl0ZVNwYWNlID09PSAncHJlLWxpbmUnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciB3ZSBzaG91bGQgY29sbGFwc2UgbmV3TGluZSBjaGFyc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgd2hpdGVTcGFjZSAtIFRoZSB3aGl0ZSBzcGFjZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBzaG91bGQgY29sbGFwc2VcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5jb2xsYXBzZU5ld2xpbmVzID0gZnVuY3Rpb24gKHdoaXRlU3BhY2UpIHtcbiAgICAgICAgcmV0dXJuICh3aGl0ZVNwYWNlID09PSAnbm9ybWFsJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiB0cmltcyBicmVha2luZyB3aGl0ZXNwYWNlcyBmcm9tIHN0cmluZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0ZXh0IC0gVGhlIHRleHRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9ICB0cmltbWVkIHN0cmluZ1xuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLnRyaW1SaWdodCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gdGV4dC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIGNoYXIgPSB0ZXh0W2ldO1xuICAgICAgICAgICAgaWYgKCFUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UoY2hhcikpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgY2hhciBpcyBhIG5ld2xpbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgLSBUaGUgY2hhcmFjdGVyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIFRydWUgaWYgbmV3bGluZSwgRmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmlzTmV3bGluZSA9IGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFRleHRNZXRyaWNzLl9uZXdsaW5lcy5pbmRleE9mKGNoYXIuY2hhckNvZGVBdCgwKSkgPj0gMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGNoYXIgaXMgYSBicmVha2luZyB3aGl0ZXNwYWNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICBjaGFyIC0gVGhlIGNoYXJhY3RlclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBUcnVlIGlmIHdoaXRlc3BhY2UsIEZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UgPSBmdW5jdGlvbiAoY2hhcikge1xuICAgICAgICBpZiAodHlwZW9mIGNoYXIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChUZXh0TWV0cmljcy5fYnJlYWtpbmdTcGFjZXMuaW5kZXhPZihjaGFyLmNoYXJDb2RlQXQoMCkpID49IDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3BsaXRzIGEgc3RyaW5nIGludG8gd29yZHMsIGJyZWFraW5nLXNwYWNlcyBhbmQgbmV3TGluZSBjaGFyYWN0ZXJzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRleHQgLSBUaGUgdGV4dFxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfSAgQSB0b2tlbml6ZWQgYXJyYXlcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy50b2tlbml6ZSA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIHZhciB0b2tlbnMgPSBbXTtcbiAgICAgICAgdmFyIHRva2VuID0gJyc7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hhciA9IHRleHRbaV07XG4gICAgICAgICAgICBpZiAoVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGNoYXIpIHx8IFRleHRNZXRyaWNzLmlzTmV3bGluZShjaGFyKSkge1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbiAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaChjaGFyKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2VuICs9IGNoYXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRva2VuICE9PSAnJykge1xuICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBoZWxwZXIgbWV0aG9kIHVzZWQgaW50ZXJuYWxseSBieSBUZXh0TWV0cmljcywgZXhwb3NlZCB0byBhbGxvdyBjdXN0b21pemluZyB0aGUgY2xhc3MncyBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqIEl0IGFsbG93cyBvbmUgdG8gY3VzdG9taXNlIHdoaWNoIHdvcmRzIHNob3VsZCBicmVha1xuICAgICAqIEV4YW1wbGVzIGFyZSBpZiB0aGUgdG9rZW4gaXMgQ0pLIG9yIG51bWJlcnMuXG4gICAgICogSXQgbXVzdCByZXR1cm4gYSBib29sZWFuLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdG9rZW4gICAgICAgLSBUaGUgdG9rZW5cbiAgICAgKiBAcGFyYW0gIHtib29sZWFufSAgYnJlYWtXb3JkcyAtIFRoZSBzdHlsZSBhdHRyIGJyZWFrIHdvcmRzXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0byBicmVhayB3b3JkIG9yIG5vdFxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmNhbkJyZWFrV29yZHMgPSBmdW5jdGlvbiAoX3Rva2VuLCBicmVha1dvcmRzKSB7XG4gICAgICAgIHJldHVybiBicmVha1dvcmRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGFibGUgaGVscGVyIG1ldGhvZCB1c2VkIGludGVybmFsbHkgYnkgVGV4dE1ldHJpY3MsIGV4cG9zZWQgdG8gYWxsb3cgY3VzdG9taXppbmcgdGhlIGNsYXNzJ3MgYmVoYXZpb3IuXG4gICAgICpcbiAgICAgKiBJdCBhbGxvd3Mgb25lIHRvIGRldGVybWluZSB3aGV0aGVyIGEgcGFpciBvZiBjaGFyYWN0ZXJzXG4gICAgICogc2hvdWxkIGJlIGJyb2tlbiBieSBuZXdsaW5lc1xuICAgICAqIEZvciBleGFtcGxlIGNlcnRhaW4gY2hhcmFjdGVycyBpbiBDSksgbGFuZ3Mgb3IgbnVtYmVycy5cbiAgICAgKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICBjaGFyICAgICAgICAtIFRoZSBjaGFyYWN0ZXJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICBuZXh0Q2hhciAgICAtIFRoZSBuZXh0IGNoYXJhY3RlclxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRva2VuICAgICAgIC0gVGhlIHRva2VuL3dvcmQgdGhlIGNoYXJhY3RlcnMgYXJlIGZyb21cbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICBpbmRleCAgICAgICAtIFRoZSBpbmRleCBpbiB0aGUgdG9rZW4gb2YgdGhlIGNoYXJcbiAgICAgKiBAcGFyYW0gIHtib29sZWFufSAgYnJlYWtXb3JkcyAtIFRoZSBzdHlsZSBhdHRyIGJyZWFrIHdvcmRzXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0byBicmVhayB3b3JkIG9yIG5vdFxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmNhbkJyZWFrQ2hhcnMgPSBmdW5jdGlvbiAoX2NoYXIsIF9uZXh0Q2hhciwgX3Rva2VuLCBfaW5kZXgsIF9icmVha1dvcmRzKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGFibGUgaGVscGVyIG1ldGhvZCB1c2VkIGludGVybmFsbHkgYnkgVGV4dE1ldHJpY3MsIGV4cG9zZWQgdG8gYWxsb3cgY3VzdG9taXppbmcgdGhlIGNsYXNzJ3MgYmVoYXZpb3IuXG4gICAgICpcbiAgICAgKiBJdCBpcyBjYWxsZWQgd2hlbiBhIHRva2VuICh1c3VhbGx5IGEgd29yZCkgaGFzIHRvIGJlIHNwbGl0IGludG8gc2VwYXJhdGUgcGllY2VzXG4gICAgICogaW4gb3JkZXIgdG8gZGV0ZXJtaW5lIHRoZSBwb2ludCB0byBicmVhayBhIHdvcmQuXG4gICAgICogSXQgbXVzdCByZXR1cm4gYW4gYXJyYXkgb2YgY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ29ycmVjdGx5IHNwbGl0cyBlbW9qaXMsIGVnIFwi8J+kqvCfpKpcIiB3aWxsIHJlc3VsdCBpbiB0d28gZWxlbWVudCBhcnJheSwgZWFjaCB3aXRoIG9uZSBlbW9qaS5cbiAgICAgKiBUZXh0TWV0cmljcy53b3JkV3JhcFNwbGl0ID0gKHRva2VuKSA9PiBbLi4udG9rZW5dO1xuICAgICAqXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdG9rZW4gLSBUaGUgdG9rZW4gdG8gc3BsaXRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmdbXX0gVGhlIGNoYXJhY3RlcnMgb2YgdGhlIHRva2VuXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3Mud29yZFdyYXBTcGxpdCA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICByZXR1cm4gdG9rZW4uc3BsaXQoJycpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgYXNjZW50LCBkZXNjZW50IGFuZCBmb250U2l6ZSBvZiBhIGdpdmVuIGZvbnQtc3R5bGVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZm9udCAtIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIHN0eWxlIG9mIHRoZSBmb250XG4gICAgICogQHJldHVybiB7UElYSS5JRm9udE1ldHJpY3N9IEZvbnQgcHJvcGVydGllcyBvYmplY3RcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCA9IGZ1bmN0aW9uIChmb250KSB7XG4gICAgICAgIC8vIGFzIHRoaXMgbWV0aG9kIGlzIHVzZWQgZm9yIHByZXBhcmluZyBhc3NldHMsIGRvbid0IHJlY2FsY3VsYXRlIHRoaW5ncyBpZiB3ZSBkb24ndCBuZWVkIHRvXG4gICAgICAgIGlmIChUZXh0TWV0cmljcy5fZm9udHNbZm9udF0pIHtcbiAgICAgICAgICAgIHJldHVybiBUZXh0TWV0cmljcy5fZm9udHNbZm9udF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICBhc2NlbnQ6IDAsXG4gICAgICAgICAgICBkZXNjZW50OiAwLFxuICAgICAgICAgICAgZm9udFNpemU6IDAsXG4gICAgICAgIH07XG4gICAgICAgIHZhciBjYW52YXMgPSBUZXh0TWV0cmljcy5fY2FudmFzO1xuICAgICAgICB2YXIgY29udGV4dCA9IFRleHRNZXRyaWNzLl9jb250ZXh0O1xuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuICAgICAgICB2YXIgbWV0cmljc1N0cmluZyA9IFRleHRNZXRyaWNzLk1FVFJJQ1NfU1RSSU5HICsgVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MO1xuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLmNlaWwoY29udGV4dC5tZWFzdXJlVGV4dChtZXRyaWNzU3RyaW5nKS53aWR0aCk7XG4gICAgICAgIHZhciBiYXNlbGluZSA9IE1hdGguY2VpbChjb250ZXh0Lm1lYXN1cmVUZXh0KFRleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTCkud2lkdGgpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gMiAqIGJhc2VsaW5lO1xuICAgICAgICBiYXNlbGluZSA9IGJhc2VsaW5lICogVGV4dE1ldHJpY3MuQkFTRUxJTkVfTVVMVElQTElFUiB8IDA7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjZjAwJztcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAnYWxwaGFiZXRpYyc7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMwMDAnO1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KG1ldHJpY3NTdHJpbmcsIDAsIGJhc2VsaW5lKTtcbiAgICAgICAgdmFyIGltYWdlZGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpLmRhdGE7XG4gICAgICAgIHZhciBwaXhlbHMgPSBpbWFnZWRhdGEubGVuZ3RoO1xuICAgICAgICB2YXIgbGluZSA9IHdpZHRoICogNDtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgdmFyIHN0b3AgPSBmYWxzZTtcbiAgICAgICAgLy8gYXNjZW50LiBzY2FuIGZyb20gdG9wIHRvIGJvdHRvbSB1bnRpbCB3ZSBmaW5kIGEgbm9uIHJlZCBwaXhlbFxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYmFzZWxpbmU7ICsraSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lOyBqICs9IDQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VkYXRhW2lkeCArIGpdICE9PSAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc3RvcCkge1xuICAgICAgICAgICAgICAgIGlkeCArPSBsaW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvcGVydGllcy5hc2NlbnQgPSBiYXNlbGluZSAtIGk7XG4gICAgICAgIGlkeCA9IHBpeGVscyAtIGxpbmU7XG4gICAgICAgIHN0b3AgPSBmYWxzZTtcbiAgICAgICAgLy8gZGVzY2VudC4gc2NhbiBmcm9tIGJvdHRvbSB0byB0b3AgdW50aWwgd2UgZmluZCBhIG5vbiByZWQgcGl4ZWxcbiAgICAgICAgZm9yIChpID0gaGVpZ2h0OyBpID4gYmFzZWxpbmU7IC0taSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lOyBqICs9IDQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VkYXRhW2lkeCArIGpdICE9PSAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc3RvcCkge1xuICAgICAgICAgICAgICAgIGlkeCAtPSBsaW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvcGVydGllcy5kZXNjZW50ID0gaSAtIGJhc2VsaW5lO1xuICAgICAgICBwcm9wZXJ0aWVzLmZvbnRTaXplID0gcHJvcGVydGllcy5hc2NlbnQgKyBwcm9wZXJ0aWVzLmRlc2NlbnQ7XG4gICAgICAgIFRleHRNZXRyaWNzLl9mb250c1tmb250XSA9IHByb3BlcnRpZXM7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0aWVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXIgZm9udCBtZXRyaWNzIGluIG1ldHJpY3MgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmb250XSAtIGZvbnQgbmFtZS4gSWYgZm9udCBuYW1lIG5vdCBzZXQgdGhlbiBjbGVhciBjYWNoZSBmb3IgYWxsIGZvbnRzLlxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmNsZWFyTWV0cmljcyA9IGZ1bmN0aW9uIChmb250KSB7XG4gICAgICAgIGlmIChmb250ID09PSB2b2lkIDApIHsgZm9udCA9ICcnOyB9XG4gICAgICAgIGlmIChmb250KSB7XG4gICAgICAgICAgICBkZWxldGUgVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgVGV4dE1ldHJpY3MuX2ZvbnRzID0ge307XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUZXh0TWV0cmljcztcbn0oKSk7XG4vKipcbiAqIEludGVybmFsIHJldHVybiBvYmplY3QgZm9yIHtAbGluayBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVGb250IGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udGB9LlxuICpcbiAqIEB0eXBlZGVmIHtvYmplY3R9IEZvbnRNZXRyaWNzXG4gKiBAcHJvcGVydHkge251bWJlcn0gYXNjZW50IC0gVGhlIGFzY2VudCBkaXN0YW5jZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRlc2NlbnQgLSBUaGUgZGVzY2VudCBkaXN0YW5jZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGZvbnRTaXplIC0gRm9udCBzaXplIGZyb20gYXNjZW50IHRvIGRlc2NlbnRcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgY2FudmFzID0gKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBPZmZzY3JlZW5DYW52YXMyRCBtZWFzdXJlVGV4dCBjYW4gYmUgdXAgdG8gNDAlIGZhc3Rlci5cbiAgICAgICAgdmFyIGMgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKDAsIDApO1xuICAgICAgICB2YXIgY29udGV4dCA9IGMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5tZWFzdXJlVGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIH1cbiAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIH1cbn0pKCk7XG5jYW52YXMud2lkdGggPSBjYW52YXMuaGVpZ2h0ID0gMTA7XG4vKipcbiAqIENhY2hlZCBjYW52YXMgZWxlbWVudCBmb3IgbWVhc3VyaW5nIHRleHRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2NhbnZhcyA9IGNhbnZhcztcbi8qKlxuICogQ2FjaGUgZm9yIGNvbnRleHQgdG8gdXNlLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbi8qKlxuICogQ2FjaGUgb2Yge0BzZWUgUElYSS5UZXh0TWV0cmljcy5Gb250TWV0cmljc30gb2JqZWN0cy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9mb250cyA9IHt9O1xuLyoqXG4gKiBTdHJpbmcgdXNlZCBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqIFRoZXNlIGNoYXJhY3RlcnMgYXJlIGFsbCB0YWxsIHRvIGhlbHAgY2FsY3VsYXRlIHRoZSBoZWlnaHQgcmVxdWlyZWQgZm9yIHRleHQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIE1FVFJJQ1NfU1RSSU5HXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGRlZmF1bHQgfMOJccOFXG4gKi9cblRleHRNZXRyaWNzLk1FVFJJQ1NfU1RSSU5HID0gJ3zDiXHDhSc7XG4vKipcbiAqIEJhc2VsaW5lIHN5bWJvbCBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgQkFTRUxJTkVfU1lNQk9MXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGRlZmF1bHQgTVxuICovXG5UZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wgPSAnTSc7XG4vKipcbiAqIEJhc2VsaW5lIG11bHRpcGxpZXIgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIEJBU0VMSU5FX01VTFRJUExJRVJcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCAxLjRcbiAqL1xuVGV4dE1ldHJpY3MuQkFTRUxJTkVfTVVMVElQTElFUiA9IDEuNDtcbi8qKlxuICogQ2FjaGUgb2YgbmV3IGxpbmUgY2hhcnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtudW1iZXJbXX1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9uZXdsaW5lcyA9IFtcbiAgICAweDAwMEEsXG4gICAgMHgwMDBEIF07XG4vKipcbiAqIENhY2hlIG9mIGJyZWFraW5nIHNwYWNlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge251bWJlcltdfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzID0gW1xuICAgIDB4MDAwOSxcbiAgICAweDAwMjAsXG4gICAgMHgyMDAwLFxuICAgIDB4MjAwMSxcbiAgICAweDIwMDIsXG4gICAgMHgyMDAzLFxuICAgIDB4MjAwNCxcbiAgICAweDIwMDUsXG4gICAgMHgyMDA2LFxuICAgIDB4MjAwOCxcbiAgICAweDIwMDksXG4gICAgMHgyMDBBLFxuICAgIDB4MjA1RixcbiAgICAweDMwMDAgXTtcbi8qKlxuICogQSBudW1iZXIsIG9yIGEgc3RyaW5nIGNvbnRhaW5pbmcgYSBudW1iZXIuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIElGb250TWV0cmljc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGFzY2VudCAtIEZvbnQgYXNjZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gZGVzY2VudCAtIEZvbnQgZGVzY2VudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGZvbnRTaXplIC0gRm9udCBzaXplXG4gKi9cblxudmFyIGRlZmF1bHREZXN0cm95T3B0aW9ucyA9IHtcbiAgICB0ZXh0dXJlOiB0cnVlLFxuICAgIGNoaWxkcmVuOiBmYWxzZSxcbiAgICBiYXNlVGV4dHVyZTogdHJ1ZSxcbn07XG4vKipcbiAqIEEgVGV4dCBPYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQuXG4gKlxuICogVGhlIHRleHQgaXMgY3JlYXRlZCB1c2luZyB0aGUgW0NhbnZhcyBBUEldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNfQVBJKS5cbiAqXG4gKiBUaGUgcHJpbWFyeSBhZHZhbnRhZ2Ugb2YgdGhpcyBjbGFzcyBvdmVyIEJpdG1hcFRleHQgaXMgdGhhdCB5b3UgaGF2ZSBncmVhdCBjb250cm9sIG92ZXIgdGhlIHN0eWxlIG9mIHRoZSBuZXh0LFxuICogd2hpY2ggeW91IGNhbiBjaGFuZ2UgYXQgcnVudGltZS5cbiAqXG4gKiBUaGUgcHJpbWFyeSBkaXNhZHZhbnRhZ2VzIGlzIHRoYXQgZWFjaCBwaWVjZSBvZiB0ZXh0IGhhcyBpdCdzIG93biB0ZXh0dXJlLCB3aGljaCBjYW4gdXNlIG1vcmUgbWVtb3J5LlxuICogV2hlbiB0ZXh0IGNoYW5nZXMsIHRoaXMgdGV4dHVyZSBoYXMgdG8gYmUgcmUtZ2VuZXJhdGVkIGFuZCByZS11cGxvYWRlZCB0byB0aGUgR1BVLCB0YWtpbmcgdXAgdGltZS5cbiAqXG4gKiBUbyBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicgaW4geW91ciB0ZXh0IHN0cmluZywgb3IsIG9uIHRoZSBgc3R5bGVgIG9iamVjdCxcbiAqIGNoYW5nZSBpdHMgYHdvcmRXcmFwYCBwcm9wZXJ0eSB0byB0cnVlIGFuZCBhbmQgZ2l2ZSB0aGUgYHdvcmRXcmFwV2lkdGhgIHByb3BlcnR5IGEgdmFsdWUuXG4gKlxuICogQSBUZXh0IGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYSBzdHJpbmcgYW5kIGEgc3R5bGUgb2JqZWN0LFxuICogd2hpY2ggY2FuIGJlIGdlbmVyYXRlZCBbaGVyZV0oaHR0cHM6Ly9waXhpanMuaW8vcGl4aS10ZXh0LXN0eWxlKS5cbiAqXG4gKiBgYGBqc1xuICogbGV0IHRleHQgPSBuZXcgUElYSS5UZXh0KCdUaGlzIGlzIGEgUGl4aUpTIHRleHQnLHtmb250RmFtaWx5IDogJ0FyaWFsJywgZm9udFNpemU6IDI0LCBmaWxsIDogMHhmZjEwMTAsIGFsaWduIDogJ2NlbnRlcid9KTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TcHJpdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZXh0LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHN0cmluZyB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSB0ZXh0IHRvIGRpc3BsYXlcbiAgICAgKiBAcGFyYW0ge29iamVjdHxQSVhJLlRleHRTdHlsZX0gW3N0eWxlXSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBUaGUgY2FudmFzIGVsZW1lbnQgZm9yIGRyYXdpbmcgdGV4dFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHQodGV4dCwgc3R5bGUsIGNhbnZhcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3duQ2FudmFzID0gZmFsc2U7XG4gICAgICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIG93bkNhbnZhcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FudmFzLndpZHRoID0gMztcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IDM7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gVGV4dHVyZS5mcm9tKGNhbnZhcyk7XG4gICAgICAgIHRleHR1cmUub3JpZyA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgdGV4dHVyZS50cmltID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRleHR1cmUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZWVwIHRyYWNrIGlmIHRoaXMgVGV4dCBvYmplY3QgY3JlYXRlZCBpdCdzIG93biBjYW52YXNcbiAgICAgICAgICogZWxlbWVudCAoYHRydWVgKSBvciB1c2VzIHRoZSBjb25zdHJ1Y3RvciBhcmd1bWVudCAoYGZhbHNlYCkuXG4gICAgICAgICAqIFVzZWQgdG8gd29ya2Fyb3VuZCBhIEdDIGlzc3VlcyB3aXRoIFNhZmFyaSA8IDEzIHdoZW5cbiAgICAgICAgICogZGVzdHJveWluZyBUZXh0LiBTZWUgYGRlc3Ryb3lgIGZvciBtb3JlIGluZm8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fb3duQ2FudmFzID0gb3duQ2FudmFzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB0b1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgMmQgY29udGV4dCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gd2l0aFxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0ID0gX3RoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzLlxuICAgICAgICAgKiBUaGlzIGlzIHNldCB0byBhdXRvbWF0aWNhbGx5IG1hdGNoIHRoZSByZW5kZXJlciByZXNvbHV0aW9uIGJ5IGRlZmF1bHQsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBieSBzZXR0aW5nIG1hbnVhbGx5LlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9yZXNvbHV0aW9uID0gc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgX3RoaXMuX2F1dG9SZXNvbHV0aW9uID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBzdHlsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3N0eWxlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgbGlzdGVuZXIgdG8gdHJhY2sgc3R5bGUgY2hhbmdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fc3R5bGVMaXN0ZW5lciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mb250ID0gJyc7XG4gICAgICAgIF90aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICBfdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICBfdGhpcy5sb2NhbFN0eWxlSUQgPSAtMTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgdG8gaXRzIGNhbnZhcywgYW5kIHVwZGF0ZXMgaXRzIHRleHR1cmUuXG4gICAgICogQnkgZGVmYXVsdCB0aGlzIGlzIHVzZWQgaW50ZXJuYWxseSB0byBlbnN1cmUgdGhlIHRleHR1cmUgaXMgY29ycmVjdCBiZWZvcmUgcmVuZGVyaW5nLFxuICAgICAqIGJ1dCBpdCBjYW4gYmUgdXNlZCBjYWxsZWQgZXh0ZXJuYWxseSwgZm9yIGV4YW1wbGUgZnJvbSB0aGlzIGNsYXNzIHRvICdwcmUtZ2VuZXJhdGUnIHRoZSB0ZXh0dXJlIGZyb20gYSBwaWVjZSBvZiB0ZXh0LFxuICAgICAqIGFuZCB0aGVuIHNoYXJlZCBhY3Jvc3MgbXVsdGlwbGUgU3ByaXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVzcGVjdERpcnR5IC0gV2hldGhlciB0byBhYm9ydCB1cGRhdGluZyB0aGUgdGV4dCBpZiB0aGUgVGV4dCBpc24ndCBkaXJ0eSBhbmQgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZC5cbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0ID0gZnVuY3Rpb24gKHJlc3BlY3REaXJ0eSkge1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcbiAgICAgICAgLy8gY2hlY2sgaWYgc3R5bGUgaGFzIGNoYW5nZWQuLlxuICAgICAgICBpZiAodGhpcy5sb2NhbFN0eWxlSUQgIT09IHN0eWxlLnN0eWxlSUQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5sb2NhbFN0eWxlSUQgPSBzdHlsZS5zdHlsZUlEO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5kaXJ0eSAmJiByZXNwZWN0RGlydHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mb250ID0gdGhpcy5fc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICB2YXIgbWVhc3VyZWQgPSBUZXh0TWV0cmljcy5tZWFzdXJlVGV4dCh0aGlzLl90ZXh0IHx8ICcgJywgdGhpcy5fc3R5bGUsIHRoaXMuX3N0eWxlLndvcmRXcmFwLCB0aGlzLmNhbnZhcyk7XG4gICAgICAgIHZhciB3aWR0aCA9IG1lYXN1cmVkLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gbWVhc3VyZWQuaGVpZ2h0O1xuICAgICAgICB2YXIgbGluZXMgPSBtZWFzdXJlZC5saW5lcztcbiAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBtZWFzdXJlZC5saW5lSGVpZ2h0O1xuICAgICAgICB2YXIgbGluZVdpZHRocyA9IG1lYXN1cmVkLmxpbmVXaWR0aHM7XG4gICAgICAgIHZhciBtYXhMaW5lV2lkdGggPSBtZWFzdXJlZC5tYXhMaW5lV2lkdGg7XG4gICAgICAgIHZhciBmb250UHJvcGVydGllcyA9IG1lYXN1cmVkLmZvbnRQcm9wZXJ0aWVzO1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGguY2VpbCgoTWF0aC5tYXgoMSwgd2lkdGgpICsgKHN0eWxlLnBhZGRpbmcgKiAyKSkgKiB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKChNYXRoLm1heCgxLCBoZWlnaHQpICsgKHN0eWxlLnBhZGRpbmcgKiAyKSkgKiB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgY29udGV4dC5zY2FsZSh0aGlzLl9yZXNvbHV0aW9uLCB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgICAgIGNvbnRleHQuZm9udCA9IHRoaXMuX2ZvbnQ7XG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IHN0eWxlLnRleHRCYXNlbGluZTtcbiAgICAgICAgY29udGV4dC5saW5lSm9pbiA9IHN0eWxlLmxpbmVKb2luO1xuICAgICAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSBzdHlsZS5taXRlckxpbWl0O1xuICAgICAgICB2YXIgbGluZVBvc2l0aW9uWDtcbiAgICAgICAgdmFyIGxpbmVQb3NpdGlvblk7XG4gICAgICAgIC8vIHJlcXVpcmUgMiBwYXNzZXMgaWYgYSBzaGFkb3c7IHRoZSBmaXJzdCB0byBkcmF3IHRoZSBkcm9wIHNoYWRvdywgdGhlIHNlY29uZCB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICAgIHZhciBwYXNzZXNDb3VudCA9IHN0eWxlLmRyb3BTaGFkb3cgPyAyIDogMTtcbiAgICAgICAgLy8gRm9yIHY0LCB3ZSBkcmV3IHRleHQgYXQgdGhlIGNvbG91cnMgb2YgdGhlIGRyb3Agc2hhZG93IHVuZGVybmVhdGggdGhlIG5vcm1hbCB0ZXh0LiBUaGlzIGdhdmUgdGhlIGNvcnJlY3QgekluZGV4LFxuICAgICAgICAvLyBidXQgZmVhdHVyZXMgc3VjaCBhcyBhbHBoYSBhbmQgc2hhZG93Ymx1ciBkaWQgbm90IGxvb2sgcmlnaHQgYXQgYWxsLCBzaW5jZSB3ZSB3ZXJlIHVzaW5nIGFjdHVhbCB0ZXh0IGFzIGEgc2hhZG93LlxuICAgICAgICAvL1xuICAgICAgICAvLyBGb3IgdjUuMC4wLCB3ZSBtb3ZlZCBvdmVyIHRvIGp1c3QgdXNlIHRoZSBjYW52YXMgQVBJIGZvciBkcm9wIHNoYWRvd3MsIHdoaWNoIG1hZGUgdGhlbSBsb29rIG11Y2ggbmljZXIgYW5kIG1vcmVcbiAgICAgICAgLy8gdmlzdWFsbHkgcGxlYXNlLCBidXQgbm93IGJlY2F1c2UgdGhlIHN0cm9rZSBpcyBkcmF3biBhbmQgdGhlbiB0aGUgZmlsbCwgZHJvcCBzaGFkb3dzIHdvdWxkIGFwcGVhciBvbiBib3RoIHRoZSBmaWxsXG4gICAgICAgIC8vIGFuZCB0aGUgc3Ryb2tlOyBhbmQgZmlsbCBkcm9wIHNoYWRvd3Mgd291bGQgYXBwZWFyIG92ZXIgdGhlIHRvcCBvZiB0aGUgc3Ryb2tlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBGb3IgdjUuMS4xLCB0aGUgbmV3IHJvdXRlIGlzIHRvIHJldmVydCB0byB2NCBzdHlsZSBvZiBkcmF3aW5nIHRleHQgZmlyc3QgdG8gZ2V0IHRoZSBkcm9wIHNoYWRvd3MgdW5kZXJuZWF0aCBub3JtYWxcbiAgICAgICAgLy8gdGV4dCwgYnV0IGluc3RlYWQgZHJhd2luZyB0ZXh0IGluIHRoZSBjb3JyZWN0IGxvY2F0aW9uLCB3ZSdsbCBkcmF3IGl0IG9mZiBzY3JlZW4gKC1wYWRkaW5nWSksIGFuZCB0aGVuIGFkanVzdCB0aGVcbiAgICAgICAgLy8gZHJvcCBzaGFkb3cgc28gb25seSB0aGF0IGFwcGVhcnMgb24gc2NyZWVuICgrcGFkZGluZ1kpLiBOb3cgd2UnbGwgaGF2ZSB0aGUgY29ycmVjdCBkcmF3IG9yZGVyIG9mIHRoZSBzaGFkb3dcbiAgICAgICAgLy8gYmVuZWF0aCB0aGUgdGV4dCwgd2hpbHN0IGFsc28gaGF2aW5nIHRoZSBwcm9wZXIgdGV4dCBzaGFkb3cgc3R5bGluZy5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXNzZXNDb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgaXNTaGFkb3dQYXNzID0gc3R5bGUuZHJvcFNoYWRvdyAmJiBpID09PSAwO1xuICAgICAgICAgICAgLy8gd2Ugb25seSB3YW50IHRoZSBkcm9wIHNoYWRvdywgc28gcHV0IHRleHQgd2F5IG9mZi1zY3JlZW5cbiAgICAgICAgICAgIHZhciBkc09mZnNldFRleHQgPSBpc1NoYWRvd1Bhc3MgPyBNYXRoLmNlaWwoTWF0aC5tYXgoMSwgaGVpZ2h0KSArIChzdHlsZS5wYWRkaW5nICogMikpIDogMDtcbiAgICAgICAgICAgIHZhciBkc09mZnNldFNoYWRvdyA9IGRzT2Zmc2V0VGV4dCAqIHRoaXMuX3Jlc29sdXRpb247XG4gICAgICAgICAgICBpZiAoaXNTaGFkb3dQYXNzKSB7XG4gICAgICAgICAgICAgICAgLy8gT24gU2FmYXJpLCB0ZXh0IHdpdGggZ3JhZGllbnQgYW5kIGRyb3Agc2hhZG93cyB0b2dldGhlciBkbyBub3QgcG9zaXRpb24gY29ycmVjdGx5XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHNjYWxlIG9mIHRoZSBjYW52YXMgaXMgbm90IDE6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xOTc2ODlcbiAgICAgICAgICAgICAgICAvLyBUaGVyZWZvcmUgd2UnbGwgc2V0IHRoZSBzdHlsZXMgdG8gYmUgYSBwbGFpbiBibGFjayB3aGlsc3QgZ2VuZXJhdGluZyB0aGlzIGRyb3Agc2hhZG93XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xuICAgICAgICAgICAgICAgIHZhciBkcm9wU2hhZG93Q29sb3IgPSBzdHlsZS5kcm9wU2hhZG93Q29sb3I7XG4gICAgICAgICAgICAgICAgdmFyIHJnYiA9IGhleDJyZ2IodHlwZW9mIGRyb3BTaGFkb3dDb2xvciA9PT0gJ251bWJlcicgPyBkcm9wU2hhZG93Q29sb3IgOiBzdHJpbmcyaGV4KGRyb3BTaGFkb3dDb2xvcikpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBcInJnYmEoXCIgKyByZ2JbMF0gKiAyNTUgKyBcIixcIiArIHJnYlsxXSAqIDI1NSArIFwiLFwiICsgcmdiWzJdICogMjU1ICsgXCIsXCIgKyBzdHlsZS5kcm9wU2hhZG93QWxwaGEgKyBcIilcIjtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSBzdHlsZS5kcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSBNYXRoLmNvcyhzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IChNYXRoLnNpbihzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlKSArIGRzT2Zmc2V0U2hhZG93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc2V0IGNhbnZhcyB0ZXh0IHN0eWxlc1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5fZ2VuZXJhdGVGaWxsU3R5bGUoc3R5bGUsIGxpbmVzLCBtZWFzdXJlZCk7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogQ2FuJ3QgaGF2ZSBkaWZmZXJlbnQgdHlwZXMgZm9yIGdldHRlciBhbmQgc2V0dGVyLiBUaGUgZ2V0dGVyIHNob3VsZG4ndCBoYXZlIHRoZSBudW1iZXIgdHlwZSBhc1xuICAgICAgICAgICAgICAgIC8vICAgICAgIHRoZSBzZXR0ZXIgY29udmVydHMgdG8gc3RyaW5nLiBTZWUgdGhpcyB0aHJlYWQgZm9yIG1vcmUgZGV0YWlsczpcbiAgICAgICAgICAgICAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSAnYmxhY2snO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IDA7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZHJhdyBsaW5lcyBsaW5lIGJ5IGxpbmVcbiAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IDA7IGlfMSA8IGxpbmVzLmxlbmd0aDsgaV8xKyspIHtcbiAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMjtcbiAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25ZID0gKChzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyKSArIChpXzEgKiBsaW5lSGVpZ2h0KSkgKyBmb250UHJvcGVydGllcy5hc2NlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLmFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXzFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXzFdKSAvIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5zdHJva2UgJiYgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbaV8xXSwgbGluZVBvc2l0aW9uWCArIHN0eWxlLnBhZGRpbmcsIGxpbmVQb3NpdGlvblkgKyBzdHlsZS5wYWRkaW5nIC0gZHNPZmZzZXRUZXh0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLmZpbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhsaW5lc1tpXzFdLCBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcgLSBkc09mZnNldFRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgdGV4dCB3aXRoIGxldHRlci1zcGFjaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHRleHQgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gSG9yaXpvbnRhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBWZXJ0aWNhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJva2U9ZmFsc2VdIC0gSXMgdGhpcyBkcmF3aW5nIGZvciB0aGUgb3V0c2lkZSBzdHJva2Ugb2YgdGhlXG4gICAgICogIHRleHQ/IElmIG5vdCwgaXQncyBmb3IgdGhlIGluc2lkZSBmaWxsXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5kcmF3TGV0dGVyU3BhY2luZyA9IGZ1bmN0aW9uICh0ZXh0LCB4LCB5LCBpc1N0cm9rZSkge1xuICAgICAgICBpZiAoaXNTdHJva2UgPT09IHZvaWQgMCkgeyBpc1N0cm9rZSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuICAgICAgICAvLyBsZXR0ZXJTcGFjaW5nIG9mIDAgbWVhbnMgbm9ybWFsXG4gICAgICAgIHZhciBsZXR0ZXJTcGFjaW5nID0gc3R5bGUubGV0dGVyU3BhY2luZztcbiAgICAgICAgaWYgKGxldHRlclNwYWNpbmcgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChpc1N0cm9rZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50UG9zaXRpb24gPSB4O1xuICAgICAgICAvLyBVc2luZyBBcnJheS5mcm9tIGNvcnJlY3RseSBzcGxpdHMgY2hhcmFjdGVycyB3aGlsc3Qga2VlcGluZyBlbW9qaSB0b2dldGhlci5cbiAgICAgICAgLy8gVGhpcyBpcyBub3Qgc3VwcG9ydGVkIG9uIElFIGFzIGl0IHJlcXVpcmVzIEVTNiwgc28gcmVndWxhciB0ZXh0IHNwbGl0dGluZyBvY2N1cnMuXG4gICAgICAgIC8vIFRoaXMgYWxzbyBkb2Vzbid0IGFjY291bnQgZm9yIGVtb2ppIHRoYXQgYXJlIG11bHRpcGxlIGVtb2ppIHB1dCB0b2dldGhlciB0byBtYWtlIHNvbWV0aGluZyBlbHNlLlxuICAgICAgICAvLyBIYW5kbGluZyBhbGwgb2YgdGhpcyB3b3VsZCByZXF1aXJlIGEgYmlnIGxpYnJhcnkgaXRzZWxmLlxuICAgICAgICAvLyBodHRwczovL21lZGl1bS5jb20vQGdpbHRheWFyL2l0ZXJhdGluZy1vdmVyLWVtb2ppLWNoYXJhY3RlcnMtdGhlLWVzNi13YXktZjA2ZTQ1ODk1MTZcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL29ybGluZy9ncmFwaGVtZS1zcGxpdHRlclxuICAgICAgICB2YXIgc3RyaW5nQXJyYXkgPSBBcnJheS5mcm9tID8gQXJyYXkuZnJvbSh0ZXh0KSA6IHRleHQuc3BsaXQoJycpO1xuICAgICAgICB2YXIgcHJldmlvdXNXaWR0aCA9IHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0KS53aWR0aDtcbiAgICAgICAgdmFyIGN1cnJlbnRXaWR0aCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nQXJyYXkubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50Q2hhciA9IHN0cmluZ0FycmF5W2ldO1xuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQoY3VycmVudENoYXIsIGN1cnJlbnRQb3NpdGlvbiwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQoY3VycmVudENoYXIsIGN1cnJlbnRQb3NpdGlvbiwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50V2lkdGggPSB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGV4dC5zdWJzdHJpbmcoaSArIDEpKS53aWR0aDtcbiAgICAgICAgICAgIGN1cnJlbnRQb3NpdGlvbiArPSBwcmV2aW91c1dpZHRoIC0gY3VycmVudFdpZHRoICsgbGV0dGVyU3BhY2luZztcbiAgICAgICAgICAgIHByZXZpb3VzV2lkdGggPSBjdXJyZW50V2lkdGg7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dHVyZSBzaXplIGJhc2VkIG9uIGNhbnZhcyBzaXplXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnVwZGF0ZVRleHR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgICAgaWYgKHRoaXMuX3N0eWxlLnRyaW0pIHtcbiAgICAgICAgICAgIHZhciB0cmltbWVkID0gdHJpbUNhbnZhcyhjYW52YXMpO1xuICAgICAgICAgICAgaWYgKHRyaW1tZWQuZGF0YSkge1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHRyaW1tZWQud2lkdGg7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHRyaW1tZWQuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5wdXRJbWFnZURhdGEodHJpbW1lZC5kYXRhLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuICAgICAgICB2YXIgcGFkZGluZyA9IHN0eWxlLnRyaW0gPyAwIDogc3R5bGUucGFkZGluZztcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdGV4dHVyZS50cmltLndpZHRoID0gdGV4dHVyZS5fZnJhbWUud2lkdGggPSBNYXRoLmNlaWwoY2FudmFzLndpZHRoIC8gdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIHRleHR1cmUudHJpbS5oZWlnaHQgPSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQgPSBNYXRoLmNlaWwoY2FudmFzLmhlaWdodCAvIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICB0ZXh0dXJlLnRyaW0ueCA9IC1wYWRkaW5nO1xuICAgICAgICB0ZXh0dXJlLnRyaW0ueSA9IC1wYWRkaW5nO1xuICAgICAgICB0ZXh0dXJlLm9yaWcud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCAtIChwYWRkaW5nICogMik7XG4gICAgICAgIHRleHR1cmUub3JpZy5oZWlnaHQgPSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQgLSAocGFkZGluZyAqIDIpO1xuICAgICAgICAvLyBjYWxsIHNwcml0ZSBvblRleHR1cmVVcGRhdGUgdG8gdXBkYXRlIHNjYWxlIGlmIF93aWR0aCBvciBfaGVpZ2h0IHdlcmUgc2V0XG4gICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuICAgICAgICBiYXNlVGV4dHVyZS5zZXRSZWFsU2l6ZShjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQsIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICAvLyBSZWN1cnNpdmVseSB1cGRhdGVzIHRyYW5zZm9ybSBvZiBhbGwgb2JqZWN0cyBmcm9tIHRoZSByb290IHRvIHRoaXMgb25lXG4gICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvUmVzb2x1dGlvbiAmJiB0aGlzLl9yZXNvbHV0aW9uICE9PSByZW5kZXJlci5yZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fcmVuZGVyLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSB0ZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIChyZWN0KSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgVGV4dCBhcyBhIHJlY3RhbmdsZS4gVGhlIGJvdW5kcyBjYWxjdWxhdGlvbiB0YWtlcyB0aGUgd29ybGRUcmFuc2Zvcm0gaW50byBhY2NvdW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbHJlYWR5IGRvbmUgdGhpcyBvbiBUSElTIGZyYW1lLlxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleERhdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBmaWxsIHN0eWxlLiBDYW4gYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhIGdyYWRpZW50IGJhc2VkIG9uIHRoZSBmaWxsIHN0eWxlIGJlaW5nIGFuIGFycmF5XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZSAtIFRoZSBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBsaW5lcyAtIFRoZSBsaW5lcyBvZiB0ZXh0LlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3xudW1iZXJ8Q2FudmFzR3JhZGllbnR9IFRoZSBmaWxsIHN0eWxlXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuX2dlbmVyYXRlRmlsbFN0eWxlID0gZnVuY3Rpb24gKHN0eWxlLCBsaW5lcywgbWV0cmljcykge1xuICAgICAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIG51bWJlciB0eXBlIGFzXG4gICAgICAgIC8vICAgICAgIHRoZSBzZXR0ZXIgY29udmVydHMgdG8gc3RyaW5nLiBTZWUgdGhpcyB0aHJlYWQgZm9yIG1vcmUgZGV0YWlsczpcbiAgICAgICAgLy8gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNTIxXG4gICAgICAgIHZhciBmaWxsU3R5bGUgPSBzdHlsZS5maWxsO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZmlsbFN0eWxlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbGxTdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaWxsU3R5bGUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsbFN0eWxlWzBdO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSBncmFkaWVudCB3aWxsIGJlIGV2ZW5seSBzcGFjZWQgb3V0IGFjY29yZGluZyB0byBob3cgbGFyZ2UgdGhlIGFycmF5IGlzLlxuICAgICAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gd291bGQgY3JlYXRlZCBzdG9wcyBhdCAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICAgICAgdmFyIGdyYWRpZW50O1xuICAgICAgICAvLyBhIGRyb3BzaGFkb3cgd2lsbCBlbmxhcmdlIHRoZSBjYW52YXMgYW5kIHJlc3VsdCBpbiB0aGUgZ3JhZGllbnQgYmVpbmdcbiAgICAgICAgLy8gZ2VuZXJhdGVkIHdpdGggdGhlIGluY29ycmVjdCBkaW1lbnNpb25zXG4gICAgICAgIHZhciBkcm9wU2hhZG93Q29ycmVjdGlvbiA9IChzdHlsZS5kcm9wU2hhZG93KSA/IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSA6IDA7XG4gICAgICAgIC8vIHNob3VsZCBhbHNvIHRha2UgcGFkZGluZyBpbnRvIGFjY291bnQsIHBhZGRpbmcgY2FuIG9mZnNldCB0aGUgZ3JhZGllbnRcbiAgICAgICAgdmFyIHBhZGRpbmcgPSBzdHlsZS5wYWRkaW5nIHx8IDA7XG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy53aWR0aCAvIHRoaXMuX3Jlc29sdXRpb24pIC0gZHJvcFNoYWRvd0NvcnJlY3Rpb24gLSAocGFkZGluZyAqIDIpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5jZWlsKHRoaXMuY2FudmFzLmhlaWdodCAvIHRoaXMuX3Jlc29sdXRpb24pIC0gZHJvcFNoYWRvd0NvcnJlY3Rpb24gLSAocGFkZGluZyAqIDIpO1xuICAgICAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgc3R5bGUgc2V0dGluZ3MsIHNvIHdlIGNhbiBtYW5pcHVsYXRlIHRoZW0gbGF0ZXJcbiAgICAgICAgdmFyIGZpbGwgPSBmaWxsU3R5bGUuc2xpY2UoKTtcbiAgICAgICAgdmFyIGZpbGxHcmFkaWVudFN0b3BzID0gc3R5bGUuZmlsbEdyYWRpZW50U3RvcHMuc2xpY2UoKTtcbiAgICAgICAgLy8gd2FudGluZyB0byBldmVubHkgZGlzdHJpYnV0ZSB0aGUgZmlsbHMuIFNvIGFuIGFycmF5IG9mIDQgY29sb3VycyBzaG91bGQgZ2l2ZSBmaWxscyBvZiAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICAgICAgaWYgKCFmaWxsR3JhZGllbnRTdG9wcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBsZW5ndGhQbHVzMSA9IGZpbGwubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoUGx1czE7ICsraSkge1xuICAgICAgICAgICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goaSAvIGxlbmd0aFBsdXMxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzdG9wIHRoZSBibGVlZGluZyBvZiB0aGUgbGFzdCBncmFkaWVudCBvbiB0aGUgbGluZSBhYm92ZSB0byB0aGUgdG9wIGdyYWRpZW50IG9mIHRoZSB0aGlzIGxpbmVcbiAgICAgICAgLy8gYnkgaGFyZCBkZWZpbmluZyB0aGUgZmlyc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDAsIGFuZCBsYXN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAxXG4gICAgICAgIGZpbGwudW5zaGlmdChmaWxsU3R5bGVbMF0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy51bnNoaWZ0KDApO1xuICAgICAgICBmaWxsLnB1c2goZmlsbFN0eWxlW2ZpbGxTdHlsZS5sZW5ndGggLSAxXSk7XG4gICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goMSk7XG4gICAgICAgIGlmIChzdHlsZS5maWxsR3JhZGllbnRUeXBlID09PSBURVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTCkge1xuICAgICAgICAgICAgLy8gc3RhcnQgdGhlIGdyYWRpZW50IGF0IHRoZSB0b3AgY2VudGVyIG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGJvdHRvbSBtaWRkbGUgb2YgdGhlIGNhbnZhc1xuICAgICAgICAgICAgZ3JhZGllbnQgPSB0aGlzLmNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQod2lkdGggLyAyLCBwYWRkaW5nLCB3aWR0aCAvIDIsIGhlaWdodCArIHBhZGRpbmcpO1xuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byByZXBlYXQgdGhlIGdyYWRpZW50IHNvIHRoYXQgZWFjaCBpbmRpdmlkdWFsIGxpbmUgb2YgdGV4dCBoYXMgdGhlIHNhbWUgdmVydGljYWwgZ3JhZGllbnQgZWZmZWN0XG4gICAgICAgICAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gb3ZlciAyIGxpbmVzIHdvdWxkIGNyZWF0ZSBzdG9wcyBhdCAwLjEyNSwgMC4yNSwgMC4zNzUsIDAuNjI1LCAwLjc1LCAwLjg3NVxuICAgICAgICAgICAgLy8gVGhlcmUncyBwb3RlbnRpYWwgZm9yIGZsb2F0aW5nIHBvaW50IHByZWNpc2lvbiBpc3N1ZXMgYXQgdGhlIHNlYW1zIGJldHdlZW4gZ3JhZGllbnQgcmVwZWF0cy5cbiAgICAgICAgICAgIC8vIFRoZSBsb29wIGJlbG93IGdlbmVyYXRlcyB0aGUgc3RvcHMgaW4gb3JkZXIsIHNvIHRyYWNrIHRoZSBsYXN0IGdlbmVyYXRlZCBvbmUgdG8gcHJldmVudFxuICAgICAgICAgICAgLy8gZmxvYXRpbmcgcG9pbnQgcHJlY2lzaW9uIGZyb20gbWFraW5nIHVzIGdvIHRoZSB0ZWVuaWVzdCBiaXQgYmFja3dhcmRzLCByZXN1bHRpbmcgaW5cbiAgICAgICAgICAgIC8vIHRoZSBmaXJzdCBhbmQgbGFzdCBjb2xvcnMgZ2V0dGluZyBzd2FwcGVkLlxuICAgICAgICAgICAgdmFyIGxhc3RJdGVyYXRpb25TdG9wID0gMDtcbiAgICAgICAgICAgIC8vIEFjdHVhbCBoZWlnaHQgb2YgdGhlIHRleHQgaXRzZWxmLCBub3QgY291bnRpbmcgc3BhY2luZyBmb3IgbGluZUhlaWdodC9sZWFkaW5nL2Ryb3BTaGFkb3cgZXRjXG4gICAgICAgICAgICB2YXIgdGV4dEhlaWdodCA9IG1ldHJpY3MuZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgICAgICAvLyB0ZXh0SGVpZ2h0LCBidXQgYXMgYSAwLTEgc2l6ZSBpbiBnbG9iYWwgZ3JhZGllbnQgc3RvcCBzcGFjZVxuICAgICAgICAgICAgdmFyIGdyYWRTdG9wTGluZUhlaWdodCA9IHRleHRIZWlnaHQgLyBoZWlnaHQ7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoaXNMaW5lVG9wID0gbWV0cmljcy5saW5lSGVpZ2h0ICogaTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZpbGwubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gMC0xIHN0b3AgcG9pbnQgZm9yIHRoZSBjdXJyZW50IGxpbmUsIG11bHRpcGxpZWQgdG8gZ2xvYmFsIHNwYWNlIGFmdGVyd2FyZHNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmVTdG9wID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tqXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbal07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RvcCA9IGogLyBmaWxsLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgZ2xvYmFsU3RvcCA9ICh0aGlzTGluZVRvcCAvIGhlaWdodCkgKyAobGluZVN0b3AgKiBncmFkU3RvcExpbmVIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGNvbG9yIHN0b3AgZ2VuZXJhdGlvbiBnb2luZyBiYWNrd2FyZHMgZnJvbSBmbG9hdGluZyBwb2ludCBpbXByZWNpc2lvblxuICAgICAgICAgICAgICAgICAgICB2YXIgY2xhbXBlZFN0b3AgPSBNYXRoLm1heChsYXN0SXRlcmF0aW9uU3RvcCwgZ2xvYmFsU3RvcCk7XG4gICAgICAgICAgICAgICAgICAgIGNsYW1wZWRTdG9wID0gTWF0aC5taW4oY2xhbXBlZFN0b3AsIDEpOyAvLyBDYXAgYXQgMSBhcyB3ZWxsIGZvciBzYWZldHkncyBzYWtlIHRvIGF2b2lkIGEgcG9zc2libGUgdGhyb3cuXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChjbGFtcGVkU3RvcCwgZmlsbFtqXSk7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RJdGVyYXRpb25TdG9wID0gY2xhbXBlZFN0b3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc3RhcnQgdGhlIGdyYWRpZW50IGF0IHRoZSBjZW50ZXIgbGVmdCBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBjZW50ZXIgcmlnaHQgb2YgdGhlIGNhbnZhc1xuICAgICAgICAgICAgZ3JhZGllbnQgPSB0aGlzLmNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQocGFkZGluZywgaGVpZ2h0IC8gMiwgd2lkdGggKyBwYWRkaW5nLCBoZWlnaHQgLyAyKTtcbiAgICAgICAgICAgIC8vIGNhbiBqdXN0IGV2ZW5seSBzcGFjZSBvdXQgdGhlIGdyYWRpZW50cyBpbiB0aGlzIGNhc2UsIGFzIG11bHRpcGxlIGxpbmVzIG1ha2VzIG5vIGRpZmZlcmVuY2VcbiAgICAgICAgICAgIC8vIHRvIGFuIGV2ZW4gbGVmdCB0byByaWdodCBncmFkaWVudFxuICAgICAgICAgICAgdmFyIHRvdGFsSXRlcmF0aW9ucyA9IGZpbGwubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50SXRlcmF0aW9uID0gMTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBzdG9wID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbaV0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSBmaWxsR3JhZGllbnRTdG9wc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcCwgZmlsbFtpXSk7XG4gICAgICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbisrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBncmFkaWVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dCBvYmplY3QuXG4gICAgICogTm90ZSogVW5saWtlIGEgU3ByaXRlLCBhIFRleHQgb2JqZWN0IHdpbGwgYXV0b21hdGljYWxseSBkZXN0cm95IGl0cyBiYXNlVGV4dHVyZSBhbmQgdGV4dHVyZSBhc1xuICAgICAqIHRoZSBtYWpvcml0eSBvZiB0aGUgdGltZSB0aGUgdGV4dHVyZSB3aWxsIG5vdCBiZSBzaGFyZWQgd2l0aCBhbnkgb3RoZXIgU3ByaXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXJcbiAgICAgKiAgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9dHJ1ZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9dHJ1ZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgY2hpbGRyZW46IG9wdGlvbnMgfTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdERlc3Ryb3lPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIC8vIHNldCBjYW52YXMgd2lkdGggYW5kIGhlaWdodCB0byAwIHRvIHdvcmthcm91bmQgbWVtb3J5IGxlYWsgaW4gU2FmYXJpIDwgMTNcbiAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTI1MzI2MTQvdG90YWwtY2FudmFzLW1lbW9yeS11c2UtZXhjZWVkcy10aGUtbWF4aW11bS1saW1pdC1zYWZhcmktMTJcbiAgICAgICAgaWYgKHRoaXMuX293bkNhbnZhcykge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMud2lkdGggPSAwO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0byByZXNldCB0aGUgdGhlIGNvbnRleHQgYW5kIGNhbnZhcy4uIGRvbnQgd2FudCB0aGlzIGhhbmdpbmcgYXJvdW5kIGluIG1lbW9yeSFcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dC5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBUZXh0LCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueCkgfHwgMTtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dC5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRleHQsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueSkgfHwgMTtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0LnByb3RvdHlwZSwgXCJzdHlsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIHN0eWxlIG9mIHRoZSB0ZXh0LiBTZXQgdXAgYW4gZXZlbnQgbGlzdGVuZXIgdG8gbGlzdGVuIGZvciBjaGFuZ2VzIG9uIHRoZSBzdHlsZVxuICAgICAgICAgKiBvYmplY3QgYW5kIG1hcmsgdGhlIHRleHQgYXMgZGlydHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdHxQSVhJLlRleHRTdHlsZX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gVE9ETzogQ2FuJ3QgaGF2ZSBkaWZmZXJlbnQgdHlwZXMgZm9yIGdldHRlciBhbmQgc2V0dGVyLiBUaGUgZ2V0dGVyIHNob3VsZG4ndCBoYXZlIHRoZSBJVGV4dFN0eWxlXG4gICAgICAgICAgICAvLyAgICAgICBzaW5jZSB0aGUgc2V0dGVyIGNyZWF0ZXMgdGhlIFRleHRTdHlsZS4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgICAgICAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdHlsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3R5bGUpIHtcbiAgICAgICAgICAgIHN0eWxlID0gc3R5bGUgfHwge307XG4gICAgICAgICAgICBpZiAoc3R5bGUgaW5zdGFuY2VvZiBUZXh0U3R5bGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHlsZSA9IHN0eWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGUgPSBuZXcgVGV4dFN0eWxlKHN0eWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0LnByb3RvdHlwZSwgXCJ0ZXh0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgY29weSBmb3IgdGhlIHRleHQgb2JqZWN0LiBUbyBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgICAgIHRleHQgPSBTdHJpbmcodGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB1bmRlZmluZWQgPyAnJyA6IHRleHQpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHQgPT09IHRleHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHQucHJvdG90eXBlLCBcInJlc29sdXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhcy5cbiAgICAgICAgICogVGhpcyBpcyBzZXQgdG8gYXV0b21hdGljYWxseSBtYXRjaCB0aGUgcmVuZGVyZXIgcmVzb2x1dGlvbiBieSBkZWZhdWx0LCBidXQgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyBtYW51YWxseS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHV0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fYXV0b1Jlc29sdXRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZXNvbHV0aW9uID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFRleHQ7XG59KFNwcml0ZSkpO1xuXG5leHBvcnQgeyBURVhUX0dSQURJRU5ULCBUZXh0LCBUZXh0TWV0cmljcywgVGV4dFN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9wcmVwYXJlIC0gdjUuMy43XG4gKiBDb21waWxlZCBUdWUsIDI5IERlYyAyMDIwIDE5OjMwOjExIFVUQ1xuICpcbiAqIEBwaXhpL3ByZXBhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBHcmFwaGljcyB9IGZyb20gJ0BwaXhpL2dyYXBoaWNzJztcbmltcG9ydCB7IFRpY2tlciwgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgVGV4dCwgVGV4dFN0eWxlLCBUZXh0TWV0cmljcyB9IGZyb20gJ0BwaXhpL3RleHQnO1xuXG4vKipcbiAqIERlZmF1bHQgbnVtYmVyIG9mIHVwbG9hZHMgcGVyIGZyYW1lIHVzaW5nIHByZXBhcmUgcGx1Z2luLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAbmFtZSBVUExPQURTX1BFUl9GUkFNRVxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IDRcbiAqL1xuc2V0dGluZ3MuVVBMT0FEU19QRVJfRlJBTUUgPSA0O1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBDb3VudExpbWl0ZXIgbGltaXRzIHRoZSBudW1iZXIgb2YgaXRlbXMgaGFuZGxlZCBieSBhIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSB0byBhIHNwZWNpZmllZFxuICogbnVtYmVyIG9mIGl0ZW1zIHBlciBmcmFtZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDb3VudExpbWl0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heEl0ZW1zUGVyRnJhbWUgLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgZWFjaCBmcmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb3VudExpbWl0ZXIobWF4SXRlbXNQZXJGcmFtZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGVhY2ggZnJhbWUuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heEl0ZW1zUGVyRnJhbWUgPSBtYXhJdGVtc1BlckZyYW1lO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBpdGVtcyB0aGF0IGNhbiBiZSBwcmVwYXJlZCBpbiB0aGUgY3VycmVudCBmcmFtZS5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXRlbXNMZWZ0ID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFueSBjb3VudGluZyBwcm9wZXJ0aWVzIHRvIHN0YXJ0IGZyZXNoIG9uIGEgbmV3IGZyYW1lLlxuICAgICAqL1xuICAgIENvdW50TGltaXRlci5wcm90b3R5cGUuYmVnaW5GcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pdGVtc0xlZnQgPSB0aGlzLm1heEl0ZW1zUGVyRnJhbWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIGlmIGFub3RoZXIgaXRlbSBjYW4gYmUgdXBsb2FkZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UgcGVyIGl0ZW0uXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGl0ZW0gaXMgYWxsb3dlZCB0byBiZSB1cGxvYWRlZC5cbiAgICAgKi9cbiAgICBDb3VudExpbWl0ZXIucHJvdG90eXBlLmFsbG93ZWRUb1VwbG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXNMZWZ0LS0gPiAwO1xuICAgIH07XG4gICAgcmV0dXJuIENvdW50TGltaXRlcjtcbn0oKSk7XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIG11bHRpcGxlIHRleHR1cmVzIGZyb20gb2JqZWN0cyBsaWtlIEFuaW1hdGVkU3ByaXRlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHR1cmUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZE11bHRpcGxlQmFzZVRleHR1cmVzKGl0ZW0sIHF1ZXVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICAgIC8vIE9iamVjdHMgd2l0aCBtdWx0aXBsZSB0ZXh0dXJlc1xuICAgIGlmIChpdGVtICYmIGl0ZW0uX3RleHR1cmVzICYmIGl0ZW0uX3RleHR1cmVzLmxlbmd0aCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0uX3RleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5fdGV4dHVyZXNbaV0gaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gaXRlbS5fdGV4dHVyZXNbaV0uYmFzZVRleHR1cmU7XG4gICAgICAgICAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoYmFzZVRleHR1cmUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIEJhc2VUZXh0dXJlcyBmcm9tIFRleHR1cmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRCYXNlVGV4dHVyZShpdGVtLCBxdWV1ZSkge1xuICAgIGlmIChpdGVtLmJhc2VUZXh0dXJlIGluc3RhbmNlb2YgQmFzZVRleHR1cmUpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBpdGVtLmJhc2VUZXh0dXJlO1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZih0ZXh0dXJlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIHRleHR1cmVzIGZyb20gb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHR1cmUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHR1cmUoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbS5fdGV4dHVyZSAmJiBpdGVtLl90ZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKHRleHR1cmUpID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGRyYXcgUElYSS5UZXh0IHRvIGl0cyB0ZXh0dXJlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuQWJzdHJhY3RSZW5kZXJlcnxQSVhJLkJhc2VQcmVwYXJlfSBoZWxwZXIgLSBOb3QgdXNlZCBieSB0aGlzIHVwbG9hZCBoYW5kbGVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiBkcmF3VGV4dChfaGVscGVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0KSB7XG4gICAgICAgIC8vIHVwZGF0aW5nIHRleHQgd2lsbCByZXR1cm4gZWFybHkgaWYgaXQgaXMgbm90IGRpcnR5XG4gICAgICAgIGl0ZW0udXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBjYWxjdWxhdGUgYSB0ZXh0IHN0eWxlIGZvciBhIFBJWEkuVGV4dCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfFBJWEkuQmFzZVByZXBhcmV9IGhlbHBlciAtIE5vdCB1c2VkIGJ5IHRoaXMgdXBsb2FkIGhhbmRsZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZVRleHRTdHlsZShfaGVscGVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0U3R5bGUpIHtcbiAgICAgICAgdmFyIGZvbnQgPSBpdGVtLnRvRm9udFN0cmluZygpO1xuICAgICAgICBUZXh0TWV0cmljcy5tZWFzdXJlRm9udChmb250KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIFRleHQgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHQgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHQoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHQpIHtcbiAgICAgICAgLy8gcHVzaCB0aGUgdGV4dCBzdHlsZSB0byBwcmVwYXJlIGl0IC0gdGhpcyBjYW4gYmUgcmVhbGx5IGV4cGVuc2l2ZVxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtLnN0eWxlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbS5zdHlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWxzbyBwdXNoIHRoZSB0ZXh0IG9iamVjdCBzbyB0aGF0IHdlIGNhbiByZW5kZXIgaXQgKHRvIGNhbnZhcy90ZXh0dXJlKSBpZiBuZWVkZWRcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsc28gcHVzaCB0aGUgVGV4dCdzIHRleHR1cmUgZm9yIHVwbG9hZCB0byBHUFVcbiAgICAgICAgdmFyIHRleHR1cmUgPSBpdGVtLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZih0ZXh0dXJlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIFRleHRTdHlsZSBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0U3R5bGUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHRTdHlsZShpdGVtLCBxdWV1ZSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dFN0eWxlKSB7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBUaGUgcHJlcGFyZSBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdXBsb2FkIGNvbnRlbnQgdG8gdGhlIEdQVS5cbiAqXG4gKiBCYXNlUHJlcGFyZSBoYW5kbGVzIGJhc2ljIHF1ZXVpbmcgZnVuY3Rpb25hbGl0eSBhbmQgaXMgZXh0ZW5kZWQgYnlcbiAqIHtAbGluayBQSVhJLlByZXBhcmV9IGFuZCB7QGxpbmsgUElYSS5DYW52YXNQcmVwYXJlfVxuICogdG8gcHJvdmlkZSBwcmVwYXJhdGlvbiBjYXBhYmlsaXRpZXMgc3BlY2lmaWMgdG8gdGhlaXIgcmVzcGVjdGl2ZSByZW5kZXJlcnMuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIHNwcml0ZVxuICogY29uc3Qgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbSgnc29tZXRoaW5nLnBuZycpO1xuICpcbiAqIC8vIExvYWQgb2JqZWN0IGludG8gR1BVXG4gKiBhcHAucmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLnVwbG9hZChzcHJpdGUsICgpID0+IHtcbiAqXG4gKiAgICAgLy9UZXh0dXJlKHMpIGhhcyBiZWVuIHVwbG9hZGVkIHRvIEdQVVxuICogICAgIGFwcC5zdGFnZS5hZGRDaGlsZChzcHJpdGUpO1xuICpcbiAqIH0pXG4gKlxuICogQGFic3RyYWN0XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXNlUHJlcGFyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQWJzdHJhY3RSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VQcmVwYXJlKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGltaXRlciB0byBiZSB1c2VkIHRvIGNvbnRyb2wgaG93IHF1aWNrbHkgaXRlbXMgYXJlIHByZXBhcmVkLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5Db3VudExpbWl0ZXJ8UElYSS5UaW1lTGltaXRlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGltaXRlciA9IG5ldyBDb3VudExpbWl0ZXIoc2V0dGluZ3MuVVBMT0FEU19QRVJfRlJBTUUpO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlci5cbiAgICAgICAgICogQHR5cGUge1BJWEkuQWJzdHJhY3RSZW5kZXJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9ubHkgcmVhbCBkaWZmZXJlbmNlIGJldHdlZW4gQ2FudmFzUHJlcGFyZSBhbmQgUHJlcGFyZSBpcyB3aGF0IHRoZXkgcGFzc1xuICAgICAgICAgKiB0byB1cGxvYWQgaG9va3MuIFRoYXQgZGlmZmVyZW50IHBhcmFtZXRlciBpcyBzdG9yZWQgaGVyZS5cbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkcyBhdCBvbmNlLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGFkZGl0aW9uYWwgaG9va3MgZm9yIGZpbmRpbmcgYXNzZXRzLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8RnVuY3Rpb24+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hZGRIb29rcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhZGRpdGlvbmFsIGhvb2tzIGZvciBwcm9jZXNzaW5nIGFzc2V0cy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBsb2FkSG9va3MgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxiYWNrIHRvIGNhbGwgYWZ0ZXIgY29tcGxldGVkLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8RnVuY3Rpb24+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb21wbGV0ZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHByZXBhcmUgaXMgdGlja2luZyAocnVubmluZykuXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAnYm91bmQnIGNhbGwgZm9yIHByZXBhcmVJdGVtcygpLlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbGF5ZWRUaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gdW5saWtlbHksIGJ1dCBpbiBjYXNlIHdlIHdlcmUgZGVzdHJveWVkIGJldHdlZW4gdGljaygpIGFuZCBkZWxheWVkVGljaygpXG4gICAgICAgICAgICBpZiAoIV90aGlzLnF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMucHJlcGFyZUl0ZW1zKCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGhvb2tzIHRvIGZpbmQgdGhlIGNvcnJlY3QgdGV4dHVyZVxuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHRTdHlsZSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZEJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0dXJlKTtcbiAgICAgICAgLy8gdXBsb2FkIGhvb2tzXG4gICAgICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKGRyYXdUZXh0KTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soY2FsY3VsYXRlVGV4dFN0eWxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBsb2FkIGFsbCB0aGUgdGV4dHVyZXMgYW5kIGdyYXBoaWNzIHRvIHRoZSBHUFUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufFBJWEkuRGlzcGxheU9iamVjdHxQSVhJLkNvbnRhaW5lcnxQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZXxQSVhJLkdyYXBoaWNzfFBJWEkuVGV4dH0gaXRlbSAtXG4gICAgICogICAgICAgIEVpdGhlciB0aGUgY29udGFpbmVyIG9yIGRpc3BsYXkgb2JqZWN0IHRvIHNlYXJjaCBmb3IgaXRlbXMgdG8gdXBsb2FkLCB0aGUgaXRlbXMgdG8gdXBsb2FkIHRoZW1zZWx2ZXMsXG4gICAgICogICAgICAgIG9yIHRoZSBjYWxsYmFjayBmdW5jdGlvbiwgaWYgaXRlbXMgaGF2ZSBiZWVuIGFkZGVkIHVzaW5nIGBwcmVwYXJlLmFkZGAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2RvbmVdIC0gT3B0aW9uYWwgY2FsbGJhY2sgd2hlbiBhbGwgcXVldWVkIHVwbG9hZHMgaGF2ZSBjb21wbGV0ZWRcbiAgICAgKi9cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKGl0ZW0sIGRvbmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBkb25lID0gaXRlbTtcbiAgICAgICAgICAgIGl0ZW0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIGEgZGlzcGxheSBvYmplY3QsIHNlYXJjaCBmb3IgaXRlbXNcbiAgICAgICAgLy8gdGhhdCB3ZSBjb3VsZCB1cGxvYWRcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIEdldCB0aGUgaXRlbXMgZm9yIHVwbG9hZCBmcm9tIHRoZSBkaXNwbGF5XG4gICAgICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlcy5wdXNoKGRvbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLnRpY2tpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpY2tpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIFRpY2tlci5zeXN0ZW0uYWRkT25jZSh0aGlzLnRpY2ssIHRoaXMsIFVQREFURV9QUklPUklUWS5VVElMSVRZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkb25lKSB7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aWNrIHVwZGF0ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLmRlbGF5ZWRUaWNrLCAwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFjdHVhbGx5IHByZXBhcmUgaXRlbXMuIFRoaXMgaXMgaGFuZGxlZCBvdXRzaWRlIG9mIHRoZSB0aWNrIGJlY2F1c2UgaXQgd2lsbCB0YWtlIGEgd2hpbGVcbiAgICAgKiBhbmQgd2UgZG8gTk9UIHdhbnQgdG8gYmxvY2sgdGhlIGN1cnJlbnQgYW5pbWF0aW9uIGZyYW1lIGZyb20gcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucHJlcGFyZUl0ZW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxpbWl0ZXIuYmVnaW5GcmFtZSgpO1xuICAgICAgICAvLyBVcGxvYWQgdGhlIGdyYXBoaWNzXG4gICAgICAgIHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCAmJiB0aGlzLmxpbWl0ZXIuYWxsb3dlZFRvVXBsb2FkKCkpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5xdWV1ZVswXTtcbiAgICAgICAgICAgIHZhciB1cGxvYWRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGl0ZW0gJiYgIWl0ZW0uX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLnVwbG9hZEhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVwbG9hZEhvb2tzW2ldKHRoaXMudXBsb2FkSG9va0hlbHBlciwgaXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF1cGxvYWRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBXZSdyZSBmaW5pc2hlZFxuICAgICAgICBpZiAoIXRoaXMucXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBjb21wbGV0ZXMgPSB0aGlzLmNvbXBsZXRlcy5zbGljZSgwKTtcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGVzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY29tcGxldGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVzW2ldKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGZpbmlzaGVkLCBvbiB0aGUgbmV4dCByQUYgZG8gdGhpcyBhZ2FpblxuICAgICAgICAgICAgVGlja2VyLnN5c3RlbS5hZGRPbmNlKHRoaXMudGljaywgdGhpcywgVVBEQVRFX1BSSU9SSVRZLlVUSUxJVFkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGhvb2tzIGZvciBmaW5kaW5nIGl0ZW1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYWRkSG9vayAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYGl0ZW06KiwgcXVldWU6QXJyYXlgXG4gICAgICogICAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGFkZCBpdGVtIHRvIHRoZSBxdWV1ZS5cbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5yZWdpc3RlckZpbmRIb29rID0gZnVuY3Rpb24gKGFkZEhvb2spIHtcbiAgICAgICAgaWYgKGFkZEhvb2spIHtcbiAgICAgICAgICAgIHRoaXMuYWRkSG9va3MucHVzaChhZGRIb29rKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgaG9va3MgZm9yIHVwbG9hZGluZyBpdGVtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwbG9hZEhvb2sgLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBwcmVwYXJlOkNhbnZhc1ByZXBhcmUsIGl0ZW06KmAgYW5kXG4gICAgICogICAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGhhbmRsZSB1cGxvYWQgb2YgaXRlbS5cbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5yZWdpc3RlclVwbG9hZEhvb2sgPSBmdW5jdGlvbiAodXBsb2FkSG9vaykge1xuICAgICAgICBpZiAodXBsb2FkSG9vaykge1xuICAgICAgICAgICAgdGhpcy51cGxvYWRIb29rcy5wdXNoKHVwbG9hZEhvb2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFudWFsbHkgYWRkIGFuIGl0ZW0gdG8gdGhlIHVwbG9hZGluZyBxdWV1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuQ29udGFpbmVyfFBJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfFBJWEkuR3JhcGhpY3N8UElYSS5UZXh0fCp9IGl0ZW0gLSBPYmplY3QgdG9cbiAgICAgKiAgICAgICAgYWRkIHRvIHRoZSBxdWV1ZVxuICAgICAqIEByZXR1cm4ge3RoaXN9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIC8vIEFkZCBhZGRpdGlvbmFsIGhvb2tzIGZvciBmaW5kaW5nIGVsZW1lbnRzIG9uIHNwZWNpYWxcbiAgICAgICAgLy8gdHlwZXMgb2Ygb2JqZWN0cyB0aGF0XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmFkZEhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hZGRIb29rc1tpXShpdGVtLCB0aGlzLnF1ZXVlKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEdldCBjaGlsZHJlbiByZWN1cnNpdmVseVxuICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIENvbnRhaW5lcikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGl0ZW0uY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChpdGVtLmNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4sIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqXG4gICAgICovXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpY2tpbmcpIHtcbiAgICAgICAgICAgIFRpY2tlci5zeXN0ZW0ucmVtb3ZlKHRoaXMudGljaywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWRkSG9va3MgPSBudWxsO1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHRoaXMuY29tcGxldGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGltaXRlciA9IG51bGw7XG4gICAgICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZVByZXBhcmU7XG59KCkpO1xuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuVGV4dHVyZSBvYmplY3RzIHRvIHRoZSBHUFUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBpbnN0YW5jZSBvZiB0aGUgd2ViZ2wgcmVuZGVyZXJcbiAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiB1cGxvYWRCYXNlVGV4dHVyZXMocmVuZGVyZXIsIGl0ZW0pIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlKSB7XG4gICAgICAgIC8vIGlmIHRoZSB0ZXh0dXJlIGFscmVhZHkgaGFzIGEgR0wgdGV4dHVyZSwgdGhlbiB0aGUgdGV4dHVyZSBoYXMgYmVlbiBwcmVwYXJlZCBvciByZW5kZXJlZFxuICAgICAgICAvLyBiZWZvcmUgbm93LiBJZiB0aGUgdGV4dHVyZSBjaGFuZ2VkLCB0aGVuIHRoZSBjaGFuZ2VyIHNob3VsZCBiZSBjYWxsaW5nIHRleHR1cmUudXBkYXRlKCkgd2hpY2hcbiAgICAgICAgLy8gcmV1cGxvYWRzIHRoZSB0ZXh0dXJlIHdpdGhvdXQgbmVlZCBmb3IgcHJlcGFyaW5nIGl0IGFnYWluXG4gICAgICAgIGlmICghaXRlbS5fZ2xUZXh0dXJlc1tyZW5kZXJlci5DT05URVhUX1VJRF0pIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnRleHR1cmUuYmluZChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIHVwbG9hZCBQSVhJLkdyYXBoaWNzIHRvIHRoZSBHUFUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBpbnN0YW5jZSBvZiB0aGUgd2ViZ2wgcmVuZGVyZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIHVwbG9hZEdyYXBoaWNzKHJlbmRlcmVyLCBpdGVtKSB7XG4gICAgaWYgKCEoaXRlbSBpbnN0YW5jZW9mIEdyYXBoaWNzKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBnZW9tZXRyeSA9IGl0ZW0uZ2VvbWV0cnk7XG4gICAgLy8gdXBkYXRlIGRpcnR5IGdyYXBoaWNzIHRvIGdldCBiYXRjaGVzXG4gICAgaXRlbS5maW5pc2hQb2x5KCk7XG4gICAgZ2VvbWV0cnkudXBkYXRlQmF0Y2hlcygpO1xuICAgIHZhciBiYXRjaGVzID0gZ2VvbWV0cnkuYmF0Y2hlcztcbiAgICAvLyB1cGxvYWQgYWxsIHRleHR1cmVzIGZvdW5kIGluIHN0eWxlc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IGJhdGNoZXNbaV0uc3R5bGUudGV4dHVyZTtcbiAgICAgICAgaWYgKHRleHR1cmUpIHtcbiAgICAgICAgICAgIHVwbG9hZEJhc2VUZXh0dXJlcyhyZW5kZXJlciwgdGV4dHVyZS5iYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gaWYgaXRzIG5vdCBiYXRjaGFibGUgLSB1cGRhdGUgdmFvIGZvciBwYXJ0aWN1bGFyIHNoYWRlclxuICAgIGlmICghZ2VvbWV0cnkuYmF0Y2hhYmxlKSB7XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQoZ2VvbWV0cnksIGl0ZW0uX3Jlc29sdmVEaXJlY3RTaGFkZXIocmVuZGVyZXIpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBncmFwaGljcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLkdyYXBoaWNzIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRHcmFwaGljcyhpdGVtLCBxdWV1ZSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgR3JhcGhpY3MpIHtcbiAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogVGhlIHByZXBhcmUgcGx1Z2luIHByb3ZpZGVzIHJlbmRlcmVyLXNwZWNpZmljIHBsdWdpbnMgZm9yIHByZS1yZW5kZXJpbmcgRGlzcGxheU9iamVjdHMuIFRoZXNlIHBsdWdpbnMgYXJlIHVzZWZ1bCBmb3JcbiAqIGFzeW5jaHJvbm91c2x5IHByZXBhcmluZyBhbmQgdXBsb2FkaW5nIHRvIHRoZSBHUFUgYXNzZXRzLCB0ZXh0dXJlcywgZ3JhcGhpY3Mgd2FpdGluZyB0byBiZSBkaXNwbGF5ZWQuXG4gKlxuICogRG8gbm90IGluc3RhbnRpYXRlIHRoaXMgcGx1Z2luIGRpcmVjdGx5LiBJdCBpcyBhdmFpbGFibGUgZnJvbSB0aGUgYHJlbmRlcmVyLnBsdWdpbnNgIHByb3BlcnR5LlxuICogU2VlIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyI3BsdWdpbnN9IG9yIHtAbGluayBQSVhJLlJlbmRlcmVyI3BsdWdpbnN9LlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIG5ldyBhcHBsaWNhdGlvblxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICpcbiAqIC8vIERvbid0IHN0YXJ0IHJlbmRlcmluZyByaWdodCBhd2F5XG4gKiBhcHAuc3RvcCgpO1xuICpcbiAqIC8vIGNyZWF0ZSBhIGRpc3BsYXkgb2JqZWN0XG4gKiBjb25zdCByZWN0ID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICogICAgIC5iZWdpbkZpbGwoMHgwMGZmMDApXG4gKiAgICAgLmRyYXdSZWN0KDQwLCA0MCwgMjAwLCAyMDApO1xuICpcbiAqIC8vIEFkZCB0byB0aGUgc3RhZ2VcbiAqIGFwcC5zdGFnZS5hZGRDaGlsZChyZWN0KTtcbiAqXG4gKiAvLyBEb24ndCBzdGFydCByZW5kZXJpbmcgdW50aWwgdGhlIGdyYXBoaWMgaXMgdXBsb2FkZWQgdG8gdGhlIEdQVVxuICogYXBwLnJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS51cGxvYWQoYXBwLnN0YWdlLCAoKSA9PiB7XG4gKiAgICAgYXBwLnN0YXJ0KCk7XG4gKiB9KTtcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmFzZVByZXBhcmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQcmVwYXJlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQcmVwYXJlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFByZXBhcmUocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBfdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgLy8gQWRkIHRleHR1cmVzIGFuZCBncmFwaGljcyB0byB1cGxvYWRcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kR3JhcGhpY3MpO1xuICAgICAgICBfdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkQmFzZVRleHR1cmVzKTtcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEdyYXBoaWNzKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUHJlcGFyZTtcbn0oQmFzZVByZXBhcmUpKTtcblxuLyoqXG4gKiBUaW1lTGltaXRlciBsaW1pdHMgdGhlIG51bWJlciBvZiBpdGVtcyBoYW5kbGVkIGJ5IGEge0BsaW5rIFBJWEkuQmFzZVByZXBhcmV9IHRvIGEgc3BlY2lmaWVkXG4gKiBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHBlciBmcmFtZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUaW1lTGltaXRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4TWlsbGlzZWNvbmRzIC0gVGhlIG1heGltdW0gbWlsbGlzZWNvbmRzIHRoYXQgY2FuIGJlIHNwZW50IHByZXBhcmluZyBpdGVtcyBlYWNoIGZyYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbWVMaW1pdGVyKG1heE1pbGxpc2Vjb25kcykge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heGltdW0gbWlsbGlzZWNvbmRzIHRoYXQgY2FuIGJlIHNwZW50IHByZXBhcmluZyBpdGVtcyBlYWNoIGZyYW1lLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhNaWxsaXNlY29uZHMgPSBtYXhNaWxsaXNlY29uZHM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3RhcnQgdGltZSBvZiB0aGUgY3VycmVudCBmcmFtZS5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZnJhbWVTdGFydCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbnkgY291bnRpbmcgcHJvcGVydGllcyB0byBzdGFydCBmcmVzaCBvbiBhIG5ldyBmcmFtZS5cbiAgICAgKi9cbiAgICBUaW1lTGltaXRlci5wcm90b3R5cGUuYmVnaW5GcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mcmFtZVN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgaWYgYW5vdGhlciBpdGVtIGNhbiBiZSB1cGxvYWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgaXRlbS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgaXRlbSBpcyBhbGxvd2VkIHRvIGJlIHVwbG9hZGVkLlxuICAgICAqL1xuICAgIFRpbWVMaW1pdGVyLnByb3RvdHlwZS5hbGxvd2VkVG9VcGxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBEYXRlLm5vdygpIC0gdGhpcy5mcmFtZVN0YXJ0IDwgdGhpcy5tYXhNaWxsaXNlY29uZHM7XG4gICAgfTtcbiAgICByZXR1cm4gVGltZUxpbWl0ZXI7XG59KCkpO1xuXG5leHBvcnQgeyBCYXNlUHJlcGFyZSwgQ291bnRMaW1pdGVyLCBQcmVwYXJlLCBUaW1lTGltaXRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJlcGFyZS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvc3ByaXRlc2hlZXQgLSB2NS4zLjdcbiAqIENvbXBpbGVkIFR1ZSwgMjkgRGVjIDIwMjAgMTk6MzA6MTEgVVRDXG4gKlxuICogQHBpeGkvc3ByaXRlc2hlZXQgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBnZXRSZXNvbHV0aW9uT2ZVcmwsIHVybCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IExvYWRlclJlc291cmNlIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5cbi8qKlxuICogVXRpbGl0eSBjbGFzcyBmb3IgbWFpbnRhaW5pbmcgcmVmZXJlbmNlIHRvIGEgY29sbGVjdGlvblxuICogb2YgVGV4dHVyZXMgb24gYSBzaW5nbGUgU3ByaXRlc2hlZXQuXG4gKlxuICogVG8gYWNjZXNzIGEgc3ByaXRlIHNoZWV0IGZyb20geW91ciBjb2RlIHBhc3MgaXRzIEpTT04gZGF0YSBmaWxlIHRvIFBpeGkncyBsb2FkZXI6XG4gKlxuICogYGBganNcbiAqIFBJWEkuTG9hZGVyLnNoYXJlZC5hZGQoXCJpbWFnZXMvc3ByaXRlc2hlZXQuanNvblwiKS5sb2FkKHNldHVwKTtcbiAqXG4gKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAqICAgbGV0IHNoZWV0ID0gUElYSS5Mb2FkZXIuc2hhcmVkLnJlc291cmNlc1tcImltYWdlcy9zcHJpdGVzaGVldC5qc29uXCJdLnNwcml0ZXNoZWV0O1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICogV2l0aCB0aGUgYHNoZWV0LnRleHR1cmVzYCB5b3UgY2FuIGNyZWF0ZSBTcHJpdGUgb2JqZWN0cyxgc2hlZXQuYW5pbWF0aW9uc2AgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuIEFuaW1hdGVkU3ByaXRlLlxuICpcbiAqIFNwcml0ZSBzaGVldHMgY2FuIGJlIHBhY2tlZCB1c2luZyB0b29scyBsaWtlIHtAbGluayBodHRwczovL2NvZGVhbmR3ZWIuY29tL3RleHR1cmVwYWNrZXJ8VGV4dHVyZVBhY2tlcn0sXG4gKiB7QGxpbmsgaHR0cHM6Ly9yZW5kZXJoanMubmV0L3Nob2Vib3gvfFNob2Vib3h9IG9yIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20va3J6eXN6dG9mLW8vc3ByaXRlc2hlZXQuanN8U3ByaXRlc2hlZXQuanN9LlxuICogRGVmYXVsdCBhbmNob3IgcG9pbnRzIChzZWUge0BsaW5rIFBJWEkuVGV4dHVyZSNkZWZhdWx0QW5jaG9yfSkgYW5kIGdyb3VwaW5nIG9mIGFuaW1hdGlvbiBzcHJpdGVzIGFyZSBjdXJyZW50bHkgb25seVxuICogc3VwcG9ydGVkIGJ5IFRleHR1cmVQYWNrZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3ByaXRlc2hlZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZWZlcmVuY2UgdG8gdGhlIHNvdXJjZSBCYXNlVGV4dHVyZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBTcHJpdGVzaGVldCBpbWFnZSBkYXRhLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcmVzb2x1dGlvbkZpbGVuYW1lXSAtIFRoZSBmaWxlbmFtZSB0byBjb25zaWRlciB3aGVuIGRldGVybWluaW5nXG4gICAgICogICAgICAgIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBzcHJpdGVzaGVldC4gSWYgbm90IHByb3ZpZGVkLCB0aGUgaW1hZ2VVcmwgd2lsbFxuICAgICAqICAgICAgICBiZSB1c2VkIG9uIHRoZSBCYXNlVGV4dHVyZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTcHJpdGVzaGVldCh0ZXh0dXJlLCBkYXRhLCByZXNvbHV0aW9uRmlsZW5hbWUpIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb25GaWxlbmFtZSA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb25GaWxlbmFtZSA9IG51bGw7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBvcmlnaW5hbCBzb3VyY2UgaW1hZ2UgZnJvbSB0aGUgTG9hZGVyLiBUaGlzIHJlZmVyZW5jZSBpcyByZXRhaW5lZCBzbyB3ZVxuICAgICAgICAgKiBjYW4gZGVzdHJveSB0aGUgVGV4dHVyZSBsYXRlciBvbi4gSXQgaXMgbmV2ZXIgdXNlZCBpbnRlcm5hbGx5LlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHRleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlID8gdGV4dHVyZSA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhzIHNvdXJjZSB0ZXh0dXJlLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSB0ZXh0dXJlIGluc3RhbmNlb2YgQmFzZVRleHR1cmUgPyB0ZXh0dXJlIDogdGhpcy5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIGNvbnRhaW5pbmcgYWxsIHRleHR1cmVzIG9mIHRoZSBzcHJpdGUgc2hlZXQuXG4gICAgICAgICAqIENhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBQSVhJLlNwcml0ZXxTcHJpdGV9OlxuICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgKiBuZXcgUElYSS5TcHJpdGUoc2hlZXQudGV4dHVyZXNbXCJpbWFnZS5wbmdcIl0pO1xuICAgICAgICAgKiBgYGBcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgY29udGFpbmluZyB0aGUgdGV4dHVyZXMgZm9yIGVhY2ggYW5pbWF0aW9uLlxuICAgICAgICAgKiBDYW4gYmUgdXNlZCB0byBjcmVhdGUgYW4ge0BsaW5rIFBJWEkuQW5pbWF0ZWRTcHJpdGV8QW5pbWF0ZWRTcHJpdGV9OlxuICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgKiBuZXcgUElYSS5BbmltYXRlZFNwcml0ZShzaGVldC5hbmltYXRpb25zW1wiYW5pbV9uYW1lXCJdKVxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIG9yaWdpbmFsIEpTT04gZGF0YS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgc3ByaXRlc2hlZXQuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSB0aGlzLl91cGRhdGVSZXNvbHV0aW9uKHJlc29sdXRpb25GaWxlbmFtZSB8fCAocmVzb3VyY2UgPyByZXNvdXJjZS51cmwgOiBudWxsKSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXAgb2Ygc3ByaXRlc2hlZXQgZnJhbWVzLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZnJhbWVzID0gdGhpcy5kYXRhLmZyYW1lcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgZnJhbWUgbmFtZXMuXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmdbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZyYW1lS2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX2ZyYW1lcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGJhdGNoIGluZGV4IGJlaW5nIHByb2Nlc3NlZC5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhdGNoSW5kZXggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgd2hlbiBwYXJzZSBpcyBjb21wbGV0ZWQuXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgdGhlIHJlc29sdXRpb24gZnJvbSB0aGUgZmlsZW5hbWUgb3IgZmFsbGJhY2tcbiAgICAgKiB0byB0aGUgbWV0YS5zY2FsZSBmaWVsZCBvZiB0aGUgSlNPTiBkYXRhLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVzb2x1dGlvbkZpbGVuYW1lIC0gVGhlIGZpbGVuYW1lIHRvIHVzZSBmb3IgcmVzb2x2aW5nXG4gICAgICogICAgICAgIHRoZSBkZWZhdWx0IHJlc29sdXRpb24uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBSZXNvbHV0aW9uIHRvIHVzZSBmb3Igc3ByaXRlc2hlZXQuXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl91cGRhdGVSZXNvbHV0aW9uID0gZnVuY3Rpb24gKHJlc29sdXRpb25GaWxlbmFtZSkge1xuICAgICAgICBpZiAocmVzb2x1dGlvbkZpbGVuYW1lID09PSB2b2lkIDApIHsgcmVzb2x1dGlvbkZpbGVuYW1lID0gbnVsbDsgfVxuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLmRhdGEubWV0YS5zY2FsZTtcbiAgICAgICAgLy8gVXNlIGEgZGVmYXVsdFZhbHVlIG9mIGBudWxsYCB0byBjaGVjayBpZiBhIHVybC1iYXNlZCByZXNvbHV0aW9uIGlzIHNldFxuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGdldFJlc29sdXRpb25PZlVybChyZXNvbHV0aW9uRmlsZW5hbWUsIG51bGwpO1xuICAgICAgICAvLyBObyByZXNvbHV0aW9uIGZvdW5kIHZpYSBVUkxcbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgc2NhbGUgdmFsdWUgb3IgZGVmYXVsdCB0byAxXG4gICAgICAgICAgICByZXNvbHV0aW9uID0gc2NhbGUgIT09IHVuZGVmaW5lZCA/IHBhcnNlRmxvYXQoc2NhbGUpIDogMTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGb3Igbm9uLTEgcmVzb2x1dGlvbnMsIHVwZGF0ZSBiYXNlVGV4dHVyZVxuICAgICAgICBpZiAocmVzb2x1dGlvbiAhPT0gMSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNvbHV0aW9uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFyc2VyIHNwcml0ZXNoZWV0IGZyb20gbG9hZGVkIGRhdGEuIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseVxuICAgICAqIHRvIHByZXZlbnQgY3JlYXRpbmcgdG9vIG1hbnkgVGV4dHVyZSB3aXRoaW4gYSBzaW5nbGUgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZSByZXR1cm5zXG4gICAgICogICAgICAgIGEgbWFwIG9mIHRoZSBUZXh0dXJlcyBmb3IgdGhpcyBzcHJpdGVzaGVldC5cbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIGlmICh0aGlzLl9mcmFtZUtleXMubGVuZ3RoIDw9IFNwcml0ZXNoZWV0LkJBVENIX1NJWkUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NGcmFtZXMoMCk7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzQW5pbWF0aW9ucygpO1xuICAgICAgICAgICAgdGhpcy5fcGFyc2VDb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbmV4dEJhdGNoKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgYSBiYXRjaCBvZiBmcmFtZXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluaXRpYWxGcmFtZUluZGV4IC0gVGhlIGluZGV4IG9mIGZyYW1lIHRvIHN0YXJ0LlxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fcHJvY2Vzc0ZyYW1lcyA9IGZ1bmN0aW9uIChpbml0aWFsRnJhbWVJbmRleCkge1xuICAgICAgICB2YXIgZnJhbWVJbmRleCA9IGluaXRpYWxGcmFtZUluZGV4O1xuICAgICAgICB2YXIgbWF4RnJhbWVzID0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRTtcbiAgICAgICAgd2hpbGUgKGZyYW1lSW5kZXggLSBpbml0aWFsRnJhbWVJbmRleCA8IG1heEZyYW1lcyAmJiBmcmFtZUluZGV4IDwgdGhpcy5fZnJhbWVLZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGkgPSB0aGlzLl9mcmFtZUtleXNbZnJhbWVJbmRleF07XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2ZyYW1lc1tpXTtcbiAgICAgICAgICAgIHZhciByZWN0ID0gZGF0YS5mcmFtZTtcbiAgICAgICAgICAgIGlmIChyZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGZyYW1lID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgdHJpbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZVNpemUgPSBkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc291cmNlU2l6ZVxuICAgICAgICAgICAgICAgICAgICA/IGRhdGEuc291cmNlU2l6ZSA6IGRhdGEuZnJhbWU7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWcgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIE1hdGguZmxvb3Ioc291cmNlU2l6ZS53KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihzb3VyY2VTaXplLmgpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5yb3RhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZShNYXRoLmZsb29yKHJlY3QueCkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC55KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LmgpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWUgPSBuZXcgUmVjdGFuZ2xlKE1hdGguZmxvb3IocmVjdC54KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LnkpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vICBDaGVjayB0byBzZWUgaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEudHJpbW1lZCAhPT0gZmFsc2UgJiYgZGF0YS5zcHJpdGVTb3VyY2VTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyaW0gPSBuZXcgUmVjdGFuZ2xlKE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLngpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKGRhdGEuc3ByaXRlU291cmNlU2l6ZS55KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVzW2ldID0gbmV3IFRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSwgZnJhbWUsIG9yaWcsIHRyaW0sIGRhdGEucm90YXRlZCA/IDIgOiAwLCBkYXRhLmFuY2hvcik7XG4gICAgICAgICAgICAgICAgLy8gbGV0cyBhbHNvIGFkZCB0aGUgZnJhbWUgdG8gcGl4aSdzIGdsb2JhbCBjYWNoZSBmb3IgJ2Zyb20nIGFuZCAnZnJvbUxvYWRlcicgZnVuY3Rpb25zXG4gICAgICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRoaXMudGV4dHVyZXNbaV0sIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWVJbmRleCsrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYXJzZSBhbmltYXRpb25zIGNvbmZpZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3Byb2Nlc3NBbmltYXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYW5pbWF0aW9ucyA9IHRoaXMuZGF0YS5hbmltYXRpb25zIHx8IHt9O1xuICAgICAgICBmb3IgKHZhciBhbmltTmFtZSBpbiBhbmltYXRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnNbYW5pbU5hbWVdID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvbnNbYW5pbU5hbWVdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZyYW1lTmFtZSA9IGFuaW1hdGlvbnNbYW5pbU5hbWVdW2ldO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uc1thbmltTmFtZV0ucHVzaCh0aGlzLnRleHR1cmVzW2ZyYW1lTmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgcGFyc2UgaGFzIGNvbXBsZXRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl9wYXJzZUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLl9jYWxsYmFjaztcbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCB0aGlzLnRleHR1cmVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJlZ2luIHRoZSBuZXh0IGJhdGNoIG9mIHRleHR1cmVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX25leHRCYXRjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcyh0aGlzLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSk7XG4gICAgICAgIHRoaXMuX2JhdGNoSW5kZXgrKztcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX2JhdGNoSW5kZXggKiBTcHJpdGVzaGVldC5CQVRDSF9TSVpFIDwgX3RoaXMuX2ZyYW1lS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fbmV4dEJhdGNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcHJvY2Vzc0FuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcGFyc2VDb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgU3ByaXRlc2hlZXQgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveUJhc2U9ZmFsc2VdIC0gV2hldGhlciB0byBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgYXMgd2VsbFxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKGRlc3Ryb3lCYXNlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKGRlc3Ryb3lCYXNlID09PSB2b2lkIDApIHsgZGVzdHJveUJhc2UgPSBmYWxzZTsgfVxuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGV4dHVyZXMpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZXNbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZyYW1lcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZyYW1lS2V5cyA9IG51bGw7XG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSBudWxsO1xuICAgICAgICBpZiAoZGVzdHJveUJhc2UpIHtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuX3RleHR1cmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgVGV4dHVyZXMgdG8gYnVpbGQgcGVyIHByb2Nlc3MuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDEwMDBcbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldC5CQVRDSF9TSVpFID0gMTAwMDtcbiAgICByZXR1cm4gU3ByaXRlc2hlZXQ7XG59KCkpO1xuXG4vKipcbiAqIHtAbGluayBQSVhJLkxvYWRlciBMb2FkZXJ9IG1pZGRsZXdhcmUgZm9yIGxvYWRpbmcgdGV4dHVyZSBhdGxhc2VzIHRoYXQgaGF2ZSBiZWVuIGNyZWF0ZWQgd2l0aFxuICogVGV4dHVyZVBhY2tlciBvciBzaW1pbGFyIEpTT04tYmFzZWQgc3ByaXRlc2hlZXQuXG4gKlxuICogVGhpcyBtaWRkbGV3YXJlIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVzIFRleHR1cmUgcmVzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIFBJWEkuSUxvYWRlclBsdWdpblxuICovXG52YXIgU3ByaXRlc2hlZXRMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3ByaXRlc2hlZXRMb2FkZXIoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCBhZnRlciBhIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0TG9hZGVyLnVzZSA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgbmV4dCkge1xuICAgICAgICAvLyBiZWNhdXNlIHRoaXMgaXMgbWlkZGxld2FyZSwgaXQgZXhlY3V0ZSBpbiBsb2FkZXIgY29udGV4dC4gYHRoaXNgID0gbG9hZGVyXG4gICAgICAgIHZhciBsb2FkZXIgPSB0aGlzO1xuICAgICAgICB2YXIgaW1hZ2VSZXNvdXJjZU5hbWUgPSByZXNvdXJjZS5uYW1lICsgXCJfaW1hZ2VcIjtcbiAgICAgICAgLy8gc2tpcCBpZiBubyBkYXRhLCBpdHMgbm90IGpzb24sIGl0IGlzbid0IHNwcml0ZXNoZWV0IGRhdGEsIG9yIHRoZSBpbWFnZSByZXNvdXJjZSBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBpZiAoIXJlc291cmNlLmRhdGFcbiAgICAgICAgICAgIHx8IHJlc291cmNlLnR5cGUgIT09IExvYWRlclJlc291cmNlLlRZUEUuSlNPTlxuICAgICAgICAgICAgfHwgIXJlc291cmNlLmRhdGEuZnJhbWVzXG4gICAgICAgICAgICB8fCBsb2FkZXIucmVzb3VyY2VzW2ltYWdlUmVzb3VyY2VOYW1lXSkge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsb2FkT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGNyb3NzT3JpZ2luOiByZXNvdXJjZS5jcm9zc09yaWdpbixcbiAgICAgICAgICAgIG1ldGFkYXRhOiByZXNvdXJjZS5tZXRhZGF0YS5pbWFnZU1ldGFkYXRhLFxuICAgICAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVzb3VyY2VQYXRoID0gU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoKHJlc291cmNlLCBsb2FkZXIuYmFzZVVybCk7XG4gICAgICAgIC8vIGxvYWQgdGhlIGltYWdlIGZvciB0aGlzIHNoZWV0XG4gICAgICAgIGxvYWRlci5hZGQoaW1hZ2VSZXNvdXJjZU5hbWUsIHJlc291cmNlUGF0aCwgbG9hZE9wdGlvbnMsIGZ1bmN0aW9uIG9uSW1hZ2VMb2FkKHJlcykge1xuICAgICAgICAgICAgaWYgKHJlcy5lcnJvcikge1xuICAgICAgICAgICAgICAgIG5leHQocmVzLmVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3ByaXRlc2hlZXQgPSBuZXcgU3ByaXRlc2hlZXQocmVzLnRleHR1cmUsIHJlc291cmNlLmRhdGEsIHJlc291cmNlLnVybCk7XG4gICAgICAgICAgICBzcHJpdGVzaGVldC5wYXJzZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2Uuc3ByaXRlc2hlZXQgPSBzcHJpdGVzaGVldDtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS50ZXh0dXJlcyA9IHNwcml0ZXNoZWV0LnRleHR1cmVzO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3ByaXRlc2hlZXRzIHJvb3QgcGF0aFxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2UgLSBSZXNvdXJjZSB0byBjaGVjayBwYXRoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVcmwgLSBCYXNlIHJvb3QgdXJsXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoID0gZnVuY3Rpb24gKHJlc291cmNlLCBiYXNlVXJsKSB7XG4gICAgICAgIC8vIFByZXBlbmQgdXJsIHBhdGggdW5sZXNzIHRoZSByZXNvdXJjZSBpbWFnZSBpcyBhIGRhdGEgdXJsXG4gICAgICAgIGlmIChyZXNvdXJjZS5pc0RhdGFVcmwpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5kYXRhLm1ldGEuaW1hZ2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybC5yZXNvbHZlKHJlc291cmNlLnVybC5yZXBsYWNlKGJhc2VVcmwsICcnKSwgcmVzb3VyY2UuZGF0YS5tZXRhLmltYWdlKTtcbiAgICB9O1xuICAgIHJldHVybiBTcHJpdGVzaGVldExvYWRlcjtcbn0oKSk7XG5cbmV4cG9ydCB7IFNwcml0ZXNoZWV0LCBTcHJpdGVzaGVldExvYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlc2hlZXQuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZS10aWxpbmcgLSB2NS4zLjdcbiAqIENvbXBpbGVkIFR1ZSwgMjkgRGVjIDIwMjAgMTk6MzA6MTEgVVRDXG4gKlxuICogQHBpeGkvc3ByaXRlLXRpbGluZyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFRleHR1cmVNYXRyaXgsIFRleHR1cmUsIFNoYWRlciwgUXVhZFV2LCBTdGF0ZSwgT2JqZWN0UmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFBvaW50LCBUcmFuc2Zvcm0sIFJlY3RhbmdsZSwgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgZGVwcmVjYXRpb24sIHByZW11bHRpcGx5VGludFRvUmdiYSwgY29ycmVjdEJsZW5kTW9kZSB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFdSQVBfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIHRlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xuLyoqXG4gKiBBIHRpbGluZyBzcHJpdGUgaXMgYSBmYXN0IHdheSBvZiByZW5kZXJpbmcgYSB0aWxpbmcgaW1hZ2VcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGlsaW5nU3ByaXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUaWxpbmdTcHJpdGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MTAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTEwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsaW5nU3ByaXRlKHRleHR1cmUsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAxMDA7IH1cbiAgICAgICAgaWYgKGhlaWdodCA9PT0gdm9pZCAwKSB7IGhlaWdodCA9IDEwMDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0ZXh0dXJlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGlsZSB0cmFuc2Zvcm1cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlVHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBtYXRyaXggdGhhdCBpcyBhcHBsaWVkIHRvIFVWIHRvIGdldCB0aGUgY29vcmRzIGluIFRleHR1cmUgbm9ybWFsaXplZCBzcGFjZSB0byBjb29yZHMgaW4gQmFzZVRleHR1cmUgc3BhY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZNYXRyaXggPSBfdGhpcy50ZXh0dXJlLnV2TWF0cml4IHx8IG5ldyBUZXh0dXJlTWF0cml4KHRleHR1cmUpO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGx1Z2luIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyB0aGlzIGVsZW1lbnQuXG4gICAgICAgICAqIEFsbG93cyB0byBjdXN0b21pemUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIHdpdGhvdXQgb3ZlcnJpZGluZyAnX3JlbmRlcicgbWV0aG9kLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICd0aWxpbmdTcHJpdGUnXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbHVnaW5OYW1lID0gJ3RpbGluZ1Nwcml0ZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCBhbmNob3IgYWZmZWN0cyB1dnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2UmVzcGVjdEFuY2hvciA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWxpbmdTcHJpdGUucHJvdG90eXBlLCBcImNsYW1wTWFyZ2luXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmcgaW4gY29ycmVzcG9uZGluZyB0ZXh0dXJlVHJhbnNmb3JtLCBzaG9ydGN1dFxuICAgICAgICAgKiBDaGFuZ2UgdG8gLTAuNSB0byBhZGQgYSBwaXhlbCB0byB0aGUgZWRnZSwgcmVjb21tZW5kZWQgZm9yIHRyYW5zcGFyZW50IHRyaW1tZWQgdGV4dHVyZXMgaW4gYXRsYXNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgMC41XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXZNYXRyaXguY2xhbXBNYXJnaW47XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnV2TWF0cml4LmNsYW1wTWFyZ2luID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnV2TWF0cml4LnVwZGF0ZSh0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWxpbmdTcHJpdGUucHJvdG90eXBlLCBcInRpbGVTY2FsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGluZyBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5zY2FsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS5zY2FsZS5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlsaW5nU3ByaXRlLnByb3RvdHlwZSwgXCJ0aWxlUG9zaXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9mZnNldCBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy51dk1hdHJpeCkge1xuICAgICAgICAgICAgdGhpcy51dk1hdHJpeC50ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICAvLyB0d2VhayBvdXIgdGV4dHVyZSB0ZW1wb3JhcmlseS4uXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgaWYgKCF0ZXh0dXJlIHx8ICF0ZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnVwZGF0ZUxvY2FsVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMudXZNYXRyaXgudXBkYXRlKCk7XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIHRpbGluZyBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMuX3dpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLl9oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMuX2hlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl93aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl9oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG4gICAgICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb2ludCAtIHRoZSBwb2ludCB0byBjaGVja1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBzcHJpdGUgY29udGFpbnMgdGhlIHBvaW50LlxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5fd2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIHZhciB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLl94O1xuICAgICAgICBpZiAodGVtcFBvaW50LnggPj0geDEgJiYgdGVtcFBvaW50LnggPCB4MSArIHdpZHRoKSB7XG4gICAgICAgICAgICB2YXIgeTEgPSAtaGVpZ2h0ICogdGhpcy5hbmNob3IuX3k7XG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgc3ByaXRlIGFuZCBvcHRpb25hbGx5IGl0cyB0ZXh0dXJlIGFuZCBjaGlsZHJlblxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMudXZNYXRyaXggPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyB0aWxpbmcgc3ByaXRlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLlRleHR1cmV8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy53aWR0aCAtIHJlcXVpcmVkIHdpZHRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuaGVpZ2h0IC0gcmVxdWlyZWQgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHJldHVybiB7UElYSS5UaWxpbmdTcHJpdGV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIChzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gRGVwcmVjYXRlZFxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnVGlsaW5nU3ByaXRlLmZyb20gdXNlIG9wdGlvbnMgaW5zdGVhZCBvZiB3aWR0aCBhbmQgaGVpZ2h0IGFyZ3MnKTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IHdpZHRoOiBvcHRpb25zLCBoZWlnaHQ6IGFyZ3VtZW50c1syXSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKFRleHR1cmUuZnJvbShzb3VyY2UsIG9wdGlvbnMpLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlsaW5nU3ByaXRlLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRpbGluZ1Nwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gVGlsaW5nU3ByaXRlO1xufShTcHJpdGUpKTtcblxudmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VHJhbnNmb3JtICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG51bmlmb3JtIG1hdDMgdU1hcENvb3JkO1xcbnVuaWZvcm0gdmVjNCB1Q2xhbXBGcmFtZTtcXG51bmlmb3JtIHZlYzIgdUNsYW1wT2Zmc2V0O1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjMiBjb29yZCA9IHZUZXh0dXJlQ29vcmQgKyBjZWlsKHVDbGFtcE9mZnNldCAtIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBjb29yZCA9ICh1TWFwQ29vcmQgKiB2ZWMzKGNvb3JkLCAxLjApKS54eTtcXG4gICAgY29vcmQgPSBjbGFtcChjb29yZCwgdUNsYW1wRnJhbWUueHksIHVDbGFtcEZyYW1lLnp3KTtcXG5cXG4gICAgdmVjNCB0ZXhTYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNvb3JkKTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4U2FtcGxlICogdUNvbG9yO1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50U2ltcGxlID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjNCBzYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBzYW1wbGUgKiB1Q29sb3I7XFxufVxcblwiO1xuXG52YXIgdGVtcE1hdCA9IG5ldyBNYXRyaXgoKTtcbi8qKlxuICogV2ViR0wgcmVuZGVyZXIgcGx1Z2luIGZvciB0aWxpbmcgc3ByaXRlc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xudmFyIFRpbGluZ1Nwcml0ZVJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUaWxpbmdTcHJpdGVSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBjb25zdHJ1Y3RvciBmb3IgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyB0aWxpbmcgYXdlc29tZW5lc3Mgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbGluZ1Nwcml0ZVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7IGdsb2JhbHM6IF90aGlzLnJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zIH07XG4gICAgICAgIF90aGlzLnNoYWRlciA9IFNoYWRlci5mcm9tKHZlcnRleCwgZnJhZ21lbnQsIHVuaWZvcm1zKTtcbiAgICAgICAgX3RoaXMuc2ltcGxlU2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudFNpbXBsZSwgdW5pZm9ybXMpO1xuICAgICAgICBfdGhpcy5xdWFkID0gbmV3IFF1YWRVdigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHN0YXRlIGluIHdoaWNoIHRoaXMgcmVuZGVyZXIgd2lsbCB3b3JrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UaWxpbmdTcHJpdGV9IHRzIC0gdGlsaW5nU3ByaXRlIHRvIGJlIHJlbmRlcmVkXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICh0cykge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgcXVhZCA9IHRoaXMucXVhZDtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gcXVhZC52ZXJ0aWNlcztcbiAgICAgICAgdmVydGljZXNbMF0gPSB2ZXJ0aWNlc1s2XSA9ICh0cy5fd2lkdGgpICogLXRzLmFuY2hvci54O1xuICAgICAgICB2ZXJ0aWNlc1sxXSA9IHZlcnRpY2VzWzNdID0gdHMuX2hlaWdodCAqIC10cy5hbmNob3IueTtcbiAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1s0XSA9ICh0cy5fd2lkdGgpICogKDEuMCAtIHRzLmFuY2hvci54KTtcbiAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IHRzLl9oZWlnaHQgKiAoMS4wIC0gdHMuYW5jaG9yLnkpO1xuICAgICAgICBpZiAodHMudXZSZXNwZWN0QW5jaG9yKSB7XG4gICAgICAgICAgICB2ZXJ0aWNlcyA9IHF1YWQudXZzO1xuICAgICAgICAgICAgdmVydGljZXNbMF0gPSB2ZXJ0aWNlc1s2XSA9IC10cy5hbmNob3IueDtcbiAgICAgICAgICAgIHZlcnRpY2VzWzFdID0gdmVydGljZXNbM10gPSAtdHMuYW5jaG9yLnk7XG4gICAgICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzRdID0gMS4wIC0gdHMuYW5jaG9yLng7XG4gICAgICAgICAgICB2ZXJ0aWNlc1s1XSA9IHZlcnRpY2VzWzddID0gMS4wIC0gdHMuYW5jaG9yLnk7XG4gICAgICAgIH1cbiAgICAgICAgcXVhZC5pbnZhbGlkYXRlKCk7XG4gICAgICAgIHZhciB0ZXggPSB0cy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIGJhc2VUZXggPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBsdCA9IHRzLnRpbGVUcmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIHZhciB1diA9IHRzLnV2TWF0cml4O1xuICAgICAgICB2YXIgaXNTaW1wbGUgPSBiYXNlVGV4LmlzUG93ZXJPZlR3b1xuICAgICAgICAgICAgJiYgdGV4LmZyYW1lLndpZHRoID09PSBiYXNlVGV4LndpZHRoICYmIHRleC5mcmFtZS5oZWlnaHQgPT09IGJhc2VUZXguaGVpZ2h0O1xuICAgICAgICAvLyBhdXRvLCBmb3JjZSByZXBlYXQgd3JhcE1vZGUgZm9yIGJpZyB0aWxpbmcgdGV4dHVyZXNcbiAgICAgICAgaWYgKGlzU2ltcGxlKSB7XG4gICAgICAgICAgICBpZiAoIWJhc2VUZXguX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJhc2VUZXgud3JhcE1vZGUgPT09IFdSQVBfTU9ERVMuQ0xBTVApIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleC53cmFwTW9kZSA9IFdSQVBfTU9ERVMuUkVQRUFUO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlzU2ltcGxlID0gYmFzZVRleC53cmFwTW9kZSAhPT0gV1JBUF9NT0RFUy5DTEFNUDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgc2hhZGVyID0gaXNTaW1wbGUgPyB0aGlzLnNpbXBsZVNoYWRlciA6IHRoaXMuc2hhZGVyO1xuICAgICAgICB2YXIgdyA9IHRleC53aWR0aDtcbiAgICAgICAgdmFyIGggPSB0ZXguaGVpZ2h0O1xuICAgICAgICB2YXIgVyA9IHRzLl93aWR0aDtcbiAgICAgICAgdmFyIEggPSB0cy5faGVpZ2h0O1xuICAgICAgICB0ZW1wTWF0LnNldChsdC5hICogdyAvIFcsIGx0LmIgKiB3IC8gSCwgbHQuYyAqIGggLyBXLCBsdC5kICogaCAvIEgsIGx0LnR4IC8gVywgbHQudHkgLyBIKTtcbiAgICAgICAgLy8gdGhhdCBwYXJ0IGlzIHRoZSBzYW1lIGFzIGFib3ZlOlxuICAgICAgICAvLyB0ZW1wTWF0LmlkZW50aXR5KCk7XG4gICAgICAgIC8vIHRlbXBNYXQuc2NhbGUodGV4LndpZHRoLCB0ZXguaGVpZ2h0KTtcbiAgICAgICAgLy8gdGVtcE1hdC5wcmVwZW5kKGx0KTtcbiAgICAgICAgLy8gdGVtcE1hdC5zY2FsZSgxLjAgLyB0cy5fd2lkdGgsIDEuMCAvIHRzLl9oZWlnaHQpO1xuICAgICAgICB0ZW1wTWF0LmludmVydCgpO1xuICAgICAgICBpZiAoaXNTaW1wbGUpIHtcbiAgICAgICAgICAgIHRlbXBNYXQucHJlcGVuZCh1di5tYXBDb29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudU1hcENvb3JkID0gdXYubWFwQ29vcmQudG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q2xhbXBGcmFtZSA9IHV2LnVDbGFtcEZyYW1lO1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDbGFtcE9mZnNldCA9IHV2LnVDbGFtcE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBzaGFkZXIudW5pZm9ybXMudVRyYW5zZm9ybSA9IHRlbXBNYXQudG9BcnJheSh0cnVlKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IHByZW11bHRpcGx5VGludFRvUmdiYSh0cy50aW50LCB0cy53b3JsZEFscGhhLCBzaGFkZXIudW5pZm9ybXMudUNvbG9yLCBiYXNlVGV4LmFscGhhTW9kZSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IHRzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMudVNhbXBsZXIgPSB0ZXg7XG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHNoYWRlcik7XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQocXVhZCk7XG4gICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gY29ycmVjdEJsZW5kTW9kZSh0cy5ibGVuZE1vZGUsIGJhc2VUZXguYWxwaGFNb2RlKTtcbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0KHRoaXMuc3RhdGUpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KHRoaXMucmVuZGVyZXIuZ2wuVFJJQU5HTEVTLCA2LCAwKTtcbiAgICB9O1xuICAgIHJldHVybiBUaWxpbmdTcHJpdGVSZW5kZXJlcjtcbn0oT2JqZWN0UmVuZGVyZXIpKTtcblxuZXhwb3J0IHsgVGlsaW5nU3ByaXRlLCBUaWxpbmdTcHJpdGVSZW5kZXJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlLXRpbGluZy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWVzaCAtIHY1LjMuN1xuICogQ29tcGlsZWQgVHVlLCAyOSBEZWMgMjAyMCAxOTozMDoxMSBVVENcbiAqXG4gKiBAcGl4aS9tZXNoIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgU3RhdGUsIFByb2dyYW0sIFRleHR1cmVNYXRyaXgsIFNoYWRlciwgQnVmZmVyLCBHZW9tZXRyeSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgUG9pbnQsIFBvbHlnb24sIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgRFJBV19NT0RFUywgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IHByZW11bHRpcGx5VGludFRvUmdiYSB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogQ2xhc3MgY29udHJvbHMgY2FjaGUgZm9yIFVWIG1hcHBpbmcgZnJvbSBUZXh0dXJlIG5vcm1hbCBzcGFjZSB0byBCYXNlVGV4dHVyZSBub3JtYWwgc3BhY2UuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWVzaEJhdGNoVXZzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ9IHV2QnVmZmVyIC0gQnVmZmVyIHdpdGggbm9ybWFsaXplZCB1didzXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmVNYXRyaXh9IHV2TWF0cml4IC0gTWF0ZXJpYWwgVVYgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVzaEJhdGNoVXZzKHV2QnVmZmVyLCB1dk1hdHJpeCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQnVmZmVyIHdpdGggbm9ybWFsaXplZCBVVidzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dkJ1ZmZlciA9IHV2QnVmZmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWF0ZXJpYWwgVVYgbWF0cml4XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZNYXRyaXggPSB1dk1hdHJpeDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVWIEJ1ZmZlciBkYXRhXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJZCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVXBkYXRlSWQgPSAtMTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1cGRhdGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZVVwZGF0ZV0gLSBmb3JjZSB0aGUgdXBkYXRlXG4gICAgICovXG4gICAgTWVzaEJhdGNoVXZzLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZm9yY2VVcGRhdGUpIHtcbiAgICAgICAgaWYgKCFmb3JjZVVwZGF0ZVxuICAgICAgICAgICAgJiYgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPT09IHRoaXMudXZCdWZmZXIuX3VwZGF0ZUlEXG4gICAgICAgICAgICAmJiB0aGlzLl90ZXh0dXJlVXBkYXRlSWQgPT09IHRoaXMudXZNYXRyaXguX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPSB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID0gdGhpcy51dk1hdHJpeC5fdXBkYXRlSUQ7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy51dkJ1ZmZlci5kYXRhO1xuICAgICAgICBpZiAoIXRoaXMuZGF0YSB8fCB0aGlzLmRhdGEubGVuZ3RoICE9PSBkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gbmV3IEZsb2F0MzJBcnJheShkYXRhLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51dk1hdHJpeC5tdWx0aXBseVV2cyhkYXRhLCB0aGlzLmRhdGEpO1xuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH07XG4gICAgcmV0dXJuIE1lc2hCYXRjaFV2cztcbn0oKSk7XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbnZhciB0ZW1wUG9seWdvbiA9IG5ldyBQb2x5Z29uKCk7XG4vKipcbiAqIEJhc2UgbWVzaCBjbGFzcy5cbiAqXG4gKiBUaGlzIGNsYXNzIGVtcG93ZXJzIHlvdSB0byBoYXZlIG1heGltdW0gZmxleGliaWxpdHkgdG8gcmVuZGVyIGFueSBraW5kIG9mIFdlYkdMIHZpc3VhbHMgeW91IGNhbiB0aGluayBvZi5cbiAqIFRoaXMgY2xhc3MgYXNzdW1lcyBhIGNlcnRhaW4gbGV2ZWwgb2YgV2ViR0wga25vd2xlZGdlLlxuICogSWYgeW91IGtub3cgYSBiaXQgdGhpcyBzaG91bGQgYWJzdHJhY3QgZW5vdWdoIGF3YXkgdG8gbWFrZSB5b3UgbGlmZSBlYXNpZXIhXG4gKlxuICogUHJldHR5IG11Y2ggQUxMIFdlYkdMIGNhbiBiZSBicm9rZW4gZG93biBpbnRvIHRoZSBmb2xsb3dpbmc6XG4gKiAtIEdlb21ldHJ5IC0gVGhlIHN0cnVjdHVyZSBhbmQgZGF0YSBmb3IgdGhlIG1lc2guIFRoaXMgY2FuIGluY2x1ZGUgYW55dGhpbmcgZnJvbSBwb3NpdGlvbnMsIHV2cywgbm9ybWFscywgY29sb3JzIGV0Yy4uXG4gKiAtIFNoYWRlciAtIFRoaXMgaXMgdGhlIHNoYWRlciB0aGF0IFBpeGlKUyB3aWxsIHJlbmRlciB0aGUgZ2VvbWV0cnkgd2l0aCAoYXR0cmlidXRlcyBpbiB0aGUgc2hhZGVyIG11c3QgbWF0Y2ggdGhlIGdlb21ldHJ5KVxuICogLSBTdGF0ZSAtIFRoaXMgaXMgdGhlIHN0YXRlIG9mIFdlYkdMIHJlcXVpcmVkIHRvIHJlbmRlciB0aGUgbWVzaC5cbiAqXG4gKiBUaHJvdWdoIGEgY29tYmluYXRpb24gb2YgdGhlIGFib3ZlIGVsZW1lbnRzIHlvdSBjYW4gcmVuZGVyIGFueXRoaW5nIHlvdSB3YW50LCAyRCBvciAzRCFcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWVzaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWVzaCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gdGhlIGdlb21ldHJ5IHRoZSBtZXNoIHdpbGwgdXNlXG4gICAgICogQHBhcmFtIHtQSVhJLk1lc2hNYXRlcmlhbH0gc2hhZGVyIC0gdGhlIHNoYWRlciB0aGUgbWVzaCB3aWxsIHVzZVxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZX0gW3N0YXRlXSAtIHRoZSBzdGF0ZSB0aGF0IHRoZSBXZWJHTCBjb250ZXh0IGlzIHJlcXVpcmVkIHRvIGJlIGluIHRvIHJlbmRlciB0aGUgbWVzaFxuICAgICAqICAgICAgICBpZiBubyBzdGF0ZSBpcyBwcm92aWRlZCwgdXNlcyB7QGxpbmsgUElYSS5TdGF0ZS5mb3IyZH0gdG8gY3JlYXRlIGEgMkQgc3RhdGUgZm9yIFBpeGlKUy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RyYXdNb2RlPVBJWEkuRFJBV19NT0RFUy5UUklBTkdMRVNdIC0gdGhlIGRyYXdNb2RlLCBjYW4gYmUgYW55IG9mIHRoZSBQSVhJLkRSQVdfTU9ERVMgY29uc3RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVzaChnZW9tZXRyeSwgc2hhZGVyLCBzdGF0ZSwgZHJhd01vZGUpIHtcbiAgICAgICAgaWYgKGRyYXdNb2RlID09PSB2b2lkIDApIHsgZHJhd01vZGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUzsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5jbHVkZXMgdmVydGV4IHBvc2l0aW9ucywgZmFjZSBpbmRpY2VzLCBub3JtYWxzLCBjb2xvcnMsIFVWcywgYW5kXG4gICAgICAgICAqIGN1c3RvbSBhdHRyaWJ1dGVzIHdpdGhpbiBidWZmZXJzLCByZWR1Y2luZyB0aGUgY29zdCBvZiBwYXNzaW5nIGFsbFxuICAgICAgICAgKiB0aGlzIGRhdGEgdG8gdGhlIEdQVS4gQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIE1lc2ggb2JqZWN0cy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HZW9tZXRyeX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nZW9tZXRyeSA9IGdlb21ldHJ5O1xuICAgICAgICBnZW9tZXRyeS5yZWZDb3VudCsrO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJzIHRoYXQgcHJvY2Vzc2VzIHRoZSBnZW9tZXRyeSBhbmQgcnVucyBvbiB0aGUgR1BVLlxuICAgICAgICAgKiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgTWVzaCBvYmplY3RzLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcnxQSVhJLk1lc2hNYXRlcmlhbH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNoYWRlciA9IHNoYWRlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIFdlYkdMIHN0YXRlIHRoZSBNZXNoIHJlcXVpcmVkIHRvIHJlbmRlciwgZXhjbHVkZXMgc2hhZGVyIGFuZCBnZW9tZXRyeS4gRS5nLixcbiAgICAgICAgICogYmxlbmQgbW9kZSwgY3VsbGluZywgZGVwdGggdGVzdGluZywgZGlyZWN0aW9uIG9mIHJlbmRlcmluZyB0cmlhbmdsZXMsIGJhY2tmYWNlLCBldGMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHN0YXRlIHx8IFN0YXRlLmZvcjJkKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2F5IHRoZSBNZXNoIHNob3VsZCBiZSBkcmF3biwgY2FuIGJlIGFueSBvZiB0aGUge0BsaW5rIFBJWEkuRFJBV19NT0RFU30gY29uc3RhbnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5EUkFXX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kcmF3TW9kZSA9IGRyYXdNb2RlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHlwaWNhbGx5IHRoZSBpbmRleCBvZiB0aGUgSW5kZXhCdWZmZXIgd2hlcmUgdG8gc3RhcnQgZHJhd2luZy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGFydCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgbXVjaCBvZiB0aGUgZ2VvbWV0cnkgdG8gZHJhdywgYnkgZGVmYXVsdCBgMGAgcmVuZGVycyBldmVyeXRoaW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNpemUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhlYXNlIGFyZSB1c2VkIGFzIGVhc3kgYWNjZXNzIGZvciBiYXRjaGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dnMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhlYXNlIGFyZSB1c2VkIGFzIGVhc3kgYWNjZXNzIGZvciBiYXRjaGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmluZGljZXMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhpcyBpcyB0aGUgY2FjaGluZyBsYXllciB1c2VkIGJ5IHRoZSBiYXRjaGVyXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZ2VvbWV0cnkgaXMgY2hhbmdlZCB1c2VkIHRvIGRlY2lkZSB0byByZS10cmFuc2Zvcm1cbiAgICAgICAgICogdGhlIHZlcnRleERhdGEuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleERpcnR5ID0gMDtcbiAgICAgICAgX3RoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCByb3VuZFBpeGVscyBmaWVsZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3JvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuICAgICAgICAvKipcbiAgICAgICAgICogQmF0Y2hlZCBVVidzIGFyZSBjYWNoZWQgZm9yIGF0bGFzIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWVzaEJhdGNoVXZzfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmF0Y2hVdnMgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJ1dkJ1ZmZlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUbyBjaGFuZ2UgbWVzaCB1didzLCBjaGFuZ2UgaXRzIHV2QnVmZmVyIGRhdGEgYW5kIGluY3JlbWVudCBpdHMgX3VwZGF0ZUlELlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaC5wcm90b3R5cGUsIFwidmVydGljZXNCdWZmZXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVG8gY2hhbmdlIG1lc2ggdmVydGljZXMsIGNoYW5nZSBpdHMgdXZCdWZmZXIgZGF0YSBhbmQgaW5jcmVtZW50IGl0cyBfdXBkYXRlSUQuXG4gICAgICAgICAqIEluY3JlbWVudGluZyBfdXBkYXRlSUQgaXMgb3B0aW9uYWwgYmVjYXVzZSBtb3N0IG9mIE1lc2ggb2JqZWN0cyBkbyBpdCBhbnl3YXkuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1swXTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJtYXRlcmlhbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQWxpYXMgZm9yIHtAbGluayBQSVhJLk1lc2gjc2hhZGVyfS5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NZXNoTWF0ZXJpYWx9XG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJibGVuZE1vZGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmJsZW5kTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIE1lc2guIEFwcGx5IGEgdmFsdWUgb2ZcbiAgICAgICAgICogYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJyb3VuZFBpeGVsc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdW5kUGl4ZWxzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAgICAgKiBUbyBzZXQgdGhlIGdsb2JhbCBkZWZhdWx0LCBjaGFuZ2Uge0BsaW5rIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscyAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJ0aW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtdWx0aXBseSB0aW50IGFwcGxpZWQgdG8gdGhlIE1lc2guIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2ZcbiAgICAgICAgICogYDB4RkZGRkZGYCB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnRpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci50aW50ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaC5wcm90b3R5cGUsIFwidGV4dHVyZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBNZXNoIHVzZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnRleHR1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci50ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTdGFuZGFyZCByZW5kZXJlciBkcmF3LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gSW5zdGFuY2UgdG8gcmVuZGVyZXIuXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICAvLyBzZXQgcHJvcGVydGllcyBmb3IgYmF0Y2hpbmcuLlxuICAgICAgICAvLyBUT0RPIGNvdWxkIHVzZSBhIGRpZmZlcmVudCB3YXkgdG8gZ3JhYiB2ZXJ0cz9cbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzBdLmRhdGE7XG4gICAgICAgIC8vIFRPRE8gYmVuY2htYXJrIGNoZWNrIGZvciBhdHRyaWJ1dGUgc2l6ZS4uXG4gICAgICAgIGlmICh0aGlzLnNoYWRlci5iYXRjaGFibGVcbiAgICAgICAgICAgICYmIHRoaXMuZHJhd01vZGUgPT09IERSQVdfTU9ERVMuVFJJQU5HTEVTXG4gICAgICAgICAgICAmJiB2ZXJ0aWNlcy5sZW5ndGggPCBNZXNoLkJBVENIQUJMRV9TSVpFICogMikge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVG9CYXRjaChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEZWZhdWx0KHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhbmRhcmQgbm9uLWJhdGNoaW5nIHdheSBvZiByZW5kZXJpbmcuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBJbnN0YW5jZSB0byByZW5kZXJlci5cbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyRGVmYXVsdCA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5zaGFkZXI7XG4gICAgICAgIHNoYWRlci5hbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICAgICAgaWYgKHNoYWRlci51cGRhdGUpIHtcbiAgICAgICAgICAgIHNoYWRlci51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICBpZiAoc2hhZGVyLnByb2dyYW0udW5pZm9ybURhdGEudHJhbnNsYXRpb25NYXRyaXgpIHtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYmluZCBhbmQgc3luYyB1bmlmb3Jtcy4uXG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHNoYWRlcik7XG4gICAgICAgIC8vIHNldCBzdGF0ZS4uXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgLy8gYmluZCB0aGUgZ2VvbWV0cnkuLi5cbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLmdlb21ldHJ5LCBzaGFkZXIpO1xuICAgICAgICAvLyB0aGVuIHJlbmRlciBpdFxuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KHRoaXMuZHJhd01vZGUsIHRoaXMuc2l6ZSwgdGhpcy5zdGFydCwgdGhpcy5nZW9tZXRyeS5pbnN0YW5jZUNvdW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcmluZyBieSB1c2luZyB0aGUgQmF0Y2ggc3lzdGVtLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gSW5zdGFuY2UgdG8gcmVuZGVyZXIuXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuX3JlbmRlclRvQmF0Y2ggPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyLnV2TWF0cml4KSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci51dk1hdHJpeC51cGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVXZzKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHByb3BlcnRpZXMgZm9yIGJhdGNoaW5nLi5cbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhO1xuICAgICAgICB0aGlzLl90aW50UkdCID0gdGhpcy5zaGFkZXIuX3RpbnRSR0I7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0aGlzLnNoYWRlci50ZXh0dXJlO1xuICAgICAgICB2YXIgcGx1Z2luTmFtZSA9IHRoaXMubWF0ZXJpYWwucGx1Z2luTmFtZTtcbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1twbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbcGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB2ZXJ0ZXhEYXRhIGZpZWxkIGJhc2VkIG9uIHRyYW5zZm9ybSBhbmQgdmVydGljZXNcbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5jYWxjdWxhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gZ2VvbWV0cnkuYnVmZmVyc1swXS5kYXRhO1xuICAgICAgICBpZiAoZ2VvbWV0cnkudmVydGV4RGlydHlJZCA9PT0gdGhpcy52ZXJ0ZXhEaXJ0eSAmJiB0aGlzLl90cmFuc2Zvcm1JRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICBpZiAodGhpcy52ZXJ0ZXhEYXRhLmxlbmd0aCAhPT0gdmVydGljZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRpY2VzLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aCAvIDI7IGkrKykge1xuICAgICAgICAgICAgdmFyIHggPSB2ZXJ0aWNlc1soaSAqIDIpXTtcbiAgICAgICAgICAgIHZhciB5ID0gdmVydGljZXNbKGkgKiAyKSArIDFdO1xuICAgICAgICAgICAgdmVydGV4RGF0YVsoaSAqIDIpXSA9IChhICogeCkgKyAoYyAqIHkpICsgdHg7XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhWyhpICogMikgKyAxXSA9IChiICogeCkgKyAoZCAqIHkpICsgdHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2ldID0gTWF0aC5yb3VuZCgodmVydGV4RGF0YVtpXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudmVydGV4RGlydHkgPSBnZW9tZXRyeS52ZXJ0ZXhEaXJ0eUlkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB1diBmaWVsZCBiYXNlZCBvbiBmcm9tIGdlb21ldHJ5IHV2J3Mgb3IgYmF0Y2hVdnNcbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5jYWxjdWxhdGVVdnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tVXZzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdO1xuICAgICAgICBpZiAoIXRoaXMuc2hhZGVyLnV2TWF0cml4LmlzU2ltcGxlKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmF0Y2hVdnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhdGNoVXZzID0gbmV3IE1lc2hCYXRjaFV2cyhnZW9tVXZzLCB0aGlzLnNoYWRlci51dk1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJhdGNoVXZzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy51dnMgPSB0aGlzLmJhdGNoVXZzLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnV2cyA9IGdlb21VdnMuZGF0YTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBtZXNoIGFzIGEgcmVjdGFuZ2xlLiBUaGUgYm91bmRzIGNhbGN1bGF0aW9uIHRha2VzIHRoZSB3b3JsZFRyYW5zZm9ybSBpbnRvIGFjY291bnQuXG4gICAgICogdGhlcmUgbXVzdCBiZSBhIGFWZXJ0ZXhQb3NpdGlvbiBhdHRyaWJ1dGUgcHJlc2VudCBpbiB0aGUgZ2VvbWV0cnkgZm9yIGJvdW5kcyB0byBiZSBjYWxjdWxhdGVkIGNvcnJlY3RseS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRWZXJ0ZXhEYXRhKHRoaXMudmVydGV4RGF0YSwgMCwgdGhpcy52ZXJ0ZXhEYXRhLmxlbmd0aCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIG1lc2guIFdvcmtzIG9ubHkgZm9yIFBJWEkuRFJBV19NT0RFUy5UUklBTkdMRVMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIGlmICghdGhpcy5nZXRCb3VuZHMoKS5jb250YWlucyhwb2ludC54LCBwb2ludC55KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YTtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRlbXBQb2x5Z29uLnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSB0aGlzLmdlb21ldHJ5LmdldEluZGV4KCkuZGF0YTtcbiAgICAgICAgdmFyIGxlbiA9IGluZGljZXMubGVuZ3RoO1xuICAgICAgICB2YXIgc3RlcCA9IHRoaXMuZHJhd01vZGUgPT09IDQgPyAzIDogMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgKyAyIDwgbGVuOyBpICs9IHN0ZXApIHtcbiAgICAgICAgICAgIHZhciBpbmQwID0gaW5kaWNlc1tpXSAqIDI7XG4gICAgICAgICAgICB2YXIgaW5kMSA9IGluZGljZXNbaSArIDFdICogMjtcbiAgICAgICAgICAgIHZhciBpbmQyID0gaW5kaWNlc1tpICsgMl0gKiAyO1xuICAgICAgICAgICAgcG9pbnRzWzBdID0gdmVydGljZXNbaW5kMF07XG4gICAgICAgICAgICBwb2ludHNbMV0gPSB2ZXJ0aWNlc1tpbmQwICsgMV07XG4gICAgICAgICAgICBwb2ludHNbMl0gPSB2ZXJ0aWNlc1tpbmQxXTtcbiAgICAgICAgICAgIHBvaW50c1szXSA9IHZlcnRpY2VzW2luZDEgKyAxXTtcbiAgICAgICAgICAgIHBvaW50c1s0XSA9IHZlcnRpY2VzW2luZDJdO1xuICAgICAgICAgICAgcG9pbnRzWzVdID0gdmVydGljZXNbaW5kMiArIDFdO1xuICAgICAgICAgICAgaWYgKHRlbXBQb2x5Z29uLmNvbnRhaW5zKHRlbXBQb2ludC54LCB0ZW1wUG9pbnQueSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgTWVzaCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbFxuICAgICAqICBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlXG4gICAgICogIHRoZWlyIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmdlb21ldHJ5LnJlZkNvdW50LS07XG4gICAgICAgIGlmICh0aGlzLmdlb21ldHJ5LnJlZkNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy51dnMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHZlcnRpY2VzIHRvIGNvbnNpZGVyIGJhdGNoYWJsZS4gR2VuZXJhbGx5LCB0aGUgY29tcGxleGl0eVxuICAgICAqIG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5NZXNoXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge251bWJlcn0gQkFUQ0hBQkxFX1NJWkVcbiAgICAgKi9cbiAgICBNZXNoLkJBVENIQUJMRV9TSVpFID0gMTAwO1xuICAgIHJldHVybiBNZXNoO1xufShDb250YWluZXIpKTtcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRleHR1cmVNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gKHVUZXh0dXJlTWF0cml4ICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuXCI7XG5cbi8qKlxuICogU2xpZ2h0bHkgb3BpbmlvbmF0ZWQgZGVmYXVsdCBzaGFkZXIgZm9yIFBpeGlKUyAyRCBvYmplY3RzLlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5TaGFkZXJcbiAqL1xudmFyIE1lc2hNYXRlcmlhbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWVzaE1hdGVyaWFsLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB1U2FtcGxlciAtIFRleHR1cmUgdGhhdCBtYXRlcmlhbCB1c2VzIHRvIHJlbmRlci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gQWRkaXRpb25hbCBvcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFscGhhPTFdIC0gRGVmYXVsdCBhbHBoYS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudGludD0weEZGRkZGRl0gLSBEZWZhdWx0IHRpbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBsdWdpbk5hbWU9J2JhdGNoJ10gLSBSZW5kZXJlciBwbHVnaW4gZm9yIGJhdGNoaW5nLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBbb3B0aW9ucy5wcm9ncmFtPTB4RkZGRkZGXSAtIEN1c3RvbSBwcm9ncmFtLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy51bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVzaE1hdGVyaWFsKHVTYW1wbGVyLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgIHVTYW1wbGVyOiB1U2FtcGxlcixcbiAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgdVRleHR1cmVNYXRyaXg6IE1hdHJpeC5JREVOVElUWSxcbiAgICAgICAgICAgIHVDb2xvcjogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLFxuICAgICAgICB9O1xuICAgICAgICAvLyBTZXQgZGVmYXVsdHNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdGludDogMHhGRkZGRkYsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIHBsdWdpbk5hbWU6ICdiYXRjaCcsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICBpZiAob3B0aW9ucy51bmlmb3Jtcykge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih1bmlmb3Jtcywgb3B0aW9ucy51bmlmb3Jtcyk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBvcHRpb25zLnByb2dyYW0gfHwgUHJvZ3JhbS5mcm9tKHZlcnRleCwgZnJhZ21lbnQpLCB1bmlmb3JtcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9ubHkgZG8gdXBkYXRlIGlmIHRpbnQgb3IgYWxwaGEgY2hhbmdlcy5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9jb2xvckRpcnR5ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0dXJlTWF0cml4IGluc3RhbmNlIGZvciB0aGlzIE1lc2gsIHVzZWQgdG8gdHJhY2sgVGV4dHVyZSBjaGFuZ2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dk1hdHJpeCA9IG5ldyBUZXh0dXJlTWF0cml4KHVTYW1wbGVyKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiBzaGFkZXIgY2FuIGJlIGJhdGNoIHdpdGggdGhlIHJlbmRlcmVyJ3MgYmF0Y2ggc3lzdGVtLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXRjaGFibGUgPSBvcHRpb25zLnByb2dyYW0gPT09IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlcmVyIHBsdWdpbiBmb3IgYmF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnYmF0Y2gnXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbHVnaW5OYW1lID0gb3B0aW9ucy5wbHVnaW5OYW1lO1xuICAgICAgICBfdGhpcy50aW50ID0gb3B0aW9ucy50aW50O1xuICAgICAgICBfdGhpcy5hbHBoYSA9IG9wdGlvbnMuYWxwaGE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwidGV4dHVyZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHRleHR1cmUgYmVpbmcgcmVuZGVyZWQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudVNhbXBsZXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy51bmlmb3Jtcy51U2FtcGxlciAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy51dk1hdHJpeC50ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJhbHBoYVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FscGhhO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBnZXRzIGF1dG9tYXRpY2FsbHkgc2V0IGJ5IHRoZSBvYmplY3QgdXNpbmcgdGhpcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLl9hbHBoYSlcbiAgICAgICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICAgICAgdGhpcy5fYWxwaGEgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwidGludFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNdWx0aXBseSB0aW50IGZvciB0aGUgbWF0ZXJpYWwuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuX3RpbnQpXG4gICAgICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RpbnRSR0IgPSAodmFsdWUgPj4gMTYpICsgKHZhbHVlICYgMHhmZjAwKSArICgodmFsdWUgJiAweGZmKSA8PCAxNik7XG4gICAgICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEdldHMgY2FsbGVkIGF1dG9tYXRpY2FsbHkgYnkgdGhlIE1lc2guIEludGVuZGVkIHRvIGJlIG92ZXJyaWRkZW4gZm9yIGN1c3RvbVxuICAgICAqIE1lc2hNYXRlcmlhbCBvYmplY3RzLlxuICAgICAqL1xuICAgIE1lc2hNYXRlcmlhbC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fY29sb3JEaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgcHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRoaXMuX3RpbnQsIHRoaXMuX2FscGhhLCB0aGlzLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleHR1cmUuYWxwaGFNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy51dk1hdHJpeC51cGRhdGUoKSkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51VGV4dHVyZU1hdHJpeCA9IHRoaXMudXZNYXRyaXgubWFwQ29vcmQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBNZXNoTWF0ZXJpYWw7XG59KFNoYWRlcikpO1xuXG4vKipcbiAqIFN0YW5kYXJkIDJEIGdlb21ldHJ5IHVzZWQgaW4gUGl4aUpTLlxuICpcbiAqIEdlb21ldHJ5IGNhbiBiZSBkZWZpbmVkIHdpdGhvdXQgcGFzc2luZyBpbiBhIHN0eWxlIG9yIGRhdGEgaWYgcmVxdWlyZWQuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGdlb21ldHJ5ID0gbmV3IFBJWEkuR2VvbWV0cnkoKTtcbiAqXG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3Bvc2l0aW9ucycsIFswLCAwLCAxMDAsIDAsIDEwMCwgMTAwLCAwLCAxMDBdLCAyKTtcbiAqIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgndXZzJywgWzAsMCwxLDAsMSwxLDAsMV0sIDIpO1xuICogZ2VvbWV0cnkuYWRkSW5kZXgoWzAsMSwyLDEsMywyXSk7XG4gKlxuICogYGBgXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLkdlb21ldHJ5XG4gKi9cbnZhciBNZXNoR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1lc2hHZW9tZXRyeSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxudW1iZXJbXX0gW3ZlcnRpY2VzXSAtIFBvc2l0aW9uYWwgZGF0YSBvbiBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxudW1iZXJbXX0gW3V2c10gLSBUZXh0dXJlIFVWcy5cbiAgICAgKiBAcGFyYW0ge1VpbnQxNkFycmF5fG51bWJlcltdfSBbaW5kZXhdIC0gSW5kZXhCdWZmZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNZXNoR2VvbWV0cnkodmVydGljZXMsIHV2cywgaW5kZXgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgdmFyIHZlcnRpY2VzQnVmZmVyID0gbmV3IEJ1ZmZlcih2ZXJ0aWNlcyk7XG4gICAgICAgIHZhciB1dnNCdWZmZXIgPSBuZXcgQnVmZmVyKHV2cywgdHJ1ZSk7XG4gICAgICAgIHZhciBpbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIoaW5kZXgsIHRydWUsIHRydWUpO1xuICAgICAgICBfdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIHZlcnRpY2VzQnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUNvb3JkJywgdXZzQnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkSW5kZXgoaW5kZXhCdWZmZXIpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlydHkgZmxhZyB0byBsaW1pdCB1cGRhdGUgY2FsbHMgb24gTWVzaC4gRm9yIGV4YW1wbGUsXG4gICAgICAgICAqIGxpbWl0aW5nIHVwZGF0ZXMgb24gYSBzaW5nbGUgTWVzaCBpbnN0YW5jZSB3aXRoIGEgc2hhcmVkIEdlb21ldHJ5XG4gICAgICAgICAqIHdpdGhpbiB0aGUgcmVuZGVyIGxvb3AuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91cGRhdGVJZCA9IC0xO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoR2VvbWV0cnkucHJvdG90eXBlLCBcInZlcnRleERpcnR5SWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIHZlcnRleCBwb3NpdGlvbiBpcyB1cGRhdGVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJzWzBdLl91cGRhdGVJRDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBNZXNoR2VvbWV0cnk7XG59KEdlb21ldHJ5KSk7XG5cbmV4cG9ydCB7IE1lc2gsIE1lc2hCYXRjaFV2cywgTWVzaEdlb21ldHJ5LCBNZXNoTWF0ZXJpYWwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc2guZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3RleHQtYml0bWFwIC0gdjUuMy43XG4gKiBDb21waWxlZCBUdWUsIDI5IERlYyAyMDIwIDE5OjMwOjExIFVUQ1xuICpcbiAqIEBwaXhpL3RleHQtYml0bWFwIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVjdGFuZ2xlLCBPYnNlcnZhYmxlUG9pbnQsIFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IE1lc2hHZW9tZXRyeSwgTWVzaE1hdGVyaWFsLCBNZXNoIH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5pbXBvcnQgeyBoZXgycmdiLCBzdHJpbmcyaGV4LCBnZXRSZXNvbHV0aW9uT2ZVcmwsIGRlcHJlY2F0aW9uLCByZW1vdmVJdGVtcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBURVhUX0dSQURJRU5ULCBUZXh0U3R5bGUsIFRleHRNZXRyaWNzIH0gZnJvbSAnQHBpeGkvdGV4dCc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IExvYWRlclJlc291cmNlIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4vKipcbiAqIE5vcm1hbGl6ZWQgcGFyc2VkIGRhdGEgZnJvbSAuZm50IGZpbGVzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJpdG1hcEZvbnREYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJpdG1hcEZvbnREYXRhKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udERhdGFJbmZvW119XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmZvID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250RGF0YUNvbW1vbltdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tbW9uID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250RGF0YVBhZ2VbXX1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhZ2UgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSUJpdG1hcEZvbnREYXRhQ2hhcltdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hhciA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udERhdGFLZXJuaW5nW119XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5rZXJuaW5nID0gW107XG4gICAgfVxuICAgIHJldHVybiBCaXRtYXBGb250RGF0YTtcbn0oKSk7XG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFJbmZvXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZmFjZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNpemVcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSUJpdG1hcEZvbnREYXRhQ29tbW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGluZUhlaWdodFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFQYWdlXG4gKiBAcHJvcGVydHkge251bWJlcn0gaWRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBmaWxlXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElCaXRtYXBGb250RGF0YUNoYXJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHBhZ2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4XG4gKiBAcHJvcGVydHkge251bWJlcn0geVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoXG4gKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0XG4gKiBAcHJvcGVydHkge251bWJlcn0geG9mZnNldFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHlvZmZzZXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4YWR2YW5jZVxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFLZXJuaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gZmlyc3RcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzZWNvbmRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhbW91bnRcbiAqL1xuXG4vKipcbiAqIEJpdG1hcEZvbnQgZm9ybWF0IHRoYXQncyBUZXh0LWJhc2VkLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIFRleHRGb3JtYXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGV4dEZvcm1hdCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgcmVzb3VyY2UgcmVmZXJzIHRvIHR4dCBmb250IGRhdGEuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2FueX0gZGF0YVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVzb3VyY2UgY291bGQgYmUgdHJlYXRlZCBhcyBmb250IGRhdGEsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBUZXh0Rm9ybWF0LnRlc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEuaW5kZXhPZignaW5mbyBmYWNlPScpID09PSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVydCB0ZXh0IGZvbnQgZGF0YSB0byBhIGphdmFzY3JpcHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR4dCAtIFJhdyBzdHJpbmcgZGF0YSB0byBiZSBjb252ZXJ0ZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJpdG1hcEZvbnREYXRhfSBQYXJzZWQgZm9udCBkYXRhXG4gICAgICovXG4gICAgVGV4dEZvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh0eHQpIHtcbiAgICAgICAgLy8gUmV0cmlldmUgZGF0YSBpdGVtXG4gICAgICAgIHZhciBpdGVtcyA9IHR4dC5tYXRjaCgvXlthLXpdK1xccysuKyQvZ20pO1xuICAgICAgICB2YXIgcmF3RGF0YSA9IHtcbiAgICAgICAgICAgIGluZm86IFtdLFxuICAgICAgICAgICAgY29tbW9uOiBbXSxcbiAgICAgICAgICAgIHBhZ2U6IFtdLFxuICAgICAgICAgICAgY2hhcjogW10sXG4gICAgICAgICAgICBjaGFyczogW10sXG4gICAgICAgICAgICBrZXJuaW5nOiBbXSxcbiAgICAgICAgICAgIGtlcm5pbmdzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBpdGVtcykge1xuICAgICAgICAgICAgLy8gRXh0cmFjdCBpdGVtIG5hbWVcbiAgICAgICAgICAgIHZhciBuYW1lID0gaXRlbXNbaV0ubWF0Y2goL15bYS16XSsvZ20pWzBdO1xuICAgICAgICAgICAgLy8gRXh0cmFjdCBpdGVtIGF0dHJpYnV0ZSBsaXN0IGFzIHN0cmluZyBleC46IFwid2lkdGg9MTBcIlxuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZUxpc3QgPSBpdGVtc1tpXS5tYXRjaCgvW2EtekEtWl0rPShbXlxcc1wiJ10rfFwiKFteXCJdKilcIikvZ20pO1xuICAgICAgICAgICAgLy8gQ29udmVydCBhdHRyaWJ1dGUgbGlzdCBpbnRvIGFuIG9iamVjdFxuICAgICAgICAgICAgdmFyIGl0ZW1EYXRhID0ge307XG4gICAgICAgICAgICBmb3IgKHZhciBpXzEgaW4gYXR0cmlidXRlTGlzdCkge1xuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGtleS12YWx1ZSBwYWlyc1xuICAgICAgICAgICAgICAgIHZhciBzcGxpdCA9IGF0dHJpYnV0ZUxpc3RbaV8xXS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBzcGxpdFswXTtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZXZlbnR1YWwgcXVvdGVzIGZyb20gdmFsdWVcbiAgICAgICAgICAgICAgICB2YXIgc3RyVmFsdWUgPSBzcGxpdFsxXS5yZXBsYWNlKC9cIi9nbSwgJycpO1xuICAgICAgICAgICAgICAgIC8vIFRyeSB0byBjb252ZXJ0IHZhbHVlIGludG8gZmxvYXRcbiAgICAgICAgICAgICAgICB2YXIgZmxvYXRWYWx1ZSA9IHBhcnNlRmxvYXQoc3RyVmFsdWUpO1xuICAgICAgICAgICAgICAgIC8vIFVzZSBzdHJpbmcgdmFsdWUgY2FzZSBmbG9hdCB2YWx1ZSBpcyBOYU5cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBpc05hTihmbG9hdFZhbHVlKSA/IHN0clZhbHVlIDogZmxvYXRWYWx1ZTtcbiAgICAgICAgICAgICAgICBpdGVtRGF0YVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQdXNoIGN1cnJlbnQgaXRlbSB0byB0aGUgcmVzdWx0aW5nIGRhdGFcbiAgICAgICAgICAgIHJhd0RhdGFbbmFtZV0ucHVzaChpdGVtRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvbnQgPSBuZXcgQml0bWFwRm9udERhdGEoKTtcbiAgICAgICAgcmF3RGF0YS5pbmZvLmZvckVhY2goZnVuY3Rpb24gKGluZm8pIHsgcmV0dXJuIGZvbnQuaW5mby5wdXNoKHtcbiAgICAgICAgICAgIGZhY2U6IGluZm8uZmFjZSxcbiAgICAgICAgICAgIHNpemU6IHBhcnNlSW50KGluZm8uc2l6ZSwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEuY29tbW9uLmZvckVhY2goZnVuY3Rpb24gKGNvbW1vbikgeyByZXR1cm4gZm9udC5jb21tb24ucHVzaCh7XG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiBwYXJzZUludChjb21tb24ubGluZUhlaWdodCwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEucGFnZS5mb3JFYWNoKGZ1bmN0aW9uIChwYWdlKSB7IHJldHVybiBmb250LnBhZ2UucHVzaCh7XG4gICAgICAgICAgICBpZDogcGFyc2VJbnQocGFnZS5pZCwgMTApLFxuICAgICAgICAgICAgZmlsZTogcGFnZS5maWxlLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEuY2hhci5mb3JFYWNoKGZ1bmN0aW9uIChjaGFyKSB7IHJldHVybiBmb250LmNoYXIucHVzaCh7XG4gICAgICAgICAgICBpZDogcGFyc2VJbnQoY2hhci5pZCwgMTApLFxuICAgICAgICAgICAgcGFnZTogcGFyc2VJbnQoY2hhci5wYWdlLCAxMCksXG4gICAgICAgICAgICB4OiBwYXJzZUludChjaGFyLngsIDEwKSxcbiAgICAgICAgICAgIHk6IHBhcnNlSW50KGNoYXIueSwgMTApLFxuICAgICAgICAgICAgd2lkdGg6IHBhcnNlSW50KGNoYXIud2lkdGgsIDEwKSxcbiAgICAgICAgICAgIGhlaWdodDogcGFyc2VJbnQoY2hhci5oZWlnaHQsIDEwKSxcbiAgICAgICAgICAgIHhvZmZzZXQ6IHBhcnNlSW50KGNoYXIueG9mZnNldCwgMTApLFxuICAgICAgICAgICAgeW9mZnNldDogcGFyc2VJbnQoY2hhci55b2Zmc2V0LCAxMCksXG4gICAgICAgICAgICB4YWR2YW5jZTogcGFyc2VJbnQoY2hhci54YWR2YW5jZSwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEua2VybmluZy5mb3JFYWNoKGZ1bmN0aW9uIChrZXJuaW5nKSB7IHJldHVybiBmb250Lmtlcm5pbmcucHVzaCh7XG4gICAgICAgICAgICBmaXJzdDogcGFyc2VJbnQoa2VybmluZy5maXJzdCwgMTApLFxuICAgICAgICAgICAgc2Vjb25kOiBwYXJzZUludChrZXJuaW5nLnNlY29uZCwgMTApLFxuICAgICAgICAgICAgYW1vdW50OiBwYXJzZUludChrZXJuaW5nLmFtb3VudCwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJldHVybiBmb250O1xuICAgIH07XG4gICAgcmV0dXJuIFRleHRGb3JtYXQ7XG59KCkpO1xuXG4vKipcbiAqIEJpdG1hcEZvbnQgZm9ybWF0IHRoYXQncyBYTUwtYmFzZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgWE1MRm9ybWF0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFhNTEZvcm1hdCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgcmVzb3VyY2UgcmVmZXJzIHRvIHhtbCBmb250IGRhdGEuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2FueX0gZGF0YVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVzb3VyY2UgY291bGQgYmUgdHJlYXRlZCBhcyBmb250IGRhdGEsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBYTUxGb3JtYXQudGVzdCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhIGluc3RhbmNlb2YgWE1MRG9jdW1lbnRcbiAgICAgICAgICAgICYmIGRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKS5sZW5ndGhcbiAgICAgICAgICAgICYmIGRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKVswXS5nZXRBdHRyaWJ1dGUoJ2ZhY2UnKSAhPT0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdGhlIFhNTCBpbnRvIEJpdG1hcEZvbnREYXRhIHRoYXQgd2UgY2FuIHVzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MRG9jdW1lbnR9IHhtbFxuICAgICAqIEByZXR1cm4ge0JpdG1hcEZvbnREYXRhfSBEYXRhIHRvIHVzZSBmb3IgQml0bWFwRm9udFxuICAgICAqL1xuICAgIFhNTEZvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh4bWwpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBuZXcgQml0bWFwRm9udERhdGEoKTtcbiAgICAgICAgdmFyIGluZm8gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKTtcbiAgICAgICAgdmFyIGNvbW1vbiA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY29tbW9uJyk7XG4gICAgICAgIHZhciBwYWdlID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJyk7XG4gICAgICAgIHZhciBjaGFyID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjaGFyJyk7XG4gICAgICAgIHZhciBrZXJuaW5nID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdrZXJuaW5nJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5mby5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YS5pbmZvLnB1c2goe1xuICAgICAgICAgICAgICAgIGZhY2U6IGluZm9baV0uZ2V0QXR0cmlidXRlKCdmYWNlJyksXG4gICAgICAgICAgICAgICAgc2l6ZTogcGFyc2VJbnQoaW5mb1tpXS5nZXRBdHRyaWJ1dGUoJ3NpemUnKSwgMTApLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21tb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGEuY29tbW9uLnB1c2goe1xuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IHBhcnNlSW50KGNvbW1vbltpXS5nZXRBdHRyaWJ1dGUoJ2xpbmVIZWlnaHQnKSwgMTApLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkYXRhLnBhZ2UucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHBhZ2VbaV0uZ2V0QXR0cmlidXRlKCdpZCcpLCAxMCkgfHwgMCxcbiAgICAgICAgICAgICAgICBmaWxlOiBwYWdlW2ldLmdldEF0dHJpYnV0ZSgnZmlsZScpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbGV0dGVyID0gY2hhcltpXTtcbiAgICAgICAgICAgIGRhdGEuY2hhci5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnaWQnKSwgMTApLFxuICAgICAgICAgICAgICAgIHBhZ2U6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3BhZ2UnKSwgMTApIHx8IDAsXG4gICAgICAgICAgICAgICAgeDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneScpLCAxMCksXG4gICAgICAgICAgICAgICAgd2lkdGg6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyksIDEwKSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeG9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneG9mZnNldCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeW9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneW9mZnNldCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeGFkdmFuY2U6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3hhZHZhbmNlJyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2VybmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YS5rZXJuaW5nLnB1c2goe1xuICAgICAgICAgICAgICAgIGZpcnN0OiBwYXJzZUludChrZXJuaW5nW2ldLmdldEF0dHJpYnV0ZSgnZmlyc3QnKSwgMTApLFxuICAgICAgICAgICAgICAgIHNlY29uZDogcGFyc2VJbnQoa2VybmluZ1tpXS5nZXRBdHRyaWJ1dGUoJ3NlY29uZCcpLCAxMCksXG4gICAgICAgICAgICAgICAgYW1vdW50OiBwYXJzZUludChrZXJuaW5nW2ldLmdldEF0dHJpYnV0ZSgnYW1vdW50JyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG4gICAgcmV0dXJuIFhNTEZvcm1hdDtcbn0oKSk7XG5cbi8qKlxuICogQml0bWFwRm9udCBmb3JtYXQgdGhhdCdzIFhNTC1iYXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBYTUxTdHJpbmdGb3JtYXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gWE1MU3RyaW5nRm9ybWF0KCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiByZXNvdXJjZSByZWZlcnMgdG8gdGV4dCB4bWwgZm9udCBkYXRhLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHthbnl9IGRhdGFcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHJlc291cmNlIGNvdWxkIGJlIHRyZWF0ZWQgYXMgZm9udCBkYXRhLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgWE1MU3RyaW5nRm9ybWF0LnRlc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEuaW5kZXhPZignPGZvbnQ+JykgPiAtMSkge1xuICAgICAgICAgICAgdmFyIHhtbCA9IG5ldyBzZWxmLkRPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhkYXRhLCAndGV4dC94bWwnKTtcbiAgICAgICAgICAgIHJldHVybiBYTUxGb3JtYXQudGVzdCh4bWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdGhlIHRleHQgWE1MIGludG8gQml0bWFwRm9udERhdGEgdGhhdCB3ZSBjYW4gdXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHhtbFR4dFxuICAgICAqIEByZXR1cm4ge0JpdG1hcEZvbnREYXRhfSBEYXRhIHRvIHVzZSBmb3IgQml0bWFwRm9udFxuICAgICAqL1xuICAgIFhNTFN0cmluZ0Zvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh4bWxUeHQpIHtcbiAgICAgICAgdmFyIHhtbCA9IG5ldyB3aW5kb3cuRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHhtbFR4dCwgJ3RleHQveG1sJyk7XG4gICAgICAgIHJldHVybiBYTUxGb3JtYXQucGFyc2UoeG1sKTtcbiAgICB9O1xuICAgIHJldHVybiBYTUxTdHJpbmdGb3JtYXQ7XG59KCkpO1xuXG4vLyBSZWdpc3RlcmVkIGZvcm1hdHMsIG1heWJlIG1ha2UgdGhpcyBleHRlbnNpYmxlIGluIHRoZSBmdXR1cmU/XG52YXIgZm9ybWF0cyA9IFtcbiAgICBUZXh0Rm9ybWF0LFxuICAgIFhNTEZvcm1hdCxcbiAgICBYTUxTdHJpbmdGb3JtYXQgXTtcbi8qKlxuICogQXV0by1kZXRlY3QgQml0bWFwRm9udCBwYXJzaW5nIGZvcm1hdCBiYXNlZCBvbiBkYXRhLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7YW55fSBkYXRhIC0gRGF0YSB0byBkZXRlY3QgZm9ybWF0XG4gKiBAcmV0dXJuIHthbnl9IEZvcm1hdCBvciBudWxsXG4gKi9cbmZ1bmN0aW9uIGF1dG9EZXRlY3RGb3JtYXQoZGF0YSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9ybWF0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZm9ybWF0c1tpXS50ZXN0KGRhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLy8gVE9ETzogUHJldmVudCBjb2RlIGR1cGxpY2F0aW9uIGIvdyBnZW5lcmF0ZUZpbGxTdHlsZSAmIFRleHQjZ2VuZXJhdGVGaWxsU3R5bGVcbi8qKlxuICogR2VuZXJhdGVzIHRoZSBmaWxsIHN0eWxlLiBDYW4gYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhIGdyYWRpZW50IGJhc2VkIG9uIHRoZSBmaWxsIHN0eWxlIGJlaW5nIGFuIGFycmF5XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZSAtIFRoZSBzdHlsZS5cbiAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gVGhlIGxpbmVzIG9mIHRleHQuXG4gKiBAcmV0dXJuIHtzdHJpbmd8bnVtYmVyfENhbnZhc0dyYWRpZW50fSBUaGUgZmlsbCBzdHlsZVxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZUZpbGxTdHlsZShjYW52YXMsIGNvbnRleHQsIHN0eWxlLCByZXNvbHV0aW9uLCBsaW5lcywgbWV0cmljcykge1xuICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgbnVtYmVyIHR5cGUgYXNcbiAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgLy8gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNTIxXG4gICAgdmFyIGZpbGxTdHlsZSA9IHN0eWxlLmZpbGw7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGZpbGxTdHlsZSkpIHtcbiAgICAgICAgcmV0dXJuIGZpbGxTdHlsZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZmlsbFN0eWxlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZmlsbFN0eWxlWzBdO1xuICAgIH1cbiAgICAvLyB0aGUgZ3JhZGllbnQgd2lsbCBiZSBldmVubHkgc3BhY2VkIG91dCBhY2NvcmRpbmcgdG8gaG93IGxhcmdlIHRoZSBhcnJheSBpcy5cbiAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gd291bGQgY3JlYXRlZCBzdG9wcyBhdCAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICB2YXIgZ3JhZGllbnQ7XG4gICAgLy8gYSBkcm9wc2hhZG93IHdpbGwgZW5sYXJnZSB0aGUgY2FudmFzIGFuZCByZXN1bHQgaW4gdGhlIGdyYWRpZW50IGJlaW5nXG4gICAgLy8gZ2VuZXJhdGVkIHdpdGggdGhlIGluY29ycmVjdCBkaW1lbnNpb25zXG4gICAgdmFyIGRyb3BTaGFkb3dDb3JyZWN0aW9uID0gKHN0eWxlLmRyb3BTaGFkb3cpID8gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlIDogMDtcbiAgICAvLyBzaG91bGQgYWxzbyB0YWtlIHBhZGRpbmcgaW50byBhY2NvdW50LCBwYWRkaW5nIGNhbiBvZmZzZXQgdGhlIGdyYWRpZW50XG4gICAgdmFyIHBhZGRpbmcgPSBzdHlsZS5wYWRkaW5nIHx8IDA7XG4gICAgdmFyIHdpZHRoID0gTWF0aC5jZWlsKGNhbnZhcy53aWR0aCAvIHJlc29sdXRpb24pIC0gZHJvcFNoYWRvd0NvcnJlY3Rpb24gLSAocGFkZGluZyAqIDIpO1xuICAgIHZhciBoZWlnaHQgPSBNYXRoLmNlaWwoY2FudmFzLmhlaWdodCAvIHJlc29sdXRpb24pIC0gZHJvcFNoYWRvd0NvcnJlY3Rpb24gLSAocGFkZGluZyAqIDIpO1xuICAgIC8vIG1ha2UgYSBjb3B5IG9mIHRoZSBzdHlsZSBzZXR0aW5ncywgc28gd2UgY2FuIG1hbmlwdWxhdGUgdGhlbSBsYXRlclxuICAgIHZhciBmaWxsID0gZmlsbFN0eWxlLnNsaWNlKCk7XG4gICAgdmFyIGZpbGxHcmFkaWVudFN0b3BzID0gc3R5bGUuZmlsbEdyYWRpZW50U3RvcHMuc2xpY2UoKTtcbiAgICAvLyB3YW50aW5nIHRvIGV2ZW5seSBkaXN0cmlidXRlIHRoZSBmaWxscy4gU28gYW4gYXJyYXkgb2YgNCBjb2xvdXJzIHNob3VsZCBnaXZlIGZpbGxzIG9mIDAuMjUsIDAuNSBhbmQgMC43NVxuICAgIGlmICghZmlsbEdyYWRpZW50U3RvcHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBsZW5ndGhQbHVzMSA9IGZpbGwubGVuZ3RoICsgMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW5ndGhQbHVzMTsgKytpKSB7XG4gICAgICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKGkgLyBsZW5ndGhQbHVzMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gc3RvcCB0aGUgYmxlZWRpbmcgb2YgdGhlIGxhc3QgZ3JhZGllbnQgb24gdGhlIGxpbmUgYWJvdmUgdG8gdGhlIHRvcCBncmFkaWVudCBvZiB0aGUgdGhpcyBsaW5lXG4gICAgLy8gYnkgaGFyZCBkZWZpbmluZyB0aGUgZmlyc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDAsIGFuZCBsYXN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAxXG4gICAgZmlsbC51bnNoaWZ0KGZpbGxTdHlsZVswXSk7XG4gICAgZmlsbEdyYWRpZW50U3RvcHMudW5zaGlmdCgwKTtcbiAgICBmaWxsLnB1c2goZmlsbFN0eWxlW2ZpbGxTdHlsZS5sZW5ndGggLSAxXSk7XG4gICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaCgxKTtcbiAgICBpZiAoc3R5bGUuZmlsbEdyYWRpZW50VHlwZSA9PT0gVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwpIHtcbiAgICAgICAgLy8gc3RhcnQgdGhlIGdyYWRpZW50IGF0IHRoZSB0b3AgY2VudGVyIG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGJvdHRvbSBtaWRkbGUgb2YgdGhlIGNhbnZhc1xuICAgICAgICBncmFkaWVudCA9IGNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQod2lkdGggLyAyLCBwYWRkaW5nLCB3aWR0aCAvIDIsIGhlaWdodCArIHBhZGRpbmcpO1xuICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlcGVhdCB0aGUgZ3JhZGllbnQgc28gdGhhdCBlYWNoIGluZGl2aWR1YWwgbGluZSBvZiB0ZXh0IGhhcyB0aGUgc2FtZSB2ZXJ0aWNhbCBncmFkaWVudCBlZmZlY3RcbiAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIG92ZXIgMiBsaW5lcyB3b3VsZCBjcmVhdGUgc3RvcHMgYXQgMC4xMjUsIDAuMjUsIDAuMzc1LCAwLjYyNSwgMC43NSwgMC44NzVcbiAgICAgICAgLy8gVGhlcmUncyBwb3RlbnRpYWwgZm9yIGZsb2F0aW5nIHBvaW50IHByZWNpc2lvbiBpc3N1ZXMgYXQgdGhlIHNlYW1zIGJldHdlZW4gZ3JhZGllbnQgcmVwZWF0cy5cbiAgICAgICAgLy8gVGhlIGxvb3AgYmVsb3cgZ2VuZXJhdGVzIHRoZSBzdG9wcyBpbiBvcmRlciwgc28gdHJhY2sgdGhlIGxhc3QgZ2VuZXJhdGVkIG9uZSB0byBwcmV2ZW50XG4gICAgICAgIC8vIGZsb2F0aW5nIHBvaW50IHByZWNpc2lvbiBmcm9tIG1ha2luZyB1cyBnbyB0aGUgdGVlbmllc3QgYml0IGJhY2t3YXJkcywgcmVzdWx0aW5nIGluXG4gICAgICAgIC8vIHRoZSBmaXJzdCBhbmQgbGFzdCBjb2xvcnMgZ2V0dGluZyBzd2FwcGVkLlxuICAgICAgICB2YXIgbGFzdEl0ZXJhdGlvblN0b3AgPSAwO1xuICAgICAgICAvLyBBY3R1YWwgaGVpZ2h0IG9mIHRoZSB0ZXh0IGl0c2VsZiwgbm90IGNvdW50aW5nIHNwYWNpbmcgZm9yIGxpbmVIZWlnaHQvbGVhZGluZy9kcm9wU2hhZG93IGV0Y1xuICAgICAgICB2YXIgdGV4dEhlaWdodCA9IG1ldHJpY3MuZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIC8vIHRleHRIZWlnaHQsIGJ1dCBhcyBhIDAtMSBzaXplIGluIGdsb2JhbCBncmFkaWVudCBzdG9wIHNwYWNlXG4gICAgICAgIHZhciBncmFkU3RvcExpbmVIZWlnaHQgPSB0ZXh0SGVpZ2h0IC8gaGVpZ2h0O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGhpc0xpbmVUb3AgPSBtZXRyaWNzLmxpbmVIZWlnaHQgKiBpO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmaWxsLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgLy8gMC0xIHN0b3AgcG9pbnQgZm9yIHRoZSBjdXJyZW50IGxpbmUsIG11bHRpcGxpZWQgdG8gZ2xvYmFsIHNwYWNlIGFmdGVyd2FyZHNcbiAgICAgICAgICAgICAgICB2YXIgbGluZVN0b3AgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbal0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVTdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbal07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsaW5lU3RvcCA9IGogLyBmaWxsLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGdsb2JhbFN0b3AgPSAodGhpc0xpbmVUb3AgLyBoZWlnaHQpICsgKGxpbmVTdG9wICogZ3JhZFN0b3BMaW5lSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGNvbG9yIHN0b3AgZ2VuZXJhdGlvbiBnb2luZyBiYWNrd2FyZHMgZnJvbSBmbG9hdGluZyBwb2ludCBpbXByZWNpc2lvblxuICAgICAgICAgICAgICAgIHZhciBjbGFtcGVkU3RvcCA9IE1hdGgubWF4KGxhc3RJdGVyYXRpb25TdG9wLCBnbG9iYWxTdG9wKTtcbiAgICAgICAgICAgICAgICBjbGFtcGVkU3RvcCA9IE1hdGgubWluKGNsYW1wZWRTdG9wLCAxKTsgLy8gQ2FwIGF0IDEgYXMgd2VsbCBmb3Igc2FmZXR5J3Mgc2FrZSB0byBhdm9pZCBhIHBvc3NpYmxlIHRocm93LlxuICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChjbGFtcGVkU3RvcCwgZmlsbFtqXSk7XG4gICAgICAgICAgICAgICAgbGFzdEl0ZXJhdGlvblN0b3AgPSBjbGFtcGVkU3RvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gc3RhcnQgdGhlIGdyYWRpZW50IGF0IHRoZSBjZW50ZXIgbGVmdCBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBjZW50ZXIgcmlnaHQgb2YgdGhlIGNhbnZhc1xuICAgICAgICBncmFkaWVudCA9IGNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQocGFkZGluZywgaGVpZ2h0IC8gMiwgd2lkdGggKyBwYWRkaW5nLCBoZWlnaHQgLyAyKTtcbiAgICAgICAgLy8gY2FuIGp1c3QgZXZlbmx5IHNwYWNlIG91dCB0aGUgZ3JhZGllbnRzIGluIHRoaXMgY2FzZSwgYXMgbXVsdGlwbGUgbGluZXMgbWFrZXMgbm8gZGlmZmVyZW5jZVxuICAgICAgICAvLyB0byBhbiBldmVuIGxlZnQgdG8gcmlnaHQgZ3JhZGllbnRcbiAgICAgICAgdmFyIHRvdGFsSXRlcmF0aW9ucyA9IGZpbGwubGVuZ3RoICsgMTtcbiAgICAgICAgdmFyIGN1cnJlbnRJdGVyYXRpb24gPSAxO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzdG9wID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tpXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW2ldKTtcbiAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ3JhZGllbnQ7XG59XG5cbi8vIFRPRE86IFByZXZlbnQgY29kZSBkdXBsaWNhdGlvbiBiL3cgZHJhd0dseXBoICYgVGV4dCN1cGRhdGVUZXh0XG4vKipcbiAqIERyYXdzIHRoZSBnbHlwaCBgbWV0cmljcy50ZXh0YCBvbiB0aGUgZ2l2ZW4gY2FudmFzLlxuICpcbiAqIElnbm9yZWQgYmVjYXVzZSBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXNcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0XG4gKiBAcGFyYW0ge1RleHRNZXRyaWNzfSBtZXRyaWNzXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHBhcmFtIHtudW1iZXJ9IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uXG4gKiBAcGFyYW0ge1RleHRTdHlsZX0gc3R5bGVcbiAqL1xuZnVuY3Rpb24gZHJhd0dseXBoKGNhbnZhcywgY29udGV4dCwgbWV0cmljcywgeCwgeSwgcmVzb2x1dGlvbiwgc3R5bGUpIHtcbiAgICB2YXIgY2hhciA9IG1ldHJpY3MudGV4dDtcbiAgICB2YXIgZm9udFByb3BlcnRpZXMgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzO1xuICAgIGNvbnRleHQudHJhbnNsYXRlKHgsIHkpO1xuICAgIGNvbnRleHQuc2NhbGUocmVzb2x1dGlvbiwgcmVzb2x1dGlvbik7XG4gICAgdmFyIHR4ID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMjtcbiAgICB2YXIgdHkgPSAtKHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIpO1xuICAgIGNvbnRleHQuZm9udCA9IHN0eWxlLnRvRm9udFN0cmluZygpO1xuICAgIGNvbnRleHQubGluZVdpZHRoID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gc3R5bGUudGV4dEJhc2VsaW5lO1xuICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHlsZS5saW5lSm9pbjtcbiAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSBzdHlsZS5taXRlckxpbWl0O1xuICAgIC8vIHNldCBjYW52YXMgdGV4dCBzdHlsZXNcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGdlbmVyYXRlRmlsbFN0eWxlKGNhbnZhcywgY29udGV4dCwgc3R5bGUsIHJlc29sdXRpb24sIFtjaGFyXSwgbWV0cmljcyk7XG4gICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLnN0cm9rZTtcbiAgICBjb250ZXh0LmZvbnQgPSBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IHN0eWxlLnRleHRCYXNlbGluZTtcbiAgICBjb250ZXh0LmxpbmVKb2luID0gc3R5bGUubGluZUpvaW47XG4gICAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcbiAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBnZW5lcmF0ZUZpbGxTdHlsZShjYW52YXMsIGNvbnRleHQsIHN0eWxlLCByZXNvbHV0aW9uLCBbY2hhcl0sIG1ldHJpY3MpO1xuICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2U7XG4gICAgdmFyIGRyb3BTaGFkb3dDb2xvciA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICB2YXIgcmdiID0gaGV4MnJnYih0eXBlb2YgZHJvcFNoYWRvd0NvbG9yID09PSAnbnVtYmVyJyA/IGRyb3BTaGFkb3dDb2xvciA6IHN0cmluZzJoZXgoZHJvcFNoYWRvd0NvbG9yKSk7XG4gICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IFwicmdiYShcIiArIHJnYlswXSAqIDI1NSArIFwiLFwiICsgcmdiWzFdICogMjU1ICsgXCIsXCIgKyByZ2JbMl0gKiAyNTUgKyBcIixcIiArIHN0eWxlLmRyb3BTaGFkb3dBbHBoYSArIFwiKVwiO1xuICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSBzdHlsZS5kcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gTWF0aC5jb3Moc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gTWF0aC5zaW4oc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSAnYmxhY2snO1xuICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSAwO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSAwO1xuICAgIH1cbiAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0eWxlLnN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQoY2hhciwgdHgsIHR5ICsgbWV0cmljcy5saW5lSGVpZ2h0IC0gZm9udFByb3BlcnRpZXMuZGVzY2VudCk7XG4gICAgfVxuICAgIGlmIChzdHlsZS5maWxsKSB7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQoY2hhciwgdHgsIHR5ICsgbWV0cmljcy5saW5lSGVpZ2h0IC0gZm9udFByb3BlcnRpZXMuZGVzY2VudCk7XG4gICAgfVxuICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApOyAvLyBkZWZhdWx0cyBuZWVkZWQgZm9yIG9sZGVyIGJyb3dzZXJzIChlLmcuIE9wZXJhIDI5KVxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3JnYmEoMCwgMCwgMCwgMCknO1xufVxuXG4vKipcbiAqIFByb2Nlc3NlcyB0aGUgcGFzc2VkIGNoYXJhY3RlciBzZXQgZGF0YSBhbmQgcmV0dXJucyBhIGZsYXR0ZW5lZCBhcnJheSBvZiBhbGwgdGhlIGNoYXJhY3RlcnMuXG4gKlxuICogSWdub3JlZCBiZWNhdXNlIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7c3RyaW5nIHwgc3RyaW5nW10gfCBzdHJpbmdbXVtdIH0gY2hhcnNcbiAqIEByZXR1cm5zIHtzdHJpbmdbXX1cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZUNoYXJhY3RlcnMoY2hhcnMpIHtcbiAgICAvLyBTcGxpdCB0aGUgY2hhcnMgc3RyaW5nIGludG8gaW5kaXZpZHVhbCBjaGFyYWN0ZXJzXG4gICAgaWYgKHR5cGVvZiBjaGFycyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY2hhcnMgPSBbY2hhcnNdO1xuICAgIH1cbiAgICAvLyBIYW5kbGUgYW4gYXJyYXkgb2YgY2hhcmFjdGVycytyYW5nZXNcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSBjaGFycy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBjaGFyc1tpXTtcbiAgICAgICAgLy8gSGFuZGxlIHJhbmdlIGRlbGltaXRlZCBieSBzdGFydC9lbmQgY2hhcnNcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIltCaXRtYXBGb250XTogSW52YWxpZCBjaGFyYWN0ZXIgcmFuZ2UgbGVuZ3RoLCBleHBlY3RpbmcgMiBnb3QgXCIgKyBpdGVtLmxlbmd0aCArIFwiLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdGFydENvZGUgPSBpdGVtWzBdLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICB2YXIgZW5kQ29kZSA9IGl0ZW1bMV0uY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIGlmIChlbmRDb2RlIDwgc3RhcnRDb2RlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbQml0bWFwRm9udF06IEludmFsaWQgY2hhcmFjdGVyIHJhbmdlLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gc3RhcnRDb2RlLCBqXzEgPSBlbmRDb2RlOyBpXzEgPD0gal8xOyBpXzErKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoaV8xKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIGEgY2hhcmFjdGVyIHNldCBzdHJpbmdcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaC5hcHBseShyZXN1bHQsIGl0ZW0uc3BsaXQoJycpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tCaXRtYXBGb250XTogRW1wdHkgc2V0IHdoZW4gcmVzb2x2aW5nIGNoYXJhY3RlcnMuJyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQml0bWFwRm9udCByZXByZXNlbnRzIGEgdHlwZWZhY2UgYXZhaWxhYmxlIGZvciB1c2Ugd2l0aCB0aGUgQml0bWFwVGV4dCBjbGFzcy4gVXNlIHRoZSBgaW5zdGFsbGBcbiAqIG1ldGhvZCBmb3IgYWRkaW5nIGEgZm9udCB0byBiZSB1c2VkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJpdG1hcEZvbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJpdG1hcEZvbnREYXRhfSBkYXRhXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmVbXXxPYmplY3QuPHN0cmluZywgUElYSS5UZXh0dXJlPn0gdGV4dHVyZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCaXRtYXBGb250KGRhdGEsIHRleHR1cmVzKSB7XG4gICAgICAgIHZhciBpbmZvID0gZGF0YS5pbmZvWzBdO1xuICAgICAgICB2YXIgY29tbW9uID0gZGF0YS5jb21tb25bMF07XG4gICAgICAgIHZhciBwYWdlID0gZGF0YS5wYWdlWzBdO1xuICAgICAgICB2YXIgcmVzID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHBhZ2UuZmlsZSk7XG4gICAgICAgIHZhciBwYWdlVGV4dHVyZXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmb250IGZhY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvbnQgPSBpbmZvLmZhY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgZm9udCBmYWNlIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IGluZm8uc2l6ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW5lLWhlaWdodCBvZiB0aGUgZm9udCBmYWNlIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZUhlaWdodCA9IGNvbW1vbi5saW5lSGVpZ2h0IC8gcmVzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hcCBvZiBjaGFyYWN0ZXJzIGJ5IGNoYXJhY3RlciBjb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGFycyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hcCBvZiBiYXNlIHBhZ2UgdGV4dHVyZXMgKGkuZS4sIHNoZWV0cyBvZiBnbHlwaHMpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXMgPSBwYWdlVGV4dHVyZXM7XG4gICAgICAgIC8vIENvbnZlcnQgdGhlIGlucHV0IFRleHR1cmUsIFRleHR1cmVzIG9yIG9iamVjdFxuICAgICAgICAvLyBpbnRvIGEgcGFnZSBUZXh0dXJlIGxvb2t1cCBieSBcImlkXCJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnBhZ2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBfYSA9IGRhdGEucGFnZVtpXSwgaWQgPSBfYS5pZCwgZmlsZSA9IF9hLmZpbGU7XG4gICAgICAgICAgICBwYWdlVGV4dHVyZXNbaWRdID0gdGV4dHVyZXMgaW5zdGFuY2VvZiBBcnJheVxuICAgICAgICAgICAgICAgID8gdGV4dHVyZXNbaV0gOiB0ZXh0dXJlc1tmaWxlXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwYXJzZSBsZXR0ZXJzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5jaGFyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBkYXRhLmNoYXJbaV0sIGlkID0gX2IuaWQsIHBhZ2VfMSA9IF9iLnBhZ2U7XG4gICAgICAgICAgICB2YXIgX2MgPSBkYXRhLmNoYXJbaV0sIHggPSBfYy54LCB5ID0gX2MueSwgd2lkdGggPSBfYy53aWR0aCwgaGVpZ2h0ID0gX2MuaGVpZ2h0LCB4b2Zmc2V0ID0gX2MueG9mZnNldCwgeW9mZnNldCA9IF9jLnlvZmZzZXQsIHhhZHZhbmNlID0gX2MueGFkdmFuY2U7XG4gICAgICAgICAgICB4IC89IHJlcztcbiAgICAgICAgICAgIHkgLz0gcmVzO1xuICAgICAgICAgICAgd2lkdGggLz0gcmVzO1xuICAgICAgICAgICAgaGVpZ2h0IC89IHJlcztcbiAgICAgICAgICAgIHhvZmZzZXQgLz0gcmVzO1xuICAgICAgICAgICAgeW9mZnNldCAvPSByZXM7XG4gICAgICAgICAgICB4YWR2YW5jZSAvPSByZXM7XG4gICAgICAgICAgICB2YXIgcmVjdCA9IG5ldyBSZWN0YW5nbGUoeCArIChwYWdlVGV4dHVyZXNbcGFnZV8xXS5mcmFtZS54IC8gcmVzKSwgeSArIChwYWdlVGV4dHVyZXNbcGFnZV8xXS5mcmFtZS55IC8gcmVzKSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLmNoYXJzW2lkXSA9IHtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0OiB4b2Zmc2V0LFxuICAgICAgICAgICAgICAgIHlPZmZzZXQ6IHlvZmZzZXQsXG4gICAgICAgICAgICAgICAgeEFkdmFuY2U6IHhhZHZhbmNlLFxuICAgICAgICAgICAgICAgIGtlcm5pbmc6IHt9LFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IG5ldyBUZXh0dXJlKHBhZ2VUZXh0dXJlc1twYWdlXzFdLmJhc2VUZXh0dXJlLCByZWN0KSxcbiAgICAgICAgICAgICAgICBwYWdlOiBwYWdlXzEsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhcnNlIGtlcm5pbmdzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5rZXJuaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2QgPSBkYXRhLmtlcm5pbmdbaV0sIGZpcnN0ID0gX2QuZmlyc3QsIHNlY29uZCA9IF9kLnNlY29uZCwgYW1vdW50ID0gX2QuYW1vdW50O1xuICAgICAgICAgICAgZmlyc3QgLz0gcmVzO1xuICAgICAgICAgICAgc2Vjb25kIC89IHJlcztcbiAgICAgICAgICAgIGFtb3VudCAvPSByZXM7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyc1tzZWNvbmRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyc1tzZWNvbmRdLmtlcm5pbmdbZmlyc3RdID0gYW1vdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSByZWZlcmVuY2VzIHRvIGNyZWF0ZWQgZ2x5cGggdGV4dHVyZXMuXG4gICAgICovXG4gICAgQml0bWFwRm9udC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5jaGFycykge1xuICAgICAgICAgICAgdGhpcy5jaGFyc1tpZF0udGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmNoYXJzW2lkXS50ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLnBhZ2VUZXh0dXJlcykge1xuICAgICAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXNbaWRdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnBhZ2VUZXh0dXJlc1tpZF0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCByZWFkb25seSBudWxsLlxuICAgICAgICB0aGlzLmNoYXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXMgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBuZXcgYml0bWFwIGZvbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtYTUxEb2N1bWVudHxzdHJpbmd8UElYSS5CaXRtYXBGb250RGF0YX0gZGF0YSAtIFRoZVxuICAgICAqICAgICAgICBjaGFyYWN0ZXJzIG1hcCB0aGF0IGNvdWxkIGJlIHByb3ZpZGVkIGFzIHhtbCBvciByYXcgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIFBJWEkuVGV4dHVyZT58UElYSS5UZXh0dXJlfFBJWEkuVGV4dHVyZVtdfVxuICAgICAqICAgICAgICB0ZXh0dXJlcyAtIExpc3Qgb2YgdGV4dHVyZXMgZm9yIGVhY2ggcGFnZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJpdG1hcEZvbnR9IFJlc3VsdCBmb250IG9iamVjdCB3aXRoIGZvbnQsIHNpemUsIGxpbmVIZWlnaHRcbiAgICAgKiAgICAgICAgIGFuZCBjaGFyIGZpZWxkcy5cbiAgICAgKi9cbiAgICBCaXRtYXBGb250Lmluc3RhbGwgPSBmdW5jdGlvbiAoZGF0YSwgdGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIGZvbnREYXRhO1xuICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEJpdG1hcEZvbnREYXRhKSB7XG4gICAgICAgICAgICBmb250RGF0YSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZm9ybWF0ID0gYXV0b0RldGVjdEZvcm1hdChkYXRhKTtcbiAgICAgICAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnJlY29nbml6ZWQgZGF0YSBmb3JtYXQgZm9yIGZvbnQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb250RGF0YSA9IGZvcm1hdC5wYXJzZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaW5nbGUgdGV4dHVyZSwgY29udmVydCB0byBsaXN0XG4gICAgICAgIGlmICh0ZXh0dXJlcyBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmVzID0gW3RleHR1cmVzXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9udCA9IG5ldyBCaXRtYXBGb250KGZvbnREYXRhLCB0ZXh0dXJlcyk7XG4gICAgICAgIEJpdG1hcEZvbnQuYXZhaWxhYmxlW2ZvbnQuZm9udF0gPSBmb250O1xuICAgICAgICByZXR1cm4gZm9udDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBiaXRtYXAgZm9udCBieSBuYW1lLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICovXG4gICAgQml0bWFwRm9udC51bmluc3RhbGwgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgZm9udCA9IEJpdG1hcEZvbnQuYXZhaWxhYmxlW25hbWVdO1xuICAgICAgICBpZiAoIWZvbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGZvbnQgZm91bmQgbmFtZWQgJ1wiICsgbmFtZSArIFwiJ1wiKTtcbiAgICAgICAgfVxuICAgICAgICBmb250LmRlc3Ryb3koKTtcbiAgICAgICAgZGVsZXRlIEJpdG1hcEZvbnQuYXZhaWxhYmxlW25hbWVdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgYml0bWFwLWZvbnQgZm9yIHRoZSBnaXZlbiBzdHlsZSBhbmQgY2hhcmFjdGVyIHNldC4gVGhpcyBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICoga2VybmluZ3MgeWV0LiBXaXRoIGBzdHlsZWAgcHJvcGVydGllcywgb25seSB0aGUgZm9sbG93aW5nIG5vbi1sYXlvdXQgcHJvcGVydGllcyBhcmUgdXNlZDpcbiAgICAgKlxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3d8ZHJvcFNoYWRvd31cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNkcm9wU2hhZG93RGlzdGFuY2V8ZHJvcFNoYWRvd0Rpc3RhbmNlfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3dDb2xvcnxkcm9wU2hhZG93Q29sb3J9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZHJvcFNoYWRvd0JsdXJ8ZHJvcFNoYWRvd0JsdXJ9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZHJvcFNoYWRvd0FuZ2xlfGRyb3BTaGFkb3dBbmdsZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmaWxsfGZpbGx9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZmlsbEdyYWRpZW50U3RvcHN8ZmlsbEdyYWRpZW50U3RvcHN9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZmlsbEdyYWRpZW50VHlwZXxmaWxsR3JhZGllbnRUeXBlfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZvbnRGYW1pbHl8Zm9udEZhbWlseX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmb250U2l6ZXxmb250U2l6ZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmb250VmFyaWFudHxmb250VmFyaWFudH1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmb250V2VpZ2h0fGZvbnRXZWlnaHR9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjbGluZUpvaW58bGluZUpvaW59XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjbWl0ZXJMaW1pdHxtaXRlckxpbWl0fVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI3N0cm9rZXxzdHJva2V9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjc3Ryb2tlVGhpY2tuZXNzfHN0cm9rZVRoaWNrbmVzc31cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSN0ZXh0QmFzZWxpbmV8dGV4dEJhc2VsaW5lfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgY3VzdG9tIGZvbnQgdG8gdXNlIHdpdGggQml0bWFwVGV4dC5cbiAgICAgKiBAcGFyYW0ge29iamVjdHxQSVhJLlRleHRTdHlsZX0gW3N0eWxlXSAtIFN0eWxlIG9wdGlvbnMgdG8gcmVuZGVyIHdpdGggQml0bWFwRm9udC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuSUJpdG1hcEZvbnRPcHRpb25zfSBbb3B0aW9uc10gLSBTZXR1cCBvcHRpb25zIGZvciBmb250IG9yIG5hbWUgb2YgdGhlIGZvbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW118c3RyaW5nW11bXX0gW29wdGlvbnMuY2hhcnM9UElYSS5CaXRtYXBGb250LkFMUEhBTlVNRVJJQ10gLSBjaGFyYWN0ZXJzIGluY2x1ZGVkXG4gICAgICogICAgICBpbiB0aGUgZm9udCBzZXQuIFlvdSBjYW4gYWxzbyB1c2UgcmFuZ2VzLiBGb3IgZXhhbXBsZSwgYFtbJ2EnLCAneiddLCBbJ0EnLCAnWiddLCBcIiFAIyQlXiYqKCl+e31bXSBcIl1gLlxuICAgICAqICAgICAgRG9uJ3QgZm9yZ2V0IHRvIGluY2x1ZGUgc3BhY2VzICcgJyBpbiB5b3VyIGNoYXJhY3RlciBzZXQhXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBSZW5kZXIgcmVzb2x1dGlvbiBmb3IgZ2x5cGhzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50ZXh0dXJlV2lkdGg9NTEyXSAtIE9wdGlvbmFsIHdpZHRoIG9mIGF0bGFzLCBzbWFsbGVyIHZhbHVlcyB0byByZWR1Y2UgbWVtb3J5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50ZXh0dXJlSGVpZ2h0PTUxMl0gLSBPcHRpb25hbCBoZWlnaHQgb2YgYXRsYXMsIHNtYWxsZXIgdmFsdWVzIHRvIHJlZHVjZSBtZW1vcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnBhZGRpbmc9NF0gLSBQYWRkaW5nIGJldHdlZW4gZ2x5cGhzIG9uIHRleHR1cmUgYXRsYXMuXG4gICAgICogQHJldHVybiB7UElYSS5CaXRtYXBGb250fSBGb250IGdlbmVyYXRlZCBieSBzdHlsZSBvcHRpb25zLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIFBJWEkuQml0bWFwRm9udC5mcm9tKFwiVGl0bGVGb250XCIsIHtcbiAgICAgKiAgICAgZm9udEZhbWlseTogXCJBcmlhbFwiLFxuICAgICAqICAgICBmb250U2l6ZTogMTIsXG4gICAgICogICAgIHN0cm9rZVRoaWNrbmVzczogMixcbiAgICAgKiAgICAgZmlsbDogXCJwdXJwbGVcIlxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogY29uc3QgdGl0bGUgPSBuZXcgUElYSS5CaXRtYXBUZXh0KFwiVGhpcyBpcyB0aGUgdGl0bGVcIiwgeyBmb250TmFtZTogXCJUaXRsZUZvbnRcIiB9KTtcbiAgICAgKi9cbiAgICBCaXRtYXBGb250LmZyb20gPSBmdW5jdGlvbiAobmFtZSwgdGV4dFN0eWxlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbQml0bWFwRm9udF0gUHJvcGVydHkgYG5hbWVgIGlzIHJlcXVpcmVkLicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IE9iamVjdC5hc3NpZ24oe30sIEJpdG1hcEZvbnQuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpLCBjaGFycyA9IF9hLmNoYXJzLCBwYWRkaW5nID0gX2EucGFkZGluZywgcmVzb2x1dGlvbiA9IF9hLnJlc29sdXRpb24sIHRleHR1cmVXaWR0aCA9IF9hLnRleHR1cmVXaWR0aCwgdGV4dHVyZUhlaWdodCA9IF9hLnRleHR1cmVIZWlnaHQ7XG4gICAgICAgIHZhciBjaGFyc0xpc3QgPSByZXNvbHZlQ2hhcmFjdGVycyhjaGFycyk7XG4gICAgICAgIHZhciBzdHlsZSA9IHRleHRTdHlsZSBpbnN0YW5jZW9mIFRleHRTdHlsZSA/IHRleHRTdHlsZSA6IG5ldyBUZXh0U3R5bGUodGV4dFN0eWxlKTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aCA9IHRleHR1cmVXaWR0aDtcbiAgICAgICAgdmFyIGZvbnREYXRhID0gbmV3IEJpdG1hcEZvbnREYXRhKCk7XG4gICAgICAgIGZvbnREYXRhLmluZm9bMF0gPSB7XG4gICAgICAgICAgICBmYWNlOiBzdHlsZS5mb250RmFtaWx5LFxuICAgICAgICAgICAgc2l6ZTogc3R5bGUuZm9udFNpemUsXG4gICAgICAgIH07XG4gICAgICAgIGZvbnREYXRhLmNvbW1vblswXSA9IHtcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6IHN0eWxlLmZvbnRTaXplLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgcG9zaXRpb25YID0gMDtcbiAgICAgICAgdmFyIHBvc2l0aW9uWSA9IDA7XG4gICAgICAgIHZhciBjYW52YXM7XG4gICAgICAgIHZhciBjb250ZXh0O1xuICAgICAgICB2YXIgYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBtYXhDaGFySGVpZ2h0ID0gMDtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnNMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHRleHR1cmVXaWR0aDtcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdGV4dHVyZUhlaWdodDtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoY2FudmFzLCB7IHJlc29sdXRpb246IHJlc29sdXRpb24gfSk7XG4gICAgICAgICAgICAgICAgdGV4dHVyZXMucHVzaChuZXcgVGV4dHVyZShiYXNlVGV4dHVyZSkpO1xuICAgICAgICAgICAgICAgIGZvbnREYXRhLnBhZ2UucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB0ZXh0dXJlcy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICAgICAgICBmaWxlOiAnJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE1lYXN1cmUgZ2x5cGggZGltZW5zaW9uc1xuICAgICAgICAgICAgdmFyIG1ldHJpY3MgPSBUZXh0TWV0cmljcy5tZWFzdXJlVGV4dChjaGFyc0xpc3RbaV0sIHN0eWxlLCBmYWxzZSwgY2FudmFzKTtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IG1ldHJpY3Mud2lkdGg7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5jZWlsKG1ldHJpY3MuaGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdWdseSAtIGJ1dCBpdGFsaWNzIGFyZSBnaXZlbiBtb3JlIHNwYWNlIHNvIHRoZXkgZG9uJ3Qgb3ZlcmxhcFxuICAgICAgICAgICAgdmFyIHRleHR1cmVHbHlwaFdpZHRoID0gTWF0aC5jZWlsKChzdHlsZS5mb250U3R5bGUgPT09ICdpdGFsaWMnID8gMiA6IDEpICogd2lkdGgpO1xuICAgICAgICAgICAgLy8gQ2FuJ3QgZml0IGNoYXIgYW55bW9yZTogbmV4dCBjYW52YXMgcGxlYXNlIVxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uWSA+PSB0ZXh0dXJlSGVpZ2h0IC0gKGhlaWdodCAqIHJlc29sdXRpb24pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uWSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCB3YW50IHVzZXIgZGVidWdnaW5nIGFuIGluZmluaXRlIGxvb3AgKG9yIGRvIHdlPyA6KVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbQml0bWFwRm9udF0gdGV4dHVyZUhlaWdodCBcIiArIHRleHR1cmVIZWlnaHQgKyBcInB4IGlzIFwiXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcInRvbyBzbWFsbCBmb3IgXCIgKyBzdHlsZS5mb250U2l6ZSArIFwicHggZm9udHNcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAtLWk7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBhdGxhcyBvbmNlIGN1cnJlbnQgaGFzIGZpbGxlZCB1cFxuICAgICAgICAgICAgICAgIGNhbnZhcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29udGV4dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWSA9IDA7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25YID0gMDtcbiAgICAgICAgICAgICAgICBtYXhDaGFySGVpZ2h0ID0gMDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1heENoYXJIZWlnaHQgPSBNYXRoLm1heChoZWlnaHQgKyBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQsIG1heENoYXJIZWlnaHQpO1xuICAgICAgICAgICAgLy8gV3JhcCBsaW5lIG9uY2UgZnVsbCByb3cgaGFzIGJlZW4gcmVuZGVyZWRcbiAgICAgICAgICAgIGlmICgodGV4dHVyZUdseXBoV2lkdGggKiByZXNvbHV0aW9uKSArIHBvc2l0aW9uWCA+PSBsaW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAtLWk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25ZICs9IG1heENoYXJIZWlnaHQgKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWSA9IE1hdGguY2VpbChwb3NpdGlvblkpO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWCA9IDA7XG4gICAgICAgICAgICAgICAgbWF4Q2hhckhlaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkcmF3R2x5cGgoY2FudmFzLCBjb250ZXh0LCBtZXRyaWNzLCBwb3NpdGlvblgsIHBvc2l0aW9uWSwgcmVzb2x1dGlvbiwgc3R5bGUpO1xuICAgICAgICAgICAgLy8gVW5pcXVlIChudW1lcmljKSBJRCBtYXBwaW5nIHRvIHRoaXMgZ2x5cGhcbiAgICAgICAgICAgIHZhciBpZCA9IG1ldHJpY3MudGV4dC5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgdGV4dHVyZSBob2xkaW5nIGp1c3QgdGhlIGdseXBoXG4gICAgICAgICAgICBmb250RGF0YS5jaGFyLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICBwYWdlOiB0ZXh0dXJlcy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICAgIHg6IHBvc2l0aW9uWCAvIHJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgeTogcG9zaXRpb25ZIC8gcmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICB3aWR0aDogdGV4dHVyZUdseXBoV2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgeG9mZnNldDogMCxcbiAgICAgICAgICAgICAgICB5b2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIHhhZHZhbmNlOiBNYXRoLmNlaWwod2lkdGhcbiAgICAgICAgICAgICAgICAgICAgLSAoc3R5bGUuZHJvcFNoYWRvdyA/IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSA6IDApXG4gICAgICAgICAgICAgICAgICAgIC0gKHN0eWxlLnN0cm9rZSA/IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyA6IDApKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcG9zaXRpb25YICs9ICh0ZXh0dXJlR2x5cGhXaWR0aCArICgyICogcGFkZGluZykpICogcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHBvc2l0aW9uWCA9IE1hdGguY2VpbChwb3NpdGlvblgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmb250ID0gbmV3IEJpdG1hcEZvbnQoZm9udERhdGEsIHRleHR1cmVzKTtcbiAgICAgICAgLy8gTWFrZSBpdCBlYXNpZXIgdG8gcmVwbGFjZSBhIGZvbnRcbiAgICAgICAgaWYgKEJpdG1hcEZvbnQuYXZhaWxhYmxlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIEJpdG1hcEZvbnQudW5pbnN0YWxsKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIEJpdG1hcEZvbnQuYXZhaWxhYmxlW25hbWVdID0gZm9udDtcbiAgICAgICAgcmV0dXJuIGZvbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNoYXJhY3RlciBzZXQgaW5jbHVkZXMgYWxsIHRoZSBsZXR0ZXJzIGluIHRoZSBhbHBoYWJldCAoYm90aCBsb3dlci0gYW5kIHVwcGVyLSBjYXNlKS5cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7c3RyaW5nW11bXX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIEJpdG1hcEZvbnQuZnJvbShcIkV4YW1wbGVGb250XCIsIHN0eWxlLCB7IGNoYXJzOiBCaXRtYXBGb250LkFMUEhBIH0pXG4gICAgICovXG4gICAgQml0bWFwRm9udC5BTFBIQSA9IFtbJ2EnLCAneiddLCBbJ0EnLCAnWiddLCAnICddO1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBpbmNsdWRlcyBhbGwgZGVjaW1hbCBkaWdpdHMgKGZyb20gMCB0byA5KS5cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7c3RyaW5nW11bXX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIEJpdG1hcEZvbnQuZnJvbShcIkV4YW1wbGVGb250XCIsIHN0eWxlLCB7IGNoYXJzOiBCaXRtYXBGb250Lk5VTUVSSUMgfSlcbiAgICAgKi9cbiAgICBCaXRtYXBGb250Lk5VTUVSSUMgPSBbWycwJywgJzknXV07XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGlzIHRoZSB1bmlvbiBvZiBgQml0bWFwRm9udC5BTFBIQWAgYW5kIGBCaXRtYXBGb250Lk5VTUVSSUNgLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXVtdfVxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuQUxQSEFOVU1FUklDID0gW1snYScsICd6J10sIFsnQScsICdaJ10sIFsnMCcsICc5J10sICcgJ107XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGNvbnNpc3RzIG9mIGFsbCB0aGUgQVNDSUkgdGFibGUuXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge3N0cmluZ1tdW119XG4gICAgICogQHNlZSBodHRwOi8vd3d3LmFzY2lpdGFibGUuY29tL1xuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuQVNDSUkgPSBbWycgJywgJ34nXV07XG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvbiBvZiBkZWZhdWx0IG9wdGlvbnMgd2hlbiB1c2luZyBgQml0bWFwRm9udC5mcm9tYC5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250T3B0aW9uc31cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gcmVzb2x1dGlvbj0xXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRleHR1cmVXaWR0aD01MTJcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gdGV4dHVyZUhlaWdodD01MTJcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gcGFkZGluZz00XG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd8c3RyaW5nW118c3RyaW5nW11bXX0gY2hhcnM9UElYSS5CaXRtYXBGb250LkFMUEhBTlVNRVJJQ1xuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgIHRleHR1cmVXaWR0aDogNTEyLFxuICAgICAgICB0ZXh0dXJlSGVpZ2h0OiA1MTIsXG4gICAgICAgIHBhZGRpbmc6IDQsXG4gICAgICAgIGNoYXJzOiBCaXRtYXBGb250LkFMUEhBTlVNRVJJQyxcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgYXZhaWxhYmxlL2luc3RhbGxlZCBmb250cy5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtPYmplY3QuPHN0cmluZywgUElYSS5CaXRtYXBGb250Pn1cbiAgICAgKi9cbiAgICBCaXRtYXBGb250LmF2YWlsYWJsZSA9IHt9O1xuICAgIHJldHVybiBCaXRtYXBGb250O1xufSgpKTtcbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbnRlcmZhY2UgSUJpdG1hcEZvbnRPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZyB8IHN0cmluZ1tdIHwgc3RyaW5nW11bXX0gW2NoYXJzPVBJWEkuQml0bWFwRm9udC5BTFBIQU5VTUVSSUNdIC0gdGhlIGNoYXJhY3RlciBzZXQgdG8gZ2VuZXJhdGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIHRoZSByZXNvbHV0aW9uIGZvciByZW5kZXJpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcGFkZGluZz00XSAtIHRoZSBwYWRkaW5nIGJldHdlZW4gZ2x5cGhzIGluIHRoZSBhdGxhc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0dXJlV2lkdGg9NTEyXSAtIHRoZSB3aWR0aCBvZiB0aGUgdGV4dHVyZSBhdGxhc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0dXJlSGVpZ2h0PTUxMl0gLSB0aGUgaGVpZ2h0IG9mIHRoZSB0ZXh0dXJlIGF0bGFzXG4gKi9cblxudmFyIHBhZ2VNZXNoRGF0YVBvb2wgPSBbXTtcbnZhciBjaGFyUmVuZGVyRGF0YVBvb2wgPSBbXTtcbi8qKlxuICogQSBCaXRtYXBUZXh0IG9iamVjdCB3aWxsIGNyZWF0ZSBhIGxpbmUgb3IgbXVsdGlwbGUgbGluZXMgb2YgdGV4dCB1c2luZyBiaXRtYXAgZm9udC5cbiAqXG4gKiBUaGUgcHJpbWFyeSBhZHZhbnRhZ2Ugb2YgdGhpcyBjbGFzcyBvdmVyIFRleHQgaXMgdGhhdCBhbGwgb2YgeW91ciB0ZXh0dXJlcyBhcmUgcHJlLWdlbmVyYXRlZCBhbmQgbG9hZGluZyxcbiAqIG1lYW5pbmcgdGhhdCByZW5kZXJpbmcgaXMgZmFzdCwgYW5kIGNoYW5naW5nIHRleHQgaGFzIG5vIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucy5cbiAqXG4gKiBTdXBwb3J0aW5nIGNoYXJhY3RlciBzZXRzIG90aGVyIHRoYW4gbGF0aW4sIHN1Y2ggYXMgQ0pLIGxhbmd1YWdlcywgbWF5IGJlIGltcHJhY3RpY2FsIGR1ZSB0byB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMuXG4gKlxuICogVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLCAnXFxyJyBvciAnXFxyXFxuJyBpbiB5b3VyIHN0cmluZy5cbiAqXG4gKiBQaXhpSlMgY2FuIGF1dG8tZ2VuZXJhdGUgZm9udHMgb24tdGhlLWZseSB1c2luZyBCaXRtYXBGb250IG9yIHVzZSBmbnQgZmlsZXMgcHJvdmlkZWQgYnk6XG4gKiBodHRwOi8vd3d3LmFuZ2VsY29kZS5jb20vcHJvZHVjdHMvYm1mb250LyBmb3IgV2luZG93cyBvclxuICogaHR0cDovL3d3dy5ibWdseXBoLmNvbS8gZm9yIE1hYy5cbiAqXG4gKiBBIEJpdG1hcFRleHQgY2FuIG9ubHkgYmUgY3JlYXRlZCB3aGVuIHRoZSBmb250IGlzIGxvYWRlZC5cbiAqXG4gKiBgYGBqc1xuICogLy8gaW4gdGhpcyBjYXNlIHRoZSBmb250IGlzIGluIGEgZmlsZSBjYWxsZWQgJ2Rlc3lyZWwuZm50J1xuICogbGV0IGJpdG1hcFRleHQgPSBuZXcgUElYSS5CaXRtYXBUZXh0KFwidGV4dCB1c2luZyBhIGZhbmN5IGZvbnQhXCIsIHtmb250OiBcIjM1cHggRGVzeXJlbFwiLCBhbGlnbjogXCJyaWdodFwifSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQml0bWFwVGV4dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQml0bWFwVGV4dCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIEEgc3RyaW5nIHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIHRleHQgdG8gZGlzcGxheS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3R5bGUuZm9udE5hbWUgLSBUaGUgaW5zdGFsbGVkIEJpdG1hcEZvbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmZvbnRTaXplXSAtIFRoZSBzaXplIG9mIHRoZSBmb250IGluIHBpeGVscywgZS5nLiAyNC4gSWYgdW5kZWZpbmVkLFxuICAgICAqLiAgICAgdGhpcyB3aWxsIGRlZmF1bHQgdG8gdGhlIEJpdG1hcEZvbnQgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmFsaWduPSdsZWZ0J10gLSBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLFxuICAgICAqICAgICAgZG9lcyBub3QgYWZmZWN0IHNpbmdsZSBsaW5lIHRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS50aW50PTB4RkZGRkZGXSAtIFRoZSB0aW50IGNvbG9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubGV0dGVyU3BhY2luZz0wXSAtIFRoZSBhbW91bnQgb2Ygc3BhY2luZyBiZXR3ZWVuIGxldHRlcnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5tYXhXaWR0aD0wXSAtIFRoZSBtYXggd2lkdGggb2YgdGhlIHRleHQgYmVmb3JlIGxpbmUgd3JhcHBpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQml0bWFwVGV4dCh0ZXh0LCBzdHlsZSkge1xuICAgICAgICBpZiAoc3R5bGUgPT09IHZvaWQgMCkgeyBzdHlsZSA9IHt9OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl90aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIGlmIChzdHlsZS5mb250KSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5CaXRtYXBUZXh0IGNvbnN0cnVjdG9yIHN0eWxlLmZvbnQgcHJvcGVydHkgaXMgZGVwcmVjYXRlZC4nKTtcbiAgICAgICAgICAgIF90aGlzLl91cGdyYWRlU3R5bGUoc3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFwcGx5IHRoZSBkZWZhdWx0c1xuICAgICAgICB2YXIgX2EgPSBPYmplY3QuYXNzaWduKHt9LCBCaXRtYXBUZXh0LnN0eWxlRGVmYXVsdHMsIHN0eWxlKSwgYWxpZ24gPSBfYS5hbGlnbiwgdGludCA9IF9hLnRpbnQsIG1heFdpZHRoID0gX2EubWF4V2lkdGgsIGxldHRlclNwYWNpbmcgPSBfYS5sZXR0ZXJTcGFjaW5nLCBmb250TmFtZSA9IF9hLmZvbnROYW1lLCBmb250U2l6ZSA9IF9hLmZvbnRTaXplO1xuICAgICAgICBpZiAoIUJpdG1hcEZvbnQuYXZhaWxhYmxlW2ZvbnROYW1lXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBCaXRtYXBGb250IFxcXCJcIiArIGZvbnROYW1lICsgXCJcXFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIHBhZ2UgbWVzaCBkYXRhLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YSA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgd2lkdGggb2YgdGhlIG92ZXJhbGwgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dFdpZHRoID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGhlaWdodCBvZiB0aGUgb3ZlcmFsbCB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0SGVpZ2h0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dCBhbGlnbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FsaWduID0gYWxpZ247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRpbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90aW50ID0gdGludDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgZm9udCBuYW1lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZm9udE5hbWUgPSBmb250TmFtZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgZm9udCBzaXplLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZm9udFNpemUgPSBmb250U2l6ZSB8fCBCaXRtYXBGb250LmF2YWlsYWJsZVtmb250TmFtZV0uc2l6ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHQgPSB0ZXh0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCB3aWR0aCBvZiB0aGlzIGJpdG1hcCB0ZXh0IGluIHBpeGVscy4gSWYgdGhlIHRleHQgcHJvdmlkZWQgaXMgbG9uZ2VyIHRoYW4gdGhlXG4gICAgICAgICAqIHZhbHVlIHByb3ZpZGVkLCBsaW5lIGJyZWFrcyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWQgaW4gdGhlIGxhc3Qgd2hpdGVzcGFjZS5cbiAgICAgICAgICogRGlzYWJsZSBieSBzZXR0aW5nIHZhbHVlIHRvIDBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21heFdpZHRoID0gbWF4V2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IGxpbmUgaGVpZ2h0LiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHRyeWluZyB0byB1c2UgdGhlIHRvdGFsIGhlaWdodCBvZiB0aGUgVGV4dCxcbiAgICAgICAgICogaWU6IHdoZW4gdHJ5aW5nIHRvIHZlcnRpY2FsbHkgYWxpZ24uIChJbnRlcm5hbGx5IHVzZWQpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXhMaW5lSGVpZ2h0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExldHRlciBzcGFjaW5nLiBUaGlzIGlzIHVzZWZ1bCBmb3Igc2V0dGluZyB0aGUgc3BhY2UgYmV0d2VlbiBjaGFyYWN0ZXJzLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbGV0dGVyU3BhY2luZyA9IGxldHRlclNwYWNpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0IGFuY2hvci4gcmVhZC1vbmx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FuY2hvciA9IG5ldyBPYnNlcnZhYmxlUG9pbnQoZnVuY3Rpb24gKCkgeyBfdGhpcy5kaXJ0eSA9IHRydWU7IH0sIF90aGlzLCAwLCAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0byBgdHJ1ZWAgaWYgdGhlIEJpdG1hcFRleHQgbmVlZHMgdG8gYmUgcmVkcmF3bi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlZCBjaGFyIHRleHR1cmUgaXMgZGVzdHJveWVkIHdoZW4gQml0bWFwVGV4dCBpcyBkZXN0cm95ZWRcbiAgICAgICAgICogQG1lbWJlciB7UmVjb3JkPG51bWJlciwgVGV4dHVyZT59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dHVyZUNhY2hlID0ge307XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IGFuZCB1cGRhdGVzIGl0IHdoZW4gbmVlZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZFxuICAgICAqIGlmIHRoZSBCaXRtYXBGb250IGlzIHJlZ2VuZXJhdGVkLlxuICAgICAqL1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnVwZGF0ZVRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGRhdGEgPSBCaXRtYXBGb250LmF2YWlsYWJsZVt0aGlzLl9mb250TmFtZV07XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuX2ZvbnRTaXplIC8gZGF0YS5zaXplO1xuICAgICAgICB2YXIgcG9zID0gbmV3IFBvaW50KCk7XG4gICAgICAgIHZhciBjaGFycyA9IFtdO1xuICAgICAgICB2YXIgbGluZVdpZHRocyA9IFtdO1xuICAgICAgICB2YXIgdGV4dCA9IHRoaXMuX3RleHQucmVwbGFjZSgvKD86XFxyXFxufFxccikvZywgJ1xcbicpIHx8ICcgJztcbiAgICAgICAgdmFyIHRleHRMZW5ndGggPSB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgdmFyIG1heFdpZHRoID0gdGhpcy5fbWF4V2lkdGggKiBkYXRhLnNpemUgLyB0aGlzLl9mb250U2l6ZTtcbiAgICAgICAgdmFyIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgIHZhciBsYXN0TGluZVdpZHRoID0gMDtcbiAgICAgICAgdmFyIG1heExpbmVXaWR0aCA9IDA7XG4gICAgICAgIHZhciBsaW5lID0gMDtcbiAgICAgICAgdmFyIGxhc3RCcmVha1BvcyA9IC0xO1xuICAgICAgICB2YXIgbGFzdEJyZWFrV2lkdGggPSAwO1xuICAgICAgICB2YXIgc3BhY2VzUmVtb3ZlZCA9IDA7XG4gICAgICAgIHZhciBtYXhMaW5lSGVpZ2h0ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyQ29kZSA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGV4dC5jaGFyQXQoaSk7XG4gICAgICAgICAgICBpZiAoKC8oPzpcXHMpLykudGVzdChjaGFyKSkge1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1BvcyA9IGk7XG4gICAgICAgICAgICAgICAgbGFzdEJyZWFrV2lkdGggPSBsYXN0TGluZVdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoYXIgPT09ICdcXHInIHx8IGNoYXIgPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgKytsaW5lO1xuICAgICAgICAgICAgICAgICsrc3BhY2VzUmVtb3ZlZDtcbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2hhckRhdGEgPSBkYXRhLmNoYXJzW2NoYXJDb2RlXTtcbiAgICAgICAgICAgIGlmICghY2hhckRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcmV2Q2hhckNvZGUgJiYgY2hhckRhdGEua2VybmluZ1twcmV2Q2hhckNvZGVdKSB7XG4gICAgICAgICAgICAgICAgcG9zLnggKz0gY2hhckRhdGEua2VybmluZ1twcmV2Q2hhckNvZGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoYXJSZW5kZXJEYXRhID0gY2hhclJlbmRlckRhdGFQb29sLnBvcCgpIHx8IHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBUZXh0dXJlLkVNUFRZLFxuICAgICAgICAgICAgICAgIGxpbmU6IDAsXG4gICAgICAgICAgICAgICAgY2hhckNvZGU6IDAsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBQb2ludCgpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLnRleHR1cmUgPSBjaGFyRGF0YS50ZXh0dXJlO1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEubGluZSA9IGxpbmU7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5jaGFyQ29kZSA9IGNoYXJDb2RlO1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEucG9zaXRpb24ueCA9IHBvcy54ICsgY2hhckRhdGEueE9mZnNldCArICh0aGlzLl9sZXR0ZXJTcGFjaW5nIC8gMik7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5wb3NpdGlvbi55ID0gcG9zLnkgKyBjaGFyRGF0YS55T2Zmc2V0O1xuICAgICAgICAgICAgY2hhcnMucHVzaChjaGFyUmVuZGVyRGF0YSk7XG4gICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS54QWR2YW5jZSArIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgICAgICBsYXN0TGluZVdpZHRoID0gcG9zLng7XG4gICAgICAgICAgICBtYXhMaW5lSGVpZ2h0ID0gTWF0aC5tYXgobWF4TGluZUhlaWdodCwgKGNoYXJEYXRhLnlPZmZzZXQgKyBjaGFyRGF0YS50ZXh0dXJlLmhlaWdodCkpO1xuICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gY2hhckNvZGU7XG4gICAgICAgICAgICBpZiAobGFzdEJyZWFrUG9zICE9PSAtMSAmJiBtYXhXaWR0aCA+IDAgJiYgcG9zLnggPiBtYXhXaWR0aCkge1xuICAgICAgICAgICAgICAgICsrc3BhY2VzUmVtb3ZlZDtcbiAgICAgICAgICAgICAgICByZW1vdmVJdGVtcyhjaGFycywgMSArIGxhc3RCcmVha1BvcyAtIHNwYWNlc1JlbW92ZWQsIDEgKyBpIC0gbGFzdEJyZWFrUG9zKTtcbiAgICAgICAgICAgICAgICBpID0gbGFzdEJyZWFrUG9zO1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1BvcyA9IC0xO1xuICAgICAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0QnJlYWtXaWR0aCk7XG4gICAgICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0QnJlYWtXaWR0aCk7XG4gICAgICAgICAgICAgICAgbGluZSsrO1xuICAgICAgICAgICAgICAgIHBvcy54ID0gMDtcbiAgICAgICAgICAgICAgICBwb3MueSArPSBkYXRhLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbGFzdENoYXIgPSB0ZXh0LmNoYXJBdCh0ZXh0Lmxlbmd0aCAtIDEpO1xuICAgICAgICBpZiAobGFzdENoYXIgIT09ICdcXHInICYmIGxhc3RDaGFyICE9PSAnXFxuJykge1xuICAgICAgICAgICAgaWYgKCgvKD86XFxzKS8pLnRlc3QobGFzdENoYXIpKSB7XG4gICAgICAgICAgICAgICAgbGFzdExpbmVXaWR0aCA9IGxhc3RCcmVha1dpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGluZUFsaWduT2Zmc2V0cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBsaW5lOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBhbGlnbk9mZnNldCA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICBhbGlnbk9mZnNldCA9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9hbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICBhbGlnbk9mZnNldCA9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldKSAvIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW5lQWxpZ25PZmZzZXRzLnB1c2goYWxpZ25PZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZW5DaGFycyA9IGNoYXJzLmxlbmd0aDtcbiAgICAgICAgdmFyIHBhZ2VzTWVzaERhdGEgPSB7fTtcbiAgICAgICAgdmFyIG5ld1BhZ2VzTWVzaERhdGEgPSBbXTtcbiAgICAgICAgdmFyIGFjdGl2ZVBhZ2VzTWVzaERhdGEgPSB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFjdGl2ZVBhZ2VzTWVzaERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhZ2VNZXNoRGF0YVBvb2wucHVzaChhY3RpdmVQYWdlc01lc2hEYXRhW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbkNoYXJzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gY2hhcnNbaV0udGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZVVpZCA9IHRleHR1cmUuYmFzZVRleHR1cmUudWlkO1xuICAgICAgICAgICAgaWYgKCFwYWdlc01lc2hEYXRhW2Jhc2VUZXh0dXJlVWlkXSkge1xuICAgICAgICAgICAgICAgIHZhciBwYWdlTWVzaERhdGEgPSBwYWdlTWVzaERhdGFQb29sLnBvcCgpO1xuICAgICAgICAgICAgICAgIGlmICghcGFnZU1lc2hEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBNZXNoR2VvbWV0cnkoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbChUZXh0dXJlLkVNUFRZKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc2ggPSBuZXcgTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0ZXhDb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHV2c0NvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNoOiBtZXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljZXM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB1dnM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2VzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByZXNldCBkYXRhLi5cbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEuaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5pbmRleENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGV4Q291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS51dnNDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnRvdGFsID0gMDtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIG5lZWQgdG8gZ2V0IHBhZ2UgdGV4dHVyZSBoZXJlIHNvbWVob3cuLlxuICAgICAgICAgICAgICAgIHZhciBfdGV4dHVyZUNhY2hlID0gdGhpcy5fdGV4dHVyZUNhY2hlO1xuICAgICAgICAgICAgICAgIF90ZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVVaWRdID0gX3RleHR1cmVDYWNoZVtiYXNlVGV4dHVyZVVpZF0gfHwgbmV3IFRleHR1cmUodGV4dHVyZS5iYXNlVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLm1lc2gudGV4dHVyZSA9IF90ZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVVaWRdO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5tZXNoLnRpbnQgPSB0aGlzLl90aW50O1xuICAgICAgICAgICAgICAgIG5ld1BhZ2VzTWVzaERhdGEucHVzaChwYWdlTWVzaERhdGEpO1xuICAgICAgICAgICAgICAgIHBhZ2VzTWVzaERhdGFbYmFzZVRleHR1cmVVaWRdID0gcGFnZU1lc2hEYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFnZXNNZXNoRGF0YVtiYXNlVGV4dHVyZVVpZF0udG90YWwrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBsZXRzIGZpbmQgYW55IHByZXZpb3VzbHkgYWN0aXZlIHBhZ2VNZXNoRGF0YXMgdGhhdCBhcmUgbm8gbG9uZ2VyIHJlcXVpcmVkIGZvclxuICAgICAgICAvLyB0aGUgdXBkYXRlZCB0ZXh0IChpZiBhbnkpLCByZW1vdmVkIGFuZCByZXR1cm4gdGhlbSB0byB0aGUgcG9vbC5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhY3RpdmVQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobmV3UGFnZXNNZXNoRGF0YS5pbmRleE9mKGFjdGl2ZVBhZ2VzTWVzaERhdGFbaV0pID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoYWN0aXZlUGFnZXNNZXNoRGF0YVtpXS5tZXNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBuZXh0IGxldHMgYWRkIGFueSBuZXcgbWVzaGVzLCB0aGF0IGhhdmUgbm90IHlldCBiZWVuIGFkZGVkIHRvIHRoaXMgQml0bWFwVGV4dFxuICAgICAgICAvLyB3ZSBvbmx5IGFkZCBpZiBpdHMgbm90IGFscmVhZHkgYSBjaGlsZCBvZiB0aGlzIEJpdG1hcE9iamVjdFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld1BhZ2VzTWVzaERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChuZXdQYWdlc01lc2hEYXRhW2ldLm1lc2gucGFyZW50ICE9PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXdQYWdlc01lc2hEYXRhW2ldLm1lc2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGFjdGl2ZSBwYWdlIG1lc2ggZGF0YXMgYXJlIHNldCB0byBiZSB0aGUgbmV3IHBhZ2VzIGFkZGVkLlxuICAgICAgICB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhID0gbmV3UGFnZXNNZXNoRGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBwYWdlc01lc2hEYXRhKSB7XG4gICAgICAgICAgICB2YXIgcGFnZU1lc2hEYXRhID0gcGFnZXNNZXNoRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciB0b3RhbCA9IHBhZ2VNZXNoRGF0YS50b3RhbDtcbiAgICAgICAgICAgIC8vIGxldHMgb25seSBhbGxvY2F0ZSBuZXcgYnVmZmVycyBpZiB3ZSBjYW4gZml0IHRoZSBuZXcgdGV4dCBpbiB0aGUgY3VycmVudCBvbmVzLi5cbiAgICAgICAgICAgIC8vIHVubGVzcyB0aGF0IGlzLCB3ZSB3aWxsIGJlIGJhdGNoaW5nLiBDdXJyZW50bHkgYmF0Y2hpbmcgZG9zZSBub3QgcmVzcGVjdCB0aGUgc2l6ZSBwcm9wZXJ0eSBvZiBtZXNoXG4gICAgICAgICAgICBpZiAoISgoKF9hID0gcGFnZU1lc2hEYXRhLmluZGljZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpID4gNiAqIHRvdGFsKSB8fCBwYWdlTWVzaERhdGEudmVydGljZXMubGVuZ3RoIDwgTWVzaC5CQVRDSEFCTEVfU0laRSAqIDIpIHtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KDQgKiAyICogdG90YWwpO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS51dnMgPSBuZXcgRmxvYXQzMkFycmF5KDQgKiAyICogdG90YWwpO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5pbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KDYgKiB0b3RhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdG90YWxfMSA9IHBhZ2VNZXNoRGF0YS50b3RhbDtcbiAgICAgICAgICAgICAgICB2YXIgdmVydGljZXMgPSBwYWdlTWVzaERhdGEudmVydGljZXM7XG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGdhcmJhZ2UgYXQgdGhlIGVuZCBvZiB0aGUgdmVydGljZXMgYnVmZmVyLiBUaGlzIHdpbGwgcHJldmVudCB0aGUgYm91bmRzIG1pc2NhbGN1bGF0aW9uLlxuICAgICAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IHRvdGFsXzEgKiA0ICogMjsgaV8xIDwgdmVydGljZXMubGVuZ3RoOyBpXzErKykge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlc1tpXzFdID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhcyBhIGJ1ZmZlciBtYXliZSBiaWdnZXIgdGhhbiB0aGUgY3VycmVudCB3b3JkLCB3ZSBzZXQgdGhlIHNpemUgb2YgdGhlIG1lc2hNYXRlcmlhbFxuICAgICAgICAgICAgLy8gdG8gbWF0Y2ggdGhlIG51bWJlciBvZiBsZXR0ZXJzIG5lZWRlZFxuICAgICAgICAgICAgcGFnZU1lc2hEYXRhLm1lc2guc2l6ZSA9IDYgKiB0b3RhbDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbkNoYXJzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gY2hhcnNbaV07XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gY2hhci5wb3NpdGlvbi54ICsgbGluZUFsaWduT2Zmc2V0c1tjaGFyLmxpbmVdO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gTWF0aC5yb3VuZChvZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHhQb3MgPSBvZmZzZXQgKiBzY2FsZTtcbiAgICAgICAgICAgIHZhciB5UG9zID0gY2hhci5wb3NpdGlvbi55ICogc2NhbGU7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IGNoYXIudGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBwYWdlTWVzaCA9IHBhZ2VzTWVzaERhdGFbdGV4dHVyZS5iYXNlVGV4dHVyZS51aWRdO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVGcmFtZSA9IHRleHR1cmUuZnJhbWU7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZVV2cyA9IHRleHR1cmUuX3V2cztcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHBhZ2VNZXNoLmluZGV4Kys7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgMF0gPSAwICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgMV0gPSAxICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgMl0gPSAyICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgM10gPSAwICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgNF0gPSAyICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgNV0gPSAzICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDBdID0geFBvcztcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgMV0gPSB5UG9zO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyAyXSA9IHhQb3MgKyAodGV4dHVyZUZyYW1lLndpZHRoICogc2NhbGUpO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyAzXSA9IHlQb3M7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDRdID0geFBvcyArICh0ZXh0dXJlRnJhbWUud2lkdGggKiBzY2FsZSk7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDVdID0geVBvcyArICh0ZXh0dXJlRnJhbWUuaGVpZ2h0ICogc2NhbGUpO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyA2XSA9IHhQb3M7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDddID0geVBvcyArICh0ZXh0dXJlRnJhbWUuaGVpZ2h0ICogc2NhbGUpO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgMF0gPSB0ZXh0dXJlVXZzLngwO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgMV0gPSB0ZXh0dXJlVXZzLnkwO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgMl0gPSB0ZXh0dXJlVXZzLngxO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgM10gPSB0ZXh0dXJlVXZzLnkxO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgNF0gPSB0ZXh0dXJlVXZzLngyO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgNV0gPSB0ZXh0dXJlVXZzLnkyO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgNl0gPSB0ZXh0dXJlVXZzLngzO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgN10gPSB0ZXh0dXJlVXZzLnkzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHRXaWR0aCA9IG1heExpbmVXaWR0aCAqIHNjYWxlO1xuICAgICAgICB0aGlzLl90ZXh0SGVpZ2h0ID0gKHBvcy55ICsgZGF0YS5saW5lSGVpZ2h0KSAqIHNjYWxlO1xuICAgICAgICBmb3IgKHZhciBpIGluIHBhZ2VzTWVzaERhdGEpIHtcbiAgICAgICAgICAgIHZhciBwYWdlTWVzaERhdGEgPSBwYWdlc01lc2hEYXRhW2ldO1xuICAgICAgICAgICAgLy8gYXBwbHkgYW5jaG9yXG4gICAgICAgICAgICBpZiAodGhpcy5hbmNob3IueCAhPT0gMCB8fCB0aGlzLmFuY2hvci55ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZlcnRleENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgYW5jaG9yT2Zmc2V0WCA9IHRoaXMuX3RleHRXaWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgICAgICAgICAgdmFyIGFuY2hvck9mZnNldFkgPSB0aGlzLl90ZXh0SGVpZ2h0ICogdGhpcy5hbmNob3IueTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzIgPSAwOyBpXzIgPCBwYWdlTWVzaERhdGEudG90YWw7IGlfMisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRYO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WTtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRZO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRYO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tYXhMaW5lSGVpZ2h0ID0gbWF4TGluZUhlaWdodCAqIHNjYWxlO1xuICAgICAgICAgICAgdmFyIHZlcnRleEJ1ZmZlciA9IHBhZ2VNZXNoRGF0YS5tZXNoLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJyk7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZUJ1ZmZlciA9IHBhZ2VNZXNoRGF0YS5tZXNoLmdlb21ldHJ5LmdldEJ1ZmZlcignYVRleHR1cmVDb29yZCcpO1xuICAgICAgICAgICAgdmFyIGluZGV4QnVmZmVyID0gcGFnZU1lc2hEYXRhLm1lc2guZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5kYXRhID0gcGFnZU1lc2hEYXRhLnZlcnRpY2VzO1xuICAgICAgICAgICAgdGV4dHVyZUJ1ZmZlci5kYXRhID0gcGFnZU1lc2hEYXRhLnV2cztcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLmRhdGEgPSBwYWdlTWVzaERhdGEuaW5kaWNlcztcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgICAgIHRleHR1cmVCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YVBvb2wucHVzaChjaGFyc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRyYW5zZm9ybSBvZiB0aGlzIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgdGhpcy5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0ZXh0IGJlZm9yZSBjYWxsaW5nIHBhcmVudCdzIGdldExvY2FsQm91bmRzXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWFcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0ZXh0IHdoZW4gbmVlZGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KCk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJ0aW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweGZmZmZmZlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90aW50ID09PSB2YWx1ZSlcbiAgICAgICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YVtpXS5tZXNoLnRpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJhbGlnblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWxpZ25tZW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbGVmdCdcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FsaWduO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2FsaWduICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FsaWduID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwiZm9udE5hbWVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhlIEJpdG1hcEZvbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnROYW1lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFCaXRtYXBGb250LmF2YWlsYWJsZVt2YWx1ZV0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIEJpdG1hcEZvbnQgXFxcIlwiICsgdmFsdWUgKyBcIlxcXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udE5hbWUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udE5hbWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJmb250U2l6ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgZm9udCB0byBkaXNwbGF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250U2l6ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250U2l6ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U2l6ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcImFuY2hvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGRlZmF1bHQgaXMgYCgwLDApYCwgdGhpcyBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDAuNSwwLjUpYCBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyBjZW50ZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMSwxKWAgd291bGQgbWVhbiB0aGUgdGV4dCdzIG9yaWdpbiBwb2ludCB3aWxsIGJlIHRoZSBib3R0b20gcmlnaHQgY29ybmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50IHwgbnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3Iuc2V0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwidGV4dFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgICAgIHRleHQgPSBTdHJpbmcodGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB1bmRlZmluZWQgPyAnJyA6IHRleHQpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHQgPT09IHRleHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcIm1heFdpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB0aGUgdmFsdWUgdG8gMC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWF4V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWF4V2lkdGggPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWF4V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcIm1heExpbmVIZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCBsaW5lIGhlaWdodC4gVGhpcyBpcyB1c2VmdWwgd2hlbiB0cnlpbmcgdG8gdXNlIHRoZSB0b3RhbCBoZWlnaHQgb2YgdGhlIFRleHQsXG4gICAgICAgICAqIGkuZS4gd2hlbiB0cnlpbmcgdG8gdmVydGljYWxseSBhbGlnbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21heExpbmVIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwidGV4dFdpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgb3ZlcmFsbCB0ZXh0LCBkaWZmZXJlbnQgZnJvbSBmb250U2l6ZSxcbiAgICAgICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcImxldHRlclNwYWNpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWRkaXRpb25hbCBzcGFjZSBiZXR3ZWVuIGNoYXJhY3RlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZXR0ZXJTcGFjaW5nID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwicm91bmRQaXhlbHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAgICAgKiBUbyBzZXQgdGhlIGdsb2JhbCBkZWZhdWx0LCBjaGFuZ2Uge0BsaW5rIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm91bmRQaXhlbHM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3JvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJ0ZXh0SGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICAgICAqIHdoaWNoIGlzIGRlZmluZWQgaW4gdGhlIHN0eWxlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSwgY29udmVydCBvbGQgc3R5bGUuZm9udCBjb25zdHJ1Y3RvciBwYXJhbSB0byBmb250TmFtZSAmIGZvbnRTaXplIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUuX3VwZ3JhZGVTdHlsZSA9IGZ1bmN0aW9uIChzdHlsZSkge1xuICAgICAgICBpZiAodHlwZW9mIHN0eWxlLmZvbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWVTcGxpdCA9IHN0eWxlLmZvbnQuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgIHN0eWxlLmZvbnROYW1lID0gdmFsdWVTcGxpdC5sZW5ndGggPT09IDFcbiAgICAgICAgICAgICAgICA/IHZhbHVlU3BsaXRbMF1cbiAgICAgICAgICAgICAgICA6IHZhbHVlU3BsaXQuc2xpY2UoMSkuam9pbignICcpO1xuICAgICAgICAgICAgaWYgKHZhbHVlU3BsaXQubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgICAgICBzdHlsZS5mb250U2l6ZSA9IHBhcnNlSW50KHZhbHVlU3BsaXRbMF0sIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlLmZvbnROYW1lID0gc3R5bGUuZm9udC5uYW1lO1xuICAgICAgICAgICAgc3R5bGUuZm9udFNpemUgPSB0eXBlb2Ygc3R5bGUuZm9udC5zaXplID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICAgID8gc3R5bGUuZm9udC5zaXplXG4gICAgICAgICAgICAgICAgOiBwYXJzZUludChzdHlsZS5mb250LnNpemUsIDEwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGV4dHVyZUNhY2hlID0gdGhpcy5fdGV4dHVyZUNhY2hlO1xuICAgICAgICBmb3IgKHZhciBpZCBpbiBfdGV4dHVyZUNhY2hlKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IF90ZXh0dXJlQ2FjaGVbaWRdO1xuICAgICAgICAgICAgdGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgX3RleHR1cmVDYWNoZVtpZF07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dHVyZUNhY2hlID0gbnVsbDtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIGJpdG1hcCBmb250IHdpdGggZGF0YSBhbmQgYSB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgKiBAc2VlIFBJWEkuQml0bWFwRm9udC5pbnN0YWxsXG4gICAgICogQHN0YXRpY1xuICAgICAqL1xuICAgIEJpdG1hcFRleHQucmVnaXN0ZXJGb250ID0gZnVuY3Rpb24gKGRhdGEsIHRleHR1cmVzKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLkJpdG1hcFRleHQucmVnaXN0ZXJGb250IGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLkJpdG1hcEZvbnQuaW5zdGFsbCcpO1xuICAgICAgICByZXR1cm4gQml0bWFwRm9udC5pbnN0YWxsKGRhdGEsIHRleHR1cmVzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LCBcImZvbnRzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgbGlzdCBvZiBpbnN0YWxsZWQgZm9udHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzZWUgUElYSS5CaXRtYXBGb250LmF2YWlsYWJsZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPHN0cmluZywgUElYSS5CaXRtYXBGb250Pn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuQml0bWFwVGV4dC5mb250cyBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5CaXRtYXBGb250LmF2YWlsYWJsZScpO1xuICAgICAgICAgICAgcmV0dXJuIEJpdG1hcEZvbnQuYXZhaWxhYmxlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQml0bWFwVGV4dC5zdHlsZURlZmF1bHRzID0ge1xuICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB0aW50OiAweEZGRkZGRixcbiAgICAgICAgbWF4V2lkdGg6IDAsXG4gICAgICAgIGxldHRlclNwYWNpbmc6IDAsXG4gICAgfTtcbiAgICByZXR1cm4gQml0bWFwVGV4dDtcbn0oQ29udGFpbmVyKSk7XG5cbi8qKlxuICoge0BsaW5rIFBJWEkuTG9hZGVyIExvYWRlcn0gbWlkZGxld2FyZSBmb3IgbG9hZGluZ1xuICogYml0bWFwLWJhc2VkIGZvbnRzIHN1aXRhYmxlIGZvciB1c2luZyB3aXRoIHtAbGluayBQSVhJLkJpdG1hcFRleHR9LlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgUElYSS5JTG9hZGVyUGx1Z2luXG4gKi9cbnZhciBCaXRtYXBGb250TG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJpdG1hcEZvbnRMb2FkZXIoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBwbHVnaW4gaXMgaW5zdGFsbGVkLlxuICAgICAqXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5yZWdpc3RlclBsdWdpblxuICAgICAqL1xuICAgIEJpdG1hcEZvbnRMb2FkZXIuYWRkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMb2FkZXJSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlKCdmbnQnLCBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCBhZnRlciBhIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICAgICAqL1xuICAgIEJpdG1hcEZvbnRMb2FkZXIudXNlID0gZnVuY3Rpb24gKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIHZhciBmb3JtYXQgPSBhdXRvRGV0ZWN0Rm9ybWF0KHJlc291cmNlLmRhdGEpO1xuICAgICAgICAvLyBSZXNvdXJjZSB3YXMgbm90IHJlY29nbmlzZWQgYXMgYW55IG9mIHRoZSBleHBlY3RlZCBmb250IGRhdGEgZm9ybWF0XG4gICAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJhc2VVcmwgPSBCaXRtYXBGb250TG9hZGVyLmdldEJhc2VVcmwodGhpcywgcmVzb3VyY2UpO1xuICAgICAgICB2YXIgZGF0YSA9IGZvcm1hdC5wYXJzZShyZXNvdXJjZS5kYXRhKTtcbiAgICAgICAgdmFyIHRleHR1cmVzID0ge307XG4gICAgICAgIC8vIEhhbmRsZSBjb21wbGV0ZWQsIHdoZW4gdGhlIG51bWJlciBvZiB0ZXh0dXJlc1xuICAgICAgICAvLyBsb2FkIGlzIHRoZSBzYW1lIG51bWJlciBhcyByZWZlcmVuY2VzIGluIHRoZSBmbnQgZmlsZVxuICAgICAgICB2YXIgY29tcGxldGVkID0gZnVuY3Rpb24gKHBhZ2UpIHtcbiAgICAgICAgICAgIHRleHR1cmVzW3BhZ2UubWV0YWRhdGEucGFnZUZpbGVdID0gcGFnZS50ZXh0dXJlO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRleHR1cmVzKS5sZW5ndGggPT09IGRhdGEucGFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5iaXRtYXBGb250ID0gQml0bWFwRm9udC5pbnN0YWxsKGRhdGEsIHRleHR1cmVzKTtcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5wYWdlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcGFnZUZpbGUgPSBkYXRhLnBhZ2VbaV0uZmlsZTtcbiAgICAgICAgICAgIHZhciB1cmwgPSBiYXNlVXJsICsgcGFnZUZpbGU7XG4gICAgICAgICAgICB2YXIgZXhpc3RzID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBpbmNhc2UgdGhlIGltYWdlIGlzIGxvYWRlZCBvdXRzaWRlXG4gICAgICAgICAgICAvLyB1c2luZyB0aGUgc2FtZSBsb2FkZXIsIHJlc291cmNlIHdpbGwgYmUgYXZhaWxhYmxlXG4gICAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMucmVzb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJpdG1hcFJlc291cmNlID0gdGhpcy5yZXNvdXJjZXNbbmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKGJpdG1hcFJlc291cmNlLnVybCA9PT0gdXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIGJpdG1hcFJlc291cmNlLm1ldGFkYXRhLnBhZ2VGaWxlID0gcGFnZUZpbGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiaXRtYXBSZXNvdXJjZS50ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQoYml0bWFwUmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYml0bWFwUmVzb3VyY2Uub25BZnRlck1pZGRsZXdhcmUuYWRkKGNvbXBsZXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGV4dHVyZSBpcyBub3QgbG9hZGVkLCB3ZSdsbCBhdHRlbXB0IHRvIGFkZFxuICAgICAgICAgICAgLy8gaXQgdG8gdGhlIGxvYWQgYW5kIGFkZCB0aGUgdGV4dHVyZSB0byB0aGUgbGlzdFxuICAgICAgICAgICAgaWYgKCFleGlzdHMpIHtcbiAgICAgICAgICAgICAgICAvLyBTdGFuZGFyZCBsb2FkaW5nIG9wdGlvbnMgZm9yIGltYWdlc1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICAgICAgICAgIGxvYWRUeXBlOiBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBPYmplY3QuYXNzaWduKHsgcGFnZUZpbGU6IHBhZ2VGaWxlIH0sIHJlc291cmNlLm1ldGFkYXRhLmltYWdlTWV0YWRhdGEpLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRSZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZCh1cmwsIG9wdGlvbnMsIGNvbXBsZXRlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBmb2xkZXIgcGF0aCBmcm9tIGEgcmVzb3VyY2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJ9IGxvYWRlclxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2VcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgQml0bWFwRm9udExvYWRlci5nZXRCYXNlVXJsID0gZnVuY3Rpb24gKGxvYWRlciwgcmVzb3VyY2UpIHtcbiAgICAgICAgdmFyIHJlc1VybCA9ICFyZXNvdXJjZS5pc0RhdGFVcmwgPyBCaXRtYXBGb250TG9hZGVyLmRpcm5hbWUocmVzb3VyY2UudXJsKSA6ICcnO1xuICAgICAgICBpZiAocmVzb3VyY2UuaXNEYXRhVXJsKSB7XG4gICAgICAgICAgICBpZiAocmVzVXJsID09PSAnLicpIHtcbiAgICAgICAgICAgICAgICByZXNVcmwgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsb2FkZXIuYmFzZVVybCAmJiByZXNVcmwpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBiYXNldXJsIGhhcyBhIHRyYWlsaW5nIHNsYXNoIHRoZW4gYWRkIG9uZSB0byByZXNVcmwgc28gdGhlIHJlcGxhY2Ugd29ya3MgYmVsb3dcbiAgICAgICAgICAgICAgICBpZiAobG9hZGVyLmJhc2VVcmwuY2hhckF0KGxvYWRlci5iYXNlVXJsLmxlbmd0aCAtIDEpID09PSAnLycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzVXJsICs9ICcvJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIGJhc2VVcmwgZnJvbSByZXNVcmxcbiAgICAgICAgcmVzVXJsID0gcmVzVXJsLnJlcGxhY2UobG9hZGVyLmJhc2VVcmwsICcnKTtcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW4gcmVzVXJsIG5vdywgaXQgbmVlZHMgYSB0cmFpbGluZyBzbGFzaC4gRW5zdXJlIHRoYXQgaXQgZG9lcyBpZiB0aGUgc3RyaW5nIGlzbid0IGVtcHR5LlxuICAgICAgICBpZiAocmVzVXJsICYmIHJlc1VybC5jaGFyQXQocmVzVXJsLmxlbmd0aCAtIDEpICE9PSAnLycpIHtcbiAgICAgICAgICAgIHJlc1VybCArPSAnLyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc1VybDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlcGxhY2VtZW50IGZvciBOb2RlSlMncyBwYXRoLmRpcm5hbWVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBQYXRoIHRvIGdldCBkaXJlY3RvcnkgZm9yXG4gICAgICovXG4gICAgQml0bWFwRm9udExvYWRlci5kaXJuYW1lID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICB2YXIgZGlyID0gdXJsXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxcXC9nLCAnLycpIC8vIGNvbnZlcnQgd2luZG93cyBub3RhdGlvbiB0byBVTklYIG5vdGF0aW9uLCBVUkwtc2FmZSBiZWNhdXNlIGl0J3MgYSBmb3JiaWRkZW4gY2hhcmFjdGVyXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwvJC8sICcnKSAvLyByZXBsYWNlIHRyYWlsaW5nIHNsYXNoXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwvW15cXC9dKiQvLCAnJyk7IC8vIHJlbW92ZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBsYXN0XG4gICAgICAgIC8vIEZpbGUgcmVxdWVzdCBpcyByZWxhdGl2ZSwgdXNlIGN1cnJlbnQgZGlyZWN0b3J5XG4gICAgICAgIGlmIChkaXIgPT09IHVybCkge1xuICAgICAgICAgICAgcmV0dXJuICcuJztcbiAgICAgICAgfVxuICAgICAgICAvLyBTdGFydGVkIHdpdGggYSBzbGFzaFxuICAgICAgICBlbHNlIGlmIChkaXIgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaXI7XG4gICAgfTtcbiAgICByZXR1cm4gQml0bWFwRm9udExvYWRlcjtcbn0oKSk7XG5cbmV4cG9ydCB7IEJpdG1hcEZvbnQsIEJpdG1hcEZvbnREYXRhLCBCaXRtYXBGb250TG9hZGVyLCBCaXRtYXBUZXh0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0LWJpdG1hcC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWFscGhhIC0gdjUuMy43XG4gKiBDb21waWxlZCBUdWUsIDI5IERlYyAyMDIwIDE5OjMwOjExIFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1hbHBoYSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IGRlZmF1bHRWZXJ0ZXgsIEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIGZsb2F0IHVBbHBoYTtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHVBbHBoYTtcXG59XFxuXCI7XG5cbi8qKlxuICogU2ltcGxlc3QgZmlsdGVyIC0gYXBwbGllcyBhbHBoYS5cbiAqXG4gKiBVc2UgdGhpcyBpbnN0ZWFkIG9mIENvbnRhaW5lcidzIGFscGhhIHByb3BlcnR5IHRvIGF2b2lkIHZpc3VhbCBsYXllcmluZyBvZiBpbmRpdmlkdWFsIGVsZW1lbnRzLlxuICogQWxwaGFGaWx0ZXIgYXBwbGllcyBhbHBoYSBldmVubHkgYWNyb3NzIHRoZSBlbnRpcmUgZGlzcGxheSBvYmplY3QgYW5kIGFueSBvcGFxdWUgZWxlbWVudHMgaXQgY29udGFpbnMuXG4gKiBJZiBlbGVtZW50cyBhcmUgbm90IG9wYXF1ZSwgdGhleSB3aWxsIGJsZW5kIHdpdGggZWFjaCBvdGhlciBhbnl3YXkuXG4gKlxuICogVmVyeSBoYW5keSBpZiB5b3Ugd2FudCB0byB1c2UgY29tbW9uIGZlYXR1cmVzIG9mIGFsbCBmaWx0ZXJzOlxuICpcbiAqIDEuIEFzc2lnbiBhIGJsZW5kTW9kZSB0byB0aGlzIGZpbHRlciwgYmxlbmQgYWxsIGVsZW1lbnRzIGluc2lkZSBkaXNwbGF5IG9iamVjdCB3aXRoIGJhY2tncm91bmQuXG4gKlxuICogMi4gVG8gdXNlIGNsaXBwaW5nIGluIGRpc3BsYXkgY29vcmRpbmF0ZXMsIGFzc2lnbiBhIGZpbHRlckFyZWEgdG8gdGhlIHNhbWUgY29udGFpbmVyIHRoYXQgaGFzIHRoaXMgZmlsdGVyLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEFscGhhRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBbHBoYUZpbHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gQW1vdW50IG9mIGFscGhhIGZyb20gMCB0byAxLCB3aGVyZSAwIGlzIHRyYW5zcGFyZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gQWxwaGFGaWx0ZXIoYWxwaGEpIHtcbiAgICAgICAgaWYgKGFscGhhID09PSB2b2lkIDApIHsgYWxwaGEgPSAxLjA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVmYXVsdFZlcnRleCwgZnJhZ21lbnQsIHsgdUFscGhhOiAxIH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFscGhhID0gYWxwaGE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFscGhhRmlsdGVyLnByb3RvdHlwZSwgXCJhbHBoYVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2VmZmljaWVudCBmb3IgYWxwaGEgbXVsdGlwbGljYXRpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudUFscGhhID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQWxwaGFGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBBbHBoYUZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWFscGhhLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItYmx1ciAtIHY1LjMuN1xuICogQ29tcGlsZWQgVHVlLCAyOSBEZWMgMjAyMCAxOTozMDoxMSBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItYmx1ciBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgdmVydFRlbXBsYXRlID0gXCJcXG4gICAgYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbiAgICB1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG4gICAgdW5pZm9ybSBmbG9hdCBzdHJlbmd0aDtcXG5cXG4gICAgdmFyeWluZyB2ZWMyIHZCbHVyVGV4Q29vcmRzWyVzaXplJV07XFxuXFxuICAgIHVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XFxuICAgIHVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG4gICAgdmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxuICAgIHtcXG4gICAgICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICAgICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgICB9XFxuXFxuICAgIHZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG4gICAge1xcbiAgICAgICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7XFxuICAgIH1cXG5cXG4gICAgdm9pZCBtYWluKHZvaWQpXFxuICAgIHtcXG4gICAgICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG5cXG4gICAgICAgIHZlYzIgdGV4dHVyZUNvb3JkID0gZmlsdGVyVGV4dHVyZUNvb3JkKCk7XFxuICAgICAgICAlYmx1ciVcXG4gICAgfVwiO1xuZnVuY3Rpb24gZ2VuZXJhdGVCbHVyVmVydFNvdXJjZShrZXJuZWxTaXplLCB4KSB7XG4gICAgdmFyIGhhbGZMZW5ndGggPSBNYXRoLmNlaWwoa2VybmVsU2l6ZSAvIDIpO1xuICAgIHZhciB2ZXJ0U291cmNlID0gdmVydFRlbXBsYXRlO1xuICAgIHZhciBibHVyTG9vcCA9ICcnO1xuICAgIHZhciB0ZW1wbGF0ZTtcbiAgICBpZiAoeCkge1xuICAgICAgICB0ZW1wbGF0ZSA9ICd2Qmx1clRleENvb3Jkc1slaW5kZXglXSA9ICB0ZXh0dXJlQ29vcmQgKyB2ZWMyKCVzYW1wbGVJbmRleCUgKiBzdHJlbmd0aCwgMC4wKTsnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGVtcGxhdGUgPSAndkJsdXJUZXhDb29yZHNbJWluZGV4JV0gPSAgdGV4dHVyZUNvb3JkICsgdmVjMigwLjAsICVzYW1wbGVJbmRleCUgKiBzdHJlbmd0aCk7JztcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXJuZWxTaXplOyBpKyspIHtcbiAgICAgICAgdmFyIGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaS50b1N0cmluZygpKTtcbiAgICAgICAgYmx1ciA9IGJsdXIucmVwbGFjZSgnJXNhbXBsZUluZGV4JScsIGkgLSAoaGFsZkxlbmd0aCAtIDEpICsgXCIuMFwiKTtcbiAgICAgICAgYmx1ckxvb3AgKz0gYmx1cjtcbiAgICAgICAgYmx1ckxvb3AgKz0gJ1xcbic7XG4gICAgfVxuICAgIHZlcnRTb3VyY2UgPSB2ZXJ0U291cmNlLnJlcGxhY2UoJyVibHVyJScsIGJsdXJMb29wKTtcbiAgICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKCclc2l6ZSUnLCBrZXJuZWxTaXplLnRvU3RyaW5nKCkpO1xuICAgIHJldHVybiB2ZXJ0U291cmNlO1xufVxuXG52YXIgR0FVU1NJQU5fVkFMVUVTID0ge1xuICAgIDU6IFswLjE1MzM4OCwgMC4yMjE0NjEsIDAuMjUwMzAxXSxcbiAgICA3OiBbMC4wNzEzMDMsIDAuMTMxNTE0LCAwLjE4OTg3OSwgMC4yMTQ2MDddLFxuICAgIDk6IFswLjAyODUzMiwgMC4wNjcyMzQsIDAuMTI0MDA5LCAwLjE3OTA0NCwgMC4yMDIzNl0sXG4gICAgMTE6IFswLjAwOTMsIDAuMDI4MDAyLCAwLjA2NTk4NCwgMC4xMjE3MDMsIDAuMTc1NzEzLCAwLjE5ODU5Nl0sXG4gICAgMTM6IFswLjAwMjQwNiwgMC4wMDkyNTUsIDAuMDI3ODY3LCAwLjA2NTY2NiwgMC4xMjExMTcsIDAuMTc0ODY4LCAwLjE5NzY0MV0sXG4gICAgMTU6IFswLjAwMDQ4OSwgMC4wMDI0MDMsIDAuMDA5MjQ2LCAwLjAyNzg0LCAwLjA2NTYwMiwgMC4xMjA5OTksIDAuMTc0Njk3LCAwLjE5NzQ0OF0sXG59O1xudmFyIGZyYWdUZW1wbGF0ZSA9IFtcbiAgICAndmFyeWluZyB2ZWMyIHZCbHVyVGV4Q29vcmRzWyVzaXplJV07JyxcbiAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7JyxcbiAgICAndm9pZCBtYWluKHZvaWQpJyxcbiAgICAneycsXG4gICAgJyAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JyxcbiAgICAnICAgICVibHVyJScsXG4gICAgJ30nIF0uam9pbignXFxuJyk7XG5mdW5jdGlvbiBnZW5lcmF0ZUJsdXJGcmFnU291cmNlKGtlcm5lbFNpemUpIHtcbiAgICB2YXIga2VybmVsID0gR0FVU1NJQU5fVkFMVUVTW2tlcm5lbFNpemVdO1xuICAgIHZhciBoYWxmTGVuZ3RoID0ga2VybmVsLmxlbmd0aDtcbiAgICB2YXIgZnJhZ1NvdXJjZSA9IGZyYWdUZW1wbGF0ZTtcbiAgICB2YXIgYmx1ckxvb3AgPSAnJztcbiAgICB2YXIgdGVtcGxhdGUgPSAnZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh1U2FtcGxlciwgdkJsdXJUZXhDb29yZHNbJWluZGV4JV0pICogJXZhbHVlJTsnO1xuICAgIHZhciB2YWx1ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtlcm5lbFNpemU7IGkrKykge1xuICAgICAgICB2YXIgYmx1ciA9IHRlbXBsYXRlLnJlcGxhY2UoJyVpbmRleCUnLCBpLnRvU3RyaW5nKCkpO1xuICAgICAgICB2YWx1ZSA9IGk7XG4gICAgICAgIGlmIChpID49IGhhbGZMZW5ndGgpIHtcbiAgICAgICAgICAgIHZhbHVlID0ga2VybmVsU2l6ZSAtIGkgLSAxO1xuICAgICAgICB9XG4gICAgICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoJyV2YWx1ZSUnLCBrZXJuZWxbdmFsdWVdLnRvU3RyaW5nKCkpO1xuICAgICAgICBibHVyTG9vcCArPSBibHVyO1xuICAgICAgICBibHVyTG9vcCArPSAnXFxuJztcbiAgICB9XG4gICAgZnJhZ1NvdXJjZSA9IGZyYWdTb3VyY2UucmVwbGFjZSgnJWJsdXIlJywgYmx1ckxvb3ApO1xuICAgIGZyYWdTb3VyY2UgPSBmcmFnU291cmNlLnJlcGxhY2UoJyVzaXplJScsIGtlcm5lbFNpemUudG9TdHJpbmcoKSk7XG4gICAgcmV0dXJuIGZyYWdTb3VyY2U7XG59XG5cbi8qKlxuICogRGlmZmVyZW50IHR5cGVzIG9mIGVudmlyb25tZW50cyBmb3IgV2ViR0wuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEVOVlxuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTF9MRUdBQ1kgLSBVc2VkIGZvciBvbGRlciB2MSBXZWJHTCBkZXZpY2VzLiBQaXhpSlMgd2lsbCBhaW0gdG8gZW5zdXJlIGNvbXBhdGliaWxpdHlcbiAqICB3aXRoIG9sZGVyIC8gbGVzcyBhZHZhbmNlZCBkZXZpY2VzLiBJZiB5b3UgZXhwZXJpZW5jZSB1bmV4cGxhaW5lZCBmbGlja2VyaW5nIHByZWZlciB0aGlzIGVudmlyb25tZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gVmVyc2lvbiAxIG9mIFdlYkdMXG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0wyIC0gVmVyc2lvbiAyIG9mIFdlYkdMXG4gKi9cbnZhciBFTlY7XG4oZnVuY3Rpb24gKEVOVikge1xuICAgIEVOVltFTlZbXCJXRUJHTF9MRUdBQ1lcIl0gPSAwXSA9IFwiV0VCR0xfTEVHQUNZXCI7XG4gICAgRU5WW0VOVltcIldFQkdMXCJdID0gMV0gPSBcIldFQkdMXCI7XG4gICAgRU5WW0VOVltcIldFQkdMMlwiXSA9IDJdID0gXCJXRUJHTDJcIjtcbn0pKEVOViB8fCAoRU5WID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnQgdG8gaWRlbnRpZnkgdGhlIFJlbmRlcmVyIFR5cGUuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIFJFTkRFUkVSX1RZUEVcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5LTk9XTiAtIFVua25vd24gcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0wgLSBXZWJHTCByZW5kZXIgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDQU5WQVMgLSBDYW52YXMgcmVuZGVyIHR5cGUuXG4gKi9cbnZhciBSRU5ERVJFUl9UWVBFO1xuKGZ1bmN0aW9uIChSRU5ERVJFUl9UWVBFKSB7XG4gICAgUkVOREVSRVJfVFlQRVtSRU5ERVJFUl9UWVBFW1wiVU5LTk9XTlwiXSA9IDBdID0gXCJVTktOT1dOXCI7XG4gICAgUkVOREVSRVJfVFlQRVtSRU5ERVJFUl9UWVBFW1wiV0VCR0xcIl0gPSAxXSA9IFwiV0VCR0xcIjtcbiAgICBSRU5ERVJFUl9UWVBFW1JFTkRFUkVSX1RZUEVbXCJDQU5WQVNcIl0gPSAyXSA9IFwiQ0FOVkFTXCI7XG59KShSRU5ERVJFUl9UWVBFIHx8IChSRU5ERVJFUl9UWVBFID0ge30pKTtcbi8qKlxuICogQml0d2lzZSBPUiBvZiBtYXNrcyB0aGF0IGluZGljYXRlIHRoZSBidWZmZXJzIHRvIGJlIGNsZWFyZWQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEJVRkZFUl9CSVRTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SIC0gSW5kaWNhdGVzIHRoZSBidWZmZXJzIGN1cnJlbnRseSBlbmFibGVkIGZvciBjb2xvciB3cml0aW5nLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERFUFRIIC0gSW5kaWNhdGVzIHRoZSBkZXB0aCBidWZmZXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1RFTkNJTCAtIEluZGljYXRlcyB0aGUgc3RlbmNpbCBidWZmZXIuXG4gKi9cbnZhciBCVUZGRVJfQklUUztcbihmdW5jdGlvbiAoQlVGRkVSX0JJVFMpIHtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIkNPTE9SXCJdID0gMTYzODRdID0gXCJDT0xPUlwiO1xuICAgIEJVRkZFUl9CSVRTW0JVRkZFUl9CSVRTW1wiREVQVEhcIl0gPSAyNTZdID0gXCJERVBUSFwiO1xuICAgIEJVRkZFUl9CSVRTW0JVRkZFUl9CSVRTW1wiU1RFTkNJTFwiXSA9IDEwMjRdID0gXCJTVEVOQ0lMXCI7XG59KShCVUZGRVJfQklUUyB8fCAoQlVGRkVSX0JJVFMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIGJsZW5kIG1vZGVzIHN1cHBvcnRlZCBieSBQSVhJLlxuICpcbiAqIElNUE9SVEFOVCAtIFRoZSBXZWJHTCByZW5kZXJlciBvbmx5IHN1cHBvcnRzIHRoZSBOT1JNQUwsIEFERCwgTVVMVElQTFkgYW5kIFNDUkVFTiBibGVuZCBtb2Rlcy5cbiAqIEFueXRoaW5nIGVsc2Ugd2lsbCBzaWxlbnRseSBhY3QgbGlrZSBOT1JNQUwuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEJMRU5EX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFERFxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1VTFRJUExZXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NSRUVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gT1ZFUkxBWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IERBUktFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJR0hURU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9ET0RHRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SX0JVUk5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIQVJEX0xJR0hUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU09GVF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERJRkZFUkVOQ0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFWENMVVNJT05cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIVUVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQVRVUkFUSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTk9TSVRZXG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFERF9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ1JFRU5fTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9ORVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19JTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19PVVRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfQVRPUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9PVkVSXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX0lOXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX09VVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9BVE9QXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1VCVFJBQ1RcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfT1ZFUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVSQVNFXG4gKiBAcHJvcGVydHkge251bWJlcn0gWE9SXG4gKi9cbnZhciBCTEVORF9NT0RFUztcbihmdW5jdGlvbiAoQkxFTkRfTU9ERVMpIHtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PUk1BTFwiXSA9IDBdID0gXCJOT1JNQUxcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkFERFwiXSA9IDFdID0gXCJBRERcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk1VTFRJUExZXCJdID0gMl0gPSBcIk1VTFRJUExZXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTQ1JFRU5cIl0gPSAzXSA9IFwiU0NSRUVOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJPVkVSTEFZXCJdID0gNF0gPSBcIk9WRVJMQVlcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRBUktFTlwiXSA9IDVdID0gXCJEQVJLRU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkxJR0hURU5cIl0gPSA2XSA9IFwiTElHSFRFTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQ09MT1JfRE9ER0VcIl0gPSA3XSA9IFwiQ09MT1JfRE9ER0VcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkNPTE9SX0JVUk5cIl0gPSA4XSA9IFwiQ09MT1JfQlVSTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiSEFSRF9MSUdIVFwiXSA9IDldID0gXCJIQVJEX0xJR0hUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTT0ZUX0xJR0hUXCJdID0gMTBdID0gXCJTT0ZUX0xJR0hUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJESUZGRVJFTkNFXCJdID0gMTFdID0gXCJESUZGRVJFTkNFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJFWENMVVNJT05cIl0gPSAxMl0gPSBcIkVYQ0xVU0lPTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiSFVFXCJdID0gMTNdID0gXCJIVUVcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNBVFVSQVRJT05cIl0gPSAxNF0gPSBcIlNBVFVSQVRJT05cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkNPTE9SXCJdID0gMTVdID0gXCJDT0xPUlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTFVNSU5PU0lUWVwiXSA9IDE2XSA9IFwiTFVNSU5PU0lUWVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTk9STUFMX05QTVwiXSA9IDE3XSA9IFwiTk9STUFMX05QTVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQUREX05QTVwiXSA9IDE4XSA9IFwiQUREX05QTVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU0NSRUVOX05QTVwiXSA9IDE5XSA9IFwiU0NSRUVOX05QTVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTk9ORVwiXSA9IDIwXSA9IFwiTk9ORVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX09WRVJcIl0gPSAwXSA9IFwiU1JDX09WRVJcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19JTlwiXSA9IDIxXSA9IFwiU1JDX0lOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfT1VUXCJdID0gMjJdID0gXCJTUkNfT1VUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfQVRPUFwiXSA9IDIzXSA9IFwiU1JDX0FUT1BcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9PVkVSXCJdID0gMjRdID0gXCJEU1RfT1ZFUlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRFNUX0lOXCJdID0gMjVdID0gXCJEU1RfSU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9PVVRcIl0gPSAyNl0gPSBcIkRTVF9PVVRcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9BVE9QXCJdID0gMjddID0gXCJEU1RfQVRPUFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRVJBU0VcIl0gPSAyNl0gPSBcIkVSQVNFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTVUJUUkFDVFwiXSA9IDI4XSA9IFwiU1VCVFJBQ1RcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlhPUlwiXSA9IDI5XSA9IFwiWE9SXCI7XG59KShCTEVORF9NT0RFUyB8fCAoQkxFTkRfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIHdlYmdsIGRyYXcgbW9kZXMuIFRoZXNlIGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgd2hpY2ggR0wgZHJhd01vZGUgdG8gdXNlXG4gKiB1bmRlciBjZXJ0YWluIHNpdHVhdGlvbnMgYW5kIHJlbmRlcmVycy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRFJBV19NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT0lOVFNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVfTE9PUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9TVFJJUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX0ZBTlxuICovXG52YXIgRFJBV19NT0RFUztcbihmdW5jdGlvbiAoRFJBV19NT0RFUykge1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlBPSU5UU1wiXSA9IDBdID0gXCJQT0lOVFNcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJMSU5FU1wiXSA9IDFdID0gXCJMSU5FU1wiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIkxJTkVfTE9PUFwiXSA9IDJdID0gXCJMSU5FX0xPT1BcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJMSU5FX1NUUklQXCJdID0gM10gPSBcIkxJTkVfU1RSSVBcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJUUklBTkdMRVNcIl0gPSA0XSA9IFwiVFJJQU5HTEVTXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVfU1RSSVBcIl0gPSA1XSA9IFwiVFJJQU5HTEVfU1RSSVBcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJUUklBTkdMRV9GQU5cIl0gPSA2XSA9IFwiVFJJQU5HTEVfRkFOXCI7XG59KShEUkFXX01PREVTIHx8IChEUkFXX01PREVTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBHTCB0ZXh0dXJlL3Jlc291cmNlcyBmb3JtYXRzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBGT1JNQVRTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJHQkE9NjQwOFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJHQj02NDA3XG4gKiBAcHJvcGVydHkge251bWJlcn0gQUxQSEE9NjQwNlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRT02NDA5XG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5BTkNFX0FMUEhBPTY0MTBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9DT01QT05FTlQ9NjQwMlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERFUFRIX1NURU5DSUw9MzQwNDFcbiAqL1xudmFyIEZPUk1BVFM7XG4oZnVuY3Rpb24gKEZPUk1BVFMpIHtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJSR0JBXCJdID0gNjQwOF0gPSBcIlJHQkFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJSR0JcIl0gPSA2NDA3XSA9IFwiUkdCXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiQUxQSEFcIl0gPSA2NDA2XSA9IFwiQUxQSEFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJMVU1JTkFOQ0VcIl0gPSA2NDA5XSA9IFwiTFVNSU5BTkNFXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiTFVNSU5BTkNFX0FMUEhBXCJdID0gNjQxMF0gPSBcIkxVTUlOQU5DRV9BTFBIQVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkRFUFRIX0NPTVBPTkVOVFwiXSA9IDY0MDJdID0gXCJERVBUSF9DT01QT05FTlRcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJERVBUSF9TVEVOQ0lMXCJdID0gMzQwNDFdID0gXCJERVBUSF9TVEVOQ0lMXCI7XG59KShGT1JNQVRTIHx8IChGT1JNQVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBHTCB0YXJnZXQgdHlwZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRBUkdFVFNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV8yRD0zNTUzXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUD0zNDA2N1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfMkRfQVJSQVk9MzU4NjZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1g9MzQwNjlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1g9MzQwNzBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1k9MzQwNzFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1k9MzQwNzJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1o9MzQwNzNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1o9MzQwNzRcbiAqL1xudmFyIFRBUkdFVFM7XG4oZnVuY3Rpb24gKFRBUkdFVFMpIHtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFXzJEXCJdID0gMzU1M10gPSBcIlRFWFRVUkVfMkRcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQXCJdID0gMzQwNjddID0gXCJURVhUVVJFX0NVQkVfTUFQXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV8yRF9BUlJBWVwiXSA9IDM1ODY2XSA9IFwiVEVYVFVSRV8yRF9BUlJBWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWFwiXSA9IDM0MDY5XSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YXCJdID0gMzQwNzBdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1hcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1lcIl0gPSAzNDA3MV0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWVwiXSA9IDM0MDcyXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aXCJdID0gMzQwNzNdID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1pcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1pcIl0gPSAzNDA3NF0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWlwiO1xufSkoVEFSR0VUUyB8fCAoVEFSR0VUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgZGF0YSBmb3JtYXQgdHlwZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRZUEVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX0JZVEU9NTEyMVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUPTUxMjNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF81XzZfNT0zMzYzNVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUXzRfNF80XzQ9MzI4MTlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF81XzVfNV8xPTMyODIwXG4gKiBAcHJvcGVydHkge251bWJlcn0gRkxPQVQ9NTEyNlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhBTEZfRkxPQVQ9MzYxOTNcbiAqL1xudmFyIFRZUEVTO1xuKGZ1bmN0aW9uIChUWVBFUykge1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfQllURVwiXSA9IDUxMjFdID0gXCJVTlNJR05FRF9CWVRFXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVFwiXSA9IDUxMjNdID0gXCJVTlNJR05FRF9TSE9SVFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNV82XzVcIl0gPSAzMzYzNV0gPSBcIlVOU0lHTkVEX1NIT1JUXzVfNl81XCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVF80XzRfNF80XCJdID0gMzI4MTldID0gXCJVTlNJR05FRF9TSE9SVF80XzRfNF80XCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVF81XzVfNV8xXCJdID0gMzI4MjBdID0gXCJVTlNJR05FRF9TSE9SVF81XzVfNV8xXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJGTE9BVFwiXSA9IDUxMjZdID0gXCJGTE9BVFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiSEFMRl9GTE9BVFwiXSA9IDM2MTkzXSA9IFwiSEFMRl9GTE9BVFwiO1xufSkoVFlQRVMgfHwgKFRZUEVTID0ge30pKTtcbi8qKlxuICogVGhlIHNjYWxlIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFfSBzY2FsZSBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgc2NhbGluZyBtb2RlIG9mIGZ1dHVyZSBvcGVyYXRpb25zLlxuICogSXQgY2FuIGJlIHJlLWFzc2lnbmVkIHRvIGVpdGhlciBMSU5FQVIgb3IgTkVBUkVTVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFNDQUxFX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUiBTbW9vdGggc2NhbGluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE5FQVJFU1QgUGl4ZWxhdGluZyBzY2FsaW5nXG4gKi9cbnZhciBTQ0FMRV9NT0RFUztcbihmdW5jdGlvbiAoU0NBTEVfTU9ERVMpIHtcbiAgICBTQ0FMRV9NT0RFU1tTQ0FMRV9NT0RFU1tcIk5FQVJFU1RcIl0gPSAwXSA9IFwiTkVBUkVTVFwiO1xuICAgIFNDQUxFX01PREVTW1NDQUxFX01PREVTW1wiTElORUFSXCJdID0gMV0gPSBcIkxJTkVBUlwiO1xufSkoU0NBTEVfTU9ERVMgfHwgKFNDQUxFX01PREVTID0ge30pKTtcbi8qKlxuICogVGhlIHdyYXAgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLldSQVBfTU9ERX0gd3JhcCBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgd3JhcHBpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgQ0xBTVAgb3IgUkVQRUFULCBkZXBlbmRpbmcgdXBvbiBzdWl0YWJpbGl0eS5cbiAqIElmIHRoZSB0ZXh0dXJlIGlzIG5vbiBwb3dlciBvZiB0d28gdGhlbiBjbGFtcCB3aWxsIGJlIHVzZWQgcmVnYXJkbGVzcyBhcyBXZWJHTCBjYW5cbiAqIG9ubHkgdXNlIFJFUEVBVCBpZiB0aGUgdGV4dHVyZSBpcyBwbzIuXG4gKlxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQG5hbWUgV1JBUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0xBTVAgLSBUaGUgdGV4dHVyZXMgdXZzIGFyZSBjbGFtcGVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVQRUFUIC0gVGhlIHRleHR1cmUgdXZzIHRpbGUgYW5kIHJlcGVhdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1JUlJPUkVEX1JFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXQgd2l0aCBtaXJyb3JpbmdcbiAqL1xudmFyIFdSQVBfTU9ERVM7XG4oZnVuY3Rpb24gKFdSQVBfTU9ERVMpIHtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJDTEFNUFwiXSA9IDMzMDcxXSA9IFwiQ0xBTVBcIjtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJSRVBFQVRcIl0gPSAxMDQ5N10gPSBcIlJFUEVBVFwiO1xuICAgIFdSQVBfTU9ERVNbV1JBUF9NT0RFU1tcIk1JUlJPUkVEX1JFUEVBVFwiXSA9IDMzNjQ4XSA9IFwiTUlSUk9SRURfUkVQRUFUXCI7XG59KShXUkFQX01PREVTIHx8IChXUkFQX01PREVTID0ge30pKTtcbi8qKlxuICogTWlwbWFwIGZpbHRlcmluZyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTfSBhZmZlY3RzIGRlZmF1bHQgdGV4dHVyZSBmaWx0ZXJpbmcuXG4gKiBNaXBtYXBzIGFyZSBnZW5lcmF0ZWQgZm9yIGEgYmFzZVRleHR1cmUgaWYgaXRzIGBtaXBtYXBgIGZpZWxkIGlzIGBPTmAsXG4gKiBvciBpdHMgYFBPVzJgIGFuZCB0ZXh0dXJlIGRpbWVuc2lvbnMgYXJlIHBvd2VycyBvZiAyLlxuICogRHVlIHRvIHBsYXRmb3JtIHJlc3RyaWN0aW9uLCBgT05gIG9wdGlvbiB3aWxsIHdvcmsgbGlrZSBgUE9XMmAgZm9yIHdlYmdsLTEuXG4gKlxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQG5hbWUgTUlQTUFQX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPRkYgLSBObyBtaXBtYXBzXG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9XMiAtIEdlbmVyYXRlIG1pcG1hcHMgaWYgdGV4dHVyZSBkaW1lbnNpb25zIGFyZSBwb3cyXG4gKiBAcHJvcGVydHkge251bWJlcn0gT04gLSBBbHdheXMgZ2VuZXJhdGUgbWlwbWFwc1xuICovXG52YXIgTUlQTUFQX01PREVTO1xuKGZ1bmN0aW9uIChNSVBNQVBfTU9ERVMpIHtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiT0ZGXCJdID0gMF0gPSBcIk9GRlwiO1xuICAgIE1JUE1BUF9NT0RFU1tNSVBNQVBfTU9ERVNbXCJQT1cyXCJdID0gMV0gPSBcIlBPVzJcIjtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiT05cIl0gPSAyXSA9IFwiT05cIjtcbn0pKE1JUE1BUF9NT0RFUyB8fCAoTUlQTUFQX01PREVTID0ge30pKTtcbi8qKlxuICogSG93IHRvIHRyZWF0IHRleHR1cmVzIHdpdGggcHJlbXVsdGlwbGllZCBhbHBoYVxuICpcbiAqIEBuYW1lIEFMUEhBX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT19QUkVNVUxUSVBMSUVEX0FMUEhBIC0gU291cmNlIGlzIG5vdCBwcmVtdWx0aXBsaWVkLCBsZWF2ZSBpdCBsaWtlIHRoYXQuXG4gKiAgT3B0aW9uIGZvciBjb21wcmVzc2VkIGFuZCBkYXRhIHRleHR1cmVzIHRoYXQgYXJlIGNyZWF0ZWQgZnJvbSB0eXBlZCBhcnJheXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gUFJFTVVMVElQTFlfT05fVVBMT0FEIC0gU291cmNlIGlzIG5vdCBwcmVtdWx0aXBsaWVkLCBwcmVtdWx0aXBseSBvbiB1cGxvYWQuXG4gKiAgRGVmYXVsdCBvcHRpb24sIHVzZWQgZm9yIGFsbCBsb2FkZWQgaW1hZ2VzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBSRU1VTFRJUExJRURfQUxQSEEgLSBTb3VyY2UgaXMgYWxyZWFkeSBwcmVtdWx0aXBsaWVkXG4gKiAgRXhhbXBsZTogc3BpbmUgYXRsYXNlcyB3aXRoIGBfcG1hYCBzdWZmaXguXG4gKiBAcHJvcGVydHkge251bWJlcn0gTlBNIC0gQWxpYXMgZm9yIE5PX1BSRU1VTFRJUExJRURfQUxQSEEuXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5QQUNLIC0gRGVmYXVsdCBvcHRpb24sIGFsaWFzIGZvciBQUkVNVUxUSVBMWV9PTl9VUExPQUQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gUE1BIC0gQWxpYXMgZm9yIFBSRU1VTFRJUExJRURfQUxQSEEuXG4gKi9cbnZhciBBTFBIQV9NT0RFUztcbihmdW5jdGlvbiAoQUxQSEFfTU9ERVMpIHtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIk5QTVwiXSA9IDBdID0gXCJOUE1cIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlVOUEFDS1wiXSA9IDFdID0gXCJVTlBBQ0tcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBNQVwiXSA9IDJdID0gXCJQTUFcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIk5PX1BSRU1VTFRJUExJRURfQUxQSEFcIl0gPSAwXSA9IFwiTk9fUFJFTVVMVElQTElFRF9BTFBIQVwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiUFJFTVVMVElQTFlfT05fVVBMT0FEXCJdID0gMV0gPSBcIlBSRU1VTFRJUExZX09OX1VQTE9BRFwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiUFJFTVVMVElQTFlfQUxQSEFcIl0gPSAyXSA9IFwiUFJFTVVMVElQTFlfQUxQSEFcIjtcbn0pKEFMUEhBX01PREVTIHx8IChBTFBIQV9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIEhvdyB0byBjbGVhciByZW5kZXJUZXh0dXJlcyBpbiBmaWx0ZXJcbiAqXG4gKiBAbmFtZSBDTEVBUl9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQkxFTkQgLSBQcmVzZXJ2ZSB0aGUgaW5mb3JtYXRpb24gaW4gdGhlIHRleHR1cmUsIGJsZW5kIGFib3ZlXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0xFQVIgLSBNdXN0IHVzZSBgZ2wuY2xlYXJgIG9wZXJhdGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IEJMSVQgLSBDbGVhciBvciBibGl0IGl0LCBkZXBlbmRzIG9uIGRldmljZSBhbmQgbGV2ZWwgb2YgcGFyYW5vaWFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOTyAtIEFsaWFzIGZvciBCTEVORCwgc2FtZSBhcyBgZmFsc2VgIGluIGVhcmxpZXIgdmVyc2lvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBZRVMgLSBBbGlhcyBmb3IgQ0xFQVIsIHNhbWUgYXMgYHRydWVgIGluIGVhcmxpZXIgdmVyc2lvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBVVRPIC0gQWxpYXMgZm9yIEJMSVRcbiAqL1xudmFyIENMRUFSX01PREVTO1xuKGZ1bmN0aW9uIChDTEVBUl9NT0RFUykge1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiTk9cIl0gPSAwXSA9IFwiTk9cIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIllFU1wiXSA9IDFdID0gXCJZRVNcIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkFVVE9cIl0gPSAyXSA9IFwiQVVUT1wiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQkxFTkRcIl0gPSAwXSA9IFwiQkxFTkRcIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkNMRUFSXCJdID0gMV0gPSBcIkNMRUFSXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJCTElUXCJdID0gMl0gPSBcIkJMSVRcIjtcbn0pKENMRUFSX01PREVTIHx8IChDTEVBUl9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSBnYyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuR0NfTU9ERX0gR2FyYmFnZSBDb2xsZWN0aW9uIG1vZGUgZm9yIFBpeGlKUyB0ZXh0dXJlcyBpcyBBVVRPXG4gKiBJZiBzZXQgdG8gR0NfTU9ERSwgdGhlIHJlbmRlcmVyIHdpbGwgb2NjYXNpb25hbGx5IGNoZWNrIHRleHR1cmVzIHVzYWdlLiBJZiB0aGV5IGFyZSBub3RcbiAqIHVzZWQgZm9yIGEgc3BlY2lmaWVkIHBlcmlvZCBvZiB0aW1lIHRoZXkgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVS4gVGhleSB3aWxsIG9mIGNvdXJzZVxuICogYmUgdXBsb2FkZWQgYWdhaW4gd2hlbiB0aGV5IGFyZSByZXF1aXJlZC4gVGhpcyBpcyBhIHNpbGVudCBiZWhpbmQgdGhlIHNjZW5lcyBwcm9jZXNzIHRoYXRcbiAqIHNob3VsZCBlbnN1cmUgdGhhdCB0aGUgR1BVIGRvZXMgbm90ICBnZXQgZmlsbGVkIHVwLlxuICpcbiAqIEhhbmR5IGZvciBtb2JpbGUgZGV2aWNlcyFcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIEdDX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBVVRPIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgaGFwcGVuIHBlcmlvZGljYWxseSBhdXRvbWF0aWNhbGx5XG4gKiBAcHJvcGVydHkge251bWJlcn0gTUFOVUFMIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgbmVlZCB0byBiZSBjYWxsZWQgbWFudWFsbHlcbiAqL1xudmFyIEdDX01PREVTO1xuKGZ1bmN0aW9uIChHQ19NT0RFUykge1xuICAgIEdDX01PREVTW0dDX01PREVTW1wiQVVUT1wiXSA9IDBdID0gXCJBVVRPXCI7XG4gICAgR0NfTU9ERVNbR0NfTU9ERVNbXCJNQU5VQUxcIl0gPSAxXSA9IFwiTUFOVUFMXCI7XG59KShHQ19NT0RFUyB8fCAoR0NfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiBzaGFkZXJzLlxuICpcbiAqIEBuYW1lIFBSRUNJU0lPTlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBjb25zdGFudFxuICogQHN0YXRpY1xuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBMT1c9J2xvd3AnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gTUVESVVNPSdtZWRpdW1wJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IEhJR0g9J2hpZ2hwJ1xuICovXG52YXIgUFJFQ0lTSU9OO1xuKGZ1bmN0aW9uIChQUkVDSVNJT04pIHtcbiAgICBQUkVDSVNJT05bXCJMT1dcIl0gPSBcImxvd3BcIjtcbiAgICBQUkVDSVNJT05bXCJNRURJVU1cIl0gPSBcIm1lZGl1bXBcIjtcbiAgICBQUkVDSVNJT05bXCJISUdIXCJdID0gXCJoaWdocFwiO1xufSkoUFJFQ0lTSU9OIHx8IChQUkVDSVNJT04gPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudHMgZm9yIG1hc2sgaW1wbGVtZW50YXRpb25zLlxuICogV2UgdXNlIGB0eXBlYCBzdWZmaXggYmVjYXVzZSBpdCBsZWFkcyB0byB2ZXJ5IGRpZmZlcmVudCBiZWhhdmlvdXJzXG4gKlxuICogQG5hbWUgTUFTS19UWVBFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9ORSAtIE1hc2sgaXMgaWdub3JlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDSVNTT1IgLSBTY2lzc29yIG1hc2ssIHJlY3RhbmdsZSBvbiBzY3JlZW4sIGNoZWFwXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1RFTkNJTCAtIFN0ZW5jaWwgbWFzaywgMS1iaXQsIG1lZGl1bSwgd29ya3Mgb25seSBpZiByZW5kZXJlciBzdXBwb3J0cyBzdGVuY2lsXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1BSSVRFIC0gTWFzayB0aGF0IHVzZXMgU3ByaXRlTWFza0ZpbHRlciwgdXNlcyB0ZW1wb3JhcnkgUmVuZGVyVGV4dHVyZVxuICovXG52YXIgTUFTS19UWVBFUztcbihmdW5jdGlvbiAoTUFTS19UWVBFUykge1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIlNDSVNTT1JcIl0gPSAxXSA9IFwiU0NJU1NPUlwiO1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIlNURU5DSUxcIl0gPSAyXSA9IFwiU1RFTkNJTFwiO1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIlNQUklURVwiXSA9IDNdID0gXCJTUFJJVEVcIjtcbn0pKE1BU0tfVFlQRVMgfHwgKE1BU0tfVFlQRVMgPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudHMgZm9yIG11bHRpLXNhbXBsaW5nIGFudGlhbGlhc2luZy5cbiAqXG4gKiBAc2VlIFBJWEkuRnJhbWVidWZmZXIjbXVsdGlzYW1wbGVcbiAqXG4gKiBAbmFtZSBNU0FBX1FVQUxJVFlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkUgLSBObyBtdWx0aXNhbXBsaW5nIGZvciB0aGlzIHJlbmRlclRleHR1cmVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMT1cgLSBUcnkgMiBzYW1wbGVzXG4gKiBAcHJvcGVydHkge251bWJlcn0gTUVESVVNIC0gVHJ5IDQgc2FtcGxlc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEhJR0ggLSBUcnkgOCBzYW1wbGVzXG4gKi9cbnZhciBNU0FBX1FVQUxJVFk7XG4oZnVuY3Rpb24gKE1TQUFfUVVBTElUWSkge1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTE9XXCJdID0gMl0gPSBcIkxPV1wiO1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJNRURJVU1cIl0gPSA0XSA9IFwiTUVESVVNXCI7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIkhJR0hcIl0gPSA4XSA9IFwiSElHSFwiO1xufSkoTVNBQV9RVUFMSVRZIHx8IChNU0FBX1FVQUxJVFkgPSB7fSkpO1xuXG4vKipcbiAqIFRoZSBCbHVyRmlsdGVyUGFzcyBhcHBsaWVzIGEgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBCbHVyRmlsdGVyUGFzcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmx1ckZpbHRlclBhc3MsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBob3Jpem9udGFsIC0gRG8gcGFzcyBhbG9uZyB0aGUgeC1heGlzIChgdHJ1ZWApIG9yIHktYXhpcyAoYGZhbHNlYCkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHJlbmd0aD04XSAtIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtxdWFsaXR5PTRdIC0gVGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj1QSVhJLnNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OXSAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2tlcm5lbFNpemU9NV0gLSBUaGUga2VybmVsU2l6ZSBvZiB0aGUgYmx1ciBmaWx0ZXIuT3B0aW9uczogNSwgNywgOSwgMTEsIDEzLCAxNS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCbHVyRmlsdGVyUGFzcyhob3Jpem9udGFsLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkge1xuICAgICAgICBpZiAoc3RyZW5ndGggPT09IHZvaWQgMCkgeyBzdHJlbmd0aCA9IDg7IH1cbiAgICAgICAgaWYgKHF1YWxpdHkgPT09IHZvaWQgMCkgeyBxdWFsaXR5ID0gNDsgfVxuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSBzZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTjsgfVxuICAgICAgICBpZiAoa2VybmVsU2l6ZSA9PT0gdm9pZCAwKSB7IGtlcm5lbFNpemUgPSA1OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB2ZXJ0U3JjID0gZ2VuZXJhdGVCbHVyVmVydFNvdXJjZShrZXJuZWxTaXplLCBob3Jpem9udGFsKTtcbiAgICAgICAgdmFyIGZyYWdTcmMgPSBnZW5lcmF0ZUJsdXJGcmFnU291cmNlKGtlcm5lbFNpemUpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgIHZlcnRTcmMsIFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgZnJhZ1NyYykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaG9yaXpvbnRhbCA9IGhvcml6b250YWw7XG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBfdGhpcy5fcXVhbGl0eSA9IDA7XG4gICAgICAgIF90aGlzLnF1YWxpdHkgPSBxdWFsaXR5O1xuICAgICAgICBfdGhpcy5ibHVyID0gc3RyZW5ndGg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLkNMRUFSX01PREVTfSBjbGVhck1vZGUgLSBIb3cgdG8gY2xlYXJcbiAgICAgKi9cbiAgICBCbHVyRmlsdGVyUGFzcy5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiAoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKSB7XG4gICAgICAgIGlmIChvdXRwdXQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhvcml6b250YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gKDEgLyBvdXRwdXQud2lkdGgpICogKG91dHB1dC53aWR0aCAvIGlucHV0LndpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIG91dHB1dC5oZWlnaHQpICogKG91dHB1dC5oZWlnaHQgLyBpbnB1dC5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gKDEgLyBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLndpZHRoKSAqIChmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLndpZHRoIC8gaW5wdXQud2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gZmlsdGVyTWFuYWdlci5yZW5kZXJlci5oZWlnaHQpICogKGZpbHRlck1hbmFnZXIucmVuZGVyZXIuaGVpZ2h0IC8gaW5wdXQuaGVpZ2h0KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNjcmVlbiBzcGFjZSFcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAqPSB0aGlzLnN0cmVuZ3RoO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoIC89IHRoaXMucGFzc2VzO1xuICAgICAgICBpZiAodGhpcy5wYXNzZXMgPT09IDEpIHtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSBmaWx0ZXJNYW5hZ2VyLmdldEZpbHRlclRleHR1cmUoKTtcbiAgICAgICAgICAgIHZhciByZW5kZXJlciA9IGZpbHRlck1hbmFnZXIucmVuZGVyZXI7XG4gICAgICAgICAgICB2YXIgZmxpcCA9IGlucHV0O1xuICAgICAgICAgICAgdmFyIGZsb3AgPSByZW5kZXJUYXJnZXQ7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kID0gZmFsc2U7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsaXAsIGZsb3AsIENMRUFSX01PREVTLkNMRUFSKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5wYXNzZXMgLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmJpbmRBbmRDbGVhcihmbGlwLCBDTEVBUl9NT0RFUy5CTElUKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyID0gZmxvcDtcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGZsb3A7XG4gICAgICAgICAgICAgICAgZmxvcCA9IGZsaXA7XG4gICAgICAgICAgICAgICAgZmxpcCA9IHRlbXA7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcyk7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyg1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmQgPSB0cnVlO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbG9wLCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXJQYXNzLnByb3RvdHlwZSwgXCJibHVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTZcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSAxICsgKE1hdGguYWJzKHZhbHVlKSAqIDIpO1xuICAgICAgICAgICAgdGhpcy5zdHJlbmd0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXJQYXNzLnByb3RvdHlwZSwgXCJxdWFsaXR5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgYnkgbW9kaWZ5aW5nIHRoZSBudW1iZXIgb2YgcGFzc2VzLiBNb3JlIHBhc3NlcyBtZWFucyBoaWdoZXJcbiAgICAgICAgICogcXVhaWxpdHkgYmx1cmluZyBidXQgdGhlIGxvd2VyIHRoZSBwZXJmb3JtYW5jZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCA0XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9xdWFsaXR5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcXVhbGl0eSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5wYXNzZXMgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCbHVyRmlsdGVyUGFzcztcbn0oRmlsdGVyKSk7XG5cbi8qKlxuICogVGhlIEJsdXJGaWx0ZXIgYXBwbGllcyBhIEdhdXNzaWFuIGJsdXIgdG8gYW4gb2JqZWN0LlxuICpcbiAqIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBjYW4gYmUgc2V0IGZvciB0aGUgeC1heGlzIGFuZCB5LWF4aXMgc2VwYXJhdGVseS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBCbHVyRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCbHVyRmlsdGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RyZW5ndGg9OF0gLSBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcXVhbGl0eT00XSAtIFRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249UElYSS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTl0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmx1ckZpbHRlcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkge1xuICAgICAgICBpZiAoc3RyZW5ndGggPT09IHZvaWQgMCkgeyBzdHJlbmd0aCA9IDg7IH1cbiAgICAgICAgaWYgKHF1YWxpdHkgPT09IHZvaWQgMCkgeyBxdWFsaXR5ID0gNDsgfVxuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSBzZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTjsgfVxuICAgICAgICBpZiAoa2VybmVsU2l6ZSA9PT0gdm9pZCAwKSB7IGtlcm5lbFNpemUgPSA1OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmJsdXJYRmlsdGVyID0gbmV3IEJsdXJGaWx0ZXJQYXNzKHRydWUsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKTtcbiAgICAgICAgX3RoaXMuYmx1cllGaWx0ZXIgPSBuZXcgQmx1ckZpbHRlclBhc3MoZmFsc2UsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKTtcbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIF90aGlzLnF1YWxpdHkgPSBxdWFsaXR5O1xuICAgICAgICBfdGhpcy5ibHVyID0gc3RyZW5ndGg7XG4gICAgICAgIF90aGlzLnJlcGVhdEVkZ2VQaXhlbHMgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IGNsZWFyTW9kZSAtIEhvdyB0byBjbGVhclxuICAgICAqL1xuICAgIEJsdXJGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSkge1xuICAgICAgICB2YXIgeFN0cmVuZ3RoID0gTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCk7XG4gICAgICAgIHZhciB5U3RyZW5ndGggPSBNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKTtcbiAgICAgICAgaWYgKHhTdHJlbmd0aCAmJiB5U3RyZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSBmaWx0ZXJNYW5hZ2VyLmdldEZpbHRlclRleHR1cmUoKTtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIHJlbmRlclRhcmdldCwgQ0xFQVJfTU9ERVMuQ0xFQVIpO1xuICAgICAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCByZW5kZXJUYXJnZXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIucmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUYXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHlTdHJlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCbHVyRmlsdGVyLnByb3RvdHlwZS51cGRhdGVQYWRkaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVwZWF0RWRnZVBpeGVscykge1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IE1hdGgubWF4KE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpLCBNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKSkgKiAyO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmx1ckZpbHRlci5wcm90b3R5cGUsIFwiYmx1clwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiBib3RoIHRoZSBibHVyWCBhbmQgYmx1clkgcHJvcGVydGllcyBzaW11bHRhbmVvdXNseVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDJcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIuYmx1cjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYmx1ciA9IHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQYWRkaW5nKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmx1ckZpbHRlci5wcm90b3R5cGUsIFwicXVhbGl0eVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgcGFzc2VzIGZvciBibHVyLiBNb3JlIHBhc3NlcyBtZWFucyBoaWdoZXIgcXVhaWxpdHkgYmx1cmluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLnF1YWxpdHk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLnF1YWxpdHkgPSB0aGlzLmJsdXJZRmlsdGVyLnF1YWxpdHkgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyLnByb3RvdHlwZSwgXCJibHVyWFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1clggcHJvcGVydHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLmJsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcImJsdXJZXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWSBwcm9wZXJ0eVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDJcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1cllGaWx0ZXIuYmx1cjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQYWRkaW5nKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmx1ckZpbHRlci5wcm90b3R5cGUsIFwiYmxlbmRNb2RlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGJsZW5kbW9kZSBvZiB0aGUgZmlsdGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1cllGaWx0ZXIuYmxlbmRNb2RlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyLnByb3RvdHlwZSwgXCJyZXBlYXRFZGdlUGl4ZWxzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHNldCB0byB0cnVlIHRoZSBlZGdlIG9mIHRoZSB0YXJnZXQgd2lsbCBiZSBjbGFtcGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXBlYXRFZGdlUGl4ZWxzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVwZWF0RWRnZVBpeGVscyA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQYWRkaW5nKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQmx1ckZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbmV4cG9ydCB7IEJsdXJGaWx0ZXIsIEJsdXJGaWx0ZXJQYXNzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItYmx1ci5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeCAtIHY1LjMuN1xuICogQ29tcGlsZWQgVHVlLCAyOSBEZWMgMjAyMCAxOTozMDoxMSBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItY29sb3ItbWF0cml4IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgZGVmYXVsdEZpbHRlclZlcnRleCwgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gZmxvYXQgbVsyMF07XFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWM0IGMgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcblxcbiAgICBpZiAodUFscGhhID09IDAuMCkge1xcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gYztcXG4gICAgICAgIHJldHVybjtcXG4gICAgfVxcblxcbiAgICAvLyBVbi1wcmVtdWx0aXBseSBhbHBoYSBiZWZvcmUgYXBwbHlpbmcgdGhlIGNvbG9yIG1hdHJpeC4gU2VlIGlzc3VlICMzNTM5LlxcbiAgICBpZiAoYy5hID4gMC4wKSB7XFxuICAgICAgYy5yZ2IgLz0gYy5hO1xcbiAgICB9XFxuXFxuICAgIHZlYzQgcmVzdWx0O1xcblxcbiAgICByZXN1bHQuciA9IChtWzBdICogYy5yKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzFdICogYy5nKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzJdICogYy5iKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzNdICogYy5hKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IG1bNF07XFxuXFxuICAgIHJlc3VsdC5nID0gKG1bNV0gKiBjLnIpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bNl0gKiBjLmcpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bN10gKiBjLmIpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bOF0gKiBjLmEpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gbVs5XTtcXG5cXG4gICAgcmVzdWx0LmIgPSAobVsxMF0gKiBjLnIpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxMV0gKiBjLmcpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxMl0gKiBjLmIpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxM10gKiBjLmEpO1xcbiAgICAgICByZXN1bHQuYiArPSBtWzE0XTtcXG5cXG4gICAgcmVzdWx0LmEgPSAobVsxNV0gKiBjLnIpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxNl0gKiBjLmcpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxN10gKiBjLmIpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxOF0gKiBjLmEpO1xcbiAgICAgICByZXN1bHQuYSArPSBtWzE5XTtcXG5cXG4gICAgdmVjMyByZ2IgPSBtaXgoYy5yZ2IsIHJlc3VsdC5yZ2IsIHVBbHBoYSk7XFxuXFxuICAgIC8vIFByZW11bHRpcGx5IGFscGhhIGFnYWluLlxcbiAgICByZ2IgKj0gcmVzdWx0LmE7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQocmdiLCByZXN1bHQuYSk7XFxufVxcblwiO1xuXG4vKipcbiAqIFRoZSBDb2xvck1hdHJpeEZpbHRlciBjbGFzcyBsZXRzIHlvdSBhcHBseSBhIDV4NCBtYXRyaXggdHJhbnNmb3JtYXRpb24gb24gdGhlIFJHQkFcbiAqIGNvbG9yIGFuZCBhbHBoYSB2YWx1ZXMgb2YgZXZlcnkgcGl4ZWwgb24geW91ciBkaXNwbGF5T2JqZWN0IHRvIHByb2R1Y2UgYSByZXN1bHRcbiAqIHdpdGggYSBuZXcgc2V0IG9mIFJHQkEgY29sb3IgYW5kIGFscGhhIHZhbHVlcy4gSXQncyBwcmV0dHkgcG93ZXJmdWwhXG4gKlxuICogYGBganNcbiAqICBsZXQgY29sb3JNYXRyaXggPSBuZXcgUElYSS5maWx0ZXJzLkNvbG9yTWF0cml4RmlsdGVyKCk7XG4gKiAgY29udGFpbmVyLmZpbHRlcnMgPSBbY29sb3JNYXRyaXhdO1xuICogIGNvbG9yTWF0cml4LmNvbnRyYXN0KDIpO1xuICogYGBgXG4gKiBAYXV0aG9yIENsw6ltZW50IENoZW5lYmF1bHQgPGNsZW1lbnRAZ29vZGJveWRpZ2l0YWwuY29tPlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQ29sb3JNYXRyaXhGaWx0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbG9yTWF0cml4RmlsdGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbG9yTWF0cml4RmlsdGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICBtOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAwLCAxLCAwXSksXG4gICAgICAgICAgICB1QWxwaGE6IDEsXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVmYXVsdEZpbHRlclZlcnRleCwgZnJhZ21lbnQsIHVuaWZvcm1zKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hbHBoYSA9IDE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyBjdXJyZW50IG1hdHJpeCBhbmQgc2V0IHRoZSBuZXcgb25lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBtYXRyaXggLSA1eDQgbWF0cml4XG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLl9sb2FkTWF0cml4ID0gZnVuY3Rpb24gKG1hdHJpeCwgbXVsdGlwbHkpIHtcbiAgICAgICAgaWYgKG11bHRpcGx5ID09PSB2b2lkIDApIHsgbXVsdGlwbHkgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgbmV3TWF0cml4ID0gbWF0cml4O1xuICAgICAgICBpZiAobXVsdGlwbHkpIHtcbiAgICAgICAgICAgIHRoaXMuX211bHRpcGx5KG5ld01hdHJpeCwgdGhpcy51bmlmb3Jtcy5tLCBtYXRyaXgpO1xuICAgICAgICAgICAgbmV3TWF0cml4ID0gdGhpcy5fY29sb3JNYXRyaXgobmV3TWF0cml4KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgdGhlIG5ldyBtYXRyaXhcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gbmV3TWF0cml4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0d28gbWF0NSdzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IG91dCAtIDV4NCBtYXRyaXggdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhIC0gNXg0IG1hdHJpeCB0aGUgZmlyc3Qgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGIgLSA1eDQgbWF0cml4IHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJbXX0gNXg0IG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fbXVsdGlwbHkgPSBmdW5jdGlvbiAob3V0LCBhLCBiKSB7XG4gICAgICAgIC8vIFJlZCBDaGFubmVsXG4gICAgICAgIG91dFswXSA9IChhWzBdICogYlswXSkgKyAoYVsxXSAqIGJbNV0pICsgKGFbMl0gKiBiWzEwXSkgKyAoYVszXSAqIGJbMTVdKTtcbiAgICAgICAgb3V0WzFdID0gKGFbMF0gKiBiWzFdKSArIChhWzFdICogYls2XSkgKyAoYVsyXSAqIGJbMTFdKSArIChhWzNdICogYlsxNl0pO1xuICAgICAgICBvdXRbMl0gPSAoYVswXSAqIGJbMl0pICsgKGFbMV0gKiBiWzddKSArIChhWzJdICogYlsxMl0pICsgKGFbM10gKiBiWzE3XSk7XG4gICAgICAgIG91dFszXSA9IChhWzBdICogYlszXSkgKyAoYVsxXSAqIGJbOF0pICsgKGFbMl0gKiBiWzEzXSkgKyAoYVszXSAqIGJbMThdKTtcbiAgICAgICAgb3V0WzRdID0gKGFbMF0gKiBiWzRdKSArIChhWzFdICogYls5XSkgKyAoYVsyXSAqIGJbMTRdKSArIChhWzNdICogYlsxOV0pICsgYVs0XTtcbiAgICAgICAgLy8gR3JlZW4gQ2hhbm5lbFxuICAgICAgICBvdXRbNV0gPSAoYVs1XSAqIGJbMF0pICsgKGFbNl0gKiBiWzVdKSArIChhWzddICogYlsxMF0pICsgKGFbOF0gKiBiWzE1XSk7XG4gICAgICAgIG91dFs2XSA9IChhWzVdICogYlsxXSkgKyAoYVs2XSAqIGJbNl0pICsgKGFbN10gKiBiWzExXSkgKyAoYVs4XSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzddID0gKGFbNV0gKiBiWzJdKSArIChhWzZdICogYls3XSkgKyAoYVs3XSAqIGJbMTJdKSArIChhWzhdICogYlsxN10pO1xuICAgICAgICBvdXRbOF0gPSAoYVs1XSAqIGJbM10pICsgKGFbNl0gKiBiWzhdKSArIChhWzddICogYlsxM10pICsgKGFbOF0gKiBiWzE4XSk7XG4gICAgICAgIG91dFs5XSA9IChhWzVdICogYls0XSkgKyAoYVs2XSAqIGJbOV0pICsgKGFbN10gKiBiWzE0XSkgKyAoYVs4XSAqIGJbMTldKSArIGFbOV07XG4gICAgICAgIC8vIEJsdWUgQ2hhbm5lbFxuICAgICAgICBvdXRbMTBdID0gKGFbMTBdICogYlswXSkgKyAoYVsxMV0gKiBiWzVdKSArIChhWzEyXSAqIGJbMTBdKSArIChhWzEzXSAqIGJbMTVdKTtcbiAgICAgICAgb3V0WzExXSA9IChhWzEwXSAqIGJbMV0pICsgKGFbMTFdICogYls2XSkgKyAoYVsxMl0gKiBiWzExXSkgKyAoYVsxM10gKiBiWzE2XSk7XG4gICAgICAgIG91dFsxMl0gPSAoYVsxMF0gKiBiWzJdKSArIChhWzExXSAqIGJbN10pICsgKGFbMTJdICogYlsxMl0pICsgKGFbMTNdICogYlsxN10pO1xuICAgICAgICBvdXRbMTNdID0gKGFbMTBdICogYlszXSkgKyAoYVsxMV0gKiBiWzhdKSArIChhWzEyXSAqIGJbMTNdKSArIChhWzEzXSAqIGJbMThdKTtcbiAgICAgICAgb3V0WzE0XSA9IChhWzEwXSAqIGJbNF0pICsgKGFbMTFdICogYls5XSkgKyAoYVsxMl0gKiBiWzE0XSkgKyAoYVsxM10gKiBiWzE5XSkgKyBhWzE0XTtcbiAgICAgICAgLy8gQWxwaGEgQ2hhbm5lbFxuICAgICAgICBvdXRbMTVdID0gKGFbMTVdICogYlswXSkgKyAoYVsxNl0gKiBiWzVdKSArIChhWzE3XSAqIGJbMTBdKSArIChhWzE4XSAqIGJbMTVdKTtcbiAgICAgICAgb3V0WzE2XSA9IChhWzE1XSAqIGJbMV0pICsgKGFbMTZdICogYls2XSkgKyAoYVsxN10gKiBiWzExXSkgKyAoYVsxOF0gKiBiWzE2XSk7XG4gICAgICAgIG91dFsxN10gPSAoYVsxNV0gKiBiWzJdKSArIChhWzE2XSAqIGJbN10pICsgKGFbMTddICogYlsxMl0pICsgKGFbMThdICogYlsxN10pO1xuICAgICAgICBvdXRbMThdID0gKGFbMTVdICogYlszXSkgKyAoYVsxNl0gKiBiWzhdKSArIChhWzE3XSAqIGJbMTNdKSArIChhWzE4XSAqIGJbMThdKTtcbiAgICAgICAgb3V0WzE5XSA9IChhWzE1XSAqIGJbNF0pICsgKGFbMTZdICogYls5XSkgKyAoYVsxN10gKiBiWzE0XSkgKyAoYVsxOF0gKiBiWzE5XSkgKyBhWzE5XTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIEZsb2F0MzIgQXJyYXkgYW5kIG5vcm1hbGl6ZSB0aGUgb2Zmc2V0IGNvbXBvbmVudCB0byAwLTFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSA1eDQgbWF0cml4IHdpdGggYWxsIHZhbHVlcyBiZXR3ZWVuIDAtMVxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fY29sb3JNYXRyaXggPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIEZsb2F0MzIgQXJyYXkgYW5kIG5vcm1hbGl6ZSB0aGUgb2Zmc2V0IGNvbXBvbmVudCB0byAwLTFcbiAgICAgICAgdmFyIG0gPSBuZXcgRmxvYXQzMkFycmF5KG1hdHJpeCk7XG4gICAgICAgIG1bNF0gLz0gMjU1O1xuICAgICAgICBtWzldIC89IDI1NTtcbiAgICAgICAgbVsxNF0gLz0gMjU1O1xuICAgICAgICBtWzE5XSAvPSAyNTU7XG4gICAgICAgIHJldHVybiBtO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRqdXN0cyBicmlnaHRuZXNzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYiAtIHZhbHVlIG9mIHRoZSBicmlndGhuZXNzICgwLTEsIHdoZXJlIDAgaXMgYmxhY2spXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJyaWdodG5lc3MgPSBmdW5jdGlvbiAoYiwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIGIsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCBiLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgYiwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbWF0cmljZXMgaW4gZ3JleSBzY2FsZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSAtIHZhbHVlIG9mIHRoZSBncmV5ICgwLTEsIHdoZXJlIDAgaXMgYmxhY2spXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyZXlzY2FsZSA9IGZ1bmN0aW9uIChzY2FsZSwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsXG4gICAgICAgICAgICBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLFxuICAgICAgICAgICAgc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYmxhY2sgYW5kIHdoaXRlIG1hdHJpY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuYmxhY2tBbmRXaGl0ZSA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC4zLCAwLjYsIDAuMSwgMCwgMCxcbiAgICAgICAgICAgIDAuMywgMC42LCAwLjEsIDAsIDAsXG4gICAgICAgICAgICAwLjMsIDAuNiwgMC4xLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBodWUgcHJvcGVydHkgb2YgdGhlIGNvbG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBpbiBkZWdyZWVzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmh1ZSA9IGZ1bmN0aW9uIChyb3RhdGlvbiwgbXVsdGlwbHkpIHtcbiAgICAgICAgcm90YXRpb24gPSAocm90YXRpb24gfHwgMCkgLyAxODAgKiBNYXRoLlBJO1xuICAgICAgICB2YXIgY29zUiA9IE1hdGguY29zKHJvdGF0aW9uKTtcbiAgICAgICAgdmFyIHNpblIgPSBNYXRoLnNpbihyb3RhdGlvbik7XG4gICAgICAgIHZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xuICAgICAgICAvKiBhIGdvb2QgYXBwcm94aW1hdGlvbiBmb3IgaHVlIHJvdGF0aW9uXG4gICAgICAgICBUaGlzIG1hdHJpeCBpcyBmYXIgYmV0dGVyIHRoYW4gdGhlIHZlcnNpb25zIHdpdGggbWFnaWMgbHVtaW5hbmNlIGNvbnN0YW50c1xuICAgICAgICAgZm9ybWVybHkgdXNlZCBoZXJlLCBidXQgYWxzbyB1c2VkIGluIHRoZSBzdGFybGluZyBmcmFtZXdvcmsgKGZsYXNoKSBhbmQga25vd24gZnJvbSB0aGlzXG4gICAgICAgICBvbGQgcGFydCBvZiB0aGUgaW50ZXJuZXQ6IHF1YXNpbW9uZG8uY29tL2FyY2hpdmVzLzAwMDU2NS5waHBcblxuICAgICAgICAgVGhpcyBuZXcgbWF0cml4IGlzIGJhc2VkIG9uIHJnYiBjdWJlIHJvdGF0aW9uIGluIHNwYWNlLiBMb29rIGhlcmUgZm9yIGEgbW9yZSBkZXNjcmlwdGl2ZVxuICAgICAgICAgaW1wbGVtZW50YXRpb24gYXMgYSBzaGFkZXIgbm90IGEgZ2VuZXJhbCBtYXRyaXg6XG4gICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vZXZhbncvZ2xmeC5qcy9ibG9iLzU4ODQxYzIzOTE5YmQ1OTc4N2VmZmMwMzMzYTQ4OTdiNDM4MzU0MTIvc3JjL2ZpbHRlcnMvYWRqdXN0L2h1ZXNhdHVyYXRpb24uanNcblxuICAgICAgICAgVGhpcyBpcyB0aGUgc291cmNlIGZvciB0aGUgY29kZTpcbiAgICAgICAgIHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg1MDc4ODUvc2hpZnQtaHVlLW9mLWFuLXJnYi1jb2xvci84NTEwNzUxIzg1MTA3NTFcbiAgICAgICAgICovXG4gICAgICAgIHZhciB3ID0gMSAvIDM7XG4gICAgICAgIHZhciBzcXJXID0gc3FydCh3KTsgLy8gd2VpZ2h0IGlzXG4gICAgICAgIHZhciBhMDAgPSBjb3NSICsgKCgxLjAgLSBjb3NSKSAqIHcpO1xuICAgICAgICB2YXIgYTAxID0gKHcgKiAoMS4wIC0gY29zUikpIC0gKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGEwMiA9ICh3ICogKDEuMCAtIGNvc1IpKSArIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMTAgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTExID0gY29zUiArICh3ICogKDEuMCAtIGNvc1IpKTtcbiAgICAgICAgdmFyIGExMiA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMjAgPSAodyAqICgxLjAgLSBjb3NSKSkgLSAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTIxID0gKHcgKiAoMS4wIC0gY29zUikpICsgKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGEyMiA9IGNvc1IgKyAodyAqICgxLjAgLSBjb3NSKSk7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICBhMDAsIGEwMSwgYTAyLCAwLCAwLFxuICAgICAgICAgICAgYTEwLCBhMTEsIGExMiwgMCwgMCxcbiAgICAgICAgICAgIGEyMCwgYTIxLCBhMjIsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvbnRyYXN0IG1hdHJpeCwgaW5jcmVhc2UgdGhlIHNlcGFyYXRpb24gYmV0d2VlbiBkYXJrIGFuZCBicmlnaHRcbiAgICAgKiBJbmNyZWFzZSBjb250cmFzdCA6IHNoYWRvd3MgZGFya2VyIGFuZCBoaWdobGlnaHRzIGJyaWdodGVyXG4gICAgICogRGVjcmVhc2UgY29udHJhc3QgOiBicmluZyB0aGUgc2hhZG93cyB1cCBhbmQgdGhlIGhpZ2hsaWdodHMgZG93blxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHZhbHVlIG9mIHRoZSBjb250cmFzdCAoMC0xKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5jb250cmFzdCA9IGZ1bmN0aW9uIChhbW91bnQsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciB2ID0gKGFtb3VudCB8fCAwKSArIDE7XG4gICAgICAgIHZhciBvID0gLTAuNSAqICh2IC0gMSk7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICB2LCAwLCAwLCAwLCBvLFxuICAgICAgICAgICAgMCwgdiwgMCwgMCwgbyxcbiAgICAgICAgICAgIDAsIDAsIHYsIDAsIG8sXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNhdHVyYXRpb24gbWF0cml4LCBpbmNyZWFzZSB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIGNvbG9yc1xuICAgICAqIEluY3JlYXNlIHNhdHVyYXRpb24gOiBpbmNyZWFzZSBjb250cmFzdCwgYnJpZ2h0bmVzcywgYW5kIHNoYXJwbmVzc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBzYXR1cmF0aW9uIGFtb3VudCAoMC0xKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW211bHRpcGx5XSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnNhdHVyYXRlID0gZnVuY3Rpb24gKGFtb3VudCwgbXVsdGlwbHkpIHtcbiAgICAgICAgaWYgKGFtb3VudCA9PT0gdm9pZCAwKSB7IGFtb3VudCA9IDA7IH1cbiAgICAgICAgdmFyIHggPSAoYW1vdW50ICogMiAvIDMpICsgMTtcbiAgICAgICAgdmFyIHkgPSAoKHggLSAxKSAqIC0wLjUpO1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgeCwgeSwgeSwgMCwgMCxcbiAgICAgICAgICAgIHksIHgsIHksIDAsIDAsXG4gICAgICAgICAgICB5LCB5LCB4LCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzYXR1cmF0ZSBpbWFnZSAocmVtb3ZlIGNvbG9yKVxuICAgICAqXG4gICAgICogQ2FsbCB0aGUgc2F0dXJhdGUgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5kZXNhdHVyYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNhdHVyYXRlKC0xKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE5lZ2F0aXZlIGltYWdlIChpbnZlcnNlIG9mIGNsYXNzaWMgcmdiIG1hdHJpeClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5uZWdhdGl2ZSA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgLTEsIDAsIDAsIDEsIDAsXG4gICAgICAgICAgICAwLCAtMSwgMCwgMSwgMCxcbiAgICAgICAgICAgIDAsIDAsIC0xLCAxLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VwaWEgaW1hZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5zZXBpYSA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC4zOTMsIDAuNzY4OTk5OSwgMC4xODg5OTk5OSwgMCwgMCxcbiAgICAgICAgICAgIDAuMzQ5LCAwLjY4NTk5OTksIDAuMTY3OTk5OTksIDAsIDAsXG4gICAgICAgICAgICAwLjI3MiwgMC41MzM5OTk5LCAwLjEzMDk5OTk5LCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29sb3IgbW90aW9uIHBpY3R1cmUgcHJvY2VzcyBpbnZlbnRlZCBpbiAxOTE2ICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnRlY2huaWNvbG9yID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLjkxMjUyNzc4OTE0NTYwODMsIC0wLjg1NDUzNDQ5NzY5NTE2NDUsIC0wLjA5MTU1NTA4NDgyNzU1NTg1LCAwLCAxMS43OTM2MDM0MzQzNzczMzcsXG4gICAgICAgICAgICAtMC4zMDg3ODMzMzg1OTI4MDk3LCAxLjc2NTg5MDg1NTU0NTg0MjgsIC0wLjEwNjAxNzQzMDc0NzIyMjQ1LCAwLCAtNzAuMzUyMDUxNjE0NjEzOTgsXG4gICAgICAgICAgICAtMC4yMzExMDMzNzc1NDg2MTYsIC0wLjc1MDE4OTkxOTc0NDAyMTIsIDEuODQ3NTk3ODE2MTA4MTg5LCAwLCAzMC45NTA5NDA4Njk0OTExMzgsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQb2xhcm9pZCBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5wb2xhcm9pZCA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMS40MzgsIC0wLjA2MiwgLTAuMDYyLCAwLCAwLFxuICAgICAgICAgICAgLTAuMTIyLCAxLjM3OCwgLTAuMTIyLCAwLCAwLFxuICAgICAgICAgICAgLTAuMDE2LCAtMC4wMTYsIDEuNDgzLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmlsdGVyIHdobyB0cmFuc2Zvcm1zIDogUmVkIC0+IEJsdWUgYW5kIEJsdWUgLT4gUmVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudG9CR1IgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAsIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgICAgICAgMSwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbG9yIHJldmVyc2FsIGZpbG0gaW50cm9kdWNlZCBieSBFYXN0bWFuIEtvZGFrIGluIDE5MzUuICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmtvZGFjaHJvbWUgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEuMTI4NTU4MjM5NjU5MzUyNSwgLTAuMzk2NzM4MjI4MzYwMTM0OCwgLTAuMDM5OTI1NTkxNzI5MjE3OTMsIDAsIDYzLjcyOTU4NzYyMTk2NTAyLFxuICAgICAgICAgICAgLTAuMTY0MDQzMzk5NjIyNDQ2MTYsIDEuMDgzNTI1MTU2NjI5MTMwNCwgLTAuMDU0OTg4MDUxMTU2MzMxMzIsIDAsIDI0LjczMjQwNzg5NjcwNjIwMyxcbiAgICAgICAgICAgIC0wLjE2Nzg2MDEwNzA2MTU1NzYzLCAtMC41NjAzNDE2Mjc3Njk1MjQ4LCAxLjYwMTQ4NTA3NjE5NjQ5NDMsIDAsIDM1LjYyOTgyODA3NDYwOTQ2LFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQnJvd24gZGVsaWNpb3VzIGJyb3duaSBmaWx0ZXIgKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuYnJvd25pID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjU5OTcwMjM0OTgxNTk3MTUsIDAuMzQ1NTMyNDMwNDgzOTEyNjMsIC0wLjI3MDgyOTg2NzQ1MzgwNDIsIDAsIDQ3LjQzMTkyODU1NjAwODczLFxuICAgICAgICAgICAgLTAuMDM3NzAzMjQ5ODM3NzgzMTU3LCAwLjg2MDk1Nzc1ODc5OTI2NDEsIDAuMTUwNTk1NTIzODg0NTk5MTMsIDAsIC0zNi45Njg0MTQ5ODMxOTEyNyxcbiAgICAgICAgICAgIDAuMjQxMTM2MzUxMjgxNTMzMzUsIC0wLjA3NDQxMDM3OTA4NDIyNDkyLCAwLjQ0OTcyMTgyMDY0ODc3MTUzLCAwLCAtNy41NjIwNzUyNzc1OTEyODMsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBWaW50YWdlIGZpbHRlciAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS52aW50YWdlID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjYyNzkzNDU2MzU2MDU5OTQsIDAuMzIwMjE4MzQyMDgxOTM2NywgLTAuMDM5NjU0MDgyMTEzMTI0NTMsIDAsIDkuNjUxMjg1ODM1Mjk0MTIzLFxuICAgICAgICAgICAgMC4wMjU3ODM5NzcwNDgwODg2OCwgMC42NDQxMTg4NjQ0Mzc0NzcxLCAwLjAzMjU5MTI3NjE2MTQ5Mjk0LCAwLCA3LjQ2MjgyOTE3NjQ3MDU5MSxcbiAgICAgICAgICAgIDAuMDQ2NjA1NTU1Njc4MjcxOSwgLTAuMDg1MTIzMjk4NzI0Nzg5MSwgMC41MjQxNjQ4MDE4NzAwNDY1LCAwLCA1LjE1OTE5MDU4ODIzNTI5NixcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdlIGRvbid0IGtub3cgZXhhY3RseSB3aGF0IGl0IGRvZXMsIGtpbmQgb2YgZ3JhZGllbnQgbWFwLCBidXQgZnVubnkgdG8gcGxheSB3aXRoIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlc2F0dXJhdGlvbiAtIFRvbmUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b25lZCAtIFRvbmUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsaWdodENvbG9yIC0gVG9uZSB2YWx1ZXMsIGV4YW1wbGU6IGAweEZGRTU4MGBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGFya0NvbG9yIC0gVG9uZSB2YWx1ZXMsIGV4YW1wbGU6IGAweEZGRTU4MGBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuY29sb3JUb25lID0gZnVuY3Rpb24gKGRlc2F0dXJhdGlvbiwgdG9uZWQsIGxpZ2h0Q29sb3IsIGRhcmtDb2xvciwgbXVsdGlwbHkpIHtcbiAgICAgICAgZGVzYXR1cmF0aW9uID0gZGVzYXR1cmF0aW9uIHx8IDAuMjtcbiAgICAgICAgdG9uZWQgPSB0b25lZCB8fCAwLjE1O1xuICAgICAgICBsaWdodENvbG9yID0gbGlnaHRDb2xvciB8fCAweEZGRTU4MDtcbiAgICAgICAgZGFya0NvbG9yID0gZGFya0NvbG9yIHx8IDB4MzM4MDAwO1xuICAgICAgICB2YXIgbFIgPSAoKGxpZ2h0Q29sb3IgPj4gMTYpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBsRyA9ICgobGlnaHRDb2xvciA+PiA4KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgbEIgPSAobGlnaHRDb2xvciAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgZFIgPSAoKGRhcmtDb2xvciA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGRHID0gKChkYXJrQ29sb3IgPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGRCID0gKGRhcmtDb2xvciAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC4zLCAwLjU5LCAwLjExLCAwLCAwLFxuICAgICAgICAgICAgbFIsIGxHLCBsQiwgZGVzYXR1cmF0aW9uLCAwLFxuICAgICAgICAgICAgZFIsIGRHLCBkQiwgdG9uZWQsIDAsXG4gICAgICAgICAgICBsUiAtIGRSLCBsRyAtIGRHLCBsQiAtIGRCLCAwLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOaWdodCBlZmZlY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlbnNpdHkgLSBUaGUgaW50ZW5zaXR5IG9mIHRoZSBuaWdodCBlZmZlY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLm5pZ2h0ID0gZnVuY3Rpb24gKGludGVuc2l0eSwgbXVsdGlwbHkpIHtcbiAgICAgICAgaW50ZW5zaXR5ID0gaW50ZW5zaXR5IHx8IDAuMTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIGludGVuc2l0eSAqICgtMi4wKSwgLWludGVuc2l0eSwgMCwgMCwgMCxcbiAgICAgICAgICAgIC1pbnRlbnNpdHksIDAsIGludGVuc2l0eSwgMCwgMCxcbiAgICAgICAgICAgIDAsIGludGVuc2l0eSwgaW50ZW5zaXR5ICogMi4wLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJlZGF0b3IgZWZmZWN0XG4gICAgICpcbiAgICAgKiBFcmFzZSB0aGUgY3VycmVudCBtYXRyaXggYnkgc2V0dGluZyBhIG5ldyBpbmRlcGVudCBvbmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBob3cgbXVjaCB0aGUgcHJlZGF0b3IgZmVlbHMgaGlzIGZ1dHVyZSB2aWN0aW1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucHJlZGF0b3IgPSBmdW5jdGlvbiAoYW1vdW50LCBtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgLy8gcm93IDFcbiAgICAgICAgICAgIDExLjIyNDEzMDYzMDQ5MzE2NCAqIGFtb3VudCxcbiAgICAgICAgICAgIC00Ljc5NDQ4Njk5OTUxMTcxOSAqIGFtb3VudCxcbiAgICAgICAgICAgIC0yLjg3NDYxMTg1NDU1MzIyMjcgKiBhbW91bnQsXG4gICAgICAgICAgICAwICogYW1vdW50LFxuICAgICAgICAgICAgMC40MDM0MjQzODIyMDk3Nzc4MyAqIGFtb3VudCxcbiAgICAgICAgICAgIC8vIHJvdyAyXG4gICAgICAgICAgICAtMy42MzMwNjk3NTM2NDY4NTA2ICogYW1vdW50LFxuICAgICAgICAgICAgOS4xOTMxNTcxOTYwNDQ5MjIgKiBhbW91bnQsXG4gICAgICAgICAgICAtMi45NTE4MTA4MzY3OTE5OTIgKiBhbW91bnQsXG4gICAgICAgICAgICAwICogYW1vdW50LFxuICAgICAgICAgICAgLTEuMzE2MTM1MDQ4ODY2MjcyICogYW1vdW50LFxuICAgICAgICAgICAgLy8gcm93IDNcbiAgICAgICAgICAgIC0zLjIxODQxOTc5MDI2Nzk0NDMgKiBhbW91bnQsXG4gICAgICAgICAgICAtNC4yMzc1MDMwNTE3NTc4MTI1ICogYW1vdW50LFxuICAgICAgICAgICAgNy40NzY0NDgwNTkwODIwMzEgKiBhbW91bnQsXG4gICAgICAgICAgICAwICogYW1vdW50LFxuICAgICAgICAgICAgMC44MDQ0NDU5MjIzNzQ3MjUzICogYW1vdW50LFxuICAgICAgICAgICAgLy8gcm93IDRcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExTRCBlZmZlY3RcbiAgICAgKlxuICAgICAqIE11bHRpcGx5IHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmxzZCA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMiwgLTAuNCwgMC41LCAwLCAwLFxuICAgICAgICAgICAgLTAuNSwgMiwgLTAuNCwgMCwgMCxcbiAgICAgICAgICAgIC0wLjQsIC0wLjUsIDMsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFcmFzZSB0aGUgY3VycmVudCBtYXRyaXggYnkgc2V0dGluZyB0aGUgZGVmYXVsdCBvbmVcbiAgICAgKlxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIGZhbHNlKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUsIFwibWF0cml4XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXRyaXggb2YgdGhlIGNvbG9yIG1hdHJpeCBmaWx0ZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBkZWZhdWx0IFsxLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAxLCAwXVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLCBcImFscGhhXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcGFjaXR5IHZhbHVlIHRvIHVzZSB3aGVuIG1peGluZyB0aGUgb3JpZ2luYWwgYW5kIHJlc3VsdGFudCBjb2xvcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDAsIHRoZSBvcmlnaW5hbCBjb2xvciBpcyB1c2VkIHdpdGhvdXQgbW9kaWZpY2F0aW9uLlxuICAgICAgICAgKiBXaGVuIHRoZSB2YWx1ZSBpcyAxLCB0aGUgcmVzdWx0IGNvbG9yIGlzIHVzZWQuXG4gICAgICAgICAqIFdoZW4gaW4gdGhlIHJhbmdlICgwLCAxKSB0aGUgY29sb3IgaXMgaW50ZXJwb2xhdGVkIGJldHdlZW4gdGhlIG9yaWdpbmFsIGFuZCByZXN1bHQgYnkgdGhpcyBhbW91bnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51QWxwaGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENvbG9yTWF0cml4RmlsdGVyO1xufShGaWx0ZXIpKTtcbi8vIEFtZXJpY2FuaXplZCBhbGlhc1xuQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyYXlzY2FsZSA9IENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmV5c2NhbGU7XG5cbmV4cG9ydCB7IENvbG9yTWF0cml4RmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItY29sb3ItbWF0cml4LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50IC0gdjUuMy43XG4gKiBDb21waWxlZCBUdWUsIDI5IERlYyAyMDIwIDE5OjMwOjExIFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IE1hdHJpeCwgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHZlYzIgc2NhbGU7XFxudW5pZm9ybSBtYXQyIHJvdGF0aW9uO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gc2FtcGxlcjJEIG1hcFNhbXBsZXI7XFxuXFxudW5pZm9ybSBoaWdocCB2ZWM0IGlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgaW5wdXRDbGFtcDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICB2ZWM0IG1hcCA9ICB0ZXh0dXJlMkQobWFwU2FtcGxlciwgdkZpbHRlckNvb3JkKTtcXG5cXG4gIG1hcCAtPSAwLjU7XFxuICBtYXAueHkgPSBzY2FsZSAqIGlucHV0U2l6ZS56dyAqIChyb3RhdGlvbiAqIG1hcC54eSk7XFxuXFxuICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNsYW1wKHZlYzIodlRleHR1cmVDb29yZC54ICsgbWFwLngsIHZUZXh0dXJlQ29vcmQueSArIG1hcC55KSwgaW5wdXRDbGFtcC54eSwgaW5wdXRDbGFtcC56dykpO1xcbn1cXG5cIjtcblxudmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyBmaWx0ZXJNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG57XFxuICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuXFx0Z2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbigpO1xcblxcdHZUZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcXG5cXHR2RmlsdGVyQ29vcmQgPSAoIGZpbHRlck1hdHJpeCAqIHZlYzMoIHZUZXh0dXJlQ29vcmQsIDEuMCkgICkueHk7XFxufVxcblwiO1xuXG4vKipcbiAqIFRoZSBEaXNwbGFjZW1lbnRGaWx0ZXIgY2xhc3MgdXNlcyB0aGUgcGl4ZWwgdmFsdWVzIGZyb20gdGhlIHNwZWNpZmllZCB0ZXh0dXJlXG4gKiAoY2FsbGVkIHRoZSBkaXNwbGFjZW1lbnQgbWFwKSB0byBwZXJmb3JtIGEgZGlzcGxhY2VtZW50IG9mIGFuIG9iamVjdC5cbiAqXG4gKiBZb3UgY2FuIHVzZSB0aGlzIGZpbHRlciB0byBhcHBseSBhbGwgbWFub3Igb2YgY3Jhenkgd2FycGluZyBlZmZlY3RzLlxuICogQ3VycmVudGx5IHRoZSBgcmAgcHJvcGVydHkgb2YgdGhlIHRleHR1cmUgaXMgdXNlZCB0byBvZmZzZXQgdGhlIGB4YFxuICogYW5kIHRoZSBgZ2AgcHJvcGVydHkgb2YgdGhlIHRleHR1cmUgaXMgdXNlZCB0byBvZmZzZXQgdGhlIGB5YC5cbiAqXG4gKiBUaGUgd2F5IGl0IHdvcmtzIGlzIGl0IHVzZXMgdGhlIHZhbHVlcyBvZiB0aGUgZGlzcGxhY2VtZW50IG1hcCB0byBsb29rIHVwIHRoZVxuICogY29ycmVjdCBwaXhlbHMgdG8gb3V0cHV0LiBUaGlzIG1lYW5zIGl0J3Mgbm90IHRlY2huaWNhbGx5IG1vdmluZyB0aGUgb3JpZ2luYWwuXG4gKiBJbnN0ZWFkLCBpdCdzIHN0YXJ0aW5nIGF0IHRoZSBvdXRwdXQgYW5kIGFza2luZyBcIndoaWNoIHBpeGVsIGZyb20gdGhlIG9yaWdpbmFsIGdvZXMgaGVyZVwiLlxuICogRm9yIGV4YW1wbGUsIGlmIGEgZGlzcGxhY2VtZW50IG1hcCBwaXhlbCBoYXMgYHJlZCA9IDFgIGFuZCB0aGUgZmlsdGVyIHNjYWxlIGlzIGAyMGAsXG4gKiB0aGlzIGZpbHRlciB3aWxsIG91dHB1dCB0aGUgcGl4ZWwgYXBwcm94aW1hdGVseSAyMCBwaXhlbHMgdG8gdGhlIHJpZ2h0IG9mIHRoZSBvcmlnaW5hbC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBEaXNwbGFjZW1lbnRGaWx0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERpc3BsYWNlbWVudEZpbHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSBUaGUgc3ByaXRlIHVzZWQgZm9yIHRoZSBkaXNwbGFjZW1lbnQgbWFwLiAobWFrZSBzdXJlIGl0cyBhZGRlZCB0byB0aGUgc2NlbmUhKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVdIC0gVGhlIHNjYWxlIG9mIHRoZSBkaXNwbGFjZW1lbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEaXNwbGFjZW1lbnRGaWx0ZXIoc3ByaXRlLCBzY2FsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbWFza01hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgc3ByaXRlLnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB2ZXJ0ZXgsIGZyYWdtZW50LCB7XG4gICAgICAgICAgICBtYXBTYW1wbGVyOiBzcHJpdGUuX3RleHR1cmUsXG4gICAgICAgICAgICBmaWx0ZXJNYXRyaXg6IG1hc2tNYXRyaXgsXG4gICAgICAgICAgICBzY2FsZTogeyB4OiAxLCB5OiAxIH0sXG4gICAgICAgICAgICByb3RhdGlvbjogbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMV0pLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5tYXNrU3ByaXRlID0gc3ByaXRlO1xuICAgICAgICBfdGhpcy5tYXNrTWF0cml4ID0gbWFza01hdHJpeDtcbiAgICAgICAgaWYgKHNjYWxlID09PSBudWxsIHx8IHNjYWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNjYWxlID0gMjA7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNjYWxlWCwgc2NhbGVZIGZvciBkaXNwbGFjZW1lbnRzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zY2FsZSA9IG5ldyBQb2ludChzY2FsZSwgc2NhbGUpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5DTEVBUl9NT0RFU30gY2xlYXJNb2RlIC0gY2xlYXJNb2RlLlxuICAgICAqL1xuICAgIERpc3BsYWNlbWVudEZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiAoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKSB7XG4gICAgICAgIC8vIGZpbGwgbWFza01hdHJpeCB3aXRoIF9ub3JtYWxpemVkIHNwcml0ZSB0ZXh0dXJlIGNvb3Jkc19cbiAgICAgICAgdGhpcy51bmlmb3Jtcy5maWx0ZXJNYXRyaXggPSBmaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCh0aGlzLm1hc2tNYXRyaXgsIHRoaXMubWFza1Nwcml0ZSk7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc2NhbGUueCA9IHRoaXMuc2NhbGUueDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zY2FsZS55ID0gdGhpcy5zY2FsZS55O1xuICAgICAgICAvLyBFeHRyYWN0IHJvdGF0aW9uIGZyb20gd29ybGQgdHJhbnNmb3JtXG4gICAgICAgIHZhciB3dCA9IHRoaXMubWFza1Nwcml0ZS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGxlblggPSBNYXRoLnNxcnQoKHd0LmEgKiB3dC5hKSArICh3dC5iICogd3QuYikpO1xuICAgICAgICB2YXIgbGVuWSA9IE1hdGguc3FydCgod3QuYyAqIHd0LmMpICsgKHd0LmQgKiB3dC5kKSk7XG4gICAgICAgIGlmIChsZW5YICE9PSAwICYmIGxlblkgIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bMF0gPSB3dC5hIC8gbGVuWDtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bMV0gPSB3dC5iIC8gbGVuWDtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bMl0gPSB3dC5jIC8gbGVuWTtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bM10gPSB3dC5kIC8gbGVuWTtcbiAgICAgICAgfVxuICAgICAgICAvLyBkcmF3IHRoZSBmaWx0ZXIuLi5cbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYWNlbWVudEZpbHRlci5wcm90b3R5cGUsIFwibWFwXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHVzZWQgZm9yIHRoZSBkaXNwbGFjZW1lbnQgbWFwLiBNdXN0IGJlIHBvd2VyIG9mIDIgc2l6ZWQgdGV4dHVyZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gRGlzcGxhY2VtZW50RmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgRGlzcGxhY2VtZW50RmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItZGlzcGxhY2VtZW50LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItZnhhYSAtIHY1LjMuN1xuICogQ29tcGlsZWQgVHVlLCAyOSBEZWMgMjAyMCAxOTozMDoxMSBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItZnhhYSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIHZlcnRleCA9IFwiXFxuYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2X3JnYk5XO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk5FO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNXO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNFO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk07XFxuXFxudmFyeWluZyB2ZWMyIHZGcmFnQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IGlucHV0UGl4ZWw7XFxudW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xcblxcbnZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuXFxuICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG59XFxuXFxudm9pZCB0ZXhjb29yZHModmVjMiBmcmFnQ29vcmQsIHZlYzIgaW52ZXJzZVZQLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiTlcsIG91dCB2ZWMyIHZfcmdiTkUsXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JTVywgb3V0IHZlYzIgdl9yZ2JTRSxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYk0pIHtcXG4gICAgdl9yZ2JOVyA9IChmcmFnQ29vcmQgKyB2ZWMyKC0xLjAsIC0xLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JORSA9IChmcmFnQ29vcmQgKyB2ZWMyKDEuMCwgLTEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYlNXID0gKGZyYWdDb29yZCArIHZlYzIoLTEuMCwgMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiU0UgPSAoZnJhZ0Nvb3JkICsgdmVjMigxLjAsIDEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYk0gPSB2ZWMyKGZyYWdDb29yZCAqIGludmVyc2VWUCk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuXFxuICAgZ2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbigpO1xcblxcbiAgIHZGcmFnQ29vcmQgPSBhVmVydGV4UG9zaXRpb24gKiBvdXRwdXRGcmFtZS56dztcXG5cXG4gICB0ZXhjb29yZHModkZyYWdDb29yZCwgaW5wdXRQaXhlbC56dywgdl9yZ2JOVywgdl9yZ2JORSwgdl9yZ2JTVywgdl9yZ2JTRSwgdl9yZ2JNKTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZfcmdiTlc7XFxudmFyeWluZyB2ZWMyIHZfcmdiTkU7XFxudmFyeWluZyB2ZWMyIHZfcmdiU1c7XFxudmFyeWluZyB2ZWMyIHZfcmdiU0U7XFxudmFyeWluZyB2ZWMyIHZfcmdiTTtcXG5cXG52YXJ5aW5nIHZlYzIgdkZyYWdDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIGhpZ2hwIHZlYzQgaW5wdXRQaXhlbDtcXG5cXG5cXG4vKipcXG4gQmFzaWMgRlhBQSBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiB0aGUgY29kZSBvbiBnZWVrczNkLmNvbSB3aXRoIHRoZVxcbiBtb2RpZmljYXRpb24gdGhhdCB0aGUgdGV4dHVyZTJETG9kIHN0dWZmIHdhcyByZW1vdmVkIHNpbmNlIGl0J3NcXG4gdW5zdXBwb3J0ZWQgYnkgV2ViR0wuXFxuXFxuIC0tXFxuXFxuIEZyb206XFxuIGh0dHBzOi8vZ2l0aHViLmNvbS9taXRzdWhpa28vd2ViZ2wtbWVpbmNyYWZ0XFxuXFxuIENvcHlyaWdodCAoYykgMjAxMSBieSBBcm1pbiBSb25hY2hlci5cXG5cXG4gU29tZSByaWdodHMgcmVzZXJ2ZWQuXFxuXFxuIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxcbiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXFxuIG1ldDpcXG5cXG4gKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxcbiBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXFxuXFxuICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxcbiBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xcbiBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWRcXG4gd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxcblxcbiAqIFRoZSBuYW1lcyBvZiB0aGUgY29udHJpYnV0b3JzIG1heSBub3QgYmUgdXNlZCB0byBlbmRvcnNlIG9yXFxuIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpY1xcbiBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXFxuXFxuIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcXG4gXFxcIkFTIElTXFxcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1RcXG4gTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXFxuIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXFxuIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxcbiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXFxuIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxcbiBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcXG4gVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxcbiAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0VcXG4gT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cXG4gKi9cXG5cXG4jaWZuZGVmIEZYQUFfUkVEVUNFX01JTlxcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTUlOICAgKDEuMC8gMTI4LjApXFxuI2VuZGlmXFxuI2lmbmRlZiBGWEFBX1JFRFVDRV9NVUxcXG4jZGVmaW5lIEZYQUFfUkVEVUNFX01VTCAgICgxLjAgLyA4LjApXFxuI2VuZGlmXFxuI2lmbmRlZiBGWEFBX1NQQU5fTUFYXFxuI2RlZmluZSBGWEFBX1NQQU5fTUFYICAgICA4LjBcXG4jZW5kaWZcXG5cXG4vL29wdGltaXplZCB2ZXJzaW9uIGZvciBtb2JpbGUsIHdoZXJlIGRlcGVuZGVudFxcbi8vdGV4dHVyZSByZWFkcyBjYW4gYmUgYSBib3R0bGVuZWNrXFxudmVjNCBmeGFhKHNhbXBsZXIyRCB0ZXgsIHZlYzIgZnJhZ0Nvb3JkLCB2ZWMyIGludmVyc2VWUCxcXG4gICAgICAgICAgdmVjMiB2X3JnYk5XLCB2ZWMyIHZfcmdiTkUsXFxuICAgICAgICAgIHZlYzIgdl9yZ2JTVywgdmVjMiB2X3JnYlNFLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiTSkge1xcbiAgICB2ZWM0IGNvbG9yO1xcbiAgICB2ZWMzIHJnYk5XID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JOVykueHl6O1xcbiAgICB2ZWMzIHJnYk5FID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JORSkueHl6O1xcbiAgICB2ZWMzIHJnYlNXID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JTVykueHl6O1xcbiAgICB2ZWMzIHJnYlNFID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JTRSkueHl6O1xcbiAgICB2ZWM0IHRleENvbG9yID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JNKTtcXG4gICAgdmVjMyByZ2JNICA9IHRleENvbG9yLnh5ejtcXG4gICAgdmVjMyBsdW1hID0gdmVjMygwLjI5OSwgMC41ODcsIDAuMTE0KTtcXG4gICAgZmxvYXQgbHVtYU5XID0gZG90KHJnYk5XLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU5FID0gZG90KHJnYk5FLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNXID0gZG90KHJnYlNXLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNFID0gZG90KHJnYlNFLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU0gID0gZG90KHJnYk0sICBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU1pbiA9IG1pbihsdW1hTSwgbWluKG1pbihsdW1hTlcsIGx1bWFORSksIG1pbihsdW1hU1csIGx1bWFTRSkpKTtcXG4gICAgZmxvYXQgbHVtYU1heCA9IG1heChsdW1hTSwgbWF4KG1heChsdW1hTlcsIGx1bWFORSksIG1heChsdW1hU1csIGx1bWFTRSkpKTtcXG5cXG4gICAgbWVkaXVtcCB2ZWMyIGRpcjtcXG4gICAgZGlyLnggPSAtKChsdW1hTlcgKyBsdW1hTkUpIC0gKGx1bWFTVyArIGx1bWFTRSkpO1xcbiAgICBkaXIueSA9ICAoKGx1bWFOVyArIGx1bWFTVykgLSAobHVtYU5FICsgbHVtYVNFKSk7XFxuXFxuICAgIGZsb2F0IGRpclJlZHVjZSA9IG1heCgobHVtYU5XICsgbHVtYU5FICsgbHVtYVNXICsgbHVtYVNFKSAqXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAoMC4yNSAqIEZYQUFfUkVEVUNFX01VTCksIEZYQUFfUkVEVUNFX01JTik7XFxuXFxuICAgIGZsb2F0IHJjcERpck1pbiA9IDEuMCAvIChtaW4oYWJzKGRpci54KSwgYWJzKGRpci55KSkgKyBkaXJSZWR1Y2UpO1xcbiAgICBkaXIgPSBtaW4odmVjMihGWEFBX1NQQU5fTUFYLCBGWEFBX1NQQU5fTUFYKSxcXG4gICAgICAgICAgICAgIG1heCh2ZWMyKC1GWEFBX1NQQU5fTUFYLCAtRlhBQV9TUEFOX01BWCksXFxuICAgICAgICAgICAgICAgICAgZGlyICogcmNwRGlyTWluKSkgKiBpbnZlcnNlVlA7XFxuXFxuICAgIHZlYzMgcmdiQSA9IDAuNSAqIChcXG4gICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqICgxLjAgLyAzLjAgLSAwLjUpKS54eXogK1xcbiAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogKDIuMCAvIDMuMCAtIDAuNSkpLnh5eik7XFxuICAgIHZlYzMgcmdiQiA9IHJnYkEgKiAwLjUgKyAwLjI1ICogKFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAtMC41KS54eXogK1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAwLjUpLnh5eik7XFxuXFxuICAgIGZsb2F0IGx1bWFCID0gZG90KHJnYkIsIGx1bWEpO1xcbiAgICBpZiAoKGx1bWFCIDwgbHVtYU1pbikgfHwgKGx1bWFCID4gbHVtYU1heCkpXFxuICAgICAgICBjb2xvciA9IHZlYzQocmdiQSwgdGV4Q29sb3IuYSk7XFxuICAgIGVsc2VcXG4gICAgICAgIGNvbG9yID0gdmVjNChyZ2JCLCB0ZXhDb2xvci5hKTtcXG4gICAgcmV0dXJuIGNvbG9yO1xcbn1cXG5cXG52b2lkIG1haW4oKSB7XFxuXFxuICAgICAgdmVjNCBjb2xvcjtcXG5cXG4gICAgICBjb2xvciA9IGZ4YWEodVNhbXBsZXIsIHZGcmFnQ29vcmQsIGlucHV0UGl4ZWwuencsIHZfcmdiTlcsIHZfcmdiTkUsIHZfcmdiU1csIHZfcmdiU0UsIHZfcmdiTSk7XFxuXFxuICAgICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVxcblwiO1xuXG4vKipcbiAqIEJhc2ljIEZYQUEgKEZhc3QgQXBwcm94aW1hdGUgQW50aS1BbGlhc2luZykgaW1wbGVtZW50YXRpb24gYmFzZWQgb24gdGhlIGNvZGUgb24gZ2Vla3MzZC5jb21cbiAqIHdpdGggdGhlIG1vZGlmaWNhdGlvbiB0aGF0IHRoZSB0ZXh0dXJlMkRMb2Qgc3R1ZmYgd2FzIHJlbW92ZWQgc2luY2UgaXQgaXMgdW5zdXBwb3J0ZWQgYnkgV2ViR0wuXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWl0c3VoaWtvL3dlYmdsLW1laW5jcmFmdFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqXG4gKi9cbnZhciBGWEFBRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGWEFBRmlsdGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEZYQUFGaWx0ZXIoKSB7XG4gICAgICAgIC8vIFRPRE8gLSBuZWVkcyB3b3JrXG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB2ZXJ0ZXgsIGZyYWdtZW50KSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gRlhBQUZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbmV4cG9ydCB7IEZYQUFGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1meGFhLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItbm9pc2UgLSB2NS4zLjdcbiAqIENvbXBpbGVkIFR1ZSwgMjkgRGVjIDIwMjAgMTk6MzA6MTEgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLW5vaXNlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgZGVmYXVsdEZpbHRlclZlcnRleCwgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgZnJhZ21lbnQgPSBcInByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnVuaWZvcm0gZmxvYXQgdU5vaXNlO1xcbnVuaWZvcm0gZmxvYXQgdVNlZWQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxuZmxvYXQgcmFuZCh2ZWMyIGNvKVxcbntcXG4gICAgcmV0dXJuIGZyYWN0KHNpbihkb3QoY28ueHksIHZlYzIoMTIuOTg5OCwgNzguMjMzKSkpICogNDM3NTguNTQ1Myk7XFxufVxcblxcbnZvaWQgbWFpbigpXFxue1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgZmxvYXQgcmFuZG9tVmFsdWUgPSByYW5kKGdsX0ZyYWdDb29yZC54eSAqIHVTZWVkKTtcXG4gICAgZmxvYXQgZGlmZiA9IChyYW5kb21WYWx1ZSAtIDAuNSkgKiB1Tm9pc2U7XFxuXFxuICAgIC8vIFVuLXByZW11bHRpcGx5IGFscGhhIGJlZm9yZSBhcHBseWluZyB0aGUgY29sb3IgbWF0cml4LiBTZWUgaXNzdWUgIzM1MzkuXFxuICAgIGlmIChjb2xvci5hID4gMC4wKSB7XFxuICAgICAgICBjb2xvci5yZ2IgLz0gY29sb3IuYTtcXG4gICAgfVxcblxcbiAgICBjb2xvci5yICs9IGRpZmY7XFxuICAgIGNvbG9yLmcgKz0gZGlmZjtcXG4gICAgY29sb3IuYiArPSBkaWZmO1xcblxcbiAgICAvLyBQcmVtdWx0aXBseSBhbHBoYSBhZ2Fpbi5cXG4gICAgY29sb3IucmdiICo9IGNvbG9yLmE7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBAYXV0aG9yIFZpY28gQHZpY29jb3RlYVxuICogb3JpZ2luYWwgZmlsdGVyOiBodHRwczovL2dpdGh1Yi5jb20vZXZhbncvZ2xmeC5qcy9ibG9iL21hc3Rlci9zcmMvZmlsdGVycy9hZGp1c3Qvbm9pc2UuanNcbiAqL1xuLyoqXG4gKiBBIE5vaXNlIGVmZmVjdCBmaWx0ZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgTm9pc2VGaWx0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE5vaXNlRmlsdGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbm9pc2U9MC41XSAtIFRoZSBub2lzZSBpbnRlbnNpdHksIHNob3VsZCBiZSBhIG5vcm1hbGl6ZWQgdmFsdWUgaW4gdGhlIHJhbmdlIFswLCAxXS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NlZWRdIC0gQSByYW5kb20gc2VlZCBmb3IgdGhlIG5vaXNlIGdlbmVyYXRpb24uIERlZmF1bHQgaXMgYE1hdGgucmFuZG9tKClgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE5vaXNlRmlsdGVyKG5vaXNlLCBzZWVkKSB7XG4gICAgICAgIGlmIChub2lzZSA9PT0gdm9pZCAwKSB7IG5vaXNlID0gMC41OyB9XG4gICAgICAgIGlmIChzZWVkID09PSB2b2lkIDApIHsgc2VlZCA9IE1hdGgucmFuZG9tKCk7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVmYXVsdEZpbHRlclZlcnRleCwgZnJhZ21lbnQsIHtcbiAgICAgICAgICAgIHVOb2lzZTogMCxcbiAgICAgICAgICAgIHVTZWVkOiAwLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5ub2lzZSA9IG5vaXNlO1xuICAgICAgICBfdGhpcy5zZWVkID0gc2VlZDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9pc2VGaWx0ZXIucHJvdG90eXBlLCBcIm5vaXNlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbW91bnQgb2Ygbm9pc2UgdG8gYXBwbHksIHRoaXMgdmFsdWUgc2hvdWxkIGJlIGluIHRoZSByYW5nZSAoMCwgMV0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMC41XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVOb2lzZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudU5vaXNlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9pc2VGaWx0ZXIucHJvdG90eXBlLCBcInNlZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBzZWVkIHZhbHVlIHRvIGFwcGx5IHRvIHRoZSByYW5kb20gbm9pc2UgZ2VuZXJhdGlvbi4gYE1hdGgucmFuZG9tKClgIGlzIGEgZ29vZCB2YWx1ZSB0byB1c2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudVNlZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVTZWVkID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gTm9pc2VGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBOb2lzZUZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLW5vaXNlLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXAgLSB2NS4zLjdcbiAqIENvbXBpbGVkIFR1ZSwgMjkgRGVjIDIwMjAgMTk6MzA6MTEgVVRDXG4gKlxuICogQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSwgQmFzZVRleHR1cmUsIFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHVpZCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG52YXIgX3RlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlRGF0YSA9IG51bGw7XG4vLyBmaWd1cmVkIHRoZXJlJ3Mgbm8gcG9pbnQgYWRkaW5nIEFMTCB0aGUgZXh0cmEgdmFyaWFibGVzIHRvIHByb3RvdHlwZS5cbi8vIHRoaXMgbW9kZWwgY2FuIGhvbGQgdGhlIGluZm9ybWF0aW9uIG5lZWRlZC4gVGhpcyBjYW4gYWxzbyBiZSBnZW5lcmF0ZWQgb24gZGVtYW5kIGFzXG4vLyBtb3N0IG9iamVjdHMgYXJlIG5vdCBjYWNoZWQgYXMgYml0bWFwcy5cbi8qKlxuICogQGNsYXNzXG4gKiBAaWdub3JlXG4gKi9cbnZhciBDYWNoZURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2FjaGVEYXRhKCkge1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFJlbmRlciA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxSZW5kZXJDYW52YXMgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEdldExvY2FsQm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxEZXN0cm95ID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbE1hc2sgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRmlsdGVyQXJlYSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxDb250YWluc1BvaW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gQ2FjaGVEYXRhO1xufSgpKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKERpc3BsYXlPYmplY3QucHJvdG90eXBlLCB7XG4gICAgLyoqXG4gICAgICogU2V0IHRoaXMgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGlzIGRpc3BsYXkgb2JqZWN0IHRvIGJlIGNhY2hlZCBhcyBhIGJpdG1hcC5cbiAgICAgKiBUaGlzIGJhc2ljYWxseSB0YWtlcyBhIHNuYXAgc2hvdCBvZiB0aGUgZGlzcGxheSBvYmplY3QgYXMgaXQgaXMgYXQgdGhhdCBtb21lbnQuIEl0IGNhblxuICAgICAqIHByb3ZpZGUgYSBwZXJmb3JtYW5jZSBiZW5lZml0IGZvciBjb21wbGV4IHN0YXRpYyBkaXNwbGF5T2JqZWN0cy5cbiAgICAgKiBUbyByZW1vdmUgc2ltcGx5IHNldCB0aGlzIHByb3BlcnR5IHRvIGBmYWxzZWBcbiAgICAgKlxuICAgICAqIElNUE9SVEFOVCBHT1RDSEEgLSBNYWtlIHN1cmUgdGhhdCBhbGwgeW91ciB0ZXh0dXJlcyBhcmUgcHJlbG9hZGVkIEJFRk9SRSBzZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gdHJ1ZVxuICAgICAqIGFzIGl0IHdpbGwgdGFrZSBhIHNuYXBzaG90IG9mIHdoYXQgaXMgY3VycmVudGx5IHRoZXJlLiBJZiB0aGUgdGV4dHVyZXMgaGF2ZSBub3QgbG9hZGVkIHRoZW4gdGhleSB3aWxsIG5vdCBhcHBlYXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgY2FjaGVBc0JpdG1hcDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUFzQml0bWFwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlQXNCaXRtYXAgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY2FjaGVBc0JpdG1hcCA9IHZhbHVlO1xuICAgICAgICAgICAgdmFyIGRhdGE7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NhY2hlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZURhdGEgPSBuZXcgQ2FjaGVEYXRhKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jYWNoZURhdGE7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFJlbmRlciA9IHRoaXMucmVuZGVyO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxSZW5kZXJDYW52YXMgPSB0aGlzLnJlbmRlckNhbnZhcztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtID0gdGhpcy51cGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuY2FsY3VsYXRlQm91bmRzO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxHZXRMb2NhbEJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHM7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbERlc3Ryb3kgPSB0aGlzLmRlc3Ryb3k7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQgPSB0aGlzLmNvbnRhaW5zUG9pbnQ7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbE1hc2sgPSB0aGlzLl9tYXNrO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxGaWx0ZXJBcmVhID0gdGhpcy5maWx0ZXJBcmVhO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyID0gdGhpcy5fcmVuZGVyQ2FjaGVkO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fcmVuZGVyQ2FjaGVkQ2FudmFzO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSA9IHRoaXMuX2NhY2hlQXNCaXRtYXBEZXN0cm95O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2NhY2hlRGF0YTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zcHJpdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIgPSBkYXRhLm9yaWdpbmFsUmVuZGVyO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FudmFzID0gZGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcztcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcyA9IGRhdGEub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHM7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IGRhdGEub3JpZ2luYWxHZXRMb2NhbEJvdW5kcztcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSBkYXRhLm9yaWdpbmFsRGVzdHJveTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IGRhdGEub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluc1BvaW50ID0gZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFzayA9IGRhdGEub3JpZ2luYWxNYXNrO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IGRhdGEub3JpZ2luYWxGaWx0ZXJBcmVhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0sXG59KTtcbi8qKlxuICogUmVuZGVycyBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBzcHJpdGUgd2l0aCBXZWJHTFxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb24gX3JlbmRlckNhY2hlZFxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlbmRlckNhY2hlZCA9IGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWQocmVuZGVyZXIpIHtcbiAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3QocmVuZGVyZXIpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUudHJhbnNmb3JtLl93b3JsZElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3JlbmRlcihyZW5kZXJlcik7XG59O1xuLyoqXG4gKiBQcmVwYXJlcyB0aGUgV2ViR0wgcmVuZGVyZXIgdG8gY2FjaGUgdGhlIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0XG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5faW5pdENhY2hlZERpc3BsYXlPYmplY3QgPSBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3QocmVuZGVyZXIpIHtcbiAgICBpZiAodGhpcy5fY2FjaGVEYXRhICYmIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBtYWtlIHN1cmUgYWxwaGEgaXMgc2V0IHRvIDEgb3RoZXJ3aXNlIGl0IHdpbGwgZ2V0IHJlbmRlcmVkIGFzIGludmlzaWJsZSFcbiAgICB2YXIgY2FjaGVBbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgdGhpcy5hbHBoYSA9IDE7XG4gICAgLy8gZmlyc3Qgd2UgZmx1c2ggYW55dGhpbmcgbGVmdCBpbiB0aGUgcmVuZGVyZXIgKG90aGVyd2lzZSBpdCB3b3VsZCBnZXQgcmVuZGVyZWQgdG8gdGhlIGNhY2hlZCB0ZXh0dXJlKVxuICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgLy8gdGhpcy5maWx0ZXJzPSBbXTtcbiAgICAvLyBuZXh0IHdlIGZpbmQgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIHVudHJhbnNmb3JtZWQgb2JqZWN0XG4gICAgLy8gdGhpcyBmdW5jdGlvbiBhbHNvIGNhbGxzIHVwZGF0ZXRyYW5zZm9ybSBvbiBhbGwgaXRzIGNoaWxkcmVuIGFzIHBhcnQgb2YgdGhlIG1lYXN1cmluZy5cbiAgICAvLyBUaGlzIG1lYW5zIHdlIGRvbid0IG5lZWQgdG8gdXBkYXRlIHRoZSB0cmFuc2Zvcm0gYWdhaW4gaW4gdGhpcyBmdW5jdGlvblxuICAgIC8vIFRPRE8gcGFzcyBhbiBvYmplY3QgdG8gY2xvbmUgdG9vPyBzYXZlcyBoYXZpbmcgdG8gY3JlYXRlIGEgbmV3IG9uZSBlYWNoIHRpbWUhXG4gICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMobnVsbCwgdHJ1ZSkuY2xvbmUoKTtcbiAgICAvLyBhZGQgc29tZSBwYWRkaW5nIVxuICAgIGlmICh0aGlzLmZpbHRlcnMpIHtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLmZpbHRlcnNbMF0ucGFkZGluZztcbiAgICAgICAgYm91bmRzLnBhZChwYWRkaW5nKTtcbiAgICB9XG4gICAgYm91bmRzLmNlaWwoc2V0dGluZ3MuUkVTT0xVVElPTik7XG4gICAgLy8gZm9yIG5vdyB3ZSBjYWNoZSB0aGUgY3VycmVudCByZW5kZXJUYXJnZXQgdGhhdCB0aGUgV2ViR0wgcmVuZGVyZXIgaXMgY3VycmVudGx5IHVzaW5nLlxuICAgIC8vIHRoaXMgY291bGQgYmUgbW9yZSBlbGVnYW50Li5cbiAgICB2YXIgY2FjaGVkUmVuZGVyVGV4dHVyZSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmUuY3VycmVudDtcbiAgICB2YXIgY2FjaGVkU291cmNlRnJhbWUgPSByZW5kZXJlci5yZW5kZXJUZXh0dXJlLnNvdXJjZUZyYW1lLmNsb25lKCk7XG4gICAgdmFyIGNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm0gPSByZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybTtcbiAgICAvLyBXZSBhbHNvIHN0b3JlIHRoZSBmaWx0ZXIgc3RhY2sgLSBJIHdpbGwgZGVmaW5pdGVseSBsb29rIHRvIGNoYW5nZSBob3cgdGhpcyB3b3JrcyBhIGxpdHRsZSBsYXRlciBkb3duIHRoZSBsaW5lLlxuICAgIC8vIGNvbnN0IHN0YWNrID0gcmVuZGVyZXIuZmlsdGVyTWFuYWdlci5maWx0ZXJTdGFjaztcbiAgICAvLyB0aGlzIHJlbmRlclRleHR1cmUgd2lsbCBiZSB1c2VkIHRvIHN0b3JlIHRoZSBjYWNoZWQgRGlzcGxheU9iamVjdFxuICAgIHZhciByZW5kZXJUZXh0dXJlID0gUmVuZGVyVGV4dHVyZS5jcmVhdGUoeyB3aWR0aDogYm91bmRzLndpZHRoLCBoZWlnaHQ6IGJvdW5kcy5oZWlnaHQgfSk7XG4gICAgdmFyIHRleHR1cmVDYWNoZUlkID0gXCJjYWNoZUFzQml0bWFwX1wiICsgdWlkKCk7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gdGV4dHVyZUNhY2hlSWQ7XG4gICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gICAgVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICAvLyBuZWVkIHRvIHNldCAvL1xuICAgIHZhciBtID0gdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm0uY29weVRvKF90ZW1wTWF0cml4KS5pbnZlcnQoKS50cmFuc2xhdGUoLWJvdW5kcy54LCAtYm91bmRzLnkpO1xuICAgIC8vIHNldCBhbGwgcHJvcGVydGllcyB0byB0aGVyZSBvcmlnaW5hbCBzbyB3ZSBjYW4gcmVuZGVyIHRvIGEgdGV4dHVyZVxuICAgIHRoaXMucmVuZGVyID0gdGhpcy5fY2FjaGVEYXRhLm9yaWdpbmFsUmVuZGVyO1xuICAgIHJlbmRlcmVyLnJlbmRlcih0aGlzLCByZW5kZXJUZXh0dXJlLCB0cnVlLCBtLCBmYWxzZSk7XG4gICAgLy8gbm93IHJlc3RvcmUgdGhlIHN0YXRlIGJlIHNldHRpbmcgdGhlIG5ldyBwcm9wZXJ0aWVzXG4gICAgcmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm0gPSBjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtO1xuICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChjYWNoZWRSZW5kZXJUZXh0dXJlLCBjYWNoZWRTb3VyY2VGcmFtZSk7XG4gICAgLy8gcmVuZGVyZXIuZmlsdGVyTWFuYWdlci5maWx0ZXJTdGFjayA9IHN0YWNrO1xuICAgIHRoaXMucmVuZGVyID0gdGhpcy5fcmVuZGVyQ2FjaGVkO1xuICAgIC8vIHRoZSByZXN0IGlzIHRoZSBzYW1lIGFzIGZvciBDYW52YXNcbiAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybTtcbiAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcztcbiAgICB0aGlzLmdldExvY2FsQm91bmRzID0gdGhpcy5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHM7XG4gICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcbiAgICAvLyBjcmVhdGUgb3VyIGNhY2hlZCBzcHJpdGVcbiAgICB2YXIgY2FjaGVkU3ByaXRlID0gbmV3IFNwcml0ZShyZW5kZXJUZXh0dXJlKTtcbiAgICBjYWNoZWRTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci54ID0gLShib3VuZHMueCAvIGJvdW5kcy53aWR0aCk7XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci55ID0gLShib3VuZHMueSAvIGJvdW5kcy5oZWlnaHQpO1xuICAgIGNhY2hlZFNwcml0ZS5hbHBoYSA9IGNhY2hlQWxwaGE7XG4gICAgY2FjaGVkU3ByaXRlLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSA9IGNhY2hlZFNwcml0ZTtcbiAgICB0aGlzLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAvLyByZXN0b3JlIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGNhY2hlZCBzcHJpdGUgdG8gYXZvaWQgdGhlIG5hc3R5IGZsaWNrZXIuLlxuICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy5lbmFibGVUZW1wUGFyZW50KCk7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMuZGlzYWJsZVRlbXBQYXJlbnQobnVsbCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH1cbiAgICAvLyBtYXAgdGhlIGhpdCB0ZXN0Li5cbiAgICB0aGlzLmNvbnRhaW5zUG9pbnQgPSBjYWNoZWRTcHJpdGUuY29udGFpbnNQb2ludC5iaW5kKGNhY2hlZFNwcml0ZSk7XG59O1xuLyoqXG4gKiBSZW5kZXJzIGEgY2FjaGVkIHZlcnNpb24gb2YgdGhlIHNwcml0ZSB3aXRoIGNhbnZhc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb24gX3JlbmRlckNhY2hlZENhbnZhc1xuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY2FudmFzIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZW5kZXJDYWNoZWRDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzKHJlbmRlcmVyKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fcmVuZGVyQ2FudmFzKHJlbmRlcmVyKTtcbn07XG4vLyBUT0RPIHRoaXMgY2FuIGJlIHRoZSBzYW1lIGFzIHRoZSBXZWJHTCB2ZXJzaW9uLi4gd2lsbCBuZWVkIHRvIGRvIGEgbGl0dGxlIHR3ZWFraW5nIGZpcnN0IHRob3VnaC4uXG4vKipcbiAqIFByZXBhcmVzIHRoZSBDYW52YXMgcmVuZGVyZXIgdG8gY2FjaGUgdGhlIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSBjYW52YXMgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzID0gZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzKHJlbmRlcmVyKSB7XG4gICAgaWYgKHRoaXMuX2NhY2hlRGF0YSAmJiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gZ2V0IGJvdW5kcyBhY3R1YWxseSB0cmFuc2Zvcm1zIHRoZSBvYmplY3QgZm9yIHVzIGFscmVhZHkhXG4gICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMobnVsbCwgdHJ1ZSk7XG4gICAgdmFyIGNhY2hlQWxwaGEgPSB0aGlzLmFscGhhO1xuICAgIHRoaXMuYWxwaGEgPSAxO1xuICAgIHZhciBjYWNoZWRSZW5kZXJUYXJnZXQgPSByZW5kZXJlci5jb250ZXh0O1xuICAgIHZhciBjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtID0gcmVuZGVyZXIuX3Byb2pUcmFuc2Zvcm07XG4gICAgYm91bmRzLmNlaWwoc2V0dGluZ3MuUkVTT0xVVElPTik7XG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZSh7IHdpZHRoOiBib3VuZHMud2lkdGgsIGhlaWdodDogYm91bmRzLmhlaWdodCB9KTtcbiAgICB2YXIgdGV4dHVyZUNhY2hlSWQgPSBcImNhY2hlQXNCaXRtYXBfXCIgKyB1aWQoKTtcbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSB0ZXh0dXJlQ2FjaGVJZDtcbiAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIC8vIG5lZWQgdG8gc2V0IC8vXG4gICAgdmFyIG0gPSBfdGVtcE1hdHJpeDtcbiAgICB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybS5jb3B5VG8obSk7XG4gICAgbS5pbnZlcnQoKTtcbiAgICBtLnR4IC09IGJvdW5kcy54O1xuICAgIG0udHkgLT0gYm91bmRzLnk7XG4gICAgLy8gbS5hcHBlbmQodGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0uKVxuICAgIC8vIHNldCBhbGwgcHJvcGVydGllcyB0byB0aGVyZSBvcmlnaW5hbCBzbyB3ZSBjYW4gcmVuZGVyIHRvIGEgdGV4dHVyZVxuICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fY2FjaGVEYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzO1xuICAgIHJlbmRlcmVyLnJlbmRlcih0aGlzLCByZW5kZXJUZXh0dXJlLCB0cnVlLCBtLCBmYWxzZSk7XG4gICAgLy8gbm93IHJlc3RvcmUgdGhlIHN0YXRlIGJlIHNldHRpbmcgdGhlIG5ldyBwcm9wZXJ0aWVzXG4gICAgcmVuZGVyZXIuY29udGV4dCA9IGNhY2hlZFJlbmRlclRhcmdldDtcbiAgICByZW5kZXJlci5fcHJvalRyYW5zZm9ybSA9IGNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm07XG4gICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9yZW5kZXJDYWNoZWRDYW52YXM7XG4gICAgLy8gdGhlIHJlc3QgaXMgdGhlIHNhbWUgYXMgZm9yIFdlYkdMXG4gICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm07XG4gICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMgPSB0aGlzLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHM7XG4gICAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IHRoaXMuX2dldENhY2hlZExvY2FsQm91bmRzO1xuICAgIHRoaXMuX21hc2sgPSBudWxsO1xuICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG4gICAgLy8gY3JlYXRlIG91ciBjYWNoZWQgc3ByaXRlXG4gICAgdmFyIGNhY2hlZFNwcml0ZSA9IG5ldyBTcHJpdGUocmVuZGVyVGV4dHVyZSk7XG4gICAgY2FjaGVkU3ByaXRlLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueCA9IC0oYm91bmRzLnggLyBib3VuZHMud2lkdGgpO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueSA9IC0oYm91bmRzLnkgLyBib3VuZHMuaGVpZ2h0KTtcbiAgICBjYWNoZWRTcHJpdGUuYWxwaGEgPSBjYWNoZUFscGhhO1xuICAgIGNhY2hlZFNwcml0ZS5fYm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG4gICAgdGhpcy50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgLy8gcmVzdG9yZSB0aGUgdHJhbnNmb3JtIG9mIHRoZSBjYWNoZWQgc3ByaXRlIHRvIGF2b2lkIHRoZSBuYXN0eSBmbGlja2VyLi5cbiAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcmVuZGVyZXIuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH1cbiAgICAvLyBtYXAgdGhlIGhpdCB0ZXN0Li5cbiAgICB0aGlzLmNvbnRhaW5zUG9pbnQgPSBjYWNoZWRTcHJpdGUuY29udGFpbnNQb2ludC5iaW5kKGNhY2hlZFNwcml0ZSk7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIGNhY2hlZCBzcHJpdGVcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcygpIHtcbiAgICB0aGlzLl9ib3VuZHMuY2xlYXIoKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLnRyYW5zZm9ybS5fd29ybGRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX2NhbGN1bGF0ZUJvdW5kcygpO1xuICAgIHRoaXMuX2JvdW5kcy51cGRhdGVJRCA9IHRoaXMuX2JvdW5kc0lEO1xufTtcbi8qKlxuICogR2V0cyB0aGUgYm91bmRzIG9mIHRoZSBjYWNoZWQgc3ByaXRlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtSZWN0YW5nbGV9IFRoZSBsb2NhbCBib3VuZHMuXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9nZXRDYWNoZWRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIF9nZXRDYWNoZWRMb2NhbEJvdW5kcygpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5nZXRMb2NhbEJvdW5kcyhudWxsKTtcbn07XG4vKipcbiAqIERlc3Ryb3lzIHRoZSBjYWNoZWQgc3ByaXRlLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIF9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCgpIHtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl90ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSA9IG51bGw7XG4gICAgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCk7XG4gICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkKTtcbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSBudWxsO1xufTtcbi8qKlxuICogRGVzdHJveXMgdGhlIGNhY2hlZCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWUuXG4gKiAgVXNlZCB3aGVuIGRlc3Ryb3lpbmcgY29udGFpbmVycywgc2VlIHRoZSBDb250YWluZXIuZGVzdHJveSBtZXRob2QuXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZUFzQml0bWFwRGVzdHJveSA9IGZ1bmN0aW9uIF9jYWNoZUFzQml0bWFwRGVzdHJveShvcHRpb25zKSB7XG4gICAgdGhpcy5jYWNoZUFzQml0bWFwID0gZmFsc2U7XG4gICAgdGhpcy5kZXN0cm95KG9wdGlvbnMpO1xufTtcblxuZXhwb3J0IHsgQ2FjaGVEYXRhIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXhpbi1jYWNoZS1hcy1iaXRtYXAuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21peGluLWdldC1jaGlsZC1ieS1uYW1lIC0gdjUuMy43XG4gKiBDb21waWxlZCBUdWUsIDI5IERlYyAyMDIwIDE5OjMwOjExIFVUQ1xuICpcbiAqIEBwaXhpL21peGluLWdldC1jaGlsZC1ieS1uYW1lIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCwgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbi8qKlxuICogVGhlIGluc3RhbmNlIG5hbWUgb2YgdGhlIG9iamVjdC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQG1lbWJlciB7c3RyaW5nfSBuYW1lXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLm5hbWUgPSBudWxsO1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBkaXNwbGF5IG9iamVjdCBpbiB0aGUgY29udGFpbmVyLlxuICpcbiAqIFJlY3Vyc2l2ZSBzZWFyY2hlcyBhcmUgZG9uZSBpbiBhIHByZW9yZGVyIHRyYXZlcnNhbC5cbiAqXG4gKiBAbWV0aG9kIGdldENoaWxkQnlOYW1lXG4gKiBAbWVtYmVyb2YgUElYSS5Db250YWluZXIjXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIEluc3RhbmNlIG5hbWUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59W2RlZXA9ZmFsc2VdIC0gV2hldGhlciB0byBzZWFyY2ggcmVjdXJzaXZlbHlcbiAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lLlxuICovXG5Db250YWluZXIucHJvdG90eXBlLmdldENoaWxkQnlOYW1lID0gZnVuY3Rpb24gZ2V0Q2hpbGRCeU5hbWUobmFtZSwgZGVlcCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW5baV0ubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRlZXApIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmICghY2hpbGQuZ2V0Q2hpbGRCeU5hbWUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLmNoaWxkcmVuW2ldLmdldENoaWxkQnlOYW1lKG5hbWUsIHRydWUpO1xuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24gLSB2NS4zLjdcbiAqIENvbXBpbGVkIFR1ZSwgMjkgRGVjIDIwMjAgMTk6MzA6MTEgVVRDXG4gKlxuICogQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbiBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZ2xvYmFsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0LiBEb2VzIG5vdCBkZXBlbmQgb24gb2JqZWN0IHNjYWxlLCByb3RhdGlvbiBhbmQgcGl2b3QuXG4gKlxuICogQG1ldGhvZCBnZXRHbG9iYWxQb3NpdGlvblxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50PW5ldyBQSVhJLlBvaW50KCldIC0gVGhlIHBvaW50IHRvIHdyaXRlIHRoZSBnbG9iYWwgdmFsdWUgdG8uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlPWZhbHNlXSAtIFNldHRpbmcgdG8gdHJ1ZSB3aWxsIHN0b3AgdGhlIHRyYW5zZm9ybXMgb2YgdGhlIHNjZW5lIGdyYXBoIGZyb21cbiAqICBiZWluZyB1cGRhdGVkLiBUaGlzIG1lYW5zIHRoZSBjYWxjdWxhdGlvbiByZXR1cm5lZCBNQVkgYmUgb3V0IG9mIGRhdGUgQlVUIHdpbGwgZ2l2ZSB5b3UgYVxuICogIG5pY2UgcGVyZm9ybWFuY2UgYm9vc3QuXG4gKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBUaGUgdXBkYXRlZCBwb2ludC5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0R2xvYmFsUG9zaXRpb24gPSBmdW5jdGlvbiBnZXRHbG9iYWxQb3NpdGlvbihwb2ludCwgc2tpcFVwZGF0ZSkge1xuICAgIGlmIChwb2ludCA9PT0gdm9pZCAwKSB7IHBvaW50ID0gbmV3IFBvaW50KCk7IH1cbiAgICBpZiAoc2tpcFVwZGF0ZSA9PT0gdm9pZCAwKSB7IHNraXBVcGRhdGUgPSBmYWxzZTsgfVxuICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICB0aGlzLnBhcmVudC50b0dsb2JhbCh0aGlzLnBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwb2ludC54ID0gdGhpcy5wb3NpdGlvbi54O1xuICAgICAgICBwb2ludC55ID0gdGhpcy5wb3NpdGlvbi55O1xuICAgIH1cbiAgICByZXR1cm4gcG9pbnQ7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbi5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWVzaC1leHRyYXMgLSB2NS4zLjdcbiAqIENvbXBpbGVkIFR1ZSwgMjkgRGVjIDIwMjAgMTk6MzA6MTEgVVRDXG4gKlxuICogQHBpeGkvbWVzaC1leHRyYXMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBNZXNoR2VvbWV0cnksIE1lc2hNYXRlcmlhbCwgTWVzaCB9IGZyb20gJ0BwaXhpL21lc2gnO1xuaW1wb3J0IHsgV1JBUF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgUGxhbmVHZW9tZXRyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGxhbmVHZW9tZXRyeSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQbGFuZUdlb21ldHJ5KHdpZHRoLCBoZWlnaHQsIHNlZ1dpZHRoLCBzZWdIZWlnaHQpIHtcbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAxMDA7IH1cbiAgICAgICAgaWYgKGhlaWdodCA9PT0gdm9pZCAwKSB7IGhlaWdodCA9IDEwMDsgfVxuICAgICAgICBpZiAoc2VnV2lkdGggPT09IHZvaWQgMCkgeyBzZWdXaWR0aCA9IDEwOyB9XG4gICAgICAgIGlmIChzZWdIZWlnaHQgPT09IHZvaWQgMCkgeyBzZWdIZWlnaHQgPSAxMDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zZWdXaWR0aCA9IHNlZ1dpZHRoO1xuICAgICAgICBfdGhpcy5zZWdIZWlnaHQgPSBzZWdIZWlnaHQ7XG4gICAgICAgIF90aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIF90aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgX3RoaXMuYnVpbGQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgcGxhbmUgY29vcmRpbmF0ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBsYW5lR2VvbWV0cnkucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG90YWwgPSB0aGlzLnNlZ1dpZHRoICogdGhpcy5zZWdIZWlnaHQ7XG4gICAgICAgIHZhciB2ZXJ0cyA9IFtdO1xuICAgICAgICB2YXIgdXZzID0gW107XG4gICAgICAgIHZhciBpbmRpY2VzID0gW107XG4gICAgICAgIHZhciBzZWdtZW50c1ggPSB0aGlzLnNlZ1dpZHRoIC0gMTtcbiAgICAgICAgdmFyIHNlZ21lbnRzWSA9IHRoaXMuc2VnSGVpZ2h0IC0gMTtcbiAgICAgICAgdmFyIHNpemVYID0gKHRoaXMud2lkdGgpIC8gc2VnbWVudHNYO1xuICAgICAgICB2YXIgc2l6ZVkgPSAodGhpcy5oZWlnaHQpIC8gc2VnbWVudHNZO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB4ID0gKGkgJSB0aGlzLnNlZ1dpZHRoKTtcbiAgICAgICAgICAgIHZhciB5ID0gKChpIC8gdGhpcy5zZWdXaWR0aCkgfCAwKTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goeCAqIHNpemVYLCB5ICogc2l6ZVkpO1xuICAgICAgICAgICAgdXZzLnB1c2goeCAvIHNlZ21lbnRzWCwgeSAvIHNlZ21lbnRzWSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRvdGFsU3ViID0gc2VnbWVudHNYICogc2VnbWVudHNZO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsU3ViOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB4cG9zID0gaSAlIHNlZ21lbnRzWDtcbiAgICAgICAgICAgIHZhciB5cG9zID0gKGkgLyBzZWdtZW50c1gpIHwgMDtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9ICh5cG9zICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zO1xuICAgICAgICAgICAgdmFyIHZhbHVlMiA9ICh5cG9zICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zICsgMTtcbiAgICAgICAgICAgIHZhciB2YWx1ZTMgPSAoKHlwb3MgKyAxKSAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcztcbiAgICAgICAgICAgIHZhciB2YWx1ZTQgPSAoKHlwb3MgKyAxKSAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcyArIDE7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godmFsdWUsIHZhbHVlMiwgdmFsdWUzLCB2YWx1ZTIsIHZhbHVlNCwgdmFsdWUzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1ZmZlcnNbMF0uZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodmVydHMpO1xuICAgICAgICB0aGlzLmJ1ZmZlcnNbMV0uZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodXZzKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kYXRhID0gbmV3IFVpbnQxNkFycmF5KGluZGljZXMpO1xuICAgICAgICAvLyBlbnN1cmUgdGhhdCB0aGUgY2hhbmdlcyBhcmUgdXBsb2FkZWRcbiAgICAgICAgdGhpcy5idWZmZXJzWzBdLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmJ1ZmZlcnNbMV0udXBkYXRlKCk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIudXBkYXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gUGxhbmVHZW9tZXRyeTtcbn0oTWVzaEdlb21ldHJ5KSk7XG5cbi8qKlxuICogUm9wZUdlb21ldHJ5IGFsbG93cyB5b3UgdG8gZHJhdyBhIGdlb21ldHJ5IGFjcm9zcyBzZXZlcmFsIHBvaW50cyBhbmQgdGhlbiBtYW5pcHVsYXRlIHRoZXNlIHBvaW50cy5cbiAqXG4gKiBgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogY29uc3Qgcm9wZSA9IG5ldyBQSVhJLlJvcGVHZW9tZXRyeSgxMDAsIHBvaW50cyk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuTWVzaEdlb21ldHJ5XG4gKiBAbWVtYmVyb2YgUElYSVxuICpcbiAqL1xudmFyIFJvcGVHZW9tZXRyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUm9wZUdlb21ldHJ5LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MjAwXSAtIFRoZSB3aWR0aCAoaS5lLiwgdGhpY2tuZXNzKSBvZiB0aGUgcm9wZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnRbXX0gW3BvaW50c10gLSBBbiBhcnJheSBvZiB7QGxpbmsgUElYSS5Qb2ludH0gb2JqZWN0cyB0byBjb25zdHJ1Y3QgdGhpcyByb3BlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdGV4dHVyZVNjYWxlPTBdIC0gQnkgZGVmYXVsdCB0aGUgcm9wZSB0ZXh0dXJlIHdpbGwgYmUgc3RyZXRjaGVkIHRvIG1hdGNoXG4gICAgICogICAgIHJvcGUgbGVuZ3RoLiBJZiB0ZXh0dXJlU2NhbGUgaXMgcG9zaXRpdmUgdGhpcyB2YWx1ZSB3aWxsIGJlIHRyZWF0ZWQgYXMgYSBzY2FsaW5nXG4gICAgICogICAgIGZhY3RvciBhbmQgdGhlIHRleHR1cmUgd2lsbCBwcmVzZXJ2ZSBpdHMgYXNwZWN0IHJhdGlvIGluc3RlYWQuIFRvIGNyZWF0ZSBhIHRpbGluZyByb3BlXG4gICAgICogICAgIHNldCBiYXNlVGV4dHVyZS53cmFwTW9kZSB0byB7QGxpbmsgUElYSS5XUkFQX01PREVTLlJFUEVBVH0gYW5kIHVzZSBhIHBvd2VyIG9mIHR3byB0ZXh0dXJlLFxuICAgICAqICAgICB0aGVuIHNldCB0ZXh0dXJlU2NhbGU9MSB0byBrZWVwIHRoZSBvcmlnaW5hbCB0ZXh0dXJlIHBpeGVsIHNpemUuXG4gICAgICogICAgIEluIG9yZGVyIHRvIHJlZHVjZSBhbHBoYSBjaGFubmVsIGFydGlmYWN0cyBwcm92aWRlIGEgbGFyZ2VyIHRleHR1cmUgYW5kIGRvd25zYW1wbGUgLVxuICAgICAqICAgICBpLmUuIHNldCB0ZXh0dXJlU2NhbGU9MC41IHRvIHNjYWxlIGl0IGRvd24gdHdpY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUm9wZUdlb21ldHJ5KHdpZHRoLCBwb2ludHMsIHRleHR1cmVTY2FsZSkge1xuICAgICAgICBpZiAod2lkdGggPT09IHZvaWQgMCkgeyB3aWR0aCA9IDIwMDsgfVxuICAgICAgICBpZiAodGV4dHVyZVNjYWxlID09PSB2b2lkIDApIHsgdGV4dHVyZVNjYWxlID0gMDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KSwgbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCksIG5ldyBVaW50MTZBcnJheSgocG9pbnRzLmxlbmd0aCAtIDEpICogNikpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBwb2ludHMgdGhhdCBkZXRlcm1pbmUgdGhlIHJvcGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucG9pbnRzID0gcG9pbnRzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIChpLmUuLCB0aGlja25lc3MpIG9mIHRoZSByb3BlLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSb3BlIHRleHR1cmUgc2NhbGUsIGlmIHplcm8gdGhlbiB0aGUgcm9wZSB0ZXh0dXJlIGlzIHN0cmV0Y2hlZC5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVTY2FsZSA9IHRleHR1cmVTY2FsZTtcbiAgICAgICAgX3RoaXMuYnVpbGQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUm9wZUdlb21ldHJ5LnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggKGkuZS4sIHRoaWNrbmVzcykgb2YgdGhlIHJvcGUuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBSb3BlIGluZGljZXMgYW5kIHV2c1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUm9wZUdlb21ldHJ5LnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICBpZiAoIXBvaW50cylcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIHZhciB2ZXJ0ZXhCdWZmZXIgPSB0aGlzLmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJyk7XG4gICAgICAgIHZhciB1dkJ1ZmZlciA9IHRoaXMuZ2V0QnVmZmVyKCdhVGV4dHVyZUNvb3JkJyk7XG4gICAgICAgIHZhciBpbmRleEJ1ZmZlciA9IHRoaXMuZ2V0SW5kZXgoKTtcbiAgICAgICAgLy8gaWYgdG9vIGxpdHRsZSBwb2ludHMsIG9yIHRleHR1cmUgaGFzbid0IGdvdCBVVnMgc2V0IHlldCBqdXN0IG1vdmUgb24uXG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHRoZSBudW1iZXIgb2YgcG9pbnRzIGhhcyBjaGFuZ2VkIHdlIHdpbGwgbmVlZCB0byByZWNyZWF0ZSB0aGUgYXJyYXlidWZmZXJzXG4gICAgICAgIGlmICh2ZXJ0ZXhCdWZmZXIuZGF0YS5sZW5ndGggLyA0ICE9PSBwb2ludHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuICAgICAgICAgICAgdXZCdWZmZXIuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuICAgICAgICAgICAgaW5kZXhCdWZmZXIuZGF0YSA9IG5ldyBVaW50MTZBcnJheSgocG9pbnRzLmxlbmd0aCAtIDEpICogNik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHV2cyA9IHV2QnVmZmVyLmRhdGE7XG4gICAgICAgIHZhciBpbmRpY2VzID0gaW5kZXhCdWZmZXIuZGF0YTtcbiAgICAgICAgdXZzWzBdID0gMDtcbiAgICAgICAgdXZzWzFdID0gMDtcbiAgICAgICAgdXZzWzJdID0gMDtcbiAgICAgICAgdXZzWzNdID0gMTtcbiAgICAgICAgdmFyIGFtb3VudCA9IDA7XG4gICAgICAgIHZhciBwcmV2ID0gcG9pbnRzWzBdO1xuICAgICAgICB2YXIgdGV4dHVyZVdpZHRoID0gdGhpcy5fd2lkdGggKiB0aGlzLnRleHR1cmVTY2FsZTtcbiAgICAgICAgdmFyIHRvdGFsID0gcG9pbnRzLmxlbmd0aDsgLy8gLSAxO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICAgIC8vIHRpbWUgdG8gZG8gc29tZSBzbWFydCBkcmF3aW5nIVxuICAgICAgICAgICAgdmFyIGluZGV4ID0gaSAqIDQ7XG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0dXJlU2NhbGUgPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHBpeGVsIGRpc3RhbmNlIGZyb20gcHJldmlvdXMgcG9pbnRcbiAgICAgICAgICAgICAgICB2YXIgZHggPSBwcmV2LnggLSBwb2ludHNbaV0ueDtcbiAgICAgICAgICAgICAgICB2YXIgZHkgPSBwcmV2LnkgLSBwb2ludHNbaV0ueTtcbiAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKGR4ICogZHgpICsgKGR5ICogZHkpKTtcbiAgICAgICAgICAgICAgICBwcmV2ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgICAgIGFtb3VudCArPSBkaXN0YW5jZSAvIHRleHR1cmVXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHN0cmV0Y2ggdGV4dHVyZVxuICAgICAgICAgICAgICAgIGFtb3VudCA9IGkgLyAodG90YWwgLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHV2c1tpbmRleF0gPSBhbW91bnQ7XG4gICAgICAgICAgICB1dnNbaW5kZXggKyAxXSA9IDA7XG4gICAgICAgICAgICB1dnNbaW5kZXggKyAyXSA9IGFtb3VudDtcbiAgICAgICAgICAgIHV2c1tpbmRleCArIDNdID0gMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXhDb3VudCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWwgLSAxOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiAyO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXg7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleCArIDE7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleCArIDI7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleCArIDI7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleCArIDE7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleCArIDM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlIGNoYW5nZXMgYXJlIHVwbG9hZGVkXG4gICAgICAgIHV2QnVmZmVyLnVwZGF0ZSgpO1xuICAgICAgICBpbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNlcygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcmVmcmVzaGVzIHZlcnRpY2VzIG9mIFJvcGUgbWVzaFxuICAgICAqL1xuICAgIFJvcGVHZW9tZXRyeS5wcm90b3R5cGUudXBkYXRlVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cztcbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhc3RQb2ludCA9IHBvaW50c1swXTtcbiAgICAgICAgdmFyIG5leHRQb2ludDtcbiAgICAgICAgdmFyIHBlcnBYID0gMDtcbiAgICAgICAgdmFyIHBlcnBZID0gMDtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy5idWZmZXJzWzBdLmRhdGE7XG4gICAgICAgIHZhciB0b3RhbCA9IHBvaW50cy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaSAqIDQ7XG4gICAgICAgICAgICBpZiAoaSA8IHBvaW50cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnRzW2kgKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5leHRQb2ludCA9IHBvaW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGVycFkgPSAtKG5leHRQb2ludC54IC0gbGFzdFBvaW50LngpO1xuICAgICAgICAgICAgcGVycFggPSBuZXh0UG9pbnQueSAtIGxhc3RQb2ludC55O1xuICAgICAgICAgICAgdmFyIHBlcnBMZW5ndGggPSBNYXRoLnNxcnQoKHBlcnBYICogcGVycFgpICsgKHBlcnBZICogcGVycFkpKTtcbiAgICAgICAgICAgIHZhciBudW0gPSB0aGlzLnRleHR1cmVTY2FsZSA+IDAgPyB0aGlzLnRleHR1cmVTY2FsZSAqIHRoaXMuX3dpZHRoIC8gMiA6IHRoaXMuX3dpZHRoIC8gMjtcbiAgICAgICAgICAgIHBlcnBYIC89IHBlcnBMZW5ndGg7XG4gICAgICAgICAgICBwZXJwWSAvPSBwZXJwTGVuZ3RoO1xuICAgICAgICAgICAgcGVycFggKj0gbnVtO1xuICAgICAgICAgICAgcGVycFkgKj0gbnVtO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXhdID0gcG9pbnQueCArIHBlcnBYO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAxXSA9IHBvaW50LnkgKyBwZXJwWTtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgMl0gPSBwb2ludC54IC0gcGVycFg7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDNdID0gcG9pbnQueSAtIHBlcnBZO1xuICAgICAgICAgICAgbGFzdFBvaW50ID0gcG9pbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWZmZXJzWzBdLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgUm9wZUdlb21ldHJ5LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRleHR1cmVTY2FsZSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuYnVpbGQoKTsgLy8gd2UgbmVlZCB0byB1cGRhdGUgVVZzXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBSb3BlR2VvbWV0cnk7XG59KE1lc2hHZW9tZXRyeSkpO1xuXG4vKipcbiAqIFRoZSByb3BlIGFsbG93cyB5b3UgdG8gZHJhdyBhIHRleHR1cmUgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVuIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzXG4gKlxuICpgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogbGV0IHJvcGUgPSBuZXcgUElYSS5TaW1wbGVSb3BlKFBJWEkuVGV4dHVyZS5mcm9tKFwic25ha2UucG5nXCIpLCBwb2ludHMpO1xuICogIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoXG4gKiBAbWVtYmVyb2YgUElYSVxuICpcbiAqL1xudmFyIFNpbXBsZVJvcGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNpbXBsZVJvcGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIHJvcGUuXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50W119IHBvaW50cyAtIEFuIGFycmF5IG9mIHtAbGluayBQSVhJLlBvaW50fSBvYmplY3RzIHRvIGNvbnN0cnVjdCB0aGlzIHJvcGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0ZXh0dXJlU2NhbGU9MF0gLSBPcHRpb25hbC4gUG9zaXRpdmUgdmFsdWVzIHNjYWxlIHJvcGUgdGV4dHVyZVxuICAgICAqIGtlZXBpbmcgaXRzIGFzcGVjdCByYXRpby4gWW91IGNhbiByZWR1Y2UgYWxwaGEgY2hhbm5lbCBhcnRpZmFjdHMgYnkgcHJvdmlkaW5nIGEgbGFyZ2VyIHRleHR1cmVcbiAgICAgKiBhbmQgZG93bnNhbXBsaW5nIGhlcmUuIElmIHNldCB0byB6ZXJvLCB0ZXh0dXJlIHdpbGwgYmUgc3RyZWNoZWQgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTaW1wbGVSb3BlKHRleHR1cmUsIHBvaW50cywgdGV4dHVyZVNjYWxlKSB7XG4gICAgICAgIGlmICh0ZXh0dXJlU2NhbGUgPT09IHZvaWQgMCkgeyB0ZXh0dXJlU2NhbGUgPSAwOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciByb3BlR2VvbWV0cnkgPSBuZXcgUm9wZUdlb21ldHJ5KHRleHR1cmUuaGVpZ2h0LCBwb2ludHMsIHRleHR1cmVTY2FsZSk7XG4gICAgICAgIHZhciBtZXNoTWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKHRleHR1cmUpO1xuICAgICAgICBpZiAodGV4dHVyZVNjYWxlID4gMCkge1xuICAgICAgICAgICAgLy8gYXR0ZW1wdCB0byBzZXQgVVYgd3JhcHBpbmcsIHdpbGwgZmFpbCBvbiBub24tcG93ZXIgb2YgdHdvIHRleHR1cmVzXG4gICAgICAgICAgICB0ZXh0dXJlLmJhc2VUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByb3BlR2VvbWV0cnksIG1lc2hNYXRlcmlhbCkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlLWNhbGN1bGF0ZSB2ZXJ0aWNlcyBieSByb3BlIHBvaW50cyBlYWNoIGZyYW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTaW1wbGVSb3BlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIGlmICh0aGlzLmF1dG9VcGRhdGUgfHwgZ2VvbWV0cnkuX3dpZHRoICE9PSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodCkge1xuICAgICAgICAgICAgZ2VvbWV0cnkuX3dpZHRoID0gdGhpcy5zaGFkZXIudGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICBnZW9tZXRyeS51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9yZW5kZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlUm9wZTtcbn0oTWVzaCkpO1xuXG4vKipcbiAqIFRoZSBTaW1wbGVQbGFuZSBhbGxvd3MgeW91IHRvIGRyYXcgYSB0ZXh0dXJlIGFjcm9zcyBzZXZlcmFsIHBvaW50cyBhbmQgdGhlbiBtYW5pcHVsYXRlIHRoZXNlIHBvaW50c1xuICpcbiAqYGBganNcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICogICAgIHBvaW50cy5wdXNoKG5ldyBQSVhJLlBvaW50KGkgKiA1MCwgMCkpO1xuICogfTtcbiAqIGxldCBTaW1wbGVQbGFuZSA9IG5ldyBQSVhJLlNpbXBsZVBsYW5lKFBJWEkuVGV4dHVyZS5mcm9tKFwic25ha2UucG5nXCIpLCBwb2ludHMpO1xuICogIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoXG4gKiBAbWVtYmVyb2YgUElYSVxuICpcbiAqL1xudmFyIFNpbXBsZVBsYW5lID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTaW1wbGVQbGFuZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHVzZSBvbiB0aGUgU2ltcGxlUGxhbmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZlcnRpY2VzWCAtIFRoZSBudW1iZXIgb2YgdmVydGljZXMgaW4gdGhlIHgtYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2ZXJ0aWNlc1kgLSBUaGUgbnVtYmVyIG9mIHZlcnRpY2VzIGluIHRoZSB5LWF4aXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTaW1wbGVQbGFuZSh0ZXh0dXJlLCB2ZXJ0aWNlc1gsIHZlcnRpY2VzWSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcGxhbmVHZW9tZXRyeSA9IG5ldyBQbGFuZUdlb21ldHJ5KHRleHR1cmUud2lkdGgsIHRleHR1cmUuaGVpZ2h0LCB2ZXJ0aWNlc1gsIHZlcnRpY2VzWSk7XG4gICAgICAgIHZhciBtZXNoTWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKFRleHR1cmUuV0hJVEUpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHBsYW5lR2VvbWV0cnksIG1lc2hNYXRlcmlhbCkgfHwgdGhpcztcbiAgICAgICAgLy8gbGV0cyBjYWxsIHRoZSBzZXR0ZXIgdG8gZW5zdXJlIGFsbCBuZWNlc3NhcnkgdXBkYXRlcyBhcmUgcGVyZm9ybWVkXG4gICAgICAgIF90aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB1c2VkIGZvciBvdmVycmlkZXMsIHRvIGRvIHNvbWV0aGluZyBpbiBjYXNlIHRleHR1cmUgZnJhbWUgd2FzIGNoYW5nZWQuXG4gICAgICogTWVzaGVzIGJhc2VkIG9uIHBsYW5lIGNhbiBvdmVycmlkZSBpdCBhbmQgY2hhbmdlIG1vcmUgZGV0YWlscyBiYXNlZCBvbiB0ZXh0dXJlLlxuICAgICAqL1xuICAgIFNpbXBsZVBsYW5lLnByb3RvdHlwZS50ZXh0dXJlVXBkYXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIGdlb21ldHJ5LndpZHRoID0gdGhpcy5zaGFkZXIudGV4dHVyZS53aWR0aDtcbiAgICAgICAgZ2VvbWV0cnkuaGVpZ2h0ID0gdGhpcy5zaGFkZXIudGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgIGdlb21ldHJ5LmJ1aWxkKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2ltcGxlUGxhbmUucHJvdG90eXBlLCBcInRleHR1cmVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNoYWRlci50ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgLy8gVHJhY2sgdGV4dHVyZSBzYW1lIHdheSBzcHJpdGUgZG9lcy5cbiAgICAgICAgICAgIC8vIEZvciBnZW5lcmF0ZWQgbWVzaGVzIGxpa2UgTmluZVNsaWNlUGxhbmUgaXQgY2FuIGNoYW5nZSB0aGUgZ2VvbWV0cnkuXG4gICAgICAgICAgICAvLyBVbmZvcnR1bmF0ZWx5LCB0aGlzIG1ldGhvZCBtaWdodCBub3Qgd29yayBpZiB5b3UgZGlyZWN0bHkgY2hhbmdlIHRleHR1cmUgaW4gbWF0ZXJpYWwuXG4gICAgICAgICAgICBpZiAodGhpcy5zaGFkZXIudGV4dHVyZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNoYWRlci50ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZVVwZGF0ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlLm9uY2UoJ3VwZGF0ZScsIHRoaXMudGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU2ltcGxlUGxhbmUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHR1cmVJRCAhPT0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZVVwZGF0ZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9yZW5kZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcbiAgICBTaW1wbGVQbGFuZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuc2hhZGVyLnRleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLnRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlUGxhbmU7XG59KE1lc2gpKTtcblxuLyoqXG4gKiBUaGUgU2ltcGxlIE1lc2ggY2xhc3MgbWltaWNzIE1lc2ggaW4gUGl4aUpTIHY0LCBwcm92aWRpbmcgZWFzeS10by11c2UgY29uc3RydWN0b3IgYXJndW1lbnRzLlxuICogRm9yIG1vcmUgcm9idXN0IGN1c3RvbWl6YXRpb24sIHVzZSB7QGxpbmsgUElYSS5NZXNofS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuTWVzaFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNpbXBsZU1lc2ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNpbXBsZU1lc2gsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFt0ZXh0dXJlPVRleHR1cmUuRU1QVFldIC0gVGhlIHRleHR1cmUgdG8gdXNlXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFt2ZXJ0aWNlc10gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbdXZzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIHV2c1xuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IFtpbmRpY2VzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIGluZGljZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RyYXdNb2RlXSAtIHRoZSBkcmF3TW9kZSwgY2FuIGJlIGFueSBvZiB0aGUgTWVzaC5EUkFXX01PREVTIGNvbnN0c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNpbXBsZU1lc2godGV4dHVyZSwgdmVydGljZXMsIHV2cywgaW5kaWNlcywgZHJhd01vZGUpIHtcbiAgICAgICAgaWYgKHRleHR1cmUgPT09IHZvaWQgMCkgeyB0ZXh0dXJlID0gVGV4dHVyZS5FTVBUWTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgTWVzaEdlb21ldHJ5KHZlcnRpY2VzLCB1dnMsIGluZGljZXMpO1xuICAgICAgICBnZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLnN0YXRpYyA9IGZhbHNlO1xuICAgICAgICB2YXIgbWVzaE1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbCh0ZXh0dXJlKTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBnZW9tZXRyeSwgbWVzaE1hdGVyaWFsLCBudWxsLCBkcmF3TW9kZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVwbG9hZCB2ZXJ0aWNlcyBidWZmZXIgZWFjaCBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNpbXBsZU1lc2gucHJvdG90eXBlLCBcInZlcnRpY2VzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgdmVydGljZXMgZGF0YS5cbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU2ltcGxlTWVzaC5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fcmVuZGVyLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbXBsZU1lc2g7XG59KE1lc2gpKTtcblxudmFyIERFRkFVTFRfQk9SREVSX1NJWkUgPSAxMDtcbi8qKlxuICogVGhlIE5pbmVTbGljZVBsYW5lIGFsbG93cyB5b3UgdG8gc3RyZXRjaCBhIHRleHR1cmUgdXNpbmcgOS1zbGljZSBzY2FsaW5nLiBUaGUgY29ybmVycyB3aWxsIHJlbWFpbiB1bnNjYWxlZCAodXNlZnVsXG4gKiBmb3IgYnV0dG9ucyB3aXRoIHJvdW5kZWQgY29ybmVycyBmb3IgZXhhbXBsZSkgYW5kIHRoZSBvdGhlciBhcmVhcyB3aWxsIGJlIHNjYWxlZCBob3Jpem9udGFsbHkgYW5kIG9yIHZlcnRpY2FsbHlcbiAqXG4gKmBgYGpzXG4gKiBsZXQgUGxhbmU5ID0gbmV3IFBJWEkuTmluZVNsaWNlUGxhbmUoUElYSS5UZXh0dXJlLmZyb20oJ0JveFdpdGhSb3VuZGVkQ29ybmVycy5wbmcnKSwgMTUsIDE1LCAxNSwgMTUpO1xuICogIGBgYFxuICogPHByZT5cbiAqICAgICAgQSAgICAgICAgICAgICAgICAgICAgICAgICAgQlxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICBDIHwgMSB8ICAgICAgICAgIDIgICAgICAgICAgIHwgMyB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogICAgfCAgIHwgICAgICAgICAgICAgICAgICAgICAgfCAgIHxcbiAqICAgIHwgNCB8ICAgICAgICAgIDUgICAgICAgICAgIHwgNiB8XG4gKiAgICB8ICAgfCAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICBEIHwgNyB8ICAgICAgICAgIDggICAgICAgICAgIHwgOSB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuXG4gKiAgV2hlbiBjaGFuZ2luZyB0aGlzIG9iamVjdHMgd2lkdGggYW5kL29yIGhlaWdodDpcbiAqICAgICBhcmVhcyAxIDMgNyBhbmQgOSB3aWxsIHJlbWFpbiB1bnNjYWxlZC5cbiAqICAgICBhcmVhcyAyIGFuZCA4IHdpbGwgYmUgc3RyZXRjaGVkIGhvcml6b250YWxseVxuICogICAgIGFyZWFzIDQgYW5kIDYgd2lsbCBiZSBzdHJldGNoZWQgdmVydGljYWxseVxuICogICAgIGFyZWEgNSB3aWxsIGJlIHN0cmV0Y2hlZCBib3RoIGhvcml6b250YWxseSBhbmQgdmVydGljYWxseVxuICogPC9wcmU+XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNpbXBsZVBsYW5lXG4gKiBAbWVtYmVyb2YgUElYSVxuICpcbiAqL1xudmFyIE5pbmVTbGljZVBsYW5lID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOaW5lU2xpY2VQbGFuZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHVzZSBvbiB0aGUgTmluZVNsaWNlUGxhbmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZWZ0V2lkdGg9MTBdIC0gc2l6ZSBvZiB0aGUgbGVmdCB2ZXJ0aWNhbCBiYXIgKEEpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0b3BIZWlnaHQ9MTBdIC0gc2l6ZSBvZiB0aGUgdG9wIGhvcml6b250YWwgYmFyIChDKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmlnaHRXaWR0aD0xMF0gLSBzaXplIG9mIHRoZSByaWdodCB2ZXJ0aWNhbCBiYXIgKEIpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtib3R0b21IZWlnaHQ9MTBdIC0gc2l6ZSBvZiB0aGUgYm90dG9tIGhvcml6b250YWwgYmFyIChEKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE5pbmVTbGljZVBsYW5lKHRleHR1cmUsIGxlZnRXaWR0aCwgdG9wSGVpZ2h0LCByaWdodFdpZHRoLCBib3R0b21IZWlnaHQpIHtcbiAgICAgICAgaWYgKGxlZnRXaWR0aCA9PT0gdm9pZCAwKSB7IGxlZnRXaWR0aCA9IERFRkFVTFRfQk9SREVSX1NJWkU7IH1cbiAgICAgICAgaWYgKHRvcEhlaWdodCA9PT0gdm9pZCAwKSB7IHRvcEhlaWdodCA9IERFRkFVTFRfQk9SREVSX1NJWkU7IH1cbiAgICAgICAgaWYgKHJpZ2h0V2lkdGggPT09IHZvaWQgMCkgeyByaWdodFdpZHRoID0gREVGQVVMVF9CT1JERVJfU0laRTsgfVxuICAgICAgICBpZiAoYm90dG9tSGVpZ2h0ID09PSB2b2lkIDApIHsgYm90dG9tSGVpZ2h0ID0gREVGQVVMVF9CT1JERVJfU0laRTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBUZXh0dXJlLldISVRFLCA0LCA0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fb3JpZ1dpZHRoID0gdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICBfdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IF90aGlzLl9vcmlnV2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faGVpZ2h0ID0gX3RoaXMuX29yaWdIZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGxlZnQgY29sdW1uIChhKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbGVmdFdpZHRoID0gbGVmdFdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSByaWdodCBjb2x1bW4gKGIpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9yaWdodFdpZHRoID0gcmlnaHRXaWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3cgKGMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90b3BIZWlnaHQgPSB0b3BIZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93IChkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYm90dG9tSGVpZ2h0ID0gYm90dG9tSGVpZ2h0O1xuICAgICAgICAvLyBsZXRzIGNhbGwgdGhlIHNldHRlciB0byBlbnN1cmUgYWxsIG5lY2Vzc2FyeSB1cGRhdGVzIGFyZSBwZXJmb3JtZWRcbiAgICAgICAgX3RoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLnRleHR1cmVVcGRhdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLl91cGRhdGVJRDtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJ2ZXJ0aWNlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGhvcml6b250YWwgdmVydGljZXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUudXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl9nZXRNaW5TY2FsZSgpO1xuICAgICAgICB2ZXJ0aWNlc1s5XSA9IHZlcnRpY2VzWzExXSA9IHZlcnRpY2VzWzEzXSA9IHZlcnRpY2VzWzE1XSA9IHRoaXMuX3RvcEhlaWdodCAqIHNjYWxlO1xuICAgICAgICB2ZXJ0aWNlc1sxN10gPSB2ZXJ0aWNlc1sxOV0gPSB2ZXJ0aWNlc1syMV0gPSB2ZXJ0aWNlc1syM10gPSB0aGlzLl9oZWlnaHQgLSAodGhpcy5fYm90dG9tSGVpZ2h0ICogc2NhbGUpO1xuICAgICAgICB2ZXJ0aWNlc1syNV0gPSB2ZXJ0aWNlc1syN10gPSB2ZXJ0aWNlc1syOV0gPSB2ZXJ0aWNlc1szMV0gPSB0aGlzLl9oZWlnaHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB2ZXJ0aWNhbCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqL1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS51cGRhdGVWZXJ0aWNhbFZlcnRpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl9nZXRNaW5TY2FsZSgpO1xuICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzEwXSA9IHZlcnRpY2VzWzE4XSA9IHZlcnRpY2VzWzI2XSA9IHRoaXMuX2xlZnRXaWR0aCAqIHNjYWxlO1xuICAgICAgICB2ZXJ0aWNlc1s0XSA9IHZlcnRpY2VzWzEyXSA9IHZlcnRpY2VzWzIwXSA9IHZlcnRpY2VzWzI4XSA9IHRoaXMuX3dpZHRoIC0gKHRoaXMuX3JpZ2h0V2lkdGggKiBzY2FsZSk7XG4gICAgICAgIHZlcnRpY2VzWzZdID0gdmVydGljZXNbMTRdID0gdmVydGljZXNbMjJdID0gdmVydGljZXNbMzBdID0gdGhpcy5fd2lkdGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzbWFsbGVyIG9mIGEgc2V0IG9mIHZlcnRpY2FsIGFuZCBob3Jpem9udGFsIHNjYWxlIG9mIG5pbmUgc2xpY2UgY29ybmVycy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gU21hbGxlciBudW1iZXIgb2YgdmVydGljYWwgYW5kIGhvcml6b250YWwgc2NhbGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUuX2dldE1pblNjYWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdyA9IHRoaXMuX2xlZnRXaWR0aCArIHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgICAgIHZhciBzY2FsZVcgPSB0aGlzLl93aWR0aCA+IHcgPyAxLjAgOiB0aGlzLl93aWR0aCAvIHc7XG4gICAgICAgIHZhciBoID0gdGhpcy5fdG9wSGVpZ2h0ICsgdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgICAgICB2YXIgc2NhbGVIID0gdGhpcy5faGVpZ2h0ID4gaCA/IDEuMCA6IHRoaXMuX2hlaWdodCAvIGg7XG4gICAgICAgIHZhciBzY2FsZSA9IE1hdGgubWluKHNjYWxlVywgc2NhbGVIKTtcbiAgICAgICAgcmV0dXJuIHNjYWxlO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwibGVmdFdpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgbGVmdCBjb2x1bW5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGVmdFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbGVmdFdpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcInJpZ2h0V2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSByaWdodCBjb2x1bW5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmlnaHRXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JpZ2h0V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwidG9wSGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdG9wSGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcImJvdHRvbUhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2JvdHRvbUhlaWdodCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIE5pbmVTbGljZVBsYW5lIGNvb3Jkcy4gQWxsIG9mIHRoZW0uXG4gICAgICovXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLl9yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMudGV4dHVyZTtcbiAgICAgICAgdmFyIHV2cyA9IHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXS5kYXRhO1xuICAgICAgICB0aGlzLl9vcmlnV2lkdGggPSB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIHRoaXMuX29yaWdIZWlnaHQgPSB0ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB2YXIgX3V2dyA9IDEuMCAvIHRoaXMuX29yaWdXaWR0aDtcbiAgICAgICAgdmFyIF91dmggPSAxLjAgLyB0aGlzLl9vcmlnSGVpZ2h0O1xuICAgICAgICB1dnNbMF0gPSB1dnNbOF0gPSB1dnNbMTZdID0gdXZzWzI0XSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IHV2c1szXSA9IHV2c1s1XSA9IHV2c1s3XSA9IDA7XG4gICAgICAgIHV2c1s2XSA9IHV2c1sxNF0gPSB1dnNbMjJdID0gdXZzWzMwXSA9IDE7XG4gICAgICAgIHV2c1syNV0gPSB1dnNbMjddID0gdXZzWzI5XSA9IHV2c1szMV0gPSAxO1xuICAgICAgICB1dnNbMl0gPSB1dnNbMTBdID0gdXZzWzE4XSA9IHV2c1syNl0gPSBfdXZ3ICogdGhpcy5fbGVmdFdpZHRoO1xuICAgICAgICB1dnNbNF0gPSB1dnNbMTJdID0gdXZzWzIwXSA9IHV2c1syOF0gPSAxIC0gKF91dncgKiB0aGlzLl9yaWdodFdpZHRoKTtcbiAgICAgICAgdXZzWzldID0gdXZzWzExXSA9IHV2c1sxM10gPSB1dnNbMTVdID0gX3V2aCAqIHRoaXMuX3RvcEhlaWdodDtcbiAgICAgICAgdXZzWzE3XSA9IHV2c1sxOV0gPSB1dnNbMjFdID0gdXZzWzIzXSA9IDEgLSAoX3V2aCAqIHRoaXMuX2JvdHRvbUhlaWdodCk7XG4gICAgICAgIHRoaXMudXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlVmVydGljYWxWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXS51cGRhdGUoKTtcbiAgICB9O1xuICAgIHJldHVybiBOaW5lU2xpY2VQbGFuZTtcbn0oU2ltcGxlUGxhbmUpKTtcblxuZXhwb3J0IHsgTmluZVNsaWNlUGxhbmUsIFBsYW5lR2VvbWV0cnksIFJvcGVHZW9tZXRyeSwgU2ltcGxlTWVzaCwgU2ltcGxlUGxhbmUsIFNpbXBsZVJvcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc2gtZXh0cmFzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9zcHJpdGUtYW5pbWF0ZWQgLSB2NS4zLjdcbiAqIENvbXBpbGVkIFR1ZSwgMjkgRGVjIDIwMjAgMTk6MzA6MTEgVVRDXG4gKlxuICogQHBpeGkvc3ByaXRlLWFuaW1hdGVkIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IFRpY2tlciwgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogQW4gQW5pbWF0ZWRTcHJpdGUgaXMgYSBzaW1wbGUgd2F5IHRvIGRpc3BsYXkgYW4gYW5pbWF0aW9uIGRlcGljdGVkIGJ5IGEgbGlzdCBvZiB0ZXh0dXJlcy5cbiAqXG4gKiBgYGBqc1xuICogbGV0IGFsaWVuSW1hZ2VzID0gW1wiaW1hZ2Vfc2VxdWVuY2VfMDEucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wMi5wbmdcIixcImltYWdlX3NlcXVlbmNlXzAzLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDQucG5nXCJdO1xuICogbGV0IHRleHR1cmVBcnJheSA9IFtdO1xuICpcbiAqIGZvciAobGV0IGk9MDsgaSA8IDQ7IGkrKylcbiAqIHtcbiAqICAgICAgbGV0IHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbShhbGllbkltYWdlc1tpXSk7XG4gKiAgICAgIHRleHR1cmVBcnJheS5wdXNoKHRleHR1cmUpO1xuICogfTtcbiAqXG4gKiBsZXQgYW5pbWF0ZWRTcHJpdGUgPSBuZXcgUElYSS5BbmltYXRlZFNwcml0ZSh0ZXh0dXJlQXJyYXkpO1xuICogYGBgXG4gKlxuICogVGhlIG1vcmUgZWZmaWNpZW50IGFuZCBzaW1wbGVyIHdheSB0byBjcmVhdGUgYW4gYW5pbWF0ZWQgc3ByaXRlIGlzIHVzaW5nIGEge0BsaW5rIFBJWEkuU3ByaXRlc2hlZXR9XG4gKiBjb250YWluaW5nIHRoZSBhbmltYXRpb24gZGVmaW5pdGlvbnM6XG4gKlxuICogYGBganNcbiAqIFBJWEkuTG9hZGVyLnNoYXJlZC5hZGQoXCJhc3NldHMvc3ByaXRlc2hlZXQuanNvblwiKS5sb2FkKHNldHVwKTtcbiAqXG4gKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAqICAgbGV0IHNoZWV0ID0gUElYSS5Mb2FkZXIuc2hhcmVkLnJlc291cmNlc1tcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCJdLnNwcml0ZXNoZWV0O1xuICogICBhbmltYXRlZFNwcml0ZSA9IG5ldyBQSVhJLkFuaW1hdGVkU3ByaXRlKHNoZWV0LmFuaW1hdGlvbnNbXCJpbWFnZV9zZXF1ZW5jZVwiXSk7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFuaW1hdGVkU3ByaXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBbmltYXRlZFNwcml0ZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZVtdfFBJWEkuQW5pbWF0ZWRTcHJpdGUuRnJhbWVPYmplY3RbXX0gdGV4dHVyZXMgLSBBbiBhcnJheSBvZiB7QGxpbmsgUElYSS5UZXh0dXJlfSBvciBmcmFtZVxuICAgICAqICBvYmplY3RzIHRoYXQgbWFrZSB1cCB0aGUgYW5pbWF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2F1dG9VcGRhdGU9dHJ1ZV0gLSBXaGV0aGVyIHRvIHVzZSBQSVhJLlRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgYW5pbWF0aW9uIHRpbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMsIGF1dG9VcGRhdGUpIHtcbiAgICAgICAgaWYgKGF1dG9VcGRhdGUgPT09IHZvaWQgMCkgeyBhdXRvVXBkYXRlID0gdHJ1ZTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0ZXh0dXJlc1swXSBpbnN0YW5jZW9mIFRleHR1cmUgPyB0ZXh0dXJlc1swXSA6IHRleHR1cmVzWzBdLnRleHR1cmUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UZXh0dXJlW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dHVyZXMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2R1cmF0aW9ucyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgdXNlcyBQSVhJLlRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgYW5pbWF0aW9uIHRpbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYXV0b1VwZGF0ZSA9IGF1dG9VcGRhdGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgdGhlIGluc3RhbmNlIGlzIGN1cnJlbnRseSBjb25uZWN0ZWQgdG8gUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3BlZWQgdGhhdCB0aGUgQW5pbWF0ZWRTcHJpdGUgd2lsbCBwbGF5IGF0LiBIaWdoZXIgaXMgZmFzdGVyLCBsb3dlciBpcyBzbG93ZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5pbWF0aW9uU3BlZWQgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhlIGFuaW1hdGUgc3ByaXRlIHJlcGVhdHMgYWZ0ZXIgcGxheWluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubG9vcCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgYW5jaG9yIHRvIFtUZXh0dXJlJ3MgZGVmYXVsdEFuY2hvcl17QGxpbmsgUElYSS5UZXh0dXJlI2RlZmF1bHRBbmNob3J9IHdoZW4gZnJhbWUgY2hhbmdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVXNlZnVsIHdpdGggW3Nwcml0ZSBzaGVldCBhbmltYXRpb25zXXtAbGluayBQSVhJLlNwcml0ZXNoZWV0I2FuaW1hdGlvbnN9IGNyZWF0ZWQgd2l0aCB0b29scy5cbiAgICAgICAgICogQ2hhbmdpbmcgYW5jaG9yIGZvciBlYWNoIGZyYW1lIGFsbG93cyB0byBwaW4gc3ByaXRlIG9yaWdpbiB0byBjZXJ0YWluIG1vdmluZyBmZWF0dXJlXG4gICAgICAgICAqIG9mIHRoZSBmcmFtZSAoZS5nLiBsZWZ0IGZvb3QpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlOiBFbmFibGluZyB0aGlzIHdpbGwgb3ZlcnJpZGUgYW55IHByZXZpb3VzbHkgc2V0IGBhbmNob3JgIG9uIGVhY2ggZnJhbWUgY2hhbmdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXBkYXRlQW5jaG9yID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VyLWFzc2lnbmVkIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhbiBBbmltYXRlZFNwcml0ZSBmaW5pc2hlcyBwbGF5aW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBhbmltYXRpb24ub25Db21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICogICAvLyBmaW5pc2hlZCFcbiAgICAgICAgICogfTtcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbkNvbXBsZXRlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZXItYXNzaWduZWQgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGFuIEFuaW1hdGVkU3ByaXRlIGNoYW5nZXMgd2hpY2ggdGV4dHVyZSBpcyBiZWluZyByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogYW5pbWF0aW9uLm9uRnJhbWVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgLy8gdXBkYXRlZCFcbiAgICAgICAgICogfTtcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbkZyYW1lQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZXItYXNzaWduZWQgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGBsb29wYCBpcyB0cnVlLCBhbmQgYW4gQW5pbWF0ZWRTcHJpdGUgaXMgcGxheWVkIGFuZFxuICAgICAgICAgKiBsb29wcyBhcm91bmQgdG8gc3RhcnQgYWdhaW4uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGFuaW1hdGlvbi5vbkxvb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgLy8gbG9vcGVkIVxuICAgICAgICAgKiB9O1xuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uTG9vcCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbGFwc2VkIHRpbWUgc2luY2UgYW5pbWF0aW9uIGhhcyBiZWVuIHN0YXJ0ZWQsIHVzZWQgaW50ZXJuYWxseSB0byBkaXNwbGF5IGN1cnJlbnQgdGV4dHVyZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2N1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgX3RoaXMuX3BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIGluZGV4IHRoYXQgd2FzIGRpc3BsYXllZCBsYXN0IHRpbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3ByZXZpb3VzRnJhbWUgPSBudWxsO1xuICAgICAgICBfdGhpcy50ZXh0dXJlcyA9IHRleHR1cmVzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3BsYXlpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUGxheXMgdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9wbGF5aW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcGxheWluZyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmICF0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLkhJR0gpO1xuICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZSBhbmQgZ29lcyB0byBhIHNwZWNpZmljIGZyYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lTnVtYmVyIC0gRnJhbWUgaW5kZXggdG8gc3RvcCBhdC5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuZ290b0FuZFN0b3AgPSBmdW5jdGlvbiAoZnJhbWVOdW1iZXIpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gZnJhbWVOdW1iZXI7XG4gICAgICAgIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdvZXMgdG8gYSBzcGVjaWZpYyBmcmFtZSBhbmQgYmVnaW5zIHBsYXlpbmcgdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lTnVtYmVyIC0gRnJhbWUgaW5kZXggdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmdvdG9BbmRQbGF5ID0gZnVuY3Rpb24gKGZyYW1lTnVtYmVyKSB7XG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gZnJhbWVOdW1iZXI7XG4gICAgICAgIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gVGltZSBzaW5jZSBsYXN0IHRpY2suXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkZWx0YVRpbWUpIHtcbiAgICAgICAgdmFyIGVsYXBzZWQgPSB0aGlzLmFuaW1hdGlvblNwZWVkICogZGVsdGFUaW1lO1xuICAgICAgICB2YXIgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuICAgICAgICBpZiAodGhpcy5fZHVyYXRpb25zICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbGFnID0gdGhpcy5fY3VycmVudFRpbWUgJSAxICogdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgICAgIGxhZyArPSBlbGFwc2VkIC8gNjAgKiAxMDAwO1xuICAgICAgICAgICAgd2hpbGUgKGxhZyA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZS0tO1xuICAgICAgICAgICAgICAgIGxhZyArPSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNpZ24gPSBNYXRoLnNpZ24odGhpcy5hbmltYXRpb25TcGVlZCAqIGRlbHRhVGltZSk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IE1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgd2hpbGUgKGxhZyA+PSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdKSB7XG4gICAgICAgICAgICAgICAgbGFnIC09IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV0gKiBzaWduO1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IHNpZ247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBsYWcgLyB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gZWxhcHNlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fY3VycmVudFRpbWUgPCAwICYmICF0aGlzLmxvb3ApIHtcbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AoMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fY3VycmVudFRpbWUgPj0gdGhpcy5fdGV4dHVyZXMubGVuZ3RoICYmICF0aGlzLmxvb3ApIHtcbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AodGhpcy5fdGV4dHVyZXMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvb3AgJiYgdGhpcy5vbkxvb3ApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TcGVlZCA+IDAgJiYgdGhpcy5jdXJyZW50RnJhbWUgPCBwcmV2aW91c0ZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb29wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPCAwICYmIHRoaXMuY3VycmVudEZyYW1lID4gcHJldmlvdXNGcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9vcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBkaXNwbGF5ZWQgdGV4dHVyZSB0byBtYXRjaCB0aGUgY3VycmVudCBmcmFtZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnVwZGF0ZVRleHR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjdXJyZW50RnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcbiAgICAgICAgaWYgKHRoaXMuX3ByZXZpb3VzRnJhbWUgPT09IGN1cnJlbnRGcmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzRnJhbWUgPSBjdXJyZW50RnJhbWU7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0aGlzLl90ZXh0dXJlc1tjdXJyZW50RnJhbWVdO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgICAgIHRoaXMudXZzID0gdGhpcy5fdGV4dHVyZS5fdXZzLnV2c0Zsb2F0MzI7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZUFuY2hvcikge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHlGcm9tKHRoaXMuX3RleHR1cmUuZGVmYXVsdEFuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub25GcmFtZUNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5vbkZyYW1lQ2hhbmdlKHRoaXMuY3VycmVudEZyYW1lKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlIGFuZCBkZXN0cm95cyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gSWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsLlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBudWxsO1xuICAgICAgICB0aGlzLm9uRnJhbWVDaGFuZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLm9uTG9vcCA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgd2F5IG9mIGNyZWF0aW5nIGFuIEFuaW1hdGVkU3ByaXRlIGZyb20gYW4gYXJyYXkgb2YgZnJhbWUgaWRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGZyYW1lcyAtIFRoZSBhcnJheSBvZiBmcmFtZXMgaWRzIHRoZSBBbmltYXRlZFNwcml0ZSB3aWxsIHVzZSBhcyBpdHMgdGV4dHVyZSBmcmFtZXMuXG4gICAgICogQHJldHVybiB7UElYSS5BbmltYXRlZFNwcml0ZX0gVGhlIG5ldyBhbmltYXRlZCBzcHJpdGUgd2l0aCB0aGUgc3BlY2lmaWVkIGZyYW1lcy5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5mcm9tRnJhbWVzID0gZnVuY3Rpb24gKGZyYW1lcykge1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2goVGV4dHVyZS5mcm9tKGZyYW1lc1tpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhbiBBbmltYXRlZFNwcml0ZSBmcm9tIGFuIGFycmF5IG9mIGltYWdlIGlkcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBpbWFnZXMgLSBUaGUgYXJyYXkgb2YgaW1hZ2UgdXJscyB0aGUgQW5pbWF0ZWRTcHJpdGUgd2lsbCB1c2UgYXMgaXRzIHRleHR1cmUgZnJhbWVzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQW5pbWF0ZWRTcHJpdGV9IFRoZSBuZXcgYW5pbWF0ZSBzcHJpdGUgd2l0aCB0aGUgc3BlY2lmaWVkIGltYWdlcyBhcyBmcmFtZXMuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUuZnJvbUltYWdlcyA9IGZ1bmN0aW9uIChpbWFnZXMpIHtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKFRleHR1cmUuZnJvbShpbWFnZXNbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUsIFwidG90YWxGcmFtZXNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRvdGFsIG51bWJlciBvZiBmcmFtZXMgaW4gdGhlIEFuaW1hdGVkU3ByaXRlLiBUaGlzIGlzIHRoZSBzYW1lIGFzIG51bWJlciBvZiB0ZXh0dXJlc1xuICAgICAgICAgKiBhc3NpZ25lZCB0byB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUsIFwidGV4dHVyZXNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIHRleHR1cmVzIHVzZWQgZm9yIHRoaXMgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVbMF0gaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmVzLnB1c2godmFsdWVbaV0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucy5wdXNoKHZhbHVlW2ldLnRpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzRnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCgwKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZSwgXCJjdXJyZW50RnJhbWVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgKiBUaGUgQW5pbWF0ZWRTcHJpdGVzIGN1cnJlbnQgZnJhbWUgaW5kZXguXG4gICAgICAgICpcbiAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRGcmFtZSA9IE1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpICUgdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRGcmFtZSA8IDApIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50RnJhbWUgKz0gdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRGcmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUsIFwicGxheWluZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIEFuaW1hdGVkU3ByaXRlIGlzIGN1cnJlbnRseSBwbGF5aW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BsYXlpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLCBcImF1dG9VcGRhdGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0byB1c2UgUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdXRvVXBkYXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXV0b1VwZGF0ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fYXV0b1VwZGF0ZSAmJiB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmICF0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyICYmIHRoaXMuX3BsYXlpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQW5pbWF0ZWRTcHJpdGU7XG59KFNwcml0ZSkpO1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5BbmltYXRlZFNwcml0ZVxuICogQHR5cGVkZWYge29iamVjdH0gRnJhbWVPYmplY3RcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB7QGxpbmsgUElYSS5UZXh0dXJlfSBvZiB0aGUgZnJhbWVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lIC0gdGhlIGR1cmF0aW9uIG9mIHRoZSBmcmFtZSBpbiBtc1xuICovXG5cbmV4cG9ydCB7IEFuaW1hdGVkU3ByaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGUtYW5pbWF0ZWQuZXMuanMubWFwXG4iLCIvKiFcbiAqIHBpeGkuanMgLSB2NS4zLjdcbiAqIENvbXBpbGVkIFR1ZSwgMjkgRGVjIDIwMjAgMTk6MzA6MTEgVVRDXG4gKlxuICogcGl4aS5qcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCAnQHBpeGkvcG9seWZpbGwnO1xuaW1wb3J0IHsgZGVwcmVjYXRpb24gfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICdAcGl4aS91dGlscyc7XG5leHBvcnQgeyB1dGlscyB9O1xuaW1wb3J0IHsgQWNjZXNzaWJpbGl0eU1hbmFnZXIgfSBmcm9tICdAcGl4aS9hY2Nlc3NpYmlsaXR5JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2FjY2Vzc2liaWxpdHknO1xuaW1wb3J0IHsgSW50ZXJhY3Rpb25NYW5hZ2VyIH0gZnJvbSAnQHBpeGkvaW50ZXJhY3Rpb24nO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvaW50ZXJhY3Rpb24nO1xuaW1wb3J0IHsgQXBwbGljYXRpb24gfSBmcm9tICdAcGl4aS9hcHAnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvYXBwJztcbmltcG9ydCB7IFJlbmRlcmVyLCBCYXRjaFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEV4dHJhY3QgfSBmcm9tICdAcGl4aS9leHRyYWN0JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2V4dHJhY3QnO1xuaW1wb3J0IHsgTG9hZGVyLCBBcHBMb2FkZXJQbHVnaW4gfSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuaW1wb3J0IHsgUGFydGljbGVSZW5kZXJlciB9IGZyb20gJ0BwaXhpL3BhcnRpY2xlcyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9wYXJ0aWNsZXMnO1xuaW1wb3J0IHsgUHJlcGFyZSB9IGZyb20gJ0BwaXhpL3ByZXBhcmUnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvcHJlcGFyZSc7XG5pbXBvcnQgeyBTcHJpdGVzaGVldExvYWRlciB9IGZyb20gJ0BwaXhpL3Nwcml0ZXNoZWV0JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZXNoZWV0JztcbmltcG9ydCB7IFRpbGluZ1Nwcml0ZVJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvc3ByaXRlLXRpbGluZyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGUtdGlsaW5nJztcbmltcG9ydCB7IEJpdG1hcEZvbnRMb2FkZXIgfSBmcm9tICdAcGl4aS90ZXh0LWJpdG1hcCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90ZXh0LWJpdG1hcCc7XG5pbXBvcnQgeyBUaWNrZXJQbHVnaW4gfSBmcm9tICdAcGl4aS90aWNrZXInO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IEFscGhhRmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWFscGhhJztcbmltcG9ydCB7IEJsdXJGaWx0ZXIsIEJsdXJGaWx0ZXJQYXNzIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWJsdXInO1xuaW1wb3J0IHsgQ29sb3JNYXRyaXhGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItY29sb3ItbWF0cml4JztcbmltcG9ydCB7IERpc3BsYWNlbWVudEZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQnO1xuaW1wb3J0IHsgRlhBQUZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1meGFhJztcbmltcG9ydCB7IE5vaXNlRmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLW5vaXNlJztcbmltcG9ydCAnQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwJztcbmltcG9ydCAnQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2dyYXBoaWNzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL21hdGgnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbWVzaCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tZXNoLWV4dHJhcyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9ydW5uZXInO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZS1hbmltYXRlZCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90ZXh0JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciB2NSA9ICc1LjAuMCc7XG4vKipcbiAqIERlcHJlY2F0aW9ucyAoYmFja3dhcmQgY29tcGF0aWJpbGl0aWVzKSBhcmUgYXV0b21hdGljYWxseSBhcHBsaWVkIGZvciBicm93c2VyIGJ1bmRsZXNcbiAqIGluIHRoZSBVTUQgbW9kdWxlIGZvcm1hdC4gSWYgdXNpbmcgV2VicGFjayBvciBSb2xsdXAsIHlvdSdsbCBuZWVkIHRvIGFwcGx5IHRoZXNlXG4gKiBkZXByZWNhdGlvbnMgbWFudWFsbHkgYnkgZG9pbmcgc29tZXRoaW5nIGxpa2UgdGhpczpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xuICogUElYSS51c2VEZXByZWNhdGVkKCk7IC8vIE1VU1QgYmUgYm91bmQgdG8gbmFtZXNwYWNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIHVzZURlcHJlY2F0ZWRcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmZ1bmN0aW9uIHVzZURlcHJlY2F0ZWQoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgdmFyIFBJWEkgPSB0aGlzO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEksIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjb25zdGFudCB7UmVnRXhwfHN0cmluZ30gU1ZHX1NJWkVcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZS5TVkdfU0laRVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgU1ZHX1NJWkU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5TVkdfU0laRSBwcm9wZXJ0eSBoYXMgbW92ZWQgdG8gUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuU1ZHX1NJWkUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TVkdSZXNvdXJjZS5TVkdfU0laRTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5UcmFuc2Zvcm1TdGF0aWNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRyYW5zZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgVHJhbnNmb3JtU3RhdGljOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuVHJhbnNmb3JtU3RhdGljIGNsYXNzIGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLlRyYW5zZm9ybScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRyYW5zZm9ybTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5UcmFuc2Zvcm1CYXNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UcmFuc2Zvcm1cbiAgICAgICAgICovXG4gICAgICAgIFRyYW5zZm9ybUJhc2U6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5UcmFuc2Zvcm1CYXNlIGNsYXNzIGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLlRyYW5zZm9ybScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRyYW5zZm9ybTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25zdGFudHMgdGhhdCBzcGVjaWZ5IHRoZSB0cmFuc2Zvcm0gdHlwZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgVFJBTlNGT1JNX01PREVcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQGVudW0ge251bWJlcn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IFNUQVRJQ1xuICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gRFlOQU1JQ1xuICAgICAgICAgKi9cbiAgICAgICAgVFJBTlNGT1JNX01PREU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5UUkFOU0ZPUk1fTU9ERSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgU1RBVElDOiAwLCBEWU5BTUlDOiAxIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuV2ViR0xSZW5kZXJlclxuICAgICAgICAgKiBAc2VlIFBJWEkuUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFdlYkdMUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5XZWJHTFJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlJlbmRlcmVyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuQ2FudmFzUmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBzZWUgUElYSS51dGlscy5DYW52YXNSZW5kZXJUYXJnZXRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIENhbnZhc1JlbmRlclRhcmdldDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkNhbnZhc1JlbmRlclRhcmdldCBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS51dGlscy5DYW52YXNSZW5kZXJUYXJnZXQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS51dGlscy5DYW52YXNSZW5kZXJUYXJnZXQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQG5hbWUgbG9hZGVyXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkxvYWRlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLkxvYWRlci5zaGFyZWRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGxvYWRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlciBpbnN0YW5jZSBoYXMgbW92ZWQgdG8gUElYSS5Mb2FkZXIuc2hhcmVkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTG9hZGVyLnNoYXJlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5GaWx0ZXJNYW5hZ2VyXG4gICAgICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgRmlsdGVyTWFuYWdlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkZpbHRlck1hbmFnZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZXNwYWNlIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICAgICAqIEBzZWUgUElYSS5jYW52YXNVdGlsc1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgQ2FudmFzVGludGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5DYW52YXNUaW50ZXIgbmFtZXNwYWNlIGhhcyBtb3ZlZCB0byBQSVhJLmNhbnZhc1V0aWxzJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuY2FudmFzVXRpbHM7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWVzcGFjZSBQSVhJLkdyb3VwRDhcbiAgICAgICAgICogQHNlZSBQSVhJLmdyb3VwRDhcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjBcbiAgICAgICAgICovXG4gICAgICAgIEdyb3VwRDg6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLkdyb3VwRDggbmFtZXNwYWNlIGhhcyBtb3ZlZCB0byBQSVhJLmdyb3VwRDgnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5ncm91cEQ4O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkuYWNjZXNzaWJpbGl0eVxuICAgICAqIEBzZWUgUElYSVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICovXG4gICAgUElYSS5hY2Nlc3NpYmlsaXR5ID0ge307XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5hY2Nlc3NpYmlsaXR5LCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5hY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICAgICAqIEBzZWUgUElYSS5BY2Nlc3NpYmlsaXR5TWFuYWdlclxuICAgICAgICAgKi9cbiAgICAgICAgQWNjZXNzaWJpbGl0eU1hbmFnZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLmFjY2Vzc2liaWxpdHkuQWNjZXNzaWJpbGl0eU1hbmFnZXIgbW92ZWQgdG8gUElYSS5BY2Nlc3NpYmlsaXR5TWFuYWdlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkFjY2Vzc2liaWxpdHlNYW5hZ2VyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkuaW50ZXJhY3Rpb25cbiAgICAgKiBAc2VlIFBJWElcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAqL1xuICAgIFBJWEkuaW50ZXJhY3Rpb24gPSB7fTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLmludGVyYWN0aW9uLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgICAgICogQHNlZSBQSVhJLkludGVyYWN0aW9uTWFuYWdlclxuICAgICAgICAgKi9cbiAgICAgICAgSW50ZXJhY3Rpb25NYW5hZ2VyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIgbW92ZWQgdG8gUElYSS5JbnRlcmFjdGlvbk1hbmFnZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5JbnRlcmFjdGlvbk1hbmFnZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICAgICAqIEBzZWUgUElYSS5JbnRlcmFjdGlvbkRhdGFcbiAgICAgICAgICovXG4gICAgICAgIEludGVyYWN0aW9uRGF0YToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhIG1vdmVkIHRvIFBJWEkuSW50ZXJhY3Rpb25EYXRhJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuSW50ZXJhY3Rpb25EYXRhO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgICAgICogQHNlZSBQSVhJLkludGVyYWN0aW9uRXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIEludGVyYWN0aW9uRXZlbnQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnQgbW92ZWQgdG8gUElYSS5JbnRlcmFjdGlvbkV2ZW50Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuSW50ZXJhY3Rpb25FdmVudDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLnByZXBhcmVcbiAgICAgKiBAc2VlIFBJWElcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMVxuICAgICAqL1xuICAgIFBJWEkucHJlcGFyZSA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkucHJlcGFyZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMVxuICAgICAgICAgKiBAc2VlIFBJWEkuQmFzZVByZXBhcmVcbiAgICAgICAgICovXG4gICAgICAgIEJhc2VQcmVwYXJlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjEnLCAnUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlIG1vdmVkIHRvIFBJWEkuQmFzZVByZXBhcmUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5CYXNlUHJlcGFyZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5wcmVwYXJlLlByZXBhcmVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjFcbiAgICAgICAgICogQHNlZSBQSVhJLlByZXBhcmVcbiAgICAgICAgICovXG4gICAgICAgIFByZXBhcmU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMScsICdQSVhJLnByZXBhcmUuUHJlcGFyZSBtb3ZlZCB0byBQSVhJLlByZXBhcmUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5QcmVwYXJlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnByZXBhcmUuQ2FudmFzUHJlcGFyZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMVxuICAgICAgICAgKiBAc2VlIFBJWEkuQ2FudmFzUHJlcGFyZVxuICAgICAgICAgKi9cbiAgICAgICAgQ2FudmFzUHJlcGFyZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4xJywgJ1BJWEkucHJlcGFyZS5DYW52YXNQcmVwYXJlIG1vdmVkIHRvIFBJWEkuQ2FudmFzUHJlcGFyZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkNhbnZhc1ByZXBhcmU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5leHRyYWN0XG4gICAgICogQHNlZSBQSVhJXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjFcbiAgICAgKi9cbiAgICBQSVhJLmV4dHJhY3QgPSB7fTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLmV4dHJhY3QsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhY3QuRXh0cmFjdFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMVxuICAgICAgICAgKiBAc2VlIFBJWEkuRXh0cmFjdFxuICAgICAgICAgKi9cbiAgICAgICAgRXh0cmFjdDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4xJywgJ1BJWEkuZXh0cmFjdC5FeHRyYWN0IG1vdmVkIHRvIFBJWEkuRXh0cmFjdCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkV4dHJhY3Q7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFjdC5DYW52YXNFeHRyYWN0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4xXG4gICAgICAgICAqIEBzZWUgUElYSS5DYW52YXNFeHRyYWN0XG4gICAgICAgICAqL1xuICAgICAgICBDYW52YXNFeHRyYWN0OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjEnLCAnUElYSS5leHRyYWN0LkNhbnZhc0V4dHJhY3QgbW92ZWQgdG8gUElYSS5DYW52YXNFeHRyYWN0Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQ2FudmFzRXh0cmFjdDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVGhpcyBuYW1lc3BhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gQWxsIGNsYXNzZXMgcHJldmlvdXMgbmVzdGVkXG4gICAgICogdW5kZXIgdGhpcyBuYW1lc3BhY2UgaGF2ZSBiZWVuIG1vdmVkIHRvIHRoZSB0b3AtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkuZXh0cmFzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLmV4dHJhcyA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkuZXh0cmFzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFRpbGluZ1Nwcml0ZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuVGlsaW5nU3ByaXRlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlsaW5nU3ByaXRlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGVSZW5kZXJlclxuICAgICAgICAgKiBAc2VlIFBJWEkuVGlsaW5nU3ByaXRlUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFRpbGluZ1Nwcml0ZVJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlRpbGluZ1Nwcml0ZVJlbmRlcmVyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlsaW5nU3ByaXRlUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BbmltYXRlZFNwcml0ZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQW5pbWF0ZWRTcHJpdGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuQW5pbWF0ZWRTcHJpdGUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5BbmltYXRlZFNwcml0ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYXMuQml0bWFwVGV4dFxuICAgICAgICAgKiBAc2VlIFBJWEkuQml0bWFwVGV4dFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQml0bWFwVGV4dDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5CaXRtYXBUZXh0IGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkJpdG1hcFRleHQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5CaXRtYXBUZXh0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1ldGhvZCBQSVhJLlRpbGluZ1Nwcml0ZS5mcm9tRnJhbWVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGUuZnJvbVxuICAgICAqL1xuICAgIFBJWEkuVGlsaW5nU3ByaXRlLmZyb21GcmFtZSA9IGZ1bmN0aW9uIGZyb21GcmFtZShmcmFtZUlkLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdUaWxpbmdTcHJpdGUuZnJvbUZyYW1lIGlzIGRlcHJlY2F0ZWQsIHVzZSBUaWxpbmdTcHJpdGUuZnJvbScpO1xuICAgICAgICByZXR1cm4gUElYSS5UaWxpbmdTcHJpdGUuZnJvbShmcmFtZUlkLCB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1ldGhvZCBQSVhJLlRpbGluZ1Nwcml0ZS5mcm9tSW1hZ2VcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGUuZnJvbVxuICAgICAqL1xuICAgIFBJWEkuVGlsaW5nU3ByaXRlLmZyb21JbWFnZSA9IGZ1bmN0aW9uIGZyb21JbWFnZShpbWFnZUlkLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdUaWxpbmdTcHJpdGUuZnJvbUltYWdlIGlzIGRlcHJlY2F0ZWQsIHVzZSBUaWxpbmdTcHJpdGUuZnJvbScpO1xuICAgICAgICAvLyBGYWxsYmFjayBzdXBwb3J0IGZvciBjcm9zc29yaWdpbiwgc2NhbGVNb2RlIHBhcmFtZXRlcnNcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGU6IGFyZ3VtZW50c1s0XSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgICAgICAgICBjcm9zc29yaWdpbjogYXJndW1lbnRzWzNdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgb3B0aW9ucy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHJldHVybiBQSVhJLlRpbGluZ1Nwcml0ZS5mcm9tKGltYWdlSWQsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS51dGlscywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkudXRpbHMuZ2V0U3ZnU2l6ZVxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLmdldFNpemVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGdldFN2Z1NpemU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5nZXRTdmdTaXplIGZ1bmN0aW9uIGhhcyBtb3ZlZCB0byBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZS5nZXRTaXplJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLmdldFNpemU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEFsbCBjbGFzc2VzIG9uIHRoaXMgbmFtZXNwYWNlIGhhdmUgbW92ZWQgdG8gdGhlIGhpZ2gtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkubWVzaFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS5tZXNoID0ge307XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5tZXNoLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLk1lc2hcbiAgICAgICAgICogQHNlZSBQSVhJLlNpbXBsZU1lc2hcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIE1lc2g6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLk1lc2ggY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuU2ltcGxlTWVzaCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNpbXBsZU1lc2g7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5OaW5lU2xpY2VQbGFuZVxuICAgICAgICAgKiBAc2VlIFBJWEkuTmluZVNsaWNlUGxhbmVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIE5pbmVTbGljZVBsYW5lOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5OaW5lU2xpY2VQbGFuZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5OaW5lU2xpY2VQbGFuZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLk5pbmVTbGljZVBsYW5lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guUGxhbmVcbiAgICAgICAgICogQHNlZSBQSVhJLlNpbXBsZVBsYW5lXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBQbGFuZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guUGxhbmUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuU2ltcGxlUGxhbmUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TaW1wbGVQbGFuZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLlJvcGVcbiAgICAgICAgICogQHNlZSBQSVhJLlNpbXBsZVJvcGVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFJvcGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLlJvcGUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuU2ltcGxlUm9wZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNpbXBsZVJvcGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5SYXdNZXNoXG4gICAgICAgICAqIEBzZWUgUElYSS5NZXNoXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBSYXdNZXNoOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5SYXdNZXNoIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLk1lc2gnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5NZXNoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guQ2FudmFzTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5DYW52YXNNZXNoUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIENhbnZhc01lc2hSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guQ2FudmFzTWVzaFJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkNhbnZhc01lc2hSZW5kZXJlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkNhbnZhc01lc2hSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLk1lc2hSZW5kZXJlclxuICAgICAgICAgKiBAc2VlIFBJWEkuTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBNZXNoUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLk1lc2hSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5NZXNoUmVuZGVyZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5NZXNoUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFRoaXMgbmFtZXNwYWNlIGhhcyBiZWVuIHJlbW92ZWQgYW5kIGl0ZW1zIGhhdmUgYmVlbiBtb3ZlZCB0b1xuICAgICAqIHRoZSB0b3AtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkucGFydGljbGVzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLnBhcnRpY2xlcyA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkucGFydGljbGVzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5wYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlBhcnRpY2xlQ29udGFpbmVyXG4gICAgICAgICAqL1xuICAgICAgICBQYXJ0aWNsZUNvbnRhaW5lcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5QYXJ0aWNsZUNvbnRhaW5lcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlBhcnRpY2xlQ29udGFpbmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZVJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5QYXJ0aWNsZVJlbmRlcmVyXG4gICAgICAgICAqL1xuICAgICAgICBQYXJ0aWNsZVJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkucGFydGljbGVzLlBhcnRpY2xlUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuUGFydGljbGVSZW5kZXJlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlBhcnRpY2xlUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFRoaXMgbmFtZXNwYWNlIGhhcyBiZWVuIHJlbW92ZWQgYW5kIGl0ZW1zIGhhdmUgYmVlbiBtb3ZlZCB0b1xuICAgICAqIHRoZSB0b3AtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkudGlja2VyXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLnRpY2tlciA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkudGlja2VyLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS50aWNrZXIuVGlja2VyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWNrZXJcbiAgICAgICAgICovXG4gICAgICAgIFRpY2tlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnRpY2tlci5UaWNrZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuVGlja2VyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlja2VyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkudGlja2VyLnNoYXJlZFxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWNrZXIuc2hhcmVkXG4gICAgICAgICAqL1xuICAgICAgICBzaGFyZWQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS50aWNrZXIuc2hhcmVkIGluc3RhbmNlIGhhcyBtb3ZlZCB0byBQSVhJLlRpY2tlci5zaGFyZWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWNrZXIuc2hhcmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBbGwgY2xhc3NlcyBvbiB0aGlzIG5hbWVzcGFjZSBoYXZlIG1vdmVkIHRvIHRoZSBoaWdoLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLmxvYWRlcnNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkubG9hZGVycyA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkubG9hZGVycywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubG9hZGVycy5Mb2FkZXJcbiAgICAgICAgICogQHNlZSBQSVhJLkxvYWRlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTG9hZGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5Mb2FkZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTG9hZGVyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTG9hZGVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmxvYWRlcnMuUmVzb3VyY2VcbiAgICAgICAgICogQHNlZSBQSVhJLkxvYWRlclJlc291cmNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBSZXNvdXJjZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuUmVzb3VyY2UgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTG9hZGVyUmVzb3VyY2UnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5Mb2FkZXJSZXNvdXJjZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLmJpdG1hcEZvbnRQYXJzZXJcbiAgICAgICAgICogQHNlZSBQSVhJLkJpdG1hcEZvbnRMb2FkZXIudXNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBiaXRtYXBGb250UGFyc2VyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5iaXRtYXBGb250UGFyc2VyIGZ1bmN0aW9uIGhhcyBtb3ZlZCB0byBQSVhJLkJpdG1hcEZvbnRMb2FkZXIudXNlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQml0bWFwRm9udExvYWRlci51c2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5wYXJzZUJpdG1hcEZvbnREYXRhXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBwYXJzZUJpdG1hcEZvbnREYXRhOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5wYXJzZUJpdG1hcEZvbnREYXRhIGZ1bmN0aW9uIGhhcyByZW1vdmVkJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5zcHJpdGVzaGVldFBhcnNlclxuICAgICAgICAgKiBAc2VlIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIudXNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBzcHJpdGVzaGVldFBhcnNlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuc3ByaXRlc2hlZXRQYXJzZXIgZnVuY3Rpb24gaGFzIG1vdmVkIHRvIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIudXNlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIudXNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMuZ2V0UmVzb3VyY2VQYXRoXG4gICAgICAgICAqIEBzZWUgUElYSS5TcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGhcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGdldFJlc291cmNlUGF0aDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuZ2V0UmVzb3VyY2VQYXRoIHByb3BlcnR5IGhhcyBtb3ZlZCB0byBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5Mb2FkZXIuYWRkUGl4aU1pZGRsZXdhcmVcbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBtaWRkbGV3YXJlXG4gICAgICovXG4gICAgUElYSS5Mb2FkZXIuYWRkUGl4aU1pZGRsZXdhcmUgPSBmdW5jdGlvbiBhZGRQaXhpTWlkZGxld2FyZShtaWRkbGV3YXJlKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLkxvYWRlci5hZGRQaXhpTWlkZGxld2FyZSBmdW5jdGlvbiBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5sb2FkZXJzLkxvYWRlci5yZWdpc3RlclBsdWdpbicpO1xuICAgICAgICByZXR1cm4gUElYSS5sb2FkZXJzLkxvYWRlci5yZWdpc3RlclBsdWdpbih7IHVzZTogbWlkZGxld2FyZSgpIH0pO1xuICAgIH07XG4gICAgLy8gY29udmVuaWVuY2UgZm9yIGNvbnZlcnRpbmcgZXZlbnQgbmFtZSB0byBzaWduYWwgbmFtZVxuICAgIHZhciBldmVudFRvU2lnbmFsID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBcIm9uXCIgKyBldmVudC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGV2ZW50LnNsaWNlKDEpO1xuICAgIH07XG4gICAgT2JqZWN0LmFzc2lnbihQSVhJLkxvYWRlci5wcm90b3R5cGUsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZSB0aGUgY29ycmVzcG9uZGluZyBzaWduYWwsIGUuZy4sIGV2ZW50IGBzdGFydGBgIGlzIHNpZ25hbCBgb25TdGFydGAuXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5Mb2FkZXIjb25cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIG9uOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBzaWduYWwgPSBldmVudFRvU2lnbmFsKGV2ZW50KTtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCBcIlBJWEkuTG9hZGVyI29uIGlzIGNvbXBsZXRlbHkgZGVwcmVjYXRlZCwgdXNlIFBJWEkuTG9hZGVyI1wiICsgc2lnbmFsICsgXCIuYWRkXCIpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlIHRoZSBjb3JyZXNwb25kaW5nIHNpZ25hbCwgZS5nLiwgZXZlbnQgYHN0YXJ0YGAgaXMgc2lnbmFsIGBvblN0YXJ0YC5cbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkxvYWRlciNvbmNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBvbmNlOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBzaWduYWwgPSBldmVudFRvU2lnbmFsKGV2ZW50KTtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCBcIlBJWEkuTG9hZGVyI29uY2UgaXMgY29tcGxldGVseSBkZXByZWNhdGVkLCB1c2UgUElYSS5Mb2FkZXIjXCIgKyBzaWduYWwgKyBcIi5vbmNlXCIpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlIHRoZSBjb3JyZXNwb25kaW5nIHNpZ25hbCwgZS5nLiwgZXZlbnQgYHN0YXJ0YGAgaXMgc2lnbmFsIGBvblN0YXJ0YC5cbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkxvYWRlciNvZmZcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIG9mZjogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgc2lnbmFsID0gZXZlbnRUb1NpZ25hbChldmVudCk7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgXCJQSVhJLkxvYWRlciNvZmYgaXMgY29tcGxldGVseSBkZXByZWNhdGVkLCB1c2UgUElYSS5Mb2FkZXIjXCIgKyBzaWduYWwgKyBcIi5kZXRhY2hcIik7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQGNsYXNzIFBJWEkuZXh0cmFjdC5XZWJHTEV4dHJhY3RcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5FeHRyYWN0XG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkuZXh0cmFjdCwgJ1dlYkdMRXh0cmFjdCcsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFjdC5XZWJHTEV4dHJhY3QgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLkV4dHJhY3QnKTtcbiAgICAgICAgICAgIHJldHVybiBQSVhJLkV4dHJhY3Q7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQGNsYXNzIFBJWEkucHJlcGFyZS5XZWJHTFByZXBhcmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5QcmVwYXJlXG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkucHJlcGFyZSwgJ1dlYkdMUHJlcGFyZScsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkucHJlcGFyZS5XZWJHTFByZXBhcmUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuUHJlcGFyZScpO1xuICAgICAgICAgICAgcmV0dXJuIFBJWEkuUHJlcGFyZTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuQ29udGFpbmVyI19yZW5kZXJXZWJHTFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQ29udGFpbmVyI3JlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgSW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlcldlYkdMID0gZnVuY3Rpb24gX3JlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Db250YWluZXIuX3JlbmRlcldlYkdMIG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5Db250YWluZXIuX3JlbmRlcicpO1xuICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkNvbnRhaW5lciNyZW5kZXJXZWJHTFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkNvbnRhaW5lciNyZW5kZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIEluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUElYSS5Db250YWluZXIucHJvdG90eXBlLnJlbmRlcldlYkdMID0gZnVuY3Rpb24gcmVuZGVyV2ViR0wocmVuZGVyZXIpIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkNvbnRhaW5lci5yZW5kZXJXZWJHTCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuQ29udGFpbmVyLnJlbmRlcicpO1xuICAgICAgICB0aGlzLnJlbmRlcihyZW5kZXJlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuRGlzcGxheU9iamVjdCNyZW5kZXJXZWJHTFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkRpc3BsYXlPYmplY3QjcmVuZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBJbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFBJWEkuRGlzcGxheU9iamVjdC5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuRGlzcGxheU9iamVjdC5yZW5kZXJXZWJHTCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuRGlzcGxheU9iamVjdC5yZW5kZXInKTtcbiAgICAgICAgdGhpcy5yZW5kZXIocmVuZGVyZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkNvbnRhaW5lciNyZW5kZXJBZHZhbmNlZFdlYkdMXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQ29udGFpbmVyI3JlbmRlckFkdmFuY2VkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBJbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJBZHZhbmNlZFdlYkdMID0gZnVuY3Rpb24gcmVuZGVyQWR2YW5jZWRXZWJHTChyZW5kZXJlcikge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQ29udGFpbmVyLnJlbmRlckFkdmFuY2VkV2ViR0wgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLkNvbnRhaW5lci5yZW5kZXJBZHZhbmNlZCcpO1xuICAgICAgICB0aGlzLnJlbmRlckFkdmFuY2VkKHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkuc2V0dGluZ3MsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgdHJhbnNmb3JtIHR5cGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgICAgICogQHR5cGUge1BJWEkuVFJBTlNGT1JNX01PREV9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVFJBTlNGT1JNX01PREUuU1RBVElDXG4gICAgICAgICAqL1xuICAgICAgICBUUkFOU0ZPUk1fTU9ERToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnNldHRpbmdzLlRSQU5TRk9STV9NT0RFIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuc2V0dGluZ3MuVFJBTlNGT1JNX01PREUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICB2YXIgQmFzZVRleHR1cmVBbnkgPSBQSVhJLkJhc2VUZXh0dXJlO1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgbG9hZFNvdXJjZVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJhc2VUZXh0dXJlI1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgQmFzZVRleHR1cmVBbnkucHJvdG90eXBlLmxvYWRTb3VyY2UgPSBmdW5jdGlvbiBsb2FkU291cmNlKGltYWdlKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5sb2FkU291cmNlIG1ldGhvZCBoYXMgYmVlbiBkZXByZWNhdGVkJyk7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IFBJWEkucmVzb3VyY2VzLmF1dG9EZXRlY3RSZXNvdXJjZShpbWFnZSk7XG4gICAgICAgIHJlc291cmNlLmludGVybmFsID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZXRSZXNvdXJjZShyZXNvdXJjZSk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICB2YXIgYmFzZVRleHR1cmVJZERlcHJlY2F0aW9uID0gZmFsc2U7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQmFzZVRleHR1cmVBbnkucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkJhc2VUZXh0dXJlI2hhc0xvYWRlZFxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZSN2YWxpZFxuICAgICAgICAgKi9cbiAgICAgICAgaGFzTG9hZGVkOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuaGFzTG9hZGVkIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLkJhc2VUZXh0dXJlLnZhbGlkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsaWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5CYXNlVGV4dHVyZSNpbWFnZVVybFxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2UjdXJsXG4gICAgICAgICAqL1xuICAgICAgICBpbWFnZVVybDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5pbWFnZVVybCBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS51cmwnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5yZXNvdXJjZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnVybDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChpbWFnZVVybCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5pbWFnZVVybCBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS51cmwnKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlLnVybCA9IGltYWdlVXJsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkJhc2VUZXh0dXJlI3NvdXJjZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlI3NvdXJjZVxuICAgICAgICAgKi9cbiAgICAgICAgc291cmNlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuc291cmNlIHByb3BlcnR5IGhhcyBiZWVuIG1vdmVkLCB1c2UgYFBJWEkuQmFzZVRleHR1cmUucmVzb3VyY2Uuc291cmNlYCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc291cmNlLnNvdXJjZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuc291cmNlIHByb3BlcnR5IGhhcyBiZWVuIG1vdmVkLCB1c2UgYFBJWEkuQmFzZVRleHR1cmUucmVzb3VyY2Uuc291cmNlYCAnXG4gICAgICAgICAgICAgICAgICAgICsgJ2lmIHlvdSB3YW50IHRvIHNldCBIVE1MQ2FudmFzRWxlbWVudC4gT3RoZXJ3aXNlLCBjcmVhdGUgbmV3IEJhc2VUZXh0dXJlLicpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb3VyY2Uuc291cmNlID0gc291cmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkJhc2VUZXh0dXJlI3ByZW11bHRpcGx5QWxwaGFcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUjYWxwaGFNb2RlXG4gICAgICAgICAqL1xuICAgICAgICBwcmVtdWx0aXBseUFscGhhOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5CYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhIHByb3BlcnR5IGhhcyBiZWVuIGNoYW5nZWQgdG8gYGFscGhhTW9kZWAnXG4gICAgICAgICAgICAgICAgICAgICsgJywgc2VlIGBQSVhJLkFMUEhBX01PREVTYCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFscGhhTW9kZSAhPT0gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLkJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEgcHJvcGVydHkgaGFzIGJlZW4gY2hhbmdlZCB0byBgYWxwaGFNb2RlYCdcbiAgICAgICAgICAgICAgICAgICAgKyAnLCBzZWUgYFBJWEkuQUxQSEFfTU9ERVNgJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbHBoYU1vZGUgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhdGNoIGxvY2FsIGZpZWxkLCBzdG9yZXMgY3VycmVudCB0ZXh0dXJlIGxvY2F0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjX2lkXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4wXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZSNfYmF0Y2hMb2NhdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJhc2VUZXh0dXJlSWREZXByZWNhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAvLyAjcG9wZWx5c2hldjogVGhhdCBwcm9wZXJ0eSB3YXMgYSBob3QgcGxhY2UsIEkgZG9uJ3Qgd2FudCB0byBjYWxsIGRlcHJlY2F0aW9uIG1ldGhvZCBvbiBpdCBpZiBwb3NzaWJsZVxuICAgICAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5CYXNlVGV4dHVyZS5faWQgYmF0Y2ggbG9jYWwgZmllbGQgaGFzIGJlZW4gY2hhbmdlZCB0byBgX2JhdGNoTG9jYXRpb25gJyk7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlSWREZXByZWNhdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9iYXRjaExvY2F0aW9uO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmF0Y2hMb2NhdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGZyb21JbWFnZVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5CYXNlVGV4dHVyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlLmZyb21cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZUFueS5mcm9tSW1hZ2UgPSBmdW5jdGlvbiBmcm9tSW1hZ2UoY2FudmFzLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlLCBzY2FsZSkge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuZnJvbUltYWdlIG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuQmFzZVRleHR1cmUuZnJvbScpO1xuICAgICAgICB2YXIgcmVzb3VyY2VPcHRpb25zID0geyBzY2FsZTogc2NhbGUsIGNyb3Nzb3JpZ2luOiBjcm9zc29yaWdpbiB9O1xuICAgICAgICByZXR1cm4gQmFzZVRleHR1cmVBbnkuZnJvbShjYW52YXMsIHsgc2NhbGVNb2RlOiBzY2FsZU1vZGUsIHJlc291cmNlT3B0aW9uczogcmVzb3VyY2VPcHRpb25zIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBmcm9tQ2FudmFzXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJhc2VUZXh0dXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUuZnJvbVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlQW55LmZyb21DYW52YXMgPSBmdW5jdGlvbiBmcm9tQ2FudmFzKGNhbnZhcywgc2NhbGVNb2RlKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5mcm9tQ2FudmFzIG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuQmFzZVRleHR1cmUuZnJvbScpO1xuICAgICAgICByZXR1cm4gQmFzZVRleHR1cmVBbnkuZnJvbShjYW52YXMsIHsgc2NhbGVNb2RlOiBzY2FsZU1vZGUgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGZyb21TVkdcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQmFzZVRleHR1cmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZS5mcm9tXG4gICAgICovXG4gICAgQmFzZVRleHR1cmVBbnkuZnJvbVNWRyA9IGZ1bmN0aW9uIGZyb21TVkcoY2FudmFzLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlLCBzY2FsZSkge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuZnJvbVNWRyBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLkJhc2VUZXh0dXJlLmZyb20nKTtcbiAgICAgICAgdmFyIHJlc291cmNlT3B0aW9ucyA9IHsgc2NhbGU6IHNjYWxlLCBjcm9zc29yaWdpbjogY3Jvc3NvcmlnaW4gfTtcbiAgICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlQW55LmZyb20oY2FudmFzLCB7IHNjYWxlTW9kZTogc2NhbGVNb2RlLCByZXNvdXJjZU9wdGlvbnM6IHJlc291cmNlT3B0aW9ucyB9KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2UucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlI3ByZW11bHRpcGx5QWxwaGFcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2UjYWxwaGFNb2RlXG4gICAgICAgICAqL1xuICAgICAgICBwcmVtdWx0aXBseUFscGhhOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5yZXNvdXJjZXMuSW1hZ2VSZXNvdXJjZS5wcmVtdWx0aXBseUFscGhhIHByb3BlcnR5ICdcbiAgICAgICAgICAgICAgICAgICAgKyAnaGFzIGJlZW4gY2hhbmdlZCB0byBgYWxwaGFNb2RlYCwgc2VlIGBQSVhJLkFMUEhBX01PREVTYCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFscGhhTW9kZSAhPT0gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlLnByZW11bHRpcGx5QWxwaGEgcHJvcGVydHkgJ1xuICAgICAgICAgICAgICAgICAgICArICdoYXMgYmVlbiBjaGFuZ2VkIHRvIGBhbHBoYU1vZGVgLCBzZWUgYFBJWEkuQUxQSEFfTU9ERVNgJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbHBoYU1vZGUgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuUG9pbnQjY29weVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLlBvaW50I2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5Qb2ludC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocCkge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUG9pbnQuY29weSBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLlBvaW50LmNvcHlGcm9tJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlGcm9tKHApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLk9ic2VydmFibGVQb2ludCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuT2JzZXJ2YWJsZVBvaW50I2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5PYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLk9ic2VydmFibGVQb2ludC5jb3B5IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuT2JzZXJ2YWJsZVBvaW50LmNvcHlGcm9tJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlGcm9tKHApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLlJlY3RhbmdsZSNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuUmVjdGFuZ2xlI2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5SZWN0YW5nbGUucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlJlY3RhbmdsZS5jb3B5IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuUmVjdGFuZ2xlLmNvcHlGcm9tJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlGcm9tKHApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLk1hdHJpeCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuTWF0cml4I2NvcHlUb1xuICAgICAqL1xuICAgIFBJWEkuTWF0cml4LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5NYXRyaXguY29weSBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLk1hdHJpeC5jb3B5VG8nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29weVRvKHApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLnN5c3RlbXMuU3RhdGVTeXN0ZW0jc2V0U3RhdGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjEuMFxuICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLlN0YXRlU3lzdGVtI3NldFxuICAgICAqL1xuICAgIFBJWEkuc3lzdGVtcy5TdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiBzZXRTdGF0ZShzKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKCd2NS4xLjAnLCAnU3RhdGVTeXN0ZW0uc2V0U3RhdGUgaGFzIGJlZW4gcmVuYW1lZCB0byBTdGF0ZVN5c3RlbS5zZXQnKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0KHMpO1xuICAgIH07XG4gICAgT2JqZWN0LmFzc2lnbihQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkZpbHRlck1hbmFnZXIjZ2V0UmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNnZXRGaWx0ZXJUZXh0dXJlXG4gICAgICAgICAqL1xuICAgICAgICBnZXRSZW5kZXJUYXJnZXQ6IGZ1bmN0aW9uIChfY2xlYXIsIHJlc29sdXRpb24pIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5GaWx0ZXJNYW5hZ2VyLmdldFJlbmRlclRhcmdldCBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI2dldEZpbHRlclRleHR1cmUnKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEZpbHRlclRleHR1cmUobnVsbCwgcmVzb2x1dGlvbik7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuRmlsdGVyTWFuYWdlciNyZXR1cm5SZW5kZXJUYXJnZXRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI3JldHVybkZpbHRlclRleHR1cmVcbiAgICAgICAgICovXG4gICAgICAgIHJldHVyblJlbmRlclRhcmdldDogZnVuY3Rpb24gKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5GaWx0ZXJNYW5hZ2VyLnJldHVyblJlbmRlclRhcmdldCBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCAnXG4gICAgICAgICAgICAgICAgKyAnUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbS5yZXR1cm5GaWx0ZXJUZXh0dXJlJyk7XG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGV4dHVyZSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0jY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXhcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gdGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgICAgICovXG4gICAgICAgIGNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4OiBmdW5jdGlvbiAob3V0cHV0TWF0cml4KSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0uY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXggbWV0aG9kIGlzIHJlbW92ZWQsICdcbiAgICAgICAgICAgICAgICArICd1c2UgYCh2VGV4dHVyZUNvb3JkICogaW5wdXRTaXplLnh5KSArIG91dHB1dEZyYW1lLnh5YCBpbnN0ZWFkJyk7XG4gICAgICAgICAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LmlkZW50aXR5KCk7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLmFjdGl2ZVN0YXRlLCBzb3VyY2VGcmFtZSA9IF9hLnNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lID0gX2EuZGVzdGluYXRpb25GcmFtZTtcbiAgICAgICAgICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoc291cmNlRnJhbWUueCAvIGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIHNvdXJjZUZyYW1lLnkgLyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICBtYXBwZWRNYXRyaXguc2NhbGUoZGVzdGluYXRpb25GcmFtZS53aWR0aCwgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXhcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gVGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgICAgICovXG4gICAgICAgIGNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeDogZnVuY3Rpb24gKG91dHB1dE1hdHJpeCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnN5c3RlbXMuRmlsdGVyTWFuYWdlci5jYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXggbWV0aG9kIGlzIHJlbW92ZWQsICdcbiAgICAgICAgICAgICAgICArICd1c2UgYCgodlRleHR1cmVDb29yZCAqIGlucHV0U2l6ZS54eSkgKyBvdXRwdXRGcmFtZS54eSkgLyBvdXRwdXRGcmFtZS56d2AgaW5zdGVhZC4nKTtcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMuYWN0aXZlU3RhdGUsIHNvdXJjZUZyYW1lID0gX2Euc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUgPSBfYS5kZXN0aW5hdGlvbkZyYW1lO1xuICAgICAgICAgICAgdmFyIG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5pZGVudGl0eSgpO1xuICAgICAgICAgICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzb3VyY2VGcmFtZS54IC8gZGVzdGluYXRpb25GcmFtZS53aWR0aCwgc291cmNlRnJhbWUueSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVTY2FsZVggPSAoZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHNvdXJjZUZyYW1lLndpZHRoKTtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVTY2FsZVkgPSAoZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyBzb3VyY2VGcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgbWFwcGVkTWF0cml4LnNjYWxlKHRyYW5zbGF0ZVNjYWxlWCwgdHJhbnNsYXRlU2NhbGVZKTtcbiAgICAgICAgICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5SZW5kZXJUZXh0dXJlI3NvdXJjZUZyYW1lXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBzb3VyY2VGcmFtZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlJlbmRlclRleHR1cmUuc291cmNlRnJhbWUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlckZyYW1lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuUmVuZGVyVGV4dHVyZSNzaXplXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVuZGVyVGV4dHVyZS5zaXplIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZnJhbWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBjbGFzcyBCbHVyWEZpbHRlclxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzXG4gICAgICovXG4gICAgdmFyIEJsdXJYRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICBfX2V4dGVuZHMoQmx1clhGaWx0ZXIsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIEJsdXJYRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmZpbHRlcnMuQmx1clhGaWx0ZXIgY2xhc3MgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzcycpO1xuICAgICAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0cnVlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkgfHwgdGhpcztcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQmx1clhGaWx0ZXI7XG4gICAgfShQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3MpKTtcbiAgICAvKipcbiAgICAgKiBAY2xhc3MgQmx1cllGaWx0ZXJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzc1xuICAgICAqL1xuICAgIHZhciBCbHVyWUZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKEJsdXJZRmlsdGVyLCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBCbHVyWUZpbHRlcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5maWx0ZXJzLkJsdXJZRmlsdGVyIGNsYXNzIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3MnKTtcbiAgICAgICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZmFsc2UsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKSB8fCB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBCbHVyWUZpbHRlcjtcbiAgICB9KFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzcykpO1xuICAgIE9iamVjdC5hc3NpZ24oUElYSS5maWx0ZXJzLCB7XG4gICAgICAgIEJsdXJYRmlsdGVyOiBCbHVyWEZpbHRlcixcbiAgICAgICAgQmx1cllGaWx0ZXI6IEJsdXJZRmlsdGVyLFxuICAgIH0pO1xuICAgIHZhciBTcHJpdGVBbnkgPSBQSVhJLlNwcml0ZSwgVGV4dHVyZUFueSA9IFBJWEkuVGV4dHVyZSwgR3JhcGhpY3NBbnkgPSBQSVhJLkdyYXBoaWNzO1xuICAgIC8vIFN1cHBvcnQgZm9yIHBpeGkuanMtbGVnYWN5IGJpZnVyY2F0aW9uXG4gICAgLy8gZ2l2ZSB1c2VycyBhIGZyaWVuZGx5IGFzc2lzdCB0byB1c2UgbGVnYWN5XG4gICAgaWYgKCFHcmFwaGljc0FueS5wcm90b3R5cGUuZ2VuZXJhdGVDYW52YXNUZXh0dXJlKSB7XG4gICAgICAgIEdyYXBoaWNzQW55LnByb3RvdHlwZS5nZW5lcmF0ZUNhbnZhc1RleHR1cmUgPSBmdW5jdGlvbiBnZW5lcmF0ZUNhbnZhc1RleHR1cmUoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuR3JhcGhpY3MuZ2VuZXJhdGVDYW52YXNUZXh0dXJlIG1ldGhvZCBpcyBvbmx5IGF2YWlsYWJsZSBpbiBcInBpeGkuanMtbGVnYWN5XCInKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzfSBQSVhJLkdyYXBoaWNzI2dyYXBoaWNzRGF0YVxuICAgICAqIEBzZWUgUElYSS5HcmFwaGljcyNnZW9tZXRyeVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljc0FueS5wcm90b3R5cGUsICdncmFwaGljc0RhdGEnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkdyYXBoaWNzLmdyYXBoaWNzRGF0YSBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5HcmFwaGljcy5nZW9tZXRyeS5ncmFwaGljc0RhdGEnKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmdyYXBoaWNzRGF0YTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvLyBVc2UgdGhlc2UgdG8gZGVwcmVjYXRlIGFsbCB0aGUgU3ByaXRlIGZyb20qIG1ldGhvZHNcbiAgICBmdW5jdGlvbiBzcHJpdGVGcm9tKG5hbWUsIHNvdXJjZSwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSkge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgXCJQSVhJLlNwcml0ZS5cIiArIG5hbWUgKyBcIiBtZXRob2QgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuU3ByaXRlLmZyb21cIik7XG4gICAgICAgIHJldHVybiBTcHJpdGVBbnkuZnJvbShzb3VyY2UsIHtcbiAgICAgICAgICAgIHJlc291cmNlT3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHNjYWxlOiBzY2FsZU1vZGUsXG4gICAgICAgICAgICAgICAgY3Jvc3NvcmlnaW46IGNyb3Nzb3JpZ2luLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tSW1hZ2VcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGVBbnkuZnJvbUltYWdlID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tSW1hZ2UnKTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbVNWR1xuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZUFueS5mcm9tU1ZHID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tU1ZHJyk7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuU3ByaXRlLmZyb21DYW52YXNcbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGVBbnkuZnJvbUNhbnZhcyA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbUNhbnZhcycpO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tVmlkZW9cbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGVBbnkuZnJvbVZpZGVvID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tVmlkZW8nKTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbUZyYW1lXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlQW55LmZyb21GcmFtZSA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbUZyYW1lJyk7XG4gICAgLy8gVXNlIHRoZXNlIHRvIGRlcHJlY2F0ZSBhbGwgdGhlIFRleHR1cmUgZnJvbSogbWV0aG9kc1xuICAgIGZ1bmN0aW9uIHRleHR1cmVGcm9tKG5hbWUsIHNvdXJjZSwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSkge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgXCJQSVhJLlRleHR1cmUuXCIgKyBuYW1lICsgXCIgbWV0aG9kIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLlRleHR1cmUuZnJvbVwiKTtcbiAgICAgICAgcmV0dXJuIFRleHR1cmVBbnkuZnJvbShzb3VyY2UsIHtcbiAgICAgICAgICAgIHJlc291cmNlT3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHNjYWxlOiBzY2FsZU1vZGUsXG4gICAgICAgICAgICAgICAgY3Jvc3NvcmlnaW46IGNyb3Nzb3JpZ2luLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbUltYWdlXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlQW55LmZyb21JbWFnZSA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21JbWFnZScpO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbVNWR1xuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZUFueS5mcm9tU1ZHID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbVNWRycpO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbUNhbnZhc1xuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZUFueS5mcm9tQ2FudmFzID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbUNhbnZhcycpO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbVZpZGVvXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlQW55LmZyb21WaWRlbyA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21WaWRlbycpO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbUZyYW1lXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlQW55LmZyb21GcmFtZSA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21GcmFtZScpO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn0gUElYSS5BYnN0cmFjdFJlbmRlcmVyI2F1dG9SZXNpemVcbiAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RSZW5kZXJlciNhdXRvRGVuc2l0eVxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLkFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLCAnYXV0b1Jlc2l6ZScsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQWJzdHJhY3RSZW5kZXJlci5hdXRvUmVzaXplIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsICdcbiAgICAgICAgICAgICAgICArICd1c2UgUElYSS5BYnN0cmFjdFJlbmRlcmVyLmF1dG9EZW5zaXR5Jyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRvRGVuc2l0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5BYnN0cmFjdFJlbmRlcmVyLmF1dG9SZXNpemUgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBQSVhJLkFic3RyYWN0UmVuZGVyZXIuYXV0b0RlbnNpdHknKTtcbiAgICAgICAgICAgIHRoaXMuYXV0b0RlbnNpdHkgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5UZXh0dXJlU3lzdGVtfSBQSVhJLlJlbmRlcmVyI3RleHR1cmVNYW5hZ2VyXG4gICAgICogQHNlZSBQSVhJLlJlbmRlcmVyI3RleHR1cmVcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5SZW5kZXJlci5wcm90b3R5cGUsICd0ZXh0dXJlTWFuYWdlcicsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVuZGVyZXIudGV4dHVyZU1hbmFnZXIgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuUmVuZGVyZXIudGV4dHVyZScpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLnV0aWxzLm1peGlucyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICAgICAgICAgKiBAZnVuY3Rpb24gbWl4aW5cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIG1peGluOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMubWl4aW5zLm1peGluIGZ1bmN0aW9uIGlzIG5vIGxvbmdlciBhdmFpbGFibGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICAgICAgICAgKiBAZnVuY3Rpb24gZGVsYXlNaXhpblxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZGVsYXlNaXhpbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLm1peGlucy5kZWxheU1peGluIGZ1bmN0aW9uIGlzIG5vIGxvbmdlciBhdmFpbGFibGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICAgICAgICAgKiBAZnVuY3Rpb24gcGVyZm9ybU1peGluc1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgcGVyZm9ybU1peGluczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLm1peGlucy5wZXJmb3JtTWl4aW5zIGZ1bmN0aW9uIGlzIG5vIGxvbmdlciBhdmFpbGFibGUnKTtcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJpdG1hcFRleHRcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R9IGZvbnRcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLkJpdG1hcFRleHQucHJvdG90eXBlLCAnZm9udCcsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5CaXRtYXBUZXh0LmZvbnQgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBmb250TmFtZSwgZm9udFNpemUsIHRpbnQgb3IgYWxpZ24gcHJvcGVydGllcycpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLl9mb250TmFtZSxcbiAgICAgICAgICAgICAgICBzaXplOiB0aGlzLl9mb250U2l6ZSxcbiAgICAgICAgICAgICAgICB0aW50OiB0aGlzLl90aW50LFxuICAgICAgICAgICAgICAgIGFsaWduOiB0aGlzLl9hbGlnbixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5CaXRtYXBUZXh0LmZvbnQgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBmb250TmFtZSwgZm9udFNpemUsIHRpbnQgb3IgYWxpZ24gcHJvcGVydGllcycpO1xuICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHsgZm9udDogdmFsdWUgfTtcbiAgICAgICAgICAgIHRoaXMuX3VwZ3JhZGVTdHlsZShzdHlsZSk7XG4gICAgICAgICAgICBzdHlsZS5mb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplIHx8IFBJWEkuQml0bWFwRm9udC5hdmFpbGFibGVbc3R5bGUuZm9udE5hbWVdLnNpemU7XG4gICAgICAgICAgICB0aGlzLl9mb250TmFtZSA9IHN0eWxlLmZvbnROYW1lO1xuICAgICAgICAgICAgdGhpcy5fZm9udFNpemUgPSBzdHlsZS5mb250U2l6ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuXG4vLyBJbnN0YWxsIHJlbmRlcmVyIHBsdWdpbnNcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdhY2Nlc3NpYmlsaXR5JywgQWNjZXNzaWJpbGl0eU1hbmFnZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2V4dHJhY3QnLCBFeHRyYWN0KTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdpbnRlcmFjdGlvbicsIEludGVyYWN0aW9uTWFuYWdlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbigncGFydGljbGUnLCBQYXJ0aWNsZVJlbmRlcmVyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdwcmVwYXJlJywgUHJlcGFyZSk7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignYmF0Y2gnLCBCYXRjaFJlbmRlcmVyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCd0aWxpbmdTcHJpdGUnLCBUaWxpbmdTcHJpdGVSZW5kZXJlcik7XG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oQml0bWFwRm9udExvYWRlcik7XG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oU3ByaXRlc2hlZXRMb2FkZXIpO1xuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oVGlja2VyUGx1Z2luKTtcbkFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKEFwcExvYWRlclBsdWdpbik7XG4vKipcbiAqIFN0cmluZyBvZiB0aGUgY3VycmVudCBQSVhJIHZlcnNpb24uXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgVkVSU0lPTlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xudmFyIFZFUlNJT04gPSAnNS4zLjcnO1xuLyoqXG4gKiBAbmFtZXNwYWNlIFBJWElcbiAqL1xuLyoqXG4gKiBUaGlzIG5hbWVzcGFjZSBjb250YWlucyBXZWJHTC1vbmx5IGRpc3BsYXkgZmlsdGVycyB0aGF0IGNhbiBiZSBhcHBsaWVkXG4gKiB0byBEaXNwbGF5T2JqZWN0cyB1c2luZyB0aGUge0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNmaWx0ZXJzIGZpbHRlcnN9IHByb3BlcnR5LlxuICpcbiAqIFNpbmNlIFBpeGlKUyBvbmx5IGhhZCBhIGhhbmRmdWwgb2YgYnVpbHQtaW4gZmlsdGVycywgYWRkaXRpb25hbCBmaWx0ZXJzXG4gKiBjYW4gYmUgZG93bmxvYWRlZCB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWZpbHRlcnMgaGVyZX0gZnJvbSB0aGVcbiAqIFBpeGlKUyBGaWx0ZXJzIHJlcG9zaXRvcnkuXG4gKlxuICogQWxsIGZpbHRlcnMgbXVzdCBleHRlbmQge0BsaW5rIFBJWEkuRmlsdGVyfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgbmV3IGFwcGxpY2F0aW9uXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICpcbiAqIC8vIERyYXcgYSBncmVlbiByZWN0YW5nbGVcbiAqIGNvbnN0IHJlY3QgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gKiAgICAgLmJlZ2luRmlsbCgweDAwZmYwMClcbiAqICAgICAuZHJhd1JlY3QoNDAsIDQwLCAyMDAsIDIwMCk7XG4gKlxuICogLy8gQWRkIGEgYmx1ciBmaWx0ZXJcbiAqIHJlY3QuZmlsdGVycyA9IFtuZXcgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXIoKV07XG4gKlxuICogLy8gRGlzcGxheSByZWN0YW5nbGVcbiAqIGFwcC5zdGFnZS5hZGRDaGlsZChyZWN0KTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICogQG5hbWVzcGFjZSBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIGZpbHRlcnMgPSB7XG4gICAgQWxwaGFGaWx0ZXI6IEFscGhhRmlsdGVyLFxuICAgIEJsdXJGaWx0ZXI6IEJsdXJGaWx0ZXIsXG4gICAgQmx1ckZpbHRlclBhc3M6IEJsdXJGaWx0ZXJQYXNzLFxuICAgIENvbG9yTWF0cml4RmlsdGVyOiBDb2xvck1hdHJpeEZpbHRlcixcbiAgICBEaXNwbGFjZW1lbnRGaWx0ZXI6IERpc3BsYWNlbWVudEZpbHRlcixcbiAgICBGWEFBRmlsdGVyOiBGWEFBRmlsdGVyLFxuICAgIE5vaXNlRmlsdGVyOiBOb2lzZUZpbHRlcixcbn07XG5cbmV4cG9ydCB7IFZFUlNJT04sIGZpbHRlcnMsIHVzZURlcHJlY2F0ZWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpeGkuZXMuanMubWFwXG4iLCIvKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjMuMiBieSBAbWF0aGlhcyAqL1xuOyhmdW5jdGlvbihyb290KSB7XG5cblx0LyoqIERldGVjdCBmcmVlIHZhcmlhYmxlcyAqL1xuXHR2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmXG5cdFx0IWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblx0dmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJlxuXHRcdCFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXHR2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsO1xuXHRpZiAoXG5cdFx0ZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbFxuXHQpIHtcblx0XHRyb290ID0gZnJlZUdsb2JhbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuXG5cdCAqIEBuYW1lIHB1bnljb2RlXG5cdCAqIEB0eXBlIE9iamVjdFxuXHQgKi9cblx0dmFyIHB1bnljb2RlLFxuXG5cdC8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi9cblx0bWF4SW50ID0gMjE0NzQ4MzY0NywgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxuXG5cdC8qKiBCb290c3RyaW5nIHBhcmFtZXRlcnMgKi9cblx0YmFzZSA9IDM2LFxuXHR0TWluID0gMSxcblx0dE1heCA9IDI2LFxuXHRza2V3ID0gMzgsXG5cdGRhbXAgPSA3MDAsXG5cdGluaXRpYWxCaWFzID0gNzIsXG5cdGluaXRpYWxOID0gMTI4LCAvLyAweDgwXG5cdGRlbGltaXRlciA9ICctJywgLy8gJ1xceDJEJ1xuXG5cdC8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovXG5cdHJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLFxuXHRyZWdleE5vbkFTQ0lJID0gL1teXFx4MjAtXFx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnNcblx0cmVnZXhTZXBhcmF0b3JzID0gL1tcXHgyRVxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9yc1xuXG5cdC8qKiBFcnJvciBtZXNzYWdlcyAqL1xuXHRlcnJvcnMgPSB7XG5cdFx0J292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJyxcblx0XHQnbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLFxuXHRcdCdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnXG5cdH0sXG5cblx0LyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqL1xuXHRiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sXG5cdGZsb29yID0gTWF0aC5mbG9vcixcblx0c3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSxcblxuXHQvKiogVGVtcG9yYXJ5IHZhcmlhYmxlICovXG5cdGtleTtcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLlxuXHQgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBlcnJvcih0eXBlKSB7XG5cdFx0dGhyb3cgUmFuZ2VFcnJvcihlcnJvcnNbdHlwZV0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXlcblx0ICogaXRlbS5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBhcnJheSBvZiB2YWx1ZXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwKGFycmF5LCBmbikge1xuXHRcdHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xuXHRcdHdoaWxlIChsZW5ndGgtLSkge1xuXHRcdFx0cmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIHNpbXBsZSBgQXJyYXkjbWFwYC1saWtlIHdyYXBwZXIgdG8gd29yayB3aXRoIGRvbWFpbiBuYW1lIHN0cmluZ3Mgb3IgZW1haWxcblx0ICogYWRkcmVzc2VzLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnlcblx0ICogY2hhcmFjdGVyLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IHN0cmluZyBvZiBjaGFyYWN0ZXJzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFja1xuXHQgKiBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcERvbWFpbihzdHJpbmcsIGZuKSB7XG5cdFx0dmFyIHBhcnRzID0gc3RyaW5nLnNwbGl0KCdAJyk7XG5cdFx0dmFyIHJlc3VsdCA9ICcnO1xuXHRcdGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG5cdFx0XHQvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlXG5cdFx0XHQvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LlxuXHRcdFx0cmVzdWx0ID0gcGFydHNbMF0gKyAnQCc7XG5cdFx0XHRzdHJpbmcgPSBwYXJ0c1sxXTtcblx0XHR9XG5cdFx0Ly8gQXZvaWQgYHNwbGl0KHJlZ2V4KWAgZm9yIElFOCBjb21wYXRpYmlsaXR5LiBTZWUgIzE3LlxuXHRcdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgJ1xceDJFJyk7XG5cdFx0dmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpO1xuXHRcdHZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTtcblx0XHRyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWVyaWMgY29kZSBwb2ludHMgb2YgZWFjaCBVbmljb2RlXG5cdCAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSxcblx0ICogdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnZlcnQgYSBwYWlyIG9mIHN1cnJvZ2F0ZSBoYWx2ZXMgKGVhY2ggb2Ygd2hpY2hcblx0ICogVUNTLTIgZXhwb3NlcyBhcyBzZXBhcmF0ZSBjaGFyYWN0ZXJzKSBpbnRvIGEgc2luZ2xlIGNvZGUgcG9pbnQsXG5cdCAqIG1hdGNoaW5nIFVURi0xNi5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5lbmNvZGVgXG5cdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBkZWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBUaGUgVW5pY29kZSBpbnB1dCBzdHJpbmcgKFVDUy0yKS5cblx0ICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHtcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGNvdW50ZXIgPSAwLFxuXHRcdCAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuXHRcdCAgICB2YWx1ZSxcblx0XHQgICAgZXh0cmE7XG5cdFx0d2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdHZhbHVlID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdGlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdFx0Ly8gaGlnaCBzdXJyb2dhdGUsIGFuZCB0aGVyZSBpcyBhIG5leHQgY2hhcmFjdGVyXG5cdFx0XHRcdGV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdFx0aWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGVcblx0XHRcdFx0XHRvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIHVubWF0Y2hlZCBzdXJyb2dhdGU7IG9ubHkgYXBwZW5kIHRoaXMgY29kZSB1bml0LCBpbiBjYXNlIHRoZSBuZXh0XG5cdFx0XHRcdFx0Ly8gY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0XHRcdGNvdW50ZXItLTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5kZWNvZGVgXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGVuY29kZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBjb2RlUG9pbnRzIFRoZSBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbmV3IFVuaWNvZGUgc3RyaW5nIChVQ1MtMikuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7XG5cdFx0cmV0dXJuIG1hcChhcnJheSwgZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciBvdXRwdXQgPSAnJztcblx0XHRcdGlmICh2YWx1ZSA+IDB4RkZGRikge1xuXHRcdFx0XHR2YWx1ZSAtPSAweDEwMDAwO1xuXHRcdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcblx0XHRcdFx0dmFsdWUgPSAweERDMDAgfCB2YWx1ZSAmIDB4M0ZGO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7XG5cdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdH0pLmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgYmFzaWMgY29kZSBwb2ludCBpbnRvIGEgZGlnaXQvaW50ZWdlci5cblx0ICogQHNlZSBgZGlnaXRUb0Jhc2ljKClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlUG9pbnQgVGhlIGJhc2ljIG51bWVyaWMgY29kZSBwb2ludCB2YWx1ZS5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50IChmb3IgdXNlIGluXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWZcblx0ICogdGhlIGNvZGUgcG9pbnQgZG9lcyBub3QgcmVwcmVzZW50IGEgdmFsdWUuXG5cdCAqL1xuXHRmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7XG5cdFx0aWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSAyMjtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDY1IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA2NTtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDk3IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA5Nztcblx0XHR9XG5cdFx0cmV0dXJuIGJhc2U7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBkaWdpdC9pbnRlZ2VyIGludG8gYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGRpZ2l0IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3Jcblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpcyBgZGlnaXRgLCB3aGljaCBuZWVkcyB0byBiZSBpbiB0aGUgcmFuZ2Vcblx0ICogYDBgIHRvIGBiYXNlIC0gMWAuIElmIGBmbGFnYCBpcyBub24temVybywgdGhlIHVwcGVyY2FzZSBmb3JtIGlzXG5cdCAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkXG5cdCAqIGlmIGBmbGFnYCBpcyBub24temVybyBhbmQgYGRpZ2l0YCBoYXMgbm8gdXBwZXJjYXNlIGZvcm0uXG5cdCAqL1xuXHRmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHtcblx0XHQvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWlxuXHRcdC8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOVxuXHRcdHJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7XG5cdH1cblxuXHQvKipcblx0ICogQmlhcyBhZGFwdGF0aW9uIGZ1bmN0aW9uIGFzIHBlciBzZWN0aW9uIDMuNCBvZiBSRkMgMzQ5Mi5cblx0ICogaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ5MiNzZWN0aW9uLTMuNFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gYWRhcHQoZGVsdGEsIG51bVBvaW50cywgZmlyc3RUaW1lKSB7XG5cdFx0dmFyIGsgPSAwO1xuXHRcdGRlbHRhID0gZmlyc3RUaW1lID8gZmxvb3IoZGVsdGEgLyBkYW1wKSA6IGRlbHRhID4+IDE7XG5cdFx0ZGVsdGEgKz0gZmxvb3IoZGVsdGEgLyBudW1Qb2ludHMpO1xuXHRcdGZvciAoLyogbm8gaW5pdGlhbGl6YXRpb24gKi87IGRlbHRhID4gYmFzZU1pbnVzVE1pbiAqIHRNYXggPj4gMTsgayArPSBiYXNlKSB7XG5cdFx0XHRkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7XG5cdFx0fVxuXHRcdHJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scyB0byBhIHN0cmluZyBvZiBVbmljb2RlXG5cdCAqIHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGRlY29kZShpbnB1dCkge1xuXHRcdC8vIERvbid0IHVzZSBVQ1MtMlxuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsXG5cdFx0ICAgIG91dCxcblx0XHQgICAgaSA9IDAsXG5cdFx0ICAgIG4gPSBpbml0aWFsTixcblx0XHQgICAgYmlhcyA9IGluaXRpYWxCaWFzLFxuXHRcdCAgICBiYXNpYyxcblx0XHQgICAgaixcblx0XHQgICAgaW5kZXgsXG5cdFx0ICAgIG9sZGksXG5cdFx0ICAgIHcsXG5cdFx0ICAgIGssXG5cdFx0ICAgIGRpZ2l0LFxuXHRcdCAgICB0LFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgYmFzZU1pbnVzVDtcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZVxuXHRcdC8vIHBvaW50cyBiZWZvcmUgdGhlIGxhc3QgZGVsaW1pdGVyLCBvciBgMGAgaWYgdGhlcmUgaXMgbm9uZSwgdGhlbiBjb3B5XG5cdFx0Ly8gdGhlIGZpcnN0IGJhc2ljIGNvZGUgcG9pbnRzIHRvIHRoZSBvdXRwdXQuXG5cblx0XHRiYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7XG5cdFx0aWYgKGJhc2ljIDwgMCkge1xuXHRcdFx0YmFzaWMgPSAwO1xuXHRcdH1cblxuXHRcdGZvciAoaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7XG5cdFx0XHQvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnRcblx0XHRcdGlmIChpbnB1dC5jaGFyQ29kZUF0KGopID49IDB4ODApIHtcblx0XHRcdFx0ZXJyb3IoJ25vdC1iYXNpYycpO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0LnB1c2goaW5wdXQuY2hhckNvZGVBdChqKSk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZVxuXHRcdC8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuXG5cblx0XHRmb3IgKGluZGV4ID0gYmFzaWMgPiAwID8gYmFzaWMgKyAxIDogMDsgaW5kZXggPCBpbnB1dExlbmd0aDsgLyogbm8gZmluYWwgZXhwcmVzc2lvbiAqLykge1xuXG5cdFx0XHQvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuXG5cdFx0XHQvLyBEZWNvZGUgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlciBpbnRvIGBkZWx0YWAsXG5cdFx0XHQvLyB3aGljaCBnZXRzIGFkZGVkIHRvIGBpYC4gVGhlIG92ZXJmbG93IGNoZWNraW5nIGlzIGVhc2llclxuXHRcdFx0Ly8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmdcblx0XHRcdC8vIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGBkZWx0YWAuXG5cdFx0XHRmb3IgKG9sZGkgPSBpLCB3ID0gMSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cblx0XHRcdFx0aWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ2ludmFsaWQtaW5wdXQnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA+PSBiYXNlIHx8IGRpZ2l0ID4gZmxvb3IoKG1heEludCAtIGkpIC8gdykpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGkgKz0gZGlnaXQgKiB3O1xuXHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPCB0KSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdGlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHcgKj0gYmFzZU1pbnVzVDtcblxuXHRcdFx0fVxuXG5cdFx0XHRvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTtcblx0XHRcdGJpYXMgPSBhZGFwdChpIC0gb2xkaSwgb3V0LCBvbGRpID09IDApO1xuXG5cdFx0XHQvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLFxuXHRcdFx0Ly8gaW5jcmVtZW50aW5nIGBuYCBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzpcblx0XHRcdGlmIChmbG9vcihpIC8gb3V0KSA+IG1heEludCAtIG4pIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdG4gKz0gZmxvb3IoaSAvIG91dCk7XG5cdFx0XHRpICU9IG91dDtcblxuXHRcdFx0Ly8gSW5zZXJ0IGBuYCBhdCBwb3NpdGlvbiBgaWAgb2YgdGhlIG91dHB1dFxuXHRcdFx0b3V0cHV0LnNwbGljZShpKyssIDAsIG4pO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVjczJlbmNvZGUob3V0cHV0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMgKGUuZy4gYSBkb21haW4gbmFtZSBsYWJlbCkgdG8gYVxuXHQgKiBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcblx0XHR2YXIgbixcblx0XHQgICAgZGVsdGEsXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50LFxuXHRcdCAgICBiYXNpY0xlbmd0aCxcblx0XHQgICAgYmlhcyxcblx0XHQgICAgaixcblx0XHQgICAgbSxcblx0XHQgICAgcSxcblx0XHQgICAgayxcblx0XHQgICAgdCxcblx0XHQgICAgY3VycmVudFZhbHVlLFxuXHRcdCAgICBvdXRwdXQgPSBbXSxcblx0XHQgICAgLyoqIGBpbnB1dExlbmd0aGAgd2lsbCBob2xkIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgaW4gYGlucHV0YC4gKi9cblx0XHQgICAgaW5wdXRMZW5ndGgsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsXG5cdFx0ICAgIGJhc2VNaW51c1QsXG5cdFx0ICAgIHFNaW51c1Q7XG5cblx0XHQvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlXG5cdFx0aW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTtcblxuXHRcdC8vIENhY2hlIHRoZSBsZW5ndGhcblx0XHRpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblxuXHRcdC8vIEluaXRpYWxpemUgdGhlIHN0YXRlXG5cdFx0biA9IGluaXRpYWxOO1xuXHRcdGRlbHRhID0gMDtcblx0XHRiaWFzID0gaW5pdGlhbEJpYXM7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzXG5cdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IDB4ODApIHtcblx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGN1cnJlbnRWYWx1ZSkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoO1xuXG5cdFx0Ly8gYGhhbmRsZWRDUENvdW50YCBpcyB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGhhbmRsZWQ7XG5cdFx0Ly8gYGJhc2ljTGVuZ3RoYCBpcyB0aGUgbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzLlxuXG5cdFx0Ly8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgLSBpZiBpdCBpcyBub3QgZW1wdHkgLSB3aXRoIGEgZGVsaW1pdGVyXG5cdFx0aWYgKGJhc2ljTGVuZ3RoKSB7XG5cdFx0XHRvdXRwdXQucHVzaChkZWxpbWl0ZXIpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZW5jb2RpbmcgbG9vcDpcblx0XHR3aGlsZSAoaGFuZGxlZENQQ291bnQgPCBpbnB1dExlbmd0aCkge1xuXG5cdFx0XHQvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0XG5cdFx0XHQvLyBsYXJnZXIgb25lOlxuXHRcdFx0Zm9yIChtID0gbWF4SW50LCBqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7XG5cdFx0XHRcdFx0bSA9IGN1cnJlbnRWYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJbmNyZWFzZSBgZGVsdGFgIGVub3VnaCB0byBhZHZhbmNlIHRoZSBkZWNvZGVyJ3MgPG4saT4gc3RhdGUgdG8gPG0sMD4sXG5cdFx0XHQvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvd1xuXHRcdFx0aGFuZGxlZENQQ291bnRQbHVzT25lID0gaGFuZGxlZENQQ291bnQgKyAxO1xuXHRcdFx0aWYgKG0gLSBuID4gZmxvb3IoKG1heEludCAtIGRlbHRhKSAvIGhhbmRsZWRDUENvdW50UGx1c09uZSkpIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7XG5cdFx0XHRuID0gbTtcblxuXHRcdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA9PSBuKSB7XG5cdFx0XHRcdFx0Ly8gUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXJcblx0XHRcdFx0XHRmb3IgKHEgPSBkZWx0YSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cdFx0XHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblx0XHRcdFx0XHRcdGlmIChxIDwgdCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHFNaW51c1QgPSBxIC0gdDtcblx0XHRcdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0XHRcdG91dHB1dC5wdXNoKFxuXHRcdFx0XHRcdFx0XHRzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7XG5cdFx0XHRcdFx0YmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTtcblx0XHRcdFx0XHRkZWx0YSA9IDA7XG5cdFx0XHRcdFx0KytoYW5kbGVkQ1BDb3VudDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQrK2RlbHRhO1xuXHRcdFx0KytuO1xuXG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzc1xuXHQgKiB0byBVbmljb2RlLiBPbmx5IHRoZSBQdW55Y29kZWQgcGFydHMgb2YgdGhlIGlucHV0IHdpbGwgYmUgY29udmVydGVkLCBpLmUuXG5cdCAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlblxuXHQgKiBjb252ZXJ0ZWQgdG8gVW5pY29kZS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogY29udmVydCB0byBVbmljb2RlLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVW5pY29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gUHVueWNvZGVcblx0ICogc3RyaW5nLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9Vbmljb2RlKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhQdW55Y29kZS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyBkZWNvZGUoc3RyaW5nLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgVW5pY29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCxcblx0ICogaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQncyBhbHJlYWR5IGluXG5cdCAqIEFTQ0lJLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvIGNvbnZlcnQsIGFzIGFcblx0ICogVW5pY29kZSBzdHJpbmcuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3Jcblx0ICogZW1haWwgYWRkcmVzcy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleE5vbkFTQ0lJLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqIERlZmluZSB0aGUgcHVibGljIEFQSSAqL1xuXHRwdW55Y29kZSA9IHtcblx0XHQvKipcblx0XHQgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuXG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgU3RyaW5nXG5cdFx0ICovXG5cdFx0J3ZlcnNpb24nOiAnMS4zLjInLFxuXHRcdC8qKlxuXHRcdCAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyXG5cdFx0ICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay5cblx0XHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBPYmplY3Rcblx0XHQgKi9cblx0XHQndWNzMic6IHtcblx0XHRcdCdkZWNvZGUnOiB1Y3MyZGVjb2RlLFxuXHRcdFx0J2VuY29kZSc6IHVjczJlbmNvZGVcblx0XHR9LFxuXHRcdCdkZWNvZGUnOiBkZWNvZGUsXG5cdFx0J2VuY29kZSc6IGVuY29kZSxcblx0XHQndG9BU0NJSSc6IHRvQVNDSUksXG5cdFx0J3RvVW5pY29kZSc6IHRvVW5pY29kZVxuXHR9O1xuXG5cdC8qKiBFeHBvc2UgYHB1bnljb2RlYCAqL1xuXHQvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnNcblx0Ly8gbGlrZSB0aGUgZm9sbG93aW5nOlxuXHRpZiAoXG5cdFx0dHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmXG5cdFx0dHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiZcblx0XHRkZWZpbmUuYW1kXG5cdCkge1xuXHRcdGRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBwdW55Y29kZTtcblx0XHR9KTtcblx0fSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7XG5cdFx0aWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7IC8vIGluIE5vZGUuanMgb3IgUmluZ29KUyB2MC44LjArXG5cdFx0XHRmcmVlTW9kdWxlLmV4cG9ydHMgPSBwdW55Y29kZTtcblx0XHR9IGVsc2UgeyAvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLVxuXHRcdFx0Zm9yIChrZXkgaW4gcHVueWNvZGUpIHtcblx0XHRcdFx0cHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHsgLy8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlclxuXHRcdHJvb3QucHVueWNvZGUgPSBwdW55Y29kZTtcblx0fVxuXG59KHRoaXMpKTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbi8vIElmIG9iai5oYXNPd25Qcm9wZXJ0eSBoYXMgYmVlbiBvdmVycmlkZGVuLCB0aGVuIGNhbGxpbmdcbi8vIG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSB3aWxsIGJyZWFrLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vam95ZW50L25vZGUvaXNzdWVzLzE3MDdcbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ocXMsIHNlcCwgZXEsIG9wdGlvbnMpIHtcbiAgc2VwID0gc2VwIHx8ICcmJztcbiAgZXEgPSBlcSB8fCAnPSc7XG4gIHZhciBvYmogPSB7fTtcblxuICBpZiAodHlwZW9mIHFzICE9PSAnc3RyaW5nJyB8fCBxcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgdmFyIHJlZ2V4cCA9IC9cXCsvZztcbiAgcXMgPSBxcy5zcGxpdChzZXApO1xuXG4gIHZhciBtYXhLZXlzID0gMTAwMDtcbiAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMubWF4S2V5cyA9PT0gJ251bWJlcicpIHtcbiAgICBtYXhLZXlzID0gb3B0aW9ucy5tYXhLZXlzO1xuICB9XG5cbiAgdmFyIGxlbiA9IHFzLmxlbmd0aDtcbiAgLy8gbWF4S2V5cyA8PSAwIG1lYW5zIHRoYXQgd2Ugc2hvdWxkIG5vdCBsaW1pdCBrZXlzIGNvdW50XG4gIGlmIChtYXhLZXlzID4gMCAmJiBsZW4gPiBtYXhLZXlzKSB7XG4gICAgbGVuID0gbWF4S2V5cztcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICB2YXIgeCA9IHFzW2ldLnJlcGxhY2UocmVnZXhwLCAnJTIwJyksXG4gICAgICAgIGlkeCA9IHguaW5kZXhPZihlcSksXG4gICAgICAgIGtzdHIsIHZzdHIsIGssIHY7XG5cbiAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgIGtzdHIgPSB4LnN1YnN0cigwLCBpZHgpO1xuICAgICAgdnN0ciA9IHguc3Vic3RyKGlkeCArIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrc3RyID0geDtcbiAgICAgIHZzdHIgPSAnJztcbiAgICB9XG5cbiAgICBrID0gZGVjb2RlVVJJQ29tcG9uZW50KGtzdHIpO1xuICAgIHYgPSBkZWNvZGVVUklDb21wb25lbnQodnN0cik7XG5cbiAgICBpZiAoIWhhc093blByb3BlcnR5KG9iaiwgaykpIHtcbiAgICAgIG9ialtrXSA9IHY7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9ialtrXSkpIHtcbiAgICAgIG9ialtrXS5wdXNoKHYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba10gPSBbb2JqW2tdLCB2XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlQcmltaXRpdmUgPSBmdW5jdGlvbih2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHY7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2ID8gJ3RydWUnIDogJ2ZhbHNlJztcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgc2VwLCBlcSwgbmFtZSkge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIG9iaiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLm1hcChmdW5jdGlvbihrKSB7XG4gICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgICByZXR1cm4gb2JqW2tdLm1hcChmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuZGVjb2RlID0gZXhwb3J0cy5wYXJzZSA9IHJlcXVpcmUoJy4vZGVjb2RlJyk7XG5leHBvcnRzLmVuY29kZSA9IGV4cG9ydHMuc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9lbmNvZGUnKTtcbiIsIi8vIFZlcnNpb24gMC44LjAgLSBDb3B5cmlnaHQgMjAxMiAtIDIwMTggLSAgSmltIFJpZWNrZW4gPGppbXJAamltci5jYT5cbi8vXG4vLyBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgLSBodHRwczovL2dpdGh1Yi5jb20vanJpZWNrZW4vc2F0LWpzXG4vL1xuLy8gQSBzaW1wbGUgbGlicmFyeSBmb3IgZGV0ZXJtaW5pbmcgaW50ZXJzZWN0aW9ucyBvZiBjaXJjbGVzIGFuZFxuLy8gcG9seWdvbnMgdXNpbmcgdGhlIFNlcGFyYXRpbmcgQXhpcyBUaGVvcmVtLlxuLyoqIEBwcmVzZXJ2ZSBTQVQuanMgLSBWZXJzaW9uIDAuOC4wIC0gQ29weXJpZ2h0IDIwMTIgLSAyMDE4IC0gSmltIFJpZWNrZW4gPGppbXJAamltci5jYT4gLSByZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIGh0dHBzOi8vZ2l0aHViLmNvbS9qcmllY2tlbi9zYXQtanMgKi9cblxuLypnbG9iYWwgZGVmaW5lOiBmYWxzZSwgbW9kdWxlOiBmYWxzZSovXG4vKmpzaGludCBzaGFkb3c6dHJ1ZSwgc3ViOnRydWUsIGZvcmluOnRydWUsIG5vYXJnOnRydWUsIG5vZW1wdHk6dHJ1ZSxcbiAgZXFlcWVxOnRydWUsIGJpdHdpc2U6dHJ1ZSwgc3RyaWN0OnRydWUsIHVuZGVmOnRydWUsXG4gIGN1cmx5OnRydWUsIGJyb3dzZXI6dHJ1ZSAqL1xuXG4vLyBDcmVhdGUgYSBVTUQgd3JhcHBlciBmb3IgU0FULiBXb3JrcyBpbjpcbi8vXG4vLyAgLSBQbGFpbiBicm93c2VyIHZpYSBnbG9iYWwgU0FUIHZhcmlhYmxlXG4vLyAgLSBBTUQgbG9hZGVyIChsaWtlIHJlcXVpcmUuanMpXG4vLyAgLSBOb2RlLmpzXG4vL1xuLy8gVGhlIHF1b3RlZCBwcm9wZXJ0aWVzIGFsbCBvdmVyIHRoZSBwbGFjZSBhcmUgdXNlZCBzbyB0aGF0IHRoZSBDbG9zdXJlIENvbXBpbGVyXG4vLyBkb2VzIG5vdCBtYW5nbGUgdGhlIGV4cG9zZWQgQVBJIGluIGFkdmFuY2VkIG1vZGUuXG4vKipcbiAqIEBwYXJhbSB7Kn0gcm9vdCAtIFRoZSBnbG9iYWwgc2NvcGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZhY3RvcnkgLSBGYWN0b3J5IHRoYXQgY3JlYXRlcyBTQVQgbW9kdWxlXG4gKi9cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lWydhbWQnXSkge1xuICAgIGRlZmluZShmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBtb2R1bGVbJ2V4cG9ydHMnXSA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICByb290WydTQVQnXSA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBTQVQgPSB7fTtcblxuICAvL1xuICAvLyAjIyBWZWN0b3JcbiAgLy9cbiAgLy8gUmVwcmVzZW50cyBhIHZlY3RvciBpbiB0d28gZGltZW5zaW9ucyB3aXRoIGB4YCBhbmQgYHlgIHByb3BlcnRpZXMuXG5cblxuICAvLyBDcmVhdGUgYSBuZXcgVmVjdG9yLCBvcHRpb25hbGx5IHBhc3NpbmcgaW4gdGhlIGB4YCBhbmQgYHlgIGNvb3JkaW5hdGVzLiBJZlxuICAvLyBhIGNvb3JkaW5hdGUgaXMgbm90IHNwZWNpZmllZCwgaXQgd2lsbCBiZSBzZXQgdG8gYDBgXG4gIC8qKlxuICAgKiBAcGFyYW0gez9udW1iZXI9fSB4IFRoZSB4IHBvc2l0aW9uLlxuICAgKiBAcGFyYW0gez9udW1iZXI9fSB5IFRoZSB5IHBvc2l0aW9uLlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGZ1bmN0aW9uIFZlY3Rvcih4LCB5KSB7XG4gICAgdGhpc1sneCddID0geCB8fCAwO1xuICAgIHRoaXNbJ3knXSA9IHkgfHwgMDtcbiAgfVxuICBTQVRbJ1ZlY3RvciddID0gVmVjdG9yO1xuICAvLyBBbGlhcyBgVmVjdG9yYCBhcyBgVmBcbiAgU0FUWydWJ10gPSBWZWN0b3I7XG5cblxuICAvLyBDb3B5IHRoZSB2YWx1ZXMgb2YgYW5vdGhlciBWZWN0b3IgaW50byB0aGlzIG9uZS5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VmVjdG9yfSBvdGhlciBUaGUgb3RoZXIgVmVjdG9yLlxuICAgKiBAcmV0dXJuIHtWZWN0b3J9IFRoaXMgZm9yIGNoYWluaW5nLlxuICAgKi9cbiAgVmVjdG9yLnByb3RvdHlwZVsnY29weSddID0gVmVjdG9yLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24ob3RoZXIpIHtcbiAgICB0aGlzWyd4J10gPSBvdGhlclsneCddO1xuICAgIHRoaXNbJ3knXSA9IG90aGVyWyd5J107XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgbmV3IHZlY3RvciB3aXRoIHRoZSBzYW1lIGNvb3JkaW5hdGVzIGFzIHRoaXMgb24uXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtWZWN0b3J9IFRoZSBuZXcgY2xvbmVkIHZlY3RvclxuICAgKi9cbiAgVmVjdG9yLnByb3RvdHlwZVsnY2xvbmUnXSA9IFZlY3Rvci5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFZlY3Rvcih0aGlzWyd4J10sIHRoaXNbJ3knXSk7XG4gIH07XG5cbiAgLy8gQ2hhbmdlIHRoaXMgdmVjdG9yIHRvIGJlIHBlcnBlbmRpY3VsYXIgdG8gd2hhdCBpdCB3YXMgYmVmb3JlLiAoRWZmZWN0aXZlbHlcbiAgLy8gcm9hdGF0ZXMgaXQgOTAgZGVncmVlcyBpbiBhIGNsb2Nrd2lzZSBkaXJlY3Rpb24pXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtWZWN0b3J9IFRoaXMgZm9yIGNoYWluaW5nLlxuICAgKi9cbiAgVmVjdG9yLnByb3RvdHlwZVsncGVycCddID0gVmVjdG9yLnByb3RvdHlwZS5wZXJwID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHggPSB0aGlzWyd4J107XG4gICAgdGhpc1sneCddID0gdGhpc1sneSddO1xuICAgIHRoaXNbJ3knXSA9IC14O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIFJvdGF0ZSB0aGlzIHZlY3RvciAoY291bnRlci1jbG9ja3dpc2UpIGJ5IHRoZSBzcGVjaWZpZWQgYW5nbGUgKGluIHJhZGlhbnMpLlxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIFRoZSBhbmdsZSB0byByb3RhdGUgKGluIHJhZGlhbnMpXG4gICAqIEByZXR1cm4ge1ZlY3Rvcn0gVGhpcyBmb3IgY2hhaW5pbmcuXG4gICAqL1xuICBWZWN0b3IucHJvdG90eXBlWydyb3RhdGUnXSA9IFZlY3Rvci5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24gKGFuZ2xlKSB7XG4gICAgdmFyIHggPSB0aGlzWyd4J107XG4gICAgdmFyIHkgPSB0aGlzWyd5J107XG4gICAgdGhpc1sneCddID0geCAqIE1hdGguY29zKGFuZ2xlKSAtIHkgKiBNYXRoLnNpbihhbmdsZSk7XG4gICAgdGhpc1sneSddID0geCAqIE1hdGguc2luKGFuZ2xlKSArIHkgKiBNYXRoLmNvcyhhbmdsZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gUmV2ZXJzZSB0aGlzIHZlY3Rvci5cbiAgLyoqXG4gICAqIEByZXR1cm4ge1ZlY3Rvcn0gVGhpcyBmb3IgY2hhaW5pbmcuXG4gICAqL1xuICBWZWN0b3IucHJvdG90eXBlWydyZXZlcnNlJ10gPSBWZWN0b3IucHJvdG90eXBlLnJldmVyc2UgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzWyd4J10gPSAtdGhpc1sneCddO1xuICAgIHRoaXNbJ3knXSA9IC10aGlzWyd5J107XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cblxuICAvLyBOb3JtYWxpemUgdGhpcyB2ZWN0b3IuICAobWFrZSBpdCBoYXZlIGxlbmd0aCBvZiBgMWApXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtWZWN0b3J9IFRoaXMgZm9yIGNoYWluaW5nLlxuICAgKi9cbiAgVmVjdG9yLnByb3RvdHlwZVsnbm9ybWFsaXplJ10gPSBWZWN0b3IucHJvdG90eXBlLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkID0gdGhpcy5sZW4oKTtcbiAgICBpZihkID4gMCkge1xuICAgICAgdGhpc1sneCddID0gdGhpc1sneCddIC8gZDtcbiAgICAgIHRoaXNbJ3knXSA9IHRoaXNbJ3knXSAvIGQ7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIEFkZCBhbm90aGVyIHZlY3RvciB0byB0aGlzIG9uZS5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VmVjdG9yfSBvdGhlciBUaGUgb3RoZXIgVmVjdG9yLlxuICAgKiBAcmV0dXJuIHtWZWN0b3J9IFRoaXMgZm9yIGNoYWluaW5nLlxuICAgKi9cbiAgVmVjdG9yLnByb3RvdHlwZVsnYWRkJ10gPSBWZWN0b3IucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgdGhpc1sneCddICs9IG90aGVyWyd4J107XG4gICAgdGhpc1sneSddICs9IG90aGVyWyd5J107XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gU3VidHJhY3QgYW5vdGhlciB2ZWN0b3IgZnJvbSB0aGlzIG9uZS5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VmVjdG9yfSBvdGhlciBUaGUgb3RoZXIgVmVjdG9yLlxuICAgKiBAcmV0dXJuIHtWZWN0b3J9IFRoaXMgZm9yIGNoYWlpbmcuXG4gICAqL1xuICBWZWN0b3IucHJvdG90eXBlWydzdWInXSA9IFZlY3Rvci5wcm90b3R5cGUuc3ViID0gZnVuY3Rpb24ob3RoZXIpIHtcbiAgICB0aGlzWyd4J10gLT0gb3RoZXJbJ3gnXTtcbiAgICB0aGlzWyd5J10gLT0gb3RoZXJbJ3knXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvLyBTY2FsZSB0aGlzIHZlY3Rvci4gQW4gaW5kZXBlbmRlbnQgc2NhbGluZyBmYWN0b3IgY2FuIGJlIHByb3ZpZGVkXG4gIC8vIGZvciBlYWNoIGF4aXMsIG9yIGEgc2luZ2xlIHNjYWxpbmcgZmFjdG9yIHRoYXQgd2lsbCBzY2FsZSBib3RoIGB4YCBhbmQgYHlgLlxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggVGhlIHNjYWxpbmcgZmFjdG9yIGluIHRoZSB4IGRpcmVjdGlvbi5cbiAgICogQHBhcmFtIHs/bnVtYmVyPX0geSBUaGUgc2NhbGluZyBmYWN0b3IgaW4gdGhlIHkgZGlyZWN0aW9uLiAgSWYgdGhpc1xuICAgKiAgIGlzIG5vdCBzcGVjaWZpZWQsIHRoZSB4IHNjYWxpbmcgZmFjdG9yIHdpbGwgYmUgdXNlZC5cbiAgICogQHJldHVybiB7VmVjdG9yfSBUaGlzIGZvciBjaGFpbmluZy5cbiAgICovXG4gIFZlY3Rvci5wcm90b3R5cGVbJ3NjYWxlJ10gPSBWZWN0b3IucHJvdG90eXBlLnNjYWxlID0gZnVuY3Rpb24oeCx5KSB7XG4gICAgdGhpc1sneCddICo9IHg7XG4gICAgdGhpc1sneSddICo9IHR5cGVvZiB5ICE9ICd1bmRlZmluZWQnID8geSA6IHg7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gUHJvamVjdCB0aGlzIHZlY3RvciBvbiB0byBhbm90aGVyIHZlY3Rvci5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VmVjdG9yfSBvdGhlciBUaGUgdmVjdG9yIHRvIHByb2plY3Qgb250by5cbiAgICogQHJldHVybiB7VmVjdG9yfSBUaGlzIGZvciBjaGFpbmluZy5cbiAgICovXG4gIFZlY3Rvci5wcm90b3R5cGVbJ3Byb2plY3QnXSA9IFZlY3Rvci5wcm90b3R5cGUucHJvamVjdCA9IGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgdmFyIGFtdCA9IHRoaXMuZG90KG90aGVyKSAvIG90aGVyLmxlbjIoKTtcbiAgICB0aGlzWyd4J10gPSBhbXQgKiBvdGhlclsneCddO1xuICAgIHRoaXNbJ3knXSA9IGFtdCAqIG90aGVyWyd5J107XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gUHJvamVjdCB0aGlzIHZlY3RvciBvbnRvIGEgdmVjdG9yIG9mIHVuaXQgbGVuZ3RoLiBUaGlzIGlzIHNsaWdodGx5IG1vcmUgZWZmaWNpZW50XG4gIC8vIHRoYW4gYHByb2plY3RgIHdoZW4gZGVhbGluZyB3aXRoIHVuaXQgdmVjdG9ycy5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VmVjdG9yfSBvdGhlciBUaGUgdW5pdCB2ZWN0b3IgdG8gcHJvamVjdCBvbnRvLlxuICAgKiBAcmV0dXJuIHtWZWN0b3J9IFRoaXMgZm9yIGNoYWluaW5nLlxuICAgKi9cbiAgVmVjdG9yLnByb3RvdHlwZVsncHJvamVjdE4nXSA9IFZlY3Rvci5wcm90b3R5cGUucHJvamVjdE4gPSBmdW5jdGlvbihvdGhlcikge1xuICAgIHZhciBhbXQgPSB0aGlzLmRvdChvdGhlcik7XG4gICAgdGhpc1sneCddID0gYW10ICogb3RoZXJbJ3gnXTtcbiAgICB0aGlzWyd5J10gPSBhbXQgKiBvdGhlclsneSddO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIFJlZmxlY3QgdGhpcyB2ZWN0b3Igb24gYW4gYXJiaXRyYXJ5IGF4aXMuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1ZlY3Rvcn0gYXhpcyBUaGUgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgYXhpcy5cbiAgICogQHJldHVybiB7VmVjdG9yfSBUaGlzIGZvciBjaGFpbmluZy5cbiAgICovXG4gIFZlY3Rvci5wcm90b3R5cGVbJ3JlZmxlY3QnXSA9IFZlY3Rvci5wcm90b3R5cGUucmVmbGVjdCA9IGZ1bmN0aW9uKGF4aXMpIHtcbiAgICB2YXIgeCA9IHRoaXNbJ3gnXTtcbiAgICB2YXIgeSA9IHRoaXNbJ3knXTtcbiAgICB0aGlzLnByb2plY3QoYXhpcykuc2NhbGUoMik7XG4gICAgdGhpc1sneCddIC09IHg7XG4gICAgdGhpc1sneSddIC09IHk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gUmVmbGVjdCB0aGlzIHZlY3RvciBvbiBhbiBhcmJpdHJhcnkgYXhpcyAocmVwcmVzZW50ZWQgYnkgYSB1bml0IHZlY3RvcikuIFRoaXMgaXNcbiAgLy8gc2xpZ2h0bHkgbW9yZSBlZmZpY2llbnQgdGhhbiBgcmVmbGVjdGAgd2hlbiBkZWFsaW5nIHdpdGggYW4gYXhpcyB0aGF0IGlzIGEgdW5pdCB2ZWN0b3IuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1ZlY3Rvcn0gYXhpcyBUaGUgdW5pdCB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBheGlzLlxuICAgKiBAcmV0dXJuIHtWZWN0b3J9IFRoaXMgZm9yIGNoYWluaW5nLlxuICAgKi9cbiAgVmVjdG9yLnByb3RvdHlwZVsncmVmbGVjdE4nXSA9IFZlY3Rvci5wcm90b3R5cGUucmVmbGVjdE4gPSBmdW5jdGlvbihheGlzKSB7XG4gICAgdmFyIHggPSB0aGlzWyd4J107XG4gICAgdmFyIHkgPSB0aGlzWyd5J107XG4gICAgdGhpcy5wcm9qZWN0TihheGlzKS5zY2FsZSgyKTtcbiAgICB0aGlzWyd4J10gLT0geDtcbiAgICB0aGlzWyd5J10gLT0geTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvLyBHZXQgdGhlIGRvdCBwcm9kdWN0IG9mIHRoaXMgdmVjdG9yIGFuZCBhbm90aGVyLlxuICAvKipcbiAgICogQHBhcmFtIHtWZWN0b3J9ICBvdGhlciBUaGUgdmVjdG9yIHRvIGRvdCB0aGlzIG9uZSBhZ2FpbnN0LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBkb3QgcHJvZHVjdC5cbiAgICovXG4gIFZlY3Rvci5wcm90b3R5cGVbJ2RvdCddID0gVmVjdG9yLnByb3RvdHlwZS5kb3QgPSBmdW5jdGlvbihvdGhlcikge1xuICAgIHJldHVybiB0aGlzWyd4J10gKiBvdGhlclsneCddICsgdGhpc1sneSddICogb3RoZXJbJ3knXTtcbiAgfTtcblxuICAvLyBHZXQgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIHRoaXMgdmVjdG9yLlxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbGVuZ3RoXjIgb2YgdGhpcyB2ZWN0b3IuXG4gICAqL1xuICBWZWN0b3IucHJvdG90eXBlWydsZW4yJ10gPSBWZWN0b3IucHJvdG90eXBlLmxlbjIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5kb3QodGhpcyk7XG4gIH07XG5cbiAgLy8gR2V0IHRoZSBsZW5ndGggb2YgdGhpcyB2ZWN0b3IuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBsZW5ndGggb2YgdGhpcyB2ZWN0b3IuXG4gICAqL1xuICBWZWN0b3IucHJvdG90eXBlWydsZW4nXSA9IFZlY3Rvci5wcm90b3R5cGUubGVuID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLmxlbjIoKSk7XG4gIH07XG5cbiAgLy8gIyMgQ2lyY2xlXG4gIC8vXG4gIC8vIFJlcHJlc2VudHMgYSBjaXJjbGUgd2l0aCBhIHBvc2l0aW9uIGFuZCBhIHJhZGl1cy5cblxuICAvLyBDcmVhdGUgYSBuZXcgY2lyY2xlLCBvcHRpb25hbGx5IHBhc3NpbmcgaW4gYSBwb3NpdGlvbiBhbmQvb3IgcmFkaXVzLiBJZiBubyBwb3NpdGlvblxuICAvLyBpcyBnaXZlbiwgdGhlIGNpcmNsZSB3aWxsIGJlIGF0IGAoMCwwKWAuIElmIG5vIHJhZGl1cyBpcyBwcm92aWRlZCwgdGhlIGNpcmNsZSB3aWxsXG4gIC8vIGhhdmUgYSByYWRpdXMgb2YgYDBgLlxuICAvKipcbiAgICogQHBhcmFtIHtWZWN0b3I9fSBwb3MgQSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICogQHBhcmFtIHs/bnVtYmVyPX0gciBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBmdW5jdGlvbiBDaXJjbGUocG9zLCByKSB7XG4gICAgdGhpc1sncG9zJ10gPSBwb3MgfHwgbmV3IFZlY3RvcigpO1xuICAgIHRoaXNbJ3InXSA9IHIgfHwgMDtcbiAgICB0aGlzWydvZmZzZXQnXSA9IG5ldyBWZWN0b3IoKTtcbiAgfVxuICBTQVRbJ0NpcmNsZSddID0gQ2lyY2xlO1xuXG4gIC8vIENvbXB1dGUgdGhlIGF4aXMtYWxpZ25lZCBib3VuZGluZyBib3ggKEFBQkIpIG9mIHRoaXMgQ2lyY2xlLlxuICAvL1xuICAvLyBOb3RlOiBSZXR1cm5zIGEgX25ld18gYFBvbHlnb25gIGVhY2ggdGltZSB5b3UgY2FsbCB0aGlzLlxuICAvKipcbiAgICogQHJldHVybiB7UG9seWdvbn0gVGhlIEFBQkJcbiAgICovXG4gIENpcmNsZS5wcm90b3R5cGVbJ2dldEFBQkInXSA9IENpcmNsZS5wcm90b3R5cGUuZ2V0QUFCQiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByID0gdGhpc1snciddO1xuICAgIHZhciBjb3JuZXIgPSB0aGlzWydwb3MnXS5jbG9uZSgpLmFkZCh0aGlzWydvZmZzZXQnXSkuc3ViKG5ldyBWZWN0b3IociwgcikpO1xuICAgIHJldHVybiBuZXcgQm94KGNvcm5lciwgcioyLCByKjIpLnRvUG9seWdvbigpO1xuICB9O1xuXG4gIC8vIFNldCB0aGUgY3VycmVudCBvZmZzZXQgdG8gYXBwbHkgdG8gdGhlIHJhZGl1cy5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VmVjdG9yfSBvZmZzZXQgVGhlIG5ldyBvZmZzZXQgdmVjdG9yLlxuICAgKiBAcmV0dXJuIHtDaXJjbGV9IFRoaXMgZm9yIGNoYWluaW5nLlxuICAgKi9cbiAgQ2lyY2xlLnByb3RvdHlwZVsnc2V0T2Zmc2V0J10gPSBDaXJjbGUucHJvdG90eXBlLnNldE9mZnNldCA9IGZ1bmN0aW9uKG9mZnNldCkge1xuICAgIHRoaXNbJ29mZnNldCddID0gb2Zmc2V0O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vICMjIFBvbHlnb25cbiAgLy9cbiAgLy8gUmVwcmVzZW50cyBhICpjb252ZXgqIHBvbHlnb24gd2l0aCBhbnkgbnVtYmVyIG9mIHBvaW50cyAoc3BlY2lmaWVkIGluIGNvdW50ZXItY2xvY2t3aXNlIG9yZGVyKVxuICAvL1xuICAvLyBOb3RlOiBEbyBfbm90XyBtYW51YWxseSBjaGFuZ2UgdGhlIGBwb2ludHNgLCBgYW5nbGVgLCBvciBgb2Zmc2V0YCBwcm9wZXJ0aWVzLiBVc2UgdGhlXG4gIC8vIHByb3ZpZGVkIHNldHRlcnMuIE90aGVyd2lzZSB0aGUgY2FsY3VsYXRlZCBwcm9wZXJ0aWVzIHdpbGwgbm90IGJlIHVwZGF0ZWQgY29ycmVjdGx5LlxuICAvL1xuICAvLyBgcG9zYCBjYW4gYmUgY2hhbmdlZCBkaXJlY3RseS5cblxuICAvLyBDcmVhdGUgYSBuZXcgcG9seWdvbiwgcGFzc2luZyBpbiBhIHBvc2l0aW9uIHZlY3RvciwgYW5kIGFuIGFycmF5IG9mIHBvaW50cyAocmVwcmVzZW50ZWRcbiAgLy8gYnkgdmVjdG9ycyByZWxhdGl2ZSB0byB0aGUgcG9zaXRpb24gdmVjdG9yKS4gSWYgbm8gcG9zaXRpb24gaXMgcGFzc2VkIGluLCB0aGUgcG9zaXRpb25cbiAgLy8gb2YgdGhlIHBvbHlnb24gd2lsbCBiZSBgKDAsMClgLlxuICAvKipcbiAgICogQHBhcmFtIHtWZWN0b3I9fSBwb3MgQSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBvcmlnaW4gb2YgdGhlIHBvbHlnb24uIChhbGwgb3RoZXJcbiAgICogICBwb2ludHMgYXJlIHJlbGF0aXZlIHRvIHRoaXMgb25lKVxuICAgKiBAcGFyYW0ge0FycmF5PFZlY3Rvcj49fSBwb2ludHMgQW4gYXJyYXkgb2YgdmVjdG9ycyByZXByZXNlbnRpbmcgdGhlIHBvaW50cyBpbiB0aGUgcG9seWdvbixcbiAgICogICBpbiBjb3VudGVyLWNsb2Nrd2lzZSBvcmRlci5cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBmdW5jdGlvbiBQb2x5Z29uKHBvcywgcG9pbnRzKSB7XG4gICAgdGhpc1sncG9zJ10gPSBwb3MgfHwgbmV3IFZlY3RvcigpO1xuICAgIHRoaXNbJ2FuZ2xlJ10gPSAwO1xuICAgIHRoaXNbJ29mZnNldCddID0gbmV3IFZlY3RvcigpO1xuICAgIHRoaXMuc2V0UG9pbnRzKHBvaW50cyB8fCBbXSk7XG4gIH1cbiAgU0FUWydQb2x5Z29uJ10gPSBQb2x5Z29uO1xuXG4gIC8vIFNldCB0aGUgcG9pbnRzIG9mIHRoZSBwb2x5Z29uLiBBbnkgY29uc2VjdXRpdmUgZHVwbGljYXRlIHBvaW50cyB3aWxsIGJlIGNvbWJpbmVkLlxuICAvL1xuICAvLyBOb3RlOiBUaGUgcG9pbnRzIGFyZSBjb3VudGVyLWNsb2Nrd2lzZSAqd2l0aCByZXNwZWN0IHRvIHRoZSBjb29yZGluYXRlIHN5c3RlbSouXG4gIC8vIElmIHlvdSBkaXJlY3RseSBkcmF3IHRoZSBwb2ludHMgb24gYSBzY3JlZW4gdGhhdCBoYXMgdGhlIG9yaWdpbiBhdCB0aGUgdG9wLWxlZnQgY29ybmVyXG4gIC8vIGl0IHdpbGwgX2FwcGVhcl8gdmlzdWFsbHkgdGhhdCB0aGUgcG9pbnRzIGFyZSBiZWluZyBzcGVjaWZpZWQgY2xvY2t3aXNlLiBUaGlzIGlzIGp1c3RcbiAgLy8gYmVjYXVzZSBvZiB0aGUgaW52ZXJzaW9uIG9mIHRoZSBZLWF4aXMgd2hlbiBiZWluZyBkaXNwbGF5ZWQuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PFZlY3Rvcj49fSBwb2ludHMgQW4gYXJyYXkgb2YgdmVjdG9ycyByZXByZXNlbnRpbmcgdGhlIHBvaW50cyBpbiB0aGUgcG9seWdvbixcbiAgICogICBpbiBjb3VudGVyLWNsb2Nrd2lzZSBvcmRlci5cbiAgICogQHJldHVybiB7UG9seWdvbn0gVGhpcyBmb3IgY2hhaW5pbmcuXG4gICAqL1xuICBQb2x5Z29uLnByb3RvdHlwZVsnc2V0UG9pbnRzJ10gPSBQb2x5Z29uLnByb3RvdHlwZS5zZXRQb2ludHMgPSBmdW5jdGlvbihwb2ludHMpIHtcbiAgICAvLyBPbmx5IHJlLWFsbG9jYXRlIGlmIHRoaXMgaXMgYSBuZXcgcG9seWdvbiBvciB0aGUgbnVtYmVyIG9mIHBvaW50cyBoYXMgY2hhbmdlZC5cbiAgICB2YXIgbGVuZ3RoQ2hhbmdlZCA9ICF0aGlzWydwb2ludHMnXSB8fCB0aGlzWydwb2ludHMnXS5sZW5ndGggIT09IHBvaW50cy5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aENoYW5nZWQpIHtcbiAgICAgIHZhciBpO1xuICAgICAgdmFyIGNhbGNQb2ludHMgPSB0aGlzWydjYWxjUG9pbnRzJ10gPSBbXTtcbiAgICAgIHZhciBlZGdlcyA9IHRoaXNbJ2VkZ2VzJ10gPSBbXTtcbiAgICAgIHZhciBub3JtYWxzID0gdGhpc1snbm9ybWFscyddID0gW107XG4gICAgICAvLyBBbGxvY2F0ZSB0aGUgdmVjdG9yIGFycmF5cyBmb3IgdGhlIGNhbGN1bGF0ZWQgcHJvcGVydGllc1xuICAgICAgZm9yIChpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBSZW1vdmUgY29uc2VjdXRpdmUgZHVwbGljYXRlIHBvaW50c1xuICAgICAgICB2YXIgcDEgPSBwb2ludHNbaV07XG4gICAgICAgIHZhciBwMiA9IGkgPCBwb2ludHMubGVuZ3RoIC0gMSA/IHBvaW50c1tpICsgMV0gOiBwb2ludHNbMF07XG4gICAgICAgIGlmIChwMSAhPT0gcDIgJiYgcDEueCA9PT0gcDIueCAmJiBwMS55ID09PSBwMi55KSB7XG4gICAgICAgICAgcG9pbnRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICBpIC09IDE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FsY1BvaW50cy5wdXNoKG5ldyBWZWN0b3IoKSk7XG4gICAgICAgIGVkZ2VzLnB1c2gobmV3IFZlY3RvcigpKTtcbiAgICAgICAgbm9ybWFscy5wdXNoKG5ldyBWZWN0b3IoKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXNbJ3BvaW50cyddID0gcG9pbnRzO1xuICAgIHRoaXMuX3JlY2FsYygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIFNldCB0aGUgY3VycmVudCByb3RhdGlvbiBhbmdsZSBvZiB0aGUgcG9seWdvbi5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSBUaGUgY3VycmVudCByb3RhdGlvbiBhbmdsZSAoaW4gcmFkaWFucykuXG4gICAqIEByZXR1cm4ge1BvbHlnb259IFRoaXMgZm9yIGNoYWluaW5nLlxuICAgKi9cbiAgUG9seWdvbi5wcm90b3R5cGVbJ3NldEFuZ2xlJ10gPSBQb2x5Z29uLnByb3RvdHlwZS5zZXRBbmdsZSA9IGZ1bmN0aW9uKGFuZ2xlKSB7XG4gICAgdGhpc1snYW5nbGUnXSA9IGFuZ2xlO1xuICAgIHRoaXMuX3JlY2FsYygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIFNldCB0aGUgY3VycmVudCBvZmZzZXQgdG8gYXBwbHkgdG8gdGhlIGBwb2ludHNgIGJlZm9yZSBhcHBseWluZyB0aGUgYGFuZ2xlYCByb3RhdGlvbi5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VmVjdG9yfSBvZmZzZXQgVGhlIG5ldyBvZmZzZXQgdmVjdG9yLlxuICAgKiBAcmV0dXJuIHtQb2x5Z29ufSBUaGlzIGZvciBjaGFpbmluZy5cbiAgICovXG4gIFBvbHlnb24ucHJvdG90eXBlWydzZXRPZmZzZXQnXSA9IFBvbHlnb24ucHJvdG90eXBlLnNldE9mZnNldCA9IGZ1bmN0aW9uKG9mZnNldCkge1xuICAgIHRoaXNbJ29mZnNldCddID0gb2Zmc2V0O1xuICAgIHRoaXMuX3JlY2FsYygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIFJvdGF0ZXMgdGhpcyBwb2x5Z29uIGNvdW50ZXItY2xvY2t3aXNlIGFyb3VuZCB0aGUgb3JpZ2luIG9mICppdHMgbG9jYWwgY29vcmRpbmF0ZSBzeXN0ZW0qIChpLmUuIGBwb3NgKS5cbiAgLy9cbiAgLy8gTm90ZTogVGhpcyBjaGFuZ2VzIHRoZSAqKm9yaWdpbmFsKiogcG9pbnRzIChzbyBhbnkgYGFuZ2xlYCB3aWxsIGJlIGFwcGxpZWQgb24gdG9wIG9mIHRoaXMgcm90YXRpb24pLlxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIFRoZSBhbmdsZSB0byByb3RhdGUgKGluIHJhZGlhbnMpXG4gICAqIEByZXR1cm4ge1BvbHlnb259IFRoaXMgZm9yIGNoYWluaW5nLlxuICAgKi9cbiAgUG9seWdvbi5wcm90b3R5cGVbJ3JvdGF0ZSddID0gUG9seWdvbi5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24oYW5nbGUpIHtcbiAgICB2YXIgcG9pbnRzID0gdGhpc1sncG9pbnRzJ107XG4gICAgdmFyIGxlbiA9IHBvaW50cy5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgcG9pbnRzW2ldLnJvdGF0ZShhbmdsZSk7XG4gICAgfVxuICAgIHRoaXMuX3JlY2FsYygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIFRyYW5zbGF0ZXMgdGhlIHBvaW50cyBvZiB0aGlzIHBvbHlnb24gYnkgYSBzcGVjaWZpZWQgYW1vdW50IHJlbGF0aXZlIHRvIHRoZSBvcmlnaW4gb2YgKml0cyBvd24gY29vcmRpbmF0ZVxuICAvLyBzeXN0ZW0qIChpLmUuIGBwb3NgKS5cbiAgLy9cbiAgLy8gVGhpcyBpcyBtb3N0IHVzZWZ1bCB0byBjaGFuZ2UgdGhlIFwiY2VudGVyIHBvaW50XCIgb2YgYSBwb2x5Z29uLiBJZiB5b3UganVzdCB3YW50IHRvIG1vdmUgdGhlIHdob2xlIHBvbHlnb24sIGNoYW5nZVxuICAvLyB0aGUgY29vcmRpbmF0ZXMgb2YgYHBvc2AuXG4gIC8vXG4gIC8vIE5vdGU6IFRoaXMgY2hhbmdlcyB0aGUgKipvcmlnaW5hbCoqIHBvaW50cyAoc28gYW55IGBvZmZzZXRgIHdpbGwgYmUgYXBwbGllZCBvbiB0b3Agb2YgdGhpcyB0cmFuc2xhdGlvbilcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRoZSBob3Jpem9udGFsIGFtb3VudCB0byB0cmFuc2xhdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRoZSB2ZXJ0aWNhbCBhbW91bnQgdG8gdHJhbnNsYXRlLlxuICAgKiBAcmV0dXJuIHtQb2x5Z29ufSBUaGlzIGZvciBjaGFpbmluZy5cbiAgICovXG4gIFBvbHlnb24ucHJvdG90eXBlWyd0cmFuc2xhdGUnXSA9IFBvbHlnb24ucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgdmFyIHBvaW50cyA9IHRoaXNbJ3BvaW50cyddO1xuICAgIHZhciBsZW4gPSBwb2ludHMubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHBvaW50c1tpXVtcInhcIl0gKz0geDtcbiAgICAgIHBvaW50c1tpXVtcInlcIl0gKz0geTtcbiAgICB9XG4gICAgdGhpcy5fcmVjYWxjKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cblxuICAvLyBDb21wdXRlcyB0aGUgY2FsY3VsYXRlZCBjb2xsaXNpb24gcG9seWdvbi4gQXBwbGllcyB0aGUgYGFuZ2xlYCBhbmQgYG9mZnNldGAgdG8gdGhlIG9yaWdpbmFsIHBvaW50cyB0aGVuIHJlY2FsY3VsYXRlcyB0aGVcbiAgLy8gZWRnZXMgYW5kIG5vcm1hbHMgb2YgdGhlIGNvbGxpc2lvbiBwb2x5Z29uLlxuICAvKipcbiAgICogQHJldHVybiB7UG9seWdvbn0gVGhpcyBmb3IgY2hhaW5pbmcuXG4gICAqL1xuICBQb2x5Z29uLnByb3RvdHlwZS5fcmVjYWxjID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gQ2FsY3VsYXRlZCBwb2ludHMgLSB0aGlzIGlzIHdoYXQgaXMgdXNlZCBmb3IgdW5kZXJseWluZyBjb2xsaXNpb25zIGFuZCB0YWtlcyBpbnRvIGFjY291bnRcbiAgICAvLyB0aGUgYW5nbGUvb2Zmc2V0IHNldCBvbiB0aGUgcG9seWdvbi5cbiAgICB2YXIgY2FsY1BvaW50cyA9IHRoaXNbJ2NhbGNQb2ludHMnXTtcbiAgICAvLyBUaGUgZWRnZXMgaGVyZSBhcmUgdGhlIGRpcmVjdGlvbiBvZiB0aGUgYG5gdGggZWRnZSBvZiB0aGUgcG9seWdvbiwgcmVsYXRpdmUgdG9cbiAgICAvLyB0aGUgYG5gdGggcG9pbnQuIElmIHlvdSB3YW50IHRvIGRyYXcgYSBnaXZlbiBlZGdlIGZyb20gdGhlIGVkZ2UgdmFsdWUsIHlvdSBtdXN0XG4gICAgLy8gZmlyc3QgdHJhbnNsYXRlIHRvIHRoZSBwb3NpdGlvbiBvZiB0aGUgc3RhcnRpbmcgcG9pbnQuXG4gICAgdmFyIGVkZ2VzID0gdGhpc1snZWRnZXMnXTtcbiAgICAvLyBUaGUgbm9ybWFscyBoZXJlIGFyZSB0aGUgZGlyZWN0aW9uIG9mIHRoZSBub3JtYWwgZm9yIHRoZSBgbmB0aCBlZGdlIG9mIHRoZSBwb2x5Z29uLCByZWxhdGl2ZVxuICAgIC8vIHRvIHRoZSBwb3NpdGlvbiBvZiB0aGUgYG5gdGggcG9pbnQuIElmIHlvdSB3YW50IHRvIGRyYXcgYW4gZWRnZSBub3JtYWwsIHlvdSBtdXN0IGZpcnN0XG4gICAgLy8gdHJhbnNsYXRlIHRvIHRoZSBwb3NpdGlvbiBvZiB0aGUgc3RhcnRpbmcgcG9pbnQuXG4gICAgdmFyIG5vcm1hbHMgPSB0aGlzWydub3JtYWxzJ107XG4gICAgLy8gQ29weSB0aGUgb3JpZ2luYWwgcG9pbnRzIGFycmF5IGFuZCBhcHBseSB0aGUgb2Zmc2V0L2FuZ2xlXG4gICAgdmFyIHBvaW50cyA9IHRoaXNbJ3BvaW50cyddO1xuICAgIHZhciBvZmZzZXQgPSB0aGlzWydvZmZzZXQnXTtcbiAgICB2YXIgYW5nbGUgPSB0aGlzWydhbmdsZSddO1xuICAgIHZhciBsZW4gPSBwb2ludHMubGVuZ3RoO1xuICAgIHZhciBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIGNhbGNQb2ludCA9IGNhbGNQb2ludHNbaV0uY29weShwb2ludHNbaV0pO1xuICAgICAgY2FsY1BvaW50W1wieFwiXSArPSBvZmZzZXRbXCJ4XCJdO1xuICAgICAgY2FsY1BvaW50W1wieVwiXSArPSBvZmZzZXRbXCJ5XCJdO1xuICAgICAgaWYgKGFuZ2xlICE9PSAwKSB7XG4gICAgICAgIGNhbGNQb2ludC5yb3RhdGUoYW5nbGUpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBDYWxjdWxhdGUgdGhlIGVkZ2VzL25vcm1hbHNcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBwMSA9IGNhbGNQb2ludHNbaV07XG4gICAgICB2YXIgcDIgPSBpIDwgbGVuIC0gMSA/IGNhbGNQb2ludHNbaSArIDFdIDogY2FsY1BvaW50c1swXTtcbiAgICAgIHZhciBlID0gZWRnZXNbaV0uY29weShwMikuc3ViKHAxKTtcbiAgICAgIG5vcm1hbHNbaV0uY29weShlKS5wZXJwKCkubm9ybWFsaXplKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG5cbiAgLy8gQ29tcHV0ZSB0aGUgYXhpcy1hbGlnbmVkIGJvdW5kaW5nIGJveC4gQW55IGN1cnJlbnQgc3RhdGVcbiAgLy8gKHRyYW5zbGF0aW9ucy9yb3RhdGlvbnMpIHdpbGwgYmUgYXBwbGllZCBiZWZvcmUgY29uc3RydWN0aW5nIHRoZSBBQUJCLlxuICAvL1xuICAvLyBOb3RlOiBSZXR1cm5zIGEgX25ld18gYFBvbHlnb25gIGVhY2ggdGltZSB5b3UgY2FsbCB0aGlzLlxuICAvKipcbiAgICogQHJldHVybiB7UG9seWdvbn0gVGhlIEFBQkJcbiAgICovXG4gIFBvbHlnb24ucHJvdG90eXBlW1wiZ2V0QUFCQlwiXSA9IFBvbHlnb24ucHJvdG90eXBlLmdldEFBQkIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcG9pbnRzID0gdGhpc1tcImNhbGNQb2ludHNcIl07XG4gICAgdmFyIGxlbiA9IHBvaW50cy5sZW5ndGg7XG4gICAgdmFyIHhNaW4gPSBwb2ludHNbMF1bXCJ4XCJdO1xuICAgIHZhciB5TWluID0gcG9pbnRzWzBdW1wieVwiXTtcbiAgICB2YXIgeE1heCA9IHBvaW50c1swXVtcInhcIl07XG4gICAgdmFyIHlNYXggPSBwb2ludHNbMF1bXCJ5XCJdO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgIGlmIChwb2ludFtcInhcIl0gPCB4TWluKSB7XG4gICAgICAgIHhNaW4gPSBwb2ludFtcInhcIl07XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChwb2ludFtcInhcIl0gPiB4TWF4KSB7XG4gICAgICAgIHhNYXggPSBwb2ludFtcInhcIl07XG4gICAgICB9XG4gICAgICBpZiAocG9pbnRbXCJ5XCJdIDwgeU1pbikge1xuICAgICAgICB5TWluID0gcG9pbnRbXCJ5XCJdO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAocG9pbnRbXCJ5XCJdID4geU1heCkge1xuICAgICAgICB5TWF4ID0gcG9pbnRbXCJ5XCJdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IEJveCh0aGlzWydwb3MnXS5jbG9uZSgpLmFkZChuZXcgVmVjdG9yKHhNaW4sIHlNaW4pKSwgeE1heCAtIHhNaW4sIHlNYXggLSB5TWluKS50b1BvbHlnb24oKTtcbiAgfTtcblxuICAvLyBDb21wdXRlIHRoZSBjZW50cm9pZCAoZ2VvbWV0cmljIGNlbnRlcikgb2YgdGhlIHBvbHlnb24uIEFueSBjdXJyZW50IHN0YXRlXG4gIC8vICh0cmFuc2xhdGlvbnMvcm90YXRpb25zKSB3aWxsIGJlIGFwcGxpZWQgYmVmb3JlIGNvbXB1dGluZyB0aGUgY2VudHJvaWQuXG4gIC8vXG4gIC8vIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DZW50cm9pZCNDZW50cm9pZF9vZl9hX3BvbHlnb25cbiAgLy9cbiAgLy8gTm90ZTogUmV0dXJucyBhIF9uZXdfIGBWZWN0b3JgIGVhY2ggdGltZSB5b3UgY2FsbCB0aGlzLlxuICAvKipcbiAgICogQHJldHVybiB7VmVjdG9yfSBBIFZlY3RvciB0aGF0IGNvbnRhaW5zIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgQ2VudHJvaWQuXG4gICAqL1xuICBQb2x5Z29uLnByb3RvdHlwZVtcImdldENlbnRyb2lkXCJdID0gUG9seWdvbi5wcm90b3R5cGUuZ2V0Q2VudHJvaWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcG9pbnRzID0gdGhpc1tcImNhbGNQb2ludHNcIl07XG4gICAgdmFyIGxlbiA9IHBvaW50cy5sZW5ndGg7XG4gICAgdmFyIGN4ID0gMDtcbiAgICB2YXIgY3kgPSAwO1xuICAgIHZhciBhciA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIHAxID0gcG9pbnRzW2ldO1xuICAgICAgdmFyIHAyID0gaSA9PT0gbGVuIC0gMSA/IHBvaW50c1swXSA6IHBvaW50c1tpKzFdOyAvLyBMb29wIGFyb3VuZCBpZiBsYXN0IHBvaW50XG4gICAgICB2YXIgYSA9IHAxW1wieFwiXSAqIHAyW1wieVwiXSAtIHAyW1wieFwiXSAqIHAxW1wieVwiXTtcbiAgICAgIGN4ICs9IChwMVtcInhcIl0gKyBwMltcInhcIl0pICogYTtcbiAgICAgIGN5ICs9IChwMVtcInlcIl0gKyBwMltcInlcIl0pICogYTtcbiAgICAgIGFyICs9IGE7XG4gICAgfVxuICAgIGFyID0gYXIgKiAzOyAvLyB3ZSB3YW50IDEgLyA2IHRoZSBhcmVhIGFuZCB3ZSBjdXJyZW50bHkgaGF2ZSAyKmFyZWFcbiAgICBjeCA9IGN4IC8gYXI7XG4gICAgY3kgPSBjeSAvIGFyO1xuICAgIHJldHVybiBuZXcgVmVjdG9yKGN4LCBjeSk7XG4gIH07XG5cblxuICAvLyAjIyBCb3hcbiAgLy9cbiAgLy8gUmVwcmVzZW50cyBhbiBheGlzLWFsaWduZWQgYm94LCB3aXRoIGEgd2lkdGggYW5kIGhlaWdodC5cblxuXG4gIC8vIENyZWF0ZSBhIG5ldyBib3gsIHdpdGggdGhlIHNwZWNpZmllZCBwb3NpdGlvbiwgd2lkdGgsIGFuZCBoZWlnaHQuIElmIG5vIHBvc2l0aW9uXG4gIC8vIGlzIGdpdmVuLCB0aGUgcG9zaXRpb24gd2lsbCBiZSBgKDAsMClgLiBJZiBubyB3aWR0aCBvciBoZWlnaHQgYXJlIGdpdmVuLCB0aGV5IHdpbGxcbiAgLy8gYmUgc2V0IHRvIGAwYC5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VmVjdG9yPX0gcG9zIEEgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgYm90dG9tLWxlZnQgb2YgdGhlIGJveCAoaS5lLiB0aGUgc21hbGxlc3QgeCBhbmQgc21hbGxlc3QgeSB2YWx1ZSkuXG4gICAqIEBwYXJhbSB7P251bWJlcj19IHcgVGhlIHdpZHRoIG9mIHRoZSBib3guXG4gICAqIEBwYXJhbSB7P251bWJlcj19IGggVGhlIGhlaWdodCBvZiB0aGUgYm94LlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGZ1bmN0aW9uIEJveChwb3MsIHcsIGgpIHtcbiAgICB0aGlzWydwb3MnXSA9IHBvcyB8fCBuZXcgVmVjdG9yKCk7XG4gICAgdGhpc1sndyddID0gdyB8fCAwO1xuICAgIHRoaXNbJ2gnXSA9IGggfHwgMDtcbiAgfVxuICBTQVRbJ0JveCddID0gQm94O1xuXG4gIC8vIFJldHVybnMgYSBwb2x5Z29uIHdob3NlIGVkZ2VzIGFyZSB0aGUgc2FtZSBhcyB0aGlzIGJveC5cbiAgLyoqXG4gICAqIEByZXR1cm4ge1BvbHlnb259IEEgbmV3IFBvbHlnb24gdGhhdCByZXByZXNlbnRzIHRoaXMgYm94LlxuICAgKi9cbiAgQm94LnByb3RvdHlwZVsndG9Qb2x5Z29uJ10gPSBCb3gucHJvdG90eXBlLnRvUG9seWdvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwb3MgPSB0aGlzWydwb3MnXTtcbiAgICB2YXIgdyA9IHRoaXNbJ3cnXTtcbiAgICB2YXIgaCA9IHRoaXNbJ2gnXTtcbiAgICByZXR1cm4gbmV3IFBvbHlnb24obmV3IFZlY3Rvcihwb3NbJ3gnXSwgcG9zWyd5J10pLCBbXG4gICAgIG5ldyBWZWN0b3IoKSwgbmV3IFZlY3Rvcih3LCAwKSxcbiAgICAgbmV3IFZlY3Rvcih3LGgpLCBuZXcgVmVjdG9yKDAsaClcbiAgICBdKTtcbiAgfTtcblxuICAvLyAjIyBSZXNwb25zZVxuICAvL1xuICAvLyBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSByZXN1bHQgb2YgYW4gaW50ZXJzZWN0aW9uLiBDb250YWluczpcbiAgLy8gIC0gVGhlIHR3byBvYmplY3RzIHBhcnRpY2lwYXRpbmcgaW4gdGhlIGludGVyc2VjdGlvblxuICAvLyAgLSBUaGUgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgbWluaW11bSBjaGFuZ2UgbmVjZXNzYXJ5IHRvIGV4dHJhY3QgdGhlIGZpcnN0IG9iamVjdFxuICAvLyAgICBmcm9tIHRoZSBzZWNvbmQgb25lIChhcyB3ZWxsIGFzIGEgdW5pdCB2ZWN0b3IgaW4gdGhhdCBkaXJlY3Rpb24gYW5kIHRoZSBtYWduaXR1ZGVcbiAgLy8gICAgb2YgdGhlIG92ZXJsYXApXG4gIC8vICAtIFdoZXRoZXIgdGhlIGZpcnN0IG9iamVjdCBpcyBlbnRpcmVseSBpbnNpZGUgdGhlIHNlY29uZCwgYW5kIHZpY2UgdmVyc2EuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGZ1bmN0aW9uIFJlc3BvbnNlKCkge1xuICAgIHRoaXNbJ2EnXSA9IG51bGw7XG4gICAgdGhpc1snYiddID0gbnVsbDtcbiAgICB0aGlzWydvdmVybGFwTiddID0gbmV3IFZlY3RvcigpO1xuICAgIHRoaXNbJ292ZXJsYXBWJ10gPSBuZXcgVmVjdG9yKCk7XG4gICAgdGhpcy5jbGVhcigpO1xuICB9XG4gIFNBVFsnUmVzcG9uc2UnXSA9IFJlc3BvbnNlO1xuXG4gIC8vIFNldCBzb21lIHZhbHVlcyBvZiB0aGUgcmVzcG9uc2UgYmFjayB0byB0aGVpciBkZWZhdWx0cy4gIENhbGwgdGhpcyBiZXR3ZWVuIHRlc3RzIGlmXG4gIC8vIHlvdSBhcmUgZ29pbmcgdG8gcmV1c2UgYSBzaW5nbGUgUmVzcG9uc2Ugb2JqZWN0IGZvciBtdWx0aXBsZSBpbnRlcnNlY3Rpb24gdGVzdHMgKHJlY29tbWVudGVkXG4gIC8vIGFzIGl0IHdpbGwgYXZvaWQgYWxsY2F0aW5nIGV4dHJhIG1lbW9yeSlcbiAgLyoqXG4gICAqIEByZXR1cm4ge1Jlc3BvbnNlfSBUaGlzIGZvciBjaGFpbmluZ1xuICAgKi9cbiAgUmVzcG9uc2UucHJvdG90eXBlWydjbGVhciddID0gUmVzcG9uc2UucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpc1snYUluQiddID0gdHJ1ZTtcbiAgICB0aGlzWydiSW5BJ10gPSB0cnVlO1xuICAgIHRoaXNbJ292ZXJsYXAnXSA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gIyMgT2JqZWN0IFBvb2xzXG5cbiAgLy8gQSBwb29sIG9mIGBWZWN0b3JgIG9iamVjdHMgdGhhdCBhcmUgdXNlZCBpbiBjYWxjdWxhdGlvbnMgdG8gYXZvaWRcbiAgLy8gYWxsb2NhdGluZyBtZW1vcnkuXG4gIC8qKlxuICAgKiBAdHlwZSB7QXJyYXk8VmVjdG9yPn1cbiAgICovXG4gIHZhciBUX1ZFQ1RPUlMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7IFRfVkVDVE9SUy5wdXNoKG5ldyBWZWN0b3IoKSk7IH1cblxuICAvLyBBIHBvb2wgb2YgYXJyYXlzIG9mIG51bWJlcnMgdXNlZCBpbiBjYWxjdWxhdGlvbnMgdG8gYXZvaWQgYWxsb2NhdGluZ1xuICAvLyBtZW1vcnkuXG4gIC8qKlxuICAgKiBAdHlwZSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59XG4gICAqL1xuICB2YXIgVF9BUlJBWVMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHsgVF9BUlJBWVMucHVzaChbXSk7IH1cblxuICAvLyBUZW1wb3JhcnkgcmVzcG9uc2UgdXNlZCBmb3IgcG9seWdvbiBoaXQgZGV0ZWN0aW9uLlxuICAvKipcbiAgICogQHR5cGUge1Jlc3BvbnNlfVxuICAgKi9cbiAgdmFyIFRfUkVTUE9OU0UgPSBuZXcgUmVzcG9uc2UoKTtcblxuICAvLyBUaW55IFwicG9pbnRcIiBwb2x5Z29uIHVzZWQgZm9yIHBvbHlnb24gaGl0IGRldGVjdGlvbi5cbiAgLyoqXG4gICAqIEB0eXBlIHtQb2x5Z29ufVxuICAgKi9cbiAgdmFyIFRFU1RfUE9JTlQgPSBuZXcgQm94KG5ldyBWZWN0b3IoKSwgMC4wMDAwMDEsIDAuMDAwMDAxKS50b1BvbHlnb24oKTtcblxuICAvLyAjIyBIZWxwZXIgRnVuY3Rpb25zXG5cbiAgLy8gRmxhdHRlbnMgdGhlIHNwZWNpZmllZCBhcnJheSBvZiBwb2ludHMgb250byBhIHVuaXQgdmVjdG9yIGF4aXMsXG4gIC8vIHJlc3VsdGluZyBpbiBhIG9uZSBkaW1lbnNpb25hbCByYW5nZSBvZiB0aGUgbWluaW11bSBhbmRcbiAgLy8gbWF4aW11bSB2YWx1ZSBvbiB0aGF0IGF4aXMuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PFZlY3Rvcj59IHBvaW50cyBUaGUgcG9pbnRzIHRvIGZsYXR0ZW4uXG4gICAqIEBwYXJhbSB7VmVjdG9yfSBub3JtYWwgVGhlIHVuaXQgdmVjdG9yIGF4aXMgdG8gZmxhdHRlbiBvbi5cbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSByZXN1bHQgQW4gYXJyYXkuICBBZnRlciBjYWxsaW5nIHRoaXMgZnVuY3Rpb24sXG4gICAqICAgcmVzdWx0WzBdIHdpbGwgYmUgdGhlIG1pbmltdW0gdmFsdWUsXG4gICAqICAgcmVzdWx0WzFdIHdpbGwgYmUgdGhlIG1heGltdW0gdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBmbGF0dGVuUG9pbnRzT24ocG9pbnRzLCBub3JtYWwsIHJlc3VsdCkge1xuICAgIHZhciBtaW4gPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgIHZhciBtYXggPSAtTnVtYmVyLk1BWF9WQUxVRTtcbiAgICB2YXIgbGVuID0gcG9pbnRzLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xuICAgICAgLy8gVGhlIG1hZ25pdHVkZSBvZiB0aGUgcHJvamVjdGlvbiBvZiB0aGUgcG9pbnQgb250byB0aGUgbm9ybWFsXG4gICAgICB2YXIgZG90ID0gcG9pbnRzW2ldLmRvdChub3JtYWwpO1xuICAgICAgaWYgKGRvdCA8IG1pbikgeyBtaW4gPSBkb3Q7IH1cbiAgICAgIGlmIChkb3QgPiBtYXgpIHsgbWF4ID0gZG90OyB9XG4gICAgfVxuICAgIHJlc3VsdFswXSA9IG1pbjsgcmVzdWx0WzFdID0gbWF4O1xuICB9XG5cbiAgLy8gQ2hlY2sgd2hldGhlciB0d28gY29udmV4IHBvbHlnb25zIGFyZSBzZXBhcmF0ZWQgYnkgdGhlIHNwZWNpZmllZFxuICAvLyBheGlzIChtdXN0IGJlIGEgdW5pdCB2ZWN0b3IpLlxuICAvKipcbiAgICogQHBhcmFtIHtWZWN0b3J9IGFQb3MgVGhlIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBwb2x5Z29uLlxuICAgKiBAcGFyYW0ge1ZlY3Rvcn0gYlBvcyBUaGUgcG9zaXRpb24gb2YgdGhlIHNlY29uZCBwb2x5Z29uLlxuICAgKiBAcGFyYW0ge0FycmF5PFZlY3Rvcj59IGFQb2ludHMgVGhlIHBvaW50cyBpbiB0aGUgZmlyc3QgcG9seWdvbi5cbiAgICogQHBhcmFtIHtBcnJheTxWZWN0b3I+fSBiUG9pbnRzIFRoZSBwb2ludHMgaW4gdGhlIHNlY29uZCBwb2x5Z29uLlxuICAgKiBAcGFyYW0ge1ZlY3Rvcn0gYXhpcyBUaGUgYXhpcyAodW5pdCBzaXplZCkgdG8gdGVzdCBhZ2FpbnN0LiAgVGhlIHBvaW50cyBvZiBib3RoIHBvbHlnb25zXG4gICAqICAgd2lsbCBiZSBwcm9qZWN0ZWQgb250byB0aGlzIGF4aXMuXG4gICAqIEBwYXJhbSB7UmVzcG9uc2U9fSByZXNwb25zZSBBIFJlc3BvbnNlIG9iamVjdCAob3B0aW9uYWwpIHdoaWNoIHdpbGwgYmUgcG9wdWxhdGVkXG4gICAqICAgaWYgdGhlIGF4aXMgaXMgbm90IGEgc2VwYXJhdGluZyBheGlzLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGl0IGlzIGEgc2VwYXJhdGluZyBheGlzLCBmYWxzZSBvdGhlcndpc2UuICBJZiBmYWxzZSxcbiAgICogICBhbmQgYSByZXNwb25zZSBpcyBwYXNzZWQgaW4sIGluZm9ybWF0aW9uIGFib3V0IGhvdyBtdWNoIG92ZXJsYXAgYW5kXG4gICAqICAgdGhlIGRpcmVjdGlvbiBvZiB0aGUgb3ZlcmxhcCB3aWxsIGJlIHBvcHVsYXRlZC5cbiAgICovXG4gIGZ1bmN0aW9uIGlzU2VwYXJhdGluZ0F4aXMoYVBvcywgYlBvcywgYVBvaW50cywgYlBvaW50cywgYXhpcywgcmVzcG9uc2UpIHtcbiAgICB2YXIgcmFuZ2VBID0gVF9BUlJBWVMucG9wKCk7XG4gICAgdmFyIHJhbmdlQiA9IFRfQVJSQVlTLnBvcCgpO1xuICAgIC8vIFRoZSBtYWduaXR1ZGUgb2YgdGhlIG9mZnNldCBiZXR3ZWVuIHRoZSB0d28gcG9seWdvbnNcbiAgICB2YXIgb2Zmc2V0ViA9IFRfVkVDVE9SUy5wb3AoKS5jb3B5KGJQb3MpLnN1YihhUG9zKTtcbiAgICB2YXIgcHJvamVjdGVkT2Zmc2V0ID0gb2Zmc2V0Vi5kb3QoYXhpcyk7XG4gICAgLy8gUHJvamVjdCB0aGUgcG9seWdvbnMgb250byB0aGUgYXhpcy5cbiAgICBmbGF0dGVuUG9pbnRzT24oYVBvaW50cywgYXhpcywgcmFuZ2VBKTtcbiAgICBmbGF0dGVuUG9pbnRzT24oYlBvaW50cywgYXhpcywgcmFuZ2VCKTtcbiAgICAvLyBNb3ZlIEIncyByYW5nZSB0byBpdHMgcG9zaXRpb24gcmVsYXRpdmUgdG8gQS5cbiAgICByYW5nZUJbMF0gKz0gcHJvamVjdGVkT2Zmc2V0O1xuICAgIHJhbmdlQlsxXSArPSBwcm9qZWN0ZWRPZmZzZXQ7XG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBnYXAuIElmIHRoZXJlIGlzLCB0aGlzIGlzIGEgc2VwYXJhdGluZyBheGlzIGFuZCB3ZSBjYW4gc3RvcFxuICAgIGlmIChyYW5nZUFbMF0gPiByYW5nZUJbMV0gfHwgcmFuZ2VCWzBdID4gcmFuZ2VBWzFdKSB7XG4gICAgICBUX1ZFQ1RPUlMucHVzaChvZmZzZXRWKTtcbiAgICAgIFRfQVJSQVlTLnB1c2gocmFuZ2VBKTtcbiAgICAgIFRfQVJSQVlTLnB1c2gocmFuZ2VCKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBUaGlzIGlzIG5vdCBhIHNlcGFyYXRpbmcgYXhpcy4gSWYgd2UncmUgY2FsY3VsYXRpbmcgYSByZXNwb25zZSwgY2FsY3VsYXRlIHRoZSBvdmVybGFwLlxuICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgdmFyIG92ZXJsYXAgPSAwO1xuICAgICAgLy8gQSBzdGFydHMgZnVydGhlciBsZWZ0IHRoYW4gQlxuICAgICAgaWYgKHJhbmdlQVswXSA8IHJhbmdlQlswXSkge1xuICAgICAgICByZXNwb25zZVsnYUluQiddID0gZmFsc2U7XG4gICAgICAgIC8vIEEgZW5kcyBiZWZvcmUgQiBkb2VzLiBXZSBoYXZlIHRvIHB1bGwgQSBvdXQgb2YgQlxuICAgICAgICBpZiAocmFuZ2VBWzFdIDwgcmFuZ2VCWzFdKSB7XG4gICAgICAgICAgb3ZlcmxhcCA9IHJhbmdlQVsxXSAtIHJhbmdlQlswXTtcbiAgICAgICAgICByZXNwb25zZVsnYkluQSddID0gZmFsc2U7XG4gICAgICAgIC8vIEIgaXMgZnVsbHkgaW5zaWRlIEEuICBQaWNrIHRoZSBzaG9ydGVzdCB3YXkgb3V0LlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBvcHRpb24xID0gcmFuZ2VBWzFdIC0gcmFuZ2VCWzBdO1xuICAgICAgICAgIHZhciBvcHRpb24yID0gcmFuZ2VCWzFdIC0gcmFuZ2VBWzBdO1xuICAgICAgICAgIG92ZXJsYXAgPSBvcHRpb24xIDwgb3B0aW9uMiA/IG9wdGlvbjEgOiAtb3B0aW9uMjtcbiAgICAgICAgfVxuICAgICAgLy8gQiBzdGFydHMgZnVydGhlciBsZWZ0IHRoYW4gQVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzcG9uc2VbJ2JJbkEnXSA9IGZhbHNlO1xuICAgICAgICAvLyBCIGVuZHMgYmVmb3JlIEEgZW5kcy4gV2UgaGF2ZSB0byBwdXNoIEEgb3V0IG9mIEJcbiAgICAgICAgaWYgKHJhbmdlQVsxXSA+IHJhbmdlQlsxXSkge1xuICAgICAgICAgIG92ZXJsYXAgPSByYW5nZUFbMF0gLSByYW5nZUJbMV07XG4gICAgICAgICAgcmVzcG9uc2VbJ2FJbkInXSA9IGZhbHNlO1xuICAgICAgICAvLyBBIGlzIGZ1bGx5IGluc2lkZSBCLiAgUGljayB0aGUgc2hvcnRlc3Qgd2F5IG91dC5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgb3B0aW9uMSA9IHJhbmdlQVsxXSAtIHJhbmdlQlswXTtcbiAgICAgICAgICB2YXIgb3B0aW9uMiA9IHJhbmdlQlsxXSAtIHJhbmdlQVswXTtcbiAgICAgICAgICBvdmVybGFwID0gb3B0aW9uMSA8IG9wdGlvbjIgPyBvcHRpb24xIDogLW9wdGlvbjI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIElmIHRoaXMgaXMgdGhlIHNtYWxsZXN0IGFtb3VudCBvZiBvdmVybGFwIHdlJ3ZlIHNlZW4gc28gZmFyLCBzZXQgaXQgYXMgdGhlIG1pbmltdW0gb3ZlcmxhcC5cbiAgICAgIHZhciBhYnNPdmVybGFwID0gTWF0aC5hYnMob3ZlcmxhcCk7XG4gICAgICBpZiAoYWJzT3ZlcmxhcCA8IHJlc3BvbnNlWydvdmVybGFwJ10pIHtcbiAgICAgICAgcmVzcG9uc2VbJ292ZXJsYXAnXSA9IGFic092ZXJsYXA7XG4gICAgICAgIHJlc3BvbnNlWydvdmVybGFwTiddLmNvcHkoYXhpcyk7XG4gICAgICAgIGlmIChvdmVybGFwIDwgMCkge1xuICAgICAgICAgIHJlc3BvbnNlWydvdmVybGFwTiddLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBUX1ZFQ1RPUlMucHVzaChvZmZzZXRWKTtcbiAgICBUX0FSUkFZUy5wdXNoKHJhbmdlQSk7XG4gICAgVF9BUlJBWVMucHVzaChyYW5nZUIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBTQVRbJ2lzU2VwYXJhdGluZ0F4aXMnXSA9IGlzU2VwYXJhdGluZ0F4aXM7XG5cbiAgLy8gQ2FsY3VsYXRlcyB3aGljaCBWb3Jvbm9pIHJlZ2lvbiBhIHBvaW50IGlzIG9uIGEgbGluZSBzZWdtZW50LlxuICAvLyBJdCBpcyBhc3N1bWVkIHRoYXQgYm90aCB0aGUgbGluZSBhbmQgdGhlIHBvaW50IGFyZSByZWxhdGl2ZSB0byBgKDAsMClgXG4gIC8vXG4gIC8vICAgICAgICAgICAgfCAgICAgICAoMCkgICAgICB8XG4gIC8vICAgICAoLTEpICBbU10tLS0tLS0tLS0tLS0tLVtFXSAgKDEpXG4gIC8vICAgICAgICAgICAgfCAgICAgICAoMCkgICAgICB8XG4gIC8qKlxuICAgKiBAcGFyYW0ge1ZlY3Rvcn0gbGluZSBUaGUgbGluZSBzZWdtZW50LlxuICAgKiBAcGFyYW0ge1ZlY3Rvcn0gcG9pbnQgVGhlIHBvaW50LlxuICAgKiBAcmV0dXJuICB7bnVtYmVyfSBMRUZUX1ZPUk9OT0lfUkVHSU9OICgtMSkgaWYgaXQgaXMgdGhlIGxlZnQgcmVnaW9uLFxuICAgKiAgICAgICAgICBNSURETEVfVk9ST05PSV9SRUdJT04gKDApIGlmIGl0IGlzIHRoZSBtaWRkbGUgcmVnaW9uLFxuICAgKiAgICAgICAgICBSSUdIVF9WT1JPTk9JX1JFR0lPTiAoMSkgaWYgaXQgaXMgdGhlIHJpZ2h0IHJlZ2lvbi5cbiAgICovXG4gIGZ1bmN0aW9uIHZvcm9ub2lSZWdpb24obGluZSwgcG9pbnQpIHtcbiAgICB2YXIgbGVuMiA9IGxpbmUubGVuMigpO1xuICAgIHZhciBkcCA9IHBvaW50LmRvdChsaW5lKTtcbiAgICAvLyBJZiB0aGUgcG9pbnQgaXMgYmV5b25kIHRoZSBzdGFydCBvZiB0aGUgbGluZSwgaXQgaXMgaW4gdGhlXG4gICAgLy8gbGVmdCB2b3Jvbm9pIHJlZ2lvbi5cbiAgICBpZiAoZHAgPCAwKSB7IHJldHVybiBMRUZUX1ZPUk9OT0lfUkVHSU9OOyB9XG4gICAgLy8gSWYgdGhlIHBvaW50IGlzIGJleW9uZCB0aGUgZW5kIG9mIHRoZSBsaW5lLCBpdCBpcyBpbiB0aGVcbiAgICAvLyByaWdodCB2b3Jvbm9pIHJlZ2lvbi5cbiAgICBlbHNlIGlmIChkcCA+IGxlbjIpIHsgcmV0dXJuIFJJR0hUX1ZPUk9OT0lfUkVHSU9OOyB9XG4gICAgLy8gT3RoZXJ3aXNlLCBpdCdzIGluIHRoZSBtaWRkbGUgb25lLlxuICAgIGVsc2UgeyByZXR1cm4gTUlERExFX1ZPUk9OT0lfUkVHSU9OOyB9XG4gIH1cbiAgLy8gQ29uc3RhbnRzIGZvciBWb3Jvbm9pIHJlZ2lvbnNcbiAgLyoqXG4gICAqIEBjb25zdFxuICAgKi9cbiAgdmFyIExFRlRfVk9ST05PSV9SRUdJT04gPSAtMTtcbiAgLyoqXG4gICAqIEBjb25zdFxuICAgKi9cbiAgdmFyIE1JRERMRV9WT1JPTk9JX1JFR0lPTiA9IDA7XG4gIC8qKlxuICAgKiBAY29uc3RcbiAgICovXG4gIHZhciBSSUdIVF9WT1JPTk9JX1JFR0lPTiA9IDE7XG5cbiAgLy8gIyMgQ29sbGlzaW9uIFRlc3RzXG5cbiAgLy8gQ2hlY2sgaWYgYSBwb2ludCBpcyBpbnNpZGUgYSBjaXJjbGUuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1ZlY3Rvcn0gcCBUaGUgcG9pbnQgdG8gdGVzdC5cbiAgICogQHBhcmFtIHtDaXJjbGV9IGMgVGhlIGNpcmNsZSB0byB0ZXN0LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBwb2ludCBpcyBpbnNpZGUgdGhlIGNpcmNsZSwgZmFsc2UgaWYgaXQgaXMgbm90LlxuICAgKi9cbiAgZnVuY3Rpb24gcG9pbnRJbkNpcmNsZShwLCBjKSB7XG4gICAgdmFyIGRpZmZlcmVuY2VWID0gVF9WRUNUT1JTLnBvcCgpLmNvcHkocCkuc3ViKGNbJ3BvcyddKS5zdWIoY1snb2Zmc2V0J10pO1xuICAgIHZhciByYWRpdXNTcSA9IGNbJ3InXSAqIGNbJ3InXTtcbiAgICB2YXIgZGlzdGFuY2VTcSA9IGRpZmZlcmVuY2VWLmxlbjIoKTtcbiAgICBUX1ZFQ1RPUlMucHVzaChkaWZmZXJlbmNlVik7XG4gICAgLy8gSWYgdGhlIGRpc3RhbmNlIGJldHdlZW4gaXMgc21hbGxlciB0aGFuIHRoZSByYWRpdXMgdGhlbiB0aGUgcG9pbnQgaXMgaW5zaWRlIHRoZSBjaXJjbGUuXG4gICAgcmV0dXJuIGRpc3RhbmNlU3EgPD0gcmFkaXVzU3E7XG4gIH1cbiAgU0FUWydwb2ludEluQ2lyY2xlJ10gPSBwb2ludEluQ2lyY2xlO1xuXG4gIC8vIENoZWNrIGlmIGEgcG9pbnQgaXMgaW5zaWRlIGEgY29udmV4IHBvbHlnb24uXG4gIC8qKlxuICAgKiBAcGFyYW0ge1ZlY3Rvcn0gcCBUaGUgcG9pbnQgdG8gdGVzdC5cbiAgICogQHBhcmFtIHtQb2x5Z29ufSBwb2x5IFRoZSBwb2x5Z29uIHRvIHRlc3QuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIHBvaW50IGlzIGluc2lkZSB0aGUgcG9seWdvbiwgZmFsc2UgaWYgaXQgaXMgbm90LlxuICAgKi9cbiAgZnVuY3Rpb24gcG9pbnRJblBvbHlnb24ocCwgcG9seSkge1xuICAgIFRFU1RfUE9JTlRbJ3BvcyddLmNvcHkocCk7XG4gICAgVF9SRVNQT05TRS5jbGVhcigpO1xuICAgIHZhciByZXN1bHQgPSB0ZXN0UG9seWdvblBvbHlnb24oVEVTVF9QT0lOVCwgcG9seSwgVF9SRVNQT05TRSk7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgcmVzdWx0ID0gVF9SRVNQT05TRVsnYUluQiddO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIFNBVFsncG9pbnRJblBvbHlnb24nXSA9IHBvaW50SW5Qb2x5Z29uO1xuXG4gIC8vIENoZWNrIGlmIHR3byBjaXJjbGVzIGNvbGxpZGUuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NpcmNsZX0gYSBUaGUgZmlyc3QgY2lyY2xlLlxuICAgKiBAcGFyYW0ge0NpcmNsZX0gYiBUaGUgc2Vjb25kIGNpcmNsZS5cbiAgICogQHBhcmFtIHtSZXNwb25zZT19IHJlc3BvbnNlIFJlc3BvbnNlIG9iamVjdCAob3B0aW9uYWwpIHRoYXQgd2lsbCBiZSBwb3B1bGF0ZWQgaWZcbiAgICogICB0aGUgY2lyY2xlcyBpbnRlcnNlY3QuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIGNpcmNsZXMgaW50ZXJzZWN0LCBmYWxzZSBpZiB0aGV5IGRvbid0LlxuICAgKi9cbiAgZnVuY3Rpb24gdGVzdENpcmNsZUNpcmNsZShhLCBiLCByZXNwb25zZSkge1xuICAgIC8vIENoZWNrIGlmIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBjZW50ZXJzIG9mIHRoZSB0d29cbiAgICAvLyBjaXJjbGVzIGlzIGdyZWF0ZXIgdGhhbiB0aGVpciBjb21iaW5lZCByYWRpdXMuXG4gICAgdmFyIGRpZmZlcmVuY2VWID0gVF9WRUNUT1JTLnBvcCgpLmNvcHkoYlsncG9zJ10pLmFkZChiWydvZmZzZXQnXSkuc3ViKGFbJ3BvcyddKS5zdWIoYVsnb2Zmc2V0J10pO1xuICAgIHZhciB0b3RhbFJhZGl1cyA9IGFbJ3InXSArIGJbJ3InXTtcbiAgICB2YXIgdG90YWxSYWRpdXNTcSA9IHRvdGFsUmFkaXVzICogdG90YWxSYWRpdXM7XG4gICAgdmFyIGRpc3RhbmNlU3EgPSBkaWZmZXJlbmNlVi5sZW4yKCk7XG4gICAgLy8gSWYgdGhlIGRpc3RhbmNlIGlzIGJpZ2dlciB0aGFuIHRoZSBjb21iaW5lZCByYWRpdXMsIHRoZXkgZG9uJ3QgaW50ZXJzZWN0LlxuICAgIGlmIChkaXN0YW5jZVNxID4gdG90YWxSYWRpdXNTcSkge1xuICAgICAgVF9WRUNUT1JTLnB1c2goZGlmZmVyZW5jZVYpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBUaGV5IGludGVyc2VjdC4gIElmIHdlJ3JlIGNhbGN1bGF0aW5nIGEgcmVzcG9uc2UsIGNhbGN1bGF0ZSB0aGUgb3ZlcmxhcC5cbiAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgIHZhciBkaXN0ID0gTWF0aC5zcXJ0KGRpc3RhbmNlU3EpO1xuICAgICAgcmVzcG9uc2VbJ2EnXSA9IGE7XG4gICAgICByZXNwb25zZVsnYiddID0gYjtcbiAgICAgIHJlc3BvbnNlWydvdmVybGFwJ10gPSB0b3RhbFJhZGl1cyAtIGRpc3Q7XG4gICAgICByZXNwb25zZVsnb3ZlcmxhcE4nXS5jb3B5KGRpZmZlcmVuY2VWLm5vcm1hbGl6ZSgpKTtcbiAgICAgIHJlc3BvbnNlWydvdmVybGFwViddLmNvcHkoZGlmZmVyZW5jZVYpLnNjYWxlKHJlc3BvbnNlWydvdmVybGFwJ10pO1xuICAgICAgcmVzcG9uc2VbJ2FJbkInXT0gYVsnciddIDw9IGJbJ3InXSAmJiBkaXN0IDw9IGJbJ3InXSAtIGFbJ3InXTtcbiAgICAgIHJlc3BvbnNlWydiSW5BJ10gPSBiWydyJ10gPD0gYVsnciddICYmIGRpc3QgPD0gYVsnciddIC0gYlsnciddO1xuICAgIH1cbiAgICBUX1ZFQ1RPUlMucHVzaChkaWZmZXJlbmNlVik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgU0FUWyd0ZXN0Q2lyY2xlQ2lyY2xlJ10gPSB0ZXN0Q2lyY2xlQ2lyY2xlO1xuXG4gIC8vIENoZWNrIGlmIGEgcG9seWdvbiBhbmQgYSBjaXJjbGUgY29sbGlkZS5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UG9seWdvbn0gcG9seWdvbiBUaGUgcG9seWdvbi5cbiAgICogQHBhcmFtIHtDaXJjbGV9IGNpcmNsZSBUaGUgY2lyY2xlLlxuICAgKiBAcGFyYW0ge1Jlc3BvbnNlPX0gcmVzcG9uc2UgUmVzcG9uc2Ugb2JqZWN0IChvcHRpb25hbCkgdGhhdCB3aWxsIGJlIHBvcHVsYXRlZCBpZlxuICAgKiAgIHRoZXkgaW50ZXJzZXQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhleSBpbnRlcnNlY3QsIGZhbHNlIGlmIHRoZXkgZG9uJ3QuXG4gICAqL1xuICBmdW5jdGlvbiB0ZXN0UG9seWdvbkNpcmNsZShwb2x5Z29uLCBjaXJjbGUsIHJlc3BvbnNlKSB7XG4gICAgLy8gR2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgY2lyY2xlIHJlbGF0aXZlIHRvIHRoZSBwb2x5Z29uLlxuICAgIHZhciBjaXJjbGVQb3MgPSBUX1ZFQ1RPUlMucG9wKCkuY29weShjaXJjbGVbJ3BvcyddKS5hZGQoY2lyY2xlWydvZmZzZXQnXSkuc3ViKHBvbHlnb25bJ3BvcyddKTtcbiAgICB2YXIgcmFkaXVzID0gY2lyY2xlWydyJ107XG4gICAgdmFyIHJhZGl1czIgPSByYWRpdXMgKiByYWRpdXM7XG4gICAgdmFyIHBvaW50cyA9IHBvbHlnb25bJ2NhbGNQb2ludHMnXTtcbiAgICB2YXIgbGVuID0gcG9pbnRzLmxlbmd0aDtcbiAgICB2YXIgZWRnZSA9IFRfVkVDVE9SUy5wb3AoKTtcbiAgICB2YXIgcG9pbnQgPSBUX1ZFQ1RPUlMucG9wKCk7XG5cbiAgICAvLyBGb3IgZWFjaCBlZGdlIGluIHRoZSBwb2x5Z29uOlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBuZXh0ID0gaSA9PT0gbGVuIC0gMSA/IDAgOiBpICsgMTtcbiAgICAgIHZhciBwcmV2ID0gaSA9PT0gMCA/IGxlbiAtIDEgOiBpIC0gMTtcbiAgICAgIHZhciBvdmVybGFwID0gMDtcbiAgICAgIHZhciBvdmVybGFwTiA9IG51bGw7XG5cbiAgICAgIC8vIEdldCB0aGUgZWRnZS5cbiAgICAgIGVkZ2UuY29weShwb2x5Z29uWydlZGdlcyddW2ldKTtcbiAgICAgIC8vIENhbGN1bGF0ZSB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGUgcmVsYXRpdmUgdG8gdGhlIHN0YXJ0aW5nIHBvaW50IG9mIHRoZSBlZGdlLlxuICAgICAgcG9pbnQuY29weShjaXJjbGVQb3MpLnN1Yihwb2ludHNbaV0pO1xuXG4gICAgICAvLyBJZiB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGUgYW5kIHRoZSBwb2ludFxuICAgICAgLy8gaXMgYmlnZ2VyIHRoYW4gdGhlIHJhZGl1cywgdGhlIHBvbHlnb24gaXMgZGVmaW5pdGVseSBub3QgZnVsbHkgaW5cbiAgICAgIC8vIHRoZSBjaXJjbGUuXG4gICAgICBpZiAocmVzcG9uc2UgJiYgcG9pbnQubGVuMigpID4gcmFkaXVzMikge1xuICAgICAgICByZXNwb25zZVsnYUluQiddID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIENhbGN1bGF0ZSB3aGljaCBWb3Jvbm9pIHJlZ2lvbiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGUgaXMgaW4uXG4gICAgICB2YXIgcmVnaW9uID0gdm9yb25vaVJlZ2lvbihlZGdlLCBwb2ludCk7XG4gICAgICAvLyBJZiBpdCdzIHRoZSBsZWZ0IHJlZ2lvbjpcbiAgICAgIGlmIChyZWdpb24gPT09IExFRlRfVk9ST05PSV9SRUdJT04pIHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBtYWtlIHN1cmUgd2UncmUgaW4gdGhlIFJJR0hUX1ZPUk9OT0lfUkVHSU9OIG9mIHRoZSBwcmV2aW91cyBlZGdlLlxuICAgICAgICBlZGdlLmNvcHkocG9seWdvblsnZWRnZXMnXVtwcmV2XSk7XG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGUgcmVsYXRpdmUgdGhlIHN0YXJ0aW5nIHBvaW50IG9mIHRoZSBwcmV2aW91cyBlZGdlXG4gICAgICAgIHZhciBwb2ludDIgPSBUX1ZFQ1RPUlMucG9wKCkuY29weShjaXJjbGVQb3MpLnN1Yihwb2ludHNbcHJldl0pO1xuICAgICAgICByZWdpb24gPSB2b3Jvbm9pUmVnaW9uKGVkZ2UsIHBvaW50Mik7XG4gICAgICAgIGlmIChyZWdpb24gPT09IFJJR0hUX1ZPUk9OT0lfUkVHSU9OKSB7XG4gICAgICAgICAgLy8gSXQncyBpbiB0aGUgcmVnaW9uIHdlIHdhbnQuICBDaGVjayBpZiB0aGUgY2lyY2xlIGludGVyc2VjdHMgdGhlIHBvaW50LlxuICAgICAgICAgIHZhciBkaXN0ID0gcG9pbnQubGVuKCk7XG4gICAgICAgICAgaWYgKGRpc3QgPiByYWRpdXMpIHtcbiAgICAgICAgICAgIC8vIE5vIGludGVyc2VjdGlvblxuICAgICAgICAgICAgVF9WRUNUT1JTLnB1c2goY2lyY2xlUG9zKTtcbiAgICAgICAgICAgIFRfVkVDVE9SUy5wdXNoKGVkZ2UpO1xuICAgICAgICAgICAgVF9WRUNUT1JTLnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgVF9WRUNUT1JTLnB1c2gocG9pbnQyKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAvLyBJdCBpbnRlcnNlY3RzLCBjYWxjdWxhdGUgdGhlIG92ZXJsYXAuXG4gICAgICAgICAgICByZXNwb25zZVsnYkluQSddID0gZmFsc2U7XG4gICAgICAgICAgICBvdmVybGFwTiA9IHBvaW50Lm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgb3ZlcmxhcCA9IHJhZGl1cyAtIGRpc3Q7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFRfVkVDVE9SUy5wdXNoKHBvaW50Mik7XG4gICAgICAvLyBJZiBpdCdzIHRoZSByaWdodCByZWdpb246XG4gICAgICB9IGVsc2UgaWYgKHJlZ2lvbiA9PT0gUklHSFRfVk9ST05PSV9SRUdJT04pIHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBtYWtlIHN1cmUgd2UncmUgaW4gdGhlIGxlZnQgcmVnaW9uIG9uIHRoZSBuZXh0IGVkZ2VcbiAgICAgICAgZWRnZS5jb3B5KHBvbHlnb25bJ2VkZ2VzJ11bbmV4dF0pO1xuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlIHJlbGF0aXZlIHRvIHRoZSBzdGFydGluZyBwb2ludCBvZiB0aGUgbmV4dCBlZGdlLlxuICAgICAgICBwb2ludC5jb3B5KGNpcmNsZVBvcykuc3ViKHBvaW50c1tuZXh0XSk7XG4gICAgICAgIHJlZ2lvbiA9IHZvcm9ub2lSZWdpb24oZWRnZSwgcG9pbnQpO1xuICAgICAgICBpZiAocmVnaW9uID09PSBMRUZUX1ZPUk9OT0lfUkVHSU9OKSB7XG4gICAgICAgICAgLy8gSXQncyBpbiB0aGUgcmVnaW9uIHdlIHdhbnQuICBDaGVjayBpZiB0aGUgY2lyY2xlIGludGVyc2VjdHMgdGhlIHBvaW50LlxuICAgICAgICAgIHZhciBkaXN0ID0gcG9pbnQubGVuKCk7XG4gICAgICAgICAgaWYgKGRpc3QgPiByYWRpdXMpIHtcbiAgICAgICAgICAgIC8vIE5vIGludGVyc2VjdGlvblxuICAgICAgICAgICAgVF9WRUNUT1JTLnB1c2goY2lyY2xlUG9zKTtcbiAgICAgICAgICAgIFRfVkVDVE9SUy5wdXNoKGVkZ2UpO1xuICAgICAgICAgICAgVF9WRUNUT1JTLnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIC8vIEl0IGludGVyc2VjdHMsIGNhbGN1bGF0ZSB0aGUgb3ZlcmxhcC5cbiAgICAgICAgICAgIHJlc3BvbnNlWydiSW5BJ10gPSBmYWxzZTtcbiAgICAgICAgICAgIG92ZXJsYXBOID0gcG9pbnQubm9ybWFsaXplKCk7XG4gICAgICAgICAgICBvdmVybGFwID0gcmFkaXVzIC0gZGlzdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIC8vIE90aGVyd2lzZSwgaXQncyB0aGUgbWlkZGxlIHJlZ2lvbjpcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5lZWQgdG8gY2hlY2sgaWYgdGhlIGNpcmNsZSBpcyBpbnRlcnNlY3RpbmcgdGhlIGVkZ2UsXG4gICAgICAgIC8vIENoYW5nZSB0aGUgZWRnZSBpbnRvIGl0cyBcImVkZ2Ugbm9ybWFsXCIuXG4gICAgICAgIHZhciBub3JtYWwgPSBlZGdlLnBlcnAoKS5ub3JtYWxpemUoKTtcbiAgICAgICAgLy8gRmluZCB0aGUgcGVycGVuZGljdWxhciBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBjZW50ZXIgb2YgdGhlXG4gICAgICAgIC8vIGNpcmNsZSBhbmQgdGhlIGVkZ2UuXG4gICAgICAgIHZhciBkaXN0ID0gcG9pbnQuZG90KG5vcm1hbCk7XG4gICAgICAgIHZhciBkaXN0QWJzID0gTWF0aC5hYnMoZGlzdCk7XG4gICAgICAgIC8vIElmIHRoZSBjaXJjbGUgaXMgb24gdGhlIG91dHNpZGUgb2YgdGhlIGVkZ2UsIHRoZXJlIGlzIG5vIGludGVyc2VjdGlvbi5cbiAgICAgICAgaWYgKGRpc3QgPiAwICYmIGRpc3RBYnMgPiByYWRpdXMpIHtcbiAgICAgICAgICAvLyBObyBpbnRlcnNlY3Rpb25cbiAgICAgICAgICBUX1ZFQ1RPUlMucHVzaChjaXJjbGVQb3MpO1xuICAgICAgICAgIFRfVkVDVE9SUy5wdXNoKG5vcm1hbCk7XG4gICAgICAgICAgVF9WRUNUT1JTLnB1c2gocG9pbnQpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZSkge1xuICAgICAgICAgIC8vIEl0IGludGVyc2VjdHMsIGNhbGN1bGF0ZSB0aGUgb3ZlcmxhcC5cbiAgICAgICAgICBvdmVybGFwTiA9IG5vcm1hbDtcbiAgICAgICAgICBvdmVybGFwID0gcmFkaXVzIC0gZGlzdDtcbiAgICAgICAgICAvLyBJZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGUgaXMgb24gdGhlIG91dHNpZGUgb2YgdGhlIGVkZ2UsIG9yIHBhcnQgb2YgdGhlXG4gICAgICAgICAgLy8gY2lyY2xlIGlzIG9uIHRoZSBvdXRzaWRlLCB0aGUgY2lyY2xlIGlzIG5vdCBmdWxseSBpbnNpZGUgdGhlIHBvbHlnb24uXG4gICAgICAgICAgaWYgKGRpc3QgPj0gMCB8fCBvdmVybGFwIDwgMiAqIHJhZGl1cykge1xuICAgICAgICAgICAgcmVzcG9uc2VbJ2JJbkEnXSA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGlzIGlzIHRoZSBzbWFsbGVzdCBvdmVybGFwIHdlJ3ZlIHNlZW4sIGtlZXAgaXQuXG4gICAgICAvLyAob3ZlcmxhcE4gbWF5IGJlIG51bGwgaWYgdGhlIGNpcmNsZSB3YXMgaW4gdGhlIHdyb25nIFZvcm9ub2kgcmVnaW9uKS5cbiAgICAgIGlmIChvdmVybGFwTiAmJiByZXNwb25zZSAmJiBNYXRoLmFicyhvdmVybGFwKSA8IE1hdGguYWJzKHJlc3BvbnNlWydvdmVybGFwJ10pKSB7XG4gICAgICAgIHJlc3BvbnNlWydvdmVybGFwJ10gPSBvdmVybGFwO1xuICAgICAgICByZXNwb25zZVsnb3ZlcmxhcE4nXS5jb3B5KG92ZXJsYXBOKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIGZpbmFsIG92ZXJsYXAgdmVjdG9yIC0gYmFzZWQgb24gdGhlIHNtYWxsZXN0IG92ZXJsYXAuXG4gICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICByZXNwb25zZVsnYSddID0gcG9seWdvbjtcbiAgICAgIHJlc3BvbnNlWydiJ10gPSBjaXJjbGU7XG4gICAgICByZXNwb25zZVsnb3ZlcmxhcFYnXS5jb3B5KHJlc3BvbnNlWydvdmVybGFwTiddKS5zY2FsZShyZXNwb25zZVsnb3ZlcmxhcCddKTtcbiAgICB9XG4gICAgVF9WRUNUT1JTLnB1c2goY2lyY2xlUG9zKTtcbiAgICBUX1ZFQ1RPUlMucHVzaChlZGdlKTtcbiAgICBUX1ZFQ1RPUlMucHVzaChwb2ludCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgU0FUWyd0ZXN0UG9seWdvbkNpcmNsZSddID0gdGVzdFBvbHlnb25DaXJjbGU7XG5cbiAgLy8gQ2hlY2sgaWYgYSBjaXJjbGUgYW5kIGEgcG9seWdvbiBjb2xsaWRlLlxuICAvL1xuICAvLyAqKk5PVEU6KiogVGhpcyBpcyBzbGlnaHRseSBsZXNzIGVmZmljaWVudCB0aGFuIHBvbHlnb25DaXJjbGUgYXMgaXQganVzdFxuICAvLyBydW5zIHBvbHlnb25DaXJjbGUgYW5kIHJldmVyc2VzIGV2ZXJ5dGhpbmcgYXQgdGhlIGVuZC5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2lyY2xlfSBjaXJjbGUgVGhlIGNpcmNsZS5cbiAgICogQHBhcmFtIHtQb2x5Z29ufSBwb2x5Z29uIFRoZSBwb2x5Z29uLlxuICAgKiBAcGFyYW0ge1Jlc3BvbnNlPX0gcmVzcG9uc2UgUmVzcG9uc2Ugb2JqZWN0IChvcHRpb25hbCkgdGhhdCB3aWxsIGJlIHBvcHVsYXRlZCBpZlxuICAgKiAgIHRoZXkgaW50ZXJzZXQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhleSBpbnRlcnNlY3QsIGZhbHNlIGlmIHRoZXkgZG9uJ3QuXG4gICAqL1xuICBmdW5jdGlvbiB0ZXN0Q2lyY2xlUG9seWdvbihjaXJjbGUsIHBvbHlnb24sIHJlc3BvbnNlKSB7XG4gICAgLy8gVGVzdCB0aGUgcG9seWdvbiBhZ2FpbnN0IHRoZSBjaXJjbGUuXG4gICAgdmFyIHJlc3VsdCA9IHRlc3RQb2x5Z29uQ2lyY2xlKHBvbHlnb24sIGNpcmNsZSwgcmVzcG9uc2UpO1xuICAgIGlmIChyZXN1bHQgJiYgcmVzcG9uc2UpIHtcbiAgICAgIC8vIFN3YXAgQSBhbmQgQiBpbiB0aGUgcmVzcG9uc2UuXG4gICAgICB2YXIgYSA9IHJlc3BvbnNlWydhJ107XG4gICAgICB2YXIgYUluQiA9IHJlc3BvbnNlWydhSW5CJ107XG4gICAgICByZXNwb25zZVsnb3ZlcmxhcE4nXS5yZXZlcnNlKCk7XG4gICAgICByZXNwb25zZVsnb3ZlcmxhcFYnXS5yZXZlcnNlKCk7XG4gICAgICByZXNwb25zZVsnYSddID0gcmVzcG9uc2VbJ2InXTtcbiAgICAgIHJlc3BvbnNlWydiJ10gPSBhO1xuICAgICAgcmVzcG9uc2VbJ2FJbkInXSA9IHJlc3BvbnNlWydiSW5BJ107XG4gICAgICByZXNwb25zZVsnYkluQSddID0gYUluQjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBTQVRbJ3Rlc3RDaXJjbGVQb2x5Z29uJ10gPSB0ZXN0Q2lyY2xlUG9seWdvbjtcblxuICAvLyBDaGVja3Mgd2hldGhlciBwb2x5Z29ucyBjb2xsaWRlLlxuICAvKipcbiAgICogQHBhcmFtIHtQb2x5Z29ufSBhIFRoZSBmaXJzdCBwb2x5Z29uLlxuICAgKiBAcGFyYW0ge1BvbHlnb259IGIgVGhlIHNlY29uZCBwb2x5Z29uLlxuICAgKiBAcGFyYW0ge1Jlc3BvbnNlPX0gcmVzcG9uc2UgUmVzcG9uc2Ugb2JqZWN0IChvcHRpb25hbCkgdGhhdCB3aWxsIGJlIHBvcHVsYXRlZCBpZlxuICAgKiAgIHRoZXkgaW50ZXJzZXQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhleSBpbnRlcnNlY3QsIGZhbHNlIGlmIHRoZXkgZG9uJ3QuXG4gICAqL1xuICBmdW5jdGlvbiB0ZXN0UG9seWdvblBvbHlnb24oYSwgYiwgcmVzcG9uc2UpIHtcbiAgICB2YXIgYVBvaW50cyA9IGFbJ2NhbGNQb2ludHMnXTtcbiAgICB2YXIgYUxlbiA9IGFQb2ludHMubGVuZ3RoO1xuICAgIHZhciBiUG9pbnRzID0gYlsnY2FsY1BvaW50cyddO1xuICAgIHZhciBiTGVuID0gYlBvaW50cy5sZW5ndGg7XG4gICAgLy8gSWYgYW55IG9mIHRoZSBlZGdlIG5vcm1hbHMgb2YgQSBpcyBhIHNlcGFyYXRpbmcgYXhpcywgbm8gaW50ZXJzZWN0aW9uLlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYUxlbjsgaSsrKSB7XG4gICAgICBpZiAoaXNTZXBhcmF0aW5nQXhpcyhhWydwb3MnXSwgYlsncG9zJ10sIGFQb2ludHMsIGJQb2ludHMsIGFbJ25vcm1hbHMnXVtpXSwgcmVzcG9uc2UpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gSWYgYW55IG9mIHRoZSBlZGdlIG5vcm1hbHMgb2YgQiBpcyBhIHNlcGFyYXRpbmcgYXhpcywgbm8gaW50ZXJzZWN0aW9uLlxuICAgIGZvciAodmFyIGkgPSAwO2kgPCBiTGVuOyBpKyspIHtcbiAgICAgIGlmIChpc1NlcGFyYXRpbmdBeGlzKGFbJ3BvcyddLCBiWydwb3MnXSwgYVBvaW50cywgYlBvaW50cywgYlsnbm9ybWFscyddW2ldLCByZXNwb25zZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBTaW5jZSBub25lIG9mIHRoZSBlZGdlIG5vcm1hbHMgb2YgQSBvciBCIGFyZSBhIHNlcGFyYXRpbmcgYXhpcywgdGhlcmUgaXMgYW4gaW50ZXJzZWN0aW9uXG4gICAgLy8gYW5kIHdlJ3ZlIGFscmVhZHkgY2FsY3VsYXRlZCB0aGUgc21hbGxlc3Qgb3ZlcmxhcCAoaW4gaXNTZXBhcmF0aW5nQXhpcykuICBDYWxjdWxhdGUgdGhlXG4gICAgLy8gZmluYWwgb3ZlcmxhcCB2ZWN0b3IuXG4gICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICByZXNwb25zZVsnYSddID0gYTtcbiAgICAgIHJlc3BvbnNlWydiJ10gPSBiO1xuICAgICAgcmVzcG9uc2VbJ292ZXJsYXBWJ10uY29weShyZXNwb25zZVsnb3ZlcmxhcE4nXSkuc2NhbGUocmVzcG9uc2VbJ292ZXJsYXAnXSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIFNBVFsndGVzdFBvbHlnb25Qb2x5Z29uJ10gPSB0ZXN0UG9seWdvblBvbHlnb247XG5cbiAgcmV0dXJuIFNBVDtcbn0pKTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwdW55Y29kZSA9IHJlcXVpcmUoJ3B1bnljb2RlJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5leHBvcnRzLnBhcnNlID0gdXJsUGFyc2U7XG5leHBvcnRzLnJlc29sdmUgPSB1cmxSZXNvbHZlO1xuZXhwb3J0cy5yZXNvbHZlT2JqZWN0ID0gdXJsUmVzb2x2ZU9iamVjdDtcbmV4cG9ydHMuZm9ybWF0ID0gdXJsRm9ybWF0O1xuXG5leHBvcnRzLlVybCA9IFVybDtcblxuZnVuY3Rpb24gVXJsKCkge1xuICB0aGlzLnByb3RvY29sID0gbnVsbDtcbiAgdGhpcy5zbGFzaGVzID0gbnVsbDtcbiAgdGhpcy5hdXRoID0gbnVsbDtcbiAgdGhpcy5ob3N0ID0gbnVsbDtcbiAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgdGhpcy5ob3N0bmFtZSA9IG51bGw7XG4gIHRoaXMuaGFzaCA9IG51bGw7XG4gIHRoaXMuc2VhcmNoID0gbnVsbDtcbiAgdGhpcy5xdWVyeSA9IG51bGw7XG4gIHRoaXMucGF0aG5hbWUgPSBudWxsO1xuICB0aGlzLnBhdGggPSBudWxsO1xuICB0aGlzLmhyZWYgPSBudWxsO1xufVxuXG4vLyBSZWZlcmVuY2U6IFJGQyAzOTg2LCBSRkMgMTgwOCwgUkZDIDIzOTZcblxuLy8gZGVmaW5lIHRoZXNlIGhlcmUgc28gYXQgbGVhc3QgdGhleSBvbmx5IGhhdmUgdG8gYmVcbi8vIGNvbXBpbGVkIG9uY2Ugb24gdGhlIGZpcnN0IG1vZHVsZSBsb2FkLlxudmFyIHByb3RvY29sUGF0dGVybiA9IC9eKFthLXowLTkuKy1dKzopL2ksXG4gICAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLFxuXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBhIHNpbXBsZSBwYXRoIFVSTFxuICAgIHNpbXBsZVBhdGhQYXR0ZXJuID0gL14oXFwvXFwvPyg/IVxcLylbXlxcP1xcc10qKShcXD9bXlxcc10qKT8kLyxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIHJlc2VydmVkIGZvciBkZWxpbWl0aW5nIFVSTHMuXG4gICAgLy8gV2UgYWN0dWFsbHkganVzdCBhdXRvLWVzY2FwZSB0aGVzZS5cbiAgICBkZWxpbXMgPSBbJzwnLCAnPicsICdcIicsICdgJywgJyAnLCAnXFxyJywgJ1xcbicsICdcXHQnXSxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuXG4gICAgdW53aXNlID0gWyd7JywgJ30nLCAnfCcsICdcXFxcJywgJ14nLCAnYCddLmNvbmNhdChkZWxpbXMpLFxuXG4gICAgLy8gQWxsb3dlZCBieSBSRkNzLCBidXQgY2F1c2Ugb2YgWFNTIGF0dGFja3MuICBBbHdheXMgZXNjYXBlIHRoZXNlLlxuICAgIGF1dG9Fc2NhcGUgPSBbJ1xcJyddLmNvbmNhdCh1bndpc2UpLFxuICAgIC8vIENoYXJhY3RlcnMgdGhhdCBhcmUgbmV2ZXIgZXZlciBhbGxvd2VkIGluIGEgaG9zdG5hbWUuXG4gICAgLy8gTm90ZSB0aGF0IGFueSBpbnZhbGlkIGNoYXJzIGFyZSBhbHNvIGhhbmRsZWQsIGJ1dCB0aGVzZVxuICAgIC8vIGFyZSB0aGUgb25lcyB0aGF0IGFyZSAqZXhwZWN0ZWQqIHRvIGJlIHNlZW4sIHNvIHdlIGZhc3QtcGF0aFxuICAgIC8vIHRoZW0uXG4gICAgbm9uSG9zdENoYXJzID0gWyclJywgJy8nLCAnPycsICc7JywgJyMnXS5jb25jYXQoYXV0b0VzY2FwZSksXG4gICAgaG9zdEVuZGluZ0NoYXJzID0gWycvJywgJz8nLCAnIyddLFxuICAgIGhvc3RuYW1lTWF4TGVuID0gMjU1LFxuICAgIGhvc3RuYW1lUGFydFBhdHRlcm4gPSAvXlsrYS16MC05QS1aXy1dezAsNjN9JC8sXG4gICAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgY2FuIGFsbG93IFwidW5zYWZlXCIgYW5kIFwidW53aXNlXCIgY2hhcnMuXG4gICAgdW5zYWZlUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBuZXZlciBoYXZlIGEgaG9zdG5hbWUuXG4gICAgaG9zdGxlc3NQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IGFsd2F5cyBjb250YWluIGEgLy8gYml0LlxuICAgIHNsYXNoZWRQcm90b2NvbCA9IHtcbiAgICAgICdodHRwJzogdHJ1ZSxcbiAgICAgICdodHRwcyc6IHRydWUsXG4gICAgICAnZnRwJzogdHJ1ZSxcbiAgICAgICdnb3BoZXInOiB0cnVlLFxuICAgICAgJ2ZpbGUnOiB0cnVlLFxuICAgICAgJ2h0dHA6JzogdHJ1ZSxcbiAgICAgICdodHRwczonOiB0cnVlLFxuICAgICAgJ2Z0cDonOiB0cnVlLFxuICAgICAgJ2dvcGhlcjonOiB0cnVlLFxuICAgICAgJ2ZpbGU6JzogdHJ1ZVxuICAgIH0sXG4gICAgcXVlcnlzdHJpbmcgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpO1xuXG5mdW5jdGlvbiB1cmxQYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICh1cmwgJiYgdXRpbC5pc09iamVjdCh1cmwpICYmIHVybCBpbnN0YW5jZW9mIFVybCkgcmV0dXJuIHVybDtcblxuICB2YXIgdSA9IG5ldyBVcmw7XG4gIHUucGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCk7XG4gIHJldHVybiB1O1xufVxuXG5VcmwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAoIXV0aWwuaXNTdHJpbmcodXJsKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXIgJ3VybCcgbXVzdCBiZSBhIHN0cmluZywgbm90IFwiICsgdHlwZW9mIHVybCk7XG4gIH1cblxuICAvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci5cbiAgLy8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzXG4gIC8vIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2XG4gIHZhciBxdWVyeUluZGV4ID0gdXJsLmluZGV4T2YoJz8nKSxcbiAgICAgIHNwbGl0dGVyID1cbiAgICAgICAgICAocXVlcnlJbmRleCAhPT0gLTEgJiYgcXVlcnlJbmRleCA8IHVybC5pbmRleE9mKCcjJykpID8gJz8nIDogJyMnLFxuICAgICAgdVNwbGl0ID0gdXJsLnNwbGl0KHNwbGl0dGVyKSxcbiAgICAgIHNsYXNoUmVnZXggPSAvXFxcXC9nO1xuICB1U3BsaXRbMF0gPSB1U3BsaXRbMF0ucmVwbGFjZShzbGFzaFJlZ2V4LCAnLycpO1xuICB1cmwgPSB1U3BsaXQuam9pbihzcGxpdHRlcik7XG5cbiAgdmFyIHJlc3QgPSB1cmw7XG5cbiAgLy8gdHJpbSBiZWZvcmUgcHJvY2VlZGluZy5cbiAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IHBhcnNlIHN0dWZmIGxpa2UgXCIgIGh0dHA6Ly9mb28uY29tICBcXG5cIlxuICByZXN0ID0gcmVzdC50cmltKCk7XG5cbiAgaWYgKCFzbGFzaGVzRGVub3RlSG9zdCAmJiB1cmwuc3BsaXQoJyMnKS5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBUcnkgZmFzdCBwYXRoIHJlZ2V4cFxuICAgIHZhciBzaW1wbGVQYXRoID0gc2ltcGxlUGF0aFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgICBpZiAoc2ltcGxlUGF0aCkge1xuICAgICAgdGhpcy5wYXRoID0gcmVzdDtcbiAgICAgIHRoaXMuaHJlZiA9IHJlc3Q7XG4gICAgICB0aGlzLnBhdGhuYW1lID0gc2ltcGxlUGF0aFsxXTtcbiAgICAgIGlmIChzaW1wbGVQYXRoWzJdKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gc2ltcGxlUGF0aFsyXTtcbiAgICAgICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5zZWFyY2guc3Vic3RyKDEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5zZWFyY2guc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICAgICAgdGhpcy5xdWVyeSA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3RvID0gcHJvdG9jb2xQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gIGlmIChwcm90bykge1xuICAgIHByb3RvID0gcHJvdG9bMF07XG4gICAgdmFyIGxvd2VyUHJvdG8gPSBwcm90by50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMucHJvdG9jb2wgPSBsb3dlclByb3RvO1xuICAgIHJlc3QgPSByZXN0LnN1YnN0cihwcm90by5sZW5ndGgpO1xuICB9XG5cbiAgLy8gZmlndXJlIG91dCBpZiBpdCdzIGdvdCBhIGhvc3RcbiAgLy8gdXNlckBzZXJ2ZXIgaXMgKmFsd2F5cyogaW50ZXJwcmV0ZWQgYXMgYSBob3N0bmFtZSwgYW5kIHVybFxuICAvLyByZXNvbHV0aW9uIHdpbGwgdHJlYXQgLy9mb28vYmFyIGFzIGhvc3Q9Zm9vLHBhdGg9YmFyIGJlY2F1c2UgdGhhdCdzXG4gIC8vIGhvdyB0aGUgYnJvd3NlciByZXNvbHZlcyByZWxhdGl2ZSBVUkxzLlxuICBpZiAoc2xhc2hlc0Rlbm90ZUhvc3QgfHwgcHJvdG8gfHwgcmVzdC5tYXRjaCgvXlxcL1xcL1teQFxcL10rQFteQFxcL10rLykpIHtcbiAgICB2YXIgc2xhc2hlcyA9IHJlc3Quc3Vic3RyKDAsIDIpID09PSAnLy8nO1xuICAgIGlmIChzbGFzaGVzICYmICEocHJvdG8gJiYgaG9zdGxlc3NQcm90b2NvbFtwcm90b10pKSB7XG4gICAgICByZXN0ID0gcmVzdC5zdWJzdHIoMik7XG4gICAgICB0aGlzLnNsYXNoZXMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaG9zdGxlc3NQcm90b2NvbFtwcm90b10gJiZcbiAgICAgIChzbGFzaGVzIHx8IChwcm90byAmJiAhc2xhc2hlZFByb3RvY29sW3Byb3RvXSkpKSB7XG5cbiAgICAvLyB0aGVyZSdzIGEgaG9zdG5hbWUuXG4gICAgLy8gdGhlIGZpcnN0IGluc3RhbmNlIG9mIC8sID8sIDssIG9yICMgZW5kcyB0aGUgaG9zdC5cbiAgICAvL1xuICAgIC8vIElmIHRoZXJlIGlzIGFuIEAgaW4gdGhlIGhvc3RuYW1lLCB0aGVuIG5vbi1ob3N0IGNoYXJzICphcmUqIGFsbG93ZWRcbiAgICAvLyB0byB0aGUgbGVmdCBvZiB0aGUgbGFzdCBAIHNpZ24sIHVubGVzcyBzb21lIGhvc3QtZW5kaW5nIGNoYXJhY3RlclxuICAgIC8vIGNvbWVzICpiZWZvcmUqIHRoZSBALXNpZ24uXG4gICAgLy8gVVJMcyBhcmUgb2Jub3hpb3VzLlxuICAgIC8vXG4gICAgLy8gZXg6XG4gICAgLy8gaHR0cDovL2FAYkBjLyA9PiB1c2VyOmFAYiBob3N0OmNcbiAgICAvLyBodHRwOi8vYUBiP0BjID0+IHVzZXI6YSBob3N0OmMgcGF0aDovP0BjXG5cbiAgICAvLyB2MC4xMiBUT0RPKGlzYWFjcyk6IFRoaXMgaXMgbm90IHF1aXRlIGhvdyBDaHJvbWUgZG9lcyB0aGluZ3MuXG4gICAgLy8gUmV2aWV3IG91ciB0ZXN0IGNhc2UgYWdhaW5zdCBicm93c2VycyBtb3JlIGNvbXByZWhlbnNpdmVseS5cblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGFueSBob3N0RW5kaW5nQ2hhcnNcbiAgICB2YXIgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9zdEVuZGluZ0NoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKGhvc3RFbmRpbmdDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgZWl0aGVyIHdlIGhhdmUgYW4gZXhwbGljaXQgcG9pbnQgd2hlcmUgdGhlXG4gICAgLy8gYXV0aCBwb3J0aW9uIGNhbm5vdCBnbyBwYXN0LCBvciB0aGUgbGFzdCBAIGNoYXIgaXMgdGhlIGRlY2lkZXIuXG4gICAgdmFyIGF1dGgsIGF0U2lnbjtcbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgIC8vIGF0U2lnbiBjYW4gYmUgYW55d2hlcmUuXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF0U2lnbiBtdXN0IGJlIGluIGF1dGggcG9ydGlvbi5cbiAgICAgIC8vIGh0dHA6Ly9hQGIvY0BkID0+IGhvc3Q6YiBhdXRoOmEgcGF0aDovY0BkXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJywgaG9zdEVuZCk7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgYSBwb3J0aW9uIHdoaWNoIGlzIGRlZmluaXRlbHkgdGhlIGF1dGguXG4gICAgLy8gUHVsbCB0aGF0IG9mZi5cbiAgICBpZiAoYXRTaWduICE9PSAtMSkge1xuICAgICAgYXV0aCA9IHJlc3Quc2xpY2UoMCwgYXRTaWduKTtcbiAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGF0U2lnbiArIDEpO1xuICAgICAgdGhpcy5hdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cblxuICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXJcbiAgICBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub25Ib3N0Q2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2Yobm9uSG9zdENoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG4gICAgLy8gaWYgd2Ugc3RpbGwgaGF2ZSBub3QgaGl0IGl0LCB0aGVuIHRoZSBlbnRpcmUgdGhpbmcgaXMgYSBob3N0LlxuICAgIGlmIChob3N0RW5kID09PSAtMSlcbiAgICAgIGhvc3RFbmQgPSByZXN0Lmxlbmd0aDtcblxuICAgIHRoaXMuaG9zdCA9IHJlc3Quc2xpY2UoMCwgaG9zdEVuZCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoaG9zdEVuZCk7XG5cbiAgICAvLyBwdWxsIG91dCBwb3J0LlxuICAgIHRoaXMucGFyc2VIb3N0KCk7XG5cbiAgICAvLyB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLFxuICAgIC8vIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuXG4gICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG5cbiAgICAvLyBpZiBob3N0bmFtZSBiZWdpbnMgd2l0aCBbIGFuZCBlbmRzIHdpdGggXVxuICAgIC8vIGFzc3VtZSB0aGF0IGl0J3MgYW4gSVB2NiBhZGRyZXNzLlxuICAgIHZhciBpcHY2SG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lWzBdID09PSAnWycgJiZcbiAgICAgICAgdGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDFdID09PSAnXSc7XG5cbiAgICAvLyB2YWxpZGF0ZSBhIGxpdHRsZS5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgdmFyIGhvc3RwYXJ0cyA9IHRoaXMuaG9zdG5hbWUuc3BsaXQoL1xcLi8pO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBob3N0cGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gaG9zdHBhcnRzW2ldO1xuICAgICAgICBpZiAoIXBhcnQpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHtcbiAgICAgICAgICAgICAgLy8gd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3RcbiAgICAgICAgICAgICAgLy8gYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZ1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9ICd4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gcGFydFtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2UgdGVzdCBhZ2FpbiB3aXRoIEFTQ0lJIGNoYXIgb25seVxuICAgICAgICAgIGlmICghbmV3cGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkUGFydHMgPSBob3N0cGFydHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB2YXIgbm90SG9zdCA9IGhvc3RwYXJ0cy5zbGljZShpICsgMSk7XG4gICAgICAgICAgICB2YXIgYml0ID0gcGFydC5tYXRjaChob3N0bmFtZVBhcnRTdGFydCk7XG4gICAgICAgICAgICBpZiAoYml0KSB7XG4gICAgICAgICAgICAgIHZhbGlkUGFydHMucHVzaChiaXRbMV0pO1xuICAgICAgICAgICAgICBub3RIb3N0LnVuc2hpZnQoYml0WzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3RIb3N0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXN0ID0gJy8nICsgbm90SG9zdC5qb2luKCcuJykgKyByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ob3N0bmFtZSA9IHZhbGlkUGFydHMuam9pbignLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9zdG5hbWUubGVuZ3RoID4gaG9zdG5hbWVNYXhMZW4pIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaG9zdG5hbWVzIGFyZSBhbHdheXMgbG93ZXIgY2FzZS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIC8vIElETkEgU3VwcG9ydDogUmV0dXJucyBhIHB1bnljb2RlZCByZXByZXNlbnRhdGlvbiBvZiBcImRvbWFpblwiLlxuICAgICAgLy8gSXQgb25seSBjb252ZXJ0cyBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgdGhhdFxuICAgICAgLy8gaGF2ZSBub24tQVNDSUkgY2hhcmFjdGVycywgaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZlxuICAgICAgLy8geW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0IGFscmVhZHkgaXMgQVNDSUktb25seS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBwID0gdGhpcy5wb3J0ID8gJzonICsgdGhpcy5wb3J0IDogJyc7XG4gICAgdmFyIGggPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuICAgIHRoaXMuaG9zdCA9IGggKyBwO1xuICAgIHRoaXMuaHJlZiArPSB0aGlzLmhvc3Q7XG5cbiAgICAvLyBzdHJpcCBbIGFuZCBdIGZyb20gdGhlIGhvc3RuYW1lXG4gICAgLy8gdGhlIGhvc3QgZmllbGQgc3RpbGwgcmV0YWlucyB0aGVtLCB0aG91Z2hcbiAgICBpZiAoaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS5zdWJzdHIoMSwgdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIGlmIChyZXN0WzBdICE9PSAnLycpIHtcbiAgICAgICAgcmVzdCA9ICcvJyArIHJlc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gbm93IHJlc3QgaXMgc2V0IHRvIHRoZSBwb3N0LWhvc3Qgc3R1ZmYuXG4gIC8vIGNob3Agb2ZmIGFueSBkZWxpbSBjaGFycy5cbiAgaWYgKCF1bnNhZmVQcm90b2NvbFtsb3dlclByb3RvXSkge1xuXG4gICAgLy8gRmlyc3QsIG1ha2UgMTAwJSBzdXJlIHRoYXQgYW55IFwiYXV0b0VzY2FwZVwiIGNoYXJzIGdldFxuICAgIC8vIGVzY2FwZWQsIGV2ZW4gaWYgZW5jb2RlVVJJQ29tcG9uZW50IGRvZXNuJ3QgdGhpbmsgdGhleVxuICAgIC8vIG5lZWQgdG8gYmUuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdXRvRXNjYXBlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGFlID0gYXV0b0VzY2FwZVtpXTtcbiAgICAgIGlmIChyZXN0LmluZGV4T2YoYWUpID09PSAtMSlcbiAgICAgICAgY29udGludWU7XG4gICAgICB2YXIgZXNjID0gZW5jb2RlVVJJQ29tcG9uZW50KGFlKTtcbiAgICAgIGlmIChlc2MgPT09IGFlKSB7XG4gICAgICAgIGVzYyA9IGVzY2FwZShhZSk7XG4gICAgICB9XG4gICAgICByZXN0ID0gcmVzdC5zcGxpdChhZSkuam9pbihlc2MpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8gY2hvcCBvZmYgZnJvbSB0aGUgdGFpbCBmaXJzdC5cbiAgdmFyIGhhc2ggPSByZXN0LmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2ggIT09IC0xKSB7XG4gICAgLy8gZ290IGEgZnJhZ21lbnQgc3RyaW5nLlxuICAgIHRoaXMuaGFzaCA9IHJlc3Quc3Vic3RyKGhhc2gpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIGhhc2gpO1xuICB9XG4gIHZhciBxbSA9IHJlc3QuaW5kZXhPZignPycpO1xuICBpZiAocW0gIT09IC0xKSB7XG4gICAgdGhpcy5zZWFyY2ggPSByZXN0LnN1YnN0cihxbSk7XG4gICAgdGhpcy5xdWVyeSA9IHJlc3Quc3Vic3RyKHFtICsgMSk7XG4gICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnF1ZXJ5KTtcbiAgICB9XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgcW0pO1xuICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAvLyBubyBxdWVyeSBzdHJpbmcsIGJ1dCBwYXJzZVF1ZXJ5U3RyaW5nIHN0aWxsIHJlcXVlc3RlZFxuICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgdGhpcy5xdWVyeSA9IHt9O1xuICB9XG4gIGlmIChyZXN0KSB0aGlzLnBhdGhuYW1lID0gcmVzdDtcbiAgaWYgKHNsYXNoZWRQcm90b2NvbFtsb3dlclByb3RvXSAmJlxuICAgICAgdGhpcy5ob3N0bmFtZSAmJiAhdGhpcy5wYXRobmFtZSkge1xuICAgIHRoaXMucGF0aG5hbWUgPSAnLyc7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gIGlmICh0aGlzLnBhdGhuYW1lIHx8IHRoaXMuc2VhcmNoKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhdGhuYW1lIHx8ICcnO1xuICAgIHZhciBzID0gdGhpcy5zZWFyY2ggfHwgJyc7XG4gICAgdGhpcy5wYXRoID0gcCArIHM7XG4gIH1cblxuICAvLyBmaW5hbGx5LCByZWNvbnN0cnVjdCB0aGUgaHJlZiBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAgdGhpcy5ocmVmID0gdGhpcy5mb3JtYXQoKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBmb3JtYXQgYSBwYXJzZWQgb2JqZWN0IGludG8gYSB1cmwgc3RyaW5nXG5mdW5jdGlvbiB1cmxGb3JtYXQob2JqKSB7XG4gIC8vIGVuc3VyZSBpdCdzIGFuIG9iamVjdCwgYW5kIG5vdCBhIHN0cmluZyB1cmwuXG4gIC8vIElmIGl0J3MgYW4gb2JqLCB0aGlzIGlzIGEgbm8tb3AuXG4gIC8vIHRoaXMgd2F5LCB5b3UgY2FuIGNhbGwgdXJsX2Zvcm1hdCgpIG9uIHN0cmluZ3NcbiAgLy8gdG8gY2xlYW4gdXAgcG90ZW50aWFsbHkgd29ua3kgdXJscy5cbiAgaWYgKHV0aWwuaXNTdHJpbmcob2JqKSkgb2JqID0gdXJsUGFyc2Uob2JqKTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgVXJsKSkgcmV0dXJuIFVybC5wcm90b3R5cGUuZm9ybWF0LmNhbGwob2JqKTtcbiAgcmV0dXJuIG9iai5mb3JtYXQoKTtcbn1cblxuVXJsLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGF1dGggPSB0aGlzLmF1dGggfHwgJyc7XG4gIGlmIChhdXRoKSB7XG4gICAgYXV0aCA9IGVuY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICBhdXRoID0gYXV0aC5yZXBsYWNlKC8lM0EvaSwgJzonKTtcbiAgICBhdXRoICs9ICdAJztcbiAgfVxuXG4gIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2wgfHwgJycsXG4gICAgICBwYXRobmFtZSA9IHRoaXMucGF0aG5hbWUgfHwgJycsXG4gICAgICBoYXNoID0gdGhpcy5oYXNoIHx8ICcnLFxuICAgICAgaG9zdCA9IGZhbHNlLFxuICAgICAgcXVlcnkgPSAnJztcblxuICBpZiAodGhpcy5ob3N0KSB7XG4gICAgaG9zdCA9IGF1dGggKyB0aGlzLmhvc3Q7XG4gIH0gZWxzZSBpZiAodGhpcy5ob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKHRoaXMuaG9zdG5hbWUuaW5kZXhPZignOicpID09PSAtMSA/XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgOlxuICAgICAgICAnWycgKyB0aGlzLmhvc3RuYW1lICsgJ10nKTtcbiAgICBpZiAodGhpcy5wb3J0KSB7XG4gICAgICBob3N0ICs9ICc6JyArIHRoaXMucG9ydDtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5xdWVyeSAmJlxuICAgICAgdXRpbC5pc09iamVjdCh0aGlzLnF1ZXJ5KSAmJlxuICAgICAgT2JqZWN0LmtleXModGhpcy5xdWVyeSkubGVuZ3RoKSB7XG4gICAgcXVlcnkgPSBxdWVyeXN0cmluZy5zdHJpbmdpZnkodGhpcy5xdWVyeSk7XG4gIH1cblxuICB2YXIgc2VhcmNoID0gdGhpcy5zZWFyY2ggfHwgKHF1ZXJ5ICYmICgnPycgKyBxdWVyeSkpIHx8ICcnO1xuXG4gIGlmIChwcm90b2NvbCAmJiBwcm90b2NvbC5zdWJzdHIoLTEpICE9PSAnOicpIHByb3RvY29sICs9ICc6JztcblxuICAvLyBvbmx5IHRoZSBzbGFzaGVkUHJvdG9jb2xzIGdldCB0aGUgLy8uICBOb3QgbWFpbHRvOiwgeG1wcDosIGV0Yy5cbiAgLy8gdW5sZXNzIHRoZXkgaGFkIHRoZW0gdG8gYmVnaW4gd2l0aC5cbiAgaWYgKHRoaXMuc2xhc2hlcyB8fFxuICAgICAgKCFwcm90b2NvbCB8fCBzbGFzaGVkUHJvdG9jb2xbcHJvdG9jb2xdKSAmJiBob3N0ICE9PSBmYWxzZSkge1xuICAgIGhvc3QgPSAnLy8nICsgKGhvc3QgfHwgJycpO1xuICAgIGlmIChwYXRobmFtZSAmJiBwYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykgcGF0aG5hbWUgPSAnLycgKyBwYXRobmFtZTtcbiAgfSBlbHNlIGlmICghaG9zdCkge1xuICAgIGhvc3QgPSAnJztcbiAgfVxuXG4gIGlmIChoYXNoICYmIGhhc2guY2hhckF0KDApICE9PSAnIycpIGhhc2ggPSAnIycgKyBoYXNoO1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaC5jaGFyQXQoMCkgIT09ICc/Jykgc2VhcmNoID0gJz8nICsgc2VhcmNoO1xuXG4gIHBhdGhuYW1lID0gcGF0aG5hbWUucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQobWF0Y2gpO1xuICB9KTtcbiAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoJyMnLCAnJTIzJyk7XG5cbiAgcmV0dXJuIHByb3RvY29sICsgaG9zdCArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmUoc291cmNlLCByZWxhdGl2ZSkge1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZShyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIHJldHVybiB0aGlzLnJlc29sdmVPYmplY3QodXJsUGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKSkuZm9ybWF0KCk7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlT2JqZWN0KHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgaWYgKCFzb3VyY2UpIHJldHVybiByZWxhdGl2ZTtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmVPYmplY3QocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmVPYmplY3QgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICBpZiAodXRpbC5pc1N0cmluZyhyZWxhdGl2ZSkpIHtcbiAgICB2YXIgcmVsID0gbmV3IFVybCgpO1xuICAgIHJlbC5wYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpO1xuICAgIHJlbGF0aXZlID0gcmVsO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IG5ldyBVcmwoKTtcbiAgdmFyIHRrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gIGZvciAodmFyIHRrID0gMDsgdGsgPCB0a2V5cy5sZW5ndGg7IHRrKyspIHtcbiAgICB2YXIgdGtleSA9IHRrZXlzW3RrXTtcbiAgICByZXN1bHRbdGtleV0gPSB0aGlzW3RrZXldO1xuICB9XG5cbiAgLy8gaGFzaCBpcyBhbHdheXMgb3ZlcnJpZGRlbiwgbm8gbWF0dGVyIHdoYXQuXG4gIC8vIGV2ZW4gaHJlZj1cIlwiIHdpbGwgcmVtb3ZlIGl0LlxuICByZXN1bHQuaGFzaCA9IHJlbGF0aXZlLmhhc2g7XG5cbiAgLy8gaWYgdGhlIHJlbGF0aXZlIHVybCBpcyBlbXB0eSwgdGhlbiB0aGVyZSdzIG5vdGhpbmcgbGVmdCB0byBkbyBoZXJlLlxuICBpZiAocmVsYXRpdmUuaHJlZiA9PT0gJycpIHtcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaHJlZnMgbGlrZSAvL2Zvby9iYXIgYWx3YXlzIGN1dCB0byB0aGUgcHJvdG9jb2wuXG4gIGlmIChyZWxhdGl2ZS5zbGFzaGVzICYmICFyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgIC8vIHRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIHByb3RvY29sIGZyb20gcmVsYXRpdmVcbiAgICB2YXIgcmtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgZm9yICh2YXIgcmsgPSAwOyByayA8IHJrZXlzLmxlbmd0aDsgcmsrKykge1xuICAgICAgdmFyIHJrZXkgPSBya2V5c1tya107XG4gICAgICBpZiAocmtleSAhPT0gJ3Byb3RvY29sJylcbiAgICAgICAgcmVzdWx0W3JrZXldID0gcmVsYXRpdmVbcmtleV07XG4gICAgfVxuXG4gICAgLy91cmxQYXJzZSBhcHBlbmRzIHRyYWlsaW5nIC8gdG8gdXJscyBsaWtlIGh0dHA6Ly93d3cuZXhhbXBsZS5jb21cbiAgICBpZiAoc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF0gJiZcbiAgICAgICAgcmVzdWx0Lmhvc3RuYW1lICYmICFyZXN1bHQucGF0aG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gcmVzdWx0LnBhdGhuYW1lID0gJy8nO1xuICAgIH1cblxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAocmVsYXRpdmUucHJvdG9jb2wgJiYgcmVsYXRpdmUucHJvdG9jb2wgIT09IHJlc3VsdC5wcm90b2NvbCkge1xuICAgIC8vIGlmIGl0J3MgYSBrbm93biB1cmwgcHJvdG9jb2wsIHRoZW4gY2hhbmdpbmdcbiAgICAvLyB0aGUgcHJvdG9jb2wgZG9lcyB3ZWlyZCB0aGluZ3NcbiAgICAvLyBmaXJzdCwgaWYgaXQncyBub3QgZmlsZTosIHRoZW4gd2UgTVVTVCBoYXZlIGEgaG9zdCxcbiAgICAvLyBhbmQgaWYgdGhlcmUgd2FzIGEgcGF0aFxuICAgIC8vIHRvIGJlZ2luIHdpdGgsIHRoZW4gd2UgTVVTVCBoYXZlIGEgcGF0aC5cbiAgICAvLyBpZiBpdCBpcyBmaWxlOiwgdGhlbiB0aGUgaG9zdCBpcyBkcm9wcGVkLFxuICAgIC8vIGJlY2F1c2UgdGhhdCdzIGtub3duIHRvIGJlIGhvc3RsZXNzLlxuICAgIC8vIGFueXRoaW5nIGVsc2UgaXMgYXNzdW1lZCB0byBiZSBhYnNvbHV0ZS5cbiAgICBpZiAoIXNsYXNoZWRQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCBrZXlzLmxlbmd0aDsgdisrKSB7XG4gICAgICAgIHZhciBrID0ga2V5c1t2XTtcbiAgICAgICAgcmVzdWx0W2tdID0gcmVsYXRpdmVba107XG4gICAgICB9XG4gICAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVzdWx0LnByb3RvY29sID0gcmVsYXRpdmUucHJvdG9jb2w7XG4gICAgaWYgKCFyZWxhdGl2ZS5ob3N0ICYmICFob3N0bGVzc1Byb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIHJlbFBhdGggPSAocmVsYXRpdmUucGF0aG5hbWUgfHwgJycpLnNwbGl0KCcvJyk7XG4gICAgICB3aGlsZSAocmVsUGF0aC5sZW5ndGggJiYgIShyZWxhdGl2ZS5ob3N0ID0gcmVsUGF0aC5zaGlmdCgpKSk7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3QpIHJlbGF0aXZlLmhvc3QgPSAnJztcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdG5hbWUpIHJlbGF0aXZlLmhvc3RuYW1lID0gJyc7XG4gICAgICBpZiAocmVsUGF0aFswXSAhPT0gJycpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICBpZiAocmVsUGF0aC5sZW5ndGggPCAyKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsUGF0aC5qb2luKCcvJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbGF0aXZlLnBhdGhuYW1lO1xuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHJlc3VsdC5ob3N0ID0gcmVsYXRpdmUuaG9zdCB8fCAnJztcbiAgICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGg7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdDtcbiAgICByZXN1bHQucG9ydCA9IHJlbGF0aXZlLnBvcnQ7XG4gICAgLy8gdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnBhdGhuYW1lIHx8IHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHZhciBwID0gcmVzdWx0LnBhdGhuYW1lIHx8ICcnO1xuICAgICAgdmFyIHMgPSByZXN1bHQuc2VhcmNoIHx8ICcnO1xuICAgICAgcmVzdWx0LnBhdGggPSBwICsgcztcbiAgICB9XG4gICAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICB2YXIgaXNTb3VyY2VBYnMgPSAocmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyksXG4gICAgICBpc1JlbEFicyA9IChcbiAgICAgICAgICByZWxhdGl2ZS5ob3N0IHx8XG4gICAgICAgICAgcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLydcbiAgICAgICksXG4gICAgICBtdXN0RW5kQWJzID0gKGlzUmVsQWJzIHx8IGlzU291cmNlQWJzIHx8XG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpLFxuICAgICAgcmVtb3ZlQWxsRG90cyA9IG11c3RFbmRBYnMsXG4gICAgICBzcmNQYXRoID0gcmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICBwc3ljaG90aWMgPSByZXN1bHQucHJvdG9jb2wgJiYgIXNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdO1xuXG4gIC8vIGlmIHRoZSB1cmwgaXMgYSBub24tc2xhc2hlZCB1cmwsIHRoZW4gcmVsYXRpdmVcbiAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZVxuICAvLyB0byBjcmF3bCB1cCB0byB0aGUgaG9zdG5hbWUsIGFzIHdlbGwuICBUaGlzIGlzIHN0cmFuZ2UuXG4gIC8vIHJlc3VsdC5wcm90b2NvbCBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSBub3cuXG4gIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLlxuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gJyc7XG4gICAgcmVzdWx0LnBvcnQgPSBudWxsO1xuICAgIGlmIChyZXN1bHQuaG9zdCkge1xuICAgICAgaWYgKHNyY1BhdGhbMF0gPT09ICcnKSBzcmNQYXRoWzBdID0gcmVzdWx0Lmhvc3Q7XG4gICAgICBlbHNlIHNyY1BhdGgudW5zaGlmdChyZXN1bHQuaG9zdCk7XG4gICAgfVxuICAgIHJlc3VsdC5ob3N0ID0gJyc7XG4gICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7XG4gICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDtcbiAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7XG4gICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgcmVsUGF0aFswXSA9IHJlbGF0aXZlLmhvc3Q7XG4gICAgICAgIGVsc2UgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpO1xuICAgICAgfVxuICAgICAgcmVsYXRpdmUuaG9zdCA9IG51bGw7XG4gICAgfVxuICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSAnJyB8fCBzcmNQYXRoWzBdID09PSAnJyk7XG4gIH1cblxuICBpZiAoaXNSZWxBYnMpIHtcbiAgICAvLyBpdCdzIGFic29sdXRlLlxuICAgIHJlc3VsdC5ob3N0ID0gKHJlbGF0aXZlLmhvc3QgfHwgcmVsYXRpdmUuaG9zdCA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3QgOiByZXN1bHQuaG9zdDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAocmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdG5hbWUgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgOiByZXN1bHQuaG9zdG5hbWU7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICBzcmNQYXRoID0gcmVsUGF0aDtcbiAgICAvLyBmYWxsIHRocm91Z2ggdG8gdGhlIGRvdC1oYW5kbGluZyBiZWxvdy5cbiAgfSBlbHNlIGlmIChyZWxQYXRoLmxlbmd0aCkge1xuICAgIC8vIGl0J3MgcmVsYXRpdmVcbiAgICAvLyB0aHJvdyBhd2F5IHRoZSBleGlzdGluZyBmaWxlLCBhbmQgdGFrZSB0aGUgbmV3IHBhdGggaW5zdGVhZC5cbiAgICBpZiAoIXNyY1BhdGgpIHNyY1BhdGggPSBbXTtcbiAgICBzcmNQYXRoLnBvcCgpO1xuICAgIHNyY1BhdGggPSBzcmNQYXRoLmNvbmNhdChyZWxQYXRoKTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICB9IGVsc2UgaWYgKCF1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKHJlbGF0aXZlLnNlYXJjaCkpIHtcbiAgICAvLyBqdXN0IHB1bGwgb3V0IHRoZSBzZWFyY2guXG4gICAgLy8gbGlrZSBocmVmPSc/Zm9vJy5cbiAgICAvLyBQdXQgdGhpcyBhZnRlciB0aGUgb3RoZXIgdHdvIGNhc2VzIGJlY2F1c2UgaXQgc2ltcGxpZmllcyB0aGUgYm9vbGVhbnNcbiAgICBpZiAocHN5Y2hvdGljKSB7XG4gICAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IHNyY1BhdGguc2hpZnQoKTtcbiAgICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIC8vIG5vIHBhdGggYXQgYWxsLiAgZWFzeS5cbiAgICAvLyB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgdGhlIG90aGVyIHN0dWZmIGFib3ZlLlxuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQuc2VhcmNoKSB7XG4gICAgICByZXN1bHQucGF0aCA9ICcvJyArIHJlc3VsdC5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGlmIGEgdXJsIEVORHMgaW4gLiBvciAuLiwgdGhlbiBpdCBtdXN0IGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICAvLyBob3dldmVyLCBpZiBpdCBlbmRzIGluIGFueXRoaW5nIGVsc2Ugbm9uLXNsYXNoeSxcbiAgLy8gdGhlbiBpdCBtdXN0IE5PVCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgdmFyIGxhc3QgPSBzcmNQYXRoLnNsaWNlKC0xKVswXTtcbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSAoXG4gICAgICAocmVzdWx0Lmhvc3QgfHwgcmVsYXRpdmUuaG9zdCB8fCBzcmNQYXRoLmxlbmd0aCA+IDEpICYmXG4gICAgICAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHx8IGxhc3QgPT09ICcnKTtcblxuICAvLyBzdHJpcCBzaW5nbGUgZG90cywgcmVzb2x2ZSBkb3VibGUgZG90cyB0byBwYXJlbnQgZGlyXG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBzcmNQYXRoLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICBsYXN0ID0gc3JjUGF0aFtpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoIW11c3RFbmRBYnMgJiYgIXJlbW92ZUFsbERvdHMpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHNyY1BhdGgudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAobXVzdEVuZEFicyAmJiBzcmNQYXRoWzBdICE9PSAnJyAmJlxuICAgICAgKCFzcmNQYXRoWzBdIHx8IHNyY1BhdGhbMF0uY2hhckF0KDApICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oJy8nKS5zdWJzdHIoLTEpICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC5wdXNoKCcnKTtcbiAgfVxuXG4gIHZhciBpc0Fic29sdXRlID0gc3JjUGF0aFswXSA9PT0gJycgfHxcbiAgICAgIChzcmNQYXRoWzBdICYmIHNyY1BhdGhbMF0uY2hhckF0KDApID09PSAnLycpO1xuXG4gIC8vIHB1dCB0aGUgaG9zdCBiYWNrXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IGlzQWJzb2x1dGUgPyAnJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNQYXRoLmxlbmd0aCA/IHNyY1BhdGguc2hpZnQoKSA6ICcnO1xuICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgfHwgKHJlc3VsdC5ob3N0ICYmIHNyY1BhdGgubGVuZ3RoKTtcblxuICBpZiAobXVzdEVuZEFicyAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gc3JjUGF0aC5qb2luKCcvJyk7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgcmVxdWVzdC5odHRwXG4gIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICB9XG4gIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aCB8fCByZXN1bHQuYXV0aDtcbiAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblVybC5wcm90b3R5cGUucGFyc2VIb3N0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBob3N0ID0gdGhpcy5ob3N0O1xuICB2YXIgcG9ydCA9IHBvcnRQYXR0ZXJuLmV4ZWMoaG9zdCk7XG4gIGlmIChwb3J0KSB7XG4gICAgcG9ydCA9IHBvcnRbMF07XG4gICAgaWYgKHBvcnQgIT09ICc6Jykge1xuICAgICAgdGhpcy5wb3J0ID0gcG9ydC5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGhvc3QgPSBob3N0LnN1YnN0cigwLCBob3N0Lmxlbmd0aCAtIHBvcnQubGVuZ3RoKTtcbiAgfVxuICBpZiAoaG9zdCkgdGhpcy5ob3N0bmFtZSA9IGhvc3Q7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNTdHJpbmc6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ3N0cmluZyc7XG4gIH0sXG4gIGlzT2JqZWN0OiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09PSBudWxsO1xuICB9LFxuICBpc051bGxPclVuZGVmaW5lZDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PSBudWxsO1xuICB9XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgKFBJWEksIGFwcCwgY29udGFpbmVyKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlcyA9PiB7XG4gICAgICAgIGFwcC5sb2FkZXIuYWRkKCdoZXJvLmpzb24nKS5sb2FkKChsb2FkZXIsIHJlc291cmNlcykgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2hlZXQgPSByZXNvdXJjZXNbJ2hlcm8uanNvbiddO1xuICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGFuaW1zID0gW107XG4gICAgICAgICAgICBjb25zdCBhZGRBbmltID0gKG5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbmltID0gbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUoc2hlZXQuc3ByaXRlc2hlZXQuYW5pbWF0aW9uc1tuYW1lXSk7XG4gICAgICAgICAgICAgICAgYW5pbXMucHVzaChhbmltKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5pbTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBpbnZhbGlkYXRlQW5pbXMgPSAoYW5pbSkgPT4ge1xuICAgICAgICAgICAgICAgIGFuaW1zLmZvckVhY2goYSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGEuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICBhLmdvdG9BbmRTdG9wKDApO1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGRyZW4oKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCB2YWxpZGF0ZUFuaW0gPSAoYW5pbSkgPT4ge1xuICAgICAgICAgICAgICAgIGFuaW0ucGxheSgpO1xuICAgICAgICAgICAgICAgIHNldEFuY2hvcihhbmltKTtcbiAgICAgICAgICAgICAgICBzZXRBbmNob3IoYW5pbS5ib3VuZGluZ0JveCwgYW5pbSk7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKGFuaW0pO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZChhbmltLmJvdW5kaW5nQm94KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBydW4gPSAoYW5pbSkgPT4ge1xuICAgICAgICAgICAgICAgIGludmFsaWRhdGVBbmltcyhhbmltKTtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZUFuaW0oYW5pbSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuaW07XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBjb25zdCBoZXJvU3RhbmRpbmcgPSBhZGRBbmltKFwiaGVyb19zdGFuZGluZ1wiKTtcbiAgICAgICAgICAgIGhlcm9TdGFuZGluZy5hbmltYXRpb25TcGVlZCA9IDAuMDI1O1xuICAgICAgICAgICAgaGVyb1N0YW5kaW5nLmJvdW5kaW5nQm94ID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcbiAgICAgICAgICAgIGhlcm9TdGFuZGluZy5ib3VuZGluZ0JveC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBoZXJvU3RhbmRpbmcuYm91bmRpbmdCb3gubGluZVN0eWxlKDEsIDB4RkYwMDAwKTtcbiAgICAgICAgICAgIGhlcm9TdGFuZGluZy5ib3VuZGluZ0JveC5kcmF3UmVjdCgzLCAxLCAxMCwgMTUpO1xuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGhlcm9XYWxraW5nID0gYWRkQW5pbShcImhlcm9fd2Fsa2luZ1wiKTtcbiAgICAgICAgICAgIGhlcm9XYWxraW5nLmFuaW1hdGlvblNwZWVkID0gMC4xOyBcbiAgICAgICAgICAgIGhlcm9XYWxraW5nLmJvdW5kaW5nQm94ID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcbiAgICAgICAgICAgIGhlcm9XYWxraW5nLmJvdW5kaW5nQm94LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGhlcm9XYWxraW5nLmJvdW5kaW5nQm94LmxpbmVTdHlsZSgxLCAweEZGMDAwMCk7XG4gICAgICAgICAgICBoZXJvV2Fsa2luZy5ib3VuZGluZ0JveC5kcmF3UmVjdCgzLCAxLCAxMCwgMTUpO1xuXG4gICAgICAgICAgICBjb25zdCBoZXJvUmlzaW5nID0gYWRkQW5pbShcImhlcm9fcmlzaW5nXCIpO1xuICAgICAgICAgICAgaGVyb1Jpc2luZy5sb29wID0gZmFsc2U7XG4gICAgICAgICAgICBoZXJvUmlzaW5nLmFuaW1hdGlvblNwZWVkID0gMC4wOTtcbiAgICAgICAgICAgIGhlcm9SaXNpbmcuYm91bmRpbmdCb3ggPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICAgICAgaGVyb1Jpc2luZy5ib3VuZGluZ0JveC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBoZXJvUmlzaW5nLmJvdW5kaW5nQm94LmxpbmVTdHlsZSgxLCAweEZGMDAwMCk7XG4gICAgICAgICAgICBoZXJvUmlzaW5nLmJvdW5kaW5nQm94LmRyYXdSZWN0KDMsIDEsIDEwLCAxNSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhlcm9GYWxsaW5nID0gYWRkQW5pbShcImhlcm9fZmFsbGluZ1wiKTtcbiAgICAgICAgICAgIGhlcm9GYWxsaW5nLmxvb3AgPSBmYWxzZTtcbiAgICAgICAgICAgIGhlcm9GYWxsaW5nLmFuaW1hdGlvblNwZWVkID0gMC4wOTtcbiAgICAgICAgICAgIGhlcm9GYWxsaW5nLmJvdW5kaW5nQm94ID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcbiAgICAgICAgICAgIGhlcm9GYWxsaW5nLmJvdW5kaW5nQm94LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGhlcm9GYWxsaW5nLmJvdW5kaW5nQm94LmxpbmVTdHlsZSgxLCAweEZGMDAwMCk7XG4gICAgICAgICAgICBoZXJvRmFsbGluZy5ib3VuZGluZ0JveC5kcmF3UmVjdCgzLCAxLCAxMCwgMTUpO1xuICAgIFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIGFuaW1zLFxuICAgICAgICAgICAgICAgIHdhbGs6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ1bihoZXJvV2Fsa2luZyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdGFuZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnVuKGhlcm9TdGFuZGluZyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByaXNlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBydW4oaGVyb1Jpc2luZyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWxsOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBydW4oaGVyb0ZhbGxpbmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzKHthbmltczogcmVzdWx0fSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuZnVuY3Rpb24gc2V0QW5jaG9yKHNldCwgcmVmKSB7XG4gICAgc2V0LnBpdm90LnNldCgocmVmfHxzZXQpLndpZHRoIC8gMiwgMCk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ga2V5Ym9hcmQodmFsdWUpIHtcbiAgICBsZXQga2V5ID0ge307XG4gICAga2V5LnZhbHVlID0gdmFsdWU7XG4gICAga2V5LmlzRG93biA9IGZhbHNlO1xuICAgIGtleS5pc1VwID0gdHJ1ZTtcbiAgICBrZXkucHJlc3MgPSB1bmRlZmluZWQ7XG4gICAga2V5LnJlbGVhc2UgPSB1bmRlZmluZWQ7XG4gICAgLy9UaGUgYGRvd25IYW5kbGVyYFxuICAgIGtleS5kb3duSGFuZGxlciA9IGV2ZW50ID0+IHtcbiAgICAgIGlmIChldmVudC5rZXkgPT09IGtleS52YWx1ZSkge1xuICAgICAgICBpZiAoa2V5LmlzVXAgJiYga2V5LnByZXNzKSBrZXkucHJlc3MoKTtcbiAgICAgICAga2V5LmlzRG93biA9IHRydWU7XG4gICAgICAgIGtleS5pc1VwID0gZmFsc2U7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfTtcbiAgXG4gICAgLy9UaGUgYHVwSGFuZGxlcmBcbiAgICBrZXkudXBIYW5kbGVyID0gZXZlbnQgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0ga2V5LnZhbHVlKSB7XG4gICAgICAgIGlmIChrZXkuaXNEb3duICYmIGtleS5yZWxlYXNlKSBrZXkucmVsZWFzZSgpO1xuICAgICAgICBrZXkuaXNEb3duID0gZmFsc2U7XG4gICAgICAgIGtleS5pc1VwID0gdHJ1ZTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9O1xuICBcbiAgICAvL0F0dGFjaCBldmVudCBsaXN0ZW5lcnNcbiAgICBjb25zdCBkb3duTGlzdGVuZXIgPSBrZXkuZG93bkhhbmRsZXIuYmluZChrZXkpO1xuICAgIGNvbnN0IHVwTGlzdGVuZXIgPSBrZXkudXBIYW5kbGVyLmJpbmQoa2V5KTtcbiAgICBcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwia2V5ZG93blwiLCBkb3duTGlzdGVuZXIsIGZhbHNlXG4gICAgKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwia2V5dXBcIiwgdXBMaXN0ZW5lciwgZmFsc2VcbiAgICApO1xuICAgIFxuICAgIC8vIERldGFjaCBldmVudCBsaXN0ZW5lcnNcbiAgICBrZXkudW5zdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZG93bkxpc3RlbmVyKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdXBMaXN0ZW5lcik7XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4ga2V5O1xuICB9IiwiaW1wb3J0IG5pcHBsZWpzIGZyb20gJ25pcHBsZWpzJztcblxuY29uc3QgbmlwcGxlTWFuYWdlciA9IG5pcHBsZWpzLmNyZWF0ZSh7em9uZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRyb2xzLW92ZXJsYXknKSwgY29sb3I6ICcjMzMzJywgbWF4TnVtYmVyT2ZOaXBwbGVzOiAxfSk7XG5cbmV4cG9ydCBkZWZhdWx0IChjb250cm9scykgPT4ge1xuICAgIG5pcHBsZU1hbmFnZXIub24oJ3N0YXJ0JywgKGUsIHZKb3lzdGljaykgPT4ge1xuICAgICAgICB2Sm95c3RpY2sub24oJ21vdmUnLCAoZSwge2RpcmVjdGlvbn0pID0+IHtcbiAgICAgICAgICAgIGlmKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGlmKGRpcmVjdGlvbi54ID09PSBcInJpZ2h0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbHMucmlnaHQucHJlc3MoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9scy5sZWZ0LnByZXNzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIG5pcHBsZU1hbmFnZXIub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgY29udHJvbHMubGVmdC5yZWxlYXNlKCk7XG4gICAgICAgIGNvbnRyb2xzLnJpZ2h0LnJlbGVhc2UoKTtcbiAgICB9KTtcbn07IiwiaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcblxuaW1wb3J0IHtHUkFWSVRZLCBWRUxPQ0lUWV9YLCBWRUxPQ0lUWV9ZfSBmcm9tICcuLi9pbmRleCc7XG5cbmltcG9ydCBjcmVhdGVIZXJvQW5pbSBmcm9tICcuLi9hbmltcy9oZXJvQW5pbSc7XG5pbXBvcnQgSGVyb1N0YXRlLCB7IEZBTExJTkcsIE1PVklOR19MRUZULCBNT1ZJTkdfUklHSFQsIFJJU0lORywgU1RBTkRJTkcgfSBmcm9tICcuLi9zdGF0ZS9IZXJvQWN0aW9uc1N0YXRlJztcbmltcG9ydCBrZXlib2FyZERyaXZlciBmcm9tICcuLi9jb250cm9sbGVycy9rZXlib2FyZERyaXZlcic7XG5pbXBvcnQgbW9iaWxlRHJpdmVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL21vYmlsZURyaXZlcic7XG5cbmV4cG9ydCBkZWZhdWx0IChhcHApID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgUHJvbWlzZShhc3luYyByZXMgPT4ge1xuICAgICAgICBjb25zdCBoZXJvID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG5cbiAgICAgICAgY29uc3Qge2FuaW1zOiBoZXJvQW5pbX0gPSBhd2FpdCBjcmVhdGVIZXJvQW5pbShQSVhJLCBhcHAsIGhlcm8pO1xuXG4gICAgICAgIGhlcm8udnggPSAwO1xuICAgICAgICBoZXJvLnZ5ID0gMDtcbiAgICAgICAgaGVyby54ID0gMTAwO1xuICAgICAgICBoZXJvLnkgPSAxMDA7XG4gICAgICAgIGhlcm9BbmltLnN0YW5kKCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB7Y29udHJvbHMsIHVwZGF0ZVN0YXRlfSA9IEhlcm9TdGF0ZSgoKGFjdGlvbiwgcGFyYW0pID0+IHtcbiAgICAgICAgICAgIGlmKGFjdGlvbiA9PT0gTU9WSU5HX0xFRlQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbW92aW5nIGxlZnQnKTtcbiAgICAgICAgICAgICAgICBoZXJvLnZ4ID0gLVZFTE9DSVRZX1g7XG4gICAgICAgICAgICAgICAgaGVyby5zY2FsZS54ID0gLTE7XG4gICAgICAgICAgICAgICAgaWYoIXBhcmFtKSB7XG4gICAgICAgICAgICAgICAgICAgIGhlcm9BbmltLndhbGsoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gTU9WSU5HX1JJR0hUKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ21vdmluZyByaWdodCcpO1xuICAgICAgICAgICAgICAgIGhlcm8udnggPSBWRUxPQ0lUWV9YO1xuICAgICAgICAgICAgICAgIGhlcm8uc2NhbGUueCA9IDE7XG4gICAgICAgICAgICAgICAgaWYoIXBhcmFtKSB7XG4gICAgICAgICAgICAgICAgICAgIGhlcm9BbmltLndhbGsoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBpZihhY3Rpb24gPT09IFJJU0lORykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyaXNpbmcnKTtcbiAgICAgICAgICAgICAgICBoZXJvLnZ5ID0gLVZFTE9DSVRZX1k7XG4gICAgICAgICAgICAgICAgaGVyb0FuaW0ucmlzZSgpO1xuICAgIFxuICAgICAgICAgICAgfSBlbHNlIGlmKGFjdGlvbiA9PT0gRkFMTElORykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmYWxsaW5nJyk7XG4gICAgICAgICAgICAgICAgaGVyb0FuaW0uZmFsbCgpO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgaWYoYWN0aW9uID09PSBTVEFORElORykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzdGFuZGluZycpO1xuICAgICAgICAgICAgICAgIGhlcm8udnggPSAwO1xuICAgICAgICAgICAgICAgIGlmKCFwYXJhbSkge1xuICAgICAgICAgICAgICAgICAgICBoZXJvQW5pbS5zdGFuZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIFxuICAgICAgICBrZXlib2FyZERyaXZlcihjb250cm9scyk7XG4gICAgICAgIG1vYmlsZURyaXZlcihjb250cm9scyk7XG5cbiAgICAgICAgY29uc3QgdXBkYXRlQmVmb3JlQ29sID0gKGRlbHRhKSA9PiB7XG4gICAgICAgICAgICBoZXJvLnZ5ICs9IEdSQVZJVFk7XG4gICAgICAgICAgICBjb25zdCB4dSA9IGhlcm8udnggKiBkZWx0YTtcbiAgICAgICAgICAgIGNvbnN0IHl1ID0gaGVyby52eSAqIGRlbHRhO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBoZXJvLnggKz0geHU7XG4gICAgICAgICAgICBoZXJvLnkgKz0geXU7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdXBkYXRlQWZ0ZXJDb2wgPSAoKSA9PiB7XG4gICAgICAgICAgICB1cGRhdGVTdGF0ZShoZXJvLnZ4LCBoZXJvLnZ5KTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXMoe2FjdG9yOiBoZXJvLCB1cGRhdGVCZWZvcmVDb2wsIHVwZGF0ZUFmdGVyQ29sfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07IiwiaW1wb3J0IGtleWJvYXJkIGZyb20gXCIuLi9jb250cm9sbGVycy9rZXlib2FyZFwiO1xuXG5leHBvcnQgY29uc3QgU1RBTkRJTkcgPSAwO1xuZXhwb3J0IGNvbnN0IE1PVklOR19MRUZUID0gMTtcbmV4cG9ydCBjb25zdCBNT1ZJTkdfUklHSFQgPSAyO1xuZXhwb3J0IGNvbnN0IFJJU0lORyA9IDM7XG5leHBvcnQgY29uc3QgRkFMTElORyA9IDQ7XG5cbmV4cG9ydCBkZWZhdWx0IChjYWxsYmFjaykgPT4ge1xuICAgIGxldCBzdGFuZGluZyA9IGZhbHNlO1xuICAgIGxldCBtb3ZpbmdMZWZ0ID0gZmFsc2U7XG4gICAgbGV0IG1vdmluZ1JpZ2h0ID0gZmFsc2U7XG4gICAgbGV0IHJpc2luZyA9IGZhbHNlO1xuICAgIGxldCBmYWxsaW5nID0gZmFsc2U7XG5cbiAgICBjb25zdCBjb250cm9scyA9IHtsZWZ0OiB7fSwgcmlnaHQ6IHt9LCBqdW1wOiB7fX07XG5cbiAgICBjb250cm9scy5sZWZ0LnByZXNzID0gKCkgPT4ge1xuICAgICAgICBtb3ZpbmdMZWZ0ID0gdHJ1ZTtcbiAgICAgICAgc3RhbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgY2FsbGJhY2soTU9WSU5HX0xFRlQsIHJpc2luZyB8fCBmYWxsaW5nKTtcbiAgICB9O1xuICAgIGNvbnRyb2xzLmxlZnQucmVsZWFzZSA9ICgpID0+IHtcbiAgICAgICAgbW92aW5nTGVmdCA9IGZhbHNlO1xuICAgICAgICBpZihtb3ZpbmdSaWdodCkge1xuICAgICAgICAgICAgY2FsbGJhY2soTU9WSU5HX1JJR0hULCByaXNpbmcgfHwgZmFsbGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdGFuZGluZyA9IHRydWU7XG4gICAgICAgICAgICBjYWxsYmFjayhTVEFORElORywgcmlzaW5nIHx8IGZhbGxpbmcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29udHJvbHMucmlnaHQucHJlc3MgPSAoKSA9PiB7XG4gICAgICAgIG1vdmluZ1JpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgc3RhbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgY2FsbGJhY2soTU9WSU5HX1JJR0hULCByaXNpbmcgfHwgZmFsbGluZyk7XG4gICAgfTtcbiAgICBjb250cm9scy5yaWdodC5yZWxlYXNlID0gKCkgPT4ge1xuICAgICAgICBtb3ZpbmdSaWdodCA9IGZhbHNlO1xuICAgICAgICBpZihtb3ZpbmdMZWZ0KSB7XG4gICAgICAgICAgICBjYWxsYmFjayhNT1ZJTkdfTEVGVCwgcmlzaW5nIHx8IGZhbGxpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhbmRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgY2FsbGJhY2soU1RBTkRJTkcsIHJpc2luZyB8fCBmYWxsaW5nKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb250cm9scy5qdW1wLnByZXNzID0gKCkgPT4ge1xuICAgICAgICBpZighKHJpc2luZyB8fCBmYWxsaW5nKSkge1xuICAgICAgICAgICAgcmlzaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHN0YW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBjYWxsYmFjayhSSVNJTkcpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb250cm9scy5qdW1wLnJlbGVhc2UgPSAoKSA9PiB7XG4gICAgICAgIHJpc2luZyA9IGZhbHNlO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVTdGF0ZSA9ICh2eCwgdnkpID0+IHtcbiAgICAgICAgaWYodnkgPiAwICYmICFmYWxsaW5nKSB7XG4gICAgICAgICAgICByaXNpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGZhbGxpbmcgPSB0cnVlO1xuICAgICAgICAgICAgY2FsbGJhY2soRkFMTElORyk7XG4gICAgICAgIH0gZWxzZSBpZiAodnkgPT09IDApIHtcbiAgICAgICAgICAgIGlmKGZhbGxpbmcgfHwgcmlzaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYobW92aW5nTGVmdCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhNT1ZJTkdfTEVGVCk7XG4gICAgICAgICAgICAgICAgfWVsc2UgaWYobW92aW5nUmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soTU9WSU5HX1JJR0hUKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soU1RBTkRJTkcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJpc2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgZmFsbGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmKChtb3ZpbmdSaWdodCB8fCBtb3ZpbmdMZWZ0KSAmJiB2eCA9PT0gMCkge1xuICAgICAgICAgICAgaWYoIXN0YW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgc3RhbmRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKFNUQU5ESU5HKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4ge2NvbnRyb2xzLCB1cGRhdGVTdGF0ZX07XG59OyIsImltcG9ydCBrZXlib2FyZCBmcm9tICcuL2tleWJvYXJkJztcblxuZXhwb3J0IGRlZmF1bHQgKGNvbnRyb2xzKSA9PiB7XG4gICAgY29uc3Qga2JBcnJvd0xlZnQgPSBrZXlib2FyZCgnQXJyb3dMZWZ0Jyk7XG4gICAga2JBcnJvd0xlZnQucHJlc3MgPSBjb250cm9scy5sZWZ0LnByZXNzO1xuICAgIGtiQXJyb3dMZWZ0LnJlbGVhc2UgPSBjb250cm9scy5sZWZ0LnJlbGVhc2U7XG5cbiAgICBjb25zdCBrYkFycm93UmlnaHQgPSBrZXlib2FyZCgnQXJyb3dSaWdodCcpO1xuICAgIGtiQXJyb3dSaWdodC5wcmVzcyA9IGNvbnRyb2xzLnJpZ2h0LnByZXNzO1xuICAgIGtiQXJyb3dSaWdodC5yZWxlYXNlID0gY29udHJvbHMucmlnaHQucmVsZWFzZTtcblxuICAgIGNvbnN0IGtiQXJyb3dVcCA9IGtleWJvYXJkKCdBcnJvd1VwJyk7XG4gICAga2JBcnJvd1VwLnByZXNzID0gY29udHJvbHMuanVtcC5wcmVzcztcbiAgICBrYkFycm93VXAucmVsZWFzZSA9IGNvbnRyb2xzLmp1bXAucmVsZWFzZTtcbn07IiwiaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcbmltcG9ydCBTQVQgZnJvbSAnc2F0JztcblxuaW1wb3J0IGNyZWF0ZUhlcm8gZnJvbSAnLi9hY3RvcnMvaGVybyc7XG5pbXBvcnQgaGVyb0FuaW0gZnJvbSAnLi9hbmltcy9oZXJvQW5pbSc7XG5pbXBvcnQgY3JlYXRlQ2F2ZSBmcm9tICcuL3N0YWdlcy9jYXZlJztcblxuZXhwb3J0IGNvbnN0IEdSQVZJVFkgPSAwLjA5ODtcbmV4cG9ydCBjb25zdCBWRUxPQ0lUWV9YID0gMTtcbmV4cG9ydCBjb25zdCBWRUxPQ0lUWV9ZID0gMjtcbmV4cG9ydCBjb25zdCBTQ1JPTExfQVJFQV9XSURUSCA9IDUwO1xuZXhwb3J0IGNvbnN0IFNDUk9MTF9BUkVBX0hFSUdIVCA9IDUwO1xuXG5QSVhJLnNldHRpbmdzLlJFU09MVVRJT04gPSA1O1xuUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFID0gUElYSS5TQ0FMRV9NT0RFUy5ORUFSRVNUO1xuY29uc3QgUkVTID0gUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OO1xuXG4vLyBUaGUgYXBwbGljYXRpb24gd2lsbCBjcmVhdGUgYSByZW5kZXJlciB1c2luZyBXZWJHTCwgaWYgcG9zc2libGUsXG4vLyB3aXRoIGEgZmFsbGJhY2sgdG8gYSBjYW52YXMgcmVuZGVyLiBJdCB3aWxsIGFsc28gc2V0dXAgdGhlIHRpY2tlclxuLy8gYW5kIHRoZSByb290IHN0YWdlIFBJWEkuQ29udGFpbmVyXG5jb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbih7dHJhbnNwYXJlbnQ6IHRydWV9KTtcblxuYXBwLnJlbmRlcmVyLnZpZXcuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG5hcHAucmVuZGVyZXIudmlldy5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuYXBwLnJlbmRlcmVyLnZpZXcuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjODg4XCI7XG5cbndpbmRvdy5vbnJlc2l6ZSA9IGZ1bmN0aW9uKClcbntcbiAgICBhcHAucmVuZGVyZXIucmVzaXplKHdpbmRvdy5pbm5lcldpZHRoIC8gUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OLCB3aW5kb3cuaW5uZXJIZWlnaHQgLyBQSVhJLnNldHRpbmdzLlJFU09MVVRJT04pO1xufVxud2luZG93Lm9ucmVzaXplKCk7XG5cbi8vIFRoZSBhcHBsaWNhdGlvbiB3aWxsIGNyZWF0ZSBhIGNhbnZhcyBlbGVtZW50IGZvciB5b3UgdGhhdCB5b3Vcbi8vIGNhbiB0aGVuIGluc2VydCBpbnRvIHRoZSBET01cbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuXG5hc3luYyBmdW5jdGlvbiBsb2FkKCkge1xuICAgIGNvbnN0IHtjb2xsaWRhYmxlcywgdGlsZW1hcDogY2F2ZU1hcH0gPSBhd2FpdCBjcmVhdGVDYXZlKGFwcCk7XG4gICAgYXBwLnN0YWdlLmFkZENoaWxkKGNhdmVNYXApO1xuXG4gICAgY29uc3Qge2FjdG9yOiBoZXJvLCB1cGRhdGVCZWZvcmVDb2w6IHVwZGF0ZUhlcm9CQywgdXBkYXRlQWZ0ZXJDb2w6IHVwZGF0ZUhlcm9BQ30gPSBhd2FpdCBjcmVhdGVIZXJvKGFwcCk7XG4gICAgYXBwLnN0YWdlLmFkZENoaWxkKGhlcm8pOyBcblxuICAgIGFwcC5zdGFnZS54ID0gMDtcbiAgICBhcHAuc3RhZ2UueSA9IChoZXJvLnggLSBTQ1JPTExfQVJFQV9IRUlHSFQpIC0gaGVyby5oZWlnaHQgLyAyIC0gYXBwLnN0YWdlLmhlaWdodCAvIDI7XG5cbiAgICBjb25zdCBzY3JvbGxBcmVhID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcbiAgICBzY3JvbGxBcmVhLnZpc2libGUgPSB0cnVlO1xuICAgIHNjcm9sbEFyZWEubGluZVN0eWxlKDEsIDB4RkYwMDAwKTtcbiAgICBzY3JvbGxBcmVhLmRyYXdSZWN0KCBcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgU0NST0xMX0FSRUFfV0lEVEgsXG4gICAgICAgIFNDUk9MTF9BUkVBX0hFSUdIVFxuICAgICk7XG4gICAgc2Nyb2xsQXJlYS54ID0gTWF0aC5tYXgoaGVyby54IC0gU0NST0xMX0FSRUFfV0lEVEggLyAyLCBhcHAuc3RhZ2UueCk7XG4gICAgc2Nyb2xsQXJlYS55ID0gTWF0aC5tYXgoaGVyby55IC0gU0NST0xMX0FSRUFfSEVJR0hUIC8gMiwgYXBwLnN0YWdlLnkpO1xuICAgIFxuICAgIGFwcC5zdGFnZS5hZGRDaGlsZChzY3JvbGxBcmVhKTtcblxuICAgIC8vIGFwcC50aWNrZXIubWF4RlBTID0gMTtcbiAgICBhcHAudGlja2VyLmFkZChkZWx0YSA9PiB7XG4gICAgICAgIGNvbnN0IG94dSA9IGhlcm8ueDtcbiAgICAgICAgY29uc3Qgb3l1ID0gaGVyby55O1xuXG4gICAgICAgIHVwZGF0ZUhlcm9CQyhkZWx0YSk7XG5cbiAgICAgICAgY29sbGlkYWJsZXMuZXZlcnkoKGNvbGxpZGFibGUpID0+IHtcbiAgICAgICAgICAgIGxldCBoZXJvQkIgPSBwYXJlbnRQb3NpdGlvblJlZihoZXJvLmdldENoaWxkQXQoMCkuYm91bmRpbmdCb3gpO1xuICAgICAgICAgICAgbGV0IGhpdFJlc3AgPSBoaXRUZXN0UmVjdGFuZ2xlKGhlcm9CQiwgY29sbGlkYWJsZSk7XG4gICAgICAgICAgICBpZighIWhpdFJlc3ApIHtcbiAgICAgICAgICAgICAgICBpZihoaXRSZXNwLm92ZXJsYXBWLngpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVyby54IC09IGhpdFJlc3Aub3ZlcmxhcFYueDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZihoaXRSZXNwLm92ZXJsYXBWLnkpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVyby52eSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGhlcm8ueSAtPSBoaXRSZXNwLm92ZXJsYXBWLnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgbnh1ID0gaGVyby54IC0gb3h1O1xuICAgICAgICBjb25zdCBueXUgPSBoZXJvLnkgLSBveXU7XG5cbiAgICAgICAgY29uc29sZS5sb2coaGVyby54LCBzY3JvbGxBcmVhLngsIGNhdmVNYXAueCwgYXBwLnN0YWdlLnggKyBhcHAuc3RhZ2Uud2lkdGgsIGFwcC5zdGFnZS53aWR0aCAtIGFwcC52aWV3LndpZHRoKTtcblxuICAgICAgICBpZihoZXJvLnggIDw9IHNjcm9sbEFyZWEueCAmJiBhcHAuc3RhZ2UueCA8IDApIHtcbiAgICAgICAgICAgIHNjcm9sbEFyZWEueCArPSBueHU7XG4gICAgICAgICAgICBhcHAuc3RhZ2UueCAtPSBueHU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihoZXJvLnggID49IHNjcm9sbEFyZWEueCArIHNjcm9sbEFyZWEud2lkdGggJiYgYXBwLnN0YWdlLnggKyBhcHAuc3RhZ2Uud2lkdGggPiAtYXBwLnN0YWdlLndpZHRoKSB7XG4gICAgICAgICAgICBzY3JvbGxBcmVhLnggKz0gbnh1O1xuICAgICAgICAgICAgYXBwLnN0YWdlLnggLT0gbnh1O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoaGVyby55ICA8PSBzY3JvbGxBcmVhLnkgJiYgYXBwLnN0YWdlLnkgPCAwKSB7XG4gICAgICAgICAgICBzY3JvbGxBcmVhLnkgKz0gbnl1O1xuICAgICAgICAgICAgYXBwLnN0YWdlLnkgLT0gbnl1O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoaGVyby55ICsgaGVyby5oZWlnaHQgPj0gc2Nyb2xsQXJlYS55ICsgc2Nyb2xsQXJlYS5oZWlnaHQgJiYgYXBwLnN0YWdlLnkgKyBhcHAuc3RhZ2UuaGVpZ2h0ID4gLWFwcC5zdGFnZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIHNjcm9sbEFyZWEueSArPSBueXU7XG4gICAgICAgICAgICBhcHAuc3RhZ2UueSAtPSBueXU7XG4gICAgICAgIH1cblxuICAgICAgICB1cGRhdGVIZXJvQUMoZGVsdGEpO1xuICAgIH0pO1xufTtcbmxvYWQoKTtcblxuXG5cbmZ1bmN0aW9uIHBhcmVudFBvc2l0aW9uUmVmKGNoaWxkLCB4dSA9IDAsIHl1ID0gMCkge1xuICAgIGNvbnN0IHBhcmVudCA9IGNoaWxkLnBhcmVudDtcbiAgICBjb25zdCBjbG9uZSA9IGNoaWxkLmNsb25lKCk7XG5cbiAgICBjbG9uZS54ID0gcGFyZW50LnggKyBjaGlsZC54O1xuICAgIGNsb25lLnkgPSBwYXJlbnQueSArIGNoaWxkLnk7XG5cbiAgICBjbG9uZS54IC09IGNoaWxkLndpZHRoIC8gMjtcbiAgICBjbG9uZS55IC09IGNoaWxkLnBpdm90LnkgLyAyO1xuICAgIFxuICAgIGNsb25lLnggKz0geHU7XG4gICAgY2xvbmUueSArPSB5dTtcblxuICAgIHJldHVybiBjbG9uZTtcbn1cblxuZnVuY3Rpb24gaGl0VGVzdFJlY3RhbmdsZShvYmoxLCBvYmoyKSB7XG4gICAgY29uc3QgYm94MSA9IHRvU2F0Qm94UG9seWdvbihvYmoxKTtcbiAgICBjb25zdCBib3gyID0gdG9TYXRCb3hQb2x5Z29uKG9iajIpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gbmV3IFNBVC5SZXNwb25zZSgpO1xuICAgIGNvbnN0IGhpdCA9IFNBVC50ZXN0UG9seWdvblBvbHlnb24oYm94MSwgYm94MiwgcmVzcG9uc2UpO1xuICAgIGlmKGhpdCkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gdG9TYXRCb3hQb2x5Z29uKG9iaikge1xuICAgIHJldHVybiBuZXcgU0FULkJveChuZXcgU0FULlZlY3RvcihvYmoueCwgb2JqLnkpLCBvYmoud2lkdGgsIG9iai5oZWlnaHQpLnRvUG9seWdvbigpO1xufSIsImltcG9ydCB7IENvbXBvc2l0ZVJlY3RUaWxlTGF5ZXIgfSBmcm9tIFwicGl4aS10aWxlbWFwL2Rpc3QvcGl4aS10aWxlbWFwXCI7XG5cbmltcG9ydCBjYXZlVGlsZW1hcCBmcm9tICcuLi9jYXZlLTguanNvbic7XG5cbmV4cG9ydCBkZWZhdWx0IChhcHApID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgUHJvbWlzZShyZXMgPT4ge1xuICAgICAgICBhcHAubG9hZGVyXG4gICAgICAgIC5hZGQoJ2NhdmUtOF8xLnBuZycpXG4gICAgICAgIC5hZGQoJ2NhdmUtOF8yLnBuZycpXG4gICAgICAgIC5hZGQoJ2NhdmUtOF8zLnBuZycpXG4gICAgICAgIC5hZGQoJ2NhdmUtOF80LnBuZycpXG4gICAgICAgIC5sb2FkKChsb2FkZXIsIHJlc291cmNlcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGlsZW1hcCA9IG5ldyBDb21wb3NpdGVSZWN0VGlsZUxheWVyKDAsIHJlc291cmNlcyk7XG4gICAgICAgIFxuICAgICAgICAgICAgY29uc3QgY29sbGlkYWJsZXMgPSBbXTtcbiAgICAgICAgXG4gICAgICAgICAgICB2YXIgc2l6ZSA9IGNhdmVUaWxlbWFwLnRpbGVoZWlnaHQ7XG4gICAgICAgICAgICAvLyBiYWgsIGltIHRvbyBsYXp5LCBpIGp1c3Qgd2FudCB0byBzcGVjaWZ5IGZpbGVuYW1lcyBmcm9tIGF0bGFzXG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGkgPCBjYXZlVGlsZW1hcC50aWxlc3dpZGU7IGkrKykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGo9MDsgajwgY2F2ZVRpbGVtYXAudGlsZXNoaWdoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGlsZSA9IGNhdmVUaWxlbWFwLmxheWVyc1swXS50aWxlcy5maW5kKHQgPT4gdC54ID09PSBpICYmIHQueSA9PT0gaik7XG4gICAgICAgICAgICAgICAgICAgIGlmKHRpbGUudGlsZSAhPT0gLTEgJiYgdGlsZS50aWxlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0dXJlID0gcmVzb3VyY2VzW2BjYXZlLThfJHt0aWxlLnRpbGV9LnBuZ2BdLnRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByb3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2godGlsZS5yb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJvdCA9IDY7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcm90ID0gNDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOiByb3QgPSAyOyBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRpbGUuZmxpcFgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3QgPSAxMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUucm90YXRlID0gcm90O1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVtYXAuYWRkRnJhbWUodGV4dHVyZSwgaSpzaXplLCBqKnNpemUpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvbkJveCA9IHt4OiBpICogc2l6ZSwgeTogaiAqIHNpemUsIHdpZHRoOiBzaXplLCBoZWlnaHQ6IHNpemV9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlkYWJsZXMucHVzaChjb2xsaXNpb25Cb3gpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgICAgIHJlcyh7Y29sbGlkYWJsZXMsIHRpbGVtYXB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHRsb2FkZWQ6IGZhbHNlLFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcblx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiBtb2R1bGVbJ2RlZmF1bHQnXSA6XG5cdFx0KCkgPT4gbW9kdWxlO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubm1kID0gKG1vZHVsZSkgPT4ge1xuXHRtb2R1bGUucGF0aHMgPSBbXTtcblx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRyZXR1cm4gbW9kdWxlO1xufTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZVxuX193ZWJwYWNrX3JlcXVpcmVfXyg2OTcpO1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgdXNlZCAnZXhwb3J0cycgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxuIl0sInNvdXJjZVJvb3QiOiIifQ==