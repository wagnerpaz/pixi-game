/*! For license information please see index.bundle.js.LICENSE.txt */
(()=>{var t={187:t=>{"use strict";function e(t,e,o){o=o||2;var s,a,h,c,d,f,m,y=e&&e.length,v=y?e[0]*o:t.length,g=i(t,0,v,o,!0),_=[];if(!g||g.next===g.prev)return _;if(y&&(g=function(t,e,n,o){var s,a,h,c=[];for(s=0,a=e.length;s<a;s++)(h=i(t,e[s]*o,s<a-1?e[s+1]*o:t.length,o,!1))===h.next&&(h.steiner=!0),c.push(p(h));for(c.sort(u),s=0;s<c.length;s++)l(c[s],n),n=r(n,n.next);return n}(t,e,g,o)),t.length>80*o){s=h=t[0],a=c=t[1];for(var x=o;x<v;x+=o)(d=t[x])<s&&(s=d),(f=t[x+1])<a&&(a=f),d>h&&(h=d),f>c&&(c=f);m=0!==(m=Math.max(h-s,c-a))?1/m:0}return n(g,_,o,s,a,m),_}function i(t,e,i,r,n){var o,s;if(n===A(t,e,i,r)>0)for(o=e;o<i;o+=r)s=E(o,t[o],t[o+1],s);else for(o=i-r;o>=e;o-=r)s=E(o,t[o],t[o+1],s);return s&&v(s,s.next)&&(w(s),s=s.next),s}function r(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!v(r,r.next)&&0!==y(r.prev,r,r.next))r=r.next;else{if(w(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function n(t,e,i,u,l,c,p){if(t){!p&&c&&function(t,e,i,r){var n=t;do{null===n.z&&(n.z=d(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,o,s,a,h,u=1;do{for(i=t,t=null,o=null,s=0;i;){for(s++,r=i,a=0,e=0;e<u&&(a++,r=r.nextZ);e++);for(h=u;a>0||h>0&&r;)0!==a&&(0===h||!r||i.z<=r.z)?(n=i,i=i.nextZ,a--):(n=r,r=r.nextZ,h--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;i=r}o.nextZ=null,u*=2}while(s>1)}(n)}(t,u,l,c);for(var f,m,y=t;t.prev!==t.next;)if(f=t.prev,m=t.next,c?s(t,u,l,c):o(t))e.push(f.i/i),e.push(t.i/i),e.push(m.i/i),w(t),t=m.next,y=m.next;else if((t=m)===y){p?1===p?n(t=a(r(t),e,i),e,i,u,l,c,2):2===p&&h(t,e,i,u,l,c):n(r(t),e,i,u,l,c,1);break}}}function o(t){var e=t.prev,i=t,r=t.next;if(y(e,i,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(f(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&y(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function s(t,e,i,r){var n=t.prev,o=t,s=t.next;if(y(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,h=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,u=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,l=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,c=d(a,h,e,i,r),p=d(u,l,e,i,r),m=t.prevZ,v=t.nextZ;m&&m.z>=c&&v&&v.z<=p;){if(m!==t.prev&&m!==t.next&&f(n.x,n.y,o.x,o.y,s.x,s.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;if(m=m.prevZ,v!==t.prev&&v!==t.next&&f(n.x,n.y,o.x,o.y,s.x,s.y,v.x,v.y)&&y(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;m&&m.z>=c;){if(m!==t.prev&&m!==t.next&&f(n.x,n.y,o.x,o.y,s.x,s.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;m=m.prevZ}for(;v&&v.z<=p;){if(v!==t.prev&&v!==t.next&&f(n.x,n.y,o.x,o.y,s.x,s.y,v.x,v.y)&&y(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function a(t,e,i){var n=t;do{var o=n.prev,s=n.next.next;!v(o,s)&&g(o,n,n.next,s)&&b(o,s)&&b(s,o)&&(e.push(o.i/i),e.push(n.i/i),e.push(s.i/i),w(n),w(n.next),n=t=s),n=n.next}while(n!==t);return r(n)}function h(t,e,i,o,s,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&m(h,u)){var l=T(h,u);return h=r(h,h.next),l=r(l,l.next),n(h,e,i,o,s,a),void n(l,e,i,o,s,a)}u=u.next}h=h.next}while(h!==t)}function u(t,e){return t.x-e.x}function l(t,e){if(e=function(t,e){var i,r=e,n=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s){if(s=a,a===n){if(o===r.y)return r;if(o===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===s)return i;var h,u=i,l=i.x,d=i.y,p=1/0;r=i;do{n>=r.x&&r.x>=l&&n!==r.x&&f(o<d?n:s,o,l,d,o<d?s:n,o,r.x,r.y)&&(h=Math.abs(o-r.y)/(n-r.x),b(r,t)&&(h<p||h===p&&(r.x>i.x||r.x===i.x&&c(i,r)))&&(i=r,p=h)),r=r.next}while(r!==u);return i}(t,e)){var i=T(e,t);r(e,e.next),r(i,i.next)}}function c(t,e){return y(t.prev,t,e.prev)<0&&y(e.next,t,t.next)<0}function d(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function f(t,e,i,r,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(r-a)-(i-s)*(e-a)>=0&&(i-s)*(o-a)-(n-s)*(r-a)>=0}function m(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&g(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(b(t,e)&&b(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{i.y>o!=i.next.y>o&&i.next.y!==i.y&&n<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)&&(y(t.prev,t,e.prev)||y(t,e.prev,e))||v(t,e)&&y(t.prev,t,t.next)>0&&y(e.prev,e,e.next)>0)}function y(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function v(t,e){return t.x===e.x&&t.y===e.y}function g(t,e,i,r){var n=x(y(t,e,i)),o=x(y(t,e,r)),s=x(y(i,r,t)),a=x(y(i,r,e));return n!==o&&s!==a||!(0!==n||!_(t,i,e))||!(0!==o||!_(t,r,e))||!(0!==s||!_(i,t,r))||!(0!==a||!_(i,e,r))}function _(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function x(t){return t>0?1:t<0?-1:0}function b(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function T(t,e){var i=new O(t.i,t.x,t.y),r=new O(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,o.next=r,r.prev=o,r}function E(t,e,i,r){var n=new O(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function w(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function O(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(t,e,i,r){for(var n=0,o=e,s=i-r;o<i;o+=r)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}t.exports=e,t.exports.default=e,e.deviation=function(t,e,i,r){var n=e&&e.length,o=n?e[0]*i:t.length,s=Math.abs(A(t,0,o,i));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*i,l=a<h-1?e[a+1]*i:t.length;s-=Math.abs(A(t,u,l,i))}var c=0;for(a=0;a<r.length;a+=3){var d=r[a]*i,p=r[a+1]*i,f=r[a+2]*i;c+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},e.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)i.vertices.push(t[n][o][s]);n>0&&(r+=t[n-1].length,i.holes.push(r))}return i}},713:function(t,e,i){var r;!function(n){var o=n.Promise,s=o&&"resolve"in o&&"reject"in o&&"all"in o&&"race"in o&&function(){var t;return new o((function(e){t=e})),"function"==typeof t}();e?(e.Promise=s?o:A,e.Polyfill=A):void 0===(r=function(){return s?o:A}.call(e,i,e,t))||(t.exports=r);var a="pending",h="sealed",u="fulfilled",l="rejected",c=function(){};function d(t){return"[object Array]"===Object.prototype.toString.call(t)}var p,f="undefined"!=typeof setImmediate?setImmediate:setTimeout,m=[];function y(){for(var t=0;t<m.length;t++)m[t][0](m[t][1]);m=[],p=!1}function v(t,e){m.push([t,e]),p||(p=!0,f(y,0))}function g(t){var e=t.owner,i=e.state_,r=e.data_,n=t[i],o=t.then;if("function"==typeof n){i=u;try{r=n(r)}catch(t){T(o,t)}}_(o,r)||(i===u&&x(o,r),i===l&&T(o,r))}function _(t,e){var i;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var r=e.then;if("function"==typeof r)return r.call(e,(function(r){i||(i=!0,e!==r?x(t,r):b(t,r))}),(function(e){i||(i=!0,T(t,e))})),!0}}catch(e){return i||T(t,e),!0}return!1}function x(t,e){t!==e&&_(t,e)||b(t,e)}function b(t,e){t.state_===a&&(t.state_=h,t.data_=e,v(w,t))}function T(t,e){t.state_===a&&(t.state_=h,t.data_=e,v(O,t))}function E(t){var e=t.then_;t.then_=void 0;for(var i=0;i<e.length;i++)g(e[i])}function w(t){t.state_=u,E(t)}function O(t){t.state_=l,E(t)}function A(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof A==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function i(t){T(e,t)}try{t((function(t){x(e,t)}),i)}catch(t){i(t)}}(t,this)}A.prototype={constructor:A,state_:a,then_:null,data_:void 0,then:function(t,e){var i={owner:this,then:new this.constructor(c),fulfilled:t,rejected:e};return this.state_===u||this.state_===l?v(g,i):this.then_.push(i),i.then},catch:function(t){return this.then(null,t)}},A.all=function(t){if(!d(t))throw new TypeError("You must pass an array to Promise.all().");return new this((function(e,i){var r=[],n=0;function o(t){return n++,function(i){r[t]=i,--n||e(r)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),i):r[a]=s;n||e(r)}))},A.race=function(t){if(!d(t))throw new TypeError("You must pass an array to Promise.race().");return new this((function(e,i){for(var r,n=0;n<t.length;n++)(r=t[n])&&"function"==typeof r.then?r.then(e,i):e(r)}))},A.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this((function(e){e(t)}))},A.reject=function(t){return new this((function(e,i){i(t)}))}}("undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:this)},729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,i="~";function r(){}function n(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function o(t,e,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new n(r,o||t,s),h=i?i+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,r,n=[];if(0===this._eventsCount)return n;for(r in t=this._events)e.call(t,r)&&n.push(i?r.slice(1):r);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=i?i+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,s=new Array(o);n<o;n++)s[n]=r[n].fn;return s},a.prototype.listenerCount=function(t){var e=i?i+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,n,o,s){var a=i?i+t:t;if(!this._events[a])return!1;var h,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,n),!0;case 5:return l.fn.call(l.context,e,r,n,o),!0;case 6:return l.fn.call(l.context,e,r,n,o,s),!0}for(u=1,h=new Array(c-1);u<c;u++)h[u-1]=arguments[u];l.fn.apply(l.context,h)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;case 4:l[u].fn.call(l[u].context,e,r,n);break;default:if(!h)for(d=1,h=new Array(c-1);d<c;d++)h[d-1]=arguments[d];l[u].fn.apply(l[u].context,h)}}return!0},a.prototype.on=function(t,e,i){return o(this,t,e,i,!1)},a.prototype.once=function(t,e,i){return o(this,t,e,i,!0)},a.prototype.removeListener=function(t,e,r,n){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||n&&!a.once||r&&a.context!==r||s(this,o);else{for(var h=0,u=[],l=a.length;h<l;h++)(a[h].fn!==e||n&&!a[h].once||r&&a[h].context!==r)&&u.push(a[h]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,t.exports=a},940:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(e,i,n){void 0===i&&(i=!1),r(this,t),this._fn=e,this._once=i,this._thisArg=n,this._next=this._prev=this._owner=null}return i(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){r(this,t),this._head=this._tail=void 0}return i(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i}},{key:"has",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new n(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new n(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=n,e.default=s,t.exports=e.default},694:t=>{window,t.exports=function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var r,n=function(t,e){var i=e.x-t.x,r=e.y-t.y;return Math.sqrt(i*i+r*r)},o=function(t){return t*(Math.PI/180)},s=function(t,e,i){for(var r,n=e.split(/[ ,]+/g),o=0;o<n.length;o+=1)r=n[o],t.addEventListener?t.addEventListener(r,i,!1):t.attachEvent&&t.attachEvent(r,i)},a=function(t,e,i){for(var r,n=e.split(/[ ,]+/g),o=0;o<n.length;o+=1)r=n[o],t.removeEventListener?t.removeEventListener(r,i):t.detachEvent&&t.detachEvent(r,i)},h=function(t){return t.preventDefault(),t.type.match(/^touch/)?t.changedTouches:t},u=function(){return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},l=function(t,e){e.top||e.right||e.bottom||e.left?(t.style.top=e.top,t.style.right=e.right,t.style.bottom=e.bottom,t.style.left=e.left):(t.style.left=e.x+"px",t.style.top=e.y+"px")},c=function(t,e,i){var r=d(t);for(var n in r)if(r.hasOwnProperty(n))if("string"==typeof e)r[n]=e+" "+i;else{for(var o="",s=0,a=e.length;s<a;s+=1)o+=e[s]+" "+i+", ";r[n]=o.slice(0,-2)}return r},d=function(t){var e={};return e[t]="",["webkit","Moz","o"].forEach((function(i){e[i+t.charAt(0).toUpperCase()+t.slice(1)]=""})),e},p=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},f=function(t,e){if(t.length)for(var i=0,r=t.length;i<r;i+=1)e(t[i]);else e(t)},m=!!("ontouchstart"in window),y=!!window.PointerEvent,v=!!window.MSPointerEvent,g={start:"mousedown",move:"mousemove",end:"mouseup"},_={};function x(){}y?r={start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"}:v?r={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:m?(r={start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},_=g):r=g,x.prototype.on=function(t,e){var i,r=t.split(/[ ,]+/g);this._handlers_=this._handlers_||{};for(var n=0;n<r.length;n+=1)i=r[n],this._handlers_[i]=this._handlers_[i]||[],this._handlers_[i].push(e);return this},x.prototype.off=function(t,e){return this._handlers_=this._handlers_||{},void 0===t?this._handlers_={}:void 0===e?this._handlers_[t]=null:this._handlers_[t]&&this._handlers_[t].indexOf(e)>=0&&this._handlers_[t].splice(this._handlers_[t].indexOf(e),1),this},x.prototype.trigger=function(t,e){var i,r=this,n=t.split(/[ ,]+/g);r._handlers_=r._handlers_||{};for(var o=0;o<n.length;o+=1)i=n[o],r._handlers_[i]&&r._handlers_[i].length&&r._handlers_[i].forEach((function(t){t.call(r,{type:i,target:r},e)}))},x.prototype.config=function(t){this.options=this.defaults||{},t&&(this.options=function(t,e){var i={};for(var r in t)t.hasOwnProperty(r)&&e.hasOwnProperty(r)?i[r]=e[r]:t.hasOwnProperty(r)&&(i[r]=t[r]);return i}(this.options,t))},x.prototype.bindEvt=function(t,e){var i=this;return i._domHandlers_=i._domHandlers_||{},i._domHandlers_[e]=function(){"function"==typeof i["on"+e]?i["on"+e].apply(i,arguments):console.warn('[WARNING] : Missing "on'+e+'" handler.')},s(t,r[e],i._domHandlers_[e]),_[e]&&s(t,_[e],i._domHandlers_[e]),i},x.prototype.unbindEvt=function(t,e){return this._domHandlers_=this._domHandlers_||{},a(t,r[e],this._domHandlers_[e]),_[e]&&a(t,_[e],this._domHandlers_[e]),delete this._domHandlers_[e],this};var b=x;function T(t,e){return this.identifier=e.identifier,this.position=e.position,this.frontPosition=e.frontPosition,this.collection=t,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(e),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=T.id,T.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}T.prototype=new b,T.constructor=T,T.id=0,T.prototype.buildEl=function(t){return this.ui={},this.options.dataOnly||(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front)),this},T.prototype.stylize=function(){if(this.options.dataOnly)return this;var t=this.options.fadeTime+"ms",e=function(t,e){var i=d("borderRadius");for(var r in i)i.hasOwnProperty(r)&&(i[r]="50%");return i}(),i=c("transition","opacity",t),r={};return r.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},r.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:this.options.color,opacity:".5"},r.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:this.options.color,opacity:".5"},p(r.el,i),"circle"===this.options.shape&&p(r.back,e),p(r.front,e),this.applyStyles(r),this},T.prototype.applyStyles=function(t){for(var e in this.ui)if(this.ui.hasOwnProperty(e))for(var i in t[e])this.ui[e].style[i]=t[e][i];return this},T.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)||this.options.zone.appendChild(this.ui.el),this},T.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)||this.options.zone.removeChild(this.ui.el),this},T.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},T.prototype.show=function(t){var e=this;return e.options.dataOnly||(clearTimeout(e.removeTimeout),clearTimeout(e.showTimeout),clearTimeout(e.restTimeout),e.addToDom(),e.restCallback(),setTimeout((function(){e.ui.el.style.opacity=1}),0),e.showTimeout=setTimeout((function(){e.trigger("shown",e.instance),"function"==typeof t&&t.call(this)}),e.options.fadeTime)),e},T.prototype.hide=function(t){var e=this;return e.options.dataOnly||(e.ui.el.style.opacity=e.options.restOpacity,clearTimeout(e.removeTimeout),clearTimeout(e.showTimeout),clearTimeout(e.restTimeout),e.removeTimeout=setTimeout((function(){var i="dynamic"===e.options.mode?"none":"block";e.ui.el.style.display=i,"function"==typeof t&&t.call(e),e.trigger("hidden",e.instance)}),e.options.fadeTime),e.options.restJoystick&&e.setPosition(t,{x:0,y:0})),e},T.prototype.setPosition=function(t,e){var i=this;i.frontPosition={x:e.x,y:e.y};var r=i.options.fadeTime+"ms",n={};n.front=c("transition",["top","left"],r);var o={front:{}};o.front={left:i.frontPosition.x+"px",top:i.frontPosition.y+"px"},i.applyStyles(n),i.applyStyles(o),i.restTimeout=setTimeout((function(){"function"==typeof t&&t.call(i),i.restCallback()}),i.options.fadeTime)},T.prototype.restCallback=function(){var t={};t.front=c("transition","none",""),this.applyStyles(t),this.trigger("rested",this.instance)},T.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},T.prototype.computeDirection=function(t){var e,i,r,n=t.angle.radian,o=Math.PI/4,s=Math.PI/2;if(n>o&&n<3*o&&!t.lockX?e="up":n>-o&&n<=o&&!t.lockY?e="left":n>3*-o&&n<=-o&&!t.lockX?e="down":t.lockY||(e="right"),t.lockY||(i=n>-s&&n<s?"left":"right"),t.lockX||(r=n>0?"up":"down"),t.force>this.options.threshold){var a,h={};for(a in this.direction)this.direction.hasOwnProperty(a)&&(h[a]=this.direction[a]);var u={};for(a in this.direction={x:i,y:r,angle:e},t.direction=this.direction,h)h[a]===this.direction[a]&&(u[a]=!0);if(u.x&&u.y&&u.angle)return t;u.x&&u.y||this.trigger("plain",t),u.x||this.trigger("plain:"+i,t),u.y||this.trigger("plain:"+r,t),u.angle||this.trigger("dir dir:"+e,t)}else this.resetDirection();return t};var E=T;function w(t,e){return this.nipples=[],this.idles=[],this.actives=[],this.ids=[],this.pressureIntervals={},this.manager=t,this.id=w.id,w.id+=1,this.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1},this.config(e),"static"!==this.options.mode&&"semi"!==this.options.mode||(this.options.multitouch=!1),this.options.multitouch||(this.options.maxNumberOfNipples=1),this.updateBox(),this.prepareNipples(),this.bindings(),this.begin(),this.nipples}w.prototype=new b,w.constructor=w,w.id=0,w.prototype.prepareNipples=function(){var t=this.nipples;t.on=this.on.bind(this),t.off=this.off.bind(this),t.options=this.options,t.destroy=this.destroy.bind(this),t.ids=this.ids,t.id=this.id,t.processOnMove=this.processOnMove.bind(this),t.processOnEnd=this.processOnEnd.bind(this),t.get=function(e){if(void 0===e)return t[0];for(var i=0,r=t.length;i<r;i+=1)if(t[i].identifier===e)return t[i];return!1}},w.prototype.bindings=function(){this.bindEvt(this.options.zone,"start"),this.options.zone.style.touchAction="none",this.options.zone.style.msTouchAction="none"},w.prototype.begin=function(){var t=this.options;if("static"===t.mode){var e=this.createNipple(t.position,this.manager.getIdentifier());e.add(),this.idles.push(e)}},w.prototype.createNipple=function(t,e){var i=u(),r={},n=this.options;if(t.x&&t.y)r={x:t.x-(i.x+this.box.left),y:t.y-(i.y+this.box.top)};else if(t.top||t.right||t.bottom||t.left){var o=document.createElement("DIV");o.style.display="hidden",o.style.top=t.top,o.style.right=t.right,o.style.bottom=t.bottom,o.style.left=t.left,o.style.position="absolute",n.zone.appendChild(o);var s=o.getBoundingClientRect();n.zone.removeChild(o),r=t,t={x:s.left+i.x,y:s.top+i.y}}var a=new E(this,{color:n.color,size:n.size,threshold:n.threshold,fadeTime:n.fadeTime,dataOnly:n.dataOnly,restJoystick:n.restJoystick,restOpacity:n.restOpacity,mode:n.mode,identifier:e,position:t,zone:n.zone,frontPosition:{x:0,y:0},shape:n.shape});return n.dataOnly||(l(a.ui.el,r),l(a.ui.front,a.frontPosition)),this.nipples.push(a),this.trigger("added "+a.identifier+":added",a),this.manager.trigger("added "+a.identifier+":added",a),this.bindNipple(a),a},w.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},w.prototype.bindNipple=function(t){var e,i=this,r=function(t,r){e=t.type+" "+r.id+":"+t.type,i.trigger(e,r)};t.on("destroyed",i.onDestroyed.bind(i)),t.on("shown hidden rested dir plain",r),t.on("dir:up dir:right dir:down dir:left",r),t.on("plain:up plain:right plain:down plain:left",r)},w.prototype.pressureFn=function(t,e,i){var r=this,n=0;clearInterval(r.pressureIntervals[i]),r.pressureIntervals[i]=setInterval(function(){var i=t.force||t.pressure||t.webkitForce||0;i!==n&&(e.trigger("pressure",i),r.trigger("pressure "+e.identifier+":pressure",i),n=i)}.bind(r),100)},w.prototype.onstart=function(t){var e=this,i=e.options,r=t;return t=h(t),e.updateBox(),f(t,(function(n){e.actives.length<i.maxNumberOfNipples?e.processOnStart(n):r.type.match(/^touch/)&&(Object.keys(e.manager.ids).forEach((function(i){if(Object.values(r.touches).findIndex((function(t){return t.identifier===i}))<0){var n=[t[0]];n.identifier=i,e.processOnEnd(n)}})),e.actives.length<i.maxNumberOfNipples&&e.processOnStart(n))})),e.manager.bindDocument(),!1},w.prototype.processOnStart=function(t){var e,i=this,r=i.options,o=i.manager.getIdentifier(t),s=t.force||t.pressure||t.webkitForce||0,a={x:t.pageX,y:t.pageY},h=i.getOrCreate(o,a);h.identifier!==o&&i.manager.removeIdentifier(h.identifier),h.identifier=o;var u=function(e){e.trigger("start",e),i.trigger("start "+e.id+":start",e),e.show(),s>0&&i.pressureFn(t,e,e.identifier),i.processOnMove(t)};if((e=i.idles.indexOf(h))>=0&&i.idles.splice(e,1),i.actives.push(h),i.ids.push(h.identifier),"semi"!==r.mode)u(h);else{if(!(n(a,h.position)<=r.catchDistance))return h.destroy(),void i.processOnStart(t);u(h)}return h},w.prototype.getOrCreate=function(t,e){var i,r=this.options;return/(semi|static)/.test(r.mode)?(i=this.idles[0])?(this.idles.splice(0,1),i):"semi"===r.mode?this.createNipple(e,t):(console.warn("Coudln't find the needed nipple."),!1):i=this.createNipple(e,t)},w.prototype.processOnMove=function(t){var e=this.options,i=this.manager.getIdentifier(t),r=this.nipples.get(i);if(function(t){return isNaN(t.buttons)?0!==t.pressure:0!==t.buttons}(t)){if(!r)return console.error("Found zombie joystick with ID "+i),void this.manager.removeIdentifier(i);if(e.dynamicPage){var s=u();h=r.el.getBoundingClientRect(),r.position={x:s.x+h.left,y:s.y+h.top}}r.identifier=i;var a=r.options.size/2,h={x:t.pageX,y:t.pageY};e.lockX&&(h.y=r.position.y),e.lockY&&(h.x=r.position.x);var c,d,p,f,m,y,v,g,_=n(h,r.position),x=(c=h,p=(d=r.position).x-c.x,f=d.y-c.y,function(t){return t*(180/Math.PI)}(Math.atan2(f,p))),b=o(x),T=_/a,E={distance:_,position:h};"circle"===r.options.shape?(_=Math.min(_,a),m=r.position,y=_,g={x:0,y:0},v=o(v=x),g.x=m.x-y*Math.cos(v),g.y=m.y-y*Math.sin(v),h=g):(h=function(t,e,i){return{x:Math.min(Math.max(t.x,e.x-i),e.x+i),y:Math.min(Math.max(t.y,e.y-i),e.y+i)}}(h,r.position,a),_=n(h,r.position));var w=h.x-r.position.x,O=h.y-r.position.y;r.frontPosition={x:w,y:O},e.dataOnly||l(r.ui.front,r.frontPosition);var A={identifier:r.identifier,position:h,force:T,pressure:t.force||t.pressure||t.webkitForce||0,distance:_,angle:{radian:b,degree:x},vector:{x:w/a,y:-O/a},raw:E,instance:r,lockX:e.lockX,lockY:e.lockY};(A=r.computeDirection(A)).angle={radian:o(180-x),degree:180-x},r.trigger("move",A),this.trigger("move "+r.id+":move",A)}else this.processOnEnd(t)},w.prototype.processOnEnd=function(t){var e=this,i=e.options,r=e.manager.getIdentifier(t),n=e.nipples.get(r),o=e.manager.removeIdentifier(n.identifier);n&&(i.dataOnly||n.hide((function(){"dynamic"===i.mode&&(n.trigger("removed",n),e.trigger("removed "+n.id+":removed",n),e.manager.trigger("removed "+n.id+":removed",n),n.destroy())})),clearInterval(e.pressureIntervals[n.identifier]),n.resetDirection(),n.trigger("end",n),e.trigger("end "+n.id+":end",n),e.ids.indexOf(n.identifier)>=0&&e.ids.splice(e.ids.indexOf(n.identifier),1),e.actives.indexOf(n)>=0&&e.actives.splice(e.actives.indexOf(n),1),/(semi|static)/.test(i.mode)?e.idles.push(n):e.nipples.indexOf(n)>=0&&e.nipples.splice(e.nipples.indexOf(n),1),e.manager.unbindDocument(),/(semi|static)/.test(i.mode)&&(e.manager.ids[o.id]=o.identifier))},w.prototype.onDestroyed=function(t,e){this.nipples.indexOf(e)>=0&&this.nipples.splice(this.nipples.indexOf(e),1),this.actives.indexOf(e)>=0&&this.actives.splice(this.actives.indexOf(e),1),this.idles.indexOf(e)>=0&&this.idles.splice(this.idles.indexOf(e),1),this.ids.indexOf(e.identifier)>=0&&this.ids.splice(this.ids.indexOf(e.identifier),1),this.manager.removeIdentifier(e.identifier),this.manager.unbindDocument()},w.prototype.destroy=function(){for(var t in this.unbindEvt(this.options.zone,"start"),this.nipples.forEach((function(t){t.destroy()})),this.pressureIntervals)this.pressureIntervals.hasOwnProperty(t)&&clearInterval(this.pressureIntervals[t]);this.trigger("destroyed",this.nipples),this.manager.unbindDocument(),this.off()};var O=w;function A(t){var e,i=this;return i.ids={},i.index=0,i.collections=[],i.config(t),i.prepareCollections(),s(window,"resize",(function(t){clearTimeout(e),e=setTimeout((function(){var t,e=u();i.collections.forEach((function(i){i.forEach((function(i){t=i.el.getBoundingClientRect(),i.position={x:e.x+t.left,y:e.y+t.top}}))}))}),100)})),i.collections}A.prototype=new b,A.constructor=A,A.prototype.prepareCollections=function(){var t=this;t.collections.create=t.create.bind(t),t.collections.on=t.on.bind(t),t.collections.off=t.off.bind(t),t.collections.destroy=t.destroy.bind(t),t.collections.get=function(e){var i;return t.collections.every((function(t){return!(i=t.get(e))})),i}},A.prototype.create=function(t){return this.createCollection(t)},A.prototype.createCollection=function(t){var e=new O(this,t);return this.bindCollection(e),this.collections.push(e),e},A.prototype.bindCollection=function(t){var e,i=this,r=function(t,r){e=t.type+" "+r.id+":"+t.type,i.trigger(e,r)};t.on("destroyed",i.onDestroyed.bind(i)),t.on("shown hidden rested dir plain",r),t.on("dir:up dir:right dir:down dir:left",r),t.on("plain:up plain:right plain:down plain:left",r)},A.prototype.bindDocument=function(){this.binded||(this.bindEvt(document,"move").bindEvt(document,"end"),this.binded=!0)},A.prototype.unbindDocument=function(t){Object.keys(this.ids).length&&!0!==t||(this.unbindEvt(document,"move").unbindEvt(document,"end"),this.binded=!1)},A.prototype.getIdentifier=function(t){var e;return t?void 0===(e=void 0===t.identifier?t.pointerId:t.identifier)&&(e=this.latest||0):e=this.index,void 0===this.ids[e]&&(this.ids[e]=this.index,this.index+=1),this.latest=e,this.ids[e]},A.prototype.removeIdentifier=function(t){var e={};for(var i in this.ids)if(this.ids[i]===t){e.id=i,e.identifier=this.ids[i],delete this.ids[i];break}return e},A.prototype.onmove=function(t){return this.onAny("move",t),!1},A.prototype.onend=function(t){return this.onAny("end",t),!1},A.prototype.oncancel=function(t){return this.onAny("end",t),!1},A.prototype.onAny=function(t,e){var i,r=this,n="processOn"+t.charAt(0).toUpperCase()+t.slice(1);return e=h(e),f(e,(function(t){i=r.getIdentifier(t),f(r.collections,function(t,e,i){i.ids.indexOf(e)>=0&&(i[n](t),t._found_=!0)}.bind(null,t,i)),t._found_||r.removeIdentifier(i)})),!1},A.prototype.destroy=function(){this.unbindDocument(!0),this.ids={},this.index=0,this.collections.forEach((function(t){t.destroy()})),this.off()},A.prototype.onDestroyed=function(t,e){if(this.collections.indexOf(e)<0)return!1;this.collections.splice(this.collections.indexOf(e),1)};var P=new A;e.default={create:function(t){return P.create(t)},factory:P}}]).default},418:t=>{"use strict";var e=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function n(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var s,a,h=n(t),u=1;u<arguments.length;u++){for(var l in s=Object(arguments[u]))i.call(s,l)&&(h[l]=s[l]);if(e){a=e(s);for(var c=0;c<a.length;c++)r.call(s,a[c])&&(h[a[c]]=s[a[c]])}}return h}},571:t=>{"use strict";t.exports=function(t,e){if(t){e=e||{};for(var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=i.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[i.key[o]]=r[o]||"";return n[i.q.name]={},n[i.key[12]].replace(i.q.parser,(function(t,e,r){e&&(n[i.q.name][e]=r)})),n}}},971:function(t,e,i){var r;t=i.nmd(t),function(n){e&&e.nodeType,t&&t.nodeType;var o="object"==typeof i.g&&i.g;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,h=36,u=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function m(t){throw RangeError(d[t])}function y(t,e){for(var i=t.length,r=[];i--;)r[i]=e(t[i]);return r}function v(t,e){var i=t.split("@"),r="";return i.length>1&&(r=i[0]+"@",t=i[1]),r+y((t=t.replace(c,".")).split("."),e).join(".")}function g(t){for(var e,i,r=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(i=t.charCodeAt(n++)))?r.push(((1023&e)<<10)+(1023&i)+65536):(r.push(e),n--):r.push(e);return r}function _(t){return y(t,(function(t){var e="";return t>65535&&(e+=f((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+f(t)})).join("")}function x(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function b(t,e,i){var r=0;for(t=i?p(t/700):t>>1,t+=p(t/e);t>455;r+=h)t=p(t/35);return p(r+36*t/(t+38))}function T(t){var e,i,r,n,o,s,u,l,c,d,f,y=[],v=t.length,g=0,x=128,T=72;for((i=t.lastIndexOf("-"))<0&&(i=0),r=0;r<i;++r)t.charCodeAt(r)>=128&&m("not-basic"),y.push(t.charCodeAt(r));for(n=i>0?i+1:0;n<v;){for(o=g,s=1,u=h;n>=v&&m("invalid-input"),((l=(f=t.charCodeAt(n++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:h)>=h||l>p((a-g)/s))&&m("overflow"),g+=l*s,!(l<(c=u<=T?1:u>=T+26?26:u-T));u+=h)s>p(a/(d=h-c))&&m("overflow"),s*=d;T=b(g-o,e=y.length+1,0==o),p(g/e)>a-x&&m("overflow"),x+=p(g/e),g%=e,y.splice(g++,0,x)}return _(y)}function E(t){var e,i,r,n,o,s,u,l,c,d,y,v,_,T,E,w=[];for(v=(t=g(t)).length,e=128,i=0,o=72,s=0;s<v;++s)(y=t[s])<128&&w.push(f(y));for(r=n=w.length,n&&w.push("-");r<v;){for(u=a,s=0;s<v;++s)(y=t[s])>=e&&y<u&&(u=y);for(u-e>p((a-i)/(_=r+1))&&m("overflow"),i+=(u-e)*_,e=u,s=0;s<v;++s)if((y=t[s])<e&&++i>a&&m("overflow"),y==e){for(l=i,c=h;!(l<(d=c<=o?1:c>=o+26?26:c-o));c+=h)E=l-d,T=h-d,w.push(f(x(d+E%T,0))),l=p(E/T);w.push(f(x(l,0))),o=b(i,_,r==n),i=0,++r}++i,++e}return w.join("")}s={version:"1.3.2",ucs2:{decode:g,encode:_},decode:T,encode:E,toASCII:function(t){return v(t,(function(t){return l.test(t)?"xn--"+E(t):t}))},toUnicode:function(t){return v(t,(function(t){return u.test(t)?T(t.slice(4).toLowerCase()):t}))}},void 0===(r=function(){return s}.call(e,i,e,t))||(t.exports=r)}()},587:t=>{"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,i,r,n){i=i||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(i);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var h=t.length;a>0&&h>a&&(h=a);for(var u=0;u<h;++u){var l,c,d,p,f=t[u].replace(s,"%20"),m=f.indexOf(r);m>=0?(l=f.substr(0,m),c=f.substr(m+1)):(l=f,c=""),d=decodeURIComponent(l),p=decodeURIComponent(c),e(o,d)?Array.isArray(o[d])?o[d].push(p):o[d]=[o[d],p]:o[d]=p}return o}},361:t=>{"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,i,r,n){return i=i||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(n){var o=encodeURIComponent(e(n))+r;return Array.isArray(t[n])?t[n].map((function(t){return o+encodeURIComponent(e(t))})).join(i):o+encodeURIComponent(e(t[n]))})).join(i):n?encodeURIComponent(e(n))+r+encodeURIComponent(e(t)):""}},673:(t,e,i)=>{"use strict";e.decode=e.parse=i(587),e.encode=e.stringify=i(361)},575:(t,e,i)=>{"use strict";var r=i(971),n=i(502);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){return n.isString(t)&&(t=_(t)),t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=i(673);function _(t,e,i){if(t&&n.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,i),r}o.prototype.parse=function(t,e,i){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var _=t=u.join(a);if(_=_.trim(),!i&&1===t.split("#").length){var x=h.exec(_);if(x)return this.path=_,this.href=_,this.pathname=x[1],x[2]?(this.search=x[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var b=s.exec(_);if(b){var T=(b=b[0]).toLowerCase();this.protocol=T,_=_.substr(b.length)}if(i||b||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===_.substr(0,2);!E||b&&y[b]||(_=_.substr(2),this.slashes=!0)}if(!y[b]&&(E||b&&!v[b])){for(var w,O,A=-1,P=0;P<d.length;P++)-1!==(S=_.indexOf(d[P]))&&(-1===A||S<A)&&(A=S);for(-1!==(O=-1===A?_.lastIndexOf("@"):_.lastIndexOf("@",A))&&(w=_.slice(0,O),_=_.slice(O+1),this.auth=decodeURIComponent(w)),A=-1,P=0;P<c.length;P++){var S;-1!==(S=_.indexOf(c[P]))&&(-1===A||S<A)&&(A=S)}-1===A&&(A=_.length),this.host=_.slice(0,A),_=_.slice(A),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var C=this.hostname.split(/\./),M=(P=0,C.length);P<M;P++){var D=C[P];if(D&&!D.match(p)){for(var R="",N=0,L=D.length;N<L;N++)D.charCodeAt(N)>127?R+="x":R+=D[N];if(!R.match(p)){var F=C.slice(0,P),U=C.slice(P+1),B=D.match(f);B&&(F.push(B[1]),U.unshift(B[2])),U.length&&(_="/"+U.join(".")+_),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=r.toASCII(this.hostname));var k=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+k,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!m[T])for(P=0,M=l.length;P<M;P++){var H=l[P];if(-1!==_.indexOf(H)){var X=encodeURIComponent(H);X===H&&(X=escape(H)),_=_.split(H).join(X)}}var G=_.indexOf("#");-1!==G&&(this.hash=_.substr(G),_=_.slice(0,G));var z=_.indexOf("?");if(-1!==z?(this.search=_.substr(z),this.query=_.substr(z+1),e&&(this.query=g.parse(this.query)),_=_.slice(0,z)):e&&(this.search="",this.query={}),_&&(this.pathname=_),v[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"";var Y=this.search||"";this.path=k+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(s=g.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==o?(o="//"+(o||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(i=i.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(n.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var i=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];i[a]=this[a]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var l=h[u];"protocol"!==l&&(i[l]=t[l])}return v[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!v[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var p=c[d];i[p]=t[p]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||y[t.protocol])i.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),i.pathname=f.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var m=i.pathname||"",g=i.search||"";i.path=m+g}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var _=i.pathname&&"/"===i.pathname.charAt(0),x=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=x||_||i.host&&t.pathname,T=b,E=i.pathname&&i.pathname.split("/")||[],w=(f=t.pathname&&t.pathname.split("/")||[],i.protocol&&!v[i.protocol]);if(w&&(i.hostname="",i.port=null,i.host&&(""===E[0]?E[0]=i.host:E.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),b=b&&(""===f[0]||""===E[0])),x)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,E=f;else if(f.length)E||(E=[]),E.pop(),E=E.concat(f),i.search=t.search,i.query=t.query;else if(!n.isNullOrUndefined(t.search))return w&&(i.hostname=i.host=E.shift(),(I=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=I.shift(),i.host=i.hostname=I.shift())),i.search=t.search,i.query=t.query,n.isNull(i.pathname)&&n.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i;if(!E.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var O=E.slice(-1)[0],A=(i.host||t.host||E.length>1)&&("."===O||".."===O)||""===O,P=0,S=E.length;S>=0;S--)"."===(O=E[S])?E.splice(S,1):".."===O?(E.splice(S,1),P++):P&&(E.splice(S,1),P--);if(!b&&!T)for(;P--;P)E.unshift("..");!b||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),A&&"/"!==E.join("/").substr(-1)&&E.push("");var I,C=""===E[0]||E[0]&&"/"===E[0].charAt(0);return w&&(i.hostname=i.host=C?"":E.length?E.shift():"",(I=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=I.shift(),i.host=i.hostname=I.shift())),(b=b||i.host&&E.length)&&!C&&E.unshift(""),E.length?i.pathname=E.join("/"):(i.pathname=null,i.path=null),n.isNull(i.pathname)&&n.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},502:t=>{"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}}},e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t=i(713),e=i(418),r=i.n(e);if(window.Promise||(window.Promise=t.Polyfill),Object.assign||(Object.assign=r()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var n=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-n}}for(var o=Date.now(),s=["ms","moz","webkit","o"],a=0;a<s.length&&!window.requestAnimationFrame;++a){var h=s[a];window.requestAnimationFrame=window[h+"RequestAnimationFrame"],window.cancelAnimationFrame=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+o-e;return i<0&&(i=0),o=e,window.setTimeout((function(){o=Date.now(),t(performance.now())}),i)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var u,l,c,d,p,f,m,y,v,g,_,x,b,T,E,w,O,A=/iPhone/i,P=/iPod/i,S=/iPad/i,I=/\biOS-universal(?:.+)Mac\b/i,C=/\bAndroid(?:.+)Mobile\b/i,M=/Android/i,D=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,R=/Silk/i,N=/Windows Phone/i,L=/\bWindows(?:.+)ARM\b/i,F=/BlackBerry/i,U=/BB10/i,B=/Opera Mini/i,k=/\b(CriOS|Chrome)(?:.+)Mobile/i,j=/Mobile(?:.+)Firefox\b/i,H=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream},X=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var i=e.userAgent,r=i.split("[FBAN");void 0!==r[1]&&(i=r[0]),void 0!==(r=i.split("Twitter"))[1]&&(i=r[0]);var n=function(t){return function(e){return e.test(t)}}(i),o={apple:{phone:n(A)&&!n(N),ipod:n(P),tablet:!n(A)&&(n(S)||H(e))&&!n(N),universal:n(I),device:(n(A)||n(P)||n(S)||n(I)||H(e))&&!n(N)},amazon:{phone:n(D),tablet:!n(D)&&n(R),device:n(D)||n(R)},android:{phone:!n(N)&&n(D)||!n(N)&&n(C),tablet:!n(N)&&!n(D)&&!n(C)&&(n(R)||n(M)),device:!n(N)&&(n(D)||n(R)||n(C)||n(M))||n(/\bokhttp\b/i)},windows:{phone:n(N),tablet:n(L),device:n(N)||n(L)},other:{blackberry:n(F),blackberry10:n(U),opera:n(B),firefox:n(j),chrome:n(k),device:n(F)||n(U)||n(B)||n(j)||n(k)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(window.navigator),G={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(t){var e,i=!0;(X.tablet||X.phone)&&(X.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(i=!1),X.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(i=!1));return i?32:4}(),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:X.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!X.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},z=i(729),Y=i.n(z),V=i(187),W=i.n(V),q=i(575);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(u||(u={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(l||(l={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(c||(c={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(d||(d={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(p||(p={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(f||(f={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(m||(m={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(y||(y={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(v||(v={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(g||(g={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(_||(_={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(x||(x={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(b||(b={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(T||(T={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(E||(E={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(w||(w={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(O||(O={})),G.RETINA_PREFIX=/@([0-9\.]+)x/,G.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var Z,K=!1;function J(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function Q(t){var e=t.toString(16);return"#"+("000000".substr(0,6-e.length)+e)}function $(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}var tt=function(){for(var t=[],e=[],i=0;i<32;i++)t[i]=i,e[i]=i;t[d.NORMAL_NPM]=d.NORMAL,t[d.ADD_NPM]=d.ADD,t[d.SCREEN_NPM]=d.SCREEN,e[d.NORMAL]=d.NORMAL_NPM,e[d.ADD]=d.ADD_NPM,e[d.SCREEN]=d.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r}();function et(t,e){return tt[e?1:0][t]}function it(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=t>>16&255,r=t>>8&255,n=255&t;return(255*e<<24)+((i=i*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(n*e+.5|0)}function rt(t,e,i,r){return(i=i||new Float32Array(4))[0]=(t>>16&255)/255,i[1]=(t>>8&255)/255,i[2]=(255&t)/255,(r||void 0===r)&&(i[0]*=e,i[1]*=e,i[2]*=e),i[3]=e,i}function nt(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)}function ot(t){return!(t&t-1||!t)}function st(t){var e=(t>65535?1:0)<<4,i=((t>>>=e)>255?1:0)<<3;return e|=i,e|=i=((t>>>=i)>15?1:0)<<2,(e|=i=((t>>>=i)>3?1:0)<<1)|(t>>>=i)>>1}function at(t,e,i){var r,n=t.length;if(!(e>=n||0===i)){var o=n-(i=e+i>n?n-e:i);for(r=e;r<o;++r)t[r]=t[r+i];t.length=o}}function ht(t){return 0===t?0:t<0?-1:1}Float32Array,Uint32Array,Int32Array,Uint8Array;var ut=0;function lt(){return++ut}var ct={};function dt(t,e,i){if(void 0===i&&(i=3),!ct[e]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(r=r.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(r))),ct[e]=!0}}var pt,ft={},mt=Object.create(null),yt=Object.create(null),vt=function(){function t(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||G.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),t}();function gt(t,e){var i=G.RETINA_PREFIX.exec(t);return i?parseFloat(i[1]):void 0!==e?e:1}var _t,xt=2*Math.PI,bt=180/Math.PI,Tt=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(_t||(_t={}));var Et=function(){function t(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=_t.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(n-r,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=n-r,this},t}(),wt=function(){function t(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.radius=i,this.type=_t.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.radius*this.radius,r=this.x-t,n=this.y-e;return(r*=r)+(n*=n)<=i},t.prototype.getBounds=function(){return new Et(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}(),Ot=function(){function t(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=i,this.height=r,this.type=_t.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return(i*=i)+(r*=r)<=1},t.prototype.getBounds=function(){return new Et(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),At=function(){function t(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=Array.isArray(e[0])?e[0]:e;if("number"!=typeof r[0]){for(var n=[],o=0,s=r.length;o<s;o++)n.push(r[o].x,r[o].y);r=n}this.points=r,this.type=_t.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,n=0,o=r-1;n<r;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],u=this.points[2*o+1];a>e!=u>e&&t<(e-a)/(u-a)*(h-s)+s&&(i=!i)}return i},t}(),Pt=function(){function t(t,e,i,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=i,this.height=r,this.radius=n,this.type=_t.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var i=t-(this.x+this.radius),r=e-(this.y+this.radius),n=this.radius*this.radius;if(i*i+r*r<=n)return!0;if((i=t-(this.x+this.width-this.radius))*i+r*r<=n)return!0;if(i*i+(r=e-(this.y+this.height-this.radius))*r<=n)return!0;if((i=t-(this.x+this.radius))*i+r*r<=n)return!0}return!1},t}(),St=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t}(),It=function(){function t(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e}return t.prototype.clone=function(e,i){return void 0===e&&(e=this.cb),void 0===i&&(i=this.scope),new t(e,i,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Ct=function(){function t(t,e,i,r,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=o}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,i,r,n,o){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},t.prototype.apply=function(t,e){e=e||new St;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new St;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,n=t.y;return e.x=this.d*i*r+-this.c*i*n+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*n+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,o=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=o*e-this.ty*i,this.ty=o*i+this.ty*e,this},t.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},t.prototype.setTransform=function(t,e,i,r,n,o,s,a,h){return this.a=Math.cos(s+h)*n,this.b=Math.sin(s+h)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,n=this.d,o=-Math.atan2(-r,n),s=Math.atan2(i,e),a=Math.abs(o+s);return a<1e-5||Math.abs(xt-a)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+n*n),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,n=this.tx,o=t*r-e*i;return this.a=r/o,this.b=-e/o,this.c=-i/o,this.d=t/o,this.tx=(i*this.ty-r*n)/o,this.ty=-(t*this.ty-e*n)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),Mt=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Dt=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Rt=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Nt=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Lt=[],Ft=[],Ut=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];Lt.push(e);for(var i=0;i<16;i++)for(var r=Ut(Mt[t]*Mt[i]+Rt[t]*Dt[i]),n=Ut(Dt[t]*Mt[i]+Nt[t]*Dt[i]),o=Ut(Mt[t]*Rt[i]+Rt[t]*Nt[i]),s=Ut(Dt[t]*Rt[i]+Nt[t]*Nt[i]),a=0;a<16;a++)if(Mt[a]===r&&Dt[a]===n&&Rt[a]===o&&Nt[a]===s){e.push(a);break}}for(t=0;t<16;t++){var h=new Ct;h.set(Mt[t],Dt[t],Rt[t],Nt[t],0,0),Ft.push(h)}}();var Bt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Mt[t]},uY:function(t){return Dt[t]},vX:function(t){return Rt[t]},vY:function(t){return Nt[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return Lt[t][e]},sub:function(t,e){return Lt[t][Bt.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Bt.S:Bt.N:2*Math.abs(e)<=Math.abs(t)?t>0?Bt.E:Bt.W:e>0?t>0?Bt.SE:Bt.SW:t>0?Bt.NE:Bt.NW},matrixAppendRotationInv:function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var n=Ft[Bt.inv(e)];n.tx=i,n.ty=r,t.append(n)}},kt=function(){function t(){this.worldTransform=new Ct,this.localTransform=new Ct,this.position=new It(this.onChange,this,0,0),this.scale=new It(this.onChange,this,1,1),this.pivot=new It(this.onChange,this,0,0),this.skew=new It(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();G.SORTABLE_CHILDREN=!1;var jt=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Et.EMPTY:((t=t||new Et(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,i=s<i?s:i,r=o>r?o:r,n=s>n?s:n,e=(o=t[2])<e?o:e,i=(s=t[3])<i?s:i,r=o>r?o:r,n=s>n?s:n,e=(o=t[4])<e?o:e,i=(s=t[5])<i?s:i,r=o>r?o:r,n=s>n?s:n,e=(o=t[6])<e?o:e,i=(s=t[7])<i?s:i,r=o>r?o:r,n=s>n?s:n,this.minX=e,this.minY=i,this.maxX=r,this.maxY=n},t.prototype.addFrame=function(t,e,i,r,n){this.addFrameMatrix(t.worldTransform,e,i,r,n)},t.prototype.addFrameMatrix=function(t,e,i,r,n){var o=t.a,s=t.b,a=t.c,h=t.d,u=t.tx,l=t.ty,c=this.minX,d=this.minY,p=this.maxX,f=this.maxY,m=o*e+a*i+u,y=s*e+h*i+l;c=m<c?m:c,d=y<d?y:d,p=m>p?m:p,f=y>f?y:f,c=(m=o*r+a*i+u)<c?m:c,d=(y=s*r+h*i+l)<d?y:d,p=m>p?m:p,f=y>f?y:f,c=(m=o*e+a*n+u)<c?m:c,d=(y=s*e+h*n+l)<d?y:d,p=m>p?m:p,f=y>f?y:f,c=(m=o*r+a*n+u)<c?m:c,d=(y=s*r+h*n+l)<d?y:d,p=m>p?m:p,f=y>f?y:f,this.minX=c,this.minY=d,this.maxX=p,this.maxY=f},t.prototype.addVertexData=function(t,e,i){for(var r=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=e;a<i;a+=2){var h=t[a],u=t[a+1];r=h<r?h:r,n=u<n?u:n,o=h>o?h:o,s=u>s?u:s}this.minX=r,this.minY=n,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(t,e,i,r){this.addVerticesMatrix(t.worldTransform,e,i,r)},t.prototype.addVerticesMatrix=function(t,e,i,r,n,o){void 0===n&&(n=0),void 0===o&&(o=n);for(var s=t.a,a=t.b,h=t.c,u=t.d,l=t.tx,c=t.ty,d=this.minX,p=this.minY,f=this.maxX,m=this.maxY,y=i;y<r;y+=2){var v=e[y],g=e[y+1],_=s*v+h*g+l,x=u*g+a*v+c;d=Math.min(d,_-n),f=Math.max(f,_+n),p=Math.min(p,x-o),m=Math.max(m,x+o)}this.minX=d,this.minY=p,this.maxX=f,this.maxY=m},t.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>n?t.maxY:n},t.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=n&&r<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=i<s?i:s,this.minY=r<a?r:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=n&&r<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=i<s?i:s,this.minY=r<a?r:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,i,r,n,o){t-=n,e-=o,i+=n,r+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>r?this.maxY:r},t}(),Ht=function(t,e){return(Ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Xt(t,e){function i(){this.constructor=t}Ht(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Gt=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new kt,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new jt,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return Xt(e,t),e.mixin=function(t){for(var i=Object.keys(t),r=0;r<i.length;++r){var n=i[r];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new Et),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new Et),t=this._localBoundsRect),this._localBounds||(this._localBounds=new jt);var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var r=this._bounds,n=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,t);return this.parent=i,this.transform=e,this._bounds=r,this._bounds.updateID+=this._boundsID-n,o},e.prototype.toGlobal=function(t,e,i){return void 0===i&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,i,r){return e&&(t=e.toGlobal(t,i,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,i,r,n,o,s,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=r||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new zt),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*bt},set:function(t){this.transform.rotation=t*Tt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1),this._mask=t,this._mask&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),e}(Y()),zt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return Xt(e,t),e}(Gt);function Yt(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Gt.prototype.displayObjectUpdateTransform=Gt.prototype.updateTransform;var Vt=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=G.SORTABLE_CHILDREN,e.sortDirty=!1,e}return Xt(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(e.length>1)for(var r=0;r<e.length;r++)this.addChild(e[r]);else{var n=e[0];n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),r=this.getChildIndex(e);this.children[i]=e,this.children[r]=t,this.onChildrenChange(i<r?i:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);at(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(e.length>1)for(var r=0;r<e.length;r++)this.removeChild(e[r]);else{var n=e[0],o=this.children.indexOf(n);if(-1===o)return null;n.parent=null,n.transform._parentID=-1,at(this.children,o,1),this._boundsID++,this.onChildrenChange(o),n.emit("removed",this),this.emit("childRemoved",n,this,o)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,at(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var i,r=t,n=e-r;if(n>0&&n<=e){i=this.children.splice(r,n);for(var o=0;o<i.length;++o)i[o].parent=null,i[o].transform&&(i[o].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(t),o=0;o<i.length;++o)i[o].emit("removed",this),this.emit("childRemoved",i[o],this,o);return i}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,i=this.children.length;e<i;++e){var r=this.children[e];r._lastSortedIndex=e,t||0===r.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(Yt),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var i=e._mask.maskObject||e._mask;i.calculateBounds(),this._bounds.addBoundsMask(e._bounds,i._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,i){void 0===i&&(i=!1);var r=t.prototype.getLocalBounds.call(this,e);if(!i)for(var n=0,o=this.children.length;n<o;++n){var s=this.children[n];s.visible&&s.updateTransform()}return r},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}i&&t.mask.push(this,this._mask),this._render(t),r=0;for(var n=this.children.length;r<n;r++)this.children[r].render(t);t.batch.flush(),i&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(i)for(var n=0;n<r.length;++n)r[n].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(Gt);Vt.prototype.containerUpdateTransform=Vt.prototype.updateTransform,Gt.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var Wt,qt=function(){function t(t){this._hookDiv=null,(X.tablet||X.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",(function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},t.prototype.update=function(){var t=performance.now();if(!(X.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),i=this.renderer.resolution,r=e.width/this.renderer.width*i,n=e.height/this.renderer.height*i,o=this.div;o.style.left=e.left+"px",o.style.top=e.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var a=this.children[s];if(a.renderId!==this.renderId)a._accessibleActive=!1,at(this.children,s,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,s--;else{o=a._accessibleDiv;var h=a.hitArea,u=a.worldTransform;a.hitArea?(o.style.left=(u.tx+h.x*u.a)*r+"px",o.style.top=(u.ty+h.y*u.d)*n+"px",o.style.width=h.width*u.a*r+"px",o.style.height=h.height*u.d*n+"px"):(h=a.getBounds(),this.capHitArea(h),o.style.left=h.x*r+"px",o.style.top=h.y*n+"px",o.style.width=h.width*r+"px",o.style.height=h.height*n+"px",o.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(o.title=a.accessibleTitle),o.getAttribute("aria-label")!==a.accessibleHint&&null!==a.accessibleHint&&o.setAttribute("aria-label",a.accessibleHint)),a.accessibleTitle===o.title&&a.tabIndex===o.tabIndex||(o.title=a.accessibleTitle,o.tabIndex=a.tabIndex,this.debug&&this.updateDebugHTML(o))}}this.renderId++}},t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();G.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(Wt||(Wt={}));var Zt=function(){function t(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.fn=t,this.context=e,this.priority=i,this.once=r,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),Kt=function(){function t(){var t=this;this._head=new Zt(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/G.TARGET_FPMS,this.elapsedMS=1/G.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,i){return void 0===i&&(i=Wt.NORMAL),this._addListener(new Zt(t,e,i))},t.prototype.addOnce=function(t,e,i){return void 0===i&&(i=Wt.NORMAL),this._addListener(new Zt(t,e,i,!0))},t.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*G.TARGET_FPMS;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,G.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),Jt=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Wt.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Kt.shared:new Kt,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}(),Qt=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new St,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},t.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),$t=function(t,e){return($t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},te=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),ee=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!=(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!=(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!=(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),ie=function(){function t(){this._tempPoint=new St}return t.prototype.recursiveFindHit=function(t,e,i,r,n){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=n=e.interactive||n,h=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(r=!1,h=!1)),a=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(r=!1)),h&&e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;l>=0;l--){var c=u[l],d=this.recursiveFindHit(t,c,i,r,a);if(d){if(!c.parent)continue;a=!1,d&&(t.target&&(r=!1),s=!0)}}return n&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),i&&i(t,e,!!s))),s},t.prototype.findHit=function(t,e,i,r){this.recursiveFindHit(t,e,i,r,!1)},t}(),re={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Gt.mixin(re);var ne={target:null,data:{global:null}},oe=function(t){function e(e,i){var r=t.call(this)||this;return i=i||{},r.renderer=e,r.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,r.interactionFrequency=i.interactionFrequency||10,r.mouse=new Qt,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new te,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!1,r.supportsTouchEvents="ontouchstart"in window,r.supportsPointerEvents=!!window.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new ie,r._tempDisplayObject=new zt,r._useSystemTicker=void 0===i.useSystemTicker||i.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return function(t,e){function i(){this.constructor=t}$t(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,e){return ne.target=null,ne.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(ne,e,null,!0),ne.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Kt.system.add(this.tickerUpdate,this,Wt.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(Kt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,i){i.stopPropagationHint&&t!==i.stopsPropagatingAt||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},e.prototype.delayDispatchEvent=function(t,e,i){this.delayedEvents.push({displayObject:t,eventString:e,eventData:i})},e.prototype.mapPositionToPoint=function(t,e,i){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*n,t.y=(i-r.top)*(this.interactionDOMElement.height/r.height)*n},e.prototype.processInteractive=function(t,e,i,r){var n=this.search.findHit(t,e,i,r),o=this.delayedEvents;if(!o.length)return n;t.stopPropagationHint=!1;var s=o.length;this.delayedEvents=[];for(var a=0;a<s;a++){var h=o[a],u=h.displayObject,l=h.eventString,c=h.eventData;c.stopsPropagatingAt===u&&(c.stopPropagationHint=!0),this.dispatchEvent(u,l,c)}return n},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var i=e.length,r=0;r<i;r++){var n=e[r],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,i){var r=t.data,n=t.data.identifier;if(i)if(e.trackedPointers[n]||(e.trackedPointers[n]=new ee(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,i){for(var r=this.normalizeToPointerData(t),n=r.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=r[s],h=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,h);if(u.data.originalEvent=t,this.processInteractive(u,this.lastObjectRendered,i,e||!o),this.emit(e?"pointercancel":"pointerup"+o,u),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(a.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var i=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,i){var r=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===r.pointerType,a="mouse"===r.pointerType||"pen"===r.pointerType,h=!1;if(a){var u=2===r.button,l=ee.FLAGS,c=u?l.RIGHT_DOWN:l.LEFT_DOWN,d=void 0!==o&&o.flags&c;i?(this.dispatchEvent(e,u?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,u?"rightclick":"click",t),h=!0)):d&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}i?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var i=e.length,r=0;r<i;r++){var n=e[r],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,i){var r=t.data,n="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);r.data.originalEvent=e,this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(i.identifier)}},e.prototype.processPointerOverOut=function(t,e,i){var r=t.data,n=t.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,s=e.trackedPointers[n];i&&!s&&(s=e.trackedPointers[n]=new ee(n)),void 0!==s&&(i&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);r.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",r)},e.prototype.getInteractionDataForPointerId=function(t){var e,i=t.pointerId;return 1===i||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[i]?e=this.activeInteractionData[i]:((e=this.interactionDataPool.pop()||new Qt).identifier=i,this.activeInteractionData[i]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,r=t.changedTouches.length;i<r;i++){var n=t.changedTouches[i];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else if(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent)e.push(t);else{var o=t;void 0===o.isPrimary&&(o.isPrimary=!0),void 0===o.width&&(o.width=1),void 0===o.height&&(o.height=1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="mouse"),void 0===o.pointerId&&(o.pointerId=1),void 0===o.pressure&&(o.pressure=.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,e.push(o)}return e},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(Y()),se=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,i,r,n,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");var h=this,u=h.name,l=h.items;this._aliasCount++;for(var c=0,d=l.length;c<d;c++)l[c][u](t,e,i,r,n,o,s,a);return l===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(se.prototype,{dispatch:{value:se.prototype.emit},run:{value:se.prototype.emit}}),G.PREFER_ENV=X.any?u.WEBGL:u.WEBGL2,G.STRICT_TEXTURE_CACHE=!1;var ae=[];function he(t,e){if(!t)return null;var i="";if("string"==typeof t){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(i=r[1].toLowerCase())}for(var n=ae.length-1;n>=0;--n){var o=ae[n];if(o.test&&o.test(t,i))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var ue=function(t,e){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function le(t,e){function i(){this.constructor=t}ue(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var ce=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new se("setRealSize"),this.onUpdate=new se("update"),this.onError=new se("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,i){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),de=function(t){function e(e,i){var r=this,n=i||{},o=n.width,s=n.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return(r=t.call(this,o,s)||this).data=e,r}return le(e,t),e.prototype.upload=function(t,e,i){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===x.UNPACK),i.width===e.width&&i.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,r.texImage2D(e.target,0,i.internalFormat,e.width,e.height,0,e.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(ce),pe={scaleMode:v.NEAREST,format:f.RGBA,alphaMode:x.NPM},fe=function(t){function e(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r=t.call(this)||this,n=(i=i||{}).alphaMode,o=i.mipmap,s=i.anisotropicLevel,a=i.scaleMode,h=i.width,u=i.height,l=i.wrapMode,c=i.format,d=i.type,p=i.target,v=i.resolution,g=i.resourceOptions;return!e||e instanceof ce||((e=he(e,g)).internal=!0),r.width=h||0,r.height=u||0,r.resolution=v||G.RESOLUTION,r.mipmap=void 0!==o?o:G.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==s?s:G.ANISOTROPIC_LEVEL,r.wrapMode=l||G.WRAP_MODE,r.scaleMode=void 0!==a?a:G.SCALE_MODE,r.format=c||f.RGBA,r.type=d||y.UNSIGNED_BYTE,r.target=p||m.TEXTURE_2D,r.alphaMode=void 0!==n?n:x.UNPACK,void 0!==i.premultiplyAlpha&&(r.premultiplyAlpha=i.premultiplyAlpha),r.uid=lt(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=h>0&&u>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(e),r}return le(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var i;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=ot(this.realWidth)&&ot(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete yt[this.cacheId],delete mt[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,i,r){void 0===r&&(r=G.STRICT_TEXTURE_CACHE);var n="string"==typeof t,o=null;n?o=t:(t._pixiId||(t._pixiId="pixiid_"+lt()),o=t._pixiId);var s=yt[o];if(n&&r&&!s)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return s||((s=new e(t,i)).cacheId=o,e.addToCache(s,o)),s},e.fromBuffer=function(t,i,r,n){t=t||new Float32Array(i*r*4);var o=new de(t,{width:i,height:r}),s=t instanceof Float32Array?y.FLOAT:y.UNSIGNED_BYTE;return new e(o,Object.assign(pe,n||{width:i,height:r,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),yt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),yt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=yt[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete yt[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete yt[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(Y()),me=function(t){function e(e,i){var r=this,n=i||{},o=n.width,s=n.height;(r=t.call(this,o,s)||this).items=[],r.itemDirtyIds=[];for(var a=0;a<e;a++){var h=new fe;r.items.push(h),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return le(e,t),e.prototype.initFromArray=function(t,e){for(var i=0;i<this.length;i++)t[i]&&(t[i].castToBaseTexture?this.addBaseTextureAt(t[i].castToBaseTexture(),i):t[i]instanceof ce?this.addResourceAt(t[i],i):this.addResourceAt(he(t[i],e),i))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=e,this.items[i].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],i=e.realWidth,r=e.realHeight;return t.resize(i,r),Promise.resolve(t)})),this._load},e}(ce),ye=function(t){function e(e,i){var r,n,o=this,s=i||{},a=s.width,h=s.height;return Array.isArray(e)?(r=e,n=e.length):n=e,o=t.call(this,n,{width:a,height:h})||this,r&&o.initFromArray(r,i),o}return le(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=m.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,i){var r=this,n=r.length,o=r.itemDirtyIds,s=r.items,a=t.gl;i.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,n,0,e.format,e.type,null);for(var h=0;h<n;h++){var u=s[h];o[h]<u.dirtyId&&(o[h]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,h,u.resource.width,u.resource.height,1,e.format,e.type,u.resource.source))}return!0},e}(me),ve=function(t){function e(e){var i=this,r=e,n=r.naturalWidth||r.videoWidth||r.width,o=r.naturalHeight||r.videoHeight||r.height;return(i=t.call(this,n,o)||this).source=e,i.noSubImage=!1,i}return le(e,t),e.crossOrigin=function(t,e,i){void 0===i&&0!==e.indexOf("data:")?t.crossOrigin=function(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,pt||(pt=document.createElement("a")),pt.href=t;var i=(0,q.parse)(pt.href),r=!i.port&&""===e.port||i.port===e.port;return i.hostname===e.hostname&&r&&i.protocol===e.protocol?"":"anonymous"}(e):!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous")},e.prototype.upload=function(t,e,i,r){var n=t.gl,o=e.realWidth,s=e.realHeight;return r=r||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===x.UNPACK),this.noSubImage||e.target!==n.TEXTURE_2D||i.width!==o||i.height!==s?(i.width=o,i.height=s,n.texImage2D(e.target,0,e.format,e.format,e.type,r)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,r),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,i=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(i,r),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(ce),ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return le(e,t),e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(ve),_e=function(t){function e(i,r){var n=this,o=r||{},s=o.width,a=o.height,h=o.autoLoad,u=o.linkBaseTexture;if(i&&i.length!==e.SIDES)throw new Error("Invalid length. Got "+i.length+", expected 6");n=t.call(this,6,{width:s,height:a})||this;for(var l=0;l<e.SIDES;l++)n.items[l].target=m.TEXTURE_CUBE_MAP_POSITIVE_X+l;return n.linkBaseTexture=!1!==u,i&&n.initFromArray(i,r),!1!==h&&n.load(),n}return le(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=m.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,i){if(void 0===i&&(i=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=m.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,i,r){for(var n=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];n[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(t,s,r),n[o]=s.dirtyId):n[o]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,i.realWidth,i.realHeight,0,i.format,r.type,null),n[o]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(me),xe=function(t){function e(e,i){var r=this;if(i=i||{},!(e instanceof HTMLImageElement)){var n=new Image;ve.crossOrigin(n,e,i.crossorigin),n.src=e,e=n}return r=t.call(this,e)||this,!e.complete&&r._width&&r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==i.createBitmap?i.createBitmap:G.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,r.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,void 0!==i.premultiplyAlpha&&(r.premultiplyAlpha=i.premultiplyAlpha),r.bitmap=null,r._load=null,!1!==i.autoLoad&&r.load(),r}return le(e,t),e.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,i){var r=e.source;e.url=r.src;var n=function(){e.destroyed||(r.onload=null,r.onerror=null,e.resize(r.width,r.height),e._load=null,e.createBitmap?t(e.process()):t(e))};r.complete&&r.src?n():(r.onload=n,r.onerror=function(t){i(t),e.onError.emit(t)})}))),this._load},e.prototype.process=function(){var t=this,e=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(e,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===x.UNPACK?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,i,r){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var n=!0,o=i._glTextures;for(var s in o){var a=o[s];if(a!==r&&a.dirtyId!==i.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},e}(ve),be=function(t){function e(e,i){var r=this;return i=i||{},(r=t.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=e,r.scale=i.scale||1,r._overrideWidth=i.width,r._overrideHeight=i.height,r._resolve=null,r._crossorigin=i.crossorigin,r._load=null,!1!==i.autoLoad&&r.load(),r}return le(e,t),e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var t=this,e=new Image;ve.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(i){t._resolve&&(e.onerror=null,t.onError.emit(i))},e.onload=function(){if(t._resolve){var i=e.width,r=e.height;if(!i||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=i*t.scale,o=r*t.scale;(t._overrideWidth||t._overrideHeight)&&(n=t._overrideWidth||t._overrideHeight/r*i,o=t._overrideHeight||t._overrideWidth/i*r),n=Math.round(n),o=Math.round(o);var s=t.source;s.width=n,s.height=o,s._pixiId="canvas_"+lt(),s.getContext("2d").drawImage(e,0,0,i,r,0,0,n,o),t._resolve(),t._resolve=null}}},e.getSize=function(t){var i=e.SVG_SIZE.exec(t),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&0===t.indexOf("data:image/svg+xml;base64")||"string"==typeof t&&0===t.indexOf("<svg")},e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(ve),Te=function(t){function e(i,r){var n=this;if(r=r||{},!(i instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof i&&(i=[i]);var s=i[0].src||i[0];ve.crossOrigin(o,s,r.crossorigin);for(var a=0;a<i.length;++a){var h=document.createElement("source"),u=i[a],l=u.src,c=u.mime,d=(l=l||i[a]).split("?").shift().toLowerCase(),p=d.substr(d.lastIndexOf(".")+1);c=c||e.MIME_TYPES[p]||"video/"+p,h.src=l,h.type=c,o.appendChild(h)}i=o}return(n=t.call(this,i)||this).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=r.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==r.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==r.autoLoad&&n.load(),n}return le(e,t),e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var i=Kt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-i),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(i){t.valid?i(t):(t._resolve=i,e.load())})),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Kt.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Kt.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&Kt.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Kt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Kt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,i){return t instanceof HTMLVideoElement||e.TYPES.indexOf(i)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(ve),Ee=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return le(e,t),e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(ve);ae.push(xe,Ee,ge,Te,be,de,_e,ye);var we=function(){function t(t){this.renderer=t}return t.prototype.destroy=function(){this.renderer=null},t}(),Oe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return le(e,t),e.prototype.upload=function(t,e,i){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===x.UNPACK),i.width===e.width&&i.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,r.texImage2D(e.target,0,1===t.context.webGLVersion?r.DEPTH_COMPONENT:r.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(de),Ae=function(){function t(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new se("disposeFramebuffer"),this.multisample=O.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new fe(null,{scaleMode:v.NEAREST,resolution:1,mipmap:_.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new fe(new Oe(null,{width:this.width,height:this.height}),{scaleMode:v.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:_.OFF,format:f.DEPTH_COMPONENT,type:y.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i],n=r.resolution;r.setSize(t/n,e/n)}this.depthTexture&&(n=this.depthTexture.resolution,this.depthTexture.setSize(t/n,e/n))}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),Pe=function(t){function e(e){var i=this;if("number"==typeof e){var r=arguments[0],n=arguments[1],o=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:o,resolution:s}}i=t.call(this,null,e)||this;var a=e||{},h=a.width,u=a.height;return i.mipmap=0,i.width=Math.ceil(h)||100,i.height=Math.ceil(u)||100,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new Ae(i.width*i.resolution,i.height*i.resolution).addColorTexture(0,i),i.maskStack=[],i.filterStack=[{}],i}return le(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(fe),Se=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,i){var r=e.width,n=e.height;if(i){var o=t.width/2/r,s=t.height/2/n,a=t.x/r+o,h=t.y/n+s;i=Bt.add(i,Bt.NW),this.x0=a+o*Bt.uX(i),this.y0=h+s*Bt.uY(i),i=Bt.add(i,2),this.x1=a+o*Bt.uX(i),this.y1=h+s*Bt.uY(i),i=Bt.add(i,2),this.x2=a+o*Bt.uX(i),this.y2=h+s*Bt.uY(i),i=Bt.add(i,2),this.x3=a+o*Bt.uX(i),this.y3=h+s*Bt.uY(i)}else this.x0=t.x/r,this.y0=t.y/n,this.x1=(t.x+t.width)/r,this.y1=t.y/n,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/n,this.x3=t.x/r,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t}(),Ie=new Se,Ce=function(t){function e(i,r,n,o,s,a){var h=t.call(this)||this;if(h.noFrame=!1,r||(h.noFrame=!0,r=new Et(0,0,1,1)),i instanceof e&&(i=i.baseTexture),h.baseTexture=i,h._frame=r,h.trim=o,h.valid=!1,h._uvs=Ie,h.uvMatrix=null,h.orig=n||r,h._rotate=Number(s||0),!0===s)h._rotate=2;else if(h._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=a?new St(a.x,a.y):new St(0,0),h._updateID=0,h.textureCacheIds=[],i.valid?h.noFrame?i.valid&&h.onBaseTextureUpdated(i):h.frame=r:i.once("loaded",h.onBaseTextureUpdated,h),h.noFrame&&i.on("update",h.onBaseTextureUpdated,h),h}return le(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var i=this.baseTexture;i&&i.url&&mt[i.url]&&e.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===Ie&&(this._uvs=new Se),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,i,r){void 0===i&&(i={}),void 0===r&&(r=G.STRICT_TEXTURE_CACHE);var n="string"==typeof t,o=null;n?o=t:(t._pixiId||(t._pixiId="pixiid_"+lt()),o=t._pixiId);var s=mt[o];if(n&&r&&!s)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return s||(i.resolution||(i.resolution=gt(t)),(s=new e(new fe(t,i))).baseTexture.cacheId=o,fe.addToCache(s.baseTexture,o),e.addToCache(s,o)),s},e.fromURL=function(t,i){var r=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),n=e.from(t,Object.assign({resourceOptions:r},i),!1),o=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):o.load().then((function(){return Promise.resolve(n)}))},e.fromBuffer=function(t,i,r,n){return new e(fe.fromBuffer(t,i,r,n))},e.fromLoader=function(t,i,r){var n=new xe(t);n.url=i;var o=new e(new fe(n,{scaleMode:G.SCALE_MODE,resolution:gt(i)}));return r||(r=i),fe.addToCache(o.baseTexture,r),e.addToCache(o,r),r!==i&&(fe.addToCache(o.baseTexture,i),e.addToCache(o,i)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),mt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),mt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=mt[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete mt[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)mt[t.textureCacheIds[r]]===t&&delete mt[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,r=t.width,n=t.height,o=e+r>this.baseTexture.width,s=i+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",h="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,u="Y: "+i+" + "+n+" = "+(i+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=r&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(Y());function Me(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}Ce.EMPTY=new Ce(new fe),Me(Ce.EMPTY),Me(Ce.EMPTY.baseTexture),Ce.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new Ce(new fe(new ge(t)))}(),Me(Ce.WHITE),Me(Ce.WHITE.baseTexture);var De=function(t){function e(e,i){var r=this,n=null;if(!(e instanceof Pe)){var o=arguments[1],s=arguments[2],a=arguments[3],h=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+s+") instead of the ctor directly."),n=arguments[0],i=null,e=new Pe({width:o,height:s,scaleMode:a,resolution:h})}return(r=t.call(this,e,i)||this).legacyRenderer=n,r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return le(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,i){void 0===i&&(i=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,i&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new Pe(t))},e}(Ce),Re=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e){var i=new Pe(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new De(i)},t.prototype.getOptimalTexture=function(e,i,r){void 0===r&&(r=1);var n=t.SCREEN_KEY;e*=r,i*=r,this.enableFullScreen&&e===this._pixelsWidth&&i===this._pixelsHeight||(n=(65535&(e=nt(e)))<<16|65535&(i=nt(i))),this.texturePool[n]||(this.texturePool[n]=[]);var o=this.texturePool[n].pop();return o||(o=this.createTexture(e,i)),o.filterPoolKey=n,o.setResolution(r),o},t.prototype.getFilterTexture=function(t,e){var i=this.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){var i=t.SCREEN_KEY,r=this.texturePool[i];if(this.enableFullScreen=e.width>0&&e.height>0,r)for(var n=0;n<r.length;n++)r[n].destroy(!0);this.texturePool[i]=[],this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY="screen",t}(),Ne=function(){function t(t,e,i,r,n,o,s){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=5126),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=n,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,i,r,n,o){return new t(e,i,r,n,o)},t}(),Le=0,Fe=function(){function t(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=Le++,this.disposeRunner=new se("disposeBuffer")}return t.prototype.update=function(t){this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}();function Ue(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var Be={Float32Array,Uint32Array,Int32Array,Uint8Array},ke={5126:4,5123:2,5121:1},je=0,He={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Xe=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=je++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new se("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,i,r,n,o,s,a){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Fe||(e instanceof Array&&(e=new Float32Array(e)),e=new Fe(e));var h=t.split("|");if(h.length>1){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,i,r,n);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new Ne(l,i,r,n,o,s,a),this.instanced=this.instanced||a,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof Fe||(t instanceof Array&&(t=new Uint16Array(t)),t=new Fe(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],i=[],r=new Fe;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),i.push(n.size*ke[n.type]/4),n.buffer=0}for(r.data=function(t,e){for(var i=0,r=0,n={},o=0;o<t.length;o++)r+=e[o],i+=t[o].length;var s=new ArrayBuffer(4*i),a=null,h=0;for(o=0;o<t.length;o++){var u=e[o],l=t[o],c=Ue(l);n[c]||(n[c]=new Be[c](s)),a=n[c];for(var d=0;d<l.length;d++)a[(d/u|0)*r+h+d%u]=l[d];h+=u}return new Float32Array(s)}(e,i),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,i=0;i<this.buffers.length;i++)e.buffers[i]=new Fe(this.buffers[i].data.slice(0));for(var i in this.attributes){var r=this.attributes[i];e.attributes[i]=new Ne(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.index=!0),e},t.merge=function(e){for(var i,r=new t,n=[],o=[],s=[],a=0;a<e.length;a++){i=e[a];for(var h=0;h<i.buffers.length;h++)o[h]=o[h]||0,o[h]+=i.buffers[h].data.length,s[h]=0}for(a=0;a<i.buffers.length;a++)n[a]=new(He[Ue(i.buffers[a].data)])(o[a]),r.buffers[a]=new Fe(n[a]);for(a=0;a<e.length;a++)for(i=e[a],h=0;h<i.buffers.length;h++)n[h].set(i.buffers[h].data,s[h]),s[h]+=i.buffers[h].data.length;if(r.attributes=i.attributes,i.indexBuffer){r.indexBuffer=r.buffers[i.buffers.indexOf(i.indexBuffer)],r.indexBuffer.index=!0;var u=0,l=0,c=0,d=0;for(a=0;a<i.buffers.length;a++)if(i.buffers[a]!==i.indexBuffer){d=a;break}for(var a in i.attributes){var p=i.attributes[a];(0|p.buffer)===d&&(l+=p.size*ke[p.type]/4)}for(a=0;a<e.length;a++){var f=e[a].indexBuffer.data;for(h=0;h<f.length;h++)r.indexBuffer.data[h+c]+=u;u+=i.buffers[d].data.length/l,c+=f.length}}return r},t}(),Ge=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return le(e,t),e}(Xe),ze=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Fe(e.vertices),e.uvBuffer=new Fe(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return le(e,t),e.prototype.map=function(t,e){var i=0,r=0;return this.uvs[0]=i,this.uvs[1]=r,this.uvs[2]=i+e.width/t.width,this.uvs[3]=r,this.uvs[4]=i+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=i,this.uvs[7]=r+e.height/t.height,i=e.x,r=e.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+e.width,this.vertices[3]=r,this.vertices[4]=i+e.width,this.vertices[5]=r+e.height,this.vertices[6]=i,this.vertices[7]=r+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Xe),Ye=0,Ve=function(){function t(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ye++,this.static=!!e}return t.prototype.update=function(){this.dirtyId++},t.prototype.add=function(e,i,r){this.uniforms[e]=new t(i,r)},t.from=function(e,i){return new t(e,i)},t}(),We=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Et,this.destinationFrame=new Et,this.filters=[]}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),qe=function(t){function e(e){var i=t.call(this,e)||this;return i.defaultFilterStack=[{}],i.texturePool=new Re,i.texturePool.setScreenSize(e.view),i.statePool=[],i.quad=new Ge,i.quadUv=new ze,i.tempRect=new Et,i.activeState={},i.globalUniforms=new Ve({outputFrame:i.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),i.forceClear=!1,i.useMaxPadding=!1,i}return le(e,t),e.prototype.push=function(t,e){for(var i=this.renderer,r=this.defaultFilterStack,n=this.statePool.pop()||new We,o=e[0].resolution,s=e[0].padding,a=e[0].autoFit,h=e[0].legacy,u=1;u<e.length;u++){var l=e[u];o=Math.min(o,l.resolution),s=this.useMaxPadding?Math.max(s,l.padding):s+l.padding,a=a||l.autoFit,h=h||l.legacy}1===r.length&&(this.defaultFilterStack[0].renderTexture=i.renderTexture.current),r.push(n),n.resolution=o,n.legacy=h,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;var c=this.tempRect;c.width=n.sourceFrame.width,c.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,i.renderTexture.bind(n.renderTexture,n.sourceFrame,c),i.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var n=r.inputSize,o=r.inputPixel,s=r.inputClamp;if(n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],o[0]=n[0]*e.resolution,o[1]=n[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*n[2]-.5*o[2],s[3]=e.sourceFrame.height*n[3]-.5*o[3],e.legacy){var a=r.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(e.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,h.renderTexture,b.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,l=this.getOptimalFilterTexture(u.width,u.height,e.resolution);l.filterFrame=u.filterFrame;var c=0;for(c=0;c<i.length-1;++c){i[c].apply(this,u,l,b.CLEAR,e);var d=u;u=l,l=d}i[c].apply(this,u,h.renderTexture,b.BLEND,e),this.returnFilterTexture(u),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},e.prototype.bindAndClear=function(t,e){if(void 0===e&&(e=b.CLEAR),t&&t.filterFrame){var i=this.tempRect;i.width=t.filterFrame.width,i.height=t.filterFrame.height,this.renderer.renderTexture.bind(t,t.filterFrame,i)}else this.renderer.renderTexture.bind(t);"boolean"==typeof e&&(e=e?b.CLEAR:b.BLEND,dt("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(e===b.CLEAR||e===b.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},e.prototype.applyFilter=function(t,e,i,r){var n=this.renderer;this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.state.set(t.state),n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(p.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(p.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,n=i.destinationFrame,o=e._texture.orig,s=t.set(n.width,0,0,n.height,r.x,r.y),a=e.worldTransform.copyTo(Ct.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,i){return void 0===i&&(i=1),this.texturePool.getOptimalTexture(t,e,i)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var i=t;t=e,e=i}t=t||this.activeState.renderTexture;var r=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(we),Ze=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),Ke=function(t){function e(e){var i=t.call(this,e)||this;return i.emptyRenderer=new Ze(e),i.currentRenderer=i.emptyRenderer,i}return le(e,t),e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},e.prototype.boundArray=function(t,e,i,r){for(var n=t.elements,o=t.ids,s=t.count,a=0,h=0;h<s;h++){var u=n[h],l=u._batchLocation;if(l>=0&&l<r&&e[l]===u)o[h]=l;else for(;a<r;){var c=e[a];if(!c||c._batchEnabled!==i||c._batchLocation!==a){o[h]=a,u._batchLocation=a,e[a]=u;break}a++}}},e}(we),Je=0,Qe=function(t){function e(e){var i=t.call(this,e)||this;return i.webGLVersion=1,i.extensions={},i.supports={uint32Indices:!1},i.handleContextLost=i.handleContextLost.bind(i),i.handleContextRestored=i.handleContextRestored.bind(i),e.view.addEventListener("webglcontextlost",i.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",i.handleContextRestored,!1),i}return le(e,t),Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Je++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Je++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var i;if(G.PREFER_ENV>=u.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var e="WebGL2RenderingContext"in window&&t instanceof window.WebGL2RenderingContext||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=e,e||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(we),$e=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=O.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},ti=new Et,ei=function(t){function e(e){var i=t.call(this,e)||this;return i.managedFramebuffers=[],i.unknownFramebuffer=new Ae(10,10),i.msaaSamples=null,i}return le(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Et,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;G.PREFER_ENV===u.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,e){var i=this.gl;if(t){var r=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,r.framebuffer)),r.dirtyId!==t.dirtyId&&(r.dirtyId=t.dirtyId,r.dirtyFormat!==t.dirtyFormat?(r.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):r.dirtySize!==t.dirtySize&&(r.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++){var o=t.colorTextures[n];this.renderer.texture.unbind(o.parentTextureArray||o)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,i,r){var n=this.viewport;n.width===i&&n.height===r&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=i,n.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,e,i,r,n){void 0===n&&(n=c.COLOR|c.DEPTH);var o=this.gl;o.clearColor(t,e,i,r),o.clear(n)},e.prototype.initFramebuffer=function(t){var e=this.gl,i=new $e(e.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i},e.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var r=t.colorTextures,n=0;n<r.length;n++)this.renderer.texture.bind(r[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],r=t.colorTextures.length;e.drawBuffers||(r=Math.min(r,1)),i.multisample>1&&(i.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,i.msaaBuffer));for(var n=[],o=0;o<r;o++)if(!(0===o&&i.multisample>1)){var s=t.colorTextures[o],a=s.parentTextureArray||s;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,s.target,a._glTextures[this.CONTEXT_UID].texture,0),n.push(e.COLOR_ATTACHMENT0+o)}if(n.length>1&&e.drawBuffers(n),t.depthTexture&&this.writeDepthTexture){var h=t.depthTexture;this.renderer.texture.bind(h,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,0)}i.stencil||!t.stencil&&!t.depth||(i.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,i.stencil))},e.prototype.detectSamples=function(t){var e=this.msaaSamples,i=O.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return 1===i&&(i=O.NONE),i},e.prototype.blit=function(t,e,i){var r=this,n=r.current,o=r.renderer,s=r.gl,a=r.CONTEXT_UID;if(2===o.context.webGLVersion&&n){var h=n.glFramebuffers[a];if(h){if(!t){if(h.multisample<=1)return;h.blitFramebuffer||(h.blitFramebuffer=new Ae(n.width,n.height),h.blitFramebuffer.addColorTexture(0,n.colorTextures[0])),(t=h.blitFramebuffer).width=n.width,t.height=n.height}e||((e=ti).width=n.width,e.height=n.height),i||(i=e);var u=e.width===i.width&&e.height===i.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,h.framebuffer),s.blitFramebuffer(e.x,e.y,e.width,e.height,i.x,i.y,i.width,i.height,s.COLOR_BUFFER_BIT,u?s.NEAREST:s.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.stencil&&r.deleteRenderbuffer(i.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var i=t.width,r=t.height,n=this.gl,o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,i,r),e.stencil=o,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Et},e}(we),ii=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},ri={5126:4,5123:2,5121:1},ni=function(t){function e(e){var i=t.call(this,e)||this;return i._activeGeometry=null,i._activeVao=null,i.hasVao=!0,i.hasInstance=!0,i.canUseUInt32ElementIndex=!1,i.managedGeometries={},i.managedBuffers={},i}return le(e,t),e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!t.createVertexArray){var i=this.renderer.context.extensions.vertexArrayObject;G.PREFER_ENV===u.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(t){return i.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return i.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(!t.vertexAttribDivisor){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(t,e){return r.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,i,n,o){return r.drawElementsInstancedANGLE(t,e,i,n,o)},t.drawArraysInstanced=function(t,e,i,n){return r.drawArraysInstancedANGLE(t,e,i,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID];r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={});var n=r[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==n&&(this._activeVao=n,this.hasVao?i.bindVertexArray(n):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,i=0;i<t.buffers.length;i++){var r=t.buffers[i],n=r._glBuffers[this.CONTEXT_UID];if(r._updateID!==n.updateID){n.updateID=r._updateID;var o=r.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,n.buffer),this._boundBuffer=n,n.byteLength>=r.data.byteLength)e.bufferSubData(o,0,r.data);else{var s=r.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=r.data.byteLength,e.bufferData(o,r.data,s)}}}},e.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var n in r)if(!i[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,n=["g",t.id];for(var o in i)r[o]&&n.push(o);return n.join("-")},e.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var i=this.gl,r=this.CONTEXT_UID,n=this.getSignature(t,e),o=t.glVertexArrayObjects[this.CONTEXT_UID],s=o[n];if(s)return o[e.id]=s,s;var a=t.buffers,h=t.attributes,u={},l={};for(var c in a)u[c]=0,l[c]=0;for(var c in h)!h[c].size&&e.attributeData[c]?h[c].size=e.attributeData[c].size:h[c].size||console.warn("PIXI Geometry attribute '"+c+"' size cannot be determined (likely the bound shader does not have the attribute)"),u[h[c].buffer]+=h[c].size*ri[h[c].type];for(var c in h){var d=h[c],p=d.size;void 0===d.stride&&(u[d.buffer]===p*ri[d.type]?d.stride=0:d.stride=u[d.buffer]),void 0===d.start&&(d.start=l[d.buffer],l[d.buffer]+=p*ri[d.type])}s=i.createVertexArray(),i.bindVertexArray(s);for(var f=0;f<a.length;f++){var m=a[f];m._glBuffers[r]||(m._glBuffers[r]=new ii(i.createBuffer()),this.managedBuffers[m.id]=m,m.disposeRunner.add(this)),m._glBuffers[r].refCount++}return this.activateVao(t,e),this._activeVao=s,o[e.id]=s,o[n]=s,s},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],r=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),i){for(var o=0;o<n.length;o++){var s=n[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||e||this.disposeBuffer(n[o],e)}if(!e)for(var a in i)if("g"===a[0]){var h=i[a];this._activeVao===h&&this.unbind(),r.deleteVertexArray(h)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t);for(e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.disposeBuffer(this.managedBuffers[e[i]],t)},e.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,n=t.buffers,o=t.attributes;t.indexBuffer&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[r].buffer);var s=null;for(var a in o){var h=o[a],u=n[h.buffer]._glBuffers[r];if(e.attributeData[a]){s!==u&&(i.bindBuffer(i.ARRAY_BUFFER,u.buffer),s=u);var l=e.attributeData[a].location;if(i.enableVertexAttribArray(l),i.vertexAttribPointer(l,h.size,h.type||i.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(l,1)}}}},e.prototype.draw=function(t,e,i,r){var n=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(t,e||o.indexBuffer.data.length,a,(i||0)*s,r||1):n.drawElements(t,e||o.indexBuffer.data.length,a,(i||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(t,i,e||o.getSize(),r||1):n.drawArrays(t,i,e||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(we),oi=function(){function t(t){void 0===t&&(t=null),this.type=w.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=w.NONE,this.autoDetect=!0),this._target=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function si(t,e,i){var r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),r}function ai(t,e,i,r){var n=si(t,t.VERTEX_SHADER,e),o=si(t,t.FRAGMENT_SHADER,i),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),r)for(var a in r)t.bindAttribLocation(s,r[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(n))),t.getShaderParameter(o,t.COMPILE_STATUS)||(console.warn(i),console.error(t.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}function hi(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e}function ui(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return hi(2*e);case"bvec3":return hi(3*e);case"bvec4":return hi(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var li,ci={},di=ci;function pi(){if(di===ci||di&&di.isContextLost()){var t=document.createElement("canvas"),e=void 0;G.PREFER_ENV>=u.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),di=e}return di}function fi(t,e,i){if("precision"!==t.substring(0,9)){var r=e;return e===E.HIGH&&i!==E.HIGH&&(r=E.MEDIUM),"precision "+r+" float;\n"+t}return i!==E.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var mi={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function yi(t){return mi[t]}var vi=null,gi={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function _i(t,e){if(!vi){var i=Object.keys(gi);vi={};for(var r=0;r<i.length;++r){var n=i[r];vi[t[n]]=gi[n]}}return vi[e]}var xi,bi=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Ti={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Ei={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},wi=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Oi(t){for(var e="",i=0;i<t;++i)i>0&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}var Ai=0,Pi={},Si=function(){function t(e,i,r){void 0===r&&(r="pixi-shader"),this.id=Ai++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=i||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),Pi[r]?(Pi[r]++,r+="-"+Pi[r]):Pi[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=fi(this.vertexSrc,G.PRECISION_VERTEX,E.HIGH),this.fragmentSrc=fi(this.fragmentSrc,G.PRECISION_FRAGMENT,function(){if(!li){li=E.MEDIUM;var t=pi();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);li=e.precision?E.HIGH:E.MEDIUM}}return li}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return t.prototype.extractData=function(t,e){var i=pi();if(i){var r=ai(i,t,e);this.attributeData=this.getAttributeData(r,i),this.uniformData=this.getUniformData(r,i),i.deleteProgram(r)}else this.uniformData={},this.attributeData={}},t.prototype.getAttributeData=function(t,e){for(var i={},r=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=e.getActiveAttrib(t,o),a=_i(e,s.type),h={type:a,name:s.name,size:yi(a),location:0};i[s.name]=h,r.push(h)}for(r.sort((function(t,e){return t.name>e.name?1:-1})),o=0;o<r.length;o++)r[o].location=o;return i},t.prototype.getUniformData=function(t,e){for(var i={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<r;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]$/,""),a=o.name.match(/\[.*?\]$/),h=_i(e,o.type);i[s]={type:h,size:o.size,isArray:a,value:ui(h,o.size)}}return i},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(e,i,r){var n=e+i,o=ft[n];return o||(ft[n]=o=new t(e,i,r)),o},t}(),Ii=function(){function t(t,e){for(var i in this.program=t,this.uniformGroup=e?e instanceof Ve?e:new Ve(e):new Ve({}),t.uniformData)this.uniformGroup.uniforms[i]instanceof Array&&(this.uniformGroup.uniforms[i]=new Float32Array(this.uniformGroup.uniforms[i]))}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,i,r){return new t(Si.from(e,i),r)},t}(),Ci=function(){function t(){this.data=0,this.blendMode=d.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==d.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),Mi=function(t){function e(i,r,n){var o=this,s=Si.from(i||e.defaultVertexSrc,r||e.defaultFragmentSrc);return(o=t.call(this,s,n)||this).padding=0,o.resolution=G.FILTER_RESOLUTION,o.enabled=!0,o.autoFit=!0,o.legacy=!!o.program.attributeData.aTextureCoord,o.state=new Ci,o}return le(e,t),e.prototype.apply=function(t,e,i,r,n){t.applyFilter(this,e,i,r)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),e}(Ii),Di=new Ct,Ri=function(){function t(t,e){this._texture=t,this.mapCoord=new Ct,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var n=t[r],o=t[r+1];e[r]=n*i.a+o*i.c+i.tx,e[r+1]=n*i.b+o*i.d+i.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,n=e.trim;n&&(Di.set(r.width/n.width,0,0,r.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(Di));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+a+h)/o.width,s[1]=(e._frame.y+a+h)/o.height,s[2]=(e._frame.x+e._frame.width-a+h)/o.width,s[3]=(e._frame.y+e._frame.height-a+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},t}(),Ni=function(t){function e(e){var i=this,r=new Ct;return i=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,e.renderable=!1,i.maskSprite=e,i.maskMatrix=r,i}return le(e,t),e.prototype.apply=function(t,e,i,r){var n=this.maskSprite,o=n._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Ri(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,i,r))},e}(Mi),Li=function(t){function e(e){var i=t.call(this,e)||this;return i.enableScissor=!1,i.alphaMaskPool=[],i.maskDataPool=[],i.maskStack=[],i.alphaMaskIndex=0,i}return le(e,t),e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,e){var i=e;if(!i.isMaskData){var r=this.maskDataPool.pop()||new oi;r.pooled=!0,r.maskObject=e,i=r}switch(i.autoDetect&&this.detect(i),i.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),i._target=t,i.type){case w.SCISSOR:this.maskStack.push(i),this.renderer.scissor.push(i);break;case w.STENCIL:this.maskStack.push(i),this.renderer.stencil.push(i);break;case w.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i),this.maskStack.push(i)}},e.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case w.SCISSOR:this.renderer.scissor.pop();break;case w.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case w.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},e.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=w.SPRITE;else if(t.type=w.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var i=e.worldTransform,r=Math.atan2(i.b,i.a),n=Math.atan2(i.d,i.c);r=Math.round(r*(180/Math.PI)*100),n=((n=Math.round(n*(180/Math.PI)*100)-r)%18e3+18e3)%18e3,0==(r=(r%9e3+9e3)%9e3)&&9e3===n&&(t.type=w.SCISSOR)}},e.prototype.pushSpriteMask=function(t){var e=t.maskObject,i=t._target,r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new Ni(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e;var n=i.filterArea;i.filterArea=e.getBounds(!0),this.renderer.filter.push(i,r),i.filterArea=n,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(we),Fi=function(t){function e(e){var i=t.call(this,e)||this;return i.maskStack=[],i.glConst=0,i}return le(e,t),e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==i&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.maskStack=null},e}(we),Ui=function(t){function e(e){var i=t.call(this,e)||this;return i.glConst=WebGLRenderingContext.SCISSOR_TEST,i}return le(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var i=t._scissorRect,r=e.getBounds(!0),n=this.renderer.gl;e.renderable=!1,i?r.fit(i):n.enable(n.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=r,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,i=this.renderer.projection,r=i.transform,n=i.sourceFrame,o=i.destinationFrame,s=e?e.resolution:this.renderer.resolution,a=(t.x-n.x)*s+o.x,h=(t.y-n.y)*s+o.y,u=t.width*s,l=t.height*s;r&&(a+=r.tx*s,h+=r.ty*s),e||(h=this.renderer.height-l-h),this.renderer.gl.scissor(a,h,u,l)},e}(Fi),Bi=function(t){function e(e){var i=t.call(this,e)||this;return i.glConst=WebGLRenderingContext.STENCIL_TEST,i}return le(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,i=this.renderer.gl,r=t._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),i.enable(i.STENCIL_TEST)),t._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,r,this._getBitwiseMask()),i.stencilOp(i.KEEP,i.KEEP,i.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(Fi),ki=function(t){function e(e){var i=t.call(this,e)||this;return i.destinationFrame=null,i.sourceFrame=null,i.defaultFrame=null,i.projectionMatrix=new Ct,i.transform=null,i}return le(e,t),e.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,i,r){var n=this.projectionMatrix,o=r?-1:1;n.identity(),n.a=1/e.width*2,n.d=o*(1/e.height*2),n.tx=-1-e.x*n.a,n.ty=-o-e.y*n.d},e.prototype.setTransform=function(t){},e}(we),ji=new Et,Hi=new Et,Xi=new Et,Gi=function(t){function e(e){var i=t.call(this,e)||this;return i.clearColor=e._backgroundColorRgba,i.defaultMaskStack=[],i.current=null,i.sourceFrame=new Et,i.destinationFrame=new Et,i}return le(e,t),e.prototype.bind=function(t,e,i){void 0===t&&(t=null);var r,n,o,s=this.renderer;this.current=t,t?(o=(r=t.baseTexture).resolution,e||(ji.width=t.frame.width,ji.height=t.frame.height,e=ji),i||(Hi.x=t.frame.x,Hi.y=t.frame.y,Hi.width=e.width,Hi.height=e.height,i=Hi),n=r.framebuffer):(o=s.resolution,e||(ji.width=s.screen.width,ji.height=s.screen.height,e=ji),i||((i=ji).width=e.width,i.height=e.height)),Xi.x=i.x*o,Xi.y=i.y*o,Xi.width=i.width*o,Xi.height=i.height*o,this.renderer.framebuffer.bind(n,Xi),this.renderer.projection.update(i,e,o,!n),t?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},e.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e)},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(we),zi=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},t}(),Yi=0,Vi={textureCount:0},Wi=function(t){function e(e){var i=t.call(this,e)||this;return i.destroyed=!1,i.systemCheck(),i.gl=null,i.shader=null,i.program=null,i.cache={},i.id=Yi++,i}return le(e,t),e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof xi)return xi;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");xi=!0===t({a:"b"},"a","b")}catch(t){xi=!1}return xi}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(Vi.textureCount=0,this.syncUniformGroup(t.uniformGroup,Vi)),r},e.prototype.setUniforms=function(t){var e=this.shader.program,i=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(i.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,e){var i=this.getglProgram();t.static&&t.dirtyId===i.uniformGroups[t.id]||(i.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},e.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var i=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var r in t.uniforms){var n=e[r];if(n){for(var o=t.uniforms[r],s=!1,a=0;a<bi.length;a++)if(bi[a].test(n,o)){i.push(bi[a].code(r,o)),s=!0;break}if(!s){var h=(1===n.size?Ti:Ei)[n.type].replace("location",'ud["'+r+'"].location');i.push('\n            cv = ud["'+r+'"].value;\n            v = uv["'+r+'"];\n            '+h+";")}}else t.uniforms[r].group&&i.push('\n                    renderer.shader.syncUniformGroup(uv["'+r+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",i.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var i=t.uniforms,r=[];for(var n in i)r.push(n),e[n]&&r.push(e[n].type);return r.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,i=t.program,r={};for(var n in i.attributeData)r[n]=i.attributeData[n].location;var o=ai(e,i.vertexSrc,i.fragmentSrc,r),s={};for(var n in i.uniformData){var a=i.uniformData[n];s[n]={location:e.getUniformLocation(o,n),value:ui(a.type,a.size)}}var h=new zi(o,s);return i.glPrograms[this.renderer.CONTEXT_UID]=h,h},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(we),qi=function(t){function e(e){var i=t.call(this,e)||this;return i.gl=null,i.stateId=0,i.polygonOffset=0,i.blendMode=d.NONE,i._blendEq=!1,i.map=[],i.map[0]=i.setBlend,i.map[1]=i.setOffset,i.map[2]=i.setCullFace,i.map[3]=i.setDepthTest,i.map[4]=i.setFrontFace,i.checks=[],i.defaultState=new Ci,i.defaultState.blend=!0,i}return le(e,t),e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[d.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.ADD]=[t.ONE,t.ONE],e[d.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.NONE]=[0,0],e[d.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[d.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[d.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[d.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[d.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[d.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[d.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[d.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[d.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[d.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):e||-1===i||this.checks.splice(i,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},e}(we),Zi=function(t){function e(e){var i=t.call(this,e)||this;return i.count=0,i.checkCount=0,i.maxIdle=G.GC_MAX_IDLE,i.checkCountMax=G.GC_MAX_CHECK_COUNT,i.mode=G.GC_MODE,i}return le(e,t),e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==T.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var n=e[r];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[r]=null,i=!0)}if(i){var o=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[o++]=e[r]);e.length=o}},e.prototype.unload=function(t){var e,i=this.renderer.texture;(null===(e=t._texture)||void 0===e?void 0:e.framebuffer)&&i.destroyTexture(t._texture);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},e}(we),Ki=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Ji=function(t){function e(e){var i=t.call(this,e)||this;return i.boundTextures=[],i.currentLocation=-1,i.managedTextures=[],i._unknownBoundTextures=!1,i.unknownTexture=new fe,i}return le(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new Ki(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Ki(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),i=0;i<this.boundTextures.length;i++)this.bind(null,i)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if(t){if((t=t.castToBaseTexture()).parentTextureArray)return;if(t.valid){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,i=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<i.length;r++)i[r]===this.unknownTexture&&this.bind(null,r)}for(r=0;r<i.length;r++)i[r]===t&&(this.currentLocation!==r&&(e.activeTexture(e.TEXTURE0+r),this.currentLocation=r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[t.target].texture),i[r]=null)},e.prototype.initTexture=function(t){var e=new Ki(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var i=this.renderer.gl;t.type===i.FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA32F),t.type===y.HALF_FLOAT&&(e.type=i.HALF_FLOAT),e.type===i.HALF_FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e));else{var r=t.realWidth,n=t.realHeight,o=i.gl;(e.width!==r||e.height!==n||e.dirtyId<0)&&(e.width=r,e.height=n,o.texImage2D(t.target,0,e.internalFormat,r,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&at(this.managedTextures,r,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==_.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=g.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===v.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===v.LINEAR){var n=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===v.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===v.LINEAR?i.LINEAR:i.NEAREST)},e}(we),Qi=new Ct,$i=function(t){function e(i){var r=t.call(this,l.WEBGL,i)||this;return i=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new se("destroy"),contextChange:new se("contextChange"),reset:new se("reset"),update:new se("update"),postrender:new se("postrender"),prerender:new se("prerender"),resize:new se("resize")},r.globalUniforms=new Ve({projectionMatrix:new Ct},!0),r.addSystem(Li,"mask").addSystem(Qe,"context").addSystem(qi,"state").addSystem(Wi,"shader").addSystem(Ji,"texture").addSystem(ni,"geometry").addSystem(ei,"framebuffer").addSystem(Ui,"scissor").addSystem(Bi,"stencil").addSystem(ki,"projection").addSystem(Zi,"textureGC").addSystem(qe,"filter").addSystem(Gi,"renderTexture").addSystem(Ke,"batch"),r.initPlugins(e.__plugins),i.context?r.context.initFromContext(i.context):r.context.initFromOptions({alpha:!!r.transparent,antialias:i.antialias,premultipliedAlpha:r.transparent&&"notMultiplied"!==r.transparent,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,function(t){var e;if(!K){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var i=["\n %c %c %c PixiJS 5.3.3 -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=window.console).log.apply(e,i)}else window.console&&window.console.log("PixiJS 5.3.3 - "+t+" - http://www.pixijs.com/");K=!0}}(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return le(e,t),e.create=function(t){if(void 0===Z&&(Z=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:G.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var n=i.getExtension("WEBGL_lose_context");n&&n.loseContext()}return i=null,r}catch(t){return!1}}()),Z)return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var i=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var r in this[e]=i,this.runners)this.runners[r].add(i);return this},e.prototype.render=function(t,e,i,r,n){if(this.renderingToScreen=!e,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=r,!this.context.isLost){if(e||(this._lastObjectRendered=t),!n){var o=t.enableTempParent();t.updateTransform(),t.disableTempParent(o)}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.runners.resize.emit(e,i)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,i){e.__plugins=e.__plugins||{},e.__plugins[t]=i},e}(function(t){function e(e,i){void 0===e&&(e=l.UNKNOWN);var r=t.call(this)||this;return(i=Object.assign({},G.RENDER_OPTIONS,i)).roundPixels&&(G.ROUND_PIXELS=i.roundPixels,dt("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),r.options=i,r.type=e,r.screen=new Et(0,0,i.width,i.height),r.view=i.view||document.createElement("canvas"),r.resolution=i.resolution||G.RESOLUTION,r.transparent=i.transparent,r.autoDensity=i.autoDensity||i.autoResize||!1,r.preserveDrawingBuffer=i.preserveDrawingBuffer,r.clearBeforeRender=i.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,0],r._backgroundColorString="#000000",r.backgroundColor=i.backgroundColor||r._backgroundColor,r._lastObjectRendered=null,r.plugins={},r}return le(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},e.prototype.generateTexture=function(t,e,i,r){0===(r=r||t.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1);var n=De.create({width:0|r.width,height:0|r.height,scaleMode:e,resolution:i});return Qi.tx=-r.x,Qi.ty=-r.y,this.render(t,n,!1,Qi,!!t.parent),n},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=l.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=Q(t),J(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),e}(Y())),tr="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",er=function(){this.texArray=null,this.blend=0,this.type=p.TRIANGLES,this.start=0,this.size=0,this.data=null},ir=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),rr=function(){function t(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),nr=function(t){function e(e){var i=t.call(this,e)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=Ci.for2d(),i.size=4*G.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),e.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return le(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;G.PREFER_ENV===u.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),G.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=e.createShader(e.FRAGMENT_SHADER);;){var r=wi.replace(/%forloop%/gi,Oi(t));if(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return t}(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,i=e._textureArrayPool,r=this.size/4,n=Math.floor(r/this.MAX_TEXTURES)+1;t.length<r;)t.push(new er);for(;i.length<n;)i.push(new ir);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,i=this.MAX_TEXTURES,r=e._textureArrayPool,n=this.renderer.batch,o=this._tempBoundTextures,s=this.renderer.textureGC.count,a=++fe._globalBatch,h=0,u=r[0],l=0;n.copyBoundTextures(o,i);for(var c=0;c<this._bufferSize;++c){var d=t[c];t[c]=null,d._batchEnabled!==a&&(u.count>=i&&(n.boundArray(u,o,a,i),this.buildDrawCalls(u,l,c),l=c,u=r[++h],++a),d._batchEnabled=a,d.touched=s,u.elements[u.count++]=d)}for(u.count>0&&(n.boundArray(u,o,a,i),this.buildDrawCalls(u,l,this._bufferSize),++h,++a),c=0;c<o.length;c++)o[c]=null;fe._globalBatch=a},e.prototype.buildDrawCalls=function(t,i,r){var n=this,o=n._bufferedElements,s=n._attributeBuffer,a=n._indexBuffer,h=n.vertexSize,u=e._drawCallPool,l=this._dcIndex,c=this._aIndex,d=this._iIndex,p=u[l];p.start=this._iIndex,p.texArray=t;for(var f=i;f<r;++f){var m=o[f],y=m._texture.baseTexture,v=tt[y.alphaMode?1:0][m.blendMode];o[f]=null,i<f&&p.blend!==v&&(p.size=d-p.start,i=f,(p=u[++l]).texArray=t,p.start=d),this.packInterleavedGeometry(m,s,a,c,d),c+=m.vertexData.length/2*h,d+=m.indices.length,p.blend=v}i<r&&(p.size=d-p.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=d},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,i=0;i<t.count;i++)e.bind(t.elements[i],t.ids[i]),t.elements[i]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this,e=t._packedGeometries,i=t._attributeBuffer,r=t._indexBuffer;G.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(i.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(i.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,i=this.renderer,r=i.gl,n=i.state,o=e._drawCallPool,s=null,a=0;a<t;a++){var h=o[a],u=h.texArray,l=h.type,c=h.size,d=h.start,p=h.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=p,n.set(this.state),r.drawElements(l,c,r.UNSIGNED_SHORT,2*d)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),G.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=nt(Math.ceil(t/8)),i=st(e),r=8*e;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var n=this._aBuffers[r];return n||(this._aBuffers[r]=n=new rr(r*this.vertexSize*4)),n},e.prototype.getIndexBuffer=function(t){var e=nt(Math.ceil(t/12)),i=st(e),r=12*e;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var n=this._iBuffers[i];return n||(this._iBuffers[i]=n=new Uint16Array(r)),n},e.prototype.packInterleavedGeometry=function(t,e,i,r,n){for(var o=e.uint32View,s=e.float32View,a=r/this.vertexSize,h=t.uvs,u=t.indices,l=t.vertexData,c=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),p=d<1&&t._texture.baseTexture.alphaMode?it(t._tintRGB,d):t._tintRGB+(255*d<<24),f=0;f<l.length;f+=2)s[r++]=l[f],s[r++]=l[f+1],s[r++]=h[f],s[r++]=h[f+1],o[r++]=p,s[r++]=c;for(f=0;f<u.length;f++)i[n++]=a+u[f]},e._drawCallPool=[],e._textureArrayPool=[],e}(Ze),or=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=Ve.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Si(this.vertexSrc,r)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ct,default:this.defaultGroupCache[t]};return new Ii(this.programCache[t],n)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},t}(),sr=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;return i._buffer=new Fe(null,e,!1),i._indexBuffer=new Fe(null,e,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,y.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,y.FLOAT).addAttribute("aColor",i._buffer,4,!0,y.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,y.FLOAT).addIndex(i._indexBuffer),i}return le(e,t),e}(Xe),ar="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",hr="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",ur=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:ar,fragment:hr,geometryClass:sr,vertexSize:6},t),i=e.vertex,r=e.fragment,n=e.vertexSize,o=e.geometryClass;return function(t){function e(e){var s=t.call(this,e)||this;return s.shaderGenerator=new or(i,r),s.geometryClass=o,s.vertexSize=n,s}return le(e,t),e}(nr)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return ar},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return hr},enumerable:!1,configurable:!0}),t}().create(),lr=function(){function t(e){var i=this;e=Object.assign({forceCanvas:!1},e),this.renderer=function(t){return $i.create(t)}(e),this.stage=new Vt,t._plugins.forEach((function(t){t.init.call(i,e)}))}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,i){var r=this,n=t._plugins.slice(0);n.reverse(),n.forEach((function(t){t.destroy.call(r)})),this.stage.destroy(i),this.stage=null,this.renderer.destroy(e),this.renderer=null},t}();lr._plugins=[];var cr=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,i;if(e.cancelResize(),e._resizeTo===window)t=window.innerWidth,i=window.innerHeight;else{var r=e._resizeTo;t=r.clientWidth,i=r.clientHeight}e.renderer.resize(t,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();lr.registerPlugin(cr);var dr=new Et,pr=function(){function t(t){this.renderer=t,t.extract=this}return t.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},t.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},t.prototype.canvas=function(e){var i,r,n,o=this.renderer,s=!1,a=!1;e&&(e instanceof De?n=e:(n=this.renderer.generateTexture(e),a=!0)),n?(i=n.baseTexture.resolution,r=n.frame,s=!1,o.renderTexture.bind(n)):(i=this.renderer.resolution,s=!0,(r=dr).width=this.renderer.width,r.height=this.renderer.height,o.renderTexture.bind(null));var h=Math.floor(r.width*i+1e-4),u=Math.floor(r.height*i+1e-4),l=new vt(h,u,1),c=new Uint8Array(4*h*u),d=o.gl;d.readPixels(r.x*i,r.y*i,h,u,d.RGBA,d.UNSIGNED_BYTE,c);var p=l.context.getImageData(0,0,h,u);if(t.arrayPostDivide(c,p.data),l.context.putImageData(p,0,0),s){var f=new vt(l.width,l.height,1);f.context.scale(1,-1),f.context.drawImage(l.canvas,0,-u),l.destroy(),l=f}return a&&n.destroy(!0),l.canvas},t.prototype.pixels=function(e){var i,r,n,o=this.renderer,s=!1;e&&(e instanceof De?n=e:(n=this.renderer.generateTexture(e),s=!0)),n?(i=n.baseTexture.resolution,r=n.frame,o.renderTexture.bind(n)):(i=o.resolution,(r=dr).width=o.width,r.height=o.height,o.renderTexture.bind(null));var a=r.width*i,h=r.height*i,u=new Uint8Array(4*a*h),l=o.gl;return l.readPixels(r.x*i,r.y*i,a,h,l.RGBA,l.UNSIGNED_BYTE,u),s&&n.destroy(!0),t.arrayPostDivide(u,u),u},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t.arrayPostDivide=function(t,e){for(var i=0;i<t.length;i+=4){var r=e[i+3]=t[i+3];0!==r?(e[i]=Math.round(Math.min(255*t[i]/r,255)),e[i+1]=Math.round(Math.min(255*t[i+1]/r,255)),e[i+2]=Math.round(Math.min(255*t[i+2]/r,255))):(e[i]=t[i],e[i+1]=t[i+1],e[i+2]=t[i+2])}},t}(),fr=i(571),mr=i.n(fr),yr=i(940),vr=i.n(yr);function gr(){}function _r(t,e,i,r){var n=0,o=t.length;!function s(a){a||n===o?i&&i(a):r?setTimeout((function(){e(t[n++],s)}),1):e(t[n++],s)}()}function xr(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}var br={};function Tr(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Er(t,e,i){return e&&Tr(t.prototype,e),i&&Tr(t,i),t}var wr=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),Or=null;function Ar(){}var Pr=function(){function t(e,i,r){if("string"!=typeof e||"string"!=typeof i)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===i.indexOf("data:")),this.name=e,this.url=i,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Ar,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new(vr()),this.onProgress=new(vr()),this.onComplete=new(vr()),this.onAfterMiddleware=new(vr())}t.setExtensionLoadType=function(e,i){Sr(t._loadTypeMap,e,i)},t.setExtensionXhrType=function(e,i){Sr(t._xhrTypeMap,e,i)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var i=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(i)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:wr&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},e._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=i,r},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(Ir(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(Ir(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(Ir(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,i="",r=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(i=e.responseText),0===r&&(i.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2==(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(i,"text/xml")}else{var o=document.createElement("div");o.innerHTML=i,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||i;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,Or||(Or=document.createElement("a")),Or.href=t;var i=!(t=mr()(Or.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,r=t.protocol?t.protocol+":":"";return t.host===e.hostname&&i&&r===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var r=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(r>-1?r:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Er(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function Sr(t,e,i){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=i)}function Ir(t){return t.toString().replace("object ","")}Pr.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Pr.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Pr.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Pr.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Pr._loadTypeMap={gif:Pr.LOAD_TYPE.IMAGE,png:Pr.LOAD_TYPE.IMAGE,bmp:Pr.LOAD_TYPE.IMAGE,jpg:Pr.LOAD_TYPE.IMAGE,jpeg:Pr.LOAD_TYPE.IMAGE,tif:Pr.LOAD_TYPE.IMAGE,tiff:Pr.LOAD_TYPE.IMAGE,webp:Pr.LOAD_TYPE.IMAGE,tga:Pr.LOAD_TYPE.IMAGE,svg:Pr.LOAD_TYPE.IMAGE,"svg+xml":Pr.LOAD_TYPE.IMAGE,mp3:Pr.LOAD_TYPE.AUDIO,ogg:Pr.LOAD_TYPE.AUDIO,wav:Pr.LOAD_TYPE.AUDIO,mp4:Pr.LOAD_TYPE.VIDEO,webm:Pr.LOAD_TYPE.VIDEO},Pr._xhrTypeMap={xhtml:Pr.XHR_RESPONSE_TYPE.DOCUMENT,html:Pr.XHR_RESPONSE_TYPE.DOCUMENT,htm:Pr.XHR_RESPONSE_TYPE.DOCUMENT,xml:Pr.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Pr.XHR_RESPONSE_TYPE.DOCUMENT,svg:Pr.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Pr.XHR_RESPONSE_TYPE.DOCUMENT,gif:Pr.XHR_RESPONSE_TYPE.BLOB,png:Pr.XHR_RESPONSE_TYPE.BLOB,bmp:Pr.XHR_RESPONSE_TYPE.BLOB,jpg:Pr.XHR_RESPONSE_TYPE.BLOB,jpeg:Pr.XHR_RESPONSE_TYPE.BLOB,tif:Pr.XHR_RESPONSE_TYPE.BLOB,tiff:Pr.XHR_RESPONSE_TYPE.BLOB,webp:Pr.XHR_RESPONSE_TYPE.BLOB,tga:Pr.XHR_RESPONSE_TYPE.BLOB,json:Pr.XHR_RESPONSE_TYPE.JSON,text:Pr.XHR_RESPONSE_TYPE.TEXT,txt:Pr.XHR_RESPONSE_TYPE.TEXT,ttf:Pr.XHR_RESPONSE_TYPE.BUFFER,otf:Pr.XHR_RESPONSE_TYPE.BUFFER},Pr.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Cr=window.URL||window.webkitURL,Mr={caching:function(t,e){var i=this;br[t.url]?(t.data=br[t.url],t.complete()):t.onComplete.once((function(){return br[i.url]=i.data})),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===Pr.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=Cr.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=i,t.type=Pr.TYPE.IMAGE,void(t.data.onload=function(){Cr.revokeObjectURL(i),t.data.onload=null,e()})}}else{var r=t.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return t.data=new Image,t.data.src="data:"+r+";base64,"+function(t){for(var e="",i=0;i<t.length;){for(var r=[0,0,0],n=[0,0,0,0],o=0;o<r.length;++o)i<t.length?r[o]=255&t.charCodeAt(i++):r[o]=0;switch(n[0]=r[0]>>2,n[1]=(3&r[0])<<4|r[1]>>4,n[2]=(15&r[1])<<2|r[2]>>6,n[3]=63&r[2],i-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var s=0;s<n.length;++s)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n[s])}return e}(t.xhr.responseText),t.type=Pr.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},Dr=/(#[\w-]+)?$/,Rr=function(){function t(e,i){var r=this;void 0===e&&(e=""),void 0===i&&(i=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this._queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var i=0,r={_tasks:[],concurrency:e,saturated:gr,unsaturated:gr,buffer:e/4,empty:gr,drain:gr,error:gr,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){i=0,r.drain=gr,r.started=!1,r._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!r.paused&&i<r.concurrency&&r._tasks.length;){var e=r._tasks.shift();0===r._tasks.length&&r.empty(),(i+=1)===r.concurrency&&r.saturated(),t(e.data,xr(o(e)))}},length:function(){return r._tasks.length},running:function(){return i},idle:function(){return r._tasks.length+i===0},pause:function(){!0!==r.paused&&(r.paused=!0)},resume:function(){if(!1!==r.paused){r.paused=!1;for(var t=1;t<=r.concurrency;t++)r.process()}}};function n(t,e,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(r.started=!0,null==t&&r.idle())setTimeout((function(){return r.drain()}),1);else{var n={data:t,callback:"function"==typeof i?i:gr};e?r._tasks.unshift(n):r._tasks.push(n),setTimeout((function(){return r.process()}),1)}}function o(t){return function(){i-=1,t.callback.apply(t,arguments),null!=arguments[0]&&r.error(arguments[0],t.data),i<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}return r}(this._boundLoadResource,i),this._queue.pause(),this.resources={},this.onProgress=new(vr()),this.onError=new(vr()),this.onLoad=new(vr()),this.onStart=new(vr()),this.onComplete=new(vr());for(var n=0;n<t._defaultBeforeMiddleware.length;++n)this.pre(t._defaultBeforeMiddleware[n]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}var e=t.prototype;return e.add=function(t,e,i,r){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(r=e||t.callback||t.onComplete,i=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(r=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(r=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new Pr(t,e,i),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var o=i.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var h=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=h;for(var u=0;u<s.length;++u)s[u].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,i=mr()(t,{strictMode:!0});if(e=i.protocol||!i.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=Dr.exec(e)[0];-1!==(e=e.substr(0,e.length-r.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=r}return e},e._loadResource=function(t,e){var i=this;t._dequeue=e,_r(this._beforeMiddleware,(function(e,r){e.call(i,t,(function(){r(t.isComplete?{}:null)}))}),(function(){t.isComplete?i._onLoad(t):(t._onLoadBinding=t.onComplete.once(i._onLoad,i),t.load())}),!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),_r(this._afterMiddleware,(function(i,r){i.call(e,t,r)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},Er(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();Rr._defaultBeforeMiddleware=[],Rr._defaultAfterMiddleware=[],Rr.pre=function(t){return Rr._defaultBeforeMiddleware.push(t),Rr},Rr.use=function(t){return Rr._defaultAfterMiddleware.push(t),Rr};var Nr=Pr,Lr=function(t,e){return(Lr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},Fr=function(){function t(){}return t.use=function(t,e){t.data&&t.type===Pr.TYPE.IMAGE&&(t.texture=Ce.fromLoader(t.data,t.url,t.name)),e()},t}(),Ur=function(t){function e(i,r){for(var n=t.call(this,i,r)||this,o=0;o<e._plugins.length;++o){var s=e._plugins[o],a=s.pre,h=s.use;a&&n.pre(a),h&&n.use(h)}return n._protected=!1,n}return function(t,e){function i(){this.constructor=t}Lr(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}(Rr);Ur.registerPlugin({use:Mr.parsing}),Ur.registerPlugin(Fr);var Br=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Ur.shared:new Ur},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),kr=function(t,e){return(kr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function jr(t,e){function i(){this.constructor=t}kr(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}!function(t){function e(e,i,r,n){void 0===e&&(e=1500),void 0===r&&(r=16384),void 0===n&&(n=!1);var o=t.call(this)||this;return r>16384&&(r=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=r,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=d.NORMAL,o.autoResize=n,o.roundPixels=!0,o.baseTexture=null,o.setProperties(i),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}jr(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,J(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}(Vt);var Hr,Xr,Gr=function(){function t(t,e,i){this.geometry=new Xe,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var n=t[r];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||y.FLOAT,offset:n.offset},e[r]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Fe(function(t,e){void 0===e&&(e=null);var i=6*t;if((e=e||new Uint16Array(i)).length!==i)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+i);for(var r=0,n=0;r<i;r+=6,n+=4)e[r+0]=n+0,e[r+1]=n+1,e[r+2]=n+2,e[r+3]=n+0,e[r+4]=n+2,e[r+5]=n+3;return e}(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i)(s=this.dynamicProperties[i]).offset=e,e+=s.size,this.dynamicStride+=s.size;var r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new Fe(this.dynamicData,!1,!1);var n=0;for(this.staticStride=0,i=0;i<this.staticProperties.length;++i)(s=this.staticProperties[i]).offset=n,n+=s.size,this.staticStride+=s.size;var o=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new Fe(this.staticData,!0,!1),i=0;i<this.dynamicProperties.length;++i){var s=this.dynamicProperties[i];t.addAttribute(s.attributeName,this.dynamicBuffer,0,s.type===y.UNSIGNED_BYTE,s.type,4*this.dynamicStride,4*s.offset)}for(i=0;i<this.staticProperties.length;++i)s=this.staticProperties[i],t.addAttribute(s.attributeName,this.staticBuffer,0,s.type===y.UNSIGNED_BYTE,s.type,4*this.staticStride,4*s.offset)},t.prototype.uploadDynamic=function(t,e,i){for(var r=0;r<this.dynamicProperties.length;r++){var n=this.dynamicProperties[r];n.uploadFunction(t,e,i,n.type===y.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(t,e,i){for(var r=0;r<this.staticProperties.length;r++){var n=this.staticProperties[r];n.uploadFunction(t,e,i,n.type===y.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),zr=function(t){function e(e){var i=t.call(this,e)||this;return i.shader=null,i.properties=null,i.tempMatrix=new Ct,i.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:i.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:i.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:i.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:i.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:y.UNSIGNED_BYTE,uploadFunction:i.uploadTint,offset:0}],i.shader=Ii.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),i.state=Ci.for2d(),i}return jr(e,t),e.prototype.render=function(t){var e=t.children,i=t._maxSize,r=t._batchSize,n=this.renderer,o=e.length;if(0!==o){o>i&&!t.autoResize&&(o=i);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.state.blendMode=et(t.blendMode,a.alphaMode),n.state.set(this.state);var h,u,l,c,d=n.gl,p=t.worldTransform.copyTo(this.tempMatrix);p.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=(h=t.tintRgb,u=t.worldAlpha,l=this.shader.uniforms.uColor,c=a.alphaMode,l=l||new Float32Array(4),c||void 0===c?(l[0]=h[0]*u,l[1]=h[1]*u,l[2]=h[2]*u):(l[0]=h[0],l[1]=h[1],l[2]=h[2]),l[3]=u,l),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var f=!1,m=0,y=0;m<o;m+=r,y+=1){var v=o-m;v>r&&(v=r),y>=s.length&&s.push(this._generateOneMoreBuffer(t));var g=s[y];g.uploadDynamic(e,m,v);var _=t._bufferUpdateIDs[y]||0;(f=f||g._updateID<_)&&(g._updateID=t._updateID,g.uploadStatic(e,m,v)),n.geometry.bind(g.geometry),d.drawElements(d.TRIANGLES,6*v,d.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],i=t._maxSize,r=t._batchSize,n=t._properties,o=0;o<i;o+=r)e.push(new Gr(this.properties,n,r));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,i=t._properties;return new Gr(this.properties,i,e)},e.prototype.uploadVertices=function(t,e,i,r,n,o){for(var s=0,a=0,h=0,u=0,l=0;l<i;++l){var c=t[e+l],d=c._texture,p=c.scale.x,f=c.scale.y,m=d.trim,y=d.orig;m?(s=(a=m.x-c.anchor.x*y.width)+m.width,h=(u=m.y-c.anchor.y*y.height)+m.height):(s=y.width*(1-c.anchor.x),a=y.width*-c.anchor.x,h=y.height*(1-c.anchor.y),u=y.height*-c.anchor.y),r[o]=a*p,r[o+1]=u*f,r[o+n]=s*p,r[o+n+1]=u*f,r[o+2*n]=s*p,r[o+2*n+1]=h*f,r[o+3*n]=a*p,r[o+3*n+1]=h*f,o+=4*n}},e.prototype.uploadPosition=function(t,e,i,r,n,o){for(var s=0;s<i;s++){var a=t[e+s].position;r[o]=a.x,r[o+1]=a.y,r[o+n]=a.x,r[o+n+1]=a.y,r[o+2*n]=a.x,r[o+2*n+1]=a.y,r[o+3*n]=a.x,r[o+3*n+1]=a.y,o+=4*n}},e.prototype.uploadRotation=function(t,e,i,r,n,o){for(var s=0;s<i;s++){var a=t[e+s].rotation;r[o]=a,r[o+n]=a,r[o+2*n]=a,r[o+3*n]=a,o+=4*n}},e.prototype.uploadUvs=function(t,e,i,r,n,o){for(var s=0;s<i;++s){var a=t[e+s]._texture._uvs;a?(r[o]=a.x0,r[o+1]=a.y0,r[o+n]=a.x1,r[o+n+1]=a.y1,r[o+2*n]=a.x2,r[o+2*n+1]=a.y2,r[o+3*n]=a.x3,r[o+3*n+1]=a.y3,o+=4*n):(r[o]=0,r[o+1]=0,r[o+n]=0,r[o+n+1]=0,r[o+2*n]=0,r[o+2*n+1]=0,r[o+3*n]=0,r[o+3*n+1]=0,o+=4*n)}},e.prototype.uploadTint=function(t,e,i,r,n,o){for(var s=0;s<i;++s){var a=t[e+s],h=a._texture.baseTexture.alphaMode>0,u=a.alpha,l=u<1&&h?it(a._tintRGB,u):a._tintRGB+(255*u<<24);r[o]=l,r[o+n]=l,r[o+2*n]=l,r[o+3*n]=l,o+=4*n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Ze);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(Hr||(Hr={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(Xr||(Xr={}));var Yr={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var i=Math.ceil(t/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}},Vr=function(){function t(){this.color=16777215,this.alpha=1,this.texture=Ce.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Ce.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),Wr=function(t,e){return(Wr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function qr(t,e){function i(){this.constructor=t}Wr(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Zr={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var i=t.points,r=t.holes,n=e.points,o=e.indices;if(i.length>=6){for(var s=[],a=0;a<r.length;a++){var h=r[a];s.push(i.length/2),i=i.concat(h.points)}var u=W()(i,s,2);if(!u)return;var l=n.length/2;for(a=0;a<u.length;a+=3)o.push(u[a]+l),o.push(u[a+1]+l),o.push(u[a+2]+l);for(a=0;a<i.length;a++)n.push(i[a])}}},Kr={build:function(t){var e,i,r=t.shape,n=t.points,o=r.x,s=r.y;if(n.length=0,t.type===_t.CIRC)e=r.radius,i=r.radius;else{var a=t.shape;e=a.width,i=a.height}if(0!==e&&0!==i){var h=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(e+i));h/=2.3;for(var u=2*Math.PI/h,l=0;l<h-.5;l++)n.push(o+Math.sin(-u*l)*e,s+Math.cos(-u*l)*i);n.push(n[0],n[1])}},triangulate:function(t,e){var i=t.points,r=e.points,n=e.indices,o=r.length/2,s=o,a=t.shape,h=t.matrix,u=a.x,l=a.y;r.push(t.matrix?h.a*u+h.c*l+h.tx:u,t.matrix?h.b*u+h.d*l+h.ty:l);for(var c=0;c<i.length;c+=2)r.push(i[c],i[c+1]),n.push(o++,s,o)}};function Jr(t,e,i){return t+(e-t)*i}function Qr(t,e,i,r,n,o,s){void 0===s&&(s=[]);for(var a=s,h=0,u=0,l=0,c=0,d=0,p=0,f=0,m=0;f<=20;++f)h=Jr(t,i,m=f/20),u=Jr(e,r,m),l=Jr(i,n,m),c=Jr(r,o,m),d=Jr(h,l,m),p=Jr(u,c,m),a.push(d,p);return a}var $r={build:function(t){var e=t.shape,i=t.points,r=e.x,n=e.y,o=e.width,s=e.height,a=Math.max(0,Math.min(e.radius,Math.min(o,s)/2));i.length=0,a?(Qr(r,n+a,r,n,r+a,n,i),Qr(r+o-a,n,r+o,n,r+o,n+a,i),Qr(r+o,n+s-a,r+o,n+s,r+o-a,n+s,i),Qr(r+a,n+s,r,n+s,r,n+s-a,i)):i.push(r,n,r+o,n,r+o,n+s,r,n+s)},triangulate:function(t,e){for(var i=t.points,r=e.points,n=e.indices,o=r.length/2,s=W()(i,null,2),a=0,h=s.length;a<h;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(a=0,h=i.length;a<h;a++)r.push(i[a],i[++a])}};function tn(t,e,i,r,n,o,s,a){var h,u;s?(h=r,u=-i):(h=-r,u=i);var l=t-i*n+h,c=e-r*n+u,d=t+i*o+h,p=e+r*o+u;return a.push(l,c),a.push(d,p),2}function en(t,e,i,r,n,o,s,a){var h=i-t,u=r-e,l=Math.atan2(h,u),c=Math.atan2(n-t,o-e);a&&l<c?l+=2*Math.PI:!a&&l>c&&(c+=2*Math.PI);var d=l,p=c-l,f=Math.abs(p),m=Math.sqrt(h*h+u*u),y=1+(15*f*Math.sqrt(m)/Math.PI>>0),v=p/y;if(d+=v,a){s.push(t,e),s.push(i,r);for(var g=1,_=d;g<y;g++,_+=v)s.push(t,e),s.push(t+Math.sin(_)*m,e+Math.cos(_)*m);s.push(t,e),s.push(n,o)}else{for(s.push(i,r),s.push(t,e),g=1,_=d;g<y;g++,_+=v)s.push(t+Math.sin(_)*m,e+Math.cos(_)*m),s.push(t,e);s.push(n,o),s.push(t,e)}return 2*y}function rn(t,e){t.lineStyle.native?function(t,e){var i=0,r=t.shape,n=t.points||r.points,o=r.type!==_t.POLY||r.closeStroke;if(0!==n.length){var s=e.points,a=e.indices,h=n.length/2,u=s.length/2,l=u;for(s.push(n[0],n[1]),i=1;i<h;i++)s.push(n[2*i],n[2*i+1]),a.push(l,l+1),l++;o&&a.push(l,u)}}(t,e):function(t,e){var i=t.shape,r=t.points||i.points.slice(),n=e.closePointEps;if(0!==r.length){var o=t.lineStyle,s=new St(r[0],r[1]),a=new St(r[r.length-2],r[r.length-1]),h=i.type!==_t.POLY||i.closeStroke,u=Math.abs(s.x-a.x)<n&&Math.abs(s.y-a.y)<n;if(h){r=r.slice(),u&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));var l=.5*(s.x+a.x),c=.5*(a.y+s.y);r.unshift(l,c),r.push(l,c)}var d=e.points,p=r.length/2,f=r.length,m=d.length/2,y=o.width/2,v=y*y,g=o.miterLimit*o.miterLimit,_=r[0],x=r[1],b=r[2],T=r[3],E=0,w=0,O=-(x-T),A=_-b,P=0,S=0,I=Math.sqrt(O*O+A*A);O/=I,A/=I,O*=y,A*=y;var C=o.alignment,M=2*(1-C),D=2*C;h||(o.cap===Xr.ROUND?f+=en(_-O*(M-D)*.5,x-A*(M-D)*.5,_-O*M,x-A*M,_+O*D,x+A*D,d,!0)+2:o.cap===Xr.SQUARE&&(f+=tn(_,x,O,A,M,D,!0,d))),d.push(_-O*M,x-A*M),d.push(_+O*D,x+A*D);for(var R=1;R<p-1;++R){_=r[2*(R-1)],x=r[2*(R-1)+1],b=r[2*R],T=r[2*R+1],E=r[2*(R+1)],w=r[2*(R+1)+1],O=-(x-T),A=_-b,O/=I=Math.sqrt(O*O+A*A),A/=I,O*=y,A*=y,P=-(T-w),S=b-E,P/=I=Math.sqrt(P*P+S*S),S/=I,P*=y,S*=y;var N=b-_,L=x-T,F=b-E,U=w-T,B=L*F-U*N,k=B<0;if(Math.abs(B)<.1)d.push(b-O*M,T-A*M),d.push(b+O*D,T+A*D);else{var j=(-O+_)*(-A+T)-(-O+b)*(-A+x),H=(-P+E)*(-S+T)-(-P+b)*(-S+w),X=(N*H-F*j)/B,G=(U*j-L*H)/B,z=(X-b)*(X-b)+(G-T)*(G-T),Y=b+(X-b)*M,V=T+(G-T)*M,W=b-(X-b)*D,q=T-(G-T)*D;o.join===Hr.BEVEL||z/v>g?(k?(d.push(Y,V),d.push(b+O*D,T+A*D),d.push(Y,V),d.push(b+P*D,T+S*D)):(d.push(b-O*M,T-A*M),d.push(W,q),d.push(b-P*M,T-S*M),d.push(W,q)),f+=2):o.join===Hr.ROUND?k?(d.push(Y,V),d.push(b+O*D,T+A*D),f+=en(b,T,b+O*D,T+A*D,b+P*D,T+S*D,d,!0)+4,d.push(Y,V),d.push(b+P*D,T+S*D)):(d.push(b-O*M,T-A*M),d.push(W,q),f+=en(b,T,b-O*M,T-A*M,b-P*M,T-S*M,d,!1)+4,d.push(b-P*M,T-S*M),d.push(W,q)):(d.push(Y,V),d.push(W,q))}}_=r[2*(p-2)],x=r[2*(p-2)+1],b=r[2*(p-1)],O=-(x-(T=r[2*(p-1)+1])),A=_-b,O/=I=Math.sqrt(O*O+A*A),A/=I,O*=y,A*=y,d.push(b-O*M,T-A*M),d.push(b+O*D,T+A*D),h||(o.cap===Xr.ROUND?f+=en(b-O*(M-D)*.5,T-A*(M-D)*.5,b-O*M,T-A*M,b+O*D,T+A*D,d,!1)+2:o.cap===Xr.SQUARE&&(f+=tn(b,T,O,A,M,D,!1,d)));var Z=e.indices,K=Yr.epsilon*Yr.epsilon;for(R=m;R<f+m-2;++R)_=d[2*R],x=d[2*R+1],b=d[2*(R+1)],T=d[2*(R+1)+1],E=d[2*(R+2)],w=d[2*(R+2)+1],Math.abs(_*(T-w)+b*(w-x)+E*(x-T))<K||Z.push(R,R+1,R+2)}}(t,e)}var nn,on,sn=function(t){function e(e,i,r,n,o,s){void 0===s&&(s=0),o=o||n/2;for(var a=-1*Math.PI/2+s,h=2*r,u=xt/h,l=[],c=0;c<h;c++){var d=c%2?o:n,p=c*u+a;l.push(e+d*Math.cos(p),i+d*Math.sin(p))}return t.call(this,l)||this}return qr(e,t),e}(At),an=function(){function t(){}return t.curveTo=function(t,e,i,r,n,o){var s=o[o.length-2],a=o[o.length-1]-e,h=s-t,u=r-e,l=i-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var d=a*a+h*h,p=u*u+l*l,f=a*u+h*l,m=n*Math.sqrt(d)/c,y=n*Math.sqrt(p)/c,v=m*f/d,g=y*f/p,_=m*l+y*h,x=m*u+y*a,b=h*(y+v),T=a*(y+v),E=l*(m+g),w=u*(m+g);return{cx:_+t,cy:x+e,radius:n,startAngle:Math.atan2(T-x,b-_),endAngle:Math.atan2(w-x,E-_),anticlockwise:h*u>l*a}},t.arc=function(t,e,i,r,n,o,s,a,h){for(var u=s-o,l=Yr._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/xt)),c=u/(2*l),d=2*c,p=Math.cos(c),f=Math.sin(c),m=l-1,y=m%1/m,v=0;v<=m;++v){var g=c+o+d*(v+y*v),_=Math.cos(g),x=-Math.sin(g);h.push((p*_+f*x)*n+i,(p*-x+f*_)*n+r)}},t}(),hn=function(){function t(){}return t.curveLength=function(t,e,i,r,n,o,s,a){for(var h=0,u=0,l=0,c=0,d=0,p=0,f=0,m=0,y=0,v=0,g=0,_=t,x=e,b=1;b<=10;++b)v=_-(m=(f=(p=(d=1-(u=b/10))*d)*d)*t+3*p*u*i+3*d*(l=u*u)*n+(c=l*u)*s),g=x-(y=f*e+3*p*u*r+3*d*l*o+c*a),_=m,x=y,h+=Math.sqrt(v*v+g*g);return h},t.curveTo=function(e,i,r,n,o,s,a){var h=a[a.length-2],u=a[a.length-1];a.length-=2;var l=Yr._segmentsCount(t.curveLength(h,u,e,i,r,n,o,s)),c=0,d=0,p=0,f=0,m=0;a.push(h,u);for(var y=1,v=0;y<=l;++y)p=(d=(c=1-(v=y/l))*c)*c,m=(f=v*v)*v,a.push(p*h+3*d*v*e+3*c*f*r+m*o,p*u+3*d*v*i+3*c*f*n+m*s)},t}(),un=function(){function t(){}return t.curveLength=function(t,e,i,r,n,o){var s=t-2*i+n,a=e-2*r+o,h=2*i-2*t,u=2*r-2*e,l=4*(s*s+a*a),c=4*(s*h+a*u),d=h*h+u*u,p=2*Math.sqrt(l+c+d),f=Math.sqrt(l),m=2*l*f,y=2*Math.sqrt(d),v=c/f;return(m*p+f*c*(p-y)+(4*d*l-c*c)*Math.log((2*f+v+p)/(v+y)))/(4*m)},t.curveTo=function(e,i,r,n,o){for(var s=o[o.length-2],a=o[o.length-1],h=Yr._segmentsCount(t.curveLength(s,a,e,i,r,n)),u=0,l=0,c=1;c<=h;++c){var d=c/h;u=s+(e-s)*d,l=a+(i-a)*d,o.push(u+(e+(r-e)*d-u)*d,l+(i+(n-i)*d-l)*d)}},t}(),ln=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),cn=((nn={})[_t.POLY]=Zr,nn[_t.CIRC]=Kr,nn[_t.ELIP]=Kr,nn[_t.RECT]={build:function(t){var e=t.shape,i=e.x,r=e.y,n=e.width,o=e.height,s=t.points;s.length=0,s.push(i,r,i+n,r,i+n,r+o,i,r+o)},triangulate:function(t,e){var i=t.points,r=e.points,n=r.length/2;r.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},nn[_t.RREC]=$r,nn),dn=[],pn=[],fn=function(){function t(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type,this.points=[],this.holes=[]}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),mn=new St,yn=new jt,vn=function(t){function e(){var e=t.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new jt,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return qr(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),pn.push(this.drawCalls[t]);for(this.drawCalls.length=0,t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),dn.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null);var n=new fn(t,e,i,r);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var i=new fn(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=r.lineStyle,r.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,i=0;i<e.length;++i){var r=e[i];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,mn):mn.copyFrom(t),r.shape.contains(mn.x,mn.y))){var n=!1;if(r.holes)for(var o=0;o<r.holes.length;o++)if(r.holes[o].shape.contains(mn.x,mn.y)){n=!0;break}if(!n)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,i=this.graphicsData,r=null,n=null;this.batches.length>0&&(n=(r=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<i.length;o++){this.shapeIndex++;var s=i[o],a=s.fillStyle,h=s.lineStyle;cn[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix);for(var u=0;u<2;u++){var l=0===u?a:h;if(l.visible){var c=l.texture.baseTexture,d=this.indices.length,p=this.points.length/2;c.wrapMode=g.REPEAT,0===u?this.processFill(s):this.processLine(s);var f=this.points.length/2-p;0!==f&&(r&&!this._compareStyles(n,l)&&(r.end(d,p),r=null),r||((r=dn.pop()||new ln).begin(l,d,p),this.batches.push(r),n=l),this.addUvs(this.points,e,l.texture,p,f,l.matrix))}}}var m=this.indices.length,y=this.points.length/2;if(r&&r.end(m,y),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var v=y>65535&&t;this.indicesUint16=v?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&t.texture.baseTexture===e.texture.baseTexture&&t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var i=this.graphicsData[t],r=i.fillStyle,n=i.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,i=t.length;e<i;e++)for(var r=t[e],n=0;n<r.size;n++){var o=r.start+n;this.indicesUint16[o]=this.indicesUint16[o]-r.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,i=0;i<t.length;i++)if(t[i].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++fe._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),pn.push(this.drawCalls[e]);this.drawCalls.length=0;var i=this.colors,r=this.textureIds,n=pn.pop();n||((n=new er).texArray=new ir),n.texArray.count=0,n.start=0,n.size=0,n.type=p.TRIANGLES;var o=0,s=null,a=0,h=!1,u=p.TRIANGLES,l=0;for(this.drawCalls.push(n),e=0;e<this.batches.length;e++){var c=this.batches[e],d=c.style,f=d.texture.baseTexture;h!==!!d.native&&(u=(h=!!d.native)?p.LINES:p.TRIANGLES,s=null,o=8,t++),s!==f&&(s=f,f._batchEnabled!==t&&(8===o&&(t++,o=0,n.size>0&&((n=pn.pop())||((n=new er).texArray=new ir),this.drawCalls.push(n)),n.start=l,n.size=0,n.texArray.count=0,n.type=u),f.touched=1,f._batchEnabled=t,f._batchLocation=o,f.wrapMode=10497,n.texArray.elements[n.texArray.count++]=f,o++)),n.size+=c.size,l+=c.size,a=f._batchLocation,this.addColors(i,d.color,d.alpha,c.attribSize),this.addTextureIds(r,a,c.attribSize)}fe._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,i=this.colors,r=this.textureIds,n=new ArrayBuffer(3*t.length*4),o=new Float32Array(n),s=new Uint32Array(n),a=0,h=0;h<t.length/2;h++)o[a++]=t[2*h],o[a++]=t[2*h+1],o[a++]=e[2*h],o[a++]=e[2*h+1],s[a++]=i[h],o[a++]=r[h];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),Zr.triangulate(t,this)):cn[t.type].triangulate(t,this)},e.prototype.processLine=function(t){rn(t,this);for(var e=0;e<t.holes.length;e++)rn(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var i=t[e];cn[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=yn,i=Ct.IDENTITY;this._bounds.clear(),e.clear();for(var r=0;r<this.graphicsData.length;r++){var n=this.graphicsData[r],o=n.shape,s=n.type,a=n.lineStyle,h=n.matrix||Ct.IDENTITY,u=0;if(a&&a.visible){var l=a.alignment;u=a.width,s===_t.POLY?u*=.5+Math.abs(.5-l):u*=Math.max(0,l)}if(i!==h&&(e.isEmpty()||(t.addBoundsMatrix(e,i),e.clear()),i=h),s===_t.RECT||s===_t.RREC){var c=o;e.addFramePad(c.x,c.y,c.x+c.width,c.y+c.height,u,u)}else if(s===_t.CIRC){var d=o;e.addFramePad(d.x,d.y,d.x,d.y,d.radius+u,d.radius+u)}else if(s===_t.ELIP){var p=o;e.addFramePad(p.x,p.y,p.x,p.y,p.width+u,p.height+u)}else{var f=o;t.addVerticesMatrix(i,f.points,0,f.points.length,u,u)}}e.isEmpty()||t.addBoundsMatrix(e,i),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var i=0;i<t.length/2;i++){var r=t[2*i],n=t[2*i+1];t[2*i]=e.a*r+e.c*n+e.tx,t[2*i+1]=e.b*r+e.d*n+e.ty}},e.prototype.addColors=function(t,e,i,r){for(var n=it((e>>16)+(65280&e)+((255&e)<<16),i);r-- >0;)t.push(n)},e.prototype.addTextureIds=function(t,e,i){for(;i-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,i,r,n,o){void 0===o&&(o=null);for(var s=0,a=e.length,h=i.frame;s<n;){var u=t[2*(r+s)],l=t[2*(r+s)+1];if(o){var c=o.a*u+o.c*l+o.tx;l=o.b*u+o.d*l+o.ty,u=c}s++,e.push(u/h.width,l/h.height)}var d=i.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,i,a,n)},e.prototype.adjustUvs=function(t,e,i,r){for(var n=e.baseTexture,o=1e-6,s=i+2*r,a=e.frame,h=a.width/n.width,u=a.height/n.height,l=a.x/a.width,c=a.y/a.height,d=Math.floor(t[i]+o),p=Math.floor(t[i+1]+o),f=i+2;f<s;f+=2)d=Math.min(d,Math.floor(t[f]+o)),p=Math.min(p,Math.floor(t[f+1]+o));for(l-=d,c-=p,f=i;f<s;f+=2)t[f]=(t[f]+l)*h,t[f+1]=(t[f+1]+c)*u},e.BATCHABLE_SIZE=100,e}(sr),gn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=Xr.BUTT,e.join=Hr.MITER,e.miterLimit=10,e}return qr(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(Vr),_n=new Float32Array(3),xn={},bn=function(t){function e(e){void 0===e&&(e=null);var i=t.call(this)||this;return i._geometry=e||new vn,i._geometry.refCount++,i.shader=null,i.state=Ci.for2d(),i._fillStyle=new Vr,i._lineStyle=new gn,i._matrix=null,i._holeMode=!1,i.currentPath=null,i.batches=[],i.batchTint=-1,i.batchDirty=-1,i.vertexData=null,i.pluginName="batch",i._transformID=-1,i.tint=16777215,i.blendMode=d.NORMAL,i}return qr(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t){if(void 0===t&&(t=null),"number"==typeof t){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){if("number"==typeof t){dt("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var e=arguments,i=e[0],r=e[1],n=e[2],o=e[3],s=e[4],a=e[5],h=e[6];t={width:i,texture:r,color:n,alpha:o,matrix:s,alignment:a,native:h},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({width:0,texture:Ce.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Xr.BUTT,join:Hr.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var u=t.width>0&&t.alpha>0;return u?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:u},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new At,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new At,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,r=i[i.length-2],n=i[i.length-1];return r===t&&n===e||i.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,i,r){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),un.curveTo(t,e,i,r,n),this},e.prototype.bezierCurveTo=function(t,e,i,r,n,o){return this._initCurve(),hn.curveTo(t,e,i,r,n,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,i,r,n){this._initCurve(t,e);var o=this.currentPath.points,s=an.curveTo(t,e,i,r,n,o);if(s){var a=s.cx,h=s.cy,u=s.radius,l=s.startAngle,c=s.endAngle,d=s.anticlockwise;this.arc(a,h,u,l,c,d)}return this},e.prototype.arc=function(t,e,i,r,n,o){if(void 0===o&&(o=!1),r===n)return this;if(!o&&n<=r?n+=xt:o&&r<=n&&(r+=xt),0==n-r)return this;var s=t+Math.cos(r)*i,a=e+Math.sin(r)*i,h=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var l=Math.abs(u[u.length-2]-s),c=Math.abs(u[u.length-1]-a);l<h&&c<h||u.push(s,a)}else this.moveTo(s,a),u=this.currentPath.points;return an.arc(s,a,t,e,i,r,n,o,u),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:Ce.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){if(t instanceof Ce){dt("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments,i=e[0],r=e[1],n=e[2],o=e[3];t={texture:i,color:r,alpha:n,matrix:o},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({texture:Ce.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var s=t.alpha>0;return s?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:s},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,i,r){return this.drawShape(new Et(t,e,i,r))},e.prototype.drawRoundedRect=function(t,e,i,r,n){return this.drawShape(new Pt(t,e,i,r,n))},e.prototype.drawCircle=function(t,e,i){return this.drawShape(new wt(t,e,i))},e.prototype.drawEllipse=function(t,e,i,r){return this.drawShape(new Ot(t,e,i,r))},e.prototype.drawPolygon=function(){for(var t,e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];var n=!0,o=i[0];o.points?(n=o.closeStroke,t=o.points):t=Array.isArray(i[0])?i[0]:i;var s=new At(t);return s.closeStroke=n,this.drawShape(s),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,i,r,n,o){return void 0===o&&(o=0),this.drawPolygon(new sn(t,e,i,r,n,o))},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===_t.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry,i=t.context.supports.uint32Indices;e.updateBatches(i),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,i=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(t.points);for(var r=0;r<i;r++){var n=t.batches[r],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:J(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=h}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,i=this.batches.length;e<i;e++){var r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),i=this._geometry,r=this.tint,n=this.worldAlpha,o=e.uniforms,s=i.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(r>>16&255)/255*n,o.tint[1]=(r>>8&255)/255*n,o.tint[2]=(255&r)/255*n,o.tint[3]=n,t.shader.bind(e),t.geometry.bind(i,e),t.state.set(this.state);for(var a=0,h=s.length;a<h;a++)this._renderDrawCallDirect(t,i.drawCalls[a])},e.prototype._renderDrawCallDirect=function(t,e){for(var i=e.texArray,r=e.type,n=e.size,o=e.start,s=i.count,a=0;a<s;a++)t.texture.bind(i.elements[a],a);t.geometry.draw(r,n,o)},e.prototype._resolveDirectShader=function(t){var e=this.shader,i=this.pluginName;if(!e){if(!xn[i]){for(var r=new Int32Array(16),n=0;n<16;n++)r[n]=n;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ct,default:Ve.from({uSamplers:r},!0)},s=t.plugins[i]._shader.program;xn[i]=new Ii(s,o)}e=xn[i]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,i=e.minX,r=e.minY,n=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,i,r,n,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=J(this.tint,_n),e=0;e<this.batches.length;e++){var i=this.batches[e],r=i._batchRGB,n=(t[0]*r[0]*255<<16)+(t[1]*r[1]*255<<8)+(0|t[2]*r[2]*255);i._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this._geometry.points,u=this.vertexData,l=0,c=0;c<h.length;c+=2){var d=h[c],p=h[c+1];u[l++]=i*d+n*p+s,u[l++]=o*p+r*d+a}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e._TEMP_POINT=new St,e}(Vt),Tn=function(t,e){return(Tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},En=new St,wn=new Uint16Array([0,1,2,0,2,3]),On=function(t){function e(e){var i=t.call(this)||this;return i._anchor=new It(i._onAnchorUpdate,i,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=d.NORMAL,i._cachedTint=16777215,i.uvs=null,i.texture=e||Ce.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.indices=wn,i.pluginName="batch",i.isSprite=!0,i._roundPixels=G.ROUND_PIXELS,i}return function(t,e){function i(){this.constructor=t}Tn(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ht(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ht(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,d=0,p=0,f=0,m=0;if(u?(d=(p=u.x-c._x*l.width)+u.width,f=(m=u.y-c._y*l.height)+u.height):(d=(p=-c._x*l.width)+l.width,f=(m=-c._y*l.height)+l.height),h[0]=i*p+n*m+s,h[1]=o*m+r*p+a,h[2]=i*d+n*m+s,h[3]=o*m+r*d+a,h[4]=i*d+n*f+s,h[5]=o*f+r*d+a,h[6]=i*p+n*f+s,h[7]=o*f+r*p+a,this._roundPixels)for(var y=G.RESOLUTION,v=0;v<h.length;++v)h[v]=Math.round((h[v]*y|0)/y)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,r=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=-r._x*i.width,d=c+i.width,p=-r._y*i.height,f=p+i.height;e[0]=o*c+a*p+u,e[1]=h*p+s*c+l,e[2]=o*d+a*p+u,e[3]=h*p+s*d+l,e[4]=o*d+a*f+u,e[5]=h*f+s*d+l,e[6]=o*c+a*f+u,e[7]=h*f+s*c+l},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Et),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,En);var e=this._texture.orig.width,i=this._texture.orig.height,r=-e*this.anchor.x,n=0;return En.x>=r&&En.x<r+e&&(n=-i*this.anchor.y,En.y>=n&&En.y<n+i)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var i="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(t,i){return new e(t instanceof Ce?t:Ce.from(t,i))},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=ht(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=ht(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||Ce.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Vt),An=function(t,e){return(An=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(on||(on={}));var Pn={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:on.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Sn=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],In=function(){function t(t){this.styleID=0,this.reset(),Dn(this,t,t)}return t.prototype.clone=function(){var e={};return Dn(e,this,Pn),new t(e)},t.prototype.reset=function(){Dn(this,Pn,Pn)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=Mn(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=Mn(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=Mn(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&Sn.indexOf(r)<0&&(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function Cn(t){return"number"==typeof t?Q(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function Mn(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=Cn(t[e]);return t}return Cn(t)}function Dn(t,e,i){for(var r in i)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}var Rn=function(){function t(t,e,i,r,n,o,s,a,h){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h}return t.measureText=function(e,i,r,n){void 0===n&&(n=t._canvas),r=null==r?i.wordWrap:r;var o=i.toFontString(),s=t.measureFont(o);0===s.fontSize&&(s.fontSize=i.fontSize,s.ascent=i.fontSize);var a=n.getContext("2d");a.font=o;for(var h=(r?t.wordWrap(e,i,n):e).split(/(?:\r\n|\r|\n)/),u=new Array(h.length),l=0,c=0;c<h.length;c++){var d=a.measureText(h[c]).width+(h[c].length-1)*i.letterSpacing;u[c]=d,l=Math.max(l,d)}var p=l+i.strokeThickness;i.dropShadow&&(p+=i.dropShadowDistance);var f=i.lineHeight||s.fontSize+i.strokeThickness,m=Math.max(f,s.fontSize+i.strokeThickness)+(h.length-1)*(f+i.leading);return i.dropShadow&&(m+=i.dropShadowDistance),new t(e,i,p,m,h,u,f+i.leading,l,s)},t.wordWrap=function(e,i,r){void 0===r&&(r=t._canvas);for(var n=r.getContext("2d"),o=0,s="",a="",h={},u=i.letterSpacing,l=i.whiteSpace,c=t.collapseSpaces(l),d=t.collapseNewlines(l),p=!c,f=i.wordWrapWidth+u,m=t.tokenize(e),y=0;y<m.length;y++){var v=m[y];if(t.isNewline(v)){if(!d){a+=t.addLine(s),p=!c,s="",o=0;continue}v=" "}if(c){var g=t.isBreakingSpace(v),_=t.isBreakingSpace(s[s.length-1]);if(g&&_)continue}var x=t.getFromCache(v,u,h,n);if(x>f)if(""!==s&&(a+=t.addLine(s),s="",o=0),t.canBreakWords(v,i.breakWords))for(var b=t.wordWrapSplit(v),T=0;T<b.length;T++){for(var E=b[T],w=1;b[T+w];){var O=b[T+w],A=E[E.length-1];if(t.canBreakChars(A,O,v,T,i.breakWords))break;E+=O,w++}T+=E.length-1;var P=t.getFromCache(E,u,h,n);P+o>f&&(a+=t.addLine(s),p=!1,s="",o=0),s+=E,o+=P}else{s.length>0&&(a+=t.addLine(s),s="",o=0);var S=y===m.length-1;a+=t.addLine(v,!S),p=!1,s="",o=0}else x+o>f&&(p=!1,a+=t.addLine(s),s="",o=0),(s.length>0||!t.isBreakingSpace(v)||p)&&(s+=v,o+=x)}return a+t.addLine(s,!1)},t.addLine=function(e,i){return void 0===i&&(i=!0),e=t.trimRight(e),i?e+"\n":e},t.getFromCache=function(t,e,i,r){var n=i[t];if(void 0===n){var o=t.length*e;n=r.measureText(t).width+o,i[t]=n}return n},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var i=e.length-1;i>=0;i--){var r=e[i];if(!t.isBreakingSpace(r))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var i=[],r="";if("string"!=typeof e)return i;for(var n=0;n<e.length;n++){var o=e[n];t.isBreakingSpace(o)||t.isNewline(o)?(""!==r&&(i.push(r),r=""),i.push(o)):r+=o}return""!==r&&i.push(r),i},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,i,r,n){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var i={ascent:0,descent:0,fontSize:0},r=t._canvas,n=t._context;n.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(n.measureText(o).width),a=Math.ceil(n.measureText(t.BASELINE_SYMBOL).width),h=2*a;a=a*t.BASELINE_MULTIPLIER|0,r.width=s,r.height=h,n.fillStyle="#f00",n.fillRect(0,0,s,h),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(o,0,a);var u=n.getImageData(0,0,s,h).data,l=u.length,c=4*s,d=0,p=0,f=!1;for(d=0;d<a;++d){for(var m=0;m<c;m+=4)if(255!==u[p+m]){f=!0;break}if(f)break;p+=c}for(i.ascent=a-d,p=l-c,f=!1,d=h;d>a;--d){for(m=0;m<c;m+=4)if(255!==u[p+m]){f=!0;break}if(f)break;p-=c}return i.descent=d-a,i.fontSize=i.ascent+i.descent,t._fonts[e]=i,i},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),Nn=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();Nn.width=Nn.height=10,Rn._canvas=Nn,Rn._context=Nn.getContext("2d"),Rn._fonts={},Rn.METRICS_STRING="|q",Rn.BASELINE_SYMBOL="M",Rn.BASELINE_MULTIPLIER=1.4,Rn._newlines=[10,13],Rn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Ln={texture:!0,children:!1,baseTexture:!0},Fn=function(t){function e(e,i,r){var n=this,o=!1;r||(r=document.createElement("canvas"),o=!0),r.width=3,r.height=3;var s=Ce.from(r);return s.orig=new Et,s.trim=new Et,(n=t.call(this,s)||this)._ownCanvas=o,n.canvas=r,n.context=n.canvas.getContext("2d"),n._resolution=G.RESOLUTION,n._autoResolution=!0,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=e,n.style=i,n.localStyleID=-1,n}return function(t,e){function i(){this.constructor=t}An(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,r,n=this.context,o=Rn.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,h=o.lines,u=o.lineHeight,l=o.lineWidths,c=o.maxLineWidth,d=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,f=0;f<p;++f){var m=e.dropShadow&&0===f,y=m?2*a:0,v=y*this.resolution;if(m){n.fillStyle="black",n.strokeStyle="black";var g=e.dropShadowColor,_=J("number"==typeof g?g:$(g));n.shadowColor="rgba("+255*_[0]+","+255*_[1]+","+255*_[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+v}else n.fillStyle=this._generateFillStyle(e,h,o),n.strokeStyle=e.stroke,n.shadowColor="0",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var x=0;x<h.length;x++)i=e.strokeThickness/2,r=e.strokeThickness/2+x*u+d.ascent,"right"===e.align?i+=c-l[x]:"center"===e.align&&(i+=(c-l[x])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(h[x],i+e.padding,r+e.padding-y,!0),e.fill&&this.drawLetterSpacing(h[x],i+e.padding,r+e.padding-y)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,i,r){void 0===r&&(r=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=this.context.measureText(t).width,h=0,u=0;u<s.length;++u){var l=s[u];r?this.context.strokeText(l,o,i):this.context.fillText(l,o,i),o+=a-(h=this.context.measureText(t.substring(u+1)).width)+n,a=h}else r?this.context.strokeText(t,e,i):this.context.fillText(t,e,i)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=function(t){var e,i,r,n=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,n,o).data,h=a.length,u={top:null,left:null,right:null,bottom:null},l=null;for(e=0;e<h;e+=4)0!==a[e+3]&&(i=e/4%n,r=~~(e/4/n),null===u.top&&(u.top=r),(null===u.left||i<u.left)&&(u.left=i),(null===u.right||u.right<i)&&(u.right=i+1),(null===u.bottom||u.bottom<r)&&(u.bottom=r));return null!==u.top&&(n=u.right-u.left,o=u.bottom-u.top+1,l=s.getImageData(u.left,u.top,n,o)),{height:o,width:n,data:l}}(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var i=this._texture,r=this._style,n=r.trim?0:r.padding,o=i.baseTexture;i.trim.width=i._frame.width=Math.ceil(t.width/this._resolution),i.trim.height=i._frame.height=Math.ceil(t.height/this._resolution),i.trim.x=-n,i.trim.y=-n,i.orig.width=i._frame.width-2*n,i.orig.height=i._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,i){var r,n=t.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];var o=t.dropShadow?t.dropShadowDistance:0,s=t.padding||0,a=Math.ceil(this.canvas.width/this._resolution)-o-2*s,h=Math.ceil(this.canvas.height/this._resolution)-o-2*s,u=n.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var c=u.length+1,d=1;d<c;++d)l.push(d/c);if(u.unshift(n[0]),l.unshift(0),u.push(n[n.length-1]),l.push(1),t.fillGradientType===on.LINEAR_VERTICAL){r=this.context.createLinearGradient(a/2,s,a/2,h+s);var p=0,f=(i.fontProperties.fontSize+t.strokeThickness)/h;for(d=0;d<e.length;d++)for(var m=i.lineHeight*d,y=0;y<u.length;y++){var v=m/h+("number"==typeof l[y]?l[y]:y/u.length)*f,g=Math.max(p,v);g=Math.min(g,1),r.addColorStop(g,u[y]),p=g}}else{r=this.context.createLinearGradient(s,h/2,a+s,h/2);var _=u.length+1,x=1;for(d=0;d<u.length;d++){var b;b="number"==typeof l[d]?l[d]:x/_,r.addColorStop(b,u[d]),x++}}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},Ln,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=ht(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=ht(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof In?t:new In(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e}(On);G.UPLOADS_PER_FRAME=4;var Un=function(t,e){return(Un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},Bn=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function kn(t,e){var i=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof Ce){var n=t._textures[r].baseTexture;-1===e.indexOf(n)&&(e.push(n),i=!0)}return i}function jn(t,e){if(t.baseTexture instanceof fe){var i=t.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function Hn(t,e){if(t._texture&&t._texture instanceof Ce){var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function Xn(t,e){return e instanceof Fn&&(e.updateText(!0),!0)}function Gn(t,e){if(e instanceof In){var i=e.toFontString();return Rn.measureFont(i),!0}return!1}function zn(t,e){if(t instanceof Fn){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function Yn(t,e){return t instanceof In&&(-1===e.indexOf(t)&&e.push(t),!0)}function Vn(t,e){return e instanceof fe&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function Wn(t,e){if(!(e instanceof bn))return!1;var i=e.geometry;e.finishPoly(),i.updateBatches();for(var r=i.batches,n=0;n<r.length;n++){var o=r[n].style.texture;o&&Vn(t,o.baseTexture)}return i.batchable||t.geometry.bind(i,e._resolveDirectShader(t)),!0}function qn(t,e){return t instanceof bn&&(e.push(t),!0)}var Zn=function(t){function e(e){var i=t.call(this,e)||this;return i.uploadHookHelper=i.renderer,i.registerFindHook(qn),i.registerUploadHook(Vn),i.registerUploadHook(Wn),i}return function(t,e){function i(){this.constructor=t}Un(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e}(function(){function t(t){var e=this;this.limiter=new Bn(G.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(zn),this.registerFindHook(Yn),this.registerFindHook(kn),this.registerFindHook(jn),this.registerFindHook(Hn),this.registerUploadHook(Xn),this.registerUploadHook(Gn)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Kt.system.addOnce(this.tick,this,Wt.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)Kt.system.addOnce(this.tick,this,Wt.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);for(this.completes.length=0,i=0,r=n.length;i<r;i++)n[i]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Vt)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&Kt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}()),Kn=(function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds}}(),function(){function t(t,e,i){void 0===i&&(i=null),this._texture=t instanceof Ce?t:null,this.baseTexture=t instanceof fe?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var r=this.baseTexture.resource;this.resolution=this._updateResolution(i||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,i=gt(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&this.baseTexture.setResolution(i),i},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var i=e,r=t.BATCH_SIZE;i-e<r&&i<this._frameKeys.length;){var n=this._frameKeys[i],o=this._frames[n],s=o.frame;if(s){var a,h=null,u=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,l=new Et(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);a=o.rotated?new Et(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new Et(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(h=new Et(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new Ce(this.baseTexture,a,l,h,o.rotated?2:0,o.anchor),Ce.addToCache(this.textures[n],n)}i++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var i=0;i<t[e].length;i++){var r=t[e][i];this.animations[e].push(this.textures[r])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(t){var e;for(var i in void 0===t&&(t=!1),this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}()),Jn=function(){function t(){}return t.use=function(e,i){var r=this,n=e.name+"_image";if(e.data&&e.type===Nr.TYPE.JSON&&e.data.frames&&!r.resources[n]){var o={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},s=t.getResourcePath(e,r.baseUrl);r.add(n,s,o,(function(t){if(t.error)i(t.error);else{var r=new Kn(t.texture,e.data,e.url);r.parse((function(){e.spritesheet=r,e.textures=r.textures,i()}))}}))}else i()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:q.resolve(t.url.replace(e,""),t.data.meta.image)},t}(),Qn=function(t,e){return(Qn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function $n(t,e){function i(){this.constructor=t}Qn(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var to=new St,eo=(function(t){function e(e,i,r){void 0===i&&(i=100),void 0===r&&(r=100);var n=t.call(this,e)||this;return n.tileTransform=new kt,n._width=i,n._height=r,n.uvMatrix=e.uvMatrix||new Ri(e),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n}$n(e,t),Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,r)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Et),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,to);var e=this._width,i=this._height,r=-e*this.anchor._x;if(to.x>=r&&to.x<r+e){var n=-i*this.anchor._y;if(to.y>=n&&to.y<n+i)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,i){return"number"==typeof i&&(dt("5.3.0","TilingSprite.from use options instead of width and height args"),i={width:i,height:arguments[2]}),new e(Ce.from(t,i),i.width,i.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0})}(On),"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"),io=new Ct,ro=function(t){function e(e){var i=t.call(this,e)||this,r={globals:i.renderer.globalUniforms};return i.shader=Ii.from(eo,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord - floor(vTextureCoord - uClampOffset);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",r),i.simpleShader=Ii.from(eo,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",r),i.quad=new ze,i.state=Ci.for2d(),i}return $n(e,t),e.prototype.render=function(t){var e=this.renderer,i=this.quad,r=i.vertices;r[0]=r[6]=t._width*-t.anchor.x,r[1]=r[3]=t._height*-t.anchor.y,r[2]=r[4]=t._width*(1-t.anchor.x),r[5]=r[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((r=i.uvs)[0]=r[6]=-t.anchor.x,r[1]=r[3]=-t.anchor.y,r[2]=r[4]=1-t.anchor.x,r[5]=r[7]=1-t.anchor.y),i.invalidate();var n=t._texture,o=n.baseTexture,s=t.tileTransform.localTransform,a=t.uvMatrix,h=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;h&&(o._glTextures[e.CONTEXT_UID]?h=o.wrapMode!==g.CLAMP:o.wrapMode===g.CLAMP&&(o.wrapMode=g.REPEAT));var u=h?this.simpleShader:this.shader,l=n.width,c=n.height,d=t._width,p=t._height;io.set(s.a*l/d,s.b*l/p,s.c*c/d,s.d*c/p,s.tx/d,s.ty/p),io.invert(),h?io.prepend(a.mapCoord):(u.uniforms.uMapCoord=a.mapCoord.toArray(!0),u.uniforms.uClampFrame=a.uClampFrame,u.uniforms.uClampOffset=a.uClampOffset),u.uniforms.uTransform=io.toArray(!0),u.uniforms.uColor=rt(t.tint,t.worldAlpha,u.uniforms.uColor,o.alphaMode),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.uSampler=n,e.shader.bind(u),e.geometry.bind(i),this.state.blendMode=et(t.blendMode,o.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Ze),no=function(t,e){return(no=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function oo(t,e){function i(){this.constructor=t}no(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var so=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),ao=new St,ho=new At,uo=function(t){function e(e,i,r,n){void 0===n&&(n=p.TRIANGLES);var o=t.call(this)||this;return o.geometry=e,e.refCount++,o.shader=i,o.state=r||Ci.for2d(),o.drawMode=n,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=0,o._transformID=-1,o.tint=16777215,o.blendMode=d.NORMAL,o._roundPixels=G.ROUND_PIXELS,o.batchUvs=null,o}return oo(e,t),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var i=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===p.TRIANGLES&&i.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var i=this.transform.worldTransform,r=i.a,n=i.b,o=i.c,s=i.d,a=i.tx,h=i.ty,u=this.vertexData,l=0;l<u.length/2;l++){var c=e[2*l],d=e[2*l+1];u[2*l]=r*c+o*d+a,u[2*l+1]=n*c+s*d+h}if(this._roundPixels){var p=G.RESOLUTION;for(l=0;l<u.length;++l)u[l]=Math.round((u[l]*p|0)/p)}this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new so(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,ao);for(var e=this.geometry.getBuffer("aVertexPosition").data,i=ho.points,r=this.geometry.getIndex().data,n=r.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*r[s],h=2*r[s+1],u=2*r[s+2];if(i[0]=e[a],i[1]=e[a+1],i[2]=e[h],i[3]=e[h+1],i[4]=e[u],i[5]=e[u+1],ho.contains(ao.x,ao.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Vt),lo=function(t){function e(e,i){var r=this,n={uSampler:e,alpha:1,uTextureMatrix:Ct.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i)).uniforms&&Object.assign(n,i.uniforms),(r=t.call(this,i.program||Si.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),n)||this)._colorDirty=!1,r.uvMatrix=new Ri(e),r.batchable=void 0===i.program,r.pluginName=i.pluginName,r.tint=i.tint,r.alpha=i.alpha,r}return oo(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;rt(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(Ii),co=function(t){function e(e,i,r){var n=t.call(this)||this,o=new Fe(e),s=new Fe(i,!0),a=new Fe(r,!0,!0);return n.addAttribute("aVertexPosition",o,2,!1,y.FLOAT).addAttribute("aTextureCoord",s,2,!1,y.FLOAT).addIndex(a),n._updateId=-1,n}return oo(e,t),Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(Xe),po=function(t,e){return(po=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},fo=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},mo=[function(){function t(){}return t.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[]};for(var r in e){var n=e[r].match(/^[a-z]+/gm)[0],o=e[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var a in o){var h=o[a].split("="),u=h[0],l=h[1].replace(/"/gm,""),c=parseFloat(l),d=isNaN(c)?l:c;s[u]=d}i[n].push(s)}var p=new fo;return i.info.forEach((function(t){return p.info.push({face:t.face,size:parseInt(t.size,10)})})),i.common.forEach((function(t){return p.common.push({lineHeight:parseInt(t.lineHeight,10)})})),i.page.forEach((function(t){return p.page.push({id:parseInt(t.id,10),file:t.file})})),i.char.forEach((function(t){return p.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),i.kerning.forEach((function(t){return p.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),p},t}(),function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new fo,i=t.getElementsByTagName("info"),r=t.getElementsByTagName("common"),n=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),a=0;a<i.length;a++)e.info.push({face:i[a].getAttribute("face"),size:parseInt(i[a].getAttribute("size"),10)});for(a=0;a<r.length;a++)e.common.push({lineHeight:parseInt(r[a].getAttribute("lineHeight"),10)});for(a=0;a<n.length;a++)e.page.push({id:parseInt(n[a].getAttribute("id"),10)||0,file:n[a].getAttribute("file")});for(a=0;a<o.length;a++){var h=o[a];e.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(a=0;a<s.length;a++)e.kerning.push({first:parseInt(s[a].getAttribute("first"),10),second:parseInt(s[a].getAttribute("second"),10),amount:parseInt(s[a].getAttribute("amount"),10)});return e},t}()];function yo(t){for(var e=0;e<mo.length;e++)if(mo[e].test(t))return mo[e];return null}function vo(t,e,i,r,n,o){var s,a=i.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var h=i.dropShadow?i.dropShadowDistance:0,u=i.padding||0,l=Math.ceil(t.width/r)-h-2*u,c=Math.ceil(t.height/r)-h-2*u,d=a.slice(),p=i.fillGradientStops.slice();if(!p.length)for(var f=d.length+1,m=1;m<f;++m)p.push(m/f);if(d.unshift(a[0]),p.unshift(0),d.push(a[a.length-1]),p.push(1),i.fillGradientType===on.LINEAR_VERTICAL){s=e.createLinearGradient(l/2,u,l/2,c+u);var y=0,v=(o.fontProperties.fontSize+i.strokeThickness)/c;for(m=0;m<n.length;m++)for(var g=o.lineHeight*m,_=0;_<d.length;_++){var x=g/c+("number"==typeof p[_]?p[_]:_/d.length)*v,b=Math.max(y,x);b=Math.min(b,1),s.addColorStop(b,d[_]),y=b}}else{s=e.createLinearGradient(u,c/2,l+u,c/2);var T=d.length+1,E=1;for(m=0;m<d.length;m++){var w;w="number"==typeof p[m]?p[m]:E/T,s.addColorStop(w,d[m]),E++}}return s}function go(t,e,i,r,n,o,s){var a=i.text,h=i.fontProperties;e.translate(r,n),e.scale(o,o);var u=s.strokeThickness/2,l=-s.strokeThickness/2;e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=vo(t,e,s,o,[a],i),e.strokeStyle=s.stroke,e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=vo(t,e,s,o,[a],i),e.strokeStyle=s.stroke;var c=s.dropShadowColor,d=J("number"==typeof c?c:$(c));s.dropShadow?(e.shadowColor="rgba("+255*d[0]+","+255*d[1]+","+255*d[2]+","+s.dropShadowAlpha+")",e.shadowBlur=s.dropShadowBlur,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*s.dropShadowDistance,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*s.dropShadowDistance):(e.shadowColor="0",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),s.stroke&&s.strokeThickness&&e.strokeText(a,u,l+i.lineHeight-h.descent),s.fill&&e.fillText(a,u,l+i.lineHeight-h.descent),e.setTransform(),e.fillStyle="rgba(0, 0, 0, 0)"}var _o=function(){function t(t,e){var i=t.info[0],r=t.common[0],n=gt(t.page[0].file),o={};this.font=i.face,this.size=i.size,this.lineHeight=r.lineHeight/n,this.chars={},this.pageTextures=o;for(var s=0;s<t.page.length;s++){var a=t.page[s],h=a.id,u=a.file;o[h]=e instanceof Array?e[s]:e[u]}for(s=0;s<t.char.length;s++){var l=t.char[s],c=(h=l.id,l.page),d=t.char[s],p=d.x,f=d.y,m=d.width,y=d.height,v=d.xoffset,g=d.yoffset,_=d.xadvance;f/=n,m/=n,y/=n,v/=n,g/=n,_/=n;var x=new Et((p/=n)+o[c].frame.x/n,f+o[c].frame.y/n,m,y);this.chars[h]={xOffset:v,yOffset:g,xAdvance:_,kerning:{},texture:new Ce(o[c].baseTexture,x),page:c}}for(s=0;s<t.kerning.length;s++){var b=t.kerning[s],T=b.first,E=b.second,w=b.amount;T/=n,E/=n,w/=n,this.chars[E]&&(this.chars[E].kerning[T]=w)}}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,i){var r;if(e instanceof fo)r=e;else{var n=yo(e);if(!n)throw new Error("Unrecognized data format for font.");r=n.parse(e)}i instanceof Ce&&(i=[i]);var o=new t(r,i);return t.available[o.font]=o,o},t.uninstall=function(e){var i=t.available[e];if(!i)throw new Error("No font found named '"+e+"'");i.destroy(),delete t.available[e]},t.from=function(e,i,r){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},t.defaultOptions,r),o=n.chars,s=n.padding,a=n.resolution,h=n.textureWidth,u=n.textureHeight,l=function(t){"string"==typeof t&&(t=[t]);for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var o=n[0].charCodeAt(0),s=n[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,h=s;a<=h;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,n.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(o),c=i instanceof In?i:new In(i),d=h,p=new fo;p.info[0]={face:c.fontFamily,size:c.fontSize},p.common[0]={lineHeight:c.fontSize};for(var f,m,y,v=0,g=0,_=0,x=[],b=0;b<l.length;b++){f||((f=document.createElement("canvas")).width=h,f.height=u,m=f.getContext("2d"),y=new fe(f,{resolution:a}),x.push(new Ce(y)),p.page.push({id:x.length-1,file:""}));var T=Rn.measureText(l[b],c,!1,f),E=T.width,w=Math.ceil(T.height),O=Math.ceil(("italic"===c.fontStyle?2:1)*E);if(g>=u-w*a){if(0===g)throw new Error("[BitmapFont] textureHeight "+u+"px is too small for "+c.fontSize+"px fonts");--b,f=null,m=null,y=null,g=0,v=0,_=0}else if(_=Math.max(w+T.fontProperties.descent,_),O*a+v>=d)--b,g+=_*a,g=Math.ceil(g),v=0,_=0;else{go(f,m,T,v,g,a,c);var A=T.text.charCodeAt(0);p.char.push({id:A,page:x.length-1,x:v/a,y:g/a,width:O,height:w,xoffset:0,yoffset:0,xadvance:Math.ceil(E-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0))}),v+=(O+2*s)*a,v=Math.ceil(v)}}var P=new t(p,x);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=P,P},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),xo=[],bo=[],To=(function(t){function e(i,r){void 0===r&&(r={});var n=t.call(this)||this;n._tint=16777215,r.font&&(dt("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),n._upgradeStyle(r));var o=Object.assign({},e.styleDefaults,r),s=o.align,a=o.tint,h=o.maxWidth,u=o.letterSpacing,l=o.fontName,c=o.fontSize;if(!_o.available[l])throw new Error('Missing BitmapFont "'+l+'"');return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=s,n._tint=a,n._fontName=l,n._fontSize=c||_o.available[l].size,n._text=i,n._maxWidth=h,n._maxLineHeight=0,n._letterSpacing=u,n._anchor=new It((function(){n.dirty=!0}),n,0,0),n.roundPixels=G.ROUND_PIXELS,n.dirty=!0,n}(function(t,e){function i(){this.constructor=t}po(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(e,t),e.prototype.updateText=function(){for(var t,e=_o.available[this._fontName],i=this._fontSize/e.size,r=new St,n=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=s.length,h=this._maxWidth*e.size/this._fontSize,u=null,l=0,c=0,d=0,p=-1,f=0,m=0,y=0,v=0;v<a;v++){var g=s.charCodeAt(v),_=s.charAt(v);if(/(?:\s)/.test(_)&&(p=v,f=l),"\r"!==_&&"\n"!==_){var x=e.chars[g];if(x){u&&x.kerning[u]&&(r.x+=x.kerning[u]);var b=bo.pop()||{texture:Ce.EMPTY,line:0,charCode:0,position:new St};b.texture=x.texture,b.line=d,b.charCode=g,b.position.x=r.x+x.xOffset+this._letterSpacing/2,b.position.y=r.y+x.yOffset,n.push(b),r.x+=x.xAdvance+this._letterSpacing,l=r.x,y=Math.max(y,x.yOffset+x.texture.height),u=g,-1!==p&&h>0&&r.x>h&&(at(n,1+p-++m,1+v-p),v=p,p=-1,o.push(f),c=Math.max(c,f),d++,r.x=0,r.y+=e.lineHeight,u=null)}}else o.push(l),c=Math.max(c,l),++d,++m,r.x=0,r.y+=e.lineHeight,u=null}var T=s.charAt(s.length-1);"\r"!==T&&"\n"!==T&&(/(?:\s)/.test(T)&&(l=f),o.push(l),c=Math.max(c,l));var E=[];for(v=0;v<=d;v++){var w=0;"right"===this._align?w=c-o[v]:"center"===this._align&&(w=(c-o[v])/2),E.push(w)}var O=n.length,A={},P=[],S=this._activePagesMeshData;for(v=0;v<S.length;v++)xo.push(S[v]);for(v=0;v<O;v++){var I=(R=n[v].texture).baseTexture.uid;if(!A[I]){if(!(j=xo.pop())){var C=new co,M=new lo(Ce.EMPTY);j={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new uo(C,M),vertices:null,uvs:null,indices:null}}j.index=0,j.indexCount=0,j.vertexCount=0,j.uvsCount=0,j.total=0,j.mesh.texture=new Ce(R.baseTexture),j.mesh.tint=this._tint,P.push(j),A[I]=j}A[I].total++}for(v=0;v<S.length;v++)-1===P.indexOf(S[v])&&this.removeChild(S[v].mesh);for(v=0;v<P.length;v++)P[v].mesh.parent!==this&&this.addChild(P[v].mesh);for(var v in this._activePagesMeshData=P,A){var D=(j=A[v]).total;(null===(t=j.indices)||void 0===t?void 0:t.length)>6*D&&!(j.vertices.length<2*uo.BATCHABLE_SIZE)||(j.vertices=new Float32Array(8*D),j.uvs=new Float32Array(8*D),j.indices=new Uint16Array(6*D)),j.mesh.size=6*D}for(v=0;v<O;v++){var R,N=((_=n[v]).position.x+E[_.line])*i,L=_.position.y*i,F=A[(R=_.texture).baseTexture.uid],U=R.frame,B=R._uvs,k=F.index++;F.indices[6*k+0]=0+4*k,F.indices[6*k+1]=1+4*k,F.indices[6*k+2]=2+4*k,F.indices[6*k+3]=0+4*k,F.indices[6*k+4]=2+4*k,F.indices[6*k+5]=3+4*k,F.vertices[8*k+0]=N,F.vertices[8*k+1]=L,F.vertices[8*k+2]=N+U.width*i,F.vertices[8*k+3]=L,F.vertices[8*k+4]=N+U.width*i,F.vertices[8*k+5]=L+U.height*i,F.vertices[8*k+6]=N,F.vertices[8*k+7]=L+U.height*i,F.uvs[8*k+0]=B.x0,F.uvs[8*k+1]=B.y0,F.uvs[8*k+2]=B.x1,F.uvs[8*k+3]=B.y1,F.uvs[8*k+4]=B.x2,F.uvs[8*k+5]=B.y2,F.uvs[8*k+6]=B.x3,F.uvs[8*k+7]=B.y3}for(var v in this._textWidth=c*i,this._textHeight=(r.y+e.lineHeight)*i,A){var j=A[v];if(0!==this.anchor.x||0!==this.anchor.y)for(var H=0,X=this._textWidth*this.anchor.x,G=this._textHeight*this.anchor.y,z=0;z<j.total;z++)j.vertices[H++]-=X,j.vertices[H++]-=G,j.vertices[H++]-=X,j.vertices[H++]-=G,j.vertices[H++]-=X,j.vertices[H++]-=G,j.vertices[H++]-=X,j.vertices[H++]-=G;this._maxLineHeight=y*i;var Y=j.mesh.geometry.getBuffer("aVertexPosition"),V=j.mesh.geometry.getBuffer("aTextureCoord"),W=j.mesh.geometry.getIndex();Y.data=j.vertices,V.data=j.uvs,W.data=j.indices,Y.update(),V.update(),W.update()}for(v=0;v<n.length;v++)bo.push(n[v])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!_o.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype._upgradeStyle=function(t){if("string"==typeof t.font){var e=t.font.split(" ");t.fontName=1===e.length?e[0]:e.slice(1).join(" "),e.length>=2&&(t.fontSize=parseInt(e[0],10))}else t.fontName=t.font.name,t.fontSize="number"==typeof t.font.size?t.font.size:parseInt(t.font.size,10)},e.registerFont=function(t,e){return dt("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),_o.install(t,e)},Object.defineProperty(e,"fonts",{get:function(){return dt("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),_o.available},enumerable:!1,configurable:!0}),e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0}}(Vt),function(){function t(){}return t.add=function(){Nr.setExtensionXhrType("fnt",Nr.XHR_RESPONSE_TYPE.DOCUMENT)},t.use=function(e,i){var r=yo(e.data);if(r)for(var n=t.getBaseUrl(this,e),o=r.parse(e.data),s={},a=function(t){s[t.metadata.pageFile]=t.texture,Object.keys(s).length===o.page.length&&(e.bitmapFont=_o.install(o,s),i())},h=0;h<o.page.length;++h){var u=o.page[h].file,l=n+u,c=!1;for(var d in this.resources){var p=this.resources[d];if(p.url===l){p.metadata.pageFile=u,p.texture?a(p):p.onAfterMiddleware.add(a),c=!0;break}}if(!c){var f={crossOrigin:e.crossOrigin,loadType:Nr.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},e.metadata.imageMetadata),parentResource:e};this.add(l,f,a)}}else i()},t.getBaseUrl=function(e,i){var r=i.isDataUrl?"":t.dirname(i.url);return i.isDataUrl&&("."===r&&(r=""),e.baseUrl&&r&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(r+="/")),(r=r.replace(e.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t}()),Eo=function(t,e){return(Eo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};!function(t){function e(e){void 0===e&&(e=1);var i=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return i.alpha=e,i}(function(t,e){function i(){this.constructor=t}Eo(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0})}(Mi);var wo=function(t,e){return(wo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Oo(t,e){function i(){this.constructor=t}wo(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Ao,Po,So,Io,Co,Mo,Do,Ro,No,Lo,Fo,Uo,Bo,ko,jo,Ho,Xo,Go={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},zo=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(Ao||(Ao={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Po||(Po={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(So||(So={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(Io||(Io={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Co||(Co={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Mo||(Mo={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Do||(Do={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(Ro||(Ro={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(No||(No={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Lo||(Lo={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(Fo||(Fo={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(Uo||(Uo={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(Bo||(Bo={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(ko||(ko={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(jo||(jo={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(Ho||(Ho={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(Xo||(Xo={}));var Yo=function(t){function e(e,i,r,n,o){void 0===i&&(i=8),void 0===r&&(r=4),void 0===n&&(n=G.RESOLUTION),void 0===o&&(o=5);var s=this,a=function(t,e){var i,r=Math.ceil(t/2),n="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";i=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=i.replace("%index%",s.toString());o+=a=a.replace("%sampleIndex%",s-(r-1)+".0"),o+="\n"}return(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o,e),h=function(t){for(var e,i=Go[t],r=i.length,n=zo,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString());e=s,s>=r&&(e=t-s-1),o+=a=a.replace("%value%",i[e].toString()),o+="\n"}return(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o);return(s=t.call(this,a,h)||this).horizontal=e,s.resolution=n,s._quality=0,s.quality=r,s.blur=i,s}return Oo(e,t),e.prototype.apply=function(t,e,i,r){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/e.width):this.uniforms.strength=1/i.height*(i.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,r);else{var n=t.getFilterTexture(),o=t.renderer,s=e,a=n;this.state.blend=!1,t.applyFilter(this,s,a,Bo.CLEAR);for(var h=1;h<this.passes-1;h++){t.bindAndClear(s,Bo.BLIT),this.uniforms.uSampler=a;var u=a;a=s,s=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,i,r),t.returnFilterTexture(n)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(Mi),Vo=(function(t){function e(e,i,r,n){void 0===e&&(e=8),void 0===i&&(i=4),void 0===r&&(r=G.RESOLUTION),void 0===n&&(n=5);var o=t.call(this)||this;return o.blurXFilter=new Yo(!0,e,i,r,n),o.blurYFilter=new Yo(!1,e,i,r,n),o.resolution=r,o.quality=i,o.blur=e,o.repeatEdgePixels=!1,o}Oo(e,t),e.prototype.apply=function(t,e,i,r){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,Bo.CLEAR),this.blurYFilter.apply(t,s,i,r),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,i,r):this.blurXFilter.apply(t,e,i,r)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0})}(Mi),function(t,e){return(Vo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)}),Wo=function(t){function e(){var e=this,i={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,tr,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",i)||this).alpha=1,e}return function(t,e){function i(){this.constructor=t}Vo(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var i=t;e&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.greyscale=function(t,e){var i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var i=Math.cos(t),r=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),s=[i+(1-i)*n,n*(1-i)-o*r,n*(1-i)+o*r,0,0,n*(1-i)+o*r,i+n*(1-i),n*(1-i)-o*r,0,0,n*(1-i)-o*r,n*(1-i)+o*r,i+n*(1-i),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var i=(t||0)+1,r=-.5*(i-1),n=[i,0,0,0,r,0,i,0,0,r,0,0,i,0,r,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var i=2*t/3+1,r=-.5*(i-1),n=[i,r,r,0,0,r,i,r,0,0,r,r,i,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,i,r,n){var o=((i=i||16770432)>>16&255)/255,s=(i>>8&255)/255,a=(255&i)/255,h=((r=r||3375104)>>16&255)/255,u=(r>>8&255)/255,l=(255&r)/255,c=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,h,u,l,e=e||.15,0,o-h,s-u,a-l,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var i=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.predator=function(t,e){var i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(Mi);Wo.prototype.grayscale=Wo.prototype.greyscale;var qo=function(t,e){return(qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};!function(t){function e(e,i){var r=this,n=new Ct;return e.renderable=!1,(r=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,r.maskMatrix=n,null==i&&(i=20),r.scale=new St(i,i),r}(function(t,e){function i(){this.constructor=t}qo(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(e,t),e.prototype.apply=function(t,e,i,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,i,r)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0})}(Mi);var Zo,Ko=function(t,e){return(Ko=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};(function(t,e){function i(){this.constructor=t}Ko(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})((function(){return Zo.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}),Zo=Mi);var Jo=function(t,e){return(Jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};!function(t){function e(e,i){void 0===e&&(e=.5),void 0===i&&(i=Math.random());var r=t.call(this,tr,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return r.noise=e,r.seed=i,r}(function(t,e){function i(){this.constructor=t}Jo(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0})}(Mi);var Qo=new Ct;Gt.prototype._cacheAsBitmap=!1,Gt.prototype._cacheData=null;var $o=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Gt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new $o),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),Gt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Gt.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters){var r=this.filters[0].padding;i.pad(r)}i.ceil(G.RESOLUTION);var n=t.renderTexture.current,o=t.renderTexture.sourceFrame.clone(),s=t.projection.transform,a=De.create({width:i.width,height:i.height}),h="cacheAsBitmap_"+lt();this._cacheData.textureCacheId=h,fe.addToCache(a.baseTexture,h),Ce.addToCache(a,h);var u=this.transform.localTransform.copyTo(Qo).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,t.render(this,a,!0,u,!1),t.projection.transform=s,t.renderTexture.bind(n,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new On(a);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-i.x/i.width,l.anchor.y=-i.y/i.height,l.alpha=e,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=l.containsPoint.bind(l)}},Gt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Gt.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),i=this.alpha;this.alpha=1;var r=t.context,n=t._projTransform;e.ceil(G.RESOLUTION);var o=De.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+lt();this._cacheData.textureCacheId=s,fe.addToCache(o.baseTexture,s),Ce.addToCache(o,s);var a=Qo;this.transform.localTransform.copyTo(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,o,!0,a,!1),t.context=r,t._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new On(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-e.x/e.width,h.anchor.y=-e.y/e.height,h.alpha=i,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}},Gt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Gt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Gt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,fe.removeFromCache(this._cacheData.textureCacheId),Ce.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Gt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},Gt.prototype.name=null,Vt.prototype.getChildByName=function(t,e){for(var i=0,r=this.children.length;i<r;i++)if(this.children[i].name===t)return this.children[i];if(e)for(i=0,r=this.children.length;i<r;i++)if(this.children[i].getChildByName){var n=this.children[i].getChildByName(t,!0);if(n)return n}return null},Gt.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new St),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var ts=function(t,e){return(ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function es(t,e){function i(){this.constructor=t}ts(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var is=function(t){function e(e,i,r,n){void 0===e&&(e=100),void 0===i&&(i=100),void 0===r&&(r=10),void 0===n&&(n=10);var o=t.call(this)||this;return o.segWidth=r,o.segHeight=n,o.width=e,o.height=i,o.build(),o}return es(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],i=[],r=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,h=0;h<t;h++){var u=h%this.segWidth,l=h/this.segWidth|0;e.push(u*s,l*a),i.push(u/n,l/o)}var c=n*o;for(h=0;h<c;h++){var d=h%n,p=h/n|0,f=p*this.segWidth+d,m=p*this.segWidth+d+1,y=(p+1)*this.segWidth+d,v=(p+1)*this.segWidth+d+1;r.push(f,m,y,m,v,y)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(co),rs=function(t){function e(e,i,r){void 0===e&&(e=200),void 0===r&&(r=0);var n=t.call(this,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(6*(i.length-1)))||this;return n.points=i,n._width=e,n.textureScale=r,n.build(),n}return es(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),i.data=new Float32Array(4*t.length),r.data=new Uint16Array(6*(t.length-1)));var n=i.data,o=r.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=0,a=t[0],h=this._width*this.textureScale,u=t.length,l=0;l<u;l++){var c=4*l;if(this.textureScale>0){var d=a.x-t[l].x,p=a.y-t[l].y,f=Math.sqrt(d*d+p*p);a=t[l],s+=f/h}else s=l/(u-1);n[c]=s,n[c+1]=0,n[c+2]=s,n[c+3]=1}var m=0;for(l=0;l<u-1;l++)c=2*l,o[m++]=c,o[m++]=c+1,o[m++]=c+2,o[m++]=c+2,o[m++]=c+1,o[m++]=c+3;i.update(),r.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,i=t[0],r=0,n=0,o=this.buffers[0].data,s=t.length,a=0;a<s;a++){var h=t[a],u=4*a;n=-((e=a<t.length-1?t[a+1]:h).x-i.x),r=e.y-i.y;var l=Math.sqrt(r*r+n*n),c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;r/=l,n/=l,r*=c,n*=c,o[u]=h.x+r,o[u+1]=h.y+n,o[u+2]=h.x-r,o[u+3]=h.y-n,i=h}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(co),ns=(function(t){function e(e,i,r){void 0===r&&(r=0);var n=this,o=new rs(e.height,i,r),s=new lo(e);return r>0&&(e.baseTexture.wrapMode=g.REPEAT),(n=t.call(this,o,s)||this).autoUpdate=!0,n}es(e,t),e.prototype._render=function(e){var i=this.geometry;(this.autoUpdate||i._width!==this.shader.texture.height)&&(i._width=this.shader.texture.height,i.update()),t.prototype._render.call(this,e)}}(uo),function(t){function e(e,i,r){var n=this,o=new is(e.width,e.height,i,r),s=new lo(Ce.WHITE);return(n=t.call(this,o,s)||this).texture=e,n}return es(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e}(uo)),os=(function(t){function e(e,i,r,n,o){void 0===e&&(e=Ce.EMPTY);var s=this,a=new co(i,r,n);a.getBuffer("aVertexPosition").static=!1;var h=new lo(e);return(s=t.call(this,a,h,null,o)||this).autoUpdate=!0,s}es(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)}}(uo),function(t){function e(e,i,r,n,o){void 0===i&&(i=10),void 0===r&&(r=10),void 0===n&&(n=10),void 0===o&&(o=10);var s=t.call(this,Ce.WHITE,4,4)||this;return s._origWidth=e.orig.width,s._origHeight=e.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=i,s._rightWidth=n,s._topHeight=r,s._bottomHeight=o,s.texture=e,s}es(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,i=this._topHeight+this._bottomHeight,r=this._height>i?1:this._height/i;return Math.min(e,r)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var i=1/this._origWidth,r=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}(ns),function(t,e){return(os=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)}),ss=function(t){function e(e,i){void 0===i&&(i=!0);var r=t.call(this,e[0]instanceof Ce?e[0]:e[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=i,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=e,r}return function(t,e){function i(){this.constructor=t}os(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Kt.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Kt.shared.add(this.update,this,Wt.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,i=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var i=[],r=0;r<t.length;++r)i.push(Ce.from(t[r]));return new e(i)},e.fromImages=function(t){for(var i=[],r=0;r<t.length;++r)i.push(Ce.from(t[r]));return new e(i)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof Ce)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Kt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Kt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(On);$i.registerPlugin("accessibility",qt),$i.registerPlugin("extract",pr),$i.registerPlugin("interaction",oe),$i.registerPlugin("particle",zr),$i.registerPlugin("prepare",Zn),$i.registerPlugin("batch",ur),$i.registerPlugin("tilingSprite",ro),Ur.registerPlugin(To),Ur.registerPlugin(Jn),lr.registerPlugin(Jt),lr.registerPlugin(Br);var as=i(694),hs=i.n(as);function us(t){let e={};e.value=t,e.isDown=!1,e.isUp=!0,e.press=void 0,e.release=void 0,e.downHandler=t=>{t.key===e.value&&(e.isUp&&e.press&&e.press(),e.isDown=!0,e.isUp=!1,t.preventDefault())},e.upHandler=t=>{t.key===e.value&&(e.isDown&&e.release&&e.release(),e.isDown=!1,e.isUp=!0,t.preventDefault())};const i=e.downHandler.bind(e),r=e.upHandler.bind(e);return window.addEventListener("keydown",i,!1),window.addEventListener("keyup",r,!1),e.unsubscribe=()=>{window.removeEventListener("keydown",i),window.removeEventListener("keyup",r)},e}G.RESOLUTION=5,G.SCALE_MODE=v.NEAREST;const ls=new lr({transparent:!0});ls.renderer.view.style.position="absolute",ls.renderer.view.style.display="block",ls.renderer.view.style.backgroundColor="#00FF00",window.onresize=function(){ls.renderer.resize(window.innerWidth/G.RESOLUTION,window.innerHeight/G.RESOLUTION)},window.onresize(),document.body.appendChild(ls.view);const cs=hs().create({zone:document.getElementById("controls-overlay"),color:"#333",maxNumberOfNipples:1});(t=>new Promise((e=>{t.loader.add("hero.json").load(((t,i)=>{const r=i["hero.json"],n=[],o=t=>{const e=new ss(r.spritesheet.animations[t]);var i;return(i=e).anchor.x=.5,i.anchor.y=1,e.renderable=!1,n.push(e),e},s=t=>{(t=>{n.forEach((e=>{e!==t&&(e.stop(),e.renderable=!1)}))})(t),(t=>{t.play(),t.renderable=!0})(t)},a=o("hero_standing");a.animationSpeed=.025;const h=o("hero_walking");h.animationSpeed=.1,e({anims:n,walk:()=>{s(h)},stand:()=>{s(a)}})}))})))(ls).then((t=>{const e=new Vt;e.vx=0,e.vy=0,e.addChild(...t.anims),e.x=ls.renderer.width/2/G.RESOLUTION,e.y=ls.renderer.height/2/G.RESOLUTION,t.stand(),ls.stage.addChild(e),cs.on("start",((i,r)=>{r.on("move",((i,{direction:r,force:n})=>{r&&("right"===r.x?(e.vx=.33*Math.min(n,3),e.scale.x=1,t.walk()):(e.vx=-.33*Math.min(n,3),e.scale.x=-1,t.walk()))}))})),cs.on("end",(()=>{e.vx=0,t.stand()}));const i=us("ArrowLeft");i.press=()=>{e.vx=-1,e.scale.x=-1,t.walk()},i.release=()=>{e.vx=0,t.stand()};const r=us("ArrowRight");r.press=()=>{e.vx=1,e.scale.x=1,t.walk()},r.release=()=>{e.vx=0,t.stand()},ls.ticker.add((t=>{e.x+=e.vx*t,e.y+=e.vy*t}))})),ls.renderer.on("resize",(()=>{const t=ls.stage.getChildAt(0);t.x=ls.renderer.width/2/G.RESOLUTION,t.y=ls.renderer.height/2/G.RESOLUTION}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvZWFyY3V0L3NyYy9lYXJjdXQuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL2VzNi1wcm9taXNlLXBvbHlmaWxsL3Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL2V2ZW50ZW1pdHRlcjMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL21pbmktc2lnbmFscy9saWIvbWluaS1zaWduYWxzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9uaXBwbGVqcy9kaXN0L25pcHBsZWpzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9wYXJzZS11cmkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL3B1bnljb2RlL3B1bnljb2RlLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy9kZWNvZGUuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nL2VuY29kZS5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL3VybC91cmwuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL3VybC91dGlsLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9waXhpLWdhbWUvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9waXhpLWdhbWUvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9waXhpLWdhbWUvd2VicGFjay9ydW50aW1lL25vZGUgbW9kdWxlIGRlY29yYXRvciIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvcG9seWZpbGwvbGliL3BvbHlmaWxsLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9pc21vYmlsZWpzL2VzbS9pc01vYmlsZS5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29uc3RhbnRzL2xpYi9jb25zdGFudHMuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3NldHRpbmdzL2xpYi9zZXR0aW5ncy5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL3V0aWxzLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9tYXRoL2xpYi9tYXRoLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9kaXNwbGF5L2xpYi9kaXNwbGF5LmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9hY2Nlc3NpYmlsaXR5L2xpYi9hY2Nlc3NpYmlsaXR5LmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90aWNrZXIvbGliL3RpY2tlci5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvaW50ZXJhY3Rpb24vbGliL2ludGVyYWN0aW9uLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9ydW5uZXIvbGliL3J1bm5lci5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvY29yZS5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXBwL2xpYi9hcHAuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2V4dHJhY3QvbGliL2V4dHJhY3QuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9kaXN0L3Jlc291cmNlLWxvYWRlci5lc20uanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2xvYWRlcnMvbGliL2xvYWRlcnMuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3BhcnRpY2xlcy9saWIvcGFydGljbGVzLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9ncmFwaGljcy9saWIvZ3JhcGhpY3MuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQvbGliL3RleHQuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS9saWIvc3ByaXRlLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9wcmVwYXJlL2xpYi9wcmVwYXJlLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGVzaGVldC9saWIvc3ByaXRlc2hlZXQuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS10aWxpbmcvbGliL3Nwcml0ZS10aWxpbmcuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gvbGliL21lc2guZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQtYml0bWFwL2xpYi90ZXh0LWJpdG1hcC5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWFscGhhL2xpYi9maWx0ZXItYWxwaGEuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1ibHVyL2xpYi9maWx0ZXItYmx1ci5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeC9saWIvZmlsdGVyLWNvbG9yLW1hdHJpeC5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudC9saWIvZmlsdGVyLWRpc3BsYWNlbWVudC5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWZ4YWEvbGliL2ZpbHRlci1meGFhLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItbm9pc2UvbGliL2ZpbHRlci1ub2lzZS5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwL2xpYi9taXhpbi1jYWNoZS1hcy1iaXRtYXAuZXMuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21peGluLWdldC1jaGlsZC1ieS1uYW1lL2xpYi9taXhpbi1nZXQtY2hpbGQtYnktbmFtZS5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbi9saWIvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbi5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWVzaC1leHRyYXMvbGliL21lc2gtZXh0cmFzLmVzLmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGUtYW5pbWF0ZWQvbGliL3Nwcml0ZS1hbmltYXRlZC5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcGl4aS5lcy5qcyIsIndlYnBhY2s6Ly9waXhpLWdhbWUvLi9zcmMvdXRpbHMva2V5Ym9hcmQuanMiLCJ3ZWJwYWNrOi8vcGl4aS1nYW1lLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3BpeGktZ2FtZS8uL3NyYy9hbmltcy9oZXJvQW5pbS5qcyJdLCJuYW1lcyI6WyJlYXJjdXQiLCJkYXRhIiwiaG9sZUluZGljZXMiLCJkaW0iLCJtaW5YIiwibWluWSIsIm1heFgiLCJtYXhZIiwieCIsInkiLCJpbnZTaXplIiwiaGFzSG9sZXMiLCJsZW5ndGgiLCJvdXRlckxlbiIsIm91dGVyTm9kZSIsImxpbmtlZExpc3QiLCJ0cmlhbmdsZXMiLCJuZXh0IiwicHJldiIsImkiLCJsZW4iLCJsaXN0IiwicXVldWUiLCJzdGVpbmVyIiwicHVzaCIsImdldExlZnRtb3N0Iiwic29ydCIsImNvbXBhcmVYIiwiZWxpbWluYXRlSG9sZSIsImZpbHRlclBvaW50cyIsImVsaW1pbmF0ZUhvbGVzIiwiTWF0aCIsIm1heCIsImVhcmN1dExpbmtlZCIsInN0YXJ0IiwiZW5kIiwiY2xvY2t3aXNlIiwibGFzdCIsInNpZ25lZEFyZWEiLCJpbnNlcnROb2RlIiwiZXF1YWxzIiwicmVtb3ZlTm9kZSIsImFnYWluIiwicCIsImFyZWEiLCJlYXIiLCJwYXNzIiwieiIsInpPcmRlciIsInByZXZaIiwibmV4dFoiLCJxIiwiZSIsInRhaWwiLCJudW1NZXJnZXMiLCJwU2l6ZSIsInFTaXplIiwiaW5TaXplIiwic29ydExpbmtlZCIsImluZGV4Q3VydmUiLCJzdG9wIiwiaXNFYXJIYXNoZWQiLCJpc0VhciIsImN1cmVMb2NhbEludGVyc2VjdGlvbnMiLCJzcGxpdEVhcmN1dCIsImEiLCJiIiwiYyIsInBvaW50SW5UcmlhbmdsZSIsIm1pblRYIiwibWluVFkiLCJtYXhUWCIsIm1heFRZIiwibWluWiIsIm1heFoiLCJuIiwiaW50ZXJzZWN0cyIsImxvY2FsbHlJbnNpZGUiLCJpc1ZhbGlkRGlhZ29uYWwiLCJzcGxpdFBvbHlnb24iLCJob2xlIiwibSIsImh4IiwiaHkiLCJxeCIsInRhbiIsIm14IiwibXkiLCJ0YW5NaW4iLCJJbmZpbml0eSIsImFicyIsInNlY3RvckNvbnRhaW5zU2VjdG9yIiwiZmluZEhvbGVCcmlkZ2UiLCJsZWZ0bW9zdCIsImF4IiwiYXkiLCJieCIsImJ5IiwiY3giLCJjeSIsInB4IiwicHkiLCJpbnRlcnNlY3RzUG9seWdvbiIsImluc2lkZSIsIm1pZGRsZUluc2lkZSIsInIiLCJwMSIsInAyIiwicTEiLCJxMiIsIm8xIiwic2lnbiIsIm8yIiwibzMiLCJvNCIsIm9uU2VnbWVudCIsIm1pbiIsIm51bSIsImEyIiwiTm9kZSIsImIyIiwiYW4iLCJicCIsInRoaXMiLCJzdW0iLCJqIiwibW9kdWxlIiwiZXhwb3J0cyIsImRlZmF1bHQiLCJkZXZpYXRpb24iLCJwb2x5Z29uQXJlYSIsInRyaWFuZ2xlc0FyZWEiLCJmbGF0dGVuIiwicmVzdWx0IiwidmVydGljZXMiLCJob2xlcyIsImRpbWVuc2lvbnMiLCJob2xlSW5kZXgiLCJkIiwiTmF0aXZlUHJvbWlzZSIsImdsb2JhbCIsIm5hdGl2ZVByb21pc2VTdXBwb3J0ZWQiLCJyZXNvbHZlIiwiUHJvbWlzZSIsIlBvbHlmaWxsIiwiUEVORElORyIsIlNFQUxFRCIsIkZVTEZJTExFRCIsIlJFSkVDVEVEIiwiTk9PUCIsImlzQXJyYXkiLCJ2YWx1ZSIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsImFzeW5jVGltZXIiLCJhc3luY1NldFRpbWVyIiwic2V0SW1tZWRpYXRlIiwic2V0VGltZW91dCIsImFzeW5jUXVldWUiLCJhc3luY0ZsdXNoIiwiYXN5bmNDYWxsIiwiY2FsbGJhY2siLCJhcmciLCJpbnZva2VDYWxsYmFjayIsInN1YnNjcmliZXIiLCJvd25lciIsInNldHRsZWQiLCJzdGF0ZV8iLCJkYXRhXyIsInByb21pc2UiLCJ0aGVuIiwicmVqZWN0IiwiaGFuZGxlVGhlbmFibGUiLCJyZXNvbHZlZCIsIlR5cGVFcnJvciIsInZhbCIsImZ1bGZpbGwiLCJyZWFzb24iLCJwdWJsaXNoRnVsZmlsbG1lbnQiLCJwdWJsaXNoUmVqZWN0aW9uIiwicHVibGlzaCIsImNhbGxiYWNrcyIsInRoZW5fIiwidW5kZWZpbmVkIiwicmVzb2x2ZXIiLCJyZWplY3RQcm9taXNlIiwiaW52b2tlUmVzb2x2ZXIiLCJjb25zdHJ1Y3RvciIsIm9uRnVsZmlsbG1lbnQiLCJvblJlamVjdGlvbiIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwiYWxsIiwicHJvbWlzZXMiLCJyZXN1bHRzIiwicmVtYWluaW5nIiwiaW5kZXgiLCJyYWNlIiwid2luZG93IiwiZyIsInNlbGYiLCJoYXMiLCJoYXNPd25Qcm9wZXJ0eSIsInByZWZpeCIsIkV2ZW50cyIsIkVFIiwiZm4iLCJjb250ZXh0Iiwib25jZSIsImFkZExpc3RlbmVyIiwiZW1pdHRlciIsImV2ZW50IiwibGlzdGVuZXIiLCJldnQiLCJfZXZlbnRzIiwiX2V2ZW50c0NvdW50IiwiY2xlYXJFdmVudCIsIkV2ZW50RW1pdHRlciIsImNyZWF0ZSIsIl9fcHJvdG9fXyIsImV2ZW50TmFtZXMiLCJldmVudHMiLCJuYW1lIiwibmFtZXMiLCJzbGljZSIsImdldE93blByb3BlcnR5U3ltYm9scyIsImNvbmNhdCIsImxpc3RlbmVycyIsImhhbmRsZXJzIiwibCIsImVlIiwiQXJyYXkiLCJsaXN0ZW5lckNvdW50IiwiZW1pdCIsImExIiwiYTMiLCJhNCIsImE1IiwiYXJncyIsImFyZ3VtZW50cyIsInJlbW92ZUxpc3RlbmVyIiwiYXBwbHkiLCJvbiIsInJlbW92ZUFsbExpc3RlbmVycyIsIm9mZiIsInByZWZpeGVkIiwiZGVmaW5lUHJvcGVydHkiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwia2V5IiwiQ29uc3RydWN0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIk1pbmlTaWduYWxCaW5kaW5nIiwidGhpc0FyZyIsIl9mbiIsIl9vbmNlIiwiX3RoaXNBcmciLCJfbmV4dCIsIl9wcmV2IiwiX293bmVyIiwiZGV0YWNoIiwiX2FkZE1pbmlTaWduYWxCaW5kaW5nIiwibm9kZSIsIl9oZWFkIiwiX3RhaWwiLCJNaW5pU2lnbmFsIiwiZXhpc3RzIiwiRXJyb3IiLCJ0IiwibyIsImdldCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiX19lc01vZHVsZSIsImJpbmQiLCJzIiwic3FydCIsIlBJIiwic3BsaXQiLCJhZGRFdmVudExpc3RlbmVyIiwiYXR0YWNoRXZlbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGV0YWNoRXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInR5cGUiLCJtYXRjaCIsImNoYW5nZWRUb3VjaGVzIiwicGFnZVhPZmZzZXQiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImJvZHkiLCJwYXJlbnROb2RlIiwic2Nyb2xsTGVmdCIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG9wIiwiaCIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsInN0eWxlIiwidSIsImZvckVhY2giLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsImYiLCJ2IiwiUG9pbnRlckV2ZW50IiwiTVNQb2ludGVyRXZlbnQiLCJtb3ZlIiwiTyIsIl9oYW5kbGVyc18iLCJpbmRleE9mIiwic3BsaWNlIiwidHJpZ2dlciIsImNvbmZpZyIsIm9wdGlvbnMiLCJkZWZhdWx0cyIsImJpbmRFdnQiLCJfZG9tSGFuZGxlcnNfIiwiY29uc29sZSIsIndhcm4iLCJ1bmJpbmRFdnQiLCJfIiwidyIsImlkZW50aWZpZXIiLCJwb3NpdGlvbiIsImZyb250UG9zaXRpb24iLCJjb2xsZWN0aW9uIiwic2l6ZSIsInRocmVzaG9sZCIsImNvbG9yIiwiZmFkZVRpbWUiLCJkYXRhT25seSIsInJlc3RKb3lzdGljayIsInJlc3RPcGFjaXR5IiwibW9kZSIsInpvbmUiLCJsb2NrWCIsImxvY2tZIiwic2hhcGUiLCJpZCIsImJ1aWxkRWwiLCJzdHlsaXplIiwiZWwiLCJ1aSIsInNob3ciLCJoaWRlIiwiYWRkIiwiYWRkVG9Eb20iLCJyZW1vdmUiLCJyZW1vdmVGcm9tRG9tIiwiZGVzdHJveSIsInNldFBvc2l0aW9uIiwicmVzZXREaXJlY3Rpb24iLCJjb21wdXRlRGlyZWN0aW9uIiwiY3JlYXRlRWxlbWVudCIsImJhY2siLCJmcm9udCIsImNsYXNzTmFtZSIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwib3BhY2l0eSIsImRpc3BsYXkiLCJ6SW5kZXgiLCJ3aWR0aCIsImhlaWdodCIsIm1hcmdpbkxlZnQiLCJtYXJnaW5Ub3AiLCJiYWNrZ3JvdW5kIiwiYXBwbHlTdHlsZXMiLCJjb250YWlucyIsInJlbW92ZUNoaWxkIiwiY2xlYXJUaW1lb3V0IiwicmVtb3ZlVGltZW91dCIsInNob3dUaW1lb3V0IiwicmVzdFRpbWVvdXQiLCJyZXN0Q2FsbGJhY2siLCJkaXJlY3Rpb24iLCJhbmdsZSIsInJhZGlhbiIsImZvcmNlIiwiVCIsImsiLCJuaXBwbGVzIiwiaWRsZXMiLCJhY3RpdmVzIiwiaWRzIiwicHJlc3N1cmVJbnRlcnZhbHMiLCJtYW5hZ2VyIiwibXVsdGl0b3VjaCIsIm1heE51bWJlck9mTmlwcGxlcyIsImNhdGNoRGlzdGFuY2UiLCJkeW5hbWljUGFnZSIsInVwZGF0ZUJveCIsInByZXBhcmVOaXBwbGVzIiwiYmluZGluZ3MiLCJiZWdpbiIsInByb2Nlc3NPbk1vdmUiLCJwcm9jZXNzT25FbmQiLCJ0b3VjaEFjdGlvbiIsIm1zVG91Y2hBY3Rpb24iLCJjcmVhdGVOaXBwbGUiLCJnZXRJZGVudGlmaWVyIiwiYm94IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYmluZE5pcHBsZSIsIm9uRGVzdHJveWVkIiwicHJlc3N1cmVGbiIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInByZXNzdXJlIiwid2Via2l0Rm9yY2UiLCJvbnN0YXJ0IiwicHJvY2Vzc09uU3RhcnQiLCJrZXlzIiwidmFsdWVzIiwidG91Y2hlcyIsImZpbmRJbmRleCIsImJpbmREb2N1bWVudCIsInBhZ2VYIiwicGFnZVkiLCJnZXRPckNyZWF0ZSIsInJlbW92ZUlkZW50aWZpZXIiLCJ0ZXN0IiwiaXNOYU4iLCJidXR0b25zIiwiZXJyb3IiLCJhdGFuMiIsImRpc3RhbmNlIiwiY29zIiwic2luIiwiUCIsIkUiLCJkZWdyZWUiLCJ2ZWN0b3IiLCJyYXciLCJ1bmJpbmREb2N1bWVudCIsImNvbGxlY3Rpb25zIiwicHJlcGFyZUNvbGxlY3Rpb25zIiwiZXZlcnkiLCJjcmVhdGVDb2xsZWN0aW9uIiwiYmluZENvbGxlY3Rpb24iLCJiaW5kZWQiLCJwb2ludGVySWQiLCJsYXRlc3QiLCJvbm1vdmUiLCJvbkFueSIsIm9uZW5kIiwib25jYW5jZWwiLCJfZm91bmRfIiwiSSIsImZhY3RvcnkiLCJwcm9wSXNFbnVtZXJhYmxlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0b09iamVjdCIsImFzc2lnbiIsInRlc3QxIiwiU3RyaW5nIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInRlc3QyIiwiZnJvbUNoYXJDb2RlIiwibWFwIiwiam9pbiIsInRlc3QzIiwibGV0dGVyIiwiZXJyIiwic2hvdWxkVXNlTmF0aXZlIiwic291cmNlIiwiZnJvbSIsInN5bWJvbHMiLCJ0byIsInN0ciIsIm9wdHMiLCJwYXJzZXIiLCJzdHJpY3QiLCJsb29zZSIsInN0cmljdE1vZGUiLCJleGVjIiwidXJpIiwicmVwbGFjZSIsIiQwIiwiJDEiLCIkMiIsInJvb3QiLCJub2RlVHlwZSIsImZyZWVHbG9iYWwiLCJwdW55Y29kZSIsIm1heEludCIsImJhc2UiLCJyZWdleFB1bnljb2RlIiwicmVnZXhOb25BU0NJSSIsInJlZ2V4U2VwYXJhdG9ycyIsImVycm9ycyIsImZsb29yIiwic3RyaW5nRnJvbUNoYXJDb2RlIiwiUmFuZ2VFcnJvciIsImFycmF5IiwibWFwRG9tYWluIiwic3RyaW5nIiwicGFydHMiLCJ1Y3MyZGVjb2RlIiwiZXh0cmEiLCJvdXRwdXQiLCJjb3VudGVyIiwiY2hhckNvZGVBdCIsInVjczJlbmNvZGUiLCJkaWdpdFRvQmFzaWMiLCJkaWdpdCIsImZsYWciLCJhZGFwdCIsImRlbHRhIiwibnVtUG9pbnRzIiwiZmlyc3RUaW1lIiwiYmFzZU1pbnVzVE1pbiIsImRlY29kZSIsImlucHV0Iiwib3V0IiwiYmFzaWMiLCJvbGRpIiwiYmFzZU1pbnVzVCIsImNvZGVQb2ludCIsImlucHV0TGVuZ3RoIiwiYmlhcyIsImxhc3RJbmRleE9mIiwiZW5jb2RlIiwiaGFuZGxlZENQQ291bnQiLCJiYXNpY0xlbmd0aCIsImN1cnJlbnRWYWx1ZSIsImhhbmRsZWRDUENvdW50UGx1c09uZSIsInFNaW51c1QiLCJ0b0xvd2VyQ2FzZSIsIm9iaiIsInByb3AiLCJxcyIsInNlcCIsImVxIiwicmVnZXhwIiwibWF4S2V5cyIsImtzdHIiLCJ2c3RyIiwiaWR4Iiwic3Vic3RyIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic3RyaW5naWZ5UHJpbWl0aXZlIiwiaXNGaW5pdGUiLCJrcyIsImVuY29kZVVSSUNvbXBvbmVudCIsInBhcnNlIiwic3RyaW5naWZ5IiwidXRpbCIsIlVybCIsInByb3RvY29sIiwic2xhc2hlcyIsImF1dGgiLCJob3N0IiwicG9ydCIsImhvc3RuYW1lIiwiaGFzaCIsInNlYXJjaCIsInF1ZXJ5IiwicGF0aG5hbWUiLCJwYXRoIiwiaHJlZiIsInVybFBhcnNlIiwicmVsYXRpdmUiLCJyZXNvbHZlT2JqZWN0IiwiZm9ybWF0IiwiaXNTdHJpbmciLCJwcm90b2NvbFBhdHRlcm4iLCJwb3J0UGF0dGVybiIsInNpbXBsZVBhdGhQYXR0ZXJuIiwidW53aXNlIiwiYXV0b0VzY2FwZSIsIm5vbkhvc3RDaGFycyIsImhvc3RFbmRpbmdDaGFycyIsImhvc3RuYW1lUGFydFBhdHRlcm4iLCJob3N0bmFtZVBhcnRTdGFydCIsInVuc2FmZVByb3RvY29sIiwiaG9zdGxlc3NQcm90b2NvbCIsInNsYXNoZWRQcm90b2NvbCIsInF1ZXJ5c3RyaW5nIiwidXJsIiwicGFyc2VRdWVyeVN0cmluZyIsInNsYXNoZXNEZW5vdGVIb3N0IiwiaXNPYmplY3QiLCJxdWVyeUluZGV4Iiwic3BsaXR0ZXIiLCJ1U3BsaXQiLCJyZXN0IiwidHJpbSIsInNpbXBsZVBhdGgiLCJwcm90byIsImxvd2VyUHJvdG8iLCJhdFNpZ24iLCJob3N0RW5kIiwiaGVjIiwicGFyc2VIb3N0IiwiaXB2Nkhvc3RuYW1lIiwiaG9zdHBhcnRzIiwicGFydCIsIm5ld3BhcnQiLCJ2YWxpZFBhcnRzIiwibm90SG9zdCIsImJpdCIsInVuc2hpZnQiLCJ0b0FTQ0lJIiwiYWUiLCJlc2MiLCJlc2NhcGUiLCJxbSIsInJlbCIsInRrZXlzIiwidGsiLCJ0a2V5IiwicmtleXMiLCJyayIsInJrZXkiLCJyZWxQYXRoIiwic2hpZnQiLCJpc1NvdXJjZUFicyIsImlzUmVsQWJzIiwibXVzdEVuZEFicyIsInJlbW92ZUFsbERvdHMiLCJzcmNQYXRoIiwicHN5Y2hvdGljIiwicG9wIiwiaXNOdWxsT3JVbmRlZmluZWQiLCJhdXRoSW5Ib3N0IiwiaXNOdWxsIiwiaGFzVHJhaWxpbmdTbGFzaCIsInVwIiwiaXNBYnNvbHV0ZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImxvYWRlZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJkZWZpbml0aW9uIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwibm1kIiwicGF0aHMiLCJjaGlsZHJlbiIsIkRhdGUiLCJub3ciLCJnZXRUaW1lIiwicGVyZm9ybWFuY2UiLCJzdGFydFRpbWVfMSIsImxhc3RUaW1lIiwidmVuZG9ycyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY3VycmVudFRpbWUiLCJkZWxheSIsIk51bWJlciIsImlzSW50ZWdlciIsIkFycmF5QnVmZmVyIiwiRmxvYXQzMkFycmF5IiwiVWludDMyQXJyYXkiLCJVaW50MTZBcnJheSIsIlVpbnQ4QXJyYXkiLCJJbnQzMkFycmF5IiwiRU5WIiwiUkVOREVSRVJfVFlQRSIsIkJVRkZFUl9CSVRTIiwiQkxFTkRfTU9ERVMiLCJEUkFXX01PREVTIiwiRk9STUFUUyIsIlRBUkdFVFMiLCJUWVBFUyIsIlNDQUxFX01PREVTIiwiV1JBUF9NT0RFUyIsIk1JUE1BUF9NT0RFUyIsIkFMUEhBX01PREVTIiwiQ0xFQVJfTU9ERVMiLCJHQ19NT0RFUyIsIlBSRUNJU0lPTiIsIk1BU0tfVFlQRVMiLCJNU0FBX1FVQUxJVFkiLCJhcHBsZUlwaG9uZSIsImFwcGxlSXBvZCIsImFwcGxlVGFibGV0IiwiYXBwbGVVbml2ZXJzYWwiLCJhbmRyb2lkUGhvbmUiLCJhbmRyb2lkVGFibGV0IiwiYW1hem9uUGhvbmUiLCJhbWF6b25UYWJsZXQiLCJ3aW5kb3dzUGhvbmUiLCJ3aW5kb3dzVGFibGV0Iiwib3RoZXJCbGFja0JlcnJ5Iiwib3RoZXJCbGFja0JlcnJ5MTAiLCJvdGhlck9wZXJhIiwib3RoZXJDaHJvbWUiLCJvdGhlckZpcmVmb3giLCJpc0FwcGxlVGFibGV0T25Jb3MxMyIsIm5hdmlnYXRvciIsInBsYXRmb3JtIiwibWF4VG91Y2hQb2ludHMiLCJNU1N0cmVhbSIsInBhcmFtIiwibmF2IiwidXNlckFnZW50IiwidG1wIiwicmVnZXgiLCJjcmVhdGVNYXRjaCIsImFwcGxlIiwicGhvbmUiLCJpcG9kIiwidGFibGV0IiwidW5pdmVyc2FsIiwiZGV2aWNlIiwiYW1hem9uIiwiYW5kcm9pZCIsIndpbmRvd3MiLCJvdGhlciIsImJsYWNrYmVycnkiLCJibGFja2JlcnJ5MTAiLCJvcGVyYSIsImZpcmVmb3giLCJjaHJvbWUiLCJhbnkiLCJpc01vYmlsZSIsInNldHRpbmdzIiwiTUlQTUFQX1RFWFRVUkVTIiwiQU5JU09UUk9QSUNfTEVWRUwiLCJSRVNPTFVUSU9OIiwiRklMVEVSX1JFU09MVVRJT04iLCJTUFJJVEVfTUFYX1RFWFRVUkVTIiwiYWxsb3dNYXgiLCJwYXJzZUludCIsIm1heFJlY29tbWVuZGVkVGV4dHVyZXMiLCJTUFJJVEVfQkFUQ0hfU0laRSIsIlJFTkRFUl9PUFRJT05TIiwidmlldyIsImFudGlhbGlhcyIsImF1dG9EZW5zaXR5IiwidHJhbnNwYXJlbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjbGVhckJlZm9yZVJlbmRlciIsInByZXNlcnZlRHJhd2luZ0J1ZmZlciIsImxlZ2FjeSIsIkdDX01PREUiLCJHQ19NQVhfSURMRSIsIkdDX01BWF9DSEVDS19DT1VOVCIsIldSQVBfTU9ERSIsIlNDQUxFX01PREUiLCJQUkVDSVNJT05fVkVSVEVYIiwiUFJFQ0lTSU9OX0ZSQUdNRU5UIiwiQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUiIsIkNSRUFURV9JTUFHRV9CSVRNQVAiLCJST1VORF9QSVhFTFMiLCJSRVRJTkFfUFJFRklYIiwiRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQiLCJzdXBwb3J0ZWQiLCJzYWlkSGVsbG8iLCJoZXgycmdiIiwiaGV4IiwiaGV4MnN0cmluZyIsImhleFN0cmluZyIsInN0cmluZzJoZXgiLCJwcmVtdWx0aXBseUJsZW5kTW9kZSIsInBtIiwibnBtIiwiTk9STUFMX05QTSIsIk5PUk1BTCIsIkFERF9OUE0iLCJBREQiLCJTQ1JFRU5fTlBNIiwiU0NSRUVOIiwibWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMiLCJjb3JyZWN0QmxlbmRNb2RlIiwiYmxlbmRNb2RlIiwicHJlbXVsdGlwbGllZCIsInByZW11bHRpcGx5VGludCIsInRpbnQiLCJhbHBoYSIsIlIiLCJHIiwiQiIsInByZW11bHRpcGx5VGludFRvUmdiYSIsInByZW11bHRpcGx5IiwibmV4dFBvdzIiLCJpc1BvdzIiLCJsb2cyIiwicmVtb3ZlSXRlbXMiLCJhcnIiLCJzdGFydElkeCIsInJlbW92ZUNvdW50IiwibmV4dFVpZCIsInVpZCIsIndhcm5pbmdzIiwidmVyc2lvbiIsIm1lc3NhZ2UiLCJpZ25vcmVEZXB0aCIsInN0YWNrIiwiZ3JvdXBDb2xsYXBzZWQiLCJncm91cEVuZCIsInRlbXBBbmNob3IiLCJQcm9ncmFtQ2FjaGUiLCJUZXh0dXJlQ2FjaGUiLCJCYXNlVGV4dHVyZUNhY2hlIiwiQ2FudmFzUmVuZGVyVGFyZ2V0IiwicmVzb2x1dGlvbiIsImNhbnZhcyIsImdldENvbnRleHQiLCJyZXNpemUiLCJjbGVhciIsInNldFRyYW5zZm9ybSIsImNsZWFyUmVjdCIsInNldCIsImdldFJlc29sdXRpb25PZlVybCIsImRlZmF1bHRWYWx1ZSIsInBhcnNlRmxvYXQiLCJTSEFQRVMiLCJQSV8yIiwiUkFEX1RPX0RFRyIsIkRFR19UT19SQUQiLCJSZWN0YW5nbGUiLCJSRUNUIiwiY2xvbmUiLCJjb3B5RnJvbSIsInJlY3RhbmdsZSIsImNvcHlUbyIsInBhZCIsInBhZGRpbmdYIiwicGFkZGluZ1kiLCJmaXQiLCJ4MSIsIngyIiwieTEiLCJ5MiIsImNlaWwiLCJlcHMiLCJlbmxhcmdlIiwiQ2lyY2xlIiwicmFkaXVzIiwiQ0lSQyIsInIyIiwiZHgiLCJkeSIsImdldEJvdW5kcyIsIkVsbGlwc2UiLCJoYWxmV2lkdGgiLCJoYWxmSGVpZ2h0IiwiRUxJUCIsIm5vcm14Iiwibm9ybXkiLCJQb2x5Z29uIiwiYXJndW1lbnRzJDEiLCJwb2ludHMiLCJfaSIsImZsYXQiLCJpbCIsIlBPTFkiLCJjbG9zZVN0cm9rZSIsInBvbHlnb24iLCJ4aSIsInlpIiwieGoiLCJ5aiIsIlJvdW5kZWRSZWN0YW5nbGUiLCJSUkVDIiwicmFkaXVzMiIsIlBvaW50IiwiT2JzZXJ2YWJsZVBvaW50IiwiY2IiLCJzY29wZSIsIl94IiwiX3kiLCJNYXRyaXgiLCJ0eCIsInR5IiwiZnJvbUFycmF5IiwidG9BcnJheSIsInRyYW5zcG9zZSIsInBvcyIsIm5ld1BvcyIsImFwcGx5SW52ZXJzZSIsInRyYW5zbGF0ZSIsInNjYWxlIiwicm90YXRlIiwiYzEiLCJ0eDEiLCJhcHBlbmQiLCJtYXRyaXgiLCJiMSIsImQxIiwicGl2b3RYIiwicGl2b3RZIiwic2NhbGVYIiwic2NhbGVZIiwicm90YXRpb24iLCJza2V3WCIsInNrZXdZIiwicHJlcGVuZCIsImRlY29tcG9zZSIsInRyYW5zZm9ybSIsInNrZXciLCJpbnZlcnQiLCJpZGVudGl0eSIsInV4IiwidXkiLCJ2eCIsInZ5Iiwicm90YXRpb25DYXlsZXkiLCJyb3RhdGlvbk1hdHJpY2VzIiwic2lnbnVtIiwicm93IiwiX3V4IiwiX3V5IiwiX3Z4IiwiX3Z5IiwibWF0IiwiaW5pdCIsImdyb3VwRDgiLCJTRSIsIlMiLCJTVyIsIlciLCJOVyIsIk4iLCJORSIsIk1JUlJPUl9WRVJUSUNBTCIsIk1BSU5fRElBR09OQUwiLCJNSVJST1JfSE9SSVpPTlRBTCIsIlJFVkVSU0VfRElBR09OQUwiLCJ1WCIsImluZCIsInVZIiwidlgiLCJ2WSIsImludiIsInJvdGF0aW9uU2Vjb25kIiwicm90YXRpb25GaXJzdCIsInN1YiIsInJvdGF0ZTE4MCIsImlzVmVydGljYWwiLCJieURpcmVjdGlvbiIsIm1hdHJpeEFwcGVuZFJvdGF0aW9uSW52IiwiVHJhbnNmb3JtIiwid29ybGRUcmFuc2Zvcm0iLCJsb2NhbFRyYW5zZm9ybSIsIm9uQ2hhbmdlIiwicGl2b3QiLCJ1cGRhdGVTa2V3IiwiX3JvdGF0aW9uIiwiX2N4IiwiX3N4IiwiX2N5IiwiX3N5IiwiX2xvY2FsSUQiLCJfY3VycmVudExvY2FsSUQiLCJfd29ybGRJRCIsIl9wYXJlbnRJRCIsInVwZGF0ZUxvY2FsVHJhbnNmb3JtIiwibHQiLCJ1cGRhdGVUcmFuc2Zvcm0iLCJwYXJlbnRUcmFuc2Zvcm0iLCJwdCIsInd0Iiwic2V0RnJvbU1hdHJpeCIsIklERU5USVRZIiwiU09SVEFCTEVfQ0hJTERSRU4iLCJCb3VuZHMiLCJyZWN0IiwidXBkYXRlSUQiLCJpc0VtcHR5IiwiZ2V0UmVjdGFuZ2xlIiwiRU1QVFkiLCJhZGRQb2ludCIsInBvaW50IiwiYWRkUXVhZCIsImFkZEZyYW1lIiwieDAiLCJ5MCIsImFkZEZyYW1lTWF0cml4IiwiYWRkVmVydGV4RGF0YSIsInZlcnRleERhdGEiLCJiZWdpbk9mZnNldCIsImVuZE9mZnNldCIsImFkZFZlcnRpY2VzIiwiYWRkVmVydGljZXNNYXRyaXgiLCJwYWRYIiwicGFkWSIsInJhd1giLCJyYXdZIiwiYWRkQm91bmRzIiwiYm91bmRzIiwiYWRkQm91bmRzTWFzayIsIm1hc2siLCJfbWluWCIsIl9taW5ZIiwiX21heFgiLCJfbWF4WSIsImFkZEJvdW5kc01hdHJpeCIsImFkZEJvdW5kc0FyZWEiLCJhZGRGcmFtZVBhZCIsImV4dGVuZFN0YXRpY3MiLCJzZXRQcm90b3R5cGVPZiIsIl9fZXh0ZW5kcyIsIl9fIiwiRGlzcGxheU9iamVjdCIsIl9zdXBlciIsIl90aGlzIiwidGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJ2aXNpYmxlIiwicmVuZGVyYWJsZSIsInBhcmVudCIsIndvcmxkQWxwaGEiLCJfbGFzdFNvcnRlZEluZGV4IiwiX3pJbmRleCIsImZpbHRlckFyZWEiLCJmaWx0ZXJzIiwiX2VuYWJsZWRGaWx0ZXJzIiwiX2JvdW5kcyIsIl9sb2NhbEJvdW5kcyIsIl9ib3VuZHNJRCIsIl9ib3VuZHNSZWN0IiwiX2xvY2FsQm91bmRzUmVjdCIsIl9tYXNrIiwiX2Rlc3Ryb3llZCIsImlzU3ByaXRlIiwiaXNNYXNrIiwibWl4aW4iLCJwcm9wZXJ0eU5hbWUiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSIsIl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCIsInNraXBVcGRhdGUiLCJjYWxjdWxhdGVCb3VuZHMiLCJnZXRMb2NhbEJvdW5kcyIsInRyYW5zZm9ybVJlZiIsInBhcmVudFJlZiIsIndvcmxkQm91bmRzIiwid29ybGRCb3VuZHNJRCIsInRvR2xvYmFsIiwiZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSIsInRvTG9jYWwiLCJzZXRQYXJlbnQiLCJjb250YWluZXIiLCJhZGRDaGlsZCIsIl9vcHRpb25zIiwiaGl0QXJlYSIsImludGVyYWN0aXZlIiwiaW50ZXJhY3RpdmVDaGlsZHJlbiIsIlRlbXBvcmFyeURpc3BsYXlPYmplY3QiLCJlbmFibGVUZW1wUGFyZW50IiwibXlQYXJlbnQiLCJkaXNhYmxlVGVtcFBhcmVudCIsImNhY2hlUGFyZW50Iiwic29ydERpcnR5IiwiaXRlbSIsIm1hc2tPYmplY3QiLCJzb3J0Q2hpbGRyZW4iLCJDb250YWluZXIiLCJzb3J0YWJsZUNoaWxkcmVuIiwib25DaGlsZHJlbkNoYW5nZSIsIl9sZW5ndGgiLCJjaGlsZCIsImFkZENoaWxkQXQiLCJzd2FwQ2hpbGRyZW4iLCJjaGlsZDIiLCJpbmRleDEiLCJnZXRDaGlsZEluZGV4IiwiaW5kZXgyIiwic2V0Q2hpbGRJbmRleCIsImN1cnJlbnRJbmRleCIsImdldENoaWxkQXQiLCJyZW1vdmVDaGlsZEF0IiwicmVtb3ZlQ2hpbGRyZW4iLCJiZWdpbkluZGV4IiwiZW5kSW5kZXgiLCJyZW1vdmVkIiwicmFuZ2UiLCJzb3J0UmVxdWlyZWQiLCJfY2FsY3VsYXRlQm91bmRzIiwic2tpcENoaWxkcmVuVXBkYXRlIiwicmVuZGVyIiwicmVuZGVyZXIiLCJyZW5kZXJBZHZhbmNlZCIsIl9yZW5kZXIiLCJiYXRjaCIsImZsdXNoIiwiZW5hYmxlZCIsImZpbHRlciIsIl9yZW5kZXJlciIsImRlc3Ryb3lDaGlsZHJlbiIsIm9sZENoaWxkcmVuIiwiX3dpZHRoIiwiX2hlaWdodCIsImNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSIsImFjY2Vzc2libGUiLCJhY2Nlc3NpYmxlVGl0bGUiLCJhY2Nlc3NpYmxlSGludCIsInRhYkluZGV4IiwiX2FjY2Vzc2libGVBY3RpdmUiLCJfYWNjZXNzaWJsZURpdiIsImFjY2Vzc2libGVUeXBlIiwiYWNjZXNzaWJsZVBvaW50ZXJFdmVudHMiLCJhY2Nlc3NpYmxlQ2hpbGRyZW4iLCJyZW5kZXJJZCIsIlVQREFURV9QUklPUklUWSIsIkFjY2Vzc2liaWxpdHlNYW5hZ2VyIiwiX2hvb2tEaXYiLCJjcmVhdGVUb3VjaEhvb2siLCJkaXYiLCJESVZfVE9VQ0hfU0laRSIsIkRJVl9UT1VDSF9QT1NfWCIsIkRJVl9UT1VDSF9QT1NfWSIsInBvb2wiLCJkZWJ1ZyIsIl9vbktleURvd24iLCJfb25Nb3VzZU1vdmUiLCJfaXNBY3RpdmUiLCJfaXNNb2JpbGVBY2Nlc3NpYmlsaXR5IiwiYW5kcm9pZFVwZGF0ZUNvdW50IiwiYW5kcm9pZFVwZGF0ZUZyZXF1ZW5jeSIsImhvb2tEaXYiLCJESVZfSE9PS19TSVpFIiwiRElWX0hPT0tfUE9TX1giLCJESVZfSE9PS19QT1NfWSIsInRpdGxlIiwiYWN0aXZhdGUiLCJkZXN0cm95VG91Y2hIb29rIiwidXBkYXRlIiwiZGVhY3RpdmF0ZSIsInVwZGF0ZUFjY2Vzc2libGVPYmplY3RzIiwiZGlzcGxheU9iamVjdCIsInJlbmRlcmluZ1RvU2NyZWVuIiwiX2xhc3RPYmplY3RSZW5kZXJlZCIsInN4Iiwic3kiLCJjYXBIaXRBcmVhIiwiZ2V0QXR0cmlidXRlIiwidXBkYXRlRGVidWdIVE1MIiwiaW5uZXJIVE1MIiwiYm9yZGVyU3R5bGUiLCJfb25DbGljayIsIl9vbkZvY3VzIiwiX29uRm9jdXNPdXQiLCJwb2ludGVyRXZlbnRzIiwiaW50ZXJhY3Rpb25NYW5hZ2VyIiwicGx1Z2lucyIsImludGVyYWN0aW9uIiwiZGlzcGF0Y2hFdmVudCIsImV2ZW50RGF0YSIsImtleUNvZGUiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJUQVJHRVRfRlBNUyIsIlRpY2tlckxpc3RlbmVyIiwicHJpb3JpdHkiLCJwcmV2aW91cyIsImRlbHRhVGltZSIsInJlZGlyZWN0IiwiY29ubmVjdCIsImhhcmQiLCJUaWNrZXIiLCJfcmVxdWVzdElkIiwiX21heEVsYXBzZWRNUyIsIl9taW5FbGFwc2VkTVMiLCJhdXRvU3RhcnQiLCJkZWx0YU1TIiwiZWxhcHNlZE1TIiwic3BlZWQiLCJzdGFydGVkIiwiX3Byb3RlY3RlZCIsIl9sYXN0RnJhbWUiLCJfdGljayIsInRpbWUiLCJfcmVxdWVzdElmTmVlZGVkIiwiX2NhbmNlbElmTmVlZGVkIiwiX3N0YXJ0SWZQb3NzaWJsZSIsIl9hZGRMaXN0ZW5lciIsImFkZE9uY2UiLCJjdXJyZW50IiwiY291bnQiLCJoZWFkIiwiZnBzIiwibWluRlBTIiwibWF4RlBTIiwibWluRlBNUyIsInJvdW5kIiwiX3NoYXJlZCIsInNoYXJlZCIsIl9zeXN0ZW0iLCJzeXN0ZW0iLCJUaWNrZXJQbHVnaW4iLCJzaGFyZWRUaWNrZXIiLCJ0aWNrZXIiLCJfdGlja2VyIiwiTE9XIiwib2xkVGlja2VyIiwiSW50ZXJhY3Rpb25EYXRhIiwicm90YXRpb25BbmdsZSIsInR3aXN0IiwidGFuZ2VudGlhbFByZXNzdXJlIiwib3JpZ2luYWxFdmVudCIsImlzUHJpbWFyeSIsImJ1dHRvbiIsInRpbHRYIiwidGlsdFkiLCJwb2ludGVyVHlwZSIsImdldExvY2FsUG9zaXRpb24iLCJnbG9iYWxQb3MiLCJjb3B5RXZlbnQiLCJ3aGljaCIsInJlc2V0IiwiSW50ZXJhY3Rpb25FdmVudCIsInN0b3BwZWQiLCJzdG9wc1Byb3BhZ2F0aW5nQXQiLCJzdG9wUHJvcGFnYXRpb25IaW50IiwiY3VycmVudFRhcmdldCIsInN0b3BQcm9wYWdhdGlvbiIsIkludGVyYWN0aW9uVHJhY2tpbmdEYXRhIiwiX3BvaW50ZXJJZCIsIl9mbGFncyIsIkZMQUdTIiwiTk9ORSIsIl9kb1NldCIsInluIiwiZmxhZ3MiLCJPVkVSIiwiUklHSFRfRE9XTiIsIkxFRlRfRE9XTiIsImZyZWV6ZSIsIlRyZWVTZWFyY2giLCJfdGVtcFBvaW50IiwicmVjdXJzaXZlRmluZEhpdCIsImludGVyYWN0aW9uRXZlbnQiLCJmdW5jIiwiaGl0VGVzdCIsImhpdCIsImludGVyYWN0aXZlUGFyZW50IiwiaGl0VGVzdENoaWxkcmVuIiwiY29udGFpbnNQb2ludCIsImNoaWxkSGl0IiwiZmluZEhpdCIsImludGVyYWN0aXZlVGFyZ2V0IiwiY3Vyc29yIiwiX3RyYWNrZWRQb2ludGVycyIsImhpdFRlc3RFdmVudCIsIkludGVyYWN0aW9uTWFuYWdlciIsImF1dG9QcmV2ZW50RGVmYXVsdCIsImludGVyYWN0aW9uRnJlcXVlbmN5IiwibW91c2UiLCJhY3RpdmVJbnRlcmFjdGlvbkRhdGEiLCJpbnRlcmFjdGlvbkRhdGFQb29sIiwiaW50ZXJhY3Rpb25ET01FbGVtZW50IiwibW92ZVdoZW5JbnNpZGUiLCJldmVudHNBZGRlZCIsInRpY2tlckFkZGVkIiwibW91c2VPdmVyUmVuZGVyZXIiLCJzdXBwb3J0c1RvdWNoRXZlbnRzIiwic3VwcG9ydHNQb2ludGVyRXZlbnRzIiwib25Qb2ludGVyVXAiLCJwcm9jZXNzUG9pbnRlclVwIiwib25Qb2ludGVyQ2FuY2VsIiwicHJvY2Vzc1BvaW50ZXJDYW5jZWwiLCJvblBvaW50ZXJEb3duIiwicHJvY2Vzc1BvaW50ZXJEb3duIiwib25Qb2ludGVyTW92ZSIsInByb2Nlc3NQb2ludGVyTW92ZSIsIm9uUG9pbnRlck91dCIsInByb2Nlc3NQb2ludGVyT3Zlck91dCIsIm9uUG9pbnRlck92ZXIiLCJjdXJzb3JTdHlsZXMiLCJwb2ludGVyIiwiY3VycmVudEN1cnNvck1vZGUiLCJkZWxheWVkRXZlbnRzIiwiX3RlbXBEaXNwbGF5T2JqZWN0IiwiX3VzZVN5c3RlbVRpY2tlciIsInVzZVN5c3RlbVRpY2tlciIsInNldFRhcmdldEVsZW1lbnQiLCJhZGRUaWNrZXJMaXN0ZW5lciIsInJlbW92ZVRpY2tlckxpc3RlbmVyIiwiZ2xvYmFsUG9pbnQiLCJsYXN0T2JqZWN0UmVuZGVyZWQiLCJwcm9jZXNzSW50ZXJhY3RpdmUiLCJlbGVtZW50IiwicmVtb3ZlRXZlbnRzIiwiYWRkRXZlbnRzIiwidGlja2VyVXBkYXRlIiwiSU5URVJBQ1RJT04iLCJtc1BvaW50ZXJFbmFibGVkIiwibXNDb250ZW50Wm9vbWluZyIsIl9kZWx0YVRpbWUiLCJfZGlkTW92ZSIsImludGVyYWN0aW9uRGF0YSIsImNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCIsInNldEN1cnNvck1vZGUiLCJldmVudFN0cmluZyIsImRlbGF5RGlzcGF0Y2hFdmVudCIsIm1hcFBvc2l0aW9uVG9Qb2ludCIsInBhcmVudEVsZW1lbnQiLCJyZXNvbHV0aW9uTXVsdGlwbGllciIsImRlbGF5ZWRMZW4iLCJfYSIsImRpc3BsYXlPYmplY3RfMSIsIm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEiLCJpc05vcm1hbGl6ZWQiLCJjYW5jZWxhYmxlIiwiZXZlbnRMZW4iLCJnZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQiLCJpc1JpZ2h0QnV0dG9uIiwidHJhY2tlZFBvaW50ZXJzIiwicmlnaHREb3duIiwibGVmdERvd24iLCJvblBvaW50ZXJDb21wbGV0ZSIsImNhbmNlbGxlZCIsImV2ZW50QXBwZW5kIiwicmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCIsInRyYWNraW5nRGF0YSIsImlzVG91Y2giLCJpc01vdXNlIiwiaXNNb3VzZVRhcCIsImlzRG93biIsIm92ZXIiLCJub25lIiwicG9pbnRlckV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJnbG9iYWxYIiwiZ2xvYmFsWSIsIm5vcm1hbGl6ZWRFdmVudHMiLCJUb3VjaEV2ZW50IiwibGkiLCJ0b3VjaCIsInJhZGl1c1giLCJyYWRpdXNZIiwibGF5ZXJYIiwib2Zmc2V0WCIsImxheWVyWSIsIm9mZnNldFkiLCJNb3VzZUV2ZW50IiwidGVtcEV2ZW50IiwiUnVubmVyIiwiaXRlbXMiLCJfbmFtZSIsIl9hbGlhc0NvdW50IiwiYTAiLCJhNiIsImE3IiwiZW5zdXJlTm9uQWxpYXNlZEl0ZW1zIiwicmVtb3ZlQWxsIiwiZGlzcGF0Y2giLCJydW4iLCJQUkVGRVJfRU5WIiwiV0VCR0wiLCJXRUJHTDIiLCJTVFJJQ1RfVEVYVFVSRV9DQUNIRSIsIklOU1RBTExFRCIsImF1dG9EZXRlY3RSZXNvdXJjZSIsImV4dGVuc2lvbiIsIlJlc291cmNlUGx1Z2luIiwiUmVzb3VyY2UiLCJkZXN0cm95ZWQiLCJpbnRlcm5hbCIsIm9uUmVzaXplIiwib25VcGRhdGUiLCJvbkVycm9yIiwiYmFzZVRleHR1cmUiLCJ1bmJpbmQiLCJsb2FkIiwiX2Jhc2VUZXh0dXJlIiwiX2dsVGV4dHVyZSIsImRpc3Bvc2UiLCJfc291cmNlIiwiX2V4dGVuc2lvbiIsIkJ1ZmZlclJlc291cmNlIiwidXBsb2FkIiwiZ2xUZXh0dXJlIiwiZ2wiLCJwaXhlbFN0b3JlaSIsIlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCIsImFscGhhTW9kZSIsIlVOUEFDSyIsInRleFN1YkltYWdlMkQiLCJ0ZXhJbWFnZTJEIiwiaW50ZXJuYWxGb3JtYXQiLCJkZWZhdWx0QnVmZmVyT3B0aW9ucyIsInNjYWxlTW9kZSIsIk5FQVJFU1QiLCJSR0JBIiwiTlBNIiwiQmFzZVRleHR1cmUiLCJyZXNvdXJjZSIsIm1pcG1hcCIsImFuaXNvdHJvcGljTGV2ZWwiLCJ3cmFwTW9kZSIsInJlc291cmNlT3B0aW9ucyIsIlVOU0lHTkVEX0JZVEUiLCJURVhUVVJFXzJEIiwicHJlbXVsdGlwbHlBbHBoYSIsInRvdWNoZWQiLCJpc1Bvd2VyT2ZUd28iLCJfcmVmcmVzaFBPVCIsIl9nbFRleHR1cmVzIiwiZGlydHlJZCIsImRpcnR5U3R5bGVJZCIsImNhY2hlSWQiLCJ2YWxpZCIsInRleHR1cmVDYWNoZUlkcyIsIl9iYXRjaEVuYWJsZWQiLCJfYmF0Y2hMb2NhdGlvbiIsInBhcmVudFRleHR1cmVBcnJheSIsInNldFJlc291cmNlIiwic2V0U3R5bGUiLCJkaXJ0eSIsInNldFNpemUiLCJzZXRSZWFsU2l6ZSIsInJlYWxXaWR0aCIsInJlYWxIZWlnaHQiLCJzZXRSZXNvbHV0aW9uIiwib2xkUmVzb2x1dGlvbiIsInJlbW92ZUZyb21DYWNoZSIsImNhc3RUb0Jhc2VUZXh0dXJlIiwiaXNGcmFtZSIsIl9waXhpSWQiLCJhZGRUb0NhY2hlIiwiZnJvbUJ1ZmZlciIsImJ1ZmZlciIsIkZMT0FUIiwiYmFzZVRleHR1cmVGcm9tQ2FjaGUiLCJfZ2xvYmFsQmF0Y2giLCJBYnN0cmFjdE11bHRpUmVzb3VyY2UiLCJpdGVtRGlydHlJZHMiLCJwYXJ0VGV4dHVyZSIsIl9sb2FkIiwiaW5pdEZyb21BcnJheSIsInJlc291cmNlcyIsImFkZEJhc2VUZXh0dXJlQXQiLCJhZGRSZXNvdXJjZUF0IiwiQXJyYXlSZXNvdXJjZSIsInVybHMiLCJURVhUVVJFXzJEX0FSUkFZIiwidGV4dHVyZSIsInRleEltYWdlM0QiLCJ0ZXhTdWJJbWFnZTNEIiwiQmFzZUltYWdlUmVzb3VyY2UiLCJzb3VyY2VBbnkiLCJuYXR1cmFsV2lkdGgiLCJ2aWRlb1dpZHRoIiwibmF0dXJhbEhlaWdodCIsInZpZGVvSGVpZ2h0Iiwibm9TdWJJbWFnZSIsImNyb3NzT3JpZ2luIiwiY3Jvc3NvcmlnaW4iLCJsb2MiLCJsb2NhdGlvbiIsInBhcnNlZFVybCIsInNhbWVQb3J0IiwiZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4iLCJDYW52YXNSZXNvdXJjZSIsIk9mZnNjcmVlbkNhbnZhcyIsIkhUTUxDYW52YXNFbGVtZW50IiwiQ3ViZVJlc291cmNlIiwiYXV0b0xvYWQiLCJsaW5rQmFzZVRleHR1cmUiLCJTSURFUyIsIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCIsIlRFWFRVUkVfQ1VCRV9NQVAiLCJzaWRlIiwiSW1hZ2VSZXNvdXJjZSIsIkhUTUxJbWFnZUVsZW1lbnQiLCJpbWFnZUVsZW1lbnQiLCJJbWFnZSIsInNyYyIsImNvbXBsZXRlIiwiX3Byb2Nlc3MiLCJwcmVzZXJ2ZUJpdG1hcCIsImNyZWF0ZUJpdG1hcCIsImNyZWF0ZUltYWdlQml0bWFwIiwiYml0bWFwIiwiY29tcGxldGVkIiwib25sb2FkIiwib25lcnJvciIsInByb2Nlc3MiLCJnbFRleHR1cmVzIiwib3RoZXJUZXgiLCJjbG9zZSIsIlNWR1Jlc291cmNlIiwic291cmNlQmFzZTY0Iiwic3ZnIiwiX292ZXJyaWRlV2lkdGgiLCJfb3ZlcnJpZGVIZWlnaHQiLCJfcmVzb2x2ZSIsIl9jcm9zc29yaWdpbiIsImJ0b2EiLCJ1bmVzY2FwZSIsIl9sb2FkU3ZnIiwidGVtcEltYWdlIiwic3ZnV2lkdGgiLCJzdmdIZWlnaHQiLCJkcmF3SW1hZ2UiLCJnZXRTaXplIiwic3ZnU3RyaW5nIiwic2l6ZU1hdGNoIiwiU1ZHX1NJWkUiLCJWaWRlb1Jlc291cmNlIiwiSFRNTFZpZGVvRWxlbWVudCIsInZpZGVvRWxlbWVudCIsImZpcnN0U3JjIiwic291cmNlRWxlbWVudCIsIm1pbWUiLCJiYXNlU3JjIiwiZXh0IiwiTUlNRV9UWVBFUyIsIl9hdXRvVXBkYXRlIiwiX2lzQ29ubmVjdGVkVG9UaWNrZXIiLCJfdXBkYXRlRlBTIiwidXBkYXRlRlBTIiwiX21zVG9OZXh0VXBkYXRlIiwiYXV0b1BsYXkiLCJfb25DYW5QbGF5IiwiX29uRXJyb3IiLCJwbGF5YmFja1JhdGUiLCJyZWFkeVN0YXRlIiwiSEFWRV9FTk9VR0hfREFUQSIsIkhBVkVfRlVUVVJFX0RBVEEiLCJfb25QbGF5U3RhcnQiLCJfb25QbGF5U3RvcCIsIl9pc1NvdXJjZVJlYWR5IiwiX2lzU291cmNlUGxheWluZyIsInBhdXNlZCIsImVuZGVkIiwiYXV0b1VwZGF0ZSIsInBsYXkiLCJwYXVzZSIsIm9ndiIsIm1vdiIsIm00diIsIkltYWdlQml0bWFwUmVzb3VyY2UiLCJJbWFnZUJpdG1hcCIsIlN5c3RlbSIsIkRlcHRoUmVzb3VyY2UiLCJ3ZWJHTFZlcnNpb24iLCJERVBUSF9DT01QT05FTlQiLCJERVBUSF9DT01QT05FTlQxNiIsIkZyYW1lYnVmZmVyIiwic3RlbmNpbCIsImRlcHRoIiwiZGlydHlGb3JtYXQiLCJkaXJ0eVNpemUiLCJkZXB0aFRleHR1cmUiLCJjb2xvclRleHR1cmVzIiwiZ2xGcmFtZWJ1ZmZlcnMiLCJkaXNwb3NlUnVubmVyIiwibXVsdGlzYW1wbGUiLCJhZGRDb2xvclRleHR1cmUiLCJPRkYiLCJhZGREZXB0aFRleHR1cmUiLCJVTlNJR05FRF9TSE9SVCIsImVuYWJsZURlcHRoIiwiZW5hYmxlU3RlbmNpbCIsImRlc3Ryb3lEZXB0aFRleHR1cmUiLCJCYXNlUmVuZGVyVGV4dHVyZSIsIndpZHRoXzEiLCJoZWlnaHRfMSIsImNsZWFyQ29sb3IiLCJmcmFtZWJ1ZmZlciIsIm1hc2tTdGFjayIsImZpbHRlclN0YWNrIiwiVGV4dHVyZVV2cyIsIngzIiwieTMiLCJ1dnNGbG9hdDMyIiwiZnJhbWUiLCJiYXNlRnJhbWUiLCJ0dyIsInRoIiwidzIiLCJoMiIsImNYIiwiY1kiLCJERUZBVUxUX1VWUyIsIlRleHR1cmUiLCJvcmlnIiwiYW5jaG9yIiwibm9GcmFtZSIsIl9mcmFtZSIsIl91dnMiLCJ1dk1hdHJpeCIsIl9yb3RhdGUiLCJkZWZhdWx0QW5jaG9yIiwiX3VwZGF0ZUlEIiwib25CYXNlVGV4dHVyZVVwZGF0ZWQiLCJ1cGRhdGVVdnMiLCJkZXN0cm95QmFzZSIsImZyb21VUkwiLCJmcm9tTG9hZGVyIiwiaW1hZ2VVcmwiLCJ0ZXh0dXJlRnJvbUNhY2hlIiwieE5vdEZpdCIsInlOb3RGaXQiLCJyZWxhdGlvbnNoaXAiLCJlcnJvclgiLCJlcnJvclkiLCJyZW1vdmVBbGxIYW5kbGVycyIsInRleCIsIldISVRFIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJjcmVhdGVXaGl0ZVRleHR1cmUiLCJSZW5kZXJUZXh0dXJlIiwiYmFzZVJlbmRlclRleHR1cmUiLCJfbGVnYWN5UmVuZGVyZXIiLCJsZWdhY3lSZW5kZXJlciIsImZpbHRlckZyYW1lIiwiZmlsdGVyUG9vbEtleSIsInJlc2l6ZUJhc2VUZXh0dXJlIiwiUmVuZGVyVGV4dHVyZVBvb2wiLCJ0ZXh0dXJlT3B0aW9ucyIsInRleHR1cmVQb29sIiwiZW5hYmxlRnVsbFNjcmVlbiIsIl9waXhlbHNXaWR0aCIsIl9waXhlbHNIZWlnaHQiLCJjcmVhdGVUZXh0dXJlIiwiZ2V0T3B0aW1hbFRleHR1cmUiLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsIlNDUkVFTl9LRVkiLCJyZW5kZXJUZXh0dXJlIiwiZ2V0RmlsdGVyVGV4dHVyZSIsImZpbHRlclRleHR1cmUiLCJyZXR1cm5UZXh0dXJlIiwicmV0dXJuRmlsdGVyVGV4dHVyZSIsImRlc3Ryb3lUZXh0dXJlcyIsInRleHR1cmVzIiwic2V0U2NyZWVuU2l6ZSIsInNjcmVlbktleSIsIkF0dHJpYnV0ZSIsIm5vcm1hbGl6ZWQiLCJzdHJpZGUiLCJVSUQiLCJCdWZmZXIiLCJfc3RhdGljIiwiX2dsQnVmZmVycyIsInN0YXRpYyIsIkJZVEVTX1BFUl9FTEVNRU5UIiwiYnl0ZVNpemVNYXAiLCI1MTI2IiwiNTEyMyIsIjUxMjEiLCJVSUQkMSIsIm1hcCQxIiwiR2VvbWV0cnkiLCJidWZmZXJzIiwiYXR0cmlidXRlcyIsImluZGV4QnVmZmVyIiwiZ2xWZXJ0ZXhBcnJheU9iamVjdHMiLCJpbnN0YW5jZWQiLCJpbnN0YW5jZUNvdW50IiwicmVmQ291bnQiLCJhZGRBdHRyaWJ1dGUiLCJidWZmZXJJbmRleCIsImdldEJ1ZmZlciIsImFkZEluZGV4IiwiZ2V0SW5kZXgiLCJpbnRlcmxlYXZlIiwiYXJyYXlzIiwic2l6ZXMiLCJpbnRlcmxlYXZlZEJ1ZmZlciIsImF0dHJpYnV0ZSIsIm91dFNpemUiLCJ2aWV3cyIsImxpdHRsZU9mZnNldCIsImdlb21ldHJ5IiwiYXR0cmliIiwibWVyZ2UiLCJnZW9tZXRyaWVzIiwiZ2VvbWV0cnlPdXQiLCJvZmZzZXRzIiwib2Zmc2V0Iiwib2Zmc2V0MiIsImJ1ZmZlckluZGV4VG9Db3VudCIsImluZGV4QnVmZmVyRGF0YSIsIlF1YWQiLCJRdWFkVXYiLCJ1dnMiLCJ2ZXJ0ZXhCdWZmZXIiLCJ1dkJ1ZmZlciIsInRhcmdldFRleHR1cmVGcmFtZSIsImRlc3RpbmF0aW9uRnJhbWUiLCJpbnZhbGlkYXRlIiwiVUlEJDIiLCJVbmlmb3JtR3JvdXAiLCJ1bmlmb3JtcyIsImdyb3VwIiwic3luY1VuaWZvcm1zIiwiRmlsdGVyU3RhdGUiLCJzb3VyY2VGcmFtZSIsIkZpbHRlclN5c3RlbSIsImRlZmF1bHRGaWx0ZXJTdGFjayIsInN0YXRlUG9vbCIsInF1YWQiLCJxdWFkVXYiLCJ0ZW1wUmVjdCIsImFjdGl2ZVN0YXRlIiwiZ2xvYmFsVW5pZm9ybXMiLCJvdXRwdXRGcmFtZSIsImlucHV0U2l6ZSIsImlucHV0UGl4ZWwiLCJpbnB1dENsYW1wIiwiZmlsdGVyQ2xhbXAiLCJmb3JjZUNsZWFyIiwidXNlTWF4UGFkZGluZyIsInN0YXRlIiwicGFkZGluZyIsImF1dG9GaXQiLCJnZXRPcHRpbWFsRmlsdGVyVGV4dHVyZSIsImxhc3RTdGF0ZSIsImJsaXQiLCJCTEVORCIsImZsaXAiLCJmbG9wIiwiQ0xFQVIiLCJiaW5kQW5kQ2xlYXIiLCJjbGVhck1vZGUiLCJCTElUIiwiYXBwbHlGaWx0ZXIiLCJ1U2FtcGxlciIsImZpbHRlckdsb2JhbHMiLCJzaGFkZXIiLCJkcmF3IiwiVFJJQU5HTEVTIiwiVFJJQU5HTEVfU1RSSVAiLCJjYWxjdWxhdGVTcHJpdGVNYXRyaXgiLCJvdXRwdXRNYXRyaXgiLCJzcHJpdGUiLCJfdGV4dHVyZSIsIm1hcHBlZE1hdHJpeCIsIlRFTVBfTUFUUklYIiwic3dhcCIsImVtcHR5UG9vbCIsIk9iamVjdFJlbmRlcmVyIiwiX29iamVjdCIsIkJhdGNoU3lzdGVtIiwiZW1wdHlSZW5kZXJlciIsImN1cnJlbnRSZW5kZXJlciIsInNldE9iamVjdFJlbmRlcmVyIiwib2JqZWN0UmVuZGVyZXIiLCJjb3B5Qm91bmRUZXh0dXJlcyIsIm1heFRleHR1cmVzIiwiYm91bmRUZXh0dXJlcyIsImJvdW5kQXJyYXkiLCJ0ZXhBcnJheSIsImJhdGNoSWQiLCJlbGVtZW50cyIsImJvdW5kIiwiQ09OVEVYVF9VSURfQ09VTlRFUiIsIkNvbnRleHRTeXN0ZW0iLCJleHRlbnNpb25zIiwic3VwcG9ydHMiLCJ1aW50MzJJbmRpY2VzIiwiaGFuZGxlQ29udGV4dExvc3QiLCJoYW5kbGVDb250ZXh0UmVzdG9yZWQiLCJpc0NvbnRleHRMb3N0IiwiY29udGV4dENoYW5nZSIsIkNPTlRFWFRfVUlEIiwiZ2V0RXh0ZW5zaW9uIiwicmVzdG9yZUNvbnRleHQiLCJpbml0RnJvbUNvbnRleHQiLCJ2YWxpZGF0ZUNvbnRleHQiLCJydW5uZXJzIiwiaW5pdEZyb21PcHRpb25zIiwiY3JlYXRlQ29udGV4dCIsImdldEV4dGVuc2lvbnMiLCJkcmF3QnVmZmVycyIsImxvc2VDb250ZXh0IiwidmVydGV4QXJyYXlPYmplY3QiLCJhbmlzb3Ryb3BpY0ZpbHRlcmluZyIsInVpbnQzMkVsZW1lbnRJbmRleCIsImZsb2F0VGV4dHVyZSIsImZsb2F0VGV4dHVyZUxpbmVhciIsInRleHR1cmVIYWxmRmxvYXQiLCJ0ZXh0dXJlSGFsZkZsb2F0TGluZWFyIiwiY29sb3JCdWZmZXJGbG9hdCIsInVzZVByb2dyYW0iLCJwb3N0cmVuZGVyIiwiZ2V0Q29udGV4dEF0dHJpYnV0ZXMiLCJoYXN1aW50MzIiLCJXZWJHTDJSZW5kZXJpbmdDb250ZXh0IiwiR0xGcmFtZWJ1ZmZlciIsIm1zYWFCdWZmZXIiLCJibGl0RnJhbWVidWZmZXIiLCJ0ZW1wUmVjdGFuZ2xlIiwiRnJhbWVidWZmZXJTeXN0ZW0iLCJtYW5hZ2VkRnJhbWVidWZmZXJzIiwidW5rbm93bkZyYW1lYnVmZmVyIiwibXNhYVNhbXBsZXMiLCJ2aWV3cG9ydCIsImhhc01SVCIsIndyaXRlRGVwdGhUZXh0dXJlIiwiZGlzcG9zZUFsbCIsIm5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uXzEiLCJuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24iLCJXRUJHTF9MRUdBQ1kiLCJhY3RpdmVUZXh0dXJlcyIsImRyYXdCdWZmZXJzV0VCR0wiLCJnZXRJbnRlcm5hbGZvcm1hdFBhcmFtZXRlciIsIlJFTkRFUkJVRkZFUiIsIlJHQkE4IiwiU0FNUExFUyIsImZibyIsImluaXRGcmFtZWJ1ZmZlciIsImJpbmRGcmFtZWJ1ZmZlciIsIkZSQU1FQlVGRkVSIiwidXBkYXRlRnJhbWVidWZmZXIiLCJyZXNpemVGcmFtZWJ1ZmZlciIsInNldFZpZXdwb3J0IiwiQ09MT1IiLCJERVBUSCIsImNyZWF0ZUZyYW1lYnVmZmVyIiwiZGV0ZWN0U2FtcGxlcyIsImJpbmRSZW5kZXJidWZmZXIiLCJyZW5kZXJidWZmZXJTdG9yYWdlIiwiREVQVEhfU1RFTkNJTCIsImNyZWF0ZVJlbmRlcmJ1ZmZlciIsInJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSIsImZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyIiwiQ09MT1JfQVRUQUNITUVOVDAiLCJwYXJlbnRUZXh0dXJlIiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJERVBUSF9BVFRBQ0hNRU5UIiwiREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UIiwic2FtcGxlcyIsInJlcyIsInNvdXJjZVBpeGVscyIsImRlc3RQaXhlbHMiLCJzYW1lU2l6ZSIsIlJFQURfRlJBTUVCVUZGRVIiLCJDT0xPUl9CVUZGRVJfQklUIiwiTElORUFSIiwiZGlzcG9zZUZyYW1lYnVmZmVyIiwiY29udGV4dExvc3QiLCJkZWxldGVGcmFtZWJ1ZmZlciIsImRlbGV0ZVJlbmRlcmJ1ZmZlciIsImZvcmNlU3RlbmNpbCIsIkdMQnVmZmVyIiwiYnl0ZUxlbmd0aCIsImJ5dGVTaXplTWFwJDEiLCJHZW9tZXRyeVN5c3RlbSIsIl9hY3RpdmVHZW9tZXRyeSIsIl9hY3RpdmVWYW8iLCJoYXNWYW8iLCJoYXNJbnN0YW5jZSIsImNhblVzZVVJbnQzMkVsZW1lbnRJbmRleCIsIm1hbmFnZWRHZW9tZXRyaWVzIiwibWFuYWdlZEJ1ZmZlcnMiLCJjcmVhdGVWZXJ0ZXhBcnJheSIsIm5hdGl2ZVZhb0V4dGVuc2lvbl8xIiwiY3JlYXRlVmVydGV4QXJyYXlPRVMiLCJiaW5kVmVydGV4QXJyYXkiLCJ2YW8iLCJiaW5kVmVydGV4QXJyYXlPRVMiLCJkZWxldGVWZXJ0ZXhBcnJheSIsImRlbGV0ZVZlcnRleEFycmF5T0VTIiwidmVydGV4QXR0cmliRGl2aXNvciIsImluc3RhbmNlRXh0XzEiLCJ2ZXJ0ZXhBdHRyaWJEaXZpc29yQU5HTEUiLCJkcmF3RWxlbWVudHNJbnN0YW5jZWQiLCJkcmF3RWxlbWVudHNJbnN0YW5jZWRBTkdMRSIsImRyYXdBcnJheXNJbnN0YW5jZWQiLCJkcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUiLCJ2YW9zIiwicHJvZ3JhbSIsImluaXRHZW9tZXRyeVZhbyIsImFjdGl2YXRlVmFvIiwidXBkYXRlQnVmZmVycyIsImdsQnVmZmVyIiwiRUxFTUVOVF9BUlJBWV9CVUZGRVIiLCJBUlJBWV9CVUZGRVIiLCJiaW5kQnVmZmVyIiwiX2JvdW5kQnVmZmVyIiwiYnVmZmVyU3ViRGF0YSIsImRyYXdUeXBlIiwiU1RBVElDX0RSQVciLCJEWU5BTUlDX0RSQVciLCJidWZmZXJEYXRhIiwiY2hlY2tDb21wYXRpYmlsaXR5IiwiZ2VvbWV0cnlBdHRyaWJ1dGVzIiwic2hhZGVyQXR0cmlidXRlcyIsImF0dHJpYnV0ZURhdGEiLCJnZXRTaWduYXR1cmUiLCJhdHRyaWJzIiwic3RyaW5ncyIsInNpZ25hdHVyZSIsInZhb09iamVjdEhhc2giLCJ0ZW1wU3RyaWRlIiwidGVtcFN0YXJ0IiwiYXR0cmliU2l6ZSIsImNyZWF0ZUJ1ZmZlciIsImRpc3Bvc2VCdWZmZXIiLCJkZWxldGVCdWZmZXIiLCJkaXNwb3NlR2VvbWV0cnkiLCJidWYiLCJ2YW9JZCIsImxhc3RCdWZmZXIiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJieXRlU2l6ZSIsImdsVHlwZSIsIlVOU0lHTkVEX0lOVCIsImRyYXdFbGVtZW50cyIsImRyYXdBcnJheXMiLCJNYXNrRGF0YSIsImF1dG9EZXRlY3QiLCJwb29sZWQiLCJpc01hc2tEYXRhIiwiX3N0ZW5jaWxDb3VudGVyIiwiX3NjaXNzb3JDb3VudGVyIiwiX3NjaXNzb3JSZWN0IiwiX3RhcmdldCIsImNvcHlDb3VudGVyc09yUmVzZXQiLCJtYXNrQWJvdmUiLCJjb21waWxlU2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwic2hhZGVyU291cmNlIiwiY29tcGlsZVByb2dyYW0iLCJ2ZXJ0ZXhTcmMiLCJmcmFnbWVudFNyYyIsImF0dHJpYnV0ZUxvY2F0aW9ucyIsImdsVmVydFNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJnbEZyYWdTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJjcmVhdGVQcm9ncmFtIiwiYXR0YWNoU2hhZGVyIiwiYmluZEF0dHJpYkxvY2F0aW9uIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImdldFNoYWRlckluZm9Mb2ciLCJWQUxJREFURV9TVEFUVVMiLCJnZXRFcnJvciIsImdldFByb2dyYW1JbmZvTG9nIiwiZGVsZXRlUHJvZ3JhbSIsImRlbGV0ZVNoYWRlciIsImJvb2xlYW5BcnJheSIsIm1heEZyYWdtZW50UHJlY2lzaW9uIiwidW5rbm93bkNvbnRleHQiLCJnZXRUZXN0Q29udGV4dCIsInNldFByZWNpc2lvbiIsInJlcXVlc3RlZFByZWNpc2lvbiIsIm1heFN1cHBvcnRlZFByZWNpc2lvbiIsInN1YnN0cmluZyIsInByZWNpc2lvbiIsIkhJR0giLCJNRURJVU0iLCJHTFNMX1RPX1NJWkUiLCJmbG9hdCIsInZlYzIiLCJ2ZWMzIiwidmVjNCIsImludCIsIml2ZWMyIiwiaXZlYzMiLCJpdmVjNCIsImJvb2wiLCJidmVjMiIsImJ2ZWMzIiwiYnZlYzQiLCJtYXQyIiwibWF0MyIsIm1hdDQiLCJzYW1wbGVyMkQiLCJtYXBTaXplIiwiR0xfVEFCTEUiLCJHTF9UT19HTFNMX1RZUEVTIiwiRkxPQVRfVkVDMiIsIkZMT0FUX1ZFQzMiLCJGTE9BVF9WRUM0IiwiSU5UIiwiSU5UX1ZFQzIiLCJJTlRfVkVDMyIsIklOVF9WRUM0IiwiQk9PTCIsIkJPT0xfVkVDMiIsIkJPT0xfVkVDMyIsIkJPT0xfVkVDNCIsIkZMT0FUX01BVDIiLCJGTE9BVF9NQVQzIiwiRkxPQVRfTUFUNCIsIlNBTVBMRVJfMkQiLCJJTlRfU0FNUExFUl8yRCIsIlVOU0lHTkVEX0lOVF9TQU1QTEVSXzJEIiwiU0FNUExFUl9DVUJFIiwiSU5UX1NBTVBMRVJfQ1VCRSIsIlVOU0lHTkVEX0lOVF9TQU1QTEVSX0NVQkUiLCJTQU1QTEVSXzJEX0FSUkFZIiwiSU5UX1NBTVBMRVJfMkRfQVJSQVkiLCJVTlNJR05FRF9JTlRfU0FNUExFUl8yRF9BUlJBWSIsIm1hcFR5cGUiLCJ0eXBlTmFtZXMiLCJ0biIsInVuc2FmZUV2YWwiLCJ1bmlmb3JtUGFyc2VycyIsImNvZGUiLCJ1bmlmb3JtIiwiR0xTTF9UT19TSU5HTEVfU0VUVEVSU19DQUNIRUQiLCJzYW1wbGVyQ3ViZSIsInNhbXBsZXIyREFycmF5IiwiR0xTTF9UT19BUlJBWV9TRVRURVJTIiwiZnJhZ1RlbXBsYXRlIiwiZ2VuZXJhdGVJZlRlc3RTcmMiLCJtYXhJZnMiLCJVSUQkMyIsIm5hbWVDYWNoZSIsIlByb2dyYW0iLCJkZWZhdWx0VmVydGV4U3JjIiwiZGVmYXVsdEZyYWdtZW50U3JjIiwiZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0Iiwic2hhZGVyRnJhZ21lbnQiLCJISUdIX0ZMT0FUIiwiZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24iLCJleHRyYWN0RGF0YSIsImdsUHJvZ3JhbXMiLCJnZXRBdHRyaWJ1dGVEYXRhIiwidW5pZm9ybURhdGEiLCJnZXRVbmlmb3JtRGF0YSIsImF0dHJpYnV0ZXNBcnJheSIsInRvdGFsQXR0cmlidXRlcyIsIkFDVElWRV9BVFRSSUJVVEVTIiwiYXR0cmliRGF0YSIsImdldEFjdGl2ZUF0dHJpYiIsInRvdGFsVW5pZm9ybXMiLCJBQ1RJVkVfVU5JRk9STVMiLCJnZXRBY3RpdmVVbmlmb3JtIiwiU2hhZGVyIiwidW5pZm9ybUdyb3VwIiwiY2hlY2tVbmlmb3JtRXhpc3RzIiwiU3RhdGUiLCJwb2x5Z29uT2Zmc2V0IiwiYmxlbmQiLCJfYmxlbmRNb2RlIiwiX3BvbHlnb25PZmZzZXQiLCJmb3IyZCIsImRlcHRoVGVzdCIsIkZpbHRlciIsImFUZXh0dXJlQ29vcmQiLCJmaWx0ZXJNYW5hZ2VyIiwiX2N1cnJlbnRTdGF0ZSIsInRlbXBNYXQiLCJUZXh0dXJlTWF0cml4IiwiY2xhbXBNYXJnaW4iLCJtYXBDb29yZCIsInVDbGFtcEZyYW1lIiwidUNsYW1wT2Zmc2V0IiwiX3RleHR1cmVJRCIsImNsYW1wT2Zmc2V0IiwiaXNTaW1wbGUiLCJtdWx0aXBseVV2cyIsImZvcmNlVXBkYXRlIiwidGV4QmFzZSIsIm1hcmdpbiIsIlNwcml0ZU1hc2tGaWx0ZXIiLCJtYXNrTWF0cml4IiwibWFza1Nwcml0ZSIsIm5wbUFscGhhIiwib3RoZXJNYXRyaXgiLCJtYXNrQ2xhbXAiLCJNYXNrU3lzdGVtIiwiZW5hYmxlU2Npc3NvciIsImFscGhhTWFza1Bvb2wiLCJtYXNrRGF0YVBvb2wiLCJhbHBoYU1hc2tJbmRleCIsInNldE1hc2tTdGFjayIsInNjaXNzb3IiLCJtYXNrRGF0YU9yVGFyZ2V0IiwibWFza0RhdGEiLCJkZXRlY3QiLCJTQ0lTU09SIiwiU1RFTkNJTCIsIlNQUklURSIsInB1c2hTcHJpdGVNYXNrIiwicG9wU3ByaXRlTWFzayIsImlzRmFzdFJlY3QiLCJyb3RYIiwicm90WFkiLCJhbHBoYU1hc2tGaWx0ZXIiLCJzdGFzaEZpbHRlckFyZWEiLCJBYnN0cmFjdE1hc2tTeXN0ZW0iLCJnbENvbnN0IiwiZ2V0U3RhY2tMZW5ndGgiLCJjdXJTdGFja0xlbiIsIm5ld1N0YWNrTGVuIiwiZGlzYWJsZSIsImVuYWJsZSIsIl91c2VDdXJyZW50IiwiU2Npc3NvclN5c3RlbSIsIldlYkdMUmVuZGVyaW5nQ29udGV4dCIsIlNDSVNTT1JfVEVTVCIsInByZXZEYXRhIiwicnQiLCJwcm9qZWN0aW9uIiwiU3RlbmNpbFN5c3RlbSIsIlNURU5DSUxfVEVTVCIsInByZXZNYXNrQ291bnQiLCJjb2xvck1hc2siLCJzdGVuY2lsRnVuYyIsIkVRVUFMIiwiX2dldEJpdHdpc2VNYXNrIiwic3RlbmNpbE9wIiwiS0VFUCIsIklOQ1IiLCJTVEVOQ0lMX0JVRkZFUl9CSVQiLCJjbGVhclN0ZW5jaWwiLCJERUNSIiwiUHJvamVjdGlvblN5c3RlbSIsImRlZmF1bHRGcmFtZSIsInByb2plY3Rpb25NYXRyaXgiLCJjYWxjdWxhdGVQcm9qZWN0aW9uIiwic3luY1VuaWZvcm1Hcm91cCIsImdsb2JhbHMiLCJfZGVzdGluYXRpb25GcmFtZSIsIl9yZXNvbHV0aW9uIiwiX21hdHJpeCIsInRlbXBSZWN0MiIsInZpZXdwb3J0RnJhbWUiLCJSZW5kZXJUZXh0dXJlU3lzdGVtIiwiX2JhY2tncm91bmRDb2xvclJnYmEiLCJkZWZhdWx0TWFza1N0YWNrIiwic2NyZWVuIiwiR0xQcm9ncmFtIiwidW5pZm9ybUdyb3VwcyIsIlVJRCQ0IiwiZGVmYXVsdFN5bmNEYXRhIiwidGV4dHVyZUNvdW50IiwiU2hhZGVyU3lzdGVtIiwic3lzdGVtQ2hlY2siLCJjYWNoZSIsInVuc2FmZUV2YWxTdXBwb3J0ZWQiLCJkb250U3luYyIsImdsUHJvZ3JhbSIsImdlbmVyYXRlU2hhZGVyIiwic2V0VW5pZm9ybXMiLCJzeW5jRGF0YSIsImdldGdsUHJvZ3JhbSIsImNyZWF0ZVN5bmNHcm91cHMiLCJmdW5jRnJhZ21lbnRzIiwicGFyc2VkIiwidGVtcGxhdGUiLCJnZW5lcmF0ZVVuaWZvcm1zU3luYyIsImF0dHJpYk1hcCIsInNoYWRlclByb2dyYW0iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJTdGF0ZVN5c3RlbSIsInN0YXRlSWQiLCJfYmxlbmRFcSIsInNldEJsZW5kIiwic2V0T2Zmc2V0Iiwic2V0Q3VsbEZhY2UiLCJzZXREZXB0aFRlc3QiLCJzZXRGcm9udEZhY2UiLCJjaGVja3MiLCJkZWZhdWx0U3RhdGUiLCJibGVuZE1vZGVzIiwiT05FIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsIk1VTFRJUExZIiwiRFNUX0NPTE9SIiwiT05FX01JTlVTX1NSQ19DT0xPUiIsIk9WRVJMQVkiLCJEQVJLRU4iLCJMSUdIVEVOIiwiQ09MT1JfRE9ER0UiLCJDT0xPUl9CVVJOIiwiSEFSRF9MSUdIVCIsIlNPRlRfTElHSFQiLCJESUZGRVJFTkNFIiwiRVhDTFVTSU9OIiwiSFVFIiwiU0FUVVJBVElPTiIsIkxVTUlOT1NJVFkiLCJTUkNfQUxQSEEiLCJTUkNfSU4iLCJEU1RfQUxQSEEiLCJaRVJPIiwiU1JDX09VVCIsIk9ORV9NSU5VU19EU1RfQUxQSEEiLCJTUkNfQVRPUCIsIkRTVF9PVkVSIiwiRFNUX0lOIiwiRFNUX09VVCIsIkRTVF9BVE9QIiwiWE9SIiwiU1VCVFJBQ1QiLCJGVU5DX1JFVkVSU0VfU1VCVFJBQ1QiLCJGVU5DX0FERCIsIm1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aSIsImRpZmYiLCJmb3JjZVN0YXRlIiwidXBkYXRlQ2hlY2siLCJjaGVja0JsZW5kTW9kZSIsImNoZWNrUG9seWdvbk9mZnNldCIsIlBPTFlHT05fT0ZGU0VUX0ZJTEwiLCJERVBUSF9URVNUIiwiQ1VMTF9GQUNFIiwiZnJvbnRGYWNlIiwic2V0QmxlbmRNb2RlIiwiYmxlbmRGdW5jIiwiYmxlbmRGdW5jU2VwYXJhdGUiLCJibGVuZEVxdWF0aW9uU2VwYXJhdGUiLCJzZXRQb2x5Z29uT2Zmc2V0IiwiVU5QQUNLX0ZMSVBfWV9XRUJHTCIsIlRleHR1cmVHQ1N5c3RlbSIsImNoZWNrQ291bnQiLCJtYXhJZGxlIiwiY2hlY2tDb3VudE1heCIsIk1BTlVBTCIsInRtIiwibWFuYWdlZFRleHR1cmVzIiwid2FzUmVtb3ZlZCIsImRlc3Ryb3lUZXh0dXJlIiwidW5sb2FkIiwiR0xUZXh0dXJlIiwiVGV4dHVyZVN5c3RlbSIsImN1cnJlbnRMb2NhdGlvbiIsIl91bmtub3duQm91bmRUZXh0dXJlcyIsInVua25vd25UZXh0dXJlIiwiZ2V0UGFyYW1ldGVyIiwiTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMiLCJlbXB0eVRleHR1cmVzIiwiZW1wdHlUZXh0dXJlMkQiLCJiaW5kVGV4dHVyZSIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX01BR19GSUxURVIiLCJURVhUVVJFX01JTl9GSUxURVIiLCJ0ZXh0dXJlR0MiLCJpbml0VGV4dHVyZSIsImFjdGl2ZVRleHR1cmUiLCJURVhUVVJFMCIsInVwZGF0ZVRleHR1cmUiLCJpbml0VGV4dHVyZVR5cGUiLCJSR0JBMzJGIiwiSEFMRl9GTE9BVCIsIlJHQkExNkYiLCJ1cGRhdGVUZXh0dXJlU3R5bGUiLCJza2lwUmVtb3ZlIiwiZGVsZXRlVGV4dHVyZSIsIlBPVzIiLCJDTEFNUCIsImdlbmVyYXRlTWlwbWFwIiwiVEVYVFVSRV9XUkFQX1MiLCJURVhUVVJFX1dSQVBfVCIsIkxJTkVBUl9NSVBNQVBfTElORUFSIiwiTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCIsImFuaXNvdHJvcGljRXh0IiwibGV2ZWwiLCJNQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJ0ZXhQYXJhbWV0ZXJmIiwiVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJ0ZW1wTWF0cml4IiwiUmVuZGVyZXIiLCJwcmVyZW5kZXIiLCJhZGRTeXN0ZW0iLCJpbml0UGx1Z2lucyIsIl9fcGx1Z2lucyIsInByZW11bHRpcGxpZWRBbHBoYSIsInBvd2VyUHJlZmVyZW5jZSIsImxvZyIsInNheUhlbGxvIiwiY29udGV4dE9wdGlvbnMiLCJmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0Iiwic3VjY2VzcyIsIkNsYXNzUmVmIiwic2tpcFVwZGF0ZVRyYW5zZm9ybSIsImlzTG9zdCIsInNjcmVlbldpZHRoIiwic2NyZWVuSGVpZ2h0IiwicmVtb3ZlVmlldyIsInJlZ2lzdGVyUGx1Z2luIiwicGx1Z2luTmFtZSIsImN0b3IiLCJBYnN0cmFjdFJlbmRlcmVyIiwiVU5LTk9XTiIsInJvdW5kUGl4ZWxzIiwiYXV0b1Jlc2l6ZSIsIl9iYWNrZ3JvdW5kQ29sb3IiLCJfYmFja2dyb3VuZENvbG9yU3RyaW5nIiwic3RhdGljTWFwIiwiZ2VuZXJhdGVUZXh0dXJlIiwicmVnaW9uIiwidGhpc0FueSIsImRlZmF1bHRGaWx0ZXIiLCJCYXRjaERyYXdDYWxsIiwiQmF0Y2hUZXh0dXJlQXJyYXkiLCJWaWV3YWJsZUJ1ZmZlciIsInJhd0JpbmFyeURhdGEiLCJ1aW50MzJWaWV3IiwiZmxvYXQzMlZpZXciLCJfaW50OFZpZXciLCJJbnQ4QXJyYXkiLCJfdWludDhWaWV3IiwiX2ludDE2VmlldyIsIkludDE2QXJyYXkiLCJfdWludDE2VmlldyIsIl9pbnQzMlZpZXciLCJzaXplT2YiLCJBYnN0cmFjdEJhdGNoUmVuZGVyZXIiLCJzaGFkZXJHZW5lcmF0b3IiLCJnZW9tZXRyeUNsYXNzIiwidmVydGV4U2l6ZSIsIl92ZXJ0ZXhDb3VudCIsIl9pbmRleENvdW50IiwiX2J1ZmZlcmVkRWxlbWVudHMiLCJfYnVmZmVyZWRUZXh0dXJlcyIsIl9idWZmZXJTaXplIiwiX3NoYWRlciIsIl9wYWNrZWRHZW9tZXRyaWVzIiwiX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUiLCJfZmx1c2hJZCIsIl9hQnVmZmVycyIsIl9pQnVmZmVycyIsIk1BWF9URVhUVVJFUyIsIm9uUHJlcmVuZGVyIiwiX2RjSW5kZXgiLCJfYUluZGV4IiwiX2lJbmRleCIsIl9hdHRyaWJ1dGVCdWZmZXIiLCJfaW5kZXhCdWZmZXIiLCJfdGVtcEJvdW5kVGV4dHVyZXMiLCJjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyIiwiaW5pdEZsdXNoQnVmZmVycyIsIl9kcmF3Q2FsbFBvb2wiLCJfdGV4dHVyZUFycmF5UG9vbCIsIk1BWF9TUFJJVEVTIiwiTUFYX1RBIiwiaW5kaWNlcyIsImJ1aWxkVGV4dHVyZXNBbmREcmF3Q2FsbHMiLCJ0ZXh0dXJlQXJyYXlzIiwiVElDSyIsImNvdW50VGV4QXJyYXlzIiwiYnVpbGREcmF3Q2FsbHMiLCJmaW5pc2giLCJkcmF3Q2FsbHMiLCJkY0luZGV4IiwiYUluZGV4IiwiaUluZGV4IiwiZHJhd0NhbGwiLCJzcHJpdGVCbGVuZE1vZGUiLCJwYWNrSW50ZXJsZWF2ZWRHZW9tZXRyeSIsImJpbmRBbmRDbGVhclRleEFycmF5IiwidGV4dHVyZVN5c3RlbSIsInVwZGF0ZUdlb21ldHJ5IiwicGFja2VkR2VvbWV0cmllcyIsImF0dHJpYnV0ZUJ1ZmZlciIsIl9idWZmZXIiLCJkcmF3QmF0Y2hlcyIsImRjQ291bnQiLCJzdGF0ZVN5c3RlbSIsImN1clRleEFycmF5IiwiX2IiLCJnZXRBdHRyaWJ1dGVCdWZmZXIiLCJnZXRJbmRleEJ1ZmZlciIsInJvdW5kZWRQMiIsInJvdW5kZWRTaXplSW5kZXgiLCJyb3VuZGVkU2l6ZSIsInBhY2tlZFZlcnRpY2VzIiwiaW5kaWNpZXMiLCJ0ZXh0dXJlSWQiLCJhcmdiIiwiX3RpbnRSR0IiLCJCYXRjaFNoYWRlckdlbmVyYXRvciIsInByb2dyYW1DYWNoZSIsImRlZmF1bHRHcm91cENhY2hlIiwic2FtcGxlVmFsdWVzIiwidVNhbXBsZXJzIiwiZ2VuZXJhdGVTYW1wbGVTcmMiLCJ0cmFuc2xhdGlvbk1hdHJpeCIsIkJhdGNoR2VvbWV0cnkiLCJkZWZhdWx0VmVydGV4JDIiLCJkZWZhdWx0RnJhZ21lbnQkMiIsIkJhdGNoUmVuZGVyZXIiLCJCYXRjaFBsdWdpbkZhY3RvcnkiLCJ2ZXJ0ZXgiLCJmcmFnbWVudCIsIkJhdGNoUGx1Z2luIiwiQXBwbGljYXRpb24iLCJmb3JjZUNhbnZhcyIsImF1dG9EZXRlY3RSZW5kZXJlciIsInN0YWdlIiwiX3BsdWdpbnMiLCJwbHVnaW4iLCJzdGFnZU9wdGlvbnMiLCJyZXZlcnNlIiwiUmVzaXplUGx1Z2luIiwiZG9tIiwicXVldWVSZXNpemUiLCJfcmVzaXplVG8iLCJjYW5jZWxSZXNpemUiLCJfcmVzaXplSWQiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInJlc2l6ZVRvIiwiVEVNUF9SRUNUIiwiRXh0cmFjdCIsImV4dHJhY3QiLCJpbWFnZSIsInF1YWxpdHkiLCJiYXNlNjQiLCJ0b0RhdGFVUkwiLCJmbGlwWSIsImdlbmVyYXRlZCIsImNhbnZhc0J1ZmZlciIsIndlYmdsUGl4ZWxzIiwicmVhZFBpeGVscyIsImNhbnZhc0RhdGEiLCJnZXRJbWFnZURhdGEiLCJhcnJheVBvc3REaXZpZGUiLCJwdXRJbWFnZURhdGEiLCJ0YXJnZXRfMSIsInBpeGVscyIsIl9ub29wIiwiZWFjaFNlcmllcyIsIml0ZXJhdG9yIiwiZGVmZXJOZXh0Iiwib25seU9uY2UiLCJjYWxsRm4iLCJfZGVmaW5lUHJvcGVydGllcyIsInVzZVhkciIsIlhEb21haW5SZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJfbm9vcCQxIiwiX3NldEZsYWciLCJTVEFUVVNfRkxBR1MiLCJEQVRBX1VSTCIsIl9nZXRFeHRlbnNpb24iLCJ0aW1lb3V0IiwibG9hZFR5cGUiLCJfZGV0ZXJtaW5lTG9hZFR5cGUiLCJ4aHJUeXBlIiwibWV0YWRhdGEiLCJ4aHIiLCJUWVBFIiwicHJvZ3Jlc3NDaHVuayIsIl9kZXF1ZXVlIiwiX29uTG9hZEJpbmRpbmciLCJfZWxlbWVudFRpbWVyIiwiX2JvdW5kQ29tcGxldGUiLCJfYm91bmRPbkVycm9yIiwiX2JvdW5kT25Qcm9ncmVzcyIsIl9vblByb2dyZXNzIiwiX2JvdW5kT25UaW1lb3V0IiwiX29uVGltZW91dCIsIl9ib3VuZFhock9uRXJyb3IiLCJfeGhyT25FcnJvciIsIl9ib3VuZFhock9uVGltZW91dCIsIl94aHJPblRpbWVvdXQiLCJfYm91bmRYaHJPbkFib3J0IiwiX3hock9uQWJvcnQiLCJfYm91bmRYaHJPbkxvYWQiLCJfeGhyT25Mb2FkIiwib25TdGFydCIsIm9uUHJvZ3Jlc3MiLCJvbkNvbXBsZXRlIiwib25BZnRlck1pZGRsZXdhcmUiLCJzZXRFeHRlbnNpb25Mb2FkVHlwZSIsImV4dG5hbWUiLCJzZXRFeHRNYXAiLCJfbG9hZFR5cGVNYXAiLCJzZXRFeHRlbnNpb25YaHJUeXBlIiwiX3hoclR5cGVNYXAiLCJfcHJvdG8iLCJfY2xlYXJFdmVudHMiLCJfZmluaXNoIiwiYWJvcnQiLCJ4ZHIiLCJFTVBUWV9HSUYiLCJmaXJzdENoaWxkIiwiaXNMb2FkaW5nIiwiaXNDb21wbGV0ZSIsIkxPQURJTkciLCJfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4iLCJMT0FEX1RZUEUiLCJJTUFHRSIsIl9sb2FkRWxlbWVudCIsIkFVRElPIiwiX2xvYWRTb3VyY2VFbGVtZW50IiwiVklERU8iLCJYSFIiLCJfbG9hZFhkciIsIl9sb2FkWGhyIiwiX2hhc0ZsYWciLCJvbnRpbWVvdXQiLCJvbnByb2dyZXNzIiwiQ09NUExFVEUiLCJsb2FkRWxlbWVudCIsInNraXBTb3VyY2UiLCJBdWRpbyIsImlzQ29jb29uSlMiLCJtaW1lVHlwZXMiLCJtaW1lVHlwZSIsIl9jcmVhdGVTb3VyY2UiLCJfbWltZVR5cGVzIiwiX2RldGVybWluZVhoclR5cGUiLCJvcGVuIiwiWEhSX1JFU1BPTlNFX1RZUEUiLCJKU09OIiwiRE9DVU1FTlQiLCJyZXNwb25zZVR5cGUiLCJURVhUIiwic2VuZCIsIm5vZGVOYW1lIiwibGVuZ3RoQ29tcHV0YWJsZSIsInRvdGFsIiwicmVxVHlwZSIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJ0ZXh0IiwicmVzcG9uc2VUZXh0IiwiQlVGRkVSIiwiRE9NUGFyc2VyIiwiZG9tcGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiWE1MIiwicmVzcG9uc2UiLCJyZXNwb25zZVVSTCIsIm9yaWdpbiIsImlzRGF0YVVybCIsInNsYXNoSW5kZXgiLCJxdWVyeVN0YXJ0IiwiaGFzaFN0YXJ0IiwiX2dldE1pbWVGcm9tWGhyVHlwZSIsIkJMT0IiLCJERUZBVUxUIiwiZ2lmIiwicG5nIiwiYm1wIiwianBnIiwianBlZyIsInRpZiIsInRpZmYiLCJ3ZWJwIiwidGdhIiwibXAzIiwib2dnIiwid2F2IiwibXA0Iiwid2VibSIsInhodG1sIiwiaHRtbCIsImh0bSIsInhtbCIsInRteCIsInRzeCIsImpzb24iLCJ0eHQiLCJ0dGYiLCJvdGYiLCJVUkwiLCJ3ZWJraXRVUkwiLCJjYWNoaW5nIiwicGFyc2luZyIsIkJsb2IiLCJjcmVhdGVPYmplY3RVUkwiLCJibG9iIiwicmV2b2tlT2JqZWN0VVJMIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJpbngiLCJieXRlYnVmZmVyIiwiZW5jb2RlZENoYXJJbmRleGVzIiwiam54IiwiX2pueCIsImVuY29kZUJpbmFyeSIsInJneEV4dHJhY3RVcmxIYXNoIiwiTG9hZGVyIiwiYmFzZVVybCIsImNvbmN1cnJlbmN5IiwicHJvZ3Jlc3MiLCJsb2FkaW5nIiwiZGVmYXVsdFF1ZXJ5U3RyaW5nIiwiX2JlZm9yZU1pZGRsZXdhcmUiLCJfYWZ0ZXJNaWRkbGV3YXJlIiwiX3Jlc291cmNlc1BhcnNpbmciLCJfYm91bmRMb2FkUmVzb3VyY2UiLCJfbG9hZFJlc291cmNlIiwiX3F1ZXVlIiwid29ya2VyIiwid29ya2VycyIsIl90YXNrcyIsInNhdHVyYXRlZCIsInVuc2F0dXJhdGVkIiwiZW1wdHkiLCJkcmFpbiIsIl9pbnNlcnQiLCJraWxsIiwidGFzayIsInJ1bm5pbmciLCJpZGxlIiwicmVzdW1lIiwiaW5zZXJ0QXRGcm9udCIsIm9uTG9hZCIsIl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZSIsInByZSIsIl9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlIiwidXNlIiwicGFyZW50UmVzb3VyY2UiLCJfcHJlcGFyZVVybCIsImluY29tcGxldGVDaGlsZHJlbiIsIl9pMiIsImVhY2hDaHVuayIsIl9pMyIsIl9vblN0YXJ0IiwiX29uQ29tcGxldGUiLCJjaHVuayIsImRlcXVldWUiLCJfdGhpczIiLCJfb25Mb2FkIiwiX3RoaXMzIiwiTG9hZGVyUmVzb3VyY2UiLCJUZXh0dXJlTG9hZGVyIiwiQXBwTG9hZGVyUGx1Z2luIiwic2hhcmVkTG9hZGVyIiwibG9hZGVyIiwiUGFydGljbGVDb250YWluZXIiLCJtYXhTaXplIiwicHJvcGVydGllcyIsImJhdGNoU2l6ZSIsIl9wcm9wZXJ0aWVzIiwiX21heFNpemUiLCJfYmF0Y2hTaXplIiwiX2J1ZmZlcnMiLCJfYnVmZmVyVXBkYXRlSURzIiwic2V0UHJvcGVydGllcyIsIl90aW50IiwidGludFJnYiIsInBhcnRpY2xlIiwic21hbGxlc3RDaGlsZEluZGV4IiwiTElORV9KT0lOIiwiTElORV9DQVAiLCJQYXJ0aWNsZUJ1ZmZlciIsImR5bmFtaWNQcm9wZXJ0eUZsYWdzIiwiZHluYW1pY1Byb3BlcnRpZXMiLCJzdGF0aWNQcm9wZXJ0aWVzIiwicHJvcGVydHkiLCJhdHRyaWJ1dGVOYW1lIiwidXBsb2FkRnVuY3Rpb24iLCJzdGF0aWNTdHJpZGUiLCJzdGF0aWNCdWZmZXIiLCJzdGF0aWNEYXRhIiwic3RhdGljRGF0YVVpbnQzMiIsImR5bmFtaWNTdHJpZGUiLCJkeW5hbWljQnVmZmVyIiwiZHluYW1pY0RhdGEiLCJkeW5hbWljRGF0YVVpbnQzMiIsImluaXRCdWZmZXJzIiwiZHluYW1pY09mZnNldCIsIm91dEJ1ZmZlciIsInRvdGFsSW5kaWNlcyIsImNyZWF0ZUluZGljZXNGb3JRdWFkcyIsImR5bkJ1ZmZlciIsInN0YXRpY09mZnNldCIsInN0YXRCdWZmZXIiLCJ1cGxvYWREeW5hbWljIiwic3RhcnRJbmRleCIsImFtb3VudCIsInVwbG9hZFN0YXRpYyIsIlBhcnRpY2xlUmVuZGVyZXIiLCJ1cGxvYWRWZXJ0aWNlcyIsInVwbG9hZFBvc2l0aW9uIiwidXBsb2FkUm90YXRpb24iLCJ1cGxvYWRVdnMiLCJ1cGxvYWRUaW50IiwidG90YWxDaGlsZHJlbiIsImdlbmVyYXRlQnVmZmVycyIsInJnYiIsInVDb2xvciIsInVwZGF0ZVN0YXRpYyIsIl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIiLCJiaWQiLCJ3MCIsIncxIiwiaDAiLCJoMSIsInNwcml0ZVBvc2l0aW9uIiwic3ByaXRlUm90YXRpb24iLCJ0ZXh0dXJlVXZzIiwiR1JBUEhJQ1NfQ1VSVkVTIiwiYWRhcHRpdmUiLCJtYXhMZW5ndGgiLCJtaW5TZWdtZW50cyIsIm1heFNlZ21lbnRzIiwiZXBzaWxvbiIsIl9zZWdtZW50c0NvdW50IiwiZGVmYXVsdFNlZ21lbnRzIiwiRmlsbFN0eWxlIiwiYnVpbGRQb2x5IiwiYnVpbGQiLCJncmFwaGljc0RhdGEiLCJ0cmlhbmd1bGF0ZSIsImdyYXBoaWNzR2VvbWV0cnkiLCJ2ZXJ0cyIsImhvbGVBcnJheSIsInZlcnRQb3MiLCJidWlsZENpcmNsZSIsImNpcmNsZURhdGEiLCJlbGxpcHNlRGF0YSIsInRvdGFsU2VncyIsInNlZyIsImNlbnRlciIsImNpcmNsZSIsImdldFB0IiwibjEiLCJuMiIsInBlcmMiLCJxdWFkcmF0aWNCZXppZXJDdXJ2ZSIsImZyb21YIiwiZnJvbVkiLCJjcFgiLCJjcFkiLCJ0b1giLCJ0b1kiLCJ4YSIsInlhIiwieGIiLCJ5YiIsImJ1aWxkUm91bmRlZFJlY3RhbmdsZSIsInJyZWN0RGF0YSIsInZlY1BvcyIsInNxdWFyZSIsIm54IiwibnkiLCJpbm5lcldlaWdodCIsIm91dGVyV2VpZ2h0IiwiZXh4IiwiZXl5IiwiZWl4IiwiZWl5IiwiZW94IiwiZW95IiwiZXgiLCJleSIsImN4MnAweCIsImN5MnAweSIsImFuZ2xlMCIsImFuZ2xlMSIsInN0YXJ0QW5nbGUiLCJhbmdsZURpZmYiLCJhYnNBbmdsZURpZmYiLCJzZWdDb3VudCIsImFuZ2xlSW5jIiwiYnVpbGRMaW5lIiwibGluZVN0eWxlIiwibmF0aXZlIiwiY2xvc2VkU2hhcGUiLCJidWlsZE5hdGl2ZUxpbmUiLCJjbG9zZVBvaW50RXBzIiwiZmlyc3RQb2ludCIsImxhc3RQb2ludCIsImNsb3NlZFBhdGgiLCJtaWRQb2ludFgiLCJtaWRQb2ludFkiLCJpbmRleENvdW50IiwiaW5kZXhTdGFydCIsIndpZHRoU3F1YXJlZCIsIm1pdGVyTGltaXRTcXVhcmVkIiwibWl0ZXJMaW1pdCIsInBlcnB4IiwicGVycHkiLCJwZXJwMXgiLCJwZXJwMXkiLCJkaXN0IiwicmF0aW8iLCJhbGlnbm1lbnQiLCJjYXAiLCJST1VORCIsIlNRVUFSRSIsImR4MCIsImR5MCIsImR4MSIsImR5MSIsImNyb3NzIiwiYzIiLCJwZGlzdCIsImlteCIsImlteSIsIm9teCIsIm9teSIsIkJFVkVMIiwiZXBzMiIsImJ1aWxkTm9uTmF0aXZlTGluZSIsIlRFWFRfR1JBRElFTlQiLCJTdGFyIiwiaW5uZXJSYWRpdXMiLCJBcmNVdGlscyIsImN1cnZlVG8iLCJtbSIsImRkIiwiY2MiLCJ0dCIsImsxIiwiazIiLCJqMSIsImoyIiwicXkiLCJlbmRBbmdsZSIsImFudGljbG9ja3dpc2UiLCJhcmMiLCJfc3RhcnRYIiwiX3N0YXJ0WSIsIl9hbnRpY2xvY2t3aXNlIiwic3dlZXAiLCJ0aGV0YSIsInRoZXRhMiIsImNUaGV0YSIsInNUaGV0YSIsInNlZ01pbnVzIiwicmVtYWluZGVyIiwiQmV6aWVyVXRpbHMiLCJjdXJ2ZUxlbmd0aCIsImNwWDIiLCJjcFkyIiwidDIiLCJ0MyIsIm50IiwibnQyIiwibnQzIiwicHJldlgiLCJwcmV2WSIsImR0IiwiZHQyIiwiZHQzIiwiUXVhZHJhdGljVXRpbHMiLCJhMzIiLCJiYSIsIkJhdGNoUGFydCIsImF0dHJpYlN0YXJ0IiwiZW5kQXR0cmliIiwiRklMTF9DT01NQU5EUyIsInJlY3REYXRhIiwiQkFUQ0hfUE9PTCIsIkRSQVdfQ0FMTF9QT09MIiwiR3JhcGhpY3NEYXRhIiwidG1wUG9pbnQiLCJ0bXBCb3VuZHMiLCJHcmFwaGljc0dlb21ldHJ5IiwiaW5kaWNlc1VpbnQxNiIsImNvbG9ycyIsInRleHR1cmVJZHMiLCJiYXRjaERpcnR5IiwiY2FjaGVEaXJ0eSIsImNsZWFyRGlydHkiLCJiYXRjaGVzIiwic2hhcGVJbmRleCIsImJvdW5kc0RpcnR5IiwiYm91bmRzUGFkZGluZyIsImJhdGNoYWJsZSIsImJhdGNoUGFydCIsImRyYXdTaGFwZSIsImRyYXdIb2xlIiwibGFzdFNoYXBlIiwiaGl0SG9sZSIsImlfMSIsInVwZGF0ZUJhdGNoZXMiLCJhbGxvdzMySW5kaWNlcyIsInZhbGlkYXRlQmF0Y2hpbmciLCJjdXJyZW50U3R5bGUiLCJ0cmFuc2Zvcm1Qb2ludHMiLCJuZXh0VGV4dHVyZSIsImluZGV4XzEiLCJhdHRyaWJJbmRleCIsIlJFUEVBVCIsInByb2Nlc3NGaWxsIiwicHJvY2Vzc0xpbmUiLCJfY29tcGFyZVN0eWxlcyIsImFkZFV2cyIsIm5lZWQzMiIsImlzQmF0Y2hhYmxlIiwicGFja0JhdGNoZXMiLCJzdHlsZUEiLCJzdHlsZUIiLCJmaWxsIiwibGluZSIsIkJBVENIQUJMRV9TSVpFIiwiY3VycmVudEdyb3VwIiwiY3VycmVudFRleHR1cmUiLCJkcmF3TW9kZSIsIkxJTkVTIiwiYWRkQ29sb3JzIiwiYWRkVGV4dHVyZUlkcyIsInBhY2tBdHRyaWJ1dGVzIiwiZ2xQb2ludHMiLCJmMzIiLCJ1MzIiLCJwcm9jZXNzSG9sZXMiLCJzZXF1ZW5jZUJvdW5kcyIsImN1ck1hdHJpeCIsIm5leHRNYXRyaXgiLCJsaW5lV2lkdGgiLCJlbGxpcHNlIiwicG9seSIsInJnYmEiLCJ1dnNTdGFydCIsImFkanVzdFV2cyIsIkxpbmVTdHlsZSIsIkJVVFQiLCJNSVRFUiIsInRlbXAiLCJERUZBVUxUX1NIQURFUlMiLCJHcmFwaGljcyIsIl9nZW9tZXRyeSIsIl9maWxsU3R5bGUiLCJfbGluZVN0eWxlIiwiX2hvbGVNb2RlIiwiY3VycmVudFBhdGgiLCJiYXRjaFRpbnQiLCJfdHJhbnNmb3JtSUQiLCJmaW5pc2hQb2x5IiwibGluZVRleHR1cmVTdHlsZSIsInN0YXJ0UG9seSIsIm1vdmVUbyIsImxpbmVUbyIsIl9pbml0Q3VydmUiLCJxdWFkcmF0aWNDdXJ2ZVRvIiwiYmV6aWVyQ3VydmVUbyIsImFyY1RvIiwicmFkaXVzXzEiLCJzdGFydFgiLCJzdGFydFkiLCJ4RGlmZiIsInlEaWZmIiwiYmVnaW5GaWxsIiwiYmVnaW5UZXh0dXJlRmlsbCIsImVuZEZpbGwiLCJkcmF3UmVjdCIsImRyYXdSb3VuZGVkUmVjdCIsImRyYXdDaXJjbGUiLCJkcmF3RWxsaXBzZSIsImRyYXdQb2x5Z29uIiwiZHJhd1N0YXIiLCJoYXN1aXQzMiIsIl9wb3B1bGF0ZUJhdGNoZXMiLCJfcmVuZGVyQmF0Y2hlZCIsIl9yZW5kZXJEaXJlY3QiLCJnSSIsIl9iYXRjaFJHQiIsImNhbGN1bGF0ZVZlcnRpY2VzIiwiY2FsY3VsYXRlVGludHMiLCJfcmVzb2x2ZURpcmVjdFNoYWRlciIsIl9yZW5kZXJEcmF3Q2FsbERpcmVjdCIsImdyb3VwVGV4dHVyZUNvdW50IiwiX1RFTVBfUE9JTlQiLCJ0aW50UkdCIiwid3RJRCIsImNsb3NlUGF0aCIsInNldE1hdHJpeCIsImJlZ2luSG9sZSIsImVuZEhvbGUiLCJ0ZW1wUG9pbnQiLCJTcHJpdGUiLCJfYW5jaG9yIiwiX29uQW5jaG9yVXBkYXRlIiwiX2NhY2hlZFRpbnQiLCJ2ZXJ0ZXhUcmltbWVkRGF0YSIsIl90cmFuc2Zvcm1UcmltbWVkSUQiLCJfdGV4dHVyZVRyaW1tZWRJRCIsIl9yb3VuZFBpeGVscyIsIl9vblRleHR1cmVVcGRhdGUiLCJjYWxjdWxhdGVUcmltbWVkVmVydGljZXMiLCJkZXN0cm95QmFzZVRleHR1cmUiLCJkZWZhdWx0U3R5bGUiLCJhbGlnbiIsImJyZWFrV29yZHMiLCJkcm9wU2hhZG93IiwiZHJvcFNoYWRvd0FscGhhIiwiZHJvcFNoYWRvd0FuZ2xlIiwiZHJvcFNoYWRvd0JsdXIiLCJkcm9wU2hhZG93Q29sb3IiLCJkcm9wU2hhZG93RGlzdGFuY2UiLCJmaWxsR3JhZGllbnRUeXBlIiwiTElORUFSX1ZFUlRJQ0FMIiwiZmlsbEdyYWRpZW50U3RvcHMiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJmb250U3R5bGUiLCJmb250VmFyaWFudCIsImZvbnRXZWlnaHQiLCJsZXR0ZXJTcGFjaW5nIiwibGluZUhlaWdodCIsImxpbmVKb2luIiwic3Ryb2tlIiwic3Ryb2tlVGhpY2tuZXNzIiwidGV4dEJhc2VsaW5lIiwid2hpdGVTcGFjZSIsIndvcmRXcmFwIiwid29yZFdyYXBXaWR0aCIsImxlYWRpbmciLCJnZW5lcmljRm9udEZhbWlsaWVzIiwiVGV4dFN0eWxlIiwic3R5bGVJRCIsImRlZXBDb3B5UHJvcGVydGllcyIsImNsb25lZFByb3BlcnRpZXMiLCJfYWxpZ24iLCJfYnJlYWtXb3JkcyIsIl9kcm9wU2hhZG93IiwiX2Ryb3BTaGFkb3dBbHBoYSIsIl9kcm9wU2hhZG93QW5nbGUiLCJfZHJvcFNoYWRvd0JsdXIiLCJfZHJvcFNoYWRvd0NvbG9yIiwib3V0cHV0Q29sb3IiLCJnZXRDb2xvciIsIl9kcm9wU2hhZG93RGlzdGFuY2UiLCJfZmlsbCIsIl9maWxsR3JhZGllbnRUeXBlIiwiX2ZpbGxHcmFkaWVudFN0b3BzIiwiYXJyYXkxIiwiYXJyYXkyIiwiYXJlQXJyYXlzRXF1YWwiLCJfZm9udEZhbWlseSIsIl9mb250U2l6ZSIsIl9mb250U3R5bGUiLCJfZm9udFZhcmlhbnQiLCJfZm9udFdlaWdodCIsIl9sZXR0ZXJTcGFjaW5nIiwiX2xpbmVIZWlnaHQiLCJfbGVhZGluZyIsIl9saW5lSm9pbiIsIl9taXRlckxpbWl0IiwiX3BhZGRpbmciLCJfc3Ryb2tlIiwiX3N0cm9rZVRoaWNrbmVzcyIsIl90ZXh0QmFzZWxpbmUiLCJfdHJpbSIsIl93aGl0ZVNwYWNlIiwiX3dvcmRXcmFwIiwiX3dvcmRXcmFwV2lkdGgiLCJ0b0ZvbnRTdHJpbmciLCJmb250U2l6ZVN0cmluZyIsImZvbnRGYW1pbGllcyIsImdldFNpbmdsZUNvbG9yIiwicHJvcGVydHlPYmoiLCJUZXh0TWV0cmljcyIsImxpbmVzIiwibGluZVdpZHRocyIsIm1heExpbmVXaWR0aCIsImZvbnRQcm9wZXJ0aWVzIiwibWVhc3VyZVRleHQiLCJfY2FudmFzIiwiZm9udCIsIm1lYXN1cmVGb250IiwiYXNjZW50IiwiY29sbGFwc2VTcGFjZXMiLCJjb2xsYXBzZU5ld2xpbmVzIiwiY2FuUHJlcGVuZFNwYWNlcyIsInRva2VucyIsInRva2VuaXplIiwidG9rZW4iLCJpc05ld2xpbmUiLCJhZGRMaW5lIiwiY3VycklzQnJlYWtpbmdTcGFjZSIsImlzQnJlYWtpbmdTcGFjZSIsImxhc3RJc0JyZWFraW5nU3BhY2UiLCJ0b2tlbldpZHRoIiwiZ2V0RnJvbUNhY2hlIiwiY2FuQnJlYWtXb3JkcyIsImNoYXJhY3RlcnMiLCJ3b3JkV3JhcFNwbGl0IiwiY2hhciIsIm5leHRDaGFyIiwibGFzdENoYXIiLCJjYW5CcmVha0NoYXJzIiwiY2hhcmFjdGVyV2lkdGgiLCJpc0xhc3RUb2tlbiIsIm5ld0xpbmUiLCJ0cmltUmlnaHQiLCJzcGFjaW5nIiwiX25ld2xpbmVzIiwiX2JyZWFraW5nU3BhY2VzIiwiX3Rva2VuIiwiX2NoYXIiLCJfbmV4dENoYXIiLCJfaW5kZXgiLCJfZm9udHMiLCJkZXNjZW50IiwiX2NvbnRleHQiLCJtZXRyaWNzU3RyaW5nIiwiTUVUUklDU19TVFJJTkciLCJCQVNFTElORV9TWU1CT0wiLCJiYXNlbGluZSIsIkJBU0VMSU5FX01VTFRJUExJRVIiLCJmaWxsVGV4dCIsImltYWdlZGF0YSIsImNsZWFyTWV0cmljcyIsImRlZmF1bHREZXN0cm95T3B0aW9ucyIsIlRleHQiLCJvd25DYW52YXMiLCJfb3duQ2FudmFzIiwiX2F1dG9SZXNvbHV0aW9uIiwiX3RleHQiLCJfc3R5bGUiLCJfc3R5bGVMaXN0ZW5lciIsIl9mb250IiwibG9jYWxTdHlsZUlEIiwidXBkYXRlVGV4dCIsInJlc3BlY3REaXJ0eSIsImxpbmVQb3NpdGlvblgiLCJsaW5lUG9zaXRpb25ZIiwibWVhc3VyZWQiLCJwYXNzZXNDb3VudCIsImlzU2hhZG93UGFzcyIsImRzT2Zmc2V0VGV4dCIsImRzT2Zmc2V0U2hhZG93Iiwic3Ryb2tlU3R5bGUiLCJzaGFkb3dDb2xvciIsInNoYWRvd0JsdXIiLCJzaGFkb3dPZmZzZXRYIiwic2hhZG93T2Zmc2V0WSIsIl9nZW5lcmF0ZUZpbGxTdHlsZSIsImRyYXdMZXR0ZXJTcGFjaW5nIiwiaXNTdHJva2UiLCJjdXJyZW50UG9zaXRpb24iLCJzdHJpbmdBcnJheSIsInByZXZpb3VzV2lkdGgiLCJjdXJyZW50V2lkdGgiLCJjdXJyZW50Q2hhciIsInN0cm9rZVRleHQiLCJ0cmltbWVkIiwidHJpbUNhbnZhcyIsIm1ldHJpY3MiLCJncmFkaWVudCIsImRyb3BTaGFkb3dDb3JyZWN0aW9uIiwibGVuZ3RoUGx1czEiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImxhc3RJdGVyYXRpb25TdG9wIiwiZ3JhZFN0b3BMaW5lSGVpZ2h0IiwidGhpc0xpbmVUb3AiLCJnbG9iYWxTdG9wIiwiY2xhbXBlZFN0b3AiLCJhZGRDb2xvclN0b3AiLCJ0b3RhbEl0ZXJhdGlvbnMiLCJjdXJyZW50SXRlcmF0aW9uIiwiVVBMT0FEU19QRVJfRlJBTUUiLCJDb3VudExpbWl0ZXIiLCJtYXhJdGVtc1BlckZyYW1lIiwiaXRlbXNMZWZ0IiwiYmVnaW5GcmFtZSIsImFsbG93ZWRUb1VwbG9hZCIsImZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyIsIl90ZXh0dXJlcyIsImZpbmRCYXNlVGV4dHVyZSIsImZpbmRUZXh0dXJlIiwiZHJhd1RleHQiLCJfaGVscGVyIiwiY2FsY3VsYXRlVGV4dFN0eWxlIiwiZmluZFRleHQiLCJmaW5kVGV4dFN0eWxlIiwidXBsb2FkQmFzZVRleHR1cmVzIiwidXBsb2FkR3JhcGhpY3MiLCJmaW5kR3JhcGhpY3MiLCJQcmVwYXJlIiwidXBsb2FkSG9va0hlbHBlciIsInJlZ2lzdGVyRmluZEhvb2siLCJyZWdpc3RlclVwbG9hZEhvb2siLCJCYXNlUHJlcGFyZSIsImxpbWl0ZXIiLCJhZGRIb29rcyIsInVwbG9hZEhvb2tzIiwiY29tcGxldGVzIiwidGlja2luZyIsImRlbGF5ZWRUaWNrIiwicHJlcGFyZUl0ZW1zIiwiZG9uZSIsInRpY2siLCJVVElMSVRZIiwidXBsb2FkZWQiLCJhZGRIb29rIiwidXBsb2FkSG9vayIsIlNwcml0ZXNoZWV0IiwiVGltZUxpbWl0ZXIiLCJtYXhNaWxsaXNlY29uZHMiLCJmcmFtZVN0YXJ0IiwicmVzb2x1dGlvbkZpbGVuYW1lIiwiYW5pbWF0aW9ucyIsIl91cGRhdGVSZXNvbHV0aW9uIiwiX2ZyYW1lcyIsImZyYW1lcyIsIl9mcmFtZUtleXMiLCJfYmF0Y2hJbmRleCIsIl9jYWxsYmFjayIsIm1ldGEiLCJCQVRDSF9TSVpFIiwiX3Byb2Nlc3NGcmFtZXMiLCJfcHJvY2Vzc0FuaW1hdGlvbnMiLCJfcGFyc2VDb21wbGV0ZSIsIl9uZXh0QmF0Y2giLCJpbml0aWFsRnJhbWVJbmRleCIsImZyYW1lSW5kZXgiLCJtYXhGcmFtZXMiLCJzb3VyY2VTaXplIiwicm90YXRlZCIsInNwcml0ZVNvdXJjZVNpemUiLCJhbmltTmFtZSIsImZyYW1lTmFtZSIsIlNwcml0ZXNoZWV0TG9hZGVyIiwiaW1hZ2VSZXNvdXJjZU5hbWUiLCJsb2FkT3B0aW9ucyIsImltYWdlTWV0YWRhdGEiLCJyZXNvdXJjZVBhdGgiLCJnZXRSZXNvdXJjZVBhdGgiLCJzcHJpdGVzaGVldCIsIlRpbGluZ1Nwcml0ZSIsInRpbGVUcmFuc2Zvcm0iLCJ1dlJlc3BlY3RBbmNob3IiLCJUaWxpbmdTcHJpdGVSZW5kZXJlciIsInNpbXBsZVNoYWRlciIsInRzIiwiYmFzZVRleCIsInV2IiwiSCIsInVNYXBDb29yZCIsInVUcmFuc2Zvcm0iLCJNZXNoQmF0Y2hVdnMiLCJfYnVmZmVyVXBkYXRlSWQiLCJfdGV4dHVyZVVwZGF0ZUlkIiwidGVtcFBvbHlnb24iLCJNZXNoIiwidmVydGV4RGlydHkiLCJiYXRjaFV2cyIsIl9yZW5kZXJUb0JhdGNoIiwiX3JlbmRlckRlZmF1bHQiLCJjYWxjdWxhdGVVdnMiLCJtYXRlcmlhbCIsInZlcnRleERpcnR5SWQiLCJnZW9tVXZzIiwic3RlcCIsImluZDAiLCJpbmQxIiwiaW5kMiIsIk1lc2hNYXRlcmlhbCIsInVUZXh0dXJlTWF0cml4IiwiX2NvbG9yRGlydHkiLCJfYWxwaGEiLCJNZXNoR2VvbWV0cnkiLCJ2ZXJ0aWNlc0J1ZmZlciIsInV2c0J1ZmZlciIsIl91cGRhdGVJZCIsIkJpdG1hcEZvbnREYXRhIiwiaW5mbyIsImNvbW1vbiIsInBhZ2UiLCJrZXJuaW5nIiwiZm9ybWF0cyIsIlRleHRGb3JtYXQiLCJyYXdEYXRhIiwiY2hhcnMiLCJhdHRyaWJ1dGVMaXN0IiwiaXRlbURhdGEiLCJzdHJWYWx1ZSIsImZsb2F0VmFsdWUiLCJmYWNlIiwiZmlsZSIsInhvZmZzZXQiLCJ5b2Zmc2V0IiwieGFkdmFuY2UiLCJmaXJzdCIsInNlY29uZCIsIlhNTEZvcm1hdCIsIlhNTERvY3VtZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhdXRvRGV0ZWN0Rm9ybWF0IiwiZ2VuZXJhdGVGaWxsU3R5bGUiLCJkcmF3R2x5cGgiLCJCaXRtYXBGb250IiwicGFnZVRleHR1cmVzIiwicGFnZV8xIiwiX2MiLCJ4T2Zmc2V0IiwieU9mZnNldCIsInhBZHZhbmNlIiwiX2QiLCJpbnN0YWxsIiwiZm9udERhdGEiLCJhdmFpbGFibGUiLCJ1bmluc3RhbGwiLCJ0ZXh0U3R5bGUiLCJkZWZhdWx0T3B0aW9ucyIsInRleHR1cmVXaWR0aCIsInRleHR1cmVIZWlnaHQiLCJjaGFyc0xpc3QiLCJzdGFydENvZGUiLCJlbmRDb2RlIiwial8xIiwicmVzb2x2ZUNoYXJhY3RlcnMiLCJwb3NpdGlvblgiLCJwb3NpdGlvblkiLCJtYXhDaGFySGVpZ2h0IiwidGV4dHVyZUdseXBoV2lkdGgiLCJBTFBIQSIsIk5VTUVSSUMiLCJBTFBIQU5VTUVSSUMiLCJBU0NJSSIsInBhZ2VNZXNoRGF0YVBvb2wiLCJjaGFyUmVuZGVyRGF0YVBvb2wiLCJCaXRtYXBGb250TG9hZGVyIiwiQml0bWFwVGV4dCIsIl91cGdyYWRlU3R5bGUiLCJzdHlsZURlZmF1bHRzIiwibWF4V2lkdGgiLCJmb250TmFtZSIsIl9hY3RpdmVQYWdlc01lc2hEYXRhIiwiX3RleHRXaWR0aCIsIl90ZXh0SGVpZ2h0IiwiX2ZvbnROYW1lIiwiX21heFdpZHRoIiwiX21heExpbmVIZWlnaHQiLCJ0ZXh0TGVuZ3RoIiwicHJldkNoYXJDb2RlIiwibGFzdExpbmVXaWR0aCIsImxhc3RCcmVha1BvcyIsImxhc3RCcmVha1dpZHRoIiwic3BhY2VzUmVtb3ZlZCIsIm1heExpbmVIZWlnaHQiLCJjaGFyQ29kZSIsImNoYXJEYXRhIiwiY2hhclJlbmRlckRhdGEiLCJsaW5lQWxpZ25PZmZzZXRzIiwiYWxpZ25PZmZzZXQiLCJsZW5DaGFycyIsInBhZ2VzTWVzaERhdGEiLCJuZXdQYWdlc01lc2hEYXRhIiwiYWN0aXZlUGFnZXNNZXNoRGF0YSIsImJhc2VUZXh0dXJlVWlkIiwicGFnZU1lc2hEYXRhIiwidmVydGV4Q291bnQiLCJ1dnNDb3VudCIsIm1lc2giLCJ4UG9zIiwieVBvcyIsInBhZ2VNZXNoIiwidGV4dHVyZUZyYW1lIiwiYW5jaG9yT2Zmc2V0WCIsImFuY2hvck9mZnNldFkiLCJ0ZXh0dXJlQnVmZmVyIiwidmFsaWRhdGUiLCJ2YWx1ZVNwbGl0IiwicmVnaXN0ZXJGb250IiwiZ2V0QmFzZVVybCIsInBhZ2VGaWxlIiwiYml0bWFwRm9udCIsImJpdG1hcFJlc291cmNlIiwicmVzVXJsIiwiZGlybmFtZSIsImRpciIsIkFscGhhRmlsdGVyIiwidUFscGhhIiwiR0FVU1NJQU5fVkFMVUVTIiwiNSIsIjciLCI5IiwiMTEiLCIxMyIsIjE1IiwiQmx1ckZpbHRlclBhc3MiLCJob3Jpem9udGFsIiwic3RyZW5ndGgiLCJrZXJuZWxTaXplIiwidmVydFNyYyIsImhhbGZMZW5ndGgiLCJ2ZXJ0U291cmNlIiwiYmx1ckxvb3AiLCJibHVyIiwiZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSIsImZyYWdTcmMiLCJrZXJuZWwiLCJmcmFnU291cmNlIiwiZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSIsIl9xdWFsaXR5IiwicGFzc2VzIiwicmVuZGVyVGFyZ2V0IiwiQmx1ckZpbHRlciIsImJsdXJYRmlsdGVyIiwiYmx1cllGaWx0ZXIiLCJyZXBlYXRFZGdlUGl4ZWxzIiwieFN0cmVuZ3RoIiwieVN0cmVuZ3RoIiwidXBkYXRlUGFkZGluZyIsIl9yZXBlYXRFZGdlUGl4ZWxzIiwiQ29sb3JNYXRyaXhGaWx0ZXIiLCJfbG9hZE1hdHJpeCIsIm11bHRpcGx5IiwibmV3TWF0cml4IiwiX211bHRpcGx5IiwiX2NvbG9yTWF0cml4IiwiYnJpZ2h0bmVzcyIsImdyZXlzY2FsZSIsImJsYWNrQW5kV2hpdGUiLCJodWUiLCJjb3NSIiwic2luUiIsInNxclciLCJjb250cmFzdCIsInNhdHVyYXRlIiwiZGVzYXR1cmF0ZSIsIm5lZ2F0aXZlIiwic2VwaWEiLCJ0ZWNobmljb2xvciIsInBvbGFyb2lkIiwidG9CR1IiLCJrb2RhY2hyb21lIiwiYnJvd25pIiwidmludGFnZSIsImNvbG9yVG9uZSIsImRlc2F0dXJhdGlvbiIsInRvbmVkIiwibGlnaHRDb2xvciIsImRhcmtDb2xvciIsImxSIiwibEciLCJsQiIsImRSIiwiZEciLCJkQiIsIm5pZ2h0IiwiaW50ZW5zaXR5IiwicHJlZGF0b3IiLCJsc2QiLCJncmF5c2NhbGUiLCJEaXNwbGFjZW1lbnRGaWx0ZXIiLCJtYXBTYW1wbGVyIiwiZmlsdGVyTWF0cml4IiwibGVuWCIsImxlblkiLCJOb2lzZUZpbHRlciIsIm5vaXNlIiwic2VlZCIsInJhbmRvbSIsInVOb2lzZSIsInVTZWVkIiwiX3RlbXBNYXRyaXgiLCJfY2FjaGVBc0JpdG1hcCIsIl9jYWNoZURhdGEiLCJDYWNoZURhdGEiLCJ0ZXh0dXJlQ2FjaGVJZCIsIm9yaWdpbmFsUmVuZGVyIiwib3JpZ2luYWxSZW5kZXJDYW52YXMiLCJvcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyIsIm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMiLCJvcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSIsIm9yaWdpbmFsRGVzdHJveSIsIm9yaWdpbmFsTWFzayIsIm9yaWdpbmFsRmlsdGVyQXJlYSIsIm9yaWdpbmFsQ29udGFpbnNQb2ludCIsImNhY2hlQXNCaXRtYXAiLCJyZW5kZXJDYW52YXMiLCJfcmVuZGVyQ2FjaGVkIiwiX3JlbmRlckNhY2hlZENhbnZhcyIsIl9jYWNoZUFzQml0bWFwRGVzdHJveSIsIl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCIsIl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdCIsImNhY2hlQWxwaGEiLCJjYWNoZWRSZW5kZXJUZXh0dXJlIiwiY2FjaGVkU291cmNlRnJhbWUiLCJjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtIiwiX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcyIsIl9nZXRDYWNoZWRMb2NhbEJvdW5kcyIsImNhY2hlZFNwcml0ZSIsIl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyIsIl9yZW5kZXJDYW52YXMiLCJjYWNoZWRSZW5kZXJUYXJnZXQiLCJfcHJvalRyYW5zZm9ybSIsImdldENoaWxkQnlOYW1lIiwiZGVlcCIsImdldEdsb2JhbFBvc2l0aW9uIiwiUGxhbmVHZW9tZXRyeSIsInNlZ1dpZHRoIiwic2VnSGVpZ2h0Iiwic2VnbWVudHNYIiwic2VnbWVudHNZIiwic2l6ZVgiLCJzaXplWSIsInRvdGFsU3ViIiwieHBvcyIsInlwb3MiLCJ2YWx1ZTIiLCJ2YWx1ZTMiLCJ2YWx1ZTQiLCJSb3BlR2VvbWV0cnkiLCJ0ZXh0dXJlU2NhbGUiLCJ1cGRhdGVWZXJ0aWNlcyIsIm5leHRQb2ludCIsInBlcnBYIiwicGVycFkiLCJwZXJwTGVuZ3RoIiwiU2ltcGxlUGxhbmUiLCJTaW1wbGVSb3BlIiwicm9wZUdlb21ldHJ5IiwibWVzaE1hdGVyaWFsIiwidmVydGljZXNYIiwidmVydGljZXNZIiwicGxhbmVHZW9tZXRyeSIsInRleHR1cmVVcGRhdGVkIiwiU2ltcGxlTWVzaCIsIk5pbmVTbGljZVBsYW5lIiwibGVmdFdpZHRoIiwidG9wSGVpZ2h0IiwicmlnaHRXaWR0aCIsImJvdHRvbUhlaWdodCIsIl9vcmlnV2lkdGgiLCJfb3JpZ0hlaWdodCIsIl9sZWZ0V2lkdGgiLCJfcmlnaHRXaWR0aCIsIl90b3BIZWlnaHQiLCJfYm90dG9tSGVpZ2h0IiwiX3JlZnJlc2giLCJ1cGRhdGVIb3Jpem9udGFsVmVydGljZXMiLCJfZ2V0TWluU2NhbGUiLCJ1cGRhdGVWZXJ0aWNhbFZlcnRpY2VzIiwic2NhbGVXIiwic2NhbGVIIiwiX3V2dyIsIl91dmgiLCJBbmltYXRlZFNwcml0ZSIsIl9kdXJhdGlvbnMiLCJhbmltYXRpb25TcGVlZCIsImxvb3AiLCJ1cGRhdGVBbmNob3IiLCJvbkZyYW1lQ2hhbmdlIiwib25Mb29wIiwiX2N1cnJlbnRUaW1lIiwiX3BsYXlpbmciLCJfcHJldmlvdXNGcmFtZSIsImdvdG9BbmRTdG9wIiwiZnJhbWVOdW1iZXIiLCJwcmV2aW91c0ZyYW1lIiwiY3VycmVudEZyYW1lIiwiZ290b0FuZFBsYXkiLCJlbGFwc2VkIiwibGFnIiwiZnJvbUZyYW1lcyIsImZyb21JbWFnZXMiLCJpbWFnZXMiLCJrZXlib2FyZCIsImlzVXAiLCJwcmVzcyIsInJlbGVhc2UiLCJkb3duSGFuZGxlciIsInVwSGFuZGxlciIsImRvd25MaXN0ZW5lciIsInVwTGlzdGVuZXIiLCJ1bnN1YnNjcmliZSIsImFwcCIsIm9ucmVzaXplIiwibmlwcGxlTWFuYWdlciIsImdldEVsZW1lbnRCeUlkIiwic2hlZXQiLCJhbmltcyIsImFkZEFuaW0iLCJhbmltIiwiaW52YWxpZGF0ZUFuaW1zIiwidmFsaWRhdGVBbmltIiwiaGVyb1N0YW5kaW5nIiwiaGVyb1dhbGtpbmciLCJ3YWxrIiwic3RhbmQiLCJoZXJvQW5pbSIsImhlcm8iLCJ2Sm95c3RpY2siLCJtb3ZlTGVmdCIsIm1vdmVSaWdodCIsImJ1bm55Il0sIm1hcHBpbmdzIjoiO2tDQUtBLFNBQVNBLEVBQU9DLEVBQU1DLEVBQWFDLEdBRS9CQSxFQUFNQSxHQUFPLEVBRWIsSUFPSUMsRUFBTUMsRUFBTUMsRUFBTUMsRUFBTUMsRUFBR0MsRUFBR0MsRUFQOUJDLEVBQVdULEdBQWVBLEVBQVlVLE9BQ3RDQyxFQUFXRixFQUFXVCxFQUFZLEdBQUtDLEVBQU1GLEVBQUtXLE9BQ2xERSxFQUFZQyxFQUFXZCxFQUFNLEVBQUdZLEVBQVVWLEdBQUssR0FDL0NhLEVBQVksR0FFaEIsSUFBS0YsR0FBYUEsRUFBVUcsT0FBU0gsRUFBVUksS0FBTSxPQUFPRixFQU81RCxHQUhJTCxJQUFVRyxFQXFQbEIsU0FBd0JiLEVBQU1DLEVBQWFZLEVBQVdYLEdBQ2xELElBQ0lnQixFQUFHQyxFQUFpQkMsRUFEcEJDLEVBQVEsR0FHWixJQUFLSCxFQUFJLEVBQUdDLEVBQU1sQixFQUFZVSxPQUFRTyxFQUFJQyxFQUFLRCxLQUczQ0UsRUFBT04sRUFBV2QsRUFGVkMsRUFBWWlCLEdBQUtoQixFQUNuQmdCLEVBQUlDLEVBQU0sRUFBSWxCLEVBQVlpQixFQUFJLEdBQUtoQixFQUFNRixFQUFLVyxPQUNoQlQsR0FBSyxNQUM1QmtCLEVBQUtKLE9BQU1JLEVBQUtFLFNBQVUsR0FDdkNELEVBQU1FLEtBQUtDLEVBQVlKLElBTTNCLElBSEFDLEVBQU1JLEtBQUtDLEdBR05SLEVBQUksRUFBR0EsRUFBSUcsRUFBTVYsT0FBUU8sSUFDMUJTLEVBQWNOLEVBQU1ILEdBQUlMLEdBQ3hCQSxFQUFZZSxFQUFhZixFQUFXQSxFQUFVRyxNQUdsRCxPQUFPSCxFQXpRbUJnQixDQUFlN0IsRUFBTUMsRUFB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QUFLL2MsRUFBR0MsR0F5QnRELE9BdkJBOGMsRUFBSSxHQUFNL2MsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFOGMsRUFBSSxHQUFNL2MsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFOGMsRUFBSSxHQUFNL2MsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFOGMsRUFBSSxHQUFNL2MsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFOGMsRUFBSSxHQUFNL2MsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQU9ELEVBQUUsR0FFN0UrYyxFQUFJLEdBQU0vYyxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEU4YyxFQUFJLEdBQU0vYyxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEU4YyxFQUFJLEdBQU0vYyxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEU4YyxFQUFJLEdBQU0vYyxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxF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TyxLQUNwQmt3RyxFQUFLbm1GLEdBQUssRUFDVmttRixFQUFTRCxXQUdiLE1BQU1JLEVBQVcxQixHQUFTLGFBQzFCMEIsRUFBU3hCLE1BQVEsS0FDYnNCLEVBQUtubUYsSUFBTSxFQUNYbW1GLEVBQUsxbkYsTUFBTXAzQixHQUFLLEVBQ2hCNitHLEVBQVNGLFFBRWJLLEVBQVN2QixRQUFVLEtBQ2ZxQixFQUFLbm1GLEdBQUssRUFDVmttRixFQUFTRCxTQUdiLE1BQU1LLEVBQVkzQixHQUFTLGNBQzNCMkIsRUFBVXpCLE1BQVEsS0FDZHNCLEVBQUtubUYsR0FBSyxFQUNWbW1GLEVBQUsxbkYsTUFBTXAzQixFQUFJLEVBQ2Y2K0csRUFBU0YsUUFFYk0sRUFBVXhCLFFBQVUsS0FDaEJxQixFQUFLbm1GLEdBQUssRUFDVmttRixFQUFTRCxTQUdiYixHQUFJcnpFLE9BQU8zMEIsS0FBSW1LLElBQ1g0K0YsRUFBSzkrRyxHQUFLOCtHLEVBQUtubUYsR0FBS3pZLEVBQ3BCNCtGLEVBQUs3K0csR0FBSzYrRyxFQUFLbG1GLEdBQUsxWSxRQUk1QjY5RixHQUFJcDZFLFNBQVMvMEIsR0FBRyxVQUFVLEtBQ3RCLE1BQU1zd0csRUFBUW5CLEdBQUkxb0MsTUFBTXJ5QyxXQUFXLEdBQ25DazhFLEVBQU1sL0csRUFBSSs5RyxHQUFJcDZFLFNBQVMzc0IsTUFBUSxFQUFJLGFBQ25Da29HLEVBQU1qL0csRUFBSTg5RyxHQUFJcDZFLFNBQVMxc0IsT0FBUyxFQUFJLGlCIiwiZmlsZSI6ImluZGV4LmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBlYXJjdXQ7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gZWFyY3V0O1xuXG5mdW5jdGlvbiBlYXJjdXQoZGF0YSwgaG9sZUluZGljZXMsIGRpbSkge1xuXG4gICAgZGltID0gZGltIHx8IDI7XG5cbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGgsXG4gICAgICAgIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoLFxuICAgICAgICBvdXRlck5vZGUgPSBsaW5rZWRMaXN0KGRhdGEsIDAsIG91dGVyTGVuLCBkaW0sIHRydWUpLFxuICAgICAgICB0cmlhbmdsZXMgPSBbXTtcblxuICAgIGlmICghb3V0ZXJOb2RlIHx8IG91dGVyTm9kZS5uZXh0ID09PSBvdXRlck5vZGUucHJldikgcmV0dXJuIHRyaWFuZ2xlcztcblxuICAgIHZhciBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB4LCB5LCBpbnZTaXplO1xuXG4gICAgaWYgKGhhc0hvbGVzKSBvdXRlck5vZGUgPSBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pO1xuXG4gICAgLy8gaWYgdGhlIHNoYXBlIGlzIG5vdCB0b28gc2ltcGxlLCB3ZSdsbCB1c2Ugei1vcmRlciBjdXJ2ZSBoYXNoIGxhdGVyOyBjYWxjdWxhdGUgcG9seWdvbiBiYm94XG4gICAgaWYgKGRhdGEubGVuZ3RoID4gODAgKiBkaW0pIHtcbiAgICAgICAgbWluWCA9IG1heFggPSBkYXRhWzBdO1xuICAgICAgICBtaW5ZID0gbWF4WSA9IGRhdGFbMV07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGRpbTsgaSA8IG91dGVyTGVuOyBpICs9IGRpbSkge1xuICAgICAgICAgICAgeCA9IGRhdGFbaV07XG4gICAgICAgICAgICB5ID0gZGF0YVtpICsgMV07XG4gICAgICAgICAgICBpZiAoeCA8IG1pblgpIG1pblggPSB4O1xuICAgICAgICAgICAgaWYgKHkgPCBtaW5ZKSBtaW5ZID0geTtcbiAgICAgICAgICAgIGlmICh4ID4gbWF4WCkgbWF4WCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA+IG1heFkpIG1heFkgPSB5O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWluWCwgbWluWSBhbmQgaW52U2l6ZSBhcmUgbGF0ZXIgdXNlZCB0byB0cmFuc2Zvcm0gY29vcmRzIGludG8gaW50ZWdlcnMgZm9yIHotb3JkZXIgY2FsY3VsYXRpb25cbiAgICAgICAgaW52U2l6ZSA9IE1hdGgubWF4KG1heFggLSBtaW5YLCBtYXhZIC0gbWluWSk7XG4gICAgICAgIGludlNpemUgPSBpbnZTaXplICE9PSAwID8gMSAvIGludlNpemUgOiAwO1xuICAgIH1cblxuICAgIGVhcmN1dExpbmtlZChvdXRlck5vZGUsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHJldHVybiB0cmlhbmdsZXM7XG59XG5cbi8vIGNyZWF0ZSBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdCBmcm9tIHBvbHlnb24gcG9pbnRzIGluIHRoZSBzcGVjaWZpZWQgd2luZGluZyBvcmRlclxuZnVuY3Rpb24gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGNsb2Nrd2lzZSkge1xuICAgIHZhciBpLCBsYXN0O1xuXG4gICAgaWYgKGNsb2Nrd2lzZSA9PT0gKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSA+IDApKSB7XG4gICAgICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoaSA9IGVuZCAtIGRpbTsgaSA+PSBzdGFydDsgaSAtPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcbiAgICB9XG5cbiAgICBpZiAobGFzdCAmJiBlcXVhbHMobGFzdCwgbGFzdC5uZXh0KSkge1xuICAgICAgICByZW1vdmVOb2RlKGxhc3QpO1xuICAgICAgICBsYXN0ID0gbGFzdC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiBsYXN0O1xufVxuXG4vLyBlbGltaW5hdGUgY29saW5lYXIgb3IgZHVwbGljYXRlIHBvaW50c1xuZnVuY3Rpb24gZmlsdGVyUG9pbnRzKHN0YXJ0LCBlbmQpIHtcbiAgICBpZiAoIXN0YXJ0KSByZXR1cm4gc3RhcnQ7XG4gICAgaWYgKCFlbmQpIGVuZCA9IHN0YXJ0O1xuXG4gICAgdmFyIHAgPSBzdGFydCxcbiAgICAgICAgYWdhaW47XG4gICAgZG8ge1xuICAgICAgICBhZ2FpbiA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghcC5zdGVpbmVyICYmIChlcXVhbHMocCwgcC5uZXh0KSB8fCBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XG4gICAgICAgICAgICBwID0gZW5kID0gcC5wcmV2O1xuICAgICAgICAgICAgaWYgKHAgPT09IHAubmV4dCkgYnJlYWs7XG4gICAgICAgICAgICBhZ2FpbiA9IHRydWU7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAgPSBwLm5leHQ7XG4gICAgICAgIH1cbiAgICB9IHdoaWxlIChhZ2FpbiB8fCBwICE9PSBlbmQpO1xuXG4gICAgcmV0dXJuIGVuZDtcbn1cblxuLy8gbWFpbiBlYXIgc2xpY2luZyBsb29wIHdoaWNoIHRyaWFuZ3VsYXRlcyBhIHBvbHlnb24gKGdpdmVuIGFzIGEgbGlua2VkIGxpc3QpXG5mdW5jdGlvbiBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgcGFzcykge1xuICAgIGlmICghZWFyKSByZXR1cm47XG5cbiAgICAvLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXG4gICAgaWYgKCFwYXNzICYmIGludlNpemUpIGluZGV4Q3VydmUoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHZhciBzdG9wID0gZWFyLFxuICAgICAgICBwcmV2LCBuZXh0O1xuXG4gICAgLy8gaXRlcmF0ZSB0aHJvdWdoIGVhcnMsIHNsaWNpbmcgdGhlbSBvbmUgYnkgb25lXG4gICAgd2hpbGUgKGVhci5wcmV2ICE9PSBlYXIubmV4dCkge1xuICAgICAgICBwcmV2ID0gZWFyLnByZXY7XG4gICAgICAgIG5leHQgPSBlYXIubmV4dDtcblxuICAgICAgICBpZiAoaW52U2l6ZSA/IGlzRWFySGFzaGVkKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSkgOiBpc0VhcihlYXIpKSB7XG4gICAgICAgICAgICAvLyBjdXQgb2ZmIHRoZSB0cmlhbmdsZVxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocHJldi5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGVhci5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKG5leHQuaSAvIGRpbSk7XG5cbiAgICAgICAgICAgIHJlbW92ZU5vZGUoZWFyKTtcblxuICAgICAgICAgICAgLy8gc2tpcHBpbmcgdGhlIG5leHQgdmVydGV4IGxlYWRzIHRvIGxlc3Mgc2xpdmVyIHRyaWFuZ2xlc1xuICAgICAgICAgICAgZWFyID0gbmV4dC5uZXh0O1xuICAgICAgICAgICAgc3RvcCA9IG5leHQubmV4dDtcblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBlYXIgPSBuZXh0O1xuXG4gICAgICAgIC8vIGlmIHdlIGxvb3BlZCB0aHJvdWdoIHRoZSB3aG9sZSByZW1haW5pbmcgcG9seWdvbiBhbmQgY2FuJ3QgZmluZCBhbnkgbW9yZSBlYXJzXG4gICAgICAgIGlmIChlYXIgPT09IHN0b3ApIHtcbiAgICAgICAgICAgIC8vIHRyeSBmaWx0ZXJpbmcgcG9pbnRzIGFuZCBzbGljaW5nIGFnYWluXG4gICAgICAgICAgICBpZiAoIXBhc3MpIHtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZmlsdGVyUG9pbnRzKGVhciksIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAxKTtcblxuICAgICAgICAgICAgLy8gaWYgdGhpcyBkaWRuJ3Qgd29yaywgdHJ5IGN1cmluZyBhbGwgc21hbGwgc2VsZi1pbnRlcnNlY3Rpb25zIGxvY2FsbHlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGVhciA9IGN1cmVMb2NhbEludGVyc2VjdGlvbnMoZmlsdGVyUG9pbnRzKGVhciksIHRyaWFuZ2xlcywgZGltKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMik7XG5cbiAgICAgICAgICAgIC8vIGFzIGEgbGFzdCByZXNvcnQsIHRyeSBzcGxpdHRpbmcgdGhlIHJlbWFpbmluZyBwb2x5Z29uIGludG8gdHdvXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDIpIHtcbiAgICAgICAgICAgICAgICBzcGxpdEVhcmN1dChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIGNoZWNrIHdoZXRoZXIgYSBwb2x5Z29uIG5vZGUgZm9ybXMgYSB2YWxpZCBlYXIgd2l0aCBhZGphY2VudCBub2Rlc1xuZnVuY3Rpb24gaXNFYXIoZWFyKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gbm93IG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlIG90aGVyIHBvaW50cyBpbnNpZGUgdGhlIHBvdGVudGlhbCBlYXJcbiAgICB2YXIgcCA9IGVhci5uZXh0Lm5leHQ7XG5cbiAgICB3aGlsZSAocCAhPT0gZWFyLnByZXYpIHtcbiAgICAgICAgaWYgKHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gdHJpYW5nbGUgYmJveDsgbWluICYgbWF4IGFyZSBjYWxjdWxhdGVkIGxpa2UgdGhpcyBmb3Igc3BlZWRcbiAgICB2YXIgbWluVFggPSBhLnggPCBiLnggPyAoYS54IDwgYy54ID8gYS54IDogYy54KSA6IChiLnggPCBjLnggPyBiLnggOiBjLngpLFxuICAgICAgICBtaW5UWSA9IGEueSA8IGIueSA/IChhLnkgPCBjLnkgPyBhLnkgOiBjLnkpIDogKGIueSA8IGMueSA/IGIueSA6IGMueSksXG4gICAgICAgIG1heFRYID0gYS54ID4gYi54ID8gKGEueCA+IGMueCA/IGEueCA6IGMueCkgOiAoYi54ID4gYy54ID8gYi54IDogYy54KSxcbiAgICAgICAgbWF4VFkgPSBhLnkgPiBiLnkgPyAoYS55ID4gYy55ID8gYS55IDogYy55KSA6IChiLnkgPiBjLnkgPyBiLnkgOiBjLnkpO1xuXG4gICAgLy8gei1vcmRlciByYW5nZSBmb3IgdGhlIGN1cnJlbnQgdHJpYW5nbGUgYmJveDtcbiAgICB2YXIgbWluWiA9IHpPcmRlcihtaW5UWCwgbWluVFksIG1pblgsIG1pblksIGludlNpemUpLFxuICAgICAgICBtYXhaID0gek9yZGVyKG1heFRYLCBtYXhUWSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgcCA9IGVhci5wcmV2WixcbiAgICAgICAgbiA9IGVhci5uZXh0WjtcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIGluIGJvdGggZGlyZWN0aW9uc1xuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aICYmIG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuXG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGRlY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aKSB7XG4gICAgICAgIGlmIChwICE9PSBlYXIucHJldiAmJiBwICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5wcmV2WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGluY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChuICYmIG4ueiA8PSBtYXhaKSB7XG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gZ28gdGhyb3VnaCBhbGwgcG9seWdvbiBub2RlcyBhbmQgY3VyZSBzbWFsbCBsb2NhbCBzZWxmLWludGVyc2VjdGlvbnNcbmZ1bmN0aW9uIGN1cmVMb2NhbEludGVyc2VjdGlvbnMoc3RhcnQsIHRyaWFuZ2xlcywgZGltKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBhID0gcC5wcmV2LFxuICAgICAgICAgICAgYiA9IHAubmV4dC5uZXh0O1xuXG4gICAgICAgIGlmICghZXF1YWxzKGEsIGIpICYmIGludGVyc2VjdHMoYSwgcCwgcC5uZXh0LCBiKSAmJiBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkpIHtcblxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYS5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHAuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChiLmkgLyBkaW0pO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgdHdvIG5vZGVzIGludm9sdmVkXG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwLm5leHQpO1xuXG4gICAgICAgICAgICBwID0gc3RhcnQgPSBiO1xuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcmV0dXJuIGZpbHRlclBvaW50cyhwKTtcbn1cblxuLy8gdHJ5IHNwbGl0dGluZyBwb2x5Z29uIGludG8gdHdvIGFuZCB0cmlhbmd1bGF0ZSB0aGVtIGluZGVwZW5kZW50bHlcbmZ1bmN0aW9uIHNwbGl0RWFyY3V0KHN0YXJ0LCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGxvb2sgZm9yIGEgdmFsaWQgZGlhZ29uYWwgdGhhdCBkaXZpZGVzIHRoZSBwb2x5Z29uIGludG8gdHdvXG4gICAgdmFyIGEgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBiID0gYS5uZXh0Lm5leHQ7XG4gICAgICAgIHdoaWxlIChiICE9PSBhLnByZXYpIHtcbiAgICAgICAgICAgIGlmIChhLmkgIT09IGIuaSAmJiBpc1ZhbGlkRGlhZ29uYWwoYSwgYikpIHtcbiAgICAgICAgICAgICAgICAvLyBzcGxpdCB0aGUgcG9seWdvbiBpbiB0d28gYnkgdGhlIGRpYWdvbmFsXG4gICAgICAgICAgICAgICAgdmFyIGMgPSBzcGxpdFBvbHlnb24oYSwgYik7XG5cbiAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgY29saW5lYXIgcG9pbnRzIGFyb3VuZCB0aGUgY3V0c1xuICAgICAgICAgICAgICAgIGEgPSBmaWx0ZXJQb2ludHMoYSwgYS5uZXh0KTtcbiAgICAgICAgICAgICAgICBjID0gZmlsdGVyUG9pbnRzKGMsIGMubmV4dCk7XG5cbiAgICAgICAgICAgICAgICAvLyBydW4gZWFyY3V0IG9uIGVhY2ggaGFsZlxuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChhLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGMsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiID0gYi5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGEgPSBhLm5leHQ7XG4gICAgfSB3aGlsZSAoYSAhPT0gc3RhcnQpO1xufVxuXG4vLyBsaW5rIGV2ZXJ5IGhvbGUgaW50byB0aGUgb3V0ZXIgbG9vcCwgcHJvZHVjaW5nIGEgc2luZ2xlLXJpbmcgcG9seWdvbiB3aXRob3V0IGhvbGVzXG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pIHtcbiAgICB2YXIgcXVldWUgPSBbXSxcbiAgICAgICAgaSwgbGVuLCBzdGFydCwgZW5kLCBsaXN0O1xuXG4gICAgZm9yIChpID0gMCwgbGVuID0gaG9sZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcbiAgICAgICAgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgbGlzdCA9IGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBmYWxzZSk7XG4gICAgICAgIGlmIChsaXN0ID09PSBsaXN0Lm5leHQpIGxpc3Quc3RlaW5lciA9IHRydWU7XG4gICAgICAgIHF1ZXVlLnB1c2goZ2V0TGVmdG1vc3QobGlzdCkpO1xuICAgIH1cblxuICAgIHF1ZXVlLnNvcnQoY29tcGFyZVgpO1xuXG4gICAgLy8gcHJvY2VzcyBob2xlcyBmcm9tIGxlZnQgdG8gcmlnaHRcbiAgICBmb3IgKGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZWxpbWluYXRlSG9sZShxdWV1ZVtpXSwgb3V0ZXJOb2RlKTtcbiAgICAgICAgb3V0ZXJOb2RlID0gZmlsdGVyUG9pbnRzKG91dGVyTm9kZSwgb3V0ZXJOb2RlLm5leHQpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRlck5vZGU7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVYKGEsIGIpIHtcbiAgICByZXR1cm4gYS54IC0gYi54O1xufVxuXG4vLyBmaW5kIGEgYnJpZGdlIGJldHdlZW4gdmVydGljZXMgdGhhdCBjb25uZWN0cyBob2xlIHdpdGggYW4gb3V0ZXIgcmluZyBhbmQgYW5kIGxpbmsgaXRcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGUoaG9sZSwgb3V0ZXJOb2RlKSB7XG4gICAgb3V0ZXJOb2RlID0gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKTtcbiAgICBpZiAob3V0ZXJOb2RlKSB7XG4gICAgICAgIHZhciBiID0gc3BsaXRQb2x5Z29uKG91dGVyTm9kZSwgaG9sZSk7XG5cbiAgICAgICAgLy8gZmlsdGVyIGNvbGxpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXG4gICAgICAgIGZpbHRlclBvaW50cyhvdXRlck5vZGUsIG91dGVyTm9kZS5uZXh0KTtcbiAgICAgICAgZmlsdGVyUG9pbnRzKGIsIGIubmV4dCk7XG4gICAgfVxufVxuXG4vLyBEYXZpZCBFYmVybHkncyBhbGdvcml0aG0gZm9yIGZpbmRpbmcgYSBicmlkZ2UgYmV0d2VlbiBob2xlIGFuZCBvdXRlciBwb2x5Z29uXG5mdW5jdGlvbiBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpIHtcbiAgICB2YXIgcCA9IG91dGVyTm9kZSxcbiAgICAgICAgaHggPSBob2xlLngsXG4gICAgICAgIGh5ID0gaG9sZS55LFxuICAgICAgICBxeCA9IC1JbmZpbml0eSxcbiAgICAgICAgbTtcblxuICAgIC8vIGZpbmQgYSBzZWdtZW50IGludGVyc2VjdGVkIGJ5IGEgcmF5IGZyb20gdGhlIGhvbGUncyBsZWZ0bW9zdCBwb2ludCB0byB0aGUgbGVmdDtcbiAgICAvLyBzZWdtZW50J3MgZW5kcG9pbnQgd2l0aCBsZXNzZXIgeCB3aWxsIGJlIHBvdGVudGlhbCBjb25uZWN0aW9uIHBvaW50XG4gICAgZG8ge1xuICAgICAgICBpZiAoaHkgPD0gcC55ICYmIGh5ID49IHAubmV4dC55ICYmIHAubmV4dC55ICE9PSBwLnkpIHtcbiAgICAgICAgICAgIHZhciB4ID0gcC54ICsgKGh5IC0gcC55KSAqIChwLm5leHQueCAtIHAueCkgLyAocC5uZXh0LnkgLSBwLnkpO1xuICAgICAgICAgICAgaWYgKHggPD0gaHggJiYgeCA+IHF4KSB7XG4gICAgICAgICAgICAgICAgcXggPSB4O1xuICAgICAgICAgICAgICAgIGlmICh4ID09PSBoeCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaHkgPT09IHAueSkgcmV0dXJuIHA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoeSA9PT0gcC5uZXh0LnkpIHJldHVybiBwLm5leHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG0gPSBwLnggPCBwLm5leHQueCA/IHAgOiBwLm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBvdXRlck5vZGUpO1xuXG4gICAgaWYgKCFtKSByZXR1cm4gbnVsbDtcblxuICAgIGlmIChoeCA9PT0gcXgpIHJldHVybiBtOyAvLyBob2xlIHRvdWNoZXMgb3V0ZXIgc2VnbWVudDsgcGljayBsZWZ0bW9zdCBlbmRwb2ludFxuXG4gICAgLy8gbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgb2YgaG9sZSBwb2ludCwgc2VnbWVudCBpbnRlcnNlY3Rpb24gYW5kIGVuZHBvaW50O1xuICAgIC8vIGlmIHRoZXJlIGFyZSBubyBwb2ludHMgZm91bmQsIHdlIGhhdmUgYSB2YWxpZCBjb25uZWN0aW9uO1xuICAgIC8vIG90aGVyd2lzZSBjaG9vc2UgdGhlIHBvaW50IG9mIHRoZSBtaW5pbXVtIGFuZ2xlIHdpdGggdGhlIHJheSBhcyBjb25uZWN0aW9uIHBvaW50XG5cbiAgICB2YXIgc3RvcCA9IG0sXG4gICAgICAgIG14ID0gbS54LFxuICAgICAgICBteSA9IG0ueSxcbiAgICAgICAgdGFuTWluID0gSW5maW5pdHksXG4gICAgICAgIHRhbjtcblxuICAgIHAgPSBtO1xuXG4gICAgZG8ge1xuICAgICAgICBpZiAoaHggPj0gcC54ICYmIHAueCA+PSBteCAmJiBoeCAhPT0gcC54ICYmXG4gICAgICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGh5IDwgbXkgPyBoeCA6IHF4LCBoeSwgbXgsIG15LCBoeSA8IG15ID8gcXggOiBoeCwgaHksIHAueCwgcC55KSkge1xuXG4gICAgICAgICAgICB0YW4gPSBNYXRoLmFicyhoeSAtIHAueSkgLyAoaHggLSBwLngpOyAvLyB0YW5nZW50aWFsXG5cbiAgICAgICAgICAgIGlmIChsb2NhbGx5SW5zaWRlKHAsIGhvbGUpICYmXG4gICAgICAgICAgICAgICAgKHRhbiA8IHRhbk1pbiB8fCAodGFuID09PSB0YW5NaW4gJiYgKHAueCA+IG0ueCB8fCAocC54ID09PSBtLnggJiYgc2VjdG9yQ29udGFpbnNTZWN0b3IobSwgcCkpKSkpKSB7XG4gICAgICAgICAgICAgICAgbSA9IHA7XG4gICAgICAgICAgICAgICAgdGFuTWluID0gdGFuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdG9wKTtcblxuICAgIHJldHVybiBtO1xufVxuXG4vLyB3aGV0aGVyIHNlY3RvciBpbiB2ZXJ0ZXggbSBjb250YWlucyBzZWN0b3IgaW4gdmVydGV4IHAgaW4gdGhlIHNhbWUgY29vcmRpbmF0ZXNcbmZ1bmN0aW9uIHNlY3RvckNvbnRhaW5zU2VjdG9yKG0sIHApIHtcbiAgICByZXR1cm4gYXJlYShtLnByZXYsIG0sIHAucHJldikgPCAwICYmIGFyZWEocC5uZXh0LCBtLCBtLm5leHQpIDwgMDtcbn1cblxuLy8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlclxuZnVuY3Rpb24gaW5kZXhDdXJ2ZShzdGFydCwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIHZhciBwID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICBpZiAocC56ID09PSBudWxsKSBwLnogPSB6T3JkZXIocC54LCBwLnksIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICBwLnByZXZaID0gcC5wcmV2O1xuICAgICAgICBwLm5leHRaID0gcC5uZXh0O1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcblxuICAgIHAucHJldloubmV4dFogPSBudWxsO1xuICAgIHAucHJldlogPSBudWxsO1xuXG4gICAgc29ydExpbmtlZChwKTtcbn1cblxuLy8gU2ltb24gVGF0aGFtJ3MgbGlua2VkIGxpc3QgbWVyZ2Ugc29ydCBhbGdvcml0aG1cbi8vIGh0dHA6Ly93d3cuY2hpYXJrLmdyZWVuZW5kLm9yZy51ay9+c2d0YXRoYW0vYWxnb3JpdGhtcy9saXN0c29ydC5odG1sXG5mdW5jdGlvbiBzb3J0TGlua2VkKGxpc3QpIHtcbiAgICB2YXIgaSwgcCwgcSwgZSwgdGFpbCwgbnVtTWVyZ2VzLCBwU2l6ZSwgcVNpemUsXG4gICAgICAgIGluU2l6ZSA9IDE7XG5cbiAgICBkbyB7XG4gICAgICAgIHAgPSBsaXN0O1xuICAgICAgICBsaXN0ID0gbnVsbDtcbiAgICAgICAgdGFpbCA9IG51bGw7XG4gICAgICAgIG51bU1lcmdlcyA9IDA7XG5cbiAgICAgICAgd2hpbGUgKHApIHtcbiAgICAgICAgICAgIG51bU1lcmdlcysrO1xuICAgICAgICAgICAgcSA9IHA7XG4gICAgICAgICAgICBwU2l6ZSA9IDA7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaW5TaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwU2l6ZSsrO1xuICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xuICAgICAgICAgICAgICAgIGlmICghcSkgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBxU2l6ZSA9IGluU2l6ZTtcblxuICAgICAgICAgICAgd2hpbGUgKHBTaXplID4gMCB8fCAocVNpemUgPiAwICYmIHEpKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAocFNpemUgIT09IDAgJiYgKHFTaXplID09PSAwIHx8ICFxIHx8IHAueiA8PSBxLnopKSB7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBwO1xuICAgICAgICAgICAgICAgICAgICBwID0gcC5uZXh0WjtcbiAgICAgICAgICAgICAgICAgICAgcFNpemUtLTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlID0gcTtcbiAgICAgICAgICAgICAgICAgICAgcSA9IHEubmV4dFo7XG4gICAgICAgICAgICAgICAgICAgIHFTaXplLS07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRhaWwpIHRhaWwubmV4dFogPSBlO1xuICAgICAgICAgICAgICAgIGVsc2UgbGlzdCA9IGU7XG5cbiAgICAgICAgICAgICAgICBlLnByZXZaID0gdGFpbDtcbiAgICAgICAgICAgICAgICB0YWlsID0gZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcCA9IHE7XG4gICAgICAgIH1cblxuICAgICAgICB0YWlsLm5leHRaID0gbnVsbDtcbiAgICAgICAgaW5TaXplICo9IDI7XG5cbiAgICB9IHdoaWxlIChudW1NZXJnZXMgPiAxKTtcblxuICAgIHJldHVybiBsaXN0O1xufVxuXG4vLyB6LW9yZGVyIG9mIGEgcG9pbnQgZ2l2ZW4gY29vcmRzIGFuZCBpbnZlcnNlIG9mIHRoZSBsb25nZXIgc2lkZSBvZiBkYXRhIGJib3hcbmZ1bmN0aW9uIHpPcmRlcih4LCB5LCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgLy8gY29vcmRzIGFyZSB0cmFuc2Zvcm1lZCBpbnRvIG5vbi1uZWdhdGl2ZSAxNS1iaXQgaW50ZWdlciByYW5nZVxuICAgIHggPSAzMjc2NyAqICh4IC0gbWluWCkgKiBpbnZTaXplO1xuICAgIHkgPSAzMjc2NyAqICh5IC0gbWluWSkgKiBpbnZTaXplO1xuXG4gICAgeCA9ICh4IHwgKHggPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgICB4ID0gKHggfCAoeCA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICAgIHggPSAoeCB8ICh4IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gICAgeCA9ICh4IHwgKHggPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICAgIHkgPSAoeSB8ICh5IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gICAgeSA9ICh5IHwgKHkgPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgICB5ID0gKHkgfCAoeSA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICAgIHkgPSAoeSB8ICh5IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgICByZXR1cm4geCB8ICh5IDw8IDEpO1xufVxuXG4vLyBmaW5kIHRoZSBsZWZ0bW9zdCBub2RlIG9mIGEgcG9seWdvbiByaW5nXG5mdW5jdGlvbiBnZXRMZWZ0bW9zdChzdGFydCkge1xuICAgIHZhciBwID0gc3RhcnQsXG4gICAgICAgIGxlZnRtb3N0ID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICBpZiAocC54IDwgbGVmdG1vc3QueCB8fCAocC54ID09PSBsZWZ0bW9zdC54ICYmIHAueSA8IGxlZnRtb3N0LnkpKSBsZWZ0bW9zdCA9IHA7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcmV0dXJuIGxlZnRtb3N0O1xufVxuXG4vLyBjaGVjayBpZiBhIHBvaW50IGxpZXMgd2l0aGluIGEgY29udmV4IHRyaWFuZ2xlXG5mdW5jdGlvbiBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcHgsIHB5KSB7XG4gICAgcmV0dXJuIChjeCAtIHB4KSAqIChheSAtIHB5KSAtIChheCAtIHB4KSAqIChjeSAtIHB5KSA+PSAwICYmXG4gICAgICAgICAgIChheCAtIHB4KSAqIChieSAtIHB5KSAtIChieCAtIHB4KSAqIChheSAtIHB5KSA+PSAwICYmXG4gICAgICAgICAgIChieCAtIHB4KSAqIChjeSAtIHB5KSAtIChjeCAtIHB4KSAqIChieSAtIHB5KSA+PSAwO1xufVxuXG4vLyBjaGVjayBpZiBhIGRpYWdvbmFsIGJldHdlZW4gdHdvIHBvbHlnb24gbm9kZXMgaXMgdmFsaWQgKGxpZXMgaW4gcG9seWdvbiBpbnRlcmlvcilcbmZ1bmN0aW9uIGlzVmFsaWREaWFnb25hbChhLCBiKSB7XG4gICAgcmV0dXJuIGEubmV4dC5pICE9PSBiLmkgJiYgYS5wcmV2LmkgIT09IGIuaSAmJiAhaW50ZXJzZWN0c1BvbHlnb24oYSwgYikgJiYgLy8gZG9uZXMndCBpbnRlcnNlY3Qgb3RoZXIgZWRnZXNcbiAgICAgICAgICAgKGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSAmJiBtaWRkbGVJbnNpZGUoYSwgYikgJiYgLy8gbG9jYWxseSB2aXNpYmxlXG4gICAgICAgICAgICAoYXJlYShhLnByZXYsIGEsIGIucHJldikgfHwgYXJlYShhLCBiLnByZXYsIGIpKSB8fCAvLyBkb2VzIG5vdCBjcmVhdGUgb3Bwb3NpdGUtZmFjaW5nIHNlY3RvcnNcbiAgICAgICAgICAgIGVxdWFscyhhLCBiKSAmJiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA+IDAgJiYgYXJlYShiLnByZXYsIGIsIGIubmV4dCkgPiAwKTsgLy8gc3BlY2lhbCB6ZXJvLWxlbmd0aCBjYXNlXG59XG5cbi8vIHNpZ25lZCBhcmVhIG9mIGEgdHJpYW5nbGVcbmZ1bmN0aW9uIGFyZWEocCwgcSwgcikge1xuICAgIHJldHVybiAocS55IC0gcC55KSAqIChyLnggLSBxLngpIC0gKHEueCAtIHAueCkgKiAoci55IC0gcS55KTtcbn1cblxuLy8gY2hlY2sgaWYgdHdvIHBvaW50cyBhcmUgZXF1YWxcbmZ1bmN0aW9uIGVxdWFscyhwMSwgcDIpIHtcbiAgICByZXR1cm4gcDEueCA9PT0gcDIueCAmJiBwMS55ID09PSBwMi55O1xufVxuXG4vLyBjaGVjayBpZiB0d28gc2VnbWVudHMgaW50ZXJzZWN0XG5mdW5jdGlvbiBpbnRlcnNlY3RzKHAxLCBxMSwgcDIsIHEyKSB7XG4gICAgdmFyIG8xID0gc2lnbihhcmVhKHAxLCBxMSwgcDIpKTtcbiAgICB2YXIgbzIgPSBzaWduKGFyZWEocDEsIHExLCBxMikpO1xuICAgIHZhciBvMyA9IHNpZ24oYXJlYShwMiwgcTIsIHAxKSk7XG4gICAgdmFyIG80ID0gc2lnbihhcmVhKHAyLCBxMiwgcTEpKTtcblxuICAgIGlmIChvMSAhPT0gbzIgJiYgbzMgIT09IG80KSByZXR1cm4gdHJ1ZTsgLy8gZ2VuZXJhbCBjYXNlXG5cbiAgICBpZiAobzEgPT09IDAgJiYgb25TZWdtZW50KHAxLCBwMiwgcTEpKSByZXR1cm4gdHJ1ZTsgLy8gcDEsIHExIGFuZCBwMiBhcmUgY29sbGluZWFyIGFuZCBwMiBsaWVzIG9uIHAxcTFcbiAgICBpZiAobzIgPT09IDAgJiYgb25TZWdtZW50KHAxLCBxMiwgcTEpKSByZXR1cm4gdHJ1ZTsgLy8gcDEsIHExIGFuZCBxMiBhcmUgY29sbGluZWFyIGFuZCBxMiBsaWVzIG9uIHAxcTFcbiAgICBpZiAobzMgPT09IDAgJiYgb25TZWdtZW50KHAyLCBwMSwgcTIpKSByZXR1cm4gdHJ1ZTsgLy8gcDIsIHEyIGFuZCBwMSBhcmUgY29sbGluZWFyIGFuZCBwMSBsaWVzIG9uIHAycTJcbiAgICBpZiAobzQgPT09IDAgJiYgb25TZWdtZW50KHAyLCBxMSwgcTIpKSByZXR1cm4gdHJ1ZTsgLy8gcDIsIHEyIGFuZCBxMSBhcmUgY29sbGluZWFyIGFuZCBxMSBsaWVzIG9uIHAycTJcblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gZm9yIGNvbGxpbmVhciBwb2ludHMgcCwgcSwgciwgY2hlY2sgaWYgcG9pbnQgcSBsaWVzIG9uIHNlZ21lbnQgcHJcbmZ1bmN0aW9uIG9uU2VnbWVudChwLCBxLCByKSB7XG4gICAgcmV0dXJuIHEueCA8PSBNYXRoLm1heChwLngsIHIueCkgJiYgcS54ID49IE1hdGgubWluKHAueCwgci54KSAmJiBxLnkgPD0gTWF0aC5tYXgocC55LCByLnkpICYmIHEueSA+PSBNYXRoLm1pbihwLnksIHIueSk7XG59XG5cbmZ1bmN0aW9uIHNpZ24obnVtKSB7XG4gICAgcmV0dXJuIG51bSA+IDAgPyAxIDogbnVtIDwgMCA/IC0xIDogMDtcbn1cblxuLy8gY2hlY2sgaWYgYSBwb2x5Z29uIGRpYWdvbmFsIGludGVyc2VjdHMgYW55IHBvbHlnb24gc2VnbWVudHNcbmZ1bmN0aW9uIGludGVyc2VjdHNQb2x5Z29uKGEsIGIpIHtcbiAgICB2YXIgcCA9IGE7XG4gICAgZG8ge1xuICAgICAgICBpZiAocC5pICE9PSBhLmkgJiYgcC5uZXh0LmkgIT09IGEuaSAmJiBwLmkgIT09IGIuaSAmJiBwLm5leHQuaSAhPT0gYi5pICYmXG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0cyhwLCBwLm5leHQsIGEsIGIpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBhKTtcblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gY2hlY2sgaWYgYSBwb2x5Z29uIGRpYWdvbmFsIGlzIGxvY2FsbHkgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBsb2NhbGx5SW5zaWRlKGEsIGIpIHtcbiAgICByZXR1cm4gYXJlYShhLnByZXYsIGEsIGEubmV4dCkgPCAwID9cbiAgICAgICAgYXJlYShhLCBiLCBhLm5leHQpID49IDAgJiYgYXJlYShhLCBhLnByZXYsIGIpID49IDAgOlxuICAgICAgICBhcmVhKGEsIGIsIGEucHJldikgPCAwIHx8IGFyZWEoYSwgYS5uZXh0LCBiKSA8IDA7XG59XG5cbi8vIGNoZWNrIGlmIHRoZSBtaWRkbGUgcG9pbnQgb2YgYSBwb2x5Z29uIGRpYWdvbmFsIGlzIGluc2lkZSB0aGUgcG9seWdvblxuZnVuY3Rpb24gbWlkZGxlSW5zaWRlKGEsIGIpIHtcbiAgICB2YXIgcCA9IGEsXG4gICAgICAgIGluc2lkZSA9IGZhbHNlLFxuICAgICAgICBweCA9IChhLnggKyBiLngpIC8gMixcbiAgICAgICAgcHkgPSAoYS55ICsgYi55KSAvIDI7XG4gICAgZG8ge1xuICAgICAgICBpZiAoKChwLnkgPiBweSkgIT09IChwLm5leHQueSA+IHB5KSkgJiYgcC5uZXh0LnkgIT09IHAueSAmJlxuICAgICAgICAgICAgICAgIChweCA8IChwLm5leHQueCAtIHAueCkgKiAocHkgLSBwLnkpIC8gKHAubmV4dC55IC0gcC55KSArIHAueCkpXG4gICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGluc2lkZTtcbn1cblxuLy8gbGluayB0d28gcG9seWdvbiB2ZXJ0aWNlcyB3aXRoIGEgYnJpZGdlOyBpZiB0aGUgdmVydGljZXMgYmVsb25nIHRvIHRoZSBzYW1lIHJpbmcsIGl0IHNwbGl0cyBwb2x5Z29uIGludG8gdHdvO1xuLy8gaWYgb25lIGJlbG9uZ3MgdG8gdGhlIG91dGVyIHJpbmcgYW5kIGFub3RoZXIgdG8gYSBob2xlLCBpdCBtZXJnZXMgaXQgaW50byBhIHNpbmdsZSByaW5nXG5mdW5jdGlvbiBzcGxpdFBvbHlnb24oYSwgYikge1xuICAgIHZhciBhMiA9IG5ldyBOb2RlKGEuaSwgYS54LCBhLnkpLFxuICAgICAgICBiMiA9IG5ldyBOb2RlKGIuaSwgYi54LCBiLnkpLFxuICAgICAgICBhbiA9IGEubmV4dCxcbiAgICAgICAgYnAgPSBiLnByZXY7XG5cbiAgICBhLm5leHQgPSBiO1xuICAgIGIucHJldiA9IGE7XG5cbiAgICBhMi5uZXh0ID0gYW47XG4gICAgYW4ucHJldiA9IGEyO1xuXG4gICAgYjIubmV4dCA9IGEyO1xuICAgIGEyLnByZXYgPSBiMjtcblxuICAgIGJwLm5leHQgPSBiMjtcbiAgICBiMi5wcmV2ID0gYnA7XG5cbiAgICByZXR1cm4gYjI7XG59XG5cbi8vIGNyZWF0ZSBhIG5vZGUgYW5kIG9wdGlvbmFsbHkgbGluayBpdCB3aXRoIHByZXZpb3VzIG9uZSAoaW4gYSBjaXJjdWxhciBkb3VibHkgbGlua2VkIGxpc3QpXG5mdW5jdGlvbiBpbnNlcnROb2RlKGksIHgsIHksIGxhc3QpIHtcbiAgICB2YXIgcCA9IG5ldyBOb2RlKGksIHgsIHkpO1xuXG4gICAgaWYgKCFsYXN0KSB7XG4gICAgICAgIHAucHJldiA9IHA7XG4gICAgICAgIHAubmV4dCA9IHA7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBwLm5leHQgPSBsYXN0Lm5leHQ7XG4gICAgICAgIHAucHJldiA9IGxhc3Q7XG4gICAgICAgIGxhc3QubmV4dC5wcmV2ID0gcDtcbiAgICAgICAgbGFzdC5uZXh0ID0gcDtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZU5vZGUocCkge1xuICAgIHAubmV4dC5wcmV2ID0gcC5wcmV2O1xuICAgIHAucHJldi5uZXh0ID0gcC5uZXh0O1xuXG4gICAgaWYgKHAucHJldlopIHAucHJldloubmV4dFogPSBwLm5leHRaO1xuICAgIGlmIChwLm5leHRaKSBwLm5leHRaLnByZXZaID0gcC5wcmV2Wjtcbn1cblxuZnVuY3Rpb24gTm9kZShpLCB4LCB5KSB7XG4gICAgLy8gdmVydGV4IGluZGV4IGluIGNvb3JkaW5hdGVzIGFycmF5XG4gICAgdGhpcy5pID0gaTtcblxuICAgIC8vIHZlcnRleCBjb29yZGluYXRlc1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcblxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IHZlcnRleCBub2RlcyBpbiBhIHBvbHlnb24gcmluZ1xuICAgIHRoaXMucHJldiA9IG51bGw7XG4gICAgdGhpcy5uZXh0ID0gbnVsbDtcblxuICAgIC8vIHotb3JkZXIgY3VydmUgdmFsdWVcbiAgICB0aGlzLnogPSBudWxsO1xuXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgbm9kZXMgaW4gei1vcmRlclxuICAgIHRoaXMucHJldlogPSBudWxsO1xuICAgIHRoaXMubmV4dFogPSBudWxsO1xuXG4gICAgLy8gaW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBpcyBhIHN0ZWluZXIgcG9pbnRcbiAgICB0aGlzLnN0ZWluZXIgPSBmYWxzZTtcbn1cblxuLy8gcmV0dXJuIGEgcGVyY2VudGFnZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHBvbHlnb24gYXJlYSBhbmQgaXRzIHRyaWFuZ3VsYXRpb24gYXJlYTtcbi8vIHVzZWQgdG8gdmVyaWZ5IGNvcnJlY3RuZXNzIG9mIHRyaWFuZ3VsYXRpb25cbmVhcmN1dC5kZXZpYXRpb24gPSBmdW5jdGlvbiAoZGF0YSwgaG9sZUluZGljZXMsIGRpbSwgdHJpYW5nbGVzKSB7XG4gICAgdmFyIGhhc0hvbGVzID0gaG9sZUluZGljZXMgJiYgaG9sZUluZGljZXMubGVuZ3RoO1xuICAgIHZhciBvdXRlckxlbiA9IGhhc0hvbGVzID8gaG9sZUluZGljZXNbMF0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcblxuICAgIHZhciBwb2x5Z29uQXJlYSA9IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSkpO1xuICAgIGlmIChoYXNIb2xlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaG9sZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xuICAgICAgICAgICAgdmFyIGVuZCA9IGkgPCBsZW4gLSAxID8gaG9sZUluZGljZXNbaSArIDFdICogZGltIDogZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICBwb2x5Z29uQXJlYSAtPSBNYXRoLmFicyhzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHRyaWFuZ2xlc0FyZWEgPSAwO1xuICAgIGZvciAoaSA9IDA7IGkgPCB0cmlhbmdsZXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgdmFyIGEgPSB0cmlhbmdsZXNbaV0gKiBkaW07XG4gICAgICAgIHZhciBiID0gdHJpYW5nbGVzW2kgKyAxXSAqIGRpbTtcbiAgICAgICAgdmFyIGMgPSB0cmlhbmdsZXNbaSArIDJdICogZGltO1xuICAgICAgICB0cmlhbmdsZXNBcmVhICs9IE1hdGguYWJzKFxuICAgICAgICAgICAgKGRhdGFbYV0gLSBkYXRhW2NdKSAqIChkYXRhW2IgKyAxXSAtIGRhdGFbYSArIDFdKSAtXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbYl0pICogKGRhdGFbYyArIDFdIC0gZGF0YVthICsgMV0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9seWdvbkFyZWEgPT09IDAgJiYgdHJpYW5nbGVzQXJlYSA9PT0gMCA/IDAgOlxuICAgICAgICBNYXRoLmFicygodHJpYW5nbGVzQXJlYSAtIHBvbHlnb25BcmVhKSAvIHBvbHlnb25BcmVhKTtcbn07XG5cbmZ1bmN0aW9uIHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSB7XG4gICAgdmFyIHN1bSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0LCBqID0gZW5kIC0gZGltOyBpIDwgZW5kOyBpICs9IGRpbSkge1xuICAgICAgICBzdW0gKz0gKGRhdGFbal0gLSBkYXRhW2ldKSAqIChkYXRhW2kgKyAxXSArIGRhdGFbaiArIDFdKTtcbiAgICAgICAgaiA9IGk7XG4gICAgfVxuICAgIHJldHVybiBzdW07XG59XG5cbi8vIHR1cm4gYSBwb2x5Z29uIGluIGEgbXVsdGktZGltZW5zaW9uYWwgYXJyYXkgZm9ybSAoZS5nLiBhcyBpbiBHZW9KU09OKSBpbnRvIGEgZm9ybSBFYXJjdXQgYWNjZXB0c1xuZWFyY3V0LmZsYXR0ZW4gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgIHZhciBkaW0gPSBkYXRhWzBdWzBdLmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0ge3ZlcnRpY2VzOiBbXSwgaG9sZXM6IFtdLCBkaW1lbnNpb25zOiBkaW19LFxuICAgICAgICBob2xlSW5kZXggPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YVtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCBkaW07IGQrKykgcmVzdWx0LnZlcnRpY2VzLnB1c2goZGF0YVtpXVtqXVtkXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICBob2xlSW5kZXggKz0gZGF0YVtpIC0gMV0ubGVuZ3RoO1xuICAgICAgICAgICAgcmVzdWx0LmhvbGVzLnB1c2goaG9sZUluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbiIsIihmdW5jdGlvbihnbG9iYWwpe1xuXG4vL1xuLy8gQ2hlY2sgZm9yIG5hdGl2ZSBQcm9taXNlIGFuZCBpdCBoYXMgY29ycmVjdCBpbnRlcmZhY2Vcbi8vXG5cbnZhciBOYXRpdmVQcm9taXNlID0gZ2xvYmFsWydQcm9taXNlJ107XG52YXIgbmF0aXZlUHJvbWlzZVN1cHBvcnRlZCA9XG4gIE5hdGl2ZVByb21pc2UgJiZcbiAgLy8gU29tZSBvZiB0aGVzZSBtZXRob2RzIGFyZSBtaXNzaW5nIGZyb21cbiAgLy8gRmlyZWZveC9DaHJvbWUgZXhwZXJpbWVudGFsIGltcGxlbWVudGF0aW9uc1xuICAncmVzb2x2ZScgaW4gTmF0aXZlUHJvbWlzZSAmJlxuICAncmVqZWN0JyBpbiBOYXRpdmVQcm9taXNlICYmXG4gICdhbGwnIGluIE5hdGl2ZVByb21pc2UgJiZcbiAgJ3JhY2UnIGluIE5hdGl2ZVByb21pc2UgJiZcbiAgLy8gT2xkZXIgdmVyc2lvbiBvZiB0aGUgc3BlYyBoYWQgYSByZXNvbHZlciBvYmplY3RcbiAgLy8gYXMgdGhlIGFyZyByYXRoZXIgdGhhbiBhIGZ1bmN0aW9uXG4gIChmdW5jdGlvbigpe1xuICAgIHZhciByZXNvbHZlO1xuICAgIG5ldyBOYXRpdmVQcm9taXNlKGZ1bmN0aW9uKHIpeyByZXNvbHZlID0gcjsgfSk7XG4gICAgcmV0dXJuIHR5cGVvZiByZXNvbHZlID09PSAnZnVuY3Rpb24nO1xuICB9KSgpO1xuXG5cbi8vXG4vLyBleHBvcnQgaWYgbmVjZXNzYXJ5XG4vL1xuXG5pZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnICYmIGV4cG9ydHMpXG57XG4gIC8vIG5vZGUuanNcbiAgZXhwb3J0cy5Qcm9taXNlID0gbmF0aXZlUHJvbWlzZVN1cHBvcnRlZCA/IE5hdGl2ZVByb21pc2UgOiBQcm9taXNlO1xuICBleHBvcnRzLlBvbHlmaWxsID0gUHJvbWlzZTtcbn1cbmVsc2VcbntcbiAgLy8gQU1EXG4gIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcbiAge1xuICAgIGRlZmluZShmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIG5hdGl2ZVByb21pc2VTdXBwb3J0ZWQgPyBOYXRpdmVQcm9taXNlIDogUHJvbWlzZTtcbiAgICB9KTtcbiAgfVxuICBlbHNlXG4gIHtcbiAgICAvLyBpbiBicm93c2VyIGFkZCB0byBnbG9iYWxcbiAgICBpZiAoIW5hdGl2ZVByb21pc2VTdXBwb3J0ZWQpXG4gICAgICBnbG9iYWxbJ1Byb21pc2UnXSA9IFByb21pc2U7XG4gIH1cbn1cblxuXG4vL1xuLy8gUG9seWZpbGxcbi8vXG5cbnZhciBQRU5ESU5HID0gJ3BlbmRpbmcnO1xudmFyIFNFQUxFRCA9ICdzZWFsZWQnO1xudmFyIEZVTEZJTExFRCA9ICdmdWxmaWxsZWQnO1xudmFyIFJFSkVDVEVEID0gJ3JlamVjdGVkJztcbnZhciBOT09QID0gZnVuY3Rpb24oKXt9O1xuXG5mdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vLyBhc3luYyBjYWxsc1xudmFyIGFzeW5jU2V0VGltZXIgPSB0eXBlb2Ygc2V0SW1tZWRpYXRlICE9PSAndW5kZWZpbmVkJyA/IHNldEltbWVkaWF0ZSA6IHNldFRpbWVvdXQ7XG52YXIgYXN5bmNRdWV1ZSA9IFtdO1xudmFyIGFzeW5jVGltZXI7XG5cbmZ1bmN0aW9uIGFzeW5jRmx1c2goKXtcbiAgLy8gcnVuIHByb21pc2UgY2FsbGJhY2tzXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXN5bmNRdWV1ZS5sZW5ndGg7IGkrKylcbiAgICBhc3luY1F1ZXVlW2ldWzBdKGFzeW5jUXVldWVbaV1bMV0pO1xuXG4gIC8vIHJlc2V0IGFzeW5jIGFzeW5jUXVldWVcbiAgYXN5bmNRdWV1ZSA9IFtdO1xuICBhc3luY1RpbWVyID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGFzeW5jQ2FsbChjYWxsYmFjaywgYXJnKXtcbiAgYXN5bmNRdWV1ZS5wdXNoKFtjYWxsYmFjaywgYXJnXSk7XG5cbiAgaWYgKCFhc3luY1RpbWVyKVxuICB7XG4gICAgYXN5bmNUaW1lciA9IHRydWU7XG4gICAgYXN5bmNTZXRUaW1lcihhc3luY0ZsdXNoLCAwKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGludm9rZVJlc29sdmVyKHJlc29sdmVyLCBwcm9taXNlKSB7XG4gIGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHZhbHVlKSB7XG4gICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWplY3RQcm9taXNlKHJlYXNvbikge1xuICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICByZXNvbHZlcihyZXNvbHZlUHJvbWlzZSwgcmVqZWN0UHJvbWlzZSk7XG4gIH0gY2F0Y2goZSkge1xuICAgIHJlamVjdFByb21pc2UoZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW52b2tlQ2FsbGJhY2soc3Vic2NyaWJlcil7XG4gIHZhciBvd25lciA9IHN1YnNjcmliZXIub3duZXI7XG4gIHZhciBzZXR0bGVkID0gb3duZXIuc3RhdGVfO1xuICB2YXIgdmFsdWUgPSBvd25lci5kYXRhXzsgIFxuICB2YXIgY2FsbGJhY2sgPSBzdWJzY3JpYmVyW3NldHRsZWRdO1xuICB2YXIgcHJvbWlzZSA9IHN1YnNjcmliZXIudGhlbjtcblxuICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKVxuICB7XG4gICAgc2V0dGxlZCA9IEZVTEZJTExFRDtcbiAgICB0cnkge1xuICAgICAgdmFsdWUgPSBjYWxsYmFjayh2YWx1ZSk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgZSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkpXG4gIHtcbiAgICBpZiAoc2V0dGxlZCA9PT0gRlVMRklMTEVEKVxuICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG5cbiAgICBpZiAoc2V0dGxlZCA9PT0gUkVKRUNURUQpXG4gICAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlKSB7XG4gIHZhciByZXNvbHZlZDtcblxuICB0cnkge1xuICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSlcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcblxuICAgIGlmICh2YWx1ZSAmJiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpKVxuICAgIHtcbiAgICAgIHZhciB0aGVuID0gdmFsdWUudGhlbjsgIC8vIHRoZW4gc2hvdWxkIGJlIHJldHJpdmVkIG9ubHkgb25jZVxuXG4gICAgICBpZiAodHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpXG4gICAgICB7XG4gICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgZnVuY3Rpb24odmFsKXtcbiAgICAgICAgICBpZiAoIXJlc29sdmVkKVxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB2YWwpXG4gICAgICAgICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgZnVsZmlsbChwcm9taXNlLCB2YWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgICBpZiAoIXJlc29sdmVkKVxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoIXJlc29sdmVkKVxuICAgICAgcmVqZWN0KHByb21pc2UsIGUpO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpe1xuICBpZiAocHJvbWlzZSA9PT0gdmFsdWUgfHwgIWhhbmRsZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlKSlcbiAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gZnVsZmlsbChwcm9taXNlLCB2YWx1ZSl7XG4gIGlmIChwcm9taXNlLnN0YXRlXyA9PT0gUEVORElORylcbiAge1xuICAgIHByb21pc2Uuc3RhdGVfID0gU0VBTEVEO1xuICAgIHByb21pc2UuZGF0YV8gPSB2YWx1ZTtcblxuICAgIGFzeW5jQ2FsbChwdWJsaXNoRnVsZmlsbG1lbnQsIHByb21pc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlamVjdChwcm9taXNlLCByZWFzb24pe1xuICBpZiAocHJvbWlzZS5zdGF0ZV8gPT09IFBFTkRJTkcpXG4gIHtcbiAgICBwcm9taXNlLnN0YXRlXyA9IFNFQUxFRDtcbiAgICBwcm9taXNlLmRhdGFfID0gcmVhc29uO1xuXG4gICAgYXN5bmNDYWxsKHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2gocHJvbWlzZSkge1xuICB2YXIgY2FsbGJhY2tzID0gcHJvbWlzZS50aGVuXztcbiAgcHJvbWlzZS50aGVuXyA9IHVuZGVmaW5lZDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuICAgIGludm9rZUNhbGxiYWNrKGNhbGxiYWNrc1tpXSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaEZ1bGZpbGxtZW50KHByb21pc2Upe1xuICBwcm9taXNlLnN0YXRlXyA9IEZVTEZJTExFRDtcbiAgcHVibGlzaChwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaFJlamVjdGlvbihwcm9taXNlKXtcbiAgcHJvbWlzZS5zdGF0ZV8gPSBSRUpFQ1RFRDtcbiAgcHVibGlzaChwcm9taXNlKTtcbn1cblxuLyoqXG4qIEBjbGFzc1xuKi9cbmZ1bmN0aW9uIFByb21pc2UocmVzb2x2ZXIpe1xuICBpZiAodHlwZW9mIHJlc29sdmVyICE9PSAnZnVuY3Rpb24nKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb21pc2UgY29uc3RydWN0b3IgdGFrZXMgYSBmdW5jdGlvbiBhcmd1bWVudCcpO1xuXG4gIGlmICh0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSA9PT0gZmFsc2UpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmFpbGVkIHRvIGNvbnN0cnVjdCBcXCdQcm9taXNlXFwnOiBQbGVhc2UgdXNlIHRoZSBcXCduZXdcXCcgb3BlcmF0b3IsIHRoaXMgb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4nKTtcblxuICB0aGlzLnRoZW5fID0gW107XG5cbiAgaW52b2tlUmVzb2x2ZXIocmVzb2x2ZXIsIHRoaXMpO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFByb21pc2UsXG5cbiAgc3RhdGVfOiBQRU5ESU5HLFxuICB0aGVuXzogbnVsbCxcbiAgZGF0YV86IHVuZGVmaW5lZCxcblxuICB0aGVuOiBmdW5jdGlvbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbil7XG4gICAgdmFyIHN1YnNjcmliZXIgPSB7XG4gICAgICBvd25lcjogdGhpcyxcbiAgICAgIHRoZW46IG5ldyB0aGlzLmNvbnN0cnVjdG9yKE5PT1ApLFxuICAgICAgZnVsZmlsbGVkOiBvbkZ1bGZpbGxtZW50LFxuICAgICAgcmVqZWN0ZWQ6IG9uUmVqZWN0aW9uXG4gICAgfTtcblxuICAgIGlmICh0aGlzLnN0YXRlXyA9PT0gRlVMRklMTEVEIHx8IHRoaXMuc3RhdGVfID09PSBSRUpFQ1RFRClcbiAgICB7XG4gICAgICAvLyBhbHJlYWR5IHJlc29sdmVkLCBjYWxsIGNhbGxiYWNrIGFzeW5jXG4gICAgICBhc3luY0NhbGwoaW52b2tlQ2FsbGJhY2ssIHN1YnNjcmliZXIpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgLy8gc3Vic2NyaWJlXG4gICAgICB0aGlzLnRoZW5fLnB1c2goc3Vic2NyaWJlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN1YnNjcmliZXIudGhlbjtcbiAgfSxcblxuICAnY2F0Y2gnOiBmdW5jdGlvbihvblJlamVjdGlvbikge1xuICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3Rpb24pO1xuICB9XG59O1xuXG5Qcm9taXNlLmFsbCA9IGZ1bmN0aW9uKHByb21pc2VzKXtcbiAgdmFyIENsYXNzID0gdGhpcztcblxuICBpZiAoIWlzQXJyYXkocHJvbWlzZXMpKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gUHJvbWlzZS5hbGwoKS4nKTtcblxuICByZXR1cm4gbmV3IENsYXNzKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICB2YXIgcmVtYWluaW5nID0gMDtcblxuICAgIGZ1bmN0aW9uIHJlc29sdmVyKGluZGV4KXtcbiAgICAgIHJlbWFpbmluZysrO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgcmVzdWx0c1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgaWYgKCEtLXJlbWFpbmluZylcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMCwgcHJvbWlzZTsgaSA8IHByb21pc2VzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlc1tpXTtcblxuICAgICAgaWYgKHByb21pc2UgJiYgdHlwZW9mIHByb21pc2UudGhlbiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcHJvbWlzZS50aGVuKHJlc29sdmVyKGkpLCByZWplY3QpO1xuICAgICAgZWxzZVxuICAgICAgICByZXN1bHRzW2ldID0gcHJvbWlzZTtcbiAgICB9XG5cbiAgICBpZiAoIXJlbWFpbmluZylcbiAgICAgIHJlc29sdmUocmVzdWx0cyk7XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yYWNlID0gZnVuY3Rpb24ocHJvbWlzZXMpe1xuICB2YXIgQ2xhc3MgPSB0aGlzO1xuXG4gIGlmICghaXNBcnJheShwcm9taXNlcykpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byBQcm9taXNlLnJhY2UoKS4nKTtcblxuICByZXR1cm4gbmV3IENsYXNzKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBwcm9taXNlOyBpIDwgcHJvbWlzZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2VzW2ldO1xuXG4gICAgICBpZiAocHJvbWlzZSAmJiB0eXBlb2YgcHJvbWlzZS50aGVuID09PSAnZnVuY3Rpb24nKVxuICAgICAgICBwcm9taXNlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmVzb2x2ZShwcm9taXNlKTtcbiAgICB9XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yZXNvbHZlID0gZnVuY3Rpb24odmFsdWUpe1xuICB2YXIgQ2xhc3MgPSB0aGlzO1xuXG4gIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBDbGFzcylcbiAgICByZXR1cm4gdmFsdWU7XG5cbiAgcmV0dXJuIG5ldyBDbGFzcyhmdW5jdGlvbihyZXNvbHZlKXtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJlamVjdCA9IGZ1bmN0aW9uKHJlYXNvbil7XG4gIHZhciBDbGFzcyA9IHRoaXM7XG5cbiAgcmV0dXJuIG5ldyBDbGFzcyhmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG5cbn0pKHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcyk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG4gICwgcHJlZml4ID0gJ34nO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIHRvIGNyZWF0ZSBhIHN0b3JhZ2UgZm9yIG91ciBgRUVgIG9iamVjdHMuXG4gKiBBbiBgRXZlbnRzYCBpbnN0YW5jZSBpcyBhIHBsYWluIG9iamVjdCB3aG9zZSBwcm9wZXJ0aWVzIGFyZSBldmVudCBuYW1lcy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEV2ZW50cygpIHt9XG5cbi8vXG4vLyBXZSB0cnkgdG8gbm90IGluaGVyaXQgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAuIEluIHNvbWUgZW5naW5lcyBjcmVhdGluZyBhblxuLy8gaW5zdGFuY2UgaW4gdGhpcyB3YXkgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBgT2JqZWN0LmNyZWF0ZShudWxsKWAgZGlyZWN0bHkuXG4vLyBJZiBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaXMgbm90IHN1cHBvcnRlZCB3ZSBwcmVmaXggdGhlIGV2ZW50IG5hbWVzIHdpdGggYVxuLy8gY2hhcmFjdGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBidWlsdC1pbiBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90XG4vLyBvdmVycmlkZGVuIG9yIHVzZWQgYXMgYW4gYXR0YWNrIHZlY3Rvci5cbi8vXG5pZiAoT2JqZWN0LmNyZWF0ZSkge1xuICBFdmVudHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvL1xuICAvLyBUaGlzIGhhY2sgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGBfX3Byb3RvX19gIHByb3BlcnR5IGlzIHN0aWxsIGluaGVyaXRlZCBpblxuICAvLyBzb21lIG9sZCBicm93c2VycyBsaWtlIEFuZHJvaWQgNCwgaVBob25lIDUuMSwgT3BlcmEgMTEgYW5kIFNhZmFyaSA1LlxuICAvL1xuICBpZiAoIW5ldyBFdmVudHMoKS5fX3Byb3RvX18pIHByZWZpeCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlPWZhbHNlXSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFRShmbiwgY29udGV4dCwgb25jZSkge1xuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMub25jZSA9IG9uY2UgfHwgZmFsc2U7XG59XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcihlbWl0dGVyLCBldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCBlbWl0dGVyLCBvbmNlKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdKSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyLCBlbWl0dGVyLl9ldmVudHNDb3VudCsrO1xuICBlbHNlIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0uZm4pIGVtaXR0ZXIuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gW2VtaXR0ZXIuX2V2ZW50c1tldnRdLCBsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIGVtaXR0ZXI7XG59XG5cbi8qKlxuICogQ2xlYXIgZXZlbnQgYnkgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2dCBUaGUgRXZlbnQgbmFtZS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNsZWFyRXZlbnQoZW1pdHRlciwgZXZ0KSB7XG4gIGlmICgtLWVtaXR0ZXIuX2V2ZW50c0NvdW50ID09PSAwKSBlbWl0dGVyLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIGVsc2UgZGVsZXRlIGVtaXR0ZXIuX2V2ZW50c1tldnRdO1xufVxuXG4vKipcbiAqIE1pbmltYWwgYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlIHRoYXQgaXMgbW9sZGVkIGFnYWluc3QgdGhlIE5vZGUuanNcbiAqIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgbGlzdGluZyB0aGUgZXZlbnRzIGZvciB3aGljaCB0aGUgZW1pdHRlciBoYXMgcmVnaXN0ZXJlZFxuICogbGlzdGVuZXJzLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgdmFyIG5hbWVzID0gW11cbiAgICAsIGV2ZW50c1xuICAgICwgbmFtZTtcblxuICBpZiAodGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHJldHVybiBuYW1lcztcblxuICBmb3IgKG5hbWUgaW4gKGV2ZW50cyA9IHRoaXMuX2V2ZW50cykpIHtcbiAgICBpZiAoaGFzLmNhbGwoZXZlbnRzLCBuYW1lKSkgbmFtZXMucHVzaChwcmVmaXggPyBuYW1lLnNsaWNlKDEpIDogbmFtZSk7XG4gIH1cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHJldHVybiBuYW1lcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhldmVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBuYW1lcztcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFRoZSByZWdpc3RlcmVkIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGhhbmRsZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFoYW5kbGVycykgcmV0dXJuIFtdO1xuICBpZiAoaGFuZGxlcnMuZm4pIHJldHVybiBbaGFuZGxlcnMuZm5dO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gaGFuZGxlcnMubGVuZ3RoLCBlZSA9IG5ldyBBcnJheShsKTsgaSA8IGw7IGkrKykge1xuICAgIGVlW2ldID0gaGFuZGxlcnNbaV0uZm47XG4gIH1cblxuICByZXR1cm4gZWU7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbnVtYmVyIG9mIGxpc3RlbmVycyBsaXN0ZW5pbmcgdG8gYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24gbGlzdGVuZXJDb3VudChldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybiAwO1xuICBpZiAobGlzdGVuZXJzLmZuKSByZXR1cm4gMTtcbiAgcmV0dXJuIGxpc3RlbmVycy5sZW5ndGg7XG59O1xuXG4vKipcbiAqIENhbGxzIGVhY2ggb2YgdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhZCBsaXN0ZW5lcnMsIGVsc2UgYGZhbHNlYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdChldmVudCwgYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiBmYWxzZTtcblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF1cbiAgICAsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGFyZ3NcbiAgICAsIGk7XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChsaXN0ZW5lcnMub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgc3dpdGNoIChsZW4pIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSksIHRydWU7XG4gICAgICBjYXNlIDM6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCksIHRydWU7XG4gICAgICBjYXNlIDY6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQsIGE1KSwgdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGkgPCBsZW47IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZuLmFwcGx5KGxpc3RlbmVycy5jb250ZXh0LCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aFxuICAgICAgLCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdGVuZXJzW2ldLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tpXS5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgc3dpdGNoIChsZW4pIHtcbiAgICAgICAgY2FzZSAxOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCk7IGJyZWFrO1xuICAgICAgICBjYXNlIDI6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSk7IGJyZWFrO1xuICAgICAgICBjYXNlIDM6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIpOyBicmVhaztcbiAgICAgICAgY2FzZSA0OiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyLCBhMyk7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICghYXJncykgZm9yIChqID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbi5hcHBseShsaXN0ZW5lcnNbaV0uY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24oZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIGZhbHNlKTtcbn07XG5cbi8qKlxuICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIHRydWUpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGxpc3RlbmVycyBvZiBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBtYXRjaCB0aGlzIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBoYXZlIHRoaXMgY29udGV4dC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBPbmx5IHJlbW92ZSBvbmUtdGltZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIHRoaXM7XG4gIGlmICghZm4pIHtcbiAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChcbiAgICAgIGxpc3RlbmVycy5mbiA9PT0gZm4gJiZcbiAgICAgICghb25jZSB8fCBsaXN0ZW5lcnMub25jZSkgJiZcbiAgICAgICghY29udGV4dCB8fCBsaXN0ZW5lcnMuY29udGV4dCA9PT0gY29udGV4dClcbiAgICApIHtcbiAgICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGV2ZW50cyA9IFtdLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChcbiAgICAgICAgbGlzdGVuZXJzW2ldLmZuICE9PSBmbiB8fFxuICAgICAgICAob25jZSAmJiAhbGlzdGVuZXJzW2ldLm9uY2UpIHx8XG4gICAgICAgIChjb250ZXh0ICYmIGxpc3RlbmVyc1tpXS5jb250ZXh0ICE9PSBjb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBSZXNldCB0aGUgYXJyYXksIG9yIHJlbW92ZSBpdCBjb21wbGV0ZWx5IGlmIHdlIGhhdmUgbm8gbW9yZSBsaXN0ZW5lcnMuXG4gICAgLy9cbiAgICBpZiAoZXZlbnRzLmxlbmd0aCkgdGhpcy5fZXZlbnRzW2V2dF0gPSBldmVudHMubGVuZ3RoID09PSAxID8gZXZlbnRzWzBdIDogZXZlbnRzO1xuICAgIGVsc2UgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBbZXZlbnRdIFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0O1xuXG4gIGlmIChldmVudCkge1xuICAgIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG4gICAgaWYgKHRoaXMuX2V2ZW50c1tldnRdKSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEFsaWFzIG1ldGhvZHMgbmFtZXMgYmVjYXVzZSBwZW9wbGUgcm9sbCBsaWtlIHRoYXQuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG5cbi8vXG4vLyBFeHBvc2UgdGhlIHByZWZpeC5cbi8vXG5FdmVudEVtaXR0ZXIucHJlZml4ZWQgPSBwcmVmaXg7XG5cbi8vXG4vLyBBbGxvdyBgRXZlbnRFbWl0dGVyYCB0byBiZSBpbXBvcnRlZCBhcyBtb2R1bGUgbmFtZXNwYWNlLlxuLy9cbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbi8vXG4vLyBFeHBvc2UgdGhlIG1vZHVsZS5cbi8vXG5pZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBtb2R1bGUpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxudmFyIE1pbmlTaWduYWxCaW5kaW5nID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWluaVNpZ25hbEJpbmRpbmcoZm4sIG9uY2UsIHRoaXNBcmcpIHtcbiAgICBpZiAob25jZSA9PT0gdW5kZWZpbmVkKSBvbmNlID0gZmFsc2U7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWluaVNpZ25hbEJpbmRpbmcpO1xuXG4gICAgdGhpcy5fZm4gPSBmbjtcbiAgICB0aGlzLl9vbmNlID0gb25jZTtcbiAgICB0aGlzLl90aGlzQXJnID0gdGhpc0FyZztcbiAgICB0aGlzLl9uZXh0ID0gdGhpcy5fcHJldiA9IHRoaXMuX293bmVyID0gbnVsbDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNaW5pU2lnbmFsQmluZGluZywgW3tcbiAgICBrZXk6ICdkZXRhY2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2goKSB7XG4gICAgICBpZiAodGhpcy5fb3duZXIgPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICAgIHRoaXMuX293bmVyLmRldGFjaCh0aGlzKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNaW5pU2lnbmFsQmluZGluZztcbn0pKCk7XG5cbmZ1bmN0aW9uIF9hZGRNaW5pU2lnbmFsQmluZGluZyhzZWxmLCBub2RlKSB7XG4gIGlmICghc2VsZi5faGVhZCkge1xuICAgIHNlbGYuX2hlYWQgPSBub2RlO1xuICAgIHNlbGYuX3RhaWwgPSBub2RlO1xuICB9IGVsc2Uge1xuICAgIHNlbGYuX3RhaWwuX25leHQgPSBub2RlO1xuICAgIG5vZGUuX3ByZXYgPSBzZWxmLl90YWlsO1xuICAgIHNlbGYuX3RhaWwgPSBub2RlO1xuICB9XG5cbiAgbm9kZS5fb3duZXIgPSBzZWxmO1xuXG4gIHJldHVybiBub2RlO1xufVxuXG52YXIgTWluaVNpZ25hbCA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1pbmlTaWduYWwoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pbmlTaWduYWwpO1xuXG4gICAgdGhpcy5faGVhZCA9IHRoaXMuX3RhaWwgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWluaVNpZ25hbCwgW3tcbiAgICBrZXk6ICdoYW5kbGVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZXJzKCkge1xuICAgICAgdmFyIGV4aXN0cyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzBdO1xuXG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgIGlmIChleGlzdHMpIHJldHVybiAhIW5vZGU7XG5cbiAgICAgIHZhciBlZSA9IFtdO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBlZS5wdXNoKG5vZGUpO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhcyhub2RlKSB7XG4gICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgTWluaVNpZ25hbEJpbmRpbmcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNoYXMoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBNaW5pU2lnbmFsQmluZGluZyBvYmplY3QuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub2RlLl9vd25lciA9PT0gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkaXNwYXRjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuXG4gICAgICBpZiAoIW5vZGUpIHJldHVybiBmYWxzZTtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUuX29uY2UpIHRoaXMuZGV0YWNoKG5vZGUpO1xuICAgICAgICBub2RlLl9mbi5hcHBseShub2RlLl90aGlzQXJnLCBhcmd1bWVudHMpO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYWRkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKGZuKSB7XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2FkZCgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIEZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9hZGRNaW5pU2lnbmFsQmluZGluZyh0aGlzLCBuZXcgTWluaVNpZ25hbEJpbmRpbmcoZm4sIGZhbHNlLCB0aGlzQXJnKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25jZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uY2UoZm4pIHtcbiAgICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjb25jZSgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIEZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9hZGRNaW5pU2lnbmFsQmluZGluZyh0aGlzLCBuZXcgTWluaVNpZ25hbEJpbmRpbmcoZm4sIHRydWUsIHRoaXNBcmcpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXRhY2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2gobm9kZSkge1xuICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIE1pbmlTaWduYWxCaW5kaW5nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjZGV0YWNoKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgTWluaVNpZ25hbEJpbmRpbmcgb2JqZWN0LicpO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuX293bmVyICE9PSB0aGlzKSByZXR1cm4gdGhpcztcblxuICAgICAgaWYgKG5vZGUuX3ByZXYpIG5vZGUuX3ByZXYuX25leHQgPSBub2RlLl9uZXh0O1xuICAgICAgaWYgKG5vZGUuX25leHQpIG5vZGUuX25leHQuX3ByZXYgPSBub2RlLl9wcmV2O1xuXG4gICAgICBpZiAobm9kZSA9PT0gdGhpcy5faGVhZCkge1xuICAgICAgICB0aGlzLl9oZWFkID0gbm9kZS5fbmV4dDtcbiAgICAgICAgaWYgKG5vZGUuX25leHQgPT09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLl90YWlsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlID09PSB0aGlzLl90YWlsKSB7XG4gICAgICAgIHRoaXMuX3RhaWwgPSBub2RlLl9wcmV2O1xuICAgICAgICB0aGlzLl90YWlsLl9uZXh0ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgbm9kZS5fb3duZXIgPSBudWxsO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGV0YWNoQWxsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoQWxsKCkge1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuICAgICAgaWYgKCFub2RlKSByZXR1cm4gdGhpcztcblxuICAgICAgdGhpcy5faGVhZCA9IHRoaXMuX3RhaWwgPSBudWxsO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBub2RlLl9vd25lciA9IG51bGw7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1pbmlTaWduYWw7XG59KSgpO1xuXG5NaW5pU2lnbmFsLk1pbmlTaWduYWxCaW5kaW5nID0gTWluaVNpZ25hbEJpbmRpbmc7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IE1pbmlTaWduYWw7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbiIsIiFmdW5jdGlvbih0LGkpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWkoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwibmlwcGxlanNcIixbXSxpKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLm5pcHBsZWpzPWkoKTp0Lm5pcHBsZWpzPWkoKX0od2luZG93LGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBpPXt9O2Z1bmN0aW9uIGUobyl7aWYoaVtvXSlyZXR1cm4gaVtvXS5leHBvcnRzO3ZhciBuPWlbb109e2k6byxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W29dLmNhbGwobi5leHBvcnRzLG4sbi5leHBvcnRzLGUpLG4ubD0hMCxuLmV4cG9ydHN9cmV0dXJuIGUubT10LGUuYz1pLGUuZD1mdW5jdGlvbih0LGksbyl7ZS5vKHQsaSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGkse2VudW1lcmFibGU6ITAsZ2V0Om99KX0sZS5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LGUudD1mdW5jdGlvbih0LGkpe2lmKDEmaSYmKHQ9ZSh0KSksOCZpKXJldHVybiB0O2lmKDQmaSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgbz1PYmplY3QuY3JlYXRlKG51bGwpO2lmKGUucihvKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZpJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIG4gaW4gdCllLmQobyxuLGZ1bmN0aW9uKGkpe3JldHVybiB0W2ldfS5iaW5kKG51bGwsbikpO3JldHVybiBvfSxlLm49ZnVuY3Rpb24odCl7dmFyIGk9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIGUuZChpLFwiYVwiLGkpLGl9LGUubz1mdW5jdGlvbih0LGkpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxpKX0sZS5wPVwiXCIsZShlLnM9MCl9KFtmdW5jdGlvbih0LGksZSl7XCJ1c2Ugc3RyaWN0XCI7ZS5yKGkpO3ZhciBvLG49ZnVuY3Rpb24odCxpKXt2YXIgZT1pLngtdC54LG89aS55LXQueTtyZXR1cm4gTWF0aC5zcXJ0KGUqZStvKm8pfSxzPWZ1bmN0aW9uKHQpe3JldHVybiB0KihNYXRoLlBJLzE4MCl9LHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQqKDE4MC9NYXRoLlBJKX0sZD1mdW5jdGlvbih0LGksZSl7Zm9yKHZhciBvLG49aS5zcGxpdCgvWyAsXSsvZykscz0wO3M8bi5sZW5ndGg7cys9MSlvPW5bc10sdC5hZGRFdmVudExpc3RlbmVyP3QuYWRkRXZlbnRMaXN0ZW5lcihvLGUsITEpOnQuYXR0YWNoRXZlbnQmJnQuYXR0YWNoRXZlbnQobyxlKX0sYT1mdW5jdGlvbih0LGksZSl7Zm9yKHZhciBvLG49aS5zcGxpdCgvWyAsXSsvZykscz0wO3M8bi5sZW5ndGg7cys9MSlvPW5bc10sdC5yZW1vdmVFdmVudExpc3RlbmVyP3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLGUpOnQuZGV0YWNoRXZlbnQmJnQuZGV0YWNoRXZlbnQobyxlKX0scD1mdW5jdGlvbih0KXtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLHQudHlwZS5tYXRjaCgvXnRvdWNoLyk/dC5jaGFuZ2VkVG91Y2hlczp0fSxjPWZ1bmN0aW9uKCl7cmV0dXJue3g6dm9pZCAwIT09d2luZG93LnBhZ2VYT2Zmc2V0P3dpbmRvdy5wYWdlWE9mZnNldDooZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGV8fGRvY3VtZW50LmJvZHkpLnNjcm9sbExlZnQseTp2b2lkIDAhPT13aW5kb3cucGFnZVlPZmZzZXQ/d2luZG93LnBhZ2VZT2Zmc2V0Oihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZXx8ZG9jdW1lbnQuYm9keSkuc2Nyb2xsVG9wfX0saD1mdW5jdGlvbih0LGkpe2kudG9wfHxpLnJpZ2h0fHxpLmJvdHRvbXx8aS5sZWZ0Pyh0LnN0eWxlLnRvcD1pLnRvcCx0LnN0eWxlLnJpZ2h0PWkucmlnaHQsdC5zdHlsZS5ib3R0b209aS5ib3R0b20sdC5zdHlsZS5sZWZ0PWkubGVmdCk6KHQuc3R5bGUubGVmdD1pLngrXCJweFwiLHQuc3R5bGUudG9wPWkueStcInB4XCIpfSxsPWZ1bmN0aW9uKHQsaSxlKXt2YXIgbz11KHQpO2Zvcih2YXIgbiBpbiBvKWlmKG8uaGFzT3duUHJvcGVydHkobikpaWYoXCJzdHJpbmdcIj09dHlwZW9mIGkpb1tuXT1pK1wiIFwiK2U7ZWxzZXtmb3IodmFyIHM9XCJcIixyPTAsZD1pLmxlbmd0aDtyPGQ7cis9MSlzKz1pW3JdK1wiIFwiK2UrXCIsIFwiO29bbl09cy5zbGljZSgwLC0yKX1yZXR1cm4gb30sdT1mdW5jdGlvbih0KXt2YXIgaT17fTtpW3RdPVwiXCI7cmV0dXJuW1wid2Via2l0XCIsXCJNb3pcIixcIm9cIl0uZm9yRWFjaChmdW5jdGlvbihlKXtpW2UrdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXT1cIlwifSksaX0sZj1mdW5jdGlvbih0LGkpe2Zvcih2YXIgZSBpbiBpKWkuaGFzT3duUHJvcGVydHkoZSkmJih0W2VdPWlbZV0pO3JldHVybiB0fSx5PWZ1bmN0aW9uKHQsaSl7aWYodC5sZW5ndGgpZm9yKHZhciBlPTAsbz10Lmxlbmd0aDtlPG87ZSs9MSlpKHRbZV0pO2Vsc2UgaSh0KX0sbT0hIShcIm9udG91Y2hzdGFydFwiaW4gd2luZG93KSx2PSEhd2luZG93LlBvaW50ZXJFdmVudCxnPSEhd2luZG93Lk1TUG9pbnRlckV2ZW50LGI9e3N0YXJ0OlwibW91c2Vkb3duXCIsbW92ZTpcIm1vdXNlbW92ZVwiLGVuZDpcIm1vdXNldXBcIn0seD17fTtmdW5jdGlvbiBPKCl7fXY/bz17c3RhcnQ6XCJwb2ludGVyZG93blwiLG1vdmU6XCJwb2ludGVybW92ZVwiLGVuZDpcInBvaW50ZXJ1cCwgcG9pbnRlcmNhbmNlbFwifTpnP289e3N0YXJ0OlwiTVNQb2ludGVyRG93blwiLG1vdmU6XCJNU1BvaW50ZXJNb3ZlXCIsZW5kOlwiTVNQb2ludGVyVXBcIn06bT8obz17c3RhcnQ6XCJ0b3VjaHN0YXJ0XCIsbW92ZTpcInRvdWNobW92ZVwiLGVuZDpcInRvdWNoZW5kLCB0b3VjaGNhbmNlbFwifSx4PWIpOm89YixPLnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGkpe3ZhciBlLG89dC5zcGxpdCgvWyAsXSsvZyk7dGhpcy5faGFuZGxlcnNfPXRoaXMuX2hhbmRsZXJzX3x8e307Zm9yKHZhciBuPTA7bjxvLmxlbmd0aDtuKz0xKWU9b1tuXSx0aGlzLl9oYW5kbGVyc19bZV09dGhpcy5faGFuZGxlcnNfW2VdfHxbXSx0aGlzLl9oYW5kbGVyc19bZV0ucHVzaChpKTtyZXR1cm4gdGhpc30sTy5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRoaXMuX2hhbmRsZXJzXz10aGlzLl9oYW5kbGVyc198fHt9LHZvaWQgMD09PXQ/dGhpcy5faGFuZGxlcnNfPXt9OnZvaWQgMD09PWk/dGhpcy5faGFuZGxlcnNfW3RdPW51bGw6dGhpcy5faGFuZGxlcnNfW3RdJiZ0aGlzLl9oYW5kbGVyc19bdF0uaW5kZXhPZihpKT49MCYmdGhpcy5faGFuZGxlcnNfW3RdLnNwbGljZSh0aGlzLl9oYW5kbGVyc19bdF0uaW5kZXhPZihpKSwxKSx0aGlzfSxPLnByb3RvdHlwZS50cmlnZ2VyPWZ1bmN0aW9uKHQsaSl7dmFyIGUsbz10aGlzLG49dC5zcGxpdCgvWyAsXSsvZyk7by5faGFuZGxlcnNfPW8uX2hhbmRsZXJzX3x8e307Zm9yKHZhciBzPTA7czxuLmxlbmd0aDtzKz0xKWU9bltzXSxvLl9oYW5kbGVyc19bZV0mJm8uX2hhbmRsZXJzX1tlXS5sZW5ndGgmJm8uX2hhbmRsZXJzX1tlXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuY2FsbChvLHt0eXBlOmUsdGFyZ2V0Om99LGkpfSl9LE8ucHJvdG90eXBlLmNvbmZpZz1mdW5jdGlvbih0KXt0aGlzLm9wdGlvbnM9dGhpcy5kZWZhdWx0c3x8e30sdCYmKHRoaXMub3B0aW9ucz1mdW5jdGlvbih0LGkpe3ZhciBlPXt9O2Zvcih2YXIgbyBpbiB0KXQuaGFzT3duUHJvcGVydHkobykmJmkuaGFzT3duUHJvcGVydHkobyk/ZVtvXT1pW29dOnQuaGFzT3duUHJvcGVydHkobykmJihlW29dPXRbb10pO3JldHVybiBlfSh0aGlzLm9wdGlvbnMsdCkpfSxPLnByb3RvdHlwZS5iaW5kRXZ0PWZ1bmN0aW9uKHQsaSl7dmFyIGU9dGhpcztyZXR1cm4gZS5fZG9tSGFuZGxlcnNfPWUuX2RvbUhhbmRsZXJzX3x8e30sZS5fZG9tSGFuZGxlcnNfW2ldPWZ1bmN0aW9uKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZVtcIm9uXCIraV0/ZVtcIm9uXCIraV0uYXBwbHkoZSxhcmd1bWVudHMpOmNvbnNvbGUud2FybignW1dBUk5JTkddIDogTWlzc2luZyBcIm9uJytpKydcIiBoYW5kbGVyLicpfSxkKHQsb1tpXSxlLl9kb21IYW5kbGVyc19baV0pLHhbaV0mJmQodCx4W2ldLGUuX2RvbUhhbmRsZXJzX1tpXSksZX0sTy5wcm90b3R5cGUudW5iaW5kRXZ0PWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRoaXMuX2RvbUhhbmRsZXJzXz10aGlzLl9kb21IYW5kbGVyc198fHt9LGEodCxvW2ldLHRoaXMuX2RvbUhhbmRsZXJzX1tpXSkseFtpXSYmYSh0LHhbaV0sdGhpcy5fZG9tSGFuZGxlcnNfW2ldKSxkZWxldGUgdGhpcy5fZG9tSGFuZGxlcnNfW2ldLHRoaXN9O3ZhciBfPU87ZnVuY3Rpb24gdyh0LGkpe3JldHVybiB0aGlzLmlkZW50aWZpZXI9aS5pZGVudGlmaWVyLHRoaXMucG9zaXRpb249aS5wb3NpdGlvbix0aGlzLmZyb250UG9zaXRpb249aS5mcm9udFBvc2l0aW9uLHRoaXMuY29sbGVjdGlvbj10LHRoaXMuZGVmYXVsdHM9e3NpemU6MTAwLHRocmVzaG9sZDouMSxjb2xvcjpcIndoaXRlXCIsZmFkZVRpbWU6MjUwLGRhdGFPbmx5OiExLHJlc3RKb3lzdGljazohMCxyZXN0T3BhY2l0eTouNSxtb2RlOlwiZHluYW1pY1wiLHpvbmU6ZG9jdW1lbnQuYm9keSxsb2NrWDohMSxsb2NrWTohMSxzaGFwZTpcImNpcmNsZVwifSx0aGlzLmNvbmZpZyhpKSxcImR5bmFtaWNcIj09PXRoaXMub3B0aW9ucy5tb2RlJiYodGhpcy5vcHRpb25zLnJlc3RPcGFjaXR5PTApLHRoaXMuaWQ9dy5pZCx3LmlkKz0xLHRoaXMuYnVpbGRFbCgpLnN0eWxpemUoKSx0aGlzLmluc3RhbmNlPXtlbDp0aGlzLnVpLmVsLG9uOnRoaXMub24uYmluZCh0aGlzKSxvZmY6dGhpcy5vZmYuYmluZCh0aGlzKSxzaG93OnRoaXMuc2hvdy5iaW5kKHRoaXMpLGhpZGU6dGhpcy5oaWRlLmJpbmQodGhpcyksYWRkOnRoaXMuYWRkVG9Eb20uYmluZCh0aGlzKSxyZW1vdmU6dGhpcy5yZW1vdmVGcm9tRG9tLmJpbmQodGhpcyksZGVzdHJveTp0aGlzLmRlc3Ryb3kuYmluZCh0aGlzKSxzZXRQb3NpdGlvbjp0aGlzLnNldFBvc2l0aW9uLmJpbmQodGhpcykscmVzZXREaXJlY3Rpb246dGhpcy5yZXNldERpcmVjdGlvbi5iaW5kKHRoaXMpLGNvbXB1dGVEaXJlY3Rpb246dGhpcy5jb21wdXRlRGlyZWN0aW9uLmJpbmQodGhpcyksdHJpZ2dlcjp0aGlzLnRyaWdnZXIuYmluZCh0aGlzKSxwb3NpdGlvbjp0aGlzLnBvc2l0aW9uLGZyb250UG9zaXRpb246dGhpcy5mcm9udFBvc2l0aW9uLHVpOnRoaXMudWksaWRlbnRpZmllcjp0aGlzLmlkZW50aWZpZXIsaWQ6dGhpcy5pZCxvcHRpb25zOnRoaXMub3B0aW9uc30sdGhpcy5pbnN0YW5jZX13LnByb3RvdHlwZT1uZXcgXyx3LmNvbnN0cnVjdG9yPXcsdy5pZD0wLHcucHJvdG90eXBlLmJ1aWxkRWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudWk9e30sdGhpcy5vcHRpb25zLmRhdGFPbmx5P3RoaXM6KHRoaXMudWkuZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLnVpLmJhY2s9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLnVpLmZyb250PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy51aS5lbC5jbGFzc05hbWU9XCJuaXBwbGUgY29sbGVjdGlvbl9cIit0aGlzLmNvbGxlY3Rpb24uaWQsdGhpcy51aS5iYWNrLmNsYXNzTmFtZT1cImJhY2tcIix0aGlzLnVpLmZyb250LmNsYXNzTmFtZT1cImZyb250XCIsdGhpcy51aS5lbC5zZXRBdHRyaWJ1dGUoXCJpZFwiLFwibmlwcGxlX1wiK3RoaXMuY29sbGVjdGlvbi5pZCtcIl9cIit0aGlzLmlkKSx0aGlzLnVpLmVsLmFwcGVuZENoaWxkKHRoaXMudWkuYmFjayksdGhpcy51aS5lbC5hcHBlbmRDaGlsZCh0aGlzLnVpLmZyb250KSx0aGlzKX0sdy5wcm90b3R5cGUuc3R5bGl6ZT1mdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5kYXRhT25seSlyZXR1cm4gdGhpczt2YXIgdD10aGlzLm9wdGlvbnMuZmFkZVRpbWUrXCJtc1wiLGk9ZnVuY3Rpb24odCxpKXt2YXIgZT11KHQpO2Zvcih2YXIgbyBpbiBlKWUuaGFzT3duUHJvcGVydHkobykmJihlW29dPWkpO3JldHVybiBlfShcImJvcmRlclJhZGl1c1wiLFwiNTAlXCIpLGU9bChcInRyYW5zaXRpb25cIixcIm9wYWNpdHlcIix0KSxvPXt9O3JldHVybiBvLmVsPXtwb3NpdGlvbjpcImFic29sdXRlXCIsb3BhY2l0eTp0aGlzLm9wdGlvbnMucmVzdE9wYWNpdHksZGlzcGxheTpcImJsb2NrXCIsekluZGV4Ojk5OX0sby5iYWNrPXtwb3NpdGlvbjpcImFic29sdXRlXCIsZGlzcGxheTpcImJsb2NrXCIsd2lkdGg6dGhpcy5vcHRpb25zLnNpemUrXCJweFwiLGhlaWdodDp0aGlzLm9wdGlvbnMuc2l6ZStcInB4XCIsbWFyZ2luTGVmdDotdGhpcy5vcHRpb25zLnNpemUvMitcInB4XCIsbWFyZ2luVG9wOi10aGlzLm9wdGlvbnMuc2l6ZS8yK1wicHhcIixiYWNrZ3JvdW5kOnRoaXMub3B0aW9ucy5jb2xvcixvcGFjaXR5OlwiLjVcIn0sby5mcm9udD17d2lkdGg6dGhpcy5vcHRpb25zLnNpemUvMitcInB4XCIsaGVpZ2h0OnRoaXMub3B0aW9ucy5zaXplLzIrXCJweFwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIixkaXNwbGF5OlwiYmxvY2tcIixtYXJnaW5MZWZ0Oi10aGlzLm9wdGlvbnMuc2l6ZS80K1wicHhcIixtYXJnaW5Ub3A6LXRoaXMub3B0aW9ucy5zaXplLzQrXCJweFwiLGJhY2tncm91bmQ6dGhpcy5vcHRpb25zLmNvbG9yLG9wYWNpdHk6XCIuNVwifSxmKG8uZWwsZSksXCJjaXJjbGVcIj09PXRoaXMub3B0aW9ucy5zaGFwZSYmZihvLmJhY2ssaSksZihvLmZyb250LGkpLHRoaXMuYXBwbHlTdHlsZXMobyksdGhpc30sdy5wcm90b3R5cGUuYXBwbHlTdHlsZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBpIGluIHRoaXMudWkpaWYodGhpcy51aS5oYXNPd25Qcm9wZXJ0eShpKSlmb3IodmFyIGUgaW4gdFtpXSl0aGlzLnVpW2ldLnN0eWxlW2VdPXRbaV1bZV07cmV0dXJuIHRoaXN9LHcucHJvdG90eXBlLmFkZFRvRG9tPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5kYXRhT25seXx8ZG9jdW1lbnQuYm9keS5jb250YWlucyh0aGlzLnVpLmVsKT90aGlzOih0aGlzLm9wdGlvbnMuem9uZS5hcHBlbmRDaGlsZCh0aGlzLnVpLmVsKSx0aGlzKX0sdy5wcm90b3R5cGUucmVtb3ZlRnJvbURvbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuZGF0YU9ubHl8fCFkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMudWkuZWwpP3RoaXM6KHRoaXMub3B0aW9ucy56b25lLnJlbW92ZUNoaWxkKHRoaXMudWkuZWwpLHRoaXMpfSx3LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMucmVtb3ZlVGltZW91dCksY2xlYXJUaW1lb3V0KHRoaXMuc2hvd1RpbWVvdXQpLGNsZWFyVGltZW91dCh0aGlzLnJlc3RUaW1lb3V0KSx0aGlzLnRyaWdnZXIoXCJkZXN0cm95ZWRcIix0aGlzLmluc3RhbmNlKSx0aGlzLnJlbW92ZUZyb21Eb20oKSx0aGlzLm9mZigpfSx3LnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7cmV0dXJuIGkub3B0aW9ucy5kYXRhT25seT9pOihjbGVhclRpbWVvdXQoaS5yZW1vdmVUaW1lb3V0KSxjbGVhclRpbWVvdXQoaS5zaG93VGltZW91dCksY2xlYXJUaW1lb3V0KGkucmVzdFRpbWVvdXQpLGkuYWRkVG9Eb20oKSxpLnJlc3RDYWxsYmFjaygpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLnVpLmVsLnN0eWxlLm9wYWNpdHk9MX0sMCksaS5zaG93VGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS50cmlnZ2VyKFwic2hvd25cIixpLmluc3RhbmNlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0LmNhbGwodGhpcyl9LGkub3B0aW9ucy5mYWRlVGltZSksaSl9LHcucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztyZXR1cm4gaS5vcHRpb25zLmRhdGFPbmx5P2k6KGkudWkuZWwuc3R5bGUub3BhY2l0eT1pLm9wdGlvbnMucmVzdE9wYWNpdHksY2xlYXJUaW1lb3V0KGkucmVtb3ZlVGltZW91dCksY2xlYXJUaW1lb3V0KGkuc2hvd1RpbWVvdXQpLGNsZWFyVGltZW91dChpLnJlc3RUaW1lb3V0KSxpLnJlbW92ZVRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBlPVwiZHluYW1pY1wiPT09aS5vcHRpb25zLm1vZGU/XCJub25lXCI6XCJibG9ja1wiO2kudWkuZWwuc3R5bGUuZGlzcGxheT1lLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQuY2FsbChpKSxpLnRyaWdnZXIoXCJoaWRkZW5cIixpLmluc3RhbmNlKX0saS5vcHRpb25zLmZhZGVUaW1lKSxpLm9wdGlvbnMucmVzdEpveXN0aWNrJiZpLnNldFBvc2l0aW9uKHQse3g6MCx5OjB9KSxpKX0sdy5wcm90b3R5cGUuc2V0UG9zaXRpb249ZnVuY3Rpb24odCxpKXt2YXIgZT10aGlzO2UuZnJvbnRQb3NpdGlvbj17eDppLngseTppLnl9O3ZhciBvPWUub3B0aW9ucy5mYWRlVGltZStcIm1zXCIsbj17fTtuLmZyb250PWwoXCJ0cmFuc2l0aW9uXCIsW1widG9wXCIsXCJsZWZ0XCJdLG8pO3ZhciBzPXtmcm9udDp7fX07cy5mcm9udD17bGVmdDplLmZyb250UG9zaXRpb24ueCtcInB4XCIsdG9wOmUuZnJvbnRQb3NpdGlvbi55K1wicHhcIn0sZS5hcHBseVN0eWxlcyhuKSxlLmFwcGx5U3R5bGVzKHMpLGUucmVzdFRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQuY2FsbChlKSxlLnJlc3RDYWxsYmFjaygpfSxlLm9wdGlvbnMuZmFkZVRpbWUpfSx3LnByb3RvdHlwZS5yZXN0Q2FsbGJhY2s9ZnVuY3Rpb24oKXt2YXIgdD17fTt0LmZyb250PWwoXCJ0cmFuc2l0aW9uXCIsXCJub25lXCIsXCJcIiksdGhpcy5hcHBseVN0eWxlcyh0KSx0aGlzLnRyaWdnZXIoXCJyZXN0ZWRcIix0aGlzLmluc3RhbmNlKX0sdy5wcm90b3R5cGUucmVzZXREaXJlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLmRpcmVjdGlvbj17eDohMSx5OiExLGFuZ2xlOiExfX0sdy5wcm90b3R5cGUuY29tcHV0ZURpcmVjdGlvbj1mdW5jdGlvbih0KXt2YXIgaSxlLG8sbj10LmFuZ2xlLnJhZGlhbixzPU1hdGguUEkvNCxyPU1hdGguUEkvMjtpZihuPnMmJm48MypzJiYhdC5sb2NrWD9pPVwidXBcIjpuPi1zJiZuPD1zJiYhdC5sb2NrWT9pPVwibGVmdFwiOm4+MyotcyYmbjw9LXMmJiF0LmxvY2tYP2k9XCJkb3duXCI6dC5sb2NrWXx8KGk9XCJyaWdodFwiKSx0LmxvY2tZfHwoZT1uPi1yJiZuPHI/XCJsZWZ0XCI6XCJyaWdodFwiKSx0LmxvY2tYfHwobz1uPjA/XCJ1cFwiOlwiZG93blwiKSx0LmZvcmNlPnRoaXMub3B0aW9ucy50aHJlc2hvbGQpe3ZhciBkLGE9e307Zm9yKGQgaW4gdGhpcy5kaXJlY3Rpb24pdGhpcy5kaXJlY3Rpb24uaGFzT3duUHJvcGVydHkoZCkmJihhW2RdPXRoaXMuZGlyZWN0aW9uW2RdKTt2YXIgcD17fTtmb3IoZCBpbiB0aGlzLmRpcmVjdGlvbj17eDplLHk6byxhbmdsZTppfSx0LmRpcmVjdGlvbj10aGlzLmRpcmVjdGlvbixhKWFbZF09PT10aGlzLmRpcmVjdGlvbltkXSYmKHBbZF09ITApO2lmKHAueCYmcC55JiZwLmFuZ2xlKXJldHVybiB0O3AueCYmcC55fHx0aGlzLnRyaWdnZXIoXCJwbGFpblwiLHQpLHAueHx8dGhpcy50cmlnZ2VyKFwicGxhaW46XCIrZSx0KSxwLnl8fHRoaXMudHJpZ2dlcihcInBsYWluOlwiK28sdCkscC5hbmdsZXx8dGhpcy50cmlnZ2VyKFwiZGlyIGRpcjpcIitpLHQpfWVsc2UgdGhpcy5yZXNldERpcmVjdGlvbigpO3JldHVybiB0fTt2YXIgVD13O2Z1bmN0aW9uIGsodCxpKXtyZXR1cm4gdGhpcy5uaXBwbGVzPVtdLHRoaXMuaWRsZXM9W10sdGhpcy5hY3RpdmVzPVtdLHRoaXMuaWRzPVtdLHRoaXMucHJlc3N1cmVJbnRlcnZhbHM9e30sdGhpcy5tYW5hZ2VyPXQsdGhpcy5pZD1rLmlkLGsuaWQrPTEsdGhpcy5kZWZhdWx0cz17em9uZTpkb2N1bWVudC5ib2R5LG11bHRpdG91Y2g6ITEsbWF4TnVtYmVyT2ZOaXBwbGVzOjEwLG1vZGU6XCJkeW5hbWljXCIscG9zaXRpb246e3RvcDowLGxlZnQ6MH0sY2F0Y2hEaXN0YW5jZToyMDAsc2l6ZToxMDAsdGhyZXNob2xkOi4xLGNvbG9yOlwid2hpdGVcIixmYWRlVGltZToyNTAsZGF0YU9ubHk6ITEscmVzdEpveXN0aWNrOiEwLHJlc3RPcGFjaXR5Oi41LGxvY2tYOiExLGxvY2tZOiExLHNoYXBlOlwiY2lyY2xlXCIsZHluYW1pY1BhZ2U6ITF9LHRoaXMuY29uZmlnKGkpLFwic3RhdGljXCIhPT10aGlzLm9wdGlvbnMubW9kZSYmXCJzZW1pXCIhPT10aGlzLm9wdGlvbnMubW9kZXx8KHRoaXMub3B0aW9ucy5tdWx0aXRvdWNoPSExKSx0aGlzLm9wdGlvbnMubXVsdGl0b3VjaHx8KHRoaXMub3B0aW9ucy5tYXhOdW1iZXJPZk5pcHBsZXM9MSksdGhpcy51cGRhdGVCb3goKSx0aGlzLnByZXBhcmVOaXBwbGVzKCksdGhpcy5iaW5kaW5ncygpLHRoaXMuYmVnaW4oKSx0aGlzLm5pcHBsZXN9ay5wcm90b3R5cGU9bmV3IF8say5jb25zdHJ1Y3Rvcj1rLGsuaWQ9MCxrLnByb3RvdHlwZS5wcmVwYXJlTmlwcGxlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMubmlwcGxlczt0Lm9uPXRoaXMub24uYmluZCh0aGlzKSx0Lm9mZj10aGlzLm9mZi5iaW5kKHRoaXMpLHQub3B0aW9ucz10aGlzLm9wdGlvbnMsdC5kZXN0cm95PXRoaXMuZGVzdHJveS5iaW5kKHRoaXMpLHQuaWRzPXRoaXMuaWRzLHQuaWQ9dGhpcy5pZCx0LnByb2Nlc3NPbk1vdmU9dGhpcy5wcm9jZXNzT25Nb3ZlLmJpbmQodGhpcyksdC5wcm9jZXNzT25FbmQ9dGhpcy5wcm9jZXNzT25FbmQuYmluZCh0aGlzKSx0LmdldD1mdW5jdGlvbihpKXtpZih2b2lkIDA9PT1pKXJldHVybiB0WzBdO2Zvcih2YXIgZT0wLG89dC5sZW5ndGg7ZTxvO2UrPTEpaWYodFtlXS5pZGVudGlmaWVyPT09aSlyZXR1cm4gdFtlXTtyZXR1cm4hMX19LGsucHJvdG90eXBlLmJpbmRpbmdzPWZ1bmN0aW9uKCl7dGhpcy5iaW5kRXZ0KHRoaXMub3B0aW9ucy56b25lLFwic3RhcnRcIiksdGhpcy5vcHRpb25zLnpvbmUuc3R5bGUudG91Y2hBY3Rpb249XCJub25lXCIsdGhpcy5vcHRpb25zLnpvbmUuc3R5bGUubXNUb3VjaEFjdGlvbj1cIm5vbmVcIn0say5wcm90b3R5cGUuYmVnaW49ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7aWYoXCJzdGF0aWNcIj09PXQubW9kZSl7dmFyIGk9dGhpcy5jcmVhdGVOaXBwbGUodC5wb3NpdGlvbix0aGlzLm1hbmFnZXIuZ2V0SWRlbnRpZmllcigpKTtpLmFkZCgpLHRoaXMuaWRsZXMucHVzaChpKX19LGsucHJvdG90eXBlLmNyZWF0ZU5pcHBsZT1mdW5jdGlvbih0LGkpe3ZhciBlPWMoKSxvPXt9LG49dGhpcy5vcHRpb25zO2lmKHQueCYmdC55KW89e3g6dC54LShlLngrdGhpcy5ib3gubGVmdCkseTp0LnktKGUueSt0aGlzLmJveC50b3ApfTtlbHNlIGlmKHQudG9wfHx0LnJpZ2h0fHx0LmJvdHRvbXx8dC5sZWZ0KXt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO3Muc3R5bGUuZGlzcGxheT1cImhpZGRlblwiLHMuc3R5bGUudG9wPXQudG9wLHMuc3R5bGUucmlnaHQ9dC5yaWdodCxzLnN0eWxlLmJvdHRvbT10LmJvdHRvbSxzLnN0eWxlLmxlZnQ9dC5sZWZ0LHMuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLG4uem9uZS5hcHBlbmRDaGlsZChzKTt2YXIgcj1zLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO24uem9uZS5yZW1vdmVDaGlsZChzKSxvPXQsdD17eDpyLmxlZnQrZS54LHk6ci50b3ArZS55fX12YXIgZD1uZXcgVCh0aGlzLHtjb2xvcjpuLmNvbG9yLHNpemU6bi5zaXplLHRocmVzaG9sZDpuLnRocmVzaG9sZCxmYWRlVGltZTpuLmZhZGVUaW1lLGRhdGFPbmx5Om4uZGF0YU9ubHkscmVzdEpveXN0aWNrOm4ucmVzdEpveXN0aWNrLHJlc3RPcGFjaXR5Om4ucmVzdE9wYWNpdHksbW9kZTpuLm1vZGUsaWRlbnRpZmllcjppLHBvc2l0aW9uOnQsem9uZTpuLnpvbmUsZnJvbnRQb3NpdGlvbjp7eDowLHk6MH0sc2hhcGU6bi5zaGFwZX0pO3JldHVybiBuLmRhdGFPbmx5fHwoaChkLnVpLmVsLG8pLGgoZC51aS5mcm9udCxkLmZyb250UG9zaXRpb24pKSx0aGlzLm5pcHBsZXMucHVzaChkKSx0aGlzLnRyaWdnZXIoXCJhZGRlZCBcIitkLmlkZW50aWZpZXIrXCI6YWRkZWRcIixkKSx0aGlzLm1hbmFnZXIudHJpZ2dlcihcImFkZGVkIFwiK2QuaWRlbnRpZmllcitcIjphZGRlZFwiLGQpLHRoaXMuYmluZE5pcHBsZShkKSxkfSxrLnByb3RvdHlwZS51cGRhdGVCb3g9ZnVuY3Rpb24oKXt0aGlzLmJveD10aGlzLm9wdGlvbnMuem9uZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX0say5wcm90b3R5cGUuYmluZE5pcHBsZT1mdW5jdGlvbih0KXt2YXIgaSxlPXRoaXMsbz1mdW5jdGlvbih0LG8pe2k9dC50eXBlK1wiIFwiK28uaWQrXCI6XCIrdC50eXBlLGUudHJpZ2dlcihpLG8pfTt0Lm9uKFwiZGVzdHJveWVkXCIsZS5vbkRlc3Ryb3llZC5iaW5kKGUpKSx0Lm9uKFwic2hvd24gaGlkZGVuIHJlc3RlZCBkaXIgcGxhaW5cIixvKSx0Lm9uKFwiZGlyOnVwIGRpcjpyaWdodCBkaXI6ZG93biBkaXI6bGVmdFwiLG8pLHQub24oXCJwbGFpbjp1cCBwbGFpbjpyaWdodCBwbGFpbjpkb3duIHBsYWluOmxlZnRcIixvKX0say5wcm90b3R5cGUucHJlc3N1cmVGbj1mdW5jdGlvbih0LGksZSl7dmFyIG89dGhpcyxuPTA7Y2xlYXJJbnRlcnZhbChvLnByZXNzdXJlSW50ZXJ2YWxzW2VdKSxvLnByZXNzdXJlSW50ZXJ2YWxzW2VdPXNldEludGVydmFsKGZ1bmN0aW9uKCl7dmFyIGU9dC5mb3JjZXx8dC5wcmVzc3VyZXx8dC53ZWJraXRGb3JjZXx8MDtlIT09biYmKGkudHJpZ2dlcihcInByZXNzdXJlXCIsZSksby50cmlnZ2VyKFwicHJlc3N1cmUgXCIraS5pZGVudGlmaWVyK1wiOnByZXNzdXJlXCIsZSksbj1lKX0uYmluZChvKSwxMDApfSxrLnByb3RvdHlwZS5vbnN0YXJ0PWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMsZT1pLm9wdGlvbnMsbz10O3Q9cCh0KSxpLnVwZGF0ZUJveCgpO3JldHVybiB5KHQsZnVuY3Rpb24obil7aS5hY3RpdmVzLmxlbmd0aDxlLm1heE51bWJlck9mTmlwcGxlcz9pLnByb2Nlc3NPblN0YXJ0KG4pOm8udHlwZS5tYXRjaCgvXnRvdWNoLykmJihPYmplY3Qua2V5cyhpLm1hbmFnZXIuaWRzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKE9iamVjdC52YWx1ZXMoby50b3VjaGVzKS5maW5kSW5kZXgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWRlbnRpZmllcj09PWV9KTwwKXt2YXIgbj1bdFswXV07bi5pZGVudGlmaWVyPWUsaS5wcm9jZXNzT25FbmQobil9fSksaS5hY3RpdmVzLmxlbmd0aDxlLm1heE51bWJlck9mTmlwcGxlcyYmaS5wcm9jZXNzT25TdGFydChuKSl9KSxpLm1hbmFnZXIuYmluZERvY3VtZW50KCksITF9LGsucHJvdG90eXBlLnByb2Nlc3NPblN0YXJ0PWZ1bmN0aW9uKHQpe3ZhciBpLGU9dGhpcyxvPWUub3B0aW9ucyxzPWUubWFuYWdlci5nZXRJZGVudGlmaWVyKHQpLHI9dC5mb3JjZXx8dC5wcmVzc3VyZXx8dC53ZWJraXRGb3JjZXx8MCxkPXt4OnQucGFnZVgseTp0LnBhZ2VZfSxhPWUuZ2V0T3JDcmVhdGUocyxkKTthLmlkZW50aWZpZXIhPT1zJiZlLm1hbmFnZXIucmVtb3ZlSWRlbnRpZmllcihhLmlkZW50aWZpZXIpLGEuaWRlbnRpZmllcj1zO3ZhciBwPWZ1bmN0aW9uKGkpe2kudHJpZ2dlcihcInN0YXJ0XCIsaSksZS50cmlnZ2VyKFwic3RhcnQgXCIraS5pZCtcIjpzdGFydFwiLGkpLGkuc2hvdygpLHI+MCYmZS5wcmVzc3VyZUZuKHQsaSxpLmlkZW50aWZpZXIpLGUucHJvY2Vzc09uTW92ZSh0KX07aWYoKGk9ZS5pZGxlcy5pbmRleE9mKGEpKT49MCYmZS5pZGxlcy5zcGxpY2UoaSwxKSxlLmFjdGl2ZXMucHVzaChhKSxlLmlkcy5wdXNoKGEuaWRlbnRpZmllciksXCJzZW1pXCIhPT1vLm1vZGUpcChhKTtlbHNle2lmKCEobihkLGEucG9zaXRpb24pPD1vLmNhdGNoRGlzdGFuY2UpKXJldHVybiBhLmRlc3Ryb3koKSx2b2lkIGUucHJvY2Vzc09uU3RhcnQodCk7cChhKX1yZXR1cm4gYX0say5wcm90b3R5cGUuZ2V0T3JDcmVhdGU9ZnVuY3Rpb24odCxpKXt2YXIgZSxvPXRoaXMub3B0aW9ucztyZXR1cm4vKHNlbWl8c3RhdGljKS8udGVzdChvLm1vZGUpPyhlPXRoaXMuaWRsZXNbMF0pPyh0aGlzLmlkbGVzLnNwbGljZSgwLDEpLGUpOlwic2VtaVwiPT09by5tb2RlP3RoaXMuY3JlYXRlTmlwcGxlKGksdCk6KGNvbnNvbGUud2FybihcIkNvdWRsbid0IGZpbmQgdGhlIG5lZWRlZCBuaXBwbGUuXCIpLCExKTplPXRoaXMuY3JlYXRlTmlwcGxlKGksdCl9LGsucHJvdG90eXBlLnByb2Nlc3NPbk1vdmU9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zLGU9dGhpcy5tYW5hZ2VyLmdldElkZW50aWZpZXIodCksbz10aGlzLm5pcHBsZXMuZ2V0KGUpO2lmKGZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0LmJ1dHRvbnMpPzAhPT10LnByZXNzdXJlOjAhPT10LmJ1dHRvbnN9KHQpKXtpZighbylyZXR1cm4gY29uc29sZS5lcnJvcihcIkZvdW5kIHpvbWJpZSBqb3lzdGljayB3aXRoIElEIFwiK2UpLHZvaWQgdGhpcy5tYW5hZ2VyLnJlbW92ZUlkZW50aWZpZXIoZSk7aWYoaS5keW5hbWljUGFnZSl7dmFyIGQ9YygpO3A9by5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvLnBvc2l0aW9uPXt4OmQueCtwLmxlZnQseTpkLnkrcC50b3B9fW8uaWRlbnRpZmllcj1lO3ZhciBhPW8ub3B0aW9ucy5zaXplLzIscD17eDp0LnBhZ2VYLHk6dC5wYWdlWX07aS5sb2NrWCYmKHAueT1vLnBvc2l0aW9uLnkpLGkubG9ja1kmJihwLng9by5wb3NpdGlvbi54KTt2YXIgbCx1LGYseSxtLHYsZyxiLHg9bihwLG8ucG9zaXRpb24pLE89KGw9cCx1PW8ucG9zaXRpb24sZj11LngtbC54LHk9dS55LWwueSxyKE1hdGguYXRhbjIoeSxmKSkpLF89cyhPKSx3PXgvYSxUPXtkaXN0YW5jZTp4LHBvc2l0aW9uOnB9O1wiY2lyY2xlXCI9PT1vLm9wdGlvbnMuc2hhcGU/KHg9TWF0aC5taW4oeCxhKSxtPW8ucG9zaXRpb24sdj14LGI9e3g6MCx5OjB9LGc9cyhnPU8pLGIueD1tLngtdipNYXRoLmNvcyhnKSxiLnk9bS55LXYqTWF0aC5zaW4oZykscD1iKToocD1mdW5jdGlvbih0LGksZSl7cmV0dXJue3g6TWF0aC5taW4oTWF0aC5tYXgodC54LGkueC1lKSxpLngrZSkseTpNYXRoLm1pbihNYXRoLm1heCh0LnksaS55LWUpLGkueStlKX19KHAsby5wb3NpdGlvbixhKSx4PW4ocCxvLnBvc2l0aW9uKSk7dmFyIGs9cC54LW8ucG9zaXRpb24ueCxQPXAueS1vLnBvc2l0aW9uLnk7by5mcm9udFBvc2l0aW9uPXt4OmsseTpQfSxpLmRhdGFPbmx5fHxoKG8udWkuZnJvbnQsby5mcm9udFBvc2l0aW9uKTt2YXIgRT17aWRlbnRpZmllcjpvLmlkZW50aWZpZXIscG9zaXRpb246cCxmb3JjZTp3LHByZXNzdXJlOnQuZm9yY2V8fHQucHJlc3N1cmV8fHQud2Via2l0Rm9yY2V8fDAsZGlzdGFuY2U6eCxhbmdsZTp7cmFkaWFuOl8sZGVncmVlOk99LHZlY3Rvcjp7eDprL2EseTotUC9hfSxyYXc6VCxpbnN0YW5jZTpvLGxvY2tYOmkubG9ja1gsbG9ja1k6aS5sb2NrWX07KEU9by5jb21wdXRlRGlyZWN0aW9uKEUpKS5hbmdsZT17cmFkaWFuOnMoMTgwLU8pLGRlZ3JlZToxODAtT30sby50cmlnZ2VyKFwibW92ZVwiLEUpLHRoaXMudHJpZ2dlcihcIm1vdmUgXCIrby5pZCtcIjptb3ZlXCIsRSl9ZWxzZSB0aGlzLnByb2Nlc3NPbkVuZCh0KX0say5wcm90b3R5cGUucHJvY2Vzc09uRW5kPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMsZT1pLm9wdGlvbnMsbz1pLm1hbmFnZXIuZ2V0SWRlbnRpZmllcih0KSxuPWkubmlwcGxlcy5nZXQobykscz1pLm1hbmFnZXIucmVtb3ZlSWRlbnRpZmllcihuLmlkZW50aWZpZXIpO24mJihlLmRhdGFPbmx5fHxuLmhpZGUoZnVuY3Rpb24oKXtcImR5bmFtaWNcIj09PWUubW9kZSYmKG4udHJpZ2dlcihcInJlbW92ZWRcIixuKSxpLnRyaWdnZXIoXCJyZW1vdmVkIFwiK24uaWQrXCI6cmVtb3ZlZFwiLG4pLGkubWFuYWdlci50cmlnZ2VyKFwicmVtb3ZlZCBcIituLmlkK1wiOnJlbW92ZWRcIixuKSxuLmRlc3Ryb3koKSl9KSxjbGVhckludGVydmFsKGkucHJlc3N1cmVJbnRlcnZhbHNbbi5pZGVudGlmaWVyXSksbi5yZXNldERpcmVjdGlvbigpLG4udHJpZ2dlcihcImVuZFwiLG4pLGkudHJpZ2dlcihcImVuZCBcIituLmlkK1wiOmVuZFwiLG4pLGkuaWRzLmluZGV4T2Yobi5pZGVudGlmaWVyKT49MCYmaS5pZHMuc3BsaWNlKGkuaWRzLmluZGV4T2Yobi5pZGVudGlmaWVyKSwxKSxpLmFjdGl2ZXMuaW5kZXhPZihuKT49MCYmaS5hY3RpdmVzLnNwbGljZShpLmFjdGl2ZXMuaW5kZXhPZihuKSwxKSwvKHNlbWl8c3RhdGljKS8udGVzdChlLm1vZGUpP2kuaWRsZXMucHVzaChuKTppLm5pcHBsZXMuaW5kZXhPZihuKT49MCYmaS5uaXBwbGVzLnNwbGljZShpLm5pcHBsZXMuaW5kZXhPZihuKSwxKSxpLm1hbmFnZXIudW5iaW5kRG9jdW1lbnQoKSwvKHNlbWl8c3RhdGljKS8udGVzdChlLm1vZGUpJiYoaS5tYW5hZ2VyLmlkc1tzLmlkXT1zLmlkZW50aWZpZXIpKX0say5wcm90b3R5cGUub25EZXN0cm95ZWQ9ZnVuY3Rpb24odCxpKXt0aGlzLm5pcHBsZXMuaW5kZXhPZihpKT49MCYmdGhpcy5uaXBwbGVzLnNwbGljZSh0aGlzLm5pcHBsZXMuaW5kZXhPZihpKSwxKSx0aGlzLmFjdGl2ZXMuaW5kZXhPZihpKT49MCYmdGhpcy5hY3RpdmVzLnNwbGljZSh0aGlzLmFjdGl2ZXMuaW5kZXhPZihpKSwxKSx0aGlzLmlkbGVzLmluZGV4T2YoaSk+PTAmJnRoaXMuaWRsZXMuc3BsaWNlKHRoaXMuaWRsZXMuaW5kZXhPZihpKSwxKSx0aGlzLmlkcy5pbmRleE9mKGkuaWRlbnRpZmllcik+PTAmJnRoaXMuaWRzLnNwbGljZSh0aGlzLmlkcy5pbmRleE9mKGkuaWRlbnRpZmllciksMSksdGhpcy5tYW5hZ2VyLnJlbW92ZUlkZW50aWZpZXIoaS5pZGVudGlmaWVyKSx0aGlzLm1hbmFnZXIudW5iaW5kRG9jdW1lbnQoKX0say5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnVuYmluZEV2dCh0aGlzLm9wdGlvbnMuem9uZSxcInN0YXJ0XCIpLHRoaXMubmlwcGxlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuZGVzdHJveSgpfSksdGhpcy5wcmVzc3VyZUludGVydmFscyl0aGlzLnByZXNzdXJlSW50ZXJ2YWxzLmhhc093blByb3BlcnR5KHQpJiZjbGVhckludGVydmFsKHRoaXMucHJlc3N1cmVJbnRlcnZhbHNbdF0pO3RoaXMudHJpZ2dlcihcImRlc3Ryb3llZFwiLHRoaXMubmlwcGxlcyksdGhpcy5tYW5hZ2VyLnVuYmluZERvY3VtZW50KCksdGhpcy5vZmYoKX07dmFyIFA9aztmdW5jdGlvbiBFKHQpe3ZhciBpLGU9dGhpcztyZXR1cm4gZS5pZHM9e30sZS5pbmRleD0wLGUuY29sbGVjdGlvbnM9W10sZS5jb25maWcodCksZS5wcmVwYXJlQ29sbGVjdGlvbnMoKSxkKHdpbmRvdyxcInJlc2l6ZVwiLGZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dChpKSxpPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdCxpPWMoKTtlLmNvbGxlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Q9ZS5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxlLnBvc2l0aW9uPXt4OmkueCt0LmxlZnQseTppLnkrdC50b3B9fSl9KX0sMTAwKX0pLGUuY29sbGVjdGlvbnN9RS5wcm90b3R5cGU9bmV3IF8sRS5jb25zdHJ1Y3Rvcj1FLEUucHJvdG90eXBlLnByZXBhcmVDb2xsZWN0aW9ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5jb2xsZWN0aW9ucy5jcmVhdGU9dC5jcmVhdGUuYmluZCh0KSx0LmNvbGxlY3Rpb25zLm9uPXQub24uYmluZCh0KSx0LmNvbGxlY3Rpb25zLm9mZj10Lm9mZi5iaW5kKHQpLHQuY29sbGVjdGlvbnMuZGVzdHJveT10LmRlc3Ryb3kuYmluZCh0KSx0LmNvbGxlY3Rpb25zLmdldD1mdW5jdGlvbihpKXt2YXIgZTtyZXR1cm4gdC5jb2xsZWN0aW9ucy5ldmVyeShmdW5jdGlvbih0KXtyZXR1cm4hKGU9dC5nZXQoaSkpfSksZX19LEUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jcmVhdGVDb2xsZWN0aW9uKHQpfSxFLnByb3RvdHlwZS5jcmVhdGVDb2xsZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBpPW5ldyBQKHRoaXMsdCk7cmV0dXJuIHRoaXMuYmluZENvbGxlY3Rpb24oaSksdGhpcy5jb2xsZWN0aW9ucy5wdXNoKGkpLGl9LEUucHJvdG90eXBlLmJpbmRDb2xsZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBpLGU9dGhpcyxvPWZ1bmN0aW9uKHQsbyl7aT10LnR5cGUrXCIgXCIrby5pZCtcIjpcIit0LnR5cGUsZS50cmlnZ2VyKGksbyl9O3Qub24oXCJkZXN0cm95ZWRcIixlLm9uRGVzdHJveWVkLmJpbmQoZSkpLHQub24oXCJzaG93biBoaWRkZW4gcmVzdGVkIGRpciBwbGFpblwiLG8pLHQub24oXCJkaXI6dXAgZGlyOnJpZ2h0IGRpcjpkb3duIGRpcjpsZWZ0XCIsbyksdC5vbihcInBsYWluOnVwIHBsYWluOnJpZ2h0IHBsYWluOmRvd24gcGxhaW46bGVmdFwiLG8pfSxFLnByb3RvdHlwZS5iaW5kRG9jdW1lbnQ9ZnVuY3Rpb24oKXt0aGlzLmJpbmRlZHx8KHRoaXMuYmluZEV2dChkb2N1bWVudCxcIm1vdmVcIikuYmluZEV2dChkb2N1bWVudCxcImVuZFwiKSx0aGlzLmJpbmRlZD0hMCl9LEUucHJvdG90eXBlLnVuYmluZERvY3VtZW50PWZ1bmN0aW9uKHQpe09iamVjdC5rZXlzKHRoaXMuaWRzKS5sZW5ndGgmJiEwIT09dHx8KHRoaXMudW5iaW5kRXZ0KGRvY3VtZW50LFwibW92ZVwiKS51bmJpbmRFdnQoZG9jdW1lbnQsXCJlbmRcIiksdGhpcy5iaW5kZWQ9ITEpfSxFLnByb3RvdHlwZS5nZXRJZGVudGlmaWVyPWZ1bmN0aW9uKHQpe3ZhciBpO3JldHVybiB0P3ZvaWQgMD09PShpPXZvaWQgMD09PXQuaWRlbnRpZmllcj90LnBvaW50ZXJJZDp0LmlkZW50aWZpZXIpJiYoaT10aGlzLmxhdGVzdHx8MCk6aT10aGlzLmluZGV4LHZvaWQgMD09PXRoaXMuaWRzW2ldJiYodGhpcy5pZHNbaV09dGhpcy5pbmRleCx0aGlzLmluZGV4Kz0xKSx0aGlzLmxhdGVzdD1pLHRoaXMuaWRzW2ldfSxFLnByb3RvdHlwZS5yZW1vdmVJZGVudGlmaWVyPWZ1bmN0aW9uKHQpe3ZhciBpPXt9O2Zvcih2YXIgZSBpbiB0aGlzLmlkcylpZih0aGlzLmlkc1tlXT09PXQpe2kuaWQ9ZSxpLmlkZW50aWZpZXI9dGhpcy5pZHNbZV0sZGVsZXRlIHRoaXMuaWRzW2VdO2JyZWFrfXJldHVybiBpfSxFLnByb3RvdHlwZS5vbm1vdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub25BbnkoXCJtb3ZlXCIsdCksITF9LEUucHJvdG90eXBlLm9uZW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9uQW55KFwiZW5kXCIsdCksITF9LEUucHJvdG90eXBlLm9uY2FuY2VsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9uQW55KFwiZW5kXCIsdCksITF9LEUucHJvdG90eXBlLm9uQW55PWZ1bmN0aW9uKHQsaSl7dmFyIGUsbz10aGlzLG49XCJwcm9jZXNzT25cIit0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aT1wKGkpO3JldHVybiB5KGksZnVuY3Rpb24odCl7ZT1vLmdldElkZW50aWZpZXIodCkseShvLmNvbGxlY3Rpb25zLGZ1bmN0aW9uKHQsaSxlKXtlLmlkcy5pbmRleE9mKGkpPj0wJiYoZVtuXSh0KSx0Ll9mb3VuZF89ITApfS5iaW5kKG51bGwsdCxlKSksdC5fZm91bmRffHxvLnJlbW92ZUlkZW50aWZpZXIoZSl9KSwhMX0sRS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMudW5iaW5kRG9jdW1lbnQoITApLHRoaXMuaWRzPXt9LHRoaXMuaW5kZXg9MCx0aGlzLmNvbGxlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24odCl7dC5kZXN0cm95KCl9KSx0aGlzLm9mZigpfSxFLnByb3RvdHlwZS5vbkRlc3Ryb3llZD1mdW5jdGlvbih0LGkpe2lmKHRoaXMuY29sbGVjdGlvbnMuaW5kZXhPZihpKTwwKXJldHVybiExO3RoaXMuY29sbGVjdGlvbnMuc3BsaWNlKHRoaXMuY29sbGVjdGlvbnMuaW5kZXhPZihpKSwxKX07dmFyIEk9bmV3IEU7aS5kZWZhdWx0PXtjcmVhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIEkuY3JlYXRlKHQpfSxmYWN0b3J5Okl9fV0pLmRlZmF1bHR9KTsiLCIvKlxub2JqZWN0LWFzc2lnblxuKGMpIFNpbmRyZSBTb3JodXNcbkBsaWNlbnNlIE1JVFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XG5cdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHR9XG5cblx0cmV0dXJuIE9iamVjdCh2YWwpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG5cdHRyeSB7XG5cdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctd3JhcHBlcnNcblx0XHR0ZXN0MVs1XSA9ICdkZSc7XG5cdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MiA9IHt9O1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0dGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuXHRcdH1cblx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0cmV0dXJuIHRlc3QyW25dO1xuXHRcdH0pO1xuXHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDMgPSB7fTtcblx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0fSk7XG5cdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Ly8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0dmFyIGZyb207XG5cdHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG5cdHZhciBzeW1ib2xzO1xuXG5cdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XG5cdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXG5cdFx0Zm9yICh2YXIga2V5IGluIGZyb20pIHtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0XHRzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgc3ltYm9sc1tpXSkpIHtcblx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdG87XG59O1xuIiwiJ3VzZSBzdHJpY3QnXG5cbmZ1bmN0aW9uIHBhcnNlVVJJIChzdHIsIG9wdHMpIHtcbiAgaWYgKCFzdHIpIHJldHVybiB1bmRlZmluZWRcblxuICBvcHRzID0gb3B0cyB8fCB7fVxuXG4gIHZhciBvID0ge1xuICAgIGtleTogW1xuICAgICAgJ3NvdXJjZScsXG4gICAgICAncHJvdG9jb2wnLFxuICAgICAgJ2F1dGhvcml0eScsXG4gICAgICAndXNlckluZm8nLFxuICAgICAgJ3VzZXInLFxuICAgICAgJ3Bhc3N3b3JkJyxcbiAgICAgICdob3N0JyxcbiAgICAgICdwb3J0JyxcbiAgICAgICdyZWxhdGl2ZScsXG4gICAgICAncGF0aCcsXG4gICAgICAnZGlyZWN0b3J5JyxcbiAgICAgICdmaWxlJyxcbiAgICAgICdxdWVyeScsXG4gICAgICAnYW5jaG9yJ1xuICAgIF0sXG4gICAgcToge1xuICAgICAgbmFtZTogJ3F1ZXJ5S2V5JyxcbiAgICAgIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nXG4gICAgfSxcbiAgICBwYXJzZXI6IHtcbiAgICAgIHN0cmljdDogL14oPzooW146XFwvPyNdKyk6KT8oPzpcXC9cXC8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPygoKCg/OltePyNcXC9dKlxcLykqKShbXj8jXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxcbiAgICAgIGxvb3NlOiAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShbXjpcXC8/Iy5dKyk6KT8oPzpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS9cbiAgICB9XG4gIH1cblxuICB2YXIgbSA9IG8ucGFyc2VyW29wdHMuc3RyaWN0TW9kZSA/ICdzdHJpY3QnIDogJ2xvb3NlJ10uZXhlYyhzdHIpXG4gIHZhciB1cmkgPSB7fVxuICB2YXIgaSA9IDE0XG5cbiAgd2hpbGUgKGktLSkgdXJpW28ua2V5W2ldXSA9IG1baV0gfHwgJydcblxuICB1cmlbby5xLm5hbWVdID0ge31cbiAgdXJpW28ua2V5WzEyXV0ucmVwbGFjZShvLnEucGFyc2VyLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgIGlmICgkMSkgdXJpW28ucS5uYW1lXVskMV0gPSAkMlxuICB9KVxuXG4gIHJldHVybiB1cmlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZVVSSVxuIiwiLyohIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZSB2MS4zLjIgYnkgQG1hdGhpYXMgKi9cbjsoZnVuY3Rpb24ocm9vdCkge1xuXG5cdC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZXMgKi9cblx0dmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJlxuXHRcdCFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cdHZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiZcblx0XHQhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblx0dmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDtcblx0aWYgKFxuXHRcdGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLnNlbGYgPT09IGZyZWVHbG9iYWxcblx0KSB7XG5cdFx0cm9vdCA9IGZyZWVHbG9iYWw7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIGBwdW55Y29kZWAgb2JqZWN0LlxuXHQgKiBAbmFtZSBwdW55Y29kZVxuXHQgKiBAdHlwZSBPYmplY3Rcblx0ICovXG5cdHZhciBwdW55Y29kZSxcblxuXHQvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovXG5cdG1heEludCA9IDIxNDc0ODM2NDcsIC8vIGFrYS4gMHg3RkZGRkZGRiBvciAyXjMxLTFcblxuXHQvKiogQm9vdHN0cmluZyBwYXJhbWV0ZXJzICovXG5cdGJhc2UgPSAzNixcblx0dE1pbiA9IDEsXG5cdHRNYXggPSAyNixcblx0c2tldyA9IDM4LFxuXHRkYW1wID0gNzAwLFxuXHRpbml0aWFsQmlhcyA9IDcyLFxuXHRpbml0aWFsTiA9IDEyOCwgLy8gMHg4MFxuXHRkZWxpbWl0ZXIgPSAnLScsIC8vICdcXHgyRCdcblxuXHQvKiogUmVndWxhciBleHByZXNzaW9ucyAqL1xuXHRyZWdleFB1bnljb2RlID0gL154bi0tLyxcblx0cmVnZXhOb25BU0NJSSA9IC9bXlxceDIwLVxceDdFXS8sIC8vIHVucHJpbnRhYmxlIEFTQ0lJIGNoYXJzICsgbm9uLUFTQ0lJIGNoYXJzXG5cdHJlZ2V4U2VwYXJhdG9ycyA9IC9bXFx4MkVcXHUzMDAyXFx1RkYwRVxcdUZGNjFdL2csIC8vIFJGQyAzNDkwIHNlcGFyYXRvcnNcblxuXHQvKiogRXJyb3IgbWVzc2FnZXMgKi9cblx0ZXJyb3JzID0ge1xuXHRcdCdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsXG5cdFx0J25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJyxcblx0XHQnaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0J1xuXHR9LFxuXG5cdC8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi9cblx0YmFzZU1pbnVzVE1pbiA9IGJhc2UgLSB0TWluLFxuXHRmbG9vciA9IE1hdGguZmxvb3IsXG5cdHN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG5cblx0LyoqIFRlbXBvcmFyeSB2YXJpYWJsZSAqL1xuXHRrZXk7XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXJyb3IgdHlwZS5cblx0ICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLlxuXHQgKi9cblx0ZnVuY3Rpb24gZXJyb3IodHlwZSkge1xuXHRcdHRocm93IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5XG5cdCAqIGl0ZW0uXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHtcblx0XHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblx0XHR3aGlsZSAobGVuZ3RoLS0pIHtcblx0XHRcdHJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsXG5cdCAqIGFkZHJlc3Nlcy5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5XG5cdCAqIGNoYXJhY3Rlci5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2tcblx0ICogZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikge1xuXHRcdHZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpO1xuXHRcdHZhciByZXN1bHQgPSAnJztcblx0XHRpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXHRcdFx0Ly8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZVxuXHRcdFx0Ly8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC5cblx0XHRcdHJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnO1xuXHRcdFx0c3RyaW5nID0gcGFydHNbMV07XG5cdFx0fVxuXHRcdC8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy5cblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdcXHgyRScpO1xuXHRcdHZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcblx0XHR2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7XG5cdFx0cmV0dXJuIHJlc3VsdCArIGVuY29kZWQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZVxuXHQgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksXG5cdCAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoXG5cdCAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LFxuXHQgKiBtYXRjaGluZyBVVEYtMTYuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYFxuXHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZGVjb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7XG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBjb3VudGVyID0gMCxcblx0XHQgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGV4dHJhO1xuXHRcdHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHR2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdC8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlclxuXHRcdFx0XHRleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRcdGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dFxuXHRcdFx0XHRcdC8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRjb3VudGVyLS07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYFxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBlbmNvZGVcblx0ICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkge1xuXHRcdHJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gJyc7XG5cdFx0XHRpZiAodmFsdWUgPiAweEZGRkYpIHtcblx0XHRcdFx0dmFsdWUgLT0gMHgxMDAwMDtcblx0XHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7XG5cdFx0XHRcdHZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjtcblx0XHRcdH1cblx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpO1xuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9KS5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuXG5cdCAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpblxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSBgMGAgdG8gYGJhc2UgLSAxYCwgb3IgYGJhc2VgIGlmXG5cdCAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLlxuXHQgKi9cblx0ZnVuY3Rpb24gYmFzaWNUb0RpZ2l0KGNvZGVQb2ludCkge1xuXHRcdGlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gMjI7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gNjU7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gOTc7XG5cdFx0fVxuXHRcdHJldHVybiBiYXNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlXG5cdCAqIGAwYCB0byBgYmFzZSAtIDFgLiBJZiBgZmxhZ2AgaXMgbm9uLXplcm8sIHRoZSB1cHBlcmNhc2UgZm9ybSBpc1xuXHQgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZFxuXHQgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7XG5cdFx0Ly8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLlpcblx0XHQvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjlcblx0XHRyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuXG5cdCAqIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkge1xuXHRcdHZhciBrID0gMDtcblx0XHRkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxO1xuXHRcdGRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTtcblx0XHRmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkge1xuXHRcdFx0ZGVsdGEgPSBmbG9vcihkZWx0YSAvIGJhc2VNaW51c1RNaW4pO1xuXHRcdH1cblx0XHRyZXR1cm4gZmxvb3IoayArIChiYXNlTWludXNUTWluICsgMSkgKiBkZWx0YSAvIChkZWx0YSArIHNrZXcpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMgdG8gYSBzdHJpbmcgb2YgVW5pY29kZVxuXHQgKiBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcblx0XHQvLyBEb24ndCB1c2UgVUNTLTJcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoLFxuXHRcdCAgICBvdXQsXG5cdFx0ICAgIGkgPSAwLFxuXHRcdCAgICBuID0gaW5pdGlhbE4sXG5cdFx0ICAgIGJpYXMgPSBpbml0aWFsQmlhcyxcblx0XHQgICAgYmFzaWMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIGluZGV4LFxuXHRcdCAgICBvbGRpLFxuXHRcdCAgICB3LFxuXHRcdCAgICBrLFxuXHRcdCAgICBkaWdpdCxcblx0XHQgICAgdCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGJhc2VNaW51c1Q7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGVcblx0XHQvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weVxuXHRcdC8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LlxuXG5cdFx0YmFzaWMgPSBpbnB1dC5sYXN0SW5kZXhPZihkZWxpbWl0ZXIpO1xuXHRcdGlmIChiYXNpYyA8IDApIHtcblx0XHRcdGJhc2ljID0gMDtcblx0XHR9XG5cblx0XHRmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikge1xuXHRcdFx0Ly8gaWYgaXQncyBub3QgYSBiYXNpYyBjb2RlIHBvaW50XG5cdFx0XHRpZiAoaW5wdXQuY2hhckNvZGVBdChqKSA+PSAweDgwKSB7XG5cdFx0XHRcdGVycm9yKCdub3QtYmFzaWMnKTtcblx0XHRcdH1cblx0XHRcdG91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZGVjb2RpbmcgbG9vcDogc3RhcnQganVzdCBhZnRlciB0aGUgbGFzdCBkZWxpbWl0ZXIgaWYgYW55IGJhc2ljIGNvZGVcblx0XHQvLyBwb2ludHMgd2VyZSBjb3BpZWQ7IHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb3RoZXJ3aXNlLlxuXG5cdFx0Zm9yIChpbmRleCA9IGJhc2ljID4gMCA/IGJhc2ljICsgMSA6IDA7IGluZGV4IDwgaW5wdXRMZW5ndGg7IC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi8pIHtcblxuXHRcdFx0Ly8gYGluZGV4YCBpcyB0aGUgaW5kZXggb2YgdGhlIG5leHQgY2hhcmFjdGVyIHRvIGJlIGNvbnN1bWVkLlxuXHRcdFx0Ly8gRGVjb2RlIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIgaW50byBgZGVsdGFgLFxuXHRcdFx0Ly8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXJcblx0XHRcdC8vIGlmIHdlIGluY3JlYXNlIGBpYCBhcyB3ZSBnbywgdGhlbiBzdWJ0cmFjdCBvZmYgaXRzIHN0YXJ0aW5nXG5cdFx0XHQvLyB2YWx1ZSBhdCB0aGUgZW5kIHRvIG9idGFpbiBgZGVsdGFgLlxuXHRcdFx0Zm9yIChvbGRpID0gaSwgdyA9IDEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXG5cdFx0XHRcdGlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkge1xuXHRcdFx0XHRcdGVycm9yKCdpbnZhbGlkLWlucHV0Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkaWdpdCA9IGJhc2ljVG9EaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KyspKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPj0gYmFzZSB8fCBkaWdpdCA+IGZsb29yKChtYXhJbnQgLSBpKSAvIHcpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpICs9IGRpZ2l0ICogdztcblx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0IDwgdCkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRpZiAodyA+IGZsb29yKG1heEludCAvIGJhc2VNaW51c1QpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR3ICo9IGJhc2VNaW51c1Q7XG5cblx0XHRcdH1cblxuXHRcdFx0b3V0ID0gb3V0cHV0Lmxlbmd0aCArIDE7XG5cdFx0XHRiaWFzID0gYWRhcHQoaSAtIG9sZGksIG91dCwgb2xkaSA9PSAwKTtcblxuXHRcdFx0Ly8gYGlgIHdhcyBzdXBwb3NlZCB0byB3cmFwIGFyb3VuZCBmcm9tIGBvdXRgIHRvIGAwYCxcblx0XHRcdC8vIGluY3JlbWVudGluZyBgbmAgZWFjaCB0aW1lLCBzbyB3ZSdsbCBmaXggdGhhdCBub3c6XG5cdFx0XHRpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRuICs9IGZsb29yKGkgLyBvdXQpO1xuXHRcdFx0aSAlPSBvdXQ7XG5cblx0XHRcdC8vIEluc2VydCBgbmAgYXQgcG9zaXRpb24gYGlgIG9mIHRoZSBvdXRwdXRcblx0XHRcdG91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB1Y3MyZW5jb2RlKG91dHB1dCk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGFcblx0ICogUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7XG5cdFx0dmFyIG4sXG5cdFx0ICAgIGRlbHRhLFxuXHRcdCAgICBoYW5kbGVkQ1BDb3VudCxcblx0XHQgICAgYmFzaWNMZW5ndGgsXG5cdFx0ICAgIGJpYXMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIG0sXG5cdFx0ICAgIHEsXG5cdFx0ICAgIGssXG5cdFx0ICAgIHQsXG5cdFx0ICAgIGN1cnJlbnRWYWx1ZSxcblx0XHQgICAgb3V0cHV0ID0gW10sXG5cdFx0ICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovXG5cdFx0ICAgIGlucHV0TGVuZ3RoLFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLFxuXHRcdCAgICBiYXNlTWludXNULFxuXHRcdCAgICBxTWludXNUO1xuXG5cdFx0Ly8gQ29udmVydCB0aGUgaW5wdXQgaW4gVUNTLTIgdG8gVW5pY29kZVxuXHRcdGlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7XG5cblx0XHQvLyBDYWNoZSB0aGUgbGVuZ3RoXG5cdFx0aW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7XG5cblx0XHQvLyBJbml0aWFsaXplIHRoZSBzdGF0ZVxuXHRcdG4gPSBpbml0aWFsTjtcblx0XHRkZWx0YSA9IDA7XG5cdFx0YmlhcyA9IGluaXRpYWxCaWFzO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50c1xuXHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShjdXJyZW50VmFsdWUpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRoYW5kbGVkQ1BDb3VudCA9IGJhc2ljTGVuZ3RoID0gb3V0cHV0Lmxlbmd0aDtcblxuXHRcdC8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkO1xuXHRcdC8vIGBiYXNpY0xlbmd0aGAgaXMgdGhlIG51bWJlciBvZiBiYXNpYyBjb2RlIHBvaW50cy5cblxuXHRcdC8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlclxuXHRcdGlmIChiYXNpY0xlbmd0aCkge1xuXHRcdFx0b3V0cHV0LnB1c2goZGVsaW1pdGVyKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGVuY29kaW5nIGxvb3A6XG5cdFx0d2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHtcblxuXHRcdFx0Ly8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dFxuXHRcdFx0Ly8gbGFyZ2VyIG9uZTpcblx0XHRcdGZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID49IG4gJiYgY3VycmVudFZhbHVlIDwgbSkge1xuXHRcdFx0XHRcdG0gPSBjdXJyZW50VmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LFxuXHRcdFx0Ly8gYnV0IGd1YXJkIGFnYWluc3Qgb3ZlcmZsb3dcblx0XHRcdGhhbmRsZWRDUENvdW50UGx1c09uZSA9IGhhbmRsZWRDUENvdW50ICsgMTtcblx0XHRcdGlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWx0YSArPSAobSAtIG4pICogaGFuZGxlZENQQ291bnRQbHVzT25lO1xuXHRcdFx0biA9IG07XG5cblx0XHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCBuICYmICsrZGVsdGEgPiBtYXhJbnQpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPT0gbikge1xuXHRcdFx0XHRcdC8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyXG5cdFx0XHRcdFx0Zm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXHRcdFx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cdFx0XHRcdFx0XHRpZiAocSA8IHQpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRxTWludXNUID0gcSAtIHQ7XG5cdFx0XHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdFx0XHRvdXRwdXQucHVzaChcblx0XHRcdFx0XHRcdFx0c3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyh0ICsgcU1pbnVzVCAlIGJhc2VNaW51c1QsIDApKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyhxLCAwKSkpO1xuXHRcdFx0XHRcdGJpYXMgPSBhZGFwdChkZWx0YSwgaGFuZGxlZENQQ291bnRQbHVzT25lLCBoYW5kbGVkQ1BDb3VudCA9PSBiYXNpY0xlbmd0aCk7XG5cdFx0XHRcdFx0ZGVsdGEgPSAwO1xuXHRcdFx0XHRcdCsraGFuZGxlZENQQ291bnQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0KytkZWx0YTtcblx0XHRcdCsrbjtcblxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3Ncblx0ICogdG8gVW5pY29kZS4gT25seSB0aGUgUHVueWNvZGVkIHBhcnRzIG9mIHRoZSBpbnB1dCB3aWxsIGJlIGNvbnZlcnRlZCwgaS5lLlxuXHQgKiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCBvbiBhIHN0cmluZyB0aGF0IGhhcyBhbHJlYWR5IGJlZW5cblx0ICogY29udmVydGVkIHRvIFVuaWNvZGUuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlZCBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIGNvbnZlcnQgdG8gVW5pY29kZS5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFVuaWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIFB1bnljb2RlXG5cdCAqIHN0cmluZy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvVW5pY29kZShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gZGVjb2RlKHN0cmluZy5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFVuaWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogUHVueWNvZGUuIE9ubHkgdGhlIG5vbi1BU0NJSSBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgd2lsbCBiZSBjb252ZXJ0ZWQsXG5cdCAqIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0J3MgYWxyZWFkeSBpblxuXHQgKiBBU0NJSS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0byBjb252ZXJ0LCBhcyBhXG5cdCAqIFVuaWNvZGUgc3RyaW5nLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgUHVueWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGRvbWFpbiBuYW1lIG9yXG5cdCAqIGVtYWlsIGFkZHJlc3MuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b0FTQ0lJKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhOb25BU0NJSS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyAneG4tLScgKyBlbmNvZGUoc3RyaW5nKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKiBEZWZpbmUgdGhlIHB1YmxpYyBBUEkgKi9cblx0cHVueWNvZGUgPSB7XG5cdFx0LyoqXG5cdFx0ICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IFB1bnljb2RlLmpzIHZlcnNpb24gbnVtYmVyLlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIFN0cmluZ1xuXHRcdCAqL1xuXHRcdCd2ZXJzaW9uJzogJzEuMy4yJyxcblx0XHQvKipcblx0XHQgKiBBbiBvYmplY3Qgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGZyb20gSmF2YVNjcmlwdCdzIGludGVybmFsIGNoYXJhY3RlclxuXHRcdCAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suXG5cdFx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgT2JqZWN0XG5cdFx0ICovXG5cdFx0J3VjczInOiB7XG5cdFx0XHQnZGVjb2RlJzogdWNzMmRlY29kZSxcblx0XHRcdCdlbmNvZGUnOiB1Y3MyZW5jb2RlXG5cdFx0fSxcblx0XHQnZGVjb2RlJzogZGVjb2RlLFxuXHRcdCdlbmNvZGUnOiBlbmNvZGUsXG5cdFx0J3RvQVNDSUknOiB0b0FTQ0lJLFxuXHRcdCd0b1VuaWNvZGUnOiB0b1VuaWNvZGVcblx0fTtcblxuXHQvKiogRXhwb3NlIGBwdW55Y29kZWAgKi9cblx0Ly8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3Igc3BlY2lmaWMgY29uZGl0aW9uIHBhdHRlcm5zXG5cdC8vIGxpa2UgdGhlIGZvbGxvd2luZzpcblx0aWYgKFxuXHRcdHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmXG5cdFx0ZGVmaW5lLmFtZFxuXHQpIHtcblx0XHRkZWZpbmUoJ3B1bnljb2RlJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gcHVueWNvZGU7XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAoZnJlZUV4cG9ydHMgJiYgZnJlZU1vZHVsZSkge1xuXHRcdGlmIChtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cykgeyAvLyBpbiBOb2RlLmpzIG9yIFJpbmdvSlMgdjAuOC4wK1xuXHRcdFx0ZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7XG5cdFx0fSBlbHNlIHsgLy8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC1cblx0XHRcdGZvciAoa2V5IGluIHB1bnljb2RlKSB7XG5cdFx0XHRcdHB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7IC8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXJcblx0XHRyb290LnB1bnljb2RlID0gcHVueWNvZGU7XG5cdH1cblxufSh0aGlzKSk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyBJZiBvYmouaGFzT3duUHJvcGVydHkgaGFzIGJlZW4gb3ZlcnJpZGRlbiwgdGhlbiBjYWxsaW5nXG4vLyBvYmouaGFzT3duUHJvcGVydHkocHJvcCkgd2lsbCBicmVhay5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2lzc3Vlcy8xNzA3XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHFzLCBzZXAsIGVxLCBvcHRpb25zKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICB2YXIgb2JqID0ge307XG5cbiAgaWYgKHR5cGVvZiBxcyAhPT0gJ3N0cmluZycgfHwgcXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciByZWdleHAgPSAvXFwrL2c7XG4gIHFzID0gcXMuc3BsaXQoc2VwKTtcblxuICB2YXIgbWF4S2V5cyA9IDEwMDA7XG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLm1heEtleXMgPT09ICdudW1iZXInKSB7XG4gICAgbWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cztcbiAgfVxuXG4gIHZhciBsZW4gPSBxcy5sZW5ndGg7XG4gIC8vIG1heEtleXMgPD0gMCBtZWFucyB0aGF0IHdlIHNob3VsZCBub3QgbGltaXQga2V5cyBjb3VudFxuICBpZiAobWF4S2V5cyA+IDAgJiYgbGVuID4gbWF4S2V5cykge1xuICAgIGxlbiA9IG1heEtleXM7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIHggPSBxc1tpXS5yZXBsYWNlKHJlZ2V4cCwgJyUyMCcpLFxuICAgICAgICBpZHggPSB4LmluZGV4T2YoZXEpLFxuICAgICAgICBrc3RyLCB2c3RyLCBrLCB2O1xuXG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICBrc3RyID0geC5zdWJzdHIoMCwgaWR4KTtcbiAgICAgIHZzdHIgPSB4LnN1YnN0cihpZHggKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAga3N0ciA9IHg7XG4gICAgICB2c3RyID0gJyc7XG4gICAgfVxuXG4gICAgayA9IGRlY29kZVVSSUNvbXBvbmVudChrc3RyKTtcbiAgICB2ID0gZGVjb2RlVVJJQ29tcG9uZW50KHZzdHIpO1xuXG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShvYmosIGspKSB7XG4gICAgICBvYmpba10gPSB2O1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvYmpba10pKSB7XG4gICAgICBvYmpba10ucHVzaCh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tdID0gW29ialtrXSwgdl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgc3RyaW5naWZ5UHJpbWl0aXZlID0gZnVuY3Rpb24odikge1xuICBzd2l0Y2ggKHR5cGVvZiB2KSB7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiB2O1xuXG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gdiA/ICd0cnVlJyA6ICdmYWxzZSc7XG5cbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgcmV0dXJuIGlzRmluaXRlKHYpID8gdiA6ICcnO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnJztcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmosIHNlcCwgZXEsIG5hbWUpIHtcbiAgc2VwID0gc2VwIHx8ICcmJztcbiAgZXEgPSBlcSB8fCAnPSc7XG4gIGlmIChvYmogPT09IG51bGwpIHtcbiAgICBvYmogPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5tYXAoZnVuY3Rpb24oaykge1xuICAgICAgdmFyIGtzID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShrKSkgKyBlcTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9ialtrXSkpIHtcbiAgICAgICAgcmV0dXJuIG9ialtrXS5tYXAoZnVuY3Rpb24odikge1xuICAgICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUodikpO1xuICAgICAgICB9KS5qb2luKHNlcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9ialtrXSkpO1xuICAgICAgfVxuICAgIH0pLmpvaW4oc2VwKTtcblxuICB9XG5cbiAgaWYgKCFuYW1lKSByZXR1cm4gJyc7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG5hbWUpKSArIGVxICtcbiAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqKSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLmRlY29kZSA9IGV4cG9ydHMucGFyc2UgPSByZXF1aXJlKCcuL2RlY29kZScpO1xuZXhwb3J0cy5lbmNvZGUgPSBleHBvcnRzLnN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vZW5jb2RlJyk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcHVueWNvZGUgPSByZXF1aXJlKCdwdW55Y29kZScpO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuZXhwb3J0cy5wYXJzZSA9IHVybFBhcnNlO1xuZXhwb3J0cy5yZXNvbHZlID0gdXJsUmVzb2x2ZTtcbmV4cG9ydHMucmVzb2x2ZU9iamVjdCA9IHVybFJlc29sdmVPYmplY3Q7XG5leHBvcnRzLmZvcm1hdCA9IHVybEZvcm1hdDtcblxuZXhwb3J0cy5VcmwgPSBVcmw7XG5cbmZ1bmN0aW9uIFVybCgpIHtcbiAgdGhpcy5wcm90b2NvbCA9IG51bGw7XG4gIHRoaXMuc2xhc2hlcyA9IG51bGw7XG4gIHRoaXMuYXV0aCA9IG51bGw7XG4gIHRoaXMuaG9zdCA9IG51bGw7XG4gIHRoaXMucG9ydCA9IG51bGw7XG4gIHRoaXMuaG9zdG5hbWUgPSBudWxsO1xuICB0aGlzLmhhc2ggPSBudWxsO1xuICB0aGlzLnNlYXJjaCA9IG51bGw7XG4gIHRoaXMucXVlcnkgPSBudWxsO1xuICB0aGlzLnBhdGhuYW1lID0gbnVsbDtcbiAgdGhpcy5wYXRoID0gbnVsbDtcbiAgdGhpcy5ocmVmID0gbnVsbDtcbn1cblxuLy8gUmVmZXJlbmNlOiBSRkMgMzk4NiwgUkZDIDE4MDgsIFJGQyAyMzk2XG5cbi8vIGRlZmluZSB0aGVzZSBoZXJlIHNvIGF0IGxlYXN0IHRoZXkgb25seSBoYXZlIHRvIGJlXG4vLyBjb21waWxlZCBvbmNlIG9uIHRoZSBmaXJzdCBtb2R1bGUgbG9hZC5cbnZhciBwcm90b2NvbFBhdHRlcm4gPSAvXihbYS16MC05ListXSs6KS9pLFxuICAgIHBvcnRQYXR0ZXJuID0gLzpbMC05XSokLyxcblxuICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgYSBzaW1wbGUgcGF0aCBVUkxcbiAgICBzaW1wbGVQYXRoUGF0dGVybiA9IC9eKFxcL1xcLz8oPyFcXC8pW15cXD9cXHNdKikoXFw/W15cXHNdKik/JC8sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyByZXNlcnZlZCBmb3IgZGVsaW1pdGluZyBVUkxzLlxuICAgIC8vIFdlIGFjdHVhbGx5IGp1c3QgYXV0by1lc2NhcGUgdGhlc2UuXG4gICAgZGVsaW1zID0gWyc8JywgJz4nLCAnXCInLCAnYCcsICcgJywgJ1xccicsICdcXG4nLCAnXFx0J10sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyBub3QgYWxsb3dlZCBmb3IgdmFyaW91cyByZWFzb25zLlxuICAgIHVud2lzZSA9IFsneycsICd9JywgJ3wnLCAnXFxcXCcsICdeJywgJ2AnXS5jb25jYXQoZGVsaW1zKSxcblxuICAgIC8vIEFsbG93ZWQgYnkgUkZDcywgYnV0IGNhdXNlIG9mIFhTUyBhdHRhY2tzLiAgQWx3YXlzIGVzY2FwZSB0aGVzZS5cbiAgICBhdXRvRXNjYXBlID0gWydcXCcnXS5jb25jYXQodW53aXNlKSxcbiAgICAvLyBDaGFyYWN0ZXJzIHRoYXQgYXJlIG5ldmVyIGV2ZXIgYWxsb3dlZCBpbiBhIGhvc3RuYW1lLlxuICAgIC8vIE5vdGUgdGhhdCBhbnkgaW52YWxpZCBjaGFycyBhcmUgYWxzbyBoYW5kbGVkLCBidXQgdGhlc2VcbiAgICAvLyBhcmUgdGhlIG9uZXMgdGhhdCBhcmUgKmV4cGVjdGVkKiB0byBiZSBzZWVuLCBzbyB3ZSBmYXN0LXBhdGhcbiAgICAvLyB0aGVtLlxuICAgIG5vbkhvc3RDaGFycyA9IFsnJScsICcvJywgJz8nLCAnOycsICcjJ10uY29uY2F0KGF1dG9Fc2NhcGUpLFxuICAgIGhvc3RFbmRpbmdDaGFycyA9IFsnLycsICc/JywgJyMnXSxcbiAgICBob3N0bmFtZU1heExlbiA9IDI1NSxcbiAgICBob3N0bmFtZVBhcnRQYXR0ZXJuID0gL15bK2EtejAtOUEtWl8tXXswLDYzfSQvLFxuICAgIGhvc3RuYW1lUGFydFN0YXJ0ID0gL14oWythLXowLTlBLVpfLV17MCw2M30pKC4qKSQvLFxuICAgIC8vIHByb3RvY29scyB0aGF0IGNhbiBhbGxvdyBcInVuc2FmZVwiIGFuZCBcInVud2lzZVwiIGNoYXJzLlxuICAgIHVuc2FmZVByb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgbmV2ZXIgaGF2ZSBhIGhvc3RuYW1lLlxuICAgIGhvc3RsZXNzUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBhbHdheXMgY29udGFpbiBhIC8vIGJpdC5cbiAgICBzbGFzaGVkUHJvdG9jb2wgPSB7XG4gICAgICAnaHR0cCc6IHRydWUsXG4gICAgICAnaHR0cHMnOiB0cnVlLFxuICAgICAgJ2Z0cCc6IHRydWUsXG4gICAgICAnZ29waGVyJzogdHJ1ZSxcbiAgICAgICdmaWxlJzogdHJ1ZSxcbiAgICAgICdodHRwOic6IHRydWUsXG4gICAgICAnaHR0cHM6JzogdHJ1ZSxcbiAgICAgICdmdHA6JzogdHJ1ZSxcbiAgICAgICdnb3BoZXI6JzogdHJ1ZSxcbiAgICAgICdmaWxlOic6IHRydWVcbiAgICB9LFxuICAgIHF1ZXJ5c3RyaW5nID0gcmVxdWlyZSgncXVlcnlzdHJpbmcnKTtcblxuZnVuY3Rpb24gdXJsUGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAodXJsICYmIHV0aWwuaXNPYmplY3QodXJsKSAmJiB1cmwgaW5zdGFuY2VvZiBVcmwpIHJldHVybiB1cmw7XG5cbiAgdmFyIHUgPSBuZXcgVXJsO1xuICB1LnBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpO1xuICByZXR1cm4gdTtcbn1cblxuVXJsLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKCF1dGlsLmlzU3RyaW5nKHVybCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcIiArIHR5cGVvZiB1cmwpO1xuICB9XG5cbiAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuXG4gIC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlc1xuICAvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNlxuICB2YXIgcXVlcnlJbmRleCA9IHVybC5pbmRleE9mKCc/JyksXG4gICAgICBzcGxpdHRlciA9XG4gICAgICAgICAgKHF1ZXJ5SW5kZXggIT09IC0xICYmIHF1ZXJ5SW5kZXggPCB1cmwuaW5kZXhPZignIycpKSA/ICc/JyA6ICcjJyxcbiAgICAgIHVTcGxpdCA9IHVybC5zcGxpdChzcGxpdHRlciksXG4gICAgICBzbGFzaFJlZ2V4ID0gL1xcXFwvZztcbiAgdVNwbGl0WzBdID0gdVNwbGl0WzBdLnJlcGxhY2Uoc2xhc2hSZWdleCwgJy8nKTtcbiAgdXJsID0gdVNwbGl0LmpvaW4oc3BsaXR0ZXIpO1xuXG4gIHZhciByZXN0ID0gdXJsO1xuXG4gIC8vIHRyaW0gYmVmb3JlIHByb2NlZWRpbmcuXG4gIC8vIFRoaXMgaXMgdG8gc3VwcG9ydCBwYXJzZSBzdHVmZiBsaWtlIFwiICBodHRwOi8vZm9vLmNvbSAgXFxuXCJcbiAgcmVzdCA9IHJlc3QudHJpbSgpO1xuXG4gIGlmICghc2xhc2hlc0Rlbm90ZUhvc3QgJiYgdXJsLnNwbGl0KCcjJykubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gVHJ5IGZhc3QgcGF0aCByZWdleHBcbiAgICB2YXIgc2ltcGxlUGF0aCA9IHNpbXBsZVBhdGhQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gICAgaWYgKHNpbXBsZVBhdGgpIHtcbiAgICAgIHRoaXMucGF0aCA9IHJlc3Q7XG4gICAgICB0aGlzLmhyZWYgPSByZXN0O1xuICAgICAgdGhpcy5wYXRobmFtZSA9IHNpbXBsZVBhdGhbMV07XG4gICAgICBpZiAoc2ltcGxlUGF0aFsyXSkge1xuICAgICAgICB0aGlzLnNlYXJjaCA9IHNpbXBsZVBhdGhbMl07XG4gICAgICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMuc2VhcmNoLnN1YnN0cigxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHRoaXMuc2VhcmNoLnN1YnN0cigxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm90byA9IHByb3RvY29sUGF0dGVybi5leGVjKHJlc3QpO1xuICBpZiAocHJvdG8pIHtcbiAgICBwcm90byA9IHByb3RvWzBdO1xuICAgIHZhciBsb3dlclByb3RvID0gcHJvdG8udG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLnByb3RvY29sID0gbG93ZXJQcm90bztcbiAgICByZXN0ID0gcmVzdC5zdWJzdHIocHJvdG8ubGVuZ3RoKTtcbiAgfVxuXG4gIC8vIGZpZ3VyZSBvdXQgaWYgaXQncyBnb3QgYSBob3N0XG4gIC8vIHVzZXJAc2VydmVyIGlzICphbHdheXMqIGludGVycHJldGVkIGFzIGEgaG9zdG5hbWUsIGFuZCB1cmxcbiAgLy8gcmVzb2x1dGlvbiB3aWxsIHRyZWF0IC8vZm9vL2JhciBhcyBob3N0PWZvbyxwYXRoPWJhciBiZWNhdXNlIHRoYXQnc1xuICAvLyBob3cgdGhlIGJyb3dzZXIgcmVzb2x2ZXMgcmVsYXRpdmUgVVJMcy5cbiAgaWYgKHNsYXNoZXNEZW5vdGVIb3N0IHx8IHByb3RvIHx8IHJlc3QubWF0Y2goL15cXC9cXC9bXkBcXC9dK0BbXkBcXC9dKy8pKSB7XG4gICAgdmFyIHNsYXNoZXMgPSByZXN0LnN1YnN0cigwLCAyKSA9PT0gJy8vJztcbiAgICBpZiAoc2xhc2hlcyAmJiAhKHByb3RvICYmIGhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dKSkge1xuICAgICAgcmVzdCA9IHJlc3Quc3Vic3RyKDIpO1xuICAgICAgdGhpcy5zbGFzaGVzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dICYmXG4gICAgICAoc2xhc2hlcyB8fCAocHJvdG8gJiYgIXNsYXNoZWRQcm90b2NvbFtwcm90b10pKSkge1xuXG4gICAgLy8gdGhlcmUncyBhIGhvc3RuYW1lLlxuICAgIC8vIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiAvLCA/LCA7LCBvciAjIGVuZHMgdGhlIGhvc3QuXG4gICAgLy9cbiAgICAvLyBJZiB0aGVyZSBpcyBhbiBAIGluIHRoZSBob3N0bmFtZSwgdGhlbiBub24taG9zdCBjaGFycyAqYXJlKiBhbGxvd2VkXG4gICAgLy8gdG8gdGhlIGxlZnQgb2YgdGhlIGxhc3QgQCBzaWduLCB1bmxlc3Mgc29tZSBob3N0LWVuZGluZyBjaGFyYWN0ZXJcbiAgICAvLyBjb21lcyAqYmVmb3JlKiB0aGUgQC1zaWduLlxuICAgIC8vIFVSTHMgYXJlIG9ibm94aW91cy5cbiAgICAvL1xuICAgIC8vIGV4OlxuICAgIC8vIGh0dHA6Ly9hQGJAYy8gPT4gdXNlcjphQGIgaG9zdDpjXG4gICAgLy8gaHR0cDovL2FAYj9AYyA9PiB1c2VyOmEgaG9zdDpjIHBhdGg6Lz9AY1xuXG4gICAgLy8gdjAuMTIgVE9ETyhpc2FhY3MpOiBUaGlzIGlzIG5vdCBxdWl0ZSBob3cgQ2hyb21lIGRvZXMgdGhpbmdzLlxuICAgIC8vIFJldmlldyBvdXIgdGVzdCBjYXNlIGFnYWluc3QgYnJvd3NlcnMgbW9yZSBjb21wcmVoZW5zaXZlbHkuXG5cbiAgICAvLyBmaW5kIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBhbnkgaG9zdEVuZGluZ0NoYXJzXG4gICAgdmFyIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvc3RFbmRpbmdDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihob3N0RW5kaW5nQ2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cblxuICAgIC8vIGF0IHRoaXMgcG9pbnQsIGVpdGhlciB3ZSBoYXZlIGFuIGV4cGxpY2l0IHBvaW50IHdoZXJlIHRoZVxuICAgIC8vIGF1dGggcG9ydGlvbiBjYW5ub3QgZ28gcGFzdCwgb3IgdGhlIGxhc3QgQCBjaGFyIGlzIHRoZSBkZWNpZGVyLlxuICAgIHZhciBhdXRoLCBhdFNpZ247XG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKSB7XG4gICAgICAvLyBhdFNpZ24gY2FuIGJlIGFueXdoZXJlLlxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhdFNpZ24gbXVzdCBiZSBpbiBhdXRoIHBvcnRpb24uXG4gICAgICAvLyBodHRwOi8vYUBiL2NAZCA9PiBob3N0OmIgYXV0aDphIHBhdGg6L2NAZFxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcsIGhvc3RFbmQpO1xuICAgIH1cblxuICAgIC8vIE5vdyB3ZSBoYXZlIGEgcG9ydGlvbiB3aGljaCBpcyBkZWZpbml0ZWx5IHRoZSBhdXRoLlxuICAgIC8vIFB1bGwgdGhhdCBvZmYuXG4gICAgaWYgKGF0U2lnbiAhPT0gLTEpIHtcbiAgICAgIGF1dGggPSByZXN0LnNsaWNlKDAsIGF0U2lnbik7XG4gICAgICByZXN0ID0gcmVzdC5zbGljZShhdFNpZ24gKyAxKTtcbiAgICAgIHRoaXMuYXV0aCA9IGRlY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICB9XG5cbiAgICAvLyB0aGUgaG9zdCBpcyB0aGUgcmVtYWluaW5nIHRvIHRoZSBsZWZ0IG9mIHRoZSBmaXJzdCBub24taG9zdCBjaGFyXG4gICAgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9uSG9zdENoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKG5vbkhvc3RDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuICAgIC8vIGlmIHdlIHN0aWxsIGhhdmUgbm90IGhpdCBpdCwgdGhlbiB0aGUgZW50aXJlIHRoaW5nIGlzIGEgaG9zdC5cbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpXG4gICAgICBob3N0RW5kID0gcmVzdC5sZW5ndGg7XG5cbiAgICB0aGlzLmhvc3QgPSByZXN0LnNsaWNlKDAsIGhvc3RFbmQpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKGhvc3RFbmQpO1xuXG4gICAgLy8gcHVsbCBvdXQgcG9ydC5cbiAgICB0aGlzLnBhcnNlSG9zdCgpO1xuXG4gICAgLy8gd2UndmUgaW5kaWNhdGVkIHRoYXQgdGhlcmUgaXMgYSBob3N0bmFtZSxcbiAgICAvLyBzbyBldmVuIGlmIGl0J3MgZW1wdHksIGl0IGhhcyB0byBiZSBwcmVzZW50LlxuICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuXG4gICAgLy8gaWYgaG9zdG5hbWUgYmVnaW5zIHdpdGggWyBhbmQgZW5kcyB3aXRoIF1cbiAgICAvLyBhc3N1bWUgdGhhdCBpdCdzIGFuIElQdjYgYWRkcmVzcy5cbiAgICB2YXIgaXB2Nkhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZVswXSA9PT0gJ1snICYmXG4gICAgICAgIHRoaXMuaG9zdG5hbWVbdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAxXSA9PT0gJ10nO1xuXG4gICAgLy8gdmFsaWRhdGUgYSBsaXR0bGUuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHZhciBob3N0cGFydHMgPSB0aGlzLmhvc3RuYW1lLnNwbGl0KC9cXC4vKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gaG9zdHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgcGFydCA9IGhvc3RwYXJ0c1tpXTtcbiAgICAgICAgaWYgKCFwYXJ0KSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgdmFyIG5ld3BhcnQgPSAnJztcbiAgICAgICAgICBmb3IgKHZhciBqID0gMCwgayA9IHBhcnQubGVuZ3RoOyBqIDwgazsgaisrKSB7XG4gICAgICAgICAgICBpZiAocGFydC5jaGFyQ29kZUF0KGopID4gMTI3KSB7XG4gICAgICAgICAgICAgIC8vIHdlIHJlcGxhY2Ugbm9uLUFTQ0lJIGNoYXIgd2l0aCBhIHRlbXBvcmFyeSBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRoaXMgdG8gbWFrZSBzdXJlIHNpemUgb2YgaG9zdG5hbWUgaXMgbm90XG4gICAgICAgICAgICAgIC8vIGJyb2tlbiBieSByZXBsYWNpbmcgbm9uLUFTQ0lJIGJ5IG5vdGhpbmdcbiAgICAgICAgICAgICAgbmV3cGFydCArPSAneCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9IHBhcnRbal07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHdlIHRlc3QgYWdhaW4gd2l0aCBBU0NJSSBjaGFyIG9ubHlcbiAgICAgICAgICBpZiAoIW5ld3BhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICAgIHZhciB2YWxpZFBhcnRzID0gaG9zdHBhcnRzLnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgdmFyIG5vdEhvc3QgPSBob3N0cGFydHMuc2xpY2UoaSArIDEpO1xuICAgICAgICAgICAgdmFyIGJpdCA9IHBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0U3RhcnQpO1xuICAgICAgICAgICAgaWYgKGJpdCkge1xuICAgICAgICAgICAgICB2YWxpZFBhcnRzLnB1c2goYml0WzFdKTtcbiAgICAgICAgICAgICAgbm90SG9zdC51bnNoaWZ0KGJpdFsyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm90SG9zdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmVzdCA9ICcvJyArIG5vdEhvc3Quam9pbignLicpICsgcmVzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaG9zdG5hbWUgPSB2YWxpZFBhcnRzLmpvaW4oJy4nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmhvc3RuYW1lLmxlbmd0aCA+IGhvc3RuYW1lTWF4TGVuKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGhvc3RuYW1lcyBhcmUgYWx3YXlzIGxvd2VyIGNhc2UuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICAvLyBJRE5BIFN1cHBvcnQ6IFJldHVybnMgYSBwdW55Y29kZWQgcmVwcmVzZW50YXRpb24gb2YgXCJkb21haW5cIi5cbiAgICAgIC8vIEl0IG9ubHkgY29udmVydHMgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHRoYXRcbiAgICAgIC8vIGhhdmUgbm9uLUFTQ0lJIGNoYXJhY3RlcnMsIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWZcbiAgICAgIC8vIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCBhbHJlYWR5IGlzIEFTQ0lJLW9ubHkuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gcHVueWNvZGUudG9BU0NJSSh0aGlzLmhvc3RuYW1lKTtcbiAgICB9XG5cbiAgICB2YXIgcCA9IHRoaXMucG9ydCA/ICc6JyArIHRoaXMucG9ydCA6ICcnO1xuICAgIHZhciBoID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcbiAgICB0aGlzLmhvc3QgPSBoICsgcDtcbiAgICB0aGlzLmhyZWYgKz0gdGhpcy5ob3N0O1xuXG4gICAgLy8gc3RyaXAgWyBhbmQgXSBmcm9tIHRoZSBob3N0bmFtZVxuICAgIC8vIHRoZSBob3N0IGZpZWxkIHN0aWxsIHJldGFpbnMgdGhlbSwgdGhvdWdoXG4gICAgaWYgKGlwdjZIb3N0bmFtZSkge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUuc3Vic3RyKDEsIHRoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBpZiAocmVzdFswXSAhPT0gJy8nKSB7XG4gICAgICAgIHJlc3QgPSAnLycgKyByZXN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIG5vdyByZXN0IGlzIHNldCB0byB0aGUgcG9zdC1ob3N0IHN0dWZmLlxuICAvLyBjaG9wIG9mZiBhbnkgZGVsaW0gY2hhcnMuXG4gIGlmICghdW5zYWZlUHJvdG9jb2xbbG93ZXJQcm90b10pIHtcblxuICAgIC8vIEZpcnN0LCBtYWtlIDEwMCUgc3VyZSB0aGF0IGFueSBcImF1dG9Fc2NhcGVcIiBjaGFycyBnZXRcbiAgICAvLyBlc2NhcGVkLCBldmVuIGlmIGVuY29kZVVSSUNvbXBvbmVudCBkb2Vzbid0IHRoaW5rIHRoZXlcbiAgICAvLyBuZWVkIHRvIGJlLlxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXV0b0VzY2FwZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBhZSA9IGF1dG9Fc2NhcGVbaV07XG4gICAgICBpZiAocmVzdC5pbmRleE9mKGFlKSA9PT0gLTEpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgdmFyIGVzYyA9IGVuY29kZVVSSUNvbXBvbmVudChhZSk7XG4gICAgICBpZiAoZXNjID09PSBhZSkge1xuICAgICAgICBlc2MgPSBlc2NhcGUoYWUpO1xuICAgICAgfVxuICAgICAgcmVzdCA9IHJlc3Quc3BsaXQoYWUpLmpvaW4oZXNjKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIGNob3Agb2ZmIGZyb20gdGhlIHRhaWwgZmlyc3QuXG4gIHZhciBoYXNoID0gcmVzdC5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoICE9PSAtMSkge1xuICAgIC8vIGdvdCBhIGZyYWdtZW50IHN0cmluZy5cbiAgICB0aGlzLmhhc2ggPSByZXN0LnN1YnN0cihoYXNoKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBoYXNoKTtcbiAgfVxuICB2YXIgcW0gPSByZXN0LmluZGV4T2YoJz8nKTtcbiAgaWYgKHFtICE9PSAtMSkge1xuICAgIHRoaXMuc2VhcmNoID0gcmVzdC5zdWJzdHIocW0pO1xuICAgIHRoaXMucXVlcnkgPSByZXN0LnN1YnN0cihxbSArIDEpO1xuICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5xdWVyeSk7XG4gICAgfVxuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIHFtKTtcbiAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgLy8gbm8gcXVlcnkgc3RyaW5nLCBidXQgcGFyc2VRdWVyeVN0cmluZyBzdGlsbCByZXF1ZXN0ZWRcbiAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgfVxuICBpZiAocmVzdCkgdGhpcy5wYXRobmFtZSA9IHJlc3Q7XG4gIGlmIChzbGFzaGVkUHJvdG9jb2xbbG93ZXJQcm90b10gJiZcbiAgICAgIHRoaXMuaG9zdG5hbWUgJiYgIXRoaXMucGF0aG5hbWUpIHtcbiAgICB0aGlzLnBhdGhuYW1lID0gJy8nO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICBpZiAodGhpcy5wYXRobmFtZSB8fCB0aGlzLnNlYXJjaCkge1xuICAgIHZhciBwID0gdGhpcy5wYXRobmFtZSB8fCAnJztcbiAgICB2YXIgcyA9IHRoaXMuc2VhcmNoIHx8ICcnO1xuICAgIHRoaXMucGF0aCA9IHAgKyBzO1xuICB9XG5cbiAgLy8gZmluYWxseSwgcmVjb25zdHJ1Y3QgdGhlIGhyZWYgYmFzZWQgb24gd2hhdCBoYXMgYmVlbiB2YWxpZGF0ZWQuXG4gIHRoaXMuaHJlZiA9IHRoaXMuZm9ybWF0KCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZm9ybWF0IGEgcGFyc2VkIG9iamVjdCBpbnRvIGEgdXJsIHN0cmluZ1xuZnVuY3Rpb24gdXJsRm9ybWF0KG9iaikge1xuICAvLyBlbnN1cmUgaXQncyBhbiBvYmplY3QsIGFuZCBub3QgYSBzdHJpbmcgdXJsLlxuICAvLyBJZiBpdCdzIGFuIG9iaiwgdGhpcyBpcyBhIG5vLW9wLlxuICAvLyB0aGlzIHdheSwgeW91IGNhbiBjYWxsIHVybF9mb3JtYXQoKSBvbiBzdHJpbmdzXG4gIC8vIHRvIGNsZWFuIHVwIHBvdGVudGlhbGx5IHdvbmt5IHVybHMuXG4gIGlmICh1dGlsLmlzU3RyaW5nKG9iaikpIG9iaiA9IHVybFBhcnNlKG9iaik7XG4gIGlmICghKG9iaiBpbnN0YW5jZW9mIFVybCkpIHJldHVybiBVcmwucHJvdG90eXBlLmZvcm1hdC5jYWxsKG9iaik7XG4gIHJldHVybiBvYmouZm9ybWF0KCk7XG59XG5cblVybC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBhdXRoID0gdGhpcy5hdXRoIHx8ICcnO1xuICBpZiAoYXV0aCkge1xuICAgIGF1dGggPSBlbmNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgYXV0aCA9IGF1dGgucmVwbGFjZSgvJTNBL2ksICc6Jyk7XG4gICAgYXV0aCArPSAnQCc7XG4gIH1cblxuICB2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sIHx8ICcnLFxuICAgICAgcGF0aG5hbWUgPSB0aGlzLnBhdGhuYW1lIHx8ICcnLFxuICAgICAgaGFzaCA9IHRoaXMuaGFzaCB8fCAnJyxcbiAgICAgIGhvc3QgPSBmYWxzZSxcbiAgICAgIHF1ZXJ5ID0gJyc7XG5cbiAgaWYgKHRoaXMuaG9zdCkge1xuICAgIGhvc3QgPSBhdXRoICsgdGhpcy5ob3N0O1xuICB9IGVsc2UgaWYgKHRoaXMuaG9zdG5hbWUpIHtcbiAgICBob3N0ID0gYXV0aCArICh0aGlzLmhvc3RuYW1lLmluZGV4T2YoJzonKSA9PT0gLTEgP1xuICAgICAgICB0aGlzLmhvc3RuYW1lIDpcbiAgICAgICAgJ1snICsgdGhpcy5ob3N0bmFtZSArICddJyk7XG4gICAgaWYgKHRoaXMucG9ydCkge1xuICAgICAgaG9zdCArPSAnOicgKyB0aGlzLnBvcnQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRoaXMucXVlcnkgJiZcbiAgICAgIHV0aWwuaXNPYmplY3QodGhpcy5xdWVyeSkgJiZcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMucXVlcnkpLmxlbmd0aCkge1xuICAgIHF1ZXJ5ID0gcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHRoaXMucXVlcnkpO1xuICB9XG5cbiAgdmFyIHNlYXJjaCA9IHRoaXMuc2VhcmNoIHx8IChxdWVyeSAmJiAoJz8nICsgcXVlcnkpKSB8fCAnJztcblxuICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuc3Vic3RyKC0xKSAhPT0gJzonKSBwcm90b2NvbCArPSAnOic7XG5cbiAgLy8gb25seSB0aGUgc2xhc2hlZFByb3RvY29scyBnZXQgdGhlIC8vLiAgTm90IG1haWx0bzosIHhtcHA6LCBldGMuXG4gIC8vIHVubGVzcyB0aGV5IGhhZCB0aGVtIHRvIGJlZ2luIHdpdGguXG4gIGlmICh0aGlzLnNsYXNoZXMgfHxcbiAgICAgICghcHJvdG9jb2wgfHwgc2xhc2hlZFByb3RvY29sW3Byb3RvY29sXSkgJiYgaG9zdCAhPT0gZmFsc2UpIHtcbiAgICBob3N0ID0gJy8vJyArIChob3N0IHx8ICcnKTtcbiAgICBpZiAocGF0aG5hbWUgJiYgcGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHBhdGhuYW1lID0gJy8nICsgcGF0aG5hbWU7XG4gIH0gZWxzZSBpZiAoIWhvc3QpIHtcbiAgICBob3N0ID0gJyc7XG4gIH1cblxuICBpZiAoaGFzaCAmJiBoYXNoLmNoYXJBdCgwKSAhPT0gJyMnKSBoYXNoID0gJyMnICsgaGFzaDtcbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2guY2hhckF0KDApICE9PSAnPycpIHNlYXJjaCA9ICc/JyArIHNlYXJjaDtcblxuICBwYXRobmFtZSA9IHBhdGhuYW1lLnJlcGxhY2UoL1s/I10vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG1hdGNoKTtcbiAgfSk7XG4gIHNlYXJjaCA9IHNlYXJjaC5yZXBsYWNlKCcjJywgJyUyMycpO1xuXG4gIHJldHVybiBwcm90b2NvbCArIGhvc3QgKyBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlKHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmUocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICByZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KHVybFBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSkpLmZvcm1hdCgpO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZU9iamVjdChzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIGlmICghc291cmNlKSByZXR1cm4gcmVsYXRpdmU7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlT2JqZWN0KHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlT2JqZWN0ID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgaWYgKHV0aWwuaXNTdHJpbmcocmVsYXRpdmUpKSB7XG4gICAgdmFyIHJlbCA9IG5ldyBVcmwoKTtcbiAgICByZWwucGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKTtcbiAgICByZWxhdGl2ZSA9IHJlbDtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBuZXcgVXJsKCk7XG4gIHZhciB0a2V5cyA9IE9iamVjdC5rZXlzKHRoaXMpO1xuICBmb3IgKHZhciB0ayA9IDA7IHRrIDwgdGtleXMubGVuZ3RoOyB0aysrKSB7XG4gICAgdmFyIHRrZXkgPSB0a2V5c1t0a107XG4gICAgcmVzdWx0W3RrZXldID0gdGhpc1t0a2V5XTtcbiAgfVxuXG4gIC8vIGhhc2ggaXMgYWx3YXlzIG92ZXJyaWRkZW4sIG5vIG1hdHRlciB3aGF0LlxuICAvLyBldmVuIGhyZWY9XCJcIiB3aWxsIHJlbW92ZSBpdC5cbiAgcmVzdWx0Lmhhc2ggPSByZWxhdGl2ZS5oYXNoO1xuXG4gIC8vIGlmIHRoZSByZWxhdGl2ZSB1cmwgaXMgZW1wdHksIHRoZW4gdGhlcmUncyBub3RoaW5nIGxlZnQgdG8gZG8gaGVyZS5cbiAgaWYgKHJlbGF0aXZlLmhyZWYgPT09ICcnKSB7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGhyZWZzIGxpa2UgLy9mb28vYmFyIGFsd2F5cyBjdXQgdG8gdGhlIHByb3RvY29sLlxuICBpZiAocmVsYXRpdmUuc2xhc2hlcyAmJiAhcmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAvLyB0YWtlIGV2ZXJ5dGhpbmcgZXhjZXB0IHRoZSBwcm90b2NvbCBmcm9tIHJlbGF0aXZlXG4gICAgdmFyIHJrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgIGZvciAodmFyIHJrID0gMDsgcmsgPCBya2V5cy5sZW5ndGg7IHJrKyspIHtcbiAgICAgIHZhciBya2V5ID0gcmtleXNbcmtdO1xuICAgICAgaWYgKHJrZXkgIT09ICdwcm90b2NvbCcpXG4gICAgICAgIHJlc3VsdFtya2V5XSA9IHJlbGF0aXZlW3JrZXldO1xuICAgIH1cblxuICAgIC8vdXJsUGFyc2UgYXBwZW5kcyB0cmFpbGluZyAvIHRvIHVybHMgbGlrZSBodHRwOi8vd3d3LmV4YW1wbGUuY29tXG4gICAgaWYgKHNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdICYmXG4gICAgICAgIHJlc3VsdC5ob3N0bmFtZSAmJiAhcmVzdWx0LnBhdGhuYW1lKSB7XG4gICAgICByZXN1bHQucGF0aCA9IHJlc3VsdC5wYXRobmFtZSA9ICcvJztcbiAgICB9XG5cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKHJlbGF0aXZlLnByb3RvY29sICYmIHJlbGF0aXZlLnByb3RvY29sICE9PSByZXN1bHQucHJvdG9jb2wpIHtcbiAgICAvLyBpZiBpdCdzIGEga25vd24gdXJsIHByb3RvY29sLCB0aGVuIGNoYW5naW5nXG4gICAgLy8gdGhlIHByb3RvY29sIGRvZXMgd2VpcmQgdGhpbmdzXG4gICAgLy8gZmlyc3QsIGlmIGl0J3Mgbm90IGZpbGU6LCB0aGVuIHdlIE1VU1QgaGF2ZSBhIGhvc3QsXG4gICAgLy8gYW5kIGlmIHRoZXJlIHdhcyBhIHBhdGhcbiAgICAvLyB0byBiZWdpbiB3aXRoLCB0aGVuIHdlIE1VU1QgaGF2ZSBhIHBhdGguXG4gICAgLy8gaWYgaXQgaXMgZmlsZTosIHRoZW4gdGhlIGhvc3QgaXMgZHJvcHBlZCxcbiAgICAvLyBiZWNhdXNlIHRoYXQncyBrbm93biB0byBiZSBob3N0bGVzcy5cbiAgICAvLyBhbnl0aGluZyBlbHNlIGlzIGFzc3VtZWQgdG8gYmUgYWJzb2x1dGUuXG4gICAgaWYgKCFzbGFzaGVkUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICAgIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICAgICAgICB2YXIgayA9IGtleXNbdl07XG4gICAgICAgIHJlc3VsdFtrXSA9IHJlbGF0aXZlW2tdO1xuICAgICAgfVxuICAgICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlc3VsdC5wcm90b2NvbCA9IHJlbGF0aXZlLnByb3RvY29sO1xuICAgIGlmICghcmVsYXRpdmUuaG9zdCAmJiAhaG9zdGxlc3NQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciByZWxQYXRoID0gKHJlbGF0aXZlLnBhdGhuYW1lIHx8ICcnKS5zcGxpdCgnLycpO1xuICAgICAgd2hpbGUgKHJlbFBhdGgubGVuZ3RoICYmICEocmVsYXRpdmUuaG9zdCA9IHJlbFBhdGguc2hpZnQoKSkpO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0KSByZWxhdGl2ZS5ob3N0ID0gJyc7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3RuYW1lKSByZWxhdGl2ZS5ob3N0bmFtZSA9ICcnO1xuICAgICAgaWYgKHJlbFBhdGhbMF0gIT09ICcnKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgaWYgKHJlbFBhdGgubGVuZ3RoIDwgMikgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbFBhdGguam9pbignLycpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxhdGl2ZS5wYXRobmFtZTtcbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICByZXN1bHQuaG9zdCA9IHJlbGF0aXZlLmhvc3QgfHwgJyc7XG4gICAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoO1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3Q7XG4gICAgcmVzdWx0LnBvcnQgPSByZWxhdGl2ZS5wb3J0O1xuICAgIC8vIHRvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5wYXRobmFtZSB8fCByZXN1bHQuc2VhcmNoKSB7XG4gICAgICB2YXIgcCA9IHJlc3VsdC5wYXRobmFtZSB8fCAnJztcbiAgICAgIHZhciBzID0gcmVzdWx0LnNlYXJjaCB8fCAnJztcbiAgICAgIHJlc3VsdC5wYXRoID0gcCArIHM7XG4gICAgfVxuICAgIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdmFyIGlzU291cmNlQWJzID0gKHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpLFxuICAgICAgaXNSZWxBYnMgPSAoXG4gICAgICAgICAgcmVsYXRpdmUuaG9zdCB8fFxuICAgICAgICAgIHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nXG4gICAgICApLFxuICAgICAgbXVzdEVuZEFicyA9IChpc1JlbEFicyB8fCBpc1NvdXJjZUFicyB8fFxuICAgICAgICAgICAgICAgICAgICAocmVzdWx0Lmhvc3QgJiYgcmVsYXRpdmUucGF0aG5hbWUpKSxcbiAgICAgIHJlbW92ZUFsbERvdHMgPSBtdXN0RW5kQWJzLFxuICAgICAgc3JjUGF0aCA9IHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHJlbFBhdGggPSByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcHN5Y2hvdGljID0gcmVzdWx0LnByb3RvY29sICYmICFzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXTtcblxuICAvLyBpZiB0aGUgdXJsIGlzIGEgbm9uLXNsYXNoZWQgdXJsLCB0aGVuIHJlbGF0aXZlXG4gIC8vIGxpbmtzIGxpa2UgLi4vLi4gc2hvdWxkIGJlIGFibGVcbiAgLy8gdG8gY3Jhd2wgdXAgdG8gdGhlIGhvc3RuYW1lLCBhcyB3ZWxsLiAgVGhpcyBpcyBzdHJhbmdlLlxuICAvLyByZXN1bHQucHJvdG9jb2wgaGFzIGFscmVhZHkgYmVlbiBzZXQgYnkgbm93LlxuICAvLyBMYXRlciBvbiwgcHV0IHRoZSBmaXJzdCBwYXRoIHBhcnQgaW50byB0aGUgaG9zdCBmaWVsZC5cbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9ICcnO1xuICAgIHJlc3VsdC5wb3J0ID0gbnVsbDtcbiAgICBpZiAocmVzdWx0Lmhvc3QpIHtcbiAgICAgIGlmIChzcmNQYXRoWzBdID09PSAnJykgc3JjUGF0aFswXSA9IHJlc3VsdC5ob3N0O1xuICAgICAgZWxzZSBzcmNQYXRoLnVuc2hpZnQocmVzdWx0Lmhvc3QpO1xuICAgIH1cbiAgICByZXN1bHQuaG9zdCA9ICcnO1xuICAgIGlmIChyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgPSBudWxsO1xuICAgICAgcmVsYXRpdmUucG9ydCA9IG51bGw7XG4gICAgICBpZiAocmVsYXRpdmUuaG9zdCkge1xuICAgICAgICBpZiAocmVsUGF0aFswXSA9PT0gJycpIHJlbFBhdGhbMF0gPSByZWxhdGl2ZS5ob3N0O1xuICAgICAgICBlbHNlIHJlbFBhdGgudW5zaGlmdChyZWxhdGl2ZS5ob3N0KTtcbiAgICAgIH1cbiAgICAgIHJlbGF0aXZlLmhvc3QgPSBudWxsO1xuICAgIH1cbiAgICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyAmJiAocmVsUGF0aFswXSA9PT0gJycgfHwgc3JjUGF0aFswXSA9PT0gJycpO1xuICB9XG5cbiAgaWYgKGlzUmVsQWJzKSB7XG4gICAgLy8gaXQncyBhYnNvbHV0ZS5cbiAgICByZXN1bHQuaG9zdCA9IChyZWxhdGl2ZS5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0IDogcmVzdWx0Lmhvc3Q7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gKHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3RuYW1lID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3RuYW1lIDogcmVzdWx0Lmhvc3RuYW1lO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgc3JjUGF0aCA9IHJlbFBhdGg7XG4gICAgLy8gZmFsbCB0aHJvdWdoIHRvIHRoZSBkb3QtaGFuZGxpbmcgYmVsb3cuXG4gIH0gZWxzZSBpZiAocmVsUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBpdCdzIHJlbGF0aXZlXG4gICAgLy8gdGhyb3cgYXdheSB0aGUgZXhpc3RpbmcgZmlsZSwgYW5kIHRha2UgdGhlIG5ldyBwYXRoIGluc3RlYWQuXG4gICAgaWYgKCFzcmNQYXRoKSBzcmNQYXRoID0gW107XG4gICAgc3JjUGF0aC5wb3AoKTtcbiAgICBzcmNQYXRoID0gc3JjUGF0aC5jb25jYXQocmVsUGF0aCk7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgfSBlbHNlIGlmICghdXRpbC5pc051bGxPclVuZGVmaW5lZChyZWxhdGl2ZS5zZWFyY2gpKSB7XG4gICAgLy8ganVzdCBwdWxsIG91dCB0aGUgc2VhcmNoLlxuICAgIC8vIGxpa2UgaHJlZj0nP2ZvbycuXG4gICAgLy8gUHV0IHRoaXMgYWZ0ZXIgdGhlIG90aGVyIHR3byBjYXNlcyBiZWNhdXNlIGl0IHNpbXBsaWZpZXMgdGhlIGJvb2xlYW5zXG4gICAgaWYgKHBzeWNob3RpYykge1xuICAgICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBzcmNQYXRoLnNoaWZ0KCk7XG4gICAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBubyBwYXRoIGF0IGFsbC4gIGVhc3kuXG4gICAgLy8gd2UndmUgYWxyZWFkeSBoYW5kbGVkIHRoZSBvdGhlciBzdHVmZiBhYm92ZS5cbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnNlYXJjaCkge1xuICAgICAgcmVzdWx0LnBhdGggPSAnLycgKyByZXN1bHQuc2VhcmNoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBpZiBhIHVybCBFTkRzIGluIC4gb3IgLi4sIHRoZW4gaXQgbXVzdCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgLy8gaG93ZXZlciwgaWYgaXQgZW5kcyBpbiBhbnl0aGluZyBlbHNlIG5vbi1zbGFzaHksXG4gIC8vIHRoZW4gaXQgbXVzdCBOT1QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIHZhciBsYXN0ID0gc3JjUGF0aC5zbGljZSgtMSlbMF07XG4gIHZhciBoYXNUcmFpbGluZ1NsYXNoID0gKFxuICAgICAgKHJlc3VsdC5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgfHwgc3JjUGF0aC5sZW5ndGggPiAxKSAmJlxuICAgICAgKGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nKSB8fCBsYXN0ID09PSAnJyk7XG5cbiAgLy8gc3RyaXAgc2luZ2xlIGRvdHMsIHJlc29sdmUgZG91YmxlIGRvdHMgdG8gcGFyZW50IGRpclxuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gc3JjUGF0aC5sZW5ndGg7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGFzdCA9IHNyY1BhdGhbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKCFtdXN0RW5kQWJzICYmICFyZW1vdmVBbGxEb3RzKSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBzcmNQYXRoLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgc3JjUGF0aFswXSAhPT0gJycgJiZcbiAgICAgICghc3JjUGF0aFswXSB8fCBzcmNQYXRoWzBdLmNoYXJBdCgwKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoaGFzVHJhaWxpbmdTbGFzaCAmJiAoc3JjUGF0aC5qb2luKCcvJykuc3Vic3RyKC0xKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgucHVzaCgnJyk7XG4gIH1cblxuICB2YXIgaXNBYnNvbHV0ZSA9IHNyY1BhdGhbMF0gPT09ICcnIHx8XG4gICAgICAoc3JjUGF0aFswXSAmJiBzcmNQYXRoWzBdLmNoYXJBdCgwKSA9PT0gJy8nKTtcblxuICAvLyBwdXQgdGhlIGhvc3QgYmFja1xuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBpc0Fic29sdXRlID8gJycgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjUGF0aC5sZW5ndGggPyBzcmNQYXRoLnNoaWZ0KCkgOiAnJztcbiAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgIH1cbiAgfVxuXG4gIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzIHx8IChyZXN1bHQuaG9zdCAmJiBzcmNQYXRoLmxlbmd0aCk7XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IHNyY1BhdGguam9pbignLycpO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IHJlcXVlc3QuaHR0cFxuICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgfVxuICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGggfHwgcmVzdWx0LmF1dGg7XG4gIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5VcmwucHJvdG90eXBlLnBhcnNlSG9zdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaG9zdCA9IHRoaXMuaG9zdDtcbiAgdmFyIHBvcnQgPSBwb3J0UGF0dGVybi5leGVjKGhvc3QpO1xuICBpZiAocG9ydCkge1xuICAgIHBvcnQgPSBwb3J0WzBdO1xuICAgIGlmIChwb3J0ICE9PSAnOicpIHtcbiAgICAgIHRoaXMucG9ydCA9IHBvcnQuc3Vic3RyKDEpO1xuICAgIH1cbiAgICBob3N0ID0gaG9zdC5zdWJzdHIoMCwgaG9zdC5sZW5ndGggLSBwb3J0Lmxlbmd0aCk7XG4gIH1cbiAgaWYgKGhvc3QpIHRoaXMuaG9zdG5hbWUgPSBob3N0O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzU3RyaW5nOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdzdHJpbmcnO1xuICB9LFxuICBpc09iamVjdDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsT3JVbmRlZmluZWQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT0gbnVsbDtcbiAgfVxufTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHRsb2FkZWQ6IGZhbHNlLFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcblx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiBtb2R1bGVbJ2RlZmF1bHQnXSA6XG5cdFx0KCkgPT4gbW9kdWxlO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSIsIl9fd2VicGFja19yZXF1aXJlX18ubm1kID0gKG1vZHVsZSkgPT4ge1xuXHRtb2R1bGUucGF0aHMgPSBbXTtcblx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRyZXR1cm4gbW9kdWxlO1xufTsiLCIvKiFcbiAqIEBwaXhpL3BvbHlmaWxsIC0gdjUuMy4zXG4gKiBDb21waWxlZCBUdWUsIDA0IEF1ZyAyMDIwIDE2OjIzOjA5IFVUQ1xuICpcbiAqIEBwaXhpL3BvbHlmaWxsIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUG9seWZpbGwgfSBmcm9tICdlczYtcHJvbWlzZS1wb2x5ZmlsbCc7XG5pbXBvcnQgb2JqZWN0QXNzaWduIGZyb20gJ29iamVjdC1hc3NpZ24nO1xuXG4vLyBTdXBwb3J0IGZvciBJRSA5IC0gMTEgd2hpY2ggZG9lcyBub3QgaW5jbHVkZSBQcm9taXNlc1xuaWYgKCF3aW5kb3cuUHJvbWlzZSkge1xuICAgIHdpbmRvdy5Qcm9taXNlID0gUG9seWZpbGw7XG59XG5cbi8vIFJlZmVyZW5jZXM6XG5pZiAoIU9iamVjdC5hc3NpZ24pIHtcbiAgICBPYmplY3QuYXNzaWduID0gb2JqZWN0QXNzaWduO1xufVxuXG4vLyBSZWZlcmVuY2VzOlxuLy8gaHR0cDovL3BhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tLzE1Nzk2NzFcbi8vIGh0dHA6Ly91cGRhdGVzLmh0bWw1cm9ja3MuY29tLzIwMTIvMDUvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLUFQSS1ub3ctd2l0aC1zdWItbWlsbGlzZWNvbmQtcHJlY2lzaW9uXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS90aW1oYWxsLzQwNzg2MTRcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS90cmVlL21hc3Rlci9wb2x5ZmlsbHMvcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4vLyBFeHBlY3RlZCB0byBiZSB1c2VkIHdpdGggQnJvd3NlcmZpeVxuLy8gQnJvd3NlcmlmeSBhdXRvbWF0aWNhbGx5IGRldGVjdHMgdGhlIHVzZSBvZiBgZ2xvYmFsYCBhbmQgcGFzc2VzIHRoZVxuLy8gY29ycmVjdCByZWZlcmVuY2Ugb2YgYGdsb2JhbGAsIGBzZWxmYCwgYW5kIGZpbmFsbHkgYHdpbmRvd2BcbnZhciBPTkVfRlJBTUVfVElNRSA9IDE2O1xuLy8gRGF0ZS5ub3dcbmlmICghKERhdGUubm93ICYmIERhdGUucHJvdG90eXBlLmdldFRpbWUpKSB7XG4gICAgRGF0ZS5ub3cgPSBmdW5jdGlvbiBub3coKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB9O1xufVxuLy8gcGVyZm9ybWFuY2Uubm93XG5pZiAoISh3aW5kb3cucGVyZm9ybWFuY2UgJiYgd2luZG93LnBlcmZvcm1hbmNlLm5vdykpIHtcbiAgICB2YXIgc3RhcnRUaW1lXzEgPSBEYXRlLm5vdygpO1xuICAgIGlmICghd2luZG93LnBlcmZvcm1hbmNlKSB7XG4gICAgICAgIHdpbmRvdy5wZXJmb3JtYW5jZSA9IHt9O1xuICAgIH1cbiAgICB3aW5kb3cucGVyZm9ybWFuY2Uubm93ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZV8xOyB9O1xufVxuLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG52YXIgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xudmFyIHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuZm9yICh2YXIgeCA9IDA7IHggPCB2ZW5kb3JzLmxlbmd0aCAmJiAhd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTsgKyt4KSB7XG4gICAgdmFyIHAgPSB2ZW5kb3JzW3hdO1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3dbcCArIFwiUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO1xuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9IHdpbmRvd1twICsgXCJDYW5jZWxBbmltYXRpb25GcmFtZVwiXVxuICAgICAgICB8fCB3aW5kb3dbcCArIFwiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO1xufVxuaWYgKCF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGNhbGxiYWNrICsgXCJpcyBub3QgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgZGVsYXkgPSBPTkVfRlJBTUVfVElNRSArIGxhc3RUaW1lIC0gY3VycmVudFRpbWU7XG4gICAgICAgIGlmIChkZWxheSA8IDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBsYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgICAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY2FsbGJhY2socGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgfTtcbn1cbmlmICghd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24gKGlkKSB7IHJldHVybiBjbGVhclRpbWVvdXQoaWQpOyB9O1xufVxuXG4vLyBSZWZlcmVuY2VzOlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaWduXG5pZiAoIU1hdGguc2lnbikge1xuICAgIE1hdGguc2lnbiA9IGZ1bmN0aW9uIG1hdGhTaWduKHgpIHtcbiAgICAgICAgeCA9IE51bWJlcih4KTtcbiAgICAgICAgaWYgKHggPT09IDAgfHwgaXNOYU4oeCkpIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4ID4gMCA/IDEgOiAtMTtcbiAgICB9O1xufVxuXG4vLyBSZWZlcmVuY2VzOlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTnVtYmVyL2lzSW50ZWdlclxuaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKSB7XG4gICAgTnVtYmVyLmlzSW50ZWdlciA9IGZ1bmN0aW9uIG51bWJlcklzSW50ZWdlcih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWx1ZSkgJiYgTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlO1xuICAgIH07XG59XG5cbmlmICghd2luZG93LkFycmF5QnVmZmVyKSB7XG4gICAgd2luZG93LkFycmF5QnVmZmVyID0gQXJyYXk7XG59XG5pZiAoIXdpbmRvdy5GbG9hdDMyQXJyYXkpIHtcbiAgICB3aW5kb3cuRmxvYXQzMkFycmF5ID0gQXJyYXk7XG59XG5pZiAoIXdpbmRvdy5VaW50MzJBcnJheSkge1xuICAgIHdpbmRvdy5VaW50MzJBcnJheSA9IEFycmF5O1xufVxuaWYgKCF3aW5kb3cuVWludDE2QXJyYXkpIHtcbiAgICB3aW5kb3cuVWludDE2QXJyYXkgPSBBcnJheTtcbn1cbmlmICghd2luZG93LlVpbnQ4QXJyYXkpIHtcbiAgICB3aW5kb3cuVWludDhBcnJheSA9IEFycmF5O1xufVxuaWYgKCF3aW5kb3cuSW50MzJBcnJheSkge1xuICAgIHdpbmRvdy5JbnQzMkFycmF5ID0gQXJyYXk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wb2x5ZmlsbC5lcy5qcy5tYXBcbiIsInZhciBhcHBsZUlwaG9uZSA9IC9pUGhvbmUvaTtcbnZhciBhcHBsZUlwb2QgPSAvaVBvZC9pO1xudmFyIGFwcGxlVGFibGV0ID0gL2lQYWQvaTtcbnZhciBhcHBsZVVuaXZlcnNhbCA9IC9cXGJpT1MtdW5pdmVyc2FsKD86LispTWFjXFxiL2k7XG52YXIgYW5kcm9pZFBob25lID0gL1xcYkFuZHJvaWQoPzouKylNb2JpbGVcXGIvaTtcbnZhciBhbmRyb2lkVGFibGV0ID0gL0FuZHJvaWQvaTtcbnZhciBhbWF6b25QaG9uZSA9IC8oPzpTRDQ5MzBVUnxcXGJTaWxrKD86LispTW9iaWxlXFxiKS9pO1xudmFyIGFtYXpvblRhYmxldCA9IC9TaWxrL2k7XG52YXIgd2luZG93c1Bob25lID0gL1dpbmRvd3MgUGhvbmUvaTtcbnZhciB3aW5kb3dzVGFibGV0ID0gL1xcYldpbmRvd3MoPzouKylBUk1cXGIvaTtcbnZhciBvdGhlckJsYWNrQmVycnkgPSAvQmxhY2tCZXJyeS9pO1xudmFyIG90aGVyQmxhY2tCZXJyeTEwID0gL0JCMTAvaTtcbnZhciBvdGhlck9wZXJhID0gL09wZXJhIE1pbmkvaTtcbnZhciBvdGhlckNocm9tZSA9IC9cXGIoQ3JpT1N8Q2hyb21lKSg/Oi4rKU1vYmlsZS9pO1xudmFyIG90aGVyRmlyZWZveCA9IC9Nb2JpbGUoPzouKylGaXJlZm94XFxiL2k7XG52YXIgaXNBcHBsZVRhYmxldE9uSW9zMTMgPSBmdW5jdGlvbiAobmF2aWdhdG9yKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBuYXZpZ2F0b3IucGxhdGZvcm0gPT09ICdNYWNJbnRlbCcgJiZcbiAgICAgICAgdHlwZW9mIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMSAmJlxuICAgICAgICB0eXBlb2YgTVNTdHJlYW0gPT09ICd1bmRlZmluZWQnKTtcbn07XG5mdW5jdGlvbiBjcmVhdGVNYXRjaCh1c2VyQWdlbnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlZ2V4KSB7IHJldHVybiByZWdleC50ZXN0KHVzZXJBZ2VudCk7IH07XG59XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc01vYmlsZShwYXJhbSkge1xuICAgIHZhciBuYXYgPSB7XG4gICAgICAgIHVzZXJBZ2VudDogJycsXG4gICAgICAgIHBsYXRmb3JtOiAnJyxcbiAgICAgICAgbWF4VG91Y2hQb2ludHM6IDBcbiAgICB9O1xuICAgIGlmICghcGFyYW0gJiYgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbmF2ID0ge1xuICAgICAgICAgICAgdXNlckFnZW50OiBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgcGxhdGZvcm06IG5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICAgIG1heFRvdWNoUG9pbnRzOiBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgfHwgMFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcGFyYW0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG5hdi51c2VyQWdlbnQgPSBwYXJhbTtcbiAgICB9XG4gICAgZWxzZSBpZiAocGFyYW0gJiYgcGFyYW0udXNlckFnZW50KSB7XG4gICAgICAgIG5hdiA9IHtcbiAgICAgICAgICAgIHVzZXJBZ2VudDogcGFyYW0udXNlckFnZW50LFxuICAgICAgICAgICAgcGxhdGZvcm06IHBhcmFtLnBsYXRmb3JtLFxuICAgICAgICAgICAgbWF4VG91Y2hQb2ludHM6IHBhcmFtLm1heFRvdWNoUG9pbnRzIHx8IDBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHVzZXJBZ2VudCA9IG5hdi51c2VyQWdlbnQ7XG4gICAgdmFyIHRtcCA9IHVzZXJBZ2VudC5zcGxpdCgnW0ZCQU4nKTtcbiAgICBpZiAodHlwZW9mIHRtcFsxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdXNlckFnZW50ID0gdG1wWzBdO1xuICAgIH1cbiAgICB0bXAgPSB1c2VyQWdlbnQuc3BsaXQoJ1R3aXR0ZXInKTtcbiAgICBpZiAodHlwZW9mIHRtcFsxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdXNlckFnZW50ID0gdG1wWzBdO1xuICAgIH1cbiAgICB2YXIgbWF0Y2ggPSBjcmVhdGVNYXRjaCh1c2VyQWdlbnQpO1xuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgIGFwcGxlOiB7XG4gICAgICAgICAgICBwaG9uZTogbWF0Y2goYXBwbGVJcGhvbmUpICYmICFtYXRjaCh3aW5kb3dzUGhvbmUpLFxuICAgICAgICAgICAgaXBvZDogbWF0Y2goYXBwbGVJcG9kKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFwcGxlSXBob25lKSAmJlxuICAgICAgICAgICAgICAgIChtYXRjaChhcHBsZVRhYmxldCkgfHwgaXNBcHBsZVRhYmxldE9uSW9zMTMobmF2KSkgJiZcbiAgICAgICAgICAgICAgICAhbWF0Y2god2luZG93c1Bob25lKSxcbiAgICAgICAgICAgIHVuaXZlcnNhbDogbWF0Y2goYXBwbGVVbml2ZXJzYWwpLFxuICAgICAgICAgICAgZGV2aWNlOiAobWF0Y2goYXBwbGVJcGhvbmUpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2goYXBwbGVJcG9kKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKGFwcGxlVGFibGV0KSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKGFwcGxlVW5pdmVyc2FsKSB8fFxuICAgICAgICAgICAgICAgIGlzQXBwbGVUYWJsZXRPbklvczEzKG5hdikpICYmXG4gICAgICAgICAgICAgICAgIW1hdGNoKHdpbmRvd3NQaG9uZSlcbiAgICAgICAgfSxcbiAgICAgICAgYW1hem9uOiB7XG4gICAgICAgICAgICBwaG9uZTogbWF0Y2goYW1hem9uUGhvbmUpLFxuICAgICAgICAgICAgdGFibGV0OiAhbWF0Y2goYW1hem9uUGhvbmUpICYmIG1hdGNoKGFtYXpvblRhYmxldCksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKGFtYXpvblBob25lKSB8fCBtYXRjaChhbWF6b25UYWJsZXQpXG4gICAgICAgIH0sXG4gICAgICAgIGFuZHJvaWQ6IHtcbiAgICAgICAgICAgIHBob25lOiAoIW1hdGNoKHdpbmRvd3NQaG9uZSkgJiYgbWF0Y2goYW1hem9uUGhvbmUpKSB8fFxuICAgICAgICAgICAgICAgICghbWF0Y2god2luZG93c1Bob25lKSAmJiBtYXRjaChhbmRyb2lkUGhvbmUpKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKHdpbmRvd3NQaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAhbWF0Y2goYW1hem9uUGhvbmUpICYmXG4gICAgICAgICAgICAgICAgIW1hdGNoKGFuZHJvaWRQaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAobWF0Y2goYW1hem9uVGFibGV0KSB8fCBtYXRjaChhbmRyb2lkVGFibGV0KSksXG4gICAgICAgICAgICBkZXZpY2U6ICghbWF0Y2god2luZG93c1Bob25lKSAmJlxuICAgICAgICAgICAgICAgIChtYXRjaChhbWF6b25QaG9uZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2goYW1hem9uVGFibGV0KSB8fFxuICAgICAgICAgICAgICAgICAgICBtYXRjaChhbmRyb2lkUGhvbmUpIHx8XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoKGFuZHJvaWRUYWJsZXQpKSkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaCgvXFxib2todHRwXFxiL2kpXG4gICAgICAgIH0sXG4gICAgICAgIHdpbmRvd3M6IHtcbiAgICAgICAgICAgIHBob25lOiBtYXRjaCh3aW5kb3dzUGhvbmUpLFxuICAgICAgICAgICAgdGFibGV0OiBtYXRjaCh3aW5kb3dzVGFibGV0KSxcbiAgICAgICAgICAgIGRldmljZTogbWF0Y2god2luZG93c1Bob25lKSB8fCBtYXRjaCh3aW5kb3dzVGFibGV0KVxuICAgICAgICB9LFxuICAgICAgICBvdGhlcjoge1xuICAgICAgICAgICAgYmxhY2tiZXJyeTogbWF0Y2gob3RoZXJCbGFja0JlcnJ5KSxcbiAgICAgICAgICAgIGJsYWNrYmVycnkxMDogbWF0Y2gob3RoZXJCbGFja0JlcnJ5MTApLFxuICAgICAgICAgICAgb3BlcmE6IG1hdGNoKG90aGVyT3BlcmEpLFxuICAgICAgICAgICAgZmlyZWZveDogbWF0Y2gob3RoZXJGaXJlZm94KSxcbiAgICAgICAgICAgIGNocm9tZTogbWF0Y2gob3RoZXJDaHJvbWUpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaChvdGhlckJsYWNrQmVycnkpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2gob3RoZXJCbGFja0JlcnJ5MTApIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2gob3RoZXJPcGVyYSkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChvdGhlckZpcmVmb3gpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2gob3RoZXJDaHJvbWUpXG4gICAgICAgIH0sXG4gICAgICAgIGFueTogZmFsc2UsXG4gICAgICAgIHBob25lOiBmYWxzZSxcbiAgICAgICAgdGFibGV0OiBmYWxzZVxuICAgIH07XG4gICAgcmVzdWx0LmFueSA9XG4gICAgICAgIHJlc3VsdC5hcHBsZS5kZXZpY2UgfHxcbiAgICAgICAgICAgIHJlc3VsdC5hbmRyb2lkLmRldmljZSB8fFxuICAgICAgICAgICAgcmVzdWx0LndpbmRvd3MuZGV2aWNlIHx8XG4gICAgICAgICAgICByZXN1bHQub3RoZXIuZGV2aWNlO1xuICAgIHJlc3VsdC5waG9uZSA9XG4gICAgICAgIHJlc3VsdC5hcHBsZS5waG9uZSB8fCByZXN1bHQuYW5kcm9pZC5waG9uZSB8fCByZXN1bHQud2luZG93cy5waG9uZTtcbiAgICByZXN1bHQudGFibGV0ID1cbiAgICAgICAgcmVzdWx0LmFwcGxlLnRhYmxldCB8fCByZXN1bHQuYW5kcm9pZC50YWJsZXQgfHwgcmVzdWx0LndpbmRvd3MudGFibGV0O1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc01vYmlsZS5qcy5tYXAiLCIvKiFcbiAqIEBwaXhpL2NvbnN0YW50cyAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9jb25zdGFudHMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4vKipcbiAqIERpZmZlcmVudCB0eXBlcyBvZiBlbnZpcm9ubWVudHMgZm9yIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBFTlZcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0xfTEVHQUNZIC0gVXNlZCBmb3Igb2xkZXIgdjEgV2ViR0wgZGV2aWNlcy4gUGl4aUpTIHdpbGwgYWltIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5XG4gKiAgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy4gSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyBwcmVmZXIgdGhpcyBlbnZpcm9ubWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFZlcnNpb24gMSBvZiBXZWJHTFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMMiAtIFZlcnNpb24gMiBvZiBXZWJHTFxuICovXG52YXIgRU5WO1xuKGZ1bmN0aW9uIChFTlYpIHtcbiAgICBFTlZbRU5WW1wiV0VCR0xfTEVHQUNZXCJdID0gMF0gPSBcIldFQkdMX0xFR0FDWVwiO1xuICAgIEVOVltFTlZbXCJXRUJHTFwiXSA9IDFdID0gXCJXRUJHTFwiO1xuICAgIEVOVltFTlZbXCJXRUJHTDJcIl0gPSAyXSA9IFwiV0VCR0wyXCI7XG59KShFTlYgfHwgKEVOViA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50IHRvIGlkZW50aWZ5IHRoZSBSZW5kZXJlciBUeXBlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBSRU5ERVJFUl9UWVBFXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOS05PV04gLSBVbmtub3duIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gV2ViR0wgcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0FOVkFTIC0gQ2FudmFzIHJlbmRlciB0eXBlLlxuICovXG52YXIgUkVOREVSRVJfVFlQRTtcbihmdW5jdGlvbiAoUkVOREVSRVJfVFlQRSkge1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIlVOS05PV05cIl0gPSAwXSA9IFwiVU5LTk9XTlwiO1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIldFQkdMXCJdID0gMV0gPSBcIldFQkdMXCI7XG4gICAgUkVOREVSRVJfVFlQRVtSRU5ERVJFUl9UWVBFW1wiQ0FOVkFTXCJdID0gMl0gPSBcIkNBTlZBU1wiO1xufSkoUkVOREVSRVJfVFlQRSB8fCAoUkVOREVSRVJfVFlQRSA9IHt9KSk7XG4vKipcbiAqIEJpdHdpc2UgT1Igb2YgbWFza3MgdGhhdCBpbmRpY2F0ZSB0aGUgYnVmZmVycyB0byBiZSBjbGVhcmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCVUZGRVJfQklUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUiAtIEluZGljYXRlcyB0aGUgYnVmZmVycyBjdXJyZW50bHkgZW5hYmxlZCBmb3IgY29sb3Igd3JpdGluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSCAtIEluZGljYXRlcyB0aGUgZGVwdGggYnVmZmVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBJbmRpY2F0ZXMgdGhlIHN0ZW5jaWwgYnVmZmVyLlxuICovXG52YXIgQlVGRkVSX0JJVFM7XG4oZnVuY3Rpb24gKEJVRkZFUl9CSVRTKSB7XG4gICAgQlVGRkVSX0JJVFNbQlVGRkVSX0JJVFNbXCJDT0xPUlwiXSA9IDE2Mzg0XSA9IFwiQ09MT1JcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIkRFUFRIXCJdID0gMjU2XSA9IFwiREVQVEhcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIlNURU5DSUxcIl0gPSAxMDI0XSA9IFwiU1RFTkNJTFwiO1xufSkoQlVGRkVSX0JJVFMgfHwgKEJVRkZFUl9CSVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBibGVuZCBtb2RlcyBzdXBwb3J0ZWQgYnkgUElYSS5cbiAqXG4gKiBJTVBPUlRBTlQgLSBUaGUgV2ViR0wgcmVuZGVyZXIgb25seSBzdXBwb3J0cyB0aGUgTk9STUFMLCBBREQsIE1VTFRJUExZIGFuZCBTQ1JFRU4gYmxlbmQgbW9kZXMuXG4gKiBBbnl0aGluZyBlbHNlIHdpbGwgc2lsZW50bHkgYWN0IGxpa2UgTk9STUFMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCTEVORF9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNVUxUSVBMWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9WRVJMQVlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEQVJLRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSUdIVEVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfRE9ER0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9CVVJOXG4gKiBAcHJvcGVydHkge251bWJlcn0gSEFSRF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNPRlRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBESUZGRVJFTkNFXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVhDTFVTSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gSFVFXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0FUVVJBVElPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SXG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5PU0lUWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTF9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERfTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NSRUVOX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfSU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfT1VUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX0FUT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfT1ZFUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9JTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9PVVRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfQVRPUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNVQlRSQUNUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX09WRVJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFUkFTRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFhPUlxuICovXG52YXIgQkxFTkRfTU9ERVM7XG4oZnVuY3Rpb24gKEJMRU5EX01PREVTKSB7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT1JNQUxcIl0gPSAwXSA9IFwiTk9STUFMXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJBRERcIl0gPSAxXSA9IFwiQUREXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJNVUxUSVBMWVwiXSA9IDJdID0gXCJNVUxUSVBMWVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU0NSRUVOXCJdID0gM10gPSBcIlNDUkVFTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiT1ZFUkxBWVwiXSA9IDRdID0gXCJPVkVSTEFZXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEQVJLRU5cIl0gPSA1XSA9IFwiREFSS0VOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJMSUdIVEVOXCJdID0gNl0gPSBcIkxJR0hURU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkNPTE9SX0RPREdFXCJdID0gN10gPSBcIkNPTE9SX0RPREdFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUl9CVVJOXCJdID0gOF0gPSBcIkNPTE9SX0JVUk5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhBUkRfTElHSFRcIl0gPSA5XSA9IFwiSEFSRF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU09GVF9MSUdIVFwiXSA9IDEwXSA9IFwiU09GVF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRElGRkVSRU5DRVwiXSA9IDExXSA9IFwiRElGRkVSRU5DRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRVhDTFVTSU9OXCJdID0gMTJdID0gXCJFWENMVVNJT05cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhVRVwiXSA9IDEzXSA9IFwiSFVFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTQVRVUkFUSU9OXCJdID0gMTRdID0gXCJTQVRVUkFUSU9OXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUlwiXSA9IDE1XSA9IFwiQ09MT1JcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkxVTUlOT1NJVFlcIl0gPSAxNl0gPSBcIkxVTUlOT1NJVFlcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PUk1BTF9OUE1cIl0gPSAxN10gPSBcIk5PUk1BTF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkFERF9OUE1cIl0gPSAxOF0gPSBcIkFERF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNDUkVFTl9OUE1cIl0gPSAxOV0gPSBcIlNDUkVFTl9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PTkVcIl0gPSAyMF0gPSBcIk5PTkVcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19PVkVSXCJdID0gMF0gPSBcIlNSQ19PVkVSXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfSU5cIl0gPSAyMV0gPSBcIlNSQ19JTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX09VVFwiXSA9IDIyXSA9IFwiU1JDX09VVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX0FUT1BcIl0gPSAyM10gPSBcIlNSQ19BVE9QXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1ZFUlwiXSA9IDI0XSA9IFwiRFNUX09WRVJcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9JTlwiXSA9IDI1XSA9IFwiRFNUX0lOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1VUXCJdID0gMjZdID0gXCJEU1RfT1VUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfQVRPUFwiXSA9IDI3XSA9IFwiRFNUX0FUT1BcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkVSQVNFXCJdID0gMjZdID0gXCJFUkFTRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1VCVFJBQ1RcIl0gPSAyOF0gPSBcIlNVQlRSQUNUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJYT1JcIl0gPSAyOV0gPSBcIlhPUlwiO1xufSkoQkxFTkRfTU9ERVMgfHwgKEJMRU5EX01PREVTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyB3ZWJnbCBkcmF3IG1vZGVzLiBUaGVzZSBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IHdoaWNoIEdMIGRyYXdNb2RlIHRvIHVzZVxuICogdW5kZXIgY2VydGFpbiBzaXR1YXRpb25zIGFuZCByZW5kZXJlcnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIERSQVdfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9JTlRTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX0xPT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9GQU5cbiAqL1xudmFyIERSQVdfTU9ERVM7XG4oZnVuY3Rpb24gKERSQVdfTU9ERVMpIHtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJQT0lOVFNcIl0gPSAwXSA9IFwiUE9JTlRTXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORVNcIl0gPSAxXSA9IFwiTElORVNcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJMSU5FX0xPT1BcIl0gPSAyXSA9IFwiTElORV9MT09QXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORV9TVFJJUFwiXSA9IDNdID0gXCJMSU5FX1NUUklQXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVTXCJdID0gNF0gPSBcIlRSSUFOR0xFU1wiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlRSSUFOR0xFX1NUUklQXCJdID0gNV0gPSBcIlRSSUFOR0xFX1NUUklQXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVfRkFOXCJdID0gNl0gPSBcIlRSSUFOR0xFX0ZBTlwiO1xufSkoRFJBV19NT0RFUyB8fCAoRFJBV19NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgdGV4dHVyZS9yZXNvdXJjZXMgZm9ybWF0cy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRk9STUFUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0JBPTY0MDhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0I9NjQwN1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEFMUEhBPTY0MDZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTkFOQ0U9NjQwOVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRV9BTFBIQT02NDEwXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEhfQ09NUE9ORU5UPTY0MDJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9TVEVOQ0lMPTM0MDQxXG4gKi9cbnZhciBGT1JNQVRTO1xuKGZ1bmN0aW9uIChGT1JNQVRTKSB7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdCQVwiXSA9IDY0MDhdID0gXCJSR0JBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdCXCJdID0gNjQwN10gPSBcIlJHQlwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkFMUEhBXCJdID0gNjQwNl0gPSBcIkFMUEhBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiTFVNSU5BTkNFXCJdID0gNjQwOV0gPSBcIkxVTUlOQU5DRVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkxVTUlOQU5DRV9BTFBIQVwiXSA9IDY0MTBdID0gXCJMVU1JTkFOQ0VfQUxQSEFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJERVBUSF9DT01QT05FTlRcIl0gPSA2NDAyXSA9IFwiREVQVEhfQ09NUE9ORU5UXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiREVQVEhfU1RFTkNJTFwiXSA9IDM0MDQxXSA9IFwiREVQVEhfU1RFTkNJTFwiO1xufSkoRk9STUFUUyB8fCAoRk9STUFUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgdGFyZ2V0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUQVJHRVRTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfMkQ9MzU1M1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVA9MzQwNjdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFXzJEX0FSUkFZPTM1ODY2XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YPTM0MDY5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YPTM0MDcwXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZPTM0MDcxXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZPTM0MDcyXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aPTM0MDczXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aPTM0MDc0XG4gKi9cbnZhciBUQVJHRVRTO1xuKGZ1bmN0aW9uIChUQVJHRVRTKSB7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV8yRFwiXSA9IDM1NTNdID0gXCJURVhUVVJFXzJEXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUFwiXSA9IDM0MDY3XSA9IFwiVEVYVFVSRV9DVUJFX01BUFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfMkRfQVJSQVlcIl0gPSAzNTg2Nl0gPSBcIlRFWFRVUkVfMkRfQVJSQVlcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1hcIl0gPSAzNDA2OV0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWFwiXSA9IDM0MDcwXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZXCJdID0gMzQwNzFdID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1lcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1lcIl0gPSAzNDA3Ml0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWlwiXSA9IDM0MDczXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aXCJdID0gMzQwNzRdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1pcIjtcbn0pKFRBUkdFVFMgfHwgKFRBUkdFVFMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIEdMIGRhdGEgZm9ybWF0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUWVBFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9CWVRFPTUxMjFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVD01MTIzXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV82XzU9MzM2MzVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF80XzRfNF80PTMyODE5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV81XzVfMT0zMjgyMFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEZMT0FUPTUxMjZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIQUxGX0ZMT0FUPTM2MTkzXG4gKi9cbnZhciBUWVBFUztcbihmdW5jdGlvbiAoVFlQRVMpIHtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX0JZVEVcIl0gPSA1MTIxXSA9IFwiVU5TSUdORURfQllURVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRcIl0gPSA1MTIzXSA9IFwiVU5TSUdORURfU0hPUlRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXzVfNl81XCJdID0gMzM2MzVdID0gXCJVTlNJR05FRF9TSE9SVF81XzZfNVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiXSA9IDMyODE5XSA9IFwiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiXSA9IDMyODIwXSA9IFwiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiRkxPQVRcIl0gPSA1MTI2XSA9IFwiRkxPQVRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIkhBTEZfRkxPQVRcIl0gPSAzNjE5M10gPSBcIkhBTEZfRkxPQVRcIjtcbn0pKFRZUEVTIHx8IChUWVBFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSBzY2FsZSBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERX0gc2NhbGUgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHNjYWxpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgTElORUFSIG9yIE5FQVJFU1QsIGRlcGVuZGluZyB1cG9uIHN1aXRhYmlsaXR5LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBTQ0FMRV9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVIgU21vb3RoIHNjYWxpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBORUFSRVNUIFBpeGVsYXRpbmcgc2NhbGluZ1xuICovXG52YXIgU0NBTEVfTU9ERVM7XG4oZnVuY3Rpb24gKFNDQUxFX01PREVTKSB7XG4gICAgU0NBTEVfTU9ERVNbU0NBTEVfTU9ERVNbXCJORUFSRVNUXCJdID0gMF0gPSBcIk5FQVJFU1RcIjtcbiAgICBTQ0FMRV9NT0RFU1tTQ0FMRV9NT0RFU1tcIkxJTkVBUlwiXSA9IDFdID0gXCJMSU5FQVJcIjtcbn0pKFNDQUxFX01PREVTIHx8IChTQ0FMRV9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5XUkFQX01PREV9IHdyYXAgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHdyYXBwaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIENMQU1QIG9yIFJFUEVBVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKiBJZiB0aGUgdGV4dHVyZSBpcyBub24gcG93ZXIgb2YgdHdvIHRoZW4gY2xhbXAgd2lsbCBiZSB1c2VkIHJlZ2FyZGxlc3MgYXMgV2ViR0wgY2FuXG4gKiBvbmx5IHVzZSBSRVBFQVQgaWYgdGhlIHRleHR1cmUgaXMgcG8yLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIFdSQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMQU1QIC0gVGhlIHRleHR1cmVzIHV2cyBhcmUgY2xhbXBlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNSVJST1JFRF9SRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0IHdpdGggbWlycm9yaW5nXG4gKi9cbnZhciBXUkFQX01PREVTO1xuKGZ1bmN0aW9uIChXUkFQX01PREVTKSB7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiQ0xBTVBcIl0gPSAzMzA3MV0gPSBcIkNMQU1QXCI7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiUkVQRUFUXCJdID0gMTA0OTddID0gXCJSRVBFQVRcIjtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJNSVJST1JFRF9SRVBFQVRcIl0gPSAzMzY0OF0gPSBcIk1JUlJPUkVEX1JFUEVBVFwiO1xufSkoV1JBUF9NT0RFUyB8fCAoV1JBUF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIE1pcG1hcCBmaWx0ZXJpbmcgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU30gYWZmZWN0cyBkZWZhdWx0IHRleHR1cmUgZmlsdGVyaW5nLlxuICogTWlwbWFwcyBhcmUgZ2VuZXJhdGVkIGZvciBhIGJhc2VUZXh0dXJlIGlmIGl0cyBgbWlwbWFwYCBmaWVsZCBpcyBgT05gLFxuICogb3IgaXRzIGBQT1cyYCBhbmQgdGV4dHVyZSBkaW1lbnNpb25zIGFyZSBwb3dlcnMgb2YgMi5cbiAqIER1ZSB0byBwbGF0Zm9ybSByZXN0cmljdGlvbiwgYE9OYCBvcHRpb24gd2lsbCB3b3JrIGxpa2UgYFBPVzJgIGZvciB3ZWJnbC0xLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIE1JUE1BUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gT0ZGIC0gTm8gbWlwbWFwc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPVzIgLSBHZW5lcmF0ZSBtaXBtYXBzIGlmIHRleHR1cmUgZGltZW5zaW9ucyBhcmUgcG93MlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9OIC0gQWx3YXlzIGdlbmVyYXRlIG1pcG1hcHNcbiAqL1xudmFyIE1JUE1BUF9NT0RFUztcbihmdW5jdGlvbiAoTUlQTUFQX01PREVTKSB7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9GRlwiXSA9IDBdID0gXCJPRkZcIjtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiUE9XMlwiXSA9IDFdID0gXCJQT1cyXCI7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9OXCJdID0gMl0gPSBcIk9OXCI7XG59KShNSVBNQVBfTU9ERVMgfHwgKE1JUE1BUF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIEhvdyB0byB0cmVhdCB0ZXh0dXJlcyB3aXRoIHByZW11bHRpcGxpZWQgYWxwaGFcbiAqXG4gKiBAbmFtZSBBTFBIQV9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9fUFJFTVVMVElQTElFRF9BTFBIQSAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgbGVhdmUgaXQgbGlrZSB0aGF0LlxuICogIE9wdGlvbiBmb3IgY29tcHJlc3NlZCBhbmQgZGF0YSB0ZXh0dXJlcyB0aGF0IGFyZSBjcmVhdGVkIGZyb20gdHlwZWQgYXJyYXlzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBSRU1VTFRJUExZX09OX1VQTE9BRCAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgcHJlbXVsdGlwbHkgb24gdXBsb2FkLlxuICogIERlZmF1bHQgb3B0aW9uLCB1c2VkIGZvciBhbGwgbG9hZGVkIGltYWdlcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQUkVNVUxUSVBMSUVEX0FMUEhBIC0gU291cmNlIGlzIGFscmVhZHkgcHJlbXVsdGlwbGllZFxuICogIEV4YW1wbGU6IHNwaW5lIGF0bGFzZXMgd2l0aCBgX3BtYWAgc3VmZml4LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5QTSAtIEFsaWFzIGZvciBOT19QUkVNVUxUSVBMSUVEX0FMUEhBLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOUEFDSyAtIERlZmF1bHQgb3B0aW9uLCBhbGlhcyBmb3IgUFJFTVVMVElQTFlfT05fVVBMT0FELlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBNQSAtIEFsaWFzIGZvciBQUkVNVUxUSVBMSUVEX0FMUEhBLlxuICovXG52YXIgQUxQSEFfTU9ERVM7XG4oZnVuY3Rpb24gKEFMUEhBX01PREVTKSB7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJOUE1cIl0gPSAwXSA9IFwiTlBNXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJVTlBBQ0tcIl0gPSAxXSA9IFwiVU5QQUNLXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJQTUFcIl0gPSAyXSA9IFwiUE1BXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJOT19QUkVNVUxUSVBMSUVEX0FMUEhBXCJdID0gMF0gPSBcIk5PX1BSRU1VTFRJUExJRURfQUxQSEFcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBSRU1VTFRJUExZX09OX1VQTE9BRFwiXSA9IDFdID0gXCJQUkVNVUxUSVBMWV9PTl9VUExPQURcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBSRU1VTFRJUExZX0FMUEhBXCJdID0gMl0gPSBcIlBSRU1VTFRJUExZX0FMUEhBXCI7XG59KShBTFBIQV9NT0RFUyB8fCAoQUxQSEFfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBIb3cgdG8gY2xlYXIgcmVuZGVyVGV4dHVyZXMgaW4gZmlsdGVyXG4gKlxuICogQG5hbWUgQ0xFQVJfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEJMRU5EIC0gUHJlc2VydmUgdGhlIGluZm9ybWF0aW9uIGluIHRoZSB0ZXh0dXJlLCBibGVuZCBhYm92ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMRUFSIC0gTXVzdCB1c2UgYGdsLmNsZWFyYCBvcGVyYXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBCTElUIC0gQ2xlYXIgb3IgYmxpdCBpdCwgZGVwZW5kcyBvbiBkZXZpY2UgYW5kIGxldmVsIG9mIHBhcmFub2lhXG4gKiBAcHJvcGVydHkge251bWJlcn0gTk8gLSBBbGlhcyBmb3IgQkxFTkQsIHNhbWUgYXMgYGZhbHNlYCBpbiBlYXJsaWVyIHZlcnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gWUVTIC0gQWxpYXMgZm9yIENMRUFSLCBzYW1lIGFzIGB0cnVlYCBpbiBlYXJsaWVyIHZlcnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gQVVUTyAtIEFsaWFzIGZvciBCTElUXG4gKi9cbnZhciBDTEVBUl9NT0RFUztcbihmdW5jdGlvbiAoQ0xFQVJfTU9ERVMpIHtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIk5PXCJdID0gMF0gPSBcIk5PXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJZRVNcIl0gPSAxXSA9IFwiWUVTXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJBVVRPXCJdID0gMl0gPSBcIkFVVE9cIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkJMRU5EXCJdID0gMF0gPSBcIkJMRU5EXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJDTEVBUlwiXSA9IDFdID0gXCJDTEVBUlwiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQkxJVFwiXSA9IDJdID0gXCJCTElUXCI7XG59KShDTEVBUl9NT0RFUyB8fCAoQ0xFQVJfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgZ2MgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLkdDX01PREV9IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlIGZvciBQaXhpSlMgdGV4dHVyZXMgaXMgQVVUT1xuICogSWYgc2V0IHRvIEdDX01PREUsIHRoZSByZW5kZXJlciB3aWxsIG9jY2FzaW9uYWxseSBjaGVjayB0ZXh0dXJlcyB1c2FnZS4gSWYgdGhleSBhcmUgbm90XG4gKiB1c2VkIGZvciBhIHNwZWNpZmllZCBwZXJpb2Qgb2YgdGltZSB0aGV5IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFUuIFRoZXkgd2lsbCBvZiBjb3Vyc2VcbiAqIGJlIHVwbG9hZGVkIGFnYWluIHdoZW4gdGhleSBhcmUgcmVxdWlyZWQuIFRoaXMgaXMgYSBzaWxlbnQgYmVoaW5kIHRoZSBzY2VuZXMgcHJvY2VzcyB0aGF0XG4gKiBzaG91bGQgZW5zdXJlIHRoYXQgdGhlIEdQVSBkb2VzIG5vdCAgZ2V0IGZpbGxlZCB1cC5cbiAqXG4gKiBIYW5keSBmb3IgbW9iaWxlIGRldmljZXMhXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAbmFtZSBHQ19NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcHJvcGVydHkge251bWJlcn0gQVVUTyAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIGhhcHBlbiBwZXJpb2RpY2FsbHkgYXV0b21hdGljYWxseVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1BTlVBTCAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIG5lZWQgdG8gYmUgY2FsbGVkIG1hbnVhbGx5XG4gKi9cbnZhciBHQ19NT0RFUztcbihmdW5jdGlvbiAoR0NfTU9ERVMpIHtcbiAgICBHQ19NT0RFU1tHQ19NT0RFU1tcIkFVVE9cIl0gPSAwXSA9IFwiQVVUT1wiO1xuICAgIEdDX01PREVTW0dDX01PREVTW1wiTUFOVUFMXCJdID0gMV0gPSBcIk1BTlVBTFwiO1xufSkoR0NfTU9ERVMgfHwgKEdDX01PREVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gc2hhZGVycy5cbiAqXG4gKiBAbmFtZSBQUkVDSVNJT05cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAY29uc3RhbnRcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gTE9XPSdsb3dwJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IE1FRElVTT0nbWVkaXVtcCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBISUdIPSdoaWdocCdcbiAqL1xudmFyIFBSRUNJU0lPTjtcbihmdW5jdGlvbiAoUFJFQ0lTSU9OKSB7XG4gICAgUFJFQ0lTSU9OW1wiTE9XXCJdID0gXCJsb3dwXCI7XG4gICAgUFJFQ0lTSU9OW1wiTUVESVVNXCJdID0gXCJtZWRpdW1wXCI7XG4gICAgUFJFQ0lTSU9OW1wiSElHSFwiXSA9IFwiaGlnaHBcIjtcbn0pKFBSRUNJU0lPTiB8fCAoUFJFQ0lTSU9OID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIGZvciBtYXNrIGltcGxlbWVudGF0aW9ucy5cbiAqIFdlIHVzZSBgdHlwZWAgc3VmZml4IGJlY2F1c2UgaXQgbGVhZHMgdG8gdmVyeSBkaWZmZXJlbnQgYmVoYXZpb3Vyc1xuICpcbiAqIEBuYW1lIE1BU0tfVFlQRVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkUgLSBNYXNrIGlzIGlnbm9yZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ0lTU09SIC0gU2Npc3NvciBtYXNrLCByZWN0YW5nbGUgb24gc2NyZWVuLCBjaGVhcFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBTdGVuY2lsIG1hc2ssIDEtYml0LCBtZWRpdW0sIHdvcmtzIG9ubHkgaWYgcmVuZGVyZXIgc3VwcG9ydHMgc3RlbmNpbFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNQUklURSAtIE1hc2sgdGhhdCB1c2VzIFNwcml0ZU1hc2tGaWx0ZXIsIHVzZXMgdGVtcG9yYXJ5IFJlbmRlclRleHR1cmVcbiAqL1xudmFyIE1BU0tfVFlQRVM7XG4oZnVuY3Rpb24gKE1BU0tfVFlQRVMpIHtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTQ0lTU09SXCJdID0gMV0gPSBcIlNDSVNTT1JcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTVEVOQ0lMXCJdID0gMl0gPSBcIlNURU5DSUxcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTUFJJVEVcIl0gPSAzXSA9IFwiU1BSSVRFXCI7XG59KShNQVNLX1RZUEVTIHx8IChNQVNLX1RZUEVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIGZvciBtdWx0aS1zYW1wbGluZyBhbnRpYWxpYXNpbmcuXG4gKlxuICogQHNlZSBQSVhJLkZyYW1lYnVmZmVyI211bHRpc2FtcGxlXG4gKlxuICogQG5hbWUgTVNBQV9RVUFMSVRZXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FIC0gTm8gbXVsdGlzYW1wbGluZyBmb3IgdGhpcyByZW5kZXJUZXh0dXJlXG4gKiBAcHJvcGVydHkge251bWJlcn0gTE9XIC0gVHJ5IDIgc2FtcGxlc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE1FRElVTSAtIFRyeSA0IHNhbXBsZXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBISUdIIC0gVHJ5IDggc2FtcGxlc1xuICovXG52YXIgTVNBQV9RVUFMSVRZO1xuKGZ1bmN0aW9uIChNU0FBX1FVQUxJVFkpIHtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIkxPV1wiXSA9IDJdID0gXCJMT1dcIjtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTUVESVVNXCJdID0gNF0gPSBcIk1FRElVTVwiO1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJISUdIXCJdID0gOF0gPSBcIkhJR0hcIjtcbn0pKE1TQUFfUVVBTElUWSB8fCAoTVNBQV9RVUFMSVRZID0ge30pKTtcblxuZXhwb3J0IHsgQUxQSEFfTU9ERVMsIEJMRU5EX01PREVTLCBCVUZGRVJfQklUUywgQ0xFQVJfTU9ERVMsIERSQVdfTU9ERVMsIEVOViwgRk9STUFUUywgR0NfTU9ERVMsIE1BU0tfVFlQRVMsIE1JUE1BUF9NT0RFUywgTVNBQV9RVUFMSVRZLCBQUkVDSVNJT04sIFJFTkRFUkVSX1RZUEUsIFNDQUxFX01PREVTLCBUQVJHRVRTLCBUWVBFUywgV1JBUF9NT0RFUyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9zZXR0aW5ncyAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9zZXR0aW5ncyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCBpc01vYmlsZUNhbGwgZnJvbSAnaXNtb2JpbGVqcyc7XG5cbi8vIFRoZSBFU00vQ0pTIHZlcnNpb25zIG9mIGlzbW9iaWxlanMgb25seVxudmFyIGlzTW9iaWxlID0gaXNNb2JpbGVDYWxsKHdpbmRvdy5uYXZpZ2F0b3IpO1xuXG4vKipcbiAqIFRoZSBtYXhpbXVtIHJlY29tbWVuZGVkIHRleHR1cmUgdW5pdHMgdG8gdXNlLlxuICogSW4gdGhlb3J5IHRoZSBiaWdnZXIgdGhlIGJldHRlciwgYW5kIGZvciBkZXNrdG9wIHdlJ2xsIHVzZSBhcyBtYW55IGFzIHdlIGNhbi5cbiAqIEJ1dCBzb21lIG1vYmlsZSBkZXZpY2VzIHNsb3cgZG93biBpZiB0aGVyZSBpcyB0byBtYW55IGJyYW5jaGVzIGluIHRoZSBzaGFkZXIuXG4gKiBTbyBpbiBwcmFjdGljZSB0aGVyZSBzZWVtcyB0byBiZSBhIHN3ZWV0IHNwb3Qgc2l6ZSB0aGF0IHZhcmllcyBkZXBlbmRpbmcgb24gdGhlIGRldmljZS5cbiAqXG4gKiBJbiB2NCwgYWxsIG1vYmlsZSBkZXZpY2VzIHdlcmUgbGltaXRlZCB0byA0IHRleHR1cmUgdW5pdHMgYmVjYXVzZSBmb3IgdGhpcy5cbiAqIEluIHY1LCB3ZSBhbGxvdyBhbGwgdGV4dHVyZSB1bml0cyB0byBiZSB1c2VkIG9uIG1vZGVybiBBcHBsZSBvciBBbmRyb2lkIGRldmljZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIG1heFJlY29tbWVuZGVkVGV4dHVyZXMobWF4KSB7XG4gICAgdmFyIGFsbG93TWF4ID0gdHJ1ZTtcbiAgICBpZiAoaXNNb2JpbGUudGFibGV0IHx8IGlzTW9iaWxlLnBob25lKSB7XG4gICAgICAgIGlmIChpc01vYmlsZS5hcHBsZS5kZXZpY2UpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IChuYXZpZ2F0b3IudXNlckFnZW50KS5tYXRjaCgvT1MgKFxcZCspXyhcXGQrKT8vKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgIHZhciBtYWpvclZlcnNpb24gPSBwYXJzZUludChtYXRjaFsxXSwgMTApO1xuICAgICAgICAgICAgICAgIC8vIExpbWl0IHRleHR1cmUgdW5pdHMgb24gZGV2aWNlcyBiZWxvdyBpT1MgMTEsIHdoaWNoIHdpbGwgYmUgb2xkZXIgaGFyZHdhcmVcbiAgICAgICAgICAgICAgICBpZiAobWFqb3JWZXJzaW9uIDwgMTEpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dNYXggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTW9iaWxlLmFuZHJvaWQuZGV2aWNlKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2ggPSAobmF2aWdhdG9yLnVzZXJBZ2VudCkubWF0Y2goL0FuZHJvaWRcXHMoWzAtOS5dKikvKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgIHZhciBtYWpvclZlcnNpb24gPSBwYXJzZUludChtYXRjaFsxXSwgMTApO1xuICAgICAgICAgICAgICAgIC8vIExpbWl0IHRleHR1cmUgdW5pdHMgb24gZGV2aWNlcyBiZWxvdyBBbmRyb2lkIDcgKE5vdWdhdCksIHdoaWNoIHdpbGwgYmUgb2xkZXIgaGFyZHdhcmVcbiAgICAgICAgICAgICAgICBpZiAobWFqb3JWZXJzaW9uIDwgNykge1xuICAgICAgICAgICAgICAgICAgICBhbGxvd01heCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYWxsb3dNYXggPyBtYXggOiA0O1xufVxuXG4vKipcbiAqIFVwbG9hZGluZyB0aGUgc2FtZSBidWZmZXIgbXVsdGlwbGUgdGltZXMgaW4gYSBzaW5nbGUgZnJhbWUgY2FuIGNhdXNlIHBlcmZvcm1hbmNlIGlzc3Vlcy5cbiAqIEFwcGFyZW50IG9uIGlPUyBzbyBvbmx5IGNoZWNrIGZvciB0aGF0IGF0IHRoZSBtb21lbnRcbiAqIFRoaXMgY2hlY2sgbWF5IGJlY29tZSBtb3JlIGNvbXBsZXggaWYgdGhpcyBpc3N1ZSBwb3BzIHVwIGVsc2V3aGVyZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGNhblVwbG9hZFNhbWVCdWZmZXIoKSB7XG4gICAgcmV0dXJuICFpc01vYmlsZS5hcHBsZS5kZXZpY2U7XG59XG5cbi8qKlxuICogVXNlcidzIGN1c3RvbWl6YWJsZSBnbG9iYWxzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IFBJWEkgc2V0dGluZ3MsIHN1Y2hcbiAqIGFzIGEgcmVuZGVyZXIncyBkZWZhdWx0IHJlc29sdXRpb24sIGZyYW1lcmF0ZSwgZmxvYXQgcHJlY2lzaW9uLCBldGMuXG4gKiBAZXhhbXBsZVxuICogLy8gVXNlIHRoZSBuYXRpdmUgd2luZG93IHJlc29sdXRpb24gYXMgdGhlIGRlZmF1bHQgcmVzb2x1dGlvblxuICogLy8gd2lsbCBzdXBwb3J0IGhpZ2gtZGVuc2l0eSBkaXNwbGF5cyB3aGVuIHJlbmRlcmluZ1xuICogUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gKlxuICogLy8gRGlzYWJsZSBpbnRlcnBvbGF0aW9uIHdoZW4gc2NhbGluZywgd2lsbCBtYWtlIHRleHR1cmUgYmUgcGl4ZWxhdGVkXG4gKiBQSVhJLnNldHRpbmdzLlNDQUxFX01PREUgPSBQSVhJLlNDQUxFX01PREVTLk5FQVJFU1Q7XG4gKiBAbmFtZXNwYWNlIFBJWEkuc2V0dGluZ3NcbiAqL1xudmFyIHNldHRpbmdzID0ge1xuICAgIC8qKlxuICAgICAqIElmIHNldCB0byB0cnVlIFdlYkdMIHdpbGwgYXR0ZW1wdCBtYWtlIHRleHR1cmVzIG1pbXBhcGVkIGJ5IGRlZmF1bHQuXG4gICAgICogTWlwbWFwcGluZyB3aWxsIG9ubHkgc3VjY2VlZCBpZiB0aGUgYmFzZSB0ZXh0dXJlIHVwbG9hZGVkIGhhcyBwb3dlciBvZiB0d28gZGltZW5zaW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBNSVBNQVBfVEVYVFVSRVNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLk1JUE1BUF9NT0RFU31cbiAgICAgKiBAZGVmYXVsdCBQSVhJLk1JUE1BUF9NT0RFUy5QT1cyXG4gICAgICovXG4gICAgTUlQTUFQX1RFWFRVUkVTOiAxLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgYW5pc290cm9waWMgZmlsdGVyaW5nIGxldmVsIG9mIHRleHR1cmVzLlxuICAgICAqIFVzdWFsbHkgZnJvbSAwIHRvIDE2XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgQU5JU09UUk9QSUNfTEVWRUxcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIEFOSVNPVFJPUElDX0xFVkVMOiAwLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgUkVTT0xVVElPTlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgUkVTT0xVVElPTjogMSxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGZpbHRlciByZXNvbHV0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEZJTFRFUl9SRVNPTFVUSU9OXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBGSUxURVJfUkVTT0xVVElPTjogMSxcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSB0ZXh0dXJlcyB0aGF0IHRoaXMgZGV2aWNlIHN1cHBvcnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFNQUklURV9NQVhfVEVYVFVSRVNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMzJcbiAgICAgKi9cbiAgICBTUFJJVEVfTUFYX1RFWFRVUkVTOiBtYXhSZWNvbW1lbmRlZFRleHR1cmVzKDMyKSxcbiAgICAvLyBUT0RPOiBtYXliZSBjaGFuZ2UgdG8gU1BSSVRFLkJBVENIX1NJWkU6IDIwMDBcbiAgICAvLyBUT0RPOiBtYXliZSBhZGQgUEFSVElDTEUuQkFUQ0hfU0laRTogMTUwMDBcbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBzcHJpdGUgYmF0Y2ggc2l6ZS5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGFpbXMgdG8gYmFsYW5jZSBkZXNrdG9wIGFuZCBtb2JpbGUgZGV2aWNlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBTUFJJVEVfQkFUQ0hfU0laRVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA0MDk2XG4gICAgICovXG4gICAgU1BSSVRFX0JBVENIX1NJWkU6IDQwOTYsXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgcmVuZGVyIG9wdGlvbnMgaWYgbm9uZSBhcmUgc3VwcGxpZWQgdG8ge0BsaW5rIFBJWEkuUmVuZGVyZXJ9XG4gICAgICogb3Ige0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXJ9LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFJFTkRFUl9PUFRJT05TXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7SFRNTENhbnZhc0VsZW1lbnR9IHZpZXc9bnVsbFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZXNvbHV0aW9uPTFcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGFudGlhbGlhcz1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYXV0b0RlbnNpdHk9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHRyYW5zcGFyZW50PWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGJhY2tncm91bmRDb2xvcj0weDAwMDAwMFxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoPTgwMFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQ9NjAwXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBsZWdhY3k9ZmFsc2VcbiAgICAgKi9cbiAgICBSRU5ERVJfT1BUSU9OUzoge1xuICAgICAgICB2aWV3OiBudWxsLFxuICAgICAgICBhbnRpYWxpYXM6IGZhbHNlLFxuICAgICAgICBhdXRvRGVuc2l0eTogZmFsc2UsXG4gICAgICAgIHRyYW5zcGFyZW50OiBmYWxzZSxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAweDAwMDAwMCxcbiAgICAgICAgY2xlYXJCZWZvcmVSZW5kZXI6IHRydWUsXG4gICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogZmFsc2UsXG4gICAgICAgIHdpZHRoOiA4MDAsXG4gICAgICAgIGhlaWdodDogNjAwLFxuICAgICAgICBsZWdhY3k6IGZhbHNlLFxuICAgIH0sXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBHYXJiYWdlIENvbGxlY3Rpb24gbW9kZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBHQ19NT0RFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5HQ19NT0RFU31cbiAgICAgKiBAZGVmYXVsdCBQSVhJLkdDX01PREVTLkFVVE9cbiAgICAgKi9cbiAgICBHQ19NT0RFOiAwLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1heCBpZGxlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01BWF9JRExFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDM2MDBcbiAgICAgKi9cbiAgICBHQ19NQVhfSURMRTogNjAgKiA2MCxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXhpbXVtIGNoZWNrIGNvdW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01BWF9DSEVDS19DT1VOVFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgKi9cbiAgICBHQ19NQVhfQ0hFQ0tfQ09VTlQ6IDYwICogMTAsXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFdSQVBfTU9ERVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuV1JBUF9NT0RFU31cbiAgICAgKiBAZGVmYXVsdCBQSVhJLldSQVBfTU9ERVMuQ0xBTVBcbiAgICAgKi9cbiAgICBXUkFQX01PREU6IDMzMDcxLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc2NhbGUgbW9kZSBmb3IgdGV4dHVyZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgU0NBTEVfTU9ERVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuU0NBTEVfTU9ERVN9XG4gICAgICogQGRlZmF1bHQgUElYSS5TQ0FMRV9NT0RFUy5MSU5FQVJcbiAgICAgKi9cbiAgICBTQ0FMRV9NT0RFOiAxLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gdmVydGV4IHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBQUkVDSVNJT05fVkVSVEVYXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uSElHSFxuICAgICAqL1xuICAgIFBSRUNJU0lPTl9WRVJURVg6ICdoaWdocCcsXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogaU9TIGlzIGJlc3Qgc2V0IGF0IGhpZ2hwIGR1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzM3NDJcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBQUkVDSVNJT05fRlJBR01FTlRcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLlBSRUNJU0lPTn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLlBSRUNJU0lPTi5NRURJVU1cbiAgICAgKi9cbiAgICBQUkVDSVNJT05fRlJBR01FTlQ6IGlzTW9iaWxlLmFwcGxlLmRldmljZSA/ICdoaWdocCcgOiAnbWVkaXVtcCcsXG4gICAgLyoqXG4gICAgICogQ2FuIHdlIHVwbG9hZCB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWU/XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUjogY2FuVXBsb2FkU2FtZUJ1ZmZlcigpLFxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgYml0bWFwIGNyZWF0aW9uIGJlZm9yZSBpbWFnZSBsb2FkLiBUaGlzIGZlYXR1cmUgaXMgZXhwZXJpbWVudGFsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIENSRUFURV9JTUFHRV9CSVRNQVBcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgQ1JFQVRFX0lNQUdFX0JJVE1BUDogZmFsc2UsXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgUk9VTkRfUElYRUxTOiBmYWxzZSxcbn07XG5cbmV4cG9ydCB7IGlzTW9iaWxlLCBzZXR0aW5ncyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0dGluZ3MuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3V0aWxzIC0gdjUuMy4zXG4gKiBDb21waWxlZCBUdWUsIDA0IEF1ZyAyMDIwIDE2OjIzOjA5IFVUQ1xuICpcbiAqIEBwaXhpL3V0aWxzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5leHBvcnQgeyBpc01vYmlsZSB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGVhcmN1dCB9IGZyb20gJ2VhcmN1dCc7XG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gJ3VybCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVybCB9IGZyb20gJ3VybCc7XG5pbXBvcnQgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qKlxuICogVGhlIHByZWZpeCB0aGF0IGRlbm90ZXMgYSBVUkwgaXMgZm9yIGEgcmV0aW5hIGFzc2V0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFJFVElOQV9QUkVGSVhcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7UmVnRXhwfVxuICogQGRlZmF1bHQgL0AoWzAtOVxcLl0rKXgvXG4gKiBAZXhhbXBsZSBgQDJ4YFxuICovXG5zZXR0aW5ncy5SRVRJTkFfUFJFRklYID0gL0AoWzAtOVxcLl0rKXgvO1xuLyoqXG4gKiBTaG91bGQgdGhlIGBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0YCBmbGFnIGJlIGVuYWJsZWQgYXMgYSBjb250ZXh0IG9wdGlvbiB1c2VkIGluIHRoZSBgaXNXZWJHTFN1cHBvcnRlZGAgZnVuY3Rpb24uXG4gKiBGb3IgbW9zdCBzY2VuYXJpb3MgdGhpcyBzaG91bGQgYmUgbGVmdCBhcyB0cnVlLCBhcyBvdGhlcndpc2UgdGhlIHVzZXIgbWF5IGhhdmUgYSBwb29yIGV4cGVyaWVuY2UuXG4gKiBIb3dldmVyLCBpdCBjYW4gYmUgdXNlZnVsIHRvIGRpc2FibGUgdW5kZXIgY2VydGFpbiBzY2VuYXJpb3MsIHN1Y2ggYXMgaGVhZGxlc3MgdW5pdCB0ZXN0cy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBGQUlMX0lGX01BSk9SX1BFUkZPUk1BTkNFX0NBVkVBVFxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtib29sZWFufVxuICogQGRlZmF1bHQgdHJ1ZVxuICovXG5zZXR0aW5ncy5GQUlMX0lGX01BSk9SX1BFUkZPUk1BTkNFX0NBVkVBVCA9IHRydWU7XG5cbnZhciBzYWlkSGVsbG8gPSBmYWxzZTtcbnZhciBWRVJTSU9OID0gJzUuMy4zJztcbi8qKlxuICogU2tpcHMgdGhlIGhlbGxvIG1lc3NhZ2Ugb2YgcmVuZGVyZXJzIHRoYXQgYXJlIGNyZWF0ZWQgYWZ0ZXIgdGhpcyBpcyBydW4uXG4gKlxuICogQGZ1bmN0aW9uIHNraXBIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqL1xuZnVuY3Rpb24gc2tpcEhlbGxvKCkge1xuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG4vKipcbiAqIExvZ3Mgb3V0IHRoZSB2ZXJzaW9uIGFuZCByZW5kZXJlciBpbmZvcm1hdGlvbiBmb3IgdGhpcyBydW5uaW5nIGluc3RhbmNlIG9mIFBJWEkuXG4gKiBJZiB5b3UgZG9uJ3Qgd2FudCB0byBzZWUgdGhpcyBtZXNzYWdlIHlvdSBjYW4gcnVuIGBQSVhJLnV0aWxzLnNraXBIZWxsbygpYCBiZWZvcmVcbiAqIGNyZWF0aW5nIHlvdXIgcmVuZGVyZXIuIEtlZXAgaW4gbWluZCB0aGF0IGRvaW5nIHRoYXQgd2lsbCBmb3JldmVyIG1ha2UgeW91IGEgamVyayBmYWNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBzYXlIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHN0cmluZyByZW5kZXJlciB0eXBlIHRvIGxvZy5cbiAqL1xuZnVuY3Rpb24gc2F5SGVsbG8odHlwZSkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoc2FpZEhlbGxvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdjaHJvbWUnKSA+IC0xKSB7XG4gICAgICAgIHZhciBhcmdzID0gW1xuICAgICAgICAgICAgXCJcXG4gJWMgJWMgJWMgUGl4aUpTIFwiICsgVkVSU0lPTiArIFwiIC0gXFx1MjczMCBcIiArIHR5cGUgKyBcIiBcXHUyNzMwICAlYyAgJWMgIGh0dHA6Ly93d3cucGl4aWpzLmNvbS8gICVjICVjIFxcdTI2NjUlY1xcdTI2NjUlY1xcdTI2NjUgXFxuXFxuXCIsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmNjZhNTsgYmFja2dyb3VuZDogIzAzMDMwNzsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmZjM2RjOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnIF07XG4gICAgICAgIChfYSA9IHdpbmRvdy5jb25zb2xlKS5sb2cuYXBwbHkoX2EsIGFyZ3MpO1xuICAgIH1cbiAgICBlbHNlIGlmICh3aW5kb3cuY29uc29sZSkge1xuICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coXCJQaXhpSlMgXCIgKyBWRVJTSU9OICsgXCIgLSBcIiArIHR5cGUgKyBcIiAtIGh0dHA6Ly93d3cucGl4aWpzLmNvbS9cIik7XG4gICAgfVxuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG5cbnZhciBzdXBwb3J0ZWQ7XG4vKipcbiAqIEhlbHBlciBmb3IgY2hlY2tpbmcgZm9yIFdlYkdMIHN1cHBvcnQuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkXG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBXZWJHTCBzdXBwb3J0ZWQuXG4gKi9cbmZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWQoKSB7XG4gICAgaWYgKHR5cGVvZiBzdXBwb3J0ZWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHN1cHBvcnRlZCA9IChmdW5jdGlvbiBzdXBwb3J0ZWQoKSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiBzZXR0aW5ncy5GQUlMX0lGX01BSk9SX1BFUkZPUk1BTkNFX0NBVkVBVCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICghd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSAoY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgY29udGV4dE9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBjb250ZXh0T3B0aW9ucykpO1xuICAgICAgICAgICAgICAgIHZhciBzdWNjZXNzID0gISEoZ2wgJiYgZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKS5zdGVuY2lsKTtcbiAgICAgICAgICAgICAgICBpZiAoZ2wpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvc2VDb250ZXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvc2VDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb3NlQ29udGV4dC5sb3NlQ29udGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdsID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgIH1cbiAgICByZXR1cm4gc3VwcG9ydGVkO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgaGV4YWRlY2ltYWwgY29sb3IgbnVtYmVyIHRvIGFuIFtSLCBHLCBCXSBhcnJheSBvZiBub3JtYWxpemVkIGZsb2F0cyAobnVtYmVycyBmcm9tIDAuMCB0byAxLjApLlxuICpcbiAqIEBleGFtcGxlXG4gKiBQSVhJLnV0aWxzLmhleDJyZ2IoMHhmZmZmZmYpOyAvLyByZXR1cm5zIFsxLCAxLCAxXVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBoZXgycmdiXG4gKiBAcGFyYW0ge251bWJlcn0gaGV4IC0gVGhlIGhleGFkZWNpbWFsIG51bWJlciB0byBjb252ZXJ0XG4gKiBAcGFyYW0gIHtudW1iZXJbXX0gW291dD1bXV0gLSBJZiBzdXBwbGllZCwgdGhpcyBhcnJheSB3aWxsIGJlIHVzZWQgcmF0aGVyIHRoYW4gcmV0dXJuaW5nIGEgbmV3IG9uZVxuICogQHJldHVybiB7bnVtYmVyW119IEFuIGFycmF5IHJlcHJlc2VudGluZyB0aGUgW1IsIEcsIEJdIG9mIHRoZSBjb2xvciB3aGVyZSBhbGwgdmFsdWVzIGFyZSBmbG9hdHMuXG4gKi9cbmZ1bmN0aW9uIGhleDJyZ2IoaGV4LCBvdXQpIHtcbiAgICBpZiAob3V0ID09PSB2b2lkIDApIHsgb3V0ID0gW107IH1cbiAgICBvdXRbMF0gPSAoKGhleCA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICBvdXRbMV0gPSAoKGhleCA+PiA4KSAmIDB4RkYpIC8gMjU1O1xuICAgIG91dFsyXSA9IChoZXggJiAweEZGKSAvIDI1NTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlciB0byBhIHN0cmluZy5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5oZXgyc3RyaW5nKDB4ZmZmZmZmKTsgLy8gcmV0dXJucyBcIiNmZmZmZmZcIlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBoZXgyc3RyaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gaGV4IC0gTnVtYmVyIGluIGhleCAoZS5nLiwgYDB4ZmZmZmZmYClcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHN0cmluZyBjb2xvciAoZS5nLiwgYFwiI2ZmZmZmZlwiYCkuXG4gKi9cbmZ1bmN0aW9uIGhleDJzdHJpbmcoaGV4KSB7XG4gICAgdmFyIGhleFN0cmluZyA9IGhleC50b1N0cmluZygxNik7XG4gICAgaGV4U3RyaW5nID0gJzAwMDAwMCcuc3Vic3RyKDAsIDYgLSBoZXhTdHJpbmcubGVuZ3RoKSArIGhleFN0cmluZztcbiAgICByZXR1cm4gXCIjXCIgKyBoZXhTdHJpbmc7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgaGV4YWRlY2ltYWwgc3RyaW5nIHRvIGEgaGV4YWRlY2ltYWwgY29sb3IgbnVtYmVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBQSVhJLnV0aWxzLnN0cmluZzJoZXgoXCIjZmZmZmZmXCIpOyAvLyByZXR1cm5zIDB4ZmZmZmZmXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHN0cmluZzJoZXhcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgLSBUaGUgc3RyaW5nIGNvbG9yIChlLmcuLCBgXCIjZmZmZmZmXCJgKVxuICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgaW4gaGV4YWRlY2ltYWwuXG4gKi9cbmZ1bmN0aW9uIHN0cmluZzJoZXgoc3RyaW5nKSB7XG4gICAgaWYgKHR5cGVvZiBzdHJpbmcgPT09ICdzdHJpbmcnICYmIHN0cmluZ1swXSA9PT0gJyMnKSB7XG4gICAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHIoMSk7XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUludChzdHJpbmcsIDE2KTtcbn1cbi8qKlxuICogQ29udmVydHMgYSBjb2xvciBhcyBhbiBbUiwgRywgQl0gYXJyYXkgb2Ygbm9ybWFsaXplZCBmbG9hdHMgdG8gYSBoZXhhZGVjaW1hbCBudW1iZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMucmdiMmhleChbMSwgMSwgMV0pOyAvLyByZXR1cm5zIDB4ZmZmZmZmXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHJnYjJoZXhcbiAqIEBwYXJhbSB7bnVtYmVyW119IHJnYiAtIEFycmF5IG9mIG51bWJlcnMgd2hlcmUgYWxsIHZhbHVlcyBhcmUgbm9ybWFsaXplZCBmbG9hdHMgZnJvbSAwLjAgdG8gMS4wLlxuICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgaW4gaGV4YWRlY2ltYWwuXG4gKi9cbmZ1bmN0aW9uIHJnYjJoZXgocmdiKSB7XG4gICAgcmV0dXJuICgoKHJnYlswXSAqIDI1NSkgPDwgMTYpICsgKChyZ2JbMV0gKiAyNTUpIDw8IDgpICsgKHJnYlsyXSAqIDI1NSB8IDApKTtcbn1cblxuLyoqXG4gKiBDb3JyZWN0cyBQaXhpSlMgYmxlbmQsIHRha2VzIHByZW11bHRpcGxpZWQgYWxwaGEgaW50byBhY2NvdW50XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2Rlc1xuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcltdPn0gTWFwcGVkIG1vZGVzLlxuICovXG5mdW5jdGlvbiBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcygpIHtcbiAgICB2YXIgcG0gPSBbXTtcbiAgICB2YXIgbnBtID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzMjsgaSsrKSB7XG4gICAgICAgIHBtW2ldID0gaTtcbiAgICAgICAgbnBtW2ldID0gaTtcbiAgICB9XG4gICAgcG1bQkxFTkRfTU9ERVMuTk9STUFMX05QTV0gPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgcG1bQkxFTkRfTU9ERVMuQUREX05QTV0gPSBCTEVORF9NT0RFUy5BREQ7XG4gICAgcG1bQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBCTEVORF9NT0RFUy5TQ1JFRU47XG4gICAgbnBtW0JMRU5EX01PREVTLk5PUk1BTF0gPSBCTEVORF9NT0RFUy5OT1JNQUxfTlBNO1xuICAgIG5wbVtCTEVORF9NT0RFUy5BRERdID0gQkxFTkRfTU9ERVMuQUREX05QTTtcbiAgICBucG1bQkxFTkRfTU9ERVMuU0NSRUVOXSA9IEJMRU5EX01PREVTLlNDUkVFTl9OUE07XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgYXJyYXkucHVzaChucG0pO1xuICAgIGFycmF5LnB1c2gocG0pO1xuICAgIHJldHVybiBhcnJheTtcbn1cbi8qKlxuICogbWFwcyBwcmVtdWx0aXBseSBmbGFnIGFuZCBibGVuZE1vZGUgdG8gYWRqdXN0ZWQgYmxlbmRNb2RlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGNvbnN0IHByZW11bHRpcGx5QmxlbmRNb2RlXG4gKiBAdHlwZSB7QXJyYXk8bnVtYmVyW10+fVxuICovXG52YXIgcHJlbXVsdGlwbHlCbGVuZE1vZGUgPSBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcygpO1xuLyoqXG4gKiBjaGFuZ2VzIGJsZW5kTW9kZSBhY2NvcmRpbmcgdG8gdGV4dHVyZSBmb3JtYXRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNvcnJlY3RCbGVuZE1vZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBibGVuZE1vZGUgLSBzdXBwb3NlZCBibGVuZCBtb2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHByZW11bHRpcGxpZWQgLSB3aGV0aGVyIHNvdXJjZSBpcyBwcmVtdWx0aXBsaWVkXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0cnVlIGJsZW5kIG1vZGUgZm9yIHRoaXMgdGV4dHVyZVxuICovXG5mdW5jdGlvbiBjb3JyZWN0QmxlbmRNb2RlKGJsZW5kTW9kZSwgcHJlbXVsdGlwbGllZCkge1xuICAgIHJldHVybiBwcmVtdWx0aXBseUJsZW5kTW9kZVtwcmVtdWx0aXBsaWVkID8gMSA6IDBdW2JsZW5kTW9kZV07XG59XG4vKipcbiAqIGNvbWJpbmVzIHJnYiBhbmQgYWxwaGEgdG8gb3V0IGFycmF5XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVJnYmFcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fG51bWJlcltdfSByZ2IgLSBpbnB1dCByZ2JcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSAtIGFscGhhIHBhcmFtXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dF0gLSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIC0gZG8gcHJlbXVsdGlwbHkgaXRcbiAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IHZlYzQgcmdiYVxuICovXG5mdW5jdGlvbiBwcmVtdWx0aXBseVJnYmEocmdiLCBhbHBoYSwgb3V0LCBwcmVtdWx0aXBseSkge1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG91dFswXSA9IHJnYlswXSAqIGFscGhhO1xuICAgICAgICBvdXRbMV0gPSByZ2JbMV0gKiBhbHBoYTtcbiAgICAgICAgb3V0WzJdID0gcmdiWzJdICogYWxwaGE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvdXRbMF0gPSByZ2JbMF07XG4gICAgICAgIG91dFsxXSA9IHJnYlsxXTtcbiAgICAgICAgb3V0WzJdID0gcmdiWzJdO1xuICAgIH1cbiAgICBvdXRbM10gPSBhbHBoYTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBwcmVtdWx0aXBsaWVzIHRpbnRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHByZW11bHRpcGx5VGludFxuICogQHBhcmFtIHtudW1iZXJ9IHRpbnQgLSBpbnRlZ2VyIFJHQlxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIC0gZmxvYXRpbmcgcG9pbnQgYWxwaGEgKDAuMC0xLjApXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0aW50IG11bHRpcGxpZWQgYnkgYWxwaGFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50KHRpbnQsIGFscGhhKSB7XG4gICAgaWYgKGFscGhhID09PSAxLjApIHtcbiAgICAgICAgcmV0dXJuIChhbHBoYSAqIDI1NSA8PCAyNCkgKyB0aW50O1xuICAgIH1cbiAgICBpZiAoYWxwaGEgPT09IDAuMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgdmFyIFIgPSAoKHRpbnQgPj4gMTYpICYgMHhGRik7XG4gICAgdmFyIEcgPSAoKHRpbnQgPj4gOCkgJiAweEZGKTtcbiAgICB2YXIgQiA9ICh0aW50ICYgMHhGRik7XG4gICAgUiA9ICgoUiAqIGFscGhhKSArIDAuNSkgfCAwO1xuICAgIEcgPSAoKEcgKiBhbHBoYSkgKyAwLjUpIHwgMDtcbiAgICBCID0gKChCICogYWxwaGEpICsgMC41KSB8IDA7XG4gICAgcmV0dXJuIChhbHBoYSAqIDI1NSA8PCAyNCkgKyAoUiA8PCAxNikgKyAoRyA8PCA4KSArIEI7XG59XG4vKipcbiAqIGNvbnZlcnRzIGludGVnZXIgdGludCBhbmQgZmxvYXQgYWxwaGEgdG8gdmVjNCBmb3JtLCBwcmVtdWx0aXBsaWVzIGJ5IGRlZmF1bHRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHByZW11bHRpcGx5VGludFRvUmdiYVxuICogQHBhcmFtIHtudW1iZXJ9IHRpbnQgLSBpbnB1dCB0aW50XG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgLSBhbHBoYSBwYXJhbVxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXRdIG91dHB1dFxuICogQHBhcmFtIHtib29sZWFufSBbcHJlbXVsdGlwbHk9dHJ1ZV0gLSBkbyBwcmVtdWx0aXBseSBpdFxuICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gdmVjNCByZ2JhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5VGludFRvUmdiYSh0aW50LCBhbHBoYSwgb3V0LCBwcmVtdWx0aXBseSkge1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIG91dFswXSA9ICgodGludCA+PiAxNikgJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsxXSA9ICgodGludCA+PiA4KSAmIDB4RkYpIC8gMjU1LjA7XG4gICAgb3V0WzJdID0gKHRpbnQgJiAweEZGKSAvIDI1NS4wO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG91dFswXSAqPSBhbHBoYTtcbiAgICAgICAgb3V0WzFdICo9IGFscGhhO1xuICAgICAgICBvdXRbMl0gKj0gYWxwaGE7XG4gICAgfVxuICAgIG91dFszXSA9IGFscGhhO1xuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogR2VuZXJpYyBNYXNrIFN0YWNrIGRhdGEgc3RydWN0dXJlXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjcmVhdGVJbmRpY2VzRm9yUXVhZHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gTnVtYmVyIG9mIHF1YWRzXG4gKiBAcGFyYW0ge1VpbnQxNkFycmF5fFVpbnQzMkFycmF5fSBbb3V0QnVmZmVyXSAtIEJ1ZmZlciBmb3Igb3V0cHV0LCBsZW5ndGggaGFzIHRvIGJlIGA2ICogc2l6ZWBcbiAqIEByZXR1cm4ge1VpbnQxNkFycmF5fFVpbnQzMkFycmF5fSAtIFJlc3VsdGluZyBpbmRleCBidWZmZXJcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHNpemUsIG91dEJ1ZmZlcikge1xuICAgIGlmIChvdXRCdWZmZXIgPT09IHZvaWQgMCkgeyBvdXRCdWZmZXIgPSBudWxsOyB9XG4gICAgLy8gdGhlIHRvdGFsIG51bWJlciBvZiBpbmRpY2VzIGluIG91ciBhcnJheSwgdGhlcmUgYXJlIDYgcG9pbnRzIHBlciBxdWFkLlxuICAgIHZhciB0b3RhbEluZGljZXMgPSBzaXplICogNjtcbiAgICBvdXRCdWZmZXIgPSBvdXRCdWZmZXIgfHwgbmV3IFVpbnQxNkFycmF5KHRvdGFsSW5kaWNlcyk7XG4gICAgaWYgKG91dEJ1ZmZlci5sZW5ndGggIT09IHRvdGFsSW5kaWNlcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPdXQgYnVmZmVyIGxlbmd0aCBpcyBpbmNvcnJlY3QsIGdvdCBcIiArIG91dEJ1ZmZlci5sZW5ndGggKyBcIiBhbmQgZXhwZWN0ZWQgXCIgKyB0b3RhbEluZGljZXMpO1xuICAgIH1cbiAgICAvLyBmaWxsIHRoZSBpbmRpY2VzIHdpdGggdGhlIHF1YWRzIHRvIGRyYXdcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPCB0b3RhbEluZGljZXM7IGkgKz0gNiwgaiArPSA0KSB7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgMF0gPSBqICsgMDtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyAxXSA9IGogKyAxO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDJdID0gaiArIDI7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgM10gPSBqICsgMDtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyA0XSA9IGogKyAyO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDVdID0gaiArIDM7XG4gICAgfVxuICAgIHJldHVybiBvdXRCdWZmZXI7XG59XG5cbmZ1bmN0aW9uIGdldEJ1ZmZlclR5cGUoYXJyYXkpIHtcbiAgICBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDQpIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ0Zsb2F0MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50MzJBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdJbnQzMkFycmF5JztcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDIpIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDE2QXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDE2QXJyYXknO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSAxKSB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDhBcnJheSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVE9ETyBtYXAgb3V0IHRoZSByZXN0IG9mIHRoZSBhcnJheSBlbGVtZW50cyFcbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgb2JqZWN0LXNob3J0aGFuZCAqL1xudmFyIG1hcCA9IHsgRmxvYXQzMkFycmF5OiBGbG9hdDMyQXJyYXksIFVpbnQzMkFycmF5OiBVaW50MzJBcnJheSwgSW50MzJBcnJheTogSW50MzJBcnJheSwgVWludDhBcnJheTogVWludDhBcnJheSB9O1xuZnVuY3Rpb24gaW50ZXJsZWF2ZVR5cGVkQXJyYXlzKGFycmF5cywgc2l6ZXMpIHtcbiAgICB2YXIgb3V0U2l6ZSA9IDA7XG4gICAgdmFyIHN0cmlkZSA9IDA7XG4gICAgdmFyIHZpZXdzID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc3RyaWRlICs9IHNpemVzW2ldO1xuICAgICAgICBvdXRTaXplICs9IGFycmF5c1tpXS5sZW5ndGg7XG4gICAgfVxuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIob3V0U2l6ZSAqIDQpO1xuICAgIHZhciBvdXQgPSBudWxsO1xuICAgIHZhciBsaXR0bGVPZmZzZXQgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzaXplID0gc2l6ZXNbaV07XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tpXTtcbiAgICAgICAgLypcbiAgICAgICAgQHRvZG8gVGhpcyBpcyB1bnNhZmUgY2FzdGluZyBidXQgY29uc2lzdGVudCB3aXRoIGhvdyB0aGUgY29kZSB3b3JrZWQgcHJldmlvdXNseS4gU2hvdWxkIGl0IHN0YXkgdGhpcyB3YXlcbiAgICAgICAgICAgICAgb3Igc2hvdWxkIGFuZCBgZ2V0QnVmZmVyVHlwZVVuc2FmZWAgZnVuY3Rpb24gYmUgZXhwb3NlZCB0aGF0IHRocm93cyBhbiBFcnJvciBpZiB1bnN1cHBvcnRlZCB0eXBlIGlzIHBhc3NlZD9cbiAgICAgICAgICovXG4gICAgICAgIHZhciB0eXBlID0gZ2V0QnVmZmVyVHlwZShhcnJheSk7XG4gICAgICAgIGlmICghdmlld3NbdHlwZV0pIHtcbiAgICAgICAgICAgIHZpZXdzW3R5cGVdID0gbmV3IG1hcFt0eXBlXShidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIG91dCA9IHZpZXdzW3R5cGVdO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXhTdGFydCA9ICgoaiAvIHNpemUgfCAwKSAqIHN0cmlkZSkgKyBsaXR0bGVPZmZzZXQ7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBqICUgc2l6ZTtcbiAgICAgICAgICAgIG91dFtpbmRleFN0YXJ0ICsgaW5kZXhdID0gYXJyYXlbal07XG4gICAgICAgIH1cbiAgICAgICAgbGl0dGxlT2Zmc2V0ICs9IHNpemU7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG59XG5cbi8vIFRha2VuIGZyb20gdGhlIGJpdC10d2lkZGxlIHBhY2thZ2Vcbi8qKlxuICogUm91bmRzIHRvIG5leHQgcG93ZXIgb2YgdHdvLlxuICpcbiAqIEBmdW5jdGlvbiBuZXh0UG93MlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB2IC0gaW5wdXQgdmFsdWVcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gbmV4dFBvdzIodikge1xuICAgIHYgKz0gdiA9PT0gMCA/IDEgOiAwO1xuICAgIC0tdjtcbiAgICB2IHw9IHYgPj4+IDE7XG4gICAgdiB8PSB2ID4+PiAyO1xuICAgIHYgfD0gdiA+Pj4gNDtcbiAgICB2IHw9IHYgPj4+IDg7XG4gICAgdiB8PSB2ID4+PiAxNjtcbiAgICByZXR1cm4gdiArIDE7XG59XG4vKipcbiAqIENoZWNrcyBpZiBhIG51bWJlciBpcyBhIHBvd2VyIG9mIHR3by5cbiAqXG4gKiBAZnVuY3Rpb24gaXNQb3cyXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHYgLSBpbnB1dCB2YWx1ZVxuICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHZhbHVlIGlzIHBvd2VyIG9mIHR3b1xuICovXG5mdW5jdGlvbiBpc1BvdzIodikge1xuICAgIHJldHVybiAhKHYgJiAodiAtIDEpKSAmJiAoISF2KTtcbn1cbi8qKlxuICogQ29tcHV0ZXMgY2VpbCBvZiBsb2cgYmFzZSAyXG4gKlxuICogQGZ1bmN0aW9uIGxvZzJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdiAtIGlucHV0IHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGxvZ2FyaXRobSBiYXNlIDJcbiAqL1xuZnVuY3Rpb24gbG9nMih2KSB7XG4gICAgdmFyIHIgPSAodiA+IDB4RkZGRiA/IDEgOiAwKSA8PCA0O1xuICAgIHYgPj4+PSByO1xuICAgIHZhciBzaGlmdCA9ICh2ID4gMHhGRiA/IDEgOiAwKSA8PCAzO1xuICAgIHYgPj4+PSBzaGlmdDtcbiAgICByIHw9IHNoaWZ0O1xuICAgIHNoaWZ0ID0gKHYgPiAweEYgPyAxIDogMCkgPDwgMjtcbiAgICB2ID4+Pj0gc2hpZnQ7XG4gICAgciB8PSBzaGlmdDtcbiAgICBzaGlmdCA9ICh2ID4gMHgzID8gMSA6IDApIDw8IDE7XG4gICAgdiA+Pj49IHNoaWZ0O1xuICAgIHIgfD0gc2hpZnQ7XG4gICAgcmV0dXJuIHIgfCAodiA+PiAxKTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgaXRlbXMgZnJvbSBhIGphdmFzY3JpcHQgYXJyYXkgd2l0aG91dCBnZW5lcmF0aW5nIGdhcmJhZ2VcbiAqXG4gKiBAZnVuY3Rpb24gcmVtb3ZlSXRlbXNcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGFyciAtIEFycmF5IHRvIHJlbW92ZSBlbGVtZW50cyBmcm9tXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJZHggLSBzdGFydGluZyBpbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IHJlbW92ZUNvdW50IC0gaG93IG1hbnkgdG8gcmVtb3ZlXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUl0ZW1zKGFyciwgc3RhcnRJZHgsIHJlbW92ZUNvdW50KSB7XG4gICAgdmFyIGxlbmd0aCA9IGFyci5sZW5ndGg7XG4gICAgdmFyIGk7XG4gICAgaWYgKHN0YXJ0SWR4ID49IGxlbmd0aCB8fCByZW1vdmVDb3VudCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlbW92ZUNvdW50ID0gKHN0YXJ0SWR4ICsgcmVtb3ZlQ291bnQgPiBsZW5ndGggPyBsZW5ndGggLSBzdGFydElkeCA6IHJlbW92ZUNvdW50KTtcbiAgICB2YXIgbGVuID0gbGVuZ3RoIC0gcmVtb3ZlQ291bnQ7XG4gICAgZm9yIChpID0gc3RhcnRJZHg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICBhcnJbaV0gPSBhcnJbaSArIHJlbW92ZUNvdW50XTtcbiAgICB9XG4gICAgYXJyLmxlbmd0aCA9IGxlbjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHNpZ24gb2YgbnVtYmVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBzaWduXG4gKiBAcGFyYW0ge251bWJlcn0gbiAtIHRoZSBudW1iZXIgdG8gY2hlY2sgdGhlIHNpZ24gb2ZcbiAqIEByZXR1cm5zIHtudW1iZXJ9IDAgaWYgYG5gIGlzIDAsIC0xIGlmIGBuYCBpcyBuZWdhdGl2ZSwgMSBpZiBgbmAgaXMgcG9zaXRpdmVcbiAqL1xuZnVuY3Rpb24gc2lnbihuKSB7XG4gICAgaWYgKG4gPT09IDApXG4gICAgICAgIHsgcmV0dXJuIDA7IH1cbiAgICByZXR1cm4gbiA8IDAgPyAtMSA6IDE7XG59XG5cbnZhciBuZXh0VWlkID0gMDtcbi8qKlxuICogR2V0cyB0aGUgbmV4dCB1bmlxdWUgaWRlbnRpZmllclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gdWlkXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBuZXh0IHVuaXF1ZSBpZGVudGlmaWVyIHRvIHVzZS5cbiAqL1xuZnVuY3Rpb24gdWlkKCkge1xuICAgIHJldHVybiArK25leHRVaWQ7XG59XG5cbi8vIEEgbWFwIG9mIHdhcm5pbmcgbWVzc2FnZXMgYWxyZWFkeSBmaXJlZFxudmFyIHdhcm5pbmdzID0ge307XG4vKipcbiAqIEhlbHBlciBmb3Igd2FybmluZyBkZXZlbG9wZXJzIGFib3V0IGRlcHJlY2F0ZWQgZmVhdHVyZXMgJiBzZXR0aW5ncy5cbiAqIEEgc3RhY2sgdHJhY2sgZm9yIHdhcm5pbmdzIGlzIGdpdmVuOyB1c2VmdWwgZm9yIHRyYWNraW5nLWRvd24gd2hlcmVcbiAqIGRlcHJlY2F0ZWQgbWV0aG9kcy9wcm9wZXJ0aWVzL2NsYXNzZXMgYXJlIGJlaW5nIHVzZWQgd2l0aGluIHRoZSBjb2RlLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVwcmVjYXRpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJzaW9uIC0gVGhlIHZlcnNpb24gd2hlcmUgdGhlIGZlYXR1cmUgYmVjYW1lIGRlcHJlY2F0ZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gTWVzc2FnZSBzaG91bGQgaW5jbHVkZSB3aGF0IGlzIGRlcHJlY2F0ZWQsIHdoZXJlLCBhbmQgdGhlIG5ldyBzb2x1dGlvblxuICogQHBhcmFtIHtudW1iZXJ9IFtpZ25vcmVEZXB0aD0zXSAtIFRoZSBudW1iZXIgb2Ygc3RlcHMgdG8gaWdub3JlIGF0IHRoZSB0b3Agb2YgdGhlIGVycm9yIHN0YWNrXG4gKiAgICAgICAgdGhpcyBpcyBtb3N0bHkgdG8gaWdub3JlIGludGVybmFsIGRlcHJlY2F0aW9uIGNhbGxzLlxuICovXG5mdW5jdGlvbiBkZXByZWNhdGlvbih2ZXJzaW9uLCBtZXNzYWdlLCBpZ25vcmVEZXB0aCkge1xuICAgIGlmIChpZ25vcmVEZXB0aCA9PT0gdm9pZCAwKSB7IGlnbm9yZURlcHRoID0gMzsgfVxuICAgIC8vIElnbm9yZSBkdXBsaWNhdFxuICAgIGlmICh3YXJuaW5nc1ttZXNzYWdlXSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICB2YXIgc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbiAgICAvLyBIYW5kbGUgSUUgPCAxMCBhbmQgU2FmYXJpIDwgNlxuICAgIGlmICh0eXBlb2Ygc3RhY2sgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIG1lc3NhZ2UgKyBcIlxcbkRlcHJlY2F0ZWQgc2luY2UgdlwiICsgdmVyc2lvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBjaG9wIG9mZiB0aGUgc3RhY2sgdHJhY2Ugd2hpY2ggaW5jbHVkZXMgUGl4aUpTIGludGVybmFsIGNhbGxzXG4gICAgICAgIHN0YWNrID0gc3RhY2suc3BsaXQoJ1xcbicpLnNwbGljZShpZ25vcmVEZXB0aCkuam9pbignXFxuJyk7XG4gICAgICAgIGlmIChjb25zb2xlLmdyb3VwQ29sbGFwc2VkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKCclY1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAlYyVzJywgJ2NvbG9yOiM2MTQxMDg7YmFja2dyb3VuZDojZmZmYmU2JywgJ2ZvbnQtd2VpZ2h0Om5vcm1hbDtjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNicsIG1lc3NhZ2UgKyBcIlxcbkRlcHJlY2F0ZWQgc2luY2UgdlwiICsgdmVyc2lvbik7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oc3RhY2spO1xuICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQaXhpSlMgRGVwcmVjYXRpb24gV2FybmluZzogJywgbWVzc2FnZSArIFwiXFxuRGVwcmVjYXRlZCBzaW5jZSB2XCIgKyB2ZXJzaW9uKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgd2FybmluZ3NbbWVzc2FnZV0gPSB0cnVlO1xufVxuXG4vKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgUHJvZ3JhbUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIFByb2dyYW1DYWNoZSA9IHt9O1xuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRleHR1cmVDYWNoZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbnZhciBUZXh0dXJlQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIEJhc2VUZXh0dXJlQ2FjaGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgQmFzZVRleHR1cmVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKipcbiAqIERlc3Ryb3lzIGFsbCB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVzdHJveVRleHR1cmVDYWNoZVxuICovXG5mdW5jdGlvbiBkZXN0cm95VGV4dHVyZUNhY2hlKCkge1xuICAgIHZhciBrZXk7XG4gICAgZm9yIChrZXkgaW4gVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIFRleHR1cmVDYWNoZVtrZXldLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSkge1xuICAgICAgICBCYXNlVGV4dHVyZUNhY2hlW2tleV0uZGVzdHJveSgpO1xuICAgIH1cbn1cbi8qKlxuICogUmVtb3ZlcyBhbGwgdGV4dHVyZXMgZnJvbSBjYWNoZSwgYnV0IGRvZXMgbm90IGRlc3Ryb3kgdGhlbVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY2xlYXJUZXh0dXJlQ2FjaGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJUZXh0dXJlQ2FjaGUoKSB7XG4gICAgdmFyIGtleTtcbiAgICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVtrZXldO1xuICAgIH1cbiAgICBmb3IgKGtleSBpbiBCYXNlVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2tleV07XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCBvZiB0aGUgZ2l2ZW4gc2l6ZSB0byBiZSB1c2VkIGFzIGEgdGFyZ2V0IGZvciByZW5kZXJpbmcgdG8uXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICovXG52YXIgQ2FudmFzUmVuZGVyVGFyZ2V0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBmb3IgdGhlIG5ld2x5IGNyZWF0ZWQgY2FudmFzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBoZWlnaHQgZm9yIHRoZSBuZXdseSBjcmVhdGVkIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIENhbnZhcyBvYmplY3QgdGhhdCBiZWxvbmdzIHRvIHRoaXMgQ2FudmFzUmVuZGVyVGFyZ2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCBvYmplY3QgcmVwcmVzZW50aW5nIGEgdHdvLWRpbWVuc2lvbmFsIHJlbmRlcmluZyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGNhbnZhcyB0aGF0IHdhcyBjcmVhdGVkIGJ5IHRoZSBDYW52YXNSZW5kZXJUYXJnZXQgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgY2FudmFzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgKi9cbiAgICBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgY2FudmFzLlxuICAgICAqXG4gICAgICovXG4gICAgQ2FudmFzUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FudmFzUmVuZGVyVGFyZ2V0LnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGNhbnZhcyBidWZmZXIgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHZhbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBjYW52YXMgYnVmZmVyIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHZhbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBDYW52YXNSZW5kZXJUYXJnZXQ7XG59KCkpO1xuXG4vKipcbiAqIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVycyBmcm9tIGEgY2FudmFzXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiB0cmltQ2FudmFzXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSB0aGUgY2FudmFzIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtvYmplY3R9IFRyaW0gZGF0YVxuICovXG5mdW5jdGlvbiB0cmltQ2FudmFzKGNhbnZhcykge1xuICAgIC8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3JlbXkvNzg0NTA4XG4gICAgdmFyIHdpZHRoID0gY2FudmFzLndpZHRoO1xuICAgIHZhciBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgdmFyIGltYWdlRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHZhciBwaXhlbHMgPSBpbWFnZURhdGEuZGF0YTtcbiAgICB2YXIgbGVuID0gcGl4ZWxzLmxlbmd0aDtcbiAgICB2YXIgYm91bmQgPSB7XG4gICAgICAgIHRvcDogbnVsbCxcbiAgICAgICAgbGVmdDogbnVsbCxcbiAgICAgICAgcmlnaHQ6IG51bGwsXG4gICAgICAgIGJvdHRvbTogbnVsbCxcbiAgICB9O1xuICAgIHZhciBkYXRhID0gbnVsbDtcbiAgICB2YXIgaTtcbiAgICB2YXIgeDtcbiAgICB2YXIgeTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgaWYgKHBpeGVsc1tpICsgM10gIT09IDApIHtcbiAgICAgICAgICAgIHggPSAoaSAvIDQpICUgd2lkdGg7XG4gICAgICAgICAgICB5ID0gfn4oKGkgLyA0KSAvIHdpZHRoKTtcbiAgICAgICAgICAgIGlmIChib3VuZC50b3AgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBib3VuZC50b3AgPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvdW5kLmxlZnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5sZWZ0ID0geDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHggPCBib3VuZC5sZWZ0KSB7XG4gICAgICAgICAgICAgICAgYm91bmQubGVmdCA9IHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYm91bmQucmlnaHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5yaWdodCA9IHggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYm91bmQucmlnaHQgPCB4KSB7XG4gICAgICAgICAgICAgICAgYm91bmQucmlnaHQgPSB4ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChib3VuZC5ib3R0b20gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5ib3R0b20gPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYm91bmQuYm90dG9tIDwgeSkge1xuICAgICAgICAgICAgICAgIGJvdW5kLmJvdHRvbSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGJvdW5kLnRvcCAhPT0gbnVsbCkge1xuICAgICAgICB3aWR0aCA9IGJvdW5kLnJpZ2h0IC0gYm91bmQubGVmdDtcbiAgICAgICAgaGVpZ2h0ID0gYm91bmQuYm90dG9tIC0gYm91bmQudG9wICsgMTtcbiAgICAgICAgZGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKGJvdW5kLmxlZnQsIGJvdW5kLnRvcCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgfTtcbn1cblxuLyoqXG4gKiBSZWdleHAgZm9yIGRhdGEgVVJJLlxuICogQmFzZWQgb246IHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcmFnaW5nd2luZC9kYXRhLXVyaS1yZWdleH1cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge1JlZ0V4cHxzdHJpbmd9IERBVEFfVVJJXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4YW1wbGUgZGF0YTppbWFnZS9wbmc7YmFzZTY0XG4gKi9cbnZhciBEQVRBX1VSSSA9IC9eXFxzKmRhdGE6KD86KFtcXHctXSspXFwvKFtcXHcrLi1dKykpPyg/OjtjaGFyc2V0PShbXFx3LV0rKSk/KD86OyhiYXNlNjQpKT8sKC4qKS9pO1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAaW50ZXJmYWNlIERlY29tcG9zZWREYXRhVXJpXG4gKi9cbi8qKlxuICogdHlwZSwgZWcuIGBpbWFnZWBcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLkRlY29tcG9zZWREYXRhVXJpI1xuICogQG1lbWJlciB7c3RyaW5nfSBtZWRpYVR5cGVcbiAqL1xuLyoqXG4gKiBTdWIgdHlwZSwgZWcuIGBwbmdgXG4gKiBAbWVtYmVyb2YgUElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaSNcbiAqIEBtZW1iZXIge3N0cmluZ30gc3ViVHlwZVxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLkRlY29tcG9zZWREYXRhVXJpI1xuICogQG1lbWJlciB7c3RyaW5nfSBjaGFyc2V0XG4gKi9cbi8qKlxuICogRGF0YSBlbmNvZGluZywgZWcuIGBiYXNlNjRgXG4gKiBAbWVtYmVyb2YgUElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaSNcbiAqIEBtZW1iZXIge3N0cmluZ30gZW5jb2RpbmdcbiAqL1xuLyoqXG4gKiBUaGUgYWN0dWFsIGRhdGFcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLkRlY29tcG9zZWREYXRhVXJpI1xuICogQG1lbWJlciB7c3RyaW5nfSBkYXRhXG4gKi9cbi8qKlxuICogU3BsaXQgYSBkYXRhIFVSSSBpbnRvIGNvbXBvbmVudHMuIFJldHVybnMgdW5kZWZpbmVkIGlmXG4gKiBwYXJhbWV0ZXIgYGRhdGFVcmlgIGlzIG5vdCBhIHZhbGlkIGRhdGEgVVJJLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVjb21wb3NlRGF0YVVyaVxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGFVcmkgLSB0aGUgZGF0YSBVUkkgdG8gY2hlY2tcbiAqIEByZXR1cm4ge1BJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcml8dW5kZWZpbmVkfSBUaGUgZGVjb21wb3NlZCBkYXRhIHVyaSBvciB1bmRlZmluZWRcbiAqL1xuZnVuY3Rpb24gZGVjb21wb3NlRGF0YVVyaShkYXRhVXJpKSB7XG4gICAgdmFyIGRhdGFVcmlNYXRjaCA9IERBVEFfVVJJLmV4ZWMoZGF0YVVyaSk7XG4gICAgaWYgKGRhdGFVcmlNYXRjaCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVkaWFUeXBlOiBkYXRhVXJpTWF0Y2hbMV0gPyBkYXRhVXJpTWF0Y2hbMV0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHN1YlR5cGU6IGRhdGFVcmlNYXRjaFsyXSA/IGRhdGFVcmlNYXRjaFsyXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY2hhcnNldDogZGF0YVVyaU1hdGNoWzNdID8gZGF0YVVyaU1hdGNoWzNdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBlbmNvZGluZzogZGF0YVVyaU1hdGNoWzRdID8gZGF0YVVyaU1hdGNoWzRdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkYXRhOiBkYXRhVXJpTWF0Y2hbNV0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbnZhciB0ZW1wQW5jaG9yO1xuLyoqXG4gKiBTZXRzIHRoZSBgY3Jvc3NPcmlnaW5gIHByb3BlcnR5IGZvciB0aGlzIHJlc291cmNlIGJhc2VkIG9uIGlmIHRoZSB1cmxcbiAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICogTmlwcGVkIGZyb20gdGhlIHJlc291cmNlIGxvYWRlciFcbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB0ZXN0LlxuICogQHBhcmFtIHtvYmplY3R9IFtsb2M9d2luZG93LmxvY2F0aW9uXSAtIFRoZSBsb2NhdGlvbiBvYmplY3QgdG8gdGVzdCBhZ2FpbnN0LlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICovXG5mdW5jdGlvbiBkZXRlcm1pbmVDcm9zc09yaWdpbih1cmwsIGxvYykge1xuICAgIGlmIChsb2MgPT09IHZvaWQgMCkgeyBsb2MgPSB3aW5kb3cubG9jYXRpb247IH1cbiAgICAvLyBkYXRhOiBhbmQgamF2YXNjcmlwdDogdXJscyBhcmUgY29uc2lkZXJlZCBzYW1lLW9yaWdpblxuICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIC8vIGRlZmF1bHQgaXMgd2luZG93LmxvY2F0aW9uXG4gICAgbG9jID0gbG9jIHx8IHdpbmRvdy5sb2NhdGlvbjtcbiAgICBpZiAoIXRlbXBBbmNob3IpIHtcbiAgICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB9XG4gICAgLy8gbGV0IHRoZSBicm93c2VyIGRldGVybWluZSB0aGUgZnVsbCBocmVmIGZvciB0aGUgdXJsIG9mIHRoaXMgcmVzb3VyY2UgYW5kIHRoZW5cbiAgICAvLyBwYXJzZSB3aXRoIHRoZSBub2RlIHVybCBsaWIsIHdlIGNhbid0IHVzZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgYW5jaG9yIGVsZW1lbnRcbiAgICAvLyBiZWNhdXNlIHRoZXkgZG9uJ3Qgd29yayBpbiBJRTkgOihcbiAgICB0ZW1wQW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgdmFyIHBhcnNlZFVybCA9IHBhcnNlKHRlbXBBbmNob3IuaHJlZik7XG4gICAgdmFyIHNhbWVQb3J0ID0gKCFwYXJzZWRVcmwucG9ydCAmJiBsb2MucG9ydCA9PT0gJycpIHx8IChwYXJzZWRVcmwucG9ydCA9PT0gbG9jLnBvcnQpO1xuICAgIC8vIGlmIGNyb3NzIG9yaWdpblxuICAgIGlmIChwYXJzZWRVcmwuaG9zdG5hbWUgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgcGFyc2VkVXJsLnByb3RvY29sICE9PSBsb2MucHJvdG9jb2wpIHtcbiAgICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogZ2V0IHRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIGFuIGFzc2V0IGJ5IGxvb2tpbmcgZm9yIHRoZSBwcmVmaXhcbiAqIHVzZWQgYnkgc3ByaXRlc2hlZXRzIGFuZCBpbWFnZSB1cmxzXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBnZXRSZXNvbHV0aW9uT2ZVcmxcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSB0aGUgaW1hZ2UgcGF0aFxuICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWU9MV0gLSB0aGUgZGVmYXVsdFZhbHVlIGlmIG5vIGZpbGVuYW1lIHByZWZpeCBpcyBzZXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgYW4gYXNzZXRcbiAqL1xuZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbk9mVXJsKHVybCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgdmFyIHJlc29sdXRpb24gPSBzZXR0aW5ncy5SRVRJTkFfUFJFRklYLmV4ZWModXJsKTtcbiAgICBpZiAocmVzb2x1dGlvbikge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChyZXNvbHV0aW9uWzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogMTtcbn1cblxuLyoqXG4gKiBHZW5lcmFsaXplZCBjb252ZW5pZW5jZSB1dGlsaXRpZXMgZm9yIFBJWEkuXG4gKiBAZXhhbXBsZVxuICogLy8gRXh0ZW5kIFBJWEkncyBpbnRlcm5hbCBFdmVudCBFbWl0dGVyLlxuICogY2xhc3MgTXlFbWl0dGVyIGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXIge1xuICogICBjb25zdHJ1Y3RvcigpIHtcbiAqICAgICAgc3VwZXIoKTtcbiAqICAgICAgY29uc29sZS5sb2coXCJFbWl0dGVyIGNyZWF0ZWQhXCIpO1xuICogICB9XG4gKiB9XG4gKlxuICogLy8gR2V0IGluZm8gb24gY3VycmVudCBkZXZpY2VcbiAqIGNvbnNvbGUubG9nKFBJWEkudXRpbHMuaXNNb2JpbGUpO1xuICpcbiAqIC8vIENvbnZlcnQgaGV4IGNvbG9yIHRvIHN0cmluZ1xuICogY29uc29sZS5sb2coUElYSS51dGlscy5oZXgyc3RyaW5nKDB4ZmYwMGZmKSk7IC8vIHJldHVybnM6IFwiI2ZmMDBmZlwiXG4gKiBAbmFtZXNwYWNlIFBJWEkudXRpbHNcbiAqL1xuXG5leHBvcnQgeyBCYXNlVGV4dHVyZUNhY2hlLCBDYW52YXNSZW5kZXJUYXJnZXQsIERBVEFfVVJJLCBQcm9ncmFtQ2FjaGUsIFRleHR1cmVDYWNoZSwgY2xlYXJUZXh0dXJlQ2FjaGUsIGNvcnJlY3RCbGVuZE1vZGUsIGNyZWF0ZUluZGljZXNGb3JRdWFkcywgZGVjb21wb3NlRGF0YVVyaSwgZGVwcmVjYXRpb24sIGRlc3Ryb3lUZXh0dXJlQ2FjaGUsIGRldGVybWluZUNyb3NzT3JpZ2luLCBnZXRCdWZmZXJUeXBlLCBnZXRSZXNvbHV0aW9uT2ZVcmwsIGhleDJyZ2IsIGhleDJzdHJpbmcsIGludGVybGVhdmVUeXBlZEFycmF5cywgaXNQb3cyLCBpc1dlYkdMU3VwcG9ydGVkLCBsb2cyLCBuZXh0UG93MiwgcHJlbXVsdGlwbHlCbGVuZE1vZGUsIHByZW11bHRpcGx5UmdiYSwgcHJlbXVsdGlwbHlUaW50LCBwcmVtdWx0aXBseVRpbnRUb1JnYmEsIHJlbW92ZUl0ZW1zLCByZ2IyaGV4LCBzYXlIZWxsbywgc2lnbiwgc2tpcEhlbGxvLCBzdHJpbmcyaGV4LCB0cmltQ2FudmFzLCB1aWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9tYXRoIC0gdjUuMy4zXG4gKiBDb21waWxlZCBUdWUsIDA0IEF1ZyAyMDIwIDE2OjIzOjA5IFVUQ1xuICpcbiAqIEBwaXhpL21hdGggaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4vKipcbiAqIFR3byBQaS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge251bWJlcn0gUElfMlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBJXzIgPSBNYXRoLlBJICogMjtcbi8qKlxuICogQ29udmVyc2lvbiBmYWN0b3IgZm9yIGNvbnZlcnRpbmcgcmFkaWFucyB0byBkZWdyZWVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7bnVtYmVyfSBSQURfVE9fREVHXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUkFEX1RPX0RFRyA9IDE4MCAvIE1hdGguUEk7XG4vKipcbiAqIENvbnZlcnNpb24gZmFjdG9yIGZvciBjb252ZXJ0aW5nIGRlZ3JlZXMgdG8gcmFkaWFucy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge251bWJlcn0gREVHX1RPX1JBRFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIERFR19UT19SQUQgPSBNYXRoLlBJIC8gMTgwO1xudmFyIFNIQVBFUztcbihmdW5jdGlvbiAoU0hBUEVTKSB7XG4gICAgU0hBUEVTW1NIQVBFU1tcIlBPTFlcIl0gPSAwXSA9IFwiUE9MWVwiO1xuICAgIFNIQVBFU1tTSEFQRVNbXCJSRUNUXCJdID0gMV0gPSBcIlJFQ1RcIjtcbiAgICBTSEFQRVNbU0hBUEVTW1wiQ0lSQ1wiXSA9IDJdID0gXCJDSVJDXCI7XG4gICAgU0hBUEVTW1NIQVBFU1tcIkVMSVBcIl0gPSAzXSA9IFwiRUxJUFwiO1xuICAgIFNIQVBFU1tTSEFQRVNbXCJSUkVDXCJdID0gNF0gPSBcIlJSRUNcIjtcbn0pKFNIQVBFUyB8fCAoU0hBUEVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgaWRlbnRpZnkgc2hhcGVzLCBtYWlubHkgdG8gcHJldmVudCBgaW5zdGFuY2VvZmAgY2FsbHMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBTSEFQRVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7ZW51bX1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT0xZIFBvbHlnb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSRUNUIFJlY3RhbmdsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENJUkMgQ2lyY2xlXG4gKiBAcHJvcGVydHkge251bWJlcn0gRUxJUCBFbGxpcHNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gUlJFQyBSb3VuZGVkIFJlY3RhbmdsZVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuXG4vKipcbiAqIFNpemUgb2JqZWN0LCBjb250YWlucyB3aWR0aCBhbmQgaGVpZ2h0XG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElTaXplXG4gKiBAcHJvcGVydHkge251bWJlcn0gd2lkdGggLSBXaWR0aCBjb21wb25lbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgY29tcG9uZW50XG4gKi9cbi8qKlxuICogUmVjdGFuZ2xlIG9iamVjdCBpcyBhbiBhcmVhIGRlZmluZWQgYnkgaXRzIHBvc2l0aW9uLCBhcyBpbmRpY2F0ZWQgYnkgaXRzIHRvcC1sZWZ0IGNvcm5lclxuICogcG9pbnQgKHgsIHkpIGFuZCBieSBpdHMgd2lkdGggYW5kIGl0cyBoZWlnaHQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVjdGFuZ2xlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIFRoZSBvdmVyYWxsIHdpZHRoIG9mIHRoaXMgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MF0gLSBUaGUgb3ZlcmFsbCBoZWlnaHQgb2YgdGhpcyByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAwOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IE51bWJlcih4KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0gTnVtYmVyKHkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gTnVtYmVyKHdpZHRoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBOdW1iZXIoaGVpZ2h0KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUkVDVFxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUkVDVDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY3RhbmdsZS5wcm90b3R5cGUsIFwibGVmdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLng7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjdGFuZ2xlLnByb3RvdHlwZSwgXCJyaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSByaWdodCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54ICsgdGhpcy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWN0YW5nbGUucHJvdG90eXBlLCBcInRvcFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSB0b3AgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWN0YW5nbGUucHJvdG90eXBlLCBcImJvdHRvbVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSBib3R0b20gZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueSArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY3RhbmdsZSwgXCJFTVBUWVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNvbnN0YW50IGVtcHR5IHJlY3RhbmdsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBBbiBlbXB0eSByZWN0YW5nbGVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUoMCwgMCwgMCwgMCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBhIGNvcHkgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgYW5vdGhlciByZWN0YW5nbGUgdG8gdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGNvcHkgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jb3B5RnJvbSA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgdGhpcy54ID0gcmVjdGFuZ2xlLng7XG4gICAgICAgIHRoaXMueSA9IHJlY3RhbmdsZS55O1xuICAgICAgICB0aGlzLndpZHRoID0gcmVjdGFuZ2xlLndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHJlY3RhbmdsZS5oZWlnaHQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoaXMgcmVjdGFuZ2xlIHRvIGFub3RoZXIgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBjb3B5IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGdpdmVuIHBhcmFtZXRlci5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNvcHlUbyA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgcmVjdGFuZ2xlLnggPSB0aGlzLng7XG4gICAgICAgIHJlY3RhbmdsZS55ID0gdGhpcy55O1xuICAgICAgICByZWN0YW5nbGUud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICByZWN0YW5nbGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgIHJldHVybiByZWN0YW5nbGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggPj0gdGhpcy54ICYmIHggPCB0aGlzLnggKyB0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICBpZiAoeSA+PSB0aGlzLnkgJiYgeSA8IHRoaXMueSArIHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFkcyB0aGUgcmVjdGFuZ2xlIG1ha2luZyBpdCBncm93IGluIGFsbCBkaXJlY3Rpb25zLlxuICAgICAqIElmIHBhZGRpbmdZIGlzIG9taXR0ZWQsIGJvdGggcGFkZGluZ1ggYW5kIHBhZGRpbmdZIHdpbGwgYmUgc2V0IHRvIHBhZGRpbmdYLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRkaW5nWD0wXSAtIFRoZSBob3Jpem9udGFsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkZGluZ1k9MF0gLSBUaGUgdmVydGljYWwgcGFkZGluZyBhbW91bnQuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24gKHBhZGRpbmdYLCBwYWRkaW5nWSkge1xuICAgICAgICBpZiAocGFkZGluZ1ggPT09IHZvaWQgMCkgeyBwYWRkaW5nWCA9IDA7IH1cbiAgICAgICAgaWYgKHBhZGRpbmdZID09PSB2b2lkIDApIHsgcGFkZGluZ1kgPSBwYWRkaW5nWDsgfVxuICAgICAgICB0aGlzLnggLT0gcGFkZGluZ1g7XG4gICAgICAgIHRoaXMueSAtPSBwYWRkaW5nWTtcbiAgICAgICAgdGhpcy53aWR0aCArPSBwYWRkaW5nWCAqIDI7XG4gICAgICAgIHRoaXMuaGVpZ2h0ICs9IHBhZGRpbmdZICogMjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaXRzIHRoaXMgcmVjdGFuZ2xlIGFyb3VuZCB0aGUgcGFzc2VkIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gZml0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmZpdCA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgdmFyIHgxID0gTWF0aC5tYXgodGhpcy54LCByZWN0YW5nbGUueCk7XG4gICAgICAgIHZhciB4MiA9IE1hdGgubWluKHRoaXMueCArIHRoaXMud2lkdGgsIHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoKTtcbiAgICAgICAgdmFyIHkxID0gTWF0aC5tYXgodGhpcy55LCByZWN0YW5nbGUueSk7XG4gICAgICAgIHZhciB5MiA9IE1hdGgubWluKHRoaXMueSArIHRoaXMuaGVpZ2h0LCByZWN0YW5nbGUueSArIHJlY3RhbmdsZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLnggPSB4MTtcbiAgICAgICAgdGhpcy53aWR0aCA9IE1hdGgubWF4KHgyIC0geDEsIDApO1xuICAgICAgICB0aGlzLnkgPSB5MTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLm1heCh5MiAtIHkxLCAwKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmxhcmdlcyByZWN0YW5nbGUgdGhhdCB3YXkgaXRzIGNvcm5lcnMgbGllIG9uIGdyaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSByZXNvbHV0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlcHM9MC4wMDFdIHByZWNpc2lvblxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNlaWwgPSBmdW5jdGlvbiAocmVzb2x1dGlvbiwgZXBzKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSB2b2lkIDApIHsgcmVzb2x1dGlvbiA9IDE7IH1cbiAgICAgICAgaWYgKGVwcyA9PT0gdm9pZCAwKSB7IGVwcyA9IDAuMDAxOyB9XG4gICAgICAgIHZhciB4MiA9IE1hdGguY2VpbCgodGhpcy54ICsgdGhpcy53aWR0aCAtIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICAgIHZhciB5MiA9IE1hdGguY2VpbCgodGhpcy55ICsgdGhpcy5oZWlnaHQgLSBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnggPSBNYXRoLmZsb29yKCh0aGlzLnggKyBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnkgPSBNYXRoLmZsb29yKCh0aGlzLnkgKyBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLndpZHRoID0geDIgLSB0aGlzLng7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0geTIgLSB0aGlzLnk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5sYXJnZXMgdGhpcyByZWN0YW5nbGUgdG8gaW5jbHVkZSB0aGUgcGFzc2VkIHJlY3RhbmdsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gaW5jbHVkZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5lbmxhcmdlID0gZnVuY3Rpb24gKHJlY3RhbmdsZSkge1xuICAgICAgICB2YXIgeDEgPSBNYXRoLm1pbih0aGlzLngsIHJlY3RhbmdsZS54KTtcbiAgICAgICAgdmFyIHgyID0gTWF0aC5tYXgodGhpcy54ICsgdGhpcy53aWR0aCwgcmVjdGFuZ2xlLnggKyByZWN0YW5nbGUud2lkdGgpO1xuICAgICAgICB2YXIgeTEgPSBNYXRoLm1pbih0aGlzLnksIHJlY3RhbmdsZS55KTtcbiAgICAgICAgdmFyIHkyID0gTWF0aC5tYXgodGhpcy55ICsgdGhpcy5oZWlnaHQsIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCk7XG4gICAgICAgIHRoaXMueCA9IHgxO1xuICAgICAgICB0aGlzLndpZHRoID0geDIgLSB4MTtcbiAgICAgICAgdGhpcy55ID0geTE7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0geTIgLSB5MTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gUmVjdGFuZ2xlO1xufSgpKTtcblxuLyoqXG4gKiBUaGUgQ2lyY2xlIG9iamVjdCBpcyB1c2VkIHRvIGhlbHAgZHJhdyBncmFwaGljcyBhbmQgY2FuIGFsc28gYmUgdXNlZCB0byBzcGVjaWZ5IGEgaGl0IGFyZWEgZm9yIGRpc3BsYXlPYmplY3RzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENpcmNsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl1cz0wXSAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENpcmNsZSh4LCB5LCByYWRpdXMpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmIChyYWRpdXMgPT09IHZvaWQgMCkgeyByYWRpdXMgPSAwOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5DSVJDXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5DSVJDO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBDaXJjbGUgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuQ2lyY2xlfSBhIGNvcHkgb2YgdGhlIENpcmNsZVxuICAgICAqL1xuICAgIENpcmNsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2lyY2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLnJhZGl1cyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIGNpcmNsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBDaXJjbGVcbiAgICAgKi9cbiAgICBDaXJjbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMucmFkaXVzIDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcjIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuICAgICAgICB2YXIgZHggPSAodGhpcy54IC0geCk7XG4gICAgICAgIHZhciBkeSA9ICh0aGlzLnkgLSB5KTtcbiAgICAgICAgZHggKj0gZHg7XG4gICAgICAgIGR5ICo9IGR5O1xuICAgICAgICByZXR1cm4gKGR4ICsgZHkgPD0gcjIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBmcmFtaW5nIHJlY3RhbmdsZSBvZiB0aGUgY2lyY2xlIGFzIGEgUmVjdGFuZ2xlIG9iamVjdFxuICAgICpcbiAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgZnJhbWluZyByZWN0YW5nbGVcbiAgICAqL1xuICAgIENpcmNsZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLnJhZGl1cywgdGhpcy55IC0gdGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzICogMiwgdGhpcy5yYWRpdXMgKiAyKTtcbiAgICB9O1xuICAgIHJldHVybiBDaXJjbGU7XG59KCkpO1xuXG4vKipcbiAqIFRoZSBFbGxpcHNlIG9iamVjdCBpcyB1c2VkIHRvIGhlbHAgZHJhdyBncmFwaGljcyBhbmQgY2FuIGFsc28gYmUgdXNlZCB0byBzcGVjaWZ5IGEgaGl0IGFyZWEgZm9yIGRpc3BsYXlPYmplY3RzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEVsbGlwc2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoaXMgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hhbGZXaWR0aD0wXSAtIFRoZSBoYWxmIHdpZHRoIG9mIHRoaXMgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGFsZkhlaWdodD0wXSAtIFRoZSBoYWxmIGhlaWdodCBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFbGxpcHNlKHgsIHksIGhhbGZXaWR0aCwgaGFsZkhlaWdodCkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKGhhbGZXaWR0aCA9PT0gdm9pZCAwKSB7IGhhbGZXaWR0aCA9IDA7IH1cbiAgICAgICAgaWYgKGhhbGZIZWlnaHQgPT09IHZvaWQgMCkgeyBoYWxmSGVpZ2h0ID0gMDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gaGFsZldpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhhbGZIZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLkVMSVBcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLkVMSVA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIEVsbGlwc2UgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuRWxsaXBzZX0gYSBjb3B5IG9mIHRoZSBlbGxpcHNlXG4gICAgICovXG4gICAgRWxsaXBzZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRWxsaXBzZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBlbGxpcHNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRzIGFyZSB3aXRoaW4gdGhpcyBlbGxpcHNlXG4gICAgICovXG4gICAgRWxsaXBzZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBub3JtYWxpemUgdGhlIGNvb3JkcyB0byBhbiBlbGxpcHNlIHdpdGggY2VudGVyIDAsMFxuICAgICAgICB2YXIgbm9ybXggPSAoKHggLSB0aGlzLngpIC8gdGhpcy53aWR0aCk7XG4gICAgICAgIHZhciBub3JteSA9ICgoeSAtIHRoaXMueSkgLyB0aGlzLmhlaWdodCk7XG4gICAgICAgIG5vcm14ICo9IG5vcm14O1xuICAgICAgICBub3JteSAqPSBub3JteTtcbiAgICAgICAgcmV0dXJuIChub3JteCArIG5vcm15IDw9IDEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZnJhbWluZyByZWN0YW5nbGUgb2YgdGhlIGVsbGlwc2UgYXMgYSBSZWN0YW5nbGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIGZyYW1pbmcgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgRWxsaXBzZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLndpZHRoLCB0aGlzLnkgLSB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH07XG4gICAgcmV0dXJuIEVsbGlwc2U7XG59KCkpO1xuXG4vKipcbiAqIEEgY2xhc3MgdG8gZGVmaW5lIGEgc2hhcGUgdmlhIHVzZXIgZGVmaW5lZCBjby1vcmluYXRlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQb2x5Z29uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnRbXXxudW1iZXJbXX0gcG9pbnRzIC0gVGhpcyBjYW4gYmUgYW4gYXJyYXkgb2YgUG9pbnRzXG4gICAgICogIHRoYXQgZm9ybSB0aGUgcG9seWdvbiwgYSBmbGF0IGFycmF5IG9mIG51bWJlcnMgdGhhdCB3aWxsIGJlIGludGVycHJldGVkIGFzIFt4LHksIHgseSwgLi4uXSwgb3JcbiAgICAgKiAgdGhlIGFyZ3VtZW50cyBwYXNzZWQgY2FuIGJlIGFsbCB0aGUgcG9pbnRzIG9mIHRoZSBwb2x5Z29uIGUuZy5cbiAgICAgKiAgYG5ldyBQSVhJLlBvbHlnb24obmV3IFBJWEkuUG9pbnQoKSwgbmV3IFBJWEkuUG9pbnQoKSwgLi4uKWAsIG9yIHRoZSBhcmd1bWVudHMgcGFzc2VkIGNhbiBiZSBmbGF0XG4gICAgICogIHgseSB2YWx1ZXMgZS5nLiBgbmV3IFBvbHlnb24oeCx5LCB4LHksIHgseSwgLi4uKWAgd2hlcmUgYHhgIGFuZCBgeWAgYXJlIE51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9seWdvbigpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHZhciBwb2ludHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHBvaW50c1tfaV0gPSBhcmd1bWVudHMkMVtfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZsYXQgPSBBcnJheS5pc0FycmF5KHBvaW50c1swXSkgPyBwb2ludHNbMF0gOiBwb2ludHM7XG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYW4gYXJyYXkgb2YgcG9pbnRzLCBjb252ZXJ0IGl0IHRvIGEgZmxhdCBhcnJheSBvZiBudW1iZXJzXG4gICAgICAgIGlmICh0eXBlb2YgZmxhdFswXSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHZhciBwID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmbGF0Lmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwLnB1c2goZmxhdFtpXS54LCBmbGF0W2ldLnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmxhdCA9IHA7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHRoZSBwb2ludHMgb2YgdGhpcyBwb2x5Z29uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludHMgPSBmbGF0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5QT0xZXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5QT0xZO1xuICAgICAgICAvKipcbiAgICAgICAgICogYGZhbHNlYCBhZnRlciBtb3ZlVG8sIGB0cnVlYCBhZnRlciBgY2xvc2VQYXRoYC4gSW4gYWxsIG90aGVyIGNhc2VzIGl0IGlzIGB0cnVlYC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbG9zZVN0cm9rZSA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvbHlnb25cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9seWdvbn0gYSBjb3B5IG9mIHRoZSBwb2x5Z29uXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cy5zbGljZSgpO1xuICAgICAgICB2YXIgcG9seWdvbiA9IG5ldyBQb2x5Z29uKHBvaW50cyk7XG4gICAgICAgIHBvbHlnb24uY2xvc2VTdHJva2UgPSB0aGlzLmNsb3NlU3Ryb2tlO1xuICAgICAgICByZXR1cm4gcG9seWdvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIHBhc3NlZCB0byB0aGlzIGZ1bmN0aW9uIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgcG9seWdvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBwb2x5Z29uXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB2YXIgaW5zaWRlID0gZmFsc2U7XG4gICAgICAgIC8vIHVzZSBzb21lIHJheWNhc3RpbmcgdG8gdGVzdCBoaXRzXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zdWJzdGFjay9wb2ludC1pbi1wb2x5Z29uL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IGxlbmd0aCAtIDE7IGkgPCBsZW5ndGg7IGogPSBpKyspIHtcbiAgICAgICAgICAgIHZhciB4aSA9IHRoaXMucG9pbnRzW2kgKiAyXTtcbiAgICAgICAgICAgIHZhciB5aSA9IHRoaXMucG9pbnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgICAgIHZhciB4aiA9IHRoaXMucG9pbnRzW2ogKiAyXTtcbiAgICAgICAgICAgIHZhciB5aiA9IHRoaXMucG9pbnRzWyhqICogMikgKyAxXTtcbiAgICAgICAgICAgIHZhciBpbnRlcnNlY3QgPSAoKHlpID4geSkgIT09ICh5aiA+IHkpKSAmJiAoeCA8ICgoeGogLSB4aSkgKiAoKHkgLSB5aSkgLyAoeWogLSB5aSkpKSArIHhpKTtcbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3QpIHtcbiAgICAgICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnNpZGU7XG4gICAgfTtcbiAgICByZXR1cm4gUG9seWdvbjtcbn0oKSk7XG5cbi8qKlxuICogVGhlIFJvdW5kZWQgUmVjdGFuZ2xlIG9iamVjdCBpcyBhbiBhcmVhIHRoYXQgaGFzIG5pY2Ugcm91bmRlZCBjb3JuZXJzLCBhcyBpbmRpY2F0ZWQgYnkgaXRzXG4gKiB0b3AtbGVmdCBjb3JuZXIgcG9pbnQgKHgsIHkpIGFuZCBieSBpdHMgd2lkdGggYW5kIGl0cyBoZWlnaHQgYW5kIGl0cyByYWRpdXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUm91bmRlZFJlY3RhbmdsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gVGhlIG92ZXJhbGwgd2lkdGggb2YgdGhpcyByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gVGhlIG92ZXJhbGwgaGVpZ2h0IG9mIHRoaXMgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl1cz0yMF0gLSBDb250cm9scyB0aGUgcmFkaXVzIG9mIHRoZSByb3VuZGVkIGNvcm5lcnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3VuZGVkUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cykge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAwOyB9XG4gICAgICAgIGlmIChyYWRpdXMgPT09IHZvaWQgMCkgeyByYWRpdXMgPSAyMDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlJSRUNcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLlJSRUM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IGEgY29weSBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBSb3VuZGVkUmVjdGFuZ2xlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSb3VuZGVkUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5yYWRpdXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqL1xuICAgIFJvdW5kZWRSZWN0YW5nbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggPj0gdGhpcy54ICYmIHggPD0gdGhpcy54ICsgdGhpcy53aWR0aCkge1xuICAgICAgICAgICAgaWYgKHkgPj0gdGhpcy55ICYmIHkgPD0gdGhpcy55ICsgdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHkgPj0gdGhpcy55ICsgdGhpcy5yYWRpdXMgJiYgeSA8PSB0aGlzLnkgKyB0aGlzLmhlaWdodCAtIHRoaXMucmFkaXVzKVxuICAgICAgICAgICAgICAgICAgICB8fCAoeCA+PSB0aGlzLnggKyB0aGlzLnJhZGl1cyAmJiB4IDw9IHRoaXMueCArIHRoaXMud2lkdGggLSB0aGlzLnJhZGl1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkeCA9IHggLSAodGhpcy54ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIHZhciBkeSA9IHkgLSAodGhpcy55ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIHZhciByYWRpdXMyID0gdGhpcy5yYWRpdXMgKiB0aGlzLnJhZGl1cztcbiAgICAgICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLndpZHRoIC0gdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHkgPSB5IC0gKHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHggPSB4IC0gKHRoaXMueCArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBSb3VuZGVkUmVjdGFuZ2xlO1xufSgpKTtcblxuLyoqXG4gKiBDb21tb24gaW50ZXJmYWNlIGZvciBwb2ludHMuIEJvdGggUG9pbnQgYW5kIE9ic2VydmFibGVQb2ludCBpbXBsZW1lbnQgaXRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW50ZXJmYWNlIElQb2ludERhdGFcbiAqL1xuLyoqXG4gKiBYIGNvb3JkXG4gKiBAbWVtYmVyb2YgUElYSS5JUG9pbnREYXRhI1xuICogQG1lbWJlciB7bnVtYmVyfSB4XG4gKi9cbi8qKlxuICogWSBjb29yZFxuICogQG1lbWJlcm9mIFBJWEkuSVBvaW50RGF0YSNcbiAqIEBtZW1iZXIge251bWJlcn0geVxuICovXG5cbi8qKlxuICogQ29tbW9uIGludGVyZmFjZSBmb3IgcG9pbnRzLiBCb3RoIFBvaW50IGFuZCBPYnNlcnZhYmxlUG9pbnQgaW1wbGVtZW50IGl0XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGludGVyZmFjZSBJUG9pbnRcbiAqIEBleHRlbmRzIFBJWEkuSVBvaW50RGF0YVxuICovXG4vKipcbiAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IHggYW5kIHkgcG9zaXRpb24uXG4gKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICpcbiAqIEBtZXRob2Qgc2V0XG4gKiBAbWVtYmVyb2YgUElYSS5JUG9pbnQjXG4gKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICogQHBhcmFtIHtudW1iZXJ9IFt5PXhdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAqL1xuLyoqXG4gKiBDb3BpZXMgeCBhbmQgeSBmcm9tIHRoZSBnaXZlbiBwb2ludFxuICogQG1ldGhvZCBjb3B5RnJvbVxuICogQG1lbWJlcm9mIFBJWEkuSVBvaW50I1xuICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHAgLSBUaGUgcG9pbnQgdG8gY29weSBmcm9tXG4gKiBAcmV0dXJucyB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gKi9cbi8qKlxuICogQ29waWVzIHggYW5kIHkgaW50byB0aGUgZ2l2ZW4gcG9pbnRcbiAqIEBtZXRob2QgY29weVRvXG4gKiBAbWVtYmVyb2YgUElYSS5JUG9pbnQjXG4gKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNvcHkuXG4gKiBAcmV0dXJucyB7UElYSS5JUG9pbnR9IEdpdmVuIHBvaW50IHdpdGggdmFsdWVzIHVwZGF0ZWRcbiAqL1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBvaW50IGlzIGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAqXG4gKiBAbWV0aG9kIGVxdWFsc1xuICogQG1lbWJlcm9mIFBJWEkuSVBvaW50I1xuICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHAgLSBUaGUgcG9pbnQgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gKi9cblxuLyoqXG4gKiBUaGUgUG9pbnQgb2JqZWN0IHJlcHJlc2VudHMgYSBsb2NhdGlvbiBpbiBhIHR3by1kaW1lbnNpb25hbCBjb29yZGluYXRlIHN5c3RlbSwgd2hlcmUgeCByZXByZXNlbnRzXG4gKiB0aGUgaG9yaXpvbnRhbCBheGlzIGFuZCB5IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIGF4aXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgSVBvaW50XG4gKi9cbnZhciBQb2ludCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9pbnQoeCwgeSkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9pbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IGEgY29weSBvZiB0aGUgcG9pbnRcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHggYW5kIHkgZnJvbSB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwIC0gVGhlIHBvaW50IHRvIGNvcHkgZnJvbVxuICAgICAqIEByZXR1cm5zIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAocCkge1xuICAgICAgICB0aGlzLnNldChwLngsIHAueSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHggYW5kIHkgaW50byB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weS5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5JUG9pbnR9IEdpdmVuIHBvaW50IHdpdGggdmFsdWVzIHVwZGF0ZWRcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY29weVRvID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcC5zZXQodGhpcy54LCB0aGlzLnkpO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHAgLSBUaGUgcG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZ2l2ZW4gcG9pbnQgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gKHAueCA9PT0gdGhpcy54KSAmJiAocC55ID09PSB0aGlzLnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9pbnQgdG8gYSBuZXcgeCBhbmQgeSBwb3NpdGlvbi5cbiAgICAgKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9eF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSB4OyB9XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFBvaW50O1xufSgpKTtcblxuLyoqXG4gKiBUaGUgUG9pbnQgb2JqZWN0IHJlcHJlc2VudHMgYSBsb2NhdGlvbiBpbiBhIHR3by1kaW1lbnNpb25hbCBjb29yZGluYXRlIHN5c3RlbSwgd2hlcmUgeCByZXByZXNlbnRzXG4gKiB0aGUgaG9yaXpvbnRhbCBheGlzIGFuZCB5IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIGF4aXMuXG4gKlxuICogQW4gT2JzZXJ2YWJsZVBvaW50IGlzIGEgcG9pbnQgdGhhdCB0cmlnZ2VycyBhIGNhbGxiYWNrIHdoZW4gdGhlIHBvaW50J3MgcG9zaXRpb24gaXMgY2hhbmdlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBJUG9pbnRcbiAqL1xudmFyIE9ic2VydmFibGVQb2ludCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiAtIGNhbGxiYWNrIHdoZW4gY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzY29wZSAtIG93bmVyIG9mIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGVQb2ludChjYiwgc2NvcGUsIHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgdGhpcy5jYiA9IGNiO1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvaW50LlxuICAgICAqIFRoZSBjYWxsYmFjayBhbmQgc2NvcGUgcGFyYW1zIGNhbiBiZSBvdmVyaWRkZW4gb3RoZXJ3aXNlIHRoZXkgd2lsbCBkZWZhdWx0XG4gICAgICogdG8gdGhlIGNsb25lIG9iamVjdCdzIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYj1udWxsXSAtIGNhbGxiYWNrIHdoZW4gY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbc2NvcGU9bnVsbF0gLSBvd25lciBvZiBjYWxsYmFja1xuICAgICAqIEByZXR1cm4ge1BJWEkuT2JzZXJ2YWJsZVBvaW50fSBhIGNvcHkgb2YgdGhlIHBvaW50XG4gICAgICovXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIChjYiwgc2NvcGUpIHtcbiAgICAgICAgaWYgKGNiID09PSB2b2lkIDApIHsgY2IgPSB0aGlzLmNiOyB9XG4gICAgICAgIGlmIChzY29wZSA9PT0gdm9pZCAwKSB7IHNjb3BlID0gdGhpcy5zY29wZTsgfVxuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGVQb2ludChjYiwgc2NvcGUsIHRoaXMuX3gsIHRoaXMuX3kpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9pbnQgdG8gYSBuZXcgeCBhbmQgeSBwb3NpdGlvbi5cbiAgICAgKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9eF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0geDsgfVxuICAgICAgICBpZiAodGhpcy5feCAhPT0geCB8fCB0aGlzLl95ICE9PSB5KSB7XG4gICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHggYW5kIHkgZnJvbSB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwIC0gVGhlIHBvaW50IHRvIGNvcHkgZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5jb3B5RnJvbSA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIGlmICh0aGlzLl94ICE9PSBwLnggfHwgdGhpcy5feSAhPT0gcC55KSB7XG4gICAgICAgICAgICB0aGlzLl94ID0gcC54O1xuICAgICAgICAgICAgdGhpcy5feSA9IHAueTtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvcGllcyB4IGFuZCB5IGludG8gdGhlIGdpdmVuIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNvcHkuXG4gICAgICogQHJldHVybnMge1BJWEkuSVBvaW50fSBHaXZlbiBwb2ludCB3aXRoIHZhbHVlcyB1cGRhdGVkXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiAocCkge1xuICAgICAgICBwLnNldCh0aGlzLl94LCB0aGlzLl95KTtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBvaW50IGlzIGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwIC0gVGhlIHBvaW50IHRvIGNoZWNrXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGdpdmVuIHBvaW50IGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHJldHVybiAocC54ID09PSB0aGlzLl94KSAmJiAocC55ID09PSB0aGlzLl95KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3g7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5feCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl94ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl95ICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3kgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZVBvaW50O1xufSgpKTtcblxuLyoqXG4gKiBUaGUgUGl4aUpTIE1hdHJpeCBhcyBhIGNsYXNzIG1ha2VzIGl0IGEgbG90IGZhc3Rlci5cbiAqXG4gKiBIZXJlIGlzIGEgcmVwcmVzZW50YXRpb24gb2YgaXQ6XG4gKiBgYGBqc1xuICogfCBhIHwgYyB8IHR4fFxuICogfCBiIHwgZCB8IHR5fFxuICogfCAwIHwgMCB8IDEgfFxuICogYGBgXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBNYXRyaXggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthPTFdIC0geCBzY2FsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYj0wXSAtIHggc2tld1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYz0wXSAtIHkgc2tld1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZD0xXSAtIHkgc2NhbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3R4PTBdIC0geCB0cmFuc2xhdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdHk9MF0gLSB5IHRyYW5zbGF0aW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWF0cml4KGEsIGIsIGMsIGQsIHR4LCB0eSkge1xuICAgICAgICBpZiAoYSA9PT0gdm9pZCAwKSB7IGEgPSAxOyB9XG4gICAgICAgIGlmIChiID09PSB2b2lkIDApIHsgYiA9IDA7IH1cbiAgICAgICAgaWYgKGMgPT09IHZvaWQgMCkgeyBjID0gMDsgfVxuICAgICAgICBpZiAoZCA9PT0gdm9pZCAwKSB7IGQgPSAxOyB9XG4gICAgICAgIGlmICh0eCA9PT0gdm9pZCAwKSB7IHR4ID0gMDsgfVxuICAgICAgICBpZiAodHkgPT09IHZvaWQgMCkgeyB0eSA9IDA7IH1cbiAgICAgICAgdGhpcy5hcnJheSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYSA9IGE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYiA9IGI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYyA9IGM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZCA9IGQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHggPSB0eDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eSA9IHR5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgTWF0cml4IG9iamVjdCBiYXNlZCBvbiB0aGUgZ2l2ZW4gYXJyYXkuIFRoZSBFbGVtZW50IHRvIE1hdHJpeCBtYXBwaW5nIG9yZGVyIGlzIGFzIGZvbGxvd3M6XG4gICAgICpcbiAgICAgKiBhID0gYXJyYXlbMF1cbiAgICAgKiBiID0gYXJyYXlbMV1cbiAgICAgKiBjID0gYXJyYXlbM11cbiAgICAgKiBkID0gYXJyYXlbNF1cbiAgICAgKiB0eCA9IGFycmF5WzJdXG4gICAgICogdHkgPSBhcnJheVs1XVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgYXJyYXkgdGhhdCB0aGUgbWF0cml4IHdpbGwgYmUgcG9wdWxhdGVkIGZyb20uXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5mcm9tQXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgdGhpcy5hID0gYXJyYXlbMF07XG4gICAgICAgIHRoaXMuYiA9IGFycmF5WzFdO1xuICAgICAgICB0aGlzLmMgPSBhcnJheVszXTtcbiAgICAgICAgdGhpcy5kID0gYXJyYXlbNF07XG4gICAgICAgIHRoaXMudHggPSBhcnJheVsyXTtcbiAgICAgICAgdGhpcy50eSA9IGFycmF5WzVdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogc2V0cyB0aGUgbWF0cml4IHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eCAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHkgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCB0eCwgdHkpIHtcbiAgICAgICAgdGhpcy5hID0gYTtcbiAgICAgICAgdGhpcy5iID0gYjtcbiAgICAgICAgdGhpcy5jID0gYztcbiAgICAgICAgdGhpcy5kID0gZDtcbiAgICAgICAgdGhpcy50eCA9IHR4O1xuICAgICAgICB0aGlzLnR5ID0gdHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBmcm9tIHRoZSBjdXJyZW50IE1hdHJpeCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRyYW5zcG9zZSAtIFdoZXRoZXIgd2UgbmVlZCB0byB0cmFuc3Bvc2UgdGhlIG1hdHJpeCBvciBub3RcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dD1uZXcgRmxvYXQzMkFycmF5KDkpXSAtIElmIHByb3ZpZGVkIHRoZSBhcnJheSB3aWxsIGJlIGFzc2lnbmVkIHRvIG91dFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSB0aGUgbmV3bHkgY3JlYXRlZCBhcnJheSB3aGljaCBjb250YWlucyB0aGUgbWF0cml4XG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKHRyYW5zcG9zZSwgb3V0KSB7XG4gICAgICAgIGlmICghdGhpcy5hcnJheSkge1xuICAgICAgICAgICAgdGhpcy5hcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoOSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFycmF5ID0gb3V0IHx8IHRoaXMuYXJyYXk7XG4gICAgICAgIGlmICh0cmFuc3Bvc2UpIHtcbiAgICAgICAgICAgIGFycmF5WzBdID0gdGhpcy5hO1xuICAgICAgICAgICAgYXJyYXlbMV0gPSB0aGlzLmI7XG4gICAgICAgICAgICBhcnJheVsyXSA9IDA7XG4gICAgICAgICAgICBhcnJheVszXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzRdID0gdGhpcy5kO1xuICAgICAgICAgICAgYXJyYXlbNV0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbNl0gPSB0aGlzLnR4O1xuICAgICAgICAgICAgYXJyYXlbN10gPSB0aGlzLnR5O1xuICAgICAgICAgICAgYXJyYXlbOF0gPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlbMF0gPSB0aGlzLmE7XG4gICAgICAgICAgICBhcnJheVsxXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzJdID0gdGhpcy50eDtcbiAgICAgICAgICAgIGFycmF5WzNdID0gdGhpcy5iO1xuICAgICAgICAgICAgYXJyYXlbNF0gPSB0aGlzLmQ7XG4gICAgICAgICAgICBhcnJheVs1XSA9IHRoaXMudHk7XG4gICAgICAgICAgICBhcnJheVs2XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs3XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs4XSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgbmV3IHBvc2l0aW9uIHdpdGggdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb24gYXBwbGllZC5cbiAgICAgKiBDYW4gYmUgdXNlZCB0byBnbyBmcm9tIGEgY2hpbGQncyBjb29yZGluYXRlIHNwYWNlIHRvIHRoZSB3b3JsZCBjb29yZGluYXRlIHNwYWNlLiAoZS5nLiByZW5kZXJpbmcpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9zIC0gVGhlIG9yaWdpblxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW25ld1Bvc10gLSBUaGUgcG9pbnQgdGhhdCB0aGUgbmV3IHBvc2l0aW9uIGlzIGFzc2lnbmVkIHRvIChhbGxvd2VkIHRvIGJlIHNhbWUgYXMgaW5wdXQpXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gVGhlIG5ldyBwb2ludCwgdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiAocG9zLCBuZXdQb3MpIHtcbiAgICAgICAgbmV3UG9zID0gKG5ld1BvcyB8fCBuZXcgUG9pbnQoKSk7XG4gICAgICAgIHZhciB4ID0gcG9zLng7XG4gICAgICAgIHZhciB5ID0gcG9zLnk7XG4gICAgICAgIG5ld1Bvcy54ID0gKHRoaXMuYSAqIHgpICsgKHRoaXMuYyAqIHkpICsgdGhpcy50eDtcbiAgICAgICAgbmV3UG9zLnkgPSAodGhpcy5iICogeCkgKyAodGhpcy5kICogeSkgKyB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gbmV3UG9zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgbmV3IHBvc2l0aW9uIHdpdGggdGhlIGludmVyc2Ugb2YgdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb24gYXBwbGllZC5cbiAgICAgKiBDYW4gYmUgdXNlZCB0byBnbyBmcm9tIHRoZSB3b3JsZCBjb29yZGluYXRlIHNwYWNlIHRvIGEgY2hpbGQncyBjb29yZGluYXRlIHNwYWNlLiAoZS5nLiBpbnB1dClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb3MgLSBUaGUgb3JpZ2luXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbbmV3UG9zXSAtIFRoZSBwb2ludCB0aGF0IHRoZSBuZXcgcG9zaXRpb24gaXMgYXNzaWduZWQgdG8gKGFsbG93ZWQgdG8gYmUgc2FtZSBhcyBpbnB1dClcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBUaGUgbmV3IHBvaW50LCBpbnZlcnNlLXRyYW5zZm9ybWVkIHRocm91Z2ggdGhpcyBtYXRyaXhcbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmFwcGx5SW52ZXJzZSA9IGZ1bmN0aW9uIChwb3MsIG5ld1Bvcykge1xuICAgICAgICBuZXdQb3MgPSAobmV3UG9zIHx8IG5ldyBQb2ludCgpKTtcbiAgICAgICAgdmFyIGlkID0gMSAvICgodGhpcy5hICogdGhpcy5kKSArICh0aGlzLmMgKiAtdGhpcy5iKSk7XG4gICAgICAgIHZhciB4ID0gcG9zLng7XG4gICAgICAgIHZhciB5ID0gcG9zLnk7XG4gICAgICAgIG5ld1Bvcy54ID0gKHRoaXMuZCAqIGlkICogeCkgKyAoLXRoaXMuYyAqIGlkICogeSkgKyAoKCh0aGlzLnR5ICogdGhpcy5jKSAtICh0aGlzLnR4ICogdGhpcy5kKSkgKiBpZCk7XG4gICAgICAgIG5ld1Bvcy55ID0gKHRoaXMuYSAqIGlkICogeSkgKyAoLXRoaXMuYiAqIGlkICogeCkgKyAoKCgtdGhpcy50eSAqIHRoaXMuYSkgKyAodGhpcy50eCAqIHRoaXMuYikpICogaWQpO1xuICAgICAgICByZXR1cm4gbmV3UG9zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB0aGUgbWF0cml4IG9uIHRoZSB4IGFuZCB5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBIb3cgbXVjaCB0byB0cmFuc2xhdGUgeCBieVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gSG93IG11Y2ggdG8gdHJhbnNsYXRlIHkgYnlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHRoaXMudHggKz0geDtcbiAgICAgICAgdGhpcy50eSArPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSBzY2FsZSB0cmFuc2Zvcm1hdGlvbiB0byB0aGUgbWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgYW1vdW50IHRvIHNjYWxlIGhvcml6b250YWxseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIGFtb3VudCB0byBzY2FsZSB2ZXJ0aWNhbGx5XG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5zY2FsZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHRoaXMuYSAqPSB4O1xuICAgICAgICB0aGlzLmQgKj0geTtcbiAgICAgICAgdGhpcy5jICo9IHg7XG4gICAgICAgIHRoaXMuYiAqPSB5O1xuICAgICAgICB0aGlzLnR4ICo9IHg7XG4gICAgICAgIHRoaXMudHkgKj0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgcm90YXRpb24gdHJhbnNmb3JtYXRpb24gdG8gdGhlIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSAtIFRoZSBhbmdsZSBpbiByYWRpYW5zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24gKGFuZ2xlKSB7XG4gICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgIHZhciBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICB2YXIgdHgxID0gdGhpcy50eDtcbiAgICAgICAgdGhpcy5hID0gKGExICogY29zKSAtICh0aGlzLmIgKiBzaW4pO1xuICAgICAgICB0aGlzLmIgPSAoYTEgKiBzaW4pICsgKHRoaXMuYiAqIGNvcyk7XG4gICAgICAgIHRoaXMuYyA9IChjMSAqIGNvcykgLSAodGhpcy5kICogc2luKTtcbiAgICAgICAgdGhpcy5kID0gKGMxICogc2luKSArICh0aGlzLmQgKiBjb3MpO1xuICAgICAgICB0aGlzLnR4ID0gKHR4MSAqIGNvcykgLSAodGhpcy50eSAqIHNpbik7XG4gICAgICAgIHRoaXMudHkgPSAodHgxICogc2luKSArICh0aGlzLnR5ICogY29zKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIHRoZSBnaXZlbiBNYXRyaXggdG8gdGhpcyBNYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGFwcGVuZC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYjEgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIGQxID0gdGhpcy5kO1xuICAgICAgICB0aGlzLmEgPSAobWF0cml4LmEgKiBhMSkgKyAobWF0cml4LmIgKiBjMSk7XG4gICAgICAgIHRoaXMuYiA9IChtYXRyaXguYSAqIGIxKSArIChtYXRyaXguYiAqIGQxKTtcbiAgICAgICAgdGhpcy5jID0gKG1hdHJpeC5jICogYTEpICsgKG1hdHJpeC5kICogYzEpO1xuICAgICAgICB0aGlzLmQgPSAobWF0cml4LmMgKiBiMSkgKyAobWF0cml4LmQgKiBkMSk7XG4gICAgICAgIHRoaXMudHggPSAobWF0cml4LnR4ICogYTEpICsgKG1hdHJpeC50eSAqIGMxKSArIHRoaXMudHg7XG4gICAgICAgIHRoaXMudHkgPSAobWF0cml4LnR4ICogYjEpICsgKG1hdHJpeC50eSAqIGQxKSArIHRoaXMudHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWF0cml4IGJhc2VkIG9uIGFsbCB0aGUgYXZhaWxhYmxlIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gUG9zaXRpb24gb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gUG9zaXRpb24gb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXZvdFggLSBQaXZvdCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpdm90WSAtIFBpdm90IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVYIC0gU2NhbGUgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVkgLSBTY2FsZSBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gUm90YXRpb24gaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBza2V3WCAtIFNrZXcgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBza2V3WSAtIFNrZXcgb24gdGhlIHkgYXhpc1xuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gKHgsIHksIHBpdm90WCwgcGl2b3RZLCBzY2FsZVgsIHNjYWxlWSwgcm90YXRpb24sIHNrZXdYLCBza2V3WSkge1xuICAgICAgICB0aGlzLmEgPSBNYXRoLmNvcyhyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICAgICAgdGhpcy5iID0gTWF0aC5zaW4ocm90YXRpb24gKyBza2V3WSkgKiBzY2FsZVg7XG4gICAgICAgIHRoaXMuYyA9IC1NYXRoLnNpbihyb3RhdGlvbiAtIHNrZXdYKSAqIHNjYWxlWTtcbiAgICAgICAgdGhpcy5kID0gTWF0aC5jb3Mocm90YXRpb24gLSBza2V3WCkgKiBzY2FsZVk7XG4gICAgICAgIHRoaXMudHggPSB4IC0gKChwaXZvdFggKiB0aGlzLmEpICsgKHBpdm90WSAqIHRoaXMuYykpO1xuICAgICAgICB0aGlzLnR5ID0geSAtICgocGl2b3RYICogdGhpcy5iKSArIChwaXZvdFkgKiB0aGlzLmQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcmVwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBwcmVwZW5kXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5wcmVwZW5kID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICB2YXIgdHgxID0gdGhpcy50eDtcbiAgICAgICAgaWYgKG1hdHJpeC5hICE9PSAxIHx8IG1hdHJpeC5iICE9PSAwIHx8IG1hdHJpeC5jICE9PSAwIHx8IG1hdHJpeC5kICE9PSAxKSB7XG4gICAgICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgICAgICAgICB0aGlzLmEgPSAoYTEgKiBtYXRyaXguYSkgKyAodGhpcy5iICogbWF0cml4LmMpO1xuICAgICAgICAgICAgdGhpcy5iID0gKGExICogbWF0cml4LmIpICsgKHRoaXMuYiAqIG1hdHJpeC5kKTtcbiAgICAgICAgICAgIHRoaXMuYyA9IChjMSAqIG1hdHJpeC5hKSArICh0aGlzLmQgKiBtYXRyaXguYyk7XG4gICAgICAgICAgICB0aGlzLmQgPSAoYzEgKiBtYXRyaXguYikgKyAodGhpcy5kICogbWF0cml4LmQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHggPSAodHgxICogbWF0cml4LmEpICsgKHRoaXMudHkgKiBtYXRyaXguYykgKyBtYXRyaXgudHg7XG4gICAgICAgIHRoaXMudHkgPSAodHgxICogbWF0cml4LmIpICsgKHRoaXMudHkgKiBtYXRyaXguZCkgKyBtYXRyaXgudHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVjb21wb3NlcyB0aGUgbWF0cml4ICh4LCB5LCBzY2FsZVgsIHNjYWxlWSwgYW5kIHJvdGF0aW9uKSBhbmQgc2V0cyB0aGUgcHJvcGVydGllcyBvbiB0byBhIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHRyYW5zZm9ybSAtIFRoZSB0cmFuc2Zvcm0gdG8gYXBwbHkgdGhlIHByb3BlcnRpZXMgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5UcmFuc2Zvcm19IFRoZSB0cmFuc2Zvcm0gd2l0aCB0aGUgbmV3bHkgYXBwbGllZCBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5kZWNvbXBvc2UgPSBmdW5jdGlvbiAodHJhbnNmb3JtKSB7XG4gICAgICAgIC8vIHNvcnQgb3V0IHJvdGF0aW9uIC8gc2tldy4uXG4gICAgICAgIHZhciBhID0gdGhpcy5hO1xuICAgICAgICB2YXIgYiA9IHRoaXMuYjtcbiAgICAgICAgdmFyIGMgPSB0aGlzLmM7XG4gICAgICAgIHZhciBkID0gdGhpcy5kO1xuICAgICAgICB2YXIgc2tld1ggPSAtTWF0aC5hdGFuMigtYywgZCk7XG4gICAgICAgIHZhciBza2V3WSA9IE1hdGguYXRhbjIoYiwgYSk7XG4gICAgICAgIHZhciBkZWx0YSA9IE1hdGguYWJzKHNrZXdYICsgc2tld1kpO1xuICAgICAgICBpZiAoZGVsdGEgPCAwLjAwMDAxIHx8IE1hdGguYWJzKFBJXzIgLSBkZWx0YSkgPCAwLjAwMDAxKSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBza2V3WTtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5za2V3LnggPSB0cmFuc2Zvcm0uc2tldy55ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IDA7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gc2tld1g7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy55ID0gc2tld1k7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmV4dCBzZXQgc2NhbGVcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlLnggPSBNYXRoLnNxcnQoKGEgKiBhKSArIChiICogYikpO1xuICAgICAgICB0cmFuc2Zvcm0uc2NhbGUueSA9IE1hdGguc3FydCgoYyAqIGMpICsgKGQgKiBkKSk7XG4gICAgICAgIC8vIG5leHQgc2V0IHBvc2l0aW9uXG4gICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdGhpcy50eDtcbiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW52ZXJ0cyB0aGlzIG1hdHJpeFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGIxID0gdGhpcy5iO1xuICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgICAgIHZhciBkMSA9IHRoaXMuZDtcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG4gICAgICAgIHZhciBuID0gKGExICogZDEpIC0gKGIxICogYzEpO1xuICAgICAgICB0aGlzLmEgPSBkMSAvIG47XG4gICAgICAgIHRoaXMuYiA9IC1iMSAvIG47XG4gICAgICAgIHRoaXMuYyA9IC1jMSAvIG47XG4gICAgICAgIHRoaXMuZCA9IGExIC8gbjtcbiAgICAgICAgdGhpcy50eCA9ICgoYzEgKiB0aGlzLnR5KSAtIChkMSAqIHR4MSkpIC8gbjtcbiAgICAgICAgdGhpcy50eSA9IC0oKGExICogdGhpcy50eSkgLSAoYjEgKiB0eDEpKSAvIG47XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoaXMgTWF0cml4IHRvIGFuIGlkZW50aXR5IChkZWZhdWx0KSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmlkZW50aXR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmEgPSAxO1xuICAgICAgICB0aGlzLmIgPSAwO1xuICAgICAgICB0aGlzLmMgPSAwO1xuICAgICAgICB0aGlzLmQgPSAxO1xuICAgICAgICB0aGlzLnR4ID0gMDtcbiAgICAgICAgdGhpcy50eSA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBNYXRyaXggb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IEEgY29weSBvZiB0aGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgICAgICBtYXRyaXguYiA9IHRoaXMuYjtcbiAgICAgICAgbWF0cml4LmMgPSB0aGlzLmM7XG4gICAgICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgICAgICBtYXRyaXgudHggPSB0aGlzLnR4O1xuICAgICAgICBtYXRyaXgudHkgPSB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgdmFsdWVzIG9mIHRoZSBnaXZlbiBtYXRyaXggdG8gYmUgdGhlIHNhbWUgYXMgdGhlIG9uZXMgaW4gdGhpcyBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gY29weSB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hdHJpeCBnaXZlbiBpbiBwYXJhbWV0ZXIgd2l0aCBpdHMgdmFsdWVzIHVwZGF0ZWQuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgICAgICBtYXRyaXguYiA9IHRoaXMuYjtcbiAgICAgICAgbWF0cml4LmMgPSB0aGlzLmM7XG4gICAgICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgICAgICBtYXRyaXgudHggPSB0aGlzLnR4O1xuICAgICAgICBtYXRyaXgudHkgPSB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgdmFsdWVzIG9mIHRoZSBtYXRyaXggdG8gYmUgdGhlIHNhbWUgYXMgdGhlIG9uZXMgaW4gZ2l2ZW4gbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGNvcHkgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gdGhpc1xuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIHRoaXMuYSA9IG1hdHJpeC5hO1xuICAgICAgICB0aGlzLmIgPSBtYXRyaXguYjtcbiAgICAgICAgdGhpcy5jID0gbWF0cml4LmM7XG4gICAgICAgIHRoaXMuZCA9IG1hdHJpeC5kO1xuICAgICAgICB0aGlzLnR4ID0gbWF0cml4LnR4O1xuICAgICAgICB0aGlzLnR5ID0gbWF0cml4LnR5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXgsIFwiSURFTlRJVFlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBkZWZhdWx0IChpZGVudGl0eSkgbWF0cml4XG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeCwgXCJURU1QX01BVFJJWFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRlbXAgbWF0cml4XG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIE1hdHJpeDtcbn0oKSk7XG5cbi8vIFlvdXIgZnJpZW5kbHkgbmVpZ2hib3VyIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RpaGVkcmFsX2dyb3VwXG4vKlxuICogVHJhbnNmb3JtIG1hdHJpeCBmb3Igb3BlcmF0aW9uIG4gaXM6XG4gKiB8IHV4IHwgdnggfFxuICogfCB1eSB8IHZ5IHxcbiAqL1xudmFyIHV4ID0gWzEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDFdO1xudmFyIHV5ID0gWzAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTFdO1xudmFyIHZ4ID0gWzAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTFdO1xudmFyIHZ5ID0gWzEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTFdO1xuLyoqXG4gKiBbQ2F5bGV5IFRhYmxlXXtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYXlsZXlfdGFibGV9XG4gKiBmb3IgdGhlIGNvbXBvc2l0aW9uIG9mIGVhY2ggcm90YXRpb24gaW4gdGhlIGRpaGVkZXJhbCBncm91cCBEOC5cbiAqXG4gKiBAdHlwZSBudW1iZXJbXVtdXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgcm90YXRpb25DYXlsZXkgPSBbXTtcbi8qKlxuICogTWF0cmljZXMgZm9yIGVhY2ggYEdEOFN5bW1ldHJ5YCByb3RhdGlvbi5cbiAqXG4gKiBAdHlwZSBNYXRyaXhbXVxuICogQHByaXZhdGVcbiAqL1xudmFyIHJvdGF0aW9uTWF0cmljZXMgPSBbXTtcbi8qXG4gKiBBbGlhcyBmb3Ige0Bjb2RlIE1hdGguc2lnbn0uXG4gKi9cbnZhciBzaWdudW0gPSBNYXRoLnNpZ247XG4vKlxuICogSW5pdGlhbGl6ZXMgYHJvdGF0aW9uQ2F5bGV5YCBhbmQgYHJvdGF0aW9uTWF0cmljZXNgLiBJdCBpcyBjYWxsZWRcbiAqIG9ubHkgb25jZSBiZWxvdy5cbiAqL1xuZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgdmFyIHJvdyA9IFtdO1xuICAgICAgICByb3RhdGlvbkNheWxleS5wdXNoKHJvdyk7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTY7IGorKykge1xuICAgICAgICAgICAgLyogTXVsdGlwbGllcyByb3RhdGlvbiBtYXRyaWNlcyBpIGFuZCBqLiAqL1xuICAgICAgICAgICAgdmFyIF91eCA9IHNpZ251bSgodXhbaV0gKiB1eFtqXSkgKyAodnhbaV0gKiB1eVtqXSkpO1xuICAgICAgICAgICAgdmFyIF91eSA9IHNpZ251bSgodXlbaV0gKiB1eFtqXSkgKyAodnlbaV0gKiB1eVtqXSkpO1xuICAgICAgICAgICAgdmFyIF92eCA9IHNpZ251bSgodXhbaV0gKiB2eFtqXSkgKyAodnhbaV0gKiB2eVtqXSkpO1xuICAgICAgICAgICAgdmFyIF92eSA9IHNpZ251bSgodXlbaV0gKiB2eFtqXSkgKyAodnlbaV0gKiB2eVtqXSkpO1xuICAgICAgICAgICAgLyogRmluZHMgcm90YXRpb24gbWF0cml4IG1hdGNoaW5nIHRoZSBwcm9kdWN0IGFuZCBwdXNoZXMgaXQuICovXG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IDE2OyBrKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodXhba10gPT09IF91eCAmJiB1eVtrXSA9PT0gX3V5XG4gICAgICAgICAgICAgICAgICAgICYmIHZ4W2tdID09PSBfdnggJiYgdnlba10gPT09IF92eSkge1xuICAgICAgICAgICAgICAgICAgICByb3cucHVzaChrKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICB2YXIgbWF0ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICBtYXQuc2V0KHV4W2ldLCB1eVtpXSwgdnhbaV0sIHZ5W2ldLCAwLCAwKTtcbiAgICAgICAgcm90YXRpb25NYXRyaWNlcy5wdXNoKG1hdCk7XG4gICAgfVxufVxuaW5pdCgpO1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge251bWJlcn0gR0Q4U3ltbWV0cnlcbiAqIEBzZWUgUElYSS5ncm91cEQ4XG4gKi9cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgZGloZWRyYWwgZ3JvdXAgRDgsIHdoaWNoIGlzIHNpbWlsYXIgdG9cbiAqIFtncm91cCBENF17QGxpbmsgaHR0cDovL21hdGh3b3JsZC53b2xmcmFtLmNvbS9EaWhlZHJhbEdyb3VwRDQuaHRtbH07XG4gKiBEOCBpcyB0aGUgc2FtZSBidXQgd2l0aCBkaWFnb25hbHMsIGFuZCBpdCBpcyB1c2VkIGZvciB0ZXh0dXJlXG4gKiByb3RhdGlvbnMuXG4gKlxuICogVGhlIGRpcmVjdGlvbnMgdGhlIFUtIGFuZCBWLSBheGVzIGFmdGVyIHJvdGF0aW9uXG4gKiBvZiBhbiBhbmdsZSBvZiBgYTogR0Q4Q29uc3RhbnRgIGFyZSB0aGUgdmVjdG9ycyBgKHVYKGEpLCB1WShhKSlgXG4gKiBhbmQgYCh2WChhKSwgdlkoYSkpYC4gVGhlc2UgYXJlbid0IG5lY2Vzc2FyaWx5IHVuaXQgdmVjdG9ycy5cbiAqXG4gKiAqKk9yaWdpbjoqKjxicj5cbiAqICBUaGlzIGlzIHRoZSBzbWFsbCBwYXJ0IG9mIGdhbWVvZmJvbWJzLmNvbSBwb3J0YWwgc3lzdGVtLiBJdCB3b3Jrcy5cbiAqXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5FXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5TRVxuICogQHNlZSBQSVhJLmdyb3VwRDguU1xuICogQHNlZSBQSVhJLmdyb3VwRDguU1dcbiAqIEBzZWUgUElYSS5ncm91cEQ4LldcbiAqIEBzZWUgUElYSS5ncm91cEQ4Lk5XXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5OXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5ORVxuICogQGF1dGhvciBJdmFuIEBpdmFucG9wZWx5c2hldlxuICogQG5hbWVzcGFjZSBQSVhJLmdyb3VwRDhcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBncm91cEQ4ID0ge1xuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgMMKwICAgICAgIHwgRWFzdCAgICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgRTogMCxcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDQ1wrDihrsgICAgIHwgU291dGhlYXN0IHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgU0U6IDEsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCA5MMKw4oa7ICAgICB8IFNvdXRoICAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFM6IDIsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCAxMzXCsOKGuyAgICB8IFNvdXRod2VzdCB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFNXOiAzLFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgMTgwwrAgICAgIHwgV2VzdCAgICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgVzogNCxcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uICAgIHwgRGlyZWN0aW9uICAgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLXxcbiAgICAgKiB8IC0xMzXCsC8yMjXCsOKGuyB8IE5vcnRod2VzdCAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE5XOiA1LFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gICAgfCBEaXJlY3Rpb24gICAgfFxuICAgICAqIHwtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tfFxuICAgICAqIHwgLTkwwrAvMjcwwrDihrsgIHwgTm9ydGggICAgICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTjogNixcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uICAgIHwgRGlyZWN0aW9uICAgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLXxcbiAgICAgKiB8IC00NcKwLzMxNcKw4oa7ICB8IE5vcnRoZWFzdCAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE5FOiA3LFxuICAgIC8qKlxuICAgICAqIFJlZmxlY3Rpb24gYWJvdXQgWS1heGlzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBNSVJST1JfVkVSVElDQUw6IDgsXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCB0aGUgbWFpbiBkaWFnb25hbC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTUFJTl9ESUFHT05BTDogMTAsXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCBYLWF4aXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE1JUlJPUl9IT1JJWk9OVEFMOiAxMixcbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IHJldmVyc2UgZGlhZ29uYWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFJFVkVSU0VfRElBR09OQUw6IDE0LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWC1jb21wb25lbnQgb2YgdGhlIFUtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHVYOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB1eFtpbmRdOyB9LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWS1jb21wb25lbnQgb2YgdGhlIFUtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHVZOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB1eVtpbmRdOyB9LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWC1jb21wb25lbnQgb2YgdGhlIFYtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHZYOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB2eFtpbmRdOyB9LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWS1jb21wb25lbnQgb2YgdGhlIFYtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHZZOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB2eVtpbmRdOyB9LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uIC0gc3ltbWV0cnkgd2hvc2Ugb3Bwb3NpdGVcbiAgICAgKiAgIGlzIG5lZWRlZC4gT25seSByb3RhdGlvbnMgaGF2ZSBvcHBvc2l0ZSBzeW1tZXRyaWVzIHdoaWxlXG4gICAgICogICByZWZsZWN0aW9ucyBkb24ndC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgb3Bwb3NpdGUgc3ltbWV0cnkgb2YgYHJvdGF0aW9uYFxuICAgICAqL1xuICAgIGludjogZnVuY3Rpb24gKHJvdGF0aW9uKSB7XG4gICAgICAgIGlmIChyb3RhdGlvbiAmIDgpIC8vIHRydWUgb25seSBpZiBiZXR3ZWVuIDggJiAxNSAocmVmbGVjdGlvbnMpXG4gICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb24gJiAxNTsgLy8gb3Igcm90YXRpb24gJSAxNlxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoLXJvdGF0aW9uKSAmIDc7IC8vIG9yICg4IC0gcm90YXRpb24pICUgOFxuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ29tcG9zZXMgdGhlIHR3byBEOCBvcGVyYXRpb25zLlxuICAgICAqXG4gICAgICogVGFraW5nIGBeYCBhcyByZWZsZWN0aW9uOlxuICAgICAqXG4gICAgICogfCAgICAgICB8IEU9MCB8IFM9MiB8IFc9NCB8IE49NiB8IEVePTggfCBTXj0xMCB8IFdePTEyIHwgTl49MTQgfFxuICAgICAqIHwtLS0tLS0tfC0tLS0tfC0tLS0tfC0tLS0tfC0tLS0tfC0tLS0tLXwtLS0tLS0tfC0tLS0tLS18LS0tLS0tLXxcbiAgICAgKiB8IEU9MCAgIHwgRSAgIHwgUyAgIHwgVyAgIHwgTiAgIHwgRV4gICB8IFNeICAgIHwgV14gICAgfCBOXiAgICB8XG4gICAgICogfCBTPTIgICB8IFMgICB8IFcgICB8IE4gICB8IEUgICB8IFNeICAgfCBXXiAgICB8IE5eICAgIHwgRV4gICAgfFxuICAgICAqIHwgVz00ICAgfCBXICAgfCBOICAgfCBFICAgfCBTICAgfCBXXiAgIHwgTl4gICAgfCBFXiAgICB8IFNeICAgIHxcbiAgICAgKiB8IE49NiAgIHwgTiAgIHwgRSAgIHwgUyAgIHwgVyAgIHwgTl4gICB8IEVeICAgIHwgU14gICAgfCBXXiAgICB8XG4gICAgICogfCBFXj04ICB8IEVeICB8IE5eICB8IFdeICB8IFNeICB8IEUgICAgfCBOICAgICB8IFcgICAgIHwgUyAgICAgfFxuICAgICAqIHwgU149MTAgfCBTXiAgfCBFXiAgfCBOXiAgfCBXXiAgfCBTICAgIHwgRSAgICAgfCBOICAgICB8IFcgICAgIHxcbiAgICAgKiB8IFdePTEyIHwgV14gIHwgU14gIHwgRV4gIHwgTl4gIHwgVyAgICB8IFMgICAgIHwgRSAgICAgfCBOICAgICB8XG4gICAgICogfCBOXj0xNCB8IE5eICB8IFdeICB8IFNeICB8IEVeICB8IE4gICAgfCBXICAgICB8IFMgICAgIHwgRSAgICAgfFxuICAgICAqXG4gICAgICogW1RoaXMgaXMgYSBDYXlsZXkgdGFibGVde0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NheWxleV90YWJsZX1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvblNlY29uZCAtIFNlY29uZCBvcGVyYXRpb24sIHdoaWNoXG4gICAgICogICBpcyB0aGUgcm93IGluIHRoZSBhYm92ZSBjYXlsZXkgdGFibGUuXG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbkZpcnN0IC0gRmlyc3Qgb3BlcmF0aW9uLCB3aGljaFxuICAgICAqICAgaXMgdGhlIGNvbHVtbiBpbiB0aGUgYWJvdmUgY2F5bGV5IHRhYmxlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IENvbXBvc2VkIG9wZXJhdGlvblxuICAgICAqL1xuICAgIGFkZDogZnVuY3Rpb24gKHJvdGF0aW9uU2Vjb25kLCByb3RhdGlvbkZpcnN0KSB7IHJldHVybiAocm90YXRpb25DYXlsZXlbcm90YXRpb25TZWNvbmRdW3JvdGF0aW9uRmlyc3RdKTsgfSxcbiAgICAvKipcbiAgICAgKiBSZXZlcnNlIG9mIGBhZGRgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb25TZWNvbmQgLSBTZWNvbmQgb3BlcmF0aW9uXG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbkZpcnN0IC0gRmlyc3Qgb3BlcmF0aW9uXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gUmVzdWx0XG4gICAgICovXG4gICAgc3ViOiBmdW5jdGlvbiAocm90YXRpb25TZWNvbmQsIHJvdGF0aW9uRmlyc3QpIHsgcmV0dXJuIChyb3RhdGlvbkNheWxleVtyb3RhdGlvblNlY29uZF1bZ3JvdXBEOC5pbnYocm90YXRpb25GaXJzdCldKTsgfSxcbiAgICAvKipcbiAgICAgKiBBZGRzIDE4MCBkZWdyZWVzIHRvIHJvdGF0aW9uLCB3aGljaCBpcyBhIGNvbW11dGF0aXZlXG4gICAgICogb3BlcmF0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gcm90YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJvdGF0ZWQgbnVtYmVyXG4gICAgICovXG4gICAgcm90YXRlMTgwOiBmdW5jdGlvbiAocm90YXRpb24pIHsgcmV0dXJuIHJvdGF0aW9uIF4gNDsgfSxcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIHJvdGF0aW9uIGFuZ2xlIGlzIHZlcnRpY2FsLCBpLmUuIHNvdXRoXG4gICAgICogb3Igbm9ydGguIEl0IGRvZXNuJ3Qgd29yayBmb3IgcmVmbGVjdGlvbnMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBkaXJlY3Rpb24gaXMgdmVydGljYWxcbiAgICAgKi9cbiAgICBpc1ZlcnRpY2FsOiBmdW5jdGlvbiAocm90YXRpb24pIHsgcmV0dXJuIChyb3RhdGlvbiAmIDMpID09PSAyOyB9LFxuICAgIC8qKlxuICAgICAqIEFwcHJveGltYXRlcyB0aGUgdmVjdG9yIGBWKGR4LGR5KWAgaW50byBvbmUgb2YgdGhlXG4gICAgICogZWlnaHQgZGlyZWN0aW9ucyBwcm92aWRlZCBieSBgZ3JvdXBEOGAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR4IC0gWC1jb21wb25lbnQgb2YgdGhlIHZlY3RvclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeSAtIFktY29tcG9uZW50IG9mIHRoZSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBBcHByb3hpbWF0aW9uIG9mIHRoZSB2ZWN0b3IgaW50b1xuICAgICAqICBvbmUgb2YgdGhlIGVpZ2h0IHN5bW1ldHJpZXMuXG4gICAgICovXG4gICAgYnlEaXJlY3Rpb246IGZ1bmN0aW9uIChkeCwgZHkpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGR4KSAqIDIgPD0gTWF0aC5hYnMoZHkpKSB7XG4gICAgICAgICAgICBpZiAoZHkgPj0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBncm91cEQ4LlM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5OO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKE1hdGguYWJzKGR5KSAqIDIgPD0gTWF0aC5hYnMoZHgpKSB7XG4gICAgICAgICAgICBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBncm91cEQ4Llc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHkgPiAwKSB7XG4gICAgICAgICAgICBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguU0U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5TVztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkeCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBncm91cEQ4Lk5FO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBncm91cEQ4Lk5XO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogSGVscHMgc3ByaXRlIHRvIGNvbXBlbnNhdGUgdGV4dHVyZSBwYWNrZXIgcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gc3ByaXRlIHdvcmxkIG1hdHJpeFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb24gLSBUaGUgcm90YXRpb24gZmFjdG9yIHRvIHVzZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHggLSBzcHJpdGUgYW5jaG9yaW5nXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR5IC0gc3ByaXRlIGFuY2hvcmluZ1xuICAgICAqL1xuICAgIG1hdHJpeEFwcGVuZFJvdGF0aW9uSW52OiBmdW5jdGlvbiAobWF0cml4LCByb3RhdGlvbiwgdHgsIHR5KSB7XG4gICAgICAgIGlmICh0eCA9PT0gdm9pZCAwKSB7IHR4ID0gMDsgfVxuICAgICAgICBpZiAodHkgPT09IHZvaWQgMCkgeyB0eSA9IDA7IH1cbiAgICAgICAgLy8gUGFja2VyIHVzZWQgXCJyb3RhdGlvblwiLCB3ZSB1c2UgXCJpbnYocm90YXRpb24pXCJcbiAgICAgICAgdmFyIG1hdCA9IHJvdGF0aW9uTWF0cmljZXNbZ3JvdXBEOC5pbnYocm90YXRpb24pXTtcbiAgICAgICAgbWF0LnR4ID0gdHg7XG4gICAgICAgIG1hdC50eSA9IHR5O1xuICAgICAgICBtYXRyaXguYXBwZW5kKG1hdCk7XG4gICAgfSxcbn07XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoYXQgdGFrZXMgY2FyZSBhYm91dCBpdHMgdmVyc2lvbnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUcmFuc2Zvcm0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVHJhbnNmb3JtKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdvcmxkIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvY2FsVHJhbnNmb3JtID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsZSBmYWN0b3Igb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjYWxlID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAxLCAxKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwaXZvdCBwb2ludCBvZiB0aGUgZGlzcGxheU9iamVjdCB0aGF0IGl0IHJvdGF0ZXMgYXJvdW5kLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGl2b3QgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMub25DaGFuZ2UsIHRoaXMsIDAsIDApO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNrZXcgYW1vdW50LCBvbiB0aGUgeCBhbmQgeSBheGlzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2tldyA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy51cGRhdGVTa2V3LCB0aGlzLCAwLCAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb3RhdGlvbiBhbW91bnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcm90YXRpb24gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFgtY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBYIGF4aXMsXG4gICAgICAgICAqIHRoZSBmaXJzdCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3ggPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFktY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBYIGF4aXMsXG4gICAgICAgICAqIHRoZSBmaXJzdCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3ggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFgtY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBZIGF4aXMsXG4gICAgICAgICAqIHRoZSBzZWNvbmQgY29sdW1uIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggd2l0aG91dCBhIHNjYWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2N5ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBZLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWSBheGlzLFxuICAgICAgICAgKiB0aGUgc2Vjb25kIGNvbHVtbiBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4IHdpdGhvdXQgYSBzY2FsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zeSA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIGxvY2FsIHRyYW5zZm9ybS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb2NhbElEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbGx5IHVuaXF1ZSBJRCBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtXG4gICAgICAgICAqIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBjdXJyZW50IGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIHdvcmxkIHRyYW5zZm9ybS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93b3JsZElEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbGx5IHVuaXF1ZSBJRCBvZiB0aGUgcGFyZW50J3Mgd29ybGQgdHJhbnNmb3JtXG4gICAgICAgICAqIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBjdXJyZW50IHdvcmxkIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGEgdmFsdWUgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLm9uQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgc2tldyBvciB0aGUgcm90YXRpb24gY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLnVwZGF0ZVNrZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2N4ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcueSk7XG4gICAgICAgIHRoaXMuX3N4ID0gTWF0aC5zaW4odGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcueSk7XG4gICAgICAgIHRoaXMuX2N5ID0gLU1hdGguc2luKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3LngpOyAvLyBjb3MsIGFkZGVkIFBJLzJcbiAgICAgICAgdGhpcy5fc3kgPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy54KTsgLy8gc2luLCBhZGRlZCBQSS8yXG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLnVwZGF0ZUxvY2FsVHJhbnNmb3JtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICBpZiAodGhpcy5fbG9jYWxJRCAhPT0gdGhpcy5fY3VycmVudExvY2FsSUQpIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgbWF0cml4IHZhbHVlcyBvZiB0aGUgZGlzcGxheW9iamVjdCBiYXNlZCBvbiBpdHMgdHJhbnNmb3JtIHByb3BlcnRpZXMuLlxuICAgICAgICAgICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS54O1xuICAgICAgICAgICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS54O1xuICAgICAgICAgICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS55O1xuICAgICAgICAgICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS55O1xuICAgICAgICAgICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLnggLSAoKHRoaXMucGl2b3QueCAqIGx0LmEpICsgKHRoaXMucGl2b3QueSAqIGx0LmMpKTtcbiAgICAgICAgICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi55IC0gKCh0aGlzLnBpdm90LnggKiBsdC5iKSArICh0aGlzLnBpdm90LnkgKiBsdC5kKSk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IHRoaXMuX2xvY2FsSUQ7XG4gICAgICAgICAgICAvLyBmb3JjZSBhbiB1cGRhdGUuLlxuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgbG9jYWwgYW5kIHRoZSB3b3JsZCB0cmFuc2Zvcm1hdGlvbiBtYXRyaWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHBhcmVudFRyYW5zZm9ybSAtIFRoZSBwYXJlbnQgdHJhbnNmb3JtXG4gICAgICovXG4gICAgVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAocGFyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIGlmICh0aGlzLl9sb2NhbElEICE9PSB0aGlzLl9jdXJyZW50TG9jYWxJRCkge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSBtYXRyaXggdmFsdWVzIG9mIHRoZSBkaXNwbGF5b2JqZWN0IGJhc2VkIG9uIGl0cyB0cmFuc2Zvcm0gcHJvcGVydGllcy4uXG4gICAgICAgICAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLng7XG4gICAgICAgICAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLng7XG4gICAgICAgICAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgICAgICAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgICAgICAgICBsdC50eCA9IHRoaXMucG9zaXRpb24ueCAtICgodGhpcy5waXZvdC54ICogbHQuYSkgKyAodGhpcy5waXZvdC55ICogbHQuYykpO1xuICAgICAgICAgICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLnkgLSAoKHRoaXMucGl2b3QueCAqIGx0LmIpICsgKHRoaXMucGl2b3QueSAqIGx0LmQpKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcbiAgICAgICAgICAgIC8vIGZvcmNlIGFuIHVwZGF0ZS4uXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9wYXJlbnRJRCAhPT0gcGFyZW50VHJhbnNmb3JtLl93b3JsZElEKSB7XG4gICAgICAgICAgICAvLyBjb25jYXQgdGhlIHBhcmVudCBtYXRyaXggd2l0aCB0aGUgb2JqZWN0cyB0cmFuc2Zvcm0uXG4gICAgICAgICAgICB2YXIgcHQgPSBwYXJlbnRUcmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICB2YXIgd3QgPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICAgICAgd3QuYSA9IChsdC5hICogcHQuYSkgKyAobHQuYiAqIHB0LmMpO1xuICAgICAgICAgICAgd3QuYiA9IChsdC5hICogcHQuYikgKyAobHQuYiAqIHB0LmQpO1xuICAgICAgICAgICAgd3QuYyA9IChsdC5jICogcHQuYSkgKyAobHQuZCAqIHB0LmMpO1xuICAgICAgICAgICAgd3QuZCA9IChsdC5jICogcHQuYikgKyAobHQuZCAqIHB0LmQpO1xuICAgICAgICAgICAgd3QudHggPSAobHQudHggKiBwdC5hKSArIChsdC50eSAqIHB0LmMpICsgcHQudHg7XG4gICAgICAgICAgICB3dC50eSA9IChsdC50eCAqIHB0LmIpICsgKGx0LnR5ICogcHQuZCkgKyBwdC50eTtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gcGFyZW50VHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBpZCBvZiB0aGUgdHJhbnNmb3JtLi5cbiAgICAgICAgICAgIHRoaXMuX3dvcmxkSUQrKztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVjb21wb3NlcyBhIG1hdHJpeCBhbmQgc2V0cyB0aGUgdHJhbnNmb3JtcyBwcm9wZXJ0aWVzIGJhc2VkIG9uIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBkZWNvbXBvc2VcbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLnNldEZyb21NYXRyaXggPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIG1hdHJpeC5kZWNvbXBvc2UodGhpcyk7XG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc2Zvcm0ucHJvdG90eXBlLCBcInJvdGF0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb3RhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdGF0aW9uICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTa2V3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBIGRlZmF1bHQgKGlkZW50aXR5KSB0cmFuc2Zvcm1cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0uSURFTlRJVFkgPSBuZXcgVHJhbnNmb3JtKCk7XG4gICAgcmV0dXJuIFRyYW5zZm9ybTtcbn0oKSk7XG5cbi8qKlxuICogTWF0aCBjbGFzc2VzIGFuZCB1dGlsaXRpZXMgbWl4ZWQgaW50byBQSVhJIG5hbWVzcGFjZS5cbiAqXG4gKiBAbGVuZHMgUElYSVxuICovXG5cbmV4cG9ydCB7IENpcmNsZSwgREVHX1RPX1JBRCwgRWxsaXBzZSwgTWF0cml4LCBPYnNlcnZhYmxlUG9pbnQsIFBJXzIsIFBvaW50LCBQb2x5Z29uLCBSQURfVE9fREVHLCBSZWN0YW5nbGUsIFJvdW5kZWRSZWN0YW5nbGUsIFNIQVBFUywgVHJhbnNmb3JtLCBncm91cEQ4IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRoLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9kaXNwbGF5IC0gdjUuMy4zXG4gKiBDb21waWxlZCBUdWUsIDA0IEF1ZyAyMDIwIDE2OjIzOjA5IFVUQ1xuICpcbiAqIEBwaXhpL2Rpc3BsYXkgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFJlY3RhbmdsZSwgVHJhbnNmb3JtLCBSQURfVE9fREVHLCBERUdfVE9fUkFEIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIsIHJlbW92ZUl0ZW1zIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIFNldHMgdGhlIGRlZmF1bHQgdmFsdWUgZm9yIHRoZSBjb250YWluZXIgcHJvcGVydHkgJ3NvcnRhYmxlQ2hpbGRyZW4nLlxuICogSWYgc2V0IHRvIHRydWUsIHRoZSBjb250YWluZXIgd2lsbCBzb3J0IGl0cyBjaGlsZHJlbiBieSB6SW5kZXggdmFsdWVcbiAqIHdoZW4gdXBkYXRlVHJhbnNmb3JtKCkgaXMgY2FsbGVkLCBvciBtYW51YWxseSBpZiBzb3J0Q2hpbGRyZW4oKSBpcyBjYWxsZWQuXG4gKlxuICogVGhpcyBhY3R1YWxseSBjaGFuZ2VzIHRoZSBvcmRlciBvZiBlbGVtZW50cyBpbiB0aGUgYXJyYXksIHNvIHNob3VsZCBiZSB0cmVhdGVkXG4gKiBhcyBhIGJhc2ljIHNvbHV0aW9uIHRoYXQgaXMgbm90IHBlcmZvcm1hbnQgY29tcGFyZWQgdG8gb3RoZXIgc29sdXRpb25zLFxuICogc3VjaCBhcyBAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZGlzcGxheVxuICpcbiAqIEFsc28gYmUgYXdhcmUgb2YgdGhhdCB0aGlzIG1heSBub3Qgd29yayBuaWNlbHkgd2l0aCB0aGUgYWRkQ2hpbGRBdCgpIGZ1bmN0aW9uLFxuICogYXMgdGhlIHpJbmRleCBzb3J0aW5nIG1heSBjYXVzZSB0aGUgY2hpbGQgdG8gYXV0b21hdGljYWxseSBzb3J0ZWQgdG8gYW5vdGhlciBwb3NpdGlvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFNPUlRBQkxFX0NISUxEUkVOXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdCBmYWxzZVxuICovXG5zZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTiA9IGZhbHNlO1xuXG4vKipcbiAqICdCdWlsZGVyJyBwYXR0ZXJuIGZvciBib3VuZHMgcmVjdGFuZ2xlcy5cbiAqXG4gKiBUaGlzIGNvdWxkIGJlIGNhbGxlZCBhbiBBeGlzLUFsaWduZWQgQm91bmRpbmcgQm94LlxuICogSXQgaXMgbm90IGFuIGFjdHVhbCBzaGFwZS4gSXQgaXMgYSBtdXRhYmxlIHRoaW5nOyBubyAnRU1QVFknIG9yIHRob3NlIGtpbmQgb2YgcHJvYmxlbXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQm91bmRzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJvdW5kcygpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWluWSA9IEluZmluaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heFggPSAtSW5maW5pdHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcbiAgICAgICAgdGhpcy5yZWN0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEl0IGlzIHVwZGF0ZWQgdG8gX2JvdW5kc0lEIG9mIGNvcnJlc3BvbmRpbmcgb2JqZWN0IHRvIGtlZXAgYm91bmRzIGluIHN5bmMgd2l0aCBjb250ZW50LlxuICAgICAgICAgKiBVcGRhdGVkIGZyb20gb3V0c2lkZSwgdGh1cyBwdWJsaWMgbW9kaWZpZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHB1YmxpY1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGRhdGVJRCA9IC0xO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYm91bmRzIGFyZSBlbXB0eS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgZW1wdHkuXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW5YID4gdGhpcy5tYXhYIHx8IHRoaXMubWluWSA+IHRoaXMubWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgYm91bmRzIGFuZCByZXNldHMuXG4gICAgICpcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm1pblggPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4WCA9IC1JbmZpbml0eTtcbiAgICAgICAgdGhpcy5tYXhZID0gLUluZmluaXR5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FuIHJldHVybiBSZWN0YW5nbGUuRU1QVFkgY29uc3RhbnQsIGVpdGhlciBjb25zdHJ1Y3QgbmV3IHJlY3RhbmdsZSwgZWl0aGVyIHVzZSB5b3VyIHJlY3RhbmdsZVxuICAgICAqIEl0IGlzIG5vdCBndWFyYW50ZWVkIHRoYXQgaXQgd2lsbCByZXR1cm4gdGVtcFJlY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSB0ZW1wb3Jhcnkgb2JqZWN0IHdpbGwgYmUgdXNlZCBpZiBBQUJCIGlzIG5vdCBlbXB0eVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlJlY3RhbmdsZX0gQSByZWN0YW5nbGUgb2YgdGhlIGJvdW5kc1xuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuZ2V0UmVjdGFuZ2xlID0gZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgaWYgKHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFkpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWN0YW5nbGUuRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgcmVjdCA9IHJlY3QgfHwgbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcbiAgICAgICAgcmVjdC54ID0gdGhpcy5taW5YO1xuICAgICAgICByZWN0LnkgPSB0aGlzLm1pblk7XG4gICAgICAgIHJlY3Qud2lkdGggPSB0aGlzLm1heFggLSB0aGlzLm1pblg7XG4gICAgICAgIHJlY3QuaGVpZ2h0ID0gdGhpcy5tYXhZIC0gdGhpcy5taW5ZO1xuICAgICAgICByZXR1cm4gcmVjdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGlubGluZWQgd2hlbiBpdHMgcG9zc2libGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSBUaGUgcG9pbnQgdG8gYWRkLlxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgdGhpcy5taW5YID0gTWF0aC5taW4odGhpcy5taW5YLCBwb2ludC54KTtcbiAgICAgICAgdGhpcy5tYXhYID0gTWF0aC5tYXgodGhpcy5tYXhYLCBwb2ludC54KTtcbiAgICAgICAgdGhpcy5taW5ZID0gTWF0aC5taW4odGhpcy5taW5ZLCBwb2ludC55KTtcbiAgICAgICAgdGhpcy5tYXhZID0gTWF0aC5tYXgodGhpcy5tYXhZLCBwb2ludC55KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBxdWFkLCBub3QgdHJhbnNmb3JtZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIFRoZSB2ZXJ0cyB0byBhZGQuXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRRdWFkID0gZnVuY3Rpb24gKHZlcnRpY2VzKSB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICB2YXIgeCA9IHZlcnRpY2VzWzBdO1xuICAgICAgICB2YXIgeSA9IHZlcnRpY2VzWzFdO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgeCA9IHZlcnRpY2VzWzJdO1xuICAgICAgICB5ID0gdmVydGljZXNbM107XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB4ID0gdmVydGljZXNbNF07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1s1XTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHggPSB2ZXJ0aWNlc1s2XTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzddO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgc3ByaXRlIGZyYW1lLCB0cmFuc2Zvcm1lZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHRyYW5zZm9ybSAtIHRyYW5zZm9ybSB0byBhcHBseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIGxlZnQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MCAtIHRvcCBZIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gcmlnaHQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIGJvdHRvbSBZIG9mIGZyYW1lXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRGcmFtZSA9IGZ1bmN0aW9uICh0cmFuc2Zvcm0sIHgwLCB5MCwgeDEsIHkxKSB7XG4gICAgICAgIHRoaXMuYWRkRnJhbWVNYXRyaXgodHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLCB4MCwgeTAsIHgxLCB5MSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHNwcml0ZSBmcmFtZSwgbXVsdGlwbGllZCBieSBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIG1hdHJpeCB0byBhcHBseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIGxlZnQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MCAtIHRvcCBZIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gcmlnaHQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIGJvdHRvbSBZIG9mIGZyYW1lXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRGcmFtZU1hdHJpeCA9IGZ1bmN0aW9uIChtYXRyaXgsIHgwLCB5MCwgeDEsIHkxKSB7XG4gICAgICAgIHZhciBhID0gbWF0cml4LmE7XG4gICAgICAgIHZhciBiID0gbWF0cml4LmI7XG4gICAgICAgIHZhciBjID0gbWF0cml4LmM7XG4gICAgICAgIHZhciBkID0gbWF0cml4LmQ7XG4gICAgICAgIHZhciB0eCA9IG1hdHJpeC50eDtcbiAgICAgICAgdmFyIHR5ID0gbWF0cml4LnR5O1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcbiAgICAgICAgdmFyIHggPSAoYSAqIHgwKSArIChjICogeTApICsgdHg7XG4gICAgICAgIHZhciB5ID0gKGIgKiB4MCkgKyAoZCAqIHkwKSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgeCA9IChhICogeDEpICsgKGMgKiB5MCkgKyB0eDtcbiAgICAgICAgeSA9IChiICogeDEpICsgKGQgKiB5MCkgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHggPSAoYSAqIHgwKSArIChjICogeTEpICsgdHg7XG4gICAgICAgIHkgPSAoYiAqIHgwKSArIChkICogeTEpICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB4ID0gKGEgKiB4MSkgKyAoYyAqIHkxKSArIHR4O1xuICAgICAgICB5ID0gKGIgKiB4MSkgKyAoZCAqIHkxKSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgc2NyZWVuIHZlcnRpY2VzIGZyb20gYXJyYXlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0ZXhEYXRhIC0gY2FsY3VsYXRlZCB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbk9mZnNldCAtIGJlZ2luIG9mZnNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRPZmZzZXQgLSBlbmQgb2Zmc2V0LCBleGNsdWRlZFxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkVmVydGV4RGF0YSA9IGZ1bmN0aW9uICh2ZXJ0ZXhEYXRhLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0KSB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICBmb3IgKHZhciBpID0gYmVnaW5PZmZzZXQ7IGkgPCBlbmRPZmZzZXQ7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIHggPSB2ZXJ0ZXhEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIHkgPSB2ZXJ0ZXhEYXRhW2kgKyAxXTtcbiAgICAgICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IG1heFk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYW4gYXJyYXkgb2YgbWVzaCB2ZXJ0aWNlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gdHJhbnNmb3JtIC0gbWVzaCB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGljZXMgLSBtZXNoIGNvb3JkaW5hdGVzIGluIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luT2Zmc2V0IC0gYmVnaW4gb2Zmc2V0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZE9mZnNldCAtIGVuZCBvZmZzZXQsIGV4Y2x1ZGVkXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRWZXJ0aWNlcyA9IGZ1bmN0aW9uICh0cmFuc2Zvcm0sIHZlcnRpY2VzLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0KSB7XG4gICAgICAgIHRoaXMuYWRkVmVydGljZXNNYXRyaXgodHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYW4gYXJyYXkgb2YgbWVzaCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIG1lc2ggbWF0cml4XG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gbWVzaCBjb29yZGluYXRlcyBpbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbk9mZnNldCAtIGJlZ2luIG9mZnNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRPZmZzZXQgLSBlbmQgb2Zmc2V0LCBleGNsdWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkWD0wXSAtIHggcGFkZGluZ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkWT0wXSAtIHkgcGFkZGluZ1xuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkVmVydGljZXNNYXRyaXggPSBmdW5jdGlvbiAobWF0cml4LCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCwgcGFkWCwgcGFkWSkge1xuICAgICAgICBpZiAocGFkWCA9PT0gdm9pZCAwKSB7IHBhZFggPSAwOyB9XG4gICAgICAgIGlmIChwYWRZID09PSB2b2lkIDApIHsgcGFkWSA9IHBhZFg7IH1cbiAgICAgICAgdmFyIGEgPSBtYXRyaXguYTtcbiAgICAgICAgdmFyIGIgPSBtYXRyaXguYjtcbiAgICAgICAgdmFyIGMgPSBtYXRyaXguYztcbiAgICAgICAgdmFyIGQgPSBtYXRyaXguZDtcbiAgICAgICAgdmFyIHR4ID0gbWF0cml4LnR4O1xuICAgICAgICB2YXIgdHkgPSBtYXRyaXgudHk7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICBmb3IgKHZhciBpID0gYmVnaW5PZmZzZXQ7IGkgPCBlbmRPZmZzZXQ7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIHJhd1ggPSB2ZXJ0aWNlc1tpXTtcbiAgICAgICAgICAgIHZhciByYXdZID0gdmVydGljZXNbaSArIDFdO1xuICAgICAgICAgICAgdmFyIHggPSAoYSAqIHJhd1gpICsgKGMgKiByYXdZKSArIHR4O1xuICAgICAgICAgICAgdmFyIHkgPSAoZCAqIHJhd1kpICsgKGIgKiByYXdYKSArIHR5O1xuICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIHggLSBwYWRYKTtcbiAgICAgICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCB4ICsgcGFkWCk7XG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgeSAtIHBhZFkpO1xuICAgICAgICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIHkgKyBwYWRZKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUaGUgQm91bmRzIHRvIGJlIGFkZGVkXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHMgPSBmdW5jdGlvbiAoYm91bmRzKSB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICB0aGlzLm1pblggPSBib3VuZHMubWluWCA8IG1pblggPyBib3VuZHMubWluWCA6IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IGJvdW5kcy5taW5ZIDwgbWluWSA/IGJvdW5kcy5taW5ZIDogbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gYm91bmRzLm1heFggPiBtYXhYID8gYm91bmRzLm1heFggOiBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBib3VuZHMubWF4WSA+IG1heFkgPyBib3VuZHMubWF4WSA6IG1heFk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggQm91bmRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVGhlIEJvdW5kcyB0byBiZSBhZGRlZC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBtYXNrIC0gVE9ET1xuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzTWFzayA9IGZ1bmN0aW9uIChib3VuZHMsIG1hc2spIHtcbiAgICAgICAgdmFyIF9taW5YID0gYm91bmRzLm1pblggPiBtYXNrLm1pblggPyBib3VuZHMubWluWCA6IG1hc2subWluWDtcbiAgICAgICAgdmFyIF9taW5ZID0gYm91bmRzLm1pblkgPiBtYXNrLm1pblkgPyBib3VuZHMubWluWSA6IG1hc2subWluWTtcbiAgICAgICAgdmFyIF9tYXhYID0gYm91bmRzLm1heFggPCBtYXNrLm1heFggPyBib3VuZHMubWF4WCA6IG1hc2subWF4WDtcbiAgICAgICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBtYXNrLm1heFkgPyBib3VuZHMubWF4WSA6IG1hc2subWF4WTtcbiAgICAgICAgaWYgKF9taW5YIDw9IF9tYXhYICYmIF9taW5ZIDw9IF9tYXhZKSB7XG4gICAgICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcbiAgICAgICAgICAgIHRoaXMubWluWCA9IF9taW5YIDwgbWluWCA/IF9taW5YIDogbWluWDtcbiAgICAgICAgICAgIHRoaXMubWluWSA9IF9taW5ZIDwgbWluWSA/IF9taW5ZIDogbWluWTtcbiAgICAgICAgICAgIHRoaXMubWF4WCA9IF9tYXhYID4gbWF4WCA/IF9tYXhYIDogbWF4WDtcbiAgICAgICAgICAgIHRoaXMubWF4WSA9IF9tYXhZID4gbWF4WSA/IF9tYXhZIDogbWF4WTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHMsIG11bHRpcGxpZWQgYnkgbWF0cml4LiBCb3VuZHMgc2hvdWxkbid0IGJlIGVtcHR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gb3RoZXIgYm91bmRzXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gbXVsdGlwbGljYXRvclxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzTWF0cml4ID0gZnVuY3Rpb24gKGJvdW5kcywgbWF0cml4KSB7XG4gICAgICAgIHRoaXMuYWRkRnJhbWVNYXRyaXgobWF0cml4LCBib3VuZHMubWluWCwgYm91bmRzLm1pblksIGJvdW5kcy5tYXhYLCBib3VuZHMubWF4WSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggUmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGFyZWEgLSBUT0RPXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNBcmVhID0gZnVuY3Rpb24gKGJvdW5kcywgYXJlYSkge1xuICAgICAgICB2YXIgX21pblggPSBib3VuZHMubWluWCA+IGFyZWEueCA/IGJvdW5kcy5taW5YIDogYXJlYS54O1xuICAgICAgICB2YXIgX21pblkgPSBib3VuZHMubWluWSA+IGFyZWEueSA/IGJvdW5kcy5taW5ZIDogYXJlYS55O1xuICAgICAgICB2YXIgX21heFggPSBib3VuZHMubWF4WCA8IGFyZWEueCArIGFyZWEud2lkdGggPyBib3VuZHMubWF4WCA6IChhcmVhLnggKyBhcmVhLndpZHRoKTtcbiAgICAgICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBhcmVhLnkgKyBhcmVhLmhlaWdodCA/IGJvdW5kcy5tYXhZIDogKGFyZWEueSArIGFyZWEuaGVpZ2h0KTtcbiAgICAgICAgaWYgKF9taW5YIDw9IF9tYXhYICYmIF9taW5ZIDw9IF9tYXhZKSB7XG4gICAgICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcbiAgICAgICAgICAgIHRoaXMubWluWCA9IF9taW5YIDwgbWluWCA/IF9taW5YIDogbWluWDtcbiAgICAgICAgICAgIHRoaXMubWluWSA9IF9taW5ZIDwgbWluWSA/IF9taW5ZIDogbWluWTtcbiAgICAgICAgICAgIHRoaXMubWF4WCA9IF9tYXhYID4gbWF4WCA/IF9tYXhYIDogbWF4WDtcbiAgICAgICAgICAgIHRoaXMubWF4WSA9IF9tYXhZID4gbWF4WSA/IF9tYXhZIDogbWF4WTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFkcyBib3VuZHMgb2JqZWN0LCBtYWtpbmcgaXQgZ3JvdyBpbiBhbGwgZGlyZWN0aW9ucy5cbiAgICAgKiBJZiBwYWRkaW5nWSBpcyBvbWl0dGVkLCBib3RoIHBhZGRpbmdYIGFuZCBwYWRkaW5nWSB3aWxsIGJlIHNldCB0byBwYWRkaW5nWC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkZGluZ1g9MF0gLSBUaGUgaG9yaXpvbnRhbCBwYWRkaW5nIGFtb3VudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3BhZGRpbmdZPTBdIC0gVGhlIHZlcnRpY2FsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24gKHBhZGRpbmdYLCBwYWRkaW5nWSkge1xuICAgICAgICBpZiAocGFkZGluZ1ggPT09IHZvaWQgMCkgeyBwYWRkaW5nWCA9IDA7IH1cbiAgICAgICAgaWYgKHBhZGRpbmdZID09PSB2b2lkIDApIHsgcGFkZGluZ1kgPSBwYWRkaW5nWDsgfVxuICAgICAgICBpZiAoIXRoaXMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB0aGlzLm1pblggLT0gcGFkZGluZ1g7XG4gICAgICAgICAgICB0aGlzLm1heFggKz0gcGFkZGluZ1g7XG4gICAgICAgICAgICB0aGlzLm1pblkgLT0gcGFkZGluZ1k7XG4gICAgICAgICAgICB0aGlzLm1heFkgKz0gcGFkZGluZ1k7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgcGFkZGVkIGZyYW1lLiAoeDAsIHkwKSBzaG91bGQgYmUgc3RyaWN0bHkgbGVzcyB0aGFuICh4MSwgeTEpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDAgLSBsZWZ0IFggb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTAgLSB0b3AgWSBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIHJpZ2h0IFggb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBib3R0b20gWSBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYWRYIC0gcGFkZGluZyBYXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZFkgLSBwYWRkaW5nIFlcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEZyYW1lUGFkID0gZnVuY3Rpb24gKHgwLCB5MCwgeDEsIHkxLCBwYWRYLCBwYWRZKSB7XG4gICAgICAgIHgwIC09IHBhZFg7XG4gICAgICAgIHkwIC09IHBhZFk7XG4gICAgICAgIHgxICs9IHBhZFg7XG4gICAgICAgIHkxICs9IHBhZFk7XG4gICAgICAgIHRoaXMubWluWCA9IHRoaXMubWluWCA8IHgwID8gdGhpcy5taW5YIDogeDA7XG4gICAgICAgIHRoaXMubWF4WCA9IHRoaXMubWF4WCA+IHgxID8gdGhpcy5tYXhYIDogeDE7XG4gICAgICAgIHRoaXMubWluWSA9IHRoaXMubWluWSA8IHkwID8gdGhpcy5taW5ZIDogeTA7XG4gICAgICAgIHRoaXMubWF4WSA9IHRoaXMubWF4WSA+IHkxID8gdGhpcy5tYXhZIDogeTE7XG4gICAgfTtcbiAgICByZXR1cm4gQm91bmRzO1xufSgpKTtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogVGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBvYmplY3RzIHRoYXQgYXJlIHJlbmRlcmVkIG9uIHRoZSBzY3JlZW4uXG4gKlxuICogVGhpcyBpcyBhbiBhYnN0cmFjdCBjbGFzcyBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIG9uIGl0cyBvd247IHJhdGhlciBpdCBzaG91bGQgYiBlIGV4dGVuZGVkLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBEaXNwbGF5T2JqZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEaXNwbGF5T2JqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERpc3BsYXlPYmplY3QoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbnVsbDtcbiAgICAgICAgLy8gVE9ETzogbmVlZCB0byBjcmVhdGUgVHJhbnNmb3JtIGZyb20gZmFjdG9yeVxuICAgICAgICAvKipcbiAgICAgICAgICogV29ybGQgdHJhbnNmb3JtIGFuZCBsb2NhbCB0cmFuc2Zvcm0gb2YgdGhpcyBvYmplY3QuXG4gICAgICAgICAqIFRoaXMgd2lsbCBiZWNvbWUgcmVhZC1vbmx5IGxhdGVyLCBwbGVhc2UgZG8gbm90IGFzc2lnbiBhbnl0aGluZyB0aGVyZSB1bmxlc3MgeW91IGtub3cgd2hhdCBhcmUgeW91IGRvaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcGFjaXR5IG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFscGhhID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2aXNpYmlsaXR5IG9mIHRoZSBvYmplY3QuIElmIGZhbHNlIHRoZSBvYmplY3Qgd2lsbCBub3QgYmUgZHJhd24sIGFuZFxuICAgICAgICAgKiB0aGUgdXBkYXRlVHJhbnNmb3JtIGZ1bmN0aW9uIHdpbGwgbm90IGJlIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogT25seSBhZmZlY3RzIHJlY3Vyc2l2ZSBjYWxscyBmcm9tIHBhcmVudC4gWW91IGNhbiBhc2sgZm9yIGJvdW5kcyBvciBjYWxsIHVwZGF0ZVRyYW5zZm9ybSBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FuIHRoaXMgb2JqZWN0IGJlIHJlbmRlcmVkLCBpZiBmYWxzZSB0aGUgb2JqZWN0IHdpbGwgbm90IGJlIGRyYXduIGJ1dCB0aGUgdXBkYXRlVHJhbnNmb3JtXG4gICAgICAgICAqIG1ldGhvZHMgd2lsbCBzdGlsbCBiZSBjYWxsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIE9ubHkgYWZmZWN0cyByZWN1cnNpdmUgY2FsbHMgZnJvbSBwYXJlbnQuIFlvdSBjYW4gYXNrIGZvciBib3VuZHMgbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkaXNwbGF5IG9iamVjdCBjb250YWluZXIgdGhhdCBjb250YWlucyB0aGlzIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbXVsdGlwbGllZCBhbHBoYSBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndvcmxkQWxwaGEgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hpY2ggaW5kZXggaW4gdGhlIGNoaWxkcmVuIGFycmF5IHRoZSBkaXNwbGF5IGNvbXBvbmVudCB3YXMgYmVmb3JlIHRoZSBwcmV2aW91cyB6SW5kZXggc29ydC5cbiAgICAgICAgICogVXNlZCBieSBjb250YWluZXJzIHRvIGhlbHAgc29ydCBvYmplY3RzIHdpdGggdGhlIHNhbWUgekluZGV4LCBieSB1c2luZyBwcmV2aW91cyBhcnJheSBpbmRleCBhcyB0aGUgZGVjaWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbGFzdFNvcnRlZEluZGV4ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB6SW5kZXggb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqIEEgaGlnaGVyIHZhbHVlIHdpbGwgbWVhbiBpdCB3aWxsIGJlIHJlbmRlcmVkIG9uIHRvcCBvZiBvdGhlciBkaXNwbGF5T2JqZWN0cyB3aXRoaW4gdGhlIHNhbWUgY29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl96SW5kZXggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFyZWEgdGhlIGZpbHRlciBpcyBhcHBsaWVkIHRvLiBUaGlzIGlzIHVzZWQgYXMgbW9yZSBvZiBhbiBvcHRpbWl6YXRpb25cbiAgICAgICAgICogcmF0aGVyIHRoYW4gZmlndXJpbmcgb3V0IHRoZSBkaW1lbnNpb25zIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGVhY2ggZnJhbWUgeW91IGNhbiBzZXQgdGhpcyByZWN0YW5nbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEFsc28gd29ya3MgYXMgYW4gaW50ZXJhY3Rpb24gbWFzay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7P1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBmaWx0ZXJzIGZvciB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICogKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSBXZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAgICAgKiBUbyByZW1vdmUgZmlsdGVycyBzaW1wbHkgc2V0IHRoaXMgcHJvcGVydHkgdG8gYCdudWxsJ2AuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIgez9QSVhJLkZpbHRlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50bHkgZW5hYmxlZCBmaWx0ZXJzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsdGVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9lbmFibGVkRmlsdGVycyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYm91bmRzIG9iamVjdCwgdGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSBhbmQgc3RvcmUgdGhlIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYm91bmRzID0gbmV3IEJvdW5kcygpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTG9jYWwgYm91bmRzIG9iamVjdCwgc3dhcHBlZCB3aXRoIGBfYm91bmRzYCB3aGVuIHVzaW5nIGBnZXRMb2NhbEJvdW5kcygpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbG9jYWxCb3VuZHMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZ3MgdGhlIGNhY2hlZCBib3VuZHMgYXMgZGlydHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JvdW5kc0lEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlIG9mIHRoaXMgZGlzcGxheS1vYmplY3QncyBib3VuZHMtcmVjdGFuZ2xlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JvdW5kc1JlY3QgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgb2YgdGhpcyBkaXNwbGF5LW9iamVjdCdzIGxvY2FsLWJvdW5kcyByZWN0YW5nbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcmlnaW5hbCwgY2FjaGVkIG1hc2sgb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ8UElYSS5NYXNrRGF0YXxudWxsfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWFzayA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoaXMgRGlzcGxheU9iamVjdCBpcyBhZGRlZCB0byBhIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNhZGRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIGFkZGVkIHRvLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhpcyBEaXNwbGF5T2JqZWN0IGlzIHJlbW92ZWQgZnJvbSBhIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyZW1vdmVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgcmVtb3ZlZCBmcm9tLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBvYmplY3QgaGFzIGJlZW4gZGVzdHJveWVkIHZpYSBkZXN0cm95KCkuIElmIHRydWUsIGl0IHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogdXNlZCB0byBmYXN0IGNoZWNrIGlmIGEgc3ByaXRlIGlzLi4gYSBzcHJpdGUhXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc1Nwcml0ZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyBhbnkgb3RoZXIgZGlzcGxheU9iamVjdCB1c2UgdGhpcyBvYmplY3QgYXMgYSBtYXNrP1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXNNYXNrID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWl4ZXMgYWxsIGVudW1lcmFibGUgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBmcm9tIGEgc291cmNlIG9iamVjdCB0byBEaXNwbGF5T2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2YgcHJvcGVydGllcyBhbmQgbWV0aG9kcyB0byBtaXggaW4uXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5taXhpbiA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgLy8gaW4gRVM4L0VTMjAxNywgdGhpcyB3b3VsZCBiZSByZWFsbHkgZWFzeTpcbiAgICAgICAgLy8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgICAgICAvLyBnZXQgYWxsIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IGtleXNcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgICAgICAvLyBsb29wIHRocm91Z2ggcHJvcGVydGllc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBrZXlzW2ldO1xuICAgICAgICAgICAgLy8gU2V0IHRoZSBwcm9wZXJ0eSB1c2luZyB0aGUgcHJvcGVydHkgZGVzY3JpcHRvciAtIHRoaXMgd29ya3MgZm9yIGFjY2Vzc29ycyBhbmQgbm9ybWFsIHZhbHVlIHByb3BlcnRpZXNcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgcHJvcGVydHlOYW1lLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgcHJvcGVydHlOYW1lKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IHVwZGF0ZXMgdHJhbnNmb3JtIG9mIGFsbCBvYmplY3RzIGZyb20gdGhlIHJvb3QgdG8gdGhpcyBvbmVcbiAgICAgKiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgdG9Mb2NhbCgpXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIFRPRE8gLSBPcHRpbWl6YXRpb24gcGFzcyFcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICAvLyBtdWx0aXBseSB0aGUgYWxwaGFzLi5cbiAgICAgICAgdGhpcy53b3JsZEFscGhhID0gdGhpcy5hbHBoYSAqIHRoaXMucGFyZW50LndvcmxkQWxwaGE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlXSAtIFNldHRpbmcgdG8gYHRydWVgIHdpbGwgc3RvcCB0aGUgdHJhbnNmb3JtcyBvZiB0aGUgc2NlbmUgZ3JhcGggZnJvbVxuICAgICAqICBiZWluZyB1cGRhdGVkLiBUaGlzIG1lYW5zIHRoZSBjYWxjdWxhdGlvbiByZXR1cm5lZCBNQVkgYmUgb3V0IG9mIGRhdGUgQlVUIHdpbGwgZ2l2ZSB5b3UgYVxuICAgICAqICBuaWNlIHBlcmZvcm1hbmNlIGJvb3N0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIE9wdGlvbmFsIHJlY3RhbmdsZSB0byBzdG9yZSB0aGUgcmVzdWx0IG9mIHRoZSBib3VuZHMgY2FsY3VsYXRpb24uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhLlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uIChza2lwVXBkYXRlLCByZWN0KSB7XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fYm91bmRzLnVwZGF0ZUlEICE9PSB0aGlzLl9ib3VuZHNJRCkge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy51cGRhdGVJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9ib3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9ib3VuZHNSZWN0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QgYXMgYSByZWN0YW5nbGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWEuXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHJhbnNmb3JtUmVmID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgIHZhciBwYXJlbnRSZWYgPSB0aGlzLnBhcmVudDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHdvcmxkQm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgICAgICB2YXIgd29ybGRCb3VuZHNJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSB0aGlzLl9sb2NhbEJvdW5kcztcbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0Qm91bmRzKGZhbHNlLCByZWN0KTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRSZWY7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtUmVmO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSB3b3JsZEJvdW5kcztcbiAgICAgICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEICs9IHRoaXMuX2JvdW5kc0lEIC0gd29ybGRCb3VuZHNJRDsgLy8gcmVmbGVjdCBzaWRlLWVmZmVjdHNcbiAgICAgICAgcmV0dXJuIGJvdW5kcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoaXMgb2JqZWN0LlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnRvR2xvYmFsID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSkge1xuICAgICAgICBpZiAoc2tpcFVwZGF0ZSA9PT0gdm9pZCAwKSB7IHNraXBVcGRhdGUgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoIXNraXBVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIC8vIHRoaXMgcGFyZW50IGNoZWNrIGlzIGZvciBqdXN0IGluIGNhc2UgdGhlIGl0ZW0gaXMgYSByb290IG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHRlbXBvcmFyeSBwYXJlbnQgc28gdGhhdCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIHdvcmtzIGNvcnJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYWlubHkgdG8gYXZvaWQgYSBwYXJlbnQgY2hlY2sgaW4gdGhlIG1haW4gbG9vcC4gRXZlcnkgbGl0dGxlIGhlbHBzIGZvciBwZXJmb3JtYW5jZSA6KVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIGxvdFxuICAgICAgICByZXR1cm4gdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseShwb3NpdGlvbiwgcG9pbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbG9jYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHJlbGF0aXZlIHRvIGFub3RoZXIgcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBbZnJvbV0gLSBUaGUgRGlzcGxheU9iamVjdCB0byBjYWxjdWxhdGUgdGhlIGdsb2JhbCBwb3NpdGlvbiBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IEEgcG9pbnQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS50b0xvY2FsID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBmcm9tLCBwb2ludCwgc2tpcFVwZGF0ZSkge1xuICAgICAgICBpZiAoZnJvbSkge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBmcm9tLnRvR2xvYmFsKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAvLyB0aGlzIHBhcmVudCBjaGVjayBpcyBmb3IganVzdCBpbiBjYXNlIHRoZSBpdGVtIGlzIGEgcm9vdCBvYmplY3QuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSB0ZW1wb3JhcnkgcGFyZW50IHNvIHRoYXQgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSB3b3JrcyBjb3JyZWN0bHlcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWFpbmx5IHRvIGF2b2lkIGEgcGFyZW50IGNoZWNrIGluIHRoZSBtYWluIGxvb3AuIEV2ZXJ5IGxpdHRsZSBoZWxwcyBmb3IgcGVyZm9ybWFuY2UgOilcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNpbXBseSBhcHBseSB0aGUgbWF0cml4Li5cbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvc2l0aW9uLCBwb2ludCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBhcmVudCBDb250YWluZXIgb2YgdGhpcyBEaXNwbGF5T2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIENvbnRhaW5lciB0byBhZGQgdGhpcyBEaXNwbGF5T2JqZWN0IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQ29udGFpbmVyfSBUaGUgQ29udGFpbmVyIHRoYXQgdGhpcyBEaXNwbGF5T2JqZWN0IHdhcyBhZGRlZCB0by5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5zZXRQYXJlbnQgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgIGlmICghY29udGFpbmVyIHx8ICFjb250YWluZXIuYWRkQ2hpbGQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2V0UGFyZW50OiBBcmd1bWVudCBtdXN0IGJlIGEgQ29udGFpbmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHRoaXMpO1xuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8gc2V0IHRoZSBwb3NpdGlvbiwgc2NhbGUsIHNrZXcgYW5kIHBpdm90IGF0IG9uY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZVg9MV0gLSBUaGUgWCBzY2FsZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVZPTFdIC0gVGhlIFkgc2NhbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtza2V3WD0wXSAtIFRoZSBYIHNrZXcgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NrZXdZPTBdIC0gVGhlIFkgc2tldyB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGl2b3RYPTBdIC0gVGhlIFggcGl2b3QgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bpdm90WT0wXSAtIFRoZSBZIHBpdm90IHZhbHVlXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZVxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uICh4LCB5LCBzY2FsZVgsIHNjYWxlWSwgcm90YXRpb24sIHNrZXdYLCBza2V3WSwgcGl2b3RYLCBwaXZvdFkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmIChzY2FsZVggPT09IHZvaWQgMCkgeyBzY2FsZVggPSAxOyB9XG4gICAgICAgIGlmIChzY2FsZVkgPT09IHZvaWQgMCkgeyBzY2FsZVkgPSAxOyB9XG4gICAgICAgIGlmIChyb3RhdGlvbiA9PT0gdm9pZCAwKSB7IHJvdGF0aW9uID0gMDsgfVxuICAgICAgICBpZiAoc2tld1ggPT09IHZvaWQgMCkgeyBza2V3WCA9IDA7IH1cbiAgICAgICAgaWYgKHNrZXdZID09PSB2b2lkIDApIHsgc2tld1kgPSAwOyB9XG4gICAgICAgIGlmIChwaXZvdFggPT09IHZvaWQgMCkgeyBwaXZvdFggPSAwOyB9XG4gICAgICAgIGlmIChwaXZvdFkgPT09IHZvaWQgMCkgeyBwaXZvdFkgPSAwOyB9XG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHg7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHk7XG4gICAgICAgIHRoaXMuc2NhbGUueCA9ICFzY2FsZVggPyAxIDogc2NhbGVYO1xuICAgICAgICB0aGlzLnNjYWxlLnkgPSAhc2NhbGVZID8gMSA6IHNjYWxlWTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICB0aGlzLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICB0aGlzLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB0aGlzLnBpdm90LnggPSBwaXZvdFg7XG4gICAgICAgIHRoaXMucGl2b3QueSA9IHBpdm90WTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCYXNlIGRlc3Ryb3kgbWV0aG9kIGZvciBnZW5lcmljIGRpc3BsYXkgb2JqZWN0cy4gVGhpcyB3aWxsIGF1dG9tYXRpY2FsbHlcbiAgICAgKiByZW1vdmUgdGhlIGRpc3BsYXkgb2JqZWN0IGZyb20gaXRzIHBhcmVudCBDb250YWluZXIgYXMgd2VsbCBhcyByZW1vdmVcbiAgICAgKiBhbGwgY3VycmVudCBldmVudCBsaXN0ZW5lcnMgYW5kIGludGVybmFsIHJlZmVyZW5jZXMuIERvIG5vdCB1c2UgYSBEaXNwbGF5T2JqZWN0XG4gICAgICogYWZ0ZXIgY2FsbGluZyBgZGVzdHJveSgpYC5cbiAgICAgKlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoX29wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG4gICAgICAgIHRoaXMuaGl0QXJlYSA9IG51bGw7XG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwiX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFVzZWQgaW4gUmVuZGVyZXIsIGNhY2hlQXNCaXRtYXAgYW5kIG90aGVyIHBsYWNlcyB3aGVyZSB5b3UgY2FsbCBhbiBgdXBkYXRlVHJhbnNmb3JtYCBvbiByb290XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCBjYWNoZVBhcmVudCA9IGVsZW0uZW5hYmxlVGVtcFBhcmVudCgpO1xuICAgICAqIGVsZW0udXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICogZWxlbS5kaXNhYmxlVGVtcFBhcmVudChjYWNoZVBhcmVudCk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5EaXNwbGF5T2JqZWN0fSBjdXJyZW50IHBhcmVudFxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmVuYWJsZVRlbXBQYXJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBteVBhcmVudCA9IHRoaXMucGFyZW50O1xuICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICByZXR1cm4gbXlQYXJlbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYWlyIG1ldGhvZCBmb3IgYGVuYWJsZVRlbXBQYXJlbnRgXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNhY2hlUGFyZW50IGFjdHVhbCBwYXJlbnQgb2YgZWxlbWVudFxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmRpc2FibGVUZW1wUGFyZW50ID0gZnVuY3Rpb24gKGNhY2hlUGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gY2FjaGVQYXJlbnQ7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwieFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLng7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHkgYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLnk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi55ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwid29ybGRUcmFuc2Zvcm1cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCB0cmFuc2Zvcm0gb2YgdGhlIG9iamVjdCBiYXNlZCBvbiB3b3JsZCAocGFyZW50KSBmYWN0b3JzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJsb2NhbFRyYW5zZm9ybVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIGxvY2FsIGZhY3RvcnM6IHBvc2l0aW9uLCBzY2FsZSwgb3RoZXIgc3R1ZmYuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInBvc2l0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJzY2FsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgZmFjdG9yIG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5zY2FsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnNjYWxlLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJwaXZvdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZC5cbiAgICAgICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBpdm90O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGl2b3QuY29weUZyb20odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInNrZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNrZXcgZmFjdG9yIGZvciB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5za2V3O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2tldy5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwicm90YXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvdGF0aW9uIG9mIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAgICAgICAgICogJ3JvdGF0aW9uJyBhbmQgJ2FuZ2xlJyBoYXZlIHRoZSBzYW1lIGVmZmVjdCBvbiBhIGRpc3BsYXkgb2JqZWN0OyByb3RhdGlvbiBpcyBpbiByYWRpYW5zLCBhbmdsZSBpcyBpbiBkZWdyZWVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwiYW5nbGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuZ2xlIG9mIHRoZSBvYmplY3QgaW4gZGVncmVlcy5cbiAgICAgICAgICogJ3JvdGF0aW9uJyBhbmQgJ2FuZ2xlJyBoYXZlIHRoZSBzYW1lIGVmZmVjdCBvbiBhIGRpc3BsYXkgb2JqZWN0OyByb3RhdGlvbiBpcyBpbiByYWRpYW5zLCBhbmdsZSBpcyBpbiBkZWdyZWVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiAqIFJBRF9UT19ERUc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiA9IHZhbHVlICogREVHX1RPX1JBRDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJ6SW5kZXhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHpJbmRleCBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICogSWYgYSBjb250YWluZXIgaGFzIHRoZSBzb3J0YWJsZUNoaWxkcmVuIHByb3BlcnR5IHNldCB0byB0cnVlLCBjaGlsZHJlbiB3aWxsIGJlIGF1dG9tYXRpY2FsbHlcbiAgICAgICAgICogc29ydGVkIGJ5IHpJbmRleCB2YWx1ZTsgYSBoaWdoZXIgdmFsdWUgd2lsbCBtZWFuIGl0IHdpbGwgYmUgbW92ZWQgdG93YXJkcyB0aGUgZW5kIG9mIHRoZSBhcnJheSxcbiAgICAgICAgICogYW5kIHRodXMgcmVuZGVyZWQgb24gdG9wIG9mIG90aGVyIGRpc3BsYXlPYmplY3RzIHdpdGhpbiB0aGUgc2FtZSBjb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3pJbmRleDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3pJbmRleCA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuc29ydERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJ3b3JsZFZpc2libGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBvYmplY3QgaXMgZ2xvYmFsbHkgdmlzaWJsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcztcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW0udmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnBhcmVudDtcbiAgICAgICAgICAgIH0gd2hpbGUgKGl0ZW0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwibWFza1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIGEgbWFzayBmb3IgdGhlIGRpc3BsYXlPYmplY3QuIEEgbWFzayBpcyBhbiBvYmplY3QgdGhhdCBsaW1pdHMgdGhlIHZpc2liaWxpdHkgb2YgYW5cbiAgICAgICAgICogb2JqZWN0IHRvIHRoZSBzaGFwZSBvZiB0aGUgbWFzayBhcHBsaWVkIHRvIGl0LiBJbiBQaXhpSlMgYSByZWd1bGFyIG1hc2sgbXVzdCBiZSBhXG4gICAgICAgICAqIHtAbGluayBQSVhJLkdyYXBoaWNzfSBvciBhIHtAbGluayBQSVhJLlNwcml0ZX0gb2JqZWN0LiBUaGlzIGFsbG93cyBmb3IgbXVjaCBmYXN0ZXIgbWFza2luZyBpbiBjYW52YXMgYXMgaXRcbiAgICAgICAgICogdXRpbGl0aWVzIHNoYXBlIGNsaXBwaW5nLiBUbyByZW1vdmUgYSBtYXNrLCBzZXQgdGhpcyBwcm9wZXJ0eSB0byBgbnVsbGAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEZvciBzcHJpdGUgbWFzayBib3RoIGFscGhhIGFuZCByZWQgY2hhbm5lbCBhcmUgdXNlZC4gQmxhY2sgbWFzayBpcyB0aGUgc2FtZSBhcyB0cmFuc3BhcmVudCBtYXNrLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjb25zdCBncmFwaGljcyA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICAgICAqIGdyYXBoaWNzLmJlZ2luRmlsbCgweEZGMzMwMCk7XG4gICAgICAgICAqIGdyYXBoaWNzLmRyYXdSZWN0KDUwLCAyNTAsIDEwMCwgMTAwKTtcbiAgICAgICAgICogZ3JhcGhpY3MuZW5kRmlsbCgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICAgICAqIHNwcml0ZS5tYXNrID0gZ3JhcGhpY3M7XG4gICAgICAgICAqIEB0b2RvIEF0IHRoZSBtb21lbnQsIFBJWEkuQ2FudmFzUmVuZGVyZXIgZG9lc24ndCBzdXBwb3J0IFBJWEkuU3ByaXRlIGFzIG1hc2suXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfFBJWEkuTWFza0RhdGF8bnVsbH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hc2s7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgICAgICAgICAgIHZhciBtYXNrT2JqZWN0ID0gKHRoaXMuX21hc2subWFza09iamVjdCB8fCB0aGlzLl9tYXNrKTtcbiAgICAgICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG1hc2tPYmplY3QuaXNNYXNrID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tYXNrID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgICAgICAgICAgIHZhciBtYXNrT2JqZWN0ID0gKHRoaXMuX21hc2subWFza09iamVjdCB8fCB0aGlzLl9tYXNrKTtcbiAgICAgICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBtYXNrT2JqZWN0LmlzTWFzayA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gRGlzcGxheU9iamVjdDtcbn0oRXZlbnRFbWl0dGVyKSk7XG52YXIgVGVtcG9yYXJ5RGlzcGxheU9iamVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGVtcG9yYXJ5RGlzcGxheU9iamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc29ydERpcnR5ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gVGVtcG9yYXJ5RGlzcGxheU9iamVjdDtcbn0oRGlzcGxheU9iamVjdCkpO1xuLyoqXG4gKiBEaXNwbGF5T2JqZWN0IGRlZmF1bHQgdXBkYXRlVHJhbnNmb3JtLCBkb2VzIG5vdCB1cGRhdGUgY2hpbGRyZW4gb2YgY29udGFpbmVyLlxuICogV2lsbCBjcmFzaCBpZiB0aGVyZSdzIG5vIHBhcmVudCBlbGVtZW50LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAZnVuY3Rpb24gZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtID0gRGlzcGxheU9iamVjdC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuXG5mdW5jdGlvbiBzb3J0Q2hpbGRyZW4oYSwgYikge1xuICAgIGlmIChhLnpJbmRleCA9PT0gYi56SW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGEuX2xhc3RTb3J0ZWRJbmRleCAtIGIuX2xhc3RTb3J0ZWRJbmRleDtcbiAgICB9XG4gICAgcmV0dXJuIGEuekluZGV4IC0gYi56SW5kZXg7XG59XG4vKipcbiAqIEEgQ29udGFpbmVyIHJlcHJlc2VudHMgYSBjb2xsZWN0aW9uIG9mIGRpc3BsYXkgb2JqZWN0cy5cbiAqXG4gKiBJdCBpcyB0aGUgYmFzZSBjbGFzcyBvZiBhbGwgZGlzcGxheSBvYmplY3RzIHRoYXQgYWN0IGFzIGEgY29udGFpbmVyIGZvciBvdGhlciBvYmplY3RzIChsaWtlIFNwcml0ZXMpLlxuICpcbiAqYGBganNcbiAqIGxldCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkRpc3BsYXlPYmplY3RcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbnRhaW5lciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb250YWluZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJyYXkgb2YgY2hpbGRyZW4gb2YgdGhpcyBjb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdFtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIGNvbnRhaW5lciB3aWxsIHNvcnQgaXRzIGNoaWxkcmVuIGJ5IHpJbmRleCB2YWx1ZVxuICAgICAgICAgKiB3aGVuIHVwZGF0ZVRyYW5zZm9ybSgpIGlzIGNhbGxlZCwgb3IgbWFudWFsbHkgaWYgc29ydENoaWxkcmVuKCkgaXMgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGFjdHVhbGx5IGNoYW5nZXMgdGhlIG9yZGVyIG9mIGVsZW1lbnRzIGluIHRoZSBhcnJheSwgc28gc2hvdWxkIGJlIHRyZWF0ZWRcbiAgICAgICAgICogYXMgYSBiYXNpYyBzb2x1dGlvbiB0aGF0IGlzIG5vdCBwZXJmb3JtYW50IGNvbXBhcmVkIHRvIG90aGVyIHNvbHV0aW9ucyxcbiAgICAgICAgICogc3VjaCBhcyBAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZGlzcGxheVxuICAgICAgICAgKlxuICAgICAgICAgKiBBbHNvIGJlIGF3YXJlIG9mIHRoYXQgdGhpcyBtYXkgbm90IHdvcmsgbmljZWx5IHdpdGggdGhlIGFkZENoaWxkQXQoKSBmdW5jdGlvbixcbiAgICAgICAgICogYXMgdGhlIHpJbmRleCBzb3J0aW5nIG1heSBjYXVzZSB0aGUgY2hpbGQgdG8gYXV0b21hdGljYWxseSBzb3J0ZWQgdG8gYW5vdGhlciBwb3NpdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlNPUlRBQkxFX0NISUxEUkVOXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3J0YWJsZUNoaWxkcmVuID0gc2V0dGluZ3MuU09SVEFCTEVfQ0hJTERSRU47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgY2hpbGRyZW4gYmUgc29ydGVkIGJ5IHpJbmRleCBhdCB0aGUgbmV4dCB1cGRhdGVUcmFuc2Zvcm0gY2FsbC5cbiAgICAgICAgICogV2lsbCBnZXQgYXV0b21hdGljYWxseSBzZXQgdG8gdHJ1ZSBpZiBhIG5ldyBjaGlsZCBpcyBhZGRlZCwgb3IgaWYgYSBjaGlsZCdzIHpJbmRleCBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc29ydERpcnR5ID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBEaXNwbGF5T2JqZWN0IGlzIGFkZGVkIHRvIHRoaXMgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5Db250YWluZXIjY2hpbGRBZGRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgYWRkZWQgdG8gdGhlIENvbnRhaW5lci5cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0aGF0IGFkZGVkIHRoZSBjaGlsZC5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGNoaWxkcmVuJ3MgaW5kZXggb2YgdGhlIGFkZGVkIGNoaWxkLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBEaXNwbGF5T2JqZWN0IGlzIHJlbW92ZWQgZnJvbSB0aGlzIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyZW1vdmVkRnJvbVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgcmVtb3ZlZCBmcm9tIHRoZSBDb250YWluZXIuXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdGhhdCByZW1vdmVkIHJlbW92ZWQgdGhlIGNoaWxkLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgZm9ybWVyIGNoaWxkcmVuJ3MgaW5kZXggb2YgdGhlIHJlbW92ZWQgY2hpbGRcbiAgICAgICAgICovXG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRhYmxlIG1ldGhvZCB0aGF0IGNhbiBiZSB1c2VkIGJ5IENvbnRhaW5lciBzdWJjbGFzc2VzIHdoZW5ldmVyIHRoZSBjaGlsZHJlbiBhcnJheSBpcyBtb2RpZmllZFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUub25DaGlsZHJlbkNoYW5nZSA9IGZ1bmN0aW9uIChfbGVuZ3RoKSB7XG4gICAgICAgIC8qIGVtcHR5ICovXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIG9uZSBvciBtb3JlIGNoaWxkcmVuIHRvIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBNdWx0aXBsZSBpdGVtcyBjYW4gYmUgYWRkZWQgbGlrZSBzbzogYG15Q29udGFpbmVyLmFkZENoaWxkKHRoaW5nT25lLCB0aGluZ1R3bywgdGhpbmdUaHJlZSlgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGRyZW4gLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byBhZGQgdG8gdGhlIGNvbnRhaW5lclxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW19pXSA9IGFyZ3VtZW50cyQxW19pXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcnJheSBhbmQgYWRkIGFsbCBjaGlsZHJlblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgLy8gaWYgdGhlIGNoaWxkIGhhcyBhIHBhcmVudCB0aGVuIGxldHMgcmVtb3ZlIGl0IGFzIFBpeGlKUyBvYmplY3RzIGNhbiBvbmx5IGV4aXN0IGluIG9uZSBwbGFjZVxuICAgICAgICAgICAgaWYgKGNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLnBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5zb3J0RGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UodGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRBZGRlZCcsIGNoaWxkLCB0aGlzLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRyZW5bMF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY2hpbGQgdG8gdGhlIGNvbnRhaW5lciBhdCBhIHNwZWNpZmllZCBpbmRleC4gSWYgdGhlIGluZGV4IGlzIG91dCBvZiBib3VuZHMgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCB0byBhZGRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gcGxhY2UgdGhlIGNoaWxkIGluXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgdGhhdCB3YXMgYWRkZWQuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5hZGRDaGlsZEF0ID0gZnVuY3Rpb24gKGNoaWxkLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihjaGlsZCArIFwiYWRkQ2hpbGRBdDogVGhlIGluZGV4IFwiICsgaW5kZXggKyBcIiBzdXBwbGllZCBpcyBvdXQgb2YgYm91bmRzIFwiICsgdGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgICAgIGNoaWxkLnBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSB0cnVlO1xuICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDAsIGNoaWxkKTtcbiAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgIGNoaWxkLmVtaXQoJ2FkZGVkJywgdGhpcyk7XG4gICAgICAgIHRoaXMuZW1pdCgnY2hpbGRBZGRlZCcsIGNoaWxkLCB0aGlzLCBpbmRleCk7XG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN3YXBzIHRoZSBwb3NpdGlvbiBvZiAyIERpc3BsYXkgT2JqZWN0cyB3aXRoaW4gdGhpcyBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBGaXJzdCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkMiAtIFNlY29uZCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zd2FwQ2hpbGRyZW4gPSBmdW5jdGlvbiAoY2hpbGQsIGNoaWxkMikge1xuICAgICAgICBpZiAoY2hpbGQgPT09IGNoaWxkMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleDEgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICB2YXIgaW5kZXgyID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkMik7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5baW5kZXgxXSA9IGNoaWxkMjtcbiAgICAgICAgdGhpcy5jaGlsZHJlbltpbmRleDJdID0gY2hpbGQ7XG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleDEgPCBpbmRleDIgPyBpbmRleDEgOiBpbmRleDIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW5kZXggcG9zaXRpb24gb2YgYSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZSB0byBpZGVudGlmeVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IHBvc2l0aW9uIG9mIHRoZSBjaGlsZCBkaXNwbGF5IG9iamVjdCB0byBpZGVudGlmeVxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRJbmRleCA9IGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBzdXBwbGllZCBEaXNwbGF5T2JqZWN0IG11c3QgYmUgYSBjaGlsZCBvZiB0aGUgY2FsbGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgcG9zaXRpb24gb2YgYW4gZXhpc3RpbmcgY2hpbGQgaW4gdGhlIGRpc3BsYXkgb2JqZWN0IGNvbnRhaW5lclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIERpc3BsYXlPYmplY3QgaW5zdGFuY2UgZm9yIHdoaWNoIHlvdSB3YW50IHRvIGNoYW5nZSB0aGUgaW5kZXggbnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIHJlc3VsdGluZyBpbmRleCBudW1iZXIgZm9yIHRoZSBjaGlsZCBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuc2V0Q2hpbGRJbmRleCA9IGZ1bmN0aW9uIChjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGluZGV4IFwiICsgaW5kZXggKyBcIiBzdXBwbGllZCBpcyBvdXQgb2YgYm91bmRzIFwiICsgdGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50SW5kZXggPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBjdXJyZW50SW5kZXgsIDEpOyAvLyByZW1vdmUgZnJvbSBvbGQgcG9zaXRpb25cbiAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDAsIGNoaWxkKTsgLy8gYWRkIGF0IG5ldyBwb3NpdGlvblxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY2hpbGQgYXQgdGhlIHNwZWNpZmllZCBpbmRleFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgYXRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCBhdCB0aGUgZ2l2ZW4gaW5kZXgsIGlmIGFueS5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkQXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ2V0Q2hpbGRBdDogSW5kZXggKFwiICsgaW5kZXggKyBcIikgZG9lcyBub3QgZXhpc3QuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2luZGV4XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgb25lIG9yIG1vcmUgY2hpbGRyZW4gZnJvbSB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi5QSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkcmVuIC0gVGhlIERpc3BsYXlPYmplY3QocykgdG8gcmVtb3ZlXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgZmlyc3QgY2hpbGQgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgdmFyIGNoaWxkcmVuID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBjaGlsZHJlbltfaV0gPSBhcmd1bWVudHMkMVtfaV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUgYXJndW1lbnQgd2UgY2FuIGJ5cGFzcyBsb29waW5nIHRocm91Z2ggdGhlIHRoZW1cbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgYXJndW1lbnRzIHByb3BlcnR5IGFuZCByZW1vdmUgYWxsIGNoaWxkcmVuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChjaGlsZHJlbltpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlblswXTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKVxuICAgICAgICAgICAgICAgIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG4gICAgICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgICAgIGNoaWxkLmVtaXQoJ3JlbW92ZWQnLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRSZW1vdmVkJywgY2hpbGQsIHRoaXMsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRyZW5bMF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY2hpbGQgZnJvbSB0aGUgc3BlY2lmaWVkIGluZGV4IHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZEF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHZhciBjaGlsZCA9IHRoaXMuZ2V0Q2hpbGRBdChpbmRleCk7XG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWQuLlxuICAgICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGluZGV4LCAxKTtcbiAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgIGNoaWxkLmVtaXQoJ3JlbW92ZWQnLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBjaGlsZHJlbiBmcm9tIHRoaXMgY29udGFpbmVyIHRoYXQgYXJlIHdpdGhpbiB0aGUgYmVnaW4gYW5kIGVuZCBpbmRleGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiZWdpbkluZGV4PTBdIC0gVGhlIGJlZ2lubmluZyBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZEluZGV4PXRoaXMuY2hpbGRyZW4ubGVuZ3RoXSAtIFRoZSBlbmRpbmcgcG9zaXRpb24uIERlZmF1bHQgdmFsdWUgaXMgc2l6ZSBvZiB0aGUgY29udGFpbmVyLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gTGlzdCBvZiByZW1vdmVkIGNoaWxkcmVuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZHJlbiA9IGZ1bmN0aW9uIChiZWdpbkluZGV4LCBlbmRJbmRleCkge1xuICAgICAgICBpZiAoYmVnaW5JbmRleCA9PT0gdm9pZCAwKSB7IGJlZ2luSW5kZXggPSAwOyB9XG4gICAgICAgIGlmIChlbmRJbmRleCA9PT0gdm9pZCAwKSB7IGVuZEluZGV4ID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IH1cbiAgICAgICAgdmFyIGJlZ2luID0gYmVnaW5JbmRleDtcbiAgICAgICAgdmFyIGVuZCA9IGVuZEluZGV4O1xuICAgICAgICB2YXIgcmFuZ2UgPSBlbmQgLSBiZWdpbjtcbiAgICAgICAgdmFyIHJlbW92ZWQ7XG4gICAgICAgIGlmIChyYW5nZSA+IDAgJiYgcmFuZ2UgPD0gZW5kKSB7XG4gICAgICAgICAgICByZW1vdmVkID0gdGhpcy5jaGlsZHJlbi5zcGxpY2UoYmVnaW4sIHJhbmdlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVtb3ZlZC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRbaV0ucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAocmVtb3ZlZFtpXS50cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShiZWdpbkluZGV4KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVtb3ZlZC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRbaV0uZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRSZW1vdmVkJywgcmVtb3ZlZFtpXSwgdGhpcywgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyYW5nZSA9PT0gMCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdyZW1vdmVDaGlsZHJlbjogbnVtZXJpYyB2YWx1ZXMgYXJlIG91dHNpZGUgdGhlIGFjY2VwdGFibGUgcmFuZ2UuJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTb3J0cyBjaGlsZHJlbiBieSB6SW5kZXguIFByZXZpb3VzIG9yZGVyIGlzIG1hbnRhaW5lZCBmb3IgMiBjaGlsZHJlbiB3aXRoIHRoZSBzYW1lIHpJbmRleC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnNvcnRDaGlsZHJlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvcnRSZXF1aXJlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgY2hpbGQuX2xhc3RTb3J0ZWRJbmRleCA9IGk7XG4gICAgICAgICAgICBpZiAoIXNvcnRSZXF1aXJlZCAmJiBjaGlsZC56SW5kZXggIT09IDApIHtcbiAgICAgICAgICAgICAgICBzb3J0UmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzb3J0UmVxdWlyZWQgJiYgdGhpcy5jaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNvcnQoc29ydENoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdHJhbnNmb3JtIG9uIGFsbCBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lciBmb3IgcmVuZGVyaW5nXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnNvcnRhYmxlQ2hpbGRyZW4gJiYgdGhpcy5zb3J0RGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuc29ydENoaWxkcmVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIC8vIFRPRE86IGNoZWNrIHJlbmRlciBmbGFncywgaG93IHRvIHByb2Nlc3Mgc3R1ZmYgaGVyZVxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChjaGlsZC52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmNhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYm91bmRzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoIWNoaWxkLnZpc2libGUgfHwgIWNoaWxkLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgLy8gVE9ETzogZmlsdGVyK21hc2ssIG5lZWQgdG8gbWFzayBib3RoIHNvbWVob3dcbiAgICAgICAgICAgIGlmIChjaGlsZC5fbWFzaykge1xuICAgICAgICAgICAgICAgIHZhciBtYXNrT2JqZWN0ID0gKGNoaWxkLl9tYXNrLm1hc2tPYmplY3QgfHwgY2hpbGQuX21hc2spO1xuICAgICAgICAgICAgICAgIG1hc2tPYmplY3QuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kc01hc2soY2hpbGQuX2JvdW5kcywgbWFza09iamVjdC5fYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkLmZpbHRlckFyZWEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzQXJlYShjaGlsZC5fYm91bmRzLCBjaGlsZC5maWx0ZXJBcmVhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHMoY2hpbGQuX2JvdW5kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVjdF0gLSBPcHRpb25hbCByZWN0YW5nbGUgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgYm91bmRzIGNhbGN1bGF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBDaGlsZHJlblVwZGF0ZT1mYWxzZV0gLSBTZXR0aW5nIHRvIGB0cnVlYCB3aWxsIHN0b3AgcmUtY2FsY3VsYXRpb24gb2YgY2hpbGRyZW4gdHJhbnNmb3JtcyxcbiAgICAgKiAgaXQgd2FzIGRlZmF1bHQgYmVoYXZpb3VyIG9mIHBpeGkgNC4wLTUuMiBhbmQgY2F1c2VkIG1hbnkgcHJvYmxlbXMgdG8gdXNlcnMuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAocmVjdCwgc2tpcENoaWxkcmVuVXBkYXRlKSB7XG4gICAgICAgIGlmIChza2lwQ2hpbGRyZW5VcGRhdGUgPT09IHZvaWQgMCkgeyBza2lwQ2hpbGRyZW5VcGRhdGUgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gX3N1cGVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgICAgICBpZiAoIXNraXBDaGlsZHJlblVwZGF0ZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0LiBPdmVycmlkZSB0aGlzIHRvXG4gICAgICogY2FsY3VsYXRlIHRoZSBib3VuZHMgb2YgdGhlIHNwZWNpZmljIG9iamVjdCAobm90IGluY2x1ZGluZyBjaGlsZHJlbikuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBGSUxMIElOLy9cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICAvLyBpZiB0aGUgb2JqZWN0IGlzIG5vdCB2aXNpYmxlIG9yIHRoZSBhbHBoYSBpcyAwIHRoZW4gbm8gbmVlZCB0byByZW5kZXIgdGhpcyBlbGVtZW50XG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBkbyBhIHF1aWNrIGNoZWNrIHRvIHNlZSBpZiB0aGlzIGVsZW1lbnQgaGFzIGEgbWFzayBvciBhIGZpbHRlci5cbiAgICAgICAgaWYgKHRoaXMuX21hc2sgfHwgKHRoaXMuZmlsdGVycyAmJiB0aGlzLmZpbHRlcnMubGVuZ3RoKSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJBZHZhbmNlZChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICAgICAgLy8gc2ltcGxlIHJlbmRlciBjaGlsZHJlbiFcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLnJlbmRlcihyZW5kZXJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlciBhbmQgYWR2YW5jZWQgZmVhdHVyZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQWR2YW5jZWQgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgdmFyIGZpbHRlcnMgPSB0aGlzLmZpbHRlcnM7XG4gICAgICAgIHZhciBtYXNrID0gdGhpcy5fbWFzaztcbiAgICAgICAgLy8gcHVzaCBmaWx0ZXIgZmlyc3QgYXMgd2UgbmVlZCB0byBlbnN1cmUgdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIGNvcnJlY3QgZm9yIGFueSBtYXNraW5nXG4gICAgICAgIGlmIChmaWx0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWRGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyc1tpXS5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLnB1c2goZmlsdGVyc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmZpbHRlci5wdXNoKHRoaXMsIHRoaXMuX2VuYWJsZWRGaWx0ZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWFzaykge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFzay5wdXNoKHRoaXMsIHRoaXMuX21hc2spO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFkZCB0aGlzIG9iamVjdCB0byB0aGUgYmF0Y2gsIG9ubHkgcmVuZGVyZWQgaWYgaXQgaGFzIGEgdGV4dHVyZS5cbiAgICAgICAgdGhpcy5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgICAgICAgLy8gbm93IGxvb3AgdGhyb3VnaCB0aGUgY2hpbGRyZW4gYW5kIG1ha2Ugc3VyZSB0aGV5IGdldCByZW5kZXJlZFxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLnJlbmRlcihyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgaWYgKG1hc2spIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2sucG9wKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVuZGVyZXIuZmlsdGVyLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUbyBiZSBvdmVycmlkZGVuIGJ5IHRoZSBzdWJjbGFzc2VzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAoX3JlbmRlcmVyKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgd2hlcmUgY29udGVudCBpdHNlbGYgZ2V0cyByZW5kZXJlZC4uLlxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgaW50ZXJuYWwgcmVmZXJlbmNlcyBhbmQgbGlzdGVuZXJzIGFzIHdlbGwgYXMgcmVtb3ZlcyBjaGlsZHJlbiBmcm9tIHRoZSBkaXNwbGF5IGxpc3QuXG4gICAgICogRG8gbm90IHVzZSBhIENvbnRhaW5lciBhZnRlciBjYWxsaW5nIGBkZXN0cm95YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuc29ydERpcnR5ID0gZmFsc2U7XG4gICAgICAgIHZhciBkZXN0cm95Q2hpbGRyZW4gPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy5jaGlsZHJlbjtcbiAgICAgICAgdmFyIG9sZENoaWxkcmVuID0gdGhpcy5yZW1vdmVDaGlsZHJlbigwLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgICAgIGlmIChkZXN0cm95Q2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkQ2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBvbGRDaGlsZHJlbltpXS5kZXN0cm95KG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29udGFpbmVyLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS54ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuICAgICAgICAgICAgaWYgKHdpZHRoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gdmFsdWUgLyB3aWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnRhaW5lci5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS55ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldExvY2FsQm91bmRzKCkuaGVpZ2h0O1xuICAgICAgICAgICAgaWYgKGhlaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHZhbHVlIC8gaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENvbnRhaW5lcjtcbn0oRGlzcGxheU9iamVjdCkpO1xuLyoqXG4gKiBDb250YWluZXIgZGVmYXVsdCB1cGRhdGVUcmFuc2Zvcm0sIGRvZXMgdXBkYXRlIGNoaWxkcmVuIG9mIGNvbnRhaW5lci5cbiAqIFdpbGwgY3Jhc2ggaWYgdGhlcmUncyBubyBwYXJlbnQgZWxlbWVudC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5Db250YWluZXIjXG4gKiBAZnVuY3Rpb24gY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtXG4gKi9cbkNvbnRhaW5lci5wcm90b3R5cGUuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtID0gQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG5cbmV4cG9ydCB7IEJvdW5kcywgQ29udGFpbmVyLCBEaXNwbGF5T2JqZWN0LCBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXNwbGF5LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9hY2Nlc3NpYmlsaXR5IC0gdjUuMy4zXG4gKiBDb21waWxlZCBUdWUsIDA0IEF1ZyAyMDIwIDE2OjIzOjA5IFVUQ1xuICpcbiAqIEBwaXhpL2FjY2Vzc2liaWxpdHkgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBpc01vYmlsZSwgcmVtb3ZlSXRlbXMgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYWNjZXNzaWJsZSBvYmplY3RzXG4gKiB1c2VkIGJ5IHtAbGluayBQSVhJLkFjY2Vzc2liaWxpdHlNYW5hZ2VyfS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIGFjY2Vzc2libGVUYXJnZXRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgT2JqZWN0LmFzc2lnbihcbiAqICAgICAgICAgIE15T2JqZWN0LnByb3RvdHlwZSxcbiAqICAgICAgICAgIFBJWEkuYWNjZXNzaWJsZVRhcmdldFxuICogICAgICApO1xuICovXG52YXIgYWNjZXNzaWJsZVRhcmdldCA9IHtcbiAgICAvKipcbiAgICAgKiAgRmxhZyBmb3IgaWYgdGhlIG9iamVjdCBpcyBhY2Nlc3NpYmxlLiBJZiB0cnVlIEFjY2Vzc2liaWxpdHlNYW5hZ2VyIHdpbGwgb3ZlcmxheSBhXG4gICAgICogICBzaGFkb3cgZGl2IHdpdGggYXR0cmlidXRlcyBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0aXRsZSBhdHRyaWJ1dGUgb2YgdGhlIHNoYWRvdyBkaXZcbiAgICAgKiBJZiBhY2Nlc3NpYmxlVGl0bGUgQU5EIGFjY2Vzc2libGVIaW50IGhhcyBub3QgYmVlbiB0aGlzIHdpbGwgZGVmYXVsdCB0byAnZGlzcGxheU9iamVjdCBbdGFiSW5kZXhdJ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7P3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVUaXRsZTogbnVsbCxcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhcmlhLWxhYmVsIGF0dHJpYnV0ZSBvZiB0aGUgc2hhZG93IGRpdlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgYWNjZXNzaWJsZUhpbnQ6IG51bGwsXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIHRhYkluZGV4OiAwLFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIF9hY2Nlc3NpYmxlQWN0aXZlOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICAgKi9cbiAgICBfYWNjZXNzaWJsZURpdjogbnVsbCxcbiAgICAvKipcbiAgICAgKiBTcGVjaWZ5IHRoZSB0eXBlIG9mIGRpdiB0aGUgYWNjZXNzaWJsZSBsYXllciBpcy4gU2NyZWVuIHJlYWRlcnMgdHJlYXQgdGhlIGVsZW1lbnQgZGlmZmVyZW50bHlcbiAgICAgKiBkZXBlbmRpbmcgb24gdGhpcyB0eXBlLiBEZWZhdWx0cyB0byBidXR0b24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAZGVmYXVsdCAnYnV0dG9uJ1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVUeXBlOiAnYnV0dG9uJyxcbiAgICAvKipcbiAgICAgKiBTcGVjaWZ5IHRoZSBwb2ludGVyLWV2ZW50cyB0aGUgYWNjZXNzaWJsZSBkaXYgd2lsbCB1c2VcbiAgICAgKiBEZWZhdWx0cyB0byBhdXRvLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQGRlZmF1bHQgJ2F1dG8nXG4gICAgICovXG4gICAgYWNjZXNzaWJsZVBvaW50ZXJFdmVudHM6ICdhdXRvJyxcbiAgICAvKipcbiAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIHdpbGwgcHJldmVudCBhbnkgY2hpbGRyZW4gaW5zaWRlIHRoaXMgY29udGFpbmVyIHRvXG4gICAgICogYmUgYWNjZXNzaWJsZS4gRGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgYWNjZXNzaWJsZUNoaWxkcmVuOiB0cnVlLFxuICAgIHJlbmRlcklkOiAtMSxcbn07XG5cbi8vIGFkZCBzb21lIGV4dHJhIHZhcmlhYmxlcyB0byB0aGUgY29udGFpbmVyLi5cbkRpc3BsYXlPYmplY3QubWl4aW4oYWNjZXNzaWJsZVRhcmdldCk7XG52YXIgS0VZX0NPREVfVEFCID0gOTtcbnZhciBESVZfVE9VQ0hfU0laRSA9IDEwMDtcbnZhciBESVZfVE9VQ0hfUE9TX1ggPSAwO1xudmFyIERJVl9UT1VDSF9QT1NfWSA9IDA7XG52YXIgRElWX1RPVUNIX1pJTkRFWCA9IDI7XG52YXIgRElWX0hPT0tfU0laRSA9IDE7XG52YXIgRElWX0hPT0tfUE9TX1ggPSAtMTAwMDtcbnZhciBESVZfSE9PS19QT1NfWSA9IC0xMDAwO1xudmFyIERJVl9IT09LX1pJTkRFWCA9IDI7XG4vKipcbiAqIFRoZSBBY2Nlc3NpYmlsaXR5IG1hbmFnZXIgcmVjcmVhdGVzIHRoZSBhYmlsaXR5IHRvIHRhYiBhbmQgaGF2ZSBjb250ZW50IHJlYWQgYnkgc2NyZWVuIHJlYWRlcnMuXG4gKiBUaGlzIGlzIHZlcnkgaW1wb3J0YW50IGFzIGl0IGNhbiBwb3NzaWJseSBoZWxwIHBlb3BsZSB3aXRoIGRpc2FiaWxpdGllcyBhY2Nlc3MgUGl4aUpTIGNvbnRlbnQuXG4gKlxuICogQSBEaXNwbGF5T2JqZWN0IGNhbiBiZSBtYWRlIGFjY2Vzc2libGUganVzdCBsaWtlIGl0IGNhbiBiZSBtYWRlIGludGVyYWN0aXZlLiBUaGlzIG1hbmFnZXIgd2lsbCBtYXAgdGhlXG4gKiBldmVudHMgYXMgaWYgdGhlIG1vdXNlIHdhcyBiZWluZyB1c2VkLCBtaW5pbWl6aW5nIHRoZSBlZmZvcnQgcmVxdWlyZWQgdG8gaW1wbGVtZW50LlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgYHJlbmRlcmVyLnBsdWdpbnMuYWNjZXNzaWJpbGl0eWBcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBY2Nlc3NpYmlsaXR5TWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ8UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7P0hUTUxFbGVtZW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faG9va0RpdiA9IG51bGw7XG4gICAgICAgIGlmIChpc01vYmlsZS50YWJsZXQgfHwgaXNNb2JpbGUucGhvbmUpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVG91Y2hIb29rKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmlyc3Qgd2UgY3JlYXRlIGEgZGl2IHRoYXQgd2lsbCBzaXQgb3ZlciB0aGUgUGl4aUpTIGVsZW1lbnQuIFRoaXMgaXMgd2hlcmUgdGhlIGRpdiBvdmVybGF5cyB3aWxsIGdvLlxuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gRElWX1RPVUNIX1NJWkUgKyBcInB4XCI7XG4gICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGRpdi5zdHlsZS50b3AgPSBESVZfVE9VQ0hfUE9TX1ggKyBcInB4XCI7XG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gRElWX1RPVUNIX1BPU19ZICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWC50b1N0cmluZygpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgZG9tIGVsZW1lbnQgdGhhdCB3aWxsIHNpdCBvdmVyIHRoZSBQaXhpSlMgZWxlbWVudC4gVGhpcyBpcyB3aGVyZSB0aGUgZGl2IG92ZXJsYXlzIHdpbGwgZ28uXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGl2ID0gZGl2O1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBzaW1wbGUgcG9vbCBmb3Igc3RvcmluZyBkaXZzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Kn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9vbCA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyBhIHRpY2sgdXNlZCB0byBjaGVjayBpZiBhbiBvYmplY3QgaXMgbm8gbG9uZ2VyIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJJZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXR0aW5nIHRoaXMgdG8gdHJ1ZSB3aWxsIHZpc3VhbGx5IHNob3cgdGhlIGRpdnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWJ1ZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlbmRlcmVyIHRoaXMgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIGN1cnJlbnRseSBhY3RpdmUgYWNjZXNzaWJsZSBpdGVtcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBwcmUtYmluZCB0aGUgZnVuY3Rpb25zXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29uS2V5RG93biA9IHRoaXMuX29uS2V5RG93bi5iaW5kKHRoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogcHJlLWJpbmQgdGhlIGZ1bmN0aW9uc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vbk1vdXNlTW92ZSA9IHRoaXMuX29uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogY291bnQgdG8gdGhyb3R0bGUgZGl2IHVwZGF0ZXMgb24gYW5kcm9pZCBkZXZpY2VzXG4gICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbmRyb2lkVXBkYXRlQ291bnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIGZyZXF1ZW5jeSB0byB1cGRhdGUgdGhlIGRpdiBlbGVtZW50cyAoKVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbmRyb2lkVXBkYXRlRnJlcXVlbmN5ID0gNTAwOyAvLyAyZnBzXG4gICAgICAgIC8vIGxldCBsaXN0ZW4gZm9yIHRhYi4uIG9uY2UgcHJlc3NlZCB3ZSBjYW4gZmlyZSB1cCBhbmQgc2hvdyB0aGUgYWNjZXNzaWJpbGl0eSBsYXllclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLCBcImlzQWN0aXZlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmxhZ1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzQWN0aXZlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZSwgXCJpc01vYmlsZUFjY2Vzc2liaWxpdHlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBmbGFnXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNNb2JpbGVBY2Nlc3NpYmlsaXR5O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgdG91Y2ggaG9va3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5jcmVhdGVUb3VjaEhvb2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBob29rRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUud2lkdGggPSBESVZfSE9PS19TSVpFICsgXCJweFwiO1xuICAgICAgICBob29rRGl2LnN0eWxlLmhlaWdodCA9IERJVl9IT09LX1NJWkUgKyBcInB4XCI7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBob29rRGl2LnN0eWxlLnRvcCA9IERJVl9IT09LX1BPU19YICsgXCJweFwiO1xuICAgICAgICBob29rRGl2LnN0eWxlLmxlZnQgPSBESVZfSE9PS19QT1NfWSArIFwicHhcIjtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS56SW5kZXggPSBESVZfSE9PS19aSU5ERVgudG9TdHJpbmcoKTtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI0ZGMDAwMCc7XG4gICAgICAgIGhvb2tEaXYudGl0bGUgPSAnc2VsZWN0IHRvIGVuYWJsZSBhY2Nlc3NhYmlsaXR5IGZvciB0aGlzIGNvbnRlbnQnO1xuICAgICAgICBob29rRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5hY3RpdmF0ZSgpO1xuICAgICAgICAgICAgX3RoaXMuZGVzdHJveVRvdWNoSG9vaygpO1xuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChob29rRGl2KTtcbiAgICAgICAgdGhpcy5faG9va0RpdiA9IGhvb2tEaXY7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgdG91Y2ggaG9va3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95VG91Y2hIb29rID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2hvb2tEaXYpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuX2hvb2tEaXYpO1xuICAgICAgICB0aGlzLl9ob29rRGl2ID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBzaG93bi5cbiAgICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlciBwcmVzc2VzIHRoZSB0YWIga2V5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0FjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3Rpbmcgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWRcbiAgICAgICAgdGhpcy5yZW5kZXJlci5vbigncG9zdHJlbmRlcicsIHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIudmlldy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnZpZXcucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlYWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIGhpZGRlbi5cbiAgICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlciBtb3ZlcyB0aGUgbW91c2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5kZWFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzQWN0aXZlIHx8IHRoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBjYXN0aW5nIHdoZW4gQ2FudmFzUmVuZGVyZXIgaXMgY29udmVydGVkXG4gICAgICAgIHRoaXMucmVuZGVyZXIub2ZmKCdwb3N0cmVuZGVyJywgdGhpcy51cGRhdGUpO1xuICAgICAgICBpZiAodGhpcy5kaXYucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5kaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpdik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgcmVjdXJzaXZlIGZ1bmN0aW9uIHdpbGwgcnVuIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBhZGQgYW55IG5ldyBhY2Nlc3NpYmxlIG9iamVjdHMgdG8gdGhlIERPTSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gZGlzcGxheU9iamVjdCAtIFRoZSBEaXNwbGF5T2JqZWN0IHRvIGNoZWNrLlxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyA9IGZ1bmN0aW9uIChkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIGlmICghZGlzcGxheU9iamVjdC52aXNpYmxlIHx8ICFkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVDaGlsZHJlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGUgJiYgZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChkaXNwbGF5T2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVySWQgPSB0aGlzLnJlbmRlcklkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW47XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQWNjZXNzaWJsZU9iamVjdHMoY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCZWZvcmUgZWFjaCByZW5kZXIgdGhpcyBmdW5jdGlvbiB3aWxsIGVuc3VyZSB0aGF0IGFsbCBkaXZzIGFyZSBtYXBwZWQgY29ycmVjdGx5IHRvIHRoZWlyIERpc3BsYXlPYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKiBPbiBBbmRyb2lkIGRlZmF1bHQgd2ViIGJyb3dzZXIsIHRhYiBvcmRlciBzZWVtcyB0byBiZSBjYWxjdWxhdGVkIGJ5IHBvc2l0aW9uIHJhdGhlciB0aGFuIHRhYkluZGV4LFxuICAgICAgICAqICBtb3ZpbmcgYnV0dG9ucyBjYW4gY2F1c2UgZm9jdXMgdG8gZmxpY2tlciBiZXR3ZWVuIHR3byBidXR0b25zIG1ha2luZyBpdCBoYXJkL2ltcG9zc2libGUgdG8gbmF2aWdhdGUsXG4gICAgICAgICogIHNvIEkgYW0ganVzdCBydW5uaW5nIHVwZGF0ZSBldmVyeSBoYWxmIGEgc2Vjb25kLCBzZWVtcyB0byBmaXggaXQuXG4gICAgICAgICovXG4gICAgICAgIHZhciBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgaWYgKGlzTW9iaWxlLmFuZHJvaWQuZGV2aWNlICYmIG5vdyA8IHRoaXMuYW5kcm9pZFVwZGF0ZUNvdW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbmRyb2lkVXBkYXRlQ291bnQgPSBub3cgKyB0aGlzLmFuZHJvaWRVcGRhdGVGcmVxdWVuY3k7XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSBjaGlsZHJlbi4uLlxuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3Rpbmcgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWRcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLnJlbmRlcmVyLnZpZXcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgc3ggPSAocmVjdC53aWR0aCAvIHRoaXMucmVuZGVyZXIud2lkdGgpICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHN5ID0gKHJlY3QuaGVpZ2h0IC8gdGhpcy5yZW5kZXJlci5oZWlnaHQpICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGRpdiA9IHRoaXMuZGl2O1xuICAgICAgICBkaXYuc3R5bGUubGVmdCA9IHJlY3QubGVmdCArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLnRvcCA9IHJlY3QudG9wICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQgKyBcInB4XCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChjaGlsZC5yZW5kZXJJZCAhPT0gdGhpcy5yZW5kZXJJZCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaSwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXYucmVtb3ZlQ2hpbGQoY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICAgICAgICAgIHRoaXMucG9vbC5wdXNoKGNoaWxkLl9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgICAgICAgICBjaGlsZC5fYWNjZXNzaWJsZURpdiA9IG51bGw7XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbWFwIGRpdiB0byBkaXNwbGF5Li5cbiAgICAgICAgICAgICAgICBkaXYgPSBjaGlsZC5fYWNjZXNzaWJsZURpdjtcbiAgICAgICAgICAgICAgICB2YXIgaGl0QXJlYSA9IGNoaWxkLmhpdEFyZWE7XG4gICAgICAgICAgICAgICAgdmFyIHd0ID0gY2hpbGQud29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmhpdEFyZWEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSAod3QudHggKyAoaGl0QXJlYS54ICogd3QuYSkpICogc3ggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSAod3QudHkgKyAoaGl0QXJlYS55ICogd3QuZCkpICogc3kgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGhpdEFyZWEud2lkdGggKiB3dC5hICogc3ggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBoaXRBcmVhLmhlaWdodCAqIHd0LmQgKiBzeSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdEFyZWEgPSBjaGlsZC5nZXRCb3VuZHMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXBIaXRBcmVhKGhpdEFyZWEpO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9IGhpdEFyZWEueCAqIHN4ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUudG9wID0gaGl0QXJlYS55ICogc3kgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGhpdEFyZWEud2lkdGggKiBzeCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGhpdEFyZWEuaGVpZ2h0ICogc3kgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBidXR0b24gdGl0bGVzIGFuZCBoaW50cyBpZiB0aGV5IGV4aXN0IGFuZCB0aGV5J3ZlIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpdi50aXRsZSAhPT0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlICYmIGNoaWxkLmFjY2Vzc2libGVUaXRsZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnRpdGxlID0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXYuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJykgIT09IGNoaWxkLmFjY2Vzc2libGVIaW50XG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBjaGlsZC5hY2Nlc3NpYmxlSGludCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGNoaWxkLmFjY2Vzc2libGVIaW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0aGUgdGl0bGUgb3IgaW5kZXggbWF5IGhhdmUgY2hhbmdlZCwgaWYgc28gbGV0cyB1cGRhdGUgaXQhXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmFjY2Vzc2libGVUaXRsZSAhPT0gZGl2LnRpdGxlIHx8IGNoaWxkLnRhYkluZGV4ICE9PSBkaXYudGFiSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnRpdGxlID0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICAgICAgICAgICAgICBkaXYudGFiSW5kZXggPSBjaGlsZC50YWJJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMudXBkYXRlRGVidWdIVE1MKGRpdik7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5jcmVtZW50IHRoZSByZW5kZXIgaWQuLlxuICAgICAgICB0aGlzLnJlbmRlcklkKys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBwcml2YXRlIGZ1bmN0aW9uIHRoYXQgd2lsbCB2aXN1YWxseSBhZGQgdGhlIGluZm9ybWF0aW9uIHRvIHRoZVxuICAgICAqIGFjY2Vzc2FiaWxpdHkgZGl2XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBkaXZcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUudXBkYXRlRGVidWdIVE1MID0gZnVuY3Rpb24gKGRpdikge1xuICAgICAgICBkaXYuaW5uZXJIVE1MID0gXCJ0eXBlOiBcIiArIGRpdi50eXBlICsgXCI8L2JyPiB0aXRsZSA6IFwiICsgZGl2LnRpdGxlICsgXCI8L2JyPiB0YWJJbmRleDogXCIgKyBkaXYudGFiSW5kZXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGp1c3QgdGhlIGhpdCBhcmVhIGJhc2VkIG9uIHRoZSBib3VuZHMgb2YgYSBkaXNwbGF5IG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gaGl0QXJlYSAtIEJvdW5kcyBvZiB0aGUgY2hpbGRcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuY2FwSGl0QXJlYSA9IGZ1bmN0aW9uIChoaXRBcmVhKSB7XG4gICAgICAgIGlmIChoaXRBcmVhLnggPCAwKSB7XG4gICAgICAgICAgICBoaXRBcmVhLndpZHRoICs9IGhpdEFyZWEueDtcbiAgICAgICAgICAgIGhpdEFyZWEueCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhpdEFyZWEueSA8IDApIHtcbiAgICAgICAgICAgIGhpdEFyZWEuaGVpZ2h0ICs9IGhpdEFyZWEueTtcbiAgICAgICAgICAgIGhpdEFyZWEueSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3Rpbmcgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWRcbiAgICAgICAgaWYgKGhpdEFyZWEueCArIGhpdEFyZWEud2lkdGggPiB0aGlzLnJlbmRlcmVyLndpZHRoKSB7XG4gICAgICAgICAgICBoaXRBcmVhLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aCAtIGhpdEFyZWEueDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGl0QXJlYS55ICsgaGl0QXJlYS5oZWlnaHQgPiB0aGlzLnJlbmRlcmVyLmhlaWdodCkge1xuICAgICAgICAgICAgaGl0QXJlYS5oZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCAtIGhpdEFyZWEueTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIERpc3BsYXlPYmplY3QgdG8gdGhlIGFjY2Vzc2liaWxpdHkgbWFuYWdlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBjaGlsZCB0byBtYWtlIGFjY2Vzc2libGUuXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmFkZENoaWxkID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgLy8gICAgdGhpcy5hY3RpdmF0ZSgpO1xuICAgICAgICB2YXIgZGl2ID0gdGhpcy5wb29sLnBvcCgpO1xuICAgICAgICBpZiAoIWRpdikge1xuICAgICAgICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBESVZfVE9VQ0hfU0laRSArIFwicHhcIjtcbiAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBESVZfVE9VQ0hfU0laRSArIFwicHhcIjtcbiAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmRlYnVnID8gJ3JnYmEoMjU1LDI1NSwyNTUsMC41KScgOiAndHJhbnNwYXJlbnQnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBESVZfVE9VQ0hfWklOREVYLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnbm9uZSc7XG4gICAgICAgICAgICAvLyBBUklBIGF0dHJpYnV0ZXMgZW5zdXJlIHRoYXQgYnV0dG9uIHRpdGxlIGFuZCBoaW50IHVwZGF0ZXMgYXJlIGFubm91bmNlZCBwcm9wZXJseVxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdjaHJvbWUnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hyb21lIGRvZXNuJ3QgbmVlZCBhcmlhLWxpdmUgdG8gd29yayBhcyBpbnRlbmRlZDsgaW4gZmFjdCBpdCBqdXN0IGdldHMgbW9yZSBjb25mdXNlZC5cbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnb2ZmJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvcnY6LipHZWNrb1xcLy8pKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyZUZveCBuZWVkcyB0aGlzIHRvIGFubm91bmNlIG9ubHkgdGhlIG5ldyBidXR0b24gbmFtZVxuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcmVsZXZhbnQnLCAnYWRkaXRpb25zJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyByZXF1aXJlZCBieSBJRSwgb3RoZXIgYnJvd3NlcnMgZG9uJ3QgbXVjaCBjYXJlXG4gICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1yZWxldmFudCcsICd0ZXh0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vbkNsaWNrLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5fb25Gb2N1cy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMuX29uRm9jdXNPdXQuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGRpdi5zdHlsZS5wb2ludGVyRXZlbnRzID0gZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlUG9pbnRlckV2ZW50cztcbiAgICAgICAgLy8gc2V0IHRoZSB0eXBlLCB0aGlzIGRlZmF1bHRzIHRvIGJ1dHRvbiFcbiAgICAgICAgZGl2LnR5cGUgPSBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUeXBlO1xuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUgJiYgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGRpdi50aXRsZSA9IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50XG4gICAgICAgICAgICB8fCBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICBkaXYudGl0bGUgPSBcImRpc3BsYXlPYmplY3QgXCIgKyBkaXNwbGF5T2JqZWN0LnRhYkluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50XG4gICAgICAgICAgICAmJiBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGVidWcpXG4gICAgICAgICAgICB7IHRoaXMudXBkYXRlRGVidWdIVE1MKGRpdik7IH1cbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZUFjdGl2ZSA9IHRydWU7XG4gICAgICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYgPSBkaXY7XG4gICAgICAgIGRpdi5kaXNwbGF5T2JqZWN0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGRpc3BsYXlPYmplY3QpO1xuICAgICAgICB0aGlzLmRpdi5hcHBlbmRDaGlsZChkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdi50YWJJbmRleCA9IGRpc3BsYXlPYmplY3QudGFiSW5kZXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBkaXYgYnV0dG9uIHByZXNzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKGNsaWNrKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGUgLSBUaGUgY2xpY2sgZXZlbnQuXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3Rpbmcgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWRcbiAgICAgICAgdmFyIGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ2NsaWNrJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdwb2ludGVydGFwJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICd0YXAnLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAobW91c2VvdmVyKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0ZvY3VzRXZlbnR9IGUgLSBUaGUgZm9jdXMgZXZlbnQuXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkZvY3VzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCFlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScpKSB7XG4gICAgICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdhc3NlcnRpdmUnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgY2FzdGluZyB3aGVuIENhbnZhc1JlbmRlcmVyIGlzIGNvbnZlcnRlZFxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBkaXYgZm9jdXMgZXZlbnRzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKG1vdXNlb3V0KVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0ZvY3VzRXZlbnR9IGUgLSBUaGUgZm9jdXNvdXQgZXZlbnQuXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkZvY3VzT3V0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCFlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScpKSB7XG4gICAgICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgY2FzdGluZyB3aGVuIENhbnZhc1JlbmRlcmVyIGlzIGNvbnZlcnRlZFxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnbW91c2VvdXQnLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIGEga2V5IGlzIHByZXNzZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBlIC0gVGhlIGtleWRvd24gZXZlbnQuXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbktleURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS5rZXlDb2RlICE9PSBLRVlfQ09ERV9UQUIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgbW91c2UgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIFRoZSBtb3VzZSBldmVudC5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uTW91c2VNb3ZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUubW92ZW1lbnRYID09PSAwICYmIGUubW92ZW1lbnRZID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gICAgICpcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95VG91Y2hIb29rKCk7XG4gICAgICAgIHRoaXMuZGl2ID0gbnVsbDtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24pO1xuICAgICAgICB0aGlzLnBvb2wgPSBudWxsO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQWNjZXNzaWJpbGl0eU1hbmFnZXI7XG59KCkpO1xuXG5leHBvcnQgeyBBY2Nlc3NpYmlsaXR5TWFuYWdlciwgYWNjZXNzaWJsZVRhcmdldCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWNjZXNzaWJpbGl0eS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvdGlja2VyIC0gdjUuMy4zXG4gKiBDb21waWxlZCBUdWUsIDA0IEF1ZyAyMDIwIDE2OjIzOjA5IFVUQ1xuICpcbiAqIEBwaXhpL3RpY2tlciBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG4vKipcbiAqIFRhcmdldCBmcmFtZXMgcGVyIG1pbGxpc2Vjb25kLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRBUkdFVF9GUE1TXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IDAuMDZcbiAqL1xuc2V0dGluZ3MuVEFSR0VUX0ZQTVMgPSAwLjA2O1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIHVwZGF0ZSBwcmlvcml0aWVzIHVzZWQgYnkgaW50ZXJuYWwgUElYSSBjbGFzc2VzIHdoZW4gcmVnaXN0ZXJlZCB3aXRoXG4gKiB0aGUge0BsaW5rIFBJWEkuVGlja2VyfSBvYmplY3QuIEhpZ2hlciBwcmlvcml0eSBpdGVtcyBhcmUgdXBkYXRlZCBmaXJzdCBhbmQgbG93ZXJcbiAqIHByaW9yaXR5IGl0ZW1zLCBzdWNoIGFzIHJlbmRlciwgc2hvdWxkIGdvIGxhdGVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgVVBEQVRFX1BSSU9SSVRZXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBJTlRFUkFDVElPTj01MCBIaWdoZXN0IHByaW9yaXR5LCB1c2VkIGZvciB7QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gSElHSD0yNSBIaWdoIHByaW9yaXR5IHVwZGF0aW5nLCB7QGxpbmsgUElYSS5WaWRlb0Jhc2VUZXh0dXJlfSBhbmQge0BsaW5rIFBJWEkuQW5pbWF0ZWRTcHJpdGV9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMPTAgRGVmYXVsdCBwcmlvcml0eSBmb3IgdGlja2VyIGV2ZW50cywgc2VlIHtAbGluayBQSVhJLlRpY2tlciNhZGR9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExPVz0tMjUgTG93IHByaW9yaXR5IHVzZWQgZm9yIHtAbGluayBQSVhJLkFwcGxpY2F0aW9ufSByZW5kZXJpbmcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gVVRJTElUWT0tNTAgTG93ZXN0IHByaW9yaXR5IHVzZWQgZm9yIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSB1dGlsaXR5LlxuICovXG52YXIgVVBEQVRFX1BSSU9SSVRZO1xuKGZ1bmN0aW9uIChVUERBVEVfUFJJT1JJVFkpIHtcbiAgICBVUERBVEVfUFJJT1JJVFlbVVBEQVRFX1BSSU9SSVRZW1wiSU5URVJBQ1RJT05cIl0gPSA1MF0gPSBcIklOVEVSQUNUSU9OXCI7XG4gICAgVVBEQVRFX1BSSU9SSVRZW1VQREFURV9QUklPUklUWVtcIkhJR0hcIl0gPSAyNV0gPSBcIkhJR0hcIjtcbiAgICBVUERBVEVfUFJJT1JJVFlbVVBEQVRFX1BSSU9SSVRZW1wiTk9STUFMXCJdID0gMF0gPSBcIk5PUk1BTFwiO1xuICAgIFVQREFURV9QUklPUklUWVtVUERBVEVfUFJJT1JJVFlbXCJMT1dcIl0gPSAtMjVdID0gXCJMT1dcIjtcbiAgICBVUERBVEVfUFJJT1JJVFlbVVBEQVRFX1BSSU9SSVRZW1wiVVRJTElUWVwiXSA9IC01MF0gPSBcIlVUSUxJVFlcIjtcbn0pKFVQREFURV9QUklPUklUWSB8fCAoVVBEQVRFX1BSSU9SSVRZID0ge30pKTtcblxuLyoqXG4gKiBJbnRlcm5hbCBjbGFzcyBmb3IgaGFuZGxpbmcgdGhlIHByaW9yaXR5IHNvcnRpbmcgb2YgdGlja2VyIGhhbmRsZXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUaWNrZXJMaXN0ZW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0PW51bGxdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PTBdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29uY2U9ZmFsc2VdIC0gSWYgdGhlIGhhbmRsZXIgc2hvdWxkIGZpcmUgb25jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSwgb25jZSkge1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBudWxsOyB9XG4gICAgICAgIGlmIChwcmlvcml0eSA9PT0gdm9pZCAwKSB7IHByaW9yaXR5ID0gMDsgfVxuICAgICAgICBpZiAob25jZSA9PT0gdm9pZCAwKSB7IG9uY2UgPSBmYWxzZTsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhhbmRsZXIgZnVuY3Rpb24gdG8gZXhlY3V0ZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZuID0gZm47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FsbGluZyB0byBleGVjdXRlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHsqfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHByaW9yaXR5LlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGlzIHNob3VsZCBvbmx5IGV4ZWN1dGUgb25jZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25jZSA9IG9uY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmV4dCBpdGVtIGluIGNoYWluLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtUaWNrZXJMaXN0ZW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcHJldmlvdXMgaXRlbSBpbiBjaGFpbi5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB0aGlzIGxpc3RlbmVyIGhhcyBiZWVuIGRlc3Ryb3llZCBhbHJlYWR5LlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNpbXBsZSBjb21wYXJlIGZ1bmN0aW9uIHRvIGZpZ3VyZSBvdXQgaWYgYSBmdW5jdGlvbiBhbmQgY29udGV4dCBtYXRjaC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHthbnl9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBsaXN0ZW5lciBtYXRjaCB0aGUgYXJndW1lbnRzXG4gICAgICovXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLm1hdGNoID0gZnVuY3Rpb24gKGZuLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZm4gPT09IGZuICYmIHRoaXMuY29udGV4dCA9PT0gY29udGV4dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVtaXQgYnkgY2FsbGluZyB0aGUgY3VycmVudCBmdW5jdGlvbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSB0aW1lIHNpbmNlIHRoZSBsYXN0IGVtaXQuXG4gICAgICogQHJldHVybiB7VGlja2VyTGlzdGVuZXJ9IE5leHQgdGlja2VyXG4gICAgICovXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiAoZGVsdGFUaW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmZuKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mbi5jYWxsKHRoaXMuY29udGV4dCwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZm4oZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVkaXJlY3QgPSB0aGlzLm5leHQ7XG4gICAgICAgIGlmICh0aGlzLm9uY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTb2Z0LWRlc3Ryb3lpbmcgc2hvdWxkIHJlbW92ZVxuICAgICAgICAvLyB0aGUgbmV4dCByZWZlcmVuY2VcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVkaXJlY3Q7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRvIHRoZSBsaXN0LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtUaWNrZXJMaXN0ZW5lcn0gcHJldmlvdXMgLSBJbnB1dCBub2RlLCBwcmV2aW91cyBsaXN0ZW5lclxuICAgICAqL1xuICAgIFRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKHByZXZpb3VzKSB7XG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBwcmV2aW91cztcbiAgICAgICAgaWYgKHByZXZpb3VzLm5leHQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzLm5leHQucHJldmlvdXMgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV4dCA9IHByZXZpb3VzLm5leHQ7XG4gICAgICAgIHByZXZpb3VzLm5leHQgPSB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoYXJkID0gZmFsc2VdIGB0cnVlYCB0byByZW1vdmUgdGhlIGBuZXh0YCByZWZlcmVuY2UsIHRoaXNcbiAgICAgKiAgICAgICAgaXMgY29uc2lkZXJlZCBhIGhhcmQgZGVzdHJveS4gU29mdCBkZXN0cm95IG1haW50YWlucyB0aGUgbmV4dCByZWZlcmVuY2UuXG4gICAgICogQHJldHVybiB7VGlja2VyTGlzdGVuZXJ9IFRoZSBsaXN0ZW5lciB0byByZWRpcmVjdCB3aGlsZSBlbWl0dGluZyBvciByZW1vdmluZy5cbiAgICAgKi9cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChoYXJkKSB7XG4gICAgICAgIGlmIChoYXJkID09PSB2b2lkIDApIHsgaGFyZCA9IGZhbHNlOyB9XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZm4gPSBudWxsO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICAvLyBEaXNjb25uZWN0LCBob29rIHVwIG5leHQgYW5kIHByZXZpb3VzXG4gICAgICAgIGlmICh0aGlzLnByZXZpb3VzKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzLm5leHQgPSB0aGlzLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubmV4dCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0LnByZXZpb3VzID0gdGhpcy5wcmV2aW91cztcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWRpcmVjdCB0byB0aGUgbmV4dCBpdGVtXG4gICAgICAgIHZhciByZWRpcmVjdCA9IHRoaXMubmV4dDtcbiAgICAgICAgLy8gUmVtb3ZlIHJlZmVyZW5jZXNcbiAgICAgICAgdGhpcy5uZXh0ID0gaGFyZCA/IG51bGwgOiByZWRpcmVjdDtcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG4gICAgICAgIHJldHVybiByZWRpcmVjdDtcbiAgICB9O1xuICAgIHJldHVybiBUaWNrZXJMaXN0ZW5lcjtcbn0oKSk7XG5cbi8qKlxuICogQSBUaWNrZXIgY2xhc3MgdGhhdCBydW5zIGFuIHVwZGF0ZSBsb29wIHRoYXQgb3RoZXIgb2JqZWN0cyBsaXN0ZW4gdG8uXG4gKlxuICogVGhpcyBjbGFzcyBpcyBjb21wb3NlZCBhcm91bmQgbGlzdGVuZXJzIG1lYW50IGZvciBleGVjdXRpb24gb24gdGhlIG5leHQgcmVxdWVzdGVkIGFuaW1hdGlvbiBmcmFtZS5cbiAqIEFuaW1hdGlvbiBmcmFtZXMgYXJlIHJlcXVlc3RlZCBvbmx5IHdoZW4gbmVjZXNzYXJ5LCBlLmcuIFdoZW4gdGhlIHRpY2tlciBpcyBzdGFydGVkIGFuZCB0aGUgZW1pdHRlciBoYXMgbGlzdGVuZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpY2tlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaWNrZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZmlyc3QgbGlzdGVuZXIuIEFsbCBuZXcgbGlzdGVuZXJzIGFkZGVkIGFyZSBjaGFpbmVkIG9uIHRoaXMuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtUaWNrZXJMaXN0ZW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hlYWQgPSBuZXcgVGlja2VyTGlzdGVuZXIobnVsbCwgbnVsbCwgSW5maW5pdHkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgY3VycmVudCBmcmFtZSByZXF1ZXN0IElEXG4gICAgICAgICAqIEB0eXBlIHs/bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHZhbHVlIG1hbmFnZWQgYnkgbWluRlBTIHByb3BlcnR5IHNldHRlciBhbmQgZ2V0dGVyLlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBtYXhpbXVtIGFsbG93ZWQgbWlsbGlzZWNvbmRzIGJldHdlZW4gdXBkYXRlcy5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21heEVsYXBzZWRNUyA9IDEwMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHZhbHVlIG1hbmFnZWQgYnkgbWF4RlBTIHByb3BlcnR5IHNldHRlciBhbmQgZ2V0dGVyLlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBtaW5pbXVtIGFsbG93ZWQgbWlsbGlzZWNvbmRzIGJldHdlZW4gdXBkYXRlcy5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21pbkVsYXBzZWRNUyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGlzIHRpY2tlciBzaG91bGQgaW52b2tlIHRoZSBtZXRob2RcbiAgICAgICAgICoge0BsaW5rIFBJWEkuVGlja2VyI3N0YXJ0fSBhdXRvbWF0aWNhbGx5XG4gICAgICAgICAqIHdoZW4gYSBsaXN0ZW5lciBpcyBhZGRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsYXIgdGltZSB2YWx1ZSBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBjYXBwZWQgYnkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbWluRlBTfVxuICAgICAgICAgKiBhbmQgaXMgc2NhbGVkIHdpdGgge0BsaW5rIFBJWEkuVGlja2VyI3NwZWVkfS5cbiAgICAgICAgICogKipOb3RlOioqIFRoZSBjYXAgbWF5IGJlIGV4Y2VlZGVkIGJ5IHNjYWxpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2NhbGVyIHRpbWUgZWxhcHNlZCBpbiBtaWxsaXNlY29uZHMgZnJvbSBsYXN0IGZyYW1lIHRvIHRoaXMgZnJhbWUuXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgY2FwcGVkIGJ5IHNldHRpbmcge0BsaW5rIFBJWEkuVGlja2VyI21pbkZQU31cbiAgICAgICAgICogYW5kIGlzIHNjYWxlZCB3aXRoIHtAbGluayBQSVhJLlRpY2tlciNzcGVlZH0uXG4gICAgICAgICAqICoqTm90ZToqKiBUaGUgY2FwIG1heSBiZSBleGNlZWRlZCBieSBzY2FsaW5nLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqIERlZmF1bHRzIHRvIHRhcmdldCBmcmFtZSB0aW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTYuNjZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVsdGFNUyA9IDEgLyBzZXR0aW5ncy5UQVJHRVRfRlBNUztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbWUgZWxhcHNlZCBpbiBtaWxsaXNlY29uZHMgZnJvbSBsYXN0IGZyYW1lIHRvIHRoaXMgZnJhbWUuXG4gICAgICAgICAqIE9wcG9zZWQgdG8gd2hhdCB0aGUgc2NhbGFyIHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9XG4gICAgICAgICAqIGlzIGJhc2VkLCB0aGlzIHZhbHVlIGlzIG5laXRoZXIgY2FwcGVkIG5vciBzY2FsZWQuXG4gICAgICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAgICAgKiB0aGlzIHZhbHVlIHdpbGwgaGF2ZSBhIHByZWNpc2lvbiBvZiAxIMK1cy5cbiAgICAgICAgICogRGVmYXVsdHMgdG8gdGFyZ2V0IGZyYW1lIHRpbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxNi42NlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbGFwc2VkTVMgPSAxIC8gc2V0dGluZ3MuVEFSR0VUX0ZQTVM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCB0aW1lIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9IHdhcyBpbnZva2VkLlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIGFsc28gcmVzZXQgaW50ZXJuYWxseSBvdXRzaWRlIG9mIGludm9raW5nXG4gICAgICAgICAqIHVwZGF0ZSwgYnV0IG9ubHkgd2hlbiBhIG5ldyBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZhY3RvciBvZiBjdXJyZW50IHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTY2FsZXMgdGlja2VyLmRlbHRhVGltZSB0byB3aGF0IHdvdWxkIGJlXG4gICAgICAgICAqIC8vIHRoZSBlcXVpdmFsZW50IG9mIGFwcHJveGltYXRlbHkgMTIwIEZQU1xuICAgICAgICAgKiB0aWNrZXIuc3BlZWQgPSAyO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3BlZWQgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhpcyB0aWNrZXIgaGFzIGJlZW4gc3RhcnRlZC5cbiAgICAgICAgICogYHRydWVgIGlmIHtAbGluayBQSVhJLlRpY2tlciNzdGFydH0gaGFzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgKiBgZmFsc2VgIGlmIHtAbGluayBQSVhJLlRpY2tlciNzdG9wfSBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICAgICAqIFdoaWxlIGBmYWxzZWAsIHRoaXMgdmFsdWUgbWF5IGNoYW5nZSB0byBgdHJ1ZWAgaW4gdGhlXG4gICAgICAgICAqIGV2ZW50IG9mIHtAbGluayBQSVhJLlRpY2tlciNhdXRvU3RhcnR9IGJlaW5nIGB0cnVlYFxuICAgICAgICAgKiBhbmQgYSBsaXN0ZW5lciBpcyBhZGRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZW5hYmxlZCwgZGVsZXRpbmcgaXMgZGlzYWJsZWQuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wcm90ZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsYXN0IHRpbWUga2V5ZnJhbWUgd2FzIGV4ZWN1dGVkLlxuICAgICAgICAgKiBNYWludGFpbnMgYSByZWxhdGl2ZWx5IGZpeGVkIGludGVydmFsIHdpdGggdGhlIHByZXZpb3VzIHZhbHVlLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sYXN0RnJhbWUgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHRpY2sgbWV0aG9kIGJvdW5kIHRvIHRpY2tlciBpbnN0YW5jZS5cbiAgICAgICAgICogVGhpcyBpcyBiZWNhdXNlIGluIGVhcmx5IDIwMTUsIEZ1bmN0aW9uLmJpbmRcbiAgICAgICAgICogaXMgc3RpbGwgNjAlIHNsb3dlciBpbiBoaWdoIHBlcmZvcm1hbmNlIHNjZW5hcmlvcy5cbiAgICAgICAgICogQWxzbyBzZXBhcmF0aW5nIGZyYW1lIHJlcXVlc3RzIGZyb20gdXBkYXRlIG1ldGhvZFxuICAgICAgICAgKiBzbyBsaXN0ZW5lcnMgbWF5IGJlIGNhbGxlZCBhdCBhbnkgdGltZSBhbmQgd2l0aFxuICAgICAgICAgKiBhbnkgYW5pbWF0aW9uIEFQSSwganVzdCBpbnZva2UgdGlja2VyLnVwZGF0ZSh0aW1lKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgLSBUaW1lIHNpbmNlIGxhc3QgdGljay5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpY2sgPSBmdW5jdGlvbiAodGltZSkge1xuICAgICAgICAgICAgX3RoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoX3RoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgICAgIC8vIEludm9rZSBsaXN0ZW5lcnMgbm93XG4gICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlKHRpbWUpO1xuICAgICAgICAgICAgICAgIC8vIExpc3RlbmVyIHNpZGUgZWZmZWN0cyBtYXkgaGF2ZSBtb2RpZmllZCB0aWNrZXIgc3RhdGUuXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXJ0ZWQgJiYgX3RoaXMuX3JlcXVlc3RJZCA9PT0gbnVsbCAmJiBfdGhpcy5faGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3RoaXMuX3RpY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSByZXF1ZXN0cyBhIG5ldyBhbmltYXRpb24gZnJhbWUuXG4gICAgICogSWYgYSBmcmFtZSBoYXMgbm90IGFscmVhZHkgYmVlbiByZXF1ZXN0ZWQsIGFuZCBpZiB0aGUgaW50ZXJuYWxcbiAgICAgKiBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5fcmVxdWVzdElmTmVlZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdElkID09PSBudWxsICYmIHRoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNhbGxiYWNrcyBnZXQgY29ycmVjdCBkZWx0YVxuICAgICAgICAgICAgdGhpcy5sYXN0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgdGhpcy5fbGFzdEZyYW1lID0gdGhpcy5sYXN0VGltZTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl90aWNrKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSBjYW5jZWxzIGEgcGVuZGluZyBhbmltYXRpb24gZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuX2NhbmNlbElmTmVlZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdElkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZXF1ZXN0SWQpO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSByZXF1ZXN0cyBhIG5ldyBhbmltYXRpb24gZnJhbWUuXG4gICAgICogSWYgdGhlIHRpY2tlciBoYXMgYmVlbiBzdGFydGVkIGl0IGNoZWNrcyBpZiBhIGZyYW1lIGhhcyBub3QgYWxyZWFkeVxuICAgICAqIGJlZW4gcmVxdWVzdGVkLCBhbmQgaWYgdGhlIGludGVybmFsIGVtaXR0ZXIgaGFzIGxpc3RlbmVycy4gSWYgdGhlc2VcbiAgICAgKiBjb25kaXRpb25zIGFyZSBtZXQsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC4gSWYgdGhlIHRpY2tlciBoYXMgbm90XG4gICAgICogYmVlbiBzdGFydGVkLCBidXQgYXV0b1N0YXJ0IGlzIGB0cnVlYCwgdGhlbiB0aGUgdGlja2VyIHN0YXJ0cyBub3csXG4gICAgICogYW5kIGNvbnRpbnVlcyB3aXRoIHRoZSBwcmV2aW91cyBjb25kaXRpb25zIHRvIHJlcXVlc3QgYSBuZXcgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuX3N0YXJ0SWZQb3NzaWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hdXRvU3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBoYW5kbGVyIGZvciB0aWNrIGV2ZW50cy4gQ2FsbHMgY29udGludW91c2x5IHVubGVzc1xuICAgICAqIGl0IGlzIHJlbW92ZWQgb3IgdGhlIHRpY2tlciBpcyBzdG9wcGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIHVwZGF0ZXNcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT1QSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUxdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGZuLCBjb250ZXh0LCBwcmlvcml0eSkge1xuICAgICAgICBpZiAocHJpb3JpdHkgPT09IHZvaWQgMCkgeyBwcmlvcml0eSA9IFVQREFURV9QUklPUklUWS5OT1JNQUw7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBUaWNrZXJMaXN0ZW5lcihmbiwgY29udGV4dCwgcHJpb3JpdHkpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhIGhhbmRsZXIgZm9yIHRoZSB0aWNrIGV2ZW50IHdoaWNoIGlzIG9ubHkgZXhlY3V0ZSBvbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT1QSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUxdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuYWRkT25jZSA9IGZ1bmN0aW9uIChmbiwgY29udGV4dCwgcHJpb3JpdHkpIHtcbiAgICAgICAgaWYgKHByaW9yaXR5ID09PSB2b2lkIDApIHsgcHJpb3JpdHkgPSBVUERBVEVfUFJJT1JJVFkuTk9STUFMOyB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRMaXN0ZW5lcihuZXcgVGlja2VyTGlzdGVuZXIoZm4sIGNvbnRleHQsIHByaW9yaXR5LCB0cnVlKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbGx5IGFkZHMgdGhlIGV2ZW50IGhhbmRsZXIgc28gdGhhdCBpdCBjYW4gYmUgc29ydGVkIGJ5IHByaW9yaXR5LlxuICAgICAqIFByaW9yaXR5IGFsbG93cyBjZXJ0YWluIGhhbmRsZXIgKHVzZXIsIEFuaW1hdGVkU3ByaXRlLCBJbnRlcmFjdGlvbikgdG8gYmUgcnVuXG4gICAgICogYmVmb3JlIHRoZSByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VGlja2VyTGlzdGVuZXJ9IGxpc3RlbmVyIC0gQ3VycmVudCBsaXN0ZW5lciBiZWluZyBhZGRlZC5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLl9hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICAvLyBGb3IgYXR0YWNoaW5nIHRvIGhlYWRcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLl9oZWFkLm5leHQ7XG4gICAgICAgIHZhciBwcmV2aW91cyA9IHRoaXMuX2hlYWQ7XG4gICAgICAgIC8vIEFkZCB0aGUgZmlyc3QgaXRlbVxuICAgICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gR28gZnJvbSBoaWdoZXN0IHRvIGxvd2VzdCBwcmlvcml0eVxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIucHJpb3JpdHkgPiBjdXJyZW50LnByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldmlvdXMgPSBjdXJyZW50O1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOb3QgeWV0IGNvbm5lY3RlZFxuICAgICAgICAgICAgaWYgKCFsaXN0ZW5lci5wcmV2aW91cykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YXJ0SWZQb3NzaWJsZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW55IGhhbmRsZXJzIG1hdGNoaW5nIHRoZSBmdW5jdGlvbiBhbmQgY29udGV4dCBwYXJhbWV0ZXJzLlxuICAgICAqIElmIG5vIGhhbmRsZXJzIGFyZSBsZWZ0IGFmdGVyIHJlbW92aW5nLCB0aGVuIGl0IGNhbmNlbHMgdGhlIGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0IHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcmV0dXJucyB7UElYSS5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChmbiwgY29udGV4dCkge1xuICAgICAgICB2YXIgbGlzdGVuZXIgPSB0aGlzLl9oZWFkLm5leHQ7XG4gICAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgLy8gV2UgZm91bmQgYSBtYXRjaCwgbGV0cyByZW1vdmUgaXRcbiAgICAgICAgICAgIC8vIG5vIGJyZWFrIHRvIGRlbGV0ZSBhbGwgcG9zc2libGUgbWF0Y2hlc1xuICAgICAgICAgICAgLy8gaW5jYXNlIGEgbGlzdGVuZXIgd2FzIGFkZGVkIDIrIHRpbWVzXG4gICAgICAgICAgICBpZiAobGlzdGVuZXIubWF0Y2goZm4sIGNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9oZWFkLm5leHQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlja2VyLnByb3RvdHlwZSwgXCJjb3VudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGxpc3RlbmVycyBvbiB0aGlzIHRpY2tlciwgY2FsY3VsYXRlZCBieSB3YWxraW5nIHRocm91Z2ggbGlua2VkIGxpc3RcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9oZWFkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLl9oZWFkO1xuICAgICAgICAgICAgd2hpbGUgKChjdXJyZW50ID0gY3VycmVudC5uZXh0KSkge1xuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIHRpY2tlci4gSWYgdGhlIHRpY2tlciBoYXMgbGlzdGVuZXJzXG4gICAgICogYSBuZXcgYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZCBhdCB0aGlzIHBvaW50LlxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSB0aWNrZXIuIElmIHRoZSB0aWNrZXIgaGFzIHJlcXVlc3RlZFxuICAgICAqIGFuIGFuaW1hdGlvbiBmcmFtZSBpdCBpcyBjYW5jZWxlZCBhdCB0aGlzIHBvaW50LlxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSB0aWNrZXIgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLiBDYWxsaW5nXG4gICAgICogdGhpcyBtZXRob2QgcmVtb3ZlcyBhbGwgcmVmZXJlbmNlcyB0byBpbnRlcm5hbCBldmVudHMuXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3Byb3RlY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgICB2YXIgbGlzdGVuZXIgPSB0aGlzLl9oZWFkLm5leHQ7XG4gICAgICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9oZWFkLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2hlYWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VycyBhbiB1cGRhdGUuIEFuIHVwZGF0ZSBlbnRhaWxzIHNldHRpbmcgdGhlXG4gICAgICogY3VycmVudCB7QGxpbmsgUElYSS5UaWNrZXIjZWxhcHNlZE1TfSxcbiAgICAgKiB0aGUgY3VycmVudCB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfSxcbiAgICAgKiBpbnZva2luZyBhbGwgbGlzdGVuZXJzIHdpdGggY3VycmVudCBkZWx0YVRpbWUsXG4gICAgICogYW5kIHRoZW4gZmluYWxseSBzZXR0aW5nIHtAbGluayBQSVhJLlRpY2tlciNsYXN0VGltZX1cbiAgICAgKiB3aXRoIHRoZSB2YWx1ZSBvZiBjdXJyZW50VGltZSB0aGF0IHdhcyBwcm92aWRlZC5cbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IGFuaW1hdGlvblxuICAgICAqIGZyYW1lIGNhbGxiYWNrcyBpZiB0aGUgdGlja2VyIGluc3RhbmNlIGhhcyBiZWVuIHN0YXJ0ZWRcbiAgICAgKiBhbmQgbGlzdGVuZXJzIGFyZSBhZGRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY3VycmVudFRpbWU9cGVyZm9ybWFuY2Uubm93KCldIC0gdGhlIGN1cnJlbnQgdGltZSBvZiBleGVjdXRpb25cbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChjdXJyZW50VGltZSkge1xuICAgICAgICBpZiAoY3VycmVudFRpbWUgPT09IHZvaWQgMCkgeyBjdXJyZW50VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpOyB9XG4gICAgICAgIHZhciBlbGFwc2VkTVM7XG4gICAgICAgIC8vIElmIHRoZSBkaWZmZXJlbmNlIGluIHRpbWUgaXMgemVybyBvciBuZWdhdGl2ZSwgd2UgaWdub3JlIG1vc3Qgb2YgdGhlIHdvcmsgZG9uZSBoZXJlLlxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyB2YWxpZCBkaWZmZXJlbmNlLCB0aGVuIHNob3VsZCBiZSBubyByZWFzb24gdG8gbGV0IGFueW9uZSBrbm93IGFib3V0IGl0LlxuICAgICAgICAvLyBBIHplcm8gZGVsdGEsIGlzIGV4YWN0bHkgdGhhdCwgbm90aGluZyBzaG91bGQgdXBkYXRlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgZGlmZmVyZW5jZSBpbiB0aW1lIGNhbiBiZSBuZWdhdGl2ZSwgYW5kIG5vIHRoaXMgZG9lcyBub3QgbWVhbiB0aW1lIHRyYXZlbGluZy5cbiAgICAgICAgLy8gVGhpcyBjYW4gYmUgdGhlIHJlc3VsdCBvZiBhIHJhY2UgY29uZGl0aW9uIGJldHdlZW4gd2hlbiBhbiBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkXG4gICAgICAgIC8vIG9uIHRoZSBjdXJyZW50IEphdmFTY3JpcHQgZW5naW5lIGV2ZW50IGxvb3AsIGFuZCB3aGVuIHRoZSB0aWNrZXIncyBzdGFydCBtZXRob2QgaXMgaW52b2tlZFxuICAgICAgICAvLyAod2hpY2ggaW52b2tlcyB0aGUgaW50ZXJuYWwgX3JlcXVlc3RJZk5lZWRlZCBtZXRob2QpLiBJZiBhIGZyYW1lIGlzIHJlcXVlc3RlZCBiZWZvcmVcbiAgICAgICAgLy8gX3JlcXVlc3RJZk5lZWRlZCBpcyBpbnZva2VkLCB0aGVuIHRoZSBjYWxsYmFjayBmb3IgdGhlIGFuaW1hdGlvbiBmcmFtZSB0aGUgdGlja2VyIHJlcXVlc3RzLFxuICAgICAgICAvLyBjYW4gcmVjZWl2ZSBhIHRpbWUgYXJndW1lbnQgdGhhdCBjYW4gYmUgbGVzcyB0aGFuIHRoZSBsYXN0VGltZSB2YWx1ZSB0aGF0IHdhcyBzZXQgd2l0aGluXG4gICAgICAgIC8vIF9yZXF1ZXN0SWZOZWVkZWQuIFRoaXMgZGlmZmVyZW5jZSBpcyBpbiBtaWNyb3NlY29uZHMsIGJ1dCB0aGlzIGlzIGVub3VnaCB0byBjYXVzZSBwcm9ibGVtcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBjaGVjayBjb3ZlcnMgdGhpcyBicm93c2VyIGVuZ2luZSB0aW1pbmcgaXNzdWUsIGFzIHdlbGwgYXMgaWYgY29uc3VtZXJzIHBhc3MgYW4gaW52YWxpZFxuICAgICAgICAvLyBjdXJyZW50VGltZSB2YWx1ZS4gVGhpcyBtYXkgaGFwcGVuIGlmIGNvbnN1bWVycyBvcHQtb3V0IG9mIHRoZSBhdXRvU3RhcnQsIGFuZCB1cGRhdGUgdGhlbXNlbHZlcy5cbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lID4gdGhpcy5sYXN0VGltZSkge1xuICAgICAgICAgICAgLy8gU2F2ZSB1bmNhcHBlZCBlbGFwc2VkTVMgZm9yIG1lYXN1cmVtZW50XG4gICAgICAgICAgICBlbGFwc2VkTVMgPSB0aGlzLmVsYXBzZWRNUyA9IGN1cnJlbnRUaW1lIC0gdGhpcy5sYXN0VGltZTtcbiAgICAgICAgICAgIC8vIGNhcCB0aGUgbWlsbGlzZWNvbmRzIGVsYXBzZWQgdXNlZCBmb3IgZGVsdGFUaW1lXG4gICAgICAgICAgICBpZiAoZWxhcHNlZE1TID4gdGhpcy5fbWF4RWxhcHNlZE1TKSB7XG4gICAgICAgICAgICAgICAgZWxhcHNlZE1TID0gdGhpcy5fbWF4RWxhcHNlZE1TO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxhcHNlZE1TICo9IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgICAvLyBJZiBub3QgZW5vdWdoIHRpbWUgaGFzIHBhc3NlZCwgZXhpdCB0aGUgZnVuY3Rpb24uXG4gICAgICAgICAgICAvLyBHZXQgcmVhZHkgZm9yIG5leHQgZnJhbWUgYnkgc2V0dGluZyBfbGFzdEZyYW1lLCBidXQgYmFzZWQgb24gX21pbkVsYXBzZWRNU1xuICAgICAgICAgICAgLy8gYWRqdXN0bWVudCB0byBlbnN1cmUgYSByZWxhdGl2ZWx5IHN0YWJsZSBpbnRlcnZhbC5cbiAgICAgICAgICAgIGlmICh0aGlzLl9taW5FbGFwc2VkTVMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBjdXJyZW50VGltZSAtIHRoaXMuX2xhc3RGcmFtZSB8IDA7XG4gICAgICAgICAgICAgICAgaWYgKGRlbHRhIDwgdGhpcy5fbWluRWxhcHNlZE1TKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEZyYW1lID0gY3VycmVudFRpbWUgLSAoZGVsdGEgJSB0aGlzLl9taW5FbGFwc2VkTVMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kZWx0YU1TID0gZWxhcHNlZE1TO1xuICAgICAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSB0aGlzLmRlbHRhTVMgKiBzZXR0aW5ncy5UQVJHRVRfRlBNUztcbiAgICAgICAgICAgIC8vIENhY2hlIGEgbG9jYWwgcmVmZXJlbmNlLCBpbi1jYXNlIHRpY2tlciBpcyBkZXN0cm95ZWRcbiAgICAgICAgICAgIC8vIGR1cmluZyB0aGUgZW1pdCwgd2UgY2FuIHN0aWxsIGNoZWNrIGZvciBoZWFkLm5leHRcbiAgICAgICAgICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcbiAgICAgICAgICAgIC8vIEludm9rZSBsaXN0ZW5lcnMgYWRkZWQgdG8gaW50ZXJuYWwgZW1pdHRlclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gaGVhZC5uZXh0O1xuICAgICAgICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5lbWl0KHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVsdGFUaW1lID0gdGhpcy5kZWx0YU1TID0gdGhpcy5lbGFwc2VkTVMgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWNrZXIucHJvdG90eXBlLCBcIkZQU1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZnJhbWVzIHBlciBzZWNvbmQgYXQgd2hpY2ggdGhpcyB0aWNrZXIgaXMgcnVubmluZy5cbiAgICAgICAgICogVGhlIGRlZmF1bHQgaXMgYXBwcm94aW1hdGVseSA2MCBpbiBtb3N0IG1vZGVybiBicm93c2Vycy5cbiAgICAgICAgICogKipOb3RlOioqIFRoaXMgZG9lcyBub3QgZmFjdG9yIGluIHRoZSB2YWx1ZSBvZlxuICAgICAgICAgKiB7QGxpbmsgUElYSS5UaWNrZXIjc3BlZWR9LCB3aGljaCBpcyBzcGVjaWZpY1xuICAgICAgICAgKiB0byBzY2FsaW5nIHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTAwMCAvIHRoaXMuZWxhcHNlZE1TO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlci5wcm90b3R5cGUsIFwibWluRlBTXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIG1pbGxpc2Vjb25kcyBhbGxvd2VkIHRvXG4gICAgICAgICAqIGVsYXBzZSBiZXR3ZWVuIGludm9raW5nIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9LlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIHVzZWQgdG8gY2FwIHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LFxuICAgICAgICAgKiBidXQgZG9lcyBub3QgZWZmZWN0IHRoZSBtZWFzdXJlZCB2YWx1ZSBvZiB7QGxpbmsgUElYSS5UaWNrZXIjRlBTfS5cbiAgICAgICAgICogV2hlbiBzZXR0aW5nIHRoaXMgcHJvcGVydHkgaXQgaXMgY2xhbXBlZCB0byBhIHZhbHVlIGJldHdlZW5cbiAgICAgICAgICogYDBgIGFuZCBgUElYSS5zZXR0aW5ncy5UQVJHRVRfRlBNUyAqIDEwMDBgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDEwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAxMDAwIC8gdGhpcy5fbWF4RWxhcHNlZE1TO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmcHMpIHtcbiAgICAgICAgICAgIC8vIE1pbmltdW0gbXVzdCBiZSBiZWxvdyB0aGUgbWF4RlBTXG4gICAgICAgICAgICB2YXIgbWluRlBTID0gTWF0aC5taW4odGhpcy5tYXhGUFMsIGZwcyk7XG4gICAgICAgICAgICAvLyBNdXN0IGJlIGF0IGxlYXN0IDAsIGJ1dCBiZWxvdyAxIC8gc2V0dGluZ3MuVEFSR0VUX0ZQTVNcbiAgICAgICAgICAgIHZhciBtaW5GUE1TID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgbWluRlBTKSAvIDEwMDAsIHNldHRpbmdzLlRBUkdFVF9GUE1TKTtcbiAgICAgICAgICAgIHRoaXMuX21heEVsYXBzZWRNUyA9IDEgLyBtaW5GUE1TO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlci5wcm90b3R5cGUsIFwibWF4RlBTXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGhlIG1pbmltdW0gYW1vdW50IG9mIG1pbGxpc2Vjb25kcyByZXF1aXJlZCB0b1xuICAgICAgICAgKiBlbGFwc2UgYmV0d2VlbiBpbnZva2luZyB7QGxpbmsgUElYSS5UaWNrZXIjdXBkYXRlfS5cbiAgICAgICAgICogVGhpcyB3aWxsIGVmZmVjdCB0aGUgbWVhc3VyZWQgdmFsdWUgb2Yge0BsaW5rIFBJWEkuVGlja2VyI0ZQU30uXG4gICAgICAgICAqIElmIGl0IGlzIHNldCB0byBgMGAsIHRoZW4gdGhlcmUgaXMgbm8gbGltaXQ7IFBpeGlKUyB3aWxsIHJlbmRlciBhcyBtYW55IGZyYW1lcyBhcyBpdCBjYW4uXG4gICAgICAgICAqIE90aGVyd2lzZSBpdCB3aWxsIGJlIGF0IGxlYXN0IGBtaW5GUFNgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWluRWxhcHNlZE1TKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoMTAwMCAvIHRoaXMuX21pbkVsYXBzZWRNUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZnBzKSB7XG4gICAgICAgICAgICBpZiAoZnBzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE1heCBtdXN0IGJlIGF0IGxlYXN0IHRoZSBtaW5GUFNcbiAgICAgICAgICAgICAgICB2YXIgbWF4RlBTID0gTWF0aC5tYXgodGhpcy5taW5GUFMsIGZwcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMSAvIChtYXhGUFMgLyAxMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWNrZXIsIFwic2hhcmVkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaGFyZWQgdGlja2VyIGluc3RhbmNlIHVzZWQgYnkge0BsaW5rIFBJWEkuQW5pbWF0ZWRTcHJpdGV9IGFuZCBieVxuICAgICAgICAgKiB7QGxpbmsgUElYSS5WaWRlb1Jlc291cmNlfSB0byB1cGRhdGUgYW5pbWF0aW9uIGZyYW1lcyAvIHZpZGVvIHRleHR1cmVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJdCBtYXkgYWxzbyBiZSB1c2VkIGJ5IHtAbGluayBQSVhJLkFwcGxpY2F0aW9ufSBpZiBjcmVhdGVkIHdpdGggdGhlIGBzaGFyZWRUaWNrZXJgIG9wdGlvbiBwcm9wZXJ0eSBzZXQgdG8gdHJ1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIHByb3BlcnR5IHtAbGluayBQSVhJLlRpY2tlciNhdXRvU3RhcnR9IGlzIHNldCB0byBgdHJ1ZWAgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAgICAgICAqIFBsZWFzZSBmb2xsb3cgdGhlIGV4YW1wbGVzIGZvciB1c2FnZSwgaW5jbHVkaW5nIGhvdyB0byBvcHQtb3V0IG9mIGF1dG8tc3RhcnRpbmcgdGhlIHNoYXJlZCB0aWNrZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGxldCB0aWNrZXIgPSBQSVhJLlRpY2tlci5zaGFyZWQ7XG4gICAgICAgICAqIC8vIFNldCB0aGlzIHRvIHByZXZlbnQgc3RhcnRpbmcgdGhpcyB0aWNrZXIgd2hlbiBsaXN0ZW5lcnMgYXJlIGFkZGVkLlxuICAgICAgICAgKiAvLyBCeSBkZWZhdWx0IHRoaXMgaXMgdHJ1ZSBvbmx5IGZvciB0aGUgUElYSS5UaWNrZXIuc2hhcmVkIGluc3RhbmNlLlxuICAgICAgICAgKiB0aWNrZXIuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgICAqIC8vIEZZSSwgY2FsbCB0aGlzIHRvIGVuc3VyZSB0aGUgdGlja2VyIGlzIHN0b3BwZWQuIEl0IHNob3VsZCBiZSBzdG9wcGVkXG4gICAgICAgICAqIC8vIGlmIHlvdSBoYXZlIG5vdCBhdHRlbXB0ZWQgdG8gcmVuZGVyIGFueXRoaW5nIHlldC5cbiAgICAgICAgICogdGlja2VyLnN0b3AoKTtcbiAgICAgICAgICogLy8gQ2FsbCB0aGlzIHdoZW4geW91IGFyZSByZWFkeSBmb3IgYSBydW5uaW5nIHNoYXJlZCB0aWNrZXIuXG4gICAgICAgICAqIHRpY2tlci5zdGFydCgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBZb3UgbWF5IHVzZSB0aGUgc2hhcmVkIHRpY2tlciB0byByZW5kZXIuLi5cbiAgICAgICAgICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoKTtcbiAgICAgICAgICogbGV0IHN0YWdlID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgICAgICAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocmVuZGVyZXIudmlldyk7XG4gICAgICAgICAqIHRpY2tlci5hZGQoZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAgICAgICogICAgIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBPciB5b3UgY2FuIGp1c3QgdXBkYXRlIGl0IG1hbnVhbGx5LlxuICAgICAgICAgKiB0aWNrZXIuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgICAqIHRpY2tlci5zdG9wKCk7XG4gICAgICAgICAqIGZ1bmN0aW9uIGFuaW1hdGUodGltZSkge1xuICAgICAgICAgKiAgICAgdGlja2VyLnVwZGF0ZSh0aW1lKTtcbiAgICAgICAgICogICAgIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gICAgICAgICAqICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gICAgICAgICAqIH1cbiAgICAgICAgICogYW5pbWF0ZShwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGlja2VyfVxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghVGlja2VyLl9zaGFyZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2hhcmVkID0gVGlja2VyLl9zaGFyZWQgPSBuZXcgVGlja2VyKCk7XG4gICAgICAgICAgICAgICAgc2hhcmVkLmF1dG9TdGFydCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2hhcmVkLl9wcm90ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFRpY2tlci5fc2hhcmVkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlciwgXCJzeXN0ZW1cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN5c3RlbSB0aWNrZXIgaW5zdGFuY2UgdXNlZCBieSB7QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXJ9IGFuZCBieVxuICAgICAgICAgKiB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gZm9yIGNvcmUgdGltaW5nIGZ1bmN0aW9uYWxpdHkgdGhhdCBzaG91bGRuJ3QgdXN1YWxseSBuZWVkIHRvIGJlIHBhdXNlZCxcbiAgICAgICAgICogdW5saWtlIHRoZSBgc2hhcmVkYCB0aWNrZXIgd2hpY2ggZHJpdmVzIHZpc3VhbCBhbmltYXRpb25zIGFuZCByZW5kZXJpbmcgd2hpY2ggbWF5IHdhbnQgdG8gYmUgcGF1c2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgcHJvcGVydHkge0BsaW5rIFBJWEkuVGlja2VyI2F1dG9TdGFydH0gaXMgc2V0IHRvIGB0cnVlYCBmb3IgdGhpcyBpbnN0YW5jZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFUaWNrZXIuX3N5c3RlbSkge1xuICAgICAgICAgICAgICAgIHZhciBzeXN0ZW0gPSBUaWNrZXIuX3N5c3RlbSA9IG5ldyBUaWNrZXIoKTtcbiAgICAgICAgICAgICAgICBzeXN0ZW0uYXV0b1N0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzeXN0ZW0uX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gVGlja2VyLl9zeXN0ZW07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gVGlja2VyO1xufSgpKTtcblxuLyoqXG4gKiBNaWRkbGV3YXJlIGZvciBmb3IgQXBwbGljYXRpb24gVGlja2VyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQge1RpY2tlclBsdWdpbn0gZnJvbSAnQHBpeGkvdGlja2VyJztcbiAqIGltcG9ydCB7QXBwbGljYXRpb259IGZyb20gJ0BwaXhpL2FwcCc7XG4gKiBBcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihUaWNrZXJQbHVnaW4pO1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpY2tlclBsdWdpbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaWNrZXJQbHVnaW4oKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIHBsdWdpbiB3aXRoIHNjb3BlIG9mIGFwcGxpY2F0aW9uIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIGFwcGxpY2F0aW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBUaWNrZXJQbHVnaW4uaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFNldCBkZWZhdWx0XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGF1dG9TdGFydDogdHJ1ZSxcbiAgICAgICAgICAgIHNoYXJlZFRpY2tlcjogZmFsc2UsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAvLyBDcmVhdGUgdGlja2VyIHNldHRlclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3RpY2tlcicsIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHRpY2tlcikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90aWNrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGlja2VyLnJlbW92ZSh0aGlzLnJlbmRlciwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3RpY2tlciA9IHRpY2tlcjtcbiAgICAgICAgICAgICAgICBpZiAodGlja2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2tlci5hZGQodGhpcy5yZW5kZXIsIHRoaXMsIFVQREFURV9QUklPUklUWS5MT1cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdGlja2VyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIHN0b3BwaW5nIHRoZSByZW5kZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNzdG9wXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fdGlja2VyLnN0b3AoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RhcnRpbmcgdGhlIHJlbmRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI3N0YXJ0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX3RpY2tlci5zdGFydCgpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcmVmZXJlbmNlIHRvIHRoZSB0aWNrZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRpY2tlcn1cbiAgICAgICAgICogQG5hbWUgX3RpY2tlclxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpY2tlciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaWNrZXIgZm9yIGRvaW5nIHJlbmRlciB1cGRhdGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBuYW1lIHRpY2tlclxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UaWNrZXIuc2hhcmVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpY2tlciA9IG9wdGlvbnMuc2hhcmVkVGlja2VyID8gVGlja2VyLnNoYXJlZCA6IG5ldyBUaWNrZXIoKTtcbiAgICAgICAgLy8gU3RhcnQgdGhlIHJlbmRlcmluZ1xuICAgICAgICBpZiAob3B0aW9ucy5hdXRvU3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAgdGhlIHRpY2tlciwgc2NvcGVkIHRvIGFwcGxpY2F0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGlja2VyUGx1Z2luLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl90aWNrZXIpIHtcbiAgICAgICAgICAgIHZhciBvbGRUaWNrZXIgPSB0aGlzLl90aWNrZXI7XG4gICAgICAgICAgICB0aGlzLnRpY2tlciA9IG51bGw7XG4gICAgICAgICAgICBvbGRUaWNrZXIuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGlja2VyUGx1Z2luO1xufSgpKTtcblxuZXhwb3J0IHsgVGlja2VyLCBUaWNrZXJQbHVnaW4sIFVQREFURV9QUklPUklUWSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGlja2VyLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9pbnRlcmFjdGlvbiAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9pbnRlcmFjdGlvbiBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBUaWNrZXIsIFVQREFURV9QUklPUklUWSB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0LCBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogSG9sZHMgYWxsIGluZm9ybWF0aW9uIHJlbGF0ZWQgdG8gYW4gSW50ZXJhY3Rpb24gZXZlbnRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBJbnRlcmFjdGlvbkRhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25EYXRhKCkge1xuICAgICAgICB0aGlzLnByZXNzdXJlID0gMDtcbiAgICAgICAgdGhpcy5yb3RhdGlvbkFuZ2xlID0gMDtcbiAgICAgICAgdGhpcy50d2lzdCA9IDA7XG4gICAgICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcG9pbnQgc3RvcmVzIHRoZSBnbG9iYWwgY29vcmRzIG9mIHdoZXJlIHRoZSB0b3VjaC9tb3VzZSBldmVudCBoYXBwZW5lZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbG9iYWwgPSBuZXcgUG9pbnQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0YXJnZXQgU3ByaXRlIHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gcGFzc2VkIHRvIGFuIGV2ZW50IGhhbmRsZXIsIHRoaXMgd2lsbCBiZSB0aGUgb3JpZ2luYWwgRE9NIEV2ZW50IHRoYXQgd2FzIGNhcHR1cmVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnRcbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVG91Y2hFdmVudFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnRcbiAgICAgICAgICogQG1lbWJlciB7TW91c2VFdmVudHxUb3VjaEV2ZW50fFBvaW50ZXJFdmVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3JpZ2luYWxFdmVudCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBpbnRlcmFjdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlkZW50aWZpZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHRoZSBwb2ludGVyIGRldmljZSB0aGF0IGNyZWF0ZWQgdGhlIGV2ZW50IGlzIHRoZSBwcmltYXJ5IHBvaW50ZXIuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9pc1ByaW1hcnlcbiAgICAgICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzUHJpbWFyeSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoaWNoIGJ1dHRvbiB3YXMgcHJlc3NlZCBvbiB0aGUgbW91c2Ugb3IgcG9pbnRlciBkZXZpY2UgdG8gdHJpZ2dlciB0aGUgZXZlbnQuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnQvYnV0dG9uXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJ1dHRvbiA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hpY2ggYnV0dG9ucyBhcmUgcHJlc3NlZCBvbiB0aGUgbW91c2Ugb3IgcG9pbnRlciBkZXZpY2Ugd2hlbiB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50L2J1dHRvbnNcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYnV0dG9ucyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHBvaW50ZXIncyBjb250YWN0IGFsb25nIHRoZSB4LWF4aXMsIG1lYXN1cmVkIGluIENTUyBwaXhlbHMuXG4gICAgICAgICAqIHJhZGl1c1ggb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvd2lkdGhcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgcG9pbnRlcidzIGNvbnRhY3QgYWxvbmcgdGhlIHktYXhpcywgbWVhc3VyZWQgaW4gQ1NTIHBpeGVscy5cbiAgICAgICAgICogcmFkaXVzWSBvZiBUb3VjaEV2ZW50cyB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9oZWlnaHRcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmdsZSwgaW4gZGVncmVlcywgYmV0d2VlbiB0aGUgcG9pbnRlciBkZXZpY2UgYW5kIHRoZSBzY3JlZW4uXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC90aWx0WFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWx0WCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5nbGUsIGluIGRlZ3JlZXMsIGJldHdlZW4gdGhlIHBvaW50ZXIgZGV2aWNlIGFuZCB0aGUgc2NyZWVuLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvdGlsdFlcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlsdFkgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgcG9pbnRlciB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnQuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wb2ludGVyVHlwZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludGVyVHlwZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcmVzc3VyZSBhcHBsaWVkIGJ5IHRoZSBwb2ludGluZyBkZXZpY2UgZHVyaW5nIHRoZSBldmVudC4gQSBUb3VjaCdzIGZvcmNlIHByb3BlcnR5XG4gICAgICAgICAqIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3ByZXNzdXJlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXNzdXJlID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyb20gVG91Y2hFdmVudHMgKG5vdCBQb2ludGVyRXZlbnRzIHRyaWdnZXJlZCBieSB0b3VjaGVzKSwgdGhlIHJvdGF0aW9uQW5nbGUgb2YgdGhlIFRvdWNoLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaC9yb3RhdGlvbkFuZ2xlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHdpc3Qgb2YgYSBzdHlsdXMgcG9pbnRlci5cbiAgICAgICAgICogQHNlZSBodHRwczovL3czYy5naXRodWIuaW8vcG9pbnRlcmV2ZW50cy8jcG9pbnRlcmV2ZW50LWludGVyZmFjZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50d2lzdCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXJyZWwgcHJlc3N1cmUgb24gYSBzdHlsdXMgcG9pbnRlci5cbiAgICAgICAgICogQHNlZSBodHRwczovL3czYy5naXRodWIuaW8vcG9pbnRlcmV2ZW50cy8jcG9pbnRlcmV2ZW50LWludGVyZmFjZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZSwgXCJwb2ludGVySWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBwb2ludGVyLiBJdCB3aWxsIGJlIHRoZSBzYW1lIGFzIGBpZGVudGlmaWVyYC5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3BvaW50ZXJJZFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pZGVudGlmaWVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVGhpcyB3aWxsIHJldHVybiB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHNwZWNpZmllZCBkaXNwbGF5T2JqZWN0IGZvciB0aGlzIEludGVyYWN0aW9uRGF0YVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSBsb2NhbFxuICAgICAqICBjb29yZHMgb2ZmXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbCAob3RoZXJ3aXNlXG4gICAgICogIHdpbGwgY3JlYXRlIGEgbmV3IHBvaW50KVxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW2dsb2JhbFBvc10gLSBBIFBvaW50IG9iamVjdCBjb250YWluaW5nIHlvdXIgY3VzdG9tIGdsb2JhbCBjb29yZHMsIG9wdGlvbmFsXG4gICAgICogIChvdGhlcndpc2Ugd2lsbCB1c2UgdGhlIGN1cnJlbnQgZ2xvYmFsIGNvb3JkcylcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IGNvbnRhaW5pbmcgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBJbnRlcmFjdGlvbkRhdGEgcG9zaXRpb24gcmVsYXRpdmVcbiAgICAgKiAgdG8gdGhlIERpc3BsYXlPYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLmdldExvY2FsUG9zaXRpb24gPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCwgcG9pbnQsIGdsb2JhbFBvcykge1xuICAgICAgICByZXR1cm4gZGlzcGxheU9iamVjdC53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UoZ2xvYmFsUG9zIHx8IHRoaXMuZ2xvYmFsLCBwb2ludCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgcHJvcGVydGllcyBmcm9tIG5vcm1hbGl6ZWQgZXZlbnQgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VG91Y2h8TW91c2VFdmVudHxQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIG5vcm1hbGl6ZWQgZXZlbnQgZGF0YVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUuY29weUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIGlzUHJpbWFyeSBzaG91bGQgb25seSBjaGFuZ2Ugb24gdG91Y2hzdGFydC9wb2ludGVyZG93biwgc28gd2UgZG9uJ3Qgd2FudCB0byBvdmVyd3JpdGVcbiAgICAgICAgLy8gaXQgd2l0aCBcImZhbHNlXCIgb24gbGF0ZXIgZXZlbnRzIHdoZW4gb3VyIHNoaW0gZm9yIGl0IG9uIHRvdWNoIGV2ZW50cyBtaWdodCBub3QgYmVcbiAgICAgICAgLy8gYWNjdXJhdGVcbiAgICAgICAgaWYgKCdpc1ByaW1hcnknIGluIGV2ZW50ICYmIGV2ZW50LmlzUHJpbWFyeSkge1xuICAgICAgICAgICAgdGhpcy5pc1ByaW1hcnkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnV0dG9uID0gJ2J1dHRvbicgaW4gZXZlbnQgJiYgZXZlbnQuYnV0dG9uO1xuICAgICAgICAvLyBldmVudC5idXR0b25zIGlzIG5vdCBhdmFpbGFibGUgaW4gYWxsIGJyb3dzZXJzIChpZS4gU2FmYXJpKSwgYnV0IGl0IGRvZXMgaGF2ZSBhIG5vbi1zdGFuZGFyZFxuICAgICAgICAvLyBldmVudC53aGljaCBwcm9wZXJ0eSBpbnN0ZWFkLCB3aGljaCBjb252ZXlzIHRoZSBzYW1lIGluZm9ybWF0aW9uLlxuICAgICAgICB2YXIgYnV0dG9ucyA9ICdidXR0b25zJyBpbiBldmVudCAmJiBldmVudC5idXR0b25zO1xuICAgICAgICB0aGlzLmJ1dHRvbnMgPSBOdW1iZXIuaXNJbnRlZ2VyKGJ1dHRvbnMpID8gYnV0dG9ucyA6ICd3aGljaCcgaW4gZXZlbnQgJiYgZXZlbnQud2hpY2g7XG4gICAgICAgIHRoaXMud2lkdGggPSAnd2lkdGgnIGluIGV2ZW50ICYmIGV2ZW50LndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9ICdoZWlnaHQnIGluIGV2ZW50ICYmIGV2ZW50LmhlaWdodDtcbiAgICAgICAgdGhpcy50aWx0WCA9ICd0aWx0WCcgaW4gZXZlbnQgJiYgZXZlbnQudGlsdFg7XG4gICAgICAgIHRoaXMudGlsdFkgPSAndGlsdFknIGluIGV2ZW50ICYmIGV2ZW50LnRpbHRZO1xuICAgICAgICB0aGlzLnBvaW50ZXJUeXBlID0gJ3BvaW50ZXJUeXBlJyBpbiBldmVudCAmJiBldmVudC5wb2ludGVyVHlwZTtcbiAgICAgICAgdGhpcy5wcmVzc3VyZSA9ICdwcmVzc3VyZScgaW4gZXZlbnQgJiYgZXZlbnQucHJlc3N1cmU7XG4gICAgICAgIHRoaXMucm90YXRpb25BbmdsZSA9ICdyb3RhdGlvbkFuZ2xlJyBpbiBldmVudCAmJiBldmVudC5yb3RhdGlvbkFuZ2xlO1xuICAgICAgICB0aGlzLnR3aXN0ID0gKCd0d2lzdCcgaW4gZXZlbnQgJiYgZXZlbnQudHdpc3QpIHx8IDA7XG4gICAgICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gKCd0YW5nZW50aWFsUHJlc3N1cmUnIGluIGV2ZW50ICYmIGV2ZW50LnRhbmdlbnRpYWxQcmVzc3VyZSkgfHwgMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgZGF0YSBmb3IgcG9vbGluZy5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBpc1ByaW1hcnkgaXMgdGhlIG9ubHkgcHJvcGVydHkgdGhhdCB3ZSByZWFsbHkgbmVlZCB0byByZXNldCAtIGV2ZXJ5dGhpbmcgZWxzZSBpc1xuICAgICAgICAvLyBndWFyYW50ZWVkIHRvIGJlIG92ZXJ3cml0dGVuXG4gICAgICAgIHRoaXMuaXNQcmltYXJ5ID0gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gSW50ZXJhY3Rpb25EYXRhO1xufSgpKTtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogRXZlbnQgY2xhc3MgdGhhdCBtaW1pY3MgbmF0aXZlIERPTSBldmVudHMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgSW50ZXJhY3Rpb25FdmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbnRlcmFjdGlvbkV2ZW50KCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGlzIGV2ZW50IHdpbGwgY29udGludWUgcHJvcGFnYXRpbmcgaW4gdGhlIHRyZWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFJlbWFpbmluZyBldmVudHMgZm9yIHRoZSB7QGxpbmsgc3RvcHNQcm9wYWdhdGluZ0F0fSBvYmplY3RcbiAgICAgICAgICogd2lsbCBzdGlsbCBiZSBkaXNwYXRjaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBdCB3aGljaCBvYmplY3QgdGhpcyBldmVudCBzdG9wcyBwcm9wYWdhdGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdG9wc1Byb3BhZ2F0aW5nQXQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB3ZSBhbHJlYWR5IHJlYWNoZWQgdGhlIGVsZW1lbnQgd2Ugd2FudCB0b1xuICAgICAgICAgKiBzdG9wIHByb3BhZ2F0aW5nIGF0LiBUaGlzIGlzIGltcG9ydGFudCBmb3IgZGVsYXllZCBldmVudHMsXG4gICAgICAgICAqIHdoZXJlIHdlIHN0YXJ0IG92ZXIgZGVlcGVyIGluIHRoZSB0cmVlIGFnYWluLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb25IaW50ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb2JqZWN0IHdoaWNoIGNhdXNlZCB0aGlzIGV2ZW50IHRvIGJlIGRpc3BhdGNoZWQuXG4gICAgICAgICAqIEZvciBsaXN0ZW5lciBjYWxsYmFjayBzZWUge0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25FdmVudC5jdXJyZW50VGFyZ2V0fS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9iamVjdCB3aG9zZSBldmVudCBsaXN0ZW5lcuKAmXMgY2FsbGJhY2sgaXMgY3VycmVudGx5IGJlaW5nIGludm9rZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBlIG9mIHRoZSBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJhY3Rpb25EYXRhIHJlbGF0ZWQgdG8gdGhpcyBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkludGVyYWN0aW9uRGF0YX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIGV2ZW50IGZyb20gcmVhY2hpbmcgYW55IG9iamVjdHMgb3RoZXIgdGhhbiB0aGUgY3VycmVudCBvYmplY3QuXG4gICAgICpcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbkV2ZW50LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uSGludCA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RvcHNQcm9wYWdhdGluZ0F0ID0gdGhpcy5jdXJyZW50VGFyZ2V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBldmVudC5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbkV2ZW50LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RvcHNQcm9wYWdhdGluZ0F0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb25IaW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBJbnRlcmFjdGlvbkV2ZW50O1xufSgpKTtcblxuLyoqXG4gKiBEaXNwbGF5T2JqZWN0cyB3aXRoIHRoZSB7QGxpbmsgUElYSS5pbnRlcmFjdGl2ZVRhcmdldH0gbWl4aW4gdXNlIHRoaXMgY2xhc3MgdG8gdHJhY2sgaW50ZXJhY3Rpb25zXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludGVySWQgLSBVbmlxdWUgcG9pbnRlciBpZCBvZiB0aGUgZXZlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKHBvaW50ZXJJZCkge1xuICAgICAgICB0aGlzLl9wb2ludGVySWQgPSBwb2ludGVySWQ7XG4gICAgICAgIHRoaXMuX2ZsYWdzID0gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuTk9ORTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGludGVyYWN0aW9uIGZsYWcgdG8gc2V0XG4gICAgICogQHBhcmFtIHtib29sZWFufSB5biAtIFNob3VsZCB0aGUgZmxhZyBiZSBzZXQgb3IgdW5zZXRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUuX2RvU2V0ID0gZnVuY3Rpb24gKGZsYWcsIHluKSB7XG4gICAgICAgIGlmICh5bikge1xuICAgICAgICAgICAgdGhpcy5fZmxhZ3MgPSB0aGlzLl9mbGFncyB8IGZsYWc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9mbGFncyA9IHRoaXMuX2ZsYWdzICYgKH5mbGFnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZSwgXCJwb2ludGVySWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVW5pcXVlIHBvaW50ZXIgaWQgb2YgdGhlIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb2ludGVySWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLCBcImZsYWdzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0YXRlIG9mIHRoZSB0cmFja2luZyBkYXRhLCBleHByZXNzZWQgYXMgYml0IGZsYWdzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZsYWdzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmbGFncykge1xuICAgICAgICAgICAgdGhpcy5fZmxhZ3MgPSBmbGFncztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUsIFwibm9uZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgdHJhY2tlZCBldmVudCBpbmFjdGl2ZSAobm90IG92ZXIgb3IgZG93bik/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZsYWdzID09PSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5OT05FO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZSwgXCJvdmVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSB0cmFja2VkIGV2ZW50IG92ZXIgdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5PVkVSKSAhPT0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoeW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvU2V0KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLk9WRVIsIHluKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUsIFwicmlnaHREb3duXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpZCB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIGNvbWUgZG93biBpbiB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLlJJR0hUX0RPV04pICE9PSAwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5bikge1xuICAgICAgICAgICAgdGhpcy5fZG9TZXQoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuUklHSFRfRE9XTiwgeW4pO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZSwgXCJsZWZ0RG93blwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGNvbWUgZG93biBpbiB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLkxFRlRfRE9XTikgIT09IDA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHluKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1NldChJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5MRUZUX0RPV04sIHluKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIE5PTkU6IDAsXG4gICAgICAgIE9WRVI6IDEgPDwgMCxcbiAgICAgICAgTEVGVF9ET1dOOiAxIDw8IDEsXG4gICAgICAgIFJJR0hUX0RPV046IDEgPDwgMixcbiAgICB9KTtcbiAgICByZXR1cm4gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE7XG59KCkpO1xuXG4vKipcbiAqIFN0cmF0ZWd5IGhvdyB0byBzZWFyY2ggdGhyb3VnaCBzdGFnZSB0cmVlIGZvciBpbnRlcmFjdGl2ZSBvYmplY3RzXG4gKlxuICogQHByaXZhdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRyZWVTZWFyY2ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVHJlZVNlYXJjaCgpIHtcbiAgICAgICAgdGhpcy5fdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZSBpbXBsZW1lbnRhdGlvbiBmb3IgZmluZEhpdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAgICAgKiAgaXMgdGVzdGVkIGZvciBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtmdW5jXSAtIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggaW50ZXJhY3RpdmUgb2JqZWN0LiBUaGVcbiAgICAgKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gdGhpcyBpbmRpY2F0ZXMgaWYgdGhlIG9iamVjdHMgaW5zaWRlIHNob3VsZCBiZSBoaXQgdGVzdCBhZ2FpbnN0IHRoZSBwb2ludFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ludGVyYWN0aXZlXSAtIFdoZXRoZXIgdGhlIGRpc3BsYXlPYmplY3QgaXMgaW50ZXJhY3RpdmVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSByZXR1cm5zIHRydWUgaWYgdGhlIGRpc3BsYXlPYmplY3QgaGl0IHRoZSBwb2ludFxuICAgICAqL1xuICAgIFRyZWVTZWFyY2gucHJvdG90eXBlLnJlY3Vyc2l2ZUZpbmRIaXQgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCwgaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0IHx8ICFkaXNwbGF5T2JqZWN0LnZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcG9pbnQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuZ2xvYmFsO1xuICAgICAgICAvLyBUb29rIGEgbGl0dGxlIHdoaWxlIHRvIHJld29yayB0aGlzIGZ1bmN0aW9uIGNvcnJlY3RseSEgQnV0IG5vdyBpdCBpcyBkb25lIGFuZCBuaWNlIGFuZCBvcHRpbWl6ZWQhIF5fXlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgbm93IGxvb3AgdGhyb3VnaCBhbGwgb2JqZWN0cyBhbmQgdGhlbiBvbmx5IGhpdCB0ZXN0IHRoZSBvYmplY3RzIGl0IEhBU1xuICAgICAgICAvLyB0bywgbm90IGFsbCBvZiB0aGVtLiBNVUNIIGZhc3Rlci4uXG4gICAgICAgIC8vIEFuIG9iamVjdCB3aWxsIGJlIGhpdCB0ZXN0IGlmIHRoZSBmb2xsb3dpbmcgaXMgdHJ1ZTpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gMTogSXQgaXMgaW50ZXJhY3RpdmUuXG4gICAgICAgIC8vIDI6IEl0IGJlbG9uZ3MgdG8gYSBwYXJlbnQgdGhhdCBpcyBpbnRlcmFjdGl2ZSBBTkQgb25lIG9mIHRoZSBwYXJlbnRzIGNoaWxkcmVuIGhhdmUgbm90IGFscmVhZHkgYmVlbiBoaXQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEFzIGFub3RoZXIgbGl0dGxlIG9wdGltaXphdGlvbiBvbmNlIGFuIGludGVyYWN0aXZlIG9iamVjdCBoYXMgYmVlbiBoaXQgd2UgY2FuIGNhcnJ5IG9uXG4gICAgICAgIC8vIHRocm91Z2ggdGhlIHNjZW5lZ3JhcGgsIGJ1dCB3ZSBrbm93IHRoYXQgdGhlcmUgd2lsbCBiZSBubyBtb3JlIGhpdHMhIFNvIHdlIGNhbiBhdm9pZCBleHRyYSBoaXQgdGVzdHNcbiAgICAgICAgLy8gQSBmaW5hbCBvcHRpbWl6YXRpb24gaXMgdGhhdCBhbiBvYmplY3QgaXMgbm90IGhpdCB0ZXN0IGRpcmVjdGx5IGlmIGEgY2hpbGQgaGFzIGFscmVhZHkgYmVlbiBoaXQuXG4gICAgICAgIGludGVyYWN0aXZlID0gZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSB8fCBpbnRlcmFjdGl2ZTtcbiAgICAgICAgdmFyIGhpdCA9IGZhbHNlO1xuICAgICAgICB2YXIgaW50ZXJhY3RpdmVQYXJlbnQgPSBpbnRlcmFjdGl2ZTtcbiAgICAgICAgLy8gRmxhZyBoZXJlIGNhbiBzZXQgdG8gZmFsc2UgaWYgdGhlIGV2ZW50IGlzIG91dHNpZGUgdGhlIHBhcmVudHMgaGl0QXJlYSBvciBtYXNrXG4gICAgICAgIHZhciBoaXRUZXN0Q2hpbGRyZW4gPSB0cnVlO1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIGhpdEFyZWEsIG5vIG5lZWQgdG8gdGVzdCBhZ2FpbnN0IGFueXRoaW5nIGVsc2UgaWYgdGhlIHBvaW50ZXIgaXMgbm90IHdpdGhpbiB0aGUgaGl0QXJlYVxuICAgICAgICAvLyBUaGVyZSBpcyBhbHNvIG5vIGxvbmdlciBhIG5lZWQgdG8gaGl0VGVzdCBjaGlsZHJlbi5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuaGl0QXJlYSkge1xuICAgICAgICAgICAgaWYgKGhpdFRlc3QpIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGhpcy5fdGVtcFBvaW50KTtcbiAgICAgICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuaGl0QXJlYS5jb250YWlucyh0aGlzLl90ZW1wUG9pbnQueCwgdGhpcy5fdGVtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdENoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBtYXNrLCBubyBuZWVkIHRvIGhpdFRlc3QgYWdhaW5zdCBhbnl0aGluZyBlbHNlIGlmIHRoZSBwb2ludGVyIGlzIG5vdCB3aXRoaW4gdGhlIG1hc2suXG4gICAgICAgIC8vIFdlIHN0aWxsIHdhbnQgdG8gaGl0VGVzdENoaWxkcmVuLCBob3dldmVyLCB0byBlbnN1cmUgYSBtb3VzZW91dCBjYW4gc3RpbGwgYmUgZ2VuZXJhdGVkLlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzUxMzVcbiAgICAgICAgZWxzZSBpZiAoZGlzcGxheU9iamVjdC5fbWFzaykge1xuICAgICAgICAgICAgaWYgKGhpdFRlc3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoIShkaXNwbGF5T2JqZWN0Ll9tYXNrLmNvbnRhaW5zUG9pbnQgJiYgZGlzcGxheU9iamVjdC5fbWFzay5jb250YWluc1BvaW50KHBvaW50KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyAqKiBGUkVFIFRJUCAqKiEgSWYgYW4gb2JqZWN0IGlzIG5vdCBpbnRlcmFjdGl2ZSBvciBoYXMgbm8gYnV0dG9ucyBpbiBpdFxuICAgICAgICAvLyAoc3VjaCBhcyBhIGdhbWUgc2NlbmUhKSBzZXQgaW50ZXJhY3RpdmVDaGlsZHJlbiB0byBmYWxzZSBmb3IgdGhhdCBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAvLyBUaGlzIHdpbGwgYWxsb3cgUGl4aUpTIHRvIGNvbXBsZXRlbHkgaWdub3JlIGFuZCBieXBhc3MgY2hlY2tpbmcgdGhlIGRpc3BsYXlPYmplY3RzIGNoaWxkcmVuLlxuICAgICAgICBpZiAoaGl0VGVzdENoaWxkcmVuICYmIGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmVDaGlsZHJlbiAmJiBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgLy8gdGltZSB0byBnZXQgcmVjdXJzaXZlLi4gaWYgdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBpZiBzb21ldGhpbmcgaXMgaGl0Li5cbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRIaXQgPSB0aGlzLnJlY3Vyc2l2ZUZpbmRIaXQoaW50ZXJhY3Rpb25FdmVudCwgY2hpbGQsIGZ1bmMsIGhpdFRlc3QsIGludGVyYWN0aXZlUGFyZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRIaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXRzIGEgZ29vZCBpZGVhIHRvIGNoZWNrIGlmIGEgY2hpbGQgaGFzIGxvc3QgaXRzIHBhcmVudC5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBtZWFucyBpdCBoYXMgYmVlbiByZW1vdmVkIHdoaWxzdCBsb29waW5nIHNvIGl0cyBiZXN0XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hpbGQucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBubyBsb25nZXIgbmVlZCB0byBoaXQgdGVzdCBhbnkgbW9yZSBvYmplY3RzIGluIHRoaXMgY29udGFpbmVyIGFzIHdlIHdlXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdyBrbm93IHRoZSBwYXJlbnQgaGFzIGJlZW4gaGl0XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjaGlsZCBpcyBpbnRlcmFjdGl2ZSAsIHRoYXQgbWVhbnMgdGhhdCB0aGUgb2JqZWN0IGhpdCB3YXMgYWN0dWFsbHlcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50ZXJhY3RpdmUgYW5kIG5vdCBqdXN0IHRoZSBjaGlsZCBvZiBhbiBpbnRlcmFjdGl2ZSBvYmplY3QuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgbWVhbnMgd2Ugbm8gbG9uZ2VyIG5lZWQgdG8gaGl0IHRlc3QgYW55dGhpbmcgZWxzZS4gV2Ugc3RpbGwgbmVlZCB0byBydW5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhyb3VnaCBhbGwgb2JqZWN0cywgYnV0IHdlIGRvbid0IG5lZWQgdG8gcGVyZm9ybSBhbnkgaGl0IHRlc3RzLlxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRIaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm8gcG9pbnQgcnVubmluZyB0aGlzIGlmIHRoZSBpdGVtIGlzIG5vdCBpbnRlcmFjdGl2ZSBvciBkb2VzIG5vdCBoYXZlIGFuIGludGVyYWN0aXZlIHBhcmVudC5cbiAgICAgICAgaWYgKGludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgaGl0IHRlc3RpbmcgKGFzIGluIHdlIGhhdmUgbm8gaGl0IGFueSBvYmplY3RzIHlldClcbiAgICAgICAgICAgIC8vIFdlIGFsc28gZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCBoaXQgdGVzdGluZyBpZiBvbmNlIG9mIHRoZSBkaXNwbGF5T2JqZWN0cyBjaGlsZHJlblxuICAgICAgICAgICAgLy8gaGFzIGFscmVhZHkgYmVlbiBoaXQgLSBidXQgb25seSBpZiBpdCB3YXMgaW50ZXJhY3RpdmUsIG90aGVyd2lzZSB3ZSBuZWVkIHRvIGtlZXBcbiAgICAgICAgICAgIC8vIGxvb2tpbmcgZm9yIGFuIGludGVyYWN0aXZlIGNoaWxkLCBqdXN0IGluIGNhc2Ugd2UgaGl0IG9uZVxuICAgICAgICAgICAgaWYgKGhpdFRlc3QgJiYgIWludGVyYWN0aW9uRXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSB0ZXN0ZWQgYWdhaW5zdCBoaXRBcmVhIGlmIGl0IGlzIGRlZmluZWRcbiAgICAgICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuaGl0QXJlYSAmJiBkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGlmIChoaXQgJiYgIWludGVyYWN0aW9uRXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQudGFyZ2V0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZ1bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgZnVuYyhpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCAhIWhpdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHByb3ZpZGVzIGEgbmVhdCB3YXkgb2YgY3Jhd2xpbmcgdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIHJ1bm5pbmcgYVxuICAgICAqIHNwZWNpZmllZCBmdW5jdGlvbiBvbiBhbGwgaW50ZXJhY3RpdmUgb2JqZWN0cyBpdCBmaW5kcy4gSXQgd2lsbCBhbHNvIHRha2UgY2FyZSBvZiBoaXRcbiAgICAgKiB0ZXN0aW5nIHRoZSBpbnRlcmFjdGl2ZSBvYmplY3RzIGFuZCBwYXNzZXMgdGhlIGhpdCBhY3Jvc3MgaW4gdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAgICAgKiAgaXMgdGVzdGVkIGZvciBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtmdW5jXSAtIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggaW50ZXJhY3RpdmUgb2JqZWN0LiBUaGVcbiAgICAgKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gdGhpcyBpbmRpY2F0ZXMgaWYgdGhlIG9iamVjdHMgaW5zaWRlIHNob3VsZCBiZSBoaXQgdGVzdCBhZ2FpbnN0IHRoZSBwb2ludFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHJldHVybnMgdHJ1ZSBpZiB0aGUgZGlzcGxheU9iamVjdCBoaXQgdGhlIHBvaW50XG4gICAgICovXG4gICAgVHJlZVNlYXJjaC5wcm90b3R5cGUuZmluZEhpdCA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0KSB7XG4gICAgICAgIHRoaXMucmVjdXJzaXZlRmluZEhpdChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0LCBmYWxzZSk7XG4gICAgfTtcbiAgICByZXR1cm4gVHJlZVNlYXJjaDtcbn0oKSk7XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBjbGFzc2VzIHRoYXQgcmVwcmVzZW50IGEgaGl0IGFyZWEuXG4gKlxuICogSXQgaXMgaW1wbGVtZW50ZWQgYnkgdGhlIGZvbGxvd2luZyBjbGFzc2VzOlxuICogLSB7QGxpbmsgUElYSS5DaXJjbGV9XG4gKiAtIHtAbGluayBQSVhJLkVsbGlwc2V9XG4gKiAtIHtAbGluayBQSVhJLlBvbHlnb259XG4gKiAtIHtAbGluayBQSVhJLlJvdW5kZWRSZWN0YW5nbGV9XG4gKlxuICogQGludGVyZmFjZSBJSGl0QXJlYVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIGFyZWFcbiAqXG4gKiBAbWV0aG9kXG4gKiBAbmFtZSBjb250YWluc1xuICogQG1lbWJlcm9mIFBJWEkuSUhpdEFyZWEjXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBhcmVhXG4gKi9cbi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICogVXNlZCBieSB7QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXJ9IHRvIGF1dG9tYXRpY2FsbHkgZ2l2ZSBhbGwgRGlzcGxheU9iamVjdHMgdGhlc2UgcHJvcGVydGllc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBpbnRlcmFjdGl2ZVRhcmdldFxuICogQHR5cGUge09iamVjdH1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXhhbXBsZVxuICogICAgICBmdW5jdGlvbiBNeU9iamVjdCgpIHt9XG4gKlxuICogICAgICBPYmplY3QuYXNzaWduKFxuICogICAgICAgICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUsXG4gKiAgICAgICAgICBQSVhJLmludGVyYWN0aXZlVGFyZ2V0XG4gKiAgICAgICk7XG4gKi9cbnZhciBpbnRlcmFjdGl2ZVRhcmdldCA9IHtcbiAgICAvKipcbiAgICAgKiBFbmFibGUgaW50ZXJhY3Rpb24gZXZlbnRzIGZvciB0aGUgRGlzcGxheU9iamVjdC4gVG91Y2gsIHBvaW50ZXIgYW5kIG1vdXNlXG4gICAgICogZXZlbnRzIHdpbGwgbm90IGJlIGVtaXR0ZWQgdW5sZXNzIGBpbnRlcmFjdGl2ZWAgaXMgc2V0IHRvIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLm9uKCd0YXAnLCAoZXZlbnQpID0+IHtcbiAgICAgKiAgICAvL2hhbmRsZSBldmVudFxuICAgICAqIH0pO1xuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBpbnRlcmFjdGl2ZTogZmFsc2UsXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY2hpbGRyZW4gdG8gdGhlIGRpc3BsYXlPYmplY3QgY2FuIGJlIGNsaWNrZWQvdG91Y2hlZFxuICAgICAqIFNldHRpbmcgdGhpcyB0byBmYWxzZSBhbGxvd3MgUGl4aUpTIHRvIGJ5cGFzcyBhIHJlY3Vyc2l2ZSBgaGl0VGVzdGAgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ29udGFpbmVyI1xuICAgICAqL1xuICAgIGludGVyYWN0aXZlQ2hpbGRyZW46IHRydWUsXG4gICAgLyoqXG4gICAgICogSW50ZXJhY3Rpb24gc2hhcGUuIENoaWxkcmVuIHdpbGwgYmUgaGl0IGZpcnN0LCB0aGVuIHRoaXMgc2hhcGUgd2lsbCBiZSBjaGVja2VkLlxuICAgICAqIFNldHRpbmcgdGhpcyB3aWxsIGNhdXNlIHRoaXMgc2hhcGUgdG8gYmUgY2hlY2tlZCBpbiBoaXQgdGVzdHMgcmF0aGVyIHRoYW4gdGhlIGRpc3BsYXlPYmplY3QncyBib3VuZHMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5oaXRBcmVhID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAsIDEwMCwgMTAwKTtcbiAgICAgKiBAbWVtYmVyIHtQSVhJLklIaXRBcmVhfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgaGl0QXJlYTogbnVsbCxcbiAgICAvKipcbiAgICAgKiBJZiBlbmFibGVkLCB0aGUgbW91c2UgY3Vyc29yIHVzZSB0aGUgcG9pbnRlciBiZWhhdmlvciB3aGVuIGhvdmVyZWQgb3ZlciB0aGUgZGlzcGxheU9iamVjdCBpZiBpdCBpcyBpbnRlcmFjdGl2ZVxuICAgICAqIFNldHRpbmcgdGhpcyBjaGFuZ2VzIHRoZSAnY3Vyc29yJyBwcm9wZXJ0eSB0byBgJ3BvaW50ZXInYC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLmJ1dHRvbk1vZGUgPSB0cnVlO1xuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBnZXQgYnV0dG9uTW9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3Vyc29yID09PSAncG9pbnRlcic7XG4gICAgfSxcbiAgICBzZXQgYnV0dG9uTW9kZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3Vyc29yID09PSAncG9pbnRlcicpIHtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICogVGhpcyBkZWZpbmVzIHdoYXQgY3Vyc29yIG1vZGUgaXMgdXNlZCB3aGVuIHRoZSBtb3VzZSBjdXJzb3JcbiAgICAgKiBpcyBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5jdXJzb3IgPSAnd2FpdCc7XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9DU1MvY3Vyc29yXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBjdXJzb3I6IG51bGwsXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgc2V0IG9mIGFsbCBhY3RpdmUgcG9pbnRlcnMsIGJ5IGlkZW50aWZpZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge01hcDxudW1iZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhPn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0IHRyYWNrZWRQb2ludGVycygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYWNrZWRQb2ludGVycyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgeyB0aGlzLl90cmFja2VkUG9pbnRlcnMgPSB7fTsgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdHJhY2tlZFBvaW50ZXJzO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogTWFwIG9mIGFsbCB0cmFja2VkIHBvaW50ZXJzLCBieSBpZGVudGlmaWVyLiBVc2UgdHJhY2tlZFBvaW50ZXJzIHRvIGFjY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge01hcDxudW1iZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhPn1cbiAgICAgKi9cbiAgICBfdHJhY2tlZFBvaW50ZXJzOiB1bmRlZmluZWQsXG59O1xuXG4vLyBNaXggaW50ZXJhY3RpdmVUYXJnZXQgaW50byBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSxcbi8vIGFmdGVyIGRlcHJlY2F0aW9uIGhhcyBiZWVuIGhhbmRsZWRcbkRpc3BsYXlPYmplY3QubWl4aW4oaW50ZXJhY3RpdmVUYXJnZXQpO1xudmFyIE1PVVNFX1BPSU5URVJfSUQgPSAxO1xuLy8gaGVscGVycyBmb3IgaGl0VGVzdCgpIC0gb25seSB1c2VkIGluc2lkZSBoaXRUZXN0KClcbnZhciBoaXRUZXN0RXZlbnQgPSB7XG4gICAgdGFyZ2V0OiBudWxsLFxuICAgIGRhdGE6IHtcbiAgICAgICAgZ2xvYmFsOiBudWxsLFxuICAgIH0sXG59O1xuLyoqXG4gKiBUaGUgaW50ZXJhY3Rpb24gbWFuYWdlciBkZWFscyB3aXRoIG1vdXNlLCB0b3VjaCBhbmQgcG9pbnRlciBldmVudHMuXG4gKlxuICogQW55IERpc3BsYXlPYmplY3QgY2FuIGJlIGludGVyYWN0aXZlIGlmIGl0cyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IGlzIHNldCB0byB0cnVlLlxuICpcbiAqIFRoaXMgbWFuYWdlciBhbHNvIHN1cHBvcnRzIG11bHRpdG91Y2guXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCBgcmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbmBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgSW50ZXJhY3Rpb25NYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbnRlcmFjdGlvbk1hbmFnZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfFBJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0PXRydWVdIC0gU2hvdWxkIHRoZSBtYW5hZ2VyIGF1dG9tYXRpY2FsbHkgcHJldmVudCBkZWZhdWx0IGJyb3dzZXIgYWN0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaW50ZXJhY3Rpb25GcmVxdWVuY3k9MTBdIC0gTWF4aW11bSByZXF1ZW5jeSAobXMpIGF0IHBvaW50ZXIgb3Zlci9vdXQgc3RhdGVzIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXNlU3lzdGVtVGlja2VyPXRydWVdIC0gV2hldGhlciB0byBhZGQge0BsaW5rIHRpY2tlclVwZGF0ZX0gdG8ge0BsaW5rIFBJWEkuVGlja2VyLnN5c3RlbX0uXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25NYW5hZ2VyKHJlbmRlcmVyLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlbmRlcmVyIHRoaXMgaW50ZXJhY3Rpb24gbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQWJzdHJhY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMgYXV0b21hdGljYWxseSBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAqIERvZXMgbm90IGFwcGx5IHRvIHBvaW50ZXIgZXZlbnRzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgICAgKiBwcmV2ZW50RGVmYXVsdCBvbiBwb2ludGVyIGV2ZW50cyBzdG9wcyBtb3VzZSBldmVudHMgZnJvbSBmaXJpbmdcbiAgICAgICAgICogVGh1cywgZm9yIGV2ZXJ5IHBvaW50ZXIgZXZlbnQsIHRoZXJlIHdpbGwgYWx3YXlzIGJlIGVpdGhlciBhIG1vdXNlIG9mIHRvdWNoIGV2ZW50IGFsb25nc2lkZSBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1ByZXZlbnREZWZhdWx0ID0gb3B0aW9ucy5hdXRvUHJldmVudERlZmF1bHQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0IDogdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1heGltdW0gcmVxdWVuY3kgaW4gbWlsbGlzZWNvbmRzIGF0IHdoaWNoIHBvaW50ZXIgb3Zlci9vdXQgc3RhdGVzIHdpbGwgYmUgY2hlY2tlZCBieSB7QGxpbmsgdGlja2VyVXBkYXRlfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kgPSBvcHRpb25zLmludGVyYWN0aW9uRnJlcXVlbmN5IHx8IDEwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vdXNlIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JbnRlcmFjdGlvbkRhdGF9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3VzZSA9IG5ldyBJbnRlcmFjdGlvbkRhdGEoKTtcbiAgICAgICAgX3RoaXMubW91c2UuaWRlbnRpZmllciA9IE1PVVNFX1BPSU5URVJfSUQ7XG4gICAgICAgIC8vIHNldHRpbmcgdGhlIG1vdXNlIHRvIHN0YXJ0IG9mZiBmYXIgb2ZmIHNjcmVlbiB3aWxsIG1lYW4gdGhhdCBtb3VzZSBvdmVyIGRvZXNcbiAgICAgICAgLy8gIG5vdCBnZXQgY2FsbGVkIGJlZm9yZSB3ZSBldmVuIG1vdmUgdGhlIG1vdXNlLlxuICAgICAgICBfdGhpcy5tb3VzZS5nbG9iYWwuc2V0KC05OTk5OTkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZlbHkgdHJhY2tlZCBJbnRlcmFjdGlvbkRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0LjxudW1iZXIsUElYSS5JbnRlcmFjdGlvbkRhdGE+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhID0ge307XG4gICAgICAgIF90aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtNT1VTRV9QT0lOVEVSX0lEXSA9IF90aGlzLm1vdXNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiB1bnVzZWQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSW50ZXJhY3Rpb25EYXRhW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBldmVudCBkYXRhIG9iamVjdCB0byBoYW5kbGUgYWxsIHRoZSBldmVudCB0cmFja2luZy9kaXNwYXRjaGluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ldmVudERhdGEgPSBuZXcgSW50ZXJhY3Rpb25FdmVudCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIERPTSBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBwcm9wZXJ0eSBkZXRlcm1pbmVzIGlmIG1vdXNlbW92ZSBhbmQgdG91Y2htb3ZlIGV2ZW50cyBhcmUgZmlyZWQgb25seSB3aGVuIHRoZSBjdXJzb3JcbiAgICAgICAgICogaXMgb3ZlciB0aGUgb2JqZWN0LlxuICAgICAgICAgKiBTZXR0aW5nIHRvIHRydWUgd2lsbCBtYWtlIHRoaW5ncyB3b3JrIG1vcmUgaW4gbGluZSB3aXRoIGhvdyB0aGUgRE9NIHZlcnNpb24gd29ya3MuXG4gICAgICAgICAqIFNldHRpbmcgdG8gZmFsc2UgY2FuIG1ha2UgdGhpbmdzIGVhc2llciBmb3IgdGhpbmdzIGxpa2UgZHJhZ2dpbmdcbiAgICAgICAgICogSXQgaXMgY3VycmVudGx5IHNldCB0byBmYWxzZSBhcyB0aGlzIGlzIGhvdyBQaXhpSlMgdXNlZCB0byB3b3JrLiBUaGlzIHdpbGwgYmUgc2V0IHRvIHRydWUgaW5cbiAgICAgICAgICogZnV0dXJlIHZlcnNpb25zIG9mIHBpeGkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3ZlV2hlbkluc2lkZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSGF2ZSBldmVudHMgYmVlbiBhdHRhY2hlZCB0byB0aGUgZG9tIGVsZW1lbnQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV2ZW50c0FkZGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYXMgdGhlIHN5c3RlbSB0aWNrZXIgYmVlbiBhZGRlZD9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlja2VyQWRkZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSBtb3VzZSBob3ZlcmluZyBvdmVyIHRoZSByZW5kZXJlcj9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubW91c2VPdmVyUmVuZGVyZXIgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhlIGRldmljZSBzdXBwb3J0IHRvdWNoIGV2ZW50c1xuICAgICAgICAgKiBodHRwczovL3d3dy53My5vcmcvVFIvdG91Y2gtZXZlbnRzL1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgPSAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3c7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCBwb2ludGVyIGV2ZW50c1xuICAgICAgICAgKiBodHRwczovL3d3dy53My5vcmcvU3VibWlzc2lvbi9wb2ludGVyLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMgPSAhIXdpbmRvdy5Qb2ludGVyRXZlbnQ7XG4gICAgICAgIC8vIHRoaXMgd2lsbCBtYWtlIGl0IHNvIHRoYXQgeW91IGRvbid0IGhhdmUgdG8gY2FsbCBiaW5kIGFsbCB0aGUgdGltZVxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJVcCA9IF90aGlzLm9uUG9pbnRlclVwLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlclVwID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJVcC5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyQ2FuY2VsID0gX3RoaXMub25Qb2ludGVyQ2FuY2VsLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IF90aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsLmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJEb3duID0gX3RoaXMub25Qb2ludGVyRG93bi5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJEb3duID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJEb3duLmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJNb3ZlID0gX3RoaXMub25Qb2ludGVyTW92ZS5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlLmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJPdXQgPSBfdGhpcy5vblBvaW50ZXJPdXQuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IF90aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dC5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyT3ZlciA9IF90aGlzLm9uUG9pbnRlck92ZXIuYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWN0aW9uYXJ5IG9mIGhvdyBkaWZmZXJlbnQgY3Vyc29yIG1vZGVzIGFyZSBoYW5kbGVkLiBTdHJpbmdzIGFyZSBoYW5kbGVkIGFzIENTUyBjdXJzb3JcbiAgICAgICAgICogdmFsdWVzLCBvYmplY3RzIGFyZSBoYW5kbGVkIGFzIGRpY3Rpb25hcmllcyBvZiBDU1MgdmFsdWVzIGZvciBpbnRlcmFjdGlvbkRPTUVsZW1lbnQsXG4gICAgICAgICAqIGFuZCBmdW5jdGlvbnMgYXJlIGNhbGxlZCBpbnN0ZWFkIG9mIGNoYW5naW5nIHRoZSBDU1MuXG4gICAgICAgICAqIERlZmF1bHQgQ1NTIGN1cnNvciB2YWx1ZXMgYXJlIHByb3ZpZGVkIGZvciAnZGVmYXVsdCcgYW5kICdwb2ludGVyJyBtb2Rlcy5cbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0LjxzdHJpbmcsIE9iamVjdD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJzb3JTdHlsZXMgPSB7XG4gICAgICAgICAgICBkZWZhdWx0OiAnaW5oZXJpdCcsXG4gICAgICAgICAgICBwb2ludGVyOiAncG9pbnRlcicsXG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbW9kZSBvZiB0aGUgY3Vyc29yIHRoYXQgaXMgYmVpbmcgdXNlZC5cbiAgICAgICAgICogVGhlIHZhbHVlIG9mIHRoaXMgaXMgYSBrZXkgZnJvbSB0aGUgY3Vyc29yU3R5bGVzIGRpY3Rpb25hcnkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnRDdXJzb3JNb2RlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGNhY2hlZCBsZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVsYXllZCBwb2ludGVyIGV2ZW50cy4gVXNlZCB0byBndWFyYW50ZWUgY29ycmVjdCBvcmRlcmluZyBvZiBvdmVyL291dCBldmVudHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVsYXllZEV2ZW50cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJlZVNlYXJjaCBjb21wb25lbnQgdGhhdCBpcyB1c2VkIHRvIGhpdFRlc3Qgc3RhZ2UgdHJlZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRyZWVTZWFyY2h9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zZWFyY2ggPSBuZXcgVHJlZVNlYXJjaCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBhcyBhIGxhc3QgcmVuZGVyZWQgb2JqZWN0IGluIGNhc2UgcmVuZGVyZXIgZG9lc250IGhhdmUgX2xhc3RPYmplY3RSZW5kZXJlZFxuICAgICAgICAgKiBAbWVtYmVyIHtEaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RlbXBEaXNwbGF5T2JqZWN0ID0gbmV3IFRlbXBvcmFyeURpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZWRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNyaWdodGRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2V1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0dXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uXG4gICAgICAgICAqIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2NsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0Y2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlXG4gICAgICAgICAqIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbbW91c2Vkb3duXXtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZWRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2V1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFtyaWdodGRvd25de0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnJpZ2h0ZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNyaWdodHVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2Vtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2VvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcmRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBOb3QgYWx3YXlzIGZpcmVkIHdoZW4gc29tZSBidXR0b25zIGFyZSBoZWxkIGRvd24gd2hpbGUgb3RoZXJzIGFyZSByZWxlYXNlZC4gSW4gdGhvc2UgY2FzZXMsXG4gICAgICAgICAqIHVzZSBbbW91c2Vkb3duXXtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZWRvd259IGFuZFxuICAgICAgICAgKiBbbW91c2V1cF17QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6bW91c2V1cH0gaW5zdGVhZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHBvaW50ZXIgZXZlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbcG9pbnRlcmRvd25de0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnBvaW50ZXJkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaHN0YXJ0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGVuZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHRvdWNoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciN0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBvdXRzaWRlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3RvdWNoc3RhcnRde0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnRvdWNoc3RhcnR9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hlbmRvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIG1vdmVkIGFsb25nIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNobW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheS5cbiAgICAgICAgICogb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZWRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBvbiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0ZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNldXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0dXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uXG4gICAgICAgICAqIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjY2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodGNsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZVxuICAgICAgICAgKiBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW21vdXNlZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50Om1vdXNlZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNldXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbcmlnaHRkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6cmlnaHRkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHR1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlbW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2VvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcmRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSBwb2ludGVyIGV2ZW50LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbcG9pbnRlcmRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDpwb2ludGVyZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoc3RhcnRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hlbmRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSB0b3VjaC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIGFuZCByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBvdXRzaWRlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3RvdWNoc3RhcnRde0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDp0b3VjaHN0YXJ0fS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hlbmRvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIG1vdmVkIGFsb25nIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2htb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdXNlU3lzdGVtVGlja2VyID0gb3B0aW9ucy51c2VTeXN0ZW1UaWNrZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudXNlU3lzdGVtVGlja2VyIDogdHJ1ZTtcbiAgICAgICAgX3RoaXMuc2V0VGFyZ2V0RWxlbWVudChfdGhpcy5yZW5kZXJlci52aWV3LCBfdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZSwgXCJ1c2VTeXN0ZW1UaWNrZXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdWxkIHRoZSBJbnRlcmFjdGlvbk1hbmFnZXIgYXV0b21hdGljYWxseSBhZGQge0BsaW5rIHRpY2tlclVwZGF0ZX0gdG8ge0BsaW5rIFBJWEkuVGlja2VyLnN5c3RlbX0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VzZVN5c3RlbVRpY2tlcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodXNlU3lzdGVtVGlja2VyKSB7XG4gICAgICAgICAgICB0aGlzLl91c2VTeXN0ZW1UaWNrZXIgPSB1c2VTeXN0ZW1UaWNrZXI7XG4gICAgICAgICAgICBpZiAodXNlU3lzdGVtVGlja2VyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUaWNrZXJMaXN0ZW5lcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVUaWNrZXJMaXN0ZW5lcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUsIFwibGFzdE9iamVjdFJlbmRlcmVkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExhc3QgcmVuZGVyZWQgb2JqZWN0IG9yIHRlbXAgb2JqZWN0XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCB8fCB0aGlzLl90ZW1wRGlzcGxheU9iamVjdDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEhpdCB0ZXN0cyBhIHBvaW50IGFnYWluc3QgdGhlIGRpc3BsYXkgdHJlZSwgcmV0dXJuaW5nIHRoZSBmaXJzdCBpbnRlcmFjdGl2ZSBvYmplY3QgdGhhdCBpcyBoaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IGdsb2JhbFBvaW50IC0gQSBwb2ludCB0byBoaXQgdGVzdCB3aXRoLCBpbiBnbG9iYWwgc3BhY2UuXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gW3Jvb3RdIC0gVGhlIHJvb3QgZGlzcGxheSBvYmplY3QgdG8gc3RhcnQgZnJvbS4gSWYgb21pdHRlZCwgZGVmYXVsdHNcbiAgICAgKiB0byB0aGUgbGFzdCByZW5kZXJlZCByb290IG9mIHRoZSBhc3NvY2lhdGVkIHJlbmRlcmVyLlxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGhpdCBkaXNwbGF5IG9iamVjdCwgaWYgYW55LlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuaGl0VGVzdCA9IGZ1bmN0aW9uIChnbG9iYWxQb2ludCwgcm9vdCkge1xuICAgICAgICAvLyBjbGVhciB0aGUgdGFyZ2V0IGZvciBvdXIgaGl0IHRlc3RcbiAgICAgICAgaGl0VGVzdEV2ZW50LnRhcmdldCA9IG51bGw7XG4gICAgICAgIC8vIGFzc2lnbiB0aGUgZ2xvYmFsIHBvaW50XG4gICAgICAgIGhpdFRlc3RFdmVudC5kYXRhLmdsb2JhbCA9IGdsb2JhbFBvaW50O1xuICAgICAgICAvLyBlbnN1cmUgc2FmZXR5IG9mIHRoZSByb290XG4gICAgICAgIGlmICghcm9vdCkge1xuICAgICAgICAgICAgcm9vdCA9IHRoaXMubGFzdE9iamVjdFJlbmRlcmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJ1biB0aGUgaGl0IHRlc3RcbiAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaGl0VGVzdEV2ZW50LCByb290LCBudWxsLCB0cnVlKTtcbiAgICAgICAgLy8gcmV0dXJuIG91ciBmb3VuZCBvYmplY3QgLSBpdCdsbCBiZSBudWxsIGlmIHdlIGRpZG4ndCBoaXQgYW55dGhpbmdcbiAgICAgICAgcmV0dXJuIGhpdFRlc3RFdmVudC50YXJnZXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBET00gZWxlbWVudCB3aGljaCB3aWxsIHJlY2VpdmUgbW91c2UvdG91Y2ggZXZlbnRzLiBUaGlzIGlzIHVzZWZ1bCBmb3Igd2hlbiB5b3UgaGF2ZVxuICAgICAqIG90aGVyIERPTSBlbGVtZW50cyBvbiB0b3Agb2YgdGhlIHJlbmRlcmVycyBDYW52YXMgZWxlbWVudC4gV2l0aCB0aGlzIHlvdSdsbCBiZSBiYWxlIHRvIGRlbGVnYXRlXG4gICAgICogYW5vdGhlciBET00gZWxlbWVudCB0byByZWNlaXZlIHRob3NlIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSB0aGUgRE9NIGVsZW1lbnQgd2hpY2ggd2lsbCByZWNlaXZlIG1vdXNlIGFuZCB0b3VjaCBldmVudHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIG5ldyBlbGVtZW50IChyZWxhdGl2ZSB0byB0aGUgY2FudmFzKS5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnNldFRhcmdldEVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCwgcmVzb2x1dGlvbikge1xuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSAxOyB9XG4gICAgICAgIHRoaXMucmVtb3ZlVGlja2VyTGlzdGVuZXIoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudHMoKTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmFkZEV2ZW50cygpO1xuICAgICAgICB0aGlzLmFkZFRpY2tlckxpc3RlbmVyKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIHRpY2tlciBsaXN0ZW5lclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmFkZFRpY2tlckxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy50aWNrZXJBZGRlZCB8fCAhdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgfHwgIXRoaXMuX3VzZVN5c3RlbVRpY2tlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFRpY2tlci5zeXN0ZW0uYWRkKHRoaXMudGlja2VyVXBkYXRlLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuSU5URVJBQ1RJT04pO1xuICAgICAgICB0aGlzLnRpY2tlckFkZGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgdGlja2VyIGxpc3RlbmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlVGlja2VyTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy50aWNrZXJBZGRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFRpY2tlci5zeXN0ZW0ucmVtb3ZlKHRoaXMudGlja2VyVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgdGhpcy50aWNrZXJBZGRlZCA9IGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGFsbCB0aGUgRE9NIGV2ZW50c1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRzQWRkZWQgfHwgIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGU7XG4gICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpIHtcbiAgICAgICAgICAgIHN0eWxlLm1zQ29udGVudFpvb21pbmcgPSAnbm9uZSc7XG4gICAgICAgICAgICBzdHlsZS5tc1RvdWNoQWN0aW9uID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICBzdHlsZS50b3VjaEFjdGlvbiA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlc2UgZXZlbnRzIGFyZSBhZGRlZCBmaXJzdCwgc28gdGhhdCBpZiBwb2ludGVyIGV2ZW50cyBhcmUgbm9ybWFsaXplZCwgdGhleSBhcmUgZmlyZWRcbiAgICAgICAgICogaW4gdGhlIHNhbWUgb3JkZXIgYXMgbm9uLW5vcm1hbGl6ZWQgZXZlbnRzLiBpZS4gcG9pbnRlciBldmVudCAxc3QsIG1vdXNlIC8gdG91Y2ggMm5kXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICAvLyBwb2ludGVyb3V0IGlzIGZpcmVkIGluIGFkZGl0aW9uIHRvIHBvaW50ZXJ1cCAoZm9yIHRvdWNoIGV2ZW50cykgYW5kIHBvaW50ZXJjYW5jZWxcbiAgICAgICAgICAgIC8vIHdlIGFscmVhZHkgaGFuZGxlIHRob3NlLCBzbyBmb3IgdGhlIHB1cnBvc2VzIG9mIHdoYXQgd2UgZG8gaW4gb25Qb2ludGVyT3V0LCB3ZSBvbmx5XG4gICAgICAgICAgICAvLyBjYXJlIGFib3V0IHRoZSBwb2ludGVybGVhdmUgZXZlbnRcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHdheXMgbG9vayBkaXJlY3RseSBmb3IgdG91Y2ggZXZlbnRzIHNvIHRoYXQgd2UgY2FuIHByb3ZpZGUgb3JpZ2luYWwgZGF0YVxuICAgICAgICAvLyBJbiBhIGZ1dHVyZSB2ZXJzaW9uIHdlIHNob3VsZCBjaGFuZ2UgdGhpcyB0byBiZWluZyBqdXN0IGEgZmFsbGJhY2sgYW5kIHJlbHkgc29sZWx5IG9uXG4gICAgICAgIC8vIFBvaW50ZXJFdmVudHMgd2hlbmV2ZXIgYXZhaWxhYmxlXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50c0FkZGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSBET00gZXZlbnRzIHRoYXQgd2VyZSBwcmV2aW91c2x5IHJlZ2lzdGVyZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5ldmVudHNBZGRlZCB8fCAhdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZTtcbiAgICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCkge1xuICAgICAgICAgICAgc3R5bGUubXNDb250ZW50Wm9vbWluZyA9ICcnO1xuICAgICAgICAgICAgc3R5bGUubXNUb3VjaEFjdGlvbiA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICBzdHlsZS50b3VjaEFjdGlvbiA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLmV2ZW50c0FkZGVkID0gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBpbnRlcmFjdGl2ZSBvYmplY3RzIGlmIGF0IGxlYXN0IHtAbGluayBpbnRlcmFjdGlvbkZyZXF1ZW5jeX1cbiAgICAgKiBtaWxsaXNlY29uZHMgaGF2ZSBwYXNzZWQgc2luY2UgdGhlIGxhc3QgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqIEludm9rZWQgYnkgYSB0aHJvdHRsZWQgdGlja2VyIHVwZGF0ZSBmcm9tIHtAbGluayBQSVhJLlRpY2tlci5zeXN0ZW19LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIHRpbWUgZGVsdGEgc2luY2UgdGhlIGxhc3QgY2FsbFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUudGlja2VyVXBkYXRlID0gZnVuY3Rpb24gKGRlbHRhVGltZSkge1xuICAgICAgICB0aGlzLl9kZWx0YVRpbWUgKz0gZGVsdGFUaW1lO1xuICAgICAgICBpZiAodGhpcy5fZGVsdGFUaW1lIDwgdGhpcy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RlbHRhVGltZSA9IDA7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBpbnRlcmFjdGl2ZSBvYmplY3RzLlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgbW92ZSB0aGUgbW91c2UgdGhpcyBjaGVjayBoYXMgYWxyZWFkeSBiZWVuIGRvbmUgdXNpbmcgdGhlIG1vdXNlIG1vdmUhXG4gICAgICAgIGlmICh0aGlzLl9kaWRNb3ZlKSB7XG4gICAgICAgICAgICB0aGlzLl9kaWRNb3ZlID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgICAgICAvLyBSZXNldHMgdGhlIGZsYWcgYXMgc2V0IGJ5IGEgc3RvcFByb3BhZ2F0aW9uIGNhbGwuIFRoaXMgZmxhZyBpcyB1c3VhbGx5IHJlc2V0IGJ5IGEgdXNlciBpbnRlcmFjdGlvbiBvZiBhbnkga2luZCxcbiAgICAgICAgLy8gYnV0IHRoZXJlIHdhcyBhIHNjZW5hcmlvIG9mIGEgZGlzcGxheSBvYmplY3QgbW92aW5nIHVuZGVyIGEgc3RhdGljIG1vdXNlIGN1cnNvci5cbiAgICAgICAgLy8gSW4gdGhpcyBjYXNlLCBtb3VzZW92ZXIgYW5kIG1vdXNlZXZlbnRzIHdvdWxkIG5vdCBwYXNzIHRoZSBmbGFnIHRlc3QgaW4gZGlzcGF0Y2hFdmVudCBmdW5jdGlvblxuICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGEuaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFba107XG4gICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50ICYmIGludGVyYWN0aW9uRGF0YS5wb2ludGVyVHlwZSAhPT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKHRoaXMuY3Vyc29yKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgY3Vyc29yIG1vZGUsIGhhbmRsaW5nIGFueSBjYWxsYmFja3Mgb3IgQ1NTIHN0eWxlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtIGN1cnNvciBtb2RlLCBhIGtleSBmcm9tIHRoZSBjdXJzb3JTdHlsZXMgZGljdGlvbmFyeVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuc2V0Q3Vyc29yTW9kZSA9IGZ1bmN0aW9uIChtb2RlKSB7XG4gICAgICAgIG1vZGUgPSBtb2RlIHx8ICdkZWZhdWx0JztcbiAgICAgICAgLy8gaWYgdGhlIG1vZGUgZGlkbid0IGFjdHVhbGx5IGNoYW5nZSwgYmFpbCBlYXJseVxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9PT0gbW9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudEN1cnNvck1vZGUgPSBtb2RlO1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmN1cnNvclN0eWxlc1ttb2RlXTtcbiAgICAgICAgLy8gb25seSBkbyB0aGluZ3MgaWYgdGhlcmUgaXMgYSBjdXJzb3Igc3R5bGUgZm9yIGl0XG4gICAgICAgIGlmIChzdHlsZSkge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlb2Ygc3R5bGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICAvLyBzdHJpbmcgc3R5bGVzIGFyZSBoYW5kbGVkIGFzIGN1cnNvciBDU1NcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUuY3Vyc29yID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gZnVuY3Rpb25zIGFyZSBqdXN0IGNhbGxlZCwgYW5kIHBhc3NlZCB0aGUgY3Vyc29yIG1vZGVcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUobW9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0IGlzIGFuIG9iamVjdCwgYXNzdW1lIHRoYXQgaXQgaXMgYSBkaWN0aW9uYXJ5IG9mIENTUyBzdHlsZXMsXG4gICAgICAgICAgICAgICAgICAgIC8vIGFwcGx5IGl0IHRvIHRoZSBpbnRlcmFjdGlvbkRPTUVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZSwgc3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbW9kZSA9PT0gJ3N0cmluZycgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmN1cnNvclN0eWxlcywgbW9kZSkpIHtcbiAgICAgICAgICAgIC8vIGlmIGl0IG1vZGUgaXMgYSBzdHJpbmcgKG5vdCBhIFN5bWJvbCkgYW5kIGN1cnNvclN0eWxlcyBkb2Vzbid0IGhhdmUgYW55IGVudHJ5XG4gICAgICAgICAgICAvLyBmb3IgdGhlIG1vZGUsIHRoZW4gYXNzdW1lIHRoYXQgdGhlIGRldiB3YW50cyBpdCB0byBiZSBDU1MgZm9yIHRoZSBjdXJzb3IuXG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBtb2RlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IG9uIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyBpbnRlcmFjdGVkIHdpdGhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheSBvYmplY3QgaW4gcXVlc3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRTdHJpbmcgLSB0aGUgbmFtZSBvZiB0aGUgZXZlbnQgKGUuZywgbW91c2Vkb3duKVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudERhdGEgLSB0aGUgZXZlbnQgZGF0YSBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIChkaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZywgZXZlbnREYXRhKSB7XG4gICAgICAgIC8vIEV2ZW4gaWYgdGhlIGV2ZW50IHdhcyBzdG9wcGVkLCBhdCBsZWFzdCBkaXNwYXRjaCBhbnkgcmVtYWluaW5nIGV2ZW50c1xuICAgICAgICAvLyBmb3IgdGhlIHNhbWUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgIGlmICghZXZlbnREYXRhLnN0b3BQcm9wYWdhdGlvbkhpbnQgfHwgZGlzcGxheU9iamVjdCA9PT0gZXZlbnREYXRhLnN0b3BzUHJvcGFnYXRpbmdBdCkge1xuICAgICAgICAgICAgZXZlbnREYXRhLmN1cnJlbnRUYXJnZXQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICAgICAgZXZlbnREYXRhLnR5cGUgPSBldmVudFN0cmluZztcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QuZW1pdChldmVudFN0cmluZywgZXZlbnREYXRhKTtcbiAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0W2V2ZW50U3RyaW5nXSkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3RbZXZlbnRTdHJpbmddKGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFB1dHMgYSBldmVudCBvbiBhIHF1ZXVlIHRvIGJlIGRpc3BhdGNoZWQgbGF0ZXIuIFRoaXMgaXMgdXNlZCB0byBndWFyYW50ZWUgY29ycmVjdFxuICAgICAqIG9yZGVyaW5nIG9mIG92ZXIvb3V0IGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheSBvYmplY3QgaW4gcXVlc3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRTdHJpbmcgLSB0aGUgbmFtZSBvZiB0aGUgZXZlbnQgKGUuZywgbW91c2Vkb3duKVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudERhdGEgLSB0aGUgZXZlbnQgZGF0YSBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGVsYXlEaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QsIGV2ZW50U3RyaW5nLCBldmVudERhdGEpIHtcbiAgICAgICAgdGhpcy5kZWxheWVkRXZlbnRzLnB1c2goeyBkaXNwbGF5T2JqZWN0OiBkaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZzogZXZlbnRTdHJpbmcsIGV2ZW50RGF0YTogZXZlbnREYXRhIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFwcyB4IGFuZCB5IGNvb3JkcyBmcm9tIGEgRE9NIG9iamVjdCBhbmQgbWFwcyB0aGVtIGNvcnJlY3RseSB0byB0aGUgUGl4aUpTIHZpZXcuIFRoZVxuICAgICAqIHJlc3VsdGluZyB2YWx1ZSBpcyBzdG9yZWQgaW4gdGhlIHBvaW50LiBUaGlzIHRha2VzIGludG8gYWNjb3VudCB0aGUgZmFjdCB0aGF0IHRoZSBET01cbiAgICAgKiBlbGVtZW50IGNvdWxkIGJlIHNjYWxlZCBhbmQgcG9zaXRpb25lZCBhbnl3aGVyZSBvbiB0aGUgc2NyZWVuLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7UElYSS5JUG9pbnREYXRhfSBwb2ludCAtIHRoZSBwb2ludCB0aGF0IHRoZSByZXN1bHQgd2lsbCBiZSBzdG9yZWQgaW5cbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHggLSB0aGUgeCBjb29yZCBvZiB0aGUgcG9zaXRpb24gdG8gbWFwXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB5IC0gdGhlIHkgY29vcmQgb2YgdGhlIHBvc2l0aW9uIHRvIG1hcFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUubWFwUG9zaXRpb25Ub1BvaW50ID0gZnVuY3Rpb24gKHBvaW50LCB4LCB5KSB7XG4gICAgICAgIHZhciByZWN0O1xuICAgICAgICAvLyBJRSAxMSBmaXhcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICByZWN0ID0geyB4OiAwLCB5OiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZWN0ID0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc29sdXRpb25NdWx0aXBsaWVyID0gMS4wIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICBwb2ludC54ID0gKCh4IC0gcmVjdC5sZWZ0KSAqICh0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC53aWR0aCAvIHJlY3Qud2lkdGgpKSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICAgICAgICBwb2ludC55ID0gKCh5IC0gcmVjdC50b3ApICogKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmhlaWdodCAvIHJlY3QuaGVpZ2h0KSkgKiByZXNvbHV0aW9uTXVsdGlwbGllcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgcHJvdmlkZXMgYSBuZWF0IHdheSBvZiBjcmF3bGluZyB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgcnVubmluZyBhXG4gICAgICogc3BlY2lmaWVkIGZ1bmN0aW9uIG9uIGFsbCBpbnRlcmFjdGl2ZSBvYmplY3RzIGl0IGZpbmRzLiBJdCB3aWxsIGFsc28gdGFrZSBjYXJlIG9mIGhpdFxuICAgICAqIHRlc3RpbmcgdGhlIGludGVyYWN0aXZlIG9iamVjdHMgYW5kIHBhc3NlcyB0aGUgaGl0IGFjcm9zcyBpbiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBldmVudCBjb250YWluaW5nIHRoZSBwb2ludCB0aGF0XG4gICAgICogIGlzIHRlc3RlZCBmb3IgY29sbGlzaW9uXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0XG4gICAgICogIHRoYXQgd2lsbCBiZSBoaXQgdGVzdCAocmVjdXJzaXZlbHkgY3Jhd2xzIGl0cyBjaGlsZHJlbilcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZnVuY10gLSB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIGludGVyYWN0aXZlIG9iamVjdC4gVGhlXG4gICAgICogIGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QgYW5kIGhpdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoaXRUZXN0XSAtIGluZGljYXRlcyB3aGV0aGVyIHdlIHdhbnQgdG8gY2FsY3VsYXRlIGhpdHNcbiAgICAgKiAgb3IganVzdCBpdGVyYXRlIHRocm91Z2ggYWxsIGludGVyYWN0aXZlIG9iamVjdHNcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NJbnRlcmFjdGl2ZSA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0KSB7XG4gICAgICAgIHZhciBoaXQgPSB0aGlzLnNlYXJjaC5maW5kSGl0KGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGZ1bmMsIGhpdFRlc3QpO1xuICAgICAgICB2YXIgZGVsYXllZEV2ZW50cyA9IHRoaXMuZGVsYXllZEV2ZW50cztcbiAgICAgICAgaWYgKCFkZWxheWVkRXZlbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGhpdDtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXNldCB0aGUgcHJvcGFnYXRpb24gaGludCwgYmVjYXVzZSB3ZSBzdGFydCBkZWVwZXIgaW4gdGhlIHRyZWUgYWdhaW4uXG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuc3RvcFByb3BhZ2F0aW9uSGludCA9IGZhbHNlO1xuICAgICAgICB2YXIgZGVsYXllZExlbiA9IGRlbGF5ZWRFdmVudHMubGVuZ3RoO1xuICAgICAgICB0aGlzLmRlbGF5ZWRFdmVudHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWxheWVkTGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBfYSA9IGRlbGF5ZWRFdmVudHNbaV0sIGRpc3BsYXlPYmplY3RfMSA9IF9hLmRpc3BsYXlPYmplY3QsIGV2ZW50U3RyaW5nID0gX2EuZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSA9IF9hLmV2ZW50RGF0YTtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgcmVhY2ggdGhlIG9iamVjdCB3ZSB3YW50ZWQgdG8gc3RvcCBwcm9wYWdhdGluZyBhdCxcbiAgICAgICAgICAgIC8vIHNldCB0aGUgcHJvcGFnYXRpb24gaGludC5cbiAgICAgICAgICAgIGlmIChldmVudERhdGEuc3RvcHNQcm9wYWdhdGluZ0F0ID09PSBkaXNwbGF5T2JqZWN0XzEpIHtcbiAgICAgICAgICAgICAgICBldmVudERhdGEuc3RvcFByb3BhZ2F0aW9uSGludCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdF8xLCBldmVudFN0cmluZywgZXZlbnREYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGl0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHByZXNzZWQgZG93biBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyBwcmVzc2VkIGRvd25cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlckRvd24gPSBmdW5jdGlvbiAob3JpZ2luYWxFdmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vIG5lZWQgdG8gcHJldmVudCBkZWZhdWx0IG9uIG5hdHVyYWwgcG9pbnRlciBldmVudHMsIGFzIHRoZXJlIGFyZSBubyBzaWRlIGVmZmVjdHNcbiAgICAgICAgICogTm9ybWFsaXplZCBldmVudHMsIGhvd2V2ZXIsIG1heSBoYXZlIHRoZSBkb3VibGUgbW91c2Vkb3duL3RvdWNoc3RhcnQgaXNzdWUgb24gdGhlIG5hdGl2ZSBhbmRyb2lkIGJyb3dzZXIsXG4gICAgICAgICAqIHNvIHN0aWxsIG5lZWQgdG8gYmUgcHJldmVudGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgLy8gR3VhcmFudGVlZCB0aGF0IHRoZXJlIHdpbGwgYmUgYXQgbGVhc3Qgb25lIGV2ZW50IGluIGV2ZW50cywgYW5kIGFsbCBldmVudHMgbXVzdCBoYXZlIHRoZSBzYW1lIHBvaW50ZXIgdHlwZVxuICAgICAgICBpZiAodGhpcy5hdXRvUHJldmVudERlZmF1bHQgJiYgZXZlbnRzWzBdLmlzTm9ybWFsaXplZCkge1xuICAgICAgICAgICAgdmFyIGNhbmNlbGFibGUgPSBvcmlnaW5hbEV2ZW50LmNhbmNlbGFibGUgfHwgISgnY2FuY2VsYWJsZScgaW4gb3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICBpZiAoY2FuY2VsYWJsZSkge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMubGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3RvdWNoc3RhcnQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVtaXQgYSBtb3VzZSBldmVudCBmb3IgXCJwZW5cIiBwb2ludGVycywgdGhlIHdheSBhIGJyb3dzZXIgd291bGQgZW1pdCBhIGZhbGxiYWNrIGV2ZW50XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGV2ZW50LmJ1dHRvbiA9PT0gMjtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoaXNSaWdodEJ1dHRvbiA/ICdyaWdodGRvd24nIDogJ21vdXNlZG93bicsIHRoaXMuZXZlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgZG93biBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJEb3duID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG4gICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdID0gbmV3IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcmRvd24nLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBkYXRhLmJ1dHRvbiA9PT0gMjtcbiAgICAgICAgICAgICAgICBpZiAoaXNSaWdodEJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0ucmlnaHREb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXS5sZWZ0RG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0ZG93bicgOiAnbW91c2Vkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyByZWxlYXNlZCBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2FuY2VsbGVkIC0gdHJ1ZSBpZiB0aGUgcG9pbnRlciBpcyBjYW5jZWxsZWRcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIC0gRnVuY3Rpb24gcGFzc2VkIHRvIHtAbGluayBwcm9jZXNzSW50ZXJhY3RpdmV9XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJDb21wbGV0ZSA9IGZ1bmN0aW9uIChvcmlnaW5hbEV2ZW50LCBjYW5jZWxsZWQsIGZ1bmMpIHtcbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcbiAgICAgICAgLy8gaWYgdGhlIGV2ZW50IHdhc24ndCB0YXJnZXRpbmcgb3VyIGNhbnZhcywgdGhlbiBjb25zaWRlciBpdCB0byBiZSBwb2ludGVydXBvdXRzaWRlXG4gICAgICAgIC8vIGluIGFsbCBjYXNlcyAodW5sZXNzIGl0IHdhcyBhIHBvaW50ZXJjYW5jZWwpXG4gICAgICAgIHZhciBldmVudEFwcGVuZCA9IG9yaWdpbmFsRXZlbnQudGFyZ2V0ICE9PSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA/ICdvdXRzaWRlJyA6ICcnO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgIC8vIHBlcmZvcm0gaGl0IHRlc3RpbmcgZm9yIGV2ZW50cyB0YXJnZXRpbmcgb3VyIGNhbnZhcyBvciBjYW5jZWwgZXZlbnRzXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLmxhc3RPYmplY3RSZW5kZXJlZCwgZnVuYywgY2FuY2VsbGVkIHx8ICFldmVudEFwcGVuZCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoY2FuY2VsbGVkID8gJ3BvaW50ZXJjYW5jZWwnIDogXCJwb2ludGVydXBcIiArIGV2ZW50QXBwZW5kLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGV2ZW50LmJ1dHRvbiA9PT0gMjtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoaXNSaWdodEJ1dHRvbiA/IFwicmlnaHR1cFwiICsgZXZlbnRBcHBlbmQgOiBcIm1vdXNldXBcIiArIGV2ZW50QXBwZW5kLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGNhbmNlbGxlZCA/ICd0b3VjaGNhbmNlbCcgOiBcInRvdWNoZW5kXCIgKyBldmVudEFwcGVuZCwgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50LnBvaW50ZXJJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBjYW5jZWxsZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB0aGlzLm9uUG9pbnRlckNvbXBsZXRlKGV2ZW50LCB0cnVlLCB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIGNhbmNlbCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJjYW5jZWwnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGNhbmNlbCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcmVsZWFzZWQgb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJVcCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIHRoaXMub25Qb2ludGVyQ29tcGxldGUoZXZlbnQsIGZhbHNlLCB0aGlzLnByb2Nlc3NQb2ludGVyVXApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgdXAgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyVXAgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcbiAgICAgICAgdmFyIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgdmFyIGlzVG91Y2ggPSBkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuICAgICAgICB2YXIgaXNNb3VzZSA9IChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKTtcbiAgICAgICAgLy8gbmVlZCB0byB0cmFjayBtb3VzZSBkb3duIHN0YXR1cyBpbiB0aGUgbW91c2UgYmxvY2sgc28gdGhhdCB3ZSBjYW4gZW1pdFxuICAgICAgICAvLyBldmVudCBpbiBhIGxhdGVyIGJsb2NrXG4gICAgICAgIHZhciBpc01vdXNlVGFwID0gZmFsc2U7XG4gICAgICAgIC8vIE1vdXNlIG9ubHlcbiAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG4gICAgICAgICAgICB2YXIgZmxhZ3MgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUztcbiAgICAgICAgICAgIHZhciB0ZXN0ID0gaXNSaWdodEJ1dHRvbiA/IGZsYWdzLlJJR0hUX0RPV04gOiBmbGFncy5MRUZUX0RPV047XG4gICAgICAgICAgICB2YXIgaXNEb3duID0gdHJhY2tpbmdEYXRhICE9PSB1bmRlZmluZWQgJiYgKHRyYWNraW5nRGF0YS5mbGFncyAmIHRlc3QpO1xuICAgICAgICAgICAgaWYgKGhpdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0dXAnIDogJ21vdXNldXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0Y2xpY2snIDogJ2NsaWNrJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgY2FuIGNvbmZpcm0gdGhhdCB0aGUgbW91c2Vkb3duIGhhcHBlbmVkIG9uIHRoaXMgb2JqZWN0LCBmbGFnIGZvciBsYXRlciBlbWl0IG9mIHBvaW50ZXJ0YXBcbiAgICAgICAgICAgICAgICAgICAgaXNNb3VzZVRhcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHR1cG91dHNpZGUnIDogJ21vdXNldXBvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGRvd24gc3RhdGUgb2YgdGhlIHRyYWNraW5nIGRhdGFcbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNSaWdodEJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEucmlnaHREb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEubGVmdERvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUG9pbnRlcnMgYW5kIFRvdWNoZXMsIGFuZCBNb3VzZVxuICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ1cCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpXG4gICAgICAgICAgICAgICAgeyB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoZW5kJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgICAgICAvLyBlbWl0IHBvaW50ZXJ0YXAgaWYgbm90IGEgbW91c2UsIG9yIGlmIHRoZSBtb3VzZSBibG9jayBkZWNpZGVkIGl0IHdhcyBhIHRhcFxuICAgICAgICAgICAgICAgIGlmICghaXNNb3VzZSB8fCBpc01vdXNlVGFwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnRhcCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNUb3VjaCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RhcCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0b3VjaGVzIGFyZSBubyBsb25nZXIgb3ZlciAoaWYgdGhleSBldmVyIHdlcmUpIHdoZW4gd2UgZ2V0IHRoZSB0b3VjaGVuZFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyB3ZSBzaG91bGQgZW5zdXJlIHRoYXQgd2UgZG9uJ3Qga2VlcCBwcmV0ZW5kaW5nIHRoYXQgdGhleSBhcmVcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ1cG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE9ubHkgcmVtb3ZlIHRoZSB0cmFja2luZyBkYXRhIGlmIHRoZXJlIGlzIG5vIG92ZXIvZG93biBzdGF0ZSBzdGlsbCBhc3NvY2lhdGVkIHdpdGggaXRcbiAgICAgICAgaWYgKHRyYWNraW5nRGF0YSAmJiB0cmFja2luZ0RhdGEubm9uZSkge1xuICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgbW92aW5nXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJNb3ZlID0gZnVuY3Rpb24gKG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG4gICAgICAgIGlmIChldmVudHNbMF0ucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgdGhpcy5fZGlkTW92ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLmxhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVybW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5lbWl0KCd0b3VjaG1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAgICAgICAgICB7IHRoaXMuZW1pdCgnbW91c2Vtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpO1xuICAgICAgICAgICAgLy8gVE9ETyBCVUcgZm9yIHBhcmVudHMgaW50ZXJhY3RpdmUgb2JqZWN0IChib3JkZXIgb3JkZXIgaXNzdWUpXG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIG1vdmUgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyTW92ZSA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG4gICAgICAgIHZhciBpc1RvdWNoID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcbiAgICAgICAgdmFyIGlzTW91c2UgPSAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJyk7XG4gICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5tb3ZlV2hlbkluc2lkZSB8fCBoaXQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaG1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgICAgICAgICAgeyB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlbW92ZScsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmVkIG91dCBvZiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJlaW5nIG1vdmVkIG91dFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyT3V0ID0gZnVuY3Rpb24gKG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG4gICAgICAgIC8vIE9ubHkgbW91c2UgYW5kIHBvaW50ZXIgY2FuIGNhbGwgb25Qb2ludGVyT3V0LCBzbyBldmVudHMgd2lsbCBhbHdheXMgYmUgbGVuZ3RoIDFcbiAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzWzBdO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZShudWxsKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBldmVudDtcbiAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB3ZSBjYW4gZ2V0IHRvdWNobGVhdmUgZXZlbnRzIGFmdGVyIHRvdWNoZW5kLCBzbyB3ZSB3YW50IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gaW50cm9kdWNlIG1lbW9yeSBsZWFrc1xuICAgICAgICAgICAgdGhpcy5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGludGVyYWN0aW9uRGF0YS5pZGVudGlmaWVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgb3Zlci9vdXQgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuICAgICAgICB2YXIgaXNNb3VzZSA9IChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKTtcbiAgICAgICAgdmFyIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgLy8gaWYgd2UganVzdCBtb3VzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QsIHRoZW4gd2UgbmVlZCB0byB0cmFjayB0aGF0IHN0YXRlXG4gICAgICAgIGlmIChoaXQgJiYgIXRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdID0gbmV3IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKGlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhY2tpbmdEYXRhID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICBpZiAoaGl0ICYmIHRoaXMubW91c2VPdmVyUmVuZGVyZXIpIHtcbiAgICAgICAgICAgIGlmICghdHJhY2tpbmdEYXRhLm92ZXIpIHtcbiAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxheURpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxheURpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG9ubHkgY2hhbmdlIHRoZSBjdXJzb3IgaWYgaXQgaGFzIG5vdCBhbHJlYWR5IGJlZW4gY2hhbmdlZCAoYnkgc29tZXRoaW5nIGRlZXBlciBpbiB0aGVcbiAgICAgICAgICAgIC8vIGRpc3BsYXkgdHJlZSlcbiAgICAgICAgICAgIGlmIChpc01vdXNlICYmIHRoaXMuY3Vyc29yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBkaXNwbGF5T2JqZWN0LmN1cnNvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0cmFja2luZ0RhdGEub3Zlcikge1xuICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm91dCcsIHRoaXMuZXZlbnREYXRhKTtcbiAgICAgICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gbW91c2UgZG93biBpbmZvcm1hdGlvbiBmb3IgdGhlIHBvaW50ZXIsIHRoZW4gaXQgaXMgc2FmZSB0byBkZWxldGVcbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEubm9uZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmVkIGludG8gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgbW92ZWQgaW50byB0aGUgcmVuZGVyZXIgdmlld1xuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyT3ZlciA9IGZ1bmN0aW9uIChvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG4gICAgICAgIC8vIE9ubHkgbW91c2UgYW5kIHBvaW50ZXIgY2FuIGNhbGwgb25Qb2ludGVyT3Zlciwgc28gZXZlbnRzIHdpbGwgYWx3YXlzIGJlIGxlbmd0aCAxXG4gICAgICAgIHZhciBldmVudCA9IGV2ZW50c1swXTtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgSW50ZXJhY3Rpb25EYXRhIGZvciBhIGdpdmVuIHBvaW50ZXJJZC4gU3RvcmUgdGhhdCBkYXRhIGFzIHdlbGxcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gTm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBvdXRwdXQgZnJvbSBub3JtYWxpemVUb1BvaW50ZXJEYXRhXG4gICAgICogQHJldHVybiB7UElYSS5JbnRlcmFjdGlvbkRhdGF9IC0gSW50ZXJhY3Rpb24gZGF0YSBmb3IgdGhlIGdpdmVuIHBvaW50ZXIgaWRlbnRpZmllclxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBwb2ludGVySWQgPSBldmVudC5wb2ludGVySWQ7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGE7XG4gICAgICAgIGlmIChwb2ludGVySWQgPT09IE1PVVNFX1BPSU5URVJfSUQgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMubW91c2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXSkge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbC5wb3AoKSB8fCBuZXcgSW50ZXJhY3Rpb25EYXRhKCk7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEuaWRlbnRpZmllciA9IHBvaW50ZXJJZDtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF0gPSBpbnRlcmFjdGlvbkRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29weSBwcm9wZXJ0aWVzIGZyb20gdGhlIGV2ZW50LCBzbyB0aGF0IHdlIGNhbiBtYWtlIHN1cmUgdGhhdCB0b3VjaC9wb2ludGVyIHNwZWNpZmljXG4gICAgICAgIC8vIGRhdGEgaXMgYXZhaWxhYmxlXG4gICAgICAgIGludGVyYWN0aW9uRGF0YS5jb3B5RXZlbnQoZXZlbnQpO1xuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25EYXRhO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHVudXNlZCBJbnRlcmFjdGlvbkRhdGEgdG8gdGhlIHBvb2wsIGZvciBhIGdpdmVuIHBvaW50ZXJJZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRlcklkIC0gSWRlbnRpZmllciBmcm9tIGEgcG9pbnRlciBldmVudFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCA9IGZ1bmN0aW9uIChwb2ludGVySWQpIHtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG4gICAgICAgIGlmIChpbnRlcmFjdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wucHVzaChpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb25maWd1cmUgYW4gSW50ZXJhY3Rpb25FdmVudCB0byB3cmFwIGEgRE9NIFBvaW50ZXJFdmVudCBhbmQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGV2ZW50IHRvIGJlIGNvbmZpZ3VyZWRcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IC0gVGhlIERPTSBldmVudCB0aGF0IHdpbGwgYmUgcGFpcmVkIHdpdGggdGhlIEludGVyYWN0aW9uRXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25EYXRhfSBpbnRlcmFjdGlvbkRhdGEgLSBUaGUgSW50ZXJhY3Rpb25EYXRhIHRoYXQgd2lsbCBiZSBwYWlyZWRcbiAgICAgKiAgICAgICAgd2l0aCB0aGUgSW50ZXJhY3Rpb25FdmVudFxuICAgICAqIEByZXR1cm4ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gdGhlIGludGVyYWN0aW9uIGV2ZW50IHRoYXQgd2FzIHBhc3NlZCBpblxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50ID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIHBvaW50ZXJFdmVudCwgaW50ZXJhY3Rpb25EYXRhKSB7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YSA9IGludGVyYWN0aW9uRGF0YTtcbiAgICAgICAgdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQoaW50ZXJhY3Rpb25EYXRhLmdsb2JhbCwgcG9pbnRlckV2ZW50LmNsaWVudFgsIHBvaW50ZXJFdmVudC5jbGllbnRZKTtcbiAgICAgICAgLy8gTm90IHJlYWxseSBzdXJlIHdoeSB0aGlzIGlzIGhhcHBlbmluZywgYnV0IGl0J3MgaG93IGEgcHJldmlvdXMgdmVyc2lvbiBoYW5kbGVkIHRoaW5nc1xuICAgICAgICBpZiAocG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQuZ2xvYmFsWCA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueDtcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudC5nbG9iYWxZID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55O1xuICAgICAgICB9XG4gICAgICAgIGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50ID0gcG9pbnRlckV2ZW50O1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnJlc2V0KCk7XG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvbkV2ZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGF0IHRoZSBvcmlnaW5hbCBldmVudCBvYmplY3QgY29udGFpbnMgYWxsIGRhdGEgdGhhdCBhIHJlZ3VsYXIgcG9pbnRlciBldmVudCB3b3VsZCBoYXZlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VG91Y2hFdmVudHxNb3VzZUV2ZW50fFBvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgb3JpZ2luYWwgZXZlbnQgZGF0YSBmcm9tIGEgdG91Y2ggb3IgbW91c2UgZXZlbnRcbiAgICAgKiBAcmV0dXJuIHtQb2ludGVyRXZlbnRbXX0gQW4gYXJyYXkgY29udGFpbmluZyBhIHNpbmdsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnQsIGluIHRoZSBjYXNlIG9mIGEgcG9pbnRlclxuICAgICAqICBvciBtb3VzZSBldmVudCwgb3IgYSBtdWx0aXBsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnRzIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBjaGFuZ2VkIHRvdWNoZXNcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRFdmVudHMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsaSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSA8IGxpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbiA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2guYnV0dG9uID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPyAxIDogMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guYnV0dG9ucyA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2guYnV0dG9ucyA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID8gMSA6IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdG91Y2guaXNQcmltYXJ5ID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDEgJiYgZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLndpZHRoID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC53aWR0aCA9IHRvdWNoLnJhZGl1c1ggfHwgMTsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guaGVpZ2h0ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC5oZWlnaHQgPSB0b3VjaC5yYWRpdXNZIHx8IDE7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRYID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC50aWx0WCA9IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRZID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC50aWx0WSA9IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC5wb2ludGVyVHlwZSA9ICd0b3VjaCc7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJJZCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gucG9pbnRlcklkID0gdG91Y2guaWRlbnRpZmllciB8fCAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gucHJlc3N1cmUgPSB0b3VjaC5mb3JjZSB8fCAwLjU7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnR3aXN0ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC50d2lzdCA9IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gudGFuZ2VudGlhbFByZXNzdXJlID0gMDsgfVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGVzZSwgYXMgbGF5ZXJYL1kgaXMgbm90IGEgc3RhbmRhcmQsIGlzIGRlcHJlY2F0ZWQsIGhhcyB1bmV2ZW5cbiAgICAgICAgICAgICAgICAvLyBzdXBwb3J0LCBhbmQgdGhlIGZpbGwgaW5zIGFyZSBub3QgcXVpdGUgdGhlIHNhbWVcbiAgICAgICAgICAgICAgICAvLyBvZmZzZXRYL1kgbWlnaHQgYmUgb2theSwgYnV0IGlzIG5vdCB0aGUgc2FtZSBhcyBjbGllbnRYL1kgd2hlbiB0aGUgY2FudmFzJ3MgdG9wXG4gICAgICAgICAgICAgICAgLy8gbGVmdCBpcyBub3QgMCwwIG9uIHRoZSBwYWdlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclggPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLmxheWVyWCA9IHRvdWNoLm9mZnNldFggPSB0b3VjaC5jbGllbnRYOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclkgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLmxheWVyWSA9IHRvdWNoLm9mZnNldFkgPSB0b3VjaC5jbGllbnRZOyB9XG4gICAgICAgICAgICAgICAgLy8gbWFyayB0aGUgdG91Y2ggYXMgbm9ybWFsaXplZCwganVzdCBzbyB0aGF0IHdlIGtub3cgd2UgZGlkIGl0XG4gICAgICAgICAgICAgICAgdG91Y2guaXNOb3JtYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2godG91Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGFwcGFyZW50bHkgUG9pbnRlckV2ZW50IHN1YmNsYXNzZXMgTW91c2VFdmVudCwgc28geWF5XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCAmJiAoIXRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzIHx8ICEoZXZlbnQgaW5zdGFuY2VvZiB3aW5kb3cuUG9pbnRlckV2ZW50KSkpIHtcbiAgICAgICAgICAgIHZhciB0ZW1wRXZlbnQgPSBldmVudDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQuaXNQcmltYXJ5ID0gdHJ1ZTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQud2lkdGggPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LndpZHRoID0gMTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQuaGVpZ2h0ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC5oZWlnaHQgPSAxOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC50aWx0WCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQudGlsdFggPSAwOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC50aWx0WSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQudGlsdFkgPSAwOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQucG9pbnRlclR5cGUgPSAnbW91c2UnOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5wb2ludGVySWQgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LnBvaW50ZXJJZCA9IE1PVVNFX1BPSU5URVJfSUQ7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnByZXNzdXJlID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC5wcmVzc3VyZSA9IDAuNTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudHdpc3QgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LnR3aXN0ID0gMDsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC50YW5nZW50aWFsUHJlc3N1cmUgPSAwOyB9XG4gICAgICAgICAgICAvLyBtYXJrIHRoZSBtb3VzZSBldmVudCBhcyBub3JtYWxpemVkLCBqdXN0IHNvIHRoYXQgd2Uga25vdyB3ZSBkaWQgaXRcbiAgICAgICAgICAgIHRlbXBFdmVudC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKHRlbXBFdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub3JtYWxpemVkRXZlbnRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGludGVyYWN0aW9uIG1hbmFnZXJcbiAgICAgKlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudHMoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVUaWNrZXJMaXN0ZW5lcigpO1xuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5tb3VzZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZXZlbnREYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlckRvd24gPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyRG93biA9IG51bGw7XG4gICAgICAgIHRoaXMub25Qb2ludGVyVXAgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyVXAgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlckNhbmNlbCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlck1vdmUgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IG51bGw7XG4gICAgICAgIHRoaXMub25Qb2ludGVyT3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlck92ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnNlYXJjaCA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gSW50ZXJhY3Rpb25NYW5hZ2VyO1xufShFdmVudEVtaXR0ZXIpKTtcblxuZXhwb3J0IHsgSW50ZXJhY3Rpb25EYXRhLCBJbnRlcmFjdGlvbkV2ZW50LCBJbnRlcmFjdGlvbk1hbmFnZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLCBpbnRlcmFjdGl2ZVRhcmdldCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJhY3Rpb24uZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3J1bm5lciAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9ydW5uZXIgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4vKipcbiAqIEEgUnVubmVyIGlzIGEgaGlnaGx5IHBlcmZvcm1hbnQgYW5kIHNpbXBsZSBhbHRlcm5hdGl2ZSB0byBzaWduYWxzLiBCZXN0IHVzZWQgaW4gc2l0dWF0aW9uc1xuICogd2hlcmUgZXZlbnRzIGFyZSBkaXNwYXRjaGVkIHRvIG1hbnkgb2JqZWN0cyBhdCBoaWdoIGZyZXF1ZW5jeSAoc2F5IGV2ZXJ5IGZyYW1lISlcbiAqXG4gKlxuICogbGlrZSBhIHNpZ25hbC4uXG4gKiBgYGBcbiAqIGltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG4gKlxuICogY29uc3QgbXlPYmplY3QgPSB7XG4gKiAgICAgbG9hZGVkOiBuZXcgUnVubmVyKCdsb2FkZWQnKVxuICogfVxuICpcbiAqIGNvbnN0IGxpc3RlbmVyID0ge1xuICogICAgIGxvYWRlZDogZnVuY3Rpb24oKXtcbiAqICAgICAgICAgLy8gdGhpblxuICogICAgIH1cbiAqIH1cbiAqXG4gKiBteU9iamVjdC51cGRhdGUuYWRkKGxpc3RlbmVyKTtcbiAqXG4gKiBteU9iamVjdC5sb2FkZWQuZW1pdCgpO1xuICogYGBgXG4gKlxuICogT3IgZm9yIGhhbmRsaW5nIGNhbGxpbmcgdGhlIHNhbWUgZnVuY3Rpb24gb24gbWFueSBpdGVtc1xuICogYGBgXG4gKiBpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuICpcbiAqIGNvbnN0IG15R2FtZSA9IHtcbiAqICAgICB1cGRhdGU6IG5ldyBSdW5uZXIoJ3VwZGF0ZScpXG4gKiB9XG4gKlxuICogY29uc3QgZ2FtZU9iamVjdCA9IHtcbiAqICAgICB1cGRhdGU6IGZ1bmN0aW9uKHRpbWUpe1xuICogICAgICAgICAvLyB1cGRhdGUgbXkgZ2FtZXkgc3RhdGVcbiAqICAgICB9XG4gKiB9XG4gKlxuICogbXlHYW1lLnVwZGF0ZS5hZGQoZ2FtZU9iamVjdDEpO1xuICpcbiAqIG15R2FtZS51cGRhdGUuZW1pdCh0aW1lKTtcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUnVubmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqICBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIHRoZSBmdW5jdGlvbiBuYW1lIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBvbiB0aGUgbGlzdGVuZXJzIGFkZGVkIHRvIHRoaXMgUnVubmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJ1bm5lcihuYW1lKSB7XG4gICAgICAgIHRoaXMuaXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuX2FsaWFzQ291bnQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaC9Ccm9hZGNhc3QgUnVubmVyIHRvIGFsbCBsaXN0ZW5lcnMgYWRkZWQgdG8gdGhlIHF1ZXVlLlxuICAgICAqIEBwYXJhbSB7Li4uYW55fSBwYXJhbXMgLSBvcHRpb25hbCBwYXJhbWV0ZXJzIHRvIHBhc3MgdG8gZWFjaCBsaXN0ZW5lclxuICAgICAqIEByZXR1cm4ge1BJWEkuUnVubmVyfVxuICAgICAqL1xuICAgIFJ1bm5lci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiA4KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21heCBhcmd1bWVudHMgcmVhY2hlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIG5hbWUgPSBfYS5uYW1lLCBpdGVtcyA9IF9hLml0ZW1zO1xuICAgICAgICB0aGlzLl9hbGlhc0NvdW50Kys7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBpdGVtcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaXRlbXNbaV1bbmFtZV0oYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXRlbXMgPT09IHRoaXMuaXRlbXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2FsaWFzQ291bnQtLTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFJ1bm5lci5wcm90b3R5cGUuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fYWxpYXNDb3VudCA+IDAgJiYgdGhpcy5pdGVtcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aGlzLl9hbGlhc0NvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLml0ZW1zLnNsaWNlKDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYSBsaXN0ZW5lciB0byB0aGUgUnVubmVyXG4gICAgICpcbiAgICAgKiBSdW5uZXJzIGRvIG5vdCBuZWVkIHRvIGhhdmUgc2NvcGUgb3IgZnVuY3Rpb25zIHBhc3NlZCB0byB0aGVtLlxuICAgICAqIEFsbCB0aGF0IGlzIHJlcXVpcmVkIGlzIHRvIHBhc3MgdGhlIGxpc3RlbmluZyBvYmplY3QgYW5kIGVuc3VyZSB0aGF0IGl0IGhhcyBjb250YWlucyBhIGZ1bmN0aW9uIHRoYXQgaGFzIHRoZSBzYW1lIG5hbWVcbiAgICAgKiBhcyB0aGUgbmFtZSBwcm92aWRlZCB0byB0aGUgUnVubmVyIHdoZW4gaXQgd2FzIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBFZyBBIGxpc3RlbmVyIHBhc3NlZCB0byB0aGlzIFJ1bm5lciB3aWxsIHJlcXVpcmUgYSAnY29tcGxldGUnIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnQHBpeGkvcnVubmVyJztcbiAgICAgKlxuICAgICAqIGNvbnN0IGNvbXBsZXRlID0gbmV3IFJ1bm5lcignY29tcGxldGUnKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFRoZSBzY29wZSB1c2VkIHdpbGwgYmUgdGhlIG9iamVjdCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2FueX0gaXRlbSAtIFRoZSBvYmplY3QgdGhhdCB3aWxsIGJlIGxpc3RlbmluZy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJ1bm5lcn1cbiAgICAgKi9cbiAgICBSdW5uZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtW3RoaXMuX25hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLmVuc3VyZU5vbkFsaWFzZWRJdGVtcygpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoaXRlbSk7XG4gICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBzaW5nbGUgbGlzdGVuZXIgZnJvbSB0aGUgZGlzcGF0Y2ggcXVldWUuXG4gICAgICogQHBhcmFtIHthbnl9IGl0ZW0gLSBUaGUgbGlzdGVuciB0aGF0IHlvdSB3b3VsZCBsaWtlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJ1bm5lcn1cbiAgICAgKi9cbiAgICBSdW5uZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5lbnN1cmVOb25BbGlhc2VkSXRlbXMoKTtcbiAgICAgICAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrIHRvIHNlZSBpZiB0aGUgbGlzdGVuZXIgaXMgYWxyZWFkeSBpbiB0aGUgUnVubmVyXG4gICAgICogQHBhcmFtIHthbnl9IGl0ZW0gLSBUaGUgbGlzdGVuZXIgdGhhdCB5b3Ugd291bGQgbGlrZSB0byBjaGVjay5cbiAgICAgKi9cbiAgICBSdW5uZXIucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKSAhPT0gLTE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIGxpc3RlbmVycyBmcm9tIHRoZSBSdW5uZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJ1bm5lcn1cbiAgICAgKi9cbiAgICBSdW5uZXIucHJvdG90eXBlLnJlbW92ZUFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVOb25BbGlhc2VkSXRlbXMoKTtcbiAgICAgICAgdGhpcy5pdGVtcy5sZW5ndGggPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgcmVmZXJlbmNlcywgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbCgpO1xuICAgICAgICB0aGlzLml0ZW1zID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUnVubmVyLnByb3RvdHlwZSwgXCJlbXB0eVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgdGhlcmUgYXJlIG5vIHRoaXMgUnVubmVyIGNvbnRhaW5zIG5vIGxpc3RlbmVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RoID09PSAwO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJ1bm5lci5wcm90b3R5cGUsIFwibmFtZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgcnVubmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBSdW5uZXI7XG59KCkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUnVubmVyLnByb3RvdHlwZSwge1xuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciBgZW1pdGBcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5SdW5uZXIjXG4gICAgICogQG1ldGhvZCBkaXNwYXRjaFxuICAgICAqIEBzZWUgUElYSS5SdW5uZXIjZW1pdFxuICAgICAqL1xuICAgIGRpc3BhdGNoOiB7IHZhbHVlOiBSdW5uZXIucHJvdG90eXBlLmVtaXQgfSxcbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgYGVtaXRgXG4gICAgICogQG1lbWJlcm9mIFBJWEkuUnVubmVyI1xuICAgICAqIEBtZXRob2QgcnVuXG4gICAgICogQHNlZSBQSVhJLlJ1bm5lciNlbWl0XG4gICAgICovXG4gICAgcnVuOiB7IHZhbHVlOiBSdW5uZXIucHJvdG90eXBlLmVtaXQgfSxcbn0pO1xuXG5leHBvcnQgeyBSdW5uZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ1bm5lci5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvY29yZSAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9jb3JlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBFTlYsIEFMUEhBX01PREVTLCBTQ0FMRV9NT0RFUywgRk9STUFUUywgVFlQRVMsIFRBUkdFVFMsIE1JUE1BUF9NT0RFUywgTVNBQV9RVUFMSVRZLCBDTEVBUl9NT0RFUywgRFJBV19NT0RFUywgQlVGRkVSX0JJVFMsIE1BU0tfVFlQRVMsIFBSRUNJU0lPTiwgQkxFTkRfTU9ERVMsIEdDX01PREVTLCBXUkFQX01PREVTLCBSRU5ERVJFUl9UWVBFIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IGlzTW9iaWxlLCB1aWQsIGlzUG93MiwgQmFzZVRleHR1cmVDYWNoZSwgVGV4dHVyZUNhY2hlLCBFdmVudEVtaXR0ZXIsIGRldGVybWluZUNyb3NzT3JpZ2luLCBnZXRSZXNvbHV0aW9uT2ZVcmwsIG5leHRQb3cyLCBkZXByZWNhdGlvbiwgUHJvZ3JhbUNhY2hlLCByZW1vdmVJdGVtcywgaGV4MnN0cmluZywgaGV4MnJnYiwgc2F5SGVsbG8sIGlzV2ViR0xTdXBwb3J0ZWQsIHByZW11bHRpcGx5QmxlbmRNb2RlLCBsb2cyLCBwcmVtdWx0aXBseVRpbnQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuaW1wb3J0IHsgVGlja2VyIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IGdyb3VwRDgsIFJlY3RhbmdsZSwgUG9pbnQsIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIFRoZSBtYXhpbXVtIHN1cHBvcnQgZm9yIHVzaW5nIFdlYkdMLiBJZiBhIGRldmljZSBkb2VzIG5vdFxuICogc3VwcG9ydCBXZWJHTCB2ZXJzaW9uLCBmb3IgaW5zdGFuY2UgV2ViR0wgMiwgaXQgd2lsbCBzdGlsbFxuICogYXR0ZW1wdCB0byBmYWxsYmFjayBzdXBwb3J0IHRvIFdlYkdMIDEuIElmIHlvdSB3YW50IHRvXG4gKiBleHBsaWNpdGx5IHJlbW92ZSBmZWF0dXJlIHN1cHBvcnQgdG8gdGFyZ2V0IGEgbW9yZSBzdGFibGVcbiAqIGJhc2VsaW5lLCBwcmVmZXIgYSBsb3dlciBlbnZpcm9ubWVudC5cbiAqXG4gKiBEdWUgdG8ge0BsaW5rIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTkzNDgyM3xidWcgaW4gY2hyb21pdW19XG4gKiB3ZSBkaXNhYmxlIHdlYmdsMiBieSBkZWZhdWx0IGZvciBhbGwgbm9uLWFwcGxlIG1vYmlsZSBkZXZpY2VzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFBSRUZFUl9FTlZcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgUElYSS5FTlYuV0VCR0wyXG4gKi9cbnNldHRpbmdzLlBSRUZFUl9FTlYgPSBpc01vYmlsZS5hbnkgPyBFTlYuV0VCR0wgOiBFTlYuV0VCR0wyO1xuLyoqXG4gKiBJZiBzZXQgdG8gYHRydWVgLCAqb25seSogVGV4dHVyZXMgYW5kIEJhc2VUZXh0dXJlIG9iamVjdHMgc3RvcmVkXG4gKiBpbiB0aGUgY2FjaGVzICh7QGxpbmsgUElYSS51dGlscy5UZXh0dXJlQ2FjaGUgVGV4dHVyZUNhY2hlfSBhbmRcbiAqIHtAbGluayBQSVhJLnV0aWxzLkJhc2VUZXh0dXJlQ2FjaGUgQmFzZVRleHR1cmVDYWNoZX0pIGNhbiBiZVxuICogdXNlZCB3aGVuIGNhbGxpbmcge0BsaW5rIFBJWEkuVGV4dHVyZS5mcm9tIFRleHR1cmUuZnJvbX0gb3JcbiAqIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlLmZyb20gQmFzZVRleHR1cmUuZnJvbX0uXG4gKiBPdGhlcndpc2UsIHRoZXNlIGBmcm9tYCBjYWxscyB0aHJvdyBhbiBleGNlcHRpb24uIFVzaW5nIHRoaXMgcHJvcGVydHlcbiAqIGNhbiBiZSB1c2VmdWwgaWYgeW91IHdhbnQgdG8gZW5mb3JjZSBwcmVsb2FkaW5nIGFsbCBhc3NldHMgd2l0aFxuICoge0BsaW5rIFBJWEkuTG9hZGVyIExvYWRlcn0uXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgU1RSSUNUX1RFWFRVUkVfQ0FDSEVcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFID0gZmFsc2U7XG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBpbnN0YWxsZWQgcmVzb3VyY2UgdHlwZXMsIGNsYXNzIG11c3QgZXh0ZW5kIHtAbGluayBQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0uXG4gKiBAZXhhbXBsZVxuICogY2xhc3MgQ3VzdG9tUmVzb3VyY2UgZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZSB7XG4gKiAgIC8vIE1VU1QgaGF2ZSBzb3VyY2UsIG9wdGlvbnMgY29uc3RydWN0b3Igc2lnbmF0dXJlXG4gKiAgIC8vIGZvciBhdXRvLWRldGVjdGVkIHJlc291cmNlcyB0byBiZSBjcmVhdGVkLlxuICogICBjb25zdHJ1Y3Rvcihzb3VyY2UsIG9wdGlvbnMpIHtcbiAqICAgICBzdXBlcigpO1xuICogICB9XG4gKiAgIHVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICogICAgIC8vIHVwbG9hZCB3aXRoIEdMXG4gKiAgICAgcmV0dXJuIHRydWU7XG4gKiAgIH1cbiAqICAgLy8gdXNlZCB0byBhdXRvLWRldGVjdCByZXNvdXJjZVxuICogICBzdGF0aWMgdGVzdChzb3VyY2UsIGV4dGVuc2lvbikge1xuICogICAgIHJldHVybiBleHRlbnNpb24gPT09ICd4eXonfHwgc291cmNlIGluc3RhbmNlb2YgU29tZUNsYXNzO1xuICogICB9XG4gKiB9XG4gKiAvLyBJbnN0YWxsIHRoZSBuZXcgcmVzb3VyY2UgdHlwZVxuICogUElYSS5yZXNvdXJjZXMuSU5TVEFMTEVELnB1c2goQ3VzdG9tUmVzb3VyY2UpO1xuICpcbiAqIEBuYW1lIFBJWEkucmVzb3VyY2VzLklOU1RBTExFRFxuICogQHR5cGUge0FycmF5PCo+fVxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKi9cbnZhciBJTlNUQUxMRUQgPSBbXTtcbi8qKlxuICogQ3JlYXRlIGEgcmVzb3VyY2UgZWxlbWVudCBmcm9tIGEgc2luZ2xlIHNvdXJjZSBlbGVtZW50LiBUaGlzXG4gKiBhdXRvLWRldGVjdHMgd2hpY2ggdHlwZSBvZiByZXNvdXJjZSB0byBjcmVhdGUuIEFsbCByZXNvdXJjZXMgdGhhdFxuICogYXJlIGF1dG8tZGV0ZWN0YWJsZSBtdXN0IGhhdmUgYSBzdGF0aWMgYHRlc3RgIG1ldGhvZCBhbmQgYSBjb25zdHJ1Y3RvclxuICogd2l0aCB0aGUgYXJndW1lbnRzIGAoc291cmNlLCBvcHRpb25zPylgLiBDdXJyZW50bHksIHRoZSBzdXBwb3J0ZWRcbiAqIHJlc291cmNlcyBmb3IgYXV0by1kZXRlY3Rpb24gaW5jbHVkZTpcbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlfVxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLkNhbnZhc1Jlc291cmNlfVxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLlZpZGVvUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuQnVmZmVyUmVzb3VyY2V9XG4gKiBAc3RhdGljXG4gKiBAZnVuY3Rpb24gUElYSS5yZXNvdXJjZXMuYXV0b0RldGVjdFJlc291cmNlXG4gKiBAcGFyYW0ge3N0cmluZ3wqfSBzb3VyY2UgLSBSZXNvdXJjZSBzb3VyY2UsIHRoaXMgY2FuIGJlIHRoZSBVUkwgdG8gdGhlIHJlc291cmNlLFxuICogICAgICAgIGEgdHlwZWQtYXJyYXkgKGZvciBCdWZmZXJSZXNvdXJjZSksIEhUTUxWaWRlb0VsZW1lbnQsIFNWRyBkYXRhLXVyaVxuICogICAgICAgIG9yIGFueSBvdGhlciByZXNvdXJjZSB0aGF0IGNhbiBiZSBhdXRvLWRldGVjdGVkLiBJZiBub3QgcmVzb3VyY2UgaXNcbiAqICAgICAgICBkZXRlY3RlZCwgaXQncyBhc3N1bWVkIHRvIGJlIGFuIEltYWdlUmVzb3VyY2UuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gUGFzcy10aHJvdWdoIG9wdGlvbnMgdG8gdXNlIGZvciBSZXNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFdpZHRoIG9mIEJ1ZmZlclJlc291cmNlIG9yIFNWRyByYXN0ZXJpemF0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiBCdWZmZXJSZXNvdXJjZSBvciBTVkcgcmFzdGVyaXphdGlvblxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIEltYWdlLCBTVkcgYW5kIFZpZGVvIGZsYWcgdG8gc3RhcnQgbG9hZGluZ1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjYWxlPTFdIC0gU1ZHIHNvdXJjZSBzY2FsZS4gT3ZlcnJpZGRlbiBieSB3aWR0aCwgaGVpZ2h0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyZWF0ZUJpdG1hcD1QSVhJLnNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVBdIC0gSW1hZ2Ugb3B0aW9uIHRvIGNyZWF0ZSBCaXRtYXAgb2JqZWN0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyb3Nzb3JpZ2luPXRydWVdIC0gSW1hZ2UgYW5kIFZpZGVvIG9wdGlvbiB0byBzZXQgY3Jvc3NPcmlnaW5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1BsYXk9dHJ1ZV0gLSBWaWRlbyBvcHRpb24gdG8gc3RhcnQgcGxheWluZyB2aWRlbyBpbW1lZGlhdGVseVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnVwZGF0ZUZQUz0wXSAtIFZpZGVvIG9wdGlvbiB0byB1cGRhdGUgaG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdGhlXG4gKiAgICAgICAgdGV4dHVyZSBzaG91bGQgYmUgdXBkYXRlZCBmcm9tIHRoZSB2aWRlby4gTGVhdmUgYXQgMCB0byB1cGRhdGUgYXQgZXZlcnkgcmVuZGVyXG4gKiBAcmV0dXJuIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0gVGhlIGNyZWF0ZWQgcmVzb3VyY2UuXG4gKi9cbmZ1bmN0aW9uIGF1dG9EZXRlY3RSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGV4dGVuc2lvbiA9ICcnO1xuICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBzZWFyY2ggZm9yIGZpbGUgZXh0ZW5zaW9uOiBwZXJpb2QsIDMtNCBjaGFycywgdGhlbiA/LCAjIG9yIEVPTFxuICAgICAgICB2YXIgcmVzdWx0ID0gKC9cXC4oXFx3ezMsNH0pKD86JHxcXD98IykvaSkuZXhlYyhzb3VyY2UpO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBleHRlbnNpb24gPSByZXN1bHRbMV0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gSU5TVEFMTEVELmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBSZXNvdXJjZVBsdWdpbiA9IElOU1RBTExFRFtpXTtcbiAgICAgICAgaWYgKFJlc291cmNlUGx1Z2luLnRlc3QgJiYgUmVzb3VyY2VQbHVnaW4udGVzdChzb3VyY2UsIGV4dGVuc2lvbikpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVzb3VyY2VQbHVnaW4oc291cmNlLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VucmVjb2duaXplZCBzb3VyY2UgdHlwZSB0byBhdXRvLWRldGVjdCBSZXNvdXJjZScpO1xufVxuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBCYXNlIHJlc291cmNlIGNsYXNzIGZvciB0ZXh0dXJlcyB0aGF0IG1hbmFnZXMgdmFsaWRhdGlvbiBhbmQgdXBsb2FkaW5nLCBkZXBlbmRpbmcgb24gaXRzIHR5cGUuXG4gKlxuICogVXBsb2FkaW5nIG9mIGEgYmFzZSB0ZXh0dXJlIHRvIHRoZSBHUFUgaXMgcmVxdWlyZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xudmFyIFJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZXNvdXJjZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7IHdpZHRoID0gMDsgfVxuICAgICAgICBpZiAoaGVpZ2h0ID09PSB2b2lkIDApIHsgaGVpZ2h0ID0gMDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgd2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiByZXNvdXJjZSBoYXMgYmVlbiBkZXN0cm95ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHJlc291cmNlIGlzIGNyZWF0ZWQgYnkgQmFzZVRleHR1cmVcbiAgICAgICAgICogdXNlZnVsIGZvciBkb2luZyBjbGVhbnVwIHdpdGggQmFzZVRleHR1cmUgZGVzdHJveVxuICAgICAgICAgKiBhbmQgbm90IGNsZWFuaW5nIHVwIHJlc291cmNlcyB0aGF0IHdlcmUgY3JlYXRlZFxuICAgICAgICAgKiBleHRlcm5hbGx5LlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVybmFsID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaW5pLXJ1bm5lciBmb3IgaGFuZGxpbmcgcmVzaXplIGV2ZW50c1xuICAgICAgICAgKiBhY2NlcHRzIDIgcGFyYW1ldGVyczogd2lkdGgsIGhlaWdodFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSdW5uZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUmVzaXplID0gbmV3IFJ1bm5lcignc2V0UmVhbFNpemUnKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pbmktcnVubmVyIGZvciBoYW5kbGluZyB1cGRhdGUgZXZlbnRzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1J1bm5lcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25VcGRhdGUgPSBuZXcgUnVubmVyKCd1cGRhdGUnKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZSBpbnRlcm5hbCBlcnJvcnMsIHN1Y2ggYXMgbG9hZGluZyBlcnJvcnNcbiAgICAgICAgICogYWNjZXB0cyAxIHBhcmFtOiBlcnJvclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSdW5uZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBuZXcgUnVubmVyKCdvbkVycm9yJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJpbmQgdG8gYSBwYXJlbnQgQmFzZVRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBQYXJlbnQgdGV4dHVyZVxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHRoaXMub25SZXNpemUuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZS5hZGQoYmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLm9uRXJyb3IuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgLy8gQ2FsbCBhIHJlc2l6ZSBpbW1lZGlhdGUgaWYgd2UgYWxyZWFkeVxuICAgICAgICAvLyBoYXZlIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAgICBpZiAodGhpcy5fd2lkdGggfHwgdGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplLmVtaXQodGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuYmluZCB0byBhIHBhcmVudCBCYXNlVGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFBhcmVudCB0ZXh0dXJlXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICB0aGlzLm9uUmVzaXplLnJlbW92ZShiYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMub25VcGRhdGUucmVtb3ZlKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5vbkVycm9yLnJlbW92ZShiYXNlVGV4dHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIGEgcmVzaXplIGV2ZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gWCBkaW1lbnNpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gWSBkaW1lbnNpb25cbiAgICAgKi9cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKHdpZHRoICE9PSB0aGlzLl93aWR0aCB8fCBoZWlnaHQgIT09IHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIHRoaXMub25SZXNpemUuZW1pdCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc291cmNlLnByb3RvdHlwZSwgXCJ2YWxpZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYXMgYmVlbiB2YWxpZGF0ZWRcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhIXRoaXMuX3dpZHRoICYmICEhdGhpcy5faGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSGFzIGJlZW4gdXBkYXRlZCB0cmlnZ2VyIGV2ZW50XG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZS5lbWl0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2FuIGJlIG92ZXJyaWRkZW4gdG8gc3RhcnQgcHJlbG9hZGluZyBhIHJlc291cmNlXG4gICAgICogb3IgZG8gYW55IG90aGVyIHByZXBhcmUgc3RlcC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gSGFuZGxlIHRoZSB2YWxpZGF0ZSBldmVudFxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc291cmNlLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzb3VyY2UucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3R5bGUsIG9wdGlvbmFsIHRvIG92ZXJyaWRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0geWVhaCwgcmVuZGVyZXIhXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gdGV4dHVyZSBpbnN0YW5jZSBmb3IgdGhpcyB3ZWJnbCBjb250ZXh0XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLnN0eWxlID0gZnVuY3Rpb24gKF9yZW5kZXJlciwgX2Jhc2VUZXh0dXJlLCBfZ2xUZXh0dXJlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIGFueXRoaW5nLCB0aGlzIGhhcHBlbnMgd2hlbiBkZXN0cm95aW5nIGlzIHJlYWR5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBvdmVycmlkZVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbCB3aGVuIGRlc3Ryb3lpbmcgcmVzb3VyY2UsIHVuYmluZCBhbnkgQmFzZVRleHR1cmUgb2JqZWN0XG4gICAgICogYmVmb3JlIGNhbGxpbmcgdGhpcyBtZXRob2QsIGFzIHJlZmVyZW5jZSBjb3VudHMgYXJlIG1haW50YWluZWRcbiAgICAgKiBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMub25FcnJvci5yZW1vdmVBbGwoKTtcbiAgICAgICAgICAgIHRoaXMub25FcnJvciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplLnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlLnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFic3RyYWN0LCB1c2VkIHRvIGF1dG8tZGV0ZWN0IHJlc291cmNlIHR5cGVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbiAtIFRoZSBleHRlbnNpb24gb2Ygc291cmNlLCBpZiBzZXRcbiAgICAgKi9cbiAgICBSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gKF9zb3VyY2UsIF9leHRlbnNpb24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc291cmNlO1xufSgpKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIFNoYXJlZEFycmF5QnVmZmVyXG4gKi9cbi8qKlxuICogQnVmZmVyIHJlc291cmNlIHdpdGggZGF0YSBvZiB0eXBlZCBhcnJheS5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG52YXIgQnVmZmVyUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJ1ZmZlclJlc291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl8VWludDMyQXJyYXl9IHNvdXJjZSAtIFNvdXJjZSBidWZmZXJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIE9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy53aWR0aCAtIFdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gICAgICovXG4gICAgZnVuY3Rpb24gQnVmZmVyUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMgfHwge30sIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0J1ZmZlclJlc291cmNlIHdpZHRoIG9yIGhlaWdodCBpbnZhbGlkJyk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlIGFycmF5XG4gICAgICAgICAqIENhbm5vdCBiZSBDbGFtcGVkVWludDhBcnJheSBiZWNhdXNlIGl0IGNhbnQgYmUgdXBsb2FkZWQgdG8gV2ViR0xcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl8VWludDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kYXRhID0gc291cmNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgdGV4dHVyZSB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBVcGxvYWQgdG8gdGhlIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlZmVyZW5jZSB0byBwYXJlbnQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZSAtIGdsVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBCdWZmZXJSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuVU5QQUNLKTtcbiAgICAgICAgaWYgKGdsVGV4dHVyZS53aWR0aCA9PT0gYmFzZVRleHR1cmUud2lkdGggJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gYmFzZVRleHR1cmUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgMCwgMCwgYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCB0aGlzLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCwgYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgQnVmZmVyUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgPGNhbnZhcz5cbiAgICAgKi9cbiAgICBCdWZmZXJSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5XG4gICAgICAgICAgICB8fCBzb3VyY2UgaW5zdGFuY2VvZiBVaW50OEFycmF5XG4gICAgICAgICAgICB8fCBzb3VyY2UgaW5zdGFuY2VvZiBVaW50MzJBcnJheTtcbiAgICB9O1xuICAgIHJldHVybiBCdWZmZXJSZXNvdXJjZTtcbn0oUmVzb3VyY2UpKTtcblxudmFyIGRlZmF1bHRCdWZmZXJPcHRpb25zID0ge1xuICAgIHNjYWxlTW9kZTogU0NBTEVfTU9ERVMuTkVBUkVTVCxcbiAgICBmb3JtYXQ6IEZPUk1BVFMuUkdCQSxcbiAgICBhbHBoYU1vZGU6IEFMUEhBX01PREVTLk5QTSxcbn07XG4vKipcbiAqIEEgVGV4dHVyZSBzdG9yZXMgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVwcmVzZW50cyBhbiBpbWFnZS5cbiAqIEFsbCB0ZXh0dXJlcyBoYXZlIGEgYmFzZSB0ZXh0dXJlLCB3aGljaCBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgc291cmNlLlxuICogVGhlcmVmb3JlIHlvdSBjYW4gaGF2ZSBtYW55IHRleHR1cmVzIGFsbCB1c2luZyBhIHNpbmdsZSBCYXNlVGV4dHVyZVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcGFyYW0ge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfHN0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtyZXNvdXJjZT1udWxsXVxuICogICAgICAgIFRoZSBjdXJyZW50IHJlc291cmNlIHRvIHVzZSwgZm9yIHRoaW5ncyB0aGF0IGFyZW4ndCBSZXNvdXJjZSBvYmplY3RzLCB3aWxsIGJlIGNvbnZlcnRlZFxuICogICAgICAgIGludG8gYSBSZXNvdXJjZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBDb2xsZWN0aW9uIG9mIG9wdGlvbnNcbiAqIEBwYXJhbSB7UElYSS5NSVBNQVBfTU9ERVN9IFtvcHRpb25zLm1pcG1hcD1QSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU10gLSBJZiBtaXBtYXBwaW5nIGlzIGVuYWJsZWQgZm9yIHRleHR1cmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbmlzb3Ryb3BpY0xldmVsPVBJWEkuc2V0dGluZ3MuQU5JU09UUk9QSUNfTEVWRUxdIC0gQW5pc290cm9waWMgZmlsdGVyaW5nIGxldmVsIG9mIHRleHR1cmVcbiAqIEBwYXJhbSB7UElYSS5XUkFQX01PREVTfSBbb3B0aW9ucy53cmFwTW9kZT1QSVhJLnNldHRpbmdzLldSQVBfTU9ERV0gLSBXcmFwIG1vZGUgZm9yIHRleHR1cmVzXG4gKiBAcGFyYW0ge1BJWEkuU0NBTEVfTU9ERVN9IFtvcHRpb25zLnNjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gRGVmYXVsdCBzY2FsZSBtb2RlLCBsaW5lYXIsIG5lYXJlc3RcbiAqIEBwYXJhbSB7UElYSS5GT1JNQVRTfSBbb3B0aW9ucy5mb3JtYXQ9UElYSS5GT1JNQVRTLlJHQkFdIC0gR0wgZm9ybWF0IHR5cGVcbiAqIEBwYXJhbSB7UElYSS5UWVBFU30gW29wdGlvbnMudHlwZT1QSVhJLlRZUEVTLlVOU0lHTkVEX0JZVEVdIC0gR0wgZGF0YSB0eXBlXG4gKiBAcGFyYW0ge1BJWEkuVEFSR0VUU30gW29wdGlvbnMudGFyZ2V0PVBJWEkuVEFSR0VUUy5URVhUVVJFXzJEXSAtIEdMIHRleHR1cmUgdGFyZ2V0XG4gKiBAcGFyYW0ge1BJWEkuQUxQSEFfTU9ERVN9IFtvcHRpb25zLmFscGhhTW9kZT1QSVhJLkFMUEhBX01PREVTLlVOUEFDS10gLSBQcmUgbXVsdGlwbHkgdGhlIGltYWdlIGFscGhhXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MF0gLSBXaWR0aCBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD0wXSAtIEhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb25dIC0gUmVzb2x1dGlvbiBvZiB0aGUgYmFzZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMucmVzb3VyY2VPcHRpb25zXSAtIE9wdGlvbmFsIHJlc291cmNlIG9wdGlvbnMsXG4gKiAgICAgICAgc2VlIHtAbGluayBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2UgYXV0b0RldGVjdFJlc291cmNlfVxuICovXG52YXIgQmFzZVRleHR1cmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VUZXh0dXJlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJhc2VUZXh0dXJlKHJlc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChyZXNvdXJjZSA9PT0gdm9pZCAwKSB7IHJlc291cmNlID0gbnVsbDsgfVxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSBudWxsOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgYWxwaGFNb2RlID0gb3B0aW9ucy5hbHBoYU1vZGUsIG1pcG1hcCA9IG9wdGlvbnMubWlwbWFwLCBhbmlzb3Ryb3BpY0xldmVsID0gb3B0aW9ucy5hbmlzb3Ryb3BpY0xldmVsLCBzY2FsZU1vZGUgPSBvcHRpb25zLnNjYWxlTW9kZSwgd2lkdGggPSBvcHRpb25zLndpZHRoLCBoZWlnaHQgPSBvcHRpb25zLmhlaWdodCwgd3JhcE1vZGUgPSBvcHRpb25zLndyYXBNb2RlLCBmb3JtYXQgPSBvcHRpb25zLmZvcm1hdCwgdHlwZSA9IG9wdGlvbnMudHlwZSwgdGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQsIHJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb24sIHJlc291cmNlT3B0aW9ucyA9IG9wdGlvbnMucmVzb3VyY2VPcHRpb25zO1xuICAgICAgICAvLyBDb252ZXJ0IHRoZSByZXNvdXJjZSB0byBhIFJlc291cmNlIG9iamVjdFxuICAgICAgICBpZiAocmVzb3VyY2UgJiYgIShyZXNvdXJjZSBpbnN0YW5jZW9mIFJlc291cmNlKSkge1xuICAgICAgICAgICAgcmVzb3VyY2UgPSBhdXRvRGV0ZWN0UmVzb3VyY2UocmVzb3VyY2UsIHJlc291cmNlT3B0aW9ucyk7XG4gICAgICAgICAgICByZXNvdXJjZS5pbnRlcm5hbCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgYmFzZSB0ZXh0dXJlIHNldCB3aGVuIHRoZSBpbWFnZSBoYXMgbG9hZGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53aWR0aCA9IHdpZHRoIHx8IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhlaWdodCA9IGhlaWdodCB8fCAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlJFU09MVVRJT05cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaXBtYXAgbW9kZSBvZiB0aGUgdGV4dHVyZSwgYWZmZWN0cyBkb3duc2NhbGVkIGltYWdlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1JUE1BUF9NT0RFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1pcG1hcCA9IG1pcG1hcCAhPT0gdW5kZWZpbmVkID8gbWlwbWFwIDogc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW5pc290cm9waWMgZmlsdGVyaW5nIGxldmVsIG9mIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLkFOSVNPVFJPUElDX0xFVkVMXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmlzb3Ryb3BpY0xldmVsID0gYW5pc290cm9waWNMZXZlbCAhPT0gdW5kZWZpbmVkID8gYW5pc290cm9waWNMZXZlbCA6IHNldHRpbmdzLkFOSVNPVFJPUElDX0xFVkVMO1xuICAgICAgICAvKipcbiAgICAgICAgICogSG93IHRoZSB0ZXh0dXJlIHdyYXBzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndyYXBNb2RlID0gd3JhcE1vZGUgfHwgc2V0dGluZ3MuV1JBUF9NT0RFO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIG1vZGUgdG8gYXBwbHkgd2hlbiBzY2FsaW5nIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNDQUxFX01PREVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlNDQUxFX01PREVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNjYWxlTW9kZSA9IHNjYWxlTW9kZSAhPT0gdW5kZWZpbmVkID8gc2NhbGVNb2RlIDogc2V0dGluZ3MuU0NBTEVfTU9ERTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwaXhlbCBmb3JtYXQgb2YgdGhlIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GT1JNQVRTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkZPUk1BVFMuUkdCQVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZm9ybWF0ID0gZm9ybWF0IHx8IEZPUk1BVFMuUkdCQTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHJlc291cmNlIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UWVBFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UWVBFUy5VTlNJR05FRF9CWVRFXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50eXBlID0gdHlwZSB8fCBUWVBFUy5VTlNJR05FRF9CWVRFO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRhcmdldCB0eXBlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVEFSR0VUU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UQVJHRVRTLlRFWFRVUkVfMkRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRhcmdldCA9IHRhcmdldCB8fCBUQVJHRVRTLlRFWFRVUkVfMkQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgdG8gdHJlYXQgcHJlbXVsdGlwbGllZCBhbHBoYSwgc2VlIHtAbGluayBQSVhJLkFMUEhBX01PREVTfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5BTFBIQV9NT0RFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5BTFBIQV9NT0RFUy5VTlBBQ0tcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFscGhhTW9kZSA9IGFscGhhTW9kZSAhPT0gdW5kZWZpbmVkID8gYWxwaGFNb2RlIDogQUxQSEFfTU9ERVMuVU5QQUNLO1xuICAgICAgICBpZiAob3B0aW9ucy5wcmVtdWx0aXBseUFscGhhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIHRyaWdnZXJzIGRlcHJlY2F0aW9uXG4gICAgICAgICAgICBfdGhpcy5wcmVtdWx0aXBseUFscGhhID0gb3B0aW9ucy5wcmVtdWx0aXBseUFscGhhO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHbG9iYWwgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgQmFzZVRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51aWQgPSB1aWQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYnkgYXV0b21hdGljIHRleHR1cmUgR2FyYmFnZSBDb2xsZWN0aW9uLCBzdG9yZXMgbGFzdCBHQyB0aWNrIHdoZW4gaXQgd2FzIGJvdW5kXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG91Y2hlZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgdGV4dHVyZSBpcyBhIHBvd2VyIG9mIHR3bywgdHJ5IHRvIHVzZSBwb3dlciBvZiB0d28gdGV4dHVyZXMgYXMgbXVjaFxuICAgICAgICAgKiBhcyB5b3UgY2FuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXNQb3dlck9mVHdvID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9yZWZyZXNoUE9UKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFwIG9mIHJlbmRlciBjb250ZXh0IHRleHR1cmVzIHdoZXJlIHRoaXMgaXMgYm91bmRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2dsVGV4dHVyZXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYnkgVGV4dHVyZVN5c3RlbSB0byBvbmx5IHVwZGF0ZSB0ZXh0dXJlIHRvIHRoZSBHUFUgd2hlbiBuZWVkZWQuXG4gICAgICAgICAqIFBsZWFzZSBjYWxsIGB1cGRhdGUoKWAgdG8gaW5jcmVtZW50IGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGlydHlJZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGJ5IFRleHR1cmVTeXN0ZW0gdG8gb25seSB1cGRhdGUgdGV4dHVyZSBzdHlsZSB3aGVuIG5lZWRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kaXJ0eVN0eWxlSWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudGx5IGRlZmF1bHQgY2FjaGUgSUQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhY2hlSWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2VuZXJhbGx5IHNwZWFraW5nIG1lYW5zIHdoZW4gcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZhbGlkID0gd2lkdGggPiAwICYmIGhlaWdodCA+IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBhbHRlcm5hdGl2ZSBjYWNoZSBpZHMsIHNpbmNlIHNvbWUgQmFzZVRleHR1cmVzXG4gICAgICAgICAqIGNhbiBoYXZlIG1vcmUgdGhhbiBvbmUgSUQsIHNob3J0IG5hbWUgYW5kIGxvbmdlciBmdWxsIFVSTFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxzdHJpbmc+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVDYWNoZUlkcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZyBpZiBCYXNlVGV4dHVyZSBoYXMgYmVlbiBkZXN0cm95ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb3VyY2UgdXNlZCBieSB0aGlzIEJhc2VUZXh0dXJlLCB0aGVyZSBjYW4gb25seVxuICAgICAgICAgKiBiZSBvbmUgcmVzb3VyY2UgcGVyIEJhc2VUZXh0dXJlLCBidXQgdGV4dHVyZXMgY2FuIHNoYXJlXG4gICAgICAgICAqIHJlc291cmNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb3VyY2UgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIHRoZSB0ZXh0dXJlIGJhdGNoLCB1c2VkIGJ5IG11bHRpLXRleHR1cmUgcmVuZGVyZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9iYXRjaEVuYWJsZWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogTG9jYXRpb24gaW5zaWRlIHRleHR1cmUgYmF0Y2gsIHVzZWQgYnkgbXVsdGktdGV4dHVyZSByZW5kZXJlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhdGNoTG9jYXRpb24gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBpdHMgYSBwYXJ0IG9mIGFub3RoZXIgdGV4dHVyZSwgaGFuZGxlZCBieSBBcnJheVJlc291cmNlIG9yIEN1YmVSZXNvdXJjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGFyZW50VGV4dHVyZUFycmF5ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBub3QtaW1tZWRpYXRlbHktYXZhaWxhYmxlIHNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2xvYWRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVzb3VyY2UgbG9hZGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBub3QtaW1tZWRpYXRlbHktYXZhaWxhYmxlIHNvdXJjZSBmYWlscyB0byBsb2FkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2Vycm9yXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBlcnJvcmVkLlxuICAgICAgICAgKiBAcGFyYW0ge0Vycm9yRXZlbnR9IGV2ZW50IC0gTG9hZCBlcnJvciBldmVudC5cbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjbG9hZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBsb2FkZWQuXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI3VwZGF0ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyB1cGRhdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgZGVzdHJveWVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2Rpc3Bvc2VcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEluc3RhbmNlIG9mIHRleHR1cmUgYmVpbmcgZGVzdHJveWVkLlxuICAgICAgICAgKi9cbiAgICAgICAgLy8gU2V0IHRoZSByZXNvdXJjZVxuICAgICAgICBfdGhpcy5zZXRSZXNvdXJjZShyZXNvdXJjZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VUZXh0dXJlLnByb3RvdHlwZSwgXCJyZWFsV2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUGl4ZWwgd2lkdGggb2YgdGhlIHNvdXJjZSBvZiB0aGlzIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguY2VpbCgodGhpcy53aWR0aCAqIHRoaXMucmVzb2x1dGlvbikgLSAxZS00KTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlVGV4dHVyZS5wcm90b3R5cGUsIFwicmVhbEhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQaXhlbCBoZWlnaHQgb2YgdGhlIHNvdXJjZSBvZiB0aGlzIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguY2VpbCgodGhpcy5oZWlnaHQgKiB0aGlzLnJlc29sdXRpb24pIC0gMWUtNCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHN0eWxlIG9wdGlvbnMgb2YgQmFzZVRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW3NjYWxlTW9kZV0gLSBQaXhpIHNjYWxlbW9kZVxuICAgICAqIEBwYXJhbSB7UElYSS5NSVBNQVBfTU9ERVN9IFttaXBtYXBdIC0gZW5hYmxlIG1pcG1hcHNcbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIChzY2FsZU1vZGUsIG1pcG1hcCkge1xuICAgICAgICB2YXIgZGlydHk7XG4gICAgICAgIGlmIChzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCAmJiBzY2FsZU1vZGUgIT09IHRoaXMuc2NhbGVNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlTW9kZSA9IHNjYWxlTW9kZTtcbiAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWlwbWFwICE9PSB1bmRlZmluZWQgJiYgbWlwbWFwICE9PSB0aGlzLm1pcG1hcCkge1xuICAgICAgICAgICAgdGhpcy5taXBtYXAgPSBtaXBtYXA7XG4gICAgICAgICAgICBkaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB3L2gvcmVzb2x1dGlvbi4gVGV4dHVyZSBiZWNvbWVzIHZhbGlkIGlmIHdpZHRoIGFuZCBoZWlnaHQgYXJlIGdyZWF0ZXIgdGhhbiB6ZXJvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVmlzdWFsIHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFZpc3VhbCBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIC0gT3B0aW9uYWxseSBzZXQgcmVzb2x1dGlvblxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgcmVhbCBzaXplIG9mIGJhc2VUZXh0dXJlLCBwcmVzZXJ2ZXMgY3VycmVudCByZXNvbHV0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlYWxXaWR0aCAtIEZ1bGwgcmVuZGVyZWQgd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbEhlaWdodCAtIEZ1bGwgcmVuZGVyZWQgaGVpZ2h0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSAtIE9wdGlvbmFsbHkgc2V0IHJlc29sdXRpb25cbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRSZWFsU2l6ZSA9IGZ1bmN0aW9uIChyZWFsV2lkdGgsIHJlYWxIZWlnaHQsIHJlc29sdXRpb24pIHtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMud2lkdGggPSByZWFsV2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcmVhbEhlaWdodCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZnJlc2ggY2hlY2sgZm9yIGlzUG93ZXJPZlR3byB0ZXh0dXJlIGJhc2VkIG9uIHNpemVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl9yZWZyZXNoUE9UID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlzUG93ZXJPZlR3byA9IGlzUG93Mih0aGlzLnJlYWxXaWR0aCkgJiYgaXNQb3cyKHRoaXMucmVhbEhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHJlc29sdXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gcmVzXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChyZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciBvbGRSZXNvbHV0aW9uID0gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICBpZiAob2xkUmVzb2x1dGlvbiA9PT0gcmVzb2x1dGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKHRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLndpZHRoICogb2xkUmVzb2x1dGlvbiAvIHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICogb2xkUmVzb2x1dGlvbiAvIHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlZnJlc2hQT1QoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSByZXNvdXJjZSBpZiBpdCB3YXNuJ3Qgc2V0LiBUaHJvd3MgZXJyb3IgaWYgcmVzb3VyY2UgYWxyZWFkeSBwcmVzZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfSByZXNvdXJjZSAtIHRoYXQgaXMgbWFuYWdpbmcgdGhpcyBCYXNlVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFJlc291cmNlID0gZnVuY3Rpb24gKHJlc291cmNlKSB7XG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlID09PSByZXNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVzb3VyY2UgY2FuIGJlIHNldCBvbmx5IG9uY2UnKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvdXJjZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlc291cmNlID0gcmVzb3VyY2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW52YWxpZGF0ZXMgdGhlIG9iamVjdC4gVGV4dHVyZSBiZWNvbWVzIHZhbGlkIGlmIHdpZHRoIGFuZCBoZWlnaHQgYXJlIGdyZWF0ZXIgdGhhbiB6ZXJvLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy52YWxpZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMud2lkdGggPiAwICYmIHRoaXMuaGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnbG9hZGVkJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eVN0eWxlSWQrKztcbiAgICAgICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBlcnJvcnMgd2l0aCByZXNvdXJjZXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Vycm9yRXZlbnR9IGV2ZW50IC0gRXJyb3IgZXZlbnQgZW1pdHRlZC5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgdGhpcywgZXZlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBiYXNlIHRleHR1cmUuXG4gICAgICogVGhlIG1ldGhvZCBzdG9wcyBpZiByZXNvdXJjZSBkb2Vzbid0IHdhbnQgdGhpcyB0ZXh0dXJlIHRvIGJlIGRlc3Ryb3llZC5cbiAgICAgKiBSZW1vdmVzIHRleHR1cmUgZnJvbSBhbGwgY2FjaGVzLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyByZW1vdmUgYW5kIGRlc3Ryb3kgdGhlIHJlc291cmNlXG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlLnVuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIC8vIG9ubHkgZGVzdHJveSByZXNvdXJjZWQgY3JlYXRlZCBpbnRlcm5hbGx5XG4gICAgICAgICAgICBpZiAodGhpcy5yZXNvdXJjZS5pbnRlcm5hbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzb3VyY2UuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2FjaGVJZCkge1xuICAgICAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVbdGhpcy5jYWNoZUlkXTtcbiAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGhpcy5jYWNoZUlkXTtcbiAgICAgICAgICAgIHRoaXMuY2FjaGVJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmluYWxseSBsZXQgdGhlIFdlYkdMIHJlbmRlcmVyIGtub3cuLlxuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IG51bGw7XG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZyZWVzIHRoZSB0ZXh0dXJlIGZyb20gV2ViR0wgbWVtb3J5IHdpdGhvdXQgZGVzdHJveWluZyB0aGlzIHRleHR1cmUgb2JqZWN0LlxuICAgICAqIFRoaXMgbWVhbnMgeW91IGNhbiBzdGlsbCB1c2UgdGhlIHRleHR1cmUgbGF0ZXIgd2hpY2ggd2lsbCB1cGxvYWQgaXQgdG8gR1BVXG4gICAgICogbWVtb3J5IGFnYWluLlxuICAgICAqXG4gICAgICogQGZpcmVzIFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVtaXQoJ2Rpc3Bvc2UnLCB0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFV0aWxpdHkgZnVuY3Rpb24gZm9yIEJhc2VUZXh0dXJlfFRleHR1cmUgY2FzdFxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5jYXN0VG9CYXNlVGV4dHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgYmFzZSB0ZXh0dXJlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBpbWFnZSB1cmwsIGltYWdlIGVsZW1lbnQsIGNhbnZhcyBlbGVtZW50LiBJZiB0aGVcbiAgICAgKiBzb3VyY2UgaXMgYW4gaW1hZ2UgdXJsIG9yIGFuIGltYWdlIGVsZW1lbnQgYW5kIG5vdCBpbiB0aGUgYmFzZSB0ZXh0dXJlXG4gICAgICogY2FjaGUsIGl0IHdpbGwgYmUgY3JlYXRlZCBhbmQgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8U1ZHRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgLSBUaGVcbiAgICAgKiAgICAgICAgc291cmNlIHRvIGNyZWF0ZSBiYXNlIHRleHR1cmUgZnJvbS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHJpY3RdIC0gRW5mb3JjZSBzdHJpY3QtbW9kZSwgc2VlIHtAbGluayBQSVhJLnNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFfS5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gVGhlIG5ldyBiYXNlIHRleHR1cmUuXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuZnJvbSA9IGZ1bmN0aW9uIChzb3VyY2UsIG9wdGlvbnMsIHN0cmljdCkge1xuICAgICAgICBpZiAoc3RyaWN0ID09PSB2b2lkIDApIHsgc3RyaWN0ID0gc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEU7IH1cbiAgICAgICAgdmFyIGlzRnJhbWUgPSB0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJztcbiAgICAgICAgdmFyIGNhY2hlSWQgPSBudWxsO1xuICAgICAgICBpZiAoaXNGcmFtZSkge1xuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghc291cmNlLl9waXhpSWQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UuX3BpeGlJZCA9IFwicGl4aWlkX1wiICsgdWlkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlLl9waXhpSWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gQmFzZVRleHR1cmVDYWNoZVtjYWNoZUlkXTtcbiAgICAgICAgLy8gU3RyaWN0LW1vZGUgcmVqZWN0cyBpbnZhbGlkIGNhY2hlSWRzXG4gICAgICAgIGlmIChpc0ZyYW1lICYmIHN0cmljdCAmJiAhYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBjYWNoZUlkIFxcXCJcIiArIGNhY2hlSWQgKyBcIlxcXCIgZG9lcyBub3QgZXhpc3QgaW4gQmFzZVRleHR1cmVDYWNoZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoc291cmNlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLmNhY2hlSWQgPSBjYWNoZUlkO1xuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEJhc2VUZXh0dXJlIHdpdGggYSBCdWZmZXJSZXNvdXJjZSBmcm9tIGEgRmxvYXQzMkFycmF5LlxuICAgICAqIFJHQkEgdmFsdWVzIGFyZSBmbG9hdHMgZnJvbSAwIHRvIDEuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl9IGJ1ZmZlciAtIFRoZSBvcHRpb25hbCBhcnJheSB0byB1c2UsIGlmIG5vIGRhdGFcbiAgICAgKiAgICAgICAgaXMgcHJvdmlkZWQsIGEgbmV3IEZsb2F0MzJBcnJheSBpcyBjcmVhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZX0gVGhlIHJlc3VsdGluZyBuZXcgQmFzZVRleHR1cmVcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5mcm9tQnVmZmVyID0gZnVuY3Rpb24gKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xuICAgICAgICBidWZmZXIgPSBidWZmZXIgfHwgbmV3IEZsb2F0MzJBcnJheSh3aWR0aCAqIGhlaWdodCAqIDQpO1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSBuZXcgQnVmZmVyUmVzb3VyY2UoYnVmZmVyLCB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSk7XG4gICAgICAgIHZhciB0eXBlID0gYnVmZmVyIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5ID8gVFlQRVMuRkxPQVQgOiBUWVBFUy5VTlNJR05FRF9CWVRFO1xuICAgICAgICByZXR1cm4gbmV3IEJhc2VUZXh0dXJlKHJlc291cmNlLCBPYmplY3QuYXNzaWduKGRlZmF1bHRCdWZmZXJPcHRpb25zLCBvcHRpb25zIHx8IHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCwgdHlwZTogdHlwZSB9KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgQmFzZVRleHR1cmUgdG8gdGhlIGdsb2JhbCBCYXNlVGV4dHVyZUNhY2hlLiBUaGlzIGNhY2hlIGlzIHNoYXJlZCBhY3Jvc3MgdGhlIHdob2xlIFBJWEkgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgQmFzZVRleHR1cmUgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgdGhhdCB0aGUgQmFzZVRleHR1cmUgd2lsbCBiZSBzdG9yZWQgYWdhaW5zdC5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlLCBpZCkge1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihpZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEJhc2VUZXh0dXJlQ2FjaGVbaWRdKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJCYXNlVGV4dHVyZSBhZGRlZCB0byB0aGUgY2FjaGUgd2l0aCBhbiBpZCBbXCIgKyBpZCArIFwiXSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQmFzZVRleHR1cmVDYWNoZVtpZF0gPSBiYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgQmFzZVRleHR1cmUgZnJvbSB0aGUgZ2xvYmFsIEJhc2VUZXh0dXJlQ2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBpZCBvZiBhIEJhc2VUZXh0dXJlIHRvIGJlIHJlbW92ZWQsIG9yIGEgQmFzZVRleHR1cmUgaW5zdGFuY2UgaXRzZWxmLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV8bnVsbH0gVGhlIEJhc2VUZXh0dXJlIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYmFzZVRleHR1cmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmVGcm9tQ2FjaGUgPSBCYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlXTtcbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZUZyb21DYWNoZSkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVdO1xuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlVGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiYXNlVGV4dHVyZSAmJiBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2xvYmFsIG51bWJlciBvZiB0aGUgdGV4dHVyZSBiYXRjaCwgdXNlZCBieSBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyc1xuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSAwO1xuICAgIHJldHVybiBCYXNlVGV4dHVyZTtcbn0oRXZlbnRFbWl0dGVyKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgdGhhdCBjYW4gbWFuYWdlIHNldmVyYWwgcmVzb3VyY2UgKGl0ZW1zKSBpbnNpZGUuXG4gKiBBbGwgcmVzb3VyY2VzIG5lZWQgdG8gaGF2ZSB0aGUgc2FtZSBwaXhlbCBzaXplLlxuICogUGFyZW50IGNsYXNzIGZvciBDdWJlUmVzb3VyY2UgYW5kIEFycmF5UmVzb3VyY2VcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLlJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyB0byBmb3IgUmVzb3VyY2UgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICovXG52YXIgQWJzdHJhY3RNdWx0aVJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBYnN0cmFjdE11bHRpUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNdWx0aVJlc291cmNlKGxlbmd0aCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSBvcHRpb25zIHx8IHt9LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgcGFydGlhbCBiYXNlVGV4dHVyZXMgdGhhdCBjb3JyZXNwb25kIHRvIHJlc291cmNlc1xuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxQSVhJLkJhc2VUZXh0dXJlPn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pdGVtcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlydHkgSURzIGZvciBlYWNoIHBhcnRcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pdGVtRGlydHlJZHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhcnRUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKCk7XG4gICAgICAgICAgICBfdGhpcy5pdGVtcy5wdXNoKHBhcnRUZXh0dXJlKTtcbiAgICAgICAgICAgIC8vIC0yIC0gZmlyc3QgcnVuIG9mIHRleHR1cmUgYXJyYXkgdXBsb2FkXG4gICAgICAgICAgICAvLyAtMSAtIHRleHR1cmUgaXRlbSB3YXMgYWxsb2NhdGVkXG4gICAgICAgICAgICAvLyA+PTAgLSB0ZXh0dXJlIGl0ZW0gdXBsb2FkZWQgLCBpbiBzeW5jIHdpdGggaXRlbXNbaV0uZGlydHlJZFxuICAgICAgICAgICAgX3RoaXMuaXRlbURpcnR5SWRzLnB1c2goLTIpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgZWxlbWVudHMgaW4gYXJyYXlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2V9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sb2FkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvdW5kIGJhc2VUZXh0dXJlLCB0aGVyZSBjYW4gb25seSBiZSBvbmVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1c2VkIGZyb20gQXJyYXlSZXNvdXJjZSBhbmQgQ3ViZVJlc291cmNlIGNvbnN0cnVjdG9yc1xuICAgICAqIEBwYXJhbSB7QXJyYXk8Kj59IHJlc291cmNlcyAtIENhbiBiZSByZXNvdXJjZXMsIGltYWdlIGVsZW1lbnRzLCBjYW52YXMsIGV0Yy4gLFxuICAgICAqICBsZW5ndGggc2hvdWxkIGJlIHNhbWUgYXMgY29uc3RydWN0b3IgbGVuZ3RoXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIGRldGVjdCBvcHRpb25zIGZvciByZXNvdXJjZXNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQWJzdHJhY3RNdWx0aVJlc291cmNlLnByb3RvdHlwZS5pbml0RnJvbUFycmF5ID0gZnVuY3Rpb24gKHJlc291cmNlcywgb3B0aW9ucykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghcmVzb3VyY2VzW2ldKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzW2ldLmNhc3RUb0Jhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRCYXNlVGV4dHVyZUF0KHJlc291cmNlc1tpXS5jYXN0VG9CYXNlVGV4dHVyZSgpLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJlc291cmNlc1tpXSBpbnN0YW5jZW9mIFJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KHJlc291cmNlc1tpXSwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFJlc291cmNlQXQoYXV0b0RldGVjdFJlc291cmNlKHJlc291cmNlc1tpXSwgb3B0aW9ucyksIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoaXMgQmFzZUltYWdlUmVzb3VyY2VcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLml0ZW1zID0gbnVsbDtcbiAgICAgICAgdGhpcy5pdGVtRGlydHlJZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCBhIHJlc291cmNlIGJ5IElEXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFplcm8tYmFzZWQgaW5kZXggb2YgcmVzb3VyY2UgdG8gc2V0XG4gICAgICogQHJldHVybiB7UElYSS5yZXNvdXJjZXMuQXJyYXlSZXNvdXJjZX0gSW5zdGFuY2UgZm9yIGNoYWluaW5nXG4gICAgICovXG4gICAgQWJzdHJhY3RNdWx0aVJlc291cmNlLnByb3RvdHlwZS5hZGRSZXNvdXJjZUF0ID0gZnVuY3Rpb24gKHJlc291cmNlLCBpbmRleCkge1xuICAgICAgICBpZiAoIXRoaXMuaXRlbXNbaW5kZXhdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmRleCBcIiArIGluZGV4ICsgXCIgaXMgb3V0IG9mIGJvdW5kc1wiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbmhlcml0IHRoZSBmaXJzdCByZXNvdXJjZSBkaW1lbnNpb25zXG4gICAgICAgIGlmIChyZXNvdXJjZS52YWxpZCAmJiAhdGhpcy52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5yZXNpemUocmVzb3VyY2Uud2lkdGgsIHJlc291cmNlLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pdGVtc1tpbmRleF0uc2V0UmVzb3VyY2UocmVzb3VyY2UpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcGFyZW50IGJhc2UgdGV4dHVyZVxuICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgQWJzdHJhY3RNdWx0aVJlc291cmNlLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmICh0aGlzLmJhc2VUZXh0dXJlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgb25lIGJhc2UgdGV4dHVyZSBwZXIgVGV4dHVyZUFycmF5IGlzIGFsbG93ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5wYXJlbnRUZXh0dXJlQXJyYXkgPSBiYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0ub24oJ3VwZGF0ZScsIGJhc2VUZXh0dXJlLnVwZGF0ZSwgYmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbnNldCB0aGUgcGFyZW50IGJhc2UgdGV4dHVyZVxuICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgQWJzdHJhY3RNdWx0aVJlc291cmNlLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bmJpbmQuY2FsbCh0aGlzLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5wYXJlbnRUZXh0dXJlQXJyYXkgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5vZmYoJ3VwZGF0ZScsIGJhc2VUZXh0dXJlLnVwZGF0ZSwgYmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkIGFsbCB0aGUgcmVzb3VyY2VzIHNpbXVsdGFuZW91c2x5XG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gV2hlbiBsb2FkIGlzIHJlc29sdmVkXG4gICAgICovXG4gICAgQWJzdHJhY3RNdWx0aVJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fbG9hZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc291cmNlcyA9IHRoaXMuaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtLnJlc291cmNlOyB9KS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW07IH0pO1xuICAgICAgICAvLyBUT0RPOiBhbHNvIGltcGxlbWVudCBsb2FkIHBhcnQtYnktcGFydCBzdHJhdGVneVxuICAgICAgICB2YXIgcHJvbWlzZXMgPSByZXNvdXJjZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtLmxvYWQoKTsgfSk7XG4gICAgICAgIHRoaXMuX2xvYWQgPSBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLml0ZW1zWzBdLCByZWFsV2lkdGggPSBfYS5yZWFsV2lkdGgsIHJlYWxIZWlnaHQgPSBfYS5yZWFsSGVpZ2h0O1xuICAgICAgICAgICAgX3RoaXMucmVzaXplKHJlYWxXaWR0aCwgcmVhbEhlaWdodCk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKF90aGlzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0TXVsdGlSZXNvdXJjZTtcbn0oUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBBIHJlc291cmNlIHRoYXQgY29udGFpbnMgYSBudW1iZXIgb2Ygc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLlJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7bnVtYmVyfEFycmF5PCo+fSBzb3VyY2UgLSBOdW1iZXIgb2YgaXRlbXMgaW4gYXJyYXkgb3IgdGhlIGNvbGxlY3Rpb25cbiAqICAgICAgICBvZiBpbWFnZSBVUkxzIHRvIHVzZS4gQ2FuIGFsc28gYmUgcmVzb3VyY2VzLCBpbWFnZSBlbGVtZW50cywgY2FudmFzLCBldGMuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucyB0byBhcHBseSB0byB7QGxpbmsgUElYSS5yZXNvdXJjZXMuYXV0b0RldGVjdFJlc291cmNlfVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gLSBIZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gKi9cbnZhciBBcnJheVJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBcnJheVJlc291cmNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFycmF5UmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMgfHwge30sIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgdmFyIHVybHM7XG4gICAgICAgIHZhciBsZW5ndGg7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgICAgIHVybHMgPSBzb3VyY2U7XG4gICAgICAgICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGVuZ3RoID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbGVuZ3RoLCB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSkgfHwgdGhpcztcbiAgICAgICAgaWYgKHVybHMpIHtcbiAgICAgICAgICAgIF90aGlzLmluaXRGcm9tQXJyYXkodXJscywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYSBiYXNlVGV4dHVyZSBieSBJRCxcbiAgICAgKiBBcnJheVJlc291cmNlIGp1c3QgdGFrZXMgcmVzb3VyY2UgZnJvbSBpdCwgbm90aGluZyBtb3JlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gWmVyby1iYXNlZCBpbmRleCBvZiByZXNvdXJjZSB0byBzZXRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLnJlc291cmNlcy5BcnJheVJlc291cmNlfSBJbnN0YW5jZSBmb3IgY2hhaW5pbmdcbiAgICAgKi9cbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS5hZGRCYXNlVGV4dHVyZUF0ID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlLCBpbmRleCkge1xuICAgICAgICBpZiAoYmFzZVRleHR1cmUucmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkUmVzb3VyY2VBdChiYXNlVGV4dHVyZS5yZXNvdXJjZSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcnJheVJlc291cmNlIGRvZXMgbm90IHN1cHBvcnQgUmVuZGVyVGV4dHVyZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGJpbmRpbmdcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcywgYmFzZVRleHR1cmUpO1xuICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfMkRfQVJSQVk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHJlc291cmNlcyB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciB0ZXh0dXJlIHdhcyB1cGxvYWRlZFxuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGxlbmd0aCA9IF9hLmxlbmd0aCwgaXRlbURpcnR5SWRzID0gX2EuaXRlbURpcnR5SWRzLCBpdGVtcyA9IF9hLml0ZW1zO1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgaWYgKGdsVGV4dHVyZS5kaXJ0eUlkIDwgMCkge1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UzRChnbC5URVhUVVJFXzJEX0FSUkFZLCAwLCB0ZXh0dXJlLmZvcm1hdCwgdGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCwgbGVuZ3RoLCAwLCB0ZXh0dXJlLmZvcm1hdCwgdGV4dHVyZS50eXBlLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgICAgICAgaWYgKGl0ZW1EaXJ0eUlkc1tpXSA8IGl0ZW0uZGlydHlJZCkge1xuICAgICAgICAgICAgICAgIGl0ZW1EaXJ0eUlkc1tpXSA9IGl0ZW0uZGlydHlJZDtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS52YWxpZCkge1xuICAgICAgICAgICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTNEKGdsLlRFWFRVUkVfMkRfQVJSQVksIDAsIDAsIC8vIHhvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgMCwgLy8geW9mZnNldFxuICAgICAgICAgICAgICAgICAgICBpLCAvLyB6b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVzb3VyY2Uud2lkdGgsIGl0ZW0ucmVzb3VyY2UuaGVpZ2h0LCAxLCB0ZXh0dXJlLmZvcm1hdCwgdGV4dHVyZS50eXBlLCBpdGVtLnJlc291cmNlLnNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIEFycmF5UmVzb3VyY2U7XG59KEFic3RyYWN0TXVsdGlSZXNvdXJjZSkpO1xuXG4vKipcbiAqIEJhc2UgZm9yIGFsbCB0aGUgaW1hZ2UvY2FudmFzIHJlc291cmNlc1xuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbnZhciBCYXNlSW1hZ2VSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFzZUltYWdlUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8U1ZHRWxlbWVudH0gc291cmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZUltYWdlUmVzb3VyY2Uoc291cmNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzb3VyY2VBbnkgPSBzb3VyY2U7XG4gICAgICAgIHZhciB3aWR0aCA9IHNvdXJjZUFueS5uYXR1cmFsV2lkdGggfHwgc291cmNlQW55LnZpZGVvV2lkdGggfHwgc291cmNlQW55LndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gc291cmNlQW55Lm5hdHVyYWxIZWlnaHQgfHwgc291cmNlQW55LnZpZGVvSGVpZ2h0IHx8IHNvdXJjZUFueS5oZWlnaHQ7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzb3VyY2UgZWxlbWVudFxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8U1ZHRWxlbWVudH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBzZXQgdG8gYHRydWVgLCB3aWxsIGZvcmNlIGB0ZXhJbWFnZTJEYCBvdmVyIGB0ZXhTdWJJbWFnZTJEYCBmb3IgdXBsb2FkaW5nLlxuICAgICAgICAgKiBDZXJ0YWluIHR5cGVzIG9mIG1lZGlhIChlLmcuIHZpZGVvKSB1c2luZyBgdGV4SW1hZ2UyRGAgaXMgbW9yZSBwZXJmb3JtYW50LlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubm9TdWJJbWFnZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBjcm9zcyBvcmlnaW4gYmFzZWQgZGV0ZWN0aW5nIHRoZSB1cmwgYW5kIHRoZSBjcm9zc29yaWdpblxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byBhcHBseSBjcm9zc09yaWdpblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVUkwgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW58c3RyaW5nfSBbY3Jvc3NvcmlnaW49dHJ1ZV0gLSBDcm9zcyBvcmlnaW4gdmFsdWUgdG8gdXNlXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4gPSBmdW5jdGlvbiAoZWxlbWVudCwgdXJsLCBjcm9zc29yaWdpbikge1xuICAgICAgICBpZiAoY3Jvc3NvcmlnaW4gPT09IHVuZGVmaW5lZCAmJiB1cmwuaW5kZXhPZignZGF0YTonKSAhPT0gMCkge1xuICAgICAgICAgICAgZWxlbWVudC5jcm9zc09yaWdpbiA9IGRldGVybWluZUNyb3NzT3JpZ2luKHVybCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3Jvc3NvcmlnaW4gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNyb3NzT3JpZ2luID0gdHlwZW9mIGNyb3Nzb3JpZ2luID09PSAnc3RyaW5nJyA/IGNyb3Nzb3JpZ2luIDogJ2Fub255bW91cyc7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgdGV4dHVyZSB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBVcGxvYWQgdG8gdGhlIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlZmVyZW5jZSB0byBwYXJlbnQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9IFtzb3VyY2VdIChvcHRpb25hbClcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSwgc291cmNlKSB7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgd2lkdGggPSBiYXNlVGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBiYXNlVGV4dHVyZS5yZWFsSGVpZ2h0O1xuICAgICAgICBzb3VyY2UgPSBzb3VyY2UgfHwgdGhpcy5zb3VyY2U7XG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0spO1xuICAgICAgICBpZiAoIXRoaXMubm9TdWJJbWFnZVxuICAgICAgICAgICAgJiYgYmFzZVRleHR1cmUudGFyZ2V0ID09PSBnbC5URVhUVVJFXzJEXG4gICAgICAgICAgICAmJiBnbFRleHR1cmUud2lkdGggPT09IHdpZHRoXG4gICAgICAgICAgICAmJiBnbFRleHR1cmUuaGVpZ2h0ID09PSBoZWlnaHQpIHtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCBzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCBzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHNvdXJjZSB3aWR0aC9oZWlnaHQgd2FzIGNoYW5nZWQsIHJlc2l6ZSBjYW4gY2F1c2UgZXh0cmEgYmFzZVRleHR1cmUgdXBkYXRlLlxuICAgICAqIFRyaWdnZXJzIG9uZSB1cGRhdGUgaW4gYW55IGNhc2UuXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UubmF0dXJhbFdpZHRoIHx8IHNvdXJjZS52aWRlb1dpZHRoIHx8IHNvdXJjZS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5uYXR1cmFsSGVpZ2h0IHx8IHNvdXJjZS52aWRlb0hlaWdodCB8fCBzb3VyY2UuaGVpZ2h0O1xuICAgICAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhpcyBCYXNlSW1hZ2VSZXNvdXJjZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNvdXJjZSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZUltYWdlUmVzb3VyY2U7XG59KFJlc291cmNlKSk7XG5cbi8qKlxuICogQGludGVyZmFjZSBPZmZzY3JlZW5DYW52YXNcbiAqL1xuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBIVE1MQ2FudmFzRWxlbWVudC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIC0gQ2FudmFzIGVsZW1lbnQgdG8gdXNlXG4gKi9cbnZhciBDYW52YXNSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2FudmFzUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ2FudmFzUmVzb3VyY2UoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fE9mZnNjcmVlbkNhbnZhc30gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgc291cmNlIGlzIEhUTUxDYW52YXNFbGVtZW50IG9yIE9mZnNjcmVlbkNhbnZhc1xuICAgICAqL1xuICAgIENhbnZhc1Jlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHZhciBPZmZzY3JlZW5DYW52YXMgPSB3aW5kb3cuT2Zmc2NyZWVuQ2FudmFzO1xuICAgICAgICAvLyBDaGVjayBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCB5ZXQgc3VwcG9ydCBPZmZzY3JlZW5DYW52YXNcbiAgICAgICAgaWYgKE9mZnNjcmVlbkNhbnZhcyAmJiBzb3VyY2UgaW5zdGFuY2VvZiBPZmZzY3JlZW5DYW52YXMpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3VyY2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICB9O1xuICAgIHJldHVybiBDYW52YXNSZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSBmb3IgYSBDdWJlVGV4dHVyZSB3aGljaCBjb250YWlucyBzaXggcmVzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQXJyYXlSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZ3xQSVhJLnJlc291cmNlcy5SZXNvdXJjZT59IFtzb3VyY2VdIC0gQ29sbGVjdGlvbiBvZiBVUkxzIG9yIHJlc291cmNlc1xuICogICAgICAgIHRvIHVzZSBhcyB0aGUgc2lkZXMgb2YgdGhlIGN1YmUuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gSW1hZ2VSZXNvdXJjZSBvcHRpb25zXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgcmVzb3VyY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIHJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYXV0b0xvYWQ9dHJ1ZV0gLSBXaGV0aGVyIHRvIGF1dG8tbG9hZCByZXNvdXJjZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5saW5rQmFzZVRleHR1cmU9dHJ1ZV0gLSBJbiBjYXNlIEJhc2VUZXh0dXJlcyBhcmUgc3VwcGxpZWQsXG4gKiAgIHdoZXRoZXIgdG8gY29weSB0aGVtIG9yIHVzZVxuICovXG52YXIgQ3ViZVJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDdWJlUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ3ViZVJlc291cmNlKHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSBvcHRpb25zIHx8IHt9LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQsIGF1dG9Mb2FkID0gX2EuYXV0b0xvYWQsIGxpbmtCYXNlVGV4dHVyZSA9IF9hLmxpbmtCYXNlVGV4dHVyZTtcbiAgICAgICAgaWYgKHNvdXJjZSAmJiBzb3VyY2UubGVuZ3RoICE9PSBDdWJlUmVzb3VyY2UuU0lERVMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbGVuZ3RoLiBHb3QgXCIgKyBzb3VyY2UubGVuZ3RoICsgXCIsIGV4cGVjdGVkIDZcIik7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCA2LCB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSkgfHwgdGhpcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBDdWJlUmVzb3VyY2UuU0lERVM7IGkrKykge1xuICAgICAgICAgICAgX3RoaXMuaXRlbXNbaV0udGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbiBjYXNlIEJhc2VUZXh0dXJlcyBhcmUgc3VwcGxpZWQsIHdoZXRoZXIgdG8gdXNlIHNhbWUgcmVzb3VyY2Ugb3IgYmluZCBiYXNlVGV4dHVyZSBpdHNlbGZcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGlua0Jhc2VUZXh0dXJlID0gbGlua0Jhc2VUZXh0dXJlICE9PSBmYWxzZTtcbiAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgX3RoaXMuaW5pdEZyb21BcnJheShzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdXRvTG9hZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF90aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBiaW5kaW5nXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gcGFyZW50IGJhc2UgdGV4dHVyZVxuICAgICAqL1xuICAgIEN1YmVSZXNvdXJjZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV9DVUJFX01BUDtcbiAgICB9O1xuICAgIEN1YmVSZXNvdXJjZS5wcm90b3R5cGUuYWRkQmFzZVRleHR1cmVBdCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSwgaW5kZXgsIGxpbmtCYXNlVGV4dHVyZSkge1xuICAgICAgICBpZiAobGlua0Jhc2VUZXh0dXJlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxpbmtCYXNlVGV4dHVyZSA9IHRoaXMubGlua0Jhc2VUZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pdGVtc1tpbmRleF0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkluZGV4IFwiICsgaW5kZXggKyBcIiBpcyBvdXQgb2YgYm91bmRzXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5saW5rQmFzZVRleHR1cmVcbiAgICAgICAgICAgIHx8IGJhc2VUZXh0dXJlLnBhcmVudFRleHR1cmVBcnJheVxuICAgICAgICAgICAgfHwgT2JqZWN0LmtleXMoYmFzZVRleHR1cmUuX2dsVGV4dHVyZXMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIGNvcHkgbW9kZVxuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KGJhc2VUZXh0dXJlLnJlc291cmNlLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDdWJlUmVzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCBjb3B5aW5nIG9mIHJlbmRlclRleHR1cmUuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbGluayBtb2RlLCB0aGUgZGlmZmljdWx0IG9uZSFcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaW5kZXg7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5wYXJlbnRUZXh0dXJlQXJyYXkgPSB0aGlzLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpbmRleF0gPSBiYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmFzZVRleHR1cmUudmFsaWQgJiYgIXRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplKGJhc2VUZXh0dXJlLnJlYWxXaWR0aCwgYmFzZVRleHR1cmUucmVhbEhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pdGVtc1tpbmRleF0gPSBiYXNlVGV4dHVyZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHJlc291cmNlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgQ3ViZVJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiAocmVuZGVyZXIsIF9iYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgICAgIHZhciBkaXJ0eSA9IHRoaXMuaXRlbURpcnR5SWRzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEN1YmVSZXNvdXJjZS5TSURFUzsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc2lkZSA9IHRoaXMuaXRlbXNbaV07XG4gICAgICAgICAgICBpZiAoZGlydHlbaV0gPCBzaWRlLmRpcnR5SWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2lkZS52YWxpZCAmJiBzaWRlLnJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNpZGUucmVzb3VyY2UudXBsb2FkKHJlbmRlcmVyLCBzaWRlLCBnbFRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICBkaXJ0eVtpXSA9IHNpZGUuZGlydHlJZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGlydHlbaV0gPCAtMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlaXRoZXIgaXRlbSBpcyBub3QgdmFsaWQgeWV0LCBlaXRoZXIgaXRzIGEgcmVuZGVyVGV4dHVyZVxuICAgICAgICAgICAgICAgICAgICAvLyBhbGxvY2F0ZSB0aGUgbWVtb3J5XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLmdsLnRleEltYWdlMkQoc2lkZS50YXJnZXQsIDAsIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCwgX2Jhc2VUZXh0dXJlLnJlYWxXaWR0aCwgX2Jhc2VUZXh0dXJlLnJlYWxIZWlnaHQsIDAsIF9iYXNlVGV4dHVyZS5mb3JtYXQsIGdsVGV4dHVyZS50eXBlLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgZGlydHlbaV0gPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBzb3VyY2UgaXMgYW4gYXJyYXkgb2YgNiBlbGVtZW50c1xuICAgICAqL1xuICAgIEN1YmVSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShzb3VyY2UpICYmIHNvdXJjZS5sZW5ndGggPT09IEN1YmVSZXNvdXJjZS5TSURFUztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiB0ZXh0dXJlIHNpZGVzIHRvIHN0b3JlIGZvciBDdWJlUmVzb3VyY2VzXG4gICAgICpcbiAgICAgKiBAbmFtZSBQSVhJLnJlc291cmNlcy5DdWJlUmVzb3VyY2UuU0lERVNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDZcbiAgICAgKi9cbiAgICBDdWJlUmVzb3VyY2UuU0lERVMgPSA2O1xuICAgIHJldHVybiBDdWJlUmVzb3VyY2U7XG59KEFic3RyYWN0TXVsdGlSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEhUTUxJbWFnZUVsZW1lbnQuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xudmFyIEltYWdlUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEltYWdlUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fHN0cmluZ30gc291cmNlIC0gaW1hZ2Ugc291cmNlIG9yIFVSTFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gc3RhcnQgbG9hZGluZyBwcm9jZXNzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcmVhdGVCaXRtYXA9UElYSS5zZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQXSAtIHdoZXRoZXIgaXRzIHJlcXVpcmVkIHRvIGNyZWF0ZVxuICAgICAqICAgICAgICBhIGJpdG1hcCBiZWZvcmUgdXBsb2FkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcm9zc29yaWdpbj10cnVlXSAtIExvYWQgaW1hZ2UgdXNpbmcgY3Jvc3Mgb3JpZ2luXG4gICAgICogQHBhcmFtIHtQSVhJLkFMUEhBX01PREVTfSBbb3B0aW9ucy5hbHBoYU1vZGU9UElYSS5BTFBIQV9NT0RFUy5VTlBBQ0tdIC0gUHJlbXVsdGlwbHkgaW1hZ2UgYWxwaGEgaW4gYml0bWFwXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW1hZ2VSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpKSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2VFbGVtZW50ID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbihpbWFnZUVsZW1lbnQsIHNvdXJjZSwgb3B0aW9ucy5jcm9zc29yaWdpbik7XG4gICAgICAgICAgICBpbWFnZUVsZW1lbnQuc3JjID0gc291cmNlO1xuICAgICAgICAgICAgc291cmNlID0gaW1hZ2VFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzO1xuICAgICAgICAvLyBGaXJlRm94IDY4LCBhbmQgcG9zc2libHkgb3RoZXIgdmVyc2lvbnMsIHNlZW1zIGxpa2Ugc2V0dGluZyB0aGUgSFRNTEltYWdlRWxlbWVudCN3aWR0aCBhbmQgI2hlaWdodFxuICAgICAgICAvLyB0byBub24temVybyB2YWx1ZXMgYmVmb3JlIGl0cyBsb2FkaW5nIGNvbXBsZXRlcyBpZiBpbWFnZXMgYXJlIGluIGEgY2FjaGUuXG4gICAgICAgIC8vIEJlY2F1c2Ugb2YgdGhpcywgbmVlZCB0byBzZXQgdGhlIGBfd2lkdGhgIGFuZCB0aGUgYF9oZWlnaHRgIHRvIHplcm8gdG8gYXZvaWQgdXBsb2FkaW5nIGluY29tcGxldGUgaW1hZ2VzLlxuICAgICAgICAvLyBQbGVhc2UgcmVmZXIgdG8gdGhlIGlzc3VlICM1OTY4IChodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzU5NjgpLlxuICAgICAgICBpZiAoIXNvdXJjZS5jb21wbGV0ZSAmJiAhIV90aGlzLl93aWR0aCAmJiAhIV90aGlzLl9oZWlnaHQpIHtcbiAgICAgICAgICAgIF90aGlzLl93aWR0aCA9IDA7XG4gICAgICAgICAgICBfdGhpcy5faGVpZ2h0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVVJMIG9mIHRoZSBpbWFnZSBzb3VyY2VcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXJsID0gc291cmNlLnNyYztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gcHJvY2VzcyBpcyBjb21wbGV0ZWRcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wcm9jZXNzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBpbWFnZSBzaG91bGQgYmUgZGlzcG9zZWQgYWZ0ZXIgdXBsb2FkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wcmVzZXJ2ZUJpdG1hcCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgY2FwYWJsZSwgY29udmVydCB0aGUgaW1hZ2UgdXNpbmcgY3JlYXRlSW1hZ2VCaXRtYXAgQVBJXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3JlYXRlQml0bWFwID0gKG9wdGlvbnMuY3JlYXRlQml0bWFwICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy5jcmVhdGVCaXRtYXAgOiBzZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQKSAmJiAhIXdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnRyb2xzIHRleHR1cmUgYWxwaGFNb2RlIGZpZWxkXG4gICAgICAgICAqIENvcGllcyBmcm9tIG9wdGlvbnNcbiAgICAgICAgICogRGVmYXVsdCBpcyBgbnVsbGAsIGNvcGllcyBvcHRpb24gZnJvbSBiYXNlVGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkFMUEhBX01PREVTfG51bGx9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWxwaGFNb2RlID0gdHlwZW9mIG9wdGlvbnMuYWxwaGFNb2RlID09PSAnbnVtYmVyJyA/IG9wdGlvbnMuYWxwaGFNb2RlIDogbnVsbDtcbiAgICAgICAgaWYgKG9wdGlvbnMucHJlbXVsdGlwbHlBbHBoYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyB0cmlnZ2VycyBkZXByZWNhdGlvblxuICAgICAgICAgICAgX3RoaXMucHJlbXVsdGlwbHlBbHBoYSA9IG9wdGlvbnMucHJlbXVsdGlwbHlBbHBoYTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIEltYWdlQml0bWFwIGVsZW1lbnQgY3JlYXRlZCBmb3IgSFRNTEltYWdlRWxlbWVudFxuICAgICAgICAgKiBAbWVtYmVyIHtJbWFnZUJpdG1hcH1cbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYml0bWFwID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2U8dm9pZD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sb2FkID0gbnVsbDtcbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIGEgcHJvbWlzZSB3aGVuIGltYWdlIHdpbGwgYmUgbG9hZGVkIGFuZCBwcm9jZXNzZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NyZWF0ZUJpdG1hcF0gLSB3aGV0aGVyIHByb2Nlc3MgaW1hZ2UgaW50byBiaXRtYXBcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKGNyZWF0ZUJpdG1hcCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fbG9hZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNyZWF0ZUJpdG1hcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJpdG1hcCA9IGNyZWF0ZUJpdG1hcDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IF90aGlzLnNvdXJjZTtcbiAgICAgICAgICAgIF90aGlzLnVybCA9IHNvdXJjZS5zcmM7XG4gICAgICAgICAgICB2YXIgY29tcGxldGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVzaXplKHNvdXJjZS53aWR0aCwgc291cmNlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2xvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jcmVhdGVCaXRtYXApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShfdGhpcy5wcm9jZXNzKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShfdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UuY29tcGxldGUgJiYgc291cmNlLnNyYykge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IGNvbXBsZXRlZDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBdm9pZHMgUHJvbWlzZSBmcmVlemluZyB3aGVuIHJlc291cmNlIGJyb2tlblxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbkVycm9yLmVtaXQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHdlIG5lZWQgdG8gY29udmVydCBpbWFnZSBpbnRvIEJpdG1hcEltYWdlLlxuICAgICAqIENhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIHJlYWwgcHJvbWlzZSBpcyBjYWNoZWQgaW5zaWRlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IGNhY2hlZCBwcm9taXNlIHRvIGZpbGwgdGhhdCBiaXRtYXBcbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIGlmICh0aGlzLl9wcm9jZXNzICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2VzcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iaXRtYXAgIT09IG51bGwgfHwgIXdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wcm9jZXNzID0gd2luZG93LmNyZWF0ZUltYWdlQml0bWFwKHNvdXJjZSwgMCwgMCwgc291cmNlLndpZHRoLCBzb3VyY2UuaGVpZ2h0LCB7XG4gICAgICAgICAgICBwcmVtdWx0aXBseUFscGhhOiB0aGlzLmFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuVU5QQUNLID8gJ3ByZW11bHRpcGx5JyA6ICdub25lJyxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChiaXRtYXApIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmJpdG1hcCA9IGJpdG1hcDtcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgX3RoaXMuX3Byb2Nlc3MgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShfdGhpcyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2VzcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgaW1hZ2UgcmVzb3VyY2UgdG8gR1BVLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFJlbmRlcmVyIHRvIHVwbG9hZCB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBCYXNlVGV4dHVyZSBmb3IgdGhpcyByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZSAtIEdMVGV4dHVyZSB0byB1c2VcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5hbHBoYU1vZGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAvLyBiaXRtYXAgc3RvcmVzIHVucGFjayBwcmVtdWx0aXBseSBmbGFnLCB3ZSBkb250IGhhdmUgdG8gbm90aWZ5IHRleEltYWdlMkQgYWJvdXQgaXRcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLmFscGhhTW9kZSA9IHRoaXMuYWxwaGFNb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5jcmVhdGVCaXRtYXApIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnVwbG9hZC5jYWxsKHRoaXMsIHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuYml0bWFwKSB7XG4gICAgICAgICAgICAvLyB5ZWFoLCBpZ25vcmUgdGhlIG91dHB1dFxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYml0bWFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudXBsb2FkLmNhbGwodGhpcywgcmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUsIHRoaXMuYml0bWFwKTtcbiAgICAgICAgaWYgKCF0aGlzLnByZXNlcnZlQml0bWFwKSB7XG4gICAgICAgICAgICAvLyBjaGVja3MgaWYgdGhlcmUgYXJlIG90aGVyIHJlbmRlcmVycyB0aGF0IHBvc3NpYmx5IG5lZWQgdGhpcyBiaXRtYXBcbiAgICAgICAgICAgIHZhciBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBnbFRleHR1cmVzID0gYmFzZVRleHR1cmUuX2dsVGV4dHVyZXM7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZ2xUZXh0dXJlcykge1xuICAgICAgICAgICAgICAgIHZhciBvdGhlclRleCA9IGdsVGV4dHVyZXNba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJUZXggIT09IGdsVGV4dHVyZSAmJiBvdGhlclRleC5kaXJ0eUlkICE9PSBiYXNlVGV4dHVyZS5kaXJ0eUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZsYWcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5iaXRtYXAuY2xvc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaXRtYXAuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5iaXRtYXAgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgdGhpcy5zb3VyY2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5iaXRtYXApIHtcbiAgICAgICAgICAgIHRoaXMuYml0bWFwLmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJvY2VzcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBzb3VyY2UgaXMgc3RyaW5nIG9yIEhUTUxJbWFnZUVsZW1lbnRcbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJyB8fCBzb3VyY2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50O1xuICAgIH07XG4gICAgcmV0dXJuIEltYWdlUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgU1ZHIGVsZW1lbnRzIGFuZCBncmFwaGljcy5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSAtIEJhc2U2NCBlbmNvZGVkIFNWRyBlbGVtZW50IG9yIFVSTCBmb3IgU1ZHIGZpbGUuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucyB0byB1c2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY2FsZT0xXSAtIFNjYWxlIHRvIGFwcGx5IHRvIFNWRy4gT3ZlcnJpZGRlbiBieS4uLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFJhc3Rlcml6ZSBTVkcgdGhpcyB3aWRlLiBBc3BlY3QgcmF0aW8gcHJlc2VydmVkIGlmIGhlaWdodCBub3Qgc3BlY2lmaWVkLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gLSBSYXN0ZXJpemUgU1ZHIHRoaXMgaGlnaC4gQXNwZWN0IHJhdGlvIHByZXNlcnZlZCBpZiB3aWR0aCBub3Qgc3BlY2lmaWVkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIFN0YXJ0IGxvYWRpbmcgcmlnaHQgYXdheS5cbiAqL1xudmFyIFNWR1Jlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTVkdSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTVkdSZXNvdXJjZShzb3VyY2VCYXNlNjQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl93aWR0aCA9IDA7XG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQmFzZTY0IGVuY29kZWQgU1ZHIGVsZW1lbnQgb3IgVVJMIGZvciBTVkcgZmlsZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3ZnID0gc291cmNlQmFzZTY0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNvdXJjZSBzY2FsZSB0byBhcHBseSB3aGVuIHJhc3Rlcml6aW5nIG9uIGxvYWRcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNjYWxlID0gb3B0aW9ucy5zY2FsZSB8fCAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB3aWR0aCBvdmVycmlkZSBmb3IgcmFzdGVyaXphdGlvbiBvbiBsb2FkXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fb3ZlcnJpZGVXaWR0aCA9IG9wdGlvbnMud2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGhlaWdodCBvdmVycmlkZSBmb3IgcmFzdGVyaXphdGlvbiBvbiBsb2FkXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fb3ZlcnJpZGVIZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGwgd2hlbiBjb21wbGV0ZWx5IGxvYWRlZFxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyb3NzIG9yaWdpbiB2YWx1ZSB0byB1c2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbnxzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY3Jvc3NvcmlnaW4gPSBvcHRpb25zLmNyb3Nzb3JpZ2luO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xvYWQgPSBudWxsO1xuICAgICAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF90aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNWR1Jlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fbG9hZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAvLyBTYXZlIHRoaXMgdW50aWwgYWZ0ZXIgbG9hZCBpcyBmaW5pc2hlZFxuICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVzaXplKF90aGlzLnNvdXJjZS53aWR0aCwgX3RoaXMuc291cmNlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShfdGhpcyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gQ29udmVydCBTVkcgaW5saW5lIHN0cmluZyB0byBkYXRhLXVyaVxuICAgICAgICAgICAgaWYgKCgvXlxcPHN2Zy8pLnRlc3QoX3RoaXMuc3ZnLnRyaW0oKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJ0b2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3VyIGJyb3dzZXIgZG9lc25cXCd0IHN1cHBvcnQgYmFzZTY0IGNvbnZlcnNpb25zLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5zdmcgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChfdGhpcy5zdmcpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5fbG9hZFN2ZygpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkcyBhbiBTVkcgaW1hZ2UgZnJvbSBgaW1hZ2VVcmxgIG9yIGBkYXRhIFVSTGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLnByb3RvdHlwZS5fbG9hZFN2ZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHRlbXBJbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbih0ZW1wSW1hZ2UsIHRoaXMuc3ZnLCB0aGlzLl9jcm9zc29yaWdpbik7XG4gICAgICAgIHRlbXBJbWFnZS5zcmMgPSB0aGlzLnN2ZztcbiAgICAgICAgdGVtcEltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuX3Jlc29sdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZW1wSW1hZ2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICBfdGhpcy5vbkVycm9yLmVtaXQoZXZlbnQpO1xuICAgICAgICB9O1xuICAgICAgICB0ZW1wSW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5fcmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdmdXaWR0aCA9IHRlbXBJbWFnZS53aWR0aDtcbiAgICAgICAgICAgIHZhciBzdmdIZWlnaHQgPSB0ZW1wSW1hZ2UuaGVpZ2h0O1xuICAgICAgICAgICAgaWYgKCFzdmdXaWR0aCB8fCAhc3ZnSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgU1ZHIGltYWdlIG11c3QgaGF2ZSB3aWR0aCBhbmQgaGVpZ2h0IGRlZmluZWQgKGluIHBpeGVscyksIGNhbnZhcyBBUEkgbmVlZHMgdGhlbS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNldCByZW5kZXIgc2l6ZVxuICAgICAgICAgICAgdmFyIHdpZHRoID0gc3ZnV2lkdGggKiBfdGhpcy5zY2FsZTtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSBzdmdIZWlnaHQgKiBfdGhpcy5zY2FsZTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5fb3ZlcnJpZGVXaWR0aCB8fCBfdGhpcy5fb3ZlcnJpZGVIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IF90aGlzLl9vdmVycmlkZVdpZHRoIHx8IF90aGlzLl9vdmVycmlkZUhlaWdodCAvIHN2Z0hlaWdodCAqIHN2Z1dpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IF90aGlzLl9vdmVycmlkZUhlaWdodCB8fCBfdGhpcy5fb3ZlcnJpZGVXaWR0aCAvIHN2Z1dpZHRoICogc3ZnSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoKTtcbiAgICAgICAgICAgIGhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIGNhbnZhcyBlbGVtZW50XG4gICAgICAgICAgICB2YXIgY2FudmFzID0gX3RoaXMuc291cmNlO1xuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgY2FudmFzLl9waXhpSWQgPSBcImNhbnZhc19cIiArIHVpZCgpO1xuICAgICAgICAgICAgLy8gRHJhdyB0aGUgU3ZnIHRvIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGNhbnZhc1xuICAgICAgICAgICAgICAgIC5nZXRDb250ZXh0KCcyZCcpXG4gICAgICAgICAgICAgICAgLmRyYXdJbWFnZSh0ZW1wSW1hZ2UsIDAsIDAsIHN2Z1dpZHRoLCBzdmdIZWlnaHQsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmUoKTtcbiAgICAgICAgICAgIF90aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBzaXplIGZyb20gYW4gc3ZnIHN0cmluZyB1c2luZyByZWdleHAuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN2Z1N0cmluZyAtIGEgc2VyaWFsaXplZCBzdmcgZWxlbWVudFxuICAgICAqIEByZXR1cm4ge1BJWEkuSVNpemV9IGltYWdlIGV4dGVuc2lvblxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLmdldFNpemUgPSBmdW5jdGlvbiAoc3ZnU3RyaW5nKSB7XG4gICAgICAgIHZhciBzaXplTWF0Y2ggPSBTVkdSZXNvdXJjZS5TVkdfU0laRS5leGVjKHN2Z1N0cmluZyk7XG4gICAgICAgIHZhciBzaXplID0ge307XG4gICAgICAgIGlmIChzaXplTWF0Y2gpIHtcbiAgICAgICAgICAgIHNpemVbc2l6ZU1hdGNoWzFdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbM10pKTtcbiAgICAgICAgICAgIHNpemVbc2l6ZU1hdGNoWzVdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbN10pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2Nyb3Nzb3JpZ2luID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHsqfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbnNpb24gLSBUaGUgZXh0ZW5zaW9uIG9mIHNvdXJjZSwgaWYgc2V0XG4gICAgICovXG4gICAgU1ZHUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UsIGV4dGVuc2lvbikge1xuICAgICAgICAvLyB1cmwgZmlsZSBleHRlbnNpb24gaXMgU1ZHXG4gICAgICAgIHJldHVybiBleHRlbnNpb24gPT09ICdzdmcnXG4gICAgICAgICAgICAvLyBzb3VyY2UgaXMgU1ZHIGRhdGEtdXJpXG4gICAgICAgICAgICB8fCAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgJiYgc291cmNlLmluZGV4T2YoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQnKSA9PT0gMClcbiAgICAgICAgICAgIC8vIHNvdXJjZSBpcyBTVkcgaW5saW5lXG4gICAgICAgICAgICB8fCAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgJiYgc291cmNlLmluZGV4T2YoJzxzdmcnKSA9PT0gMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdFeHAgZm9yIFNWRyBzaXplLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudCB7UmVnRXhwfHN0cmluZ30gU1ZHX1NJWkVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2VcbiAgICAgKiBAZXhhbXBsZSAmbHQ7c3ZnIHdpZHRoPVwiMTAwXCIgaGVpZ2h0PVwiMTAwXCImZ3Q7Jmx0Oy9zdmcmZ3Q7XG4gICAgICovXG4gICAgU1ZHUmVzb3VyY2UuU1ZHX1NJWkUgPSAvPHN2Z1tePl0qKD86XFxzKHdpZHRofGhlaWdodCk9KCd8XCIpKFxcZCooPzpcXC5cXGQrKT8pKD86cHgpPygnfFwiKSlbXj5dKig/Olxccyh3aWR0aHxoZWlnaHQpPSgnfFwiKShcXGQqKD86XFwuXFxkKyk/KSg/OnB4KT8oJ3xcIikpW14+XSo+L2k7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LWxlblxuICAgIHJldHVybiBTVkdSZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBIVE1MVmlkZW9FbGVtZW50LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge0hUTUxWaWRlb0VsZW1lbnR8b2JqZWN0fHN0cmluZ3xBcnJheTxzdHJpbmd8b2JqZWN0Pn0gc291cmNlIC0gVmlkZW8gZWxlbWVudCB0byB1c2UuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucyB0byB1c2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0xvYWQ9dHJ1ZV0gLSBTdGFydCBsb2FkaW5nIHRoZSB2aWRlbyBpbW1lZGlhdGVseVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUGxheT10cnVlXSAtIFN0YXJ0IHBsYXlpbmcgdmlkZW8gaW1tZWRpYXRlbHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy51cGRhdGVGUFM9MF0gLSBIb3cgbWFueSB0aW1lcyBhIHNlY29uZCB0byB1cGRhdGUgdGhlIHRleHR1cmUgZnJvbSB0aGUgdmlkZW8uXG4gKiBMZWF2ZSBhdCAwIHRvIHVwZGF0ZSBhdCBldmVyeSByZW5kZXIuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyb3Nzb3JpZ2luPXRydWVdIC0gTG9hZCBpbWFnZSB1c2luZyBjcm9zcyBvcmlnaW5cbiAqL1xudmFyIFZpZGVvUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFZpZGVvUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVmlkZW9SZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpKSB7XG4gICAgICAgICAgICB2YXIgdmlkZW9FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgIC8vIHdvcmthcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvNTk5NlxuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgncHJlbG9hZCcsICdhdXRvJyk7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKCd3ZWJraXQtcGxheXNpbmxpbmUnLCAnJyk7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKCdwbGF5c2lubGluZScsICcnKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHNvdXJjZSA9IFtzb3VyY2VdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGZpcnN0U3JjID0gc291cmNlWzBdLnNyYyB8fCBzb3VyY2VbMF07XG4gICAgICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbih2aWRlb0VsZW1lbnQsIGZpcnN0U3JjLCBvcHRpb25zLmNyb3Nzb3JpZ2luKTtcbiAgICAgICAgICAgIC8vIGFycmF5IG9mIG9iamVjdHMgb3Igc3RyaW5nc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IHNvdXJjZVtpXSwgc3JjID0gX2Euc3JjLCBtaW1lID0gX2EubWltZTtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMgfHwgc291cmNlW2ldO1xuICAgICAgICAgICAgICAgIHZhciBiYXNlU3JjID0gc3JjLnNwbGl0KCc/Jykuc2hpZnQoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHZhciBleHQgPSBiYXNlU3JjLnN1YnN0cihiYXNlU3JjLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcbiAgICAgICAgICAgICAgICBtaW1lID0gbWltZSB8fCBWaWRlb1Jlc291cmNlLk1JTUVfVFlQRVNbZXh0XSB8fCBcInZpZGVvL1wiICsgZXh0O1xuICAgICAgICAgICAgICAgIHNvdXJjZUVsZW1lbnQuc3JjID0gc3JjO1xuICAgICAgICAgICAgICAgIHNvdXJjZUVsZW1lbnQudHlwZSA9IG1pbWU7XG4gICAgICAgICAgICAgICAgdmlkZW9FbGVtZW50LmFwcGVuZENoaWxkKHNvdXJjZUVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT3ZlcnJpZGUgdGhlIHNvdXJjZVxuICAgICAgICAgICAgc291cmNlID0gdmlkZW9FbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5ub1N1YkltYWdlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCB0byB1c2UgUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIHRoZSBiYXNlIHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYXV0b1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgdGhlIGluc3RhbmNlIGlzIGN1cnJlbnRseSBjb25uZWN0ZWQgdG8gUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIHRoZSBiYXNlIHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX3VwZGF0ZUZQUyA9IG9wdGlvbnMudXBkYXRlRlBTIHx8IDA7XG4gICAgICAgIF90aGlzLl9tc1RvTmV4dFVwZGF0ZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHNldCB0byB0cnVlIHdpbGwgYXV0b21hdGljYWxseSBwbGF5IHZpZGVvcyB1c2VkIGJ5IHRoaXMgdGV4dHVyZSBvbmNlXG4gICAgICAgICAqIHRoZXkgYXJlIGxvYWRlZC4gSWYgZmFsc2UsIGl0IHdpbGwgbm90IG1vZGlmeSB0aGUgcGxheWluZyBzdGF0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1BsYXkgPSBvcHRpb25zLmF1dG9QbGF5ICE9PSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2U8dm9pZD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sb2FkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxiYWNrIHdoZW4gY29tcGxldGVkIHdpdGggbG9hZC5cbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIC8vIEJpbmQgZm9yIGxpc3RlbmVyc1xuICAgICAgICBfdGhpcy5fb25DYW5QbGF5ID0gX3RoaXMuX29uQ2FuUGxheS5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuX29uRXJyb3IgPSBfdGhpcy5fb25FcnJvci5iaW5kKF90aGlzKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIHVwZGF0aW5nIG9mIHRoZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlbHRhVGltZT0wXSAtIHRpbWUgZGVsdGEgc2luY2UgbGFzdCB0aWNrXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKF9kZWx0YVRpbWUpIHtcbiAgICAgICAgaWYgKF9kZWx0YVRpbWUgPT09IHZvaWQgMCkgeyBfZGVsdGFUaW1lID0gMDsgfVxuICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAvLyBhY2NvdW50IGZvciBpZiB2aWRlbyBoYXMgaGFkIGl0cyBwbGF5YmFja1JhdGUgY2hhbmdlZFxuICAgICAgICAgICAgdmFyIGVsYXBzZWRNUyA9IFRpY2tlci5zaGFyZWQuZWxhcHNlZE1TICogdGhpcy5zb3VyY2UucGxheWJhY2tSYXRlO1xuICAgICAgICAgICAgdGhpcy5fbXNUb05leHRVcGRhdGUgPSBNYXRoLmZsb29yKHRoaXMuX21zVG9OZXh0VXBkYXRlIC0gZWxhcHNlZE1TKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdXBkYXRlRlBTIHx8IHRoaXMuX21zVG9OZXh0VXBkYXRlIDw9IDApIHtcbiAgICAgICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21zVG9OZXh0VXBkYXRlID0gdGhpcy5fdXBkYXRlRlBTID8gTWF0aC5mbG9vcigxMDAwIC8gdGhpcy5fdXBkYXRlRlBTKSA6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0YXJ0IHByZWxvYWRpbmcgdGhlIHZpZGVvIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59IEhhbmRsZSB0aGUgdmFsaWRhdGUgZXZlbnRcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fbG9hZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBpZiAoKHNvdXJjZS5yZWFkeVN0YXRlID09PSBzb3VyY2UuSEFWRV9FTk9VR0hfREFUQSB8fCBzb3VyY2UucmVhZHlTdGF0ZSA9PT0gc291cmNlLkhBVkVfRlVUVVJFX0RBVEEpXG4gICAgICAgICAgICAmJiBzb3VyY2Uud2lkdGggJiYgc291cmNlLmhlaWdodCkge1xuICAgICAgICAgICAgc291cmNlLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIHRoaXMuX29uUGxheVN0YXJ0LmJpbmQodGhpcykpO1xuICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcigncGF1c2UnLCB0aGlzLl9vblBsYXlTdG9wLmJpbmQodGhpcykpO1xuICAgICAgICBpZiAoIXRoaXMuX2lzU291cmNlUmVhZHkoKSkge1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX29uRXJyb3IsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fb25DYW5QbGF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLl9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgICAgICBzb3VyY2UubG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdmlkZW8gZXJyb3IgZXZlbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5fb25FcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLnNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX29uRXJyb3IsIHRydWUpO1xuICAgICAgICB0aGlzLm9uRXJyb3IuZW1pdChldmVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcGxheWluZy5cbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5faXNTb3VyY2VQbGF5aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHJldHVybiAoc291cmNlLmN1cnJlbnRUaW1lID4gMCAmJiBzb3VyY2UucGF1c2VkID09PSBmYWxzZSAmJiBzb3VyY2UuZW5kZWQgPT09IGZhbHNlICYmIHNvdXJjZS5yZWFkeVN0YXRlID4gMik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHJlYWR5IGZvciBwbGF5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHJlYWR5LlxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9pc1NvdXJjZVJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHJldHVybiBzb3VyY2UucmVhZHlTdGF0ZSA9PT0gMyB8fCBzb3VyY2UucmVhZHlTdGF0ZSA9PT0gNDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJ1bnMgdGhlIHVwZGF0ZSBsb29wIHdoZW4gdGhlIHZpZGVvIGlzIHJlYWR5IHRvIHBsYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX29uUGxheVN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBKdXN0IGluIGNhc2UgdGhlIHZpZGVvIGhhcyBub3QgcmVjZWl2ZWQgaXRzIGNhbiBwbGF5IGV2ZW4geWV0Li5cbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkNhblBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlICYmICF0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBhdXNlIGV2ZW50IGlzIHRyaWdnZXJlZCwgc3RvcHMgdGhlIHVwZGF0ZSBsb29wXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9vblBsYXlTdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSB2aWRlbyBpcyBsb2FkZWQgYW5kIHJlYWR5IHRvIHBsYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX29uQ2FuUGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgIHNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgIHZhciB2YWxpZCA9IHRoaXMudmFsaWQ7XG4gICAgICAgIHRoaXMucmVzaXplKHNvdXJjZS52aWRlb1dpZHRoLCBzb3VyY2UudmlkZW9IZWlnaHQpO1xuICAgICAgICAvLyBwcmV2ZW50IG11bHRpcGxlIGxvYWRlZCBkaXNwYXRjaGVzLi5cbiAgICAgICAgaWYgKCF2YWxpZCAmJiB0aGlzLl9yZXNvbHZlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lzU291cmNlUGxheWluZygpKSB7XG4gICAgICAgICAgICB0aGlzLl9vblBsYXlTdGFydCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXV0b1BsYXkpIHtcbiAgICAgICAgICAgIHNvdXJjZS5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9yLCB0cnVlKTtcbiAgICAgICAgICAgIHNvdXJjZS5wYXVzZSgpO1xuICAgICAgICAgICAgc291cmNlLnNyYyA9ICcnO1xuICAgICAgICAgICAgc291cmNlLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWRlb1Jlc291cmNlLnByb3RvdHlwZSwgXCJhdXRvVXBkYXRlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCB0aGUgYmFzZSB0ZXh0dXJlIGF1dG9tYXRpY2FsbHkgdXBkYXRlIGl0c2VsZiwgc2V0IHRvIHRydWUgYnkgZGVmYXVsdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXV0b1VwZGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F1dG9VcGRhdGUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2F1dG9VcGRhdGUgJiYgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fYXV0b1VwZGF0ZSAmJiAhdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciAmJiB0aGlzLl9pc1NvdXJjZVBsYXlpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWRlb1Jlc291cmNlLnByb3RvdHlwZSwgXCJ1cGRhdGVGUFNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdG8gdXBkYXRlIHRoZSB0ZXh0dXJlIGZyb20gdGhlIHZpZGVvLiBMZWF2ZSBhdCAwIHRvIHVwZGF0ZSBhdCBldmVyeSByZW5kZXIuXG4gICAgICAgICAqIEEgbG93ZXIgZnBzIGNhbiBoZWxwIHBlcmZvcm1hbmNlLCBhcyB1cGRhdGluZyB0aGUgdGV4dHVyZSBhdCA2MGZwcyBvbiBhIDMwcHMgdmlkZW8gbWF5IG5vdCBiZSBlZmZpY2llbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZUZQUztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fdXBkYXRlRlBTKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRlBTID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uIC0gVGhlIGV4dGVuc2lvbiBvZiBzb3VyY2UsIGlmIHNldFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB2aWRlbyBzb3VyY2VcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlLCBleHRlbnNpb24pIHtcbiAgICAgICAgcmV0dXJuIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KVxuICAgICAgICAgICAgfHwgVmlkZW9SZXNvdXJjZS5UWVBFUy5pbmRleE9mKGV4dGVuc2lvbikgPiAtMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgY29tbW9uIHZpZGVvIGZpbGUgZXh0ZW5zaW9ucyBzdXBwb3J0ZWQgYnkgVmlkZW9SZXNvdXJjZS5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyIHtBcnJheTxzdHJpbmc+fVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLlRZUEVTID0gWydtcDQnLCAnbTR2JywgJ3dlYm0nLCAnb2dnJywgJ29ndicsICdoMjY0JywgJ2F2aScsICdtb3YnXTtcbiAgICAvKipcbiAgICAgKiBNYXAgb2YgdmlkZW8gTUlNRSB0eXBlcyB0aGF0IGNhbid0IGJlIGRpcmVjdGx5IGRlcml2ZWQgZnJvbSBmaWxlIGV4dGVuc2lvbnMuXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLk1JTUVfVFlQRVMgPSB7XG4gICAgICAgIG9ndjogJ3ZpZGVvL29nZycsXG4gICAgICAgIG1vdjogJ3ZpZGVvL3F1aWNrdGltZScsXG4gICAgICAgIG00djogJ3ZpZGVvL21wNCcsXG4gICAgfTtcbiAgICByZXR1cm4gVmlkZW9SZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBJbWFnZUJpdG1hcC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtJbWFnZUJpdG1hcH0gc291cmNlIC0gSW1hZ2UgZWxlbWVudCB0byB1c2VcbiAqL1xudmFyIEltYWdlQml0bWFwUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEltYWdlQml0bWFwUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW1hZ2VCaXRtYXBSZXNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SW1hZ2VCaXRtYXB9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHNvdXJjZSBpcyBhbiBJbWFnZUJpdG1hcFxuICAgICAqL1xuICAgIEltYWdlQml0bWFwUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuICEhd2luZG93LmNyZWF0ZUltYWdlQml0bWFwICYmIHNvdXJjZSBpbnN0YW5jZW9mIEltYWdlQml0bWFwO1xuICAgIH07XG4gICAgcmV0dXJuIEltYWdlQml0bWFwUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbklOU1RBTExFRC5wdXNoKEltYWdlUmVzb3VyY2UsIEltYWdlQml0bWFwUmVzb3VyY2UsIENhbnZhc1Jlc291cmNlLCBWaWRlb1Jlc291cmNlLCBTVkdSZXNvdXJjZSwgQnVmZmVyUmVzb3VyY2UsIEN1YmVSZXNvdXJjZSwgQXJyYXlSZXNvdXJjZSk7XG5cbnZhciBpbmRleCA9ICh7XG4gICAgUmVzb3VyY2U6IFJlc291cmNlLFxuICAgIEJhc2VJbWFnZVJlc291cmNlOiBCYXNlSW1hZ2VSZXNvdXJjZSxcbiAgICBJTlNUQUxMRUQ6IElOU1RBTExFRCxcbiAgICBhdXRvRGV0ZWN0UmVzb3VyY2U6IGF1dG9EZXRlY3RSZXNvdXJjZSxcbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2U6IEFic3RyYWN0TXVsdGlSZXNvdXJjZSxcbiAgICBBcnJheVJlc291cmNlOiBBcnJheVJlc291cmNlLFxuICAgIEJ1ZmZlclJlc291cmNlOiBCdWZmZXJSZXNvdXJjZSxcbiAgICBDYW52YXNSZXNvdXJjZTogQ2FudmFzUmVzb3VyY2UsXG4gICAgQ3ViZVJlc291cmNlOiBDdWJlUmVzb3VyY2UsXG4gICAgSW1hZ2VSZXNvdXJjZTogSW1hZ2VSZXNvdXJjZSxcbiAgICBTVkdSZXNvdXJjZTogU1ZHUmVzb3VyY2UsXG4gICAgVmlkZW9SZXNvdXJjZTogVmlkZW9SZXNvdXJjZSxcbiAgICBJbWFnZUJpdG1hcFJlc291cmNlOiBJbWFnZUJpdG1hcFJlc291cmNlXG59KTtcblxuLyoqXG4gKiBTeXN0ZW0gaXMgYSBiYXNlIGNsYXNzIHVzZWQgZm9yIGV4dGVuZGluZyBzeXN0ZW1zIHVzZWQgYnkgdGhlIHtAbGluayBQSVhJLlJlbmRlcmVyfVxuICpcbiAqIEBzZWUgUElYSS5SZW5kZXJlciNhZGRTeXN0ZW1cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJpYyBkZXN0cm95IG1ldGhvZHMgdG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3NcbiAgICAgKi9cbiAgICBTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFN5c3RlbTtcbn0oKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgRGVwdGhUZXh0dXJlLlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CdWZmZXJSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbnZhciBEZXB0aFJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEZXB0aFJlc291cmNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERlcHRoUmVzb3VyY2UoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSB0ZXh0dXJlIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFVwbG9hZCB0byB0aGUgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVmZXJlbmNlIHRvIHBhcmVudCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gZ2xUZXh0dXJlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIERlcHRoUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLlVOUEFDSyk7XG4gICAgICAgIGlmIChnbFRleHR1cmUud2lkdGggPT09IGJhc2VUZXh0dXJlLndpZHRoICYmIGdsVGV4dHVyZS5oZWlnaHQgPT09IGJhc2VUZXh0dXJlLmhlaWdodCkge1xuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIDAsIDAsIGJhc2VUZXh0dXJlLndpZHRoLCBiYXNlVGV4dHVyZS5oZWlnaHQsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoYmFzZVRleHR1cmUudGFyZ2V0LCAwLCBcbiAgICAgICAgICAgIC8vICBnbC5ERVBUSF9DT01QT05FTlQxNiBOZWVkZWQgZm9yIGRlcHRoIHRvIHJlbmRlciBwcm9wZXJseSBpbiB3ZWJnbDIuMFxuICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dC53ZWJHTFZlcnNpb24gPT09IDEgPyBnbC5ERVBUSF9DT01QT05FTlQgOiBnbC5ERVBUSF9DT01QT05FTlQxNiwgYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCB0aGlzLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIERlcHRoUmVzb3VyY2U7XG59KEJ1ZmZlclJlc291cmNlKSk7XG5cbi8qKlxuICogRnJhbWUgYnVmZmVyIHVzZWQgYnkgdGhlIEJhc2VSZW5kZXJUZXh0dXJlXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRnJhbWVidWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZyYW1lYnVmZmVyKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdpZHRoIG9mIGZyYW1lYnVmZmVyIGluIHBpeGVsc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gTWF0aC5jZWlsKHdpZHRoIHx8IDEwMCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIZWlnaHQgb2YgZnJhbWVidWZmZXIgaW4gcGl4ZWxzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCB8fCAxMDApO1xuICAgICAgICB0aGlzLnN0ZW5jaWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZXB0aCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAwO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0ID0gMDtcbiAgICAgICAgdGhpcy5kaXJ0eVNpemUgPSAwO1xuICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY29sb3JUZXh0dXJlcyA9IFtdO1xuICAgICAgICB0aGlzLmdsRnJhbWVidWZmZXJzID0ge307XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoJ2Rpc3Bvc2VGcmFtZWJ1ZmZlcicpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVzaXJlZCBudW1iZXIgb2Ygc2FtcGxlcyBmb3IgYW50aWFsaWFzaW5nLiAwIG1lYW5zIEFBIHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogRXhwZXJpbWVudGFsIFdlYkdMMiBmZWF0dXJlLCBhbGxvd3MgdG8gdXNlIGFudGlhbGlhc2luZyBpbiBpbmRpdmlkdWFsIHJlbmRlclRleHR1cmVzLlxuICAgICAgICAgKiBBbnRpYWxpYXNpbmcgaXMgdGhlIHNhbWUgYXMgZm9yIG1haW4gYnVmZmVyIHdpdGggcmVuZGVyZXIgYGFudGlhbGlhczp0cnVlYCBvcHRpb25zLlxuICAgICAgICAgKiBTZXJpb3VzbHkgYWZmZWN0cyBHUFUgbWVtb3J5IGNvbnN1bXB0aW9uIGFuZCBHUFUgcGVyZm9ybWFuY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqYGBganNcbiAgICAgICAgICogcmVuZGVyVGV4dHVyZS5mcmFtZWJ1ZmZlci5tdWx0aXNhbXBsZSA9IFBJWEkuTVNBQV9RVUFMSVRZLkhJR0g7XG4gICAgICAgICAqIC8vLi4uXG4gICAgICAgICAqIHJlbmRlcmVyLnJlbmRlcihyZW5kZXJUZXh0dXJlLCBteUNvbnRhaW5lcik7XG4gICAgICAgICAqIHJlbmRlcmVyLmZyYW1lYnVmZmVyLmJsaXQoKTsgLy8gY29waWVzIGRhdGEgZnJvbSBNU0FBIGZyYW1lYnVmZmVyIHRvIHRleHR1cmVcbiAgICAgICAgICogIGBgYFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1TQUFfUVVBTElUWX1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5NU0FBX1FVQUxJVFkuTk9ORVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tdWx0aXNhbXBsZSA9IE1TQUFfUVVBTElUWS5OT05FO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnJhbWVidWZmZXIucHJvdG90eXBlLCBcImNvbG9yVGV4dHVyZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvbG9yVGV4dHVyZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sb3JUZXh0dXJlc1swXTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEFkZCB0ZXh0dXJlIHRvIHRoZSBjb2xvclRleHR1cmUgYXJyYXlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaW5kZXg9MF0gLSBJbmRleCBvZiB0aGUgYXJyYXkgdG8gYWRkIHRoZSB0ZXh0dXJlIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBbdGV4dHVyZV0gLSBUZXh0dXJlIHRvIGFkZCB0byB0aGUgYXJyYXlcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuYWRkQ29sb3JUZXh0dXJlID0gZnVuY3Rpb24gKGluZGV4LCB0ZXh0dXJlKSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gMDsgfVxuICAgICAgICAvLyBUT0RPIGFkZCBzb21lIHZhbGlkYXRpb24gdG8gdGhlIHRleHR1cmUgLSBzYW1lIHdpZHRoIC8gaGVpZ2h0IGV0Yz9cbiAgICAgICAgdGhpcy5jb2xvclRleHR1cmVzW2luZGV4XSA9IHRleHR1cmUgfHwgbmV3IEJhc2VUZXh0dXJlKG51bGwsIHtcbiAgICAgICAgICAgIHNjYWxlTW9kZTogU0NBTEVfTU9ERVMuTkVBUkVTVCxcbiAgICAgICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgICAgICBtaXBtYXA6IE1JUE1BUF9NT0RFUy5PRkYsXG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhIGRlcHRoIHRleHR1cmUgdG8gdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBbdGV4dHVyZV0gLSBUZXh0dXJlIHRvIGFkZFxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyLnByb3RvdHlwZS5hZGREZXB0aFRleHR1cmUgPSBmdW5jdGlvbiAodGV4dHVyZSkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gdGV4dHVyZSB8fCBuZXcgQmFzZVRleHR1cmUobmV3IERlcHRoUmVzb3VyY2UobnVsbCwgeyB3aWR0aDogdGhpcy53aWR0aCwgaGVpZ2h0OiB0aGlzLmhlaWdodCB9KSwge1xuICAgICAgICAgICAgc2NhbGVNb2RlOiBTQ0FMRV9NT0RFUy5ORUFSRVNULFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgIG1pcG1hcDogTUlQTUFQX01PREVTLk9GRixcbiAgICAgICAgICAgIGZvcm1hdDogRk9STUFUUy5ERVBUSF9DT01QT05FTlQsXG4gICAgICAgICAgICB0eXBlOiBUWVBFUy5VTlNJR05FRF9TSE9SVCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5hYmxlIGRlcHRoIG9uIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuZW5hYmxlRGVwdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVwdGggPSB0cnVlO1xuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuYWJsZSBzdGVuY2lsIG9uIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuZW5hYmxlU3RlbmNpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGVuY2lsID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlGb3JtYXQrKztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNpemUgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIGZyYW1lIGJ1ZmZlciB0byByZXNpemUgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSBmcmFtZSBidWZmZXIgdG8gcmVzaXplIHRvXG4gICAgICovXG4gICAgRnJhbWVidWZmZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdGhpcy53aWR0aCAmJiBoZWlnaHQgPT09IHRoaXMuaGVpZ2h0KVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlTaXplKys7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuY29sb3JUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gdGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgLy8gdGFrZSBpbnRvIGFjb3VudCB0aGUgZmFjdCB0aGUgdGV4dHVyZSBtYXkgaGF2ZSBhIGRpZmZlcmVudCByZXNvbHV0aW9uLi5cbiAgICAgICAgICAgIHRleHR1cmUuc2V0U2l6ZSh3aWR0aCAvIHJlc29sdXRpb24sIGhlaWdodCAvIHJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRlcHRoVGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLmRlcHRoVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUuc2V0U2l6ZSh3aWR0aCAvIHJlc29sdXRpb24sIGhlaWdodCAvIHJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBXZWJHTCByZXNvdXJjZXMgdGhhdCBhcmUgY29ubmVjdGVkIHRvIHRoaXMgZ2VvbWV0cnlcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyLmVtaXQodGhpcywgZmFsc2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgYW5kIHJlbW92ZXMgdGhlIGRlcHRoIHRleHR1cmUgYWRkZWQgdG8gdGhpcyBmcmFtZWJ1ZmZlci5cbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveURlcHRoVGV4dHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICArK3RoaXMuZGlydHlJZDtcbiAgICAgICAgICAgICsrdGhpcy5kaXJ0eUZvcm1hdDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEZyYW1lYnVmZmVyO1xufSgpKTtcblxuLyoqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIEJhc2VSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBUaGUgcG9zaXRpb25cbiAqIGFuZCByb3RhdGlvbiBvZiB0aGUgZ2l2ZW4gRGlzcGxheSBPYmplY3RzIGlzIGlnbm9yZWQuIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICogbGV0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVJlbmRlclRleHR1cmUoeyB3aWR0aDogODAwLCBoZWlnaHQ6IDYwMCB9KTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcInNwaW5PYmpfMDEucG5nXCIpO1xuICpcbiAqIHNwcml0ZS5wb3NpdGlvbi54ID0gODAwLzI7XG4gKiBzcHJpdGUucG9zaXRpb24ueSA9IDYwMC8yO1xuICogc3ByaXRlLmFuY2hvci54ID0gMC41O1xuICogc3ByaXRlLmFuY2hvci55ID0gMC41O1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpO1xuICogYGBgXG4gKlxuICogVGhlIFNwcml0ZSBpbiB0aGlzIGNhc2Ugd2lsbCBiZSByZW5kZXJlZCB1c2luZyBpdHMgbG9jYWwgdHJhbnNmb3JtLiBUbyByZW5kZXIgdGhpcyBzcHJpdGUgYXQgMCwwXG4gKiB5b3UgY2FuIGNsZWFyIHRoZSB0cmFuc2Zvcm1cbiAqXG4gKiBgYGBqc1xuICpcbiAqIHNwcml0ZS5zZXRUcmFuc2Zvcm0oKVxuICpcbiAqIGxldCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VSZW5kZXJUZXh0dXJlKHsgd2lkdGg6IDEwMCwgaGVpZ2h0OiAxMDAgfSk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpOyAgLy8gUmVuZGVycyB0byBjZW50ZXIgb2YgUmVuZGVyVGV4dHVyZVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VUZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmFzZVJlbmRlclRleHR1cmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VSZW5kZXJUZXh0dXJlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgYmFzZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSBiYXNlIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW29wdGlvbnMuc2NhbGVNb2RlXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlUmVuZGVyVGV4dHVyZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICAgICAgLy8gQmFja3dhcmQgY29tcGF0aWJpbGl0eSBvZiBzaWduYXR1cmVcbiAgICAgICAgICAgIHZhciB3aWR0aF8xID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgdmFyIGhlaWdodF8xID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgdmFyIHNjYWxlTW9kZSA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzNdO1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgd2lkdGg6IHdpZHRoXzEsIGhlaWdodDogaGVpZ2h0XzEsIHNjYWxlTW9kZTogc2NhbGVNb2RlLCByZXNvbHV0aW9uOiByZXNvbHV0aW9uIH07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbnVsbCwgb3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgdmFyIF9hID0gb3B0aW9ucyB8fCB7fSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICAvLyBTZXQgZGVmYXVsdHNcbiAgICAgICAgX3RoaXMubWlwbWFwID0gMDtcbiAgICAgICAgX3RoaXMud2lkdGggPSBNYXRoLmNlaWwod2lkdGgpIHx8IDEwMDtcbiAgICAgICAgX3RoaXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCkgfHwgMTAwO1xuICAgICAgICBfdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgIF90aGlzLmNsZWFyQ29sb3IgPSBbMCwgMCwgMCwgMF07XG4gICAgICAgIF90aGlzLmZyYW1lYnVmZmVyID0gbmV3IEZyYW1lYnVmZmVyKF90aGlzLndpZHRoICogX3RoaXMucmVzb2x1dGlvbiwgX3RoaXMuaGVpZ2h0ICogX3RoaXMucmVzb2x1dGlvbilcbiAgICAgICAgICAgIC5hZGRDb2xvclRleHR1cmUoMCwgX3RoaXMpO1xuICAgICAgICAvLyBUT0RPIC0gY291bGQgdGhpcyBiZSBhZGRlZCB0aGUgc3lzdGVtcz9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHN0cnVjdHVyZSBmb3IgdGhlIHN0ZW5jaWwgbWFza3MuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWFza0RhdGFbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hc2tTdGFjayA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRhdGEgc3RydWN0dXJlIGZvciB0aGUgZmlsdGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWx0ZXJTdGFjayA9IFt7fV07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgQmFzZVJlbmRlclRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IHRvIHJlc2l6ZSB0by5cbiAgICAgKi9cbiAgICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5yZXNpemUod2lkdGggKiB0aGlzLnJlc29sdXRpb24sIGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGcmVlcyB0aGUgdGV4dHVyZSBhbmQgZnJhbWVidWZmZXIgZnJvbSBXZWJHTCBtZW1vcnkgd2l0aG91dCBkZXN0cm95aW5nIHRoaXMgdGV4dHVyZSBvYmplY3QuXG4gICAgICogVGhpcyBtZWFucyB5b3UgY2FuIHN0aWxsIHVzZSB0aGUgdGV4dHVyZSBsYXRlciB3aGljaCB3aWxsIHVwbG9hZCBpdCB0byBHUFVcbiAgICAgKiBtZW1vcnkgYWdhaW4uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICovXG4gICAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIuZGlzcG9zZSgpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIuZGVzdHJveURlcHRoVGV4dHVyZSgpO1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlUmVuZGVyVGV4dHVyZTtcbn0oQmFzZVRleHR1cmUpKTtcblxuLyoqXG4gKiBTdG9yZXMgYSB0ZXh0dXJlJ3MgZnJhbWUgaW4gVVYgY29vcmRpbmF0ZXMsIGluXG4gKiB3aGljaCBldmVyeXRoaW5nIGxpZXMgaW4gdGhlIHJlY3RhbmdsZSBgWygwLDApLCAoMSwwKSxcbiAqICgxLDEpLCAoMCwxKV1gLlxuICpcbiAqIHwgQ29ybmVyICAgICAgIHwgQ29vcmRpbmF0ZXMgfFxuICogfC0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS18XG4gKiB8IFRvcC1MZWZ0ICAgICB8IGAoeDAseTApYCAgIHxcbiAqIHwgVG9wLVJpZ2h0ICAgIHwgYCh4MSx5MSlgICAgfFxuICogfCBCb3R0b20tUmlnaHQgfCBgKHgyLHkyKWAgICB8XG4gKiB8IEJvdHRvbS1MZWZ0ICB8IGAoeDMseTMpYCAgIHxcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcm90ZWN0ZWRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlVXZzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRleHR1cmVVdnMoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBYLWNvbXBvbmVudCBvZiB0b3AtbGVmdCBjb3JuZXIgYCh4MCx5MClgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLngwID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFktY29tcG9uZW50IG9mIHRvcC1sZWZ0IGNvcm5lciBgKHgwLHkwKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueTAgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogWC1jb21wb25lbnQgb2YgdG9wLXJpZ2h0IGNvcm5lciBgKHgxLHkxKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueDEgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogWS1jb21wb25lbnQgb2YgdG9wLXJpZ2h0IGNvcm5lciBgKHgxLHkxKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueTEgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogWC1jb21wb25lbnQgb2YgYm90dG9tLXJpZ2h0IGNvcm5lciBgKHgyLHkyKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueDIgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogWS1jb21wb25lbnQgb2YgYm90dG9tLXJpZ2h0IGNvcm5lciBgKHgyLHkyKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueTIgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogWC1jb21wb25lbnQgb2YgYm90dG9tLWxlZnQgY29ybmVyIGAoeDMseTMpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54MyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBZLWNvbXBvbmVudCBvZiBib3R0b20tcmlnaHQgY29ybmVyIGAoeDMseTMpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55MyA9IDE7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMiA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRleHR1cmUgVXZzIGJhc2VkIG9uIHRoZSBnaXZlbiBmcmFtZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBmcmFtZSAtIFRoZSBmcmFtZSBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGJhc2VGcmFtZSAtIFRoZSBiYXNlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0ZSAtIFJvdGF0aW9uIG9mIGZyYW1lLCBzZWUge0BsaW5rIFBJWEkuZ3JvdXBEOH1cbiAgICAgKi9cbiAgICBUZXh0dXJlVXZzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoZnJhbWUsIGJhc2VGcmFtZSwgcm90YXRlKSB7XG4gICAgICAgIHZhciB0dyA9IGJhc2VGcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIHRoID0gYmFzZUZyYW1lLmhlaWdodDtcbiAgICAgICAgaWYgKHJvdGF0ZSkge1xuICAgICAgICAgICAgLy8gd2lkdGggYW5kIGhlaWdodCBkaXYgMiBkaXYgYmFzZUZyYW1lIHNpemVcbiAgICAgICAgICAgIHZhciB3MiA9IGZyYW1lLndpZHRoIC8gMiAvIHR3O1xuICAgICAgICAgICAgdmFyIGgyID0gZnJhbWUuaGVpZ2h0IC8gMiAvIHRoO1xuICAgICAgICAgICAgLy8gY29vcmRpbmF0ZXMgb2YgY2VudGVyXG4gICAgICAgICAgICB2YXIgY1ggPSAoZnJhbWUueCAvIHR3KSArIHcyO1xuICAgICAgICAgICAgdmFyIGNZID0gKGZyYW1lLnkgLyB0aCkgKyBoMjtcbiAgICAgICAgICAgIHJvdGF0ZSA9IGdyb3VwRDguYWRkKHJvdGF0ZSwgZ3JvdXBEOC5OVyk7IC8vIE5XIGlzIHRvcC1sZWZ0IGNvcm5lclxuICAgICAgICAgICAgdGhpcy54MCA9IGNYICsgKHcyICogZ3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgICAgIHRoaXMueTAgPSBjWSArIChoMiAqIGdyb3VwRDgudVkocm90YXRlKSk7XG4gICAgICAgICAgICByb3RhdGUgPSBncm91cEQ4LmFkZChyb3RhdGUsIDIpOyAvLyByb3RhdGUgOTAgZGVncmVlcyBjbG9ja3dpc2VcbiAgICAgICAgICAgIHRoaXMueDEgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkxID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuICAgICAgICAgICAgcm90YXRlID0gZ3JvdXBEOC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgICAgIHRoaXMueDIgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkyID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuICAgICAgICAgICAgcm90YXRlID0gZ3JvdXBEOC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgICAgIHRoaXMueDMgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkzID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy54MCA9IGZyYW1lLnggLyB0dztcbiAgICAgICAgICAgIHRoaXMueTAgPSBmcmFtZS55IC8gdGg7XG4gICAgICAgICAgICB0aGlzLngxID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgICAgIHRoaXMueTEgPSBmcmFtZS55IC8gdGg7XG4gICAgICAgICAgICB0aGlzLngyID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgICAgIHRoaXMueTIgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcbiAgICAgICAgICAgIHRoaXMueDMgPSBmcmFtZS54IC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkzID0gKGZyYW1lLnkgKyBmcmFtZS5oZWlnaHQpIC8gdGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzBdID0gdGhpcy54MDtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzFdID0gdGhpcy55MDtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzJdID0gdGhpcy54MTtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzNdID0gdGhpcy55MTtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzRdID0gdGhpcy54MjtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzVdID0gdGhpcy55MjtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzZdID0gdGhpcy54MztcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzddID0gdGhpcy55MztcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlVXZzO1xufSgpKTtcblxudmFyIERFRkFVTFRfVVZTID0gbmV3IFRleHR1cmVVdnMoKTtcbi8qKlxuICogQSB0ZXh0dXJlIHN0b3JlcyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlIG9yIHBhcnQgb2YgYW4gaW1hZ2UuXG4gKlxuICogSXQgY2Fubm90IGJlIGFkZGVkIHRvIHRoZSBkaXNwbGF5IGxpc3QgZGlyZWN0bHk7IGluc3RlYWQgdXNlIGl0IGFzIHRoZSB0ZXh0dXJlIGZvciBhIFNwcml0ZS5cbiAqIElmIG5vIGZyYW1lIGlzIHByb3ZpZGVkIGZvciBhIHRleHR1cmUsIHRoZW4gdGhlIHdob2xlIGltYWdlIGlzIHVzZWQuXG4gKlxuICogWW91IGNhbiBkaXJlY3RseSBjcmVhdGUgYSB0ZXh0dXJlIGZyb20gYW4gaW1hZ2UgYW5kIHRoZW4gcmV1c2UgaXQgbXVsdGlwbGUgdGltZXMgbGlrZSB0aGlzIDpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogbGV0IHNwcml0ZTEgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiBsZXQgc3ByaXRlMiA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIGBgYFxuICpcbiAqIElmIHlvdSBkaWRudCBwYXNzIHRoZSB0ZXh0dXJlIGZyYW1lIHRvIGNvbnN0cnVjdG9yLCBpdCBlbmFibGVzIGBub0ZyYW1lYCBtb2RlOlxuICogaXQgc3Vic2NyaWJlcyBvbiBiYXNlVGV4dHVyZSBldmVudHMsIGl0IGF1dG9tYXRpY2FsbHkgcmVzaXplcyBhdCB0aGUgc2FtZSB0aW1lIGFzIGJhc2VUZXh0dXJlLlxuICpcbiAqIFRleHR1cmVzIG1hZGUgZnJvbSBTVkdzLCBsb2FkZWQgb3Igbm90LCBjYW5ub3QgYmUgdXNlZCBiZWZvcmUgdGhlIGZpbGUgZmluaXNoZXMgcHJvY2Vzc2luZy5cbiAqIFlvdSBjYW4gY2hlY2sgZm9yIHRoaXMgYnkgY2hlY2tpbmcgdGhlIHNwcml0ZSdzIF90ZXh0dXJlSUQgcHJvcGVydHkuXG4gKiBgYGBqc1xuICogdmFyIHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbSgnYXNzZXRzL2ltYWdlLnN2ZycpO1xuICogdmFyIHNwcml0ZTEgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiAvL3Nwcml0ZTEuX3RleHR1cmVJRCBzaG91bGQgbm90IGJlIHVuZGVmaW5lZCBpZiB0aGUgdGV4dHVyZSBoYXMgZmluaXNoZWQgcHJvY2Vzc2luZyB0aGUgU1ZHIGZpbGVcbiAqIGBgYFxuICogWW91IGNhbiB1c2UgYSB0aWNrZXIgb3IgckFGIHRvIGVuc3VyZSB5b3VyIHNwcml0ZXMgbG9hZCB0aGUgZmluaXNoZWQgdGV4dHVyZXMgYWZ0ZXIgcHJvY2Vzc2luZy4gU2VlIGlzc3VlICMzMDY4LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZXh0dXJlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlIHNvdXJjZSB0byBjcmVhdGUgdGhlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtmcmFtZV0gLSBUaGUgcmVjdGFuZ2xlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlIHRvIHNob3dcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbb3JpZ10gLSBUaGUgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3RyaW1dIC0gVHJpbW1lZCByZWN0YW5nbGUgb2Ygb3JpZ2luYWwgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRlXSAtIGluZGljYXRlcyBob3cgdGhlIHRleHR1cmUgd2FzIHJvdGF0ZWQgYnkgdGV4dHVyZSBwYWNrZXIuIFNlZSB7QGxpbmsgUElYSS5ncm91cEQ4fVxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBbYW5jaG9yXSAtIERlZmF1bHQgYW5jaG9yIHBvaW50IHVzZWQgZm9yIHNwcml0ZSBwbGFjZW1lbnQgLyByb3RhdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmUoYmFzZVRleHR1cmUsIGZyYW1lLCBvcmlnLCB0cmltLCByb3RhdGUsIGFuY2hvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyB0aGlzIFRleHR1cmUgaGF2ZSBhbnkgZnJhbWUgZGF0YSBhc3NpZ25lZCB0byBpdD9cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtb2RlIGlzIGVuYWJsZWQgYXV0b21hdGljYWxseSBpZiBubyBmcmFtZSB3YXMgcGFzc2VkIGluc2lkZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICpcbiAgICAgICAgICogSW4gdGhpcyBtb2RlIHRleHR1cmUgaXMgc3Vic2NyaWJlZCB0byBiYXNlVGV4dHVyZSBldmVudHMsIGFuZCBmaXJlcyBgdXBkYXRlYCBvbiBhbnkgY2hhbmdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCZXdhcmUsIGFmdGVyIGxvYWRpbmcgb3IgcmVzaXplIG9mIGJhc2VUZXh0dXJlIGV2ZW50IGNhbiBmaXJlZCB0d28gdGltZXMhXG4gICAgICAgICAqIElmIHlvdSB3YW50IG1vcmUgY29udHJvbCwgc3Vic2NyaWJlIG9uIGJhc2VUZXh0dXJlIGl0c2VsZi5cbiAgICAgICAgICpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogdGV4dHVyZS5vbigndXBkYXRlJywgKCkgPT4ge30pO1xuICAgICAgICAgKiBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogQW55IGFzc2lnbm1lbnQgb2YgYGZyYW1lYCBzd2l0Y2hlcyBvZmYgYG5vRnJhbWVgIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG4gICAgICAgIGlmICghZnJhbWUpIHtcbiAgICAgICAgICAgIF90aGlzLm5vRnJhbWUgPSB0cnVlO1xuICAgICAgICAgICAgZnJhbWUgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiYXNlVGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHRleHR1cmUgdGhhdCB0aGlzIHRleHR1cmUgdXNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBhcmVhIG9mIHRoZSBCYXNlVGV4dHVyZSBpbWFnZSB0byBhY3R1YWxseSBjb3B5IHRvIHRoZSBDYW52YXMgLyBXZWJHTCB3aGVuIHJlbmRlcmluZyxcbiAgICAgICAgICogaXJyZXNwZWN0aXZlIG9mIHRoZSBhY3R1YWwgZnJhbWUgc2l6ZSBvciBwbGFjZW1lbnQgKHdoaWNoIGNhbiBiZSBpbmZsdWVuY2VkIGJ5IHRyaW1tZWQgdGV4dHVyZSBhdGxhc2VzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mcmFtZSA9IGZyYW1lO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgdHJpbW1lZCBhcmVhIG9mIG9yaWdpbmFsIHRleHR1cmUsIGJlZm9yZSBpdCB3YXMgcHV0IGluIGF0bGFzXG4gICAgICAgICAqIFBsZWFzZSBjYWxsIGB1cGRhdGVVdnMoKWAgYWZ0ZXIgeW91IGNoYW5nZSBjb29yZGluYXRlcyBvZiBgdHJpbWAgbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJpbSA9IHRyaW07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZhbGlkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgVVYgZGF0YSBjYWNoZS4gQ2FuIGJlIHVzZWQgYXMgcXVhZCBVVlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVVdnN9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91dnMgPSBERUZBVUxUX1VWUztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgVGV4dHVyZU1hdHJpeCBpbnN0YW5jZSBmb3IgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqIEJ5IGRlZmF1bHQgdGhhdCBvYmplY3QgaXMgbm90IGNyZWF0ZWQgYmVjYXVzZSBpdHMgaGVhdnlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZNYXRyaXggPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlLCBiZWZvcmUgaXQgd2FzIHB1dCBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWcgPSBvcmlnIHx8IGZyYW1lOyAvLyBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuICAgICAgICBfdGhpcy5fcm90YXRlID0gTnVtYmVyKHJvdGF0ZSB8fCAwKTtcbiAgICAgICAgaWYgKHJvdGF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBvbGQgdGV4dHVyZXBhY2tlciBsZWdhY3ksIHNvbWUgZ2FtZXMvbGlicmFyaWVzIGFyZSBwYXNzaW5nIFwidHJ1ZVwiIGZvciByb3RhdGVkIHRleHR1cmVzXG4gICAgICAgICAgICBfdGhpcy5fcm90YXRlID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfdGhpcy5fcm90YXRlICUgMiAhPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhdHRlbXB0IHRvIHVzZSBkaWFtb25kLXNoYXBlZCBVVnMuIElmIHlvdSBhcmUgc3VyZSwgc2V0IHJvdGF0aW9uIG1hbnVhbGx5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuY2hvciBwb2ludCB0aGF0IGlzIHVzZWQgYXMgZGVmYXVsdCBpZiBzcHJpdGUgaXMgY3JlYXRlZCB3aXRoIHRoaXMgdGV4dHVyZS5cbiAgICAgICAgICogQ2hhbmdpbmcgdGhlIGBkZWZhdWx0QW5jaG9yYCBhdCBhIGxhdGVyIHBvaW50IG9mIHRpbWUgd2lsbCBub3QgdXBkYXRlIFNwcml0ZSdzIGFuY2hvciBwb2ludC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICogQGRlZmF1bHQgezAsMH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRBbmNob3IgPSBhbmNob3IgPyBuZXcgUG9pbnQoYW5jaG9yLngsIGFuY2hvci55KSA6IG5ldyBQb2ludCgwLCAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBJRCBpcyBvYnNlcnZlZCBieSBzcHJpdGVzIGFuZCBUZXh0dXJlTWF0cml4IGluc3RhbmNlcy5cbiAgICAgICAgICogQ2FsbCB1cGRhdGVVdnMoKSB0byBpbmNyZW1lbnQgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpZHMgdW5kZXIgd2hpY2ggdGhpcyBUZXh0dXJlIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSB0ZXh0dXJlIGNhY2hlLiBUaGlzIGlzXG4gICAgICAgICAqIGF1dG9tYXRpY2FsbHkgc2V0IGFzIGxvbmcgYXMgVGV4dHVyZS5hZGRUb0NhY2hlIGlzIHVzZWQsIGJ1dCBtYXkgbm90IGJlIHNldCBpZiBhXG4gICAgICAgICAqIFRleHR1cmUgaXMgYWRkZWQgZGlyZWN0bHkgdG8gdGhlIFRleHR1cmVDYWNoZSBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUub25jZSgnbG9hZGVkJywgX3RoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIF90aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfdGhpcy5ub0ZyYW1lKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBmcmFtZSB3ZSBzaG91bGQgbW9uaXRvciBmb3IgYW55IGJhc2UgdGV4dHVyZSBjaGFuZ2VzLi5cbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmZyYW1lID0gZnJhbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF90aGlzLm5vRnJhbWUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLm9uKCd1cGRhdGUnLCBfdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgX3RoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGlzIHRleHR1cmUgb24gdGhlIGdwdS5cbiAgICAgKlxuICAgICAqIENhbGxzIHRoZSBUZXh0dXJlUmVzb3VyY2UgdXBkYXRlLlxuICAgICAqXG4gICAgICogSWYgeW91IGFkanVzdGVkIGBmcmFtZWAgbWFudWFsbHksIHBsZWFzZSBjYWxsIGB1cGRhdGVVdnMoKWAgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2UudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBiYXNlIHRleHR1cmUgaXMgdXBkYXRlZFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLm9uQmFzZVRleHR1cmVVcGRhdGVkID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmICh0aGlzLm5vRnJhbWUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lLndpZHRoID0gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSBiYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPIHRoaXMgY29kZSBsb29rcyBjb25mdXNpbmcuLiBib28gdG8gYWJ1c2luZyBnZXR0ZXJzIGFuZCBzZXR0ZXJzIVxuICAgICAgICAgICAgLy8gaWYgdXNlciBnYXZlIHVzIGZyYW1lIHRoYXQgaGFzIGJpZ2dlciBzaXplIHRoYW4gcmVzaXplZCB0ZXh0dXJlIGl0IGNhbiBiZSBhIHByb2JsZW1cbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSB0aGlzLl9mcmFtZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95QmFzZT1mYWxzZV0gLSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChkZXN0cm95QmFzZSkge1xuICAgICAgICBpZiAodGhpcy5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgaWYgKGRlc3Ryb3lCYXNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc291cmNlID0gdGhpcy5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgdGhlIHRleHR1cmUgaWYgaXQgZXhpc3RzIGluIHRoZSB0ZXh0dXJlIGNhY2hlLi5cbiAgICAgICAgICAgICAgICAvLyB0aGlzIG9ubHkgbmVlZHMgdG8gYmUgcmVtb3ZlZCBpZiB0aGUgYmFzZSB0ZXh0dXJlIGlzIGFjdHVhbGx5IGRlc3Ryb3llZCB0b28uLlxuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZSAmJiByZXNvdXJjZS51cmwgJiYgVGV4dHVyZUNhY2hlW3Jlc291cmNlLnVybF0pIHtcbiAgICAgICAgICAgICAgICAgICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUocmVzb3VyY2UudXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9mZignbG9hZGVkJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3V2cyA9IG51bGw7XG4gICAgICAgIHRoaXMudHJpbSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZyA9IG51bGw7XG4gICAgICAgIHRoaXMudmFsaWQgPSBmYWxzZTtcbiAgICAgICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGV4dHVyZSBvYmplY3QgdGhhdCBhY3RzIHRoZSBzYW1lIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3IHRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKHRoaXMuYmFzZVRleHR1cmUsIHRoaXMuZnJhbWUuY2xvbmUoKSwgdGhpcy5vcmlnLmNsb25lKCksIHRoaXMudHJpbSAmJiB0aGlzLnRyaW0uY2xvbmUoKSwgdGhpcy5yb3RhdGUsIHRoaXMuZGVmYXVsdEFuY2hvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBpbnRlcm5hbCBXZWJHTCBVViBjYWNoZS4gVXNlIGl0IGFmdGVyIHlvdSBjaGFuZ2UgYGZyYW1lYCBvciBgdHJpbWAgb2YgdGhlIHRleHR1cmUuXG4gICAgICogQ2FsbCBpdCBhZnRlciBjaGFuZ2luZyB0aGUgZnJhbWVcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS51cGRhdGVVdnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl91dnMgPT09IERFRkFVTFRfVVZTKSB7XG4gICAgICAgICAgICB0aGlzLl91dnMgPSBuZXcgVGV4dHVyZVV2cygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3V2cy5zZXQodGhpcy5fZnJhbWUsIHRoaXMuYmFzZVRleHR1cmUsIHRoaXMucm90YXRlKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgVGV4dHVyZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFBJWEkuQmFzZVRleHR1cmV9IHNvdXJjZVxuICAgICAqICAgICAgICBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0cmljdF0gLSBFbmZvcmNlIHN0cmljdC1tb2RlLCBzZWUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEV9LlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbSA9IGZ1bmN0aW9uIChzb3VyY2UsIG9wdGlvbnMsIHN0cmljdCkge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAoc3RyaWN0ID09PSB2b2lkIDApIHsgc3RyaWN0ID0gc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEU7IH1cbiAgICAgICAgdmFyIGlzRnJhbWUgPSB0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJztcbiAgICAgICAgdmFyIGNhY2hlSWQgPSBudWxsO1xuICAgICAgICBpZiAoaXNGcmFtZSkge1xuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghc291cmNlLl9waXhpSWQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UuX3BpeGlJZCA9IFwicGl4aWlkX1wiICsgdWlkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlLl9waXhpSWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleHR1cmUgPSBUZXh0dXJlQ2FjaGVbY2FjaGVJZF07XG4gICAgICAgIC8vIFN0cmljdC1tb2RlIHJlamVjdHMgaW52YWxpZCBjYWNoZUlkc1xuICAgICAgICBpZiAoaXNGcmFtZSAmJiBzdHJpY3QgJiYgIXRleHR1cmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBjYWNoZUlkIFxcXCJcIiArIGNhY2hlSWQgKyBcIlxcXCIgZG9lcyBub3QgZXhpc3QgaW4gVGV4dHVyZUNhY2hlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5yZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5yZXNvbHV0aW9uID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0dXJlID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgb3B0aW9ucykpO1xuICAgICAgICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS5jYWNoZUlkID0gY2FjaGVJZDtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGV0cyBhc3N1bWUgaXRzIGEgYmFzZSB0ZXh0dXJlIVxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWZ1bCBmb3IgbG9hZGluZyB0ZXh0dXJlcyB2aWEgVVJMcy4gVXNlIGluc3RlYWQgb2YgYFRleHR1cmUuZnJvbWAgYmVjYXVzZVxuICAgICAqIGl0IGRvZXMgYSBiZXR0ZXIgam9iIG9mIGhhbmRsaW5nIGZhaWxlZCBVUkxzIG1vcmUgZWZmZWN0aXZlbHkuIFRoaXMgYWxzbyBpZ25vcmVzXG4gICAgICogYFBJWEkuc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEVgLiBXb3JrcyBmb3IgVmlkZW9zLCBTVkdzLCBJbWFnZXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgcmVtb3RlIFVSTCB0byBsb2FkLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgb3B0aW9ucyB0byBpbmNsdWRlXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxQSVhJLlRleHR1cmU+fSBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIFRleHR1cmUuXG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tVVJMID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgcmVzb3VyY2VPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGF1dG9Mb2FkOiBmYWxzZSB9LCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucmVzb3VyY2VPcHRpb25zKTtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBUZXh0dXJlLmZyb20odXJsLCBPYmplY3QuYXNzaWduKHsgcmVzb3VyY2VPcHRpb25zOiByZXNvdXJjZU9wdGlvbnMgfSwgb3B0aW9ucyksIGZhbHNlKTtcbiAgICAgICAgdmFyIHJlc291cmNlID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvdXJjZTtcbiAgICAgICAgLy8gVGhlIHRleHR1cmUgd2FzIGFscmVhZHkgbG9hZGVkXG4gICAgICAgIGlmICh0ZXh0dXJlLmJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1hbnVhbGx5IGxvYWQgdGhlIHRleHR1cmUsIHRoaXMgc2hvdWxkIGFsbG93IHVzZXJzIHRvIGhhbmRsZSBsb2FkIGVycm9yc1xuICAgICAgICByZXR1cm4gcmVzb3VyY2UubG9hZCgpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRleHR1cmUpOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBUZXh0dXJlIHdpdGggYSBCdWZmZXJSZXNvdXJjZSBmcm9tIGEgRmxvYXQzMkFycmF5LlxuICAgICAqIFJHQkEgdmFsdWVzIGFyZSBmbG9hdHMgZnJvbSAwIHRvIDEuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl9IGJ1ZmZlciAtIFRoZSBvcHRpb25hbCBhcnJheSB0byB1c2UsIGlmIG5vIGRhdGFcbiAgICAgKiAgICAgICAgaXMgcHJvdmlkZWQsIGEgbmV3IEZsb2F0MzJBcnJheSBpcyBjcmVhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgcmVzdWx0aW5nIG5ldyBCYXNlVGV4dHVyZVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbUJ1ZmZlciA9IGZ1bmN0aW9uIChidWZmZXIsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKEJhc2VUZXh0dXJlLmZyb21CdWZmZXIoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0ZXh0dXJlIGZyb20gYSBzb3VyY2UgYW5kIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBzb3VyY2UgLSBUaGUgaW5wdXQgc291cmNlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpbWFnZVVybCAtIEZpbGUgbmFtZSBvZiB0ZXh0dXJlLCBmb3IgY2FjaGUgYW5kIHJlc29sdmluZyByZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbbmFtZV0gLSBIdW1hbiByZWFkYWJsZSBuYW1lIGZvciB0aGUgdGV4dHVyZSBjYWNoZS4gSWYgbm8gbmFtZSBpc1xuICAgICAqICAgICAgICBzcGVjaWZpZWQsIG9ubHkgYGltYWdlVXJsYCB3aWxsIGJlIHVzZWQgYXMgdGhlIGNhY2hlIElELlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gT3V0cHV0IHRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21Mb2FkZXIgPSBmdW5jdGlvbiAoc291cmNlLCBpbWFnZVVybCwgbmFtZSkge1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSBuZXcgSW1hZ2VSZXNvdXJjZShzb3VyY2UpO1xuICAgICAgICByZXNvdXJjZS51cmwgPSBpbWFnZVVybDtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKHJlc291cmNlLCB7XG4gICAgICAgICAgICBzY2FsZU1vZGU6IHNldHRpbmdzLlNDQUxFX01PREUsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiBnZXRSZXNvbHV0aW9uT2ZVcmwoaW1hZ2VVcmwpLFxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBuZXcgVGV4dHVyZShiYXNlVGV4dHVyZSk7XG4gICAgICAgIC8vIE5vIG5hbWUsIHVzZSBpbWFnZVVybCBpbnN0ZWFkXG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IGltYWdlVXJsO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yICdmcm9tTG9hZGVyJyBmdW5jdGlvblxuICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIG5hbWUpO1xuICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgbmFtZSk7XG4gICAgICAgIC8vIGFsc28gYWRkIHJlZmVyZW5jZXMgYnkgdXJsIGlmIHRoZXkgYXJlIGRpZmZlcmVudC5cbiAgICAgICAgaWYgKG5hbWUgIT09IGltYWdlVXJsKSB7XG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgVGV4dHVyZSB0byB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS4gVGhpcyBjYWNoZSBpcyBzaGFyZWQgYWNyb3NzIHRoZSB3aG9sZSBQSVhJIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSBUZXh0dXJlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRoYXQgdGhlIFRleHR1cmUgd2lsbCBiZSBzdG9yZWQgYWdhaW5zdC5cbiAgICAgKi9cbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUgPSBmdW5jdGlvbiAodGV4dHVyZSwgaWQpIHtcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICBpZiAodGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihpZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoVGV4dHVyZUNhY2hlW2lkXSkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGV4dHVyZSBhZGRlZCB0byB0aGUgY2FjaGUgd2l0aCBhbiBpZCBbXCIgKyBpZCArIFwiXSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgVGV4dHVyZUNhY2hlW2lkXSA9IHRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIFRleHR1cmUgZnJvbSB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBpZCBvZiBhIFRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBUZXh0dXJlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZXxudWxsfSBUaGUgVGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkXG4gICAgICovXG4gICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiAodGV4dHVyZSkge1xuICAgICAgICBpZiAodHlwZW9mIHRleHR1cmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZUZyb21DYWNoZSA9IFRleHR1cmVDYWNoZVt0ZXh0dXJlXTtcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlRnJvbUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZih0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RleHR1cmVdO1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlRnJvbUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRleHR1cmUgJiYgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHRleHR1cmUgbWF0Y2hlcyB0aGUgb25lIGJlaW5nIHBhc3NlZCBpbiBiZWZvcmUgZGVsZXRpbmcgaXQgZnJvbSB0aGUgY2FjaGUuXG4gICAgICAgICAgICAgICAgaWYgKFRleHR1cmVDYWNoZVt0ZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV0gPT09IHRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVt0ZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHR1cmUucHJvdG90eXBlLCBcInJlc29sdXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyByZXNvbHV0aW9uIG9mIGJhc2VUZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZS5wcm90b3R5cGUsIFwiZnJhbWVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZyYW1lIHNwZWNpZmllcyB0aGUgcmVnaW9uIG9mIHRoZSBiYXNlIHRleHR1cmUgdGhhdCB0aGlzIHRleHR1cmUgdXNlcy5cbiAgICAgICAgICogUGxlYXNlIGNhbGwgYHVwZGF0ZVV2cygpYCBhZnRlciB5b3UgY2hhbmdlIGNvb3JkaW5hdGVzIG9mIGBmcmFtZWAgbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZnJhbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZSA9IGZyYW1lO1xuICAgICAgICAgICAgdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgeCA9IGZyYW1lLngsIHkgPSBmcmFtZS55LCB3aWR0aCA9IGZyYW1lLndpZHRoLCBoZWlnaHQgPSBmcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICB2YXIgeE5vdEZpdCA9IHggKyB3aWR0aCA+IHRoaXMuYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICB2YXIgeU5vdEZpdCA9IHkgKyBoZWlnaHQgPiB0aGlzLmJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgIGlmICh4Tm90Rml0IHx8IHlOb3RGaXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVsYXRpb25zaGlwID0geE5vdEZpdCAmJiB5Tm90Rml0ID8gJ2FuZCcgOiAnb3InO1xuICAgICAgICAgICAgICAgIHZhciBlcnJvclggPSBcIlg6IFwiICsgeCArIFwiICsgXCIgKyB3aWR0aCArIFwiID0gXCIgKyAoeCArIHdpZHRoKSArIFwiID4gXCIgKyB0aGlzLmJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBlcnJvclkgPSBcIlk6IFwiICsgeSArIFwiICsgXCIgKyBoZWlnaHQgKyBcIiA9IFwiICsgKHkgKyBoZWlnaHQpICsgXCIgPiBcIiArIHRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGV4dHVyZSBFcnJvcjogZnJhbWUgZG9lcyBub3QgZml0IGluc2lkZSB0aGUgYmFzZSBUZXh0dXJlIGRpbWVuc2lvbnM6ICdcbiAgICAgICAgICAgICAgICAgICAgKyAoZXJyb3JYICsgXCIgXCIgKyByZWxhdGlvbnNoaXAgKyBcIiBcIiArIGVycm9yWSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52YWxpZCA9IHdpZHRoICYmIGhlaWdodCAmJiB0aGlzLmJhc2VUZXh0dXJlLnZhbGlkO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRyaW0gJiYgIXRoaXMucm90YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnID0gZnJhbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy52YWxpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZS5wcm90b3R5cGUsIFwicm90YXRlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSB0ZXh0dXJlIGlzIHJvdGF0ZWQgaW5zaWRlIHRoZSBhdGxhc1xuICAgICAgICAgKiBzZXQgdG8gMiB0byBjb21wZW5zYXRlIGZvciB0ZXh0dXJlIHBhY2tlciByb3RhdGlvblxuICAgICAgICAgKiBzZXQgdG8gNiB0byBjb21wZW5zYXRlIGZvciBzcGluZSBwYWNrZXIgcm90YXRpb25cbiAgICAgICAgICogY2FuIGJlIHVzZWQgdG8gcm90YXRlIG9yIG1pcnJvciBzcHJpdGVzXG4gICAgICAgICAqIFNlZSB7QGxpbmsgUElYSS5ncm91cEQ4fSBmb3IgZXhwbGFuYXRpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChyb3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0ZSA9IHJvdGF0ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0dXJlLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIFRleHR1cmUgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWcud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZS5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRleHR1cmUgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgQmFzZVRleHR1cmV8VGV4dHVyZSBjYXN0XG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuY2FzdFRvQmFzZVRleHR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VUZXh0dXJlO1xuICAgIH07XG4gICAgcmV0dXJuIFRleHR1cmU7XG59KEV2ZW50RW1pdHRlcikpO1xuZnVuY3Rpb24gY3JlYXRlV2hpdGVUZXh0dXJlKCkge1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjYW52YXMud2lkdGggPSAxNjtcbiAgICBjYW52YXMuaGVpZ2h0ID0gMTY7XG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCAxNiwgMTYpO1xuICAgIHJldHVybiBuZXcgVGV4dHVyZShuZXcgQmFzZVRleHR1cmUobmV3IENhbnZhc1Jlc291cmNlKGNhbnZhcykpKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUFsbEhhbmRsZXJzKHRleCkge1xuICAgIHRleC5kZXN0cm95ID0gZnVuY3Rpb24gX2VtcHR5RGVzdHJveSgpIHsgfTtcbiAgICB0ZXgub24gPSBmdW5jdGlvbiBfZW1wdHlPbigpIHsgfTtcbiAgICB0ZXgub25jZSA9IGZ1bmN0aW9uIF9lbXB0eU9uY2UoKSB7IH07XG4gICAgdGV4LmVtaXQgPSBmdW5jdGlvbiBfZW1wdHlFbWl0KCkgeyB9O1xufVxuLyoqXG4gKiBBbiBlbXB0eSB0ZXh0dXJlLCB1c2VkIG9mdGVuIHRvIG5vdCBoYXZlIHRvIGNyZWF0ZSBtdWx0aXBsZSBlbXB0eSB0ZXh0dXJlcy5cbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICovXG5UZXh0dXJlLkVNUFRZID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKCkpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5FTVBUWSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLkVNUFRZLmJhc2VUZXh0dXJlKTtcbi8qKlxuICogQSB3aGl0ZSB0ZXh0dXJlIG9mIDE2eDE2IHNpemUsIHVzZWQgZm9yIGdyYXBoaWNzIGFuZCBvdGhlciB0aGluZ3NcbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICovXG5UZXh0dXJlLldISVRFID0gY3JlYXRlV2hpdGVUZXh0dXJlKCk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLldISVRFKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuV0hJVEUuYmFzZVRleHR1cmUpO1xuXG4vKipcbiAqIEEgUmVuZGVyVGV4dHVyZSBpcyBhIHNwZWNpYWwgdGV4dHVyZSB0aGF0IGFsbG93cyBhbnkgUGl4aUpTIGRpc3BsYXkgb2JqZWN0IHRvIGJlIHJlbmRlcmVkIHRvIGl0LlxuICpcbiAqIF9fSGludF9fOiBBbGwgRGlzcGxheU9iamVjdHMgKGkuZS4gU3ByaXRlcykgdGhhdCByZW5kZXIgdG8gYSBSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBfX0hpbnQtMl9fOiBUaGUgYWN0dWFsIG1lbW9yeSBhbGxvY2F0aW9uIHdpbGwgaGFwcGVuIG9uIGZpcnN0IHJlbmRlci5cbiAqIFlvdSBzaG91bGRuJ3QgY3JlYXRlIHJlbmRlclRleHR1cmVzIGVhY2ggZnJhbWUganVzdCB0byBkZWxldGUgdGhlbSBhZnRlciwgdHJ5IHRvIHJldXNlIHRoZW0uXG4gKlxuICogQSBSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoKTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSh7IHdpZHRoOiA4MDAsIGhlaWdodDogNjAwIH0pO1xuICogbGV0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oXCJzcGluT2JqXzAxLnBuZ1wiKTtcbiAqXG4gKiBzcHJpdGUucG9zaXRpb24ueCA9IDgwMC8yO1xuICogc3ByaXRlLnBvc2l0aW9uLnkgPSA2MDAvMjtcbiAqIHNwcml0ZS5hbmNob3IueCA9IDAuNTtcbiAqIHNwcml0ZS5hbmNob3IueSA9IDAuNTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCByZW5kZXJUZXh0dXJlKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBTcHJpdGUgaW4gdGhpcyBjYXNlIHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgaXRzIGxvY2FsIHRyYW5zZm9ybS4gVG8gcmVuZGVyIHRoaXMgc3ByaXRlIGF0IDAsMFxuICogeW91IGNhbiBjbGVhciB0aGUgdHJhbnNmb3JtXG4gKlxuICogYGBganNcbiAqXG4gKiBzcHJpdGUuc2V0VHJhbnNmb3JtKClcbiAqXG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUuY3JlYXRlKDEwMCwgMTAwKTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCByZW5kZXJUZXh0dXJlKTsgIC8vIFJlbmRlcnMgdG8gY2VudGVyIG9mIFJlbmRlclRleHR1cmVcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5UZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVuZGVyVGV4dHVyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVuZGVyVGV4dHVyZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVJlbmRlclRleHR1cmV9IGJhc2VSZW5kZXJUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZSBvYmplY3QgdGhhdCB0aGlzIHRleHR1cmUgdXNlc1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtmcmFtZV0gLSBUaGUgcmVjdGFuZ2xlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlIHRvIHNob3dcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZW5kZXJUZXh0dXJlKGJhc2VSZW5kZXJUZXh0dXJlLCBmcmFtZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBzdXBwb3J0IGZvciBsZWdhY3kuLlxuICAgICAgICB2YXIgX2xlZ2FjeVJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgaWYgKCEoYmFzZVJlbmRlclRleHR1cmUgaW5zdGFuY2VvZiBCYXNlUmVuZGVyVGV4dHVyZSkpIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcywgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIHZhciBzY2FsZU1vZGUgPSBhcmd1bWVudHNbM107XG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGFyZ3VtZW50c1s0XTtcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgYW4gb2xkIHJlbmRlciB0ZXh0dXJlLi5cbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlBsZWFzZSB1c2UgUmVuZGVyVGV4dHVyZS5jcmVhdGUoXCIgKyB3aWR0aCArIFwiLCBcIiArIGhlaWdodCArIFwiKSBpbnN0ZWFkIG9mIHRoZSBjdG9yIGRpcmVjdGx5LlwiKTtcbiAgICAgICAgICAgIF9sZWdhY3lSZW5kZXJlciA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBCYXNlUmVuZGVyVGV4dHVyZSh7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogc2NhbGVNb2RlLFxuICAgICAgICAgICAgICAgIHJlc29sdXRpb246IHJlc29sdXRpb24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2UgdGV4dHVyZSBvYmplY3QgdGhhdCB0aGlzIHRleHR1cmUgdXNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBiYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWUpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmxlZ2FjeVJlbmRlcmVyID0gX2xlZ2FjeVJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB3aWxsIGxldCB0aGUgcmVuZGVyZXIga25vdyBpZiB0aGUgdGV4dHVyZSBpcyB2YWxpZC4gSWYgaXQncyBub3QgdGhlbiBpdCBjYW5ub3QgYmUgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdG9yZXMgYHNvdXJjZUZyYW1lYCB3aGVuIHRoaXMgdGV4dHVyZSBpcyBpbnNpZGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICAgICAqIFlvdSBjYW4gcmVhZCBpdCBpbnNpZGUgZmlsdGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyRnJhbWUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGtleSBmb3IgcG9vbGVkIHRleHR1cmUgb2YgRmlsdGVyU3lzdGVtXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyUG9vbEtleSA9IG51bGw7XG4gICAgICAgIF90aGlzLnVwZGF0ZVV2cygpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZW5kZXJUZXh0dXJlLnByb3RvdHlwZSwgXCJmcmFtZWJ1ZmZlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG9ydGN1dCB0byBgdGhpcy5iYXNlVGV4dHVyZS5mcmFtZWJ1ZmZlcmAsIHNhdmVzIGJhc2VUZXh0dXJlIGNhc3QuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRnJhbWVidWZmZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iYXNlVGV4dHVyZS5mcmFtZWJ1ZmZlcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIFJlbmRlclRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXNpemVCYXNlVGV4dHVyZT10cnVlXSAtIFNob3VsZCB0aGUgYmFzZVRleHR1cmUud2lkdGggYW5kIGhlaWdodCB2YWx1ZXMgYmUgcmVzaXplZCBhcyB3ZWxsP1xuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0LCByZXNpemVCYXNlVGV4dHVyZSkge1xuICAgICAgICBpZiAocmVzaXplQmFzZVRleHR1cmUgPT09IHZvaWQgMCkgeyByZXNpemVCYXNlVGV4dHVyZSA9IHRydWU7IH1cbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcbiAgICAgICAgLy8gVE9ETyAtIGNvdWxkIGJlIG5vdCByZXF1aXJlZC4uXG4gICAgICAgIHRoaXMudmFsaWQgPSAod2lkdGggPiAwICYmIGhlaWdodCA+IDApO1xuICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IHRoaXMub3JpZy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSB0aGlzLm9yaWcuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBpZiAocmVzaXplQmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSByZXNvbHV0aW9uIG9mIGJhc2VUZXh0dXJlLCBidXQgZG9lcyBub3QgY2hhbmdlIGZyYW1lYnVmZmVyIHNpemUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSBuZXcgcmVzb2x1dGlvbiB0byBhcHBseSB0byBSZW5kZXJUZXh0dXJlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuc2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChyZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRoaXMuYmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS5yZXNvbHV0aW9uID09PSByZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYmFzZVRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy5yZXNpemUoYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCwgZmFsc2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZS5jcmVhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAvLyBmYWxsYmFjaywgb2xkLXN0eWxlOiBjcmVhdGUod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBhcmd1bWVudHNbMV0sXG4gICAgICAgICAgICAgICAgc2NhbGVNb2RlOiBhcmd1bWVudHNbMl0sXG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogYXJndW1lbnRzWzNdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZW5kZXJUZXh0dXJlKG5ldyBCYXNlUmVuZGVyVGV4dHVyZShvcHRpb25zKSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVuZGVyVGV4dHVyZTtcbn0oVGV4dHVyZSkpO1xuXG4vKipcbiAqIEV4cGVyaW1lbnRhbCFcbiAqXG4gKiBUZXh0dXJlIHBvb2wsIHVzZWQgYnkgRmlsdGVyU3lzdGVtIGFuZCBwbHVnaW5zXG4gKiBTdG9yZXMgY29sbGVjdGlvbiBvZiB0ZW1wb3JhcnkgcG93MiBvciBzY3JlZW4tc2l6ZWQgcmVuZGVyVGV4dHVyZXNcbiAqXG4gKiBJZiB5b3UgdXNlIGN1c3RvbSBSZW5kZXJUZXh0dXJlUG9vbCBmb3IgeW91ciBmaWx0ZXJzLCB5b3UgY2FuIHVzZSBtZXRob2RzXG4gKiBgZ2V0RmlsdGVyVGV4dHVyZWAgYW5kIGByZXR1cm5GaWx0ZXJUZXh0dXJlYCBzYW1lIGFzIGluXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVuZGVyVGV4dHVyZVBvb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt0ZXh0dXJlT3B0aW9uc10gLSBvcHRpb25zIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gQmFzZVJlbmRlclRleHR1cmUgY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge1BJWEkuU0NBTEVfTU9ERVN9IFt0ZXh0dXJlT3B0aW9ucy5zY2FsZU1vZGVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlbmRlclRleHR1cmVQb29sKHRleHR1cmVPcHRpb25zKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wgPSB7fTtcbiAgICAgICAgdGhpcy50ZXh0dXJlT3B0aW9ucyA9IHRleHR1cmVPcHRpb25zIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQWxsb3cgcmVuZGVyVGV4dHVyZXMgb2YgdGhlIHNhbWUgc2l6ZSBhcyBzY3JlZW4sIG5vdCBqdXN0IHBvdzJcbiAgICAgICAgICpcbiAgICAgICAgICogQXV0b21hdGljYWxseSBzZXRzIHRvIHRydWUgYWZ0ZXIgYHNldFNjcmVlblNpemVgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGl4ZWxzV2lkdGggPSAwO1xuICAgICAgICB0aGlzLl9waXhlbHNIZWlnaHQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjcmVhdGVzIG9mIHRleHR1cmUgd2l0aCBwYXJhbXMgdGhhdCB3ZXJlIHNwZWNpZmllZCBpbiBwb29sIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbFdpZHRoIC0gd2lkdGggb2YgdGV4dHVyZSBpbiBwaXhlbHNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbEhlaWdodCAtIGhlaWdodCBvZiB0ZXh0dXJlIGluIHBpeGVsc1xuICAgICAqIEByZXR1cm5zIHtSZW5kZXJUZXh0dXJlfVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5jcmVhdGVUZXh0dXJlID0gZnVuY3Rpb24gKHJlYWxXaWR0aCwgcmVhbEhlaWdodCkge1xuICAgICAgICB2YXIgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgQmFzZVJlbmRlclRleHR1cmUoT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB3aWR0aDogcmVhbFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiByZWFsSGVpZ2h0LFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgfSwgdGhpcy50ZXh0dXJlT3B0aW9ucykpO1xuICAgICAgICByZXR1cm4gbmV3IFJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyBhIFBvd2VyLW9mLVR3byByZW5kZXIgdGV4dHVyZSBvciBmdWxsU2NyZWVuIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluV2lkdGggLSBUaGUgbWluaW11bSB3aWR0aCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbkhlaWdodCAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGV4dHVyZX0gVGhlIG5ldyByZW5kZXIgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuZ2V0T3B0aW1hbFRleHR1cmUgPSBmdW5jdGlvbiAobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSAxOyB9XG4gICAgICAgIHZhciBrZXkgPSBSZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZO1xuICAgICAgICBtaW5XaWR0aCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBtaW5IZWlnaHQgKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gfHwgbWluV2lkdGggIT09IHRoaXMuX3BpeGVsc1dpZHRoIHx8IG1pbkhlaWdodCAhPT0gdGhpcy5fcGl4ZWxzSGVpZ2h0KSB7XG4gICAgICAgICAgICBtaW5XaWR0aCA9IG5leHRQb3cyKG1pbldpZHRoKTtcbiAgICAgICAgICAgIG1pbkhlaWdodCA9IG5leHRQb3cyKG1pbkhlaWdodCk7XG4gICAgICAgICAgICBrZXkgPSAoKG1pbldpZHRoICYgMHhGRkZGKSA8PCAxNikgfCAobWluSGVpZ2h0ICYgMHhGRkZGKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMudGV4dHVyZVBvb2xba2V5XSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlUG9vbFtrZXldID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSB0aGlzLnRleHR1cmVQb29sW2tleV0ucG9wKCk7XG4gICAgICAgIGlmICghcmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMuY3JlYXRlVGV4dHVyZShtaW5XaWR0aCwgbWluSGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJUZXh0dXJlLmZpbHRlclBvb2xLZXkgPSBrZXk7XG4gICAgICAgIHJlbmRlclRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGV4dHJhIHRleHR1cmUgb2YgdGhlIHNhbWUgc2l6ZSBhcyBpbnB1dCByZW5kZXJUZXh0dXJlXG4gICAgICpcbiAgICAgKiBgZ2V0RmlsdGVyVGV4dHVyZShpbnB1dCwgMC41KWAgb3IgYGdldEZpbHRlclRleHR1cmUoMC41LCBpbnB1dClgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSByZW5kZXJUZXh0dXJlIGZyb20gd2hpY2ggc2l6ZSBhbmQgcmVzb2x1dGlvbiB3aWxsIGJlIGNvcGllZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gLSBvdmVycmlkZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJUZXh0dXJlXG4gICAgICogIEl0IG92ZXJyaWRlcywgaXQgZG9lcyBub3QgbXVsdGlwbHlcbiAgICAgKiBAcmV0dXJucyB7UElYSS5SZW5kZXJUZXh0dXJlfVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5nZXRGaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gKGlucHV0LCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciBmaWx0ZXJUZXh0dXJlID0gdGhpcy5nZXRPcHRpbWFsVGV4dHVyZShpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0LCByZXNvbHV0aW9uIHx8IGlucHV0LnJlc29sdXRpb24pO1xuICAgICAgICBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gaW5wdXQuZmlsdGVyRnJhbWU7XG4gICAgICAgIHJldHVybiBmaWx0ZXJUZXh0dXJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGxhY2UgYSByZW5kZXIgdGV4dHVyZSBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyVGV4dHVyZSB0byBmcmVlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLnJldHVyblRleHR1cmUgPSBmdW5jdGlvbiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICB2YXIga2V5ID0gcmVuZGVyVGV4dHVyZS5maWx0ZXJQb29sS2V5O1xuICAgICAgICByZW5kZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbFtrZXldLnB1c2gocmVuZGVyVGV4dHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgcmV0dXJuVGV4dHVyZSwgdG8gYmUgY29tcGxpYW50IHdpdGggRmlsdGVyU3lzdGVtIGludGVyZmFjZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlclRleHR1cmUgdG8gZnJlZVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5yZXR1cm5GaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5yZXR1cm5UZXh0dXJlKHJlbmRlclRleHR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBwb29sXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95VGV4dHVyZXM9dHJ1ZV0gLSBkZXN0cm95IGFsbCBzdG9yZWQgdGV4dHVyZXNcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoZGVzdHJveVRleHR1cmVzKSB7XG4gICAgICAgIGRlc3Ryb3lUZXh0dXJlcyA9IGRlc3Ryb3lUZXh0dXJlcyAhPT0gZmFsc2U7XG4gICAgICAgIGlmIChkZXN0cm95VGV4dHVyZXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy50ZXh0dXJlUG9vbCkge1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0dXJlcyA9IHRoaXMudGV4dHVyZVBvb2xbaV07XG4gICAgICAgICAgICAgICAgaWYgKHRleHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4dHVyZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbCA9IHt9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSWYgc2NyZWVuIHNpemUgd2FzIGNoYW5nZWQsIGRyb3BzIGFsbCBzY3JlZW4tc2l6ZWQgdGV4dHVyZXMsXG4gICAgICogc2V0cyBuZXcgc2NyZWVuIHNpemUsIHNldHMgYGVuYWJsZUZ1bGxTY3JlZW5gIHRvIHRydWVcbiAgICAgKlxuICAgICAqIFNpemUgaXMgbWVhc3VyZWQgaW4gcGl4ZWxzLCBgcmVuZGVyZXIudmlld2AgY2FuIGJlIHBhc3NlZCBoZXJlLCBub3QgYHJlbmRlcmVyLnNjcmVlbmBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JU2l6ZX0gc2l6ZSAtIEluaXRpYWwgc2l6ZSBvZiBzY3JlZW5cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuc2V0U2NyZWVuU2l6ZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIGlmIChzaXplLndpZHRoID09PSB0aGlzLl9waXhlbHNXaWR0aFxuICAgICAgICAgICAgJiYgc2l6ZS5oZWlnaHQgPT09IHRoaXMuX3BpeGVsc0hlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzY3JlZW5LZXkgPSBSZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZO1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSB0aGlzLnRleHR1cmVQb29sW3NjcmVlbktleV07XG4gICAgICAgIHRoaXMuZW5hYmxlRnVsbFNjcmVlbiA9IHNpemUud2lkdGggPiAwICYmIHNpemUuaGVpZ2h0ID4gMDtcbiAgICAgICAgaWYgKHRleHR1cmVzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZXNbal0uZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHR1cmVQb29sW3NjcmVlbktleV0gPSBbXTtcbiAgICAgICAgdGhpcy5fcGl4ZWxzV2lkdGggPSBzaXplLndpZHRoO1xuICAgICAgICB0aGlzLl9waXhlbHNIZWlnaHQgPSBzaXplLmhlaWdodDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEtleSB0aGF0IGlzIHVzZWQgdG8gc3RvcmUgZnVsbHNjcmVlbiByZW5kZXJUZXh0dXJlcyBpbiBhIHBvb2xcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3Qge3N0cmluZ31cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZID0gJ3NjcmVlbic7XG4gICAgcmV0dXJuIFJlbmRlclRleHR1cmVQb29sO1xufSgpKTtcblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuLyoqXG4gKiBIb2xkcyB0aGUgaW5mb3JtYXRpb24gZm9yIGEgc2luZ2xlIGF0dHJpYnV0ZSBzdHJ1Y3R1cmUgcmVxdWlyZWQgdG8gcmVuZGVyIGdlb21ldHJ5LlxuICpcbiAqIFRoaXMgZG9lcyBub3QgY29udGFpbiB0aGUgYWN0dWFsIGRhdGEsIGJ1dCBpbnN0ZWFkIGhhcyBhIGJ1ZmZlciBpZCB0aGF0IG1hcHMgdG8gYSB7QGxpbmsgUElYSS5CdWZmZXJ9XG4gKiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQXR0cmlidXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBidWZmZXIgLSB0aGUgaWQgb2YgdGhlIGJ1ZmZlciB0aGF0IHRoaXMgYXR0cmlidXRlIHdpbGwgbG9vayBmb3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemU9MF0gLSB0aGUgc2l6ZSBvZiB0aGUgYXR0cmlidXRlLiBJZiB5b3UgaGF2ZSAyIGZsb2F0cyBwZXIgdmVydGV4IChlZyBwb3NpdGlvbiB4IGFuZCB5KSB0aGlzIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbbm9ybWFsaXplZD1mYWxzZV0gLSBzaG91bGQgdGhlIGRhdGEgYmUgbm9ybWFsaXplZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3R5cGU9UElYSS5UWVBFUy5GTE9BVF0gLSB3aGF0IHR5cGUgb2YgbnVtYmVyIGlzIHRoZSBhdHRyaWJ1dGUuIENoZWNrIHtAbGluayBQSVhJLlRZUEVTfSB0byBzZWUgdGhlIG9uZXMgYXZhaWxhYmxlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdHJpZGU9MF0gLSBIb3cgZmFyIGFwYXJ0IChpbiBmbG9hdHMpIHRoZSBzdGFydCBvZiBlYWNoIHZhbHVlIGlzLiAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydD0wXSAtIEhvdyBmYXIgaW50byB0aGUgYXJyYXkgdG8gc3RhcnQgcmVhZGluZyB2YWx1ZXMgKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEF0dHJpYnV0ZShidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKSB7XG4gICAgICAgIGlmIChzaXplID09PSB2b2lkIDApIHsgc2l6ZSA9IDA7IH1cbiAgICAgICAgaWYgKG5vcm1hbGl6ZWQgPT09IHZvaWQgMCkgeyBub3JtYWxpemVkID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gNTEyNjsgfVxuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5ub3JtYWxpemVkID0gbm9ybWFsaXplZDtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5zdHJpZGUgPSBzdHJpZGU7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgQXR0cmlidXRlLlxuICAgICAqL1xuICAgIEF0dHJpYnV0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBBdHRyaWJ1dGUgYmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIHByb3ZpZGVkXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJ1ZmZlciAtIHRoZSBpZCBvZiB0aGUgYnVmZmVyIHRoYXQgdGhpcyBhdHRyaWJ1dGUgd2lsbCBsb29rIGZvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZT0wXSAtIHRoZSBzaXplIG9mIHRoZSBhdHRyaWJ1dGUuIElmIHlvdSBoYXZlIDIgZmxvYXRzIHBlciB2ZXJ0ZXggKGVnIHBvc2l0aW9uIHggYW5kIHkpIHRoaXMgd291bGQgYmUgMlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW25vcm1hbGl6ZWQ9ZmFsc2VdIC0gc2hvdWxkIHRoZSBkYXRhIGJlIG5vcm1hbGl6ZWQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt0eXBlPVBJWEkuVFlQRVMuRkxPQVRdIC0gd2hhdCB0eXBlIG9mIG51bWJlciBpcyB0aGUgYXR0cmlidXRlLiBDaGVjayB7QGxpbmsgUElYSS5UWVBFU30gdG8gc2VlIHRoZSBvbmVzIGF2YWlsYWJsZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RyaWRlPTBdIC0gSG93IGZhciBhcGFydCAoaW4gZmxvYXRzKSB0aGUgc3RhcnQgb2YgZWFjaCB2YWx1ZSBpcy4gKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICAqXG4gICAgICogQHJldHVybnMge1BJWEkuQXR0cmlidXRlfSBBIG5ldyB7QGxpbmsgUElYSS5BdHRyaWJ1dGV9IGJhc2VkIG9uIHRoZSBpbmZvcm1hdGlvbiBwcm92aWRlZFxuICAgICAqL1xuICAgIEF0dHJpYnV0ZS5mcm9tID0gZnVuY3Rpb24gKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXR0cmlidXRlKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlKTtcbiAgICB9O1xuICAgIHJldHVybiBBdHRyaWJ1dGU7XG59KCkpO1xuXG52YXIgVUlEID0gMDtcbi8qKlxuICogQSB3cmFwcGVyIGZvciBkYXRhIHNvIHRoYXQgaXQgY2FuIGJlIHVzZWQgYW5kIHVwbG9hZGVkIGJ5IFdlYkdMXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld30gZGF0YSAtIHRoZSBkYXRhIHRvIHN0b3JlIGluIHRoZSBidWZmZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbX3N0YXRpYz10cnVlXSAtIGB0cnVlYCBmb3Igc3RhdGljIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luZGV4PWZhbHNlXSAtIGB0cnVlYCBmb3IgaW5kZXggYnVmZmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQnVmZmVyKGRhdGEsIF9zdGF0aWMsIGluZGV4KSB7XG4gICAgICAgIGlmIChfc3RhdGljID09PSB2b2lkIDApIHsgX3N0YXRpYyA9IHRydWU7IH1cbiAgICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHsgaW5kZXggPSBmYWxzZTsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRhdGEgaW4gdGhlIGJ1ZmZlciwgYXMgYSB0eXBlZCBhcnJheVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXIgfCBBcnJheUJ1ZmZlclZpZXd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSAoZGF0YSB8fCBuZXcgRmxvYXQzMkFycmF5KDEpKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCBidWZmZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgR0xCdWZmZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZ2xCdWZmZXJzID0ge307XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLnN0YXRpYyA9IF9zdGF0aWM7XG4gICAgICAgIHRoaXMuaWQgPSBVSUQrKztcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyID0gbmV3IFJ1bm5lcignZGlzcG9zZUJ1ZmZlcicpO1xuICAgIH1cbiAgICAvLyBUT0RPIGNvdWxkIGV4cGxvcmUgZmxhZ2dpbmcgb25seSBhIHBhcnRpYWwgdXBsb2FkP1xuICAgIC8qKlxuICAgICAqIGZsYWdzIHRoaXMgYnVmZmVyIGFzIHJlcXVpcmluZyBhbiB1cGxvYWQgdG8gdGhlIEdQVVxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ8U2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBbZGF0YV0gLSB0aGUgZGF0YSB0byB1cGRhdGUgaW4gdGhlIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBCdWZmZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGEgfHwgdGhpcy5kYXRhO1xuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogZGlzcG9zZXMgV2ViR0wgcmVzb3VyY2VzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byB0aGlzIGdlb21ldHJ5XG4gICAgICovXG4gICAgQnVmZmVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIuZW1pdCh0aGlzLCBmYWxzZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgYnVmZmVyXG4gICAgICovXG4gICAgQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBidWZmZXIgYmFzZWQgb24gYW4gYXJyYXkgb3IgVHlwZWRBcnJheVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJWaWV3IHwgbnVtYmVyW119IGRhdGEgLSB0aGUgVHlwZWRBcnJheSB0aGF0IHRoZSBidWZmZXIgd2lsbCBzdG9yZS4gSWYgdGhpcyBpcyBhIHJlZ3VsYXIgQXJyYXkgaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBGbG9hdDMyQXJyYXkuXG4gICAgICogQHJldHVybiB7UElYSS5CdWZmZXJ9IEEgbmV3IEJ1ZmZlciBiYXNlZCBvbiB0aGUgZGF0YSBwcm92aWRlZC5cbiAgICAgKi9cbiAgICBCdWZmZXIuZnJvbSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQnVmZmVyKGRhdGEpO1xuICAgIH07XG4gICAgcmV0dXJuIEJ1ZmZlcjtcbn0oKSk7XG5cbmZ1bmN0aW9uIGdldEJ1ZmZlclR5cGUoYXJyYXkpIHtcbiAgICBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDQpIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ0Zsb2F0MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50MzJBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdJbnQzMkFycmF5JztcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDIpIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDE2QXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDE2QXJyYXknO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSAxKSB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDhBcnJheSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVE9ETyBtYXAgb3V0IHRoZSByZXN0IG9mIHRoZSBhcnJheSBlbGVtZW50cyFcbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgb2JqZWN0LXNob3J0aGFuZCAqL1xudmFyIG1hcCA9IHtcbiAgICBGbG9hdDMyQXJyYXk6IEZsb2F0MzJBcnJheSxcbiAgICBVaW50MzJBcnJheTogVWludDMyQXJyYXksXG4gICAgSW50MzJBcnJheTogSW50MzJBcnJheSxcbiAgICBVaW50OEFycmF5OiBVaW50OEFycmF5LFxufTtcbmZ1bmN0aW9uIGludGVybGVhdmVUeXBlZEFycmF5cyhhcnJheXMsIHNpemVzKSB7XG4gICAgdmFyIG91dFNpemUgPSAwO1xuICAgIHZhciBzdHJpZGUgPSAwO1xuICAgIHZhciB2aWV3cyA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHN0cmlkZSArPSBzaXplc1tpXTtcbiAgICAgICAgb3V0U2l6ZSArPSBhcnJheXNbaV0ubGVuZ3RoO1xuICAgIH1cbiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKG91dFNpemUgKiA0KTtcbiAgICB2YXIgb3V0ID0gbnVsbDtcbiAgICB2YXIgbGl0dGxlT2Zmc2V0ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc2l6ZSA9IHNpemVzW2ldO1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbaV07XG4gICAgICAgIHZhciB0eXBlID0gZ2V0QnVmZmVyVHlwZShhcnJheSk7XG4gICAgICAgIGlmICghdmlld3NbdHlwZV0pIHtcbiAgICAgICAgICAgIHZpZXdzW3R5cGVdID0gbmV3IG1hcFt0eXBlXShidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIG91dCA9IHZpZXdzW3R5cGVdO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXhTdGFydCA9ICgoaiAvIHNpemUgfCAwKSAqIHN0cmlkZSkgKyBsaXR0bGVPZmZzZXQ7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBqICUgc2l6ZTtcbiAgICAgICAgICAgIG91dFtpbmRleFN0YXJ0ICsgaW5kZXhdID0gYXJyYXlbal07XG4gICAgICAgIH1cbiAgICAgICAgbGl0dGxlT2Zmc2V0ICs9IHNpemU7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG59XG5cbnZhciBieXRlU2l6ZU1hcCA9IHsgNTEyNjogNCwgNTEyMzogMiwgNTEyMTogMSB9O1xudmFyIFVJRCQxID0gMDtcbi8qIGVzbGludC1kaXNhYmxlIG9iamVjdC1zaG9ydGhhbmQgKi9cbnZhciBtYXAkMSA9IHtcbiAgICBGbG9hdDMyQXJyYXk6IEZsb2F0MzJBcnJheSxcbiAgICBVaW50MzJBcnJheTogVWludDMyQXJyYXksXG4gICAgSW50MzJBcnJheTogSW50MzJBcnJheSxcbiAgICBVaW50OEFycmF5OiBVaW50OEFycmF5LFxuICAgIFVpbnQxNkFycmF5OiBVaW50MTZBcnJheSxcbn07XG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4vKipcbiAqIFRoZSBHZW9tZXRyeSByZXByZXNlbnRzIGEgbW9kZWwuIEl0IGNvbnNpc3RzIG9mIHR3byBjb21wb25lbnRzOlxuICogLSBHZW9tZXRyeVN0eWxlIC0gVGhlIHN0cnVjdHVyZSBvZiB0aGUgbW9kZWwgc3VjaCBhcyB0aGUgYXR0cmlidXRlcyBsYXlvdXRcbiAqIC0gR2VvbWV0cnlEYXRhIC0gdGhlIGRhdGEgb2YgdGhlIG1vZGVsIC0gdGhpcyBjb25zaXN0cyBvZiBidWZmZXJzLlxuICogVGhpcyBjYW4gaW5jbHVkZSBhbnl0aGluZyBmcm9tIHBvc2l0aW9ucywgdXZzLCBub3JtYWxzLCBjb2xvcnMgZXRjLlxuICpcbiAqIEdlb21ldHJ5IGNhbiBiZSBkZWZpbmVkIHdpdGhvdXQgcGFzc2luZyBpbiBhIHN0eWxlIG9yIGRhdGEgaWYgcmVxdWlyZWQgKHRoYXRzIGhvdyBJIHByZWZlciEpXG4gKlxuICogYGBganNcbiAqIGxldCBnZW9tZXRyeSA9IG5ldyBQSVhJLkdlb21ldHJ5KCk7XG4gKlxuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb3NpdGlvbnMnLCBbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSwgMik7XG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3V2cycsIFswLDAsMSwwLDEsMSwwLDFdLDIpXG4gKiBnZW9tZXRyeS5hZGRJbmRleChbMCwxLDIsMSwzLDJdKVxuICpcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcltdfSBbYnVmZmVyc10gLSBhbiBhcnJheSBvZiBidWZmZXJzLiBvcHRpb25hbC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2F0dHJpYnV0ZXNdIC0gb2YgdGhlIGdlb21ldHJ5LCBvcHRpb25hbCBzdHJ1Y3R1cmUgb2YgdGhlIGF0dHJpYnV0ZXMgbGF5b3V0XG4gICAgICovXG4gICAgZnVuY3Rpb24gR2VvbWV0cnkoYnVmZmVycywgYXR0cmlidXRlcykge1xuICAgICAgICBpZiAoYnVmZmVycyA9PT0gdm9pZCAwKSB7IGJ1ZmZlcnMgPSBbXTsgfVxuICAgICAgICBpZiAoYXR0cmlidXRlcyA9PT0gdm9pZCAwKSB7IGF0dHJpYnV0ZXMgPSB7fTsgfVxuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBidWZmZXJzO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCBWQU9zXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xWZXJ0ZXhBcnJheU9iamVjdHMgPSB7fTtcbiAgICAgICAgdGhpcy5pZCA9IFVJRCQxKys7XG4gICAgICAgIHRoaXMuaW5zdGFuY2VkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgaW5zdGFuY2VzIGluIHRoaXMgZ2VvbWV0cnksIHBhc3MgaXQgdG8gYEdlb21ldHJ5U3lzdGVtLmRyYXcoKWBcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluc3RhbmNlQ291bnQgPSAxO1xuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIgPSBuZXcgUnVubmVyKCdkaXNwb3NlR2VvbWV0cnknKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvdW50IG9mIGV4aXN0aW5nIChub3QgZGVzdHJveWVkKSBtZXNoZXMgdGhhdCByZWZlcmVuY2UgdGhpcyBnZW9tZXRyeVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlZkNvdW50ID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKlxuICAgICogQWRkcyBhbiBhdHRyaWJ1dGUgdG8gdGhlIGdlb21ldHJ5XG4gICAgKiBOb3RlOiBgc3RyaWRlYCBhbmQgYHN0YXJ0YCBzaG91bGQgYmUgYHVuZGVmaW5lZGAgaWYgeW91IGRvbnQga25vdyB0aGVtLCBub3QgMCFcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgLSB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIChtYXRjaGluZyB1cCB0byBhIHNoYWRlcilcbiAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ8bnVtYmVyW119IFtidWZmZXJdIC0gdGhlIGJ1ZmZlciB0aGF0IGhvbGRzIHRoZSBkYXRhIG9mIHRoZSBhdHRyaWJ1dGUgLiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBBcnJheSBhbmQgYSBidWZmZXIgd2lsbCBiZSBjcmVhdGVkIGZyb20gaXQuXG4gICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemU9MF0gLSB0aGUgc2l6ZSBvZiB0aGUgYXR0cmlidXRlLiBJZiB5b3UgaGF2ZSAyIGZsb2F0cyBwZXIgdmVydGV4IChlZyBwb3NpdGlvbiB4IGFuZCB5KSB0aGlzIHdvdWxkIGJlIDJcbiAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW25vcm1hbGl6ZWQ9ZmFsc2VdIC0gc2hvdWxkIHRoZSBkYXRhIGJlIG5vcm1hbGl6ZWQuXG4gICAgKiBAcGFyYW0ge051bWJlcn0gW3R5cGU9UElYSS5UWVBFUy5GTE9BVF0gLSB3aGF0IHR5cGUgb2YgbnVtYmVyIGlzIHRoZSBhdHRyaWJ1dGUuIENoZWNrIHtQSVhJLlRZUEVTfSB0byBzZWUgdGhlIG9uZXMgYXZhaWxhYmxlXG4gICAgKiBAcGFyYW0ge051bWJlcn0gW3N0cmlkZV0gLSBIb3cgZmFyIGFwYXJ0IChpbiBmbG9hdHMpIHRoZSBzdGFydCBvZiBlYWNoIHZhbHVlIGlzLiAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0XSAtIEhvdyBmYXIgaW50byB0aGUgYXJyYXkgdG8gc3RhcnQgcmVhZGluZyB2YWx1ZXMgKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICogQHBhcmFtIHtib29sZWFufSBbaW5zdGFuY2U9ZmFsc2VdIC0gSW5zdGFuY2luZyBmbGFnXG4gICAgKlxuICAgICogQHJldHVybiB7UElYSS5HZW9tZXRyeX0gcmV0dXJucyBzZWxmLCB1c2VmdWwgZm9yIGNoYWluaW5nLlxuICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmFkZEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChpZCwgYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSkge1xuICAgICAgICBpZiAoc2l6ZSA9PT0gdm9pZCAwKSB7IHNpemUgPSAwOyB9XG4gICAgICAgIGlmIChub3JtYWxpemVkID09PSB2b2lkIDApIHsgbm9ybWFsaXplZCA9IGZhbHNlOyB9XG4gICAgICAgIGlmIChpbnN0YW5jZSA9PT0gdm9pZCAwKSB7IGluc3RhbmNlID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKCFidWZmZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3QgcGFzcyBhIGJ1ZmZlciB3aGVuIGNyZWF0aW5nIGFuIGF0dHJpYnV0ZScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgaXMgYSBidWZmZXIhXG4gICAgICAgIGlmICghKGJ1ZmZlciBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICAgICAgICAgIC8vIGl0cyBhbiBhcnJheSFcbiAgICAgICAgICAgIGlmIChidWZmZXIgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBCdWZmZXIoYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaWRzID0gaWQuc3BsaXQoJ3wnKTtcbiAgICAgICAgaWYgKGlkcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKGlkc1tpXSwgYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWZmZXJJbmRleCA9IHRoaXMuYnVmZmVycy5pbmRleE9mKGJ1ZmZlcik7XG4gICAgICAgIGlmIChidWZmZXJJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgICAgICBidWZmZXJJbmRleCA9IHRoaXMuYnVmZmVycy5sZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXR0cmlidXRlc1tpZF0gPSBuZXcgQXR0cmlidXRlKGJ1ZmZlckluZGV4LCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSk7XG4gICAgICAgIC8vIGFzc3VtaW5nIHRoYXQgaWYgdGhlcmUgaXMgaW5zdGFuY2VkIGRhdGEgdGhlbiB0aGlzIHdpbGwgYmUgZHJhd24gd2l0aCBpbnN0YW5jaW5nIVxuICAgICAgICB0aGlzLmluc3RhbmNlZCA9IHRoaXMuaW5zdGFuY2VkIHx8IGluc3RhbmNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHJlcXVlc3RlZCBhdHRyaWJ1dGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgcmVxdWlyZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkF0dHJpYnV0ZX0gdGhlIGF0dHJpYnV0ZSByZXF1ZXN0ZWQuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2lkXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHJlcXVlc3RlZCBidWZmZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIHRoZSBuYW1lIG9mIHRoZSBidWZmZXIgcmVxdWlyZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJ1ZmZlcn0gdGhlIGJ1ZmZlciByZXF1ZXN0ZWQuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJzW3RoaXMuZ2V0QXR0cmlidXRlKGlkKS5idWZmZXJdO1xuICAgIH07XG4gICAgLyoqXG4gICAgKlxuICAgICogQWRkcyBhbiBpbmRleCBidWZmZXIgdG8gdGhlIGdlb21ldHJ5XG4gICAgKiBUaGUgaW5kZXggYnVmZmVyIGNvbnRhaW5zIGludGVnZXJzLCB0aHJlZSBmb3IgZWFjaCB0cmlhbmdsZSBpbiB0aGUgZ2VvbWV0cnksIHdoaWNoIHJlZmVyZW5jZSB0aGUgdmFyaW91cyBhdHRyaWJ1dGUgYnVmZmVycyAocG9zaXRpb24sIGNvbG91ciwgVVYgY29vcmRpbmF0ZXMsIG90aGVyIFVWIGNvb3JkaW5hdGVzLCBub3JtYWwsIOKApikuIFRoZXJlIGlzIG9ubHkgT05FIGluZGV4IGJ1ZmZlci5cbiAgICAqXG4gICAgKiBAcGFyYW0ge1BJWEkuQnVmZmVyfG51bWJlcltdfSBbYnVmZmVyXSAtIHRoZSBidWZmZXIgdGhhdCBob2xkcyB0aGUgZGF0YSBvZiB0aGUgaW5kZXggYnVmZmVyLiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBBcnJheSBhbmQgYSBidWZmZXIgd2lsbCBiZSBjcmVhdGVkIGZyb20gaXQuXG4gICAgKiBAcmV0dXJuIHtQSVhJLkdlb21ldHJ5fSByZXR1cm5zIHNlbGYsIHVzZWZ1bCBmb3IgY2hhaW5pbmcuXG4gICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuYWRkSW5kZXggPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgIGlmICghKGJ1ZmZlciBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICAgICAgICAgIC8vIGl0cyBhbiBhcnJheSFcbiAgICAgICAgICAgIGlmIChidWZmZXIgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBVaW50MTZBcnJheShidWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVmZmVyID0gbmV3IEJ1ZmZlcihidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGJ1ZmZlci5pbmRleCA9IHRydWU7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBidWZmZXI7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlcnMuaW5kZXhPZihidWZmZXIpID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIGluZGV4IGJ1ZmZlclxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5CdWZmZXJ9IHRoZSBpbmRleCBidWZmZXIuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldEluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleEJ1ZmZlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHRoaXMgZnVuY3Rpb24gbW9kaWZpZXMgdGhlIHN0cnVjdHVyZSBzbyB0aGF0IGFsbCBjdXJyZW50IGF0dHJpYnV0ZXMgYmVjb21lIGludGVybGVhdmVkIGludG8gYSBzaW5nbGUgYnVmZmVyXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZnVsIGlmIHlvdXIgbW9kZWwgcmVtYWlucyBzdGF0aWMgYXMgaXQgb2ZmZXJzIGEgbGl0dGxlIHBlcmZvcm1hbmNlIGJvb3N0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdlb21ldHJ5fSByZXR1cm5zIHNlbGYsIHVzZWZ1bCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmludGVybGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGEgc2ltcGxlIGNoZWNrIHRvIHNlZSBpZiBidWZmZXJzIGFyZSBhbHJlYWR5IGludGVybGVhdmVkLi5cbiAgICAgICAgaWYgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IDEgfHwgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IDIgJiYgdGhpcy5pbmRleEJ1ZmZlcikpXG4gICAgICAgICAgICB7IHJldHVybiB0aGlzOyB9XG4gICAgICAgIC8vIGFzc3VtZSBhbHJlYWR5IHRoYXQgbm8gYnVmZmVycyBhcmUgaW50ZXJsZWF2ZWRcbiAgICAgICAgdmFyIGFycmF5cyA9IFtdO1xuICAgICAgICB2YXIgc2l6ZXMgPSBbXTtcbiAgICAgICAgdmFyIGludGVybGVhdmVkQnVmZmVyID0gbmV3IEJ1ZmZlcigpO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpIGluIHRoaXMuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IHRoaXMuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG4gICAgICAgICAgICBhcnJheXMucHVzaChidWZmZXIuZGF0YSk7XG4gICAgICAgICAgICBzaXplcy5wdXNoKChhdHRyaWJ1dGUuc2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXSkgLyA0KTtcbiAgICAgICAgICAgIGF0dHJpYnV0ZS5idWZmZXIgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGludGVybGVhdmVkQnVmZmVyLmRhdGEgPSBpbnRlcmxlYXZlVHlwZWRBcnJheXMoYXJyYXlzLCBzaXplcyk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlcnNbaV0gIT09IHRoaXMuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmZmVycyA9IFtpbnRlcmxlYXZlZEJ1ZmZlcl07XG4gICAgICAgIGlmICh0aGlzLmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaCh0aGlzLmluZGV4QnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IHRoaXMuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG4gICAgICAgICAgICByZXR1cm4gYnVmZmVyLmRhdGEubGVuZ3RoIC8gKChhdHRyaWJ1dGUuc3RyaWRlIC8gNCkgfHwgYXR0cmlidXRlLnNpemUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogZGlzcG9zZXMgV2ViR0wgcmVzb3VyY2VzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byB0aGlzIGdlb21ldHJ5XG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5lbWl0KHRoaXMsIGZhbHNlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuYnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcmV0dXJucyBhIGNsb25lIG9mIHRoZSBnZW9tZXRyeVxuICAgICAqXG4gICAgICogQHJldHVybnMge1BJWEkuR2VvbWV0cnl9IGEgbmV3IGNsb25lIG9mIHRoaXMgZ2VvbWV0cnlcbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ2VvbWV0cnkuYnVmZmVyc1tpXSA9IG5ldyBCdWZmZXIodGhpcy5idWZmZXJzW2ldLmRhdGEuc2xpY2UoMCkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmliID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgZ2VvbWV0cnkuYXR0cmlidXRlc1tpXSA9IG5ldyBBdHRyaWJ1dGUoYXR0cmliLmJ1ZmZlciwgYXR0cmliLnNpemUsIGF0dHJpYi5ub3JtYWxpemVkLCBhdHRyaWIudHlwZSwgYXR0cmliLnN0cmlkZSwgYXR0cmliLnN0YXJ0LCBhdHRyaWIuaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICBnZW9tZXRyeS5pbmRleEJ1ZmZlciA9IGdlb21ldHJ5LmJ1ZmZlcnNbdGhpcy5idWZmZXJzLmluZGV4T2YodGhpcy5pbmRleEJ1ZmZlcildO1xuICAgICAgICAgICAgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuaW5kZXggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZW9tZXRyeTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIG1lcmdlcyBhbiBhcnJheSBvZiBnZW9tZXRyaWVzIGludG8gYSBuZXcgc2luZ2xlIG9uZVxuICAgICAqIGdlb21ldHJ5IGF0dHJpYnV0ZSBzdHlsZXMgbXVzdCBtYXRjaCBmb3IgdGhpcyBvcGVyYXRpb24gdG8gd29ya1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5W119IGdlb21ldHJpZXMgLSBhcnJheSBvZiBnZW9tZXRyaWVzIHRvIG1lcmdlXG4gICAgICogQHJldHVybnMge1BJWEkuR2VvbWV0cnl9IHNoaW55IG5ldyBnZW9tZXRyeSFcbiAgICAgKi9cbiAgICBHZW9tZXRyeS5tZXJnZSA9IGZ1bmN0aW9uIChnZW9tZXRyaWVzKSB7XG4gICAgICAgIC8vIHRvZG8gYWRkIGEgZ2VvbWV0cnkgY2hlY2shXG4gICAgICAgIC8vIGFsc28gYSBzaXplIGNoZWNrLi4gY2FudCBiZSB0b28gYmlnIV1cbiAgICAgICAgdmFyIGdlb21ldHJ5T3V0ID0gbmV3IEdlb21ldHJ5KCk7XG4gICAgICAgIHZhciBhcnJheXMgPSBbXTtcbiAgICAgICAgdmFyIHNpemVzID0gW107XG4gICAgICAgIHZhciBvZmZzZXRzID0gW107XG4gICAgICAgIHZhciBnZW9tZXRyeTtcbiAgICAgICAgLy8gcGFzcyBvbmUuLiBnZXQgc2l6ZXMuLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHNpemVzW2pdID0gc2l6ZXNbal0gfHwgMDtcbiAgICAgICAgICAgICAgICBzaXplc1tqXSArPSBnZW9tZXRyeS5idWZmZXJzW2pdLmRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgICAgIG9mZnNldHNbal0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGJ1aWxkIHRoZSBjb3JyZWN0IHNpemUgYXJyYXlzLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHR5cGVzIVxuICAgICAgICAgICAgYXJyYXlzW2ldID0gbmV3IG1hcCQxW2dldEJ1ZmZlclR5cGUoZ2VvbWV0cnkuYnVmZmVyc1tpXS5kYXRhKV0oc2l6ZXNbaV0pO1xuICAgICAgICAgICAgZ2VvbWV0cnlPdXQuYnVmZmVyc1tpXSA9IG5ldyBCdWZmZXIoYXJyYXlzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwYXNzIHRvIHNldCBkYXRhLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBhcnJheXNbal0uc2V0KGdlb21ldHJ5LmJ1ZmZlcnNbal0uZGF0YSwgb2Zmc2V0c1tqXSk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0c1tqXSArPSBnZW9tZXRyeS5idWZmZXJzW2pdLmRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdlb21ldHJ5T3V0LmF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIGdlb21ldHJ5T3V0LmluZGV4QnVmZmVyID0gZ2VvbWV0cnlPdXQuYnVmZmVyc1tnZW9tZXRyeS5idWZmZXJzLmluZGV4T2YoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXTtcbiAgICAgICAgICAgIGdlb21ldHJ5T3V0LmluZGV4QnVmZmVyLmluZGV4ID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICAgICAgdmFyIHN0cmlkZSA9IDA7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0MiA9IDA7XG4gICAgICAgICAgICB2YXIgYnVmZmVySW5kZXhUb0NvdW50ID0gMDtcbiAgICAgICAgICAgIC8vIGdldCBhIGJ1ZmZlclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdlb21ldHJ5LmJ1ZmZlcnNbaV0gIT09IGdlb21ldHJ5LmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlckluZGV4VG9Db3VudCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgdGhlIHN0cmlkZSBvZiBvbmUgYnVmZmVyLi5cbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gZ2VvbWV0cnkuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgICAgIGlmICgoYXR0cmlidXRlLmJ1ZmZlciB8IDApID09PSBidWZmZXJJbmRleFRvQ291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaWRlICs9ICgoYXR0cmlidXRlLnNpemUgKiBieXRlU2l6ZU1hcFthdHRyaWJ1dGUudHlwZV0pIC8gNCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGltZSB0byBvZmYgc2V0IGFsbCBpbmRleGVzLi5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleEJ1ZmZlckRhdGEgPSBnZW9tZXRyaWVzW2ldLmluZGV4QnVmZmVyLmRhdGE7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpbmRleEJ1ZmZlckRhdGEubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIuZGF0YVtqICsgb2Zmc2V0Ml0gKz0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gZ2VvbWV0cnkuYnVmZmVyc1tidWZmZXJJbmRleFRvQ291bnRdLmRhdGEubGVuZ3RoIC8gKHN0cmlkZSk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0MiArPSBpbmRleEJ1ZmZlckRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZW9tZXRyeU91dDtcbiAgICB9O1xuICAgIHJldHVybiBHZW9tZXRyeTtcbn0oKSk7XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHF1YWRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBRdWFkID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhRdWFkLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFF1YWQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAwLCAwLFxuICAgICAgICAgICAgMSwgMCxcbiAgICAgICAgICAgIDEsIDEsXG4gICAgICAgICAgICAwLCAxIF0pKVxuICAgICAgICAgICAgLmFkZEluZGV4KFswLCAxLCAzLCAyXSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFF1YWQ7XG59KEdlb21ldHJ5KSk7XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHF1YWQgd2l0aCB1dnMgbGlrZSBpbiB2NFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuR2VvbWV0cnlcbiAqL1xudmFyIFF1YWRVdiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUXVhZFV2LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFF1YWRVdigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAtMSwgLTEsXG4gICAgICAgICAgICAxLCAtMSxcbiAgICAgICAgICAgIDEsIDEsXG4gICAgICAgICAgICAtMSwgMSBdKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBVdnMgb2YgdGhlIHF1YWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZzID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAwLCAwLFxuICAgICAgICAgICAgMSwgMCxcbiAgICAgICAgICAgIDEsIDEsXG4gICAgICAgICAgICAwLCAxIF0pO1xuICAgICAgICBfdGhpcy52ZXJ0ZXhCdWZmZXIgPSBuZXcgQnVmZmVyKF90aGlzLnZlcnRpY2VzKTtcbiAgICAgICAgX3RoaXMudXZCdWZmZXIgPSBuZXcgQnVmZmVyKF90aGlzLnV2cyk7XG4gICAgICAgIF90aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgX3RoaXMudmVydGV4QnVmZmVyKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIF90aGlzLnV2QnVmZmVyKVxuICAgICAgICAgICAgLmFkZEluZGV4KFswLCAxLCAyLCAwLCAyLCAzXSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFwcyB0d28gUmVjdGFuZ2xlIHRvIHRoZSBxdWFkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gdGFyZ2V0VGV4dHVyZUZyYW1lIC0gdGhlIGZpcnN0IHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSB0aGUgc2Vjb25kIHJlY3RhbmdsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuUXVhZH0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUXVhZFV2LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAodGFyZ2V0VGV4dHVyZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKSB7XG4gICAgICAgIHZhciB4ID0gMDsgLy8gZGVzdGluYXRpb25GcmFtZS54IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoO1xuICAgICAgICB2YXIgeSA9IDA7IC8vIGRlc3RpbmF0aW9uRnJhbWUueSAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMudXZzWzBdID0geDtcbiAgICAgICAgdGhpcy51dnNbMV0gPSB5O1xuICAgICAgICB0aGlzLnV2c1syXSA9IHggKyAoZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aCk7XG4gICAgICAgIHRoaXMudXZzWzNdID0geTtcbiAgICAgICAgdGhpcy51dnNbNF0gPSB4ICsgKGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGgpO1xuICAgICAgICB0aGlzLnV2c1s1XSA9IHkgKyAoZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy51dnNbNl0gPSB4O1xuICAgICAgICB0aGlzLnV2c1s3XSA9IHkgKyAoZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgeCA9IGRlc3RpbmF0aW9uRnJhbWUueDtcbiAgICAgICAgeSA9IGRlc3RpbmF0aW9uRnJhbWUueTtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1swXSA9IHg7XG4gICAgICAgIHRoaXMudmVydGljZXNbMV0gPSB5O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzJdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgIHRoaXMudmVydGljZXNbM10gPSB5O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzRdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgIHRoaXMudmVydGljZXNbNV0gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMudmVydGljZXNbNl0gPSB4O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzddID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBsZWdhY3kgdXBsb2FkIG1ldGhvZCwganVzdCBtYXJrcyBidWZmZXJzIGRpcnR5XG4gICAgICogQHJldHVybnMge1BJWEkuUXVhZFV2fSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBRdWFkVXYucHJvdG90eXBlLmludmFsaWRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmVydGV4QnVmZmVyLl91cGRhdGVJRCsrO1xuICAgICAgICB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRCsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBRdWFkVXY7XG59KEdlb21ldHJ5KSk7XG5cbnZhciBVSUQkMiA9IDA7XG4vKipcbiAqIFVuaWZvcm0gZ3JvdXAgaG9sZHMgdW5pZm9ybSBtYXAgYW5kIHNvbWUgSUQncyBmb3Igd29ya1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFVuaWZvcm1Hcm91cCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3VuaWZvcm1zXSAtIEN1c3RvbSB1bmlmb3JtcyB0byB1c2UgdG8gYXVnbWVudCB0aGUgYnVpbHQtaW4gb25lcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtfc3RhdGljXSAtIFVuaWZvcm1zIHdvbnQgYmUgY2hhbmdlZCBhZnRlciBjcmVhdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgX3N0YXRpYykge1xuICAgICAgICAvKipcbiAgICAgICAgICogdW5pZm9ybSB2YWx1ZXNcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5pZm9ybXMgPSB1bmlmb3JtcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEl0cyBhIGdyb3VwIGFuZCBub3QgYSBzaW5nbGUgdW5pZm9ybXNcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ3JvdXAgPSB0cnVlO1xuICAgICAgICAvLyBsZXRzIGdlbmVyYXRlIHRoaXMgd2hlbiB0aGUgc2hhZGVyID9cbiAgICAgICAgdGhpcy5zeW5jVW5pZm9ybXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRpcnR5IHZlcnNpb25cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogdW5pcXVlIGlkXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZCA9IFVJRCQyKys7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVbmlmb3JtcyB3b250IGJlIGNoYW5nZWQgYWZ0ZXIgY3JlYXRpb25cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGljID0gISFfc3RhdGljO1xuICAgIH1cbiAgICBVbmlmb3JtR3JvdXAucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgfTtcbiAgICBVbmlmb3JtR3JvdXAucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChuYW1lLCB1bmlmb3JtcywgX3N0YXRpYykge1xuICAgICAgICB0aGlzLnVuaWZvcm1zW25hbWVdID0gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgX3N0YXRpYyk7XG4gICAgfTtcbiAgICBVbmlmb3JtR3JvdXAuZnJvbSA9IGZ1bmN0aW9uICh1bmlmb3JtcywgX3N0YXRpYykge1xuICAgICAgICByZXR1cm4gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgX3N0YXRpYyk7XG4gICAgfTtcbiAgICByZXR1cm4gVW5pZm9ybUdyb3VwO1xufSgpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgZmlsdGVyIHN0YXRlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBGaWx0ZXJTdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGaWx0ZXJTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRhcmdldCBvZiB0aGUgZmlsdGVyc1xuICAgICAgICAgKiBXZSBzdG9yZSBmb3IgY2FzZSB3aGVuIGN1c3RvbSBmaWx0ZXIgd2FudHMgdG8ga25vdyB0aGUgZWxlbWVudCBpdCB3YXMgYXBwbGllZCBvblxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21wYXRpYmlsaXR5IHdpdGggUGl4aUpTIHY0IGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGVnYWN5ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXNvbHV0aW9uIG9mIGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSAxO1xuICAgICAgICAvLyBuZXh0IHRocmVlIGZpZWxkcyBhcmUgY3JlYXRlZCBvbmx5IGZvciByb290XG4gICAgICAgIC8vIHJlLWFzc2lnbmVkIGZvciBldmVyeXRoaW5nIGVsc2VcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbHRlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWx0ZXJzID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNsZWFycyB0aGUgc3RhdGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEZpbHRlclN0YXRlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbHRlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbHRlclN0YXRlO1xufSgpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGhlIGZpbHRlcnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICovXG52YXIgRmlsdGVyU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGaWx0ZXJTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRmlsdGVyU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBmaWx0ZXJzIGZvciB0aGUgRmlsdGVyU3lzdGVtXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdFtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRGaWx0ZXJTdGFjayA9IFt7fV07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzdG9yZXMgYSBidW5jaCBvZiBQTzIgdGV4dHVyZXMgdXNlZCBmb3IgZmlsdGVyaW5nXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVQb29sID0gbmV3IFJlbmRlclRleHR1cmVQb29sKCk7XG4gICAgICAgIF90aGlzLnRleHR1cmVQb29sLnNldFNjcmVlblNpemUocmVuZGVyZXIudmlldyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhIHBvb2wgZm9yIHN0b3JpbmcgZmlsdGVyIHN0YXRlcywgc2F2ZSB1cyBjcmVhdGluZyBuZXcgb25lcyBlYWNoIHRpY2tcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZVBvb2wgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgdmVyeSBzaW1wbGUgZ2VvbWV0cnkgdXNlZCB3aGVuIGRyYXdpbmcgYSBmaWx0ZXIgZWZmZWN0IHRvIHRoZSBzY3JlZW5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5RdWFkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucXVhZCA9IG5ldyBRdWFkKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBRdWFkIFVWc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlF1YWRVdn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnF1YWRVdiA9IG5ldyBRdWFkVXYoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRlbXBvcmFyeSByZWN0IGZvciBtYXRoc1xuICAgICAgICAgKiBAdHlwZSB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZW1wUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2ZSBzdGF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hY3RpdmVTdGF0ZSA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB1bmlmb3JtIGdyb3VwIGlzIGF0dGFjaGVkIHRvIGZpbHRlciB1bmlmb3JtcyB3aGVuIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Vbmlmb3JtR3JvdXB9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SZWN0YW5nbGV9IG91dHB1dEZyYW1lXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYXQzMkFycmF5fSBpbnB1dFNpemVcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0UGl4ZWxcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0Q2xhbXBcbiAgICAgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHJlc29sdXRpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGZpbHRlckFyZWFcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hZDMyQXJyYXl9IGZpbHRlckNsYW1wXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nbG9iYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgICAgICAgb3V0cHV0RnJhbWU6IF90aGlzLnRlbXBSZWN0LFxuICAgICAgICAgICAgaW5wdXRTaXplOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgaW5wdXRQaXhlbDogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGlucHV0Q2xhbXA6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgICAgICAgLy8gbGVnYWN5IHZhcmlhYmxlc1xuICAgICAgICAgICAgZmlsdGVyQXJlYTogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGZpbHRlckNsYW1wOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdG8gY2xlYXIgb3V0cHV0IHJlbmRlclRleHR1cmUgaW4gQVVUTy9CTElUIG1vZGUuIFNlZSB7QGxpbmsgUElYSS5DTEVBUl9NT0RFU31cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZvcmNlQ2xlYXIgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9sZCBwYWRkaW5nIGJlaGF2aW9yIGlzIHRvIHVzZSB0aGUgbWF4IGFtb3VudCBpbnN0ZWFkIG9mIHN1bSBwYWRkaW5nLlxuICAgICAgICAgKiBVc2UgdGhpcyBmbGFnIGlmIHlvdSBuZWVkIHRoZSBvbGQgYmVoYXZpb3IuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51c2VNYXhQYWRkaW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIG5ldyBmaWx0ZXIgdG8gdGhlIFN5c3RlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBUaGUgdGFyZ2V0IG9mIHRoZSBmaWx0ZXIgdG8gcmVuZGVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJbXX0gZmlsdGVycyAtIFRoZSBmaWx0ZXJzIHRvIGFwcGx5LlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uICh0YXJnZXQsIGZpbHRlcnMpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGZpbHRlclN0YWNrID0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2s7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGVQb29sLnBvcCgpIHx8IG5ldyBGaWx0ZXJTdGF0ZSgpO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGZpbHRlcnNbMF0ucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSBmaWx0ZXJzWzBdLnBhZGRpbmc7XG4gICAgICAgIHZhciBhdXRvRml0ID0gZmlsdGVyc1swXS5hdXRvRml0O1xuICAgICAgICB2YXIgbGVnYWN5ID0gZmlsdGVyc1swXS5sZWdhY3k7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZpbHRlciA9IGZpbHRlcnNbaV07XG4gICAgICAgICAgICAvLyBsZXRzIHVzZSB0aGUgbG93ZXN0IHJlc29sdXRpb24uLlxuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IE1hdGgubWluKHJlc29sdXRpb24sIGZpbHRlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgdGhlIHBhZGRpbmcgcmVxdWlyZWQgZm9yIGZpbHRlcnNcbiAgICAgICAgICAgIHBhZGRpbmcgPSB0aGlzLnVzZU1heFBhZGRpbmdcbiAgICAgICAgICAgICAgICAvLyBvbGQgYmVoYXZpb3I6IHVzZSBsYXJnZXN0IGFtb3VudCBvZiBwYWRkaW5nIVxuICAgICAgICAgICAgICAgID8gTWF0aC5tYXgocGFkZGluZywgZmlsdGVyLnBhZGRpbmcpXG4gICAgICAgICAgICAgICAgLy8gbmV3IGJlaGF2aW9yOiBzdW0gdGhlIHBhZGRpbmdcbiAgICAgICAgICAgICAgICA6IHBhZGRpbmcgKyBmaWx0ZXIucGFkZGluZztcbiAgICAgICAgICAgIC8vIG9ubHkgYXV0byBmaXQgaWYgYWxsIGZpbHRlcnMgYXJlIGF1dG9maXRcbiAgICAgICAgICAgIGF1dG9GaXQgPSBhdXRvRml0IHx8IGZpbHRlci5hdXRvRml0O1xuICAgICAgICAgICAgbGVnYWN5ID0gbGVnYWN5IHx8IGZpbHRlci5sZWdhY3k7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlclN0YWNrLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2tbMF0ucmVuZGVyVGV4dHVyZSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmUuY3VycmVudDtcbiAgICAgICAgfVxuICAgICAgICBmaWx0ZXJTdGFjay5wdXNoKHN0YXRlKTtcbiAgICAgICAgc3RhdGUucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIHN0YXRlLmxlZ2FjeSA9IGxlZ2FjeTtcbiAgICAgICAgc3RhdGUudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5jb3B5RnJvbSh0YXJnZXQuZmlsdGVyQXJlYSB8fCB0YXJnZXQuZ2V0Qm91bmRzKHRydWUpKTtcbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUucGFkKHBhZGRpbmcpO1xuICAgICAgICBpZiAoYXV0b0ZpdCkge1xuICAgICAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuZml0KHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5zb3VyY2VGcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcm91bmQgdG8gd2hvbGUgbnVtYmVyIGJhc2VkIG9uIHJlc29sdXRpb25cbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuY2VpbChyZXNvbHV0aW9uKTtcbiAgICAgICAgc3RhdGUucmVuZGVyVGV4dHVyZSA9IHRoaXMuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUoc3RhdGUuc291cmNlRnJhbWUud2lkdGgsIHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgICAgIHN0YXRlLmZpbHRlcnMgPSBmaWx0ZXJzO1xuICAgICAgICBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gc3RhdGUucmVuZGVyVGV4dHVyZS53aWR0aDtcbiAgICAgICAgc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBzdGF0ZS5yZW5kZXJUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uRnJhbWUgPSB0aGlzLnRlbXBSZWN0O1xuICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gc3RhdGUuc291cmNlRnJhbWUud2lkdGg7XG4gICAgICAgIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gc3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0O1xuICAgICAgICBzdGF0ZS5yZW5kZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gc3RhdGUuc291cmNlRnJhbWU7XG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChzdGF0ZS5yZW5kZXJUZXh0dXJlLCBzdGF0ZS5zb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSk7XG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBvcHMgb2ZmIHRoZSBmaWx0ZXIgYW5kIGFwcGxpZXMgaXQuXG4gICAgICpcbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZpbHRlclN0YWNrID0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2s7XG4gICAgICAgIHZhciBzdGF0ZSA9IGZpbHRlclN0YWNrLnBvcCgpO1xuICAgICAgICB2YXIgZmlsdGVycyA9IHN0YXRlLmZpbHRlcnM7XG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdmFyIGdsb2JhbFVuaWZvcm1zID0gdGhpcy5nbG9iYWxVbmlmb3Jtcy51bmlmb3JtcztcbiAgICAgICAgZ2xvYmFsVW5pZm9ybXMub3V0cHV0RnJhbWUgPSBzdGF0ZS5zb3VyY2VGcmFtZTtcbiAgICAgICAgZ2xvYmFsVW5pZm9ybXMucmVzb2x1dGlvbiA9IHN0YXRlLnJlc29sdXRpb247XG4gICAgICAgIHZhciBpbnB1dFNpemUgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dFNpemU7XG4gICAgICAgIHZhciBpbnB1dFBpeGVsID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRQaXhlbDtcbiAgICAgICAgdmFyIGlucHV0Q2xhbXAgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dENsYW1wO1xuICAgICAgICBpbnB1dFNpemVbMF0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICBpbnB1dFNpemVbMV0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICAgICAgaW5wdXRTaXplWzJdID0gMS4wIC8gaW5wdXRTaXplWzBdO1xuICAgICAgICBpbnB1dFNpemVbM10gPSAxLjAgLyBpbnB1dFNpemVbMV07XG4gICAgICAgIGlucHV0UGl4ZWxbMF0gPSBpbnB1dFNpemVbMF0gKiBzdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICBpbnB1dFBpeGVsWzFdID0gaW5wdXRTaXplWzFdICogc3RhdGUucmVzb2x1dGlvbjtcbiAgICAgICAgaW5wdXRQaXhlbFsyXSA9IDEuMCAvIGlucHV0UGl4ZWxbMF07XG4gICAgICAgIGlucHV0UGl4ZWxbM10gPSAxLjAgLyBpbnB1dFBpeGVsWzFdO1xuICAgICAgICBpbnB1dENsYW1wWzBdID0gMC41ICogaW5wdXRQaXhlbFsyXTtcbiAgICAgICAgaW5wdXRDbGFtcFsxXSA9IDAuNSAqIGlucHV0UGl4ZWxbM107XG4gICAgICAgIGlucHV0Q2xhbXBbMl0gPSAoc3RhdGUuc291cmNlRnJhbWUud2lkdGggKiBpbnB1dFNpemVbMl0pIC0gKDAuNSAqIGlucHV0UGl4ZWxbMl0pO1xuICAgICAgICBpbnB1dENsYW1wWzNdID0gKHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCAqIGlucHV0U2l6ZVszXSkgLSAoMC41ICogaW5wdXRQaXhlbFszXSk7XG4gICAgICAgIC8vIG9ubHkgdXBkYXRlIHRoZSByZWN0IGlmIGl0cyBsZWdhY3kuLlxuICAgICAgICBpZiAoc3RhdGUubGVnYWN5KSB7XG4gICAgICAgICAgICB2YXIgZmlsdGVyQXJlYSA9IGdsb2JhbFVuaWZvcm1zLmZpbHRlckFyZWE7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzBdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbMV0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbMl0gPSBzdGF0ZS5zb3VyY2VGcmFtZS54O1xuICAgICAgICAgICAgZmlsdGVyQXJlYVszXSA9IHN0YXRlLnNvdXJjZUZyYW1lLnk7XG4gICAgICAgICAgICBnbG9iYWxVbmlmb3Jtcy5maWx0ZXJDbGFtcCA9IGdsb2JhbFVuaWZvcm1zLmlucHV0Q2xhbXA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nbG9iYWxVbmlmb3Jtcy51cGRhdGUoKTtcbiAgICAgICAgdmFyIGxhc3RTdGF0ZSA9IGZpbHRlclN0YWNrW2ZpbHRlclN0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoc3RhdGUucmVuZGVyVGV4dHVyZS5mcmFtZWJ1ZmZlci5tdWx0aXNhbXBsZSA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuYmxpdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgZmlsdGVyc1swXS5hcHBseSh0aGlzLCBzdGF0ZS5yZW5kZXJUZXh0dXJlLCBsYXN0U3RhdGUucmVuZGVyVGV4dHVyZSwgQ0xFQVJfTU9ERVMuQkxFTkQsIHN0YXRlKTtcbiAgICAgICAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShzdGF0ZS5yZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmbGlwID0gc3RhdGUucmVuZGVyVGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBmbG9wID0gdGhpcy5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZShmbGlwLndpZHRoLCBmbGlwLmhlaWdodCwgc3RhdGUucmVzb2x1dGlvbik7XG4gICAgICAgICAgICBmbG9wLmZpbHRlckZyYW1lID0gZmxpcC5maWx0ZXJGcmFtZTtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICAgICAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcywgZmxpcCwgZmxvcCwgQ0xFQVJfTU9ERVMuQ0xFQVIsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IGZsaXA7XG4gICAgICAgICAgICAgICAgZmxpcCA9IGZsb3A7XG4gICAgICAgICAgICAgICAgZmxvcCA9IHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWx0ZXJzW2ldLmFwcGx5KHRoaXMsIGZsaXAsIGxhc3RTdGF0ZS5yZW5kZXJUZXh0dXJlLCBDTEVBUl9NT0RFUy5CTEVORCwgc3RhdGUpO1xuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsaXApO1xuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsb3ApO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuc3RhdGVQb29sLnB1c2goc3RhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZHMgYSByZW5kZXJUZXh0dXJlIHdpdGggY29ycmVzcG9uZGluZyBgZmlsdGVyRnJhbWVgLCBjbGVhcnMgaXQgaWYgbW9kZSBjb3JyZXNwb25kcy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gZmlsdGVyVGV4dHVyZSAtIHJlbmRlclRleHR1cmUgdG8gYmluZCwgc2hvdWxkIGJlbG9uZyB0byBmaWx0ZXIgcG9vbCBvciBmaWx0ZXIgc3RhY2tcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IFtjbGVhck1vZGVdIC0gY2xlYXJNb2RlLCBieSBkZWZhdWx0IGl0cyBDTEVBUi9ZRVMuIFNlZSB7QGxpbmsgUElYSS5DTEVBUl9NT0RFU31cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmJpbmRBbmRDbGVhciA9IGZ1bmN0aW9uIChmaWx0ZXJUZXh0dXJlLCBjbGVhck1vZGUpIHtcbiAgICAgICAgaWYgKGNsZWFyTW9kZSA9PT0gdm9pZCAwKSB7IGNsZWFyTW9kZSA9IENMRUFSX01PREVTLkNMRUFSOyB9XG4gICAgICAgIGlmIChmaWx0ZXJUZXh0dXJlICYmIGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUpIHtcbiAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbkZyYW1lID0gdGhpcy50ZW1wUmVjdDtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lLndpZHRoO1xuICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKGZpbHRlclRleHR1cmUsIGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQoZmlsdGVyVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogcmVtb3ZlIGluIG5leHQgbWFqb3IgdmVyc2lvblxuICAgICAgICBpZiAodHlwZW9mIGNsZWFyTW9kZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBjbGVhck1vZGUgPSBjbGVhck1vZGUgPyBDTEVBUl9NT0RFUy5DTEVBUiA6IENMRUFSX01PREVTLkJMRU5EO1xuICAgICAgICAgICAgLy8gZ2V0IGRlcHJlY2F0aW9uIGZ1bmN0aW9uIGZyb20gdXRpbHNcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMScsICdVc2UgQ0xFQVJfTU9ERVMgd2hlbiB1c2luZyBjbGVhciBhcHBseUZpbHRlciBvcHRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xlYXJNb2RlID09PSBDTEVBUl9NT0RFUy5DTEVBUlxuICAgICAgICAgICAgfHwgKGNsZWFyTW9kZSA9PT0gQ0xFQVJfTU9ERVMuQkxJVCAmJiB0aGlzLmZvcmNlQ2xlYXIpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyfSBmaWx0ZXIgLSBUaGUgZmlsdGVyIHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7UElYSS5DTEVBUl9NT0RFU30gW2NsZWFyTW9kZV0gLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXRcbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmFwcGx5RmlsdGVyID0gZnVuY3Rpb24gKGZpbHRlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHRoaXMuYmluZEFuZENsZWFyKG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgLy8gc2V0IHRoZSB1bmlmb3Jtcy4uXG4gICAgICAgIGZpbHRlci51bmlmb3Jtcy51U2FtcGxlciA9IGlucHV0O1xuICAgICAgICBmaWx0ZXIudW5pZm9ybXMuZmlsdGVyR2xvYmFscyA9IHRoaXMuZ2xvYmFsVW5pZm9ybXM7XG4gICAgICAgIC8vIFRPRE8gbWFrZSBpdCBzbyB0aGF0IHRoZSBvcmRlciBvZiB0aGlzIGRvZXMgbm90IG1hdHRlci4uXG4gICAgICAgIC8vIGJlY2F1c2UgaXQgZG9lcyBhdCB0aGUgbW9tZW50IGNvcyBvZiBnbG9iYWwgdW5pZm9ybXMuXG4gICAgICAgIC8vIHRoZXkgbmVlZCB0byBnZXQgcmVzeW5jZWRcbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0KGZpbHRlci5zdGF0ZSk7XG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKGZpbHRlcik7XG4gICAgICAgIGlmIChmaWx0ZXIubGVnYWN5KSB7XG4gICAgICAgICAgICB0aGlzLnF1YWRVdi5tYXAoaW5wdXQuX2ZyYW1lLCBpbnB1dC5maWx0ZXJGcmFtZSk7XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMucXVhZFV2KTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoRFJBV19NT0RFUy5UUklBTkdMRVMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLnF1YWQpO1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyhEUkFXX01PREVTLlRSSUFOR0xFX1NUUklQKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgX2lucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNfIHRvIHRoaXMgbWF0cml4IHRvIGdldCBfc3ByaXRlIHRleHR1cmUgbm9ybWFsaXplZCBjb29yZGluYXRlc18uXG4gICAgICpcbiAgICAgKiBVc2UgYG91dHB1dE1hdHJpeCAqIHZUZXh0dXJlQ29vcmRgIGluIHRoZSBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSBUaGUgc3ByaXRlIHRvIG1hcCB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5jYWxjdWxhdGVTcHJpdGVNYXRyaXggPSBmdW5jdGlvbiAob3V0cHV0TWF0cml4LCBzcHJpdGUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5hY3RpdmVTdGF0ZSwgc291cmNlRnJhbWUgPSBfYS5zb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSA9IF9hLmRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgIHZhciBvcmlnID0gc3ByaXRlLl90ZXh0dXJlLm9yaWc7XG4gICAgICAgIHZhciBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguc2V0KGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIDAsIDAsIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0LCBzb3VyY2VGcmFtZS54LCBzb3VyY2VGcmFtZS55KTtcbiAgICAgICAgdmFyIHdvcmxkVHJhbnNmb3JtID0gc3ByaXRlLndvcmxkVHJhbnNmb3JtLmNvcHlUbyhNYXRyaXguVEVNUF9NQVRSSVgpO1xuICAgICAgICB3b3JsZFRyYW5zZm9ybS5pbnZlcnQoKTtcbiAgICAgICAgbWFwcGVkTWF0cml4LnByZXBlbmQod29ybGRUcmFuc2Zvcm0pO1xuICAgICAgICBtYXBwZWRNYXRyaXguc2NhbGUoMS4wIC8gb3JpZy53aWR0aCwgMS4wIC8gb3JpZy5oZWlnaHQpO1xuICAgICAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKHNwcml0ZS5hbmNob3IueCwgc3ByaXRlLmFuY2hvci55KTtcbiAgICAgICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgRmlsdGVyIFN5c3RlbS5cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRob3NlIHRleHR1cmVzIGhhcyB0byBiZSBkZXN0cm95ZWQgYnkgUmVuZGVyVGV4dHVyZVN5c3RlbSBvciBGcmFtZWJ1ZmZlclN5c3RlbVxuICAgICAgICB0aGlzLnRleHR1cmVQb29sLmNsZWFyKGZhbHNlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgYSBQb3dlci1vZi1Ud28gcmVuZGVyIHRleHR1cmUgb3IgZnVsbFNjcmVlbiB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbldpZHRoIC0gVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5IZWlnaHQgLSBUaGUgbWluaW11bSBoZWlnaHQgb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IFRoZSBuZXcgcmVuZGVyIHRleHR1cmUuXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIChtaW5XaWR0aCwgbWluSGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSB2b2lkIDApIHsgcmVzb2x1dGlvbiA9IDE7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZVBvb2wuZ2V0T3B0aW1hbFRleHR1cmUobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGV4dHJhIHJlbmRlciB0ZXh0dXJlIHRvIHVzZSBpbnNpZGUgY3VycmVudCBmaWx0ZXJcbiAgICAgKiBUbyBiZSBjb21wbGlhbnQgd2l0aCBvbGRlciBmaWx0ZXJzLCB5b3UgY2FuIHVzZSBwYXJhbXMgaW4gYW55IG9yZGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gW2lucHV0XSAtIHJlbmRlclRleHR1cmUgZnJvbSB3aGljaCBzaXplIGFuZCByZXNvbHV0aW9uIHdpbGwgYmUgY29waWVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSAtIG92ZXJyaWRlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlclRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7UElYSS5SZW5kZXJUZXh0dXJlfVxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuZ2V0RmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIChpbnB1dCwgcmVzb2x1dGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdmFyIHN3YXAgPSBpbnB1dDtcbiAgICAgICAgICAgIGlucHV0ID0gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBzd2FwO1xuICAgICAgICB9XG4gICAgICAgIGlucHV0ID0gaW5wdXQgfHwgdGhpcy5hY3RpdmVTdGF0ZS5yZW5kZXJUZXh0dXJlO1xuICAgICAgICB2YXIgZmlsdGVyVGV4dHVyZSA9IHRoaXMudGV4dHVyZVBvb2wuZ2V0T3B0aW1hbFRleHR1cmUoaW5wdXQud2lkdGgsIGlucHV0LmhlaWdodCwgcmVzb2x1dGlvbiB8fCBpbnB1dC5yZXNvbHV0aW9uKTtcbiAgICAgICAgZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IGlucHV0LmZpbHRlckZyYW1lO1xuICAgICAgICByZXR1cm4gZmlsdGVyVGV4dHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZyZWVzIGEgcmVuZGVyIHRleHR1cmUgYmFjayBpbnRvIHRoZSBwb29sLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyVGFyZ2V0IHRvIGZyZWVcbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLnJldHVybkZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sLnJldHVyblRleHR1cmUocmVuZGVyVGV4dHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbXB0aWVzIHRoZSB0ZXh0dXJlIHBvb2wuXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5lbXB0eVBvb2wgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wuY2xlYXIodHJ1ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjYWxscyBgdGV4dHVyZVBvb2wucmVzaXplKClgLCBhZmZlY3RzIGZ1bGxTY3JlZW4gcmVuZGVyVGV4dHVyZXNcbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5zZXRTY3JlZW5TaXplKHRoaXMucmVuZGVyZXIudmlldyk7XG4gICAgfTtcbiAgICByZXR1cm4gRmlsdGVyU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBCYXNlIGZvciBhIGNvbW1vbiBvYmplY3QgcmVuZGVyZXIgdGhhdCBjYW4gYmUgdXNlZCBhcyBhXG4gKiBzeXN0ZW0gcmVuZGVyZXIgcGx1Z2luLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBPYmplY3RSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gT2JqZWN0UmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdHViIG1ldGhvZCB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIGVtcHR5IHRoZSBjdXJyZW50XG4gICAgICogYmF0Y2ggYnkgcmVuZGVyaW5nIG9iamVjdHMgbm93LlxuICAgICAqL1xuICAgIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZmx1c2ghXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmljIGRlc3RydWN0aW9uIG1ldGhvZCB0aGF0IGZyZWVzIGFsbCByZXNvdXJjZXMuIFRoaXNcbiAgICAgKiBzaG91bGQgYmUgY2FsbGVkIGJ5IHN1YmNsYXNzZXMuXG4gICAgICovXG4gICAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3R1YiBtZXRob2QgdGhhdCBpbml0aWFsaXplcyBhbnkgc3RhdGUgcmVxdWlyZWQgYmVmb3JlXG4gICAgICogcmVuZGVyaW5nIHN0YXJ0cy4gSXQgaXMgZGlmZmVyZW50IGZyb20gdGhlIGBwcmVyZW5kZXJgXG4gICAgICogc2lnbmFsLCB3aGljaCBvY2N1cnMgZXZlcnkgZnJhbWUsIGluIHRoYXQgaXQgaXMgY2FsbGVkXG4gICAgICogd2hlbmV2ZXIgYW4gb2JqZWN0IHJlcXVlc3RzIF90aGlzXyByZW5kZXJlciBzcGVjaWZpY2FsbHkuXG4gICAgICovXG4gICAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBzZXQgdGhlIHNoYWRlci4uXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgcmVuZGVyZXIuIEl0IHNob3VsZCBmcmVlIHVwIGFueSBzdGF0ZSBhbmRcbiAgICAgKiBiZWNvbWUgZG9ybWFudC5cbiAgICAgKi9cbiAgICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogS2VlcHMgdGhlIG9iamVjdCB0byByZW5kZXIuIEl0IGRvZXNuJ3QgaGF2ZSB0byBiZVxuICAgICAqIHJlbmRlcmVkIGltbWVkaWF0ZWx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcmVuZGVyLlxuICAgICAqL1xuICAgIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoX29iamVjdCkge1xuICAgICAgICAvLyByZW5kZXIgdGhlIG9iamVjdFxuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdFJlbmRlcmVyO1xufSgpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgYmF0Y2hpbmcuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgQmF0Y2hTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhdGNoU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhdGNoU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gZW1wdHkgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JqZWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbXB0eVJlbmRlcmVyID0gbmV3IE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50bHkgYWN0aXZlIE9iamVjdFJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9iamVjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3VycmVudFJlbmRlcmVyID0gX3RoaXMuZW1wdHlSZW5kZXJlcjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHJlbmRlcmVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuT2JqZWN0UmVuZGVyZXJ9IG9iamVjdFJlbmRlcmVyIC0gVGhlIG9iamVjdCByZW5kZXJlciB0byB1c2UuXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLnNldE9iamVjdFJlbmRlcmVyID0gZnVuY3Rpb24gKG9iamVjdFJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRSZW5kZXJlciA9PT0gb2JqZWN0UmVuZGVyZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdG9wKCk7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyID0gb2JqZWN0UmVuZGVyZXI7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgaWYgeW91IHdpc2ggdG8gZG8gc29tZSBjdXN0b20gcmVuZGVyaW5nXG4gICAgICogSXQgd2lsbCBiYXNpY2FsbHkgcmVuZGVyIGFueXRoaW5nIHRoYXQgbWF5IGJlIGJhdGNoZWQgdXAgc3VjaCBhcyBzcHJpdGVzXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgc3lzdGVtIHRvIGFuIGVtcHR5IHJlbmRlcmVyXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5keSBmdW5jdGlvbiBmb3IgYmF0Y2ggcmVuZGVyZXJzOiBjb3BpZXMgYm91bmQgdGV4dHVyZXMgaW4gZmlyc3QgbWF4VGV4dHVyZXMgbG9jYXRpb25zIHRvIGFycmF5XG4gICAgICogc2V0cyBhY3R1YWwgX2JhdGNoTG9jYXRpb24gZm9yIHRoZW1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZVtdfSAtIGFyciBjb3B5IGRlc3RpbmF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFRleHR1cmVzIC0gbnVtYmVyIG9mIGNvcGllZCBlbGVtZW50c1xuICAgICAqL1xuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZS5jb3B5Qm91bmRUZXh0dXJlcyA9IGZ1bmN0aW9uIChhcnIsIG1heFRleHR1cmVzKSB7XG4gICAgICAgIHZhciBib3VuZFRleHR1cmVzID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJvdW5kVGV4dHVyZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSBtYXhUZXh0dXJlcyAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICBhcnJbaV0gPSBib3VuZFRleHR1cmVzW2ldIHx8IG51bGw7XG4gICAgICAgICAgICBpZiAoYXJyW2ldKSB7XG4gICAgICAgICAgICAgICAgYXJyW2ldLl9iYXRjaExvY2F0aW9uID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQXNzaWducyBiYXRjaCBsb2NhdGlvbnMgdG8gdGV4dHVyZXMgaW4gYXJyYXkgYmFzZWQgb24gYm91bmRUZXh0dXJlcyBzdGF0ZS5cbiAgICAgKiBBbGwgdGV4dHVyZXMgaW4gdGV4QXJyYXkgc2hvdWxkIGhhdmUgYF9iYXRjaEVuYWJsZWQgPSBfYmF0Y2hJZGAsXG4gICAgICogYW5kIHRoZWlyIGNvdW50IHNob3VsZCBiZSBsZXNzIHRoYW4gYG1heFRleHR1cmVzYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXRjaFRleHR1cmVBcnJheX0gdGV4QXJyYXkgLSB0ZXh0dXJlcyB0byBib3VuZFxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZVtdfSBib3VuZFRleHR1cmVzIC0gY3VycmVudCBzdGF0ZSBvZiBib3VuZCB0ZXh0dXJlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiYXRjaElkIC0gbWFya2VyIGZvciBfYmF0Y2hFbmFibGVkIHBhcmFtIG9mIHRleHR1cmVzIGluIHRleEFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFRleHR1cmVzIC0gbnVtYmVyIG9mIHRleHR1cmUgbG9jYXRpb25zIHRvIG1hbmlwdWxhdGVcbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUuYm91bmRBcnJheSA9IGZ1bmN0aW9uICh0ZXhBcnJheSwgYm91bmRUZXh0dXJlcywgYmF0Y2hJZCwgbWF4VGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gdGV4QXJyYXkuZWxlbWVudHMsIGlkcyA9IHRleEFycmF5LmlkcywgY291bnQgPSB0ZXhBcnJheS5jb3VudDtcbiAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZXggPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBsb2MgPSB0ZXguX2JhdGNoTG9jYXRpb247XG4gICAgICAgICAgICBpZiAobG9jID49IDAgJiYgbG9jIDwgbWF4VGV4dHVyZXNcbiAgICAgICAgICAgICAgICAmJiBib3VuZFRleHR1cmVzW2xvY10gPT09IHRleCkge1xuICAgICAgICAgICAgICAgIGlkc1tpXSA9IGxvYztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChqIDwgbWF4VGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYm91bmQgPSBib3VuZFRleHR1cmVzW2pdO1xuICAgICAgICAgICAgICAgIGlmIChib3VuZCAmJiBib3VuZC5fYmF0Y2hFbmFibGVkID09PSBiYXRjaElkXG4gICAgICAgICAgICAgICAgICAgICYmIGJvdW5kLl9iYXRjaExvY2F0aW9uID09PSBqKSB7XG4gICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlkc1tpXSA9IGo7XG4gICAgICAgICAgICAgICAgdGV4Ll9iYXRjaExvY2F0aW9uID0gajtcbiAgICAgICAgICAgICAgICBib3VuZFRleHR1cmVzW2pdID0gdGV4O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQmF0Y2hTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG52YXIgQ09OVEVYVF9VSURfQ09VTlRFUiA9IDA7XG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0aGUgY29udGV4dC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBDb250ZXh0U3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb250ZXh0U3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qIGVzbGludC1lbmFibGUgY2FtZWxjYXNlICovXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29udGV4dFN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVpdGhlciAxIG9yIDIgdG8gcmVmbGVjdCB0aGUgV2ViR0wgdmVyc2lvbiBiZWluZyB1c2VkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53ZWJHTFZlcnNpb24gPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogRXh0ZW5zaW9ucyBiZWluZyB1c2VkXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7V0VCR0xfZHJhd19idWZmZXJzfSBkcmF3QnVmZmVycyAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge1dFQkdMX2RlcHRoX3RleHR1cmV9IGRlcHRoVGV4dHVyZSAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge09FU190ZXh0dXJlX2Zsb2F0fSBmbG9hdFRleHR1cmUgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtXRUJHTF9sb3NlX2NvbnRleHR9IGxvc2VDb250ZXh0IC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T0VTX3ZlcnRleF9hcnJheV9vYmplY3R9IHZlcnRleEFycmF5T2JqZWN0IC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljfSBhbmlzb3Ryb3BpY0ZpbHRlcmluZyAtIFdlYkdMIHYxIGFuZCB2MiBleHRlbnNpb25cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV4dGVuc2lvbnMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZlYXR1cmVzIHN1cHBvcnRlZCBieSBjdXJyZW50IGNvbnRleHRcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSB1aW50MzJJbmRpY2VzIC0gU3VwcG9ydHMgb2YgMzItYml0IGluZGljZXMgYnVmZmVyXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdXBwb3J0cyA9IHtcbiAgICAgICAgICAgIHVpbnQzMkluZGljZXM6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgICAvLyBCaW5kIGZ1bmN0aW9uc1xuICAgICAgICBfdGhpcy5oYW5kbGVDb250ZXh0TG9zdCA9IF90aGlzLmhhbmRsZUNvbnRleHRMb3N0LmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQgPSBfdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQuYmluZChfdGhpcyk7XG4gICAgICAgIHJlbmRlcmVyLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIF90aGlzLmhhbmRsZUNvbnRleHRMb3N0LCBmYWxzZSk7XG4gICAgICAgIHJlbmRlcmVyLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCBfdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29udGV4dFN5c3RlbS5wcm90b3R5cGUsIFwiaXNMb3N0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB0aGUgY29udGV4dCBpcyBsb3N0XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKCF0aGlzLmdsIHx8IHRoaXMuZ2wuaXNDb250ZXh0TG9zdCgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgY29udGV4dCBjaGFuZ2UgZXZlbnRcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBuZXcgd2ViZ2wgY29udGV4dFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoZ2wpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQgPSBDT05URVhUX1VJRF9DT1VOVEVSKys7XG4gICAgICAgIC8vIHJlc3RvcmUgYSBjb250ZXh0IGlmIGl0IHdhcyBwcmV2aW91c2x5IGxvc3RcbiAgICAgICAgaWYgKGdsLmlzQ29udGV4dExvc3QoKSAmJiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpKSB7XG4gICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpLnJlc3RvcmVDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBXZWJHTCBjb250ZXh0XG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuaW5pdEZyb21Db250ZXh0ID0gZnVuY3Rpb24gKGdsKSB7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy52YWxpZGF0ZUNvbnRleHQoZ2wpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQgPSBDT05URVhUX1VJRF9DT1VOVEVSKys7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLmVtaXQoZ2wpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcm9tIGNvbnRleHQgb3B0aW9uc1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxDYW52YXNFbGVtZW50L2dldENvbnRleHRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIGNvbnRleHQgYXR0cmlidXRlc1xuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmluaXRGcm9tT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuY3JlYXRlQ29udGV4dCh0aGlzLnJlbmRlcmVyLnZpZXcsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmluaXRGcm9tQ29udGV4dChnbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgV2ViR0wgQ29udGV4dFxuICAgICAqXG4gICAgICogQHBhcmFtIGNhbnZhcyB7SFRNTENhbnZhc0VsZW1lbnR9IHRoZSBjYW52YXMgZWxlbWVudCB0aGF0IHdlIHdpbGwgZ2V0IHRoZSBjb250ZXh0IGZyb21cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyB7b2JqZWN0fSBBbiBvcHRpb25zIG9iamVjdCB0aGF0IGdldHMgcGFzc2VkIGluIHRvIHRoZSBjYW52YXMgZWxlbWVudCBjb250YWluaW5nIHRoZSBjb250ZXh0IGF0dHJpYnV0ZXNcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9IVE1MQ2FudmFzRWxlbWVudC9nZXRDb250ZXh0XG4gICAgICogQHJldHVybiB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSB0aGUgV2ViR0wgY29udGV4dFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmNyZWF0ZUNvbnRleHQgPSBmdW5jdGlvbiAoY2FudmFzLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBnbDtcbiAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPj0gRU5WLldFQkdMMikge1xuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wyJywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsKSB7XG4gICAgICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDE7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKCFnbCkge1xuICAgICAgICAgICAgICAgIC8vIGZhaWwsIG5vdCBhYmxlIHRvIGdldCBhIGNvbnRleHRcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFdlYkdMLiBUcnkgdXNpbmcgdGhlIGNhbnZhcyByZW5kZXJlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5nZXRFeHRlbnNpb25zKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmdsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXV0by1wb3B1bGF0ZSB0aGUgZXh0ZW5zaW9uc1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmdldEV4dGVuc2lvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHRpbWUgdG8gc2V0IHVwIGRlZmF1bHQgZXh0ZW5zaW9ucyB0aGF0IFBpeGkgdXNlcy5cbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKHRoaXMud2ViR0xWZXJzaW9uID09PSAxKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZXh0ZW5zaW9ucywge1xuICAgICAgICAgICAgICAgIGRyYXdCdWZmZXJzOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RyYXdfYnVmZmVycycpLFxuICAgICAgICAgICAgICAgIGRlcHRoVGV4dHVyZTogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kZXB0aF90ZXh0dXJlJyksXG4gICAgICAgICAgICAgICAgbG9zZUNvbnRleHQ6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JyksXG4gICAgICAgICAgICAgICAgdmVydGV4QXJyYXlPYmplY3Q6IGdsLmdldEV4dGVuc2lvbignT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKVxuICAgICAgICAgICAgICAgICAgICB8fCBnbC5nZXRFeHRlbnNpb24oJ01PWl9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpXG4gICAgICAgICAgICAgICAgICAgIHx8IGdsLmdldEV4dGVuc2lvbignV0VCS0lUX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JyksXG4gICAgICAgICAgICAgICAgYW5pc290cm9waWNGaWx0ZXJpbmc6IGdsLmdldEV4dGVuc2lvbignRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJyksXG4gICAgICAgICAgICAgICAgdWludDMyRWxlbWVudEluZGV4OiBnbC5nZXRFeHRlbnNpb24oJ09FU19lbGVtZW50X2luZGV4X3VpbnQnKSxcbiAgICAgICAgICAgICAgICAvLyBGbG9hdHMgYW5kIGhhbGYtZmxvYXRzXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0JyksXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlTGluZWFyOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0X2xpbmVhcicpLFxuICAgICAgICAgICAgICAgIHRleHR1cmVIYWxmRmxvYXQ6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdCcpLFxuICAgICAgICAgICAgICAgIHRleHR1cmVIYWxmRmxvYXRMaW5lYXI6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMud2ViR0xWZXJzaW9uID09PSAyKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZXh0ZW5zaW9ucywge1xuICAgICAgICAgICAgICAgIGFuaXNvdHJvcGljRmlsdGVyaW5nOiBnbC5nZXRFeHRlbnNpb24oJ0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpLFxuICAgICAgICAgICAgICAgIC8vIEZsb2F0cyBhbmQgaGFsZi1mbG9hdHNcbiAgICAgICAgICAgICAgICBjb2xvckJ1ZmZlckZsb2F0OiBnbC5nZXRFeHRlbnNpb24oJ0VYVF9jb2xvcl9idWZmZXJfZmxvYXQnKSxcbiAgICAgICAgICAgICAgICBmbG9hdFRleHR1cmVMaW5lYXI6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyJyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIGxvc3Qgd2ViZ2wgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7V2ViR0xDb250ZXh0RXZlbnR9IGV2ZW50IC0gVGhlIGNvbnRleHQgbG9zdCBldmVudC5cbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5oYW5kbGVDb250ZXh0TG9zdCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIHJlc3RvcmVkIHdlYmdsIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5oYW5kbGVDb250ZXh0UmVzdG9yZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLmVtaXQodGhpcy5nbCk7XG4gICAgfTtcbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmlldyA9IHRoaXMucmVuZGVyZXIudmlldztcbiAgICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyc1xuICAgICAgICB2aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmhhbmRsZUNvbnRleHRMb3N0KTtcbiAgICAgICAgdmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkKTtcbiAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKG51bGwpO1xuICAgICAgICBpZiAodGhpcy5leHRlbnNpb25zLmxvc2VDb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmV4dGVuc2lvbnMubG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBwb3N0LXJlbmRlciBydW5uZXIgZXZlbnRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5wb3N0cmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgICAgICAgdGhpcy5nbC5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gUmVuZGVyIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS52YWxpZGF0ZUNvbnRleHQgPSBmdW5jdGlvbiAoZ2wpIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBnbC5nZXRDb250ZXh0QXR0cmlidXRlcygpO1xuICAgICAgICAvLyB0aGlzIGlzIGdvaW5nIHRvIGJlIGZhaXJseSBzaW1wbGUgZm9yIG5vdy4uIGJ1dCBhdCBsZWFzdCB3ZSBoYXZlIHJvb20gdG8gZ3JvdyFcbiAgICAgICAgaWYgKCFhdHRyaWJ1dGVzLnN0ZW5jaWwpIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4sIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUHJvdmlkZWQgV2ViR0wgY29udGV4dCBkb2VzIG5vdCBoYXZlIGEgc3RlbmNpbCBidWZmZXIsIG1hc2tzIG1heSBub3QgcmVuZGVyIGNvcnJlY3RseScpO1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuLCBuby1jb25zb2xlICovXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhc3VpbnQzMiA9ICgnV2ViR0wyUmVuZGVyaW5nQ29udGV4dCcgaW4gd2luZG93ICYmIGdsIGluc3RhbmNlb2Ygd2luZG93LldlYkdMMlJlbmRlcmluZ0NvbnRleHQpXG4gICAgICAgICAgICB8fCAhIWdsLmdldEV4dGVuc2lvbignT0VTX2VsZW1lbnRfaW5kZXhfdWludCcpO1xuICAgICAgICB0aGlzLnN1cHBvcnRzLnVpbnQzMkluZGljZXMgPSBoYXN1aW50MzI7XG4gICAgICAgIGlmICghaGFzdWludDMyKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Byb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3Qgc3VwcG9ydCAzMiBpbmRleCBidWZmZXIsIGNvbXBsZXggZ3JhcGhpY3MgbWF5IG5vdCByZW5kZXIgY29ycmVjdGx5Jyk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4sIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENvbnRleHRTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIEludGVybmFsIGZyYW1lYnVmZmVyIGZvciBXZWJHTCBjb250ZXh0XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHTEZyYW1lYnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdMRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBmcmFtZWJ1ZmZlclxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTEZyYW1lYnVmZmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlciA9IGZyYW1lYnVmZmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogc3RlbmNpbCtkZXB0aCAsIHVzdWFsbHkgY29zdHMgMzJiaXRzIHBlciBwaXhlbFxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmJ1ZmZlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RlbmNpbCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBsYXRlc3Qga25vd24gdmVyc2lvbiBvZiBmcmFtZWJ1ZmZlclxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlJZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBsYXRlc3Qga25vd24gdmVyc2lvbiBvZiBmcmFtZWJ1ZmZlciBmb3JtYXRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGxhdGVzdCBrbm93biB2ZXJzaW9uIG9mIGZyYW1lYnVmZmVyIHNpemVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5U2l6ZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlY3RlZCBBQSBzYW1wbGVzIG51bWJlclxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1TQUFfUVVBTElUWX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluIGNhc2UgTVNBQSwgd2UgdXNlIHRoaXMgUmVuZGVyYnVmZmVyIGluc3RlYWQgb2YgY29sb3JUZXh0dXJlc1swXSB3aGVuIHdlIHdyaXRlIGluZm9cbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJidWZmZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1zYWFCdWZmZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW4gY2FzZSB3ZSB1c2UgTVNBQSwgdGhpcyBpcyBhY3R1YWwgZnJhbWVidWZmZXIgdGhhdCBoYXMgY29sb3JUZXh0dXJlc1swXVxuICAgICAgICAgKiBUaGUgY29udGVudHMgb2YgdGhhdCBmcmFtZWJ1ZmZlciBhcmUgcmVhZCB3aGVuIHdlIHVzZSB0aGF0IHJlbmRlclRleHR1cmUgaW4gc3ByaXRlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZyYW1lYnVmZmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ibGl0RnJhbWVidWZmZXIgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gR0xGcmFtZWJ1ZmZlcjtcbn0oKSk7XG5cbnZhciB0ZW1wUmVjdGFuZ2xlID0gbmV3IFJlY3RhbmdsZSgpO1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgZnJhbWVidWZmZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIEZyYW1lYnVmZmVyU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGcmFtZWJ1ZmZlclN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGcmFtZWJ1ZmZlclN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiBtYW5hZ2VkIGZyYW1lYnVmZmVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZyYW1lYnVmZmVyW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFuYWdlZEZyYW1lYnVmZmVycyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogRnJhbWVidWZmZXIgdmFsdWUgdGhhdCBzaG93cyB0aGF0IHdlIGRvbid0IGtub3cgd2hhdCBpcyBib3VuZFxuICAgICAgICAgKiBAbWVtYmVyIHtGcmFtZWJ1ZmZlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bmtub3duRnJhbWVidWZmZXIgPSBuZXcgRnJhbWVidWZmZXIoMTAsIDEwKTtcbiAgICAgICAgX3RoaXMubXNhYVNhbXBsZXMgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMudW5rbm93bkZyYW1lYnVmZmVyO1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICB0aGlzLmhhc01SVCA9IHRydWU7XG4gICAgICAgIHRoaXMud3JpdGVEZXB0aFRleHR1cmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmRpc3Bvc2VBbGwodHJ1ZSk7XG4gICAgICAgIC8vIHdlYmdsMlxuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMSkge1xuICAgICAgICAgICAgLy8gd2ViZ2wgMSFcbiAgICAgICAgICAgIHZhciBuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbl8xID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuZHJhd0J1ZmZlcnM7XG4gICAgICAgICAgICB2YXIgbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuZGVwdGhUZXh0dXJlO1xuICAgICAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPT09IEVOVi5XRUJHTF9MRUdBQ1kpIHtcbiAgICAgICAgICAgICAgICBuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbl8xID0gbnVsbDtcbiAgICAgICAgICAgICAgICBuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uXzEpIHtcbiAgICAgICAgICAgICAgICBnbC5kcmF3QnVmZmVycyA9IGZ1bmN0aW9uIChhY3RpdmVUZXh0dXJlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb25fMS5kcmF3QnVmZmVyc1dFQkdMKGFjdGl2ZVRleHR1cmVzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNNUlQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBnbC5kcmF3QnVmZmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlRGVwdGhUZXh0dXJlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBXZWJHTDJcbiAgICAgICAgICAgIC8vIGNhY2hlIHBvc3NpYmxlIE1TQUEgc2FtcGxlc1xuICAgICAgICAgICAgdGhpcy5tc2FhU2FtcGxlcyA9IGdsLmdldEludGVybmFsZm9ybWF0UGFyYW1ldGVyKGdsLlJFTkRFUkJVRkZFUiwgZ2wuUkdCQTgsIGdsLlNBTVBMRVMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCaW5kIGEgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIGZyYW1lLCBkZWZhdWx0IGlzIGZyYW1lYnVmZmVyIHNpemVcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChmcmFtZWJ1ZmZlciwgZnJhbWUpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKGZyYW1lYnVmZmVyKSB7XG4gICAgICAgICAgICAvLyBUT0RPIGNhY2hpbmcgbGF5ZXIhXG4gICAgICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF0gfHwgdGhpcy5pbml0RnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBmcmFtZWJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgYWxsIHRleHR1cmVzIGFyZSB1bmJvdW5kLi5cbiAgICAgICAgICAgIC8vIG5vdyBjaGVjayBmb3IgdXBkYXRlcy4uLlxuICAgICAgICAgICAgaWYgKGZiby5kaXJ0eUlkICE9PSBmcmFtZWJ1ZmZlci5kaXJ0eUlkKSB7XG4gICAgICAgICAgICAgICAgZmJvLmRpcnR5SWQgPSBmcmFtZWJ1ZmZlci5kaXJ0eUlkO1xuICAgICAgICAgICAgICAgIGlmIChmYm8uZGlydHlGb3JtYXQgIT09IGZyYW1lYnVmZmVyLmRpcnR5Rm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZiby5kaXJ0eUZvcm1hdCA9IGZyYW1lYnVmZmVyLmRpcnR5Rm9ybWF0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZmJvLmRpcnR5U2l6ZSAhPT0gZnJhbWVidWZmZXIuZGlydHlTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGZiby5kaXJ0eVNpemUgPSBmcmFtZWJ1ZmZlci5kaXJ0eVNpemU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXplRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciB0ZXggPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzW2ldO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS51bmJpbmQodGV4LnBhcmVudFRleHR1cmVBcnJheSB8fCB0ZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS51bmJpbmQoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoZnJhbWUueCwgZnJhbWUueSwgZnJhbWUud2lkdGgsIGZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KDAsIDAsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoZnJhbWUueCwgZnJhbWUueSwgZnJhbWUud2lkdGgsIGZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KDAsIDAsIHRoaXMucmVuZGVyZXIud2lkdGgsIHRoaXMucmVuZGVyZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHQncyB2aWV3cG9ydC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IC0gWCBwb3NpdGlvbiBvZiB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IC0gWSBwb3NpdGlvbiBvZiB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCAtIFdpZHRoIG9mIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB2aWV3cG9ydFxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5zZXRWaWV3cG9ydCA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciB2ID0gdGhpcy52aWV3cG9ydDtcbiAgICAgICAgaWYgKHYud2lkdGggIT09IHdpZHRoIHx8IHYuaGVpZ2h0ICE9PSBoZWlnaHQgfHwgdi54ICE9PSB4IHx8IHYueSAhPT0geSkge1xuICAgICAgICAgICAgdi54ID0geDtcbiAgICAgICAgICAgIHYueSA9IHk7XG4gICAgICAgICAgICB2LndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICB2LmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuZ2wudmlld3BvcnQoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHNpemUgb2YgdGhlIGN1cnJlbnQgd2lkdGggYW5kIGhlaWdodC4gUmV0dXJucyBvYmplY3Qgd2l0aCBgd2lkdGhgIGFuZCBgaGVpZ2h0YCB2YWx1ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHN0b3JlIHRlbXBcbiAgICAgICAgICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB3aWR0aDogdGhpcy5jdXJyZW50LndpZHRoLCBoZWlnaHQ6IHRoaXMuY3VycmVudC5oZWlnaHQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHdpZHRoOiB0aGlzLnJlbmRlcmVyLndpZHRoLCBoZWlnaHQ6IHRoaXMucmVuZGVyZXIuaGVpZ2h0IH07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgY29sb3Igb2YgdGhlIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByIC0gUmVkIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGcgLSBHcmVlbiB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBiIC0gQmx1ZSB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhIC0gQWxwaGEgdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKiBAcGFyYW0ge1BJWEkuQlVGRkVSX0JJVFN9IFttYXNrPUJVRkZFUl9CSVRTLkNPTE9SIHwgQlVGRkVSX0JJVFMuREVQVEhdIC0gQml0d2lzZSBPUiBvZiBtYXNrc1xuICAgICAqICB0aGF0IGluZGljYXRlIHRoZSBidWZmZXJzIHRvIGJlIGNsZWFyZWQsIGJ5IGRlZmF1bHQgQ09MT1IgYW5kIERFUFRIIGJ1ZmZlcnMuXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKHIsIGcsIGIsIGEsIG1hc2spIHtcbiAgICAgICAgaWYgKG1hc2sgPT09IHZvaWQgMCkgeyBtYXNrID0gQlVGRkVSX0JJVFMuQ09MT1IgfCBCVUZGRVJfQklUUy5ERVBUSDsgfVxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICAvLyBUT0RPIGNsZWFyIGNvbG9yIGNhbiBiZSBzZXQgb25seSBvbmUgcmlnaHQ/XG4gICAgICAgIGdsLmNsZWFyQ29sb3IociwgZywgYiwgYSk7XG4gICAgICAgIGdsLmNsZWFyKG1hc2spO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcmFtZWJ1ZmZlciBmb3IgdGhpcyBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlclxuICAgICAqIEByZXR1cm5zIHtQSVhJLkdMRnJhbWVidWZmZXJ9IGNyZWF0ZWQgR0xGcmFtZWJ1ZmZlclxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5pbml0RnJhbWVidWZmZXIgPSBmdW5jdGlvbiAoZnJhbWVidWZmZXIpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIGZibyA9IG5ldyBHTEZyYW1lYnVmZmVyKGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCkpO1xuICAgICAgICBmYm8ubXVsdGlzYW1wbGUgPSB0aGlzLmRldGVjdFNhbXBsZXMoZnJhbWVidWZmZXIubXVsdGlzYW1wbGUpO1xuICAgICAgICBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXSA9IGZibztcbiAgICAgICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzLnB1c2goZnJhbWVidWZmZXIpO1xuICAgICAgICBmcmFtZWJ1ZmZlci5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIGZibztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2l6ZSB0aGUgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2l6ZUZyYW1lYnVmZmVyID0gZnVuY3Rpb24gKGZyYW1lYnVmZmVyKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgaWYgKGZiby5zdGVuY2lsKSB7XG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb2xvclRleHR1cmVzID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChjb2xvclRleHR1cmVzW2ldLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUsIDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlclxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS51cGRhdGVGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uIChmcmFtZWJ1ZmZlcikge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIC8vIGJpbmQgdGhlIGNvbG9yIHRleHR1cmVcbiAgICAgICAgdmFyIGNvbG9yVGV4dHVyZXMgPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzO1xuICAgICAgICB2YXIgY291bnQgPSBjb2xvclRleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgaWYgKCFnbC5kcmF3QnVmZmVycykge1xuICAgICAgICAgICAgY291bnQgPSBNYXRoLm1pbihjb3VudCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZiby5tdWx0aXNhbXBsZSA+IDEpIHtcbiAgICAgICAgICAgIGZiby5tc2FhQnVmZmVyID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZmJvLm1zYWFCdWZmZXIpO1xuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKGdsLlJFTkRFUkJVRkZFUiwgZmJvLm11bHRpc2FtcGxlLCBnbC5SR0JBOCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlJFTkRFUkJVRkZFUiwgZmJvLm1zYWFCdWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhY3RpdmVUZXh0dXJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID09PSAwICYmIGZiby5tdWx0aXNhbXBsZSA+IDEpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgIHZhciBwYXJlbnRUZXh0dXJlID0gdGV4dHVyZS5wYXJlbnRUZXh0dXJlQXJyYXkgfHwgdGV4dHVyZTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKHBhcmVudFRleHR1cmUsIDApO1xuICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgaSwgdGV4dHVyZS50YXJnZXQsIHBhcmVudFRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSwgMCk7XG4gICAgICAgICAgICBhY3RpdmVUZXh0dXJlcy5wdXNoKGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgaSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2ZVRleHR1cmVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGdsLmRyYXdCdWZmZXJzKGFjdGl2ZVRleHR1cmVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgd3JpdGVEZXB0aFRleHR1cmUgPSB0aGlzLndyaXRlRGVwdGhUZXh0dXJlO1xuICAgICAgICAgICAgaWYgKHdyaXRlRGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlcHRoVGV4dHVyZSA9IGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChkZXB0aFRleHR1cmUsIDApO1xuICAgICAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9BVFRBQ0hNRU5ULCBnbC5URVhUVVJFXzJELCBkZXB0aFRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmYm8uc3RlbmNpbCAmJiAoZnJhbWVidWZmZXIuc3RlbmNpbCB8fCBmcmFtZWJ1ZmZlci5kZXB0aCkpIHtcbiAgICAgICAgICAgIGZiby5zdGVuY2lsID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICAgICAgLy8gVE9ETy4uIHRoaXMgaXMgZGVwdGggQU5EIHN0ZW5jaWw/XG4gICAgICAgICAgICBpZiAoIWZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSkgeyAvLyB5b3UgY2FuJ3QgaGF2ZSBib3RoLCBzbyBvbmUgc2hvdWxkIHRha2UgcHJpb3JpdHkgaWYgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlY3RzIG51bWJlciBvZiBzYW1wbGVzIHRoYXQgaXMgbm90IG1vcmUgdGhhbiBhIHBhcmFtIGJ1dCBhcyBjbG9zZSB0byBpdCBhcyBwb3NzaWJsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1TQUFfUVVBTElUWX0gc2FtcGxlcyAtIG51bWJlciBvZiBzYW1wbGVzXG4gICAgICogQHJldHVybnMge1BJWEkuTVNBQV9RVUFMSVRZfSAtIHJlY29tbWVuZGVkIG51bWJlciBvZiBzYW1wbGVzXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmRldGVjdFNhbXBsZXMgPSBmdW5jdGlvbiAoc2FtcGxlcykge1xuICAgICAgICB2YXIgbXNhYVNhbXBsZXMgPSB0aGlzLm1zYWFTYW1wbGVzO1xuICAgICAgICB2YXIgcmVzID0gTVNBQV9RVUFMSVRZLk5PTkU7XG4gICAgICAgIGlmIChzYW1wbGVzIDw9IDEgfHwgbXNhYVNhbXBsZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2FhU2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG1zYWFTYW1wbGVzW2ldIDw9IHNhbXBsZXMpIHtcbiAgICAgICAgICAgICAgICByZXMgPSBtc2FhU2FtcGxlc1tpXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzID09PSAxKSB7XG4gICAgICAgICAgICByZXMgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT25seSB3b3JrcyB3aXRoIFdlYkdMMlxuICAgICAqXG4gICAgICogYmxpdHMgZnJhbWVidWZmZXIgdG8gYW5vdGhlciBvZiB0aGUgc2FtZSBvciBiaWdnZXIgc2l6ZVxuICAgICAqIGFmdGVyIHRoYXQgdGFyZ2V0IGZyYW1lYnVmZmVyIGlzIGJvdW5kXG4gICAgICpcbiAgICAgKiBGYWlscyB3aXRoIFdlYkdMIHdhcm5pbmcgaWYgYmxpdHMgbXVsdGlzYW1wbGUgZnJhbWVidWZmZXIgdG8gZGlmZmVyZW50IHNpemVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gW2ZyYW1lYnVmZmVyXSAtIGJ5IGRlZmF1bHQgaXQgYmxpdHMgXCJpbnRvIGl0c2VsZlwiLCBmcm9tIHJlbmRlckJ1ZmZlciB0byB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtzb3VyY2VQaXhlbHNdIC0gc291cmNlIHJlY3RhbmdsZSBpbiBwaXhlbHNcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZGVzdFBpeGVsc10gLSBkZXN0IHJlY3RhbmdsZSBpbiBwaXhlbHMsIGFzc3VtZWQgdG8gYmUgdGhlIHNhbWUgYXMgc291cmNlUGl4ZWxzXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmJsaXQgPSBmdW5jdGlvbiAoZnJhbWVidWZmZXIsIHNvdXJjZVBpeGVscywgZGVzdFBpeGVscykge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBjdXJyZW50ID0gX2EuY3VycmVudCwgcmVuZGVyZXIgPSBfYS5yZW5kZXJlciwgZ2wgPSBfYS5nbCwgQ09OVEVYVF9VSUQgPSBfYS5DT05URVhUX1VJRDtcbiAgICAgICAgaWYgKHJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uICE9PSAyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZibyA9IGN1cnJlbnQuZ2xGcmFtZWJ1ZmZlcnNbQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoIWZibykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgIGlmIChmYm8ubXVsdGlzYW1wbGUgPD0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZmJvLmJsaXRGcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIGZiby5ibGl0RnJhbWVidWZmZXIgPSBuZXcgRnJhbWVidWZmZXIoY3VycmVudC53aWR0aCwgY3VycmVudC5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGZiby5ibGl0RnJhbWVidWZmZXIuYWRkQ29sb3JUZXh0dXJlKDAsIGN1cnJlbnQuY29sb3JUZXh0dXJlc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZWJ1ZmZlciA9IGZiby5ibGl0RnJhbWVidWZmZXI7XG4gICAgICAgICAgICBmcmFtZWJ1ZmZlci53aWR0aCA9IGN1cnJlbnQud2lkdGg7XG4gICAgICAgICAgICBmcmFtZWJ1ZmZlci5oZWlnaHQgPSBjdXJyZW50LmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNvdXJjZVBpeGVscykge1xuICAgICAgICAgICAgc291cmNlUGl4ZWxzID0gdGVtcFJlY3RhbmdsZTtcbiAgICAgICAgICAgIHNvdXJjZVBpeGVscy53aWR0aCA9IGN1cnJlbnQud2lkdGg7XG4gICAgICAgICAgICBzb3VyY2VQaXhlbHMuaGVpZ2h0ID0gY3VycmVudC5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZXN0UGl4ZWxzKSB7XG4gICAgICAgICAgICBkZXN0UGl4ZWxzID0gc291cmNlUGl4ZWxzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzYW1lU2l6ZSA9IHNvdXJjZVBpeGVscy53aWR0aCA9PT0gZGVzdFBpeGVscy53aWR0aCAmJiBzb3VyY2VQaXhlbHMuaGVpZ2h0ID09PSBkZXN0UGl4ZWxzLmhlaWdodDtcbiAgICAgICAgdGhpcy5iaW5kKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLlJFQURfRlJBTUVCVUZGRVIsIGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgICAgIGdsLmJsaXRGcmFtZWJ1ZmZlcihzb3VyY2VQaXhlbHMueCwgc291cmNlUGl4ZWxzLnksIHNvdXJjZVBpeGVscy53aWR0aCwgc291cmNlUGl4ZWxzLmhlaWdodCwgZGVzdFBpeGVscy54LCBkZXN0UGl4ZWxzLnksIGRlc3RQaXhlbHMud2lkdGgsIGRlc3RQaXhlbHMuaGVpZ2h0LCBnbC5DT0xPUl9CVUZGRVJfQklULCBzYW1lU2l6ZSA/IGdsLk5FQVJFU1QgOiBnbC5MSU5FQVIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgZnJhbWVidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyIC0gZnJhbWVidWZmZXIgdGhhdCBoYXMgdG8gYmUgZGlzcG9zZWQgb2ZcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gLSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBhbGwgZGVsZXRlIGZ1bmN0aW9uIGNhbGxzXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uIChmcmFtZWJ1ZmZlciwgY29udGV4dExvc3QpIHtcbiAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBpZiAoIWZibykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzLmluZGV4T2YoZnJhbWVidWZmZXIpO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWVidWZmZXIuZGlzcG9zZVJ1bm5lci5yZW1vdmUodGhpcyk7XG4gICAgICAgIGlmICghY29udGV4dExvc3QpIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICBpZiAoZmJvLnN0ZW5jaWwpIHtcbiAgICAgICAgICAgICAgICBnbC5kZWxldGVSZW5kZXJidWZmZXIoZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBhbGwgZnJhbWVidWZmZXJzLCBidXQgbm90IHRleHR1cmVzIGJvdW5kIHRvIHRoZW1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gLSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBhbGwgZGVsZXRlIGZ1bmN0aW9uIGNhbGxzXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VBbGwgPSBmdW5jdGlvbiAoY29udGV4dExvc3QpIHtcbiAgICAgICAgdmFyIGxpc3QgPSB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnM7XG4gICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUZyYW1lYnVmZmVyKGxpc3RbaV0sIGNvbnRleHRMb3N0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRm9yY2luZyBjcmVhdGlvbiBvZiBzdGVuY2lsIGJ1ZmZlciBmb3IgY3VycmVudCBmcmFtZWJ1ZmZlciwgaWYgaXQgd2Fzbid0IGRvbmUgYmVmb3JlLlxuICAgICAqIFVzZWQgYnkgTWFza1N5c3RlbSwgd2hlbiBpdHMgdGltZSB0byB1c2Ugc3RlbmNpbCBtYXNrIGZvciBHcmFwaGljcyBlbGVtZW50LlxuICAgICAqXG4gICAgICogSXRzIGFuIGFsdGVybmF0aXZlIGZvciBwdWJsaWMgbGF6eSBgZnJhbWVidWZmZXIuZW5hYmxlU3RlbmNpbGAsIGluIGNhc2Ugd2UgbmVlZCBzdGVuY2lsIHdpdGhvdXQgcmViaW5kLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuZm9yY2VTdGVuY2lsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZnJhbWVidWZmZXIgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICghZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIGlmICghZmJvIHx8IGZiby5zdGVuY2lsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWVidWZmZXIuZW5hYmxlU3RlbmNpbCgpO1xuICAgICAgICB2YXIgdyA9IGZyYW1lYnVmZmVyLndpZHRoO1xuICAgICAgICB2YXIgaCA9IGZyYW1lYnVmZmVyLmhlaWdodDtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIHN0ZW5jaWwgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcbiAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIHN0ZW5jaWwpO1xuICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgdywgaCk7XG4gICAgICAgIGZiby5zdGVuY2lsID0gc3RlbmNpbDtcbiAgICAgICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCBzdGVuY2lsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJlc2V0cyBmcmFtZWJ1ZmZlciBzdG9yZWQgc3RhdGUsIGJpbmRzIHNjcmVlbiBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogc2hvdWxkIGJlIGNhbGxlZCBiZWZvcmUgcmVuZGVyVGV4dHVyZSByZXNldCgpXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnVua25vd25GcmFtZWJ1ZmZlcjtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICB9O1xuICAgIHJldHVybiBGcmFtZWJ1ZmZlclN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbnZhciBHTEJ1ZmZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHTEJ1ZmZlcihidWZmZXIpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBidWZmZXIgfHwgbnVsbDtcbiAgICAgICAgdGhpcy51cGRhdGVJRCA9IC0xO1xuICAgICAgICB0aGlzLmJ5dGVMZW5ndGggPSAtMTtcbiAgICAgICAgdGhpcy5yZWZDb3VudCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBHTEJ1ZmZlcjtcbn0oKSk7XG5cbnZhciBieXRlU2l6ZU1hcCQxID0geyA1MTI2OiA0LCA1MTIzOiAyLCA1MTIxOiAxIH07XG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBnZW9tZXRyeS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBHZW9tZXRyeVN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoR2VvbWV0cnlTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gR2VvbWV0cnlTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9hY3RpdmVHZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIF90aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHdlIGhhcyBgKl92ZXJ0ZXhfYXJyYXlfb2JqZWN0YCBleHRlbnNpb25cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oYXNWYW8gPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIGhhcyBgQU5HTEVfaW5zdGFuY2VkX2FycmF5c2AgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGFzSW5zdGFuY2UgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHN1cHBvcnQgYGdsLlVOU0lHTkVEX0lOVGAgaW4gYGdsLmRyYXdFbGVtZW50c2Agb3IgYGdsLmRyYXdFbGVtZW50c0luc3RhbmNlZGBcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYW5Vc2VVSW50MzJFbGVtZW50SW5kZXggPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlIGZvciBhbGwgZ2VvbWV0cmllcyBieSBpZCwgdXNlZCBpbiBjYXNlIHJlbmRlcmVyIGdldHMgZGVzdHJveWVkIG9yIGZvciBwcm9maWxpbmdcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hbmFnZWRHZW9tZXRyaWVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSBmb3IgYWxsIGJ1ZmZlcnMgYnkgaWQsIHVzZWQgaW4gY2FzZSByZW5kZXJlciBnZXRzIGRlc3Ryb3llZCBvciBmb3IgcHJvZmlsaW5nXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYW5hZ2VkQnVmZmVycyA9IHt9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VBbGwodHJ1ZSk7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMucmVuZGVyZXIuY29udGV4dDtcbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIC8vIHdlYmdsMlxuICAgICAgICBpZiAoIWdsLmNyZWF0ZVZlcnRleEFycmF5KSB7XG4gICAgICAgICAgICAvLyB3ZWJnbCAxIVxuICAgICAgICAgICAgdmFyIG5hdGl2ZVZhb0V4dGVuc2lvbl8xID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMudmVydGV4QXJyYXlPYmplY3Q7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZVZhb0V4dGVuc2lvbl8xID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYXRpdmVWYW9FeHRlbnNpb25fMSkge1xuICAgICAgICAgICAgICAgIGdsLmNyZWF0ZVZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlVmFvRXh0ZW5zaW9uXzEuY3JlYXRlVmVydGV4QXJyYXlPRVMoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICh2YW8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZVZhb0V4dGVuc2lvbl8xLmJpbmRWZXJ0ZXhBcnJheU9FUyh2YW8pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZ2wuZGVsZXRlVmVydGV4QXJyYXkgPSBmdW5jdGlvbiAodmFvKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuYXRpdmVWYW9FeHRlbnNpb25fMS5kZWxldGVWZXJ0ZXhBcnJheU9FUyh2YW8pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1ZhbyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGdsLmNyZWF0ZVZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWdsLnZlcnRleEF0dHJpYkRpdmlzb3IpIHtcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZUV4dF8xID0gZ2wuZ2V0RXh0ZW5zaW9uKCdBTkdMRV9pbnN0YW5jZWRfYXJyYXlzJyk7XG4gICAgICAgICAgICBpZiAoaW5zdGFuY2VFeHRfMSkge1xuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYkRpdmlzb3IgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VFeHRfMS52ZXJ0ZXhBdHRyaWJEaXZpc29yQU5HTEUoYSwgYik7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VFeHRfMS5kcmF3RWxlbWVudHNJbnN0YW5jZWRBTkdMRShhLCBiLCBjLCBkLCBlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXNJbnN0YW5jZWQgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VFeHRfMS5kcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUoYSwgYiwgYywgZCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzSW5zdGFuY2UgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhblVzZVVJbnQzMkVsZW1lbnRJbmRleCA9IGNvbnRleHQud2ViR0xWZXJzaW9uID09PSAyIHx8ICEhY29udGV4dC5leHRlbnNpb25zLnVpbnQzMkVsZW1lbnRJbmRleDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJpbmRzIGdlb21ldHJ5IHNvIHRoYXQgaXMgY2FuIGJlIGRyYXduLiBDcmVhdGluZyBhIFZhbyBpZiByZXF1aXJlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIGluc3RhbmNlIG9mIGdlb21ldHJ5IHRvIGJpbmRcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBbc2hhZGVyXSAtIGluc3RhbmNlIG9mIHNoYWRlciB0byB1c2UgdmFvIGZvclxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBzaGFkZXIpIHtcbiAgICAgICAgc2hhZGVyID0gc2hhZGVyIHx8IHRoaXMucmVuZGVyZXIuc2hhZGVyLnNoYWRlcjtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgLy8gbm90IHN1cmUgdGhlIGJlc3Qgd2F5IHRvIGFkZHJlc3MgdGhpcy4uXG4gICAgICAgIC8vIGN1cnJlbnRseSBkaWZmZXJlbnQgc2hhZGVycyByZXF1aXJlIGRpZmZlcmVudCBWQU9zIGZvciB0aGUgc2FtZSBnZW9tZXRyeVxuICAgICAgICAvLyBTdGlsbCBtdWxsaW5nIG92ZXIgdGhlIGJlc3Qgd2F5IHRvIHNvbHZlIHRoaXMgb25lLi5cbiAgICAgICAgLy8gd2lsbCBsaWtlbHkgbmVlZCB0byBtb2RpZnkgdGhlIHNoYWRlciBhdHRyaWJ1dGUgbG9jYXRpb25zIGF0IHJ1biB0aW1lIVxuICAgICAgICB2YXIgdmFvcyA9IGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoIXZhb3MpIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdID0gZ2VvbWV0cnk7XG4gICAgICAgICAgICBnZW9tZXRyeS5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdID0gdmFvcyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YW8gPSB2YW9zW3NoYWRlci5wcm9ncmFtLmlkXSB8fCB0aGlzLmluaXRHZW9tZXRyeVZhbyhnZW9tZXRyeSwgc2hhZGVyLnByb2dyYW0pO1xuICAgICAgICB0aGlzLl9hY3RpdmVHZW9tZXRyeSA9IGdlb21ldHJ5O1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlVmFvICE9PSB2YW8pIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IHZhbztcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc1Zhbykge1xuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVZhbyhnZW9tZXRyeSwgc2hhZGVyLnByb2dyYW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE8gLSBvcHRpbWlzZSBsYXRlciFcbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byBsb29wIHRocm91Z2ggaWYgbm90aGluZyBjaGFuZ2VkIVxuICAgICAgICAvLyBtYXliZSBsb29rIHRvIGFkZCBhbiAnYXV0b3VwZGF0ZScgdG8gZ2VvbWV0cnk/XG4gICAgICAgIHRoaXMudXBkYXRlQnVmZmVycygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXQgYW5kIHVuYmluZCBhbnkgYWN0aXZlIFZBTyBhbmQgZ2VvbWV0cnlcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYnVmZmVyc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUudXBkYXRlQnVmZmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fYWN0aXZlR2VvbWV0cnk7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGdlb21ldHJ5LmJ1ZmZlcnNbaV07XG4gICAgICAgICAgICB2YXIgZ2xCdWZmZXIgPSBidWZmZXIuX2dsQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIGlmIChidWZmZXIuX3VwZGF0ZUlEICE9PSBnbEJ1ZmZlci51cGRhdGVJRCkge1xuICAgICAgICAgICAgICAgIGdsQnVmZmVyLnVwZGF0ZUlEID0gYnVmZmVyLl91cGRhdGVJRDtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIGNhbiBjYWNoZSB0aGlzIG9uIGJ1ZmZlciEgbWF5YmUgYWRkZWQgYSBnZXR0ZXIgLyBzZXR0ZXI/XG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBidWZmZXIuaW5kZXggPyBnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiA6IGdsLkFSUkFZX0JVRkZFUjtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHRoaXMgY291bGQgY2hhbmdlIGlmIHRoZSBWQU8gY2hhbmdlcy4uLlxuICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gY29tZSB1cCB3aXRoIGEgYmV0dGVyIHdheSB0byBjYWNoZS4uXG4gICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuYm91bmRCdWZmZXJzW3R5cGVdICE9PSBnbEJ1ZmZlcilcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5ib3VuZEJ1ZmZlcnNbdHlwZV0gPSBnbEJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKHR5cGUsIGdsQnVmZmVyLmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kQnVmZmVyID0gZ2xCdWZmZXI7XG4gICAgICAgICAgICAgICAgaWYgKGdsQnVmZmVyLmJ5dGVMZW5ndGggPj0gYnVmZmVyLmRhdGEuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBvZmZzZXQgaXMgYWx3YXlzIHplcm8gZm9yIG5vdyFcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyU3ViRGF0YSh0eXBlLCAwLCBidWZmZXIuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHJhd1R5cGUgPSBidWZmZXIuc3RhdGljID8gZ2wuU1RBVElDX0RSQVcgOiBnbC5EWU5BTUlDX0RSQVc7XG4gICAgICAgICAgICAgICAgICAgIGdsQnVmZmVyLmJ5dGVMZW5ndGggPSBidWZmZXIuZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKHR5cGUsIGJ1ZmZlci5kYXRhLCBkcmF3VHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayBjb21wYWJpbGl0eSBiZXR3ZWVuIGEgZ2VvbWV0cnkgYW5kIGEgcHJvZ3JhbVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gR2VvbWV0cnkgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSAtIFByb2dyYW0gaW5zdGFuY2VcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuY2hlY2tDb21wYXRpYmlsaXR5ID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBwcm9ncmFtKSB7XG4gICAgICAgIC8vIGdlb21ldHJ5IG11c3QgaGF2ZSBhdCBsZWFzdCBhbGwgdGhlIGF0dHJpYnV0ZXMgdGhhdCB0aGUgc2hhZGVyIHJlcXVpcmVzLlxuICAgICAgICB2YXIgZ2VvbWV0cnlBdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG4gICAgICAgIGZvciAodmFyIGogaW4gc2hhZGVyQXR0cmlidXRlcykge1xuICAgICAgICAgICAgaWYgKCFnZW9tZXRyeUF0dHJpYnV0ZXNbal0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzaGFkZXIgYW5kIGdlb21ldHJ5IGluY29tcGF0aWJsZSwgZ2VvbWV0cnkgbWlzc2luZyB0aGUgXFxcIlwiICsgaiArIFwiXFxcIiBhdHRyaWJ1dGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRha2VzIGEgZ2VvbWV0cnkgYW5kIHByb2dyYW0gYW5kIGdlbmVyYXRlcyBhIHVuaXF1ZSBzaWduYXR1cmUgZm9yIHRoZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gdG8gZ2V0IHNpZ25hdHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSB0byB0ZXN0IGdlb21ldHJ5IGFnYWluc3RcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBVbmlxdWUgc2lnbmF0dXJlIG9mIHRoZSBnZW9tZXRyeSBhbmQgcHJvZ3JhbVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZ2V0U2lnbmF0dXJlID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBwcm9ncmFtKSB7XG4gICAgICAgIHZhciBhdHRyaWJzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG4gICAgICAgIHZhciBzdHJpbmdzID0gWydnJywgZ2VvbWV0cnkuaWRdO1xuICAgICAgICBmb3IgKHZhciBpIGluIGF0dHJpYnMpIHtcbiAgICAgICAgICAgIGlmIChzaGFkZXJBdHRyaWJ1dGVzW2ldKSB7XG4gICAgICAgICAgICAgICAgc3RyaW5ncy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJpbmdzLmpvaW4oJy0nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb3IgZ2V0cyBWYW8gd2l0aCB0aGUgc2FtZSBzdHJ1Y3R1cmUgYXMgdGhlIGdlb21ldHJ5IGFuZCBzdG9yZXMgaXQgb24gdGhlIGdlb21ldHJ5LlxuICAgICAqIElmIHZhbyBpcyBjcmVhdGVkLCBpdCBpcyBib3VuZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBJbnN0YW5jZSBvZiBnZW9tZXRyeSB0byB0byBnZW5lcmF0ZSBWYW8gZm9yXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSBJbnN0YW5jZSBvZiBwcm9ncmFtXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmluaXRHZW9tZXRyeVZhbyA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgcHJvZ3JhbSkge1xuICAgICAgICB0aGlzLmNoZWNrQ29tcGF0aWJpbGl0eShnZW9tZXRyeSwgcHJvZ3JhbSk7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBDT05URVhUX1VJRCA9IHRoaXMuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHZhciBzaWduYXR1cmUgPSB0aGlzLmdldFNpZ25hdHVyZShnZW9tZXRyeSwgcHJvZ3JhbSk7XG4gICAgICAgIHZhciB2YW9PYmplY3RIYXNoID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciB2YW8gPSB2YW9PYmplY3RIYXNoW3NpZ25hdHVyZV07XG4gICAgICAgIGlmICh2YW8pIHtcbiAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBnaXZlIHVzIGVhc3kgYWNjZXNzIHRvIHRoZSB2YW9cbiAgICAgICAgICAgIHZhb09iamVjdEhhc2hbcHJvZ3JhbS5pZF0gPSB2YW87XG4gICAgICAgICAgICByZXR1cm4gdmFvO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICB2YXIgdGVtcFN0cmlkZSA9IHt9O1xuICAgICAgICB2YXIgdGVtcFN0YXJ0ID0ge307XG4gICAgICAgIGZvciAodmFyIGogaW4gYnVmZmVycykge1xuICAgICAgICAgICAgdGVtcFN0cmlkZVtqXSA9IDA7XG4gICAgICAgICAgICB0ZW1wU3RhcnRbal0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGVzW2pdLnNpemUgJiYgcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlc1tqXS5zaXplID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdLnNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghYXR0cmlidXRlc1tqXS5zaXplKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUElYSSBHZW9tZXRyeSBhdHRyaWJ1dGUgJ1wiICsgaiArIFwiJyBzaXplIGNhbm5vdCBiZSBkZXRlcm1pbmVkIChsaWtlbHkgdGhlIGJvdW5kIHNoYWRlciBkb2VzIG5vdCBoYXZlIHRoZSBhdHRyaWJ1dGUpXCIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZW1wU3RyaWRlW2F0dHJpYnV0ZXNbal0uYnVmZmVyXSArPSBhdHRyaWJ1dGVzW2pdLnNpemUgKiBieXRlU2l6ZU1hcCQxW2F0dHJpYnV0ZXNbal0udHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaiBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIHZhciBhdHRyaWJTaXplID0gYXR0cmlidXRlLnNpemU7XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlLnN0cmlkZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRlbXBTdHJpZGVbYXR0cmlidXRlLmJ1ZmZlcl0gPT09IGF0dHJpYlNpemUgKiBieXRlU2l6ZU1hcCQxW2F0dHJpYnV0ZS50eXBlXSkge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RyaWRlID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUgPSB0ZW1wU3RyaWRlW2F0dHJpYnV0ZS5idWZmZXJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdGFydCA9IHRlbXBTdGFydFthdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgICAgICB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl0gKz0gYXR0cmliU2l6ZSAqIGJ5dGVTaXplTWFwJDFbYXR0cmlidXRlLnR5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhbyA9IGdsLmNyZWF0ZVZlcnRleEFycmF5KCk7XG4gICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgICAvLyBmaXJzdCB1cGRhdGUgLSBhbmQgY3JlYXRlIHRoZSBidWZmZXJzIVxuICAgICAgICAvLyBvbmx5IGNyZWF0ZSBhIGdsIGJ1ZmZlciBpZiBpdCBhY3R1YWxseSBnZXRzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbaV07XG4gICAgICAgICAgICBpZiAoIWJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXSA9IG5ldyBHTEJ1ZmZlcihnbC5jcmVhdGVCdWZmZXIoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdID0gYnVmZmVyO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXS5yZWZDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE8gLSBtYXliZSBtYWtlIHRoaXMgYSBkYXRhIG9iamVjdD9cbiAgICAgICAgLy8gbGV0cyB3YWl0IHRvIHNlZSBpZiB3ZSBuZWVkIHRvIGZpcnN0IVxuICAgICAgICB0aGlzLmFjdGl2YXRlVmFvKGdlb21ldHJ5LCBwcm9ncmFtKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlVmFvID0gdmFvO1xuICAgICAgICAvLyBhZGQgaXQgdG8gdGhlIGNhY2hlIVxuICAgICAgICB2YW9PYmplY3RIYXNoW3Byb2dyYW0uaWRdID0gdmFvO1xuICAgICAgICB2YW9PYmplY3RIYXNoW3NpZ25hdHVyZV0gPSB2YW87XG4gICAgICAgIHJldHVybiB2YW87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQnVmZmVyfSBidWZmZXIgLSBidWZmZXIgd2l0aCBkYXRhXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIC0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgZGVsZXRlVmVydGV4QXJyYXlcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUJ1ZmZlciA9IGZ1bmN0aW9uIChidWZmZXIsIGNvbnRleHRMb3N0KSB7XG4gICAgICAgIGlmICghdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMubWFuYWdlZEJ1ZmZlcnNbYnVmZmVyLmlkXTtcbiAgICAgICAgdmFyIGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGJ1ZmZlci5kaXNwb3NlUnVubmVyLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgaWYgKCFnbEJ1ZmZlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29udGV4dExvc3QpIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcihnbEJ1ZmZlci5idWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSBidWZmZXIuX2dsQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGdlb21ldHJ5XG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIEdlb21ldHJ5IHdpdGggYnVmZmVycy4gT25seSBWQU8gd2lsbCBiZSBkaXNwb3NlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSAtIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGRlbGV0ZVZlcnRleEFycmF5XG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VHZW9tZXRyeSA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgY29udGV4dExvc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2dlb21ldHJ5LmlkXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2dlb21ldHJ5LmlkXTtcbiAgICAgICAgdmFyIHZhb3MgPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuICAgICAgICBnZW9tZXRyeS5kaXNwb3NlUnVubmVyLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgaWYgKCF2YW9zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYnVmID0gYnVmZmVyc1tpXS5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgYnVmLnJlZkNvdW50LS07XG4gICAgICAgICAgICBpZiAoYnVmLnJlZkNvdW50ID09PSAwICYmICFjb250ZXh0TG9zdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZUJ1ZmZlcihidWZmZXJzW2ldLCBjb250ZXh0TG9zdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdCkge1xuICAgICAgICAgICAgZm9yICh2YXIgdmFvSWQgaW4gdmFvcykge1xuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSBvbmx5IHNpZ25hdHVyZXMsIGV2ZXJ5dGhpbmcgZWxzZSBhcmUgY29waWVzXG4gICAgICAgICAgICAgICAgaWYgKHZhb0lkWzBdID09PSAnZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbyA9IHZhb3NbdmFvSWRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fYWN0aXZlVmFvID09PSB2YW8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZ2wuZGVsZXRlVmVydGV4QXJyYXkodmFvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogZGlzcG9zZSBhbGwgV2ViR0wgcmVzb3VyY2VzIG9mIGFsbCBtYW5hZ2VkIGdlb21ldHJpZXMgYW5kIGJ1ZmZlcnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gLSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBgZ2wuZGVsZXRlYCBjYWxsc1xuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5kaXNwb3NlQWxsID0gZnVuY3Rpb24gKGNvbnRleHRMb3N0KSB7XG4gICAgICAgIHZhciBhbGwgPSBPYmplY3Qua2V5cyh0aGlzLm1hbmFnZWRHZW9tZXRyaWVzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUdlb21ldHJ5KHRoaXMubWFuYWdlZEdlb21ldHJpZXNbYWxsW2ldXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgICAgIGFsbCA9IE9iamVjdC5rZXlzKHRoaXMubWFuYWdlZEJ1ZmZlcnMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlQnVmZmVyKHRoaXMubWFuYWdlZEJ1ZmZlcnNbYWxsW2ldXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZSB2ZXJ0ZXggYXJyYXkgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIEdlb21ldHJ5IGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSBTaGFkZXIgcHJvZ3JhbSBpbnN0YW5jZVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5hY3RpdmF0ZVZhbyA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgcHJvZ3JhbSkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgQ09OVEVYVF9VSUQgPSB0aGlzLkNPTlRFWFRfVUlEO1xuICAgICAgICB2YXIgYnVmZmVycyA9IGdlb21ldHJ5LmJ1ZmZlcnM7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICAvLyBmaXJzdCB1cGRhdGUgdGhlIGluZGV4IGJ1ZmZlciBpZiB3ZSBoYXZlIG9uZS4uXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXS5idWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXN0QnVmZmVyID0gbnVsbDtcbiAgICAgICAgLy8gYWRkIGEgbmV3IG9uZSFcbiAgICAgICAgZm9yICh2YXIgaiBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBidWZmZXJzW2F0dHJpYnV0ZS5idWZmZXJdO1xuICAgICAgICAgICAgdmFyIGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgaWYgKHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXSkge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0QnVmZmVyICE9PSBnbEJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgZ2xCdWZmZXIuYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEJ1ZmZlciA9IGdsQnVmZmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb24gPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGFbal0ubG9jYXRpb247XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBpbnRyb2R1Y2Ugc3RhdGUgYWdhaW5cbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gb3B0aW1pc2UgdGhpcyBmb3Igb2xkZXIgZGV2aWNlcyB0aGF0IGhhdmUgbm8gVkFPc1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGxvY2F0aW9uLCBhdHRyaWJ1dGUuc2l6ZSwgYXR0cmlidXRlLnR5cGUgfHwgZ2wuRkxPQVQsIGF0dHJpYnV0ZS5ub3JtYWxpemVkLCBhdHRyaWJ1dGUuc3RyaWRlLCBhdHRyaWJ1dGUuc3RhcnQpO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBjYWxjdWxhdGUgaW5zdGFuY2UgY291bnQgYmFzZWQgb2YgdGhpcy4uLlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliRGl2aXNvcihsb2NhdGlvbiwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dlb21ldHJ5IGVycm9yLCBHUFUgSW5zdGFuY2luZyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgZGV2aWNlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXcgdGhlIGdlb21ldHJ5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdHlwZSAtIHRoZSB0eXBlIHByaW1pdGl2ZSB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemVdIC0gdGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBiZSByZW5kZXJlZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnRdIC0gU3RhcnRpbmcgaW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2luc3RhbmNlQ291bnRdIC0gdGhlIG51bWJlciBvZiBpbnN0YW5jZXMgb2YgdGhlIHNldCBvZiBlbGVtZW50cyB0byBleGVjdXRlXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAodHlwZSwgc2l6ZSwgc3RhcnQsIGluc3RhbmNlQ291bnQpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fYWN0aXZlR2VvbWV0cnk7XG4gICAgICAgIC8vIFRPRE8uLiB0aGlzIHNob3VsZCBub3QgY2hhbmdlIHNvIG1heWJlIGNhY2hlIHRoZSBmdW5jdGlvbj9cbiAgICAgICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICB2YXIgYnl0ZVNpemUgPSBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLkJZVEVTX1BFUl9FTEVNRU5UO1xuICAgICAgICAgICAgdmFyIGdsVHlwZSA9IGJ5dGVTaXplID09PSAyID8gZ2wuVU5TSUdORURfU0hPUlQgOiBnbC5VTlNJR05FRF9JTlQ7XG4gICAgICAgICAgICBpZiAoYnl0ZVNpemUgPT09IDIgfHwgKGJ5dGVTaXplID09PSA0ICYmIHRoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4KSkge1xuICAgICAgICAgICAgICAgIGlmIChnZW9tZXRyeS5pbnN0YW5jZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgICAgICBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQodHlwZSwgc2l6ZSB8fCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2xUeXBlLCAoc3RhcnQgfHwgMCkgKiBieXRlU2l6ZSwgaW5zdGFuY2VDb3VudCB8fCAxKTtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyh0eXBlLCBzaXplIHx8IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGEubGVuZ3RoLCBnbFR5cGUsIChzdGFydCB8fCAwKSAqIGJ5dGVTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCd1bnN1cHBvcnRlZCBpbmRleCBidWZmZXIgdHlwZTogdWludDMyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ2VvbWV0cnkuaW5zdGFuY2VkKSB7XG4gICAgICAgICAgICAvLyBUT0RPIG5lZWQgYSBiZXR0ZXIgd2F5IHRvIGNhbGN1bGF0ZSBzaXplLi5cbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXNJbnN0YW5jZWQodHlwZSwgc3RhcnQsIHNpemUgfHwgZ2VvbWV0cnkuZ2V0U2l6ZSgpLCBpbnN0YW5jZUNvdW50IHx8IDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyh0eXBlLCBzdGFydCwgc2l6ZSB8fCBnZW9tZXRyeS5nZXRTaXplKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5iaW5kL3Jlc2V0IGV2ZXJ5dGhpbmdcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5nbC5iaW5kVmVydGV4QXJyYXkobnVsbCk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBHZW9tZXRyeVN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogQ29tcG9uZW50IGZvciBtYXNrZWQgZWxlbWVudHNcbiAqXG4gKiBIb2xkcyBtYXNrIG1vZGUgYW5kIHRlbXBvcmFyeSBkYXRhIGFib3V0IGN1cnJlbnQgbWFza1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1hc2tEYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBNYXNrRGF0YVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IFttYXNrT2JqZWN0PW51bGxdIC0gb2JqZWN0IHRoYXQgZGVzY3JpYmVzIHRoZSBtYXNrXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFza0RhdGEobWFza09iamVjdCkge1xuICAgICAgICBpZiAobWFza09iamVjdCA9PT0gdm9pZCAwKSB7IG1hc2tPYmplY3QgPSBudWxsOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXNrIHR5cGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NQVNLX1RZUEVTfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gTUFTS19UWVBFUy5OT05FO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB3ZSBrbm93IHRoZSBtYXNrIHR5cGUgYmVmb3JlaGFuZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9EZXRlY3QgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hpY2ggZWxlbWVudCB3ZSB1c2UgdG8gbWFza1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hc2tPYmplY3QgPSBtYXNrT2JqZWN0IHx8IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGl0IGJlbG9uZ3MgdG8gTWFza1N5c3RlbSBwb29sXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvb2xlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdG9yIG9mIHRoZSB0eXBlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzTWFza0RhdGEgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3RlbmNpbCBjb3VudGVyIGFib3ZlIHRoZSBtYXNrIGluIHN0YWNrXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N0ZW5jaWxDb3VudGVyID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjaXNzb3IgY291bnRlciBhYm92ZSB0aGUgbWFzayBpbiBzdGFja1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zY2lzc29yQ291bnRlciA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2lzc29yIG9wZXJhdGlvbiBhYm92ZSB0aGUgbWFzayBpbiBzdGFjay5cbiAgICAgICAgICogTnVsbCBpZiBfc2Npc3NvckNvdW50ZXIgaXMgemVybywgcmVjdGFuZ2xlIGluc3RhbmNlIGlmIHBvc2l0aXZlLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3NjaXNzb3JSZWN0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRhcmdldGVkIGVsZW1lbnQuIFRlbXBvcmFyeSB2YXJpYWJsZSBzZXQgYnkgTWFza1N5c3RlbVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90YXJnZXQgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiByZXNldHMgdGhlIG1hc2sgZGF0YSBhZnRlciBwb3BNYXNrKClcbiAgICAgKi9cbiAgICBNYXNrRGF0YS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnBvb2xlZCkge1xuICAgICAgICAgICAgdGhpcy5tYXNrT2JqZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IE1BU0tfVFlQRVMuTk9ORTtcbiAgICAgICAgICAgIHRoaXMuYXV0b0RldGVjdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGNvcGllcyBjb3VudGVycyBmcm9tIG1hc2tEYXRhIGFib3ZlLCBjYWxsZWQgZnJvbSBwdXNoTWFzaygpXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhfG51bGx9IG1hc2tBYm92ZVxuICAgICAqL1xuICAgIE1hc2tEYXRhLnByb3RvdHlwZS5jb3B5Q291bnRlcnNPclJlc2V0ID0gZnVuY3Rpb24gKG1hc2tBYm92ZSkge1xuICAgICAgICBpZiAobWFza0Fib3ZlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGVuY2lsQ291bnRlciA9IG1hc2tBYm92ZS5fc3RlbmNpbENvdW50ZXI7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yQ291bnRlciA9IG1hc2tBYm92ZS5fc2Npc3NvckNvdW50ZXI7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yUmVjdCA9IG1hc2tBYm92ZS5fc2Npc3NvclJlY3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zdGVuY2lsQ291bnRlciA9IDA7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yQ291bnRlciA9IDA7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yUmVjdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBNYXNrRGF0YTtcbn0oKSk7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0gdHlwZSB7TnVtYmVyfSB0aGUgdHlwZSwgY2FuIGJlIGVpdGhlciBWRVJURVhfU0hBREVSIG9yIEZSQUdNRU5UX1NIQURFUlxuICogQHBhcmFtIHNyYyB7c3RyaW5nfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEByZXR1cm4ge1dlYkdMU2hhZGVyfSB0aGUgc2hhZGVyXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVTaGFkZXIoZ2wsIHR5cGUsIHNyYykge1xuICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc3JjKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG4gICAgcmV0dXJuIHNoYWRlcjtcbn1cbi8qKlxuICogQG1ldGhvZCBjb21waWxlUHJvZ3JhbVxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0gdmVydGV4U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIGZyYWdtZW50U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSBmcmFnbWVudCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0gYXR0cmlidXRlTG9jYXRpb25zIHtPYmplY3R9IEFuIGF0dHJpYnV0ZSBsb2NhdGlvbiBtYXAgdGhhdCBsZXRzIHlvdSBtYW51YWxseSBzZXQgdGhlIGF0dHJpYnV0ZSBsb2NhdGlvbnNcbiAqIEByZXR1cm4ge1dlYkdMUHJvZ3JhbX0gdGhlIHNoYWRlciBwcm9ncmFtXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBhdHRyaWJ1dGVMb2NhdGlvbnMpIHtcbiAgICB2YXIgZ2xWZXJ0U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdmVydGV4U3JjKTtcbiAgICB2YXIgZ2xGcmFnU2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNyYyk7XG4gICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGdsVmVydFNoYWRlcik7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGdsRnJhZ1NoYWRlcik7XG4gICAgLy8gb3B0aW9uYWxseSwgc2V0IHRoZSBhdHRyaWJ1dGVzIG1hbnVhbGx5IGZvciB0aGUgcHJvZ3JhbSByYXRoZXIgdGhhbiBsZXR0aW5nIFdlYkdMIGRlY2lkZS4uXG4gICAgaWYgKGF0dHJpYnV0ZUxvY2F0aW9ucykge1xuICAgICAgICBmb3IgKHZhciBpIGluIGF0dHJpYnV0ZUxvY2F0aW9ucykge1xuICAgICAgICAgICAgZ2wuYmluZEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIGF0dHJpYnV0ZUxvY2F0aW9uc1tpXSwgaSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG4gICAgLy8gaWYgbGlua2luZyBmYWlscywgdGhlbiBsb2cgYW5kIGNsZWFudXBcbiAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKSB7XG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGdsVmVydFNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4odmVydGV4U3JjKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZ2wuZ2V0U2hhZGVySW5mb0xvZyhnbFZlcnRTaGFkZXIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihnbEZyYWdTaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGZyYWdtZW50U3JjKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZ2wuZ2V0U2hhZGVySW5mb0xvZyhnbEZyYWdTaGFkZXIpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmVycm9yKCdQaXhpLmpzIEVycm9yOiBDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaGFkZXIuJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLlZBTElEQVRFX1NUQVRVUycsIGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuVkFMSURBVEVfU1RBVFVTKSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLmdldEVycm9yKCknLCBnbC5nZXRFcnJvcigpKTtcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBwcm9ncmFtIGluZm8gbG9nLCBsb2cgaXRcbiAgICAgICAgaWYgKGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pICE9PSAnJykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQaXhpLmpzIFdhcm5pbmc6IGdsLmdldFByb2dyYW1JbmZvTG9nKCknLCBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgcHJvZ3JhbSA9IG51bGw7XG4gICAgfVxuICAgIC8vIGNsZWFuIHVwIHNvbWUgc2hhZGVyc1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbFZlcnRTaGFkZXIpO1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbEZyYWdTaGFkZXIpO1xuICAgIHJldHVybiBwcm9ncmFtO1xufVxuXG5mdW5jdGlvbiBib29sZWFuQXJyYXkoc2l6ZSkge1xuICAgIHZhciBhcnJheSA9IG5ldyBBcnJheShzaXplKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycmF5W2ldID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cbi8qKlxuICogQG1ldGhvZCBkZWZhdWx0VmFsdWVcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSB0eXBlIHtTdHJpbmd9IFR5cGUgb2YgdmFsdWVcbiAqIEBwYXJhbSBzaXplIHtOdW1iZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBkZWZhdWx0VmFsdWUodHlwZSwgc2l6ZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdmbG9hdCc6XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgY2FzZSAndmVjMic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgyICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ3ZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMyAqIHNpemUpO1xuICAgICAgICBjYXNlICd2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDQgKiBzaXplKTtcbiAgICAgICAgY2FzZSAnaW50JzpcbiAgICAgICAgY2FzZSAnc2FtcGxlcjJEJzpcbiAgICAgICAgY2FzZSAnc2FtcGxlcjJEQXJyYXknOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGNhc2UgJ2l2ZWMyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgyICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2l2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgzICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2l2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSg0ICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2Jvb2wnOlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjYXNlICdidmVjMic6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDIgKiBzaXplKTtcbiAgICAgICAgY2FzZSAnYnZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSgzICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2J2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoNCAqIHNpemUpO1xuICAgICAgICBjYXNlICdtYXQyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLFxuICAgICAgICAgICAgICAgIDAsIDFdKTtcbiAgICAgICAgY2FzZSAnbWF0Myc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDFdKTtcbiAgICAgICAgY2FzZSAnbWF0NCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDEsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMCwgMV0pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxudmFyIHVua25vd25Db250ZXh0ID0ge307XG52YXIgY29udGV4dCA9IHVua25vd25Db250ZXh0O1xuLyoqXG4gKiByZXR1cm5zIGEgbGl0dGxlIFdlYkdMIGNvbnRleHQgdG8gdXNlIGZvciBwcm9ncmFtIGluc3BlY3Rpb24uXG4gKlxuICogQHN0YXRpY1xuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGEgZ2wgY29udGV4dCB0byB0ZXN0IHdpdGhcbiAqL1xuZnVuY3Rpb24gZ2V0VGVzdENvbnRleHQoKSB7XG4gICAgaWYgKGNvbnRleHQgPT09IHVua25vd25Db250ZXh0IHx8IChjb250ZXh0ICYmIGNvbnRleHQuaXNDb250ZXh0TG9zdCgpKSkge1xuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHZhciBnbCA9IHZvaWQgMDtcbiAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPj0gRU5WLldFQkdMMikge1xuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wyJywge30pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywge30pXG4gICAgICAgICAgICAgICAgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIHt9KTtcbiAgICAgICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgICAgICAvLyBmYWlsLCBub3QgYWJsZSB0byBnZXQgYSBjb250ZXh0XG4gICAgICAgICAgICAgICAgZ2wgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIHNoYWRlciB0ZXN0aW5nLi5cbiAgICAgICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RyYXdfYnVmZmVycycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQgPSBnbDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQ7XG59XG5cbnZhciBtYXhGcmFnbWVudFByZWNpc2lvbjtcbmZ1bmN0aW9uIGdldE1heEZyYWdtZW50UHJlY2lzaW9uKCkge1xuICAgIGlmICghbWF4RnJhZ21lbnRQcmVjaXNpb24pIHtcbiAgICAgICAgbWF4RnJhZ21lbnRQcmVjaXNpb24gPSBQUkVDSVNJT04uTUVESVVNO1xuICAgICAgICB2YXIgZ2wgPSBnZXRUZXN0Q29udGV4dCgpO1xuICAgICAgICBpZiAoZ2wpIHtcbiAgICAgICAgICAgIGlmIChnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2hhZGVyRnJhZ21lbnQgPSBnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoZ2wuRlJBR01FTlRfU0hBREVSLCBnbC5ISUdIX0ZMT0FUKTtcbiAgICAgICAgICAgICAgICBtYXhGcmFnbWVudFByZWNpc2lvbiA9IHNoYWRlckZyYWdtZW50LnByZWNpc2lvbiA/IFBSRUNJU0lPTi5ISUdIIDogUFJFQ0lTSU9OLk1FRElVTTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF4RnJhZ21lbnRQcmVjaXNpb247XG59XG5cbi8qKlxuICogU2V0cyB0aGUgZmxvYXQgcHJlY2lzaW9uIG9uIHRoZSBzaGFkZXIsIGVuc3VyaW5nIHRoZSBkZXZpY2Ugc3VwcG9ydHMgdGhlIHJlcXVlc3QgcHJlY2lzaW9uLlxuICogSWYgdGhlIHByZWNpc2lvbiBpcyBhbHJlYWR5IHByZXNlbnQsIGl0IGp1c3QgZW5zdXJlcyB0aGF0IHRoZSBkZXZpY2UgaXMgYWJsZSB0byBoYW5kbGUgaXQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgLSBUaGUgc2hhZGVyIHNvdXJjZVxuICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RlZFByZWNpc2lvbiAtIFRoZSByZXF1ZXN0IGZsb2F0IHByZWNpc2lvbiBvZiB0aGUgc2hhZGVyLiBPcHRpb25zIGFyZSAnbG93cCcsICdtZWRpdW1wJyBvciAnaGlnaHAnLlxuICogQHBhcmFtIHtzdHJpbmd9IG1heFN1cHBvcnRlZFByZWNpc2lvbiAtIFRoZSBtYXhpbXVtIHByZWNpc2lvbiB0aGUgc2hhZGVyIHN1cHBvcnRzLlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gbW9kaWZpZWQgc2hhZGVyIHNvdXJjZVxuICovXG5mdW5jdGlvbiBzZXRQcmVjaXNpb24oc3JjLCByZXF1ZXN0ZWRQcmVjaXNpb24sIG1heFN1cHBvcnRlZFByZWNpc2lvbikge1xuICAgIGlmIChzcmMuc3Vic3RyaW5nKDAsIDkpICE9PSAncHJlY2lzaW9uJykge1xuICAgICAgICAvLyBubyBwcmVjaXNpb24gc3VwcGxpZWQsIHNvIFBpeGlKUyB3aWxsIGFkZCB0aGUgcmVxdWVzdGVkIGxldmVsLlxuICAgICAgICB2YXIgcHJlY2lzaW9uID0gcmVxdWVzdGVkUHJlY2lzaW9uO1xuICAgICAgICAvLyBJZiBoaWdocCBpcyByZXF1ZXN0ZWQgYnV0IG5vdCBzdXBwb3J0ZWQsIGRvd25ncmFkZSBwcmVjaXNpb24gdG8gYSBsZXZlbCBhbGwgZGV2aWNlcyBzdXBwb3J0LlxuICAgICAgICBpZiAocmVxdWVzdGVkUHJlY2lzaW9uID09PSBQUkVDSVNJT04uSElHSCAmJiBtYXhTdXBwb3J0ZWRQcmVjaXNpb24gIT09IFBSRUNJU0lPTi5ISUdIKSB7XG4gICAgICAgICAgICBwcmVjaXNpb24gPSBQUkVDSVNJT04uTUVESVVNO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcInByZWNpc2lvbiBcIiArIHByZWNpc2lvbiArIFwiIGZsb2F0O1xcblwiICsgc3JjO1xuICAgIH1cbiAgICBlbHNlIGlmIChtYXhTdXBwb3J0ZWRQcmVjaXNpb24gIT09IFBSRUNJU0lPTi5ISUdIICYmIHNyYy5zdWJzdHJpbmcoMCwgMTUpID09PSAncHJlY2lzaW9uIGhpZ2hwJykge1xuICAgICAgICAvLyBwcmVjaXNpb24gd2FzIHN1cHBsaWVkLCBidXQgYXQgYSBsZXZlbCB0aGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0LCBzbyBkb3duZ3JhZGluZyB0byBtZWRpdW1wLlxuICAgICAgICByZXR1cm4gc3JjLnJlcGxhY2UoJ3ByZWNpc2lvbiBoaWdocCcsICdwcmVjaXNpb24gbWVkaXVtcCcpO1xuICAgIH1cbiAgICByZXR1cm4gc3JjO1xufVxuXG52YXIgR0xTTF9UT19TSVpFID0ge1xuICAgIGZsb2F0OiAxLFxuICAgIHZlYzI6IDIsXG4gICAgdmVjMzogMyxcbiAgICB2ZWM0OiA0LFxuICAgIGludDogMSxcbiAgICBpdmVjMjogMixcbiAgICBpdmVjMzogMyxcbiAgICBpdmVjNDogNCxcbiAgICBib29sOiAxLFxuICAgIGJ2ZWMyOiAyLFxuICAgIGJ2ZWMzOiAzLFxuICAgIGJ2ZWM0OiA0LFxuICAgIG1hdDI6IDQsXG4gICAgbWF0MzogOSxcbiAgICBtYXQ0OiAxNixcbiAgICBzYW1wbGVyMkQ6IDEsXG59O1xuLyoqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZCBtYXBTaXplXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gdHlwZSB7U3RyaW5nfVxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5mdW5jdGlvbiBtYXBTaXplKHR5cGUpIHtcbiAgICByZXR1cm4gR0xTTF9UT19TSVpFW3R5cGVdO1xufVxuXG52YXIgR0xfVEFCTEUgPSBudWxsO1xudmFyIEdMX1RPX0dMU0xfVFlQRVMgPSB7XG4gICAgRkxPQVQ6ICdmbG9hdCcsXG4gICAgRkxPQVRfVkVDMjogJ3ZlYzInLFxuICAgIEZMT0FUX1ZFQzM6ICd2ZWMzJyxcbiAgICBGTE9BVF9WRUM0OiAndmVjNCcsXG4gICAgSU5UOiAnaW50JyxcbiAgICBJTlRfVkVDMjogJ2l2ZWMyJyxcbiAgICBJTlRfVkVDMzogJ2l2ZWMzJyxcbiAgICBJTlRfVkVDNDogJ2l2ZWM0JyxcbiAgICBCT09MOiAnYm9vbCcsXG4gICAgQk9PTF9WRUMyOiAnYnZlYzInLFxuICAgIEJPT0xfVkVDMzogJ2J2ZWMzJyxcbiAgICBCT09MX1ZFQzQ6ICdidmVjNCcsXG4gICAgRkxPQVRfTUFUMjogJ21hdDInLFxuICAgIEZMT0FUX01BVDM6ICdtYXQzJyxcbiAgICBGTE9BVF9NQVQ0OiAnbWF0NCcsXG4gICAgU0FNUExFUl8yRDogJ3NhbXBsZXIyRCcsXG4gICAgSU5UX1NBTVBMRVJfMkQ6ICdzYW1wbGVyMkQnLFxuICAgIFVOU0lHTkVEX0lOVF9TQU1QTEVSXzJEOiAnc2FtcGxlcjJEJyxcbiAgICBTQU1QTEVSX0NVQkU6ICdzYW1wbGVyQ3ViZScsXG4gICAgSU5UX1NBTVBMRVJfQ1VCRTogJ3NhbXBsZXJDdWJlJyxcbiAgICBVTlNJR05FRF9JTlRfU0FNUExFUl9DVUJFOiAnc2FtcGxlckN1YmUnLFxuICAgIFNBTVBMRVJfMkRfQVJSQVk6ICdzYW1wbGVyMkRBcnJheScsXG4gICAgSU5UX1NBTVBMRVJfMkRfQVJSQVk6ICdzYW1wbGVyMkRBcnJheScsXG4gICAgVU5TSUdORURfSU5UX1NBTVBMRVJfMkRfQVJSQVk6ICdzYW1wbGVyMkRBcnJheScsXG59O1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmZ1bmN0aW9uIG1hcFR5cGUoZ2wsIHR5cGUpIHtcbiAgICBpZiAoIUdMX1RBQkxFKSB7XG4gICAgICAgIHZhciB0eXBlTmFtZXMgPSBPYmplY3Qua2V5cyhHTF9UT19HTFNMX1RZUEVTKTtcbiAgICAgICAgR0xfVEFCTEUgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlTmFtZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0biA9IHR5cGVOYW1lc1tpXTtcbiAgICAgICAgICAgIEdMX1RBQkxFW2dsW3RuXV0gPSBHTF9UT19HTFNMX1RZUEVTW3RuXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gR0xfVEFCTEVbdHlwZV07XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXMgKi9cbi8vIFBhcnNlcnMsIGVhY2ggb25lIG9mIHRoZXNlIHdpbGwgdGFrZSBhIGxvb2sgYXQgdGhlIHR5cGUgb2Ygc2hhZGVyIHByb3BlcnR5IGFuZCB1bmlmb3JtLlxuLy8gaWYgdGhleSBwYXNzIHRoZSB0ZXN0IGZ1bmN0aW9uIHRoZW4gdGhlIGNvZGUgZnVuY3Rpb24gaXMgY2FsbGVkIHRoYXQgcmV0dXJucyBhIHRoZSBzaGFkZXIgdXBsb2FkIGNvZGUgZm9yIHRoYXQgdW5pZm9ybS5cbi8vIFNoYWRlciB1cGxvYWQgY29kZSBpcyBhdXRvbWFnaWNhbGx5IGdlbmVyYXRlZCB3aXRoIHRoZXNlIHBhcnNlcnMuXG4vLyBJZiBubyBwYXJzZXIgaXMgdmFsaWQgdGhlbiB0aGUgZGVmYXVsdCB1cGxvYWQgZnVuY3Rpb25zIGFyZSB1c2VkLlxuLy8gZXhwb3NpbmcgUGFyc2VycyBtZWFucyB0aGF0IGN1c3RvbSB1cGxvYWQgbG9naWMgY2FuIGJlIGFkZGVkIHRvIHBpeGkncyBzaGFkZXJzLlxuLy8gQSBnb29kIGV4YW1wbGUgd291bGQgYmUgYSBwaXhpIHJlY3RhbmdsZSBjYW4gYmUgZGlyZWN0bHkgc2V0IG9uIGEgdW5pZm9ybS5cbi8vIElmIHRoZSBzaGFkZXIgc2VlcyBpdCBpdCBrbm93cyBob3cgdG8gdXBsb2FkIHRoZSByZWN0YW5nbGUgc3RydWN0dXJlIGFzIGEgdmVjNFxuLy8gZm9ybWF0IGlzIGFzIGZvbGxvd3M6XG4vL1xuLy8ge1xuLy8gICAgIHRlc3Q6IChkYXRhLCB1bmlmb3JtKSA9PiB7fSA8LS0tIHRlc3QgaXMgdGhpcyBjb2RlIHNob3VsZCBiZSB1c2VkIGZvciB0aGlzIHVuaWZvcm1cbi8vICAgICBjb2RlOiAobmFtZSwgdW5pZm9ybSkgPT4ge30gPC0tLSByZXR1cm5zIHRoZSBzdHJpbmcgb2YgdGhlIHBpZWNlIG9mIGNvZGUgdGhhdCB1cGxvYWRzIHRoZSB1bmlmb3JtXG4vLyB9XG52YXIgdW5pZm9ybVBhcnNlcnMgPSBbXG4gICAgLy8gYSBmbG9hdCBjYWNoZSBsYXllclxuICAgIHtcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnR5cGUgPT09ICdmbG9hdCcgJiYgZGF0YS5zaXplID09PSAxO1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgaWYodXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0gIT09IHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlKVxcbiAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgdWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWUgPSB1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXVxcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdKVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBcIjtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIC8vIGhhbmRsaW5nIHNhbXBsZXJzXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgICAgIHJldHVybiAoZGF0YS50eXBlID09PSAnc2FtcGxlcjJEJyB8fCBkYXRhLnR5cGUgPT09ICdzYW1wbGVyQ3ViZScgfHwgZGF0YS50eXBlID09PSAnc2FtcGxlcjJEQXJyYXknKSAmJiBkYXRhLnNpemUgPT09IDEgJiYgIWRhdGEuaXNBcnJheTtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFwidCA9IHN5bmNEYXRhLnRleHR1cmVDb3VudCsrO1xcblxcbiAgICAgICAgICAgIHJlbmRlcmVyLnRleHR1cmUuYmluZCh1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXSwgdCk7XFxuXFxuICAgICAgICAgICAgaWYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWUgIT09IHQpXFxuICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICB1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS52YWx1ZSA9IHQ7XFxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgdCk7XFxuOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG1heC1sZW5cXG4gICAgICAgICAgICB9XCI7IH0sXG4gICAgfSxcbiAgICAvLyB1cGxvYWRpbmcgcGl4aSBtYXRyaXggb2JqZWN0IHRvIG1hdDNcbiAgICB7XG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChkYXRhLCB1bmlmb3JtKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS50eXBlID09PSAnbWF0MycgJiYgZGF0YS5zaXplID09PSAxICYmIHVuaWZvcm0uYSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgLy8gVE9ETyBhbmQgc29tZSBzbWFydCBjYWNoaW5nIGRpcnR5IGlkcyBoZXJlIVxuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDNmdih1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgZmFsc2UsIHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnRvQXJyYXkodHJ1ZSkpO1xcbiAgICAgICAgICAgIFwiO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgLy8gdXBsb2FkaW5nIGEgcGl4aSBwb2ludCBhcyBhIHZlYzIgd2l0aCBjYWNoaW5nIGxheWVyXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSwgdW5pZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudHlwZSA9PT0gJ3ZlYzInICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiB1bmlmb3JtLnggIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl07XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2LnggfHwgY3ZbMV0gIT09IHYueSlcXG4gICAgICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMF0gPSB2Lng7XFxuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHYueTtcXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yZih1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgdi54LCB2LnkpO1xcbiAgICAgICAgICAgICAgICB9XCI7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICAvLyBjYWNoaW5nIGxheWVyIGZvciBhIHZlYzJcbiAgICB7XG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS50eXBlID09PSAndmVjMicgJiYgZGF0YS5zaXplID09PSAxO1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgICAgIGN2ID0gdWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWU7XFxuICAgICAgICAgICAgICAgIHYgPSB1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXTtcXG5cXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0pXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdlsxXTtcXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yZih1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgdlswXSwgdlsxXSk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBcIjtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIC8vIHVwbG9hZCBhIHBpeGkgcmVjdGFuZ2xlIGFzIGEgdmVjNCB3aXRoIGNhY2hpbmcgbGF5ZXJcbiAgICB7XG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChkYXRhLCB1bmlmb3JtKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS50eXBlID09PSAndmVjNCcgJiYgZGF0YS5zaXplID09PSAxICYmIHVuaWZvcm0ud2lkdGggIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl07XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2LnggfHwgY3ZbMV0gIT09IHYueSB8fCBjdlsyXSAhPT0gdi53aWR0aCB8fCBjdlszXSAhPT0gdi5oZWlnaHQpXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdi54O1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2Lnk7XFxuICAgICAgICAgICAgICAgICAgICBjdlsyXSA9IHYud2lkdGg7XFxuICAgICAgICAgICAgICAgICAgICBjdlszXSA9IHYuaGVpZ2h0O1xcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmKHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLmxvY2F0aW9uLCB2LngsIHYueSwgdi53aWR0aCwgdi5oZWlnaHQpXFxuICAgICAgICAgICAgICAgIH1cIjtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIC8vIGEgY2FjaGluZyBsYXllciBmb3IgdmVjNCB1cGxvYWRpbmdcbiAgICB7XG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS50eXBlID09PSAndmVjNCcgJiYgZGF0YS5zaXplID09PSAxO1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgICAgIGN2ID0gdWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWU7XFxuICAgICAgICAgICAgICAgIHYgPSB1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXTtcXG5cXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0gfHwgY3ZbMl0gIT09IHZbMl0gfHwgY3ZbM10gIT09IHZbM10pXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdlsxXTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzJdID0gdlsyXTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzNdID0gdlszXTtcXG5cXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSlcXG4gICAgICAgICAgICAgICAgfVwiO1xuICAgICAgICB9LFxuICAgIH0gXTtcblxuLy8gY3YgPSBDYWNoZWRWYWx1ZVxuLy8gdiA9IHZhbHVlXG4vLyB1ZCA9IHVuaWZvcm1EYXRhXG4vLyB1diA9IHVuaWZvcm1WYWx1ZVxuLy8gbCA9IGxvY2F0aW9uXG52YXIgR0xTTF9UT19TSU5HTEVfU0VUVEVSU19DQUNIRUQgPSB7XG4gICAgZmxvYXQ6IFwiXFxuICAgIGlmKGN2ICE9PSB2KVxcbiAgICB7XFxuICAgICAgICBjdi52ID0gdjtcXG4gICAgICAgIGdsLnVuaWZvcm0xZihsb2NhdGlvbiwgdilcXG4gICAgfVwiLFxuICAgIHZlYzI6IFwiXFxuICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdKVxcbiAgICB7XFxuICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICBnbC51bmlmb3JtMmYobG9jYXRpb24sIHZbMF0sIHZbMV0pXFxuICAgIH1cIixcbiAgICB2ZWMzOiBcIlxcbiAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSlcXG4gICAge1xcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xcbiAgICAgICAgY3ZbMl0gPSB2WzJdO1xcblxcbiAgICAgICAgZ2wudW5pZm9ybTNmKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKVxcbiAgICB9XCIsXG4gICAgdmVjNDogJ2dsLnVuaWZvcm00Zihsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSknLFxuICAgIGludDogJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWMyOiAnZ2wudW5pZm9ybTJpKGxvY2F0aW9uLCB2WzBdLCB2WzFdKScsXG4gICAgaXZlYzM6ICdnbC51bmlmb3JtM2kobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0pJyxcbiAgICBpdmVjNDogJ2dsLnVuaWZvcm00aShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSknLFxuICAgIGJvb2w6ICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMjogJ2dsLnVuaWZvcm0yaShsb2NhdGlvbiwgdlswXSwgdlsxXSknLFxuICAgIGJ2ZWMzOiAnZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKScsXG4gICAgYnZlYzQ6ICdnbC51bmlmb3JtNGkobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcbiAgICBtYXQyOiAnZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQzOiAnZ2wudW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQ0OiAnZ2wudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBzYW1wbGVyMkQ6ICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyQ3ViZTogJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXIyREFycmF5OiAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG59O1xudmFyIEdMU0xfVE9fQVJSQVlfU0VUVEVSUyA9IHtcbiAgICBmbG9hdDogXCJnbC51bmlmb3JtMWZ2KGxvY2F0aW9uLCB2KVwiLFxuICAgIHZlYzI6IFwiZ2wudW5pZm9ybTJmdihsb2NhdGlvbiwgdilcIixcbiAgICB2ZWMzOiBcImdsLnVuaWZvcm0zZnYobG9jYXRpb24sIHYpXCIsXG4gICAgdmVjNDogJ2dsLnVuaWZvcm00ZnYobG9jYXRpb24sIHYpJyxcbiAgICBtYXQ0OiAnZ2wudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQzOiAnZ2wudW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQyOiAnZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBpbnQ6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzI6ICdnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzM6ICdnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzQ6ICdnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2KScsXG4gICAgYm9vbDogJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMjogJ2dsLnVuaWZvcm0yaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMzogJ2dsLnVuaWZvcm0zaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjNDogJ2dsLnVuaWZvcm00aXYobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyMkQ6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlckN1YmU6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlcjJEQXJyYXk6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG59O1xuZnVuY3Rpb24gZ2VuZXJhdGVVbmlmb3Jtc1N5bmMoZ3JvdXAsIHVuaWZvcm1EYXRhKSB7XG4gICAgdmFyIGZ1bmNGcmFnbWVudHMgPSBbXCJcXG4gICAgICAgIHZhciB2ID0gbnVsbDtcXG4gICAgICAgIHZhciBjdiA9IG51bGxcXG4gICAgICAgIHZhciB0ID0gMDtcXG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsXFxuICAgIFwiXTtcbiAgICBmb3IgKHZhciBpIGluIGdyb3VwLnVuaWZvcm1zKSB7XG4gICAgICAgIHZhciBkYXRhID0gdW5pZm9ybURhdGFbaV07XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgaWYgKGdyb3VwLnVuaWZvcm1zW2ldLmdyb3VwKSB7XG4gICAgICAgICAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKFwiXFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuc3luY1VuaWZvcm1Hcm91cCh1dltcXFwiXCIgKyBpICsgXCJcXFwiXSwgc3luY0RhdGEpO1xcbiAgICAgICAgICAgICAgICBcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdW5pZm9ybSA9IGdyb3VwLnVuaWZvcm1zW2ldO1xuICAgICAgICB2YXIgcGFyc2VkID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdW5pZm9ybVBhcnNlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmICh1bmlmb3JtUGFyc2Vyc1tqXS50ZXN0KGRhdGEsIHVuaWZvcm0pKSB7XG4gICAgICAgICAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKHVuaWZvcm1QYXJzZXJzW2pdLmNvZGUoaSwgdW5pZm9ybSkpO1xuICAgICAgICAgICAgICAgIHBhcnNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwYXJzZWQpIHtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZVR5cGUgPSAoZGF0YS5zaXplID09PSAxKSA/IEdMU0xfVE9fU0lOR0xFX1NFVFRFUlNfQ0FDSEVEIDogR0xTTF9UT19BUlJBWV9TRVRURVJTO1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gdGVtcGxhdGVUeXBlW2RhdGEudHlwZV0ucmVwbGFjZSgnbG9jYXRpb24nLCBcInVkW1xcXCJcIiArIGkgKyBcIlxcXCJdLmxvY2F0aW9uXCIpO1xuICAgICAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKFwiXFxuICAgICAgICAgICAgY3YgPSB1ZFtcXFwiXCIgKyBpICsgXCJcXFwiXS52YWx1ZTtcXG4gICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgaSArIFwiXFxcIl07XFxuICAgICAgICAgICAgXCIgKyB0ZW1wbGF0ZSArIFwiO1wiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiB0aGUgaW50cm9kdWN0aW9uIG9mIHN5bmNEYXRhIGlzIHRvIHNvbHZlIGFuIGlzc3VlIHdoZXJlIHRleHR1cmVzIGluIHVuaWZvcm0gZ3JvdXBzIGFyZSBub3Qgc2V0IGNvcnJlY3RseVxuICAgICAqIHRoZSB0ZXh0dXJlIGNvdW50IHdhcyBhbHdheXMgc3RhcnRpbmcgZnJvbSAwIGluIGVhY2ggZ3JvdXAuIFRoaXMgbmVlZHMgdG8gaW5jcmVtZW50IGVhY2ggdGltZSBhIHRleHR1cmUgaXMgdXNlZFxuICAgICAqIG5vIG1hdHRlciB3aGljaCBncm91cCBpcyBiZWluZyB1c2VkXG4gICAgICpcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKCd1ZCcsICd1dicsICdyZW5kZXJlcicsICdzeW5jRGF0YScsIGZ1bmNGcmFnbWVudHMuam9pbignXFxuJykpO1xufVxuXG52YXIgZnJhZ1RlbXBsYXRlID0gW1xuICAgICdwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsnLFxuICAgICd2b2lkIG1haW4odm9pZCl7JyxcbiAgICAnZmxvYXQgdGVzdCA9IDAuMTsnLFxuICAgICclZm9ybG9vcCUnLFxuICAgICdnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JyxcbiAgICAnfScgXS5qb2luKCdcXG4nKTtcbmZ1bmN0aW9uIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcykge1xuICAgIHZhciBzcmMgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heElmczsgKytpKSB7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgc3JjICs9ICdcXG5lbHNlICc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPCBtYXhJZnMgLSAxKSB7XG4gICAgICAgICAgICBzcmMgKz0gXCJpZih0ZXN0ID09IFwiICsgaSArIFwiLjApe31cIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3JjO1xufVxuZnVuY3Rpb24gY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcihtYXhJZnMsIGdsKSB7XG4gICAgaWYgKG1heElmcyA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgb2YgYDBgIHBhc3NlZCB0byBgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcmAnKTtcbiAgICB9XG4gICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuICAgIHdoaWxlICh0cnVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnN0YW50LWNvbmRpdGlvblxuICAgICB7XG4gICAgICAgIHZhciBmcmFnbWVudFNyYyA9IGZyYWdUZW1wbGF0ZS5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcykpO1xuICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBmcmFnbWVudFNyYyk7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgICAgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgICAgIG1heElmcyA9IChtYXhJZnMgLyAyKSB8IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB2YWxpZCFcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXhJZnM7XG59XG5cbi8vIENhY2hlIHRoZSByZXN1bHQgdG8gcHJldmVudCBydW5uaW5nIHRoaXMgb3ZlciBhbmQgb3ZlclxudmFyIHVuc2FmZUV2YWw7XG4vKipcbiAqIE5vdCBhbGwgcGxhdGZvcm1zIGFsbG93IHRvIGdlbmVyYXRlIGZ1bmN0aW9uIGNvZGUgKGUuZy4sIGBuZXcgRnVuY3Rpb25gKS5cbiAqIHRoaXMgcHJvdmlkZXMgdGhlIHBsYXRmb3JtLWxldmVsIGRldGVjdGlvbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHVuc2FmZUV2YWxTdXBwb3J0ZWQoKSB7XG4gICAgaWYgKHR5cGVvZiB1bnNhZmVFdmFsID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIHVuc2FmZUV2YWw7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLW5ldy1mdW5jICovXG4gICAgICAgIHZhciBmdW5jID0gbmV3IEZ1bmN0aW9uKCdwYXJhbTEnLCAncGFyYW0yJywgJ3BhcmFtMycsICdyZXR1cm4gcGFyYW0xW3BhcmFtMl0gPT09IHBhcmFtMzsnKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1uZXctZnVuYyAqL1xuICAgICAgICB1bnNhZmVFdmFsID0gZnVuYyh7IGE6ICdiJyB9LCAnYScsICdiJykgPT09IHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHVuc2FmZUV2YWwgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHVuc2FmZUV2YWw7XG59XG5cbnZhciBkZWZhdWx0RnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICBnbF9GcmFnQ29sb3IgKj0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG59XCI7XG5cbnZhciBkZWZhdWx0VmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxufVxcblwiO1xuXG52YXIgVUlEJDMgPSAwO1xudmFyIG5hbWVDYWNoZSA9IHt9O1xuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgc2hhZGVyIHByb2dyYW0uXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUHJvZ3JhbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gLSBOYW1lIGZvciBzaGFkZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQcm9ncmFtKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIG5hbWUpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09IHZvaWQgMCkgeyBuYW1lID0gJ3BpeGktc2hhZGVyJzsgfVxuICAgICAgICB0aGlzLmlkID0gVUlEJDMrKztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHZlcnRleFNyYyB8fCBQcm9ncmFtLmRlZmF1bHRWZXJ0ZXhTcmM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMgfHwgUHJvZ3JhbS5kZWZhdWx0RnJhZ21lbnRTcmM7XG4gICAgICAgIHRoaXMudmVydGV4U3JjID0gdGhpcy52ZXJ0ZXhTcmMudHJpbSgpO1xuICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gdGhpcy5mcmFnbWVudFNyYy50cmltKCk7XG4gICAgICAgIGlmICh0aGlzLnZlcnRleFNyYy5zdWJzdHJpbmcoMCwgOCkgIT09ICcjdmVyc2lvbicpIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1xccysvZywgJy0nKTtcbiAgICAgICAgICAgIGlmIChuYW1lQ2FjaGVbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICBuYW1lQ2FjaGVbbmFtZV0rKztcbiAgICAgICAgICAgICAgICBuYW1lICs9IFwiLVwiICsgbmFtZUNhY2hlW25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmFtZUNhY2hlW25hbWVdID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmVydGV4U3JjID0gXCIjZGVmaW5lIFNIQURFUl9OQU1FIFwiICsgbmFtZSArIFwiXFxuXCIgKyB0aGlzLnZlcnRleFNyYztcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBcIiNkZWZpbmUgU0hBREVSX05BTUUgXCIgKyBuYW1lICsgXCJcXG5cIiArIHRoaXMuZnJhZ21lbnRTcmM7XG4gICAgICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHNldFByZWNpc2lvbih0aGlzLnZlcnRleFNyYywgc2V0dGluZ3MuUFJFQ0lTSU9OX1ZFUlRFWCwgUFJFQ0lTSU9OLkhJR0gpO1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IHNldFByZWNpc2lvbih0aGlzLmZyYWdtZW50U3JjLCBzZXR0aW5ncy5QUkVDSVNJT05fRlJBR01FTlQsIGdldE1heEZyYWdtZW50UHJlY2lzaW9uKCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGN1cnJlbnRseSB0aGlzIGRvZXMgbm90IGV4dHJhY3Qgc3RydWN0cyBvbmx5IGRlZmF1bHQgdHlwZXNcbiAgICAgICAgdGhpcy5leHRyYWN0RGF0YSh0aGlzLnZlcnRleFNyYywgdGhpcy5mcmFnbWVudFNyYyk7XG4gICAgICAgIC8vIHRoaXMgaXMgd2hlcmUgd2Ugc3RvcmUgc2hhZGVyIHJlZmVyZW5jZXMuLlxuICAgICAgICB0aGlzLmdsUHJvZ3JhbXMgPSB7fTtcbiAgICAgICAgdGhpcy5zeW5jVW5pZm9ybXMgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgZGF0YSBmb3IgYSBidXkgY3JlYXRpbmcgYSBzbWFsbCB0ZXN0IHByb2dyYW1cbiAgICAgKiBvciByZWFkaW5nIHRoZSBzcmMgZGlyZWN0bHkuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKi9cbiAgICBQcm9ncmFtLnByb3RvdHlwZS5leHRyYWN0RGF0YSA9IGZ1bmN0aW9uICh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKSB7XG4gICAgICAgIHZhciBnbCA9IGdldFRlc3RDb250ZXh0KCk7XG4gICAgICAgIGlmIChnbCkge1xuICAgICAgICAgICAgdmFyIHByb2dyYW0gPSBjb21waWxlUHJvZ3JhbShnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYyk7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZURhdGEgPSB0aGlzLmdldEF0dHJpYnV0ZURhdGEocHJvZ3JhbSwgZ2wpO1xuICAgICAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IHRoaXMuZ2V0VW5pZm9ybURhdGEocHJvZ3JhbSwgZ2wpO1xuICAgICAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybURhdGEgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlRGF0YSA9IHt9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSBhdHRyaWJ1dGUgZGF0YSBmcm9tIHRoZSBwcm9ncmFtXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xQcm9ncmFtfSBbcHJvZ3JhbV0gLSB0aGUgV2ViR0wgcHJvZ3JhbVxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBbZ2xdIC0gdGhlIFdlYkdMIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IHRoZSBhdHRyaWJ1dGUgZGF0YSBmb3IgdGhpcyBwcm9ncmFtXG4gICAgICovXG4gICAgUHJvZ3JhbS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlRGF0YSA9IGZ1bmN0aW9uIChwcm9ncmFtLCBnbCkge1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IHt9O1xuICAgICAgICB2YXIgYXR0cmlidXRlc0FycmF5ID0gW107XG4gICAgICAgIHZhciB0b3RhbEF0dHJpYnV0ZXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkFDVElWRV9BVFRSSUJVVEVTKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbEF0dHJpYnV0ZXM7IGkrKykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYkRhdGEgPSBnbC5nZXRBY3RpdmVBdHRyaWIocHJvZ3JhbSwgaSk7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IG1hcFR5cGUoZ2wsIGF0dHJpYkRhdGEudHlwZSk7XG4gICAgICAgICAgICAvKmVzbGludC1kaXNhYmxlICovXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIG5hbWU6IGF0dHJpYkRhdGEubmFtZSxcbiAgICAgICAgICAgICAgICBzaXplOiBtYXBTaXplKHR5cGUpLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICAgICAgICAgIGF0dHJpYnV0ZXNbYXR0cmliRGF0YS5uYW1lXSA9IGRhdGE7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzQXJyYXkucHVzaChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBhdHRyaWJ1dGVzQXJyYXkuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gKGEubmFtZSA+IGIubmFtZSkgPyAxIDogLTE7IH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbmZ1c2luZy1hcnJvd1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJpYnV0ZXNBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXR0cmlidXRlc0FycmF5W2ldLmxvY2F0aW9uID0gaTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHVuaWZvcm0gZGF0YSBmcm9tIHRoZSBwcm9ncmFtXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7d2ViR0wtcHJvZ3JhbX0gW3Byb2dyYW1dIC0gdGhlIHdlYmdsIHByb2dyYW1cbiAgICAgKiBAcGFyYW0ge2NvbnRleHR9IFtnbF0gLSB0aGUgV2ViR0wgY29udGV4dFxuICAgICAqXG4gICAgICogQHJldHVybnMge29iamVjdH0gdGhlIHVuaWZvcm0gZGF0YSBmb3IgdGhpcyBwcm9ncmFtXG4gICAgICovXG4gICAgUHJvZ3JhbS5wcm90b3R5cGUuZ2V0VW5pZm9ybURhdGEgPSBmdW5jdGlvbiAocHJvZ3JhbSwgZ2wpIHtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0ge307XG4gICAgICAgIHZhciB0b3RhbFVuaWZvcm1zID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5BQ1RJVkVfVU5JRk9STVMpO1xuICAgICAgICAvLyBUT0RPIGV4cG9zZSB0aGlzIGFzIGEgcHJvcD9cbiAgICAgICAgLy8gY29uc3QgbWFza1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXihwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyfHRyYW5zbGF0aW9uTWF0cml4KSQnKTtcbiAgICAgICAgLy8gY29uc3QgbWFza1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXihwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyfHRyYW5zbGF0aW9uTWF0cml4KSQnKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbFVuaWZvcm1zOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB1bmlmb3JtRGF0YSA9IGdsLmdldEFjdGl2ZVVuaWZvcm0ocHJvZ3JhbSwgaSk7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHVuaWZvcm1EYXRhLm5hbWUucmVwbGFjZSgvXFxbLio/XFxdJC8sICcnKTtcbiAgICAgICAgICAgIHZhciBpc0FycmF5ID0gdW5pZm9ybURhdGEubmFtZS5tYXRjaCgvXFxbLio/XFxdJC8pO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBtYXBUeXBlKGdsLCB1bmlmb3JtRGF0YS50eXBlKTtcbiAgICAgICAgICAgIC8qZXNsaW50LWRpc2FibGUgKi9cbiAgICAgICAgICAgIHVuaWZvcm1zW25hbWVdID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgc2l6ZTogdW5pZm9ybURhdGEuc2l6ZSxcbiAgICAgICAgICAgICAgICBpc0FycmF5OiBpc0FycmF5LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBkZWZhdWx0VmFsdWUodHlwZSwgdW5pZm9ybURhdGEuc2l6ZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmlmb3JtcztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm9ncmFtLCBcImRlZmF1bHRWZXJ0ZXhTcmNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm9ncmFtLCBcImRlZmF1bHRGcmFnbWVudFNyY1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRGcmFnbWVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCBmdW5jdGlvbiB0byBjcmVhdGUgYSBwcm9ncmFtIGJhc2VkIG9mIGEgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJcbiAgICAgKiB0aGlzIG1ldGhvZCB3aWxsIGFsc28gY2hlY2sgdG8gc2VlIGlmIHRoZXJlIGlzIGEgY2FjaGVkIHByb2dyYW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZT1waXhpLXNoYWRlcl0gLSBOYW1lIGZvciBzaGFkZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQSVhJLlByb2dyYW19IGFuIHNoaW55IG5ldyBQaXhpIHNoYWRlciFcbiAgICAgKi9cbiAgICBQcm9ncmFtLmZyb20gPSBmdW5jdGlvbiAodmVydGV4U3JjLCBmcmFnbWVudFNyYywgbmFtZSkge1xuICAgICAgICB2YXIga2V5ID0gdmVydGV4U3JjICsgZnJhZ21lbnRTcmM7XG4gICAgICAgIHZhciBwcm9ncmFtID0gUHJvZ3JhbUNhY2hlW2tleV07XG4gICAgICAgIGlmICghcHJvZ3JhbSkge1xuICAgICAgICAgICAgUHJvZ3JhbUNhY2hlW2tleV0gPSBwcm9ncmFtID0gbmV3IFByb2dyYW0odmVydGV4U3JjLCBmcmFnbWVudFNyYywgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb2dyYW07XG4gICAgfTtcbiAgICByZXR1cm4gUHJvZ3JhbTtcbn0oKSk7XG5cbi8qKlxuICogQSBoZWxwZXIgY2xhc3MgZm9yIHNoYWRlcnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTaGFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IFtwcm9ncmFtXSAtIFRoZSBwcm9ncmFtIHRoZSBzaGFkZXIgd2lsbCB1c2UuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2hhZGVyKHByb2dyYW0sIHVuaWZvcm1zKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9ncmFtIHRoYXQgdGhlIHNoYWRlciB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUHJvZ3JhbX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIC8vIGxldHMgc2VlIHdoYXRzIGJlZW4gcGFzc2VkIGluXG4gICAgICAgIC8vIHVuaWZvcm1zIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gYSB1bmlmb3JtIGdyb3VwXG4gICAgICAgIGlmICh1bmlmb3Jtcykge1xuICAgICAgICAgICAgaWYgKHVuaWZvcm1zIGluc3RhbmNlb2YgVW5pZm9ybUdyb3VwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAgPSB1bmlmb3JtcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3Jtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG5ldyBVbmlmb3JtR3JvdXAoe30pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRpbWUgdG8gYnVpbGQgc29tZSBnZXR0ZXJzIGFuZCBzZXR0ZXJzIVxuICAgICAgICAvLyBJIGd1ZXNzIGRvd24gdGhlIGxpbmUgdGhpcyBjb3VsZCBzb3J0IG9mIGdlbmVyYXRlIGFuIGluc3RydWN0aW9uIGxpc3QgcmF0aGVyIHRoYW4gdXNlIGRpcnR5IGlkcz9cbiAgICAgICAgLy8gZG9lcyB0aGUgdHJpY2sgZm9yIG5vdyB0aG91Z2ghXG4gICAgICAgIGZvciAodmFyIGkgaW4gcHJvZ3JhbS51bmlmb3JtRGF0YSkge1xuICAgICAgICAgICAgaWYgKHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cC51bmlmb3Jtc1tpXSA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFRPRE8gbW92ZSB0byBzaGFkZXIgc3lzdGVtLi5cbiAgICBTaGFkZXIucHJvdG90eXBlLmNoZWNrVW5pZm9ybUV4aXN0cyA9IGZ1bmN0aW9uIChuYW1lLCBncm91cCkge1xuICAgICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbbmFtZV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgaW4gZ3JvdXAudW5pZm9ybXMpIHtcbiAgICAgICAgICAgIHZhciB1bmlmb3JtID0gZ3JvdXAudW5pZm9ybXNbaV07XG4gICAgICAgICAgICBpZiAodW5pZm9ybS5ncm91cCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVW5pZm9ybUV4aXN0cyhuYW1lLCB1bmlmb3JtKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgU2hhZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB1c2FnZSBjb3VudCBvbiBwcm9ncmFtcz9cbiAgICAgICAgLy8gcmVtb3ZlIGlmIG5vdCB1c2VkIVxuICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2hhZGVyLnByb3RvdHlwZSwgXCJ1bmlmb3Jtc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaGFkZXIgdW5pZm9ybSB2YWx1ZXMsIHNob3J0Y3V0IGZvciBgdW5pZm9ybUdyb3VwLnVuaWZvcm1zYFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgZnVuY3Rpb24gdG8gY3JlYXRlIGEgc2hhZGVyIGJhc2VkIG9mIGEgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5TaGFkZXJ9IGFuIHNoaW55IG5ldyBQaXhpIHNoYWRlciFcbiAgICAgKi9cbiAgICBTaGFkZXIuZnJvbSA9IGZ1bmN0aW9uICh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCB1bmlmb3Jtcykge1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IFByb2dyYW0uZnJvbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTaGFkZXIocHJvZ3JhbSwgdW5pZm9ybXMpO1xuICAgIH07XG4gICAgcmV0dXJuIFNoYWRlcjtcbn0oKSk7XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbnZhciBCTEVORCA9IDA7XG52YXIgT0ZGU0VUID0gMTtcbnZhciBDVUxMSU5HID0gMjtcbnZhciBERVBUSF9URVNUID0gMztcbnZhciBXSU5ESU5HID0gNDtcbi8qKlxuICogVGhpcyBpcyBhIFdlYkdMIHN0YXRlLCBhbmQgaXMgaXMgcGFzc2VkIFRoZSBXZWJHTCBTdGF0ZU1hbmFnZXIuXG4gKlxuICogRWFjaCBtZXNoIHJlbmRlcmVkIG1heSByZXF1aXJlIFdlYkdMIHRvIGJlIGluIGEgZGlmZmVyZW50IHN0YXRlLlxuICogRm9yIGV4YW1wbGUgeW91IG1heSB3YW50IGRpZmZlcmVudCBibGVuZCBtb2RlIG9yIHRvIGVuYWJsZSBwb2x5Z29uIG9mZnNldHNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gMDtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgIHRoaXMucG9seWdvbk9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuYmxlbmQgPSB0cnVlO1xuICAgICAgICAvLyAgdGhpcy5kZXB0aFRlc3QgPSB0cnVlO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcImJsZW5kXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2YXRlcyBibGVuZGluZyBvZiB0aGUgY29tcHV0ZWQgZnJhZ21lbnQgY29sb3IgdmFsdWVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBCTEVORCkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IEJMRU5EKSkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IEJMRU5EKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZS5wcm90b3R5cGUsIFwib2Zmc2V0c1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmF0ZXMgYWRkaW5nIGFuIG9mZnNldCB0byBkZXB0aCB2YWx1ZXMgb2YgcG9seWdvbidzIGZyYWdtZW50c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgT0ZGU0VUKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgT0ZGU0VUKSkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IE9GRlNFVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcImN1bGxpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZhdGVzIGN1bGxpbmcgb2YgcG9seWdvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBDVUxMSU5HKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgQ1VMTElORykpICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBDVUxMSU5HKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZS5wcm90b3R5cGUsIFwiZGVwdGhUZXN0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2YXRlcyBkZXB0aCBjb21wYXJpc29ucyBhbmQgdXBkYXRlcyB0byB0aGUgZGVwdGggYnVmZmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgREVQVEhfVEVTVCkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IERFUFRIX1RFU1QpKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgREVQVEhfVEVTVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcImNsb2Nrd2lzZUZyb250RmFjZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgZnJvbnQgb3IgYmFjay1mYWNpbmcgcG9seWdvbnMgY2FuIGJlIGN1bGxlZC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IFdJTkRJTkcpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBXSU5ESU5HKSkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IFdJTkRJTkcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJibGVuZE1vZGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB3aGVuIHRoaXMgc3RhdGUgaXMgc2V0LiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqIFNldHRpbmcgdGhpcyBtb2RlIHRvIGFueXRoaW5nIG90aGVyIHRoYW4gTk9fQkxFTkQgd2lsbCBhdXRvbWF0aWNhbGx5IHN3aXRjaCBibGVuZGluZyBvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JsZW5kTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYmxlbmQgPSAodmFsdWUgIT09IEJMRU5EX01PREVTLk5PTkUpO1xuICAgICAgICAgICAgdGhpcy5fYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcInBvbHlnb25PZmZzZXRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBvbHlnb24gb2Zmc2V0LiBTZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gYW55dGhpbmcgb3RoZXIgdGhhbiAwIHdpbGwgYXV0b21hdGljYWxseSBlbmFibGUgcG9seWdvbiBvZmZzZXQgZmlsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb2x5Z29uT2Zmc2V0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5vZmZzZXRzID0gISF2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3BvbHlnb25PZmZzZXQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFN0YXRlLmZvcjJkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSBuZXcgU3RhdGUoKTtcbiAgICAgICAgc3RhdGUuZGVwdGhUZXN0ID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRlO1xufSgpKTtcblxudmFyIGRlZmF1bHRWZXJ0ZXgkMSA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xcblxcbnZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuXFxuICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG59XFxuXFxudmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxcbntcXG4gICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbigpO1xcbiAgICB2VGV4dHVyZUNvb3JkID0gZmlsdGVyVGV4dHVyZUNvb3JkKCk7XFxufVxcblwiO1xuXG52YXIgZGVmYXVsdEZyYWdtZW50JDEgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBGaWx0ZXIgaXMgYSBzcGVjaWFsIHR5cGUgb2YgV2ViR0wgc2hhZGVyIHRoYXQgaXMgYXBwbGllZCB0byB0aGUgc2NyZWVuLlxuICpcbiAqIHtAbGluayBodHRwOi8vcGl4aWpzLmlvL2V4YW1wbGVzLyMvZmlsdGVycy9ibHVyLWZpbHRlci5qcyBFeGFtcGxlfSBvZiB0aGVcbiAqIHtAbGluayBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlciBCbHVyRmlsdGVyfS5cbiAqXG4gKiAjIyMgVXNhZ2VcbiAqIEZpbHRlcnMgY2FuIGJlIGFwcGxpZWQgdG8gYW55IERpc3BsYXlPYmplY3Qgb3IgQ29udGFpbmVyLlxuICogUGl4aUpTJyBgRmlsdGVyU3lzdGVtYCByZW5kZXJzIHRoZSBjb250YWluZXIgaW50byB0ZW1wb3JhcnkgRnJhbWVidWZmZXIsXG4gKiB0aGVuIGZpbHRlciByZW5kZXJzIGl0IHRvIHRoZSBzY3JlZW4uXG4gKiBNdWx0aXBsZSBmaWx0ZXJzIGNhbiBiZSBhZGRlZCB0byB0aGUgYGZpbHRlcnNgIGFycmF5IHByb3BlcnR5IGFuZCBzdGFja2VkIG9uIGVhY2ggb3RoZXIuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmaWx0ZXIgPSBuZXcgUElYSS5GaWx0ZXIobXlTaGFkZXJWZXJ0LCBteVNoYWRlckZyYWcsIHsgbXlVbmlmb3JtOiAwLjUgfSk7XG4gKiBjb25zdCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGNvbnRhaW5lci5maWx0ZXJzID0gW2ZpbHRlcl07XG4gKiBgYGBcbiAqXG4gKiAjIyMgUHJldmlvdXMgVmVyc2lvbiBEaWZmZXJlbmNlc1xuICpcbiAqIEluIFBpeGlKUyAqKnYzKiosIGEgZmlsdGVyIHdhcyBhbHdheXMgYXBwbGllZCB0byBfd2hvbGUgc2NyZWVuXy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NCoqLCBhIGZpbHRlciBjYW4gYmUgYXBwbGllZCBfb25seSBwYXJ0IG9mIHRoZSBzY3JlZW5fLlxuICogRGV2ZWxvcGVycyBoYWQgdG8gY3JlYXRlIGEgc2V0IG9mIHVuaWZvcm1zIHRvIGRlYWwgd2l0aCBjb29yZGluYXRlcy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NSoqIGNvbWJpbmVzIF9ib3RoIGFwcHJvYWNoZXNfLlxuICogRGV2ZWxvcGVycyBjYW4gdXNlIG5vcm1hbCBjb29yZGluYXRlcyBvZiB2MyBhbmQgdGhlbiBhbGxvdyBmaWx0ZXIgdG8gdXNlIHBhcnRpYWwgRnJhbWVidWZmZXJzLFxuICogYnJpbmdpbmcgdGhvc2UgZXh0cmEgdW5pZm9ybXMgaW50byBhY2NvdW50LlxuICpcbiAqIEFsc28gYmUgYXdhcmUgdGhhdCB3ZSBoYXZlIGNoYW5nZWQgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyLCBwbGVhc2UgY29uc3VsdFxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy93aWtpL3Y1LUNyZWF0aW5nLWZpbHRlcnMgV2lraX0uXG4gKlxuICogIyMjIEJ1aWx0LWluIFVuaWZvcm1zXG4gKlxuICogUGl4aUpTIHZpZXdwb3J0IHVzZXMgc2NyZWVuIChDU1MpIGNvb3JkaW5hdGVzLCBgKDAsIDAsIHJlbmRlcmVyLnNjcmVlbi53aWR0aCwgcmVuZGVyZXIuc2NyZWVuLmhlaWdodClgLFxuICogYW5kIGBwcm9qZWN0aW9uTWF0cml4YCB1bmlmb3JtIG1hcHMgaXQgdG8gdGhlIGdsIHZpZXdwb3J0LlxuICpcbiAqICoqdVNhbXBsZXIqKlxuICpcbiAqIFRoZSBtb3N0IGltcG9ydGFudCB1bmlmb3JtIGlzIHRoZSBpbnB1dCB0ZXh0dXJlIHRoYXQgY29udGFpbmVyIHdhcyByZW5kZXJlZCBpbnRvLlxuICogX0ltcG9ydGFudCBub3RlOiBhcyB3aXRoIGFsbCBGcmFtZWJ1ZmZlcnMgaW4gUGl4aUpTLCBib3RoIGlucHV0IGFuZCBvdXRwdXQgYXJlXG4gKiBwcmVtdWx0aXBsaWVkIGJ5IGFscGhhLl9cbiAqXG4gKiBCeSBkZWZhdWx0LCBpbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzIGFyZSBwYXNzZWQgdG8gZnJhZ21lbnQgc2hhZGVyIHdpdGggYHZUZXh0dXJlQ29vcmRgLlxuICogVXNlIGl0IHRvIHNhbXBsZSB0aGUgaW5wdXQuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmcmFnbWVudCA9IGBcbiAqIHZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xuICogdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XG4gKiB2b2lkIG1haW4odm9pZClcbiAqIHtcbiAqICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XG4gKiB9XG4gKiBgO1xuICpcbiAqIGNvbnN0IG15RmlsdGVyID0gbmV3IFBJWEkuRmlsdGVyKG51bGwsIGZyYWdtZW50KTtcbiAqIGBgYFxuICpcbiAqIFRoaXMgZmlsdGVyIGlzIGp1c3Qgb25lIHVuaWZvcm0gbGVzcyB0aGFuIHtAbGluayBQSVhJLmZpbHRlcnMuQWxwaGFGaWx0ZXIgQWxwaGFGaWx0ZXJ9LlxuICpcbiAqICoqb3V0cHV0RnJhbWUqKlxuICpcbiAqIFRoZSBgb3V0cHV0RnJhbWVgIGhvbGRzIHRoZSByZWN0YW5nbGUgd2hlcmUgZmlsdGVyIGlzIGFwcGxpZWQgaW4gc2NyZWVuIChDU1MpIGNvb3JkaW5hdGVzLlxuICogSXQncyB0aGUgc2FtZSBhcyBgcmVuZGVyZXIuc2NyZWVuYCBmb3IgYSBmdWxsc2NyZWVuIGZpbHRlci5cbiAqIE9ubHkgYSBwYXJ0IG9mICBgb3V0cHV0RnJhbWUuendgIHNpemUgb2YgdGVtcG9yYXJ5IEZyYW1lYnVmZmVyIGlzIHVzZWQsXG4gKiBgKDAsIDAsIG91dHB1dEZyYW1lLndpZHRoLCBvdXRwdXRGcmFtZS5oZWlnaHQpYCxcbiAqXG4gKiBGaWx0ZXJzIHVzZXMgdGhpcyBxdWFkIHRvIG5vcm1hbGl6ZWQgKDAtMSkgc3BhY2UsIGl0cyBwYXNzZWQgaW50byBgYVZlcnRleFBvc2l0aW9uYCBhdHRyaWJ1dGUuXG4gKiBUbyBjYWxjdWxhdGUgdmVydGV4IHBvc2l0aW9uIGluIHNjcmVlbiBzcGFjZSB1c2luZyBub3JtYWxpemVkICgwLTEpIHNwYWNlOlxuICpcbiAqIGBgYFxuICogdmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXG4gKiB7XG4gKiAgICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XG4gKiAgICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xuICogfVxuICogYGBgXG4gKlxuICogKippbnB1dFNpemUqKlxuICpcbiAqIFRlbXBvcmFyeSBmcmFtZWJ1ZmZlciBpcyBkaWZmZXJlbnQsIGl0IGNhbiBiZSBlaXRoZXIgdGhlIHNpemUgb2Ygc2NyZWVuLCBlaXRoZXIgcG93ZXItb2YtdHdvLlxuICogVGhlIGBpbnB1dFNpemUueHlgIGFyZSBzaXplIG9mIHRlbXBvcmFyeSBmcmFtZWJ1ZmZlciB0aGF0IGhvbGRzIGlucHV0LlxuICogVGhlIGBpbnB1dFNpemUuendgIGlzIGludmVydGVkLCBpdCdzIGEgc2hvcnRjdXQgdG8gZXZhZGUgZGl2aXNpb24gaW5zaWRlIHRoZSBzaGFkZXIuXG4gKlxuICogU2V0IGBpbnB1dFNpemUueHkgPSBvdXRwdXRGcmFtZS56d2AgZm9yIGEgZnVsbHNjcmVlbiBmaWx0ZXIuXG4gKlxuICogVG8gY2FsY3VsYXRlIGlucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZSwgeW91IGhhdmUgdG8gbWFwIGl0IHRvIGZpbHRlciBub3JtYWxpemVkIHNwYWNlLlxuICogTXVsdGlwbHkgYnkgYG91dHB1dEZyYW1lLnp3YCB0byBnZXQgaW5wdXQgY29vcmRpbmF0ZS5cbiAqIERpdmlkZSBieSBgaW5wdXRTaXplLnh5YCB0byBnZXQgaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlLlxuICpcbiAqIGBgYFxuICogdmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxuICoge1xuICogICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpOyAvLyBzYW1lIGFzIC9pbnB1dFNpemUueHlcbiAqIH1cbiAqIGBgYFxuICogKipyZXNvbHV0aW9uKipcbiAqXG4gKiBUaGUgYHJlc29sdXRpb25gIGlzIHRoZSByYXRpbyBvZiBzY3JlZW4gKENTUykgcGl4ZWxzIHRvIHJlYWwgcGl4ZWxzLlxuICpcbiAqICoqaW5wdXRQaXhlbCoqXG4gKlxuICogYGlucHV0UGl4ZWwueHlgIGlzIHRoZSBzaXplIG9mIGZyYW1lYnVmZmVyIGluIHJlYWwgcGl4ZWxzLCBzYW1lIGFzIGBpbnB1dFNpemUueHkgKiByZXNvbHV0aW9uYFxuICogYGlucHV0UGl4ZWwuendgIGlzIGludmVydGVkIGBpbnB1dFBpeGVsLnh5YC5cbiAqXG4gKiBJdCdzIGhhbmR5IGZvciBmaWx0ZXJzIHRoYXQgdXNlIG5laWdoYm91ciBwaXhlbHMsIGxpa2Uge0BsaW5rIFBJWEkuZmlsdGVycy5GWEFBRmlsdGVyIEZYQUFGaWx0ZXJ9LlxuICpcbiAqICoqaW5wdXRDbGFtcCoqXG4gKlxuICogSWYgeW91IHRyeSB0byBnZXQgaW5mbyBmcm9tIG91dHNpZGUgb2YgdXNlZCBwYXJ0IG9mIEZyYW1lYnVmZmVyIC0geW91J2xsIGdldCB1bmRlZmluZWQgYmVoYXZpb3VyLlxuICogRm9yIGRpc3BsYWNlbWVudHMsIGNvb3JkaW5hdGVzIGhhcyB0byBiZSBjbGFtcGVkLlxuICpcbiAqIFRoZSBgaW5wdXRDbGFtcC54eWAgaXMgbGVmdC10b3AgcGl4ZWwgY2VudGVyLCB5b3UgbWF5IGlnbm9yZSBpdCwgYmVjYXVzZSB3ZSB1c2UgbGVmdC10b3AgcGFydCBvZiBGcmFtZWJ1ZmZlclxuICogYGlucHV0Q2xhbXAuendgIGlzIGJvdHRvbS1yaWdodCBwaXhlbCBjZW50ZXIuXG4gKlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcChtb2RpZmlnZWRUZXh0dXJlQ29vcmQsIGlucHV0Q2xhbXAueHksIGlucHV0Q2xhbXAuencpKVxuICogYGBgXG4gKiBPUlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBtaW4obW9kaWZpZ2VkVGV4dHVyZUNvb3JkLCBpbnB1dENsYW1wLnp3KSlcbiAqIGBgYFxuICpcbiAqICMjIyBBZGRpdGlvbmFsIEluZm9ybWF0aW9uXG4gKlxuICogQ29tcGxldGUgZG9jdW1lbnRhdGlvbiBvbiBGaWx0ZXIgdXNhZ2UgaXMgbG9jYXRlZCBpbiB0aGVcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvd2lraS92NS1DcmVhdGluZy1maWx0ZXJzIFdpa2l9LlxuICpcbiAqIFNpbmNlIFBpeGlKUyBvbmx5IGhhZCBhIGhhbmRmdWwgb2YgYnVpbHQtaW4gZmlsdGVycywgYWRkaXRpb25hbCBmaWx0ZXJzIGNhbiBiZSBkb3dubG9hZGVkXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWZpbHRlcnMgaGVyZX0gZnJvbSB0aGUgUGl4aUpTIEZpbHRlcnMgcmVwb3NpdG9yeS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICovXG52YXIgRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGaWx0ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3VuaWZvcm1zXSAtIEN1c3RvbSB1bmlmb3JtcyB0byB1c2UgdG8gYXVnbWVudCB0aGUgYnVpbHQtaW4gb25lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGaWx0ZXIodmVydGV4U3JjLCBmcmFnbWVudFNyYywgdW5pZm9ybXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHByb2dyYW0gPSBQcm9ncmFtLmZyb20odmVydGV4U3JjIHx8IEZpbHRlci5kZWZhdWx0VmVydGV4U3JjLCBmcmFnbWVudFNyYyB8fCBGaWx0ZXIuZGVmYXVsdEZyYWdtZW50U3JjKTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9ncmFtLCB1bmlmb3JtcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwYWRkaW5nIG9mIHRoZSBmaWx0ZXIuIFNvbWUgZmlsdGVycyByZXF1aXJlIGV4dHJhIHNwYWNlIHRvIGJyZWF0aCBzdWNoIGFzIGEgYmx1ci5cbiAgICAgICAgICogSW5jcmVhc2luZyB0aGlzIHdpbGwgYWRkIGV4dHJhIHdpZHRoIGFuZCBoZWlnaHQgdG8gdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0IHRoYXQgdGhlXG4gICAgICAgICAqIGZpbHRlciBpcyBhcHBsaWVkIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wYWRkaW5nID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBmaWx0ZXIuIFNldHRpbmcgdGhpcyB0byBiZSBsb3dlciB3aWxsIGxvd2VyIHRoZSBxdWFsaXR5IGJ1dFxuICAgICAgICAgKiBpbmNyZWFzZSB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhlIGZpbHRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZW5hYmxlZCBpcyB0cnVlIHRoZSBmaWx0ZXIgaXMgYXBwbGllZCwgaWYgZmFsc2UgaXQgd2lsbCBub3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGVuYWJsZWQsIFBpeGlKUyB3aWxsIGZpdCB0aGUgZmlsdGVyIGFyZWEgaW50byBib3VuZGFyaWVzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuXG4gICAgICAgICAqIFN3aXRjaCBpdCBvZmYgaWYgaXQgZG9lcyBub3Qgd29yayBmb3Igc3BlY2lmaWMgc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b0ZpdCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMZWdhY3kgZmlsdGVycyB1c2UgcG9zaXRpb24gYW5kIHV2cyBmcm9tIGF0dHJpYnV0ZXNcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sZWdhY3kgPSAhIV90aGlzLnByb2dyYW0uYXR0cmlidXRlRGF0YS5hVGV4dHVyZUNvb3JkO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHN0YXRlIHRoZSBmaWx0ZXIgcmVxdWlyZXMgdG8gcmVuZGVyXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IGNsZWFyTW9kZSAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2N1cnJlbnRTdGF0ZV0gLSBJdCdzIGN1cnJlbnQgc3RhdGUgb2YgZmlsdGVyLlxuICAgICAqICAgICAgICBUaGVyZSBhcmUgc29tZSB1c2VmdWwgcHJvcGVydGllcyBpbiB0aGUgY3VycmVudFN0YXRlIDpcbiAgICAgKiAgICAgICAgdGFyZ2V0LCBmaWx0ZXJzLCBzb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSwgcmVuZGVyVGFyZ2V0LCByZXNvbHV0aW9uXG4gICAgICovXG4gICAgRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUsIF9jdXJyZW50U3RhdGUpIHtcbiAgICAgICAgLy8gZG8gYXMgeW91IHBsZWFzZSFcbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgICAgICAvLyBvciBqdXN0IGRvIGEgcmVndWxhciByZW5kZXIuLlxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbHRlci5wcm90b3R5cGUsIFwiYmxlbmRNb2RlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGJsZW5kbW9kZSBvZiB0aGUgZmlsdGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaWx0ZXIsIFwiZGVmYXVsdFZlcnRleFNyY1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleCQxO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbHRlciwgXCJkZWZhdWx0RnJhZ21lbnRTcmNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdEZyYWdtZW50JDE7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gRmlsdGVyO1xufShTaGFkZXIpKTtcblxudmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIG90aGVyTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2TWFza0Nvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbiAgICB2TWFza0Nvb3JkID0gKCBvdGhlck1hdHJpeCAqIHZlYzMoIGFUZXh0dXJlQ29vcmQsIDEuMCkgICkueHk7XFxufVxcblwiO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2TWFza0Nvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gc2FtcGxlcjJEIG1hc2s7XFxudW5pZm9ybSBmbG9hdCBhbHBoYTtcXG51bmlmb3JtIGZsb2F0IG5wbUFscGhhO1xcbnVuaWZvcm0gdmVjNCBtYXNrQ2xhbXA7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBmbG9hdCBjbGlwID0gc3RlcCgzLjUsXFxuICAgICAgICBzdGVwKG1hc2tDbGFtcC54LCB2TWFza0Nvb3JkLngpICtcXG4gICAgICAgIHN0ZXAobWFza0NsYW1wLnksIHZNYXNrQ29vcmQueSkgK1xcbiAgICAgICAgc3RlcCh2TWFza0Nvb3JkLngsIG1hc2tDbGFtcC56KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueSwgbWFza0NsYW1wLncpKTtcXG5cXG4gICAgdmVjNCBvcmlnaW5hbCA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIHZlYzQgbWFza3kgPSB0ZXh0dXJlMkQobWFzaywgdk1hc2tDb29yZCk7XFxuICAgIGZsb2F0IGFscGhhTXVsID0gMS4wIC0gbnBtQWxwaGEgKiAoMS4wIC0gbWFza3kuYSk7XFxuXFxuICAgIG9yaWdpbmFsICo9IChhbHBoYU11bCAqIG1hc2t5LnIgKiBhbHBoYSAqIGNsaXApO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBvcmlnaW5hbDtcXG59XFxuXCI7XG5cbnZhciB0ZW1wTWF0ID0gbmV3IE1hdHJpeCgpO1xuLyoqXG4gKiBDbGFzcyBjb250cm9scyB1diBtYXBwaW5nIGZyb20gVGV4dHVyZSBub3JtYWwgc3BhY2UgdG8gQmFzZVRleHR1cmUgbm9ybWFsIHNwYWNlLlxuICpcbiAqIFRha2VzIGB0cmltYCBhbmQgYHJvdGF0ZWAgaW50byBhY2NvdW50LiBNYXkgY29udGFpbiBjbGFtcCBzZXR0aW5ncyBmb3IgTWVzaGVzIGFuZCBUaWxpbmdTcHJpdGUuXG4gKlxuICogQ2FuIGJlIHVzZWQgaW4gVGV4dHVyZSBgdXZNYXRyaXhgIGZpZWxkLCBvciBzZXBhcmF0ZWx5LCB5b3UgY2FuIHVzZSBkaWZmZXJlbnQgY2xhbXAgc2V0dGluZ3Mgb24gdGhlIHNhbWUgdGV4dHVyZS5cbiAqIElmIHlvdSB3YW50IHRvIGFkZCBzdXBwb3J0IGZvciB0ZXh0dXJlIHJlZ2lvbiBvZiBjZXJ0YWluIGZlYXR1cmUgb3IgZmlsdGVyLCB0aGF0J3Mgd2hhdCB5b3UncmUgbG9va2luZyBmb3IuXG4gKlxuICogVGFrZXMgdHJhY2sgb2YgVGV4dHVyZSBjaGFuZ2VzIHRocm91Z2ggYF9sYXN0VGV4dHVyZUlEYCBwcml2YXRlIGZpZWxkLlxuICogVXNlIGB1cGRhdGUoKWAgbWV0aG9kIGNhbGwgdG8gdHJhY2sgaXQgZnJvbSBvdXRzaWRlLlxuICpcbiAqIEBzZWUgUElYSS5UZXh0dXJlXG4gKiBAc2VlIFBJWEkuTWVzaFxuICogQHNlZSBQSVhJLlRpbGluZ1Nwcml0ZVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dHVyZU1hdHJpeCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gb2JzZXJ2ZWQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY2xhbXBNYXJnaW5dIC0gQ2hhbmdlcyBmcmFtZSBjbGFtcGluZywgMC41IGJ5IGRlZmF1bHQuIFVzZSAtMC41IGZvciBleHRyYSBib3JkZXIuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dHVyZU1hdHJpeCh0ZXh0dXJlLCBjbGFtcE1hcmdpbikge1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hdHJpeCBvcGVyYXRpb24gdGhhdCBjb252ZXJ0cyB0ZXh0dXJlIHJlZ2lvbiBjb29yZHMgdG8gdGV4dHVyZSBjb29yZHNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXBDb29yZCA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsYW1wIHJlZ2lvbiBmb3Igbm9ybWFsaXplZCBjb29yZHMsIGxlZnQtdG9wIHBpeGVsIGNlbnRlciBpbiB4eSAsIGJvdHRvbS1yaWdodCBpbiB6dy5cbiAgICAgICAgICogQ2FsY3VsYXRlZCBiYXNlZCBvbiBjbGFtcE9mZnNldC5cbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudUNsYW1wRnJhbWUgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm9ybWFsaXplZCBjbGFtcCBvZmZzZXQuXG4gICAgICAgICAqIENhbGN1bGF0ZWQgYmFzZWQgb24gY2xhbXBPZmZzZXQuXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVDbGFtcE9mZnNldCA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFja3MgVGV4dHVyZSBmcmFtZSBjaGFuZ2VzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFja3MgVGV4dHVyZSBmcmFtZSBjaGFuZ2VzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZ1xuICAgICAgICAgKiBXb3JrcyB3aXRoIFRpbGluZ1Nwcml0ZSBhbmQgTWVzaFxuICAgICAgICAgKiBDaGFuZ2UgdG8gMS41IGlmIHlvdSB0ZXh0dXJlIGhhcyByZXBlYXRlZCByaWdodCBhbmQgYm90dG9tIGxpbmVzLCB0aGF0IGxlYWRzIHRvIHNtb290aGVyIGJvcmRlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsYW1wT2Zmc2V0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmdcbiAgICAgICAgICogV29ya3Mgd2l0aCBUaWxpbmdTcHJpdGUgYW5kIE1lc2hcbiAgICAgICAgICogQ2hhbmdlIHRvIC0wLjUgdG8gYWRkIGEgcGl4ZWwgdG8gdGhlIGVkZ2UsIHJlY29tbWVuZGVkIGZvciB0cmFuc3BhcmVudCB0cmltbWVkIHRleHR1cmVzIGluIGF0bGFzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsYW1wTWFyZ2luID0gKHR5cGVvZiBjbGFtcE1hcmdpbiA9PT0gJ3VuZGVmaW5lZCcpID8gMC41IDogY2xhbXBNYXJnaW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0ZXh0dXJlIHNpemUgaXMgdGhlIHNhbWUgYXMgYmFzZVRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzU2ltcGxlID0gZmFsc2U7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0dXJlTWF0cml4LnByb3RvdHlwZSwgXCJ0ZXh0dXJlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRleHR1cmUgcHJvcGVydHlcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB1dnMgYXJyYXkgdG8gdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHV2cyAtIG1lc2ggdXZzXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXQ9dXZzXSBvdXRwdXRcbiAgICAgKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSBvdXRwdXRcbiAgICAgKi9cbiAgICBUZXh0dXJlTWF0cml4LnByb3RvdHlwZS5tdWx0aXBseVV2cyA9IGZ1bmN0aW9uICh1dnMsIG91dCkge1xuICAgICAgICBpZiAob3V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG91dCA9IHV2cztcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWF0ID0gdGhpcy5tYXBDb29yZDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1dnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciB4ID0gdXZzW2ldO1xuICAgICAgICAgICAgdmFyIHkgPSB1dnNbaSArIDFdO1xuICAgICAgICAgICAgb3V0W2ldID0gKHggKiBtYXQuYSkgKyAoeSAqIG1hdC5jKSArIG1hdC50eDtcbiAgICAgICAgICAgIG91dFtpICsgMV0gPSAoeCAqIG1hdC5iKSArICh5ICogbWF0LmQpICsgbWF0LnR5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiB1cGRhdGVzIG1hdHJpY2VzIGlmIHRleHR1cmUgd2FzIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZVVwZGF0ZT1mYWxzZV0gLSBpZiB0cnVlLCBtYXRyaWNlcyB3aWxsIGJlIHVwZGF0ZWQgYW55IGNhc2VcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgaXQgd2FzIHVwZGF0ZWRcbiAgICAgKi9cbiAgICBUZXh0dXJlTWF0cml4LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZm9yY2VVcGRhdGUpIHtcbiAgICAgICAgdmFyIHRleCA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIGlmICghdGV4IHx8ICF0ZXgudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZvcmNlVXBkYXRlXG4gICAgICAgICAgICAmJiB0aGlzLl90ZXh0dXJlSUQgPT09IHRleC5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0ZXguX3VwZGF0ZUlEO1xuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgICAgICB2YXIgdXZzID0gdGV4Ll91dnM7XG4gICAgICAgIHRoaXMubWFwQ29vcmQuc2V0KHV2cy54MSAtIHV2cy54MCwgdXZzLnkxIC0gdXZzLnkwLCB1dnMueDMgLSB1dnMueDAsIHV2cy55MyAtIHV2cy55MCwgdXZzLngwLCB1dnMueTApO1xuICAgICAgICB2YXIgb3JpZyA9IHRleC5vcmlnO1xuICAgICAgICB2YXIgdHJpbSA9IHRleC50cmltO1xuICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgdGVtcE1hdC5zZXQob3JpZy53aWR0aCAvIHRyaW0ud2lkdGgsIDAsIDAsIG9yaWcuaGVpZ2h0IC8gdHJpbS5oZWlnaHQsIC10cmltLnggLyB0cmltLndpZHRoLCAtdHJpbS55IC8gdHJpbS5oZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5tYXBDb29yZC5hcHBlbmQodGVtcE1hdCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleEJhc2UgPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBmcmFtZSA9IHRoaXMudUNsYW1wRnJhbWU7XG4gICAgICAgIHZhciBtYXJnaW4gPSB0aGlzLmNsYW1wTWFyZ2luIC8gdGV4QmFzZS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5jbGFtcE9mZnNldDtcbiAgICAgICAgZnJhbWVbMF0gPSAodGV4Ll9mcmFtZS54ICsgbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2Uud2lkdGg7XG4gICAgICAgIGZyYW1lWzFdID0gKHRleC5fZnJhbWUueSArIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLmhlaWdodDtcbiAgICAgICAgZnJhbWVbMl0gPSAodGV4Ll9mcmFtZS54ICsgdGV4Ll9mcmFtZS53aWR0aCAtIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgICAgICBmcmFtZVszXSA9ICh0ZXguX2ZyYW1lLnkgKyB0ZXguX2ZyYW1lLmhlaWdodCAtIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLmhlaWdodDtcbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXRbMF0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxXaWR0aDtcbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXRbMV0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxIZWlnaHQ7XG4gICAgICAgIHRoaXMuaXNTaW1wbGUgPSB0ZXguX2ZyYW1lLndpZHRoID09PSB0ZXhCYXNlLndpZHRoXG4gICAgICAgICAgICAmJiB0ZXguX2ZyYW1lLmhlaWdodCA9PT0gdGV4QmFzZS5oZWlnaHRcbiAgICAgICAgICAgICYmIHRleC5yb3RhdGUgPT09IDA7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIFRleHR1cmVNYXRyaXg7XG59KCkpO1xuXG4vKipcbiAqIFRoaXMgaGFuZGxlcyBhIFNwcml0ZSBhY3RpbmcgYXMgYSBtYXNrLCBhcyBvcHBvc2VkIHRvIGEgR3JhcGhpYy5cbiAqXG4gKiBXZWJHTCBvbmx5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGVNYXNrRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTcHJpdGVNYXNrRmlsdGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIHRoZSB0YXJnZXQgc3ByaXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3ByaXRlTWFza0ZpbHRlcihzcHJpdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1hc2tNYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdmVydGV4LCBmcmFnbWVudCkgfHwgdGhpcztcbiAgICAgICAgc3ByaXRlLnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwcml0ZSBtYXNrXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgbWF0cml4XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza01hdHJpeCA9IG1hc2tNYXRyaXg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlck1hbmFnZXIgLSBUaGUgcmVuZGVyZXIgdG8gcmV0cmlldmUgdGhlIGZpbHRlciBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7UElYSS5DTEVBUl9NT0RFU30gY2xlYXJNb2RlIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0LlxuICAgICAqL1xuICAgIFNwcml0ZU1hc2tGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSkge1xuICAgICAgICB2YXIgbWFza1Nwcml0ZSA9IHRoaXMubWFza1Nwcml0ZTtcbiAgICAgICAgdmFyIHRleCA9IG1hc2tTcHJpdGUuX3RleHR1cmU7XG4gICAgICAgIGlmICghdGV4LnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0ZXgudXZNYXRyaXgpIHtcbiAgICAgICAgICAgIC8vIG1hcmdpbiA9IDAuMCwgbGV0IGl0IGJsZWVkIGEgYml0LCBzaGFkZXIgY29kZSBiZWNvbWVzIGVhc2llclxuICAgICAgICAgICAgLy8gYXNzdW1pbmcgdGhhdCBhdGxhcyB0ZXh0dXJlcyB3ZXJlIG1hZGUgd2l0aCAxLXBpeGVsIHBhZGRpbmdcbiAgICAgICAgICAgIHRleC51dk1hdHJpeCA9IG5ldyBUZXh0dXJlTWF0cml4KHRleCwgMC4wKTtcbiAgICAgICAgfVxuICAgICAgICB0ZXgudXZNYXRyaXgudXBkYXRlKCk7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubnBtQWxwaGEgPSB0ZXguYmFzZVRleHR1cmUuYWxwaGFNb2RlID8gMC4wIDogMS4wO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hc2sgPSB0ZXg7XG4gICAgICAgIC8vIGdldCBfbm9ybWFsaXplZCBzcHJpdGUgdGV4dHVyZSBjb29yZHNfIGFuZCBjb252ZXJ0IHRoZW0gdG8gX25vcm1hbGl6ZWQgYXRsYXMgdGV4dHVyZSBjb29yZHNfIHdpdGggYHByZXBlbmRgXG4gICAgICAgIHRoaXMudW5pZm9ybXMub3RoZXJNYXRyaXggPSBmaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCh0aGlzLm1hc2tNYXRyaXgsIG1hc2tTcHJpdGUpXG4gICAgICAgICAgICAucHJlcGVuZCh0ZXgudXZNYXRyaXgubWFwQ29vcmQpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLmFscGhhID0gbWFza1Nwcml0ZS53b3JsZEFscGhhO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hc2tDbGFtcCA9IHRleC51dk1hdHJpeC51Q2xhbXBGcmFtZTtcbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgIH07XG4gICAgcmV0dXJuIFNwcml0ZU1hc2tGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBtYXNrcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBNYXNrU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNYXNrU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hc2tTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbmFibGUgc2Npc3NvclxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVuYWJsZVNjaXNzb3IgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgdXNlZCBzcHJpdGUgbWFzayBmaWx0ZXJzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlTWFza0ZpbHRlcltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFscGhhTWFza1Bvb2wgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgbWFzayBkYXRhXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWFza0RhdGFbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXNrRGF0YVBvb2wgPSBbXTtcbiAgICAgICAgX3RoaXMubWFza1N0YWNrID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGluZGV4IG9mIGFscGhhIG1hc2sgcG9vbFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbHBoYU1hc2tJbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgbWFzayBzdGFjayB0aGF0IGlzIHVzZWQgYnkgdGhpcyBTeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGFbXX0gbWFza1N0YWNrIC0gVGhlIG1hc2sgc3RhY2tcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5zZXRNYXNrU3RhY2sgPSBmdW5jdGlvbiAobWFza1N0YWNrKSB7XG4gICAgICAgIHRoaXMubWFza1N0YWNrID0gbWFza1N0YWNrO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNjaXNzb3Iuc2V0TWFza1N0YWNrKG1hc2tTdGFjayk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5zZXRNYXNrU3RhY2sobWFza1N0YWNrKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqIFJlbmRlcmVyIGJhdGNoIG11c3QgYmUgZmx1c2hlZCBiZWZvcmVoYW5kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHB1c2ggdGhlIG1hc2sgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF8UElYSS5TcHJpdGV8UElYSS5HcmFwaGljc3xQSVhJLkRpc3BsYXlPYmplY3R9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKHRhcmdldCwgbWFza0RhdGFPclRhcmdldCkge1xuICAgICAgICB2YXIgbWFza0RhdGEgPSBtYXNrRGF0YU9yVGFyZ2V0O1xuICAgICAgICBpZiAoIW1hc2tEYXRhLmlzTWFza0RhdGEpIHtcbiAgICAgICAgICAgIHZhciBkID0gdGhpcy5tYXNrRGF0YVBvb2wucG9wKCkgfHwgbmV3IE1hc2tEYXRhKCk7XG4gICAgICAgICAgICBkLnBvb2xlZCA9IHRydWU7XG4gICAgICAgICAgICBkLm1hc2tPYmplY3QgPSBtYXNrRGF0YU9yVGFyZ2V0O1xuICAgICAgICAgICAgbWFza0RhdGEgPSBkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXNrRGF0YS5hdXRvRGV0ZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmRldGVjdChtYXNrRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgbWFza0RhdGEuY29weUNvdW50ZXJzT3JSZXNldCh0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXSk7XG4gICAgICAgIG1hc2tEYXRhLl90YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHN3aXRjaCAobWFza0RhdGEudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNDSVNTT1I6XG4gICAgICAgICAgICAgICAgdGhpcy5tYXNrU3RhY2sucHVzaChtYXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zY2lzc29yLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNURU5DSUw6XG4gICAgICAgICAgICAgICAgdGhpcy5tYXNrU3RhY2sucHVzaChtYXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zdGVuY2lsLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNQUklURTpcbiAgICAgICAgICAgICAgICBtYXNrRGF0YS5jb3B5Q291bnRlcnNPclJlc2V0KG51bGwpO1xuICAgICAgICAgICAgICAgIHRoaXMucHVzaFNwcml0ZU1hc2sobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMubWFza1N0YWNrLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBtYXNrIGZyb20gdGhlIG1hc2sgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqIFJlbmRlcmVyIGJhdGNoIG11c3QgYmUgZmx1c2hlZCBiZWZvcmVoYW5kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHBvcCB0aGUgbWFzayBmcm9tXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICB2YXIgbWFza0RhdGEgPSB0aGlzLm1hc2tTdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKCFtYXNrRGF0YSB8fCBtYXNrRGF0YS5fdGFyZ2V0ICE9PSB0YXJnZXQpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGFkZCBhbiBhc3NlcnQgd2hlbiB3ZSBoYXZlIGl0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChtYXNrRGF0YS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU0NJU1NPUjpcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNjaXNzb3IucG9wKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU1RFTkNJTDpcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwucG9wKG1hc2tEYXRhLm1hc2tPYmplY3QpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNQUklURTpcbiAgICAgICAgICAgICAgICB0aGlzLnBvcFNwcml0ZU1hc2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbWFza0RhdGEucmVzZXQoKTtcbiAgICAgICAgaWYgKG1hc2tEYXRhLnBvb2xlZCkge1xuICAgICAgICAgICAgdGhpcy5tYXNrRGF0YVBvb2wucHVzaChtYXNrRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdHlwZSBvZiBNYXNrRGF0YSBiYXNlZCBvbiBpdHMgbWFza09iamVjdFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YX0gbWFza0RhdGFcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5kZXRlY3QgPSBmdW5jdGlvbiAobWFza0RhdGEpIHtcbiAgICAgICAgdmFyIG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuICAgICAgICBpZiAobWFza09iamVjdC5pc1Nwcml0ZSkge1xuICAgICAgICAgICAgbWFza0RhdGEudHlwZSA9IE1BU0tfVFlQRVMuU1BSSVRFO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG1hc2tEYXRhLnR5cGUgPSBNQVNLX1RZUEVTLlNURU5DSUw7XG4gICAgICAgIC8vIGRldGVjdCBzY2lzc29yIGluIGdyYXBoaWNzXG4gICAgICAgIGlmICh0aGlzLmVuYWJsZVNjaXNzb3JcbiAgICAgICAgICAgICYmIG1hc2tPYmplY3QuaXNGYXN0UmVjdFxuICAgICAgICAgICAgJiYgbWFza09iamVjdC5pc0Zhc3RSZWN0KCkpIHtcbiAgICAgICAgICAgIHZhciBtYXRyaXggPSBtYXNrT2JqZWN0LndvcmxkVHJhbnNmb3JtO1xuICAgICAgICAgICAgLy8gVE9ETzogbW92ZSB0aGUgY2hlY2sgdG8gdGhlIG1hdHJpeCBpdHNlbGZcbiAgICAgICAgICAgIC8vIHdlIGFyZSBjaGVja2luZyB0aGF0IGl0cyBvcnRob2dvbmFsIGFuZCB4IHJvdGF0aW9uIGlzIDAgOTAgMTgwIG9yIDI3MFxuICAgICAgICAgICAgdmFyIHJvdFggPSBNYXRoLmF0YW4yKG1hdHJpeC5iLCBtYXRyaXguYSk7XG4gICAgICAgICAgICB2YXIgcm90WFkgPSBNYXRoLmF0YW4yKG1hdHJpeC5kLCBtYXRyaXguYyk7XG4gICAgICAgICAgICAvLyB1c2UgdGhlIG5lYXJlc3QgZGVncmVlIHRvIDAuMDFcbiAgICAgICAgICAgIHJvdFggPSBNYXRoLnJvdW5kKHJvdFggKiAoMTgwIC8gTWF0aC5QSSkgKiAxMDApO1xuICAgICAgICAgICAgcm90WFkgPSBNYXRoLnJvdW5kKHJvdFhZICogKDE4MCAvIE1hdGguUEkpICogMTAwKSAtIHJvdFg7XG4gICAgICAgICAgICByb3RYID0gKChyb3RYICUgOTAwMCkgKyA5MDAwKSAlIDkwMDA7XG4gICAgICAgICAgICByb3RYWSA9ICgocm90WFkgJSAxODAwMCkgKyAxODAwMCkgJSAxODAwMDtcbiAgICAgICAgICAgIGlmIChyb3RYID09PSAwICYmIHJvdFhZID09PSA5MDAwKSB7XG4gICAgICAgICAgICAgICAgbWFza0RhdGEudHlwZSA9IE1BU0tfVFlQRVMuU0NJU1NPUjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF9IG1hc2tEYXRhIC0gU3ByaXRlIHRvIGJlIHVzZWQgYXMgdGhlIG1hc2tcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wdXNoU3ByaXRlTWFzayA9IGZ1bmN0aW9uIChtYXNrRGF0YSkge1xuICAgICAgICB2YXIgbWFza09iamVjdCA9IG1hc2tEYXRhLm1hc2tPYmplY3Q7XG4gICAgICAgIHZhciB0YXJnZXQgPSBtYXNrRGF0YS5fdGFyZ2V0O1xuICAgICAgICB2YXIgYWxwaGFNYXNrRmlsdGVyID0gdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdO1xuICAgICAgICBpZiAoIWFscGhhTWFza0ZpbHRlcikge1xuICAgICAgICAgICAgYWxwaGFNYXNrRmlsdGVyID0gdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdID0gW25ldyBTcHJpdGVNYXNrRmlsdGVyKG1hc2tPYmplY3QpXTtcbiAgICAgICAgfVxuICAgICAgICBhbHBoYU1hc2tGaWx0ZXJbMF0ucmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyWzBdLm1hc2tTcHJpdGUgPSBtYXNrT2JqZWN0O1xuICAgICAgICB2YXIgc3Rhc2hGaWx0ZXJBcmVhID0gdGFyZ2V0LmZpbHRlckFyZWE7XG4gICAgICAgIHRhcmdldC5maWx0ZXJBcmVhID0gbWFza09iamVjdC5nZXRCb3VuZHModHJ1ZSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZmlsdGVyLnB1c2godGFyZ2V0LCBhbHBoYU1hc2tGaWx0ZXIpO1xuICAgICAgICB0YXJnZXQuZmlsdGVyQXJlYSA9IHN0YXNoRmlsdGVyQXJlYTtcbiAgICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBmaWx0ZXIgZnJvbSB0aGUgZmlsdGVyIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wb3BTcHJpdGVNYXNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZpbHRlci5wb3AoKTtcbiAgICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleC0tO1xuICAgIH07XG4gICAgcmV0dXJuIE1hc2tTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBtYXNrcyBvZiBjZXJ0YWluIHR5cGVcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBBYnN0cmFjdE1hc2tTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFic3RyYWN0TWFza1N5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBYnN0cmFjdE1hc2tTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFzayBzdGFja1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hc2tEYXRhW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXNrU3RhY2sgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnN0YW50IGZvciBnbC5lbmFibGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2xDb25zdCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0cyBjb3VudCBvZiBtYXNrcyBvZiBjZXJ0YWluIHR5cGVcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIEFic3RyYWN0TWFza1N5c3RlbS5wcm90b3R5cGUuZ2V0U3RhY2tMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hc2tTdGFjay5sZW5ndGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBtYXNrIHN0YWNrIHRoYXQgaXMgdXNlZCBieSB0aGlzIFN5c3RlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YVtdfSBtYXNrU3RhY2sgLSBUaGUgbWFzayBzdGFja1xuICAgICAqL1xuICAgIEFic3RyYWN0TWFza1N5c3RlbS5wcm90b3R5cGUuc2V0TWFza1N0YWNrID0gZnVuY3Rpb24gKG1hc2tTdGFjaykge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgY3VyU3RhY2tMZW4gPSB0aGlzLmdldFN0YWNrTGVuZ3RoKCk7XG4gICAgICAgIHRoaXMubWFza1N0YWNrID0gbWFza1N0YWNrO1xuICAgICAgICB2YXIgbmV3U3RhY2tMZW4gPSB0aGlzLmdldFN0YWNrTGVuZ3RoKCk7XG4gICAgICAgIGlmIChuZXdTdGFja0xlbiAhPT0gY3VyU3RhY2tMZW4pIHtcbiAgICAgICAgICAgIGlmIChuZXdTdGFja0xlbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGdsLmRpc2FibGUodGhpcy5nbENvbnN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZSh0aGlzLmdsQ29uc3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0dXAgcmVuZGVyZXIgdG8gdXNlIHRoZSBjdXJyZW50IG1hc2sgZGF0YS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFic3RyYWN0TWFza1N5c3RlbS5wcm90b3R5cGUuX3VzZUN1cnJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIE9WRVJXUklURTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBtYXNrIHN0YWNrLlxuICAgICAqXG4gICAgICovXG4gICAgQWJzdHJhY3RNYXNrU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5tYXNrU3RhY2sgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0TWFza1N5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHNjaXNzb3IgcmVjdHMgKHVzZWQgZm9yIG1hc2tzKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBTY2lzc29yU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTY2lzc29yU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNjaXNzb3JTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmdsQ29uc3QgPSBXZWJHTFJlbmRlcmluZ0NvbnRleHQuU0NJU1NPUl9URVNUO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNjaXNzb3JTeXN0ZW0ucHJvdG90eXBlLmdldFN0YWNrTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFza0RhdGEgPSB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKG1hc2tEYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFza0RhdGEuX3NjaXNzb3JDb3VudGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBzdGVuY2lsIHN0YWNrLiBAYWx2aW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YX0gbWFza0RhdGEgLSBUaGUgbWFzayBkYXRhXG4gICAgICovXG4gICAgU2Npc3NvclN5c3RlbS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChtYXNrRGF0YSkge1xuICAgICAgICB2YXIgbWFza09iamVjdCA9IG1hc2tEYXRhLm1hc2tPYmplY3Q7XG4gICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgIHZhciBwcmV2RGF0YSA9IG1hc2tEYXRhLl9zY2lzc29yUmVjdDtcbiAgICAgICAgdmFyIGJvdW5kcyA9IG1hc2tPYmplY3QuZ2V0Qm91bmRzKHRydWUpO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHByZXZEYXRhKSB7XG4gICAgICAgICAgICBib3VuZHMuZml0KHByZXZEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICB9XG4gICAgICAgIG1hc2tEYXRhLl9zY2lzc29yQ291bnRlcisrO1xuICAgICAgICBtYXNrRGF0YS5fc2Npc3NvclJlY3QgPSBib3VuZHM7XG4gICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBvcHMgc2Npc3NvciBtYXNrLiBNYXNrRGF0YSBpcyBhbHJlYWR5IHJlbW92ZWQgZnJvbSBzdGFja1xuICAgICAqL1xuICAgIFNjaXNzb3JTeXN0ZW0ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgaWYgKHRoaXMuZ2V0U3RhY2tMZW5ndGgoKSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0dXAgcmVuZGVyZXIgdG8gdXNlIHRoZSBjdXJyZW50IHNjaXNzb3IgZGF0YS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNjaXNzb3JTeXN0ZW0ucHJvdG90eXBlLl91c2VDdXJyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVjdCA9IHRoaXMubWFza1N0YWNrW3RoaXMubWFza1N0YWNrLmxlbmd0aCAtIDFdLl9zY2lzc29yUmVjdDtcbiAgICAgICAgdmFyIHJ0ID0gdGhpcy5yZW5kZXJlci5yZW5kZXJUZXh0dXJlLmN1cnJlbnQ7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucmVuZGVyZXIucHJvamVjdGlvbiwgdHJhbnNmb3JtID0gX2EudHJhbnNmb3JtLCBzb3VyY2VGcmFtZSA9IF9hLnNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lID0gX2EuZGVzdGluYXRpb25GcmFtZTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBydCA/IHJ0LnJlc29sdXRpb24gOiB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgIHZhciB4ID0gKChyZWN0LnggLSBzb3VyY2VGcmFtZS54KSAqIHJlc29sdXRpb24pICsgZGVzdGluYXRpb25GcmFtZS54O1xuICAgICAgICB2YXIgeSA9ICgocmVjdC55IC0gc291cmNlRnJhbWUueSkgKiByZXNvbHV0aW9uKSArIGRlc3RpbmF0aW9uRnJhbWUueTtcbiAgICAgICAgdmFyIHdpZHRoID0gcmVjdC53aWR0aCAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBoZWlnaHQgPSByZWN0LmhlaWdodCAqIHJlc29sdXRpb247XG4gICAgICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHggKz0gdHJhbnNmb3JtLnR4ICogcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHkgKz0gdHJhbnNmb3JtLnR5ICogcmVzb2x1dGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJ0KSB7XG4gICAgICAgICAgICAvLyBmbGlwWS4gSW4gZnV0dXJlIHdlJ2xsIGhhdmUgaXQgb3ZlciByZW5kZXJUZXh0dXJlcyBhcyBhbiBvcHRpb25cbiAgICAgICAgICAgIHkgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCAtIGhlaWdodCAtIHk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5zY2lzc29yKHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgIH07XG4gICAgcmV0dXJuIFNjaXNzb3JTeXN0ZW07XG59KEFic3RyYWN0TWFza1N5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzdGVuY2lscyAodXNlZCBmb3IgbWFza3MpLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIFN0ZW5jaWxTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0ZW5jaWxTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3RlbmNpbFN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZ2xDb25zdCA9IFdlYkdMUmVuZGVyaW5nQ29udGV4dC5TVEVOQ0lMX1RFU1Q7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUuZ2V0U3RhY2tMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXNrRGF0YSA9IHRoaXMubWFza1N0YWNrW3RoaXMubWFza1N0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAobWFza0RhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXNrRGF0YS5fc3RlbmNpbENvdW50ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IHN0ZW5jaWwgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF9IG1hc2tEYXRhIC0gVGhlIG1hc2sgZGF0YVxuICAgICAqL1xuICAgIFN0ZW5jaWxTeXN0ZW0ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAobWFza0RhdGEpIHtcbiAgICAgICAgdmFyIG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgcHJldk1hc2tDb3VudCA9IG1hc2tEYXRhLl9zdGVuY2lsQ291bnRlcjtcbiAgICAgICAgaWYgKHByZXZNYXNrQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGZvcmNlIHVzZSBzdGVuY2lsIHRleHR1cmUgaW4gY3VycmVudCBmcmFtZWJ1ZmZlclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5mcmFtZWJ1ZmZlci5mb3JjZVN0ZW5jaWwoKTtcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICB9XG4gICAgICAgIG1hc2tEYXRhLl9zdGVuY2lsQ291bnRlcisrO1xuICAgICAgICAvLyBJbmNyZW1lbnQgdGhlIHJlZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBuZXcgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvbGQgb25lcy5cbiAgICAgICAgZ2wuY29sb3JNYXNrKGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgZ2wuc3RlbmNpbEZ1bmMoZ2wuRVFVQUwsIHByZXZNYXNrQ291bnQsIHRoaXMuX2dldEJpdHdpc2VNYXNrKCkpO1xuICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuSU5DUik7XG4gICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgIG1hc2tPYmplY3QucmVuZGVyKHRoaXMucmVuZGVyZXIpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQb3BzIHN0ZW5jaWwgbWFzay4gTWFza0RhdGEgaXMgYWxyZWFkeSByZW1vdmVkIGZyb20gc3RhY2tcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBtYXNrT2JqZWN0IC0gb2JqZWN0IG9mIHBvcHBlZCBtYXNrIGRhdGFcbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAobWFza09iamVjdCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICBpZiAodGhpcy5nZXRTdGFja0xlbmd0aCgpID09PSAwKSB7XG4gICAgICAgICAgICAvLyB0aGUgc3RhY2sgaXMgZW1wdHkhXG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgICAgICBnbC5jbGVhcihnbC5TVEVOQ0lMX0JVRkZFUl9CSVQpO1xuICAgICAgICAgICAgZ2wuY2xlYXJTdGVuY2lsKDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gRGVjcmVtZW50IHRoZSByZWZlcmVuY2Ugc3RlbmNpbCB2YWx1ZSB3aGVyZSB0aGUgcG9wcGVkIG1hc2sgb3ZlcmxhcHMgd2l0aCB0aGUgb3RoZXIgb25lc1xuICAgICAgICAgICAgZ2wuY29sb3JNYXNrKGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5ERUNSKTtcbiAgICAgICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXR1cCByZW5kZXJlciB0byB1c2UgdGhlIGN1cnJlbnQgc3RlbmNpbCBkYXRhLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUuX3VzZUN1cnJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGdsLmNvbG9yTWFzayh0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgZ2wuc3RlbmNpbEZ1bmMoZ2wuRVFVQUwsIHRoaXMuZ2V0U3RhY2tMZW5ndGgoKSwgdGhpcy5fZ2V0Qml0d2lzZU1hc2soKSk7XG4gICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5LRUVQKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbGwgMXMgZXF1YWwgdG8gdGhlIG51bWJlciBvZiBhY2l0dmUgc3RlbmNpbCBtYXNrcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGJpdHdpc2UgbWFzay5cbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5fZ2V0Qml0d2lzZU1hc2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAoMSA8PCB0aGlzLmdldFN0YWNrTGVuZ3RoKCkpIC0gMTtcbiAgICB9O1xuICAgIHJldHVybiBTdGVuY2lsU3lzdGVtO1xufShBYnN0cmFjdE1hc2tTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGhlIHByb2plY3Rpb24gbWF0cml4LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIFByb2plY3Rpb25TeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFByb2plY3Rpb25TeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUHJvamVjdGlvblN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNvdXJjZUZyYW1lID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgZGVzdGluYXRpb24gZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVmYXVsdEZyYW1lID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb2plY3QgbWF0cml4XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnByb2plY3Rpb25NYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRyYW5zZm9ybSB0aGF0IHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICAgICAqIGlmIG51bGwsIG5vdGhpbmcgd2lsbCBiZSBhcHBsaWVkXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwcm9qZWN0aW9uIG1hdHJpeCBiYXNlZCBvbiBhIHByb2plY3Rpb24gZnJhbWUgKHdoaWNoIGlzIGEgcmVjdGFuZ2xlKS5cbiAgICAgKlxuICAgICAqIE1ha2Ugc3VyZSB0byBydW4gYHJlbmRlcmVyLmZyYW1lYnVmZmVyLnNldFZpZXdwb3J0KGRlc3RpbmF0aW9uRnJhbWUpYCBhZnRlciBjYWxsaW5nIHRoaXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gVGhlIGRlc3RpbmF0aW9uIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHNvdXJjZUZyYW1lIC0gVGhlIHNvdXJjZSBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmVzb2x1dGlvbiAtIFJlc29sdXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJvb3QgLSBJZiBpcyByb290XG4gICAgICovXG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IGRlc3RpbmF0aW9uRnJhbWUgfHwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lIHx8IHRoaXMuZGVmYXVsdEZyYW1lO1xuICAgICAgICB0aGlzLnNvdXJjZUZyYW1lID0gc291cmNlRnJhbWUgfHwgdGhpcy5zb3VyY2VGcmFtZSB8fCBkZXN0aW5hdGlvbkZyYW1lO1xuICAgICAgICAvLyBDYWxjdWxhdGUgb2JqZWN0LXNwYWNlIHRvIGNsaXAtc3BhY2UgcHJvamVjdGlvblxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVByb2plY3Rpb24odGhpcy5kZXN0aW5hdGlvbkZyYW1lLCB0aGlzLnNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KTtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0aGlzLnByb2plY3Rpb25NYXRyaXguYXBwZW5kKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4ID0gdGhpcy5wcm9qZWN0aW9uTWF0cml4O1xuICAgICAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51cGRhdGUoKTtcbiAgICAgICAgLy8gdGhpcyB3aWxsIHdvcmsgZm9yIG5vd1xuICAgICAgICAvLyBidXQgd291bGQgYmUgc3dlZXQgdG8gc3RpY2sgYW5kIGV2ZW4gb24gdGhlIGdsb2JhbCB1bmlmb3Jtcy4uXG4gICAgICAgIGlmIChyZW5kZXJlci5zaGFkZXIuc2hhZGVyKSB7XG4gICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuc3luY1VuaWZvcm1Hcm91cChyZW5kZXJlci5zaGFkZXIuc2hhZGVyLnVuaWZvcm1zLmdsb2JhbHMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwcm9qZWN0aW9uIG1hdHJpeCBiYXNlZCBvbiBhIHByb2plY3Rpb24gZnJhbWUgKHdoaWNoIGlzIGEgcmVjdGFuZ2xlKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIFRoZSBkZXN0aW5hdGlvbiBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBzb3VyY2VGcmFtZSAtIFRoZSBzb3VyY2UgZnJhbWUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJlc29sdXRpb24gLSBSZXNvbHV0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSByb290IC0gSWYgaXMgcm9vdFxuICAgICAqL1xuICAgIFByb2plY3Rpb25TeXN0ZW0ucHJvdG90eXBlLmNhbGN1bGF0ZVByb2plY3Rpb24gPSBmdW5jdGlvbiAoX2Rlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCBfcmVzb2x1dGlvbiwgcm9vdCkge1xuICAgICAgICB2YXIgcG0gPSB0aGlzLnByb2plY3Rpb25NYXRyaXg7XG4gICAgICAgIHZhciBzaWduID0gIXJvb3QgPyAxIDogLTE7XG4gICAgICAgIHBtLmlkZW50aXR5KCk7XG4gICAgICAgIHBtLmEgPSAoMSAvIHNvdXJjZUZyYW1lLndpZHRoICogMik7XG4gICAgICAgIHBtLmQgPSBzaWduICogKDEgLyBzb3VyY2VGcmFtZS5oZWlnaHQgKiAyKTtcbiAgICAgICAgcG0udHggPSAtMSAtIChzb3VyY2VGcmFtZS54ICogcG0uYSk7XG4gICAgICAgIHBtLnR5ID0gLXNpZ24gLSAoc291cmNlRnJhbWUueSAqIHBtLmQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdHJhbnNmb3JtIG9mIHRoZSBhY3RpdmUgcmVuZGVyIHRhcmdldCB0byB0aGUgZ2l2ZW4gbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICovXG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gKF9tYXRyaXgpIHtcbiAgICAgICAgLy8gdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LnRyYW5zZm9ybSA9IG1hdHJpeDtcbiAgICB9O1xuICAgIHJldHVybiBQcm9qZWN0aW9uU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLy8gVGVtcG9yYXJ5IHJlY3RhbmdsZSBmb3IgYXNzaWduZWQgc291cmNlRnJhbWUgb3IgZGVzdGluYXRpb25GcmFtZVxudmFyIHRlbXBSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuLy8gVGVtcG9yYXJ5IHJlY3RhbmdsZSBmb3IgcmVuZGVyVGV4dHVyZSBkZXN0aW5hdGlvbkZyYW1lXG52YXIgdGVtcFJlY3QyID0gbmV3IFJlY3RhbmdsZSgpO1xuLy8gVGVtcG9yYXJ5IHJlY3RhbmdsZSBmb3IgcGFzc2luZyB0aGUgZnJhbWVidWZmZXIgdmlld3BvcnRcbnZhciB2aWV3cG9ydEZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgcmVuZGVyIHRleHR1cmVzLlxuICpcbiAqIFNob3VsZCBiZSBhZGRlZCBhZnRlciBGcmFtZWJ1ZmZlclN5c3RlbVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIFJlbmRlclRleHR1cmVTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlbmRlclRleHR1cmVTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVuZGVyVGV4dHVyZVN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjbGVhciBiYWNrZ3JvdW5kIGNvbG9yIGFzIHJnYmFcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jbGVhckNvbG9yID0gcmVuZGVyZXIuX2JhY2tncm91bmRDb2xvclJnYmE7XG4gICAgICAgIC8vIFRPRE8gbW92ZSB0aGlzIHByb3BlcnR5IHNvbWV3aGVyZSBlbHNlIVxuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBtYXNrcyBmb3IgdGhlIFN0ZW5jaWxTeXN0ZW1cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc1tdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRNYXNrU3RhY2sgPSBbXTtcbiAgICAgICAgLy8gZW1wdHkgcmVuZGVyIHRleHR1cmU/XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXIgdGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlclRleHR1cmV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3VycmVudCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTb3VyY2UgZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJpbmQgdGhlIGN1cnJlbnQgcmVuZGVyIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBbcmVuZGVyVGV4dHVyZV0gLSBSZW5kZXJUZXh0dXJlIHRvIGJpbmQsIGJ5IGRlZmF1bHQgaXRzIGBudWxsYCwgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtzb3VyY2VGcmFtZV0gLSBwYXJ0IG9mIHNjcmVlbiB0aGF0IGlzIG1hcHBlZCB0byB0aGUgcmVuZGVyVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtkZXN0aW5hdGlvbkZyYW1lXSAtIHBhcnQgb2YgcmVuZGVyVGV4dHVyZSwgYnkgZGVmYXVsdCBpdCBoYXMgdGhlIHNhbWUgc2l6ZSBhcyBzb3VyY2VGcmFtZVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAocmVuZGVyVGV4dHVyZSwgc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpIHtcbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUgPT09IHZvaWQgMCkgeyByZW5kZXJUZXh0dXJlID0gbnVsbDsgfVxuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSByZW5kZXJUZXh0dXJlO1xuICAgICAgICB2YXIgYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBmcmFtZWJ1ZmZlcjtcbiAgICAgICAgdmFyIHJlc29sdXRpb247XG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGlmICghc291cmNlRnJhbWUpIHtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC53aWR0aCA9IHJlbmRlclRleHR1cmUuZnJhbWUud2lkdGg7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QuaGVpZ2h0ID0gcmVuZGVyVGV4dHVyZS5mcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgc291cmNlRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGVzdGluYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0Mi54ID0gcmVuZGVyVGV4dHVyZS5mcmFtZS54O1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0Mi55ID0gcmVuZGVyVGV4dHVyZS5mcmFtZS55O1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0Mi53aWR0aCA9IHNvdXJjZUZyYW1lLndpZHRoO1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0Mi5oZWlnaHQgPSBzb3VyY2VGcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZSA9IHRlbXBSZWN0MjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyYW1lYnVmZmVyID0gYmFzZVRleHR1cmUuZnJhbWVidWZmZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGlmICghc291cmNlRnJhbWUpIHtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC53aWR0aCA9IHJlbmRlcmVyLnNjcmVlbi53aWR0aDtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC5oZWlnaHQgPSByZW5kZXJlci5zY3JlZW4uaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHNvdXJjZUZyYW1lID0gdGVtcFJlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uRnJhbWUpIHtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lID0gdGVtcFJlY3Q7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IHNvdXJjZUZyYW1lLndpZHRoO1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gc291cmNlRnJhbWUuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZpZXdwb3J0RnJhbWUueCA9IGRlc3RpbmF0aW9uRnJhbWUueCAqIHJlc29sdXRpb247XG4gICAgICAgIHZpZXdwb3J0RnJhbWUueSA9IGRlc3RpbmF0aW9uRnJhbWUueSAqIHJlc29sdXRpb247XG4gICAgICAgIHZpZXdwb3J0RnJhbWUud2lkdGggPSBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmlld3BvcnRGcmFtZS5oZWlnaHQgPSBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIHJlc29sdXRpb247XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuYmluZChmcmFtZWJ1ZmZlciwgdmlld3BvcnRGcmFtZSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucHJvamVjdGlvbi51cGRhdGUoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIHJlc29sdXRpb24sICFmcmFtZWJ1ZmZlcik7XG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLm1hc2suc2V0TWFza1N0YWNrKGJhc2VUZXh0dXJlLm1hc2tTdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLm1hc2suc2V0TWFza1N0YWNrKHRoaXMuZGVmYXVsdE1hc2tTdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZS5jb3B5RnJvbShzb3VyY2VGcmFtZSk7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZS5jb3B5RnJvbShkZXN0aW5hdGlvbkZyYW1lKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVyYXNlcyB0aGUgcmVuZGVyIHRleHR1cmUgYW5kIGZpbGxzIHRoZSBkcmF3aW5nIGFyZWEgd2l0aCBhIGNvbG91clxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gW2NsZWFyQ29sb3JdIC0gVGhlIGNvbG9yIGFzIHJnYmEsIGRlZmF1bHQgdG8gdXNlIHRoZSByZW5kZXJlciBiYWNrZ3JvdW5kQ29sb3JcbiAgICAgKiBAcGFyYW0ge1BJWEkuQlVGRkVSX0JJVFN9IFttYXNrPUJVRkZFUl9CSVRTLkNPTE9SIHwgQlVGRkVSX0JJVFMuREVQVEhdIC0gQml0d2lzZSBPUiBvZiBtYXNrc1xuICAgICAqICB0aGF0IGluZGljYXRlIHRoZSBidWZmZXJzIHRvIGJlIGNsZWFyZWQsIGJ5IGRlZmF1bHQgQ09MT1IgYW5kIERFUFRIIGJ1ZmZlcnMuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoY2xlYXJDb2xvciwgbWFzaykge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50KSB7XG4gICAgICAgICAgICBjbGVhckNvbG9yID0gY2xlYXJDb2xvciB8fCB0aGlzLmN1cnJlbnQuYmFzZVRleHR1cmUuY2xlYXJDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNsZWFyQ29sb3IgPSBjbGVhckNvbG9yIHx8IHRoaXMuY2xlYXJDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmNsZWFyKGNsZWFyQ29sb3JbMF0sIGNsZWFyQ29sb3JbMV0sIGNsZWFyQ29sb3JbMl0sIGNsZWFyQ29sb3JbM10sIG1hc2spO1xuICAgIH07XG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyByZXNpemUgdGhlIHJvb3Qgb25seSFcbiAgICAgICAgdGhpcy5iaW5kKG51bGwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHJlbmRlclRleHR1cmUgc3RhdGVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5iaW5kKG51bGwpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbmRlclRleHR1cmVTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG52YXIgSUdMVW5pZm9ybURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSUdMVW5pZm9ybURhdGEoKSB7XG4gICAgfVxuICAgIHJldHVybiBJR0xVbmlmb3JtRGF0YTtcbn0oKSk7XG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBXZWJHTCBQcm9ncmFtXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR0xQcm9ncmFtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIE1ha2VzIGEgbmV3IFBpeGkgcHJvZ3JhbVxuICAgICAqXG4gICAgICogQHBhcmFtIHByb2dyYW0ge1dlYkdMUHJvZ3JhbX0gd2ViZ2wgcHJvZ3JhbVxuICAgICAqIEBwYXJhbSB1bmlmb3JtRGF0YSB7T2JqZWN0fSB1bmlmb3Jtc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdMUHJvZ3JhbShwcm9ncmFtLCB1bmlmb3JtRGF0YSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNoYWRlciBwcm9ncmFtXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUHJvZ3JhbX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBob2xkcyB0aGUgdW5pZm9ybSBkYXRhIHdoaWNoIGNvbnRhaW5zIHVuaWZvcm0gbG9jYXRpb25zXG4gICAgICAgICAqIGFuZCBjdXJyZW50IHVuaWZvcm0gdmFsdWVzIHVzZWQgZm9yIGNhY2hpbmcgYW5kIHByZXZlbnRpbmcgdW5uZWVkZWQgR1BVIGNvbW1hbmRzXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5pZm9ybURhdGEgPSB1bmlmb3JtRGF0YTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVuaWZvcm1Hcm91cHMgaG9sZHMgdGhlIHZhcmlvdXMgdXBsb2FkIGZ1bmN0aW9ucyBmb3IgdGhlIHNoYWRlci4gRWFjaCB1bmlmb3JtIGdyb3VwXG4gICAgICAgICAqIGFuZCBwcm9ncmFtIGhhdmUgYSB1bmlxdWUgdXBsb2FkIGZ1bmN0aW9uIGdlbmVyYXRlZC5cbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51bmlmb3JtR3JvdXBzID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgcHJvZ3JhbVxuICAgICAqL1xuICAgIEdMUHJvZ3JhbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMudW5pZm9ybUdyb3VwcyA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gR0xQcm9ncmFtO1xufSgpKTtcblxudmFyIFVJRCQ0ID0gMDtcbi8vIGRlZnVhbHQgc3luYyBkYXRhIHNvIHdlIGRvbid0IGNyZWF0ZSBhIG5ldyBvbmUgZWFjaCB0aW1lIVxudmFyIGRlZmF1bHRTeW5jRGF0YSA9IHsgdGV4dHVyZUNvdW50OiAwIH07XG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzaGFkZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqL1xudmFyIFNoYWRlclN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2hhZGVyU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNoYWRlclN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIC8vIFZhbGlkYXRpb24gY2hlY2sgdGhhdCB0aGlzIGVudmlyb25tZW50IHN1cHBvcnQgYG5ldyBGdW5jdGlvbmBcbiAgICAgICAgX3RoaXMuc3lzdGVtQ2hlY2soKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdsID0gbnVsbDtcbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMucHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSB0byBob2xkcyB0aGUgZ2VuZXJhdGVkIGZ1bmN0aW9ucy4gU3RvcmVkIGFnYWluc3QgVW5pZm9ybU9iamVjdHMgdW5pcXVlIHNpZ25hdHVyZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FjaGUgPSB7fTtcbiAgICAgICAgX3RoaXMuaWQgPSBVSUQkNCsrO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlYWJsZSBmdW5jdGlvbiBieSBgQHBpeGkvdW5zYWZlLWV2YWxgIHRvIHNpbGVuY2VcbiAgICAgKiB0aHJvd2luZyBhbiBlcnJvciBpZiBwbGF0Zm9ybSBkb2Vzbid0IHN1cHBvcnQgdW5zYWZlLWV2YWxzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnN5c3RlbUNoZWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXVuc2FmZUV2YWxTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDdXJyZW50IGVudmlyb25tZW50IGRvZXMgbm90IGFsbG93IHVuc2FmZS1ldmFsLCAnXG4gICAgICAgICAgICAgICAgKyAncGxlYXNlIHVzZSBAcGl4aS91bnNhZmUtZXZhbCBtb2R1bGUgdG8gZW5hYmxlIHN1cHBvcnQuJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIChnbCkge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgc2hhZGVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgLSB0aGUgbmV3IHNoYWRlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RvbnRTeW5jXSAtIGZhbHNlIGlmIHRoZSBzaGFkZXIgc2hvdWxkIGF1dG9tYXRpY2FsbHkgc3luYyBpdHMgdW5pZm9ybXMuXG4gICAgICogQHJldHVybnMge1BJWEkuR0xQcm9ncmFtfSB0aGUgZ2xQcm9ncmFtIHRoYXQgYmVsb25ncyB0byB0aGUgc2hhZGVyLlxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChzaGFkZXIsIGRvbnRTeW5jKSB7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy5nbG9iYWxzID0gdGhpcy5yZW5kZXJlci5nbG9iYWxVbmlmb3JtcztcbiAgICAgICAgdmFyIHByb2dyYW0gPSBzaGFkZXIucHJvZ3JhbTtcbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IHByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmdlbmVyYXRlU2hhZGVyKHNoYWRlcik7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gc2hhZGVyO1xuICAgICAgICAvLyBUT0RPIC0gc29tZSBjdXJyZW50IFBpeGkgcGx1Z2lucyBieXBhc3MgdGhpcy4uIHNvIGl0IG5vdCBzYWZlIHRvIHVzZSB5ZXQuLlxuICAgICAgICBpZiAodGhpcy5wcm9ncmFtICE9PSBwcm9ncmFtKSB7XG4gICAgICAgICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKGdsUHJvZ3JhbS5wcm9ncmFtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRvbnRTeW5jKSB7XG4gICAgICAgICAgICBkZWZhdWx0U3luY0RhdGEudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMuc3luY1VuaWZvcm1Hcm91cChzaGFkZXIudW5pZm9ybUdyb3VwLCBkZWZhdWx0U3luY0RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnbFByb2dyYW07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB1bmlmb3JtcyB2YWx1ZXMgdG8gdGhlIGN1cnJlbnRseSBib3VuZCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdW5pZm9ybXMgLSB0aGUgdW5pZm9ybXMgdmFsdWVzIHRoYXQgYmUgYXBwbGllZCB0byB0aGUgY3VycmVudCBzaGFkZXJcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnNldFVuaWZvcm1zID0gZnVuY3Rpb24gKHVuaWZvcm1zKSB7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnNoYWRlci5wcm9ncmFtO1xuICAgICAgICB2YXIgZ2xQcm9ncmFtID0gc2hhZGVyLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG4gICAgICAgIHNoYWRlci5zeW5jVW5pZm9ybXMoZ2xQcm9ncmFtLnVuaWZvcm1EYXRhLCB1bmlmb3JtcywgdGhpcy5yZW5kZXJlcik7XG4gICAgfTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzICovXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBzeW5jcyB1bmlmb3JtcyBvbiB0aGUgZ3JvdXBcbiAgICAgKiBAcGFyYW0geyp9IGdyb3VwIC0gdGhlIHVuaWZvcm0gZ3JvdXAgdG8gc3luY1xuICAgICAqIEBwYXJhbSB7Kn0gW3N5bmNEYXRhXSAtIHRoaXMgaXMgZGF0YSB0aGF0IGlzIHBhc3NlZCB0byB0aGUgc3luYyBmdW5jdGlvbiBhbmQgYW55IG5lc3RlZCBzeW5jIGZ1bmN0aW9uc1xuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuc3luY1VuaWZvcm1Hcm91cCA9IGZ1bmN0aW9uIChncm91cCwgc3luY0RhdGEpIHtcbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IHRoaXMuZ2V0Z2xQcm9ncmFtKCk7XG4gICAgICAgIGlmICghZ3JvdXAuc3RhdGljIHx8IGdyb3VwLmRpcnR5SWQgIT09IGdsUHJvZ3JhbS51bmlmb3JtR3JvdXBzW2dyb3VwLmlkXSkge1xuICAgICAgICAgICAgZ2xQcm9ncmFtLnVuaWZvcm1Hcm91cHNbZ3JvdXAuaWRdID0gZ3JvdXAuZGlydHlJZDtcbiAgICAgICAgICAgIHRoaXMuc3luY1VuaWZvcm1zKGdyb3VwLCBnbFByb2dyYW0sIHN5bmNEYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVhYmxlIGJ5IHRoZSBAcGl4aS91bnNhZmUtZXZhbCBwYWNrYWdlIHRvIHVzZSBzdGF0aWNcbiAgICAgKiBzeW5jVW5mb3JtcyBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnN5bmNVbmlmb3JtcyA9IGZ1bmN0aW9uIChncm91cCwgZ2xQcm9ncmFtLCBzeW5jRGF0YSkge1xuICAgICAgICB2YXIgc3luY0Z1bmMgPSBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF0gfHwgdGhpcy5jcmVhdGVTeW5jR3JvdXBzKGdyb3VwKTtcbiAgICAgICAgc3luY0Z1bmMoZ2xQcm9ncmFtLnVuaWZvcm1EYXRhLCBncm91cC51bmlmb3JtcywgdGhpcy5yZW5kZXJlciwgc3luY0RhdGEpO1xuICAgIH07XG4gICAgLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5jcmVhdGVTeW5jR3JvdXBzID0gZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuZ2V0U2lnbmF0dXJlKGdyb3VwLCB0aGlzLnNoYWRlci5wcm9ncmFtLnVuaWZvcm1EYXRhKTtcbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlW2lkXSkge1xuICAgICAgICAgICAgdGhpcy5jYWNoZVtpZF0gPSBnZW5lcmF0ZVVuaWZvcm1zU3luYyhncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdID0gdGhpcy5jYWNoZVtpZF07XG4gICAgICAgIHJldHVybiBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIHVuaWZvcm0gZ3JvdXAgYW5kIGRhdGEgYW5kIGdlbmVyYXRlcyBhIHVuaXF1ZSBzaWduYXR1cmUgZm9yIHRoZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVW5pZm9ybUdyb3VwfSBncm91cCAtIHRoZSB1bmlmb3JtIGdyb3VwIHRvIGdldCBzaWduYXR1cmUgb2ZcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybURhdGEgLSB1bmlmb3JtIGluZm9ybWF0aW9uIGdlbmVyYXRlZCBieSB0aGUgc2hhZGVyXG4gICAgICogQHJldHVybnMge1N0cmluZ30gVW5pcXVlIHNpZ25hdHVyZSBvZiB0aGUgdW5pZm9ybSBncm91cFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5nZXRTaWduYXR1cmUgPSBmdW5jdGlvbiAoZ3JvdXAsIHVuaWZvcm1EYXRhKSB7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IGdyb3VwLnVuaWZvcm1zO1xuICAgICAgICB2YXIgc3RyaW5ncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpIGluIHVuaWZvcm1zKSB7XG4gICAgICAgICAgICBzdHJpbmdzLnB1c2goaSk7XG4gICAgICAgICAgICBpZiAodW5pZm9ybURhdGFbaV0pIHtcbiAgICAgICAgICAgICAgICBzdHJpbmdzLnB1c2godW5pZm9ybURhdGFbaV0udHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmluZ3Muam9pbignLScpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdW5kZXJseWluZyBHTFNoYWRlIHJvZiB0aGUgY3VycmVudGx5IGJvdW5kIHNoYWRlci5cbiAgICAgKiBUaGlzIGNhbiBiZSBoYW5keSBmb3Igd2hlbiB5b3UgdG8gaGF2ZSBhIGxpdHRsZSBtb3JlIGNvbnRyb2wgb3ZlciB0aGUgc2V0dGluZyBvZiB5b3VyIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HTFByb2dyYW19IHRoZSBnbFByb2dyYW0gZm9yIHRoZSBjdXJyZW50bHkgYm91bmQgU2hhZGVyIGZvciB0aGlzIGNvbnRleHRcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmdldGdsUHJvZ3JhbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIucHJvZ3JhbS5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgZ2xQcm9ncmFtIHZlcnNpb24gb2YgdGhlIFNoYWRlciBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIC0gdGhlIHNoYWRlciB0aGF0IHRoZSBnbFByb2dyYW0gd2lsbCBiZSBiYXNlZCBvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdMUHJvZ3JhbX0gQSBzaGlueSBuZXcgZ2xQcm9ncmFtIVxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuZ2VuZXJhdGVTaGFkZXIgPSBmdW5jdGlvbiAoc2hhZGVyKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBwcm9ncmFtID0gc2hhZGVyLnByb2dyYW07XG4gICAgICAgIHZhciBhdHRyaWJNYXAgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBwcm9ncmFtLmF0dHJpYnV0ZURhdGEpIHtcbiAgICAgICAgICAgIGF0dHJpYk1hcFtpXSA9IHByb2dyYW0uYXR0cmlidXRlRGF0YVtpXS5sb2NhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2hhZGVyUHJvZ3JhbSA9IGNvbXBpbGVQcm9ncmFtKGdsLCBwcm9ncmFtLnZlcnRleFNyYywgcHJvZ3JhbS5mcmFnbWVudFNyYywgYXR0cmliTWFwKTtcbiAgICAgICAgdmFyIHVuaWZvcm1EYXRhID0ge307XG4gICAgICAgIGZvciAodmFyIGkgaW4gcHJvZ3JhbS51bmlmb3JtRGF0YSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBwcm9ncmFtLnVuaWZvcm1EYXRhW2ldO1xuICAgICAgICAgICAgdW5pZm9ybURhdGFbaV0gPSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCBpKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZGVmYXVsdFZhbHVlKGRhdGEudHlwZSwgZGF0YS5zaXplKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IG5ldyBHTFByb2dyYW0oc2hhZGVyUHJvZ3JhbSwgdW5pZm9ybURhdGEpO1xuICAgICAgICBwcm9ncmFtLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0gPSBnbFByb2dyYW07XG4gICAgICAgIHJldHVybiBnbFByb2dyYW07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgU2hhZGVyU3lzdGVtIHN0YXRlLCBkb2VzIG5vdCBhZmZlY3QgV2ViR0wgc3RhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIFN5c3RlbSBhbmQgcmVtb3ZlcyBhbGwgaXRzIHRleHR1cmVzXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBUT0RPIGltcGxlbWVudCBkZXN0cm95IG1ldGhvZCBmb3IgU2hhZGVyU3lzdGVtXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBTaGFkZXJTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIE1hcHMgZ2wgYmxlbmQgY29tYmluYXRpb25zIHRvIFdlYkdMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHJlbmRlcmluZyBjb250ZXh0LlxuICogQHBhcmFtIHtudW1iZXJbXVtdfSBbYXJyYXk9W11dIC0gVGhlIGFycmF5IHRvIG91dHB1dCBpbnRvLlxuICogQHJldHVybiB7bnVtYmVyW11bXX0gTWFwcGVkIG1vZGVzLlxuICovXG5mdW5jdGlvbiBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkoZ2wsIGFycmF5KSB7XG4gICAgaWYgKGFycmF5ID09PSB2b2lkIDApIHsgYXJyYXkgPSBbXTsgfVxuICAgIC8vIFRPRE8gLSBwcmVtdWx0aXBseSBhbHBoYSB3b3VsZCBiZSBkaWZmZXJlbnQuXG4gICAgLy8gYWRkIGEgYm9vbGVhbiBmb3IgdGhhdCFcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT1JNQUxdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQUREXSA9IFtnbC5PTkUsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTVVMVElQTFldID0gW2dsLkRTVF9DT0xPUiwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQ1JFRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUiwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5PVkVSTEFZXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRBUktFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5MSUdIVEVOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkNPTE9SX0RPREdFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkNPTE9SX0JVUk5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuSEFSRF9MSUdIVF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TT0ZUX0xJR0hUXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRJRkZFUkVOQ0VdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRVhDTFVTSU9OXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkhVRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQVRVUkFUSU9OXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkNPTE9SXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkxVTUlOT1NJVFldID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTk9ORV0gPSBbMCwgMF07XG4gICAgLy8gbm90LXByZW11bHRpcGxpZWQgYmxlbmQgbW9kZXNcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQUREX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORSwgZ2wuT05FXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1IsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgLy8gY29tcG9zaXRlIG9wZXJhdGlvbnNcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TUkNfSU5dID0gW2dsLkRTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX09VVF0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX0FUT1BdID0gW2dsLkRTVF9BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX09WRVJdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX0lOXSA9IFtnbC5aRVJPLCBnbC5TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9PVVRdID0gW2dsLlpFUk8sIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9BVE9QXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlhPUl0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgLy8gU1VCVFJBQ1QgZnJvbSBmbGFzaFxuICAgIGFycmF5W0JMRU5EX01PREVTLlNVQlRSQUNUXSA9IFtnbC5PTkUsIGdsLk9ORSwgZ2wuT05FLCBnbC5PTkUsIGdsLkZVTkNfUkVWRVJTRV9TVUJUUkFDVCwgZ2wuRlVOQ19BRERdO1xuICAgIHJldHVybiBhcnJheTtcbn1cblxudmFyIEJMRU5EJDEgPSAwO1xudmFyIE9GRlNFVCQxID0gMTtcbnZhciBDVUxMSU5HJDEgPSAyO1xudmFyIERFUFRIX1RFU1QkMSA9IDM7XG52YXIgV0lORElORyQxID0gNDtcbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIFdlYkdMIHN0YXRlIG1hY2hpbmVzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIFN0YXRlU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGF0ZVN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGF0ZVN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdMIGNvbnRleHRcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdsID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0YXRlIElEXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZUlkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvbHlnb24gb2Zmc2V0XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb2x5Z29uT2Zmc2V0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJsZW5kIG1vZGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PTkVcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT05FO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBjdXJyZW50IGJsZW5kIGVxdWF0aW9uIGlzIGRpZmZlcmVudFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmxlbmRFcSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBjYWxsc1xuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcCA9IFtdO1xuICAgICAgICAvLyBtYXAgZnVuY3Rpb25zIGZvciB3aGVuIHdlIHNldCBzdGF0ZS4uXG4gICAgICAgIF90aGlzLm1hcFtCTEVORCQxXSA9IF90aGlzLnNldEJsZW5kO1xuICAgICAgICBfdGhpcy5tYXBbT0ZGU0VUJDFdID0gX3RoaXMuc2V0T2Zmc2V0O1xuICAgICAgICBfdGhpcy5tYXBbQ1VMTElORyQxXSA9IF90aGlzLnNldEN1bGxGYWNlO1xuICAgICAgICBfdGhpcy5tYXBbREVQVEhfVEVTVCQxXSA9IF90aGlzLnNldERlcHRoVGVzdDtcbiAgICAgICAgX3RoaXMubWFwW1dJTkRJTkckMV0gPSBfdGhpcy5zZXRGcm9udEZhY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGNoZWNrIGNhbGxzXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2hlY2tzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IFdlYkdMIFN0YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVmYXVsdFN0YXRlID0gbmV3IFN0YXRlKCk7XG4gICAgICAgIF90aGlzLmRlZmF1bHRTdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoZ2wpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLmJsZW5kTW9kZXMgPSBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkoZ2wpO1xuICAgICAgICB0aGlzLnNldCh0aGlzLmRlZmF1bHRTdGF0ZSk7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gc3RhdGUgLSBUaGUgc3RhdGUgdG8gc2V0LlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB0aGlzLmRlZmF1bHRTdGF0ZTtcbiAgICAgICAgLy8gVE9ETyBtYXliZSB0byBhbiBvYmplY3QgY2hlY2s/ICggdGhpcy5zdGF0ZSA9PT0gc3RhdGUgKT9cbiAgICAgICAgaWYgKHRoaXMuc3RhdGVJZCAhPT0gc3RhdGUuZGF0YSkge1xuICAgICAgICAgICAgdmFyIGRpZmYgPSB0aGlzLnN0YXRlSWQgXiBzdGF0ZS5kYXRhO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgLy8gb3JkZXIgZnJvbSBsZWFzdCB0byBtb3N0IGNvbW1vblxuICAgICAgICAgICAgd2hpbGUgKGRpZmYpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlmZiAmIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhdGUgY2hhbmdlIVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcFtpXS5jYWxsKHRoaXMsICEhKHN0YXRlLmRhdGEgJiAoMSA8PCBpKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaWZmID0gZGlmZiA+PiAxO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhdGVJZCA9IHN0YXRlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYmFzZWQgb24gdGhlIGFib3ZlIHNldHRpbmdzIHdlIGNoZWNrIGZvciBzcGVjaWZpYyBtb2Rlcy4uXG4gICAgICAgIC8vIGZvciBleGFtcGxlIGlmIGJsZW5kIGlzIGFjdGl2ZSB3ZSBjaGVjayBhbmQgc2V0IHRoZSBibGVuZCBtb2Rlc1xuICAgICAgICAvLyBvciBvZiBwb2x5Z29uIG9mZnNldCBpcyBhY3RpdmUgd2UgY2hlY2sgdGhlIHBvbHkgZGVwdGguXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGVja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzW2ldKHRoaXMsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhdGUsIHdoZW4gcHJldmlvdXMgc3RhdGUgaXMgdW5rbm93blxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBzdGF0ZSAtIFRoZSBzdGF0ZSB0byBzZXRcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuZm9yY2VTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICBzdGF0ZSA9IHN0YXRlIHx8IHRoaXMuZGVmYXVsdFN0YXRlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWFwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLm1hcFtpXS5jYWxsKHRoaXMsICEhKHN0YXRlLmRhdGEgJiAoMSA8PCBpKSkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGVja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzW2ldKHRoaXMsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlSWQgPSBzdGF0ZS5kYXRhO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBvciBkaXNhYmxlZCBibGVuZGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBibGVuZGluZy5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0QmxlbmQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVDaGVjayhTdGF0ZVN5c3RlbS5jaGVja0JsZW5kTW9kZSwgdmFsdWUpO1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQkxFTkQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBvciBkaXNhYmxlIHBvbHlnb24gb2Zmc2V0IGZpbGxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBwb2x5Z29uIG9mZnNldCB0ZXN0aW5nLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRPZmZzZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVDaGVjayhTdGF0ZVN5c3RlbS5jaGVja1BvbHlnb25PZmZzZXQsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLlBPTFlHT05fT0ZGU0VUX0ZJTEwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGRlcHRoIHRlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgZGVwdGggdGVzdGluZy5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0RGVwdGhUZXN0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5ERVBUSF9URVNUKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZSBjdWxsIGZhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgY3VsbCBmYWNlLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRDdWxsRmFjZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQ1VMTF9GQUNFKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdsIGZyb250IGZhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gdHJ1ZSBpcyBjbG9ja3dpc2UgYW5kIGZhbHNlIGlzIGNvdW50ZXItY2xvY2t3aXNlXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldEZyb250RmFjZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmdsLmZyb250RmFjZSh0aGlzLmdsW3ZhbHVlID8gJ0NXJyA6ICdDQ1cnXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIGJsZW5kIG1vZGUgdG8gc2V0IHRvLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRCbGVuZE1vZGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLmJsZW5kTW9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgICAgIHZhciBtb2RlID0gdGhpcy5ibGVuZE1vZGVzW3ZhbHVlXTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKG1vZGUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmMobW9kZVswXSwgbW9kZVsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmNTZXBhcmF0ZShtb2RlWzBdLCBtb2RlWzFdLCBtb2RlWzJdLCBtb2RlWzNdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kZS5sZW5ndGggPT09IDYpIHtcbiAgICAgICAgICAgIHRoaXMuX2JsZW5kRXEgPSB0cnVlO1xuICAgICAgICAgICAgZ2wuYmxlbmRFcXVhdGlvblNlcGFyYXRlKG1vZGVbNF0sIG1vZGVbNV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2JsZW5kRXEpIHtcbiAgICAgICAgICAgIHRoaXMuX2JsZW5kRXEgPSBmYWxzZTtcbiAgICAgICAgICAgIGdsLmJsZW5kRXF1YXRpb25TZXBhcmF0ZShnbC5GVU5DX0FERCwgZ2wuRlVOQ19BREQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb2x5Z29uIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIHRoZSBwb2x5Z29uIG9mZnNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSAtIHRoZSBwb2x5Z29uIG9mZnNldCBzY2FsZVxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRQb2x5Z29uT2Zmc2V0ID0gZnVuY3Rpb24gKHZhbHVlLCBzY2FsZSkge1xuICAgICAgICB0aGlzLmdsLnBvbHlnb25PZmZzZXQodmFsdWUsIHNjYWxlKTtcbiAgICB9O1xuICAgIC8vIHVzZWRcbiAgICAvKipcbiAgICAgKiBSZXNldHMgYWxsIHRoZSBsb2dpYyBhbmQgZGlzYWJsZXMgdGhlIHZhb3NcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZ2wucGl4ZWxTdG9yZWkodGhpcy5nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZm9yY2VTdGF0ZSh0aGlzLmRlZmF1bHRTdGF0ZSk7XG4gICAgICAgIHRoaXMuX2JsZW5kRXEgPSB0cnVlO1xuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IC0xO1xuICAgICAgICB0aGlzLnNldEJsZW5kTW9kZSgwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGNoZWNrcyB0byBzZWUgd2hpY2ggdXBkYXRlcyBzaG91bGQgYmUgY2hlY2tlZCBiYXNlZCBvbiB3aGljaCBzZXR0aW5ncyBoYXZlIGJlZW4gYWN0aXZhdGVkLlxuICAgICAqIEZvciBleGFtcGxlLCBpZiBibGVuZCBpcyBlbmFibGVkIHRoZW4gd2Ugc2hvdWxkIGNoZWNrIHRoZSBibGVuZCBtb2RlcyBlYWNoIHRpbWUgdGhlIHN0YXRlIGlzIGNoYW5nZWRcbiAgICAgKiBvciBpZiBwb2x5Z29uIGZpbGwgaXMgYWN0aXZhdGVkIHRoZW4gd2UgbmVlZCB0byBjaGVjayBpZiB0aGUgcG9seWdvbiBvZmZzZXQgY2hhbmdlcy5cbiAgICAgKiBUaGUgaWRlYSBpcyB0aGF0IHdlIG9ubHkgY2hlY2sgd2hhdCB3ZSBoYXZlIHRvby5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgLSB0aGUgY2hlY2tpbmcgZnVuY3Rpb24gdG8gYWRkIG9yIHJlbW92ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBzaG91bGQgdGhlIGNoZWNrIGZ1bmN0aW9uIGJlIGFkZGVkIG9yIHJlbW92ZWQuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZUNoZWNrID0gZnVuY3Rpb24gKGZ1bmMsIHZhbHVlKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hlY2tzLmluZGV4T2YoZnVuYyk7XG4gICAgICAgIGlmICh2YWx1ZSAmJiBpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzLnB1c2goZnVuYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXZhbHVlICYmIGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5jaGVja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBwcml2YXRlIGxpdHRsZSB3cmFwcGVyIGZ1bmN0aW9uIHRoYXQgd2UgY2FsbCB0byBjaGVjayB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZVN5c3RlbX0gU3lzdGVtIC0gdGhlIFN5c3RlbSB0byBwZXJmb3JtIHRoZSBzdGF0ZSBjaGVjayBvblxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZX0gc3RhdGUgLSB0aGUgc3RhdGUgdGhhdCB0aGUgYmxlbmRNb2RlIHdpbGwgcHVsbGVkIGZyb21cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5jaGVja0JsZW5kTW9kZSA9IGZ1bmN0aW9uIChzeXN0ZW0sIHN0YXRlKSB7XG4gICAgICAgIHN5c3RlbS5zZXRCbGVuZE1vZGUoc3RhdGUuYmxlbmRNb2RlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgcHJpdmF0ZSBsaXR0bGUgd3JhcHBlciBmdW5jdGlvbiB0aGF0IHdlIGNhbGwgdG8gY2hlY2sgdGhlIHBvbHlnb24gb2Zmc2V0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlU3lzdGVtfSBTeXN0ZW0gLSB0aGUgU3lzdGVtIHRvIHBlcmZvcm0gdGhlIHN0YXRlIGNoZWNrIG9uXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlfSBzdGF0ZSAtIHRoZSBzdGF0ZSB0aGF0IHRoZSBibGVuZE1vZGUgd2lsbCBwdWxsZWQgZnJvbVxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLmNoZWNrUG9seWdvbk9mZnNldCA9IGZ1bmN0aW9uIChzeXN0ZW0sIHN0YXRlKSB7XG4gICAgICAgIHN5c3RlbS5zZXRQb2x5Z29uT2Zmc2V0KDEsIHN0YXRlLnBvbHlnb25PZmZzZXQpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRlU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGV4dHVyZSBnYXJiYWdlIGNvbGxlY3Rpb24gb24gdGhlIEdQVSxcbiAqIGVuc3VyaW5nIHRoYXQgaXQgZG9lcyBub3QgZ2V0IGNsb2dnZWQgdXAgd2l0aCB0ZXh0dXJlcyB0aGF0IGFyZSBubyBsb25nZXIgYmVpbmcgdXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKi9cbnZhciBUZXh0dXJlR0NTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRleHR1cmVHQ1N5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlR0NTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3VudFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY291bnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgY291bnRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNoZWNrQ291bnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSBpZGxlIHRpbWUsIGluIHNlY29uZHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuR0NfTUFYX0lETEVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1heElkbGUgPSBzZXR0aW5ncy5HQ19NQVhfSURMRTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1heGltdW0gbnVtYmVyIG9mIGl0ZW0gdG8gY2hlY2tcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuR0NfTUFYX0NIRUNLX0NPVU5UXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jaGVja0NvdW50TWF4ID0gc2V0dGluZ3MuR0NfTUFYX0NIRUNLX0NPVU5UO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBnYXJhYmFnZSBjb2xsZWN0aW9uIG1vZGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HQ19NT0RFU31cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkdDX01PREVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1vZGUgPSBzZXR0aW5ncy5HQ19NT0RFO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZFxuICAgICAqIGlmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVXG4gICAgICovXG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZS5wb3N0cmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMucmVuZGVyZXIucmVuZGVyaW5nVG9TY3JlZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvdW50Kys7XG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09IEdDX01PREVTLk1BTlVBTCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hlY2tDb3VudCsrO1xuICAgICAgICBpZiAodGhpcy5jaGVja0NvdW50ID4gdGhpcy5jaGVja0NvdW50TWF4KSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQ291bnQgPSAwO1xuICAgICAgICAgICAgdGhpcy5ydW4oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSB3aGVuIHRoZSBsYXN0IHRpbWUgYSB0ZXh0dXJlIHdhcyB1c2VkXG4gICAgICogaWYgdGhlIHRleHR1cmUgaGFzIG5vdCBiZWVuIHVzZWQgZm9yIGEgc3BlY2lmaWVkIGFtb3VudCBvZiB0aW1lIGl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFVcbiAgICAgKi9cbiAgICBUZXh0dXJlR0NTeXN0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRtID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlO1xuICAgICAgICB2YXIgbWFuYWdlZFRleHR1cmVzID0gdG0ubWFuYWdlZFRleHR1cmVzO1xuICAgICAgICB2YXIgd2FzUmVtb3ZlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hbmFnZWRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBtYW5hZ2VkVGV4dHVyZXNbaV07XG4gICAgICAgICAgICAvLyBvbmx5IHN1cHBvcnRzIG5vbiBnZW5lcmF0ZWQgdGV4dHVyZXMgYXQgdGhlIG1vbWVudCFcbiAgICAgICAgICAgIGlmICghdGV4dHVyZS5mcmFtZWJ1ZmZlciAmJiB0aGlzLmNvdW50IC0gdGV4dHVyZS50b3VjaGVkID4gdGhpcy5tYXhJZGxlKSB7XG4gICAgICAgICAgICAgICAgdG0uZGVzdHJveVRleHR1cmUodGV4dHVyZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgICAgICAgICB3YXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAod2FzUmVtb3ZlZCkge1xuICAgICAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobWFuYWdlZFRleHR1cmVzW2ldICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tqKytdID0gbWFuYWdlZFRleHR1cmVzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlcy5sZW5ndGggPSBqO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCB0aGUgdGV4dHVyZXMgd2l0aGluIHRoZSBzcGVjaWZpZWQgZGlzcGxheU9iamVjdCBhbmQgaXRzIGNoaWxkcmVuIGZyb20gdGhlIEdQVVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheU9iamVjdCB0byByZW1vdmUgdGhlIHRleHR1cmVzIGZyb20uXG4gICAgICovXG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZS51bmxvYWQgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZTtcbiAgICAgICAgLy8gb25seSBkZXN0cm95IG5vbiBnZW5lcmF0ZWQgdGV4dHVyZXNcbiAgICAgICAgaWYgKChfYSA9IGRpc3BsYXlPYmplY3QuX3RleHR1cmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgdG0uZGVzdHJveVRleHR1cmUoZGlzcGxheU9iamVjdC5fdGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHRoaXMudW5sb2FkKGRpc3BsYXlPYmplY3QuY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGV4dHVyZUdDU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBJbnRlcm5hbCB0ZXh0dXJlIGZvciBXZWJHTCBjb250ZXh0XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHTFRleHR1cmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR0xUZXh0dXJlKHRleHR1cmUpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCB0ZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaWR0aCBvZiB0ZXh0dXJlIHRoYXQgd2FzIHVzZWQgaW4gdGV4SW1hZ2UyRFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIZWlnaHQgb2YgdGV4dHVyZSB0aGF0IHdhcyB1c2VkIGluIHRleEltYWdlMkRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHR1cmUgY29udGVudHMgZGlydHkgZmxhZ1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHR1cmUgc3R5bGUgZGlydHkgZmxhZ1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBtaXAgbGV2ZWxzIGhhcyB0byBiZSBnZW5lcmF0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWlwbWFwID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXcmFwTW9kZSBjb3BpZWQgZnJvbSBiYXNlVGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndyYXBNb2RlID0gMzMwNzE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBlIGNvcGllZCBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IDY0MDg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBlIGNvcGllZCBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW50ZXJuYWxGb3JtYXQgPSA1MTIxO1xuICAgIH1cbiAgICByZXR1cm4gR0xUZXh0dXJlO1xufSgpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGV4dHVyZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgVGV4dHVyZVN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGV4dHVyZVN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvLyBUT0RPIHNldCB0byBtYXggdGV4dHVyZXMuLi5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvdW5kIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmVbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZFRleHR1cmVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGxvY2F0aW9uXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50TG9jYXRpb24gPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgbWFuYWdlZCB0ZXh0dXJlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFuYWdlZFRleHR1cmVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgc29tZW9uZSB0ZW1wZXIgd2l0aCB0ZXh0dXJlcyBzdGF0ZT8gV2UnbGwgb3ZlcndyaXRlIHRoZW0gd2hlbiB3ZSBuZWVkIHRvIHVuYmluZCBzb21ldGhpbmcuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhc2VUZXh0dXJlIHZhbHVlIHRoYXQgc2hvd3MgdGhhdCB3ZSBkb24ndCBrbm93IHdoYXQgaXMgYm91bmRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bmtub3duVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZSgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcbiAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uO1xuICAgICAgICB2YXIgbWF4VGV4dHVyZXMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpO1xuICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoID0gbWF4VGV4dHVyZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIG1vdmUgdGhpcy4uIHRvIGEgbmljZSBtYWtlIGVtcHR5IHRleHR1cmVzIGNsYXNzLi5cbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzID0ge307XG4gICAgICAgIHZhciBlbXB0eVRleHR1cmUyRCA9IG5ldyBHTFRleHR1cmUoZ2wuY3JlYXRlVGV4dHVyZSgpKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZW1wdHlUZXh0dXJlMkQudGV4dHVyZSk7XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgMSwgMSwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbmV3IFVpbnQ4QXJyYXkoNCkpO1xuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV8yRF0gPSBlbXB0eVRleHR1cmUyRDtcbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfQ1VCRV9NQVBdID0gbmV3IEdMVGV4dHVyZShnbC5jcmVhdGVUZXh0dXJlKCkpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFX0NVQkVfTUFQLCB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV9DVUJFX01BUF0udGV4dHVyZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGksIDAsIGdsLlJHQkEsIDEsIDEsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYmluZChudWxsLCBpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZCBhIHRleHR1cmUgdG8gYSBzcGVjaWZpYyBsb2NhdGlvblxuICAgICAqXG4gICAgICogSWYgeW91IHdhbnQgdG8gdW5iaW5kIHNvbWV0aGluZywgcGxlYXNlIHVzZSBgdW5iaW5kKHRleHR1cmUpYCBpbnN0ZWFkIG9mIGBiaW5kKG51bGwsIHRleHR1cmVMb2NhdGlvbilgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZXxQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlXyAtIFRleHR1cmUgdG8gYmluZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG9jYXRpb249MF0gLSBMb2NhdGlvbiB0byBiaW5kIGF0XG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBsb2NhdGlvbikge1xuICAgICAgICBpZiAobG9jYXRpb24gPT09IHZvaWQgMCkgeyBsb2NhdGlvbiA9IDA7IH1cbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKHRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmNhc3RUb0Jhc2VUZXh0dXJlKCk7XG4gICAgICAgICAgICBpZiAodGV4dHVyZS5wYXJlbnRUZXh0dXJlQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAvLyBjYW5ub3QgYmluZCBwYXJ0aWFsIHRleHR1cmVcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiByZXBvcnQgYSB3YXJuaW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLnRvdWNoZWQgPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVHQy5jb3VudDtcbiAgICAgICAgICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmluaXRUZXh0dXJlKHRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dICE9PSB0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKHRleHR1cmUudGFyZ2V0LCBnbFRleHR1cmUudGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChnbFRleHR1cmUuZGlydHlJZCAhPT0gdGV4dHVyZS5kaXJ0eUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IHRleHR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfMkRdLnRleHR1cmUpO1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0ZXh0dXJlIGxvY2F0aW9uIGFuZCBib3VuZCB0ZXh0dXJlc1xuICAgICAqXG4gICAgICogQWN0dWFsIGBiaW5kKG51bGwsIGkpYCBjYWxscyB3aWxsIGJlIHBlcmZvcm1lZCBhdCBuZXh0IGB1bmJpbmQoKWAgY2FsbFxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IHRydWU7XG4gICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gLTE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSB0aGlzLnVua25vd25UZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbmJpbmQgYSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBiaW5kXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgYm91bmRUZXh0dXJlcyA9IF9hLmJvdW5kVGV4dHVyZXM7XG4gICAgICAgIGlmICh0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcykge1xuICAgICAgICAgICAgdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHNvbWVvbmUgY2hhbmdlZCB3ZWJHTCBzdGF0ZSxcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgdG8gYmUgc3VyZSB0aGF0IG91ciB0ZXh0dXJlIGRvZXMgbm90IGFwcGVhciBpbiBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyIHNhbXBsZXJzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoYm91bmRUZXh0dXJlc1tpXSA9PT0gdGhpcy51bmtub3duVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJpbmQobnVsbCwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGJvdW5kVGV4dHVyZXNbaV0gPT09IHRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuZW1wdHlUZXh0dXJlc1t0ZXh0dXJlLnRhcmdldF0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgYm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gaW5pdGlhbGl6ZVxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmluaXRUZXh0dXJlID0gZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsVGV4dHVyZSA9IG5ldyBHTFRleHR1cmUodGhpcy5nbC5jcmVhdGVUZXh0dXJlKCkpO1xuICAgICAgICAvLyBndWFyYW50ZWUgYW4gdXBkYXRlLi5cbiAgICAgICAgZ2xUZXh0dXJlLmRpcnR5SWQgPSAtMTtcbiAgICAgICAgdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSA9IGdsVGV4dHVyZTtcbiAgICAgICAgdGhpcy5tYW5hZ2VkVGV4dHVyZXMucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgdGV4dHVyZS5vbignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuICAgICAgICByZXR1cm4gZ2xUZXh0dXJlO1xuICAgIH07XG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuaW5pdFRleHR1cmVUeXBlID0gZnVuY3Rpb24gKHRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgICAgICBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQgPSB0ZXh0dXJlLmZvcm1hdDtcbiAgICAgICAgZ2xUZXh0dXJlLnR5cGUgPSB0ZXh0dXJlLnR5cGU7XG4gICAgICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiAhPT0gMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGlmICh0ZXh0dXJlLnR5cGUgPT09IGdsLkZMT0FUXG4gICAgICAgICAgICAmJiB0ZXh0dXJlLmZvcm1hdCA9PT0gZ2wuUkdCQSkge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTMyRjtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGF0J3MgV2ViR0wxIEhBTEZfRkxPQVRfT0VTXG4gICAgICAgIC8vIHdlIGhhdmUgdG8gY29udmVydCBpdCB0byBXZWJHTCBIQUxGX0ZMT0FUXG4gICAgICAgIGlmICh0ZXh0dXJlLnR5cGUgPT09IFRZUEVTLkhBTEZfRkxPQVQpIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS50eXBlID0gZ2wuSEFMRl9GTE9BVDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2xUZXh0dXJlLnR5cGUgPT09IGdsLkhBTEZfRkxPQVRcbiAgICAgICAgICAgICYmIHRleHR1cmUuZm9ybWF0ID09PSBnbC5SR0JBKSB7XG4gICAgICAgICAgICBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQgPSBnbC5SR0JBMTZGO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gaW5pdGlhbGl6ZVxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZVRleHR1cmUgPSBmdW5jdGlvbiAodGV4dHVyZSkge1xuICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgaWYgKCFnbFRleHR1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB0aGlzLmluaXRUZXh0dXJlVHlwZSh0ZXh0dXJlLCBnbFRleHR1cmUpO1xuICAgICAgICBpZiAodGV4dHVyZS5yZXNvdXJjZSAmJiB0ZXh0dXJlLnJlc291cmNlLnVwbG9hZChyZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKSkgO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRlZmF1bHQsIHJlbmRlclRleHR1cmUtbGlrZSBsb2dpY1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGV4dHVyZS5yZWFsSGVpZ2h0O1xuICAgICAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoICE9PSB3aWR0aFxuICAgICAgICAgICAgICAgIHx8IGdsVGV4dHVyZS5oZWlnaHQgIT09IGhlaWdodFxuICAgICAgICAgICAgICAgIHx8IGdsVGV4dHVyZS5kaXJ0eUlkIDwgMCkge1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRCh0ZXh0dXJlLnRhcmdldCwgMCwgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCAwLCB0ZXh0dXJlLmZvcm1hdCwgZ2xUZXh0dXJlLnR5cGUsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGxldHMgb25seSB1cGRhdGUgd2hhdCBjaGFuZ2VzLi5cbiAgICAgICAgaWYgKHRleHR1cmUuZGlydHlTdHlsZUlkICE9PSBnbFRleHR1cmUuZGlydHlTdHlsZUlkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmVTdHlsZSh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBnbFRleHR1cmUuZGlydHlJZCA9IHRleHR1cmUuZGlydHlJZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgdGhlIHRleHR1cmUgZnJvbSBXZWJHTFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfSB0ZXh0dXJlXyAtIHRoZSB0ZXh0dXJlIHRvIGRlc3Ryb3lcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwUmVtb3ZlPWZhbHNlXSAtIFdoZXRoZXIgdG8gc2tpcCByZW1vdmluZyB0aGUgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlTWFuYWdlci5cbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95VGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBza2lwUmVtb3ZlKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmNhc3RUb0Jhc2VUZXh0dXJlKCk7XG4gICAgICAgIGlmICh0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICB0aGlzLnVuYmluZCh0ZXh0dXJlKTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG4gICAgICAgICAgICBkZWxldGUgdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIGlmICghc2tpcFJlbW92ZSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gdGhpcy5tYW5hZ2VkVGV4dHVyZXMuaW5kZXhPZih0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5tYW5hZ2VkVGV4dHVyZXMsIGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRleHR1cmUgc3R5bGUgc3VjaCBhcyBtaXBtYXAgZmxhZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIHVwZGF0ZVxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZVRleHR1cmVTdHlsZSA9IGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoIWdsVGV4dHVyZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICgodGV4dHVyZS5taXBtYXAgPT09IE1JUE1BUF9NT0RFUy5QT1cyIHx8IHRoaXMud2ViR0xWZXJzaW9uICE9PSAyKSAmJiAhdGV4dHVyZS5pc1Bvd2VyT2ZUd28pIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5taXBtYXAgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5taXBtYXAgPSB0ZXh0dXJlLm1pcG1hcCA+PSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiAhPT0gMiAmJiAhdGV4dHVyZS5pc1Bvd2VyT2ZUd28pIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53cmFwTW9kZSA9IFdSQVBfTU9ERVMuQ0xBTVA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbFRleHR1cmUud3JhcE1vZGUgPSB0ZXh0dXJlLndyYXBNb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZXh0dXJlLnJlc291cmNlICYmIHRleHR1cmUucmVzb3VyY2Uuc3R5bGUodGhpcy5yZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKSkgO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3R5bGUodGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBnbFRleHR1cmUuZGlydHlTdHlsZUlkID0gdGV4dHVyZS5kaXJ0eVN0eWxlSWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgc3R5bGUgZm9yIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKGdsVGV4dHVyZS5taXBtYXApIHtcbiAgICAgICAgICAgIGdsLmdlbmVyYXRlTWlwbWFwKHRleHR1cmUudGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX1dSQVBfUywgZ2xUZXh0dXJlLndyYXBNb2RlKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsVGV4dHVyZS53cmFwTW9kZSk7XG4gICAgICAgIGlmIChnbFRleHR1cmUubWlwbWFwKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01JTl9GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID09PSBTQ0FMRV9NT0RFUy5MSU5FQVIgPyBnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUiA6IGdsLk5FQVJFU1RfTUlQTUFQX05FQVJFU1QpO1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgdmFyIGFuaXNvdHJvcGljRXh0ID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuYW5pc290cm9waWNGaWx0ZXJpbmc7XG4gICAgICAgICAgICBpZiAoYW5pc290cm9waWNFeHQgJiYgdGV4dHVyZS5hbmlzb3Ryb3BpY0xldmVsID4gMCAmJiB0ZXh0dXJlLnNjYWxlTW9kZSA9PT0gU0NBTEVfTU9ERVMuTElORUFSKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxldmVsID0gTWF0aC5taW4odGV4dHVyZS5hbmlzb3Ryb3BpY0xldmVsLCBnbC5nZXRQYXJhbWV0ZXIoYW5pc290cm9waWNFeHQuTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKSk7XG4gICAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyZih0ZXh0dXJlLnRhcmdldCwgYW5pc290cm9waWNFeHQuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsIGxldmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgdGV4dHVyZS5zY2FsZU1vZGUgPT09IFNDQUxFX01PREVTLkxJTkVBUiA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuICAgICAgICB9XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgdGV4dHVyZS5zY2FsZU1vZGUgPT09IFNDQUxFX01PREVTLkxJTkVBUiA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuICAgIH07XG4gICAgcmV0dXJuIFRleHR1cmVTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbXMgYXJlIGluZGl2aWR1YWwgY29tcG9uZW50cyB0byB0aGUgUmVuZGVyZXIgcGlwZWxpbmUuXG4gKiBAbmFtZXNwYWNlIFBJWEkuc3lzdGVtc1xuICovXG5cbnZhciBzeXN0ZW1zID0gKHtcbiAgICBGaWx0ZXJTeXN0ZW06IEZpbHRlclN5c3RlbSxcbiAgICBCYXRjaFN5c3RlbTogQmF0Y2hTeXN0ZW0sXG4gICAgQ29udGV4dFN5c3RlbTogQ29udGV4dFN5c3RlbSxcbiAgICBGcmFtZWJ1ZmZlclN5c3RlbTogRnJhbWVidWZmZXJTeXN0ZW0sXG4gICAgR2VvbWV0cnlTeXN0ZW06IEdlb21ldHJ5U3lzdGVtLFxuICAgIE1hc2tTeXN0ZW06IE1hc2tTeXN0ZW0sXG4gICAgU2Npc3NvclN5c3RlbTogU2Npc3NvclN5c3RlbSxcbiAgICBTdGVuY2lsU3lzdGVtOiBTdGVuY2lsU3lzdGVtLFxuICAgIFByb2plY3Rpb25TeXN0ZW06IFByb2plY3Rpb25TeXN0ZW0sXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbTogUmVuZGVyVGV4dHVyZVN5c3RlbSxcbiAgICBTaGFkZXJTeXN0ZW06IFNoYWRlclN5c3RlbSxcbiAgICBTdGF0ZVN5c3RlbTogU3RhdGVTeXN0ZW0sXG4gICAgVGV4dHVyZUdDU3lzdGVtOiBUZXh0dXJlR0NTeXN0ZW0sXG4gICAgVGV4dHVyZVN5c3RlbTogVGV4dHVyZVN5c3RlbVxufSk7XG5cbnZhciB0ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuLyoqXG4gKiBUaGUgQWJzdHJhY3RSZW5kZXJlciBpcyB0aGUgYmFzZSBmb3IgYSBQaXhpSlMgUmVuZGVyZXIuIEl0IGlzIGV4dGVuZGVkIGJ5IHRoZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlcn1cbiAqIGFuZCB7QGxpbmsgUElYSS5SZW5kZXJlcn0gd2hpY2ggY2FuIGJlIHVzZWQgZm9yIHJlbmRlcmluZyBhIFBpeGlKUyBzY2VuZS5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBYnN0cmFjdFJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBYnN0cmFjdFJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzeXN0ZW0gLSBUaGUgbmFtZSBvZiB0aGUgc3lzdGVtIHRoaXMgcmVuZGVyZXIgaXMgZm9yLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIFRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvRGVuc2l0eT1mYWxzZV0gLSBSZXNpemVzIHJlbmRlcmVyIHZpZXcgaW4gQ1NTIHBpeGVscyB0byBhbGxvdyBmb3JcbiAgICAgKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBTZXRzIGFudGlhbGlhc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLiBUaGVcbiAgICAgKiAgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyZXIgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gRW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sXG4gICAgICogIGVuYWJsZSB0aGlzIGlmIHlvdSBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSBXZWJHTCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICAgICAqICAgICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQWJzdHJhY3RSZW5kZXJlcih0eXBlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9IFJFTkRFUkVSX1RZUEUuVU5LTk9XTjsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvLyBBZGQgdGhlIGRlZmF1bHQgcmVuZGVyIG9wdGlvbnNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHNldHRpbmdzLlJFTkRFUl9PUFRJT05TLCBvcHRpb25zKTtcbiAgICAgICAgLy8gRGVwcmVjYXRpb24gbm90aWNlIGZvciByZW5kZXJlciByb3VuZFBpeGVscyBvcHRpb25cbiAgICAgICAgaWYgKG9wdGlvbnMucm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgIHNldHRpbmdzLlJPVU5EX1BJWEVMUyA9IG9wdGlvbnMucm91bmRQaXhlbHM7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4wLjAnLCAnUmVuZGVyZXIgcm91bmRQaXhlbHMgb3B0aW9uIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFMnLCAyKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN1cHBsaWVkIGNvbnN0cnVjdG9yIG9wdGlvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlJFTkRFUkVSX1RZUEUuVU5LTk9XTlxuICAgICAgICAgKiBAc2VlIFBJWEkuUkVOREVSRVJfVFlQRVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNZWFzdXJlbWVudHMgb2YgdGhlIHNjcmVlbi4gKDAsIDAsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJdHMgc2FmZSB0byB1c2UgYXMgZmlsdGVyQXJlYSBvciBoaXRBcmVhIGZvciB0aGUgd2hvbGUgc3RhZ2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2NyZWVuID0gbmV3IFJlY3RhbmdsZSgwLCAwLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpZXcgPSBvcHRpb25zLnZpZXcgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbiB8fCBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50cmFuc3BhcmVudCA9IG9wdGlvbnMudHJhbnNwYXJlbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIENTUyBkaW1lbnNpb25zIG9mIGNhbnZhcyB2aWV3IHNob3VsZCBiZSByZXNpemVkIHRvIHNjcmVlbiBkaW1lbnNpb25zIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvRGVuc2l0eSA9IG9wdGlvbnMuYXV0b0RlbnNpdHkgfHwgb3B0aW9ucy5hdXRvUmVzaXplIHx8IGZhbHNlO1xuICAgICAgICAvLyBhdXRvUmVzaXplIGlzIGRlcHJlY2F0ZWQsIHByb3ZpZGVzIGZhbGxiYWNrIHN1cHBvcnRcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2YWx1ZSBvZiB0aGUgcHJlc2VydmVEcmF3aW5nQnVmZmVyIGZsYWcgYWZmZWN0cyB3aGV0aGVyIG9yIG5vdCB0aGUgY29udGVudHMgb2ZcbiAgICAgICAgICogdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIHJldGFpbmVkIGFmdGVyIHJlbmRlcmluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IG9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBzZXRzIGlmIHRoZSBDYW52YXNSZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3Igbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAgICAgKiBJZiB0aGUgc2NlbmUgaXMgTk9UIHRyYW5zcGFyZW50IFBpeGlKUyB3aWxsIHVzZSBhIGNhbnZhcyBzaXplZCBmaWxsUmVjdCBvcGVyYXRpb24gZXZlcnlcbiAgICAgICAgICogZnJhbWUgdG8gc2V0IHRoZSBjYW52YXMgYmFja2dyb3VuZCBjb2xvci4gSWYgdGhlIHNjZW5lIGlzIHRyYW5zcGFyZW50IFBpeGlKUyB3aWxsIHVzZSBjbGVhclJlY3RcbiAgICAgICAgICogdG8gY2xlYXIgdGhlIGNhbnZhcyBldmVyeSBmcmFtZS4gRGlzYWJsZSB0aGlzIGJ5IHNldHRpbmcgdGhpcyB0byBmYWxzZS4gRm9yIGV4YW1wbGUsIGlmXG4gICAgICAgICAqIHlvdXIgZ2FtZSBoYXMgYSBjYW52YXMgZmlsbGluZyBiYWNrZ3JvdW5kIGltYWdlIHlvdSBvZnRlbiBkb24ndCBuZWVkIHRoaXMgc2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2xlYXJCZWZvcmVSZW5kZXIgPSBvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYSBudW1iZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhY2tncm91bmRDb2xvciA9IDB4MDAwMDAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYW4gW1IsIEcsIEJdIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBbMCwgMCwgMCwgMF07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhIHN0cmluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gJyMwMDAwMDAnO1xuICAgICAgICBfdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBvcHRpb25zLmJhY2tncm91bmRDb2xvciB8fCBfdGhpcy5fYmFja2dyb3VuZENvbG9yOyAvLyBydW4gYmcgY29sb3Igc2V0dGVyXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCByb290IG9iamVjdCB0aGF0IHRoZSByZW5kZXJlciB0cmllZCB0byByZW5kZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIHBsdWdpbnMuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbHVnaW5zID0ge307XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgcGx1Z2lucy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3RhdGljTWFwIC0gVGhlIGRpY3Rpb25hcnkgb2Ygc3RhdGljYWxseSBzYXZlZCBwbHVnaW5zLlxuICAgICAqL1xuICAgIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLmluaXRQbHVnaW5zID0gZnVuY3Rpb24gKHN0YXRpY01hcCkge1xuICAgICAgICBmb3IgKHZhciBvIGluIHN0YXRpY01hcCkge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dID0gbmV3IChzdGF0aWNNYXBbb10pKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2FtZSBhcyB2aWV3LndpZHRoLCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IGhvcml6b250YWwuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IDgwMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3LndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYW1lIGFzIHZpZXcuaGVpZ2h0LCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IHZlcnRpY2FsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlldy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBzY3JlZW4gYW5kIGNhbnZhcyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICogQ2FudmFzIGRpbWVuc2lvbnMgYXJlIG11bHRpcGxpZWQgYnkgcmVzb2x1dGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIFRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuSGVpZ2h0IC0gVGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKi9cbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCkge1xuICAgICAgICB0aGlzLnNjcmVlbi53aWR0aCA9IHNjcmVlbldpZHRoO1xuICAgICAgICB0aGlzLnNjcmVlbi5oZWlnaHQgPSBzY3JlZW5IZWlnaHQ7XG4gICAgICAgIHRoaXMudmlldy53aWR0aCA9IHNjcmVlbldpZHRoICogdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnZpZXcuaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICBpZiAodGhpcy5hdXRvRGVuc2l0eSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnN0eWxlLndpZHRoID0gc2NyZWVuV2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLnZpZXcuc3R5bGUuaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBhZnRlciB2aWV3IGhhcyBiZWVuIHJlc2l6ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLlJlbmRlcmVyI3Jlc2l6ZVxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuV2lkdGggLSBUaGUgbmV3IHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSBUaGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbWl0KCdyZXNpemUnLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWZ1bCBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB0ZXh0dXJlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGNhbiB0aGVuIGJlIHVzZWQgdG8gY3JlYXRlIHNwcml0ZXNcbiAgICAgKiBUaGlzIGNhbiBiZSBxdWl0ZSB1c2VmdWwgaWYgeW91ciBkaXNwbGF5T2JqZWN0IGlzIGNvbXBsaWNhdGVkIGFuZCBuZWVkcyB0byBiZSByZXVzZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5T2JqZWN0IHRoZSBvYmplY3Qgd2lsbCBiZSBnZW5lcmF0ZWQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuU0NBTEVfTU9ERVN9IHNjYWxlTW9kZSAtIFRoZSBzY2FsZSBtb2RlIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWdpb25dIC0gVGhlIHJlZ2lvbiBvZiB0aGUgZGlzcGxheU9iamVjdCwgdGhhdCBzaGFsbCBiZSByZW5kZXJlZCxcbiAgICAgKiAgICAgICAgaWYgbm8gcmVnaW9uIGlzIHNwZWNpZmllZCwgZGVmYXVsdHMgdG8gdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IEEgdGV4dHVyZSBvZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqL1xuICAgIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLmdlbmVyYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIChkaXNwbGF5T2JqZWN0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24sIHJlZ2lvbikge1xuICAgICAgICByZWdpb24gPSByZWdpb24gfHwgZGlzcGxheU9iamVjdC5nZXRMb2NhbEJvdW5kcyhudWxsLCB0cnVlKTtcbiAgICAgICAgLy8gbWluaW11bSB0ZXh0dXJlIHNpemUgaXMgMXgxLCAweDAgd2lsbCB0aHJvdyBhbiBlcnJvclxuICAgICAgICBpZiAocmVnaW9uLndpZHRoID09PSAwKVxuICAgICAgICAgICAgeyByZWdpb24ud2lkdGggPSAxOyB9XG4gICAgICAgIGlmIChyZWdpb24uaGVpZ2h0ID09PSAwKVxuICAgICAgICAgICAgeyByZWdpb24uaGVpZ2h0ID0gMTsgfVxuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKHtcbiAgICAgICAgICAgIHdpZHRoOiByZWdpb24ud2lkdGggfCAwLFxuICAgICAgICAgICAgaGVpZ2h0OiByZWdpb24uaGVpZ2h0IHwgMCxcbiAgICAgICAgICAgIHNjYWxlTW9kZTogc2NhbGVNb2RlLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbixcbiAgICAgICAgfSk7XG4gICAgICAgIHRlbXBNYXRyaXgudHggPSAtcmVnaW9uLng7XG4gICAgICAgIHRlbXBNYXRyaXgudHkgPSAtcmVnaW9uLnk7XG4gICAgICAgIHRoaXMucmVuZGVyKGRpc3BsYXlPYmplY3QsIHJlbmRlclRleHR1cmUsIGZhbHNlLCB0ZW1wTWF0cml4LCAhIWRpc3BsYXlPYmplY3QucGFyZW50KTtcbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgYW5kIG9wdGlvbmFsbHkgcmVtb3ZlcyB0aGUgQ2FudmFzIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICovXG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChyZW1vdmVWaWV3KSB7XG4gICAgICAgIGZvciAodmFyIG8gaW4gdGhpcy5wbHVnaW5zKSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10uZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVtb3ZlVmlldyAmJiB0aGlzLnZpZXcucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy52aWV3KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0FueSA9IHRoaXM7XG4gICAgICAgIC8vIG51bGwtaW5nIGFsbCBvYmplY3RzLCB0aGF0J3MgYSB0cmFkaXRpb24hXG4gICAgICAgIHRoaXNBbnkucGx1Z2lucyA9IG51bGw7XG4gICAgICAgIHRoaXNBbnkudHlwZSA9IFJFTkRFUkVSX1RZUEUuVU5LTk9XTjtcbiAgICAgICAgdGhpc0FueS52aWV3ID0gbnVsbDtcbiAgICAgICAgdGhpc0FueS5zY3JlZW4gPSBudWxsO1xuICAgICAgICB0aGlzQW55Ll90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXNBbnkub3B0aW9ucyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBudWxsO1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSBudWxsO1xuICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLCBcImJhY2tncm91bmRDb2xvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciB0byBmaWxsIGlmIG5vdCB0cmFuc3BhcmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9IGhleDJzdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgaGV4MnJnYih2YWx1ZSwgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQWJzdHJhY3RSZW5kZXJlcjtcbn0oRXZlbnRFbWl0dGVyKSk7XG5cbi8qKlxuICogVGhlIFJlbmRlcmVyIGRyYXdzIHRoZSBzY2VuZSBhbmQgYWxsIGl0cyBjb250ZW50IG9udG8gYSBXZWJHTCBlbmFibGVkIGNhbnZhcy5cbiAqXG4gKiBUaGlzIHJlbmRlcmVyIHNob3VsZCBiZSB1c2VkIGZvciBicm93c2VycyB0aGF0IHN1cHBvcnQgV2ViR0wuXG4gKlxuICogVGhpcyByZW5kZXJlciB3b3JrcyBieSBhdXRvbWF0aWNhbGx5IG1hbmFnaW5nIFdlYkdMQmF0Y2hlc20sIHNvIG5vIG5lZWQgZm9yIFNwcml0ZSBCYXRjaGVzIG9yIFNwcml0ZSBDbG91ZHMuXG4gKiBEb24ndCBmb3JnZXQgdG8gYWRkIHRoZSB2aWV3IHRvIHlvdXIgRE9NIG9yIHlvdSB3aWxsIG5vdCBzZWUgYW55dGhpbmchXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5BYnN0cmFjdFJlbmRlcmVyXG4gKi9cbnZhciBSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVuZGVyZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gVGhlIHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gVGhlIGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gVGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9EZW5zaXR5PWZhbHNlXSAtIFJlc2l6ZXMgcmVuZGVyZXIgdmlldyBpbiBDU1MgcGl4ZWxzIHRvIGFsbG93IGZvclxuICAgICAqICAgcmVzb2x1dGlvbnMgb3RoZXIgdGhhbiAxLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIFNldHMgYW50aWFsaWFzLiBJZiBub3QgYXZhaWxhYmxlIG5hdGl2ZWx5IHRoZW4gRlhBQVxuICAgICAqICBhbnRpYWxpYXNpbmcgaXMgdXNlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci5cbiAgICAgKiAgVGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlcmVyIHJldGluYSB3b3VsZCBiZSAyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXJcbiAgICAgKiAgdGhlIGNhbnZhcyBvciBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuIElmIHlvdSB3aXNoIHRvIHNldCB0aGlzIHRvIGZhbHNlLCB5b3UgKm11c3QqIHNldFxuICAgICAqICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXIgdG8gYHRydWVgLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIEVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLFxuICAgICAqICBlbmFibGUgdGhpcyBpZiB5b3UgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgV2ViR0wgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byBXZWJHTCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAgICAgKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLmNvbnRleHRdIC0gSWYgV2ViR0wgY29udGV4dCBhbHJlYWR5IGV4aXN0cywgYWxsIHBhcmFtZXRlcnMgbXVzdCBiZSB0YWtlbiBmcm9tIGl0LlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZW5kZXJlcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFJFTkRFUkVSX1RZUEUuV0VCR0wsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIC8vIHRoZSBvcHRpb25zIHdpbGwgaGF2ZSBiZWVuIG1vZGlmaWVkIGhlcmUgaW4gdGhlIHN1cGVyIGNvbnN0cnVjdG9yIHdpdGggcGl4aSdzIGRlZmF1bHQgc2V0dGluZ3MuLlxuICAgICAgICBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlYkdMIGNvbnRleHQsIHNldCBieSB0aGUgY29udGV4dFN5c3RlbSAodGhpcy5jb250ZXh0KVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2wgPSBudWxsO1xuICAgICAgICBfdGhpcy5DT05URVhUX1VJRCA9IDA7XG4gICAgICAgIC8vIFRPRE8gbGVnYWN5IVxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgc2lnbmFsIGluc3RhbmNlcyBvZiAqKnJ1bm5lcioqLCB0aGVzZVxuICAgICAgICAgKiBhcmUgYXNzaWduZWQgdG8gZWFjaCBzeXN0ZW0gY3JlYXRlZC5cbiAgICAgICAgICogQHNlZSBQSVhJLlJ1bm5lclxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJlbmRlcmVyI3J1bm5lcnNcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IGRlc3Ryb3kgLSBEZXN0cm95IHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBjb250ZXh0Q2hhbmdlIC0gQ29udGV4dCBjaGFuZ2UgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHJlc2V0IC0gUmVzZXQgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHVwZGF0ZSAtIFVwZGF0ZSBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcG9zdHJlbmRlciAtIFBvc3QtcmVuZGVyIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBwcmVyZW5kZXIgLSBQcmUtcmVuZGVyIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSByZXNpemUgLSBSZXNpemUgcnVubmVyXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ydW5uZXJzID0ge1xuICAgICAgICAgICAgZGVzdHJveTogbmV3IFJ1bm5lcignZGVzdHJveScpLFxuICAgICAgICAgICAgY29udGV4dENoYW5nZTogbmV3IFJ1bm5lcignY29udGV4dENoYW5nZScpLFxuICAgICAgICAgICAgcmVzZXQ6IG5ldyBSdW5uZXIoJ3Jlc2V0JyksXG4gICAgICAgICAgICB1cGRhdGU6IG5ldyBSdW5uZXIoJ3VwZGF0ZScpLFxuICAgICAgICAgICAgcG9zdHJlbmRlcjogbmV3IFJ1bm5lcigncG9zdHJlbmRlcicpLFxuICAgICAgICAgICAgcHJlcmVuZGVyOiBuZXcgUnVubmVyKCdwcmVyZW5kZXInKSxcbiAgICAgICAgICAgIHJlc2l6ZTogbmV3IFJ1bm5lcigncmVzaXplJyksXG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHbG9iYWwgdW5pZm9ybXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Vbmlmb3JtR3JvdXB9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nbG9iYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgICAgICAgcHJvamVjdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5NYXNrU3lzdGVtfSBtYXNrXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFkZFN5c3RlbShNYXNrU3lzdGVtLCAnbWFzaycpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbnRleHQgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuQ29udGV4dFN5c3RlbX0gY29udGV4dFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShDb250ZXh0U3lzdGVtLCAnY29udGV4dCcpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFN0YXRlIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlN0YXRlU3lzdGVtfSBzdGF0ZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTdGF0ZVN5c3RlbSwgJ3N0YXRlJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2hhZGVyIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlNoYWRlclN5c3RlbX0gc2hhZGVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFNoYWRlclN5c3RlbSwgJ3NoYWRlcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRleHR1cmUgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuVGV4dHVyZVN5c3RlbX0gdGV4dHVyZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShUZXh0dXJlU3lzdGVtLCAndGV4dHVyZScpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdlb21ldHJ5IHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkdlb21ldHJ5U3lzdGVtfSBnZW9tZXRyeVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShHZW9tZXRyeVN5c3RlbSwgJ2dlb21ldHJ5JylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRnJhbWVidWZmZXIgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuRnJhbWVidWZmZXJTeXN0ZW19IGZyYW1lYnVmZmVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEZyYW1lYnVmZmVyU3lzdGVtLCAnZnJhbWVidWZmZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTY2lzc29yIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlNjaXNzb3JTeXN0ZW19IHNjaXNzb3JcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU2Npc3NvclN5c3RlbSwgJ3NjaXNzb3InKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTdGVuY2lsIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlN0ZW5jaWxTeXN0ZW19IHN0ZW5jaWxcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU3RlbmNpbFN5c3RlbSwgJ3N0ZW5jaWwnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQcm9qZWN0aW9uIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlByb2plY3Rpb25TeXN0ZW19IHByb2plY3Rpb25cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oUHJvamVjdGlvblN5c3RlbSwgJ3Byb2plY3Rpb24nKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZXh0dXJlIGdhcmJhZ2UgY29sbGVjdG9yIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlRleHR1cmVHQ1N5c3RlbX0gdGV4dHVyZUdDXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFRleHR1cmVHQ1N5c3RlbSwgJ3RleHR1cmVHQycpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZpbHRlciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShGaWx0ZXJTeXN0ZW0sICdmaWx0ZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZW5kZXJUZXh0dXJlIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlJlbmRlclRleHR1cmVTeXN0ZW19IHJlbmRlclRleHR1cmVcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oUmVuZGVyVGV4dHVyZVN5c3RlbSwgJ3JlbmRlclRleHR1cmUnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCYXRjaCBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5CYXRjaFN5c3RlbX0gYmF0Y2hcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oQmF0Y2hTeXN0ZW0sICdiYXRjaCcpO1xuICAgICAgICBfdGhpcy5pbml0UGx1Z2lucyhSZW5kZXJlci5fX3BsdWdpbnMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9wdGlvbnMgcGFzc2VkIGluIHRvIGNyZWF0ZSBhIG5ldyBXZWJHTCBjb250ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKG9wdGlvbnMuY29udGV4dCkge1xuICAgICAgICAgICAgX3RoaXMuY29udGV4dC5pbml0RnJvbUNvbnRleHQob3B0aW9ucy5jb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmNvbnRleHQuaW5pdEZyb21PcHRpb25zKHtcbiAgICAgICAgICAgICAgICBhbHBoYTogISFfdGhpcy50cmFuc3BhcmVudCxcbiAgICAgICAgICAgICAgICBhbnRpYWxpYXM6IG9wdGlvbnMuYW50aWFsaWFzLFxuICAgICAgICAgICAgICAgIHByZW11bHRpcGxpZWRBbHBoYTogX3RoaXMudHJhbnNwYXJlbnQgJiYgX3RoaXMudHJhbnNwYXJlbnQgIT09ICdub3RNdWx0aXBsaWVkJyxcbiAgICAgICAgICAgICAgICBzdGVuY2lsOiB0cnVlLFxuICAgICAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsXG4gICAgICAgICAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiBfdGhpcy5vcHRpb25zLnBvd2VyUHJlZmVyZW5jZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGFnIGlmIHdlIGFyZSByZW5kZXJpbmcgdG8gdGhlIHNjcmVlbiB2cyByZW5kZXJUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9IHRydWU7XG4gICAgICAgIHNheUhlbGxvKF90aGlzLmNvbnRleHQud2ViR0xWZXJzaW9uID09PSAyID8gJ1dlYkdMIDInIDogJ1dlYkdMIDEnKTtcbiAgICAgICAgX3RoaXMucmVzaXplKF90aGlzLm9wdGlvbnMud2lkdGgsIF90aGlzLm9wdGlvbnMuaGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgcmVuZGVyZXIgaWYgV2ViR0wgaXMgYXZhaWxhYmxlLiBPdmVycmlkZWFibGVcbiAgICAgKiBieSB0aGUgKipAcGl4aS9jYW52YXMtcmVuZGVyZXIqKiBwYWNrYWdlIHRvIGFsbG93IGZhbGxiYWNrLlxuICAgICAqIHRocm93cyBlcnJvciBpZiBXZWJHTCBpcyBub3QgYXZhaWxhYmxlLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFJlbmRlcmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1dlYkdMU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVuZGVyZXIob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJHTCB1bnN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIsIHVzZSBcInBpeGkuanMtbGVnYWN5XCIgZm9yIGZhbGxiYWNrIGNhbnZhczJkIHN1cHBvcnQuJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYSBuZXcgc3lzdGVtIHRvIHRoZSByZW5kZXJlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDbGFzc1JlZiAtIENsYXNzIHJlZmVyZW5jZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gLSBQcm9wZXJ0eSBuYW1lIGZvciBzeXN0ZW0sIGlmIG5vdCBzcGVjaWZpZWRcbiAgICAgKiAgICAgICAgd2lsbCB1c2UgYSBzdGF0aWMgYG5hbWVgIHByb3BlcnR5IG9uIHRoZSBjbGFzcyBpdHNlbGYuIFRoaXNcbiAgICAgKiAgICAgICAgbmFtZSB3aWxsIGJlIGFzc2lnbmVkIGFzIHMgcHJvcGVydHkgb24gdGhlIFJlbmRlcmVyIHNvIG1ha2VcbiAgICAgKiAgICAgICAgc3VyZSBpdCBkb2Vzbid0IGNvbGxpZGUgd2l0aCBwcm9wZXJ0aWVzIG9uIFJlbmRlcmVyLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ9IFJldHVybiBpbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5hZGRTeXN0ZW0gPSBmdW5jdGlvbiAoQ2xhc3NSZWYsIG5hbWUpIHtcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICBuYW1lID0gQ2xhc3NSZWYubmFtZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3lzdGVtID0gbmV3IENsYXNzUmVmKHRoaXMpO1xuICAgICAgICBpZiAodGhpc1tuYW1lXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2hvb3BzISBUaGUgbmFtZSBcXFwiXCIgKyBuYW1lICsgXCJcXFwiIGlzIGFscmVhZHkgaW4gdXNlXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbbmFtZV0gPSBzeXN0ZW07XG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5ydW5uZXJzKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5lcnNbaV0uYWRkKHN5c3RlbSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGFmdGVyIHJlbmRlcmluZyBmaW5pc2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjcG9zdHJlbmRlclxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGJlZm9yZSByZW5kZXJpbmcgc3RhcnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNwcmVyZW5kZXJcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBXZWJHTCBjb250ZXh0IGlzIHNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjY29udGV4dFxuICAgICAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBXZWJHTCBjb250ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdG8gaXRzIFdlYkdMIHZpZXdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIG9iamVjdCB0byBiZSByZW5kZXJlZC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gW3JlbmRlclRleHR1cmVdIC0gVGhlIHJlbmRlciB0ZXh0dXJlIHRvIHJlbmRlciB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjbGVhcj10cnVlXSAtIFNob3VsZCB0aGUgY2FudmFzIGJlIGNsZWFyZWQgYmVmb3JlIHRoZSBuZXcgcmVuZGVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFt0cmFuc2Zvcm1dIC0gQSB0cmFuc2Zvcm0gdG8gYXBwbHkgdG8gdGhlIHJlbmRlciB0ZXh0dXJlIGJlZm9yZSByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZVRyYW5zZm9ybT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybSBwYXNzP1xuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCwgcmVuZGVyVGV4dHVyZSwgY2xlYXIsIHRyYW5zZm9ybSwgc2tpcFVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgICAvLyBjYW4gYmUgaGFuZHkgdG8ga25vdyFcbiAgICAgICAgdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9ICFyZW5kZXJUZXh0dXJlO1xuICAgICAgICB0aGlzLnJ1bm5lcnMucHJlcmVuZGVyLmVtaXQoKTtcbiAgICAgICAgdGhpcy5lbWl0KCdwcmVyZW5kZXInKTtcbiAgICAgICAgLy8gYXBwbHkgYSB0cmFuc2Zvcm0gYXQgYSBHUFUgbGV2ZWxcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgLy8gbm8gcG9pbnQgcmVuZGVyaW5nIGlmIG91ciBjb250ZXh0IGhhcyBiZWVuIGJsb3duIHVwIVxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmlzTG9zdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNraXBVcGRhdGVUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgc2NlbmUgZ3JhcGhcbiAgICAgICAgICAgIHZhciBjYWNoZVBhcmVudCA9IGRpc3BsYXlPYmplY3QuZW5hYmxlVGVtcFBhcmVudCgpO1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QuZGlzYWJsZVRlbXBQYXJlbnQoY2FjaGVQYXJlbnQpO1xuICAgICAgICAgICAgLy8gZGlzcGxheU9iamVjdC5oaXRBcmVhID0gLy9UT0RPIGFkZCBhIHRlbXAgaGl0IGFyZWFcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuYmluZChyZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5iYXRjaC5jdXJyZW50UmVuZGVyZXIuc3RhcnQoKTtcbiAgICAgICAgaWYgKGNsZWFyICE9PSB1bmRlZmluZWQgPyBjbGVhciA6IHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVyKHRoaXMpO1xuICAgICAgICAvLyBhcHBseSB0cmFuc2Zvcm0uLlxuICAgICAgICB0aGlzLmJhdGNoLmN1cnJlbnRSZW5kZXJlci5mbHVzaCgpO1xuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJ1bm5lcnMucG9zdHJlbmRlci5lbWl0KCk7XG4gICAgICAgIC8vIHJlc2V0IHRyYW5zZm9ybSBhZnRlciByZW5kZXJcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMuZW1pdCgncG9zdHJlbmRlcicpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgV2ViR0wgdmlldyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuV2lkdGggLSBUaGUgbmV3IHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbkhlaWdodCAtIFRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIChzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVzaXplLmNhbGwodGhpcywgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG4gICAgICAgIHRoaXMucnVubmVycy5yZXNpemUuZW1pdChzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgV2ViR0wgc3RhdGUgc28geW91IGNhbiByZW5kZXIgdGhpbmdzIGhvd2V2ZXIgeW91IGZhbmN5IVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJ1bm5lcnMucmVzZXQuZW1pdCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5iaW5kKCk7XG4gICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBldmVyeXRoaW5nIGZyb20gdGhlIHJlbmRlcmVyIChldmVudCBsaXN0ZW5lcnMsIHNwcml0ZWJhdGNoLCBldGMuLi4pXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW1vdmVWaWV3PWZhbHNlXSAtIFJlbW92ZXMgdGhlIENhbnZhcyBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgKiAgU2VlOiBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzIyMzNcbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChyZW1vdmVWaWV3KSB7XG4gICAgICAgIHRoaXMucnVubmVycy5kZXN0cm95LmVtaXQoKTtcbiAgICAgICAgZm9yICh2YXIgciBpbiB0aGlzLnJ1bm5lcnMpIHtcbiAgICAgICAgICAgIHRoaXMucnVubmVyc1tyXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2FsbCBiYXNlIGRlc3Ryb3lcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgcmVtb3ZlVmlldyk7XG4gICAgICAgIC8vIFRPRE8gbnVsbGlmeSBhbGwgdGhlIG1hbmFnZXJzLi5cbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcGx1Z2luIHRvIHRoZSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGx1Z2luTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3RvciAtIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBvciBjbGFzcyBmb3IgdGhlIHBsdWdpbi5cbiAgICAgKi9cbiAgICBSZW5kZXJlci5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIChwbHVnaW5OYW1lLCBjdG9yKSB7XG4gICAgICAgIFJlbmRlcmVyLl9fcGx1Z2lucyA9IFJlbmRlcmVyLl9fcGx1Z2lucyB8fCB7fTtcbiAgICAgICAgUmVuZGVyZXIuX19wbHVnaW5zW3BsdWdpbk5hbWVdID0gY3RvcjtcbiAgICB9O1xuICAgIHJldHVybiBSZW5kZXJlcjtcbn0oQWJzdHJhY3RSZW5kZXJlcikpO1xuXG4vKipcbiAqIFRoaXMgaGVscGVyIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSBkZXRlY3Qgd2hpY2ggcmVuZGVyZXIgeW91IHNob3VsZCBiZSB1c2luZy5cbiAqIFdlYkdMIGlzIHRoZSBwcmVmZXJyZWQgcmVuZGVyZXIgYXMgaXQgaXMgYSBsb3QgZmFzdGVyLiBJZiBXZWJHTCBpcyBub3Qgc3VwcG9ydGVkIGJ5XG4gKiB0aGUgYnJvd3NlciB0aGVuIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gYSBjYW52YXMgcmVuZGVyZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIGF1dG9EZXRlY3RSZW5kZXJlclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyZXJzIHZpZXdcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIHRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWxcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LCBkZWZhdWx0IGZhbHNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9EZW5zaXR5PWZhbHNlXSAtIFJlc2l6ZXMgcmVuZGVyZXIgdmlldyBpbiBDU1MgcGl4ZWxzIHRvIGFsbG93IGZvclxuICogICByZXNvbHV0aW9ucyBvdGhlciB0aGFuIDFcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIHNldHMgYW50aWFsaWFzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBlbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbiwgZW5hYmxlIHRoaXMgaWYgeW91XG4gKiAgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgd2ViZ2wgY29udGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gKiAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLCByZXRpbmEgd291bGQgYmUgMlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUNhbnZhcz1mYWxzZV0gLSBwcmV2ZW50cyBzZWxlY3Rpb24gb2YgV2ViR0wgcmVuZGVyZXIsIGV2ZW4gaWYgc3VjaCBpcyBwcmVzZW50LCB0aGlzXG4gKiAgIG9wdGlvbiBvbmx5IGlzIGF2YWlsYWJsZSB3aGVuIHVzaW5nICoqcGl4aS5qcy1sZWdhY3kqKiBvciAqKkBwaXhpL2NhbnZhcy1yZW5kZXJlcioqIG1vZHVsZXMsIG90aGVyd2lzZVxuICogICBpdCBpcyBpZ25vcmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIHdlYmdsIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICogIGZvciBkZXZpY2VzIHdpdGggZHVhbCBncmFwaGljcyBjYXJkICoqd2ViZ2wgb25seSoqXG4gKiBAcmV0dXJuIHtQSVhJLlJlbmRlcmVyfFBJWEkuQ2FudmFzUmVuZGVyZXJ9IFJldHVybnMgV2ViR0wgcmVuZGVyZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgQ2FudmFzUmVuZGVyZXJcbiAqL1xuZnVuY3Rpb24gYXV0b0RldGVjdFJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gUmVuZGVyZXIuY3JlYXRlKG9wdGlvbnMpO1xufVxuXG52YXIgX2RlZmF1bHQgPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cIjtcblxudmFyIGRlZmF1bHRGaWx0ZXIgPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG57XFxuICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBVc2VkIGJ5IHRoZSBiYXRjaGVyIHRvIGRyYXcgYmF0Y2hlcy5cbiAqIEVhY2ggb25lIG9mIHRoZXNlIGNvbnRhaW5zIGFsbCBpbmZvcm1hdGlvbiByZXF1aXJlZCB0byBkcmF3IGEgYm91bmQgZ2VvbWV0cnkuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmF0Y2hEcmF3Q2FsbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXRjaERyYXdDYWxsKCkge1xuICAgICAgICB0aGlzLnRleEFycmF5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ibGVuZCA9IDA7XG4gICAgICAgIHRoaXMudHlwZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRhdGEgZm9yIHVuaWZvcm1zIG9yIGN1c3RvbSB3ZWJnbCBzdGF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gQmF0Y2hEcmF3Q2FsbDtcbn0oKSk7XG5cbi8qKlxuICogVXNlZCBieSB0aGUgYmF0Y2hlciB0byBidWlsZCB0ZXh0dXJlIGJhdGNoZXMuXG4gKiBIb2xkcyBsaXN0IG9mIHRleHR1cmVzIGFuZCB0aGVpciByZXNwZWN0aXZlIGxvY2F0aW9ucy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXRjaFRleHR1cmVBcnJheSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXRjaFRleHR1cmVBcnJheSgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGluc2lkZSB0ZXh0dXJlcyBhcnJheVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVsZW1lbnRzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXNwZWN0aXZlIGxvY2F0aW9ucyBmb3IgdGV4dHVyZXNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlkcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogbnVtYmVyIG9mIGZpbGxlZCBlbGVtZW50c1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICB9XG4gICAgQmF0Y2hUZXh0dXJlQXJyYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY291bnQ7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50c1tpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgfTtcbiAgICByZXR1cm4gQmF0Y2hUZXh0dXJlQXJyYXk7XG59KCkpO1xuXG4vKipcbiAqIEZsZXhpYmxlIHdyYXBwZXIgYXJvdW5kIGBBcnJheUJ1ZmZlcmAgdGhhdCBhbHNvIHByb3ZpZGVzXG4gKiB0eXBlZCBhcnJheSB2aWV3cyBvbiBkZW1hbmQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVmlld2FibGVCdWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgYnVmZmVyIGluIGJ5dGVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFZpZXdhYmxlQnVmZmVyKHNpemUpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuZGVybHlpbmcgYEFycmF5QnVmZmVyYCB0aGF0IGhvbGRzIGFsbCB0aGUgZGF0YVxuICAgICAgICAgKiBhbmQgaXMgb2YgY2FwYWNpdHkgYHNpemVgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheUJ1ZmZlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmF3QmluYXJ5RGF0YSA9IG5ldyBBcnJheUJ1ZmZlcihzaXplKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBVaW50MzJBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51aW50MzJWaWV3ID0gbmV3IFVpbnQzMkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgRmxvYXQzMkFycmF5YC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mbG9hdDMyVmlldyA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJpbnQ4Vmlld1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgSW50OEFycmF5YC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SW50OEFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2ludDhWaWV3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW50OFZpZXcgPSBuZXcgSW50OEFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW50OFZpZXc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld2FibGVCdWZmZXIucHJvdG90eXBlLCBcInVpbnQ4Vmlld1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgVWludDhBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQ4QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdWludDhWaWV3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdWludDhWaWV3ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91aW50OFZpZXc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld2FibGVCdWZmZXIucHJvdG90eXBlLCBcImludDE2Vmlld1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgSW50MTZBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0ludDE2QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5faW50MTZWaWV3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW50MTZWaWV3ID0gbmV3IEludDE2QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnQxNlZpZXc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld2FibGVCdWZmZXIucHJvdG90eXBlLCBcInVpbnQxNlZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYFVpbnQxNkFycmF5YC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdWludDE2Vmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VpbnQxNlZpZXcgPSBuZXcgVWludDE2QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91aW50MTZWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJpbnQzMlZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDMyQXJyYXlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtJbnQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2ludDMyVmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludDMyVmlldyA9IG5ldyBJbnQzMkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW50MzJWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmlldyBvZiB0aGUgZ2l2ZW4gdHlwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gT25lIG9mIGBpbnQ4YCwgYHVpbnQ4YCwgYGludDE2YCxcbiAgICAgKiAgICBgdWludDE2YCwgYGludDMyYCwgYHVpbnQzMmAsIGFuZCBgZmxvYXQzMmAuXG4gICAgICogQHJldHVybiB7b2JqZWN0fSB0eXBlZCBhcnJheSBvZiBnaXZlbiB0eXBlXG4gICAgICovXG4gICAgVmlld2FibGVCdWZmZXIucHJvdG90eXBlLnZpZXcgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpc1t0eXBlICsgXCJWaWV3XCJdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgYWxsIGJ1ZmZlciByZWZlcmVuY2VzLiBEbyBub3QgdXNlIGFmdGVyIGNhbGxpbmdcbiAgICAgKiB0aGlzLlxuICAgICAqL1xuICAgIFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJhd0JpbmFyeURhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbnQ4VmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3VpbnQ4VmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ludDE2VmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3VpbnQxNlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbnQzMlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLnVpbnQzMlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLmZsb2F0MzJWaWV3ID0gbnVsbDtcbiAgICB9O1xuICAgIFZpZXdhYmxlQnVmZmVyLnNpemVPZiA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnaW50OCc6XG4gICAgICAgICAgICBjYXNlICd1aW50OCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICBjYXNlICdpbnQxNic6XG4gICAgICAgICAgICBjYXNlICd1aW50MTYnOlxuICAgICAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICAgICAgY2FzZSAnaW50MzInOlxuICAgICAgICAgICAgY2FzZSAndWludDMyJzpcbiAgICAgICAgICAgIGNhc2UgJ2Zsb2F0MzInOlxuICAgICAgICAgICAgICAgIHJldHVybiA0O1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodHlwZSArIFwiIGlzbid0IGEgdmFsaWQgdmlldyB0eXBlXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVmlld2FibGVCdWZmZXI7XG59KCkpO1xuXG4vKipcbiAqIFJlbmRlcmVyIGRlZGljYXRlZCB0byBkcmF3aW5nIGFuZCBiYXRjaGluZyBzcHJpdGVzLlxuICpcbiAqIFRoaXMgaXMgdGhlIGRlZmF1bHQgYmF0Y2ggcmVuZGVyZXIuIEl0IGJ1ZmZlcnMgb2JqZWN0c1xuICogd2l0aCB0ZXh0dXJlLWJhc2VkIGdlb21ldHJpZXMgYW5kIHJlbmRlcnMgdGhlbSBpblxuICogYmF0Y2hlcy4gSXQgdXBsb2FkcyBtdWx0aXBsZSB0ZXh0dXJlcyB0byB0aGUgR1BVIHRvXG4gKiByZWR1Y2UgdG8gdGhlIG51bWJlciBvZiBkcmF3IGNhbGxzLlxuICpcbiAqIEBjbGFzc1xuICogQHByb3RlY3RlZFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xudmFyIEFic3RyYWN0QmF0Y2hSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWJzdHJhY3RCYXRjaFJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIFRoaXMgd2lsbCBob29rIG9udG8gdGhlIHJlbmRlcmVyJ3MgYGNvbnRleHRDaGFuZ2VgXG4gICAgICogYW5kIGBwcmVyZW5kZXJgIHNpZ25hbHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0QmF0Y2hSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdXNlZCB0byBnZW5lcmF0ZSBhIHNoYWRlciB0aGF0IGNhblxuICAgICAgICAgKiBjb2xvciBlYWNoIHZlcnRleCBiYXNlZCBvbiBhIGBhVGV4dHVyZUlkYFxuICAgICAgICAgKiBhdHRyaWJ1dGUgdGhhdCBwb2ludHMgdG8gYW4gdGV4dHVyZSBpbiBgdVNhbXBsZXJgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGVuYWJsZXMgdGhlIG9iamVjdHMgd2l0aCBkaWZmZXJlbnQgdGV4dHVyZXNcbiAgICAgICAgICogdG8gYmUgZHJhd24gaW4gdGhlIHNhbWUgZHJhdyBjYWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBZb3UgY2FuIGN1c3RvbWl6ZSB5b3VyIHNoYWRlciBieSBjcmVhdGluZyB5b3VyXG4gICAgICAgICAqIGN1c3RvbSBzaGFkZXIgZ2VuZXJhdG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhdGNoU2hhZGVyR2VuZXJhdG9yfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFkZXJHZW5lcmF0b3IgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNsYXNzIHRoYXQgcmVwcmVzZW50cyB0aGUgZ2VvbWV0cnkgb2Ygb2JqZWN0c1xuICAgICAgICAgKiB0aGF0IGFyZSBnb2luZyB0byBiZSBiYXRjaGVkIHdpdGggdGhpcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJhdGNoR2VvbWV0cnlcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2VvbWV0cnlDbGFzcyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaXplIG9mIGRhdGEgYmVpbmcgYnVmZmVyZWQgcGVyIHZlcnRleCBpbiB0aGVcbiAgICAgICAgICogYXR0cmlidXRlIGJ1ZmZlcnMgKGluIGZsb2F0cykuIEJ5IGRlZmF1bHQsIHRoZVxuICAgICAgICAgKiBiYXRjaC1yZW5kZXJlciBwbHVnaW4gdXNlcyA2OlxuICAgICAgICAgKlxuICAgICAgICAgKiB8IGFWZXJ0ZXhQb3NpdGlvbiB8IDIgfFxuICAgICAgICAgKiB8LS0tLS0tLS0tLS0tLS0tLS18LS0tfFxuICAgICAgICAgKiB8IGFUZXh0dXJlQ29vcmRzICB8IDIgfFxuICAgICAgICAgKiB8IGFDb2xvciAgICAgICAgICB8IDEgfFxuICAgICAgICAgKiB8IGFUZXh0dXJlSWQgICAgICB8IDEgfFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGV4U2l6ZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgc3RhdGUgaW4gd2hpY2ggdGhpcyByZW5kZXJlciB3aWxsIHdvcmsuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBidWZmZXJhYmxlIG9iamVjdHMgYmVmb3JlIGEgZmx1c2hcbiAgICAgICAgICogb2NjdXJzIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkUgKiA0XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaXplID0gc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkUgKiA0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVG90YWwgY291bnQgb2YgYWxsIHZlcnRpY2VzIHVzZWQgYnkgdGhlIGN1cnJlbnRseVxuICAgICAgICAgKiBidWZmZXJlZCBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdmVydGV4Q291bnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVG90YWwgY291bnQgb2YgYWxsIGluZGljZXMgdXNlZCBieSB0aGUgY3VycmVudGx5XG4gICAgICAgICAqIGJ1ZmZlcmVkIG9iamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9pbmRleENvdW50ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciBvZiBvYmplY3RzIHRoYXQgYXJlIHlldCB0byBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0W119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYnVmZmVyZWRFbGVtZW50cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGF0YSBmb3IgdGV4dHVyZSBiYXRjaCBidWlsZGVyLCBoZWxwcyB0byBzYXZlIGEgYml0IG9mIENQVSBvbiBhIHBhc3MuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYnVmZmVyZWRUZXh0dXJlcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGVsZW1lbnRzIHRoYXQgYXJlIGJ1ZmZlcmVkIGFuZCBhcmVcbiAgICAgICAgICogd2FpdGluZyB0byBiZSBmbHVzaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYnVmZmVyU2l6ZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHNoYWRlciBpcyBnZW5lcmF0ZWQgYnkgYHRoaXMuc2hhZGVyR2VuZXJhdG9yYC5cbiAgICAgICAgICpcbiAgICAgICAgICogSXQgaXMgZ2VuZXJhdGVkIHNwZWNpZmljYWxseSB0byBoYW5kbGUgdGhlIHJlcXVpcmVkXG4gICAgICAgICAqIG51bWJlciBvZiB0ZXh0dXJlcyBiZWluZyBiYXRjaGVkIHRvZ2V0aGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3NoYWRlciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIGB0aGlzLmdlb21ldHJ5Q2xhc3NgIGdlb21ldHJ5IG9iamVjdHNcbiAgICAgICAgICogdGhhdCBzdG9yZSBidWZmZXJzLiBUaGV5IGFyZSB1c2VkIHRvIHBhc3MgZGF0YVxuICAgICAgICAgKiB0byB0aGUgc2hhZGVyIG9uIGVhY2ggZHJhdyBjYWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGVzZSBhcmUgbmV2ZXIgcmUtYWxsb2NhdGVkIGFnYWluLCB1bmxlc3MgYVxuICAgICAgICAgKiBjb250ZXh0IGNoYW5nZSBvY2N1cnM7IGhvd2V2ZXIsIHRoZSBwb29sIG1heVxuICAgICAgICAgKiBiZSBleHBhbmRlZCBpZiByZXF1aXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HZW9tZXRyeVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RCYXRjaFJlbmRlcmVyLmNvbnRleHRDaGFuZ2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wYWNrZWRHZW9tZXRyaWVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaXplIG9mIGB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzYC4gSXQgY2FuIGJlIGV4cGFuZGVkXG4gICAgICAgICAqIGlmIG1vcmUgdGhhbiBgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZWAgZmx1c2hlc1xuICAgICAgICAgKiBvY2N1ciBpbiBhIHNpbmdsZSBmcmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUgPSAyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBmbHVzaCBtYXkgb2NjdXIgbXVsdGlwbGUgdGltZXMgaW4gYSBzaW5nbGVcbiAgICAgICAgICogZnJhbWUuIE9uIGlPUyBkZXZpY2VzIG9yIHdoZW5cbiAgICAgICAgICogYHNldHRpbmdzLkNBTl9VUExPQURfU0FNRV9CVUZGRVJgIGlzIGZhbHNlLCB0aGVcbiAgICAgICAgICogYmF0Y2ggcmVuZGVyZXIgZG9lcyBub3QgdXBsb2FkIGRhdGEgdG8gdGhlIHNhbWVcbiAgICAgICAgICogYFdlYkdMQnVmZmVyYCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBpcyB0aGUgaW5kZXggaW50byBgcGFja2VkR2VvbWV0cmllc2AgdGhhdCBwb2ludHMgdG9cbiAgICAgICAgICogZ2VvbWV0cnkgaG9sZGluZyB0aGUgbW9zdCByZWNlbnQgYnVmZmVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZsdXNoSWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBgVmlld2FibGVCdWZmZXJgIG9iamVjdHMgdGhhdCBhcmUgc29ydGVkIGluXG4gICAgICAgICAqIG9yZGVyIG9mIGluY3JlYXNpbmcgc2l6ZS4gVGhlIGZsdXNoIG1ldGhvZCB1c2VzXG4gICAgICAgICAqIHRoZSBidWZmZXIgd2l0aCB0aGUgbGVhc3Qgc2l6ZSBhYm92ZSB0aGUgYW1vdW50XG4gICAgICAgICAqIGl0IHJlcXVpcmVzLiBUaGVzZSBhcmUgdXNlZCBmb3IgcGFzc2luZyBhdHRyaWJ1dGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZmlyc3QgYnVmZmVyIGhhcyBhIHNpemUgb2YgODsgZWFjaCBzdWJzZXF1ZW50XG4gICAgICAgICAqIGJ1ZmZlciBoYXMgZG91YmxlIGNhcGFjaXR5IG9mIGl0cyBwcmV2aW91cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5WaWV3YWJsZUJ1ZmZlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RCYXRjaFJlbmRlcmVyI2dldEF0dHJpYnV0ZUJ1ZmZlclxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FCdWZmZXJzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIGBVaW50MTZBcnJheWAgb2JqZWN0cyB0aGF0IGFyZSBzb3J0ZWQgaW5cbiAgICAgICAgICogb3JkZXIgb2YgaW5jcmVhc2luZyBzaXplLiBUaGUgZmx1c2ggbWV0aG9kIHVzZXNcbiAgICAgICAgICogdGhlIGJ1ZmZlciB3aXRoIHRoZSBsZWFzdCBzaXplIGFib3ZlIHRoZSBhbW91bnRcbiAgICAgICAgICogaXQgcmVxdWlyZXMuIFRoZXNlIGFyZSB1c2VkIGZvciBwYXNzaW5nIGluZGljZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBmaXJzdCBidWZmZXIgaGFzIGEgc2l6ZSBvZiAxMjsgZWFjaCBzdWJzZXF1ZW50XG4gICAgICAgICAqIGJ1ZmZlciBoYXMgZG91YmxlIGNhcGFjaXR5IG9mIGl0cyBwcmV2aW91cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXlbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFic3RyYWN0QmF0Y2hSZW5kZXJlciNnZXRJbmRleEJ1ZmZlclxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2lCdWZmZXJzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXhpbXVtIG51bWJlciBvZiB0ZXh0dXJlcyB0aGF0IGNhbiBiZSB1cGxvYWRlZCB0b1xuICAgICAgICAgKiB0aGUgR1BVIHVuZGVyIHRoZSBjdXJyZW50IGNvbnRleHQuIEl0IGlzIGluaXRpYWxpemVkXG4gICAgICAgICAqIHByb3Blcmx5IGluIGB0aGlzLmNvbnRleHRDaGFuZ2VgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIjY29udGV4dENoYW5nZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLk1BWF9URVhUVVJFUyA9IDE7XG4gICAgICAgIF90aGlzLnJlbmRlcmVyLm9uKCdwcmVyZW5kZXInLCBfdGhpcy5vblByZXJlbmRlciwgX3RoaXMpO1xuICAgICAgICByZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UuYWRkKF90aGlzKTtcbiAgICAgICAgX3RoaXMuX2RjSW5kZXggPSAwO1xuICAgICAgICBfdGhpcy5fYUluZGV4ID0gMDtcbiAgICAgICAgX3RoaXMuX2lJbmRleCA9IDA7XG4gICAgICAgIF90aGlzLl9hdHRyaWJ1dGVCdWZmZXIgPSBudWxsO1xuICAgICAgICBfdGhpcy5faW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICBfdGhpcy5fdGVtcEJvdW5kVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSBgY29udGV4dENoYW5nZWAgc2lnbmFsLlxuICAgICAqXG4gICAgICogSXQgY2FsY3VsYXRlcyBgdGhpcy5NQVhfVEVYVFVSRVNgIGFuZCBhbGxvY2F0aW5nIHRoZVxuICAgICAqIHBhY2tlZC1nZW9tZXRyeSBvYmplY3QgcG9vbC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKSB7XG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBzdGVwIDE6IGZpcnN0IGNoZWNrIG1heCB0ZXh0dXJlcyB0aGUgR1BVIGNhbiBoYW5kbGUuXG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IE1hdGgubWluKGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyksIHNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVMpO1xuICAgICAgICAgICAgLy8gc3RlcCAyOiBjaGVjayB0aGUgbWF4aW11bSBudW1iZXIgb2YgaWYgc3RhdGVtZW50cyB0aGUgc2hhZGVyIGNhbiBoYXZlIHRvby4uXG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIodGhpcy5NQVhfVEVYVFVSRVMsIGdsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zaGFkZXIgPSB0aGlzLnNoYWRlckdlbmVyYXRvci5nZW5lcmF0ZVNoYWRlcih0aGlzLk1BWF9URVhUVVJFUyk7XG4gICAgICAgIC8vIHdlIHVzZSB0aGUgc2Vjb25kIHNoYWRlciBhcyB0aGUgZmlyc3Qgb25lIGRlcGVuZGluZyBvbiB5b3VyIGJyb3dzZXJcbiAgICAgICAgLy8gbWF5IG9taXQgYVRleHR1cmVJZCBhcyBpdCBpcyBub3QgdXNlZCBieSB0aGUgc2hhZGVyIHNvIGlzIG9wdGltaXplZCBvdXQuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW2ldID0gbmV3ICh0aGlzLmdlb21ldHJ5Q2xhc3MpKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0Rmx1c2hCdWZmZXJzKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYWtlcyBzdXJlIHRoYXQgc3RhdGljIGFuZCBkeW5hbWljIGZsdXNoIHBvb2xlZCBvYmplY3RzIGhhdmUgY29ycmVjdCBkaW1lbnNpb25zXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5pbml0Rmx1c2hCdWZmZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2RyYXdDYWxsUG9vbCA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sLCBfdGV4dHVyZUFycmF5UG9vbCA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fdGV4dHVyZUFycmF5UG9vbDtcbiAgICAgICAgLy8gbWF4IGRyYXcgY2FsbHNcbiAgICAgICAgdmFyIE1BWF9TUFJJVEVTID0gdGhpcy5zaXplIC8gNDtcbiAgICAgICAgLy8gbWF4IHRleHR1cmUgYXJyYXlzXG4gICAgICAgIHZhciBNQVhfVEEgPSBNYXRoLmZsb29yKE1BWF9TUFJJVEVTIC8gdGhpcy5NQVhfVEVYVFVSRVMpICsgMTtcbiAgICAgICAgd2hpbGUgKF9kcmF3Q2FsbFBvb2wubGVuZ3RoIDwgTUFYX1NQUklURVMpIHtcbiAgICAgICAgICAgIF9kcmF3Q2FsbFBvb2wucHVzaChuZXcgQmF0Y2hEcmF3Q2FsbCgpKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoX3RleHR1cmVBcnJheVBvb2wubGVuZ3RoIDwgTUFYX1RBKSB7XG4gICAgICAgICAgICBfdGV4dHVyZUFycmF5UG9vbC5wdXNoKG5ldyBCYXRjaFRleHR1cmVBcnJheSgpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuTUFYX1RFWFRVUkVTOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX3RlbXBCb3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgYHByZXJlbmRlcmAgc2lnbmFsLlxuICAgICAqXG4gICAgICogSXQgZW5zdXJlcyB0aGF0IGZsdXNoZXMgc3RhcnQgZnJvbSB0aGUgZmlyc3QgZ2VvbWV0cnlcbiAgICAgKiBvYmplY3QgYWdhaW4uXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5vblByZXJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZmx1c2hJZCA9IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCdWZmZXJzIHRoZSBcImJhdGNoYWJsZVwiIG9iamVjdC4gSXQgbmVlZCBub3QgYmUgcmVuZGVyZWRcbiAgICAgKiBpbW1lZGlhdGVseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBlbGVtZW50IC0gdGhlIGVsZW1lbnQgdG8gcmVuZGVyIHdoZW5cbiAgICAgKiAgICB1c2luZyB0aGlzIHJlbmRlcmVyXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICBpZiAoIWVsZW1lbnQuX3RleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdmVydGV4Q291bnQgKyAoZWxlbWVudC52ZXJ0ZXhEYXRhLmxlbmd0aCAvIDIpID4gdGhpcy5zaXplKSB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmVydGV4Q291bnQgKz0gZWxlbWVudC52ZXJ0ZXhEYXRhLmxlbmd0aCAvIDI7XG4gICAgICAgIHRoaXMuX2luZGV4Q291bnQgKz0gZWxlbWVudC5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5fYnVmZmVyZWRUZXh0dXJlc1t0aGlzLl9idWZmZXJTaXplXSA9IGVsZW1lbnQuX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkRWxlbWVudHNbdGhpcy5fYnVmZmVyU2l6ZSsrXSA9IGVsZW1lbnQ7XG4gICAgfTtcbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkVGV4dHVyZXNBbmREcmF3Q2FsbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHRleHR1cmVzID0gX2EuX2J1ZmZlcmVkVGV4dHVyZXMsIE1BWF9URVhUVVJFUyA9IF9hLk1BWF9URVhUVVJFUztcbiAgICAgICAgdmFyIHRleHR1cmVBcnJheXMgPSBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX3RleHR1cmVBcnJheVBvb2w7XG4gICAgICAgIHZhciBiYXRjaCA9IHRoaXMucmVuZGVyZXIuYmF0Y2g7XG4gICAgICAgIHZhciBib3VuZFRleHR1cmVzID0gdGhpcy5fdGVtcEJvdW5kVGV4dHVyZXM7XG4gICAgICAgIHZhciB0b3VjaCA9IHRoaXMucmVuZGVyZXIudGV4dHVyZUdDLmNvdW50O1xuICAgICAgICB2YXIgVElDSyA9ICsrQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoO1xuICAgICAgICB2YXIgY291bnRUZXhBcnJheXMgPSAwO1xuICAgICAgICB2YXIgdGV4QXJyYXkgPSB0ZXh0dXJlQXJyYXlzWzBdO1xuICAgICAgICB2YXIgc3RhcnQgPSAwO1xuICAgICAgICBiYXRjaC5jb3B5Qm91bmRUZXh0dXJlcyhib3VuZFRleHR1cmVzLCBNQVhfVEVYVFVSRVMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2J1ZmZlclNpemU7ICsraSkge1xuICAgICAgICAgICAgdmFyIHRleCA9IHRleHR1cmVzW2ldO1xuICAgICAgICAgICAgdGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRleC5fYmF0Y2hFbmFibGVkID09PSBUSUNLKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGV4QXJyYXkuY291bnQgPj0gTUFYX1RFWFRVUkVTKSB7XG4gICAgICAgICAgICAgICAgYmF0Y2guYm91bmRBcnJheSh0ZXhBcnJheSwgYm91bmRUZXh0dXJlcywgVElDSywgTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1aWxkRHJhd0NhbGxzKHRleEFycmF5LCBzdGFydCwgaSk7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgIHRleEFycmF5ID0gdGV4dHVyZUFycmF5c1srK2NvdW50VGV4QXJyYXlzXTtcbiAgICAgICAgICAgICAgICArK1RJQ0s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXguX2JhdGNoRW5hYmxlZCA9IFRJQ0s7XG4gICAgICAgICAgICB0ZXgudG91Y2hlZCA9IHRvdWNoO1xuICAgICAgICAgICAgdGV4QXJyYXkuZWxlbWVudHNbdGV4QXJyYXkuY291bnQrK10gPSB0ZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRleEFycmF5LmNvdW50ID4gMCkge1xuICAgICAgICAgICAgYmF0Y2guYm91bmRBcnJheSh0ZXhBcnJheSwgYm91bmRUZXh0dXJlcywgVElDSywgTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgICAgIHRoaXMuYnVpbGREcmF3Q2FsbHModGV4QXJyYXksIHN0YXJ0LCB0aGlzLl9idWZmZXJTaXplKTtcbiAgICAgICAgICAgICsrY291bnRUZXhBcnJheXM7XG4gICAgICAgICAgICArK1RJQ0s7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2xlYW4tdXBcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSBUSUNLO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9wdWxhdGluZyBkcmF3Y2FsbHMgZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhdGNoVGV4dHVyZUFycmF5fSB0ZXhBcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmaW5pc2hcbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkRHJhd0NhbGxzID0gZnVuY3Rpb24gKHRleEFycmF5LCBzdGFydCwgZmluaXNoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGVsZW1lbnRzID0gX2EuX2J1ZmZlcmVkRWxlbWVudHMsIF9hdHRyaWJ1dGVCdWZmZXIgPSBfYS5fYXR0cmlidXRlQnVmZmVyLCBfaW5kZXhCdWZmZXIgPSBfYS5faW5kZXhCdWZmZXIsIHZlcnRleFNpemUgPSBfYS52ZXJ0ZXhTaXplO1xuICAgICAgICB2YXIgZHJhd0NhbGxzID0gQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl9kcmF3Q2FsbFBvb2w7XG4gICAgICAgIHZhciBkY0luZGV4ID0gdGhpcy5fZGNJbmRleDtcbiAgICAgICAgdmFyIGFJbmRleCA9IHRoaXMuX2FJbmRleDtcbiAgICAgICAgdmFyIGlJbmRleCA9IHRoaXMuX2lJbmRleDtcbiAgICAgICAgdmFyIGRyYXdDYWxsID0gZHJhd0NhbGxzW2RjSW5kZXhdO1xuICAgICAgICBkcmF3Q2FsbC5zdGFydCA9IHRoaXMuX2lJbmRleDtcbiAgICAgICAgZHJhd0NhbGwudGV4QXJyYXkgPSB0ZXhBcnJheTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZmluaXNoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIHZhciB0ZXggPSBzcHJpdGUuX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICB2YXIgc3ByaXRlQmxlbmRNb2RlID0gcHJlbXVsdGlwbHlCbGVuZE1vZGVbdGV4LmFscGhhTW9kZSA/IDEgOiAwXVtzcHJpdGUuYmxlbmRNb2RlXTtcbiAgICAgICAgICAgIGVsZW1lbnRzW2ldID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChzdGFydCA8IGkgJiYgZHJhd0NhbGwuYmxlbmQgIT09IHNwcml0ZUJsZW5kTW9kZSkge1xuICAgICAgICAgICAgICAgIGRyYXdDYWxsLnNpemUgPSBpSW5kZXggLSBkcmF3Q2FsbC5zdGFydDtcbiAgICAgICAgICAgICAgICBzdGFydCA9IGk7XG4gICAgICAgICAgICAgICAgZHJhd0NhbGwgPSBkcmF3Q2FsbHNbKytkY0luZGV4XTtcbiAgICAgICAgICAgICAgICBkcmF3Q2FsbC50ZXhBcnJheSA9IHRleEFycmF5O1xuICAgICAgICAgICAgICAgIGRyYXdDYWxsLnN0YXJ0ID0gaUluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wYWNrSW50ZXJsZWF2ZWRHZW9tZXRyeShzcHJpdGUsIF9hdHRyaWJ1dGVCdWZmZXIsIF9pbmRleEJ1ZmZlciwgYUluZGV4LCBpSW5kZXgpO1xuICAgICAgICAgICAgYUluZGV4ICs9IHNwcml0ZS52ZXJ0ZXhEYXRhLmxlbmd0aCAvIDIgKiB2ZXJ0ZXhTaXplO1xuICAgICAgICAgICAgaUluZGV4ICs9IHNwcml0ZS5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgICAgIGRyYXdDYWxsLmJsZW5kID0gc3ByaXRlQmxlbmRNb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydCA8IGZpbmlzaCkge1xuICAgICAgICAgICAgZHJhd0NhbGwuc2l6ZSA9IGlJbmRleCAtIGRyYXdDYWxsLnN0YXJ0O1xuICAgICAgICAgICAgKytkY0luZGV4O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RjSW5kZXggPSBkY0luZGV4O1xuICAgICAgICB0aGlzLl9hSW5kZXggPSBhSW5kZXg7XG4gICAgICAgIHRoaXMuX2lJbmRleCA9IGlJbmRleDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJpbmQgdGV4dHVyZXMgZm9yIGN1cnJlbnQgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmF0Y2hUZXh0dXJlQXJyYXl9IHRleEFycmF5XG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5iaW5kQW5kQ2xlYXJUZXhBcnJheSA9IGZ1bmN0aW9uICh0ZXhBcnJheSkge1xuICAgICAgICB2YXIgdGV4dHVyZVN5c3RlbSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZXhBcnJheS5jb3VudDsgaisrKSB7XG4gICAgICAgICAgICB0ZXh0dXJlU3lzdGVtLmJpbmQodGV4QXJyYXkuZWxlbWVudHNbal0sIHRleEFycmF5Lmlkc1tqXSk7XG4gICAgICAgICAgICB0ZXhBcnJheS5lbGVtZW50c1tqXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGV4QXJyYXkuY291bnQgPSAwO1xuICAgIH07XG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS51cGRhdGVHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgcGFja2VkR2VvbWV0cmllcyA9IF9hLl9wYWNrZWRHZW9tZXRyaWVzLCBhdHRyaWJ1dGVCdWZmZXIgPSBfYS5fYXR0cmlidXRlQnVmZmVyLCBpbmRleEJ1ZmZlciA9IF9hLl9pbmRleEJ1ZmZlcjtcbiAgICAgICAgaWYgKCFzZXR0aW5ncy5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKSB7IC8qIFVzdWFsbHkgb24gaU9TIGRldmljZXMsIHdoZXJlIHRoZSBicm93c2VyIGRvZXNuJ3RcbiAgICAgICAgICAgIGxpa2UgdXBsb2FkcyB0byB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWUuICovXG4gICAgICAgICAgICBpZiAodGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZSA8PSB0aGlzLl9mbHVzaElkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZSsrO1xuICAgICAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0gPSBuZXcgKHRoaXMuZ2VvbWV0cnlDbGFzcykoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2J1ZmZlci51cGRhdGUoYXR0cmlidXRlQnVmZmVyLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXS5faW5kZXhCdWZmZXIudXBkYXRlKGluZGV4QnVmZmVyKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkuYmluZChwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkudXBkYXRlQnVmZmVycygpO1xuICAgICAgICAgICAgdGhpcy5fZmx1c2hJZCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbGV0cyB1c2UgdGhlIGZhc3RlciBvcHRpb24sIGFsd2F5cyB1c2UgYnVmZmVyIG51bWJlciAwXG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9idWZmZXIudXBkYXRlKGF0dHJpYnV0ZUJ1ZmZlci5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2luZGV4QnVmZmVyLnVwZGF0ZShpbmRleEJ1ZmZlcik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5kcmF3QmF0Y2hlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRjQ291bnQgPSB0aGlzLl9kY0luZGV4O1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnJlbmRlcmVyLCBnbCA9IF9hLmdsLCBzdGF0ZVN5c3RlbSA9IF9hLnN0YXRlO1xuICAgICAgICB2YXIgZHJhd0NhbGxzID0gQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl9kcmF3Q2FsbFBvb2w7XG4gICAgICAgIHZhciBjdXJUZXhBcnJheSA9IG51bGw7XG4gICAgICAgIC8vIFVwbG9hZCB0ZXh0dXJlcyBhbmQgZG8gdGhlIGRyYXcgY2FsbHNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkY0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBfYiA9IGRyYXdDYWxsc1tpXSwgdGV4QXJyYXkgPSBfYi50ZXhBcnJheSwgdHlwZSA9IF9iLnR5cGUsIHNpemUgPSBfYi5zaXplLCBzdGFydCA9IF9iLnN0YXJ0LCBibGVuZCA9IF9iLmJsZW5kO1xuICAgICAgICAgICAgaWYgKGN1clRleEFycmF5ICE9PSB0ZXhBcnJheSkge1xuICAgICAgICAgICAgICAgIGN1clRleEFycmF5ID0gdGV4QXJyYXk7XG4gICAgICAgICAgICAgICAgdGhpcy5iaW5kQW5kQ2xlYXJUZXhBcnJheSh0ZXhBcnJheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IGJsZW5kO1xuICAgICAgICAgICAgc3RhdGVTeXN0ZW0uc2V0KHRoaXMuc3RhdGUpO1xuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKHR5cGUsIHNpemUsIGdsLlVOU0lHTkVEX1NIT1JULCBzdGFydCAqIDIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250ZW50IF9ub3dfIGFuZCBlbXB0aWVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl92ZXJ0ZXhDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2F0dHJpYnV0ZUJ1ZmZlciA9IHRoaXMuZ2V0QXR0cmlidXRlQnVmZmVyKHRoaXMuX3ZlcnRleENvdW50KTtcbiAgICAgICAgdGhpcy5faW5kZXhCdWZmZXIgPSB0aGlzLmdldEluZGV4QnVmZmVyKHRoaXMuX2luZGV4Q291bnQpO1xuICAgICAgICB0aGlzLl9hSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9pSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9kY0luZGV4ID0gMDtcbiAgICAgICAgdGhpcy5idWlsZFRleHR1cmVzQW5kRHJhd0NhbGxzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlR2VvbWV0cnkoKTtcbiAgICAgICAgdGhpcy5kcmF3QmF0Y2hlcygpO1xuICAgICAgICAvLyByZXNldCBlbGVtZW50cyBidWZmZXIgZm9yIHRoZSBuZXh0IGZsdXNoXG4gICAgICAgIHRoaXMuX2J1ZmZlclNpemUgPSAwO1xuICAgICAgICB0aGlzLl92ZXJ0ZXhDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuX2luZGV4Q291bnQgPSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhcnRzIGEgbmV3IHNwcml0ZSBiYXRjaC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzLl9zaGFkZXIpO1xuICAgICAgICBpZiAoc2V0dGluZ3MuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUikge1xuICAgICAgICAgICAgLy8gYmluZCBidWZmZXIgIzAsIHdlIGRvbid0IG5lZWQgb3RoZXJzXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5fcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3BzIGFuZCBmbHVzaGVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBgQWJzdHJhY3RCYXRjaFJlbmRlcmVyYC4gSXQgY2Fubm90IGJlIHVzZWQgYWdhaW4uXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemU7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9mZigncHJlcmVuZGVyJywgdGhpcy5vblByZXJlbmRlciwgdGhpcyk7XG4gICAgICAgIHRoaXMuX2FCdWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5faUJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYXR0cmlidXRlQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5fc2hhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fc2hhZGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZldGNoZXMgYW4gYXR0cmlidXRlIGJ1ZmZlciBmcm9tIGB0aGlzLl9hQnVmZmVyc2AgdGhhdFxuICAgICAqIGNhbiBob2xkIGF0bGVhc3QgYHNpemVgIGZsb2F0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gbWluaW11bSBjYXBhY2l0eSByZXF1aXJlZFxuICAgICAqIEByZXR1cm4ge1ZpZXdhYmxlQnVmZmVyfSAtIGJ1ZmZlciB0aGFuIGNhbiBob2xkIGF0bGVhc3QgYHNpemVgIGZsb2F0c1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVCdWZmZXIgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICAvLyA4IHZlcnRpY2VzIGlzIGVub3VnaCBmb3IgMiBxdWFkc1xuICAgICAgICB2YXIgcm91bmRlZFAyID0gbmV4dFBvdzIoTWF0aC5jZWlsKHNpemUgLyA4KSk7XG4gICAgICAgIHZhciByb3VuZGVkU2l6ZUluZGV4ID0gbG9nMihyb3VuZGVkUDIpO1xuICAgICAgICB2YXIgcm91bmRlZFNpemUgPSByb3VuZGVkUDIgKiA4O1xuICAgICAgICBpZiAodGhpcy5fYUJ1ZmZlcnMubGVuZ3RoIDw9IHJvdW5kZWRTaXplSW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuX2lCdWZmZXJzLmxlbmd0aCA9IHJvdW5kZWRTaXplSW5kZXggKyAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLl9hQnVmZmVyc1tyb3VuZGVkU2l6ZV07XG4gICAgICAgIGlmICghYnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9hQnVmZmVyc1tyb3VuZGVkU2l6ZV0gPSBidWZmZXIgPSBuZXcgVmlld2FibGVCdWZmZXIocm91bmRlZFNpemUgKiB0aGlzLnZlcnRleFNpemUgKiA0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhbiBpbmRleCBidWZmZXIgZnJvbSBgdGhpcy5faUJ1ZmZlcnNgIHRoYXQgY2FuXG4gICAgICogaGF2ZSBhdCBsZWFzdCBgc2l6ZWAgY2FwYWNpdHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIG1pbmltdW0gcmVxdWlyZWQgY2FwYWNpdHlcbiAgICAgKiBAcmV0dXJuIHtVaW50MTZBcnJheX0gLSBidWZmZXIgdGhhdCBjYW4gZml0IGBzaXplYFxuICAgICAqICAgIGluZGljZXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmdldEluZGV4QnVmZmVyID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgLy8gMTIgaW5kaWNlcyBpcyBlbm91Z2ggZm9yIDIgcXVhZHNcbiAgICAgICAgdmFyIHJvdW5kZWRQMiA9IG5leHRQb3cyKE1hdGguY2VpbChzaXplIC8gMTIpKTtcbiAgICAgICAgdmFyIHJvdW5kZWRTaXplSW5kZXggPSBsb2cyKHJvdW5kZWRQMik7XG4gICAgICAgIHZhciByb3VuZGVkU2l6ZSA9IHJvdW5kZWRQMiAqIDEyO1xuICAgICAgICBpZiAodGhpcy5faUJ1ZmZlcnMubGVuZ3RoIDw9IHJvdW5kZWRTaXplSW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuX2lCdWZmZXJzLmxlbmd0aCA9IHJvdW5kZWRTaXplSW5kZXggKyAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLl9pQnVmZmVyc1tyb3VuZGVkU2l6ZUluZGV4XTtcbiAgICAgICAgaWYgKCFidWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2lCdWZmZXJzW3JvdW5kZWRTaXplSW5kZXhdID0gYnVmZmVyID0gbmV3IFVpbnQxNkFycmF5KHJvdW5kZWRTaXplKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGFrZXMgdGhlIGZvdXIgYmF0Y2hpbmcgcGFyYW1ldGVycyBvZiBgZWxlbWVudGAsIGludGVybGVhdmVzXG4gICAgICogYW5kIHB1c2hlcyB0aGVtIGludG8gdGhlIGJhdGNoaW5nIGF0dHJpYnV0ZS9pbmRleCBidWZmZXJzIGdpdmVuLlxuICAgICAqXG4gICAgICogSXQgdXNlcyB0aGVzZSBwcm9wZXJ0aWVzOiBgdmVydGV4RGF0YWAgYHV2c2AsIGB0ZXh0dXJlSWRgIGFuZFxuICAgICAqIGBpbmRpY2llc2AuIEl0IGFsc28gdXNlcyB0aGUgXCJ0aW50XCIgb2YgdGhlIGJhc2UtdGV4dHVyZSwgaWZcbiAgICAgKiBwcmVzZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gZWxlbWVudCAtIGVsZW1lbnQgYmVpbmcgcmVuZGVyZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuVmlld2FibGVCdWZmZXJ9IGF0dHJpYnV0ZUJ1ZmZlciAtIGF0dHJpYnV0ZSBidWZmZXIuXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheX0gaW5kZXhCdWZmZXIgLSBpbmRleCBidWZmZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYUluZGV4IC0gbnVtYmVyIG9mIGZsb2F0cyBhbHJlYWR5IGluIHRoZSBhdHRyaWJ1dGUgYnVmZmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlJbmRleCAtIG51bWJlciBvZiBpbmRpY2VzIGFscmVhZHkgaW4gYGluZGV4QnVmZmVyYFxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUucGFja0ludGVybGVhdmVkR2VvbWV0cnkgPSBmdW5jdGlvbiAoZWxlbWVudCwgYXR0cmlidXRlQnVmZmVyLCBpbmRleEJ1ZmZlciwgYUluZGV4LCBpSW5kZXgpIHtcbiAgICAgICAgdmFyIHVpbnQzMlZpZXcgPSBhdHRyaWJ1dGVCdWZmZXIudWludDMyVmlldywgZmxvYXQzMlZpZXcgPSBhdHRyaWJ1dGVCdWZmZXIuZmxvYXQzMlZpZXc7XG4gICAgICAgIHZhciBwYWNrZWRWZXJ0aWNlcyA9IGFJbmRleCAvIHRoaXMudmVydGV4U2l6ZTtcbiAgICAgICAgdmFyIHV2cyA9IGVsZW1lbnQudXZzO1xuICAgICAgICB2YXIgaW5kaWNpZXMgPSBlbGVtZW50LmluZGljZXM7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gZWxlbWVudC52ZXJ0ZXhEYXRhO1xuICAgICAgICB2YXIgdGV4dHVyZUlkID0gZWxlbWVudC5fdGV4dHVyZS5iYXNlVGV4dHVyZS5fYmF0Y2hMb2NhdGlvbjtcbiAgICAgICAgdmFyIGFscGhhID0gTWF0aC5taW4oZWxlbWVudC53b3JsZEFscGhhLCAxLjApO1xuICAgICAgICB2YXIgYXJnYiA9IChhbHBoYSA8IDEuMFxuICAgICAgICAgICAgJiYgZWxlbWVudC5fdGV4dHVyZS5iYXNlVGV4dHVyZS5hbHBoYU1vZGUpXG4gICAgICAgICAgICA/IHByZW11bHRpcGx5VGludChlbGVtZW50Ll90aW50UkdCLCBhbHBoYSlcbiAgICAgICAgICAgIDogZWxlbWVudC5fdGludFJHQiArIChhbHBoYSAqIDI1NSA8PCAyNCk7XG4gICAgICAgIC8vIGxldHMgbm90IHdvcnJ5IGFib3V0IHRpbnQhIGZvciBub3cuLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGZsb2F0MzJWaWV3W2FJbmRleCsrXSA9IHZlcnRleERhdGFbaV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB2ZXJ0ZXhEYXRhW2kgKyAxXTtcbiAgICAgICAgICAgIGZsb2F0MzJWaWV3W2FJbmRleCsrXSA9IHV2c1tpXTtcbiAgICAgICAgICAgIGZsb2F0MzJWaWV3W2FJbmRleCsrXSA9IHV2c1tpICsgMV07XG4gICAgICAgICAgICB1aW50MzJWaWV3W2FJbmRleCsrXSA9IGFyZ2I7XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB0ZXh0dXJlSWQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmRpY2llcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaW5kZXhCdWZmZXJbaUluZGV4KytdID0gcGFja2VkVmVydGljZXMgKyBpbmRpY2llc1tpXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9vbCBvZiBgQmF0Y2hEcmF3Q2FsbGAgb2JqZWN0cyB0aGF0IGBmbHVzaGAgdXNlZFxuICAgICAqIHRvIGNyZWF0ZSBcImJhdGNoZXNcIiBvZiB0aGUgb2JqZWN0cyBiZWluZyByZW5kZXJlZC5cbiAgICAgKlxuICAgICAqIFRoZXNlIGFyZSBuZXZlciByZS1hbGxvY2F0ZWQgYWdhaW4uXG4gICAgICogU2hhcmVkIGJldHdlZW4gYWxsIGJhdGNoIHJlbmRlcmVycyBiZWNhdXNlIGl0IGNhbiBiZSBvbmx5IG9uZSBcImZsdXNoXCIgd29ya2luZyBhdCB0aGUgbW9tZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge1BJWEkuQmF0Y2hEcmF3Q2FsbFtdfVxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sID0gW107XG4gICAgLyoqXG4gICAgICogUG9vbCBvZiBgQmF0Y2hEcmF3Q2FsbGAgb2JqZWN0cyB0aGF0IGBmbHVzaGAgdXNlZFxuICAgICAqIHRvIGNyZWF0ZSBcImJhdGNoZXNcIiBvZiB0aGUgb2JqZWN0cyBiZWluZyByZW5kZXJlZC5cbiAgICAgKlxuICAgICAqIFRoZXNlIGFyZSBuZXZlciByZS1hbGxvY2F0ZWQgYWdhaW4uXG4gICAgICogU2hhcmVkIGJldHdlZW4gYWxsIGJhdGNoIHJlbmRlcmVycyBiZWNhdXNlIGl0IGNhbiBiZSBvbmx5IG9uZSBcImZsdXNoXCIgd29ya2luZyBhdCB0aGUgbW9tZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge1BJWEkuQmF0Y2hUZXh0dXJlQXJyYXlbXX1cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX3RleHR1cmVBcnJheVBvb2wgPSBbXTtcbiAgICByZXR1cm4gQWJzdHJhY3RCYXRjaFJlbmRlcmVyO1xufShPYmplY3RSZW5kZXJlcikpO1xuXG4vKipcbiAqIEhlbHBlciB0aGF0IGdlbmVyYXRlcyBiYXRjaGluZyBtdWx0aS10ZXh0dXJlIHNoYWRlci4gVXNlIGl0IHdpdGggeW91ciBuZXcgQmF0Y2hSZW5kZXJlclxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhdGNoU2hhZGVyR2VuZXJhdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJ0ZXhTcmMgLSBWZXJ0ZXggc2hhZGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZyYWdUZW1wbGF0ZSAtIEZyYWdtZW50IHNoYWRlciB0ZW1wbGF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhdGNoU2hhZGVyR2VuZXJhdG9yKHZlcnRleFNyYywgZnJhZ1RlbXBsYXRlKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHZlcnRleCBzaGFkZXIgc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHZlcnRleFNyYztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgZnJhZ2VtZW50IHNoYWRlciB0ZW1wbGF0ZS4gTXVzdCBjb250YWluIFwiJWNvdW50JVwiIGFuZCBcIiVmb3Jsb29wJVwiLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZyYWdUZW1wbGF0ZSA9IGZyYWdUZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5wcm9ncmFtQ2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5kZWZhdWx0R3JvdXBDYWNoZSA9IHt9O1xuICAgICAgICBpZiAoZnJhZ1RlbXBsYXRlLmluZGV4T2YoJyVjb3VudCUnKSA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRnJhZ21lbnQgdGVtcGxhdGUgbXVzdCBjb250YWluIFwiJWNvdW50JVwiLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcmFnVGVtcGxhdGUuaW5kZXhPZignJWZvcmxvb3AlJykgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZyYWdtZW50IHRlbXBsYXRlIG11c3QgY29udGFpbiBcIiVmb3Jsb29wJVwiLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIEJhdGNoU2hhZGVyR2VuZXJhdG9yLnByb3RvdHlwZS5nZW5lcmF0ZVNoYWRlciA9IGZ1bmN0aW9uIChtYXhUZXh0dXJlcykge1xuICAgICAgICBpZiAoIXRoaXMucHJvZ3JhbUNhY2hlW21heFRleHR1cmVzXSkge1xuICAgICAgICAgICAgdmFyIHNhbXBsZVZhbHVlcyA9IG5ldyBJbnQzMkFycmF5KG1heFRleHR1cmVzKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRHcm91cENhY2hlW21heFRleHR1cmVzXSA9IFVuaWZvcm1Hcm91cC5mcm9tKHsgdVNhbXBsZXJzOiBzYW1wbGVWYWx1ZXMgfSwgdHJ1ZSk7XG4gICAgICAgICAgICB2YXIgZnJhZ21lbnRTcmMgPSB0aGlzLmZyYWdUZW1wbGF0ZTtcbiAgICAgICAgICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWNvdW50JS9naSwgXCJcIiArIG1heFRleHR1cmVzKTtcbiAgICAgICAgICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWZvcmxvb3AlL2dpLCB0aGlzLmdlbmVyYXRlU2FtcGxlU3JjKG1heFRleHR1cmVzKSk7XG4gICAgICAgICAgICB0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10gPSBuZXcgUHJvZ3JhbSh0aGlzLnZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgIHRpbnQ6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uTWF0cml4OiBuZXcgTWF0cml4KCksXG4gICAgICAgICAgICBkZWZhdWx0OiB0aGlzLmRlZmF1bHRHcm91cENhY2hlW21heFRleHR1cmVzXSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBTaGFkZXIodGhpcy5wcm9ncmFtQ2FjaGVbbWF4VGV4dHVyZXNdLCB1bmlmb3Jtcyk7XG4gICAgfTtcbiAgICBCYXRjaFNoYWRlckdlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGVTYW1wbGVTcmMgPSBmdW5jdGlvbiAobWF4VGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIHNyYyA9ICcnO1xuICAgICAgICBzcmMgKz0gJ1xcbic7XG4gICAgICAgIHNyYyArPSAnXFxuJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICBzcmMgKz0gJ1xcbmVsc2UgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpIDwgbWF4VGV4dHVyZXMgLSAxKSB7XG4gICAgICAgICAgICAgICAgc3JjICs9IFwiaWYodlRleHR1cmVJZCA8IFwiICsgaSArIFwiLjUpXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbnsnO1xuICAgICAgICAgICAgc3JjICs9IFwiXFxuXFx0Y29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJzW1wiICsgaSArIFwiXSwgdlRleHR1cmVDb29yZCk7XCI7XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbn0nO1xuICAgICAgICB9XG4gICAgICAgIHNyYyArPSAnXFxuJztcbiAgICAgICAgc3JjICs9ICdcXG4nO1xuICAgICAgICByZXR1cm4gc3JjO1xuICAgIH07XG4gICAgcmV0dXJuIEJhdGNoU2hhZGVyR2VuZXJhdG9yO1xufSgpKTtcblxuLyoqXG4gKiBHZW9tZXRyeSB1c2VkIHRvIGJhdGNoIHN0YW5kYXJkIFBJWEkgY29udGVudCAoZS5nLiBNZXNoLCBTcHJpdGUsIEdyYXBoaWNzIG9iamVjdHMpLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhdGNoR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhdGNoR2VvbWV0cnksIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbX3N0YXRpYz1mYWxzZV0gLSBPcHRpbWl6YXRpb24gZmxhZywgd2hlcmUgYGZhbHNlYFxuICAgICAqICAgICAgICBpcyB1cGRhdGVkIGV2ZXJ5IGZyYW1lLCBgdHJ1ZWAgZG9lc24ndCBjaGFuZ2UgZnJhbWUtdG8tZnJhbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmF0Y2hHZW9tZXRyeShfc3RhdGljKSB7XG4gICAgICAgIGlmIChfc3RhdGljID09PSB2b2lkIDApIHsgX3N0YXRpYyA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgdXNlZCBmb3IgcG9zaXRpb24sIGNvbG9yLCB0ZXh0dXJlIElEc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlciA9IG5ldyBCdWZmZXIobnVsbCwgX3N0YXRpYywgZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kZXggYnVmZmVyIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9pbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIobnVsbCwgX3N0YXRpYywgdHJ1ZSk7XG4gICAgICAgIF90aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgX3RoaXMuX2J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIF90aGlzLl9idWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FDb2xvcicsIF90aGlzLl9idWZmZXIsIDQsIHRydWUsIFRZUEVTLlVOU0lHTkVEX0JZVEUpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUlkJywgX3RoaXMuX2J1ZmZlciwgMSwgdHJ1ZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkSW5kZXgoX3RoaXMuX2luZGV4QnVmZmVyKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQmF0Y2hHZW9tZXRyeTtcbn0oR2VvbWV0cnkpKTtcblxudmFyIGRlZmF1bHRWZXJ0ZXgkMiA9IFwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcbmF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXG5hdHRyaWJ1dGUgZmxvYXQgYVRleHR1cmVJZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSB2ZWM0IHRpbnQ7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG52YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdlRleHR1cmVJZCA9IGFUZXh0dXJlSWQ7XFxuICAgIHZDb2xvciA9IGFDb2xvciAqIHRpbnQ7XFxufVxcblwiO1xuXG52YXIgZGVmYXVsdEZyYWdtZW50JDIgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyc1slY291bnQlXTtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIHZlYzQgY29sb3I7XFxuICAgICVmb3Jsb29wJVxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvciAqIHZDb2xvcjtcXG59XFxuXCI7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGhpZGVjb25zdHJ1Y3RvclxuICovXG52YXIgQmF0Y2hQbHVnaW5GYWN0b3J5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhdGNoUGx1Z2luRmFjdG9yeSgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEJhdGNoUmVuZGVyZXIgcGx1Z2luIGZvciBSZW5kZXJlci4gdGhpcyBjb252ZW5pZW5jZSBjYW4gcHJvdmlkZSBhbiBlYXN5IHdheVxuICAgICAqIHRvIGV4dGVuZCBCYXRjaFJlbmRlcmVyIHdpdGggYWxsIHRoZSBuZWNlc3NhcnkgcGllY2VzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgZnJhZ21lbnQgPSBgXG4gICAgICogdmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XG4gICAgICogdmFyeWluZyB2ZWM0IHZDb2xvcjtcbiAgICAgKiB2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XG4gICAgICogdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXJzWyVjb3VudCVdO1xuICAgICAqXG4gICAgICogdm9pZCBtYWluKHZvaWQpe1xuICAgICAqICAgICB2ZWM0IGNvbG9yO1xuICAgICAqICAgICAlZm9ybG9vcCVcbiAgICAgKiAgICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yICogdmVjNChjb2xvci5hIC0gY29sb3IucmdiLCBjb2xvci5hKTtcbiAgICAgKiB9XG4gICAgICogYDtcbiAgICAgKiBjb25zdCBJbnZlcnRCYXRjaFJlbmRlcmVyID0gUElYSS5CYXRjaFBsdWdpbkZhY3RvcnkuY3JlYXRlKHsgZnJhZ21lbnQgfSk7XG4gICAgICogUElYSS5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignaW52ZXJ0JywgSW52ZXJ0QmF0Y2hSZW5kZXJlcik7XG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKCk7XG4gICAgICogc3ByaXRlLnBsdWdpbk5hbWUgPSAnaW52ZXJ0JztcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnZlcnRleD1QSVhJLkJhdGNoUGx1Z2luRmFjdG9yeS5kZWZhdWx0VmVydGV4U3JjXSAtIFZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZyYWdtZW50PVBJWEkuQmF0Y2hQbHVnaW5GYWN0b3J5LmRlZmF1bHRGcmFnbWVudFRlbXBsYXRlXSAtIEZyYWdtZW50IHNoYWRlciB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy52ZXJ0ZXhTaXplPTZdIC0gVmVydGV4IHNpemVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuZ2VvbWV0cnlDbGFzcz1QSVhJLkJhdGNoR2VvbWV0cnldXG4gICAgICogQHJldHVybiB7Kn0gTmV3IGJhdGNoIHJlbmRlcmVyIHBsdWdpblxuICAgICAqL1xuICAgIEJhdGNoUGx1Z2luRmFjdG9yeS5jcmVhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX2EgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHZlcnRleDogZGVmYXVsdFZlcnRleCQyLFxuICAgICAgICAgICAgZnJhZ21lbnQ6IGRlZmF1bHRGcmFnbWVudCQyLFxuICAgICAgICAgICAgZ2VvbWV0cnlDbGFzczogQmF0Y2hHZW9tZXRyeSxcbiAgICAgICAgICAgIHZlcnRleFNpemU6IDYsXG4gICAgICAgIH0sIG9wdGlvbnMpLCB2ZXJ0ZXggPSBfYS52ZXJ0ZXgsIGZyYWdtZW50ID0gX2EuZnJhZ21lbnQsIHZlcnRleFNpemUgPSBfYS52ZXJ0ZXhTaXplLCBnZW9tZXRyeUNsYXNzID0gX2EuZ2VvbWV0cnlDbGFzcztcbiAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhCYXRjaFBsdWdpbiwgX3N1cGVyKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIEJhdGNoUGx1Z2luKHJlbmRlcmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2hhZGVyR2VuZXJhdG9yID0gbmV3IEJhdGNoU2hhZGVyR2VuZXJhdG9yKHZlcnRleCwgZnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgIF90aGlzLmdlb21ldHJ5Q2xhc3MgPSBnZW9tZXRyeUNsYXNzO1xuICAgICAgICAgICAgICAgIF90aGlzLnZlcnRleFNpemUgPSB2ZXJ0ZXhTaXplO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBCYXRjaFBsdWdpbjtcbiAgICAgICAgfShBYnN0cmFjdEJhdGNoUmVuZGVyZXIpKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXRjaFBsdWdpbkZhY3RvcnksIFwiZGVmYXVsdFZlcnRleFNyY1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleCQyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhdGNoUGx1Z2luRmFjdG9yeSwgXCJkZWZhdWx0RnJhZ21lbnRUZW1wbGF0ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0RnJhZ21lbnQkMjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCYXRjaFBsdWdpbkZhY3Rvcnk7XG59KCkpO1xuLy8gU2V0dXAgdGhlIGRlZmF1bHQgQmF0Y2hSZW5kZXJlciBwbHVnaW4sIHRoaXMgaXMgd2hhdFxuLy8gd2UnbGwgYWN0dWFsbHkgZXhwb3J0IGF0IHRoZSByb290IGxldmVsXG52YXIgQmF0Y2hSZW5kZXJlciA9IEJhdGNoUGx1Z2luRmFjdG9yeS5jcmVhdGUoKTtcblxuZXhwb3J0IHsgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLCBBYnN0cmFjdFJlbmRlcmVyLCBBdHRyaWJ1dGUsIEJhc2VSZW5kZXJUZXh0dXJlLCBCYXNlVGV4dHVyZSwgQmF0Y2hEcmF3Q2FsbCwgQmF0Y2hHZW9tZXRyeSwgQmF0Y2hQbHVnaW5GYWN0b3J5LCBCYXRjaFJlbmRlcmVyLCBCYXRjaFNoYWRlckdlbmVyYXRvciwgQmF0Y2hUZXh0dXJlQXJyYXksIEJ1ZmZlciwgRmlsdGVyLCBGaWx0ZXJTdGF0ZSwgRnJhbWVidWZmZXIsIEdMRnJhbWVidWZmZXIsIEdMUHJvZ3JhbSwgR0xUZXh0dXJlLCBHZW9tZXRyeSwgSUdMVW5pZm9ybURhdGEsIE1hc2tEYXRhLCBPYmplY3RSZW5kZXJlciwgUHJvZ3JhbSwgUXVhZCwgUXVhZFV2LCBSZW5kZXJUZXh0dXJlLCBSZW5kZXJUZXh0dXJlUG9vbCwgUmVuZGVyZXIsIFNoYWRlciwgU3ByaXRlTWFza0ZpbHRlciwgU3RhdGUsIFN5c3RlbSwgVGV4dHVyZSwgVGV4dHVyZU1hdHJpeCwgVGV4dHVyZVV2cywgVW5pZm9ybUdyb3VwLCBWaWV3YWJsZUJ1ZmZlciwgYXV0b0RldGVjdFJlbmRlcmVyLCBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyLCBkZWZhdWx0RmlsdGVyIGFzIGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIF9kZWZhdWx0IGFzIGRlZmF1bHRWZXJ0ZXgsIGluZGV4IGFzIHJlc291cmNlcywgc3lzdGVtcywgdW5pZm9ybVBhcnNlcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcmUuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2FwcCAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9hcHAgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IGF1dG9EZXRlY3RSZW5kZXJlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKipcbiAqIENvbnZlbmllbmNlIGNsYXNzIHRvIGNyZWF0ZSBhIG5ldyBQSVhJIGFwcGxpY2F0aW9uLlxuICpcbiAqIFRoaXMgY2xhc3MgYXV0b21hdGljYWxseSBjcmVhdGVzIHRoZSByZW5kZXJlciwgdGlja2VyIGFuZCByb290IGNvbnRhaW5lci5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIHRoZSBhcHBsaWNhdGlvblxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBBZGQgdGhlIHZpZXcgdG8gdGhlIERPTVxuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XG4gKlxuICogLy8gZXgsIGFkZCBkaXNwbGF5IG9iamVjdHNcbiAqIGFwcC5zdGFnZS5hZGRDaGlsZChQSVhJLlNwcml0ZS5mcm9tKCdzb21ldGhpbmcucG5nJykpO1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFwcGxpY2F0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9TdGFydD10cnVlXSAtIEF1dG9tYXRpY2FsbHkgc3RhcnRzIHRoZSByZW5kZXJpbmcgYWZ0ZXIgdGhlIGNvbnN0cnVjdGlvbi5cbiAgICAgKiAgICAgKipOb3RlKio6IFNldHRpbmcgdGhpcyBwYXJhbWV0ZXIgdG8gZmFsc2UgZG9lcyBOT1Qgc3RvcCB0aGUgc2hhcmVkIHRpY2tlciBldmVuIGlmIHlvdSBzZXRcbiAgICAgKiAgICAgb3B0aW9ucy5zaGFyZWRUaWNrZXIgdG8gdHJ1ZSBpbiBjYXNlIHRoYXQgaXQgaXMgYWxyZWFkeSBzdGFydGVkLiBTdG9wIGl0IGJ5IHlvdXIgb3duLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gVGhlIHdpZHRoIG9mIHRoZSByZW5kZXJlcnMgdmlldy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSByZW5kZXJlcnMgdmlldy5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIFRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvRGVuc2l0eT1mYWxzZV0gLSBSZXNpemVzIHJlbmRlcmVyIHZpZXcgaW4gQ1NTIHBpeGVscyB0byBhbGxvdyBmb3JcbiAgICAgKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBTZXRzIGFudGlhbGlhc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIEVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLCBlbmFibGUgdGhpcyBpZiB5b3VcbiAgICAgKiAgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgV2ViR0wgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlciwgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUNhbnZhcz1mYWxzZV0gLSBwcmV2ZW50cyBzZWxlY3Rpb24gb2YgV2ViR0wgcmVuZGVyZXIsIGV2ZW4gaWYgc3VjaCBpcyBwcmVzZW50LCB0aGlzXG4gICAgICogICBvcHRpb24gb25seSBpcyBhdmFpbGFibGUgd2hlbiB1c2luZyAqKnBpeGkuanMtbGVnYWN5Kiogb3IgKipAcGl4aS9jYW52YXMtcmVuZGVyZXIqKiBtb2R1bGVzLCBvdGhlcndpc2VcbiAgICAgKiAgIGl0IGlzIGlnbm9yZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICAgICAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAgICAgKiAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG93ZXJQcmVmZXJlbmNlXSAtIFBhcmFtZXRlciBwYXNzZWQgdG8gd2ViZ2wgY29udGV4dCwgc2V0IHRvIFwiaGlnaC1wZXJmb3JtYW5jZVwiXG4gICAgICogIGZvciBkZXZpY2VzIHdpdGggZHVhbCBncmFwaGljcyBjYXJkLiAqKihXZWJHTCBvbmx5KSoqLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hhcmVkVGlja2VyPWZhbHNlXSAtIGB0cnVlYCB0byB1c2UgUElYSS5UaWNrZXIuc2hhcmVkLCBgZmFsc2VgIHRvIGNyZWF0ZSBuZXcgdGlja2VyLlxuICAgICAqICBJZiBzZXQgdG8gZmFsc2UsIHlvdSBjYW5ub3QgcmVnaXN0ZXIgYSBoYW5kbGVyIHRvIG9jY3VyIGJlZm9yZSBhbnl0aGluZyB0aGF0IHJ1bnMgb24gdGhlIHNoYXJlZCB0aWNrZXIuXG4gICAgICogIFRoZSBzeXN0ZW0gdGlja2VyIHdpbGwgYWx3YXlzIHJ1biBiZWZvcmUgYm90aCB0aGUgc2hhcmVkIHRpY2tlciBhbmQgdGhlIGFwcCB0aWNrZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zaGFyZWRMb2FkZXI9ZmFsc2VdIC0gYHRydWVgIHRvIHVzZSBQSVhJLkxvYWRlci5zaGFyZWQsIGBmYWxzZWAgdG8gY3JlYXRlIG5ldyBMb2FkZXIuXG4gICAgICogQHBhcmFtIHtXaW5kb3d8SFRNTEVsZW1lbnR9IFtvcHRpb25zLnJlc2l6ZVRvXSAtIEVsZW1lbnQgdG8gYXV0b21hdGljYWxseSByZXNpemUgc3RhZ2UgdG8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXBwbGljYXRpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBUaGUgZGVmYXVsdCBvcHRpb25zXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGZvcmNlQ2FudmFzOiBmYWxzZSxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZWJHTCByZW5kZXJlciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBDYW52YXNSZW5kZXJlci5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1JlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IGF1dG9EZXRlY3RSZW5kZXJlcihvcHRpb25zKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb290IGRpc3BsYXkgY29udGFpbmVyIHRoYXQncyByZW5kZXJlZC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YWdlID0gbmV3IENvbnRhaW5lcigpO1xuICAgICAgICAvLyBpbnN0YWxsIHBsdWdpbnMgaGVyZVxuICAgICAgICBBcHBsaWNhdGlvbi5fcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgIHBsdWdpbi5pbml0LmNhbGwoX3RoaXMsIG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBtaWRkbGV3YXJlIHBsdWdpbiBmb3IgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5BcHBsaWNhdGlvbi5QbHVnaW59IHBsdWdpbiAtIFBsdWdpbiBiZWluZyBpbnN0YWxsZWRcbiAgICAgKi9cbiAgICBBcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgQXBwbGljYXRpb24uX3BsdWdpbnMucHVzaChwbHVnaW4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBjdXJyZW50IHN0YWdlLlxuICAgICAqL1xuICAgIEFwcGxpY2F0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRPRE86IFNpbmNlIENhbnZhc1JlbmRlcmVyIGhhcyBub3QgYmVlbiBjb252ZXJ0ZWQgdGhpcyBmdW5jdGlvbiB0aGlua3MgaXQgdGFrZXMgRGlzcGxheU9iamVjdCAmIFBJWEkuRGlzcGxheU9iamVjdFxuICAgICAgICAvLyBUaGlzIGNhbiBiZSBmaXhlZCB3aGVuIENhbnZhc1JlbmRlcmVyIGlzIGNvbnZlcnRlZC5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zdGFnZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwbGljYXRpb24ucHJvdG90eXBlLCBcInZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIGNhbnZhcyBlbGVtZW50LlxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnZpZXc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwbGljYXRpb24ucHJvdG90eXBlLCBcInNjcmVlblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyJ3Mgc2NyZWVuIHJlY3RhbmdsZS4gSXRzIHNhZmUgdG8gdXNlIGFzIGBmaWx0ZXJBcmVhYCBvciBgaGl0QXJlYWAgZm9yIHRoZSB3aG9sZSBzY3JlZW4uXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuc2NyZWVuO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBBdXRvbWF0aWNhbGx5IHJlbW92ZSBjYW52YXMgZnJvbSBET00uXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW3N0YWdlT3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0YWdlT3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdzdGFnZU9wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0YWdlT3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBzdGFnZU9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0XG4gICAgICogIHRvIHRydWUuIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIHN0YWdlT3B0aW9ucy5jaGlsZHJlbiBpcyBzZXRcbiAgICAgKiAgdG8gdHJ1ZS4gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgQXBwbGljYXRpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAocmVtb3ZlVmlldywgc3RhZ2VPcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIERlc3Ryb3kgcGx1Z2lucyBpbiB0aGUgb3Bwb3NpdGUgb3JkZXJcbiAgICAgICAgLy8gd2hpY2ggdGhleSB3ZXJlIGNvbnN0cnVjdGVkXG4gICAgICAgIHZhciBwbHVnaW5zID0gQXBwbGljYXRpb24uX3BsdWdpbnMuc2xpY2UoMCk7XG4gICAgICAgIHBsdWdpbnMucmV2ZXJzZSgpO1xuICAgICAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgcGx1Z2luLmRlc3Ryb3kuY2FsbChfdGhpcyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0YWdlLmRlc3Ryb3koc3RhZ2VPcHRpb25zKTtcbiAgICAgICAgdGhpcy5zdGFnZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZGVzdHJveShyZW1vdmVWaWV3KTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQXBwbGljYXRpb247XG59KCkpO1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvblxuICogQHR5cGVkZWYge29iamVjdH0gUGx1Z2luXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBpbml0IC0gQ2FsbGVkIHdoZW4gQXBwbGljYXRpb24gaXMgY29uc3RydWN0ZWQsIHNjb3BlZCB0byBBcHBsaWNhdGlvbiBpbnN0YW5jZS5cbiAqICBQYXNzZXMgaW4gYG9wdGlvbnNgIGFzIHRoZSBvbmx5IGFyZ3VtZW50LCB3aGljaCBhcmUgQXBwbGljYXRpb24gY29uc3RydWN0b3Igb3B0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IGRlc3Ryb3kgLSBDYWxsZWQgd2hlbiBkZXN0cm95aW5nIEFwcGxpY2F0aW9uLCBzY29wZWQgdG8gQXBwbGljYXRpb24gaW5zdGFuY2VcbiAqL1xuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGluc3RhbGxlZCBwbHVnaW5zLlxuICogQHN0YXRpY1xuICogQHByaXZhdGVcbiAqIEB0eXBlIHtQSVhJLkFwcGxpY2F0aW9uLlBsdWdpbltdfVxuICovXG5BcHBsaWNhdGlvbi5fcGx1Z2lucyA9IFtdO1xuXG4vKipcbiAqIE1pZGRsZXdhcmUgZm9yIGZvciBBcHBsaWNhdGlvbidzIHJlc2l6ZSBmdW5jdGlvbmFsaXR5XG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKi9cbnZhciBSZXNpemVQbHVnaW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplUGx1Z2luKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBwbHVnaW4gd2l0aCBzY29wZSBvZiBhcHBsaWNhdGlvbiBpbnN0YW5jZVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBTZWUgYXBwbGljYXRpb24gb3B0aW9uc1xuICAgICAqL1xuICAgIFJlc2l6ZVBsdWdpbi5pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBIVE1MIGVsZW1lbnQgb3Igd2luZG93IHRvIGF1dG9tYXRpY2FsbHkgcmVzaXplIHRoZVxuICAgICAgICAgKiByZW5kZXJlcidzIHZpZXcgZWxlbWVudCB0byBtYXRjaCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAgICAgKiBAdHlwZSB7V2luZG93fEhUTUxFbGVtZW50fVxuICAgICAgICAgKiBAbmFtZSByZXNpemVUb1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmVzaXplVG8nLCB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkb20pIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5xdWV1ZVJlc2l6ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzaXplVG8gPSBkb207XG4gICAgICAgICAgICAgICAgaWYgKGRvbSkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5xdWV1ZVJlc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXNpemVUbztcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVzaXplIGlzIHRocm90dGxlZCwgc28gaXQnc1xuICAgICAgICAgKiBzYWZlIHRvIGNhbGwgdGhpcyBtdWx0aXBsZSB0aW1lcyBwZXIgZnJhbWUgYW5kIGl0J2xsXG4gICAgICAgICAqIG9ubHkgYmUgY2FsbGVkIG9uY2UuXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNxdWV1ZVJlc2l6ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5xdWV1ZVJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuX3Jlc2l6ZVRvKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuY2FuY2VsUmVzaXplKCk7XG4gICAgICAgICAgICAvLyAvLyBUaHJvdHRsZSByZXNpemUgZXZlbnRzIHBlciByYWZcbiAgICAgICAgICAgIF90aGlzLl9yZXNpemVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5yZXNpemUoKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW5jZWwgdGhlIHJlc2l6ZSBxdWV1ZS5cbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI2NhbmNlbFJlc2l6ZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYW5jZWxSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX3Jlc2l6ZUlkKSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoX3RoaXMuX3Jlc2l6ZUlkKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVzaXplSWQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogRXhlY3V0ZSBhbiBpbW1lZGlhdGUgcmVzaXplIG9uIHRoZSByZW5kZXJlciwgdGhpcyBpcyBub3RcbiAgICAgICAgICogdGhyb3R0bGVkIGFuZCBjYW4gYmUgZXhwZW5zaXZlIHRvIGNhbGwgbWFueSB0aW1lcyBpbiBhIHJvdy5cbiAgICAgICAgICogV2lsbCByZXNpemUgb25seSBpZiBgcmVzaXplVG9gIHByb3BlcnR5IGlzIHNldC5cbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI3Jlc2l6ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLl9yZXNpemVUbykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNsZWFyIHF1ZXVlIHJlc2l6ZVxuICAgICAgICAgICAgX3RoaXMuY2FuY2VsUmVzaXplKCk7XG4gICAgICAgICAgICB2YXIgd2lkdGg7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0O1xuICAgICAgICAgICAgLy8gUmVzaXplIHRvIHRoZSB3aW5kb3dcbiAgICAgICAgICAgIGlmIChfdGhpcy5fcmVzaXplVG8gPT09IHdpbmRvdykge1xuICAgICAgICAgICAgICAgIHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVzaXplIHRvIG90aGVyIEhUTUwgZW50aXRpZXNcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLl9yZXNpemVUbywgY2xpZW50V2lkdGggPSBfYS5jbGllbnRXaWR0aCwgY2xpZW50SGVpZ2h0ID0gX2EuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgICAgIHdpZHRoID0gY2xpZW50V2lkdGg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMucmVuZGVyZXIucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBPbiByZXNpemVcbiAgICAgICAgdGhpcy5fcmVzaXplSWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZXNpemVUbyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzaXplVG8gPSBvcHRpb25zLnJlc2l6ZVRvIHx8IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCB0aGUgdGlja2VyLCBzY29wZWQgdG8gYXBwbGljYXRpb25cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSZXNpemVQbHVnaW4uZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxSZXNpemUoKTtcbiAgICAgICAgdGhpcy5jYW5jZWxSZXNpemUgPSBudWxsO1xuICAgICAgICB0aGlzLnF1ZXVlUmVzaXplID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNpemVUbyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzaXplID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBSZXNpemVQbHVnaW47XG59KCkpO1xuXG5BcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihSZXNpemVQbHVnaW4pO1xuXG5leHBvcnQgeyBBcHBsaWNhdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9leHRyYWN0IC0gdjUuMy4zXG4gKiBDb21waWxlZCBUdWUsIDA0IEF1ZyAyMDIwIDE2OjIzOjA5IFVUQ1xuICpcbiAqIEBwaXhpL2V4dHJhY3QgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBDYW52YXNSZW5kZXJUYXJnZXQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFJlbmRlclRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcblxudmFyIFRFTVBfUkVDVCA9IG5ldyBSZWN0YW5nbGUoKTtcbnZhciBCWVRFU19QRVJfUElYRUwgPSA0O1xuLyoqXG4gKiBUaGlzIGNsYXNzIHByb3ZpZGVzIHJlbmRlcmVyLXNwZWNpZmljIHBsdWdpbnMgZm9yIGV4cG9ydGluZyBjb250ZW50IGZyb20gYSByZW5kZXJlci5cbiAqIEZvciBpbnN0YW5jZSwgdGhlc2UgcGx1Z2lucyBjYW4gYmUgdXNlZCBmb3Igc2F2aW5nIGFuIEltYWdlLCBDYW52YXMgZWxlbWVudCBvciBmb3IgZXhwb3J0aW5nIHRoZSByYXcgaW1hZ2UgZGF0YSAocGl4ZWxzKS5cbiAqXG4gKiBEbyBub3QgaW5zdGFudGlhdGUgdGhlc2UgcGx1Z2lucyBkaXJlY3RseS4gSXQgaXMgYXZhaWxhYmxlIGZyb20gdGhlIGByZW5kZXJlci5wbHVnaW5zYCBwcm9wZXJ0eS5cbiAqIFNlZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlciNwbHVnaW5zfSBvciB7QGxpbmsgUElYSS5SZW5kZXJlciNwbHVnaW5zfS5cbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBuZXcgYXBwICh3aWxsIGF1dG8tYWRkIGV4dHJhY3QgcGx1Z2luIHRvIHJlbmRlcmVyKVxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBEcmF3IGEgcmVkIGNpcmNsZVxuICogY29uc3QgZ3JhcGhpY3MgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gKiAgICAgLmJlZ2luRmlsbCgweEZGMDAwMClcbiAqICAgICAuZHJhd0NpcmNsZSgwLCAwLCA1MCk7XG4gKlxuICogLy8gUmVuZGVyIHRoZSBncmFwaGljcyBhcyBhbiBIVE1MSW1hZ2VFbGVtZW50XG4gKiBjb25zdCBpbWFnZSA9IGFwcC5yZW5kZXJlci5wbHVnaW5zLmV4dHJhY3QuaW1hZ2UoZ3JhcGhpY3MpO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbWFnZSk7XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBFeHRyYWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEV4dHJhY3QocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIGZvciBleHRyYWN0aW5nIGRhdGEgKGltYWdlLCBwaXhlbHMsIGV0Yy4pIGZyb20gYSBkaXNwbGF5IG9iamVjdCBvciByZW5kZXIgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkV4dHJhY3R9IGV4dHJhY3RcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAqIEBzZWUgUElYSS5FeHRyYWN0XG4gICAgICAgICAqL1xuICAgICAgICByZW5kZXJlci5leHRyYWN0ID0gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0XSAtIEltYWdlIGZvcm1hdCwgZS5nLiBcImltYWdlL2pwZWdcIiBvciBcImltYWdlL3dlYnBcIi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3F1YWxpdHldIC0gSlBFRyBvciBXZWJwIGNvbXByZXNzaW9uIGZyb20gMCB0byAxLiBEZWZhdWx0IGlzIDAuOTIuXG4gICAgICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudH0gSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gICAgICovXG4gICAgRXh0cmFjdC5wcm90b3R5cGUuaW1hZ2UgPSBmdW5jdGlvbiAodGFyZ2V0LCBmb3JtYXQsIHF1YWxpdHkpIHtcbiAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltYWdlLnNyYyA9IHRoaXMuYmFzZTY0KHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KTtcbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGlzIHRhcmdldC4gSXQgd29ya3MgYnkgY2FsbGluZ1xuICAgICAqICBgRXh0cmFjdC5nZXRDYW52YXNgIGFuZCB0aGVuIHJ1bm5pbmcgdG9EYXRhVVJMIG9uIHRoYXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gLSBJbWFnZSBmb3JtYXQsIGUuZy4gXCJpbWFnZS9qcGVnXCIgb3IgXCJpbWFnZS93ZWJwXCIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtxdWFsaXR5XSAtIEpQRUcgb3IgV2VicCBjb21wcmVzc2lvbiBmcm9tIDAgdG8gMS4gRGVmYXVsdCBpcyAwLjkyLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gQSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhlIHRleHR1cmUuXG4gICAgICovXG4gICAgRXh0cmFjdC5wcm90b3R5cGUuYmFzZTY0ID0gZnVuY3Rpb24gKHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcyh0YXJnZXQpLnRvRGF0YVVSTChmb3JtYXQsIHF1YWxpdHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENhbnZhcyBlbGVtZW50LCByZW5kZXJzIHRoaXMgdGFyZ2V0IHRvIGl0IGFuZCB0aGVuIHJldHVybnMgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQSBDYW52YXMgZWxlbWVudCB3aXRoIHRoZSB0ZXh0dXJlIHJlbmRlcmVkIG9uLlxuICAgICAqL1xuICAgIEV4dHJhY3QucHJvdG90eXBlLmNhbnZhcyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHJlc29sdXRpb247XG4gICAgICAgIHZhciBmcmFtZTtcbiAgICAgICAgdmFyIGZsaXBZID0gZmFsc2U7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlO1xuICAgICAgICB2YXIgZ2VuZXJhdGVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBSZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgICAgICBmbGlwWSA9IGZhbHNlO1xuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZsaXBZID0gdHJ1ZTtcbiAgICAgICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICAgICAgZnJhbWUud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoO1xuICAgICAgICAgICAgZnJhbWUuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5mbG9vcigoZnJhbWUud2lkdGggKiByZXNvbHV0aW9uKSArIDFlLTQpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5mbG9vcigoZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbikgKyAxZS00KTtcbiAgICAgICAgdmFyIGNhbnZhc0J1ZmZlciA9IG5ldyBDYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgMSk7XG4gICAgICAgIHZhciB3ZWJnbFBpeGVscyA9IG5ldyBVaW50OEFycmF5KEJZVEVTX1BFUl9QSVhFTCAqIHdpZHRoICogaGVpZ2h0KTtcbiAgICAgICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBnbC5yZWFkUGl4ZWxzKGZyYW1lLnggKiByZXNvbHV0aW9uLCBmcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgd2ViZ2xQaXhlbHMpO1xuICAgICAgICAvLyBhZGQgdGhlIHBpeGVscyB0byB0aGUgY2FudmFzXG4gICAgICAgIHZhciBjYW52YXNEYXRhID0gY2FudmFzQnVmZmVyLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBFeHRyYWN0LmFycmF5UG9zdERpdmlkZSh3ZWJnbFBpeGVscywgY2FudmFzRGF0YS5kYXRhKTtcbiAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQucHV0SW1hZ2VEYXRhKGNhbnZhc0RhdGEsIDAsIDApO1xuICAgICAgICAvLyBwdWxsaW5nIHBpeGVsc1xuICAgICAgICBpZiAoZmxpcFkpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRfMSA9IG5ldyBDYW52YXNSZW5kZXJUYXJnZXQoY2FudmFzQnVmZmVyLndpZHRoLCBjYW52YXNCdWZmZXIuaGVpZ2h0LCAxKTtcbiAgICAgICAgICAgIHRhcmdldF8xLmNvbnRleHQuc2NhbGUoMSwgLTEpO1xuICAgICAgICAgICAgLy8gd2UgY2FuJ3QgcmVuZGVyIHRvIGl0c2VsZiBiZWNhdXNlIHdlIHNob3VsZCBiZSBlbXB0eSBiZWZvcmUgcmVuZGVyLlxuICAgICAgICAgICAgdGFyZ2V0XzEuY29udGV4dC5kcmF3SW1hZ2UoY2FudmFzQnVmZmVyLmNhbnZhcywgMCwgLWhlaWdodCk7XG4gICAgICAgICAgICBjYW52YXNCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgY2FudmFzQnVmZmVyID0gdGFyZ2V0XzE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdlbmVyYXRlZCkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNlbmQgdGhlIGNhbnZhcyBiYWNrLi5cbiAgICAgICAgcmV0dXJuIGNhbnZhc0J1ZmZlci5jYW52YXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIG9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZSBpbiBSR0JBXG4gICAgICogb3JkZXIsIHdpdGggaW50ZWdlciB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAyNTUgKGluY2x1ZGVkKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9IE9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZVxuICAgICAqL1xuICAgIEV4dHJhY3QucHJvdG90eXBlLnBpeGVscyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHJlc29sdXRpb247XG4gICAgICAgIHZhciBmcmFtZTtcbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmU7XG4gICAgICAgIHZhciBnZW5lcmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZyYW1lID0gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gcmVuZGVyZXIud2lkdGg7XG4gICAgICAgICAgICBmcmFtZS5oZWlnaHQgPSByZW5kZXJlci5oZWlnaHQ7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gZnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuICAgICAgICAvLyByZWFkIHBpeGVscyB0byB0aGUgYXJyYXlcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIGdsLnJlYWRQaXhlbHMoZnJhbWUueCAqIHJlc29sdXRpb24sIGZyYW1lLnkgKiByZXNvbHV0aW9uLCB3aWR0aCwgaGVpZ2h0LCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB3ZWJnbFBpeGVscyk7XG4gICAgICAgIGlmIChnZW5lcmF0ZWQpIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBFeHRyYWN0LmFycmF5UG9zdERpdmlkZSh3ZWJnbFBpeGVscywgd2ViZ2xQaXhlbHMpO1xuICAgICAgICByZXR1cm4gd2ViZ2xQaXhlbHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgZXh0cmFjdFxuICAgICAqXG4gICAgICovXG4gICAgRXh0cmFjdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5leHRyYWN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUYWtlcyBwcmVtdWx0aXBsaWVkIHBpeGVsIGRhdGEgYW5kIHByb2R1Y2VzIHJlZ3VsYXIgcGl4ZWwgZGF0YVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gcGl4ZWxzIHtudW1iZXJbXSB8IFVpbnQ4QXJyYXkgfCBVaW50OENsYW1wZWRBcnJheX0gYXJyYXkgb2YgcGl4ZWwgZGF0YVxuICAgICAqIEBwYXJhbSBvdXQge251bWJlcltdIHwgVWludDhBcnJheSB8IFVpbnQ4Q2xhbXBlZEFycmF5fSBvdXRwdXQgYXJyYXlcbiAgICAgKi9cbiAgICBFeHRyYWN0LmFycmF5UG9zdERpdmlkZSA9IGZ1bmN0aW9uIChwaXhlbHMsIG91dCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBpeGVscy5sZW5ndGg7IGkgKz0gNCkge1xuICAgICAgICAgICAgdmFyIGFscGhhID0gb3V0W2kgKyAzXSA9IHBpeGVsc1tpICsgM107XG4gICAgICAgICAgICBpZiAoYWxwaGEgIT09IDApIHtcbiAgICAgICAgICAgICAgICBvdXRbaV0gPSBNYXRoLnJvdW5kKE1hdGgubWluKHBpeGVsc1tpXSAqIDI1NS4wIC8gYWxwaGEsIDI1NS4wKSk7XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAxXSA9IE1hdGgucm91bmQoTWF0aC5taW4ocGl4ZWxzW2kgKyAxXSAqIDI1NS4wIC8gYWxwaGEsIDI1NS4wKSk7XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAyXSA9IE1hdGgucm91bmQoTWF0aC5taW4ocGl4ZWxzW2kgKyAyXSAqIDI1NS4wIC8gYWxwaGEsIDI1NS4wKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXRbaV0gPSBwaXhlbHNbaV07XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAxXSA9IHBpeGVsc1tpICsgMV07XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAyXSA9IHBpeGVsc1tpICsgMl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBFeHRyYWN0O1xufSgpKTtcblxuZXhwb3J0IHsgRXh0cmFjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0cmFjdC5lcy5qcy5tYXBcbiIsIi8qIVxuICogcmVzb3VyY2UtbG9hZGVyIC0gdjMuMC4xXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktc291bmRcbiAqIENvbXBpbGVkIFR1ZSwgMDIgSnVsIDIwMTkgMTQ6MDY6MTggVVRDXG4gKlxuICogcmVzb3VyY2UtbG9hZGVyIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHBhcnNlVXJpIGZyb20gJ3BhcnNlLXVyaSc7XG5pbXBvcnQgU2lnbmFsIGZyb20gJ21pbmktc2lnbmFscyc7XG5cbi8qKlxuICogU21hbGxlciB2ZXJzaW9uIG9mIHRoZSBhc3luYyBsaWJyYXJ5IGNvbnN0cnVjdHMuXG4gKlxuICogQG5hbWVzcGFjZSBhc3luY1xuICovXG5cbi8qKlxuICogTm9vcCBmdW5jdGlvblxuICpcbiAqIEBpZ25vcmVcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIGFzeW5jXG4gKi9cbmZ1bmN0aW9uIF9ub29wKCkge31cbi8qIGVtcHR5ICovXG5cbi8qKlxuICogSXRlcmF0ZXMgYW4gYXJyYXkgaW4gc2VyaWVzLlxuICpcbiAqIEBtZW1iZXJvZiBhc3luY1xuICogQGZ1bmN0aW9uIGVhY2hTZXJpZXNcbiAqIEBwYXJhbSB7QXJyYXkuPCo+fSBhcnJheSAtIEFycmF5IHRvIGl0ZXJhdGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBpdGVyYXRvciAtIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggZWxlbWVudC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGRvbmUsIG9yIG9uIGVycm9yLlxuICogQHBhcmFtIHtib29sZWFufSBbZGVmZXJOZXh0PWZhbHNlXSAtIEJyZWFrIHN5bmNocm9ub3VzIGVhY2ggbG9vcCBieSBjYWxsaW5nIG5leHQgd2l0aCBhIHNldFRpbWVvdXQgb2YgMS5cbiAqL1xuXG5cbmZ1bmN0aW9uIGVhY2hTZXJpZXMoYXJyYXksIGl0ZXJhdG9yLCBjYWxsYmFjaywgZGVmZXJOZXh0KSB7XG4gIHZhciBpID0gMDtcbiAgdmFyIGxlbiA9IGFycmF5Lmxlbmd0aDtcblxuICAoZnVuY3Rpb24gbmV4dChlcnIpIHtcbiAgICBpZiAoZXJyIHx8IGkgPT09IGxlbikge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGVmZXJOZXh0KSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgICB9LCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgfVxuICB9KSgpO1xufVxuLyoqXG4gKiBFbnN1cmVzIGEgZnVuY3Rpb24gaXMgb25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBAaWdub3JlXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIHdyYXBwaW5nIGZ1bmN0aW9uLlxuICovXG5cbmZ1bmN0aW9uIG9ubHlPbmNlKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgICBpZiAoZm4gPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2FsbGJhY2sgd2FzIGFscmVhZHkgY2FsbGVkLicpO1xuICAgIH1cblxuICAgIHZhciBjYWxsRm4gPSBmbjtcbiAgICBmbiA9IG51bGw7XG4gICAgY2FsbEZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59XG4vKipcbiAqIEFzeW5jIHF1ZXVlIGltcGxlbWVudGF0aW9uLFxuICpcbiAqIEBtZW1iZXJvZiBhc3luY1xuICogQGZ1bmN0aW9uIHF1ZXVlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSB3b3JrZXIgLSBUaGUgd29ya2VyIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdGFzay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb25jdXJyZW5jeSAtIEhvdyBtYW55IHdvcmtlcnMgdG8gcnVuIGluIHBhcnJhbGxlbC5cbiAqIEByZXR1cm4geyp9IFRoZSBhc3luYyBxdWV1ZSBvYmplY3QuXG4gKi9cblxuXG5mdW5jdGlvbiBxdWV1ZSh3b3JrZXIsIGNvbmN1cnJlbmN5KSB7XG4gIGlmIChjb25jdXJyZW5jeSA9PSBudWxsKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgIGNvbmN1cnJlbmN5ID0gMTtcbiAgfSBlbHNlIGlmIChjb25jdXJyZW5jeSA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ29uY3VycmVuY3kgbXVzdCBub3QgYmUgemVybycpO1xuICB9XG5cbiAgdmFyIHdvcmtlcnMgPSAwO1xuICB2YXIgcSA9IHtcbiAgICBfdGFza3M6IFtdLFxuICAgIGNvbmN1cnJlbmN5OiBjb25jdXJyZW5jeSxcbiAgICBzYXR1cmF0ZWQ6IF9ub29wLFxuICAgIHVuc2F0dXJhdGVkOiBfbm9vcCxcbiAgICBidWZmZXI6IGNvbmN1cnJlbmN5IC8gNCxcbiAgICBlbXB0eTogX25vb3AsXG4gICAgZHJhaW46IF9ub29wLFxuICAgIGVycm9yOiBfbm9vcCxcbiAgICBzdGFydGVkOiBmYWxzZSxcbiAgICBwYXVzZWQ6IGZhbHNlLFxuICAgIHB1c2g6IGZ1bmN0aW9uIHB1c2goZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgIF9pbnNlcnQoZGF0YSwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIGtpbGw6IGZ1bmN0aW9uIGtpbGwoKSB7XG4gICAgICB3b3JrZXJzID0gMDtcbiAgICAgIHEuZHJhaW4gPSBfbm9vcDtcbiAgICAgIHEuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgcS5fdGFza3MgPSBbXTtcbiAgICB9LFxuICAgIHVuc2hpZnQ6IGZ1bmN0aW9uIHVuc2hpZnQoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgIF9pbnNlcnQoZGF0YSwgdHJ1ZSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgcHJvY2VzczogZnVuY3Rpb24gcHJvY2VzcygpIHtcbiAgICAgIHdoaWxlICghcS5wYXVzZWQgJiYgd29ya2VycyA8IHEuY29uY3VycmVuY3kgJiYgcS5fdGFza3MubGVuZ3RoKSB7XG4gICAgICAgIHZhciB0YXNrID0gcS5fdGFza3Muc2hpZnQoKTtcblxuICAgICAgICBpZiAocS5fdGFza3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcS5lbXB0eSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgd29ya2VycyArPSAxO1xuXG4gICAgICAgIGlmICh3b3JrZXJzID09PSBxLmNvbmN1cnJlbmN5KSB7XG4gICAgICAgICAgcS5zYXR1cmF0ZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdvcmtlcih0YXNrLmRhdGEsIG9ubHlPbmNlKF9uZXh0KHRhc2spKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBsZW5ndGg6IGZ1bmN0aW9uIGxlbmd0aCgpIHtcbiAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGg7XG4gICAgfSxcbiAgICBydW5uaW5nOiBmdW5jdGlvbiBydW5uaW5nKCkge1xuICAgICAgcmV0dXJuIHdvcmtlcnM7XG4gICAgfSxcbiAgICBpZGxlOiBmdW5jdGlvbiBpZGxlKCkge1xuICAgICAgcmV0dXJuIHEuX3Rhc2tzLmxlbmd0aCArIHdvcmtlcnMgPT09IDA7XG4gICAgfSxcbiAgICBwYXVzZTogZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICBpZiAocS5wYXVzZWQgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBxLnBhdXNlZCA9IHRydWU7XG4gICAgfSxcbiAgICByZXN1bWU6IGZ1bmN0aW9uIHJlc3VtZSgpIHtcbiAgICAgIGlmIChxLnBhdXNlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBxLnBhdXNlZCA9IGZhbHNlOyAvLyBOZWVkIHRvIGNhbGwgcS5wcm9jZXNzIG9uY2UgcGVyIGNvbmN1cnJlbnRcbiAgICAgIC8vIHdvcmtlciB0byBwcmVzZXJ2ZSBmdWxsIGNvbmN1cnJlbmN5IGFmdGVyIHBhdXNlXG5cbiAgICAgIGZvciAodmFyIHcgPSAxOyB3IDw9IHEuY29uY3VycmVuY3k7IHcrKykge1xuICAgICAgICBxLnByb2Nlc3MoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gX2luc2VydChkYXRhLCBpbnNlcnRBdEZyb250LCBjYWxsYmFjaykge1xuICAgIGlmIChjYWxsYmFjayAhPSBudWxsICYmIHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCd0YXNrIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIHEuc3RhcnRlZCA9IHRydWU7XG5cbiAgICBpZiAoZGF0YSA9PSBudWxsICYmIHEuaWRsZSgpKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAvLyBjYWxsIGRyYWluIGltbWVkaWF0ZWx5IGlmIHRoZXJlIGFyZSBubyB0YXNrc1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBxLmRyYWluKCk7XG4gICAgICB9LCAxKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaXRlbSA9IHtcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBjYWxsYmFjazogdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nID8gY2FsbGJhY2sgOiBfbm9vcFxuICAgIH07XG5cbiAgICBpZiAoaW5zZXJ0QXRGcm9udCkge1xuICAgICAgcS5fdGFza3MudW5zaGlmdChpdGVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcS5fdGFza3MucHVzaChpdGVtKTtcbiAgICB9XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBxLnByb2Nlc3MoKTtcbiAgICB9LCAxKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9uZXh0KHRhc2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdvcmtlcnMgLT0gMTtcbiAgICAgIHRhc2suY2FsbGJhY2suYXBwbHkodGFzaywgYXJndW1lbnRzKTtcblxuICAgICAgaWYgKGFyZ3VtZW50c1swXSAhPSBudWxsKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgcS5lcnJvcihhcmd1bWVudHNbMF0sIHRhc2suZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh3b3JrZXJzIDw9IHEuY29uY3VycmVuY3kgLSBxLmJ1ZmZlcikge1xuICAgICAgICBxLnVuc2F0dXJhdGVkKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChxLmlkbGUoKSkge1xuICAgICAgICBxLmRyYWluKCk7XG4gICAgICB9XG5cbiAgICAgIHEucHJvY2VzcygpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gcTtcbn1cblxudmFyIGFzeW5jID0gKHtcbiAgICBlYWNoU2VyaWVzOiBlYWNoU2VyaWVzLFxuICAgIHF1ZXVlOiBxdWV1ZVxufSk7XG5cbi8vIGEgc2ltcGxlIGluLW1lbW9yeSBjYWNoZSBmb3IgcmVzb3VyY2VzXG52YXIgY2FjaGUgPSB7fTtcbi8qKlxuICogQSBzaW1wbGUgaW4tbWVtb3J5IGNhY2hlIGZvciByZXNvdXJjZS5cbiAqXG4gKiBAbWVtYmVyb2YgbWlkZGxld2FyZVxuICogQGZ1bmN0aW9uIGNhY2hpbmdcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBMb2FkZXIsIG1pZGRsZXdhcmUgfSBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xuICogbG9hZGVyLnVzZShtaWRkbGV3YXJlLmNhY2hpbmcpO1xuICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBDdXJyZW50IFJlc291cmNlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0IC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZVxuICovXG5cbmZ1bmN0aW9uIGNhY2hpbmcocmVzb3VyY2UsIG5leHQpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICAvLyBpZiBjYWNoZWQsIHRoZW4gc2V0IGRhdGEgYW5kIGNvbXBsZXRlIHRoZSByZXNvdXJjZVxuICBpZiAoY2FjaGVbcmVzb3VyY2UudXJsXSkge1xuICAgIHJlc291cmNlLmRhdGEgPSBjYWNoZVtyZXNvdXJjZS51cmxdO1xuICAgIHJlc291cmNlLmNvbXBsZXRlKCk7IC8vIG1hcmtzIHJlc291cmNlIGxvYWQgY29tcGxldGUgYW5kIHN0b3BzIHByb2Nlc3NpbmcgYmVmb3JlIG1pZGRsZXdhcmVzXG4gIH0gLy8gaWYgbm90IGNhY2hlZCwgd2FpdCBmb3IgY29tcGxldGUgYW5kIHN0b3JlIGl0IGluIHRoZSBjYWNoZS5cbiAgZWxzZSB7XG4gICAgICByZXNvdXJjZS5vbkNvbXBsZXRlLm9uY2UoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2FjaGVbX3RoaXMudXJsXSA9IF90aGlzLmRhdGE7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgbmV4dCgpO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5cbnZhciB1c2VYZHIgPSAhISh3aW5kb3cuWERvbWFpblJlcXVlc3QgJiYgISgnd2l0aENyZWRlbnRpYWxzJyBpbiBuZXcgWE1MSHR0cFJlcXVlc3QoKSkpO1xudmFyIHRlbXBBbmNob3IgPSBudWxsOyAvLyBzb21lIHN0YXR1cyBjb25zdGFudHNcblxudmFyIFNUQVRVU19OT05FID0gMDtcbnZhciBTVEFUVVNfT0sgPSAyMDA7XG52YXIgU1RBVFVTX0VNUFRZID0gMjA0O1xudmFyIFNUQVRVU19JRV9CVUdfRU1QVFkgPSAxMjIzO1xudmFyIFNUQVRVU19UWVBFX09LID0gMjsgLy8gbm9vcFxuXG5mdW5jdGlvbiBfbm9vcCQxKCkge31cbi8qIGVtcHR5ICovXG5cbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgYSByZXNvdXJjZSBhbmQgYWxsIGNoaWxkIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuXG5cbnZhciBSZXNvdXJjZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsb2FkIHR5cGUgdG8gYmUgdXNlZCBmb3IgYSBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIHRvIHNldCB0aGUgdHlwZSBmb3IsIGUuZy4gXCJwbmdcIiBvciBcImZudFwiXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBsb2FkVHlwZSAtIFRoZSBsb2FkIHR5cGUgdG8gc2V0IGl0IHRvLlxuICAgKi9cbiAgUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uTG9hZFR5cGUgPSBmdW5jdGlvbiBzZXRFeHRlbnNpb25Mb2FkVHlwZShleHRuYW1lLCBsb2FkVHlwZSkge1xuICAgIHNldEV4dE1hcChSZXNvdXJjZS5fbG9hZFR5cGVNYXAsIGV4dG5hbWUsIGxvYWRUeXBlKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSB4aHJUeXBlIC0gVGhlIHhociB0eXBlIHRvIHNldCBpdCB0by5cbiAgICovXG4gIDtcblxuICBSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlID0gZnVuY3Rpb24gc2V0RXh0ZW5zaW9uWGhyVHlwZShleHRuYW1lLCB4aHJUeXBlKSB7XG4gICAgc2V0RXh0TWFwKFJlc291cmNlLl94aHJUeXBlTWFwLCBleHRuYW1lLCB4aHJUeXBlKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIGZvciBhdWRpby92aWRlbyBsb2FkcyB5b3UgY2FuIHBhc3NcbiAgICogICAgICBhbiBhcnJheSBvZiBzb3VyY2VzLlxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgKiBAcGFyYW0ge3N0cmluZ3xib29sZWFufSBbb3B0aW9ucy5jcm9zc09yaWdpbl0gLSBJcyB0aGlzIHJlcXVlc3QgY3Jvc3Mtb3JpZ2luPyBEZWZhdWx0IGlzIHRvXG4gICAqICAgICAgZGV0ZXJtaW5lIGF1dG9tYXRpY2FsbHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50aW1lb3V0PTBdIC0gQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzXG4gICAqICAgICAgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXNcbiAgICogICAgICBzZXQgdG8gYDBgIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICogQHBhcmFtIHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtvcHRpb25zLmxvYWRUeXBlPVJlc291cmNlLkxPQURfVFlQRS5YSFJdIC0gSG93IHNob3VsZCB0aGlzIHJlc291cmNlXG4gICAqICAgICAgYmUgbG9hZGVkP1xuICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBbb3B0aW9ucy54aHJUeXBlPVJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFRdIC0gSG93XG4gICAqICAgICAgc2hvdWxkIHRoZSBkYXRhIGJlaW5nIGxvYWRlZCBiZSBpbnRlcnByZXRlZCB3aGVuIHVzaW5nIFhIUj9cbiAgICogQHBhcmFtIHtSZXNvdXJjZS5JTWV0YWRhdGF9IFtvcHRpb25zLm1ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAqL1xuICA7XG5cbiAgZnVuY3Rpb24gUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3RoIG5hbWUgYW5kIHVybCBhcmUgcmVxdWlyZWQgZm9yIGNvbnN0cnVjdGluZyBhIHJlc291cmNlLicpO1xuICAgIH1cblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIC8qKlxuICAgICAqIFRoZSBzdGF0ZSBmbGFncyBvZiB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLl9mbGFncyA9IDA7IC8vIHNldCBkYXRhIHVybCBmbGFnLCBuZWVkcyB0byBiZSBzZXQgZWFybHkgZm9yIHNvbWUgX2RldGVybWluZVggY2hlY2tzIHRvIHdvcmsuXG5cbiAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5EQVRBX1VSTCwgdXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgLyoqXG4gICAgICogVGhlIHVybCB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cblxuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIC8qKlxuICAgICAqIFRoZSBleHRlbnNpb24gdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cbiAgICB0aGlzLmV4dGVuc2lvbiA9IHRoaXMuX2dldEV4dGVuc2lvbigpO1xuICAgIC8qKlxuICAgICAqIFRoZSBkYXRhIHRoYXQgd2FzIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHthbnl9XG4gICAgICovXG5cbiAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cbiAgICB0aGlzLmNyb3NzT3JpZ2luID0gb3B0aW9ucy5jcm9zc09yaWdpbiA9PT0gdHJ1ZSA/ICdhbm9ueW1vdXMnIDogb3B0aW9ucy5jcm9zc09yaWdpbjtcbiAgICAvKipcbiAgICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgbG9hZC4gSWYgdGhlIGxvYWQgdGFrZXMgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lXG4gICAgICogaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpcyBzZXQgdG8gYDBgXG4gICAgICogdGhlbiB0aGVyZSBpcyBubyBleHBsaWNpdCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gICAgdGhpcy50aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0IHx8IDA7XG4gICAgLyoqXG4gICAgICogVGhlIG1ldGhvZCBvZiBsb2FkaW5nIHRvIHVzZSBmb3IgdGhpcyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlLkxPQURfVFlQRX1cbiAgICAgKi9cblxuICAgIHRoaXMubG9hZFR5cGUgPSBvcHRpb25zLmxvYWRUeXBlIHx8IHRoaXMuX2RldGVybWluZUxvYWRUeXBlKCk7XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgdXNlZCB0byBsb2FkIHRoZSByZXNvdXJjZSB2aWEgWEhSLiBJZiB1bnNldCwgZGV0ZXJtaW5lZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG4gICAgdGhpcy54aHJUeXBlID0gb3B0aW9ucy54aHJUeXBlO1xuICAgIC8qKlxuICAgICAqIEV4dHJhIGluZm8gZm9yIG1pZGRsZXdhcmUsIGFuZCBjb250cm9sbGluZyBzcGVjaWZpY3MgYWJvdXQgaG93IHRoZSByZXNvdXJjZSBsb2Fkcy5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBpZiB5b3UgcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAsIHRoZSBSZXNvdXJjZSBjbGFzcyB0YWtlcyBvd25lcnNoaXAgb2YgaXQuXG4gICAgICogTWVhbmluZyBpdCB3aWxsIG1vZGlmeSBpdCBhcyBpdCBzZWVzIGZpdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlLklNZXRhZGF0YX1cbiAgICAgKi9cblxuICAgIHRoaXMubWV0YWRhdGEgPSBvcHRpb25zLm1ldGFkYXRhIHx8IHt9O1xuICAgIC8qKlxuICAgICAqIFRoZSBlcnJvciB0aGF0IG9jY3VycmVkIHdoaWxlIGxvYWRpbmcgKGlmIGFueSkuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtFcnJvcn1cbiAgICAgKi9cblxuICAgIHRoaXMuZXJyb3IgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSBYSFIgb2JqZWN0IHRoYXQgd2FzIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLiBUaGlzIGlzIG9ubHkgc2V0XG4gICAgICogd2hlbiBgbG9hZFR5cGVgIGlzIGBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSYC5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge1hNTEh0dHBSZXF1ZXN0fVxuICAgICAqL1xuXG4gICAgdGhpcy54aHIgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSBjaGlsZCByZXNvdXJjZXMgdGhpcyByZXNvdXJjZSBvd25zLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgKi9cblxuICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb3VyY2UgdHlwZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlLlRZUEV9XG4gICAgICovXG5cbiAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlVOS05PV047XG4gICAgLyoqXG4gICAgICogVGhlIHByb2dyZXNzIGNodW5rIG93bmVkIGJ5IHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLnByb2dyZXNzQ2h1bmsgPSAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBgZGVxdWV1ZWAgbWV0aG9kIHRoYXQgd2lsbCBiZSB1c2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIGFzeW5jIHF1ZXVlIGRlcXVldWUgbWV0aG9kXG4gICAgICogdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICovXG5cbiAgICB0aGlzLl9kZXF1ZXVlID0gX25vb3AkMTtcbiAgICAvKipcbiAgICAgKiBVc2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIG9uIGxvYWQgYmluZGluZyB1c2VkIHByaXZhdGVseSBieSB0aGUgbG9hZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX29uTG9hZEJpbmRpbmcgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSB0aW1lciBmb3IgZWxlbWVudCBsb2FkcyB0byBjaGVjayBpZiB0aGV5IHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IDA7XG4gICAgLyoqXG4gICAgICogVGhlIGBjb21wbGV0ZWAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRDb21wbGV0ZSA9IHRoaXMuY29tcGxldGUuYmluZCh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBUaGUgYF9vbkVycm9yYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICovXG5cbiAgICB0aGlzLl9ib3VuZE9uRXJyb3IgPSB0aGlzLl9vbkVycm9yLmJpbmQodGhpcyk7XG4gICAgLyoqXG4gICAgICogVGhlIGBfb25Qcm9ncmVzc2AgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRPblByb2dyZXNzID0gdGhpcy5fb25Qcm9ncmVzcy5iaW5kKHRoaXMpO1xuICAgIC8qKlxuICAgICAqIFRoZSBgX29uVGltZW91dGAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRPblRpbWVvdXQgPSB0aGlzLl9vblRpbWVvdXQuYmluZCh0aGlzKTsgLy8geGhyIGNhbGxiYWNrc1xuXG4gICAgdGhpcy5fYm91bmRYaHJPbkVycm9yID0gdGhpcy5feGhyT25FcnJvci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0ID0gdGhpcy5feGhyT25UaW1lb3V0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fYm91bmRYaHJPbkFib3J0ID0gdGhpcy5feGhyT25BYm9ydC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2JvdW5kWGhyT25Mb2FkID0gdGhpcy5feGhyT25Mb2FkLmJpbmQodGhpcyk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSByZXNvdXJjZSBiZWluZ3MgdG8gbG9hZC5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PblN0YXJ0U2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxSZXNvdXJjZS5PblN0YXJ0U2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25TdGFydCA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIGVhY2ggdGltZSBwcm9ncmVzcyBvZiB0aGlzIHJlc291cmNlIGxvYWQgdXBkYXRlcy5cbiAgICAgKiBOb3QgYWxsIHJlc291cmNlcyB0eXBlcyBhbmQgbG9hZGVyIHN5c3RlbXMgY2FuIHN1cHBvcnQgdGhpcyBldmVudFxuICAgICAqIHNvIHNvbWV0aW1lcyBpdCBtYXkgbm90IGJlIGF2YWlsYWJsZS4gSWYgdGhlIHJlc291cmNlXG4gICAgICogaXMgYmVpbmcgbG9hZGVkIG9uIGEgbW9kZXJuIGJyb3dzZXIsIHVzaW5nIFhIUiwgYW5kIHRoZSByZW1vdGUgc2VydmVyXG4gICAgICogcHJvcGVybHkgc2V0cyBDb250ZW50LUxlbmd0aCBoZWFkZXJzLCB0aGVuIHRoaXMgd2lsbCBiZSBhdmFpbGFibGUuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Qcm9ncmVzc1NpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Qcm9ncmVzc1NpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBvbmNlIHRoaXMgcmVzb3VyY2UgaGFzIGxvYWRlZCwgaWYgdGhlcmUgd2FzIGFuIGVycm9yIGl0IHdpbGxcbiAgICAgKiBiZSBpbiB0aGUgYGVycm9yYCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Db21wbGV0ZSA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIGFmdGVyIHRoaXMgcmVzb3VyY2UgaGFzIGhhZCBhbGwgdGhlICphZnRlciogbWlkZGxld2FyZSBydW4gb24gaXQuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uQWZ0ZXJNaWRkbGV3YXJlID0gbmV3IFNpZ25hbCgpO1xuICB9XG4gIC8qKlxuICAgKiBXaGVuIHRoZSByZXNvdXJjZSBzdGFydHMgdG8gbG9hZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiB0aGUgcmVzb3VyY2UgcmVwb3J0cyBsb2FkaW5nIHByb2dyZXNzLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjZW50YWdlIC0gVGhlIHByb2dyZXNzIG9mIHRoZSBsb2FkIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSByZXNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICogQHR5cGVkZWYge29iamVjdH0gSU1ldGFkYXRhXG4gICAqIEBwcm9wZXJ0eSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQXVkaW9FbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtsb2FkRWxlbWVudD1udWxsXSAtIFRoZVxuICAgKiAgICAgIGVsZW1lbnQgdG8gdXNlIGZvciBsb2FkaW5nLCBpbnN0ZWFkIG9mIGNyZWF0aW5nIG9uZS5cbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbc2tpcFNvdXJjZT1mYWxzZV0gLSBTa2lwcyBhZGRpbmcgc291cmNlKHMpIHRvIHRoZSBsb2FkIGVsZW1lbnQuIFRoaXNcbiAgICogICAgICBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG8gcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAgdGhhdCB5b3UgYWxyZWFkeSBhZGRlZCBsb2FkIHNvdXJjZXMgdG8uXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfHN0cmluZ1tdfSBbbWltZVR5cGVdIC0gVGhlIG1pbWUgdHlwZSB0byB1c2UgZm9yIHRoZSBzb3VyY2UgZWxlbWVudFxuICAgKiAgICAgIG9mIGEgdmlkZW8vYXVkaW8gZWxtZW50LiBJZiB0aGUgdXJscyBhcmUgYW4gYXJyYXksIHlvdSBjYW4gcGFzcyB0aGlzIGFzIGFuIGFycmF5IGFzIHdlbGxcbiAgICogICAgICB3aGVyZSBlYWNoIGluZGV4IGlzIHRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgY29ycmVzcG9uZGluZyB1cmwgaW5kZXguXG4gICAqL1xuXG4gIC8qKlxuICAgKiBTdG9yZXMgd2hldGhlciBvciBub3QgdGhpcyB1cmwgaXMgYSBkYXRhIHVybC5cbiAgICpcbiAgICogQHJlYWRvbmx5XG4gICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IFJlc291cmNlLnByb3RvdHlwZTtcblxuICAvKipcbiAgICogTWFya3MgdGhlIHJlc291cmNlIGFzIGNvbXBsZXRlLlxuICAgKlxuICAgKi9cbiAgX3Byb3RvLmNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgdGhpcy5fY2xlYXJFdmVudHMoKTtcblxuICAgIHRoaXMuX2ZpbmlzaCgpO1xuICB9XG4gIC8qKlxuICAgKiBBYm9ydHMgdGhlIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZSwgd2l0aCBhbiBvcHRpb25hbCBtZXNzYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIFRoZSBtZXNzYWdlIHRvIHVzZSBmb3IgdGhlIGVycm9yXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmFib3J0ID0gZnVuY3Rpb24gYWJvcnQobWVzc2FnZSkge1xuICAgIC8vIGFib3J0IGNhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIGlnbm9yZSBzdWJzZXF1ZW50IGNhbGxzLlxuICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBzdG9yZSBlcnJvclxuXG5cbiAgICB0aGlzLmVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpOyAvLyBjbGVhciBldmVudHMgYmVmb3JlIGNhbGxpbmcgYWJvcnRzXG5cbiAgICB0aGlzLl9jbGVhckV2ZW50cygpOyAvLyBhYm9ydCB0aGUgYWN0dWFsIGxvYWRpbmdcblxuXG4gICAgaWYgKHRoaXMueGhyKSB7XG4gICAgICB0aGlzLnhoci5hYm9ydCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy54ZHIpIHtcbiAgICAgIHRoaXMueGRyLmFib3J0KCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgIC8vIHNpbmdsZSBzb3VyY2VcbiAgICAgIGlmICh0aGlzLmRhdGEuc3JjKSB7XG4gICAgICAgIHRoaXMuZGF0YS5zcmMgPSBSZXNvdXJjZS5FTVBUWV9HSUY7XG4gICAgICB9IC8vIG11bHRpLXNvdXJjZVxuICAgICAgZWxzZSB7XG4gICAgICAgICAgd2hpbGUgKHRoaXMuZGF0YS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlQ2hpbGQodGhpcy5kYXRhLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gLy8gZG9uZSBub3cuXG5cblxuICAgIHRoaXMuX2ZpbmlzaCgpO1xuICB9XG4gIC8qKlxuICAgKiBLaWNrcyBvZmYgbG9hZGluZyBvZiB0aGlzIHJlc291cmNlLiBUaGlzIG1ldGhvZCBpcyBhc3luY2hyb25vdXMuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NiXSAtIE9wdGlvbmFsIGNhbGxiYWNrIHRvIGNhbGwgb25jZSB0aGUgcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5sb2FkID0gZnVuY3Rpb24gbG9hZChjYikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICBpZiAoY2IpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGNiKF90aGlzKTtcbiAgICAgICAgfSwgMSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKGNiKSB7XG4gICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgdHJ1ZSk7XG5cbiAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7IC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG5cbiAgICBpZiAodGhpcy5jcm9zc09yaWdpbiA9PT0gZmFsc2UgfHwgdHlwZW9mIHRoaXMuY3Jvc3NPcmlnaW4gIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmNyb3NzT3JpZ2luID0gdGhpcy5fZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odGhpcy51cmwpO1xuICAgIH1cblxuICAgIHN3aXRjaCAodGhpcy5sb2FkVHlwZSkge1xuICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0U6XG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7XG5cbiAgICAgICAgdGhpcy5fbG9hZEVsZW1lbnQoJ2ltYWdlJyk7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPOlxuICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLkFVRElPO1xuXG4gICAgICAgIHRoaXMuX2xvYWRTb3VyY2VFbGVtZW50KCdhdWRpbycpO1xuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5WSURFTzpcbiAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5WSURFTztcblxuICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgndmlkZW8nKTtcblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSOlxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAodXNlWGRyICYmIHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICB0aGlzLl9sb2FkWGRyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fbG9hZFhocigpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGZsYWcgaXMgc2V0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBmbGFnIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2hhc0ZsYWcgPSBmdW5jdGlvbiBfaGFzRmxhZyhmbGFnKSB7XG4gICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIGZsYWcpICE9PSAwO1xuICB9XG4gIC8qKlxuICAgKiAoVW4pU2V0cyB0aGUgZmxhZy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgZmxhZyB0byAodW4pc2V0LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gV2hldGhlciB0byBzZXQgb3IgKHVuKXNldCB0aGUgZmxhZy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3NldEZsYWcgPSBmdW5jdGlvbiBfc2V0RmxhZyhmbGFnLCB2YWx1ZSkge1xuICAgIHRoaXMuX2ZsYWdzID0gdmFsdWUgPyB0aGlzLl9mbGFncyB8IGZsYWcgOiB0aGlzLl9mbGFncyAmIH5mbGFnO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgYWxsIHRoZSBldmVudHMgZnJvbSB0aGUgdW5kZXJseWluZyBsb2FkaW5nIHNvdXJjZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2NsZWFyRXZlbnRzID0gZnVuY3Rpb24gX2NsZWFyRXZlbnRzKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl9lbGVtZW50VGltZXIpO1xuXG4gICAgaWYgKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnhocikge1xuICAgICAgaWYgKHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZFhock9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGltZW91dCcsIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0LCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgdGhpcy5fYm91bmRYaHJPbkFib3J0LCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZFhock9uTG9hZCwgZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy54aHIub25lcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMueGhyLm9udGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMueGhyLm9ucHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICB0aGlzLnhoci5vbmxvYWQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogRmluYWxpemVzIHRoZSBsb2FkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZmluaXNoID0gZnVuY3Rpb24gX2ZpbmlzaCgpIHtcbiAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBsZXRlIGNhbGxlZCBhZ2FpbiBmb3IgYW4gYWxyZWFkeSBjb21wbGV0ZWQgcmVzb3VyY2UuJyk7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuQ09NUExFVEUsIHRydWUpO1xuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgZmFsc2UpO1xuXG4gICAgdGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBlbGVtZW50IHRoYXQgaGFzIGEgc2luZ2xlIHNvdXJjZSxcbiAgICogbGlrZSBhbiBIVE1MSW1hZ2VFbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZEVsZW1lbnQgPSBmdW5jdGlvbiBfbG9hZEVsZW1lbnQodHlwZSkge1xuICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2ltYWdlJyAmJiB0eXBlb2Ygd2luZG93LkltYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgIHRoaXMuZGF0YS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgIHRoaXMuZGF0YS5zcmMgPSB0aGlzLnVybDtcbiAgICB9XG5cbiAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcblxuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IHNldFRpbWVvdXQodGhpcy5fYm91bmRPblRpbWVvdXQsIHRoaXMudGltZW91dCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBlbGVtZW50IHRoYXQgaGFzIG11bHRpcGxlIHNvdXJjZXMsXG4gICAqIGxpa2UgYW4gSFRNTEF1ZGlvRWxlbWVudCBvciBIVE1MVmlkZW9FbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFNvdXJjZUVsZW1lbnQgPSBmdW5jdGlvbiBfbG9hZFNvdXJjZUVsZW1lbnQodHlwZSkge1xuICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2F1ZGlvJyAmJiB0eXBlb2Ygd2luZG93LkF1ZGlvICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5kYXRhID0gbmV3IEF1ZGlvKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGF0YSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5hYm9ydChcIlVuc3VwcG9ydGVkIGVsZW1lbnQ6IFwiICsgdHlwZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgIHRoaXMuZGF0YS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgIC8vIHN1cHBvcnQgZm9yIENvY29vbkpTIENhbnZhcysgcnVudGltZSwgbGFja3MgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJylcbiAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICB0aGlzLmRhdGEuc3JjID0gQXJyYXkuaXNBcnJheSh0aGlzLnVybCkgPyB0aGlzLnVybFswXSA6IHRoaXMudXJsO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRoaXMudXJsKSkge1xuICAgICAgICB2YXIgbWltZVR5cGVzID0gdGhpcy5tZXRhZGF0YS5taW1lVHlwZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudXJsLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybFtpXSwgQXJyYXkuaXNBcnJheShtaW1lVHlwZXMpID8gbWltZVR5cGVzW2ldIDogbWltZVR5cGVzKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBfbWltZVR5cGVzID0gdGhpcy5tZXRhZGF0YS5taW1lVHlwZTtcbiAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybCwgQXJyYXkuaXNBcnJheShfbWltZVR5cGVzKSA/IF9taW1lVHlwZXNbMF0gOiBfbWltZVR5cGVzKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5sb2FkKCk7XG5cbiAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2JvdW5kT25UaW1lb3V0LCB0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWE1MSHR0cFJlcXVlc3QuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9sb2FkWGhyID0gZnVuY3Rpb24gX2xvYWRYaHIoKSB7XG4gICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICBpZiAodHlwZW9mIHRoaXMueGhyVHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMueGhyVHlwZSA9IHRoaXMuX2RldGVybWluZVhoclR5cGUoKTtcbiAgICB9XG5cbiAgICB2YXIgeGhyID0gdGhpcy54aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsgLy8gc2V0IHRoZSByZXF1ZXN0IHR5cGUgYW5kIHVybFxuXG4gICAgeGhyLm9wZW4oJ0dFVCcsIHRoaXMudXJsLCB0cnVlKTtcbiAgICB4aHIudGltZW91dCA9IHRoaXMudGltZW91dDsgLy8gbG9hZCBqc29uIGFzIHRleHQgYW5kIHBhcnNlIGl0IG91cnNlbHZlcy4gV2UgZG8gdGhpcyBiZWNhdXNlIHNvbWUgYnJvd3NlcnNcbiAgICAvLyAqY291Z2gqIHNhZmFyaSAqY291Z2gqIGNhbid0IGRlYWwgd2l0aCBpdC5cblxuICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04gfHwgdGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCkge1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSB0aGlzLnhoclR5cGU7XG4gICAgfVxuXG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWVvdXQnLCB0aGlzLl9ib3VuZFhock9uVGltZW91dCwgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRYaHJPbkxvYWQsIGZhbHNlKTtcbiAgICB4aHIuc2VuZCgpO1xuICB9XG4gIC8qKlxuICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBYRG9tYWluUmVxdWVzdC4gVGhpcyBpcyBoZXJlIGJlY2F1c2Ugd2UgbmVlZCB0byBzdXBwb3J0IElFOSAoZ3Jvc3MpLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFhkciA9IGZ1bmN0aW9uIF9sb2FkWGRyKCkge1xuICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgfVxuXG4gICAgdmFyIHhkciA9IHRoaXMueGhyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiAgICAvLyBYRG9tYWluUmVxdWVzdCBoYXMgYSBmZXcgcXVpcmtzLiBPY2Nhc2lvbmFsbHkgaXQgd2lsbCBhYm9ydCByZXF1ZXN0c1xuICAgIC8vIEEgd2F5IHRvIGF2b2lkIHRoaXMgaXMgdG8gbWFrZSBzdXJlIEFMTCBjYWxsYmFja3MgYXJlIHNldCBldmVuIGlmIG5vdCB1c2VkXG4gICAgLy8gTW9yZSBpbmZvIGhlcmU6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTU3ODY5NjYveGRvbWFpbnJlcXVlc3QtYWJvcnRzLXBvc3Qtb24taWUtOVxuXG4gICAgeGRyLnRpbWVvdXQgPSB0aGlzLnRpbWVvdXQgfHwgNTAwMDsgLy8gWERSIG5lZWRzIGEgdGltZW91dCB2YWx1ZSBvciBpdCBicmVha3MgaW4gSUU5XG5cbiAgICB4ZHIub25lcnJvciA9IHRoaXMuX2JvdW5kWGhyT25FcnJvcjtcbiAgICB4ZHIub250aW1lb3V0ID0gdGhpcy5fYm91bmRYaHJPblRpbWVvdXQ7XG4gICAgeGRyLm9ucHJvZ3Jlc3MgPSB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3M7XG4gICAgeGRyLm9ubG9hZCA9IHRoaXMuX2JvdW5kWGhyT25Mb2FkO1xuICAgIHhkci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7IC8vIE5vdGU6IFRoZSB4ZHIuc2VuZCgpIGNhbGwgaXMgd3JhcHBlZCBpbiBhIHRpbWVvdXQgdG8gcHJldmVudCBhblxuICAgIC8vIGlzc3VlIHdpdGggdGhlIGludGVyZmFjZSB3aGVyZSBzb21lIHJlcXVlc3RzIGFyZSBsb3N0IGlmIG11bHRpcGxlXG4gICAgLy8gWERvbWFpblJlcXVlc3RzIGFyZSBiZWluZyBzZW50IGF0IHRoZSBzYW1lIHRpbWUuXG4gICAgLy8gU29tZSBpbmZvIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waG90b25zdG9ybS9waGFzZXIvaXNzdWVzLzEyNDhcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHhkci5zZW5kKCk7XG4gICAgfSwgMSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBzb3VyY2UgdXNlZCBpbiBsb2FkaW5nIHZpYSBhbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBlbGVtZW50IHR5cGUgKHZpZGVvIG9yIGF1ZGlvKS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBzb3VyY2UgVVJMIHRvIGxvYWQgZnJvbS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFttaW1lXSAtIFRoZSBtaW1lIHR5cGUgb2YgdGhlIHZpZGVvXG4gICAqIEByZXR1cm4ge0hUTUxTb3VyY2VFbGVtZW50fSBUaGUgc291cmNlIGVsZW1lbnQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9jcmVhdGVTb3VyY2UgPSBmdW5jdGlvbiBfY3JlYXRlU291cmNlKHR5cGUsIHVybCwgbWltZSkge1xuICAgIGlmICghbWltZSkge1xuICAgICAgbWltZSA9IHR5cGUgKyBcIi9cIiArIHRoaXMuX2dldEV4dGVuc2lvbih1cmwpO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcbiAgICBzb3VyY2Uuc3JjID0gdXJsO1xuICAgIHNvdXJjZS50eXBlID0gbWltZTtcbiAgICByZXR1cm4gc291cmNlO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYSBsb2FkIGVycm9ycyBvdXQuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGVycm9yIGV2ZW50IGZyb20gdGhlIGVsZW1lbnQgdGhhdCBlbWl0cyBpdC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uRXJyb3IgPSBmdW5jdGlvbiBfb25FcnJvcihldmVudCkge1xuICAgIHRoaXMuYWJvcnQoXCJGYWlsZWQgdG8gbG9hZCBlbGVtZW50IHVzaW5nOiBcIiArIGV2ZW50LnRhcmdldC5ub2RlTmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhIGxvYWQgcHJvZ3Jlc3MgZXZlbnQgZmlyZXMgZm9yIGFuIGVsZW1lbnQgb3IgeGhyL3hkci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdFByb2dyZXNzRXZlbnR8RXZlbnR9IGV2ZW50IC0gUHJvZ3Jlc3MgZXZlbnQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vblByb2dyZXNzID0gZnVuY3Rpb24gX29uUHJvZ3Jlc3MoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgJiYgZXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgdGhpcy5vblByb2dyZXNzLmRpc3BhdGNoKHRoaXMsIGV2ZW50LmxvYWRlZCAvIGV2ZW50LnRvdGFsKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhIHRpbWVvdXQgZXZlbnQgZmlyZXMgZm9yIGFuIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vblRpbWVvdXQgPSBmdW5jdGlvbiBfb25UaW1lb3V0KCkge1xuICAgIHRoaXMuYWJvcnQoXCJMb2FkIHRpbWVkIG91dC5cIik7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3hock9uRXJyb3IgPSBmdW5jdGlvbiBfeGhyT25FcnJvcigpIHtcbiAgICB2YXIgeGhyID0gdGhpcy54aHI7XG4gICAgdGhpcy5hYm9ydChyZXFUeXBlKHhocikgKyBcIiBSZXF1ZXN0IGZhaWxlZC4gU3RhdHVzOiBcIiArIHhoci5zdGF0dXMgKyBcIiwgdGV4dDogXFxcIlwiICsgeGhyLnN0YXR1c1RleHQgKyBcIlxcXCJcIik7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3hock9uVGltZW91dCA9IGZ1bmN0aW9uIF94aHJPblRpbWVvdXQoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgXCIgUmVxdWVzdCB0aW1lZCBvdXQuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYW4gYWJvcnQgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPbkFib3J0ID0gZnVuY3Rpb24gX3hock9uQWJvcnQoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgXCIgUmVxdWVzdCB3YXMgYWJvcnRlZCBieSB0aGUgdXNlci5cIik7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGRhdGEgc3VjY2Vzc2Z1bGx5IGxvYWRzIGZyb20gYW4geGhyL3hkciByZXF1ZXN0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0TG9hZEV2ZW50fEV2ZW50fSBldmVudCAtIExvYWQgZXZlbnRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3hock9uTG9hZCA9IGZ1bmN0aW9uIF94aHJPbkxvYWQoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHZhciB0ZXh0ID0gJyc7XG4gICAgdmFyIHN0YXR1cyA9IHR5cGVvZiB4aHIuc3RhdHVzID09PSAndW5kZWZpbmVkJyA/IFNUQVRVU19PSyA6IHhoci5zdGF0dXM7IC8vIFhEUiBoYXMgbm8gYC5zdGF0dXNgLCBhc3N1bWUgMjAwLlxuICAgIC8vIHJlc3BvbnNlVGV4dCBpcyBhY2Nlc3NpYmxlIG9ubHkgaWYgcmVzcG9uc2VUeXBlIGlzICcnIG9yICd0ZXh0JyBhbmQgb24gb2xkZXIgYnJvd3NlcnNcblxuICAgIGlmICh4aHIucmVzcG9uc2VUeXBlID09PSAnJyB8fCB4aHIucmVzcG9uc2VUeXBlID09PSAndGV4dCcgfHwgdHlwZW9mIHhoci5yZXNwb25zZVR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0ZXh0ID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICB9IC8vIHN0YXR1cyBjYW4gYmUgMCB3aGVuIHVzaW5nIHRoZSBgZmlsZTovL2AgcHJvdG9jb2wgc28gd2UgYWxzbyBjaGVjayBpZiBhIHJlc3BvbnNlIGlzIHNldC5cbiAgICAvLyBJZiBpdCBoYXMgYSByZXNwb25zZSwgd2UgYXNzdW1lIDIwMDsgb3RoZXJ3aXNlIGEgMCBzdGF0dXMgY29kZSB3aXRoIG5vIGNvbnRlbnRzIGlzIGFuIGFib3J0ZWQgcmVxdWVzdC5cblxuXG4gICAgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX05PTkUgJiYgKHRleHQubGVuZ3RoID4gMCB8fCB4aHIucmVzcG9uc2VUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIpKSB7XG4gICAgICBzdGF0dXMgPSBTVEFUVVNfT0s7XG4gICAgfSAvLyBoYW5kbGUgSUU5IGJ1ZzogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDA0Njk3Mi9tc2llLXJldHVybnMtc3RhdHVzLWNvZGUtb2YtMTIyMy1mb3ItYWpheC1yZXF1ZXN0XG4gICAgZWxzZSBpZiAoc3RhdHVzID09PSBTVEFUVVNfSUVfQlVHX0VNUFRZKSB7XG4gICAgICAgIHN0YXR1cyA9IFNUQVRVU19FTVBUWTtcbiAgICAgIH1cblxuICAgIHZhciBzdGF0dXNUeXBlID0gc3RhdHVzIC8gMTAwIHwgMDtcblxuICAgIGlmIChzdGF0dXNUeXBlID09PSBTVEFUVVNfVFlQRV9PSykge1xuICAgICAgLy8gaWYgdGV4dCwganVzdCByZXR1cm4gaXRcbiAgICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gdGV4dDtcbiAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5URVhUO1xuICAgICAgfSAvLyBpZiBqc29uLCBwYXJzZSBpbnRvIGpzb24gb2JqZWN0XG4gICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04pIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuSlNPTjtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KFwiRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGxvYWRlZCBqc29uOiBcIiArIGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBpZiB4bWwsIHBhcnNlIGludG8gYW4geG1sIGRvY3VtZW50IG9yIGRpdiBlbGVtZW50XG4gICAgICAgIGVsc2UgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmICh3aW5kb3cuRE9NUGFyc2VyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvbXBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkb21wYXJzZXIucGFyc2VGcm9tU3RyaW5nKHRleHQsICd0ZXh0L3htbCcpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gdGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkaXY7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlhNTDtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgdGhpcy5hYm9ydChcIkVycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQgeG1sOiBcIiArIGUpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBvdGhlciB0eXBlcyBqdXN0IHJldHVybiB0aGUgcmVzcG9uc2VcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5kYXRhID0geGhyLnJlc3BvbnNlIHx8IHRleHQ7XG4gICAgICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWJvcnQoXCJbXCIgKyB4aHIuc3RhdHVzICsgXCJdIFwiICsgeGhyLnN0YXR1c1RleHQgKyBcIjogXCIgKyB4aHIucmVzcG9uc2VVUkwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuY29tcGxldGUoKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgYGNyb3NzT3JpZ2luYCBwcm9wZXJ0eSBmb3IgdGhpcyByZXNvdXJjZSBiYXNlZCBvbiBpZiB0aGUgdXJsXG4gICAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICAgKiBmdW5jdGlvbiBkb2VzIG5vdGhpbmcuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHRlc3QuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbbG9jPXdpbmRvdy5sb2NhdGlvbl0gLSBUaGUgbG9jYXRpb24gb2JqZWN0IHRvIHRlc3QgYWdhaW5zdC5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4gPSBmdW5jdGlvbiBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsLCBsb2MpIHtcbiAgICAvLyBkYXRhOiBhbmQgamF2YXNjcmlwdDogdXJscyBhcmUgY29uc2lkZXJlZCBzYW1lLW9yaWdpblxuICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH0gLy8gQSBzYW5kYm94ZWQgaWZyYW1lIHdpdGhvdXQgdGhlICdhbGxvdy1zYW1lLW9yaWdpbicgYXR0cmlidXRlIHdpbGwgaGF2ZSBhIHNwZWNpYWxcbiAgICAvLyBvcmlnaW4gZGVzaWduZWQgbm90IHRvIG1hdGNoIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4sIGFuZCB3aWxsIGFsd2F5cyByZXF1aXJlXG4gICAgLy8gY3Jvc3NPcmlnaW4gcmVxdWVzdHMgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZSBsb2NhdGlvbiBtYXRjaGVzLlxuXG5cbiAgICBpZiAod2luZG93Lm9yaWdpbiAhPT0gd2luZG93LmxvY2F0aW9uLm9yaWdpbikge1xuICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgIH0gLy8gZGVmYXVsdCBpcyB3aW5kb3cubG9jYXRpb25cblxuXG4gICAgbG9jID0gbG9jIHx8IHdpbmRvdy5sb2NhdGlvbjtcblxuICAgIGlmICghdGVtcEFuY2hvcikge1xuICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB9IC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgLy8gcGFyc2Ugd2l0aCB0aGUgbm9kZSB1cmwgbGliLCB3ZSBjYW4ndCB1c2UgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFuY2hvciBlbGVtZW50XG4gICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG5cblxuICAgIHRlbXBBbmNob3IuaHJlZiA9IHVybDtcbiAgICB1cmwgPSBwYXJzZVVyaSh0ZW1wQW5jaG9yLmhyZWYsIHtcbiAgICAgIHN0cmljdE1vZGU6IHRydWVcbiAgICB9KTtcbiAgICB2YXIgc2FtZVBvcnQgPSAhdXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnIHx8IHVybC5wb3J0ID09PSBsb2MucG9ydDtcbiAgICB2YXIgcHJvdG9jb2wgPSB1cmwucHJvdG9jb2wgPyB1cmwucHJvdG9jb2wgKyBcIjpcIiA6ICcnOyAvLyBpZiBjcm9zcyBvcmlnaW5cblxuICAgIGlmICh1cmwuaG9zdCAhPT0gbG9jLmhvc3RuYW1lIHx8ICFzYW1lUG9ydCB8fCBwcm90b2NvbCAhPT0gbG9jLnByb3RvY29sKSB7XG4gICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSByZXNwb25zZVR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICogcmVzb3VyY2UgYmVpbmcgbG9hZGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gVGhlIHJlc3BvbnNlVHlwZSB0byB1c2UuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9kZXRlcm1pbmVYaHJUeXBlID0gZnVuY3Rpb24gX2RldGVybWluZVhoclR5cGUoKSB7XG4gICAgcmV0dXJuIFJlc291cmNlLl94aHJUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXSB8fCBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSBsb2FkVHlwZSBvZiBhIHJlc291cmNlIGJhc2VkIG9uIHRoZSBleHRlbnNpb24gb2YgdGhlXG4gICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7UmVzb3VyY2UuTE9BRF9UWVBFfSBUaGUgbG9hZFR5cGUgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZGV0ZXJtaW5lTG9hZFR5cGUgPSBmdW5jdGlvbiBfZGV0ZXJtaW5lTG9hZFR5cGUoKSB7XG4gICAgcmV0dXJuIFJlc291cmNlLl9sb2FkVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUjtcbiAgfVxuICAvKipcbiAgICogRXh0cmFjdHMgdGhlIGV4dGVuc2lvbiAoc2FucyAnLicpIG9mIHRoZSBmaWxlIGJlaW5nIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGV4dGVuc2lvbi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2dldEV4dGVuc2lvbiA9IGZ1bmN0aW9uIF9nZXRFeHRlbnNpb24oKSB7XG4gICAgdmFyIHVybCA9IHRoaXMudXJsO1xuICAgIHZhciBleHQgPSAnJztcblxuICAgIGlmICh0aGlzLmlzRGF0YVVybCkge1xuICAgICAgdmFyIHNsYXNoSW5kZXggPSB1cmwuaW5kZXhPZignLycpO1xuICAgICAgZXh0ID0gdXJsLnN1YnN0cmluZyhzbGFzaEluZGV4ICsgMSwgdXJsLmluZGV4T2YoJzsnLCBzbGFzaEluZGV4KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBxdWVyeVN0YXJ0ID0gdXJsLmluZGV4T2YoJz8nKTtcbiAgICAgIHZhciBoYXNoU3RhcnQgPSB1cmwuaW5kZXhPZignIycpO1xuICAgICAgdmFyIGluZGV4ID0gTWF0aC5taW4ocXVlcnlTdGFydCA+IC0xID8gcXVlcnlTdGFydCA6IHVybC5sZW5ndGgsIGhhc2hTdGFydCA+IC0xID8gaGFzaFN0YXJ0IDogdXJsLmxlbmd0aCk7XG4gICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcodXJsLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXh0LnRvTG93ZXJDYXNlKCk7XG4gIH1cbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIG1pbWUgdHlwZSBvZiBhbiBYSFIgcmVxdWVzdCBiYXNlZCBvbiB0aGUgcmVzcG9uc2VUeXBlIG9mXG4gICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gdHlwZSAtIFRoZSB0eXBlIHRvIGdldCBhIG1pbWUgdHlwZSBmb3IuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG1pbWUgdHlwZSB0byB1c2UuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9nZXRNaW1lRnJvbVhoclR5cGUgPSBmdW5jdGlvbiBfZ2V0TWltZUZyb21YaHJUeXBlKHR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSOlxuICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL29jdGV0LWJpbmFyeSc7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQjpcbiAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9ibG9iJztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVDpcbiAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi94bWwnO1xuXG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT046XG4gICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vanNvbic7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVDpcbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDpcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICd0ZXh0L3BsYWluJztcbiAgICB9XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKFJlc291cmNlLCBbe1xuICAgIGtleTogXCJpc0RhdGFVcmxcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5EQVRBX1VSTCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGhhcyBmaW5pc2hlZCBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIGhhcyBjb21wbGV0ZWx5XG4gICAgICogbG9hZGVkLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzQ29tcGxldGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5DT01QTEVURSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGlzIGN1cnJlbnRseSBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIHN0YXJ0cyBsb2FkaW5nLFxuICAgICAqIGFuZCBpcyBmYWxzZSBhZ2FpbiB3aGVuIGNvbXBsZXRlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzTG9hZGluZ1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSZXNvdXJjZTtcbn0oKTtcbi8qKlxuICogVGhlIHR5cGVzIG9mIHJlc291cmNlcyBhIHJlc291cmNlIGNvdWxkIHJlcHJlc2VudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblxuXG5SZXNvdXJjZS5TVEFUVVNfRkxBR1MgPSB7XG4gIE5PTkU6IDAsXG4gIERBVEFfVVJMOiAxIDw8IDAsXG4gIENPTVBMRVRFOiAxIDw8IDEsXG4gIExPQURJTkc6IDEgPDwgMlxufTtcbi8qKlxuICogVGhlIHR5cGVzIG9mIHJlc291cmNlcyBhIHJlc291cmNlIGNvdWxkIHJlcHJlc2VudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblxuUmVzb3VyY2UuVFlQRSA9IHtcbiAgVU5LTk9XTjogMCxcbiAgSlNPTjogMSxcbiAgWE1MOiAyLFxuICBJTUFHRTogMyxcbiAgQVVESU86IDQsXG4gIFZJREVPOiA1LFxuICBURVhUOiA2XG59O1xuLyoqXG4gKiBUaGUgdHlwZXMgb2YgbG9hZGluZyBhIHJlc291cmNlIGNhbiB1c2UuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5cblJlc291cmNlLkxPQURfVFlQRSA9IHtcbiAgLyoqIFVzZXMgWE1MSHR0cFJlcXVlc3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIFhIUjogMSxcblxuICAvKiogVXNlcyBhbiBgSW1hZ2VgIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgSU1BR0U6IDIsXG5cbiAgLyoqIFVzZXMgYW4gYEF1ZGlvYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIEFVRElPOiAzLFxuXG4gIC8qKiBVc2VzIGEgYFZpZGVvYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIFZJREVPOiA0XG59O1xuLyoqXG4gKiBUaGUgWEhSIHJlYWR5IHN0YXRlcywgdXNlZCBpbnRlcm5hbGx5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuXG5SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRSA9IHtcbiAgLyoqIHN0cmluZyAqL1xuICBERUZBVUxUOiAndGV4dCcsXG5cbiAgLyoqIEFycmF5QnVmZmVyICovXG4gIEJVRkZFUjogJ2FycmF5YnVmZmVyJyxcblxuICAvKiogQmxvYiAqL1xuICBCTE9COiAnYmxvYicsXG5cbiAgLyoqIERvY3VtZW50ICovXG4gIERPQ1VNRU5UOiAnZG9jdW1lbnQnLFxuXG4gIC8qKiBPYmplY3QgKi9cbiAgSlNPTjogJ2pzb24nLFxuXG4gIC8qKiBTdHJpbmcgKi9cbiAgVEVYVDogJ3RleHQnXG59O1xuUmVzb3VyY2UuX2xvYWRUeXBlTWFwID0ge1xuICAvLyBpbWFnZXNcbiAgZ2lmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHBuZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICBibXA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAganBnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIGpwZWc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgdGlmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHRpZmY6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgd2VicDogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICB0Z2E6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgc3ZnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICdzdmcreG1sJzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAvLyBmb3IgU1ZHIGRhdGEgdXJsc1xuICAvLyBhdWRpb1xuICBtcDM6IFJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcbiAgb2dnOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gIHdhdjogUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICAvLyB2aWRlb3NcbiAgbXA0OiBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU8sXG4gIHdlYm06IFJlc291cmNlLkxPQURfVFlQRS5WSURFT1xufTtcblJlc291cmNlLl94aHJUeXBlTWFwID0ge1xuICAvLyB4bWxcbiAgeGh0bWw6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICBodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgaHRtOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgeG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgdG14OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgc3ZnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgLy8gVGhpcyB3YXMgYWRkZWQgdG8gaGFuZGxlIFRpbGVkIFRpbGVzZXQgWE1MLCBidXQgLnRzeCBpcyBhbHNvIGEgVHlwZVNjcmlwdCBSZWFjdCBDb21wb25lbnQuXG4gIC8vIFNpbmNlIGl0IGlzIHdheSBsZXNzIGxpa2VseSBmb3IgcGVvcGxlIHRvIGJlIGxvYWRpbmcgVHlwZVNjcmlwdCBmaWxlcyBpbnN0ZWFkIG9mIFRpbGVkIGZpbGVzLFxuICAvLyB0aGlzIHNob3VsZCBwcm9iYWJseSBiZSBmaW5lLlxuICB0c3g6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAvLyBpbWFnZXNcbiAgZ2lmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICBwbmc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIGJtcDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAganBnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICBqcGVnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB0aWY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIHRpZmY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIHdlYnA6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIHRnYTogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgLy8ganNvblxuICBqc29uOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OLFxuICAvLyB0ZXh0XG4gIHRleHQ6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsXG4gIHR4dDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCxcbiAgLy8gZm9udHNcbiAgdHRmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIsXG4gIG90ZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSXG59OyAvLyBXZSBjYW4ndCBzZXQgdGhlIGBzcmNgIGF0dHJpYnV0ZSB0byBlbXB0eSBzdHJpbmcsIHNvIG9uIGFib3J0IHdlIHNldCBpdCB0byB0aGlzIDFweCB0cmFuc3BhcmVudCBnaWZcblxuUmVzb3VyY2UuRU1QVFlfR0lGID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQVAvLy93QUFBQ0g1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlDUkFFQU93PT0nO1xuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gc2V0IGEgdmFsdWUgb24gb25lIG9mIHRoZSBleHRlbnNpb24gbWFwcy4gRW5zdXJlcyB0aGVyZSBpcyBub1xuICogZG90IGF0IHRoZSBzdGFydCBvZiB0aGUgZXh0ZW5zaW9uLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBtYXAgLSBUaGUgbWFwIHRvIHNldCBvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiAob3Iga2V5KSB0byBzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIC0gVGhlIHZhbHVlIHRvIHNldC5cbiAqL1xuXG5mdW5jdGlvbiBzZXRFeHRNYXAobWFwLCBleHRuYW1lLCB2YWwpIHtcbiAgaWYgKGV4dG5hbWUgJiYgZXh0bmFtZS5pbmRleE9mKCcuJykgPT09IDApIHtcbiAgICBleHRuYW1lID0gZXh0bmFtZS5zdWJzdHJpbmcoMSk7XG4gIH1cblxuICBpZiAoIWV4dG5hbWUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBtYXBbZXh0bmFtZV0gPSB2YWw7XG59XG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBnZXQgc3RyaW5nIHhociB0eXBlLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3R8WERvbWFpblJlcXVlc3R9IHhociAtIFRoZSByZXF1ZXN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgdHlwZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIHJlcVR5cGUoeGhyKSB7XG4gIHJldHVybiB4aHIudG9TdHJpbmcoKS5yZXBsYWNlKCdvYmplY3QgJywgJycpO1xufVxuXG52YXIgX2tleVN0ciA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG4vKipcbiAqIEVuY29kZXMgYmluYXJ5IGludG8gYmFzZTY0LlxuICpcbiAqIEBmdW5jdGlvbiBlbmNvZGVCaW5hcnlcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dCBUaGUgaW5wdXQgZGF0YSB0byBlbmNvZGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCBiYXNlNjQgc3RyaW5nXG4gKi9cblxuZnVuY3Rpb24gZW5jb2RlQmluYXJ5KGlucHV0KSB7XG4gIHZhciBvdXRwdXQgPSAnJztcbiAgdmFyIGlueCA9IDA7XG5cbiAgd2hpbGUgKGlueCA8IGlucHV0Lmxlbmd0aCkge1xuICAgIC8vIEZpbGwgYnl0ZSBidWZmZXIgYXJyYXlcbiAgICB2YXIgYnl0ZWJ1ZmZlciA9IFswLCAwLCAwXTtcbiAgICB2YXIgZW5jb2RlZENoYXJJbmRleGVzID0gWzAsIDAsIDAsIDBdO1xuXG4gICAgZm9yICh2YXIgam54ID0gMDsgam54IDwgYnl0ZWJ1ZmZlci5sZW5ndGg7ICsram54KSB7XG4gICAgICBpZiAoaW54IDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIC8vIHRocm93IGF3YXkgaGlnaC1vcmRlciBieXRlLCBhcyBkb2N1bWVudGVkIGF0OlxuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9Fbi9Vc2luZ19YTUxIdHRwUmVxdWVzdCNIYW5kbGluZ19iaW5hcnlfZGF0YVxuICAgICAgICBieXRlYnVmZmVyW2pueF0gPSBpbnB1dC5jaGFyQ29kZUF0KGlueCsrKSAmIDB4ZmY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBieXRlYnVmZmVyW2pueF0gPSAwO1xuICAgICAgfVxuICAgIH0gLy8gR2V0IGVhY2ggZW5jb2RlZCBjaGFyYWN0ZXIsIDYgYml0cyBhdCBhIHRpbWVcbiAgICAvLyBpbmRleCAxOiBmaXJzdCA2IGJpdHNcblxuXG4gICAgZW5jb2RlZENoYXJJbmRleGVzWzBdID0gYnl0ZWJ1ZmZlclswXSA+PiAyOyAvLyBpbmRleCAyOiBzZWNvbmQgNiBiaXRzICgyIGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDEgKyA0IG1vc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGJ5dGUgMilcblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1sxXSA9IChieXRlYnVmZmVyWzBdICYgMHgzKSA8PCA0IHwgYnl0ZWJ1ZmZlclsxXSA+PiA0OyAvLyBpbmRleCAzOiB0aGlyZCA2IGJpdHMgKDQgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMiArIDIgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAzKVxuXG4gICAgZW5jb2RlZENoYXJJbmRleGVzWzJdID0gKGJ5dGVidWZmZXJbMV0gJiAweDBmKSA8PCAyIHwgYnl0ZWJ1ZmZlclsyXSA+PiA2OyAvLyBpbmRleCAzOiBmb3J0aCA2IGJpdHMgKDYgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMylcblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IGJ5dGVidWZmZXJbMl0gJiAweDNmOyAvLyBEZXRlcm1pbmUgd2hldGhlciBwYWRkaW5nIGhhcHBlbmVkLCBhbmQgYWRqdXN0IGFjY29yZGluZ2x5XG5cbiAgICB2YXIgcGFkZGluZ0J5dGVzID0gaW54IC0gKGlucHV0Lmxlbmd0aCAtIDEpO1xuXG4gICAgc3dpdGNoIChwYWRkaW5nQnl0ZXMpIHtcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgLy8gU2V0IGxhc3QgMiBjaGFyYWN0ZXJzIHRvIHBhZGRpbmcgY2hhclxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzJdID0gNjQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDE6XG4gICAgICAgIC8vIFNldCBsYXN0IGNoYXJhY3RlciB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gNjQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICAgIC8vIE5vIHBhZGRpbmcgLSBwcm9jZWVkXG4gICAgfSAvLyBOb3cgd2Ugd2lsbCBncmFiIGVhY2ggYXBwcm9wcmlhdGUgY2hhcmFjdGVyIG91dCBvZiBvdXIga2V5c3RyaW5nXG4gICAgLy8gYmFzZWQgb24gb3VyIGluZGV4IGFycmF5IGFuZCBhcHBlbmQgaXQgdG8gdGhlIG91dHB1dCBzdHJpbmdcblxuXG4gICAgZm9yICh2YXIgX2pueCA9IDA7IF9qbnggPCBlbmNvZGVkQ2hhckluZGV4ZXMubGVuZ3RoOyArK19qbngpIHtcbiAgICAgIG91dHB1dCArPSBfa2V5U3RyLmNoYXJBdChlbmNvZGVkQ2hhckluZGV4ZXNbX2pueF0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbnZhciBVcmwgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkw7XG4vKipcbiAqIEEgbWlkZGxld2FyZSBmb3IgdHJhbnNmb3JtaW5nIFhIUiBsb2FkZWQgQmxvYnMgaW50byBtb3JlIHVzZWZ1bCBvYmplY3RzXG4gKlxuICogQG1lbWJlcm9mIG1pZGRsZXdhcmVcbiAqIEBmdW5jdGlvbiBwYXJzaW5nXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgTG9hZGVyLCBtaWRkbGV3YXJlIH0gZnJvbSAncmVzb3VyY2UtbG9hZGVyJztcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAqIGxvYWRlci51c2UobWlkZGxld2FyZS5wYXJzaW5nKTtcbiAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gQ3VycmVudCBSZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dCAtIENhbGxiYWNrIHdoZW4gY29tcGxldGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzaW5nKHJlc291cmNlLCBuZXh0KSB7XG4gIGlmICghcmVzb3VyY2UuZGF0YSkge1xuICAgIG5leHQoKTtcbiAgICByZXR1cm47XG4gIH0gLy8gaWYgdGhpcyB3YXMgYW4gWEhSIGxvYWQgb2YgYSBibG9iXG5cblxuICBpZiAocmVzb3VyY2UueGhyICYmIHJlc291cmNlLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IpIHtcbiAgICAvLyBpZiB0aGVyZSBpcyBubyBibG9iIHN1cHBvcnQgd2UgcHJvYmFibHkgZ290IGEgYmluYXJ5IHN0cmluZyBiYWNrXG4gICAgaWYgKCF3aW5kb3cuQmxvYiB8fCB0eXBlb2YgcmVzb3VyY2UuZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciB0eXBlID0gcmVzb3VyY2UueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKTsgLy8gdGhpcyBpcyBhbiBpbWFnZSwgY29udmVydCB0aGUgYmluYXJ5IHN0cmluZyBpbnRvIGEgZGF0YSB1cmxcblxuICAgICAgaWYgKHR5cGUgJiYgdHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSBcImRhdGE6XCIgKyB0eXBlICsgXCI7YmFzZTY0LFwiICsgZW5jb2RlQmluYXJ5KHJlc291cmNlLnhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICByZXNvdXJjZS50eXBlID0gUmVzb3VyY2UuVFlQRS5JTUFHRTsgLy8gd2FpdCB1bnRpbCB0aGUgaW1hZ2UgbG9hZHMgYW5kIHRoZW4gY2FsbGJhY2tcblxuICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9OyAvLyBuZXh0IHdpbGwgYmUgY2FsbGVkIG9uIGxvYWRcblxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IC8vIGlmIGNvbnRlbnQgdHlwZSBzYXlzIHRoaXMgaXMgYW4gaW1hZ2UsIHRoZW4gd2Ugc2hvdWxkIHRyYW5zZm9ybSB0aGUgYmxvYiBpbnRvIGFuIEltYWdlIG9iamVjdFxuICAgIGVsc2UgaWYgKHJlc291cmNlLmRhdGEudHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgIHZhciBzcmMgPSBVcmwuY3JlYXRlT2JqZWN0VVJMKHJlc291cmNlLmRhdGEpO1xuICAgICAgICByZXNvdXJjZS5ibG9iID0gcmVzb3VyY2UuZGF0YTtcbiAgICAgICAgcmVzb3VyY2UuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICByZXNvdXJjZS5kYXRhLnNyYyA9IHNyYztcbiAgICAgICAgcmVzb3VyY2UudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7IC8vIGNsZWFudXAgdGhlIG5vIGxvbmdlciB1c2VkIGJsb2IgYWZ0ZXIgdGhlIGltYWdlIGxvYWRzXG4gICAgICAgIC8vIFRPRE86IElzIHRoaXMgY29ycmVjdD8gV2lsbCB0aGUgaW1hZ2UgYmUgaW52YWxpZCBhZnRlciByZXZva2luZz9cblxuICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBVcmwucmV2b2tlT2JqZWN0VVJMKHNyYyk7XG4gICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfTsgLy8gbmV4dCB3aWxsIGJlIGNhbGxlZCBvbiBsb2FkLlxuXG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICB9XG5cbiAgbmV4dCgpO1xufVxuXG4vKipcbiAqIEBuYW1lc3BhY2UgbWlkZGxld2FyZVxuICovXG5cbnZhciBpbmRleCA9ICh7XG4gICAgY2FjaGluZzogY2FjaGluZyxcbiAgICBwYXJzaW5nOiBwYXJzaW5nXG59KTtcblxudmFyIE1BWF9QUk9HUkVTUyA9IDEwMDtcbnZhciByZ3hFeHRyYWN0VXJsSGFzaCA9IC8oI1tcXHctXSspPyQvO1xuLyoqXG4gKiBNYW5hZ2VzIHRoZSBzdGF0ZSBhbmQgbG9hZGluZyBvZiBtdWx0aXBsZSByZXNvdXJjZXMgdG8gbG9hZC5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuXG52YXIgTG9hZGVyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbYmFzZVVybD0nJ10gLSBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgKi9cbiAgZnVuY3Rpb24gTG9hZGVyKGJhc2VVcmwsIGNvbmN1cnJlbmN5KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChiYXNlVXJsID09PSB2b2lkIDApIHtcbiAgICAgIGJhc2VVcmwgPSAnJztcbiAgICB9XG5cbiAgICBpZiAoY29uY3VycmVuY3kgPT09IHZvaWQgMCkge1xuICAgICAgY29uY3VycmVuY3kgPSAxMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgLyoqXG4gICAgICogVGhlIHByb2dyZXNzIHBlcmNlbnQgb2YgdGhlIGxvYWRlciBnb2luZyB0aHJvdWdoIHRoZSBxdWV1ZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAvKipcbiAgICAgKiBMb2FkaW5nIHN0YXRlIG9mIHRoZSBsb2FkZXIsIHRydWUgaWYgaXQgaXMgY3VycmVudGx5IGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogQSBxdWVyeXN0cmluZyB0byBhcHBlbmQgdG8gZXZlcnkgVVJMIGFkZGVkIHRvIHRoZSBsb2FkZXIuXG4gICAgICpcbiAgICAgKiBUaGlzIHNob3VsZCBiZSBhIHZhbGlkIHF1ZXJ5IHN0cmluZyAqd2l0aG91dCogdGhlIHF1ZXN0aW9uLW1hcmsgKGA/YCkuIFRoZSBsb2FkZXIgd2lsbFxuICAgICAqIGFsc28gKm5vdCogZXNjYXBlIHZhbHVlcyBmb3IgeW91LiBNYWtlIHN1cmUgdG8gZXNjYXBlIHlvdXIgcGFyYW1ldGVycyB3aXRoXG4gICAgICogW2BlbmNvZGVVUklDb21wb25lbnRgXShodHRwczovL21kbi5pby9lbmNvZGVVUklDb21wb25lbnQpIGJlZm9yZSBhc3NpZ25pbmcgdGhpcyBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xuICAgICAqXG4gICAgICogbG9hZGVyLmRlZmF1bHRRdWVyeVN0cmluZyA9ICd1c2VyPW1lJnBhc3N3b3JkPXNlY3JldCc7XG4gICAgICpcbiAgICAgKiAvLyBUaGlzIHdpbGwgcmVxdWVzdCAnaW1hZ2UucG5nP3VzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0J1xuICAgICAqIGxvYWRlci5hZGQoJ2ltYWdlLnBuZycpLmxvYWQoKTtcbiAgICAgKlxuICAgICAqIGxvYWRlci5yZXNldCgpO1xuICAgICAqXG4gICAgICogLy8gVGhpcyB3aWxsIHJlcXVlc3QgJ2ltYWdlLnBuZz92PTEmdXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnXG4gICAgICogbG9hZGVyLmFkZCgnaWFtZ2UucG5nP3Y9MScpLmxvYWQoKTtcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCAnJ1xuICAgICAqL1xuXG4gICAgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcgPSAnJztcbiAgICAvKipcbiAgICAgKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYmVmb3JlIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUgPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYWZ0ZXIgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAqL1xuXG4gICAgdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIHRyYWNrcyB0aGUgcmVzb3VyY2VzIHdlIGFyZSBjdXJyZW50bHkgY29tcGxldGluZyBwYXJzaW5nIGZvci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgKi9cblxuICAgIHRoaXMuX3Jlc291cmNlc1BhcnNpbmcgPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgYF9sb2FkUmVzb3VyY2VgIGZ1bmN0aW9uIGJvdW5kIHdpdGggdGhpcyBvYmplY3QgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gciAtIFRoZSByZXNvdXJjZSB0byBsb2FkXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZCAtIFRoZSBkZXF1ZXVlIGZ1bmN0aW9uXG4gICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRMb2FkUmVzb3VyY2UgPSBmdW5jdGlvbiAociwgZCkge1xuICAgICAgcmV0dXJuIF90aGlzLl9sb2FkUmVzb3VyY2UociwgZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb3VyY2VzIHdhaXRpbmcgdG8gYmUgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZVtdfVxuICAgICAqL1xuXG5cbiAgICB0aGlzLl9xdWV1ZSA9IHF1ZXVlKHRoaXMuX2JvdW5kTG9hZFJlc291cmNlLCBjb25jdXJyZW5jeSk7XG5cbiAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpO1xuICAgIC8qKlxuICAgICAqIEFsbCB0aGUgcmVzb3VyY2VzIGZvciB0aGlzIGxvYWRlciBrZXllZCBieSBuYW1lLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0PHN0cmluZywgUmVzb3VyY2U+fVxuICAgICAqL1xuXG5cbiAgICB0aGlzLnJlc291cmNlcyA9IHt9O1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgb25jZSBwZXIgbG9hZGVkIG9yIGVycm9yZWQgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uUHJvZ3Jlc3NTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PblByb2dyZXNzU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Qcm9ncmVzcyA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGVycm9yZWQgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uRXJyb3JTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PbkVycm9yU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25FcnJvciA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Mb2FkU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25Mb2FkU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Mb2FkID0gbmV3IFNpZ25hbCgpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgbG9hZGVyIGJlZ2lucyB0byBwcm9jZXNzIHRoZSBxdWV1ZS5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25TdGFydFNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uU3RhcnRTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vblN0YXJ0ID0gbmV3IFNpZ25hbCgpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgcXVldWVkIHJlc291cmNlcyBhbGwgbG9hZC5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uQ29tcGxldGVTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vbkNvbXBsZXRlID0gbmV3IFNpZ25hbCgpOyAvLyBBZGQgZGVmYXVsdCBiZWZvcmUgbWlkZGxld2FyZVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBMb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlLmxlbmd0aDsgKytpKSB7XG4gICAgICB0aGlzLnByZShMb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlW2ldKTtcbiAgICB9IC8vIEFkZCBkZWZhdWx0IGFmdGVyIG1pZGRsZXdhcmVcblxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZS5sZW5ndGg7ICsrX2kpIHtcbiAgICAgIHRoaXMudXNlKExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZVtfaV0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogV2hlbiB0aGUgcHJvZ3Jlc3MgY2hhbmdlcyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25Qcm9ncmVzc1NpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgcHJvZ3Jlc3MgaXMgYWR2YW5jaW5nIG9uLlxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgb3IgZmFpbGVkIHRvIGNhdXNlIHRoZSBwcm9ncmVzcyB0byBhZHZhbmNlLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiBhbiBlcnJvciBvY2N1cnJzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAqIEBjYWxsYmFjayBPbkVycm9yU2lnbmFsXG4gICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoZSBlcnJvciBoYXBwZW5lZCBpbi5cbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBjYXVzZWQgdGhlIGVycm9yLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiBhIGxvYWQgY29tcGxldGVzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAqIEBjYWxsYmFjayBPbkxvYWRTaWduYWxcbiAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBsYW9kZWQgdGhlIHJlc291cmNlLlxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgbG9hZGluZy5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIGxvYWRlciBzdGFydHMgbG9hZGluZyByZXNvdXJjZXMgaXQgZGlzcGF0Y2hlcyB0aGlzIGNhbGxiYWNrLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgaGFzIHN0YXJ0ZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSBsb2FkZXIgY29tcGxldGVzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25Db21wbGV0ZVNpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGhhcyBmaW5pc2hlZCBsb2FkaW5nIHJlc291cmNlcy5cbiAgICovXG5cbiAgLyoqXG4gICAqIE9wdGlvbnMgZm9yIGEgY2FsbCB0byBgLmFkZCgpYC5cbiAgICpcbiAgICogQHNlZSBMb2FkZXIjYWRkXG4gICAqXG4gICAqIEB0eXBlZGVmIHtvYmplY3R9IElBZGRPcHRpb25zXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbmFtZV0gLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZCwgaWYgbm90IHBhc3NlZCB0aGUgdXJsIGlzIHVzZWQuXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBba2V5XSAtIEFsaWFzIGZvciBgbmFtZWAuXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdXJsXSAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ3xib29sZWFufSBbY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0b1xuICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW3RpbWVvdXQ9MF0gLSBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgbG9hZC4gSWYgdGhlIGxvYWQgdGFrZXNcbiAgICogICAgICBsb25nZXIgdGhhbiB0aGlzIHRpbWUgaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpc1xuICAgKiAgICAgIHNldCB0byBgMGAgdGhlbiB0aGVyZSBpcyBubyBleHBsaWNpdCB0aW1lb3V0LlxuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLkxPQURfVFlQRX0gW2xvYWRUeXBlPVJlc291cmNlLkxPQURfVFlQRS5YSFJdIC0gSG93IHNob3VsZCB0aGlzIHJlc291cmNlXG4gICAqICAgICAgYmUgbG9hZGVkP1xuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBbeGhyVHlwZT1SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUXSAtIEhvd1xuICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW29uQ29tcGxldGVdIC0gQ2FsbGJhY2sgdG8gYWRkIGFuIGFuIG9uQ29tcGxldGUgc2lnbmFsIGlzdGVuZXIuXG4gICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEFsaWFzIGZvciBgb25Db21wbGV0ZWAuXG4gICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuSU1ldGFkYXRhfSBbbWV0YWRhdGFdIC0gRXh0cmEgY29uZmlndXJhdGlvbiBmb3IgbWlkZGxld2FyZSBhbmQgdGhlIFJlc291cmNlIG9iamVjdC5cbiAgICovXG5cbiAgLyogZXNsaW50LWRpc2FibGUgcmVxdWlyZS1qc2RvYyx2YWxpZC1qc2RvYyAqL1xuXG4gIC8qKlxuICAgKiBBZGRzIGEgcmVzb3VyY2UgKG9yIG11bHRpcGxlIHJlc291cmNlcykgdG8gdGhlIGxvYWRlciBxdWV1ZS5cbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBjYW4gdGFrZSBhIHdpZGUgdmFyaWV0eSBvZiBkaWZmZXJlbnQgcGFyYW1ldGVycy4gVGhlIG9ubHkgdGhpbmcgdGhhdCBpcyBhbHdheXNcbiAgICogcmVxdWlyZWQgdGhlIHVybCB0byBsb2FkLiBBbGwgdGhlIGZvbGxvd2luZyB3aWxsIHdvcms6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGxvYWRlclxuICAgKiAgICAgLy8gbm9ybWFsIHBhcmFtIHN5bnRheFxuICAgKiAgICAgLmFkZCgna2V5JywgJ2h0dHA6Ly8uLi4nLCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nLCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nKVxuICAgKlxuICAgKiAgICAgLy8gb2JqZWN0IHN5bnRheFxuICAgKiAgICAgLmFkZCh7XG4gICAqICAgICAgICAgbmFtZTogJ2tleTInLFxuICAgKiAgICAgICAgIHVybDogJ2h0dHA6Ly8uLi4nXG4gICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIHVybDogJ2h0dHA6Ly8uLi4nXG4gICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIG5hbWU6ICdrZXkzJyxcbiAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgKiAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9XG4gICAqICAgICB9KVxuICAgKiAgICAgLmFkZCh7XG4gICAqICAgICAgICAgdXJsOiAnaHR0cHM6Ly8uLi4nLFxuICAgKiAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9LFxuICAgKiAgICAgICAgIGNyb3NzT3JpZ2luOiB0cnVlXG4gICAqICAgICB9KVxuICAgKlxuICAgKiAgICAgLy8geW91IGNhbiBhbHNvIHBhc3MgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciB1cmxzIG9yIGJvdGhcbiAgICogICAgIC5hZGQoW1xuICAgKiAgICAgICAgIHsgbmFtZTogJ2tleTQnLCB1cmw6ICdodHRwOi8vLi4uJywgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30gfSxcbiAgICogICAgICAgICB7IHVybDogJ2h0dHA6Ly8uLi4nLCBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSB9LFxuICAgKiAgICAgICAgICdodHRwOi8vLi4uJ1xuICAgKiAgICAgXSlcbiAgICpcbiAgICogICAgIC8vIGFuZCB5b3UgY2FuIHVzZSBib3RoIHBhcmFtcyBhbmQgb3B0aW9uc1xuICAgKiAgICAgLmFkZCgna2V5JywgJ2h0dHA6Ly8uLi4nLCB7IGNyb3NzT3JpZ2luOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHt9KVxuICAgKiAgICAgLmFkZCgnaHR0cDovLy4uLicsIHsgY3Jvc3NPcmlnaW46IHRydWUgfSwgZnVuY3Rpb24gKCkge30pO1xuICAgKiBgYGBcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEB2YXJpYXRpb24gMVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG5cbiAgLyoqXG4gICogQGZ1bmN0aW9uXG4gICogQHZhcmlhdGlvbiAyXG4gICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICogQHBhcmFtIHtJQWRkT3B0aW9uc30gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gM1xuICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDRcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICogQHBhcmFtIHtJQWRkT3B0aW9uc30gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gNVxuICAqIEBwYXJhbSB7SUFkZE9wdGlvbnN9IG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGxvYWQuIFRoaXMgb2JqZWN0IG11c3QgY29udGFpbiBhIGB1cmxgIHByb3BlcnR5LlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gNlxuICAqIEBwYXJhbSB7QXJyYXk8SUFkZE9wdGlvbnN8c3RyaW5nPn0gcmVzb3VyY2VzIC0gQW4gYXJyYXkgb2YgcmVzb3VyY2VzIHRvIGxvYWQsIHdoZXJlIGVhY2ggaXNcbiAgKiAgICAgIGVpdGhlciBhbiBvYmplY3Qgd2l0aCB0aGUgb3B0aW9ucyBvciBhIHN0cmluZyB1cmwuIElmIHlvdSBwYXNzIGFuIG9iamVjdCwgaXQgbXVzdCBjb250YWluIGEgYHVybGAgcHJvcGVydHkuXG4gICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICovXG5cblxuICB2YXIgX3Byb3RvID0gTG9hZGVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uYWRkID0gZnVuY3Rpb24gYWRkKG5hbWUsIHVybCwgb3B0aW9ucywgY2IpIHtcbiAgICAvLyBzcGVjaWFsIGNhc2Ugb2YgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciB1cmxzXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZSkpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZS5sZW5ndGg7ICsraSkge1xuICAgICAgICB0aGlzLmFkZChuYW1lW2ldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSAvLyBpZiBhbiBvYmplY3QgaXMgcGFzc2VkIGluc3RlYWQgb2YgcGFyYW1zXG5cblxuICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGNiID0gdXJsIHx8IG5hbWUuY2FsbGJhY2sgfHwgbmFtZS5vbkNvbXBsZXRlO1xuICAgICAgb3B0aW9ucyA9IG5hbWU7XG4gICAgICB1cmwgPSBuYW1lLnVybDtcbiAgICAgIG5hbWUgPSBuYW1lLm5hbWUgfHwgbmFtZS5rZXkgfHwgbmFtZS51cmw7XG4gICAgfSAvLyBjYXNlIHdoZXJlIG5vIG5hbWUgaXMgcGFzc2VkIHNoaWZ0IGFsbCBhcmdzIG92ZXIgYnkgb25lLlxuXG5cbiAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSB1cmw7XG4gICAgICB1cmwgPSBuYW1lO1xuICAgIH0gLy8gbm93IHRoYXQgd2Ugc2hpZnRlZCBtYWtlIHN1cmUgd2UgaGF2ZSBhIHByb3BlciB1cmwuXG5cblxuICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1cmwgcGFzc2VkIHRvIGFkZCByZXNvdXJjZSB0byBsb2FkZXIuJyk7XG4gICAgfSAvLyBvcHRpb25zIGFyZSBvcHRpb25hbCBzbyBwZW9wbGUgbWlnaHQgcGFzcyBhIGZ1bmN0aW9uIGFuZCBubyBvcHRpb25zXG5cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2IgPSBvcHRpb25zO1xuICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgfSAvLyBpZiBsb2FkaW5nIGFscmVhZHkgeW91IGNhbiBvbmx5IGFkZCByZXNvdXJjZXMgdGhhdCBoYXZlIGEgcGFyZW50LlxuXG5cbiAgICBpZiAodGhpcy5sb2FkaW5nICYmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5wYXJlbnRSZXNvdXJjZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFkZCByZXNvdXJjZXMgd2hpbGUgdGhlIGxvYWRlciBpcyBydW5uaW5nLicpO1xuICAgIH0gLy8gY2hlY2sgaWYgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHMuXG5cblxuICAgIGlmICh0aGlzLnJlc291cmNlc1tuYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVzb3VyY2UgbmFtZWQgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBhbHJlYWR5IGV4aXN0cy5cIik7XG4gICAgfSAvLyBhZGQgYmFzZSB1cmwgaWYgdGhpcyBpc24ndCBhbiBhYnNvbHV0ZSB1cmxcblxuXG4gICAgdXJsID0gdGhpcy5fcHJlcGFyZVVybCh1cmwpOyAvLyBjcmVhdGUgdGhlIHN0b3JlIHRoZSByZXNvdXJjZVxuXG4gICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0gPSBuZXcgUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKTtcblxuICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMucmVzb3VyY2VzW25hbWVdLm9uQWZ0ZXJNaWRkbGV3YXJlLm9uY2UoY2IpO1xuICAgIH0gLy8gaWYgYWN0aXZlbHkgbG9hZGluZywgbWFrZSBzdXJlIHRvIGFkanVzdCBwcm9ncmVzcyBjaHVua3MgZm9yIHRoYXQgcGFyZW50IGFuZCBpdHMgY2hpbGRyZW5cblxuXG4gICAgaWYgKHRoaXMubG9hZGluZykge1xuICAgICAgdmFyIHBhcmVudCA9IG9wdGlvbnMucGFyZW50UmVzb3VyY2U7XG4gICAgICB2YXIgaW5jb21wbGV0ZUNoaWxkcmVuID0gW107XG5cbiAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7ICsrX2kyKSB7XG4gICAgICAgIGlmICghcGFyZW50LmNoaWxkcmVuW19pMl0uaXNDb21wbGV0ZSkge1xuICAgICAgICAgIGluY29tcGxldGVDaGlsZHJlbi5wdXNoKHBhcmVudC5jaGlsZHJlbltfaTJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZnVsbENodW5rID0gcGFyZW50LnByb2dyZXNzQ2h1bmsgKiAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDEpOyAvLyArMSBmb3IgcGFyZW50XG5cbiAgICAgIHZhciBlYWNoQ2h1bmsgPSBmdWxsQ2h1bmsgLyAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDIpOyAvLyArMiBmb3IgcGFyZW50ICYgbmV3IGNoaWxkXG5cbiAgICAgIHBhcmVudC5jaGlsZHJlbi5wdXNoKHRoaXMucmVzb3VyY2VzW25hbWVdKTtcbiAgICAgIHBhcmVudC5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuXG4gICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCBpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoOyArK19pMykge1xuICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW5bX2kzXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgIH0gLy8gYWRkIHRoZSByZXNvdXJjZSB0byB0aGUgcXVldWVcblxuXG4gICAgdGhpcy5fcXVldWUucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIHJlcXVpcmUtanNkb2MsdmFsaWQtanNkb2MgKi9cblxuICAvKipcbiAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYmVmb3JlKiB0aGVcbiAgICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyLlxuICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucHJlID0gZnVuY3Rpb24gcHJlKGZuKSB7XG4gICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICphZnRlciogdGhlXG4gICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVzZSA9IGZ1bmN0aW9uIHVzZShmbikge1xuICAgIHRoaXMuX2FmdGVyTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIHF1ZXVlIG9mIHRoZSBsb2FkZXIgdG8gcHJlcGFyZSBmb3IgYSBuZXcgbG9hZC5cbiAgICpcbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICB0aGlzLl9xdWV1ZS5raWxsKCk7XG5cbiAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpOyAvLyBhYm9ydCBhbGwgcmVzb3VyY2UgbG9hZHNcblxuXG4gICAgZm9yICh2YXIgayBpbiB0aGlzLnJlc291cmNlcykge1xuICAgICAgdmFyIHJlcyA9IHRoaXMucmVzb3VyY2VzW2tdO1xuXG4gICAgICBpZiAocmVzLl9vbkxvYWRCaW5kaW5nKSB7XG4gICAgICAgIHJlcy5fb25Mb2FkQmluZGluZy5kZXRhY2goKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlcy5pc0xvYWRpbmcpIHtcbiAgICAgICAgcmVzLmFib3J0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogU3RhcnRzIGxvYWRpbmcgdGhlIHF1ZXVlZCByZXNvdXJjZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0aGF0IHdpbGwgYmUgYm91bmQgdG8gdGhlIGBjb21wbGV0ZWAgZXZlbnQuXG4gICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5sb2FkID0gZnVuY3Rpb24gbG9hZChjYikge1xuICAgIC8vIHJlZ2lzdGVyIGNvbXBsZXRlIGNhbGxiYWNrIGlmIHRoZXkgcGFzcyBvbmVcbiAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgfSAvLyBpZiB0aGUgcXVldWUgaGFzIGFscmVhZHkgc3RhcnRlZCB3ZSBhcmUgZG9uZSBoZXJlXG5cblxuICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9xdWV1ZS5pZGxlKCkpIHtcbiAgICAgIHRoaXMuX29uU3RhcnQoKTtcblxuICAgICAgdGhpcy5fb25Db21wbGV0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkaXN0cmlidXRlIHByb2dyZXNzIGNodW5rc1xuICAgICAgdmFyIG51bVRhc2tzID0gdGhpcy5fcXVldWUuX3Rhc2tzLmxlbmd0aDtcbiAgICAgIHZhciBjaHVuayA9IE1BWF9QUk9HUkVTUyAvIG51bVRhc2tzO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB0aGlzLl9xdWV1ZS5fdGFza3NbaV0uZGF0YS5wcm9ncmVzc0NodW5rID0gY2h1bms7XG4gICAgICB9IC8vIG5vdGlmeSB3ZSBhcmUgc3RhcnRpbmdcblxuXG4gICAgICB0aGlzLl9vblN0YXJ0KCk7IC8vIHN0YXJ0IGxvYWRpbmdcblxuXG4gICAgICB0aGlzLl9xdWV1ZS5yZXN1bWUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdG8gbG9hZCBjb25jdXJyZW50bHkuXG4gICAqXG4gICAqIEBtZW1iZXIge251bWJlcn1cbiAgICogQGRlZmF1bHQgMTBcbiAgICovXG4gIDtcblxuICAvKipcbiAgICogUHJlcGFyZXMgYSB1cmwgZm9yIHVzYWdlIGJhc2VkIG9uIHRoZSBjb25maWd1cmF0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHByZXBhcmUuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHByZXBhcmVkIHVybC5cbiAgICovXG4gIF9wcm90by5fcHJlcGFyZVVybCA9IGZ1bmN0aW9uIF9wcmVwYXJlVXJsKHVybCkge1xuICAgIHZhciBwYXJzZWRVcmwgPSBwYXJzZVVyaSh1cmwsIHtcbiAgICAgIHN0cmljdE1vZGU6IHRydWVcbiAgICB9KTtcbiAgICB2YXIgcmVzdWx0OyAvLyBhYnNvbHV0ZSB1cmwsIGp1c3QgdXNlIGl0IGFzIGlzLlxuXG4gICAgaWYgKHBhcnNlZFVybC5wcm90b2NvbCB8fCAhcGFyc2VkVXJsLnBhdGggfHwgdXJsLmluZGV4T2YoJy8vJykgPT09IDApIHtcbiAgICAgIHJlc3VsdCA9IHVybDtcbiAgICB9IC8vIGlmIGJhc2VVcmwgZG9lc24ndCBlbmQgaW4gc2xhc2ggYW5kIHVybCBkb2Vzbid0IHN0YXJ0IHdpdGggc2xhc2gsIHRoZW4gYWRkIGEgc2xhc2ggaW5iZXR3ZWVuXG4gICAgZWxzZSBpZiAodGhpcy5iYXNlVXJsLmxlbmd0aCAmJiB0aGlzLmJhc2VVcmwubGFzdEluZGV4T2YoJy8nKSAhPT0gdGhpcy5iYXNlVXJsLmxlbmd0aCAtIDEgJiYgdXJsLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuYmFzZVVybCArIFwiL1wiICsgdXJsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5iYXNlVXJsICsgdXJsO1xuICAgICAgfSAvLyBpZiB3ZSBuZWVkIHRvIGFkZCBhIGRlZmF1bHQgcXVlcnlzdHJpbmcsIHRoZXJlIGlzIGEgYml0IG1vcmUgd29ya1xuXG5cbiAgICBpZiAodGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcpIHtcbiAgICAgIHZhciBoYXNoID0gcmd4RXh0cmFjdFVybEhhc2guZXhlYyhyZXN1bHQpWzBdO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0LnN1YnN0cigwLCByZXN1bHQubGVuZ3RoIC0gaGFzaC5sZW5ndGgpO1xuXG4gICAgICBpZiAocmVzdWx0LmluZGV4T2YoJz8nKSAhPT0gLTEpIHtcbiAgICAgICAgcmVzdWx0ICs9IFwiJlwiICsgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgKz0gXCI/XCIgKyB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZztcbiAgICAgIH1cblxuICAgICAgcmVzdWx0ICs9IGhhc2g7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgYSBzaW5nbGUgcmVzb3VyY2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGRlcXVldWUgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHdlIG5lZWQgdG8gZGVxdWV1ZSB0aGlzIGl0ZW0uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9sb2FkUmVzb3VyY2UgPSBmdW5jdGlvbiBfbG9hZFJlc291cmNlKHJlc291cmNlLCBkZXF1ZXVlKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICByZXNvdXJjZS5fZGVxdWV1ZSA9IGRlcXVldWU7IC8vIHJ1biBiZWZvcmUgbWlkZGxld2FyZVxuXG4gICAgZWFjaFNlcmllcyh0aGlzLl9iZWZvcmVNaWRkbGV3YXJlLCBmdW5jdGlvbiAoZm4sIG5leHQpIHtcbiAgICAgIGZuLmNhbGwoX3RoaXMyLCByZXNvdXJjZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBpZiB0aGUgYmVmb3JlIG1pZGRsZXdhcmUgbWFya3MgdGhlIHJlc291cmNlIGFzIGNvbXBsZXRlLFxuICAgICAgICAvLyBicmVhayBhbmQgZG9uJ3QgcHJvY2VzcyBhbnkgbW9yZSBiZWZvcmUgbWlkZGxld2FyZVxuICAgICAgICBuZXh0KHJlc291cmNlLmlzQ29tcGxldGUgPyB7fSA6IG51bGwpO1xuICAgICAgfSk7XG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHJlc291cmNlLmlzQ29tcGxldGUpIHtcbiAgICAgICAgX3RoaXMyLl9vbkxvYWQocmVzb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb3VyY2UuX29uTG9hZEJpbmRpbmcgPSByZXNvdXJjZS5vbkNvbXBsZXRlLm9uY2UoX3RoaXMyLl9vbkxvYWQsIF90aGlzMik7XG4gICAgICAgIHJlc291cmNlLmxvYWQoKTtcbiAgICAgIH1cbiAgICB9LCB0cnVlKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIG9uY2UgbG9hZGluZyBoYXMgc3RhcnRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uU3RhcnQgPSBmdW5jdGlvbiBfb25TdGFydCgpIHtcbiAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgIHRoaXMub25TdGFydC5kaXNwYXRjaCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIG9uY2UgZWFjaCByZXNvdXJjZSBoYXMgbG9hZGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25Db21wbGV0ZSA9IGZ1bmN0aW9uIF9vbkNvbXBsZXRlKCkge1xuICAgIHRoaXMucHJvZ3Jlc3MgPSBNQVhfUFJPR1JFU1M7XG4gICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgdGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMsIHRoaXMucmVzb3VyY2VzKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIGVhY2ggdGltZSBhIHJlc291cmNlcyBpcyBsb2FkZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgd2FzIGxvYWRlZFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25Mb2FkID0gZnVuY3Rpb24gX29uTG9hZChyZXNvdXJjZSkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgcmVzb3VyY2UuX29uTG9hZEJpbmRpbmcgPSBudWxsOyAvLyByZW1vdmUgdGhpcyByZXNvdXJjZSBmcm9tIHRoZSBhc3luYyBxdWV1ZSwgYW5kIGFkZCBpdCB0byBvdXIgbGlzdCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgYmVpbmcgcGFyc2VkXG5cbiAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nLnB1c2gocmVzb3VyY2UpO1xuXG4gICAgcmVzb3VyY2UuX2RlcXVldWUoKTsgLy8gcnVuIGFsbCB0aGUgYWZ0ZXIgbWlkZGxld2FyZSBmb3IgdGhpcyByZXNvdXJjZVxuXG5cbiAgICBlYWNoU2VyaWVzKHRoaXMuX2FmdGVyTWlkZGxld2FyZSwgZnVuY3Rpb24gKGZuLCBuZXh0KSB7XG4gICAgICBmbi5jYWxsKF90aGlzMywgcmVzb3VyY2UsIG5leHQpO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlc291cmNlLm9uQWZ0ZXJNaWRkbGV3YXJlLmRpc3BhdGNoKHJlc291cmNlKTtcbiAgICAgIF90aGlzMy5wcm9ncmVzcyA9IE1hdGgubWluKE1BWF9QUk9HUkVTUywgX3RoaXMzLnByb2dyZXNzICsgcmVzb3VyY2UucHJvZ3Jlc3NDaHVuayk7XG5cbiAgICAgIF90aGlzMy5vblByb2dyZXNzLmRpc3BhdGNoKF90aGlzMywgcmVzb3VyY2UpO1xuXG4gICAgICBpZiAocmVzb3VyY2UuZXJyb3IpIHtcbiAgICAgICAgX3RoaXMzLm9uRXJyb3IuZGlzcGF0Y2gocmVzb3VyY2UuZXJyb3IsIF90aGlzMywgcmVzb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMzLm9uTG9hZC5kaXNwYXRjaChfdGhpczMsIHJlc291cmNlKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMzLl9yZXNvdXJjZXNQYXJzaW5nLnNwbGljZShfdGhpczMuX3Jlc291cmNlc1BhcnNpbmcuaW5kZXhPZihyZXNvdXJjZSksIDEpOyAvLyBkbyBjb21wbGV0aW9uIGNoZWNrXG5cblxuICAgICAgaWYgKF90aGlzMy5fcXVldWUuaWRsZSgpICYmIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgX3RoaXMzLl9vbkNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfSwgdHJ1ZSk7XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKExvYWRlciwgW3tcbiAgICBrZXk6IFwiY29uY3VycmVuY3lcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9xdWV1ZS5jb25jdXJyZW5jeTtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KGNvbmN1cnJlbmN5KSB7XG4gICAgICB0aGlzLl9xdWV1ZS5jb25jdXJyZW5jeSA9IGNvbmN1cnJlbmN5O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMb2FkZXI7XG59KCk7XG4vKipcbiAqIEEgZGVmYXVsdCBhcnJheSBvZiBtaWRkbGV3YXJlIHRvIHJ1biBiZWZvcmUgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICogRWFjaCBvZiB0aGVzZSBtaWRkbGV3YXJlcyBhcmUgYWRkZWQgdG8gYW55IG5ldyBMb2FkZXIgaW5zdGFuY2VzIHdoZW4gdGhleSBhcmUgY3JlYXRlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAqL1xuXG5cbkxvYWRlci5fZGVmYXVsdEJlZm9yZU1pZGRsZXdhcmUgPSBbXTtcbi8qKlxuICogQSBkZWZhdWx0IGFycmF5IG9mIG1pZGRsZXdhcmUgdG8gcnVuIGFmdGVyIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAqIEVhY2ggb2YgdGhlc2UgbWlkZGxld2FyZXMgYXJlIGFkZGVkIHRvIGFueSBuZXcgTG9hZGVyIGluc3RhbmNlcyB3aGVuIHRoZXkgYXJlIGNyZWF0ZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gKi9cblxuTG9hZGVyLl9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlID0gW107XG4vKipcbiAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmJlZm9yZSogdGhlXG4gKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gKlxuICogQHN0YXRpY1xuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gKi9cblxuTG9hZGVyLnByZSA9IGZ1bmN0aW9uIExvYWRlclByZVN0YXRpYyhmbikge1xuICBMb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlLnB1c2goZm4pO1xuXG4gIHJldHVybiBMb2FkZXI7XG59O1xuLyoqXG4gKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICphZnRlciogdGhlXG4gKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gKlxuICogQHN0YXRpY1xuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gKi9cblxuXG5Mb2FkZXIudXNlID0gZnVuY3Rpb24gTG9hZGVyVXNlU3RhdGljKGZuKSB7XG4gIExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICByZXR1cm4gTG9hZGVyO1xufTtcblxuZXhwb3J0IHsgTG9hZGVyLCBSZXNvdXJjZSwgYXN5bmMsIGVuY29kZUJpbmFyeSwgaW5kZXggYXMgbWlkZGxld2FyZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb3VyY2UtbG9hZGVyLmVzbS5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbG9hZGVycyAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9sb2FkZXJzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVzb3VyY2UsIExvYWRlciBhcyBMb2FkZXIkMSwgbWlkZGxld2FyZSB9IGZyb20gJ3Jlc291cmNlLWxvYWRlcic7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qKlxuKiBSZWZlcmVuY2UgdG8gKip7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuKiByZXNvdXJjZS1sb2FkZXJ9KioncyBSZXNvdXJjZSBjbGFzcy5cbiogQHNlZSBodHRwOi8vZW5nbGVyY2ouZ2l0aHViLmlvL3Jlc291cmNlLWxvYWRlci9SZXNvdXJjZS5odG1sXG4qIEBjbGFzcyBMb2FkZXJSZXNvdXJjZVxuKiBAbWVtYmVyb2YgUElYSVxuKi9cbnZhciBMb2FkZXJSZXNvdXJjZSA9IFJlc291cmNlO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBMb2FkZXIgcGx1Z2luIGZvciBoYW5kbGluZyBUZXh0dXJlIHJlc291cmNlcy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIFBJWEkuSUxvYWRlclBsdWdpblxuICovXG52YXIgVGV4dHVyZUxvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZXh0dXJlTG9hZGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBUZXh0dXJlTG9hZGVyLnVzZSA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgbmV4dCkge1xuICAgICAgICAvLyBjcmVhdGUgYSBuZXcgdGV4dHVyZSBpZiB0aGUgZGF0YSBpcyBhbiBJbWFnZSBvYmplY3RcbiAgICAgICAgaWYgKHJlc291cmNlLmRhdGEgJiYgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5JTUFHRSkge1xuICAgICAgICAgICAgcmVzb3VyY2UudGV4dHVyZSA9IFRleHR1cmUuZnJvbUxvYWRlcihyZXNvdXJjZS5kYXRhLCByZXNvdXJjZS51cmwsIHJlc291cmNlLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIG5leHQoKTtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlTG9hZGVyO1xufSgpKTtcblxuLyoqXG4gKiBUaGUgbmV3IGxvYWRlciwgZXh0ZW5kcyBSZXNvdXJjZSBMb2FkZXIgYnkgQ2hhZCBFbmdsZXI6IGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgbG9hZGVyID0gUElYSS5Mb2FkZXIuc2hhcmVkOyAvLyBQaXhpSlMgZXhwb3NlcyBhIHByZW1hZGUgaW5zdGFuY2UgZm9yIHlvdSB0byB1c2UuXG4gKiAvL29yXG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgUElYSS5Mb2FkZXIoKTsgLy8geW91IGNhbiBhbHNvIGNyZWF0ZSB5b3VyIG93biBpZiB5b3Ugd2FudFxuICpcbiAqIGNvbnN0IHNwcml0ZXMgPSB7fTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYGFkZGAgdG8gZW5xdWV1ZSBhIHJlc291cmNlXG4gKiBsb2FkZXIuYWRkKCdidW5ueScsICdkYXRhL2J1bm55LnBuZycpXG4gKiAgICAgICAuYWRkKCdzcGFjZXNoaXAnLCAnYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb24nKTtcbiAqIGxvYWRlci5hZGQoJ3Njb3JlRm9udCcsICdhc3NldHMvc2NvcmUuZm50Jyk7XG4gKlxuICogLy8gQ2hhaW5hYmxlIGBwcmVgIHRvIGFkZCBhIG1pZGRsZXdhcmUgdGhhdCBydW5zIGZvciBlYWNoIHJlc291cmNlLCAqYmVmb3JlKiBsb2FkaW5nIHRoYXQgcmVzb3VyY2UuXG4gKiAvLyBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgY3VzdG9tIGNhY2hpbmcgbW9kdWxlcyAodXNpbmcgZmlsZXN5c3RlbSwgaW5kZXhlZGRiLCBtZW1vcnksIGV0YykuXG4gKiBsb2FkZXIucHJlKGNhY2hpbmdNaWRkbGV3YXJlKTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYHVzZWAgdG8gYWRkIGEgbWlkZGxld2FyZSB0aGF0IHJ1bnMgZm9yIGVhY2ggcmVzb3VyY2UsICphZnRlciogbG9hZGluZyB0aGF0IHJlc291cmNlLlxuICogLy8gVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IGN1c3RvbSBwYXJzaW5nIG1vZHVsZXMgKGxpa2Ugc3ByaXRlc2hlZXQgcGFyc2Vycywgc3BpbmUgcGFyc2VyLCBldGMpLlxuICogbG9hZGVyLnVzZShwYXJzaW5nTWlkZGxld2FyZSk7XG4gKlxuICogLy8gVGhlIGBsb2FkYCBtZXRob2QgbG9hZHMgdGhlIHF1ZXVlIG9mIHJlc291cmNlcywgYW5kIGNhbGxzIHRoZSBwYXNzZWQgaW4gY2FsbGJhY2sgY2FsbGVkIG9uY2UgYWxsXG4gKiAvLyByZXNvdXJjZXMgaGF2ZSBsb2FkZWQuXG4gKiBsb2FkZXIubG9hZCgobG9hZGVyLCByZXNvdXJjZXMpID0+IHtcbiAqICAgICAvLyByZXNvdXJjZXMgaXMgYW4gb2JqZWN0IHdoZXJlIHRoZSBrZXkgaXMgdGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIGxvYWRlZCBhbmQgdGhlIHZhbHVlIGlzIHRoZSByZXNvdXJjZSBvYmplY3QuXG4gKiAgICAgLy8gVGhleSBoYXZlIGEgY291cGxlIGRlZmF1bHQgcHJvcGVydGllczpcbiAqICAgICAvLyAtIGB1cmxgOiBUaGUgVVJMIHRoYXQgdGhlIHJlc291cmNlIHdhcyBsb2FkZWQgZnJvbVxuICogICAgIC8vIC0gYGVycm9yYDogVGhlIGVycm9yIHRoYXQgaGFwcGVuZWQgd2hlbiB0cnlpbmcgdG8gbG9hZCAoaWYgYW55KVxuICogICAgIC8vIC0gYGRhdGFgOiBUaGUgcmF3IGRhdGEgdGhhdCB3YXMgbG9hZGVkXG4gKiAgICAgLy8gYWxzbyBtYXkgY29udGFpbiBvdGhlciBwcm9wZXJ0aWVzIGJhc2VkIG9uIHRoZSBtaWRkbGV3YXJlIHRoYXQgcnVucy5cbiAqICAgICBzcHJpdGVzLmJ1bm55ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5idW5ueS50ZXh0dXJlKTtcbiAqICAgICBzcHJpdGVzLnNwYWNlc2hpcCA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuc3BhY2VzaGlwLnRleHR1cmUpO1xuICogICAgIHNwcml0ZXMuc2NvcmVGb250ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5zY29yZUZvbnQudGV4dHVyZSk7XG4gKiB9KTtcbiAqXG4gKiAvLyB0aHJvdWdob3V0IHRoZSBwcm9jZXNzIG11bHRpcGxlIHNpZ25hbHMgY2FuIGJlIGRpc3BhdGNoZWQuXG4gKiBsb2FkZXIub25Qcm9ncmVzcy5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkL2Vycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uRXJyb3IuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGVycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uTG9hZC5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkIGZpbGVcbiAqIGxvYWRlci5vbkNvbXBsZXRlLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHdoZW4gdGhlIHF1ZXVlZCByZXNvdXJjZXMgYWxsIGxvYWQuXG4gKiBgYGBcbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiAqXG4gKiBAY2xhc3MgTG9hZGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHBhcmFtIHtzdHJpbmd9IFtiYXNlVXJsPScnXSAtIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICovXG52YXIgTG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMb2FkZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTG9hZGVyKGJhc2VVcmwsIGNvbmN1cnJlbmN5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGJhc2VVcmwsIGNvbmN1cnJlbmN5KSB8fCB0aGlzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IExvYWRlci5fcGx1Z2lucy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHBsdWdpbiA9IExvYWRlci5fcGx1Z2luc1tpXTtcbiAgICAgICAgICAgIHZhciBwcmUgPSBwbHVnaW4ucHJlLCB1c2UgPSBwbHVnaW4udXNlO1xuICAgICAgICAgICAgaWYgKHByZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnByZShwcmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVzZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnVzZSh1c2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGlzIGxvYWRlciBjYW5ub3QgYmUgZGVzdHJveWVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3Byb3RlY3RlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIGxvYWRlciwgcmVtb3ZlcyByZWZlcmVuY2VzLlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAgICAgKiBAbWV0aG9kIGRlc3Ryb3lcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgTG9hZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3Byb3RlY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTG9hZGVyLCBcInNoYXJlZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHByZW1hZGUgaW5zdGFuY2Ugb2YgdGhlIGxvYWRlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGxvYWQgcmVzb3VyY2VzLlxuICAgICAgICAgKiBAbmFtZSBzaGFyZWRcbiAgICAgICAgICogQHR5cGUge1BJWEkuTG9hZGVyfVxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2hhcmVkID0gTG9hZGVyLl9zaGFyZWQ7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZCkge1xuICAgICAgICAgICAgICAgIHNoYXJlZCA9IG5ldyBMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICBzaGFyZWQuX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgTG9hZGVyLl9zaGFyZWQgPSBzaGFyZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2hhcmVkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQWRkcyBhIExvYWRlciBwbHVnaW4gZm9yIHRoZSBnbG9iYWwgc2hhcmVkIGxvYWRlciBhbmQgYWxsXG4gICAgICogbmV3IExvYWRlciBpbnN0YW5jZXMgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWV0aG9kIHJlZ2lzdGVyUGx1Z2luXG4gICAgICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLklMb2FkZXJQbHVnaW59IHBsdWdpbiAtIFRoZSBwbHVnaW4gdG8gYWRkXG4gICAgICogQHJldHVybiB7UElYSS5Mb2FkZXJ9IFJlZmVyZW5jZSB0byBQSVhJLkxvYWRlciBmb3IgY2hhaW5pbmdcbiAgICAgKi9cbiAgICBMb2FkZXIucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgIExvYWRlci5fcGx1Z2lucy5wdXNoKHBsdWdpbik7XG4gICAgICAgIGlmIChwbHVnaW4uYWRkKSB7XG4gICAgICAgICAgICBwbHVnaW4uYWRkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExvYWRlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgYWxsIGluc3RhbGxlZCBgdXNlYCBtaWRkbGV3YXJlIGZvciBMb2FkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7QXJyYXk8UElYSS5JTG9hZGVyUGx1Z2luPn0gX3BsdWdpbnNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIExvYWRlci5fcGx1Z2lucyA9IFtdO1xuICAgIHJldHVybiBMb2FkZXI7XG59KExvYWRlciQxKSk7XG4vLyBwYXJzZSBhbnkgYmxvYiBpbnRvIG1vcmUgdXNhYmxlIG9iamVjdHMgKGUuZy4gSW1hZ2UpXG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oeyB1c2U6IG1pZGRsZXdhcmUucGFyc2luZyB9KTtcbi8vIHBhcnNlIGFueSBJbWFnZSBvYmplY3RzIGludG8gdGV4dHVyZXNcbkxvYWRlci5yZWdpc3RlclBsdWdpbihUZXh0dXJlTG9hZGVyKTtcbi8qKlxuICogUGx1Z2luIHRvIGJlIGluc3RhbGxlZCBmb3IgaGFuZGxpbmcgc3BlY2lmaWMgTG9hZGVyIHJlc291cmNlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSUxvYWRlclBsdWdpblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW2FkZF0gLSBGdW5jdGlvbiB0byBjYWxsIGltbWVkaWF0ZSBhZnRlciByZWdpc3RlcmluZyBwbHVnaW4uXG4gKiBAcHJvcGVydHkge1BJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmV9IFtwcmVdIC0gTWlkZGxld2FyZSBmdW5jdGlvbiB0byBydW4gYmVmb3JlIGxvYWQsIHRoZVxuICogICAgICAgICAgIGFyZ3VtZW50cyBmb3IgdGhpcyBhcmUgYChyZXNvdXJjZSwgbmV4dClgXG4gKiBAcHJvcGVydHkge1BJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmV9IFt1c2VdIC0gTWlkZGxld2FyZSBmdW5jdGlvbiB0byBydW4gYWZ0ZXIgbG9hZCwgdGhlXG4gKiAgICAgICAgICAgYXJndW1lbnRzIGZvciB0aGlzIGFyZSBgKHJlc291cmNlLCBuZXh0KWBcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElDYWxsYmFja0lEXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb259IElTaWduYWxDYWxsYmFja1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayBmdW5jdGlvblxuICogQHBhcmFtIHtvYmplY3R9IFtjb250ZXh0XSAtIENvbnRleHRcbiAqIEByZXR1cm5zIHtJQ2FsbGJhY2tJRH0gLSBDYWxsYmFja0lEXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb259IElTaWduYWxEZXRhY2hcbiAqIEBwYXJhbSB7SUNhbGxiYWNrSUR9IGlkIC0gQ2FsbGJhY2tJRCByZXR1cm5lZCBieSBgYWRkYC9gb25jZWAgbWV0aG9kc1xuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICogQHR5cGVkZWYgSUxvYWRlclNpZ25hbFxuICogQHByb3BlcnR5IHtJU2lnbmFsQ2FsbGJhY2t9IGFkZCAtIFJlZ2lzdGVyIGNhbGxiYWNrXG4gKiBAcHJvcGVydHkge0lTaWduYWxDYWxsYmFja30gb25jZSAtIFJlZ2lzdGVyIG9uZXNob3QgY2FsbGJhY2tcbiAqIEBwcm9wZXJ0eSB7SVNpZ25hbERldGFjaH0gZGV0YWNoIC0gRGV0YWNoIHNwZWNpZmljIGNhbGxiYWNrIGJ5IElEXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAY2FsbGJhY2sgbG9hZGVyTWlkZGxld2FyZVxuICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBkZXNjcmlwdGlvbiBEaXNwYXRjaGVkIHdoZW4gdGhlIGxvYWRlciBiZWdpbnMgdG8gbG9hZGluZyBwcm9jZXNzLlxuICogQG1lbWJlciB7UElYSS5Mb2FkZXIuSUxvYWRlclNpZ25hbH0gb25TdGFydFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBkZXNjcmlwdGlvbiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCBvciBlcnJvcmVkIHJlc291cmNlLlxuICogQG1lbWJlciB7UElYSS5Mb2FkZXIuSUxvYWRlclNpZ25hbH0gb25Qcm9ncmVzc1xuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBkZXNjcmlwdGlvbiBEaXNwYXRjaGVkIG9uY2UgcGVyIGVycm9yZWQgcmVzb3VyY2UuXG4gKiBAbWVtYmVyIHtQSVhJLkxvYWRlci5JTG9hZGVyU2lnbmFsfSBvbkVycm9yXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQGRlc2NyaXB0aW9uIERpc3BhdGNoZWQgb25jZSBwZXIgbG9hZGVkIHJlc291cmNlLlxuICogQG1lbWJlciB7UElYSS5Mb2FkZXIuSUxvYWRlclNpZ25hbH0gb25Mb2FkXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQGRlc2NyaXB0aW9uIERpc3BhdGNoZWQgd2hlbiBjb21wbGV0ZWx5IGxvYWRlZCBhbGwgcmVzb3VyY2VzLlxuICogQG1lbWJlciB7UElYSS5Mb2FkZXIuSUxvYWRlclNpZ25hbH0gb25Db21wbGV0ZVxuICovXG5cbi8qKlxuICogQXBwbGljYXRpb24gcGx1Z2luIGZvciBzdXBwb3J0aW5nIGxvYWRlciBvcHRpb24uIEluc3RhbGxpbmcgdGhlIExvYWRlclBsdWdpblxuICogaXMgbm90IG5lY2Vzc2FyeSBpZiB1c2luZyAqKnBpeGkuanMqKiBvciAqKnBpeGkuanMtbGVnYWN5KiouXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHtBcHBMb2FkZXJQbHVnaW59IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuICogaW1wb3J0IHtBcHBsaWNhdGlvbn0gZnJvbSAnQHBpeGkvYXBwJztcbiAqIEFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKEFwcExvYWRlclBsdWdpbik7XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBcHBMb2FkZXJQbHVnaW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXBwTG9hZGVyUGx1Z2luKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgb24gYXBwbGljYXRpb24gY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQXBwTG9hZGVyUGx1Z2luLmluaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBzaGFyZWRMb2FkZXI6IGZhbHNlLFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvYWRlciBpbnN0YW5jZSB0byBoZWxwIHdpdGggYXNzZXQgbG9hZGluZy5cbiAgICAgICAgICogQG5hbWUgUElYSS5BcHBsaWNhdGlvbiNsb2FkZXJcbiAgICAgICAgICogQHR5cGUge1BJWEkuTG9hZGVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubG9hZGVyID0gb3B0aW9ucy5zaGFyZWRMb2FkZXIgPyBMb2FkZXIuc2hhcmVkIDogbmV3IExvYWRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYXBwbGljYXRpb24gZGVzdHJveWVkXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBcHBMb2FkZXJQbHVnaW4uZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubG9hZGVyKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmxvYWRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBcHBMb2FkZXJQbHVnaW47XG59KCkpO1xuXG5leHBvcnQgeyBBcHBMb2FkZXJQbHVnaW4sIExvYWRlciwgTG9hZGVyUmVzb3VyY2UsIFRleHR1cmVMb2FkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRlcnMuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3BhcnRpY2xlcyAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9wYXJ0aWNsZXMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBCTEVORF9NT0RFUywgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBoZXgycmdiLCBjcmVhdGVJbmRpY2VzRm9yUXVhZHMsIGNvcnJlY3RCbGVuZE1vZGUsIHByZW11bHRpcGx5UmdiYSwgcHJlbXVsdGlwbHlUaW50IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgR2VvbWV0cnksIEJ1ZmZlciwgU2hhZGVyLCBTdGF0ZSwgT2JqZWN0UmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBUaGUgUGFydGljbGVDb250YWluZXIgY2xhc3MgaXMgYSByZWFsbHkgZmFzdCB2ZXJzaW9uIG9mIHRoZSBDb250YWluZXIgYnVpbHQgc29sZWx5IGZvciBzcGVlZCxcbiAqIHNvIHVzZSB3aGVuIHlvdSBuZWVkIGEgbG90IG9mIHNwcml0ZXMgb3IgcGFydGljbGVzLlxuICpcbiAqIFRoZSB0cmFkZW9mZiBvZiB0aGUgUGFydGljbGVDb250YWluZXIgaXMgdGhhdCBtb3N0IGFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgd2lsbCBub3Qgd29yay5cbiAqIFBhcnRpY2xlQ29udGFpbmVyIGltcGxlbWVudHMgdGhlIGJhc2ljIG9iamVjdCB0cmFuc2Zvcm0gKHBvc2l0aW9uLCBzY2FsZSwgcm90YXRpb24pXG4gKiBhbmQgc29tZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgdGludCAoYXMgb2YgdjQuNS42KS5cbiAqXG4gKiBPdGhlciBtb3JlIGFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgbGlrZSBtYXNraW5nLCBjaGlsZHJlbiwgZmlsdGVycywgZXRjIHdpbGwgbm90IHdvcmsgb24gc3ByaXRlcyBpbiB0aGlzIGJhdGNoLlxuICpcbiAqIEl0J3MgZXh0cmVtZWx5IGVhc3kgdG8gdXNlOlxuICogYGBganNcbiAqIGxldCBjb250YWluZXIgPSBuZXcgUGFydGljbGVDb250YWluZXIoKTtcbiAqXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgKytpKVxuICoge1xuICogICAgIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKFwibXlJbWFnZS5wbmdcIik7XG4gKiAgICAgY29udGFpbmVyLmFkZENoaWxkKHNwcml0ZSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBBbmQgaGVyZSB5b3UgaGF2ZSBhIGh1bmRyZWQgc3ByaXRlcyB0aGF0IHdpbGwgYmUgcmVuZGVyZWQgYXQgdGhlIHNwZWVkIG9mIGxpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZUNvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGFydGljbGVDb250YWluZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFttYXhTaXplPTE1MDBdIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIHBhcnRpY2xlcyB0aGF0IGNhbiBiZSByZW5kZXJlZCBieSB0aGUgY29udGFpbmVyLlxuICAgICAqICBBZmZlY3RzIHNpemUgb2YgYWxsb2NhdGVkIGJ1ZmZlcnMuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtwcm9wZXJ0aWVzXSAtIFRoZSBwcm9wZXJ0aWVzIG9mIGNoaWxkcmVuIHRoYXQgc2hvdWxkIGJlIHVwbG9hZGVkIHRvIHRoZSBncHUgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy52ZXJ0aWNlcz1mYWxzZV0gLSBXaGVuIHRydWUsIHZlcnRpY2VzIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqICAgICAgICAgICAgICAgICAgaWYgc3ByaXRlJ3MgYCBzY2FsZS9hbmNob3IvdHJpbS9mcmFtZS9vcmlnYCBpcyBkeW5hbWljLCBwbGVhc2Ugc2V0IGB0cnVlYC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnBvc2l0aW9uPXRydWVdIC0gV2hlbiB0cnVlLCBwb3NpdGlvbiBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnJvdGF0aW9uPWZhbHNlXSAtIFdoZW4gdHJ1ZSwgcm90YXRpb24gYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy51dnM9ZmFsc2VdIC0gV2hlbiB0cnVlLCB1dnMgYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy50aW50PWZhbHNlXSAtIFdoZW4gdHJ1ZSwgYWxwaGEgYW5kIHRpbnQgYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiYXRjaFNpemU9MTYzODRdIC0gTnVtYmVyIG9mIHBhcnRpY2xlcyBwZXIgYmF0Y2guIElmIGxlc3MgdGhhbiBtYXhTaXplLCBpdCB1c2VzIG1heFNpemUgaW5zdGVhZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvUmVzaXplPWZhbHNlXSAtIElmIHRydWUsIGNvbnRhaW5lciBhbGxvY2F0ZXMgbW9yZSBiYXRjaGVzIGluIGNhc2VcbiAgICAgKiAgdGhlcmUgYXJlIG1vcmUgdGhhbiBgbWF4U2l6ZWAgcGFydGljbGVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhcnRpY2xlQ29udGFpbmVyKG1heFNpemUsIHByb3BlcnRpZXMsIGJhdGNoU2l6ZSwgYXV0b1Jlc2l6ZSkge1xuICAgICAgICBpZiAobWF4U2l6ZSA9PT0gdm9pZCAwKSB7IG1heFNpemUgPSAxNTAwOyB9XG4gICAgICAgIGlmIChiYXRjaFNpemUgPT09IHZvaWQgMCkgeyBiYXRjaFNpemUgPSAxNjM4NDsgfVxuICAgICAgICBpZiAoYXV0b1Jlc2l6ZSA9PT0gdm9pZCAwKSB7IGF1dG9SZXNpemUgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvLyBNYWtpbmcgc3VyZSB0aGUgYmF0Y2ggc2l6ZSBpcyB2YWxpZFxuICAgICAgICAvLyA2NTUzNSBpcyBtYXggdmVydGV4IGluZGV4IGluIHRoZSBpbmRleCBidWZmZXIgKHNlZSBQYXJ0aWNsZVJlbmRlcmVyKVxuICAgICAgICAvLyBzbyBtYXggbnVtYmVyIG9mIHBhcnRpY2xlcyBpcyA2NTUzNiAvIDQgPSAxNjM4NFxuICAgICAgICB2YXIgbWF4QmF0Y2hTaXplID0gMTYzODQ7XG4gICAgICAgIGlmIChiYXRjaFNpemUgPiBtYXhCYXRjaFNpemUpIHtcbiAgICAgICAgICAgIGJhdGNoU2l6ZSA9IG1heEJhdGNoU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHByb3BlcnRpZXMgdG8gYmUgZHluYW1pYyAodHJ1ZSkgLyBzdGF0aWMgKGZhbHNlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFuW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcHJvcGVydGllcyA9IFtmYWxzZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWF4U2l6ZSA9IG1heFNpemU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmF0Y2hTaXplID0gYmF0Y2hTaXplO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8UElYSS5CdWZmZXI+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogZm9yIGV2ZXJ5IGJhdGNoIHN0b3JlcyBfdXBkYXRlSUQgY29ycmVzcG9uZGluZyB0byB0aGUgbGFzdCBjaGFuZ2UgaW4gdGhhdCBiYXRjaFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9idWZmZXJVcGRhdGVJRHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHdoZW4gY2hpbGQgaW5zZXJ0ZWQsIHJlbW92ZWQgb3IgY2hhbmdlcyBwb3NpdGlvbiB0aGlzIG51bWJlciBnb2VzIHVwXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYFxuICAgICAgICAgKiB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUsIGNvbnRhaW5lciBhbGxvY2F0ZXMgbW9yZSBiYXRjaGVzIGluIGNhc2UgdGhlcmUgYXJlIG1vcmUgdGhhbiBgbWF4U2l6ZWAgcGFydGljbGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1Jlc2l6ZSA9IGF1dG9SZXNpemU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICAgICAqIERlZmF1bHQgdG8gdHJ1ZSBoZXJlIGFzIHBlcmZvcm1hbmNlIGlzIHVzdWFsbHkgdGhlIHByaW9yaXR5IGZvciBwYXJ0aWNsZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJvdW5kUGl4ZWxzID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHVzZWQgdG8gcmVuZGVyIHRoZSBjaGlsZHJlbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIF90aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBjb250YWluZXIuXG4gICAgICAgICAqIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGludCA9IDA7XG4gICAgICAgIF90aGlzLnRpbnRSZ2IgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgICAgICBfdGhpcy50aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcHJpdmF0ZSBwcm9wZXJ0aWVzIGFycmF5IHRvIGR5bmFtaWMgLyBzdGF0aWMgYmFzZWQgb24gdGhlIHBhc3NlZCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHByb3BlcnRpZXMgLSBUaGUgcHJvcGVydGllcyB0byBiZSB1cGxvYWRlZFxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKHByb3BlcnRpZXMpIHtcbiAgICAgICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMF0gPSAndmVydGljZXMnIGluIHByb3BlcnRpZXMgfHwgJ3NjYWxlJyBpbiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgPyAhIXByb3BlcnRpZXMudmVydGljZXMgfHwgISFwcm9wZXJ0aWVzLnNjYWxlIDogdGhpcy5fcHJvcGVydGllc1swXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMV0gPSAncG9zaXRpb24nIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMucG9zaXRpb24gOiB0aGlzLl9wcm9wZXJ0aWVzWzFdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1syXSA9ICdyb3RhdGlvbicgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy5yb3RhdGlvbiA6IHRoaXMuX3Byb3BlcnRpZXNbMl07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzNdID0gJ3V2cycgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy51dnMgOiB0aGlzLl9wcm9wZXJ0aWVzWzNdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1s0XSA9ICd0aW50JyBpbiBwcm9wZXJ0aWVzIHx8ICdhbHBoYScgaW4gcHJvcGVydGllc1xuICAgICAgICAgICAgICAgID8gISFwcm9wZXJ0aWVzLnRpbnQgfHwgISFwcm9wZXJ0aWVzLmFscGhhIDogdGhpcy5fcHJvcGVydGllc1s0XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRPRE8gZG9uJ3QgbmVlZCB0byFcbiAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLCBcInRpbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAgICAgKiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICoqIElNUE9SVEFOVDogVGhpcyBpcyBhIFdlYkdMIG9ubHkgZmVhdHVyZSBhbmQgd2lsbCBiZSBpZ25vcmVkIGJ5IHRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgICAgICBoZXgycmdiKHZhbHVlLCB0aGlzLnRpbnRSZ2IpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgY29udGFpbmVyIHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHdlYmdsIHJlbmRlcmVyXG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5jaGlsZHJlbi5sZW5ndGggfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IHRoaXMuY2hpbGRyZW5bMF0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9uY2UoJ3VwZGF0ZScsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoMCk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnMucGFydGljbGUpO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zLnBhcnRpY2xlLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZmxhZyB0aGF0IHN0YXRpYyBkYXRhIHNob3VsZCBiZSB1cGRhdGVkIHRvIHRydWVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNtYWxsZXN0Q2hpbGRJbmRleCAtIFRoZSBzbWFsbGVzdCBjaGlsZCBpbmRleFxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5vbkNoaWxkcmVuQ2hhbmdlID0gZnVuY3Rpb24gKHNtYWxsZXN0Q2hpbGRJbmRleCkge1xuICAgICAgICB2YXIgYnVmZmVySW5kZXggPSBNYXRoLmZsb29yKHNtYWxsZXN0Q2hpbGRJbmRleCAvIHRoaXMuX2JhdGNoU2l6ZSk7XG4gICAgICAgIHdoaWxlICh0aGlzLl9idWZmZXJVcGRhdGVJRHMubGVuZ3RoIDwgYnVmZmVySW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEcy5wdXNoKDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEc1tidWZmZXJJbmRleF0gPSArK3RoaXMuX3VwZGF0ZUlEO1xuICAgIH07XG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXJzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2J1ZmZlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXJzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgY29udGFpbmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyXG4gICAgICogIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEcyA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gUGFydGljbGVDb250YWluZXI7XG59KENvbnRhaW5lcikpO1xuXG4vKipcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXRcbiAqIHRoZXkgbm93IHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIFBhcnRpY2xlQnVmZmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9QYXJ0aWNsZUJ1ZmZlci5qYXZhXG4gKi9cbi8qKlxuICogVGhlIHBhcnRpY2xlIGJ1ZmZlciBtYW5hZ2VzIHRoZSBzdGF0aWMgYW5kIGR5bmFtaWMgYnVmZmVycyBmb3IgYSBwYXJ0aWNsZSBjb250YWluZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBhcnRpY2xlQnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHByb3BlcnRpZXMgLSBUaGUgcHJvcGVydGllcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtib29sZWFuW119IGR5bmFtaWNQcm9wZXJ0eUZsYWdzIC0gRmxhZ3MgZm9yIHdoaWNoIHByb3BlcnRpZXMgYXJlIGR5bmFtaWMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgYmF0Y2guXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGFydGljbGVCdWZmZXIocHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIHNpemUpIHtcbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgcGFydGljbGVzIHRoZSBidWZmZXIgY2FuIGhvbGRcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBkeW5hbWljLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBzdGF0aWMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gcHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIC8vIE1ha2UgY29weSBvZiBwcm9wZXJ0aWVzIG9iamVjdCBzbyB0aGF0IHdoZW4gd2UgZWRpdCB0aGUgb2Zmc2V0IGl0IGRvZXNuJ3RcbiAgICAgICAgICAgIC8vIGNoYW5nZSBhbGwgb3RoZXIgaW5zdGFuY2VzIG9mIHRoZSBvYmplY3QgbGl0ZXJhbFxuICAgICAgICAgICAgcHJvcGVydHkgPSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogcHJvcGVydHkuYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgICAgICBzaXplOiBwcm9wZXJ0eS5zaXplLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbixcbiAgICAgICAgICAgICAgICB0eXBlOiBwcm9wZXJ0eS50eXBlIHx8IFRZUEVTLkZMT0FULFxuICAgICAgICAgICAgICAgIG9mZnNldDogcHJvcGVydHkub2Zmc2V0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChkeW5hbWljUHJvcGVydHlGbGFnc1tpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgPSAwO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSA9IDA7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuICAgICAgICB0aGlzLmluaXRCdWZmZXJzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUuaW5pdEJ1ZmZlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIHZhciBkeW5hbWljT2Zmc2V0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvbGRzIHRoZSBpbmRpY2VzIG9mIHRoZSBnZW9tZXRyeSAocXVhZHMpIHRvIGRyYXdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihjcmVhdGVJbmRpY2VzRm9yUXVhZHModGhpcy5zaXplKSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIGdlb21ldHJ5LmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpO1xuICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG4gICAgICAgICAgICBwcm9wZXJ0eS5vZmZzZXQgPSBkeW5hbWljT2Zmc2V0O1xuICAgICAgICAgICAgZHluYW1pY09mZnNldCArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGR5bkJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLmR5bmFtaWNTdHJpZGUgKiA0ICogNCk7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoZHluQnVmZmVyKTtcbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLmR5bmFtaWNEYXRhLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAvLyBzdGF0aWMgLy9cbiAgICAgICAgdmFyIHN0YXRpY09mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuc3RhdGljU3RyaWRlID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIHByb3BlcnR5Lm9mZnNldCA9IHN0YXRpY09mZnNldDtcbiAgICAgICAgICAgIHN0YXRpY09mZnNldCArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhdEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLnN0YXRpY1N0cmlkZSAqIDQgKiA0KTtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhID0gbmV3IEZsb2F0MzJBcnJheShzdGF0QnVmZmVyKTtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KHN0YXRCdWZmZXIpO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy5zdGF0aWNEYXRhLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZShwcm9wZXJ0eS5hdHRyaWJ1dGVOYW1lLCB0aGlzLmR5bmFtaWNCdWZmZXIsIDAsIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUsIHByb3BlcnR5LnR5cGUsIHRoaXMuZHluYW1pY1N0cmlkZSAqIDQsIHByb3BlcnR5Lm9mZnNldCAqIDQpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLnN0YXRpY1Byb3BlcnRpZXNbaV07XG4gICAgICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUocHJvcGVydHkuYXR0cmlidXRlTmFtZSwgdGhpcy5zdGF0aWNCdWZmZXIsIDAsIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUsIHByb3BlcnR5LnR5cGUsIHRoaXMuc3RhdGljU3RyaWRlICogNCwgcHJvcGVydHkub2Zmc2V0ICogNCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIGR5bmFtaWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gVGhlIGluZGV4IHRvIHN0YXJ0IGF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUudXBsb2FkRHluYW1pYyA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUgPyB0aGlzLmR5bmFtaWNEYXRhVWludDMyIDogdGhpcy5keW5hbWljRGF0YSwgdGhpcy5keW5hbWljU3RyaWRlLCBwcm9wZXJ0eS5vZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlci5fdXBkYXRlSUQrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHN0YXRpYyBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIFRoZSBjaGlsZHJlbiB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSBUaGUgaW5kZXggdG8gc3RhcnQgYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBudW1iZXIgdG8gdXBsb2FkLlxuICAgICAqL1xuICAgIFBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS51cGxvYWRTdGF0aWMgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgcHJvcGVydHkudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSA/IHRoaXMuc3RhdGljRGF0YVVpbnQzMiA6IHRoaXMuc3RhdGljRGF0YSwgdGhpcy5zdGF0aWNTdHJpZGUsIHByb3BlcnR5Lm9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgUGFydGljbGVCdWZmZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljUHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuICAgICAgICAvLyBhbGwgYnVmZmVycyBhcmUgZGVzdHJveWVkIGluc2lkZSBnZW9tZXRyeVxuICAgICAgICB0aGlzLmdlb21ldHJ5LmRlc3Ryb3koKTtcbiAgICB9O1xuICAgIHJldHVybiBQYXJ0aWNsZUJ1ZmZlcjtcbn0oKSk7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdkNvbG9yO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XCI7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcbmF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhUG9zaXRpb25Db29yZDtcXG5hdHRyaWJ1dGUgZmxvYXQgYVJvdGF0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICBmbG9hdCB4ID0gKGFWZXJ0ZXhQb3NpdGlvbi54KSAqIGNvcyhhUm90YXRpb24pIC0gKGFWZXJ0ZXhQb3NpdGlvbi55KSAqIHNpbihhUm90YXRpb24pO1xcbiAgICBmbG9hdCB5ID0gKGFWZXJ0ZXhQb3NpdGlvbi54KSAqIHNpbihhUm90YXRpb24pICsgKGFWZXJ0ZXhQb3NpdGlvbi55KSAqIGNvcyhhUm90YXRpb24pO1xcblxcbiAgICB2ZWMyIHYgPSB2ZWMyKHgsIHkpO1xcbiAgICB2ID0gdiArIGFQb3NpdGlvbkNvb3JkO1xcblxcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyh2LCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdkNvbG9yID0gYUNvbG9yICogdUNvbG9yO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBAYXV0aG9yIE1hdCBHcm92ZXNcbiAqXG4gKiBCaWcgdGhhbmtzIHRvIHRoZSB2ZXJ5IGNsZXZlciBNYXR0IERlc0xhdXJpZXJzIDxtYXR0ZGVzbD4gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL1xuICogZm9yIGNyZWF0aW5nIHRoZSBvcmlnaW5hbCBQaXhpSlMgdmVyc2lvbiFcbiAqIEFsc28gYSB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL2JjaGV2YWxpZXIgZm9yIHR3ZWFraW5nIHRoZSB0aW50IGFuZCBhbHBoYSBzbyB0aGF0IHRoZXkgbm93XG4gKiBzaGFyZSA0IGJ5dGVzIG9uIHRoZSB2ZXJ0ZXggYnVmZmVyXG4gKlxuICogSGVhdmlseSBpbnNwaXJlZCBieSBMaWJHRFgncyBQYXJ0aWNsZVJlbmRlcmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9QYXJ0aWNsZVJlbmRlcmVyLmphdmFcbiAqL1xuLyoqXG4gKiBSZW5kZXJlciBmb3IgUGFydGljbGVzIHRoYXQgaXMgZGVzaWduZXIgZm9yIHNwZWVkIG92ZXIgZmVhdHVyZSBzZXQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGFydGljbGVSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgc3ByaXRlIGJhdGNoIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQYXJ0aWNsZVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvLyA2NTUzNSBpcyBtYXggdmVydGV4IGluZGV4IGluIHRoZSBpbmRleCBidWZmZXIgKHNlZSBQYXJ0aWNsZVJlbmRlcmVyKVxuICAgICAgICAvLyBzbyBtYXggbnVtYmVyIG9mIHBhcnRpY2xlcyBpcyA2NTUzNiAvIDQgPSAxNjM4NFxuICAgICAgICAvLyBhbmQgbWF4IG51bWJlciBvZiBlbGVtZW50IGluIHRoZSBpbmRleCBidWZmZXIgaXMgMTYzODQgKiA2ID0gOTgzMDRcbiAgICAgICAgLy8gQ3JlYXRpbmcgYSBmdWxsIGluZGV4IGJ1ZmZlciwgb3ZlcmhlYWQgaXMgOTgzMDQgKiAyID0gMTk2S29cbiAgICAgICAgLy8gbGV0IG51bUluZGljZXMgPSA5ODMwNDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHNoYWRlciB0aGF0IGlzIHVzZWQgaWYgYSBzcHJpdGUgZG9lc24ndCBoYXZlIGEgbW9yZSBzcGVjaWZpYyBvbmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMucHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIF90aGlzLnRlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIF90aGlzLnByb3BlcnRpZXMgPSBbXG4gICAgICAgICAgICAvLyB2ZXJ0aWNlc0RhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVZlcnRleFBvc2l0aW9uJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBfdGhpcy51cGxvYWRWZXJ0aWNlcyxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcG9zaXRpb25EYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FQb3NpdGlvbkNvb3JkJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBfdGhpcy51cGxvYWRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcm90YXRpb25EYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FSb3RhdGlvbicsXG4gICAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogX3RoaXMudXBsb2FkUm90YXRpb24sXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHV2c0RhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVRleHR1cmVDb29yZCcsXG4gICAgICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogX3RoaXMudXBsb2FkVXZzLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB0aW50RGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhQ29sb3InLFxuICAgICAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICAgICAgdHlwZTogVFlQRVMuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogX3RoaXMudXBsb2FkVGludCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9IF07XG4gICAgICAgIF90aGlzLnNoYWRlciA9IFNoYWRlci5mcm9tKHZlcnRleCwgZnJhZ21lbnQsIHt9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBzdGF0ZSBpbiB3aGljaCB0aGlzIHJlbmRlcmVyIHdpbGwgd29yay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgcGFydGljbGUgY29udGFpbmVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBjb250YWluZXIuY2hpbGRyZW47XG4gICAgICAgIHZhciBtYXhTaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciB0b3RhbENoaWxkcmVuID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICBpZiAodG90YWxDaGlsZHJlbiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRvdGFsQ2hpbGRyZW4gPiBtYXhTaXplICYmICFjb250YWluZXIuYXV0b1Jlc2l6ZSkge1xuICAgICAgICAgICAgdG90YWxDaGlsZHJlbiA9IG1heFNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBjb250YWluZXIuX2J1ZmZlcnM7XG4gICAgICAgIGlmICghYnVmZmVycykge1xuICAgICAgICAgICAgYnVmZmVycyA9IGNvbnRhaW5lci5fYnVmZmVycyA9IHRoaXMuZ2VuZXJhdGVCdWZmZXJzKGNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gY2hpbGRyZW5bMF0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIC8vIGlmIHRoZSB1dnMgaGF2ZSBub3QgdXBkYXRlZCB0aGVuIG5vIHBvaW50IHJlbmRlcmluZyBqdXN0IHlldCFcbiAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSBjb3JyZWN0QmxlbmRNb2RlKGNvbnRhaW5lci5ibGVuZE1vZGUsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSk7XG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBtID0gY29udGFpbmVyLndvcmxkVHJhbnNmb3JtLmNvcHlUbyh0aGlzLnRlbXBNYXRyaXgpO1xuICAgICAgICBtLnByZXBlbmQocmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCk7XG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gbS50b0FycmF5KHRydWUpO1xuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBwcmVtdWx0aXBseVJnYmEoY29udGFpbmVyLnRpbnRSZ2IsIGNvbnRhaW5lci53b3JsZEFscGhhLCB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSk7XG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gYmFzZVRleHR1cmU7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcy5zaGFkZXIpO1xuICAgICAgICB2YXIgdXBkYXRlU3RhdGljID0gZmFsc2U7XG4gICAgICAgIC8vIG5vdyBsZXRzIHVwbG9hZCBhbmQgcmVuZGVyIHRoZSBidWZmZXJzLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDwgdG90YWxDaGlsZHJlbjsgaSArPSBiYXRjaFNpemUsIGogKz0gMSkge1xuICAgICAgICAgICAgdmFyIGFtb3VudCA9ICh0b3RhbENoaWxkcmVuIC0gaSk7XG4gICAgICAgICAgICBpZiAoYW1vdW50ID4gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICAgICAgYW1vdW50ID0gYmF0Y2hTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGogPj0gYnVmZmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBidWZmZXJzLnB1c2godGhpcy5fZ2VuZXJhdGVPbmVNb3JlQnVmZmVyKGNvbnRhaW5lcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbal07XG4gICAgICAgICAgICAvLyB3ZSBhbHdheXMgdXBsb2FkIHRoZSBkeW5hbWljXG4gICAgICAgICAgICBidWZmZXIudXBsb2FkRHluYW1pYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcbiAgICAgICAgICAgIHZhciBiaWQgPSBjb250YWluZXIuX2J1ZmZlclVwZGF0ZUlEc1tqXSB8fCAwO1xuICAgICAgICAgICAgdXBkYXRlU3RhdGljID0gdXBkYXRlU3RhdGljIHx8IChidWZmZXIuX3VwZGF0ZUlEIDwgYmlkKTtcbiAgICAgICAgICAgIC8vIHdlIG9ubHkgdXBsb2FkIHRoZSBzdGF0aWMgY29udGVudCB3aGVuIHdlIGhhdmUgdG8hXG4gICAgICAgICAgICBpZiAodXBkYXRlU3RhdGljKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLl91cGRhdGVJRCA9IGNvbnRhaW5lci5fdXBkYXRlSUQ7XG4gICAgICAgICAgICAgICAgYnVmZmVyLnVwbG9hZFN0YXRpYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChidWZmZXIuZ2VvbWV0cnkpO1xuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgYW1vdW50ICogNiwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9uZSBwYXJ0aWNsZSBidWZmZXIgZm9yIGVhY2ggY2hpbGQgaW4gdGhlIGNvbnRhaW5lciB3ZSB3YW50IHRvIHJlbmRlciBhbmQgdXBkYXRlcyBpbnRlcm5hbCBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1BJWEkuUGFydGljbGVCdWZmZXJbXX0gVGhlIGJ1ZmZlcnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLmdlbmVyYXRlQnVmZmVycyA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgdmFyIHNpemUgPSBjb250YWluZXIuX21heFNpemU7XG4gICAgICAgIHZhciBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgdmFyIGR5bmFtaWNQcm9wZXJ0eUZsYWdzID0gY29udGFpbmVyLl9wcm9wZXJ0aWVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkgKz0gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBidWZmZXJzLnB1c2gobmV3IFBhcnRpY2xlQnVmZmVyKHRoaXMucHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIGJhdGNoU2l6ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWZmZXJzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvbmUgbW9yZSBwYXJ0aWNsZSBidWZmZXIsIGJlY2F1c2UgY29udGFpbmVyIGhhcyBhdXRvUmVzaXplIGZlYXR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICogQHJldHVybiB7UElYSS5QYXJ0aWNsZUJ1ZmZlcn0gZ2VuZXJhdGVkIGJ1ZmZlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuX2dlbmVyYXRlT25lTW9yZUJ1ZmZlciA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG4gICAgICAgIHJldHVybiBuZXcgUGFydGljbGVCdWZmZXIodGhpcy5wcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgYmF0Y2hTaXplKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgdmVydGljZXMgdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFZlcnRpY2VzID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICB2YXIgdzAgPSAwO1xuICAgICAgICB2YXIgdzEgPSAwO1xuICAgICAgICB2YXIgaDAgPSAwO1xuICAgICAgICB2YXIgaDEgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldO1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgICAgICAgICB2YXIgc3ggPSBzcHJpdGUuc2NhbGUueDtcbiAgICAgICAgICAgIHZhciBzeSA9IHNwcml0ZS5zY2FsZS55O1xuICAgICAgICAgICAgdmFyIHRyaW0gPSB0ZXh0dXJlLnRyaW07XG4gICAgICAgICAgICB2YXIgb3JpZyA9IHRleHR1cmUub3JpZztcbiAgICAgICAgICAgIGlmICh0cmltKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkIGFuZCBpcyBub3QgYSB0aWxpbmdzcHJpdGUgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGVcbiAgICAgICAgICAgICAgICAvLyBleHRyYSBzcGFjZSBiZWZvcmUgdHJhbnNmb3JtaW5nIHRoZSBzcHJpdGUgY29vcmRzLi5cbiAgICAgICAgICAgICAgICB3MSA9IHRyaW0ueCAtIChzcHJpdGUuYW5jaG9yLnggKiBvcmlnLndpZHRoKTtcbiAgICAgICAgICAgICAgICB3MCA9IHcxICsgdHJpbS53aWR0aDtcbiAgICAgICAgICAgICAgICBoMSA9IHRyaW0ueSAtIChzcHJpdGUuYW5jaG9yLnkgKiBvcmlnLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgaDAgPSBoMSArIHRyaW0uaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdzAgPSAob3JpZy53aWR0aCkgKiAoMSAtIHNwcml0ZS5hbmNob3IueCk7XG4gICAgICAgICAgICAgICAgdzEgPSAob3JpZy53aWR0aCkgKiAtc3ByaXRlLmFuY2hvci54O1xuICAgICAgICAgICAgICAgIGgwID0gb3JpZy5oZWlnaHQgKiAoMSAtIHNwcml0ZS5hbmNob3IueSk7XG4gICAgICAgICAgICAgICAgaDEgPSBvcmlnLmhlaWdodCAqIC1zcHJpdGUuYW5jaG9yLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gaDEgKiBzeTtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSB3MCAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSBoMSAqIHN5O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IGgwICogc3k7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gaDAgKiBzeTtcbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBwb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHBvc2l0aW9ucyB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkUG9zaXRpb24gPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGVQb3NpdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5wb3NpdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFJvdGF0aW9uID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlUm90YXRpb24gPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0ucm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgVXZzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVXZzID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZVV2cyA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5fdGV4dHVyZS5fdXZzO1xuICAgICAgICAgICAgaWYgKHRleHR1cmVVdnMpIHtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdGV4dHVyZVV2cy54MDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHRleHR1cmVVdnMueTA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHRleHR1cmVVdnMueDE7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSB0ZXh0dXJlVXZzLnkxO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSB0ZXh0dXJlVXZzLngyO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gdGV4dHVyZVV2cy55MjtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gdGV4dHVyZVV2cy54MztcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IHRleHR1cmVVdnMueTM7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHlvdSBrbm93IHRoaXMgY2FuIGJlIGVhc2llciFcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IDA7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHRpbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVGludCA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXTtcbiAgICAgICAgICAgIHZhciBwcmVtdWx0aXBsaWVkID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlLmFscGhhTW9kZSA+IDA7XG4gICAgICAgICAgICB2YXIgYWxwaGEgPSBzcHJpdGUuYWxwaGE7XG4gICAgICAgICAgICAvLyB3ZSBkb250IGNhbGwgZXh0cmEgZnVuY3Rpb24gaWYgYWxwaGEgaXMgMS4wLCB0aGF0J3MgZmFzdGVyXG4gICAgICAgICAgICB2YXIgYXJnYiA9IGFscGhhIDwgMS4wICYmIHByZW11bHRpcGxpZWRcbiAgICAgICAgICAgICAgICA/IHByZW11bHRpcGx5VGludChzcHJpdGUuX3RpbnRSR0IsIGFscGhhKSA6IHNwcml0ZS5fdGludFJHQiArIChhbHBoYSAqIDI1NSA8PCAyNCk7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gYXJnYjtcbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgUGFydGljbGVSZW5kZXJlci5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZW1wTWF0cml4ID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBQYXJ0aWNsZVJlbmRlcmVyO1xufShPYmplY3RSZW5kZXJlcikpO1xuXG5leHBvcnQgeyBQYXJ0aWNsZUNvbnRhaW5lciwgUGFydGljbGVSZW5kZXJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydGljbGVzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9ncmFwaGljcyAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9ncmFwaGljcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlLCBCYXRjaERyYXdDYWxsLCBCYXRjaFRleHR1cmVBcnJheSwgQmF0Y2hHZW9tZXRyeSwgU3RhdGUsIFVuaWZvcm1Hcm91cCwgU2hhZGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTSEFQRVMsIFBvaW50LCBQb2x5Z29uLCBQSV8yLCBNYXRyaXgsIFJlY3RhbmdsZSwgUm91bmRlZFJlY3RhbmdsZSwgQ2lyY2xlLCBFbGxpcHNlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBlYXJjdXQsIHByZW11bHRpcGx5VGludCwgZGVwcmVjYXRpb24sIGhleDJyZ2IgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBXUkFQX01PREVTLCBEUkFXX01PREVTLCBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBCb3VuZHMsIENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG4vKipcbiAqIFN1cHBvcnRlZCBsaW5lIGpvaW50cyBpbiBgUElYSS5MaW5lU3R5bGVgIGZvciBncmFwaGljcy5cbiAqXG4gKiBAc2VlIFBJWEkuR3JhcGhpY3MjbGluZVN0eWxlXG4gKiBAc2VlIGh0dHBzOi8vZ3JhcGhpY2Rlc2lnbi5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvNTkwMTgvd2hhdC1pcy1hLWJldmVsLWpvaW4tb2YtdHdvLWxpbmVzLWV4YWN0bHktaWxsdXN0cmF0b3JcbiAqXG4gKiBAbmFtZSBMSU5FX0pPSU5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7c3RyaW5nfVxuICogQHByb3BlcnR5IHtzdHJpbmd9IE1JVEVSIC0gJ21pdGVyJzogbWFrZSBhIHNoYXJwIGNvcm5lciB3aGVyZSBvdXRlciBwYXJ0IG9mIGxpbmVzIG1lZXRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBCRVZFTCAtICdiZXZlbCc6IGFkZCBhIHNxdWFyZSBidXR0IGF0IGVhY2ggZW5kIG9mIGxpbmUgc2VnbWVudCBhbmQgZmlsbCB0aGUgdHJpYW5nbGUgYXQgdHVyblxuICogQHByb3BlcnR5IHtzdHJpbmd9IFJPVU5EIC0gJ3JvdW5kJzogYWRkIGFuIGFyYyBhdCB0aGUgam9pbnRcbiAqL1xudmFyIExJTkVfSk9JTjtcbihmdW5jdGlvbiAoTElORV9KT0lOKSB7XG4gICAgTElORV9KT0lOW1wiTUlURVJcIl0gPSBcIm1pdGVyXCI7XG4gICAgTElORV9KT0lOW1wiQkVWRUxcIl0gPSBcImJldmVsXCI7XG4gICAgTElORV9KT0lOW1wiUk9VTkRcIl0gPSBcInJvdW5kXCI7XG59KShMSU5FX0pPSU4gfHwgKExJTkVfSk9JTiA9IHt9KSk7XG4vKipcbiAqIFN1cHBvcnQgbGluZSBjYXBzIGluIGBQSVhJLkxpbmVTdHlsZWAgZm9yIGdyYXBoaWNzLlxuICpcbiAqIEBzZWUgUElYSS5HcmFwaGljcyNsaW5lU3R5bGVcbiAqXG4gKiBAbmFtZSBMSU5FX0NBUFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gQlVUVCAtICdidXR0JzogZG9uJ3QgYWRkIGFueSBjYXAgYXQgbGluZSBlbmRzIChsZWF2ZXMgb3J0aG9nb25hbCBlZGdlcylcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBST1VORCAtICdyb3VuZCc6IGFkZCBzZW1pY2lyY2xlIGF0IGVuZHNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBTUVVBUkUgLSAnc3F1YXJlJzogYWRkIHNxdWFyZSBhdCBlbmQgKGxpa2UgYEJVVFRgIGV4Y2VwdCBtb3JlIGxlbmd0aCBhdCBlbmQpXG4gKi9cbnZhciBMSU5FX0NBUDtcbihmdW5jdGlvbiAoTElORV9DQVApIHtcbiAgICBMSU5FX0NBUFtcIkJVVFRcIl0gPSBcImJ1dHRcIjtcbiAgICBMSU5FX0NBUFtcIlJPVU5EXCJdID0gXCJyb3VuZFwiO1xuICAgIExJTkVfQ0FQW1wiU1FVQVJFXCJdID0gXCJzcXVhcmVcIjtcbn0pKExJTkVfQ0FQIHx8IChMSU5FX0NBUCA9IHt9KSk7XG4vKipcbiAqIEdyYXBoaWNzIGN1cnZlcyByZXNvbHV0aW9uIHNldHRpbmdzLiBJZiBgYWRhcHRpdmVgIGZsYWcgaXMgc2V0IHRvIGB0cnVlYCxcbiAqIHRoZSByZXNvbHV0aW9uIGlzIGNhbGN1bGF0ZWQgYmFzZWQgb24gdGhlIGN1cnZlJ3MgbGVuZ3RoIHRvIGVuc3VyZSBiZXR0ZXIgdmlzdWFsIHF1YWxpdHkuXG4gKiBBZGFwdGl2ZSBkcmF3IHdvcmtzIHdpdGggYGJlemllckN1cnZlVG9gIGFuZCBgcXVhZHJhdGljQ3VydmVUb2AuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgR1JBUEhJQ1NfQ1VSVkVTXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtib29sZWFufSBhZGFwdGl2ZT1mYWxzZSAtIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUgcmVzb2x1dGlvbiBzaG91bGQgYmUgYWRhcHRpdmVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhMZW5ndGg9MTAgLSBtYXhpbWFsIGxlbmd0aCBvZiBhIHNpbmdsZSBzZWdtZW50IG9mIHRoZSBjdXJ2ZSAoaWYgYWRhcHRpdmUgPSBmYWxzZSwgaWdub3JlZClcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5TZWdtZW50cz04IC0gbWluaW1hbCBudW1iZXIgb2Ygc2VnbWVudHMgaW4gdGhlIGN1cnZlIChpZiBhZGFwdGl2ZSA9IGZhbHNlLCBpZ25vcmVkKVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFNlZ21lbnRzPTIwNDggLSBtYXhpbWFsIG51bWJlciBvZiBzZWdtZW50cyBpbiB0aGUgY3VydmUgKGlmIGFkYXB0aXZlID0gZmFsc2UsIGlnbm9yZWQpXG4gKi9cbnZhciBHUkFQSElDU19DVVJWRVMgPSB7XG4gICAgYWRhcHRpdmU6IHRydWUsXG4gICAgbWF4TGVuZ3RoOiAxMCxcbiAgICBtaW5TZWdtZW50czogOCxcbiAgICBtYXhTZWdtZW50czogMjA0OCxcbiAgICBlcHNpbG9uOiAwLjAwMDEsXG4gICAgX3NlZ21lbnRzQ291bnQ6IGZ1bmN0aW9uIChsZW5ndGgsIGRlZmF1bHRTZWdtZW50cykge1xuICAgICAgICBpZiAoZGVmYXVsdFNlZ21lbnRzID09PSB2b2lkIDApIHsgZGVmYXVsdFNlZ21lbnRzID0gMjA7IH1cbiAgICAgICAgaWYgKCF0aGlzLmFkYXB0aXZlIHx8ICFsZW5ndGggfHwgaXNOYU4obGVuZ3RoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRTZWdtZW50cztcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gTWF0aC5jZWlsKGxlbmd0aCAvIHRoaXMubWF4TGVuZ3RoKTtcbiAgICAgICAgaWYgKHJlc3VsdCA8IHRoaXMubWluU2VnbWVudHMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubWluU2VnbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVzdWx0ID4gdGhpcy5tYXhTZWdtZW50cykge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tYXhTZWdtZW50cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG59O1xuXG4vKipcbiAqIEZpbGwgc3R5bGUgb2JqZWN0IGZvciBHcmFwaGljcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBGaWxsU3R5bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmlsbFN0eWxlKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhleCBjb2xvciB2YWx1ZSB1c2VkIHdoZW4gY29sb3JpbmcgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb2xvciA9IDB4RkZGRkZGO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFscGhhIHZhbHVlIHVzZWQgd2hlbiBmaWxsaW5nIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbHBoYSA9IDEuMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHRvIGJlIHVzZWQgZm9yIHRoZSBmaWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IFRleHR1cmUuV0hJVEU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhbnNmb3JtIGFwbHBpZWQgdG8gdGhlIHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hdHJpeCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgY3VycmVudCBmaWxsIGlzIHZpc2libGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5GaWxsU3R5bGV9XG4gICAgICovXG4gICAgRmlsbFN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9iaiA9IG5ldyBGaWxsU3R5bGUoKTtcbiAgICAgICAgb2JqLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgb2JqLmFscGhhID0gdGhpcy5hbHBoYTtcbiAgICAgICAgb2JqLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgIG9iai5tYXRyaXggPSB0aGlzLm1hdHJpeDtcbiAgICAgICAgb2JqLnZpc2libGUgPSB0aGlzLnZpc2libGU7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldFxuICAgICAqL1xuICAgIEZpbGxTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29sb3IgPSAweEZGRkZGRjtcbiAgICAgICAgdGhpcy5hbHBoYSA9IDE7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IFRleHR1cmUuV0hJVEU7XG4gICAgICAgIHRoaXMubWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpc1xuICAgICAqL1xuICAgIEZpbGxTdHlsZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5tYXRyaXggPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbGxTdHlsZTtcbn0oKSk7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIEJ1aWxkcyBhIHBvbHlnb24gdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkUG9seSA9IHtcbiAgICBidWlsZDogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSkge1xuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gZ3JhcGhpY3NEYXRhLnNoYXBlLnBvaW50cy5zbGljZSgpO1xuICAgIH0sXG4gICAgdHJpYW5ndWxhdGU6IGZ1bmN0aW9uIChncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciBob2xlcyA9IGdyYXBoaWNzRGF0YS5ob2xlcztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA+PSA2KSB7XG4gICAgICAgICAgICB2YXIgaG9sZUFycmF5ID0gW107XG4gICAgICAgICAgICAvLyBQcm9jZXNzIGhvbGVzLi5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9sZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaG9sZSA9IGhvbGVzW2ldO1xuICAgICAgICAgICAgICAgIGhvbGVBcnJheS5wdXNoKHBvaW50cy5sZW5ndGggLyAyKTtcbiAgICAgICAgICAgICAgICBwb2ludHMgPSBwb2ludHMuY29uY2F0KGhvbGUucG9pbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNvcnQgY29sb3JcbiAgICAgICAgICAgIHZhciB0cmlhbmdsZXMgPSBlYXJjdXQocG9pbnRzLCBob2xlQXJyYXksIDIpO1xuICAgICAgICAgICAgaWYgKCF0cmlhbmdsZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAxXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVydFBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG4vLyBmb3IgdHlwZSBvbmx5XG4vKipcbiAqIEJ1aWxkcyBhIGNpcmNsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCB0byBkcmF3XG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkQ2lyY2xlID0ge1xuICAgIGJ1aWxkOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhKSB7XG4gICAgICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgICAgICB2YXIgY2lyY2xlRGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciB4ID0gY2lyY2xlRGF0YS54O1xuICAgICAgICB2YXIgeSA9IGNpcmNsZURhdGEueTtcbiAgICAgICAgdmFyIHdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0O1xuICAgICAgICBwb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgLy8gVE9ETyAtIGJpdCBoYWNreT8/XG4gICAgICAgIGlmIChncmFwaGljc0RhdGEudHlwZSA9PT0gU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgICAgIHdpZHRoID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgICAgICAgICBoZWlnaHQgPSBjaXJjbGVEYXRhLnJhZGl1cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBlbGxpcHNlRGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgICAgIHdpZHRoID0gZWxsaXBzZURhdGEud2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSBlbGxpcHNlRGF0YS5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpZHRoID09PSAwIHx8IGhlaWdodCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0b3RhbFNlZ3MgPSBNYXRoLmZsb29yKDMwICogTWF0aC5zcXJ0KGNpcmNsZURhdGEucmFkaXVzKSlcbiAgICAgICAgICAgIHx8IE1hdGguZmxvb3IoMTUgKiBNYXRoLnNxcnQod2lkdGggKyBoZWlnaHQpKTtcbiAgICAgICAgdG90YWxTZWdzIC89IDIuMztcbiAgICAgICAgdmFyIHNlZyA9IChNYXRoLlBJICogMikgLyB0b3RhbFNlZ3M7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxTZWdzIC0gMC41OyBpKyspIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHggKyAoTWF0aC5zaW4oLXNlZyAqIGkpICogd2lkdGgpLCB5ICsgKE1hdGguY29zKC1zZWcgKiBpKSAqIGhlaWdodCkpO1xuICAgICAgICB9XG4gICAgICAgIHBvaW50cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICB9LFxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICAgICAgdmFyIGNlbnRlciA9IHZlcnRQb3M7XG4gICAgICAgIHZhciBjaXJjbGUgPSAoZ3JhcGhpY3NEYXRhLnNoYXBlKTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IGdyYXBoaWNzRGF0YS5tYXRyaXg7XG4gICAgICAgIHZhciB4ID0gY2lyY2xlLng7XG4gICAgICAgIHZhciB5ID0gY2lyY2xlLnk7XG4gICAgICAgIC8vIFB1c2ggY2VudGVyIChzcGVjaWFsIHBvaW50KVxuICAgICAgICB2ZXJ0cy5wdXNoKGdyYXBoaWNzRGF0YS5tYXRyaXggPyAobWF0cml4LmEgKiB4KSArIChtYXRyaXguYyAqIHkpICsgbWF0cml4LnR4IDogeCwgZ3JhcGhpY3NEYXRhLm1hdHJpeCA/IChtYXRyaXguYiAqIHgpICsgKG1hdHJpeC5kICogeSkgKyBtYXRyaXgudHkgOiB5KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldLCBwb2ludHNbaSArIDFdKTtcbiAgICAgICAgICAgIC8vIGFkZCBzb21lIHV2c1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZlcnRQb3MrKywgY2VudGVyLCB2ZXJ0UG9zKTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG4vKipcbiAqIEJ1aWxkcyBhIHJlY3RhbmdsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG52YXIgYnVpbGRSZWN0YW5nbGUgPSB7XG4gICAgYnVpbGQ6IGZ1bmN0aW9uIChncmFwaGljc0RhdGEpIHtcbiAgICAgICAgLy8gLS0tIC8vXG4gICAgICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgICAgICAvL1xuICAgICAgICB2YXIgcmVjdERhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgICAgIHZhciB4ID0gcmVjdERhdGEueDtcbiAgICAgICAgdmFyIHkgPSByZWN0RGF0YS55O1xuICAgICAgICB2YXIgd2lkdGggPSByZWN0RGF0YS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHJlY3REYXRhLmhlaWdodDtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICBwb2ludHMucHVzaCh4LCB5LCB4ICsgd2lkdGgsIHksIHggKyB3aWR0aCwgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCk7XG4gICAgfSxcbiAgICB0cmlhbmd1bGF0ZTogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICAgICAgdmVydHMucHVzaChwb2ludHNbMF0sIHBvaW50c1sxXSwgcG9pbnRzWzJdLCBwb2ludHNbM10sIHBvaW50c1s2XSwgcG9pbnRzWzddLCBwb2ludHNbNF0sIHBvaW50c1s1XSk7XG4gICAgICAgIGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcy5wdXNoKHZlcnRQb3MsIHZlcnRQb3MgKyAxLCB2ZXJ0UG9zICsgMiwgdmVydFBvcyArIDEsIHZlcnRQb3MgKyAyLCB2ZXJ0UG9zICsgMyk7XG4gICAgfSxcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlIGEgc2luZ2xlIHBvaW50IGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHVzZWQgYnkgcXVhZHJhdGljQmV6aWVyQ3VydmUuXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4xIC0gZmlyc3QgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gbjIgLSBzZWNvbmQgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gcGVyYyAtIHBlcmNlbnRhZ2VcbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIHJlc3VsdFxuICpcbiAqL1xuZnVuY3Rpb24gZ2V0UHQobjEsIG4yLCBwZXJjKSB7XG4gICAgdmFyIGRpZmYgPSBuMiAtIG4xO1xuICAgIHJldHVybiBuMSArIChkaWZmICogcGVyYyk7XG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuIChoZWxwZXIgZnVuY3Rpb24uLilcbiAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0gT3JpZ2luIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIE9yaWdpbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyW119IFtvdXQ9W11dIC0gVGhlIG91dHB1dCBhcnJheSB0byBhZGQgcG9pbnRzIGludG8uIElmIG5vdCBwYXNzZWQsIGEgbmV3IGFycmF5IGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gYW4gYXJyYXkgb2YgcG9pbnRzXG4gKi9cbmZ1bmN0aW9uIHF1YWRyYXRpY0JlemllckN1cnZlKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZLCBvdXQpIHtcbiAgICBpZiAob3V0ID09PSB2b2lkIDApIHsgb3V0ID0gW107IH1cbiAgICB2YXIgbiA9IDIwO1xuICAgIHZhciBwb2ludHMgPSBvdXQ7XG4gICAgdmFyIHhhID0gMDtcbiAgICB2YXIgeWEgPSAwO1xuICAgIHZhciB4YiA9IDA7XG4gICAgdmFyIHliID0gMDtcbiAgICB2YXIgeCA9IDA7XG4gICAgdmFyIHkgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgaiA9IGkgLyBuO1xuICAgICAgICAvLyBUaGUgR3JlZW4gTGluZVxuICAgICAgICB4YSA9IGdldFB0KGZyb21YLCBjcFgsIGopO1xuICAgICAgICB5YSA9IGdldFB0KGZyb21ZLCBjcFksIGopO1xuICAgICAgICB4YiA9IGdldFB0KGNwWCwgdG9YLCBqKTtcbiAgICAgICAgeWIgPSBnZXRQdChjcFksIHRvWSwgaik7XG4gICAgICAgIC8vIFRoZSBCbGFjayBEb3RcbiAgICAgICAgeCA9IGdldFB0KHhhLCB4Yiwgaik7XG4gICAgICAgIHkgPSBnZXRQdCh5YSwgeWIsIGopO1xuICAgICAgICBwb2ludHMucHVzaCh4LCB5KTtcbiAgICB9XG4gICAgcmV0dXJuIHBvaW50cztcbn1cbi8qKlxuICogQnVpbGRzIGEgcm91bmRlZCByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkUm91bmRlZFJlY3RhbmdsZSA9IHtcbiAgICBidWlsZDogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSkge1xuICAgICAgICB2YXIgcnJlY3REYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHggPSBycmVjdERhdGEueDtcbiAgICAgICAgdmFyIHkgPSBycmVjdERhdGEueTtcbiAgICAgICAgdmFyIHdpZHRoID0gcnJlY3REYXRhLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcnJlY3REYXRhLmhlaWdodDtcbiAgICAgICAgLy8gRG9uJ3QgYWxsb3cgbmVnYXRpdmUgcmFkaXVzIG9yIGdyZWF0ZXIgdGhhbiBoYWxmIHRoZSBzbWFsbGVzdCB3aWR0aFxuICAgICAgICB2YXIgcmFkaXVzID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ocnJlY3REYXRhLnJhZGl1cywgTWF0aC5taW4od2lkdGgsIGhlaWdodCkgLyAyKSk7XG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICAvLyBObyByYWRpdXMsIGRvIGEgc2ltcGxlIHJlY3RhbmdsZVxuICAgICAgICBpZiAoIXJhZGl1cykge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeCwgeSwgeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCwgeSArIHJhZGl1cywgeCwgeSwgeCArIHJhZGl1cywgeSwgcG9pbnRzKTtcbiAgICAgICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyB3aWR0aCAtIHJhZGl1cywgeSwgeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyByYWRpdXMsIHBvaW50cyk7XG4gICAgICAgICAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgd2lkdGgsIHkgKyBoZWlnaHQgLSByYWRpdXMsIHggKyB3aWR0aCwgeSArIGhlaWdodCwgeCArIHdpZHRoIC0gcmFkaXVzLCB5ICsgaGVpZ2h0LCBwb2ludHMpO1xuICAgICAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHJhZGl1cywgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCAtIHJhZGl1cywgcG9pbnRzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzIHRpbnkgbnVtYmVyIGRlYWxzIHdpdGggdGhlIGlzc3VlIHRoYXQgb2NjdXJzIHdoZW4gcG9pbnRzIG92ZXJsYXAgYW5kIGVhcmN1dCBmYWlscyB0byB0cmlhbmd1bGF0ZSB0aGUgaXRlbS5cbiAgICAgICAgLy8gVE9ETyAtIGZpeCB0aGlzIHByb3Blcmx5LCB0aGlzIGlzIG5vdCB2ZXJ5IGVsZWdhbnQuLiBidXQgaXQgd29ya3MgZm9yIG5vdy5cbiAgICB9LFxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gICAgICAgIHZhciB2ZWNQb3MgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICAgICAgICB2YXIgdHJpYW5nbGVzID0gZWFyY3V0KHBvaW50cywgbnVsbCwgMik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdHJpYW5nbGVzLmxlbmd0aDsgaSA8IGo7IGkgKz0gMykge1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICAvLyAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAxXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICAvLyAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHBvaW50cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldLCBwb2ludHNbKytpXSk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuLyoqXG4gKiBCdWZmZXJzIHZlcnRpY2VzIHRvIGRyYXcgYSBzcXVhcmUgY2FwLlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFgtY29vcmQgb2YgZW5kIHBvaW50XG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFktY29vcmQgb2YgZW5kIHBvaW50XG4gKiBAcGFyYW0ge251bWJlcn0gbnggLSBYLWNvb3JkIG9mIGxpbmUgbm9ybWFsIHBvaW50aW5nIGluc2lkZVxuICogQHBhcmFtIHtudW1iZXJ9IG55IC0gWS1jb29yZCBvZiBsaW5lIG5vcm1hbCBwb2ludGluZyBpbnNpZGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gdmVydHMgLSB2ZXJ0ZXggYnVmZmVyXG4gKiBAcmV0dXJucyB7fVxuICovXG5mdW5jdGlvbiBzcXVhcmUoeCwgeSwgbngsIG55LCBpbm5lcldlaWdodCwgb3V0ZXJXZWlnaHQsIGNsb2Nrd2lzZSwgLyogcm90YXRpb24gZm9yIHNxdWFyZSAodHJ1ZSBhdCBsZWZ0IGVuZCwgZmFsc2UgYXQgcmlnaHQgZW5kKSAqLyB2ZXJ0cykge1xuICAgIHZhciBpeCA9IHggLSAobnggKiBpbm5lcldlaWdodCk7XG4gICAgdmFyIGl5ID0geSAtIChueSAqIGlubmVyV2VpZ2h0KTtcbiAgICB2YXIgb3ggPSB4ICsgKG54ICogb3V0ZXJXZWlnaHQpO1xuICAgIHZhciBveSA9IHkgKyAobnkgKiBvdXRlcldlaWdodCk7XG4gICAgLyogUm90YXRlIG54LG55IGZvciBleHRlbnNpb24gdmVjdG9yICovXG4gICAgdmFyIGV4eDtcbiAgICB2YXIgZXl5O1xuICAgIGlmIChjbG9ja3dpc2UpIHtcbiAgICAgICAgZXh4ID0gbnk7XG4gICAgICAgIGV5eSA9IC1ueDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV4eCA9IC1ueTtcbiAgICAgICAgZXl5ID0gbng7XG4gICAgfVxuICAgIC8qIFtpfDBdeCx5IGV4dGVuZGVkIGF0IGNhcCAqL1xuICAgIHZhciBlaXggPSBpeCArIGV4eDtcbiAgICB2YXIgZWl5ID0gaXkgKyBleXk7XG4gICAgdmFyIGVveCA9IG94ICsgZXh4O1xuICAgIHZhciBlb3kgPSBveSArIGV5eTtcbiAgICAvKiBTcXVhcmUgaXRzZWxmIG11c3QgYmUgaW5zZXJ0ZWQgY2xvY2t3aXNlKi9cbiAgICB2ZXJ0cy5wdXNoKGVpeCwgZWl5KTtcbiAgICB2ZXJ0cy5wdXNoKGVveCwgZW95KTtcbiAgICByZXR1cm4gMjtcbn1cbi8qKlxuICogQnVmZmVycyB2ZXJ0aWNlcyB0byBkcmF3IGFuIGFyYyBhdCB0aGUgbGluZSBqb2ludCBvciBjYXAuXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBjeCAtIFgtY29vcmQgb2YgY2VudGVyXG4gKiBAcGFyYW0ge251bWJlcn0gY3kgLSBZLWNvb3JkIG9mIGNlbnRlclxuICogQHBhcmFtIHtudW1iZXJ9IHN4IC0gWC1jb29yZCBvZiBhcmMgc3RhcnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBzeSAtIFktY29vcmQgb2YgYXJjIHN0YXJ0XG4gKiBAcGFyYW0ge251bWJlcn0gZXggLSBYLWNvb3JkIG9mIGFyYyBlbmRcbiAqIEBwYXJhbSB7bnVtYmVyfSBleSAtIFktY29vcmQgb2YgYXJjIGVuZFxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB2ZXJ0cyAtIGJ1ZmZlciBvZiB2ZXJ0aWNlc1xuICogQHBhcmFtIHtib29sZWFufSBjbG9ja3dpc2UgLSBvcmllbnRhdGlvbiBvZiB2ZXJ0aWNlc1xuICogQHJldHVybnMge251bWJlcn0gLSBuby4gb2YgdmVydGljZXMgcHVzaGVkXG4gKi9cbmZ1bmN0aW9uIHJvdW5kKGN4LCBjeSwgc3gsIHN5LCBleCwgZXksIHZlcnRzLCBjbG9ja3dpc2UpIHtcbiAgICB2YXIgY3gycDB4ID0gc3ggLSBjeDtcbiAgICB2YXIgY3kycDB5ID0gc3kgLSBjeTtcbiAgICB2YXIgYW5nbGUwID0gTWF0aC5hdGFuMihjeDJwMHgsIGN5MnAweSk7XG4gICAgdmFyIGFuZ2xlMSA9IE1hdGguYXRhbjIoZXggLSBjeCwgZXkgLSBjeSk7XG4gICAgaWYgKGNsb2Nrd2lzZSAmJiBhbmdsZTAgPCBhbmdsZTEpIHtcbiAgICAgICAgYW5nbGUwICs9IE1hdGguUEkgKiAyO1xuICAgIH1cbiAgICBlbHNlIGlmICghY2xvY2t3aXNlICYmIGFuZ2xlMCA+IGFuZ2xlMSkge1xuICAgICAgICBhbmdsZTEgKz0gTWF0aC5QSSAqIDI7XG4gICAgfVxuICAgIHZhciBzdGFydEFuZ2xlID0gYW5nbGUwO1xuICAgIHZhciBhbmdsZURpZmYgPSBhbmdsZTEgLSBhbmdsZTA7XG4gICAgdmFyIGFic0FuZ2xlRGlmZiA9IE1hdGguYWJzKGFuZ2xlRGlmZik7XG4gICAgLyogaWYgKGFic0FuZ2xlRGlmZiA+PSBQSV9MQk9VTkQgJiYgYWJzQW5nbGVEaWZmIDw9IFBJX1VCT1VORClcbiAgICB7XG4gICAgICAgIGNvbnN0IHIxeCA9IGN4IC0gbnh0UHg7XG4gICAgICAgIGNvbnN0IHIxeSA9IGN5IC0gbnh0UHk7XG5cbiAgICAgICAgaWYgKHIxeCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHIxeSA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYW5nbGVEaWZmID0gLWFuZ2xlRGlmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyMXggPj0gLUdSQVBISUNTX0NVUlZFUy5lcHNpbG9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBhbmdsZURpZmYgPSAtYW5nbGVEaWZmO1xuICAgICAgICB9XG4gICAgfSovXG4gICAgdmFyIHJhZGl1cyA9IE1hdGguc3FydCgoY3gycDB4ICogY3gycDB4KSArIChjeTJwMHkgKiBjeTJwMHkpKTtcbiAgICB2YXIgc2VnQ291bnQgPSAoKDE1ICogYWJzQW5nbGVEaWZmICogTWF0aC5zcXJ0KHJhZGl1cykgLyBNYXRoLlBJKSA+PiAwKSArIDE7XG4gICAgdmFyIGFuZ2xlSW5jID0gYW5nbGVEaWZmIC8gc2VnQ291bnQ7XG4gICAgc3RhcnRBbmdsZSArPSBhbmdsZUluYztcbiAgICBpZiAoY2xvY2t3aXNlKSB7XG4gICAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICAgICAgdmVydHMucHVzaChzeCwgc3kpO1xuICAgICAgICBmb3IgKHZhciBpID0gMSwgYW5nbGUgPSBzdGFydEFuZ2xlOyBpIDwgc2VnQ291bnQ7IGkrKywgYW5nbGUgKz0gYW5nbGVJbmMpIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goY3ggKyAoKE1hdGguc2luKGFuZ2xlKSAqIHJhZGl1cykpLCBjeSArICgoTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzKSkpO1xuICAgICAgICB9XG4gICAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICAgICAgdmVydHMucHVzaChleCwgZXkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmVydHMucHVzaChzeCwgc3kpO1xuICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAxLCBhbmdsZSA9IHN0YXJ0QW5nbGU7IGkgPCBzZWdDb3VudDsgaSsrLCBhbmdsZSArPSBhbmdsZUluYykge1xuICAgICAgICAgICAgdmVydHMucHVzaChjeCArICgoTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzKSksIGN5ICsgKChNYXRoLmNvcyhhbmdsZSkgKiByYWRpdXMpKSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgICAgIH1cbiAgICAgICAgdmVydHMucHVzaChleCwgZXkpO1xuICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgfVxuICAgIHJldHVybiBzZWdDb3VudCAqIDI7XG59XG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhdyB1c2luZyB0aGUgcG9seWdvbiBtZXRob2QuXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gZ3JhcGhpY3NHZW9tZXRyeSAtIEdlb21ldHJ5IHdoZXJlIHRvIGFwcGVuZCBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gYnVpbGROb25OYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgIHZhciBzaGFwZSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cyB8fCBzaGFwZS5wb2ludHMuc2xpY2UoKTtcbiAgICB2YXIgZXBzID0gZ3JhcGhpY3NHZW9tZXRyeS5jbG9zZVBvaW50RXBzO1xuICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gaWYgdGhlIGxpbmUgd2lkdGggaXMgYW4gb2RkIG51bWJlciBhZGQgMC41IHRvIGFsaWduIHRvIGEgd2hvbGUgcGl4ZWxcbiAgICAvLyBjb21tZW50aW5nIHRoaXMgb3V0IGZpeGVzICM3MTEgYW5kICMxNjIwXG4gICAgLy8gaWYgKGdyYXBoaWNzRGF0YS5saW5lV2lkdGglMilcbiAgICAvLyB7XG4gICAgLy8gICAgIGZvciAoaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspXG4gICAgLy8gICAgIHtcbiAgICAvLyAgICAgICAgIHBvaW50c1tpXSArPSAwLjU7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG4gICAgdmFyIHN0eWxlID0gZ3JhcGhpY3NEYXRhLmxpbmVTdHlsZTtcbiAgICAvLyBnZXQgZmlyc3QgYW5kIGxhc3QgcG9pbnQuLiBmaWd1cmUgb3V0IHRoZSBtaWRkbGUhXG4gICAgdmFyIGZpcnN0UG9pbnQgPSBuZXcgUG9pbnQocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuICAgIHZhciBsYXN0UG9pbnQgPSBuZXcgUG9pbnQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgdmFyIGNsb3NlZFNoYXBlID0gc2hhcGUudHlwZSAhPT0gU0hBUEVTLlBPTFkgfHwgc2hhcGUuY2xvc2VTdHJva2U7XG4gICAgdmFyIGNsb3NlZFBhdGggPSBNYXRoLmFicyhmaXJzdFBvaW50LnggLSBsYXN0UG9pbnQueCkgPCBlcHNcbiAgICAgICAgJiYgTWF0aC5hYnMoZmlyc3RQb2ludC55IC0gbGFzdFBvaW50LnkpIDwgZXBzO1xuICAgIC8vIGlmIHRoZSBmaXJzdCBwb2ludCBpcyB0aGUgbGFzdCBwb2ludCAtIGdvbm5hIGhhdmUgaXNzdWVzIDopXG4gICAgaWYgKGNsb3NlZFNoYXBlKSB7XG4gICAgICAgIC8vIG5lZWQgdG8gY2xvbmUgYXMgd2UgYXJlIGdvaW5nIHRvIHNsaWdodGx5IG1vZGlmeSB0aGUgc2hhcGUuLlxuICAgICAgICBwb2ludHMgPSBwb2ludHMuc2xpY2UoKTtcbiAgICAgICAgaWYgKGNsb3NlZFBhdGgpIHtcbiAgICAgICAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgICAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgICAgICAgIGxhc3RQb2ludC5zZXQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1pZFBvaW50WCA9IChmaXJzdFBvaW50LnggKyBsYXN0UG9pbnQueCkgKiAwLjU7XG4gICAgICAgIHZhciBtaWRQb2ludFkgPSAobGFzdFBvaW50LnkgKyBmaXJzdFBvaW50LnkpICogMC41O1xuICAgICAgICBwb2ludHMudW5zaGlmdChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgICAgIHBvaW50cy5wdXNoKG1pZFBvaW50WCwgbWlkUG9pbnRZKTtcbiAgICB9XG4gICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgdmFyIGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICAgIHZhciBpbmRleENvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICB2YXIgaW5kZXhTdGFydCA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgLy8gTWF4LiBpbm5lciBhbmQgb3V0ZXIgd2lkdGhcbiAgICB2YXIgd2lkdGggPSBzdHlsZS53aWR0aCAvIDI7XG4gICAgdmFyIHdpZHRoU3F1YXJlZCA9IHdpZHRoICogd2lkdGg7XG4gICAgdmFyIG1pdGVyTGltaXRTcXVhcmVkID0gc3R5bGUubWl0ZXJMaW1pdCAqIHN0eWxlLm1pdGVyTGltaXQ7XG4gICAgLyogTGluZSBzZWdtZW50cyBvZiBpbnRlcmVzdCB3aGVyZSAoeDEseTEpIGZvcm1zIHRoZSBjb3JuZXIuICovXG4gICAgdmFyIHgwID0gcG9pbnRzWzBdO1xuICAgIHZhciB5MCA9IHBvaW50c1sxXTtcbiAgICB2YXIgeDEgPSBwb2ludHNbMl07XG4gICAgdmFyIHkxID0gcG9pbnRzWzNdO1xuICAgIHZhciB4MiA9IDA7XG4gICAgdmFyIHkyID0gMDtcbiAgICAvKiBwZXJwWz9dKHh8eSkgPSB0aGUgbGluZSBub3JtYWwgd2l0aCBtYWduaXR1ZGUgbGluZVdpZHRoLiAqL1xuICAgIHZhciBwZXJweCA9IC0oeTAgLSB5MSk7XG4gICAgdmFyIHBlcnB5ID0geDAgLSB4MTtcbiAgICB2YXIgcGVycDF4ID0gMDtcbiAgICB2YXIgcGVycDF5ID0gMDtcbiAgICB2YXIgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcbiAgICB2YXIgcmF0aW8gPSBzdHlsZS5hbGlnbm1lbnQ7IC8vIDAuNTtcbiAgICB2YXIgaW5uZXJXZWlnaHQgPSAoMSAtIHJhdGlvKSAqIDI7XG4gICAgdmFyIG91dGVyV2VpZ2h0ID0gcmF0aW8gKiAyO1xuICAgIGlmICghY2xvc2VkU2hhcGUpIHtcbiAgICAgICAgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuUk9VTkQpIHtcbiAgICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDAgLSAocGVycHggKiAoaW5uZXJXZWlnaHQgLSBvdXRlcldlaWdodCkgKiAwLjUpLCB5MCAtIChwZXJweSAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSksIHgwIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MCAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSwgeDAgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkwICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpLCB2ZXJ0cywgdHJ1ZSkgKyAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuU1FVQVJFKSB7XG4gICAgICAgICAgICBpbmRleENvdW50ICs9IHNxdWFyZSh4MCwgeTAsIHBlcnB4LCBwZXJweSwgaW5uZXJXZWlnaHQsIG91dGVyV2VpZ2h0LCB0cnVlLCB2ZXJ0cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUHVzaCBmaXJzdCBwb2ludCAoYmVsb3cgJiBhYm92ZSB2ZXJ0aWNlcylcbiAgICB2ZXJ0cy5wdXNoKHgwIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MCAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSk7XG4gICAgdmVydHMucHVzaCh4MCArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTAgKyAocGVycHkgKiBvdXRlcldlaWdodCkpO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgIHgwID0gcG9pbnRzWyhpIC0gMSkgKiAyXTtcbiAgICAgICAgeTAgPSBwb2ludHNbKChpIC0gMSkgKiAyKSArIDFdO1xuICAgICAgICB4MSA9IHBvaW50c1tpICogMl07XG4gICAgICAgIHkxID0gcG9pbnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgeDIgPSBwb2ludHNbKGkgKyAxKSAqIDJdO1xuICAgICAgICB5MiA9IHBvaW50c1soKGkgKyAxKSAqIDIpICsgMV07XG4gICAgICAgIHBlcnB4ID0gLSh5MCAtIHkxKTtcbiAgICAgICAgcGVycHkgPSB4MCAtIHgxO1xuICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KChwZXJweCAqIHBlcnB4KSArIChwZXJweSAqIHBlcnB5KSk7XG4gICAgICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgICAgICBwZXJweSAqPSB3aWR0aDtcbiAgICAgICAgcGVycDF4ID0gLSh5MSAtIHkyKTtcbiAgICAgICAgcGVycDF5ID0geDEgLSB4MjtcbiAgICAgICAgZGlzdCA9IE1hdGguc3FydCgocGVycDF4ICogcGVycDF4KSArIChwZXJwMXkgKiBwZXJwMXkpKTtcbiAgICAgICAgcGVycDF4IC89IGRpc3Q7XG4gICAgICAgIHBlcnAxeSAvPSBkaXN0O1xuICAgICAgICBwZXJwMXggKj0gd2lkdGg7XG4gICAgICAgIHBlcnAxeSAqPSB3aWR0aDtcbiAgICAgICAgLyogZFt4fHldKDB8MSkgPSB0aGUgY29tcG9uZW50IGRpc3BsYWNtZW50IGJldHdlZW4gcG9pbnRzIHAoMCwxfDEsMikgKi9cbiAgICAgICAgdmFyIGR4MCA9IHgxIC0geDA7XG4gICAgICAgIHZhciBkeTAgPSB5MCAtIHkxO1xuICAgICAgICB2YXIgZHgxID0geDEgLSB4MjtcbiAgICAgICAgdmFyIGR5MSA9IHkyIC0geTE7XG4gICAgICAgIC8qICt2ZSBpZiBpbnRlcm5hbCBhbmdsZSBjb3VudGVyY2xvY2t3aXNlLCAtdmUgaWYgaW50ZXJuYWwgYW5nbGUgY2xvY2t3aXNlLiAqL1xuICAgICAgICB2YXIgY3Jvc3MgPSAoZHkwICogZHgxKSAtIChkeTEgKiBkeDApO1xuICAgICAgICB2YXIgY2xvY2t3aXNlID0gKGNyb3NzIDwgMCk7XG4gICAgICAgIC8qIEdvaW5nIG5lYXJseSBzdHJhaWdodD8gKi9cbiAgICAgICAgaWYgKE1hdGguYWJzKGNyb3NzKSA8IDAuMSkge1xuICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCkpO1xuICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLyogcFt4fHldIGlzIHRoZSBtaXRlciBwb2ludC4gcGRpc3QgaXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gbWl0ZXIgcG9pbnQgYW5kIHAxLiAqL1xuICAgICAgICB2YXIgYzEgPSAoKC1wZXJweCArIHgwKSAqICgtcGVycHkgKyB5MSkpIC0gKCgtcGVycHggKyB4MSkgKiAoLXBlcnB5ICsgeTApKTtcbiAgICAgICAgdmFyIGMyID0gKCgtcGVycDF4ICsgeDIpICogKC1wZXJwMXkgKyB5MSkpIC0gKCgtcGVycDF4ICsgeDEpICogKC1wZXJwMXkgKyB5MikpO1xuICAgICAgICB2YXIgcHggPSAoKGR4MCAqIGMyKSAtIChkeDEgKiBjMSkpIC8gY3Jvc3M7XG4gICAgICAgIHZhciBweSA9ICgoZHkxICogYzEpIC0gKGR5MCAqIGMyKSkgLyBjcm9zcztcbiAgICAgICAgdmFyIHBkaXN0ID0gKChweCAtIHgxKSAqIChweCAtIHgxKSkgKyAoKHB5IC0geTEpICogKHB5IC0geTEpKTtcbiAgICAgICAgLyogSW5uZXIgbWl0ZXIgcG9pbnQgKi9cbiAgICAgICAgdmFyIGlteCA9IHgxICsgKChweCAtIHgxKSAqIGlubmVyV2VpZ2h0KTtcbiAgICAgICAgdmFyIGlteSA9IHkxICsgKChweSAtIHkxKSAqIGlubmVyV2VpZ2h0KTtcbiAgICAgICAgLyogT3V0ZXIgbWl0ZXIgcG9pbnQgKi9cbiAgICAgICAgdmFyIG9teCA9IHgxIC0gKChweCAtIHgxKSAqIG91dGVyV2VpZ2h0KTtcbiAgICAgICAgdmFyIG9teSA9IHkxIC0gKChweSAtIHkxKSAqIG91dGVyV2VpZ2h0KTtcbiAgICAgICAgaWYgKHN0eWxlLmpvaW4gPT09IExJTkVfSk9JTi5CRVZFTCB8fCBwZGlzdCAvIHdpZHRoU3F1YXJlZCA+IG1pdGVyTGltaXRTcXVhcmVkKSB7XG4gICAgICAgICAgICBpZiAoY2xvY2t3aXNlKSAvKiByb3RhdGluZyBhdCBpbm5lciBhbmdsZSAqLyB7XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7IC8vIGlubmVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCkpOyAvLyBmaXJzdCBzZWdtZW50J3Mgb3V0ZXIgdmVydGV4XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7IC8vIGlubmVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJwMXggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnAxeSAqIG91dGVyV2VpZ2h0KSk7IC8vIHNlY29uZCBzZWdtZW50J3Mgb3V0ZXIgdmVydGV4XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIC8qIHJvdGF0aW5nIGF0IG91dGVyIGFuZ2xlICovIHtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSk7IC8vIGZpcnN0IHNlZ21lbnQncyBpbm5lciB2ZXJ0ZXhcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTsgLy8gb3V0ZXIgbWl0ZXIgcG9pbnRcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnAxeCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycDF5ICogaW5uZXJXZWlnaHQpKTsgLy8gc2Vjb25kIHNlZ21lbnQncyBvdXRlciB2ZXJ0ZXhcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTsgLy8gb3V0ZXIgbWl0ZXIgcG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4Q291bnQgKz0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdHlsZS5qb2luID09PSBMSU5FX0pPSU4uUk9VTkQpIHtcbiAgICAgICAgICAgIGlmIChjbG9ja3dpc2UpIC8qIGFyYyBpcyBvdXRzaWRlICovIHtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSk7XG4gICAgICAgICAgICAgICAgaW5kZXhDb3VudCArPSByb3VuZCh4MSwgeTEsIHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSwgeDEgKyAocGVycDF4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJwMXkgKiBvdXRlcldlaWdodCksIHZlcnRzLCB0cnVlKSArIDQ7XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJwMXggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnAxeSAqIG91dGVyV2VpZ2h0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIC8qIGFyYyBpcyBpbnNpZGUgKi8ge1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpKTtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTtcbiAgICAgICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKHgxLCB5MSwgeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpLCB4MSAtIChwZXJwMXggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnAxeSAqIGlubmVyV2VpZ2h0KSwgdmVydHMsIGZhbHNlKSArIDQ7XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJwMXggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnAxeSAqIGlubmVyV2VpZ2h0KSk7XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHgwID0gcG9pbnRzWyhsZW5ndGggLSAyKSAqIDJdO1xuICAgIHkwID0gcG9pbnRzWygobGVuZ3RoIC0gMikgKiAyKSArIDFdO1xuICAgIHgxID0gcG9pbnRzWyhsZW5ndGggLSAxKSAqIDJdO1xuICAgIHkxID0gcG9pbnRzWygobGVuZ3RoIC0gMSkgKiAyKSArIDFdO1xuICAgIHBlcnB4ID0gLSh5MCAtIHkxKTtcbiAgICBwZXJweSA9IHgwIC0geDE7XG4gICAgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcbiAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSk7XG4gICAgdmVydHMucHVzaCh4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCkpO1xuICAgIGlmICghY2xvc2VkU2hhcGUpIHtcbiAgICAgICAgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuUk9VTkQpIHtcbiAgICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDEgLSAocGVycHggKiAoaW5uZXJXZWlnaHQgLSBvdXRlcldlaWdodCkgKiAwLjUpLCB5MSAtIChwZXJweSAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSksIHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSwgeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpLCB2ZXJ0cywgZmFsc2UpICsgMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdHlsZS5jYXAgPT09IExJTkVfQ0FQLlNRVUFSRSkge1xuICAgICAgICAgICAgaW5kZXhDb3VudCArPSBzcXVhcmUoeDEsIHkxLCBwZXJweCwgcGVycHksIGlubmVyV2VpZ2h0LCBvdXRlcldlaWdodCwgZmFsc2UsIHZlcnRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcbiAgICB2YXIgZXBzMiA9IEdSQVBISUNTX0NVUlZFUy5lcHNpbG9uICogR1JBUEhJQ1NfQ1VSVkVTLmVwc2lsb247XG4gICAgLy8gaW5kaWNlcy5wdXNoKGluZGV4U3RhcnQpO1xuICAgIGZvciAodmFyIGkgPSBpbmRleFN0YXJ0OyBpIDwgaW5kZXhDb3VudCArIGluZGV4U3RhcnQgLSAyOyArK2kpIHtcbiAgICAgICAgeDAgPSB2ZXJ0c1soaSAqIDIpXTtcbiAgICAgICAgeTAgPSB2ZXJ0c1soaSAqIDIpICsgMV07XG4gICAgICAgIHgxID0gdmVydHNbKGkgKyAxKSAqIDJdO1xuICAgICAgICB5MSA9IHZlcnRzWygoaSArIDEpICogMikgKyAxXTtcbiAgICAgICAgeDIgPSB2ZXJ0c1soaSArIDIpICogMl07XG4gICAgICAgIHkyID0gdmVydHNbKChpICsgMikgKiAyKSArIDFdO1xuICAgICAgICAvKiBTa2lwIHplcm8gYXJlYSB0cmlhbmdsZXMgKi9cbiAgICAgICAgaWYgKE1hdGguYWJzKCh4MCAqICh5MSAtIHkyKSkgKyAoeDEgKiAoeTIgLSB5MCkpICsgKHgyICogKHkwIC0geTEpKSkgPCBlcHMyKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpbmRpY2VzLnB1c2goaSwgaSArIDEsIGkgKyAyKTtcbiAgICB9XG59XG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhdyB1c2luZyB0aGUgZ2wuZHJhd0FycmF5cyhnbC5MSU5FUykgbWV0aG9kXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gZ3JhcGhpY3NHZW9tZXRyeSAtIEdlb21ldHJ5IHdoZXJlIHRvIGFwcGVuZCBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gYnVpbGROYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgc2hhcGUgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHMgfHwgc2hhcGUucG9pbnRzO1xuICAgIHZhciBjbG9zZWRTaGFwZSA9IHNoYXBlLnR5cGUgIT09IFNIQVBFUy5QT0xZIHx8IHNoYXBlLmNsb3NlU3Ryb2tlO1xuICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKVxuICAgICAgICB7IHJldHVybjsgfVxuICAgIHZhciB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgIHZhciBsZW5ndGggPSBwb2ludHMubGVuZ3RoIC8gMjtcbiAgICB2YXIgc3RhcnRJbmRleCA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgdmFyIGN1cnJlbnRJbmRleCA9IHN0YXJ0SW5kZXg7XG4gICAgdmVydHMucHVzaChwb2ludHNbMF0sIHBvaW50c1sxXSk7XG4gICAgZm9yIChpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2kgKiAyXSwgcG9pbnRzWyhpICogMikgKyAxXSk7XG4gICAgICAgIGluZGljZXMucHVzaChjdXJyZW50SW5kZXgsIGN1cnJlbnRJbmRleCArIDEpO1xuICAgICAgICBjdXJyZW50SW5kZXgrKztcbiAgICB9XG4gICAgaWYgKGNsb3NlZFNoYXBlKSB7XG4gICAgICAgIGluZGljZXMucHVzaChjdXJyZW50SW5kZXgsIHN0YXJ0SW5kZXgpO1xuICAgIH1cbn1cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gZ3JhcGhpY3NHZW9tZXRyeSAtIEdlb21ldHJ5IHdoZXJlIHRvIGFwcGVuZCBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gYnVpbGRMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgIGlmIChncmFwaGljc0RhdGEubGluZVN0eWxlLm5hdGl2ZSkge1xuICAgICAgICBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGJ1aWxkTm9uTmF0aXZlTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBEcmF3IGEgc3RhciBzaGFwZSB3aXRoIGFuIGFyYml0cmFyeSBudW1iZXIgb2YgcG9pbnRzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Qb2x5Z29uXG4gKiBAbWVtYmVyb2YgUElYSS5ncmFwaGljc1V0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIENlbnRlciBYIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gKiBAcGFyYW0ge251bWJlcn0geSAtIENlbnRlciBZIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9pbnRzIC0gVGhlIG51bWJlciBvZiBwb2ludHMgb2YgdGhlIHN0YXIsIG11c3QgYmUgPiAxXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIG91dGVyIHJhZGl1cyBvZiB0aGUgc3RhclxuICogQHBhcmFtIHtudW1iZXJ9IFtpbm5lclJhZGl1c10gLSBUaGUgaW5uZXIgcmFkaXVzIGJldHdlZW4gcG9pbnRzLCBkZWZhdWx0IGhhbGYgYHJhZGl1c2BcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb24gb2YgdGhlIHN0YXIgaW4gcmFkaWFucywgd2hlcmUgMCBpcyB2ZXJ0aWNhbFxuICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICovXG52YXIgU3RhciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3RhciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdGFyKHgsIHksIHBvaW50cywgcmFkaXVzLCBpbm5lclJhZGl1cywgcm90YXRpb24pIHtcbiAgICAgICAgaWYgKHJvdGF0aW9uID09PSB2b2lkIDApIHsgcm90YXRpb24gPSAwOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlubmVyUmFkaXVzID0gaW5uZXJSYWRpdXMgfHwgcmFkaXVzIC8gMjtcbiAgICAgICAgdmFyIHN0YXJ0QW5nbGUgPSAoLTEgKiBNYXRoLlBJIC8gMikgKyByb3RhdGlvbjtcbiAgICAgICAgdmFyIGxlbiA9IHBvaW50cyAqIDI7XG4gICAgICAgIHZhciBkZWx0YSA9IFBJXzIgLyBsZW47XG4gICAgICAgIHZhciBwb2x5Z29uID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciByID0gaSAlIDIgPyBpbm5lclJhZGl1cyA6IHJhZGl1cztcbiAgICAgICAgICAgIHZhciBhbmdsZSA9IChpICogZGVsdGEpICsgc3RhcnRBbmdsZTtcbiAgICAgICAgICAgIHBvbHlnb24ucHVzaCh4ICsgKHIgKiBNYXRoLmNvcyhhbmdsZSkpLCB5ICsgKHIgKiBNYXRoLnNpbihhbmdsZSkpKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHBvbHlnb24pIHx8IHRoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFN0YXI7XG59KFBvbHlnb24pKTtcblxuLyoqXG4gKiBVdGlsaXRpZXMgZm9yIGFyYyBjdXJ2ZXNcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIEFyY1V0aWxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFyY1V0aWxzKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYXJjVG8oKSBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgYmV0d2VlbiB0d28gdGFuZ2VudHMgb24gdGhlIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIFwiYm9ycm93ZWRcIiBmcm9tIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvZnhjYW52YXMvIC0gdGhhbmtzIGdvb2dsZSFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MiAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkyIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgYXJjXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBJZiB0aGUgYXJjIGxlbmd0aCBpcyB2YWxpZCwgcmV0dXJuIGNlbnRlciBvZiBjaXJjbGUsIHJhZGl1cyBhbmQgb3RoZXIgaW5mbyBvdGhlcndpc2UgYG51bGxgLlxuICAgICAqL1xuICAgIEFyY1V0aWxzLmN1cnZlVG8gPSBmdW5jdGlvbiAoeDEsIHkxLCB4MiwgeTIsIHJhZGl1cywgcG9pbnRzKSB7XG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHZhciBhMSA9IGZyb21ZIC0geTE7XG4gICAgICAgIHZhciBiMSA9IGZyb21YIC0geDE7XG4gICAgICAgIHZhciBhMiA9IHkyIC0geTE7XG4gICAgICAgIHZhciBiMiA9IHgyIC0geDE7XG4gICAgICAgIHZhciBtbSA9IE1hdGguYWJzKChhMSAqIGIyKSAtIChiMSAqIGEyKSk7XG4gICAgICAgIGlmIChtbSA8IDEuMGUtOCB8fCByYWRpdXMgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdICE9PSB4MSB8fCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdICE9PSB5MSkge1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHgxLCB5MSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGQgPSAoYTEgKiBhMSkgKyAoYjEgKiBiMSk7XG4gICAgICAgIHZhciBjYyA9IChhMiAqIGEyKSArIChiMiAqIGIyKTtcbiAgICAgICAgdmFyIHR0ID0gKGExICogYTIpICsgKGIxICogYjIpO1xuICAgICAgICB2YXIgazEgPSByYWRpdXMgKiBNYXRoLnNxcnQoZGQpIC8gbW07XG4gICAgICAgIHZhciBrMiA9IHJhZGl1cyAqIE1hdGguc3FydChjYykgLyBtbTtcbiAgICAgICAgdmFyIGoxID0gazEgKiB0dCAvIGRkO1xuICAgICAgICB2YXIgajIgPSBrMiAqIHR0IC8gY2M7XG4gICAgICAgIHZhciBjeCA9IChrMSAqIGIyKSArIChrMiAqIGIxKTtcbiAgICAgICAgdmFyIGN5ID0gKGsxICogYTIpICsgKGsyICogYTEpO1xuICAgICAgICB2YXIgcHggPSBiMSAqIChrMiArIGoxKTtcbiAgICAgICAgdmFyIHB5ID0gYTEgKiAoazIgKyBqMSk7XG4gICAgICAgIHZhciBxeCA9IGIyICogKGsxICsgajIpO1xuICAgICAgICB2YXIgcXkgPSBhMiAqIChrMSArIGoyKTtcbiAgICAgICAgdmFyIHN0YXJ0QW5nbGUgPSBNYXRoLmF0YW4yKHB5IC0gY3ksIHB4IC0gY3gpO1xuICAgICAgICB2YXIgZW5kQW5nbGUgPSBNYXRoLmF0YW4yKHF5IC0gY3ksIHF4IC0gY3gpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY3g6IChjeCArIHgxKSxcbiAgICAgICAgICAgIGN5OiAoY3kgKyB5MSksXG4gICAgICAgICAgICByYWRpdXM6IHJhZGl1cyxcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IHN0YXJ0QW5nbGUsXG4gICAgICAgICAgICBlbmRBbmdsZTogZW5kQW5nbGUsXG4gICAgICAgICAgICBhbnRpY2xvY2t3aXNlOiAoYjEgKiBhMiA+IGIyICogYTEpLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgIC8qKlxuICAgICAqIFRoZSBhcmMgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlICh1c2VkIHRvIGNyZWF0ZSBjaXJjbGVzLCBvciBwYXJ0cyBvZiBjaXJjbGVzKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WCAtIFN0YXJ0IHggbG9jYXRpb24gb2YgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WSAtIFN0YXJ0IHkgbG9jYXRpb24gb2YgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN4IC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3kgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRBbmdsZSAtIFRoZSBzdGFydGluZyBhbmdsZSwgaW4gcmFkaWFucyAoMCBpcyBhdCB0aGUgMyBvJ2Nsb2NrIHBvc2l0aW9uXG4gICAgICogIG9mIHRoZSBhcmMncyBjaXJjbGUpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEFuZ2xlIC0gVGhlIGVuZGluZyBhbmdsZSwgaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYW50aWNsb2Nrd2lzZSAtIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBkcmF3aW5nIHNob3VsZCBiZVxuICAgICAqICBjb3VudGVyLWNsb2Nrd2lzZSBvciBjbG9ja3dpc2UuIEZhbHNlIGlzIGRlZmF1bHQsIGFuZCBpbmRpY2F0ZXMgY2xvY2t3aXNlLCB3aGlsZSB0cnVlXG4gICAgICogIGluZGljYXRlcyBjb3VudGVyLWNsb2Nrd2lzZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBwb2ludHMgLSBDb2xsZWN0aW9uIG9mIHBvaW50cyB0byBhZGQgdG9cbiAgICAgKi9cbiAgICBBcmNVdGlscy5hcmMgPSBmdW5jdGlvbiAoX3N0YXJ0WCwgX3N0YXJ0WSwgY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBfYW50aWNsb2Nrd2lzZSwgcG9pbnRzKSB7XG4gICAgICAgIHZhciBzd2VlcCA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZTtcbiAgICAgICAgdmFyIG4gPSBHUkFQSElDU19DVVJWRVMuX3NlZ21lbnRzQ291bnQoTWF0aC5hYnMoc3dlZXApICogcmFkaXVzLCBNYXRoLmNlaWwoTWF0aC5hYnMoc3dlZXApIC8gUElfMikgKiA0MCk7XG4gICAgICAgIHZhciB0aGV0YSA9IChzd2VlcCkgLyAobiAqIDIpO1xuICAgICAgICB2YXIgdGhldGEyID0gdGhldGEgKiAyO1xuICAgICAgICB2YXIgY1RoZXRhID0gTWF0aC5jb3ModGhldGEpO1xuICAgICAgICB2YXIgc1RoZXRhID0gTWF0aC5zaW4odGhldGEpO1xuICAgICAgICB2YXIgc2VnTWludXMgPSBuIC0gMTtcbiAgICAgICAgdmFyIHJlbWFpbmRlciA9IChzZWdNaW51cyAlIDEpIC8gc2VnTWludXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHNlZ01pbnVzOyArK2kpIHtcbiAgICAgICAgICAgIHZhciByZWFsID0gaSArIChyZW1haW5kZXIgKiBpKTtcbiAgICAgICAgICAgIHZhciBhbmdsZSA9ICgodGhldGEpICsgc3RhcnRBbmdsZSArICh0aGV0YTIgKiByZWFsKSk7XG4gICAgICAgICAgICB2YXIgYyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgICAgIHZhciBzID0gLU1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKCgoKGNUaGV0YSAqIGMpICsgKHNUaGV0YSAqIHMpKSAqIHJhZGl1cykgKyBjeCwgKCgoY1RoZXRhICogLXMpICsgKHNUaGV0YSAqIGMpKSAqIHJhZGl1cykgKyBjeSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBcmNVdGlscztcbn0oKSk7XG5cbi8qKlxuICogVXRpbGl0aWVzIGZvciBiZXppZXIgY3VydmVzXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBCZXppZXJVdGlscyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCZXppZXJVdGlscygpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIGxlbmd0aCBvZiBiZXppZXIgY3VydmUuXG4gICAgICogQW5hbHl0aWNhbCBzb2x1dGlvbiBpcyBpbXBvc3NpYmxlLCBzaW5jZSBpdCBpbnZvbHZlcyBhbiBpbnRlZ3JhbCB0aGF0IGRvZXMgbm90IGludGVncmF0ZSBpbiBnZW5lcmFsLlxuICAgICAqIFRoZXJlZm9yZSBudW1lcmljYWwgc29sdXRpb24gaXMgdXNlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0gU3RhcnRpbmcgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIFN0YXJ0aW5nIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IExlbmd0aCBvZiBiZXppZXIgY3VydmVcbiAgICAgKi9cbiAgICBCZXppZXJVdGlscy5jdXJ2ZUxlbmd0aCA9IGZ1bmN0aW9uIChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSkge1xuICAgICAgICB2YXIgbiA9IDEwO1xuICAgICAgICB2YXIgcmVzdWx0ID0gMC4wO1xuICAgICAgICB2YXIgdCA9IDAuMDtcbiAgICAgICAgdmFyIHQyID0gMC4wO1xuICAgICAgICB2YXIgdDMgPSAwLjA7XG4gICAgICAgIHZhciBudCA9IDAuMDtcbiAgICAgICAgdmFyIG50MiA9IDAuMDtcbiAgICAgICAgdmFyIG50MyA9IDAuMDtcbiAgICAgICAgdmFyIHggPSAwLjA7XG4gICAgICAgIHZhciB5ID0gMC4wO1xuICAgICAgICB2YXIgZHggPSAwLjA7XG4gICAgICAgIHZhciBkeSA9IDAuMDtcbiAgICAgICAgdmFyIHByZXZYID0gZnJvbVg7XG4gICAgICAgIHZhciBwcmV2WSA9IGZyb21ZO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgICAgIHQgPSBpIC8gbjtcbiAgICAgICAgICAgIHQyID0gdCAqIHQ7XG4gICAgICAgICAgICB0MyA9IHQyICogdDtcbiAgICAgICAgICAgIG50ID0gKDEuMCAtIHQpO1xuICAgICAgICAgICAgbnQyID0gbnQgKiBudDtcbiAgICAgICAgICAgIG50MyA9IG50MiAqIG50O1xuICAgICAgICAgICAgeCA9IChudDMgKiBmcm9tWCkgKyAoMy4wICogbnQyICogdCAqIGNwWCkgKyAoMy4wICogbnQgKiB0MiAqIGNwWDIpICsgKHQzICogdG9YKTtcbiAgICAgICAgICAgIHkgPSAobnQzICogZnJvbVkpICsgKDMuMCAqIG50MiAqIHQgKiBjcFkpICsgKDMgKiBudCAqIHQyICogY3BZMikgKyAodDMgKiB0b1kpO1xuICAgICAgICAgICAgZHggPSBwcmV2WCAtIHg7XG4gICAgICAgICAgICBkeSA9IHByZXZZIC0geTtcbiAgICAgICAgICAgIHByZXZYID0geDtcbiAgICAgICAgICAgIHByZXZZID0geTtcbiAgICAgICAgICAgIHJlc3VsdCArPSBNYXRoLnNxcnQoKGR4ICogZHgpICsgKGR5ICogZHkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqXG4gICAgICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gICAgICpcbiAgICAgKiBAaWdub3JlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzIC0gUGF0aCBhcnJheSB0byBwdXNoIHBvaW50cyBpbnRvXG4gICAgICovXG4gICAgQmV6aWVyVXRpbHMuY3VydmVUbyA9IGZ1bmN0aW9uIChjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1ksIHBvaW50cykge1xuICAgICAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICBwb2ludHMubGVuZ3RoIC09IDI7XG4gICAgICAgIHZhciBuID0gR1JBUEhJQ1NfQ1VSVkVTLl9zZWdtZW50c0NvdW50KEJlemllclV0aWxzLmN1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSk7XG4gICAgICAgIHZhciBkdCA9IDA7XG4gICAgICAgIHZhciBkdDIgPSAwO1xuICAgICAgICB2YXIgZHQzID0gMDtcbiAgICAgICAgdmFyIHQyID0gMDtcbiAgICAgICAgdmFyIHQzID0gMDtcbiAgICAgICAgcG9pbnRzLnB1c2goZnJvbVgsIGZyb21ZKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDEsIGogPSAwOyBpIDw9IG47ICsraSkge1xuICAgICAgICAgICAgaiA9IGkgLyBuO1xuICAgICAgICAgICAgZHQgPSAoMSAtIGopO1xuICAgICAgICAgICAgZHQyID0gZHQgKiBkdDtcbiAgICAgICAgICAgIGR0MyA9IGR0MiAqIGR0O1xuICAgICAgICAgICAgdDIgPSBqICogajtcbiAgICAgICAgICAgIHQzID0gdDIgKiBqO1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goKGR0MyAqIGZyb21YKSArICgzICogZHQyICogaiAqIGNwWCkgKyAoMyAqIGR0ICogdDIgKiBjcFgyKSArICh0MyAqIHRvWCksIChkdDMgKiBmcm9tWSkgKyAoMyAqIGR0MiAqIGogKiBjcFkpICsgKDMgKiBkdCAqIHQyICogY3BZMikgKyAodDMgKiB0b1kpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEJlemllclV0aWxzO1xufSgpKTtcblxuLyoqXG4gKiBVdGlsaXRpZXMgZm9yIHF1YWRyYXRpYyBjdXJ2ZXNcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIFF1YWRyYXRpY1V0aWxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFF1YWRyYXRpY1V0aWxzKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgbGVuZ3RoIG9mIHF1YWRyYXRpYyBjdXJ2ZVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHA6Ly93d3cubWFsY3phay5saW51eHBsLmNvbS9ibG9nL3F1YWRyYXRpYy1iZXppZXItY3VydmUtbGVuZ3RoL31cbiAgICAgKiBmb3IgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9mIG1hdGggYmVoaW5kIHRoaXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWCAtIHgtY29vcmRpbmF0ZSBvZiBjdXJ2ZSBzdGFydCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIHktY29vcmRpbmF0ZSBvZiBjdXJ2ZSBzdGFydCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSB4LWNvb3JkaW5hdGUgb2YgY3VydmUgY29udHJvbCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSB5LWNvb3JkaW5hdGUgb2YgY3VydmUgY29udHJvbCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSB4LWNvb3JkaW5hdGUgb2YgY3VydmUgZW5kIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIHktY29vcmRpbmF0ZSBvZiBjdXJ2ZSBlbmQgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IExlbmd0aCBvZiBxdWFkcmF0aWMgY3VydmVcbiAgICAgKi9cbiAgICBRdWFkcmF0aWNVdGlscy5jdXJ2ZUxlbmd0aCA9IGZ1bmN0aW9uIChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCB0b1gsIHRvWSkge1xuICAgICAgICB2YXIgYXggPSBmcm9tWCAtICgyLjAgKiBjcFgpICsgdG9YO1xuICAgICAgICB2YXIgYXkgPSBmcm9tWSAtICgyLjAgKiBjcFkpICsgdG9ZO1xuICAgICAgICB2YXIgYnggPSAoMi4wICogY3BYKSAtICgyLjAgKiBmcm9tWCk7XG4gICAgICAgIHZhciBieSA9ICgyLjAgKiBjcFkpIC0gKDIuMCAqIGZyb21ZKTtcbiAgICAgICAgdmFyIGEgPSA0LjAgKiAoKGF4ICogYXgpICsgKGF5ICogYXkpKTtcbiAgICAgICAgdmFyIGIgPSA0LjAgKiAoKGF4ICogYngpICsgKGF5ICogYnkpKTtcbiAgICAgICAgdmFyIGMgPSAoYnggKiBieCkgKyAoYnkgKiBieSk7XG4gICAgICAgIHZhciBzID0gMi4wICogTWF0aC5zcXJ0KGEgKyBiICsgYyk7XG4gICAgICAgIHZhciBhMiA9IE1hdGguc3FydChhKTtcbiAgICAgICAgdmFyIGEzMiA9IDIuMCAqIGEgKiBhMjtcbiAgICAgICAgdmFyIGMyID0gMi4wICogTWF0aC5zcXJ0KGMpO1xuICAgICAgICB2YXIgYmEgPSBiIC8gYTI7XG4gICAgICAgIHJldHVybiAoKGEzMiAqIHMpXG4gICAgICAgICAgICArIChhMiAqIGIgKiAocyAtIGMyKSlcbiAgICAgICAgICAgICsgKCgoNC4wICogYyAqIGEpIC0gKGIgKiBiKSlcbiAgICAgICAgICAgICAgICAqIE1hdGgubG9nKCgoMi4wICogYTIpICsgYmEgKyBzKSAvIChiYSArIGMyKSkpKSAvICg0LjAgKiBhMzIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIFBvaW50cyB0byBhZGQgc2VnbWVudHMgdG8uXG4gICAgICovXG4gICAgUXVhZHJhdGljVXRpbHMuY3VydmVUbyA9IGZ1bmN0aW9uIChjcFgsIGNwWSwgdG9YLCB0b1ksIHBvaW50cykge1xuICAgICAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICB2YXIgbiA9IEdSQVBISUNTX0NVUlZFUy5fc2VnbWVudHNDb3VudChRdWFkcmF0aWNVdGlscy5jdXJ2ZUxlbmd0aChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCB0b1gsIHRvWSkpO1xuICAgICAgICB2YXIgeGEgPSAwO1xuICAgICAgICB2YXIgeWEgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBqID0gaSAvIG47XG4gICAgICAgICAgICB4YSA9IGZyb21YICsgKChjcFggLSBmcm9tWCkgKiBqKTtcbiAgICAgICAgICAgIHlhID0gZnJvbVkgKyAoKGNwWSAtIGZyb21ZKSAqIGopO1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeGEgKyAoKChjcFggKyAoKHRvWCAtIGNwWCkgKiBqKSkgLSB4YSkgKiBqKSwgeWEgKyAoKChjcFkgKyAoKHRvWSAtIGNwWSkgKiBqKSkgLSB5YSkgKiBqKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBRdWFkcmF0aWNVdGlscztcbn0oKSk7XG5cbi8qKlxuICogQSBzdHJ1Y3R1cmUgdG8gaG9sZCBpbnRlcmltIGJhdGNoIG9iamVjdHMgZm9yIEdyYXBoaWNzLlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5ncmFwaGljc1V0aWxzXG4gKi9cbnZhciBCYXRjaFBhcnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmF0Y2hQYXJ0KCkge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJlZ2luIGJhdGNoIHBhcnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWxsU3R5bGUgfCBQSVhJLkxpbmVTdHlsZX0gc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhdHRyaWJTdGFydFxuICAgICAqL1xuICAgIEJhdGNoUGFydC5wcm90b3R5cGUuYmVnaW4gPSBmdW5jdGlvbiAoc3R5bGUsIHN0YXJ0SW5kZXgsIGF0dHJpYlN0YXJ0KSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnRJbmRleDtcbiAgICAgICAgdGhpcy5hdHRyaWJTdGFydCA9IGF0dHJpYlN0YXJ0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5kIGJhdGNoIHBhcnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRJbmRleFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRBdHRyaWJcbiAgICAgKi9cbiAgICBCYXRjaFBhcnQucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChlbmRJbmRleCwgZW5kQXR0cmliKSB7XG4gICAgICAgIHRoaXMuYXR0cmliU2l6ZSA9IGVuZEF0dHJpYiAtIHRoaXMuYXR0cmliU3RhcnQ7XG4gICAgICAgIHRoaXMuc2l6ZSA9IGVuZEluZGV4IC0gdGhpcy5zdGFydDtcbiAgICB9O1xuICAgIEJhdGNoUGFydC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5hdHRyaWJTdGFydCA9IDA7XG4gICAgICAgIHRoaXMuYXR0cmliU2l6ZSA9IDA7XG4gICAgfTtcbiAgICByZXR1cm4gQmF0Y2hQYXJ0O1xufSgpKTtcblxuLyoqXG4gKiBHZW5lcmFsaXplZCBjb252ZW5pZW5jZSB1dGlsaXRpZXMgZm9yIEdyYXBoaWNzLlxuICpcbiAqIEBuYW1lc3BhY2UgZ3JhcGhpY3NVdGlsc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIF9hO1xuLyoqXG4gKiBNYXAgb2YgZmlsbCBjb21tYW5kcyBmb3IgZWFjaCBzaGFwZSB0eXBlLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLmdyYXBoaWNzVXRpbHNcbiAqIEBtZW1iZXIge09iamVjdH0gRklMTF9DT01NQU5EU1xuICovXG52YXIgRklMTF9DT01NQU5EUyA9IChfYSA9IHt9LFxuICAgIF9hW1NIQVBFUy5QT0xZXSA9IGJ1aWxkUG9seSxcbiAgICBfYVtTSEFQRVMuQ0lSQ10gPSBidWlsZENpcmNsZSxcbiAgICBfYVtTSEFQRVMuRUxJUF0gPSBidWlsZENpcmNsZSxcbiAgICBfYVtTSEFQRVMuUkVDVF0gPSBidWlsZFJlY3RhbmdsZSxcbiAgICBfYVtTSEFQRVMuUlJFQ10gPSBidWlsZFJvdW5kZWRSZWN0YW5nbGUsXG4gICAgX2EpO1xuLyoqXG4gKiBCYXRjaCBwb29sLCBzdG9yZXMgdW51c2VkIGJhdGNoZXMgZm9yIHByZXZlbnRpbmcgYWxsb2NhdGlvbnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuZ3JhcGhpY3NVdGlsc1xuICogQG1lbWJlciB7QXJyYXk8UElYSS5ncmFwaGljc1V0aWxzLkJhdGNoUGFydD59IEJBVENIX1BPT0xcbiAqL1xudmFyIEJBVENIX1BPT0wgPSBbXTtcbi8qKlxuICogRHJhdyBjYWxsIHBvb2wsIHN0b3JlcyB1bnVzZWQgZHJhdyBjYWxscyBmb3IgcHJldmVudGluZyBhbGxvY2F0aW9ucy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5ncmFwaGljc1V0aWxzXG4gKiBAbWVtYmVyIHtBcnJheTxQSVhJLkJhdGNoRHJhd0NhbGw+fSBEUkFXX0NBTExfUE9PTFxuICovXG52YXIgRFJBV19DQUxMX1BPT0wgPSBbXTtcblxudmFyIGluZGV4ID0gKHtcbiAgICBidWlsZFBvbHk6IGJ1aWxkUG9seSxcbiAgICBidWlsZENpcmNsZTogYnVpbGRDaXJjbGUsXG4gICAgYnVpbGRSZWN0YW5nbGU6IGJ1aWxkUmVjdGFuZ2xlLFxuICAgIGJ1aWxkUm91bmRlZFJlY3RhbmdsZTogYnVpbGRSb3VuZGVkUmVjdGFuZ2xlLFxuICAgIEZJTExfQ09NTUFORFM6IEZJTExfQ09NTUFORFMsXG4gICAgQkFUQ0hfUE9PTDogQkFUQ0hfUE9PTCxcbiAgICBEUkFXX0NBTExfUE9PTDogRFJBV19DQUxMX1BPT0wsXG4gICAgYnVpbGRMaW5lOiBidWlsZExpbmUsXG4gICAgU3RhcjogU3RhcixcbiAgICBBcmNVdGlsczogQXJjVXRpbHMsXG4gICAgQmV6aWVyVXRpbHM6IEJlemllclV0aWxzLFxuICAgIFF1YWRyYXRpY1V0aWxzOiBRdWFkcmF0aWNVdGlscyxcbiAgICBCYXRjaFBhcnQ6IEJhdGNoUGFydFxufSk7XG5cbi8qKlxuICogQSBjbGFzcyB0byBjb250YWluIGRhdGEgdXNlZnVsIGZvciBHcmFwaGljcyBvYmplY3RzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR3JhcGhpY3NEYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZX0gW2ZpbGxTdHlsZV0gLSB0aGUgd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7UElYSS5MaW5lU3R5bGV9IFtsaW5lU3R5bGVdIC0gdGhlIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbbWF0cml4XSAtIFRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHcmFwaGljc0RhdGEoc2hhcGUsIGZpbGxTdHlsZSwgbGluZVN0eWxlLCBtYXRyaXgpIHtcbiAgICAgICAgaWYgKGZpbGxTdHlsZSA9PT0gdm9pZCAwKSB7IGZpbGxTdHlsZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKGxpbmVTdHlsZSA9PT0gdm9pZCAwKSB7IGxpbmVTdHlsZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKG1hdHJpeCA9PT0gdm9pZCAwKSB7IG1hdHJpeCA9IG51bGw7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYXBlID0gc2hhcGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3R5bGUgb2YgdGhlIGxpbmUuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTGluZVN0eWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lU3R5bGUgPSBsaW5lU3R5bGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3R5bGUgb2YgdGhlIGZpbGwuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsbFN0eWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWxsU3R5bGUgPSBmaWxsU3R5bGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhbnNmb3JtIG1hdHJpeC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hdHJpeCA9IG1hdHJpeDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBzaGFwZSwgc2VlIHRoZSBDb25zdC5TaGFwZXMgZmlsZSBmb3IgYWxsIHRoZSBleGlzdGluZyB0eXBlcyxcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gc2hhcGUudHlwZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIHBvaW50cy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvaW50cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgaG9sZXMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NEYXRhW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhvbGVzID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgR3JhcGhpY3NEYXRhIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NEYXRhfSBDbG9uZWQgR3JhcGhpY3NEYXRhIG9iamVjdFxuICAgICAqL1xuICAgIEdyYXBoaWNzRGF0YS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgR3JhcGhpY3NEYXRhKHRoaXMuc2hhcGUsIHRoaXMuZmlsbFN0eWxlLCB0aGlzLmxpbmVTdHlsZSwgdGhpcy5tYXRyaXgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIEdyYXBoaWNzIGRhdGEuXG4gICAgICpcbiAgICAgKi9cbiAgICBHcmFwaGljc0RhdGEucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2hhcGUgPSBudWxsO1xuICAgICAgICB0aGlzLmhvbGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuaG9sZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnBvaW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMubGluZVN0eWxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWxsU3R5bGUgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEdyYXBoaWNzRGF0YTtcbn0oKSk7XG5cbnZhciB0bXBQb2ludCA9IG5ldyBQb2ludCgpO1xudmFyIHRtcEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbi8qKlxuICogVGhlIEdyYXBoaWNzIGNsYXNzIGNvbnRhaW5zIG1ldGhvZHMgdXNlZCB0byBkcmF3IHByaW1pdGl2ZSBzaGFwZXMgc3VjaCBhcyBsaW5lcywgY2lyY2xlcyBhbmRcbiAqIHJlY3RhbmdsZXMgdG8gdGhlIGRpc3BsYXksIGFuZCB0byBjb2xvciBhbmQgZmlsbCB0aGVtLlxuICpcbiAqIEdyYXBoaWNzR2VvbWV0cnkgaXMgZGVzaWduZWQgdG8gbm90IGJlIGNvbnRpbnVhbGx5IHVwZGF0aW5nIHRoZSBnZW9tZXRyeSBzaW5jZSBpdCdzIGV4cGVuc2l2ZVxuICogdG8gcmUtdGVzc2VsYXRlIHVzaW5nICoqZWFyY3V0KiouIENvbnNpZGVyIHVzaW5nIHtAbGluayBQSVhJLk1lc2h9IGZvciB0aGlzIHVzZS1jYXNlLCBpdCdzIG11Y2ggZmFzdGVyLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5CYXRjaEdlb21ldHJ5XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR3JhcGhpY3NHZW9tZXRyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoR3JhcGhpY3NHZW9tZXRyeSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBHcmFwaGljc0dlb21ldHJ5KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy51dnNGbG9hdDMyID0gbnVsbDtcbiAgICAgICAgX3RoaXMuaW5kaWNlc1VpbnQxNiA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBwb2ludHMgdG8gZHJhdywgMiBudW1iZXJzIHBlciBwb2ludFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucG9pbnRzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBjb2xvcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbG9ycyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFVWcyBjb2xsZWN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dnMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbmRpY2VzIG9mIHRoZSB2ZXJ0aWNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW5kaWNlcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSB0ZXh0dXJlIElEcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVJZHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGRyYXduIHNoYXBlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0RhdGFbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ3JhcGhpY3NEYXRhID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0IGhhcyBjaGFuZ2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRpcnR5ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhdGNoZXMgbmVlZCB0byByZWdlbmVyYXRlZCBpZiB0aGUgZ2VvbWV0cnkgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXRjaERpcnR5ID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGNoZWNrIGlmIHRoZSBjYWNoZSBpcyBkaXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYWNoZURpcnR5ID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB3ZSBjbGVhcmVkIHRoZSBncmFwaGljc0RhdGEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jbGVhckRpcnR5ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgY3VycmVudCBkcmF3IGNhbGxzIGRyaXZlZCBmcm9tIHRoZSBiYXRjaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHJhd0NhbGxzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm1lZGlhdGUgYWJzdHJhY3QgZm9ybWF0IHNlbnQgdG8gYmF0Y2ggc3lzdGVtLlxuICAgICAgICAgKiBDYW4gYmUgY29udmVydGVkIHRvIGRyYXdDYWxscyBvciB0byBiYXRjaGFibGUgb2JqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5ncmFwaGljc1V0aWxzLkJhdGNoUGFydFtdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXRjaGVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRleCBvZiB0aGUgbGFzdCBiYXRjaGVkIHNoYXBlIGluIHRoZSBzdGFjayBvZiBjYWxscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFwZUluZGV4ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlZCBib3VuZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYm91bmRzID0gbmV3IEJvdW5kcygpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJvdW5kcyBkaXJ0eSBmbGFnLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYWRkaW5nIHRvIGFkZCB0byB0aGUgYm91bmRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJvdW5kc1BhZGRpbmcgPSAwO1xuICAgICAgICBfdGhpcy5iYXRjaGFibGUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaW5kaWNlc1VpbnQxNiA9IG51bGw7XG4gICAgICAgIF90aGlzLnV2c0Zsb2F0MzIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWluaW1hbCBkaXN0YW5jZSBiZXR3ZWVuIHBvaW50cyB0aGF0IGFyZSBjb25zaWRlcmVkIGRpZmZlcmVudC5cbiAgICAgICAgICogQWZmZWN0cyBsaW5lIHRlc3NlbGF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jbG9zZVBvaW50RXBzID0gMWUtNDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUsIFwiYm91bmRzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgY3VycmVudCBib3VuZHMgb2YgdGhlIGdyYXBoaWMgZ2VvbWV0cnkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRzRGlydHkgIT09IHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gdGhpcy5kaXJ0eTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENhbGwgaWYgeW91IGNoYW5nZWQgZ3JhcGhpY3NEYXRhIG1hbnVhbGx5LlxuICAgICAqIEVtcHRpZXMgYWxsIGJhdGNoIGJ1ZmZlcnMuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuaW52YWxpZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IC0xO1xuICAgICAgICB0aGlzLmRpcnR5Kys7XG4gICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSsrO1xuICAgICAgICB0aGlzLnNoYXBlSW5kZXggPSAwO1xuICAgICAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmNvbG9ycy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnV2cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmluZGljZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy50ZXh0dXJlSWRzLmxlbmd0aCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0NhbGxzW2ldLnRleEFycmF5LmNsZWFyKCk7XG4gICAgICAgICAgICBEUkFXX0NBTExfUE9PTC5wdXNoKHRoaXMuZHJhd0NhbGxzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRyYXdDYWxscy5sZW5ndGggPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJhdGNoUGFydCA9IHRoaXMuYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgIGJhdGNoUGFydC5yZXNldCgpO1xuICAgICAgICAgICAgQkFUQ0hfUE9PTC5wdXNoKGJhdGNoUGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGdyYXBoaWNzIHRoYXQgd2VyZSBkcmF3biB0byB0aGlzIEdyYXBoaWNzIG9iamVjdCwgYW5kIHJlc2V0cyBmaWxsIGFuZCBsaW5lIHN0eWxlIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBUaGlzIEdyYXBoaWNzR2VvbWV0cnkgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5jbGVhckRpcnR5Kys7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIGdpdmVuIHNoYXBlIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBDYW4gYmUgYW55IG9mIENpcmNsZSwgUmVjdGFuZ2xlLCBFbGxpcHNlLCBMaW5lIG9yIFBvbHlnb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsbFN0eWxlfSBmaWxsU3R5bGUgLSBEZWZpbmVzIHN0eWxlIG9mIHRoZSBmaWxsLlxuICAgICAqIEBwYXJhbSB7UElYSS5MaW5lU3R5bGV9IGxpbmVTdHlsZSAtIERlZmluZXMgc3R5bGUgb2YgdGhlIGxpbmVzLlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRyYW5zZm9ybSBhcHBsaWVkIHRvIHRoZSBwb2ludHMgb2YgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gUmV0dXJucyBnZW9tZXRyeSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuZHJhd1NoYXBlID0gZnVuY3Rpb24gKHNoYXBlLCBmaWxsU3R5bGUsIGxpbmVTdHlsZSwgbWF0cml4KSB7XG4gICAgICAgIGlmIChmaWxsU3R5bGUgPT09IHZvaWQgMCkgeyBmaWxsU3R5bGUgPSBudWxsOyB9XG4gICAgICAgIGlmIChsaW5lU3R5bGUgPT09IHZvaWQgMCkgeyBsaW5lU3R5bGUgPSBudWxsOyB9XG4gICAgICAgIGlmIChtYXRyaXggPT09IHZvaWQgMCkgeyBtYXRyaXggPSBudWxsOyB9XG4gICAgICAgIHZhciBkYXRhID0gbmV3IEdyYXBoaWNzRGF0YShzaGFwZSwgZmlsbFN0eWxlLCBsaW5lU3R5bGUsIG1hdHJpeCk7XG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLnB1c2goZGF0YSk7XG4gICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgZ2l2ZW4gc2hhcGUgdG8gdGhpcyBHcmFwaGljcyBvYmplY3QuIENhbiBiZSBhbnkgb2YgQ2lyY2xlLCBSZWN0YW5nbGUsIEVsbGlwc2UsIExpbmUgb3IgUG9seWdvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRyYW5zZm9ybSBhcHBsaWVkIHRvIHRoZSBwb2ludHMgb2YgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gUmV0dXJucyBnZW9tZXRyeSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuZHJhd0hvbGUgPSBmdW5jdGlvbiAoc2hhcGUsIG1hdHJpeCkge1xuICAgICAgICBpZiAobWF0cml4ID09PSB2b2lkIDApIHsgbWF0cml4ID0gbnVsbDsgfVxuICAgICAgICBpZiAoIXRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRhdGEgPSBuZXcgR3JhcGhpY3NEYXRhKHNoYXBlLCBudWxsLCBudWxsLCBtYXRyaXgpO1xuICAgICAgICB2YXIgbGFzdFNoYXBlID0gdGhpcy5ncmFwaGljc0RhdGFbdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoIC0gMV07XG4gICAgICAgIGRhdGEubGluZVN0eWxlID0gbGFzdFNoYXBlLmxpbmVTdHlsZTtcbiAgICAgICAgbGFzdFNoYXBlLmhvbGVzLnB1c2goZGF0YSk7XG4gICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgR3JhcGhpY3NHZW9tZXRyeSBvYmplY3QuXG4gICAgICpcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgLy8gZGVzdHJveSBlYWNoIG9mIHRoZSBHcmFwaGljc0RhdGEgb2JqZWN0c1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YVtpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5wb2ludHMgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbG9ycy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmNvbG9ycyA9IG51bGw7XG4gICAgICAgIHRoaXMudXZzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRpY2VzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmRyYXdDYWxscy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmRyYXdDYWxscyA9IG51bGw7XG4gICAgICAgIHRoaXMuYmF0Y2hlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmJhdGNoZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgdG8gc2VlIGlmIGEgcG9pbnQgaXMgY29udGFpbmVkIHdpdGhpbiB0aGlzIGdlb21ldHJ5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvaW50IC0gUG9pbnQgdG8gY2hlY2sgaWYgaXQncyBjb250YWluZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgdmFyIGdyYXBoaWNzRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljc0RhdGFbaV07XG4gICAgICAgICAgICBpZiAoIWRhdGEuZmlsbFN0eWxlLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG9ubHkgZGVhbCB3aXRoIGZpbGxzLi5cbiAgICAgICAgICAgIGlmIChkYXRhLnNoYXBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubWF0cml4KSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEubWF0cml4LmFwcGx5SW52ZXJzZShwb2ludCwgdG1wUG9pbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wUG9pbnQuY29weUZyb20ocG9pbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zaGFwZS5jb250YWlucyh0bXBQb2ludC54LCB0bXBQb2ludC55KSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGl0SG9sZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ob2xlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gMDsgaV8xIDwgZGF0YS5ob2xlcy5sZW5ndGg7IGlfMSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhvbGUgPSBkYXRhLmhvbGVzW2lfMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvbGUuc2hhcGUuY29udGFpbnModG1wUG9pbnQueCwgdG1wUG9pbnQueSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0SG9sZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWhpdEhvbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBpbnRlcm1lZGlhdGUgYmF0Y2ggZGF0YS4gRWl0aGVyIGdldHMgY29udmVydGVkIHRvIGRyYXdDYWxsc1xuICAgICAqIG9yIHVzZWQgdG8gY29udmVydCB0byBiYXRjaCBvYmplY3RzIGRpcmVjdGx5IGJ5IHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbG9vdzMySW5kaWNlc10gLSBBbGxvdyB1c2luZyAzMi1iaXQgaW5kaWNlcyBmb3IgcHJldmVudGluZ3MgYXJ0ZWZhY3RzIHdoZW4gbW9yZSB0aGF0IDY1NTM1IHZlcnRpY2VzXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUudXBkYXRlQmF0Y2hlcyA9IGZ1bmN0aW9uIChhbGxvdzMySW5kaWNlcykge1xuICAgICAgICBpZiAoIXRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5iYXRjaGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0ZUJhdGNoaW5nKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhY2hlRGlydHkgPSB0aGlzLmRpcnR5O1xuICAgICAgICB2YXIgdXZzID0gdGhpcy51dnM7XG4gICAgICAgIHZhciBncmFwaGljc0RhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YTtcbiAgICAgICAgdmFyIGJhdGNoUGFydCA9IG51bGw7XG4gICAgICAgIHZhciBjdXJyZW50U3R5bGUgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5iYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGJhdGNoUGFydCA9IHRoaXMuYmF0Y2hlc1t0aGlzLmJhdGNoZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBjdXJyZW50U3R5bGUgPSBiYXRjaFBhcnQuc3R5bGU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMuc2hhcGVJbmRleDsgaSA8IGdyYXBoaWNzRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zaGFwZUluZGV4Kys7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciBmaWxsU3R5bGUgPSBkYXRhLmZpbGxTdHlsZTtcbiAgICAgICAgICAgIHZhciBsaW5lU3R5bGUgPSBkYXRhLmxpbmVTdHlsZTtcbiAgICAgICAgICAgIHZhciBjb21tYW5kID0gRklMTF9DT01NQU5EU1tkYXRhLnR5cGVdO1xuICAgICAgICAgICAgLy8gYnVpbGQgb3V0IHRoZSBzaGFwZXMgcG9pbnRzLi5cbiAgICAgICAgICAgIGNvbW1hbmQuYnVpbGQoZGF0YSk7XG4gICAgICAgICAgICBpZiAoZGF0YS5tYXRyaXgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybVBvaW50cyhkYXRhLnBvaW50cywgZGF0YS5tYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAyOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSAoaiA9PT0gMCkgPyBmaWxsU3R5bGUgOiBsaW5lU3R5bGU7XG4gICAgICAgICAgICAgICAgaWYgKCFzdHlsZS52aXNpYmxlKVxuICAgICAgICAgICAgICAgICAgICB7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgdmFyIG5leHRUZXh0dXJlID0gc3R5bGUudGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXhfMSA9IHRoaXMuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdmFyIGF0dHJpYkluZGV4ID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcbiAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS53cmFwTW9kZSA9IFdSQVBfTU9ERVMuUkVQRUFUO1xuICAgICAgICAgICAgICAgIGlmIChqID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ZpbGwoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NMaW5lKGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9ICh0aGlzLnBvaW50cy5sZW5ndGggLyAyKSAtIGF0dHJpYkluZGV4O1xuICAgICAgICAgICAgICAgIGlmIChzaXplID09PSAwKVxuICAgICAgICAgICAgICAgICAgICB7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgLy8gY2xvc2UgYmF0Y2ggaWYgc3R5bGUgaXMgZGlmZmVyZW50XG4gICAgICAgICAgICAgICAgaWYgKGJhdGNoUGFydCAmJiAhdGhpcy5fY29tcGFyZVN0eWxlcyhjdXJyZW50U3R5bGUsIHN0eWxlKSkge1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQuZW5kKGluZGV4XzEsIGF0dHJpYkluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc3Bhd24gbmV3IGJhdGNoIGlmIGl0cyBmaXJzdCBiYXRjaCBvciBwcmV2aW91cyB3YXMgY2xvc2VkXG4gICAgICAgICAgICAgICAgaWYgKCFiYXRjaFBhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0ID0gQkFUQ0hfUE9PTC5wb3AoKSB8fCBuZXcgQmF0Y2hQYXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5iZWdpbihzdHlsZSwgaW5kZXhfMSwgYXR0cmliSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhdGNoZXMucHVzaChiYXRjaFBhcnQpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3R5bGUgPSBzdHlsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRVdnModGhpcy5wb2ludHMsIHV2cywgc3R5bGUudGV4dHVyZSwgYXR0cmliSW5kZXgsIHNpemUsIHN0eWxlLm1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgdmFyIGF0dHJpYiA9IHRoaXMucG9pbnRzLmxlbmd0aCAvIDI7XG4gICAgICAgIGlmIChiYXRjaFBhcnQpIHtcbiAgICAgICAgICAgIGJhdGNoUGFydC5lbmQoaW5kZXgsIGF0dHJpYik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIHRoZXJlIGFyZSBubyB2aXNpYmxlIHN0eWxlcyBpbiBHcmFwaGljc0RhdGFcbiAgICAgICAgICAgIC8vIGl0cyBwb3NzaWJsZSB0aGF0IHNvbWVvbmUgd2FudHMgR3JhcGhpY3MganVzdCBmb3IgdGhlIGJvdW5kc1xuICAgICAgICAgICAgdGhpcy5iYXRjaGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHByZXZlbnQgYWxsb2NhdGlvbiB3aGVuIGxlbmd0aCBpcyBzYW1lIGFzIGJ1ZmZlclxuICAgICAgICBpZiAodGhpcy5pbmRpY2VzVWludDE2ICYmIHRoaXMuaW5kaWNlcy5sZW5ndGggPT09IHRoaXMuaW5kaWNlc1VpbnQxNi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNi5zZXQodGhpcy5pbmRpY2VzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBuZWVkMzIgPSBhdHRyaWIgPiAweGZmZmYgJiYgYWxsb3czMkluZGljZXM7XG4gICAgICAgICAgICB0aGlzLmluZGljZXNVaW50MTYgPSBuZWVkMzIgPyBuZXcgVWludDMyQXJyYXkodGhpcy5pbmRpY2VzKSA6IG5ldyBVaW50MTZBcnJheSh0aGlzLmluZGljZXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE8gbWFrZSB0aGlzIGEgY29uc3QuLlxuICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRoaXMuaXNCYXRjaGFibGUoKTtcbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnBhY2tCYXRjaGVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJ1aWxkRHJhd0NhbGxzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFmZmluaXR5IGNoZWNrXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsbFN0eWxlIHwgUElYSS5MaW5lU3R5bGV9IHN0eWxlQVxuICAgICAqIEBwYXJhbSB7UElYSS5GaWxsU3R5bGUgfCBQSVhJLkxpbmVTdHlsZX0gc3R5bGVCXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuX2NvbXBhcmVTdHlsZXMgPSBmdW5jdGlvbiAoc3R5bGVBLCBzdHlsZUIpIHtcbiAgICAgICAgaWYgKCFzdHlsZUEgfHwgIXN0eWxlQikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHlsZUEudGV4dHVyZS5iYXNlVGV4dHVyZSAhPT0gc3R5bGVCLnRleHR1cmUuYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3R5bGVBLmNvbG9yICsgc3R5bGVBLmFscGhhICE9PSBzdHlsZUIuY29sb3IgKyBzdHlsZUIuYWxwaGEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISFzdHlsZUEubmF0aXZlICE9PSAhIXN0eWxlQi5uYXRpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgZ2VvbWV0cnkgZm9yIGJhdGNoaW5nIHByb2Nlc3MuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUudmFsaWRhdGVCYXRjaGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkgPT09IHRoaXMuY2FjaGVEaXJ0eSB8fCAhdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5ncmFwaGljc0RhdGFbaV07XG4gICAgICAgICAgICB2YXIgZmlsbCA9IGRhdGEuZmlsbFN0eWxlO1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBkYXRhLmxpbmVTdHlsZTtcbiAgICAgICAgICAgIGlmIChmaWxsICYmICFmaWxsLnRleHR1cmUuYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgICAgICAgICAgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgIGlmIChsaW5lICYmICFsaW5lLnRleHR1cmUuYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgICAgICAgICAgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE9mZnNldCB0aGUgaW5kaWNlcyBzbyB0aGF0IGl0IHdvcmtzIHdpdGggdGhlIGJhdGNoZXIuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUucGFja0JhdGNoZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSsrO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzIgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudXZzKTtcbiAgICAgICAgdmFyIGJhdGNoZXMgPSB0aGlzLmJhdGNoZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gYmF0Y2hlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBiYXRjaCA9IGJhdGNoZXNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJhdGNoLnNpemU7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGJhdGNoLnN0YXJ0ICsgajtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGljZXNVaW50MTZbaW5kZXhdID0gdGhpcy5pbmRpY2VzVWludDE2W2luZGV4XSAtIGJhdGNoLmF0dHJpYlN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIGlmIHRoaXMgZ3JhcGhpY3MgZ2VvbWV0cnkgY2FuIGJlIGJhdGNoZWQuXG4gICAgICogQ3VycmVudGx5IGl0IG5lZWRzIHRvIGJlIHNtYWxsIGVub3VnaCBhbmQgbm90IGNvbnRhaW4gYW55IG5hdGl2ZSBsaW5lcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5pc0JhdGNoYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gcHJldmVudCBoZWF2eSBtZXNoIGJhdGNoaW5nXG4gICAgICAgIGlmICh0aGlzLnBvaW50cy5sZW5ndGggPiAweGZmZmYgKiAyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJhdGNoZXMgPSB0aGlzLmJhdGNoZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGJhdGNoZXNbaV0uc3R5bGUubmF0aXZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodGhpcy5wb2ludHMubGVuZ3RoIDwgR3JhcGhpY3NHZW9tZXRyeS5CQVRDSEFCTEVfU0laRSAqIDIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgaW50ZXJtZWRpYXRlIGJhdGNoZXMgZGF0YSB0byBkcmF3Q2FsbHMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYnVpbGREcmF3Q2FsbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBUSUNLID0gKytCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2g7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0NhbGxzW2ldLnRleEFycmF5LmNsZWFyKCk7XG4gICAgICAgICAgICBEUkFXX0NBTExfUE9PTC5wdXNoKHRoaXMuZHJhd0NhbGxzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRyYXdDYWxscy5sZW5ndGggPSAwO1xuICAgICAgICB2YXIgY29sb3JzID0gdGhpcy5jb2xvcnM7XG4gICAgICAgIHZhciB0ZXh0dXJlSWRzID0gdGhpcy50ZXh0dXJlSWRzO1xuICAgICAgICB2YXIgY3VycmVudEdyb3VwID0gRFJBV19DQUxMX1BPT0wucG9wKCk7XG4gICAgICAgIGlmICghY3VycmVudEdyb3VwKSB7XG4gICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBuZXcgQmF0Y2hEcmF3Q2FsbCgpO1xuICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleEFycmF5ID0gbmV3IEJhdGNoVGV4dHVyZUFycmF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEdyb3VwLnRleEFycmF5LmNvdW50ID0gMDtcbiAgICAgICAgY3VycmVudEdyb3VwLnN0YXJ0ID0gMDtcbiAgICAgICAgY3VycmVudEdyb3VwLnNpemUgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAudHlwZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuICAgICAgICB2YXIgdGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdmFyIHRleHR1cmVJZCA9IDA7XG4gICAgICAgIHZhciBuYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRyYXdNb2RlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLnB1c2goY3VycmVudEdyb3VwKTtcbiAgICAgICAgLy8gVE9ETyAtIHRoaXMgY2FuIGJlIHNpbXBsaWZpZWRcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5iYXRjaGVzW2ldO1xuICAgICAgICAgICAgLy8gVE9ETyBhZGQgc29tZSBmdWxsIG9uIE1BWF9URVhUVVJFIENPREUuLlxuICAgICAgICAgICAgdmFyIE1BWF9URVhUVVJFUyA9IDg7XG4gICAgICAgICAgICAvLyBGb3JjZWQgY2FzdCBmb3IgY2hlY2tpbmcgYG5hdGl2ZWAgd2l0aG91dCBlcnJvcnNcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IGRhdGEuc3R5bGU7XG4gICAgICAgICAgICB2YXIgbmV4dFRleHR1cmUgPSBzdHlsZS50ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgaWYgKG5hdGl2ZSAhPT0gISFzdHlsZS5uYXRpdmUpIHtcbiAgICAgICAgICAgICAgICBuYXRpdmUgPSAhIXN0eWxlLm5hdGl2ZTtcbiAgICAgICAgICAgICAgICBkcmF3TW9kZSA9IG5hdGl2ZSA/IERSQVdfTU9ERVMuTElORVMgOiBEUkFXX01PREVTLlRSSUFOR0xFUztcbiAgICAgICAgICAgICAgICAvLyBmb3JjZSB0aGUgYmF0Y2ggdG8gYnJlYWshXG4gICAgICAgICAgICAgICAgY3VycmVudFRleHR1cmUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCA9IE1BWF9URVhUVVJFUztcbiAgICAgICAgICAgICAgICBUSUNLKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3VycmVudFRleHR1cmUgIT09IG5leHRUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFRleHR1cmUgPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dFRleHR1cmUuX2JhdGNoRW5hYmxlZCAhPT0gVElDSykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dHVyZUNvdW50ID09PSBNQVhfVEVYVFVSRVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRJQ0srKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEdyb3VwLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwID0gRFJBV19DQUxMX1BPT0wucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50R3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwID0gbmV3IEJhdGNoRHJhd0NhbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleEFycmF5ID0gbmV3IEJhdGNoVGV4dHVyZUFycmF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NhbGxzLnB1c2goY3VycmVudEdyb3VwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnNpemUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleEFycmF5LmNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50eXBlID0gZHJhd01vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBhZGQgdGhpcyB0byB0aGUgcmVuZGVyIHBhcnQuLlxuICAgICAgICAgICAgICAgICAgICAvLyBIYWNrISBCZWNhdXNlIHRleHR1cmUgaGFzIHByb3RlY3RlZCBgdG91Y2hlZGBcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUudG91Y2hlZCA9IDE7IC8vIHRvdWNoO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fYmF0Y2hFbmFibGVkID0gVElDSztcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2JhdGNoTG9jYXRpb24gPSB0ZXh0dXJlQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLndyYXBNb2RlID0gMTA0OTc7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXhBcnJheS5lbGVtZW50c1tjdXJyZW50R3JvdXAudGV4QXJyYXkuY291bnQrK10gPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudEdyb3VwLnNpemUgKz0gZGF0YS5zaXplO1xuICAgICAgICAgICAgaW5kZXggKz0gZGF0YS5zaXplO1xuICAgICAgICAgICAgdGV4dHVyZUlkID0gbmV4dFRleHR1cmUuX2JhdGNoTG9jYXRpb247XG4gICAgICAgICAgICB0aGlzLmFkZENvbG9ycyhjb2xvcnMsIHN0eWxlLmNvbG9yLCBzdHlsZS5hbHBoYSwgZGF0YS5hdHRyaWJTaXplKTtcbiAgICAgICAgICAgIHRoaXMuYWRkVGV4dHVyZUlkcyh0ZXh0dXJlSWRzLCB0ZXh0dXJlSWQsIGRhdGEuYXR0cmliU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoID0gVElDSztcbiAgICAgICAgLy8gdXBsb2FkLi5cbiAgICAgICAgLy8gbWVyZ2UgZm9yIG5vdyFcbiAgICAgICAgdGhpcy5wYWNrQXR0cmlidXRlcygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFja3MgYXR0cmlidXRlcyB0byBzaW5nbGUgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnBhY2tBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmVydHMgPSB0aGlzLnBvaW50cztcbiAgICAgICAgdmFyIHV2cyA9IHRoaXMudXZzO1xuICAgICAgICB2YXIgY29sb3JzID0gdGhpcy5jb2xvcnM7XG4gICAgICAgIHZhciB0ZXh0dXJlSWRzID0gdGhpcy50ZXh0dXJlSWRzO1xuICAgICAgICAvLyB2ZXJ0cyBhcmUgMiBwb3NpdGlvbnMuLiBzbyB3ZSAqIGJ5IDMgYXMgdGhlcmUgYXJlIDYgcHJvcGVydGllcy4uIHRoZW4gNCBjb3MgaXRzIGJ5dGVzXG4gICAgICAgIHZhciBnbFBvaW50cyA9IG5ldyBBcnJheUJ1ZmZlcih2ZXJ0cy5sZW5ndGggKiAzICogNCk7XG4gICAgICAgIHZhciBmMzIgPSBuZXcgRmxvYXQzMkFycmF5KGdsUG9pbnRzKTtcbiAgICAgICAgdmFyIHUzMiA9IG5ldyBVaW50MzJBcnJheShnbFBvaW50cyk7XG4gICAgICAgIHZhciBwID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0cy5sZW5ndGggLyAyOyBpKyspIHtcbiAgICAgICAgICAgIGYzMltwKytdID0gdmVydHNbaSAqIDJdO1xuICAgICAgICAgICAgZjMyW3ArK10gPSB2ZXJ0c1soaSAqIDIpICsgMV07XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHV2c1tpICogMl07XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHV2c1soaSAqIDIpICsgMV07XG4gICAgICAgICAgICB1MzJbcCsrXSA9IGNvbG9yc1tpXTtcbiAgICAgICAgICAgIGYzMltwKytdID0gdGV4dHVyZUlkc1tpXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9idWZmZXIudXBkYXRlKGdsUG9pbnRzKTtcbiAgICAgICAgdGhpcy5faW5kZXhCdWZmZXIudXBkYXRlKHRoaXMuaW5kaWNlc1VpbnQxNik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGZpbGwgcGFydCBvZiBHcmFwaGljcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGF9IGRhdGFcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUucHJvY2Vzc0ZpbGwgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YS5ob2xlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0hvbGVzKGRhdGEuaG9sZXMpO1xuICAgICAgICAgICAgYnVpbGRQb2x5LnRyaWFuZ3VsYXRlKGRhdGEsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBGSUxMX0NPTU1BTkRTW2RhdGEudHlwZV07XG4gICAgICAgICAgICBjb21tYW5kLnRyaWFuZ3VsYXRlKGRhdGEsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGxpbmUgcGFydCBvZiBHcmFwaGljcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGF9IGRhdGFcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUucHJvY2Vzc0xpbmUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBidWlsZExpbmUoZGF0YSwgdGhpcyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5ob2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYnVpbGRMaW5lKGRhdGEuaG9sZXNbaV0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIHRoZSBob2xlcyBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YVtdfSBob2xlcyAtIEhvbGVzIHRvIHJlbmRlclxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wcm9jZXNzSG9sZXMgPSBmdW5jdGlvbiAoaG9sZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGhvbGUgPSBob2xlc1tpXTtcbiAgICAgICAgICAgIHZhciBjb21tYW5kID0gRklMTF9DT01NQU5EU1tob2xlLnR5cGVdO1xuICAgICAgICAgICAgY29tbWFuZC5idWlsZChob2xlKTtcbiAgICAgICAgICAgIGlmIChob2xlLm1hdHJpeCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtUG9pbnRzKGhvbGUucG9pbnRzLCBob2xlLm1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBvYmplY3QuIEV4cGVuc2l2ZSB0byB1c2UgcGVyZm9ybWFuY2Utd2lzZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG4gICAgICAgIHZhciBzZXF1ZW5jZUJvdW5kcyA9IHRtcEJvdW5kcztcbiAgICAgICAgdmFyIGN1ck1hdHJpeCA9IE1hdHJpeC5JREVOVElUWTtcbiAgICAgICAgdGhpcy5fYm91bmRzLmNsZWFyKCk7XG4gICAgICAgIHNlcXVlbmNlQm91bmRzLmNsZWFyKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5ncmFwaGljc0RhdGFbaV07XG4gICAgICAgICAgICB2YXIgc2hhcGUgPSBkYXRhLnNoYXBlO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBkYXRhLnR5cGU7XG4gICAgICAgICAgICB2YXIgbGluZVN0eWxlID0gZGF0YS5saW5lU3R5bGU7XG4gICAgICAgICAgICB2YXIgbmV4dE1hdHJpeCA9IGRhdGEubWF0cml4IHx8IE1hdHJpeC5JREVOVElUWTtcbiAgICAgICAgICAgIHZhciBsaW5lV2lkdGggPSAwLjA7XG4gICAgICAgICAgICBpZiAobGluZVN0eWxlICYmIGxpbmVTdHlsZS52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFsaWdubWVudCA9IGxpbmVTdHlsZS5hbGlnbm1lbnQ7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRoID0gbGluZVN0eWxlLndpZHRoO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBTSEFQRVMuUE9MWSkge1xuICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSBsaW5lV2lkdGggKiAoMC41ICsgTWF0aC5hYnMoMC41IC0gYWxpZ25tZW50KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSBsaW5lV2lkdGggKiBNYXRoLm1heCgwLCBhbGlnbm1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdXJNYXRyaXggIT09IG5leHRNYXRyaXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNlcXVlbmNlQm91bmRzLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgICAgICBib3VuZHMuYWRkQm91bmRzTWF0cml4KHNlcXVlbmNlQm91bmRzLCBjdXJNYXRyaXgpO1xuICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZUJvdW5kcy5jbGVhcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJNYXRyaXggPSBuZXh0TWF0cml4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGUgPT09IFNIQVBFUy5SRUNUIHx8IHR5cGUgPT09IFNIQVBFUy5SUkVDKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlY3QgPSBzaGFwZTtcbiAgICAgICAgICAgICAgICBzZXF1ZW5jZUJvdW5kcy5hZGRGcmFtZVBhZChyZWN0LngsIHJlY3QueSwgcmVjdC54ICsgcmVjdC53aWR0aCwgcmVjdC55ICsgcmVjdC5oZWlnaHQsIGxpbmVXaWR0aCwgbGluZVdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFNIQVBFUy5DSVJDKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNpcmNsZSA9IHNoYXBlO1xuICAgICAgICAgICAgICAgIHNlcXVlbmNlQm91bmRzLmFkZEZyYW1lUGFkKGNpcmNsZS54LCBjaXJjbGUueSwgY2lyY2xlLngsIGNpcmNsZS55LCBjaXJjbGUucmFkaXVzICsgbGluZVdpZHRoLCBjaXJjbGUucmFkaXVzICsgbGluZVdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFNIQVBFUy5FTElQKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsbGlwc2UgPSBzaGFwZTtcbiAgICAgICAgICAgICAgICBzZXF1ZW5jZUJvdW5kcy5hZGRGcmFtZVBhZChlbGxpcHNlLngsIGVsbGlwc2UueSwgZWxsaXBzZS54LCBlbGxpcHNlLnksIGVsbGlwc2Uud2lkdGggKyBsaW5lV2lkdGgsIGVsbGlwc2UuaGVpZ2h0ICsgbGluZVdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBwb2x5ID0gc2hhcGU7XG4gICAgICAgICAgICAgICAgLy8gYWRkaW5nIGRpcmVjdGx5IHRvIHRoZSBib3VuZHNcbiAgICAgICAgICAgICAgICBib3VuZHMuYWRkVmVydGljZXNNYXRyaXgoY3VyTWF0cml4LCBwb2x5LnBvaW50cywgMCwgcG9seS5wb2ludHMubGVuZ3RoLCBsaW5lV2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzZXF1ZW5jZUJvdW5kcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIGJvdW5kcy5hZGRCb3VuZHNNYXRyaXgoc2VxdWVuY2VCb3VuZHMsIGN1ck1hdHJpeCk7XG4gICAgICAgIH1cbiAgICAgICAgYm91bmRzLnBhZCh0aGlzLmJvdW5kc1BhZGRpbmcsIHRoaXMuYm91bmRzUGFkZGluZyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm0gcG9pbnRzIHVzaW5nIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBwb2ludHMgLSBQb2ludHMgdG8gdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnRyYW5zZm9ybVBvaW50cyA9IGZ1bmN0aW9uIChwb2ludHMsIG1hdHJpeCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGggLyAyOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB4ID0gcG9pbnRzWyhpICogMildO1xuICAgICAgICAgICAgdmFyIHkgPSBwb2ludHNbKGkgKiAyKSArIDFdO1xuICAgICAgICAgICAgcG9pbnRzWyhpICogMildID0gKG1hdHJpeC5hICogeCkgKyAobWF0cml4LmMgKiB5KSArIG1hdHJpeC50eDtcbiAgICAgICAgICAgIHBvaW50c1soaSAqIDIpICsgMV0gPSAobWF0cml4LmIgKiB4KSArIChtYXRyaXguZCAqIHkpICsgbWF0cml4LnR5O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgY29sb3JzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9ycyAtIExpc3Qgb2YgY29sb3JzIHRvIGFkZCB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xvciAtIENvbG9yIHRvIGFkZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSAtIEFscGhhIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gTnVtYmVyIG9mIGNvbG9ycyB0byBhZGRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5hZGRDb2xvcnMgPSBmdW5jdGlvbiAoY29sb3JzLCBjb2xvciwgYWxwaGEsIHNpemUpIHtcbiAgICAgICAgLy8gVE9ETyB1c2UgdGhlIHByZW11bHRpcGx5IGJpdHMgSXZhbiBhZGRlZFxuICAgICAgICB2YXIgcmdiID0gKGNvbG9yID4+IDE2KSArIChjb2xvciAmIDB4ZmYwMCkgKyAoKGNvbG9yICYgMHhmZikgPDwgMTYpO1xuICAgICAgICB2YXIgcmdiYSA9IHByZW11bHRpcGx5VGludChyZ2IsIGFscGhhKTtcbiAgICAgICAgd2hpbGUgKHNpemUtLSA+IDApIHtcbiAgICAgICAgICAgIGNvbG9ycy5wdXNoKHJnYmEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgdGV4dHVyZSBpZCB0aGF0IHRoZSBzaGFkZXIvZnJhZ21lbnQgd2FudHMgdG8gdXNlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHRleHR1cmVJZHNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZVxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmFkZFRleHR1cmVJZHMgPSBmdW5jdGlvbiAodGV4dHVyZUlkcywgaWQsIHNpemUpIHtcbiAgICAgICAgd2hpbGUgKHNpemUtLSA+IDApIHtcbiAgICAgICAgICAgIHRleHR1cmVJZHMucHVzaChpZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB0aGUgVVZzIGZvciBhIHNoYXBlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHZlcnRzIC0gVmVydGljZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSB1dnMgLSBVVnNcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFJlZmVyZW5jZSB0byBUZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IC0gSW5kZXggYnVmZmVyIHN0YXJ0IGluZGV4LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gVGhlIHNpemUvbGVuZ3RoIGZvciBpbmRleCBidWZmZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gW21hdHJpeF0gLSBPcHRpb25hbCB0cmFuc2Zvcm0gZm9yIGFsbCBwb2ludHMuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYWRkVXZzID0gZnVuY3Rpb24gKHZlcnRzLCB1dnMsIHRleHR1cmUsIHN0YXJ0LCBzaXplLCBtYXRyaXgpIHtcbiAgICAgICAgaWYgKG1hdHJpeCA9PT0gdm9pZCAwKSB7IG1hdHJpeCA9IG51bGw7IH1cbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIHV2c1N0YXJ0ID0gdXZzLmxlbmd0aDtcbiAgICAgICAgdmFyIGZyYW1lID0gdGV4dHVyZS5mcmFtZTtcbiAgICAgICAgd2hpbGUgKGluZGV4IDwgc2l6ZSkge1xuICAgICAgICAgICAgdmFyIHggPSB2ZXJ0c1soc3RhcnQgKyBpbmRleCkgKiAyXTtcbiAgICAgICAgICAgIHZhciB5ID0gdmVydHNbKChzdGFydCArIGluZGV4KSAqIDIpICsgMV07XG4gICAgICAgICAgICBpZiAobWF0cml4KSB7XG4gICAgICAgICAgICAgICAgdmFyIG54ID0gKG1hdHJpeC5hICogeCkgKyAobWF0cml4LmMgKiB5KSArIG1hdHJpeC50eDtcbiAgICAgICAgICAgICAgICB5ID0gKG1hdHJpeC5iICogeCkgKyAobWF0cml4LmQgKiB5KSArIG1hdHJpeC50eTtcbiAgICAgICAgICAgICAgICB4ID0gbng7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgdXZzLnB1c2goeCAvIGZyYW1lLndpZHRoLCB5IC8gZnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICBpZiAoZnJhbWUud2lkdGggPCBiYXNlVGV4dHVyZS53aWR0aFxuICAgICAgICAgICAgfHwgZnJhbWUuaGVpZ2h0IDwgYmFzZVRleHR1cmUuaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmFkanVzdFV2cyh1dnMsIHRleHR1cmUsIHV2c1N0YXJ0LCBzaXplKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTW9kaWZ5IHV2cyBhcnJheSBhY2NvcmRpbmcgdG8gcG9zaXRpb24gb2YgdGV4dHVyZSByZWdpb25cbiAgICAgKiBEb2VzIG5vdCB3b3JrIHdpdGggcm90YXRlZCBvciB0cmltbWVkIHRleHR1cmVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSB1dnMgLSBhcnJheVxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gcmVnaW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IC0gc3RhcnRpbmcgaW5kZXggZm9yIHV2c1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gaG93IG1hbnkgcG9pbnRzIHRvIGFkanVzdFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmFkanVzdFV2cyA9IGZ1bmN0aW9uICh1dnMsIHRleHR1cmUsIHN0YXJ0LCBzaXplKSB7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBlcHMgPSAxZS02O1xuICAgICAgICB2YXIgZmluaXNoID0gc3RhcnQgKyAoc2l6ZSAqIDIpO1xuICAgICAgICB2YXIgZnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuICAgICAgICB2YXIgc2NhbGVYID0gZnJhbWUud2lkdGggLyBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgdmFyIHNjYWxlWSA9IGZyYW1lLmhlaWdodCAvIGJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgdmFyIG9mZnNldFggPSBmcmFtZS54IC8gZnJhbWUud2lkdGg7XG4gICAgICAgIHZhciBvZmZzZXRZID0gZnJhbWUueSAvIGZyYW1lLmhlaWdodDtcbiAgICAgICAgdmFyIG1pblggPSBNYXRoLmZsb29yKHV2c1tzdGFydF0gKyBlcHMpO1xuICAgICAgICB2YXIgbWluWSA9IE1hdGguZmxvb3IodXZzW3N0YXJ0ICsgMV0gKyBlcHMpO1xuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnQgKyAyOyBpIDwgZmluaXNoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCBNYXRoLmZsb29yKHV2c1tpXSArIGVwcykpO1xuICAgICAgICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIE1hdGguZmxvb3IodXZzW2kgKyAxXSArIGVwcykpO1xuICAgICAgICB9XG4gICAgICAgIG9mZnNldFggLT0gbWluWDtcbiAgICAgICAgb2Zmc2V0WSAtPSBtaW5ZO1xuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBmaW5pc2g7IGkgKz0gMikge1xuICAgICAgICAgICAgdXZzW2ldID0gKHV2c1tpXSArIG9mZnNldFgpICogc2NhbGVYO1xuICAgICAgICAgICAgdXZzW2kgKyAxXSA9ICh1dnNbaSArIDFdICsgb2Zmc2V0WSkgKiBzY2FsZVk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBwb2ludHMgdG8gY29uc2lkZXIgYW4gb2JqZWN0IFwiYmF0Y2hhYmxlXCIsXG4gICAgICogYWJsZSB0byBiZSBiYXRjaGVkIGJ5IHRoZSByZW5kZXJlcidzIGJhdGNoIHN5c3RlbS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyYXBoaWNzR2VvbWV0cnlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7bnVtYmVyfSBCQVRDSEFCTEVfU0laRVxuICAgICAqIEBkZWZhdWx0IDEwMFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkuQkFUQ0hBQkxFX1NJWkUgPSAxMDA7XG4gICAgcmV0dXJuIEdyYXBoaWNzR2VvbWV0cnk7XG59KEJhdGNoR2VvbWV0cnkpKTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBsaW5lIHN0eWxlIGZvciBHcmFwaGljcy5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsbFN0eWxlXG4gKi9cbnZhciBMaW5lU3R5bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExpbmVTdHlsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBMaW5lU3R5bGUoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoICh0aGlja25lc3MpIG9mIGFueSBsaW5lcyBkcmF3bi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53aWR0aCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWxpZ25tZW50IG9mIGFueSBsaW5lcyBkcmF3biAoMC41ID0gbWlkZGxlLCAxID0gb3V0ZXIsIDAgPSBpbm5lcikuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMC41XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbGlnbm1lbnQgPSAwLjU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubmF0aXZlID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaW5lIGNhcCBzdHlsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5MSU5FX0NBUH1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5MSU5FX0NBUC5CVVRUXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYXAgPSBMSU5FX0NBUC5CVVRUO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGluZSBqb2luIHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkxJTkVfSk9JTn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5MSU5FX0pPSU4uTUlURVJcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmpvaW4gPSBMSU5FX0pPSU4uTUlURVI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaXRlciBsaW1pdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWl0ZXJMaW1pdCA9IDEwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkxpbmVTdHlsZX1cbiAgICAgKi9cbiAgICBMaW5lU3R5bGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2JqID0gbmV3IExpbmVTdHlsZSgpO1xuICAgICAgICBvYmouY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICBvYmouYWxwaGEgPSB0aGlzLmFscGhhO1xuICAgICAgICBvYmoudGV4dHVyZSA9IHRoaXMudGV4dHVyZTtcbiAgICAgICAgb2JqLm1hdHJpeCA9IHRoaXMubWF0cml4O1xuICAgICAgICBvYmoudmlzaWJsZSA9IHRoaXMudmlzaWJsZTtcbiAgICAgICAgb2JqLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgb2JqLmFsaWdubWVudCA9IHRoaXMuYWxpZ25tZW50O1xuICAgICAgICBvYmoubmF0aXZlID0gdGhpcy5uYXRpdmU7XG4gICAgICAgIG9iai5jYXAgPSB0aGlzLmNhcDtcbiAgICAgICAgb2JqLmpvaW4gPSB0aGlzLmpvaW47XG4gICAgICAgIG9iai5taXRlckxpbWl0ID0gdGhpcy5taXRlckxpbWl0O1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIGxpbmUgc3R5bGUgdG8gZGVmYXVsdC5cbiAgICAgKi9cbiAgICBMaW5lU3R5bGUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnJlc2V0LmNhbGwodGhpcyk7XG4gICAgICAgIC8vIE92ZXJyaWRlIGRlZmF1bHQgbGluZSBzdHlsZSBjb2xvclxuICAgICAgICB0aGlzLmNvbG9yID0gMHgwO1xuICAgICAgICB0aGlzLmFsaWdubWVudCA9IDAuNTtcbiAgICAgICAgdGhpcy53aWR0aCA9IDA7XG4gICAgICAgIHRoaXMubmF0aXZlID0gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gTGluZVN0eWxlO1xufShGaWxsU3R5bGUpKTtcblxudmFyIHRlbXAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuLy8gYSBkZWZhdWx0IHNoYWRlcnMgbWFwIHVzZWQgYnkgZ3JhcGhpY3MuLlxudmFyIERFRkFVTFRfU0hBREVSUyA9IHt9O1xuLyoqXG4gKiBUaGUgR3JhcGhpY3MgY2xhc3MgY29udGFpbnMgbWV0aG9kcyB1c2VkIHRvIGRyYXcgcHJpbWl0aXZlIHNoYXBlcyBzdWNoIGFzIGxpbmVzLCBjaXJjbGVzIGFuZFxuICogcmVjdGFuZ2xlcyB0byB0aGUgZGlzcGxheSwgYW5kIHRvIGNvbG9yIGFuZCBmaWxsIHRoZW0uXG4gKlxuICogTm90ZSB0aGF0IGJlY2F1c2UgR3JhcGhpY3MgY2FuIHNoYXJlIGEgR3JhcGhpY3NHZW9tZXRyeSB3aXRoIG90aGVyIGluc3RhbmNlcyxcbiAqIGl0IGlzIG5lY2Vzc2FyeSB0byBjYWxsIGBkZXN0cm95KClgIHRvIHByb3Blcmx5IGRlcmVmZXJlbmNlIHRoZSB1bmRlcmx5aW5nXG4gKiBHcmFwaGljc0dlb21ldHJ5IGFuZCBhdm9pZCBhIG1lbW9yeSBsZWFrLiBBbHRlcm5hdGl2ZWx5LCBrZWVwIHVzaW5nIHRoZSBzYW1lXG4gKiBHcmFwaGljcyBpbnN0YW5jZSBhbmQgY2FsbCBgY2xlYXIoKWAgYmV0d2VlbiByZWRyYXdzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoR3JhcGhpY3MsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IFtnZW9tZXRyeT1udWxsXSAtIEdlb21ldHJ5IHRvIHVzZSwgaWYgb21pdHRlZFxuICAgICAqICAgICAgICB3aWxsIGNyZWF0ZSBhIG5ldyBHcmFwaGljc0dlb21ldHJ5IGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdyYXBoaWNzKGdlb21ldHJ5KSB7XG4gICAgICAgIGlmIChnZW9tZXRyeSA9PT0gdm9pZCAwKSB7IGdlb21ldHJ5ID0gbnVsbDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fZ2VvbWV0cnkgPSBnZW9tZXRyeSB8fCBuZXcgR3JhcGhpY3NHZW9tZXRyeSgpO1xuICAgICAgICBfdGhpcy5fZ2VvbWV0cnkucmVmQ291bnQrKztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVycyB0aGF0IHByb2Nlc3NlcyB0aGUgZ2VvbWV0cnkgYW5kIHJ1bnMgb24gdGhlIEdQVS5cbiAgICAgICAgICogQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIEdyYXBoaWNzIG9iamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIFdlYkdMIHN0YXRlIHRoZSBHcmFwaGljcyByZXF1aXJlZCB0byByZW5kZXIsIGV4Y2x1ZGVzIHNoYWRlciBhbmQgZ2VvbWV0cnkuIEUuZy4sXG4gICAgICAgICAqIGJsZW5kIG1vZGUsIGN1bGxpbmcsIGRlcHRoIHRlc3RpbmcsIGRpcmVjdGlvbiBvZiByZW5kZXJpbmcgdHJpYW5nbGVzLCBiYWNrZmFjZSwgZXRjLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBmaWxsIHN0eWxlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsbFN0eWxlfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZmlsbFN0eWxlID0gbmV3IEZpbGxTdHlsZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBsaW5lIHN0eWxlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTGluZVN0eWxlfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbGluZVN0eWxlID0gbmV3IExpbmVTdHlsZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBzaGFwZSB0cmFuc2Zvcm0gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21hdHJpeCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGhvbGUgbW9kZSBpcyBlbmFibGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgcGF0aFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvbHlnb259XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gY2FjaGVBc0JpdG1hcCBpcyBzZXQgdG8gdHJ1ZSB0aGUgZ3JhcGhpY3Mgb2JqZWN0IHdpbGwgYmUgcmVuZGVyZWQgYXMgaWYgaXQgd2FzIGEgc3ByaXRlLlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWZ1bCBpZiB5b3VyIGdyYXBoaWNzIGVsZW1lbnQgZG9lcyBub3QgY2hhbmdlIG9mdGVuLCBhcyBpdCB3aWxsIHNwZWVkIHVwIHRoZSByZW5kZXJpbmdcbiAgICAgICAgICogb2YgdGhlIG9iamVjdCBpbiBleGNoYW5nZSBmb3IgdGFraW5nIHVwIHRleHR1cmUgbWVtb3J5LiBJdCBpcyBhbHNvIHVzZWZ1bCBpZiB5b3UgbmVlZCB0aGUgZ3JhcGhpY3NcbiAgICAgICAgICogb2JqZWN0IHRvIGJlIGFudGktYWxpYXNlZCwgYmVjYXVzZSBpdCB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGNhbnZhcy4gVGhpcyBpcyBub3QgcmVjb21tZW5kZWQgaWZcbiAgICAgICAgICogeW91IGFyZSBjb25zdGFudGx5IHJlZHJhd2luZyB0aGUgZ3JhcGhpY3MgZWxlbWVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG5hbWUgY2FjaGVBc0JpdG1hcFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5HcmFwaGljcyNcbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNvbGxlY3Rpb25zIG9mIGJhdGNoZXMhIFRoZXNlIGNhbiBiZSBkcmF3biBieSB0aGUgcmVuZGVyZXIgYmF0Y2ggc3lzdGVtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmF0Y2hlcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIGRpcnR5IGZvciBsaW1pdGluZyBjYWxjdWxhdGluZyB0aW50cyBmb3IgYmF0Y2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXRjaFRpbnQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBkaXJ0eSBmb3IgbGltaXRpbmcgY2FsY3VsYXRpbmcgYmF0Y2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXRjaERpcnR5ID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3B5IG9mIHRoZSBvYmplY3QgdmVydGV4IGRhdGEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGV4RGF0YSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXJlciBwbHVnaW4gZm9yIGJhdGNoaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2JhdGNoJ1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9ICdiYXRjaCc7XG4gICAgICAgIF90aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICAvLyBTZXQgZGVmYXVsdFxuICAgICAgICBfdGhpcy50aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIF90aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR3JhcGhpY3MucHJvdG90eXBlLCBcImdlb21ldHJ5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluY2x1ZGVzIHZlcnRleCBwb3NpdGlvbnMsIGZhY2UgaW5kaWNlcywgbm9ybWFscywgY29sb3JzLCBVVnMsIGFuZFxuICAgICAgICAgKiBjdXN0b20gYXR0cmlidXRlcyB3aXRoaW4gYnVmZmVycywgcmVkdWNpbmcgdGhlIGNvc3Qgb2YgcGFzc2luZyBhbGxcbiAgICAgICAgICogdGhpcyBkYXRhIHRvIHRoZSBHUFUuIENhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBNZXNoIG9yIEdyYXBoaWNzIG9iamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZW9tZXRyeTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgR3JhcGhpY3Mgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqIE5vdGUgdGhhdCBvbmx5IHRoZSBnZW9tZXRyeSBvZiB0aGUgb2JqZWN0IGlzIGNsb25lZCwgbm90IGl0cyB0cmFuc2Zvcm0gKHBvc2l0aW9uLHNjYWxlLGV0YylcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IEEgY2xvbmUgb2YgdGhlIGdyYXBoaWNzIG9iamVjdFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIHJldHVybiBuZXcgR3JhcGhpY3ModGhpcy5fZ2VvbWV0cnkpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyYXBoaWNzLnByb3RvdHlwZSwgXCJibGVuZE1vZGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmJsZW5kTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGdyYXBoaWMgc2hhcGUuIEFwcGx5IGEgdmFsdWUgb2ZcbiAgICAgICAgICogYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljcy5wcm90b3R5cGUsIFwidGludFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBncmFwaGljIHNoYXBlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mXG4gICAgICAgICAqIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljcy5wcm90b3R5cGUsIFwiZmlsbFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBmaWxsIHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbGxTdHlsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWxsU3R5bGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR3JhcGhpY3MucHJvdG90eXBlLCBcImxpbmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgbGluZSBzdHlsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5MaW5lU3R5bGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGluZVN0eWxlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSBsaW5lIHN0eWxlIHVzZWQgZm9yIHN1YnNlcXVlbnQgY2FsbHMgdG8gR3JhcGhpY3MgbWV0aG9kcyBzdWNoIGFzIHRoZSBsaW5lVG8oKVxuICAgICAqIG1ldGhvZCBvciB0aGUgZHJhd0NpcmNsZSgpIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgUElYSS5HcmFwaGljcyNsaW5lU3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb2xvcj0weDBdIC0gY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIGFscGhhIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxpZ25tZW50PTAuNV0gLSBhbGlnbm1lbnQgb2YgdGhlIGxpbmUgdG8gZHJhdywgKDAgPSBpbm5lciwgMC41ID0gbWlkZGxlLCAxID0gb3V0dGVyKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW25hdGl2ZT1mYWxzZV0gLSBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIGxpbmUgc3R5bGUgdXNlZCBmb3Igc3Vic2VxdWVudCBjYWxscyB0byBHcmFwaGljcyBtZXRob2RzIHN1Y2ggYXMgdGhlIGxpbmVUbygpXG4gICAgICogbWV0aG9kIG9yIHRoZSBkcmF3Q2lyY2xlKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIExpbmUgc3R5bGUgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0wXSAtIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xvcj0weDBdIC0gY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFscGhhPTFdIC0gYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFsaWdubWVudD0wLjVdIC0gYWxpZ25tZW50IG9mIHRoZSBsaW5lIHRvIGRyYXcsICgwID0gaW5uZXIsIDAuNSA9IG1pZGRsZSwgMSA9IG91dHRlcilcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm5hdGl2ZT1mYWxzZV0gLSBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAqIEBwYXJhbSB7UElYSS5MSU5FX0NBUH1bb3B0aW9ucy5jYXA9UElYSS5MSU5FX0NBUC5CVVRUXSAtIGxpbmUgY2FwIHN0eWxlXG4gICAgICogQHBhcmFtIHtQSVhJLkxJTkVfSk9JTn1bb3B0aW9ucy5qb2luPVBJWEkuTElORV9KT0lOLk1JVEVSXSAtIGxpbmUgam9pbiBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfVtvcHRpb25zLm1pdGVyTGltaXQ9MTBdIC0gbWl0ZXIgbGltaXQgcmF0aW9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmxpbmVTdHlsZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IG51bGw7IH1cbiAgICAgICAgLy8gU3VwcG9ydCBub24tb2JqZWN0IHBhcmFtczogKHdpZHRoLCBjb2xvciwgYWxwaGEsIGFsaWdubWVudCwgbmF0aXZlKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogYXJnc1swXSB8fCAwLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBhcmdzWzFdIHx8IDB4MCxcbiAgICAgICAgICAgICAgICBhbHBoYTogYXJnc1syXSAhPT0gdW5kZWZpbmVkID8gYXJnc1syXSA6IDEsXG4gICAgICAgICAgICAgICAgYWxpZ25tZW50OiBhcmdzWzNdICE9PSB1bmRlZmluZWQgPyBhcmdzWzNdIDogMC41LFxuICAgICAgICAgICAgICAgIG5hdGl2ZTogISFhcmdzWzRdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5saW5lVGV4dHVyZVN0eWxlKG9wdGlvbnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTGlrZSBsaW5lIHN0eWxlIGJ1dCBzdXBwb3J0IHRleHR1cmUgZm9yIGxpbmUgZmlsbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBDb2xsZWN0aW9uIG9mIG9wdGlvbnMgZm9yIHNldHRpbmcgbGluZSBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MF0gLSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW29wdGlvbnMudGV4dHVyZT1QSVhJLlRleHR1cmUuV0hJVEVdIC0gVGV4dHVyZSB0byB1c2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sb3I9MHgwXSAtIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZS5cbiAgICAgKiAgRGVmYXVsdCAweEZGRkZGRiBpZiB0ZXh0dXJlIHByZXNlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFscGhhPTFdIC0gYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gW29wdGlvbnMubWF0cml4PW51bGxdIC0gVGV4dHVyZSBtYXRyaXggdG8gdHJhbnNmb3JtIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYWxpZ25tZW50PTAuNV0gLSBhbGlnbm1lbnQgb2YgdGhlIGxpbmUgdG8gZHJhdywgKDAgPSBpbm5lciwgMC41ID0gbWlkZGxlLCAxID0gb3V0dGVyKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubmF0aXZlPWZhbHNlXSAtIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICogQHBhcmFtIHtQSVhJLkxJTkVfQ0FQfVtvcHRpb25zLmNhcD1QSVhJLkxJTkVfQ0FQLkJVVFRdIC0gbGluZSBjYXAgc3R5bGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTElORV9KT0lOfVtvcHRpb25zLmpvaW49UElYSS5MSU5FX0pPSU4uTUlURVJdIC0gbGluZSBqb2luIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9W29wdGlvbnMubWl0ZXJMaW1pdD0xMF0gLSBtaXRlciBsaW1pdCByYXRpb1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVRleHR1cmVTdHlsZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBwYXJhbXM6ICh3aWR0aCwgdGV4dHVyZSxcbiAgICAgICAgLy8gY29sb3IsIGFscGhhLCBtYXRyaXgsIGFsaWdubWVudCwgbmF0aXZlKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbigndjUuMi4wJywgJ1BsZWFzZSB1c2Ugb2JqZWN0LWJhc2VkIG9wdGlvbnMgZm9yIEdyYXBoaWNzI2xpbmVUZXh0dXJlU3R5bGUnKTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgdmFyIF9hID0gYXJndW1lbnRzLCB3aWR0aCA9IF9hWzBdLCB0ZXh0dXJlID0gX2FbMV0sIGNvbG9yID0gX2FbMl0sIGFscGhhID0gX2FbM10sIG1hdHJpeCA9IF9hWzRdLCBhbGlnbm1lbnQgPSBfYVs1XSwgbmF0aXZlID0gX2FbNl07XG4gICAgICAgICAgICBvcHRpb25zID0geyB3aWR0aDogd2lkdGgsIHRleHR1cmU6IHRleHR1cmUsIGNvbG9yOiBjb2xvciwgYWxwaGE6IGFscGhhLCBtYXRyaXg6IG1hdHJpeCwgYWxpZ25tZW50OiBhbGlnbm1lbnQsIG5hdGl2ZTogbmF0aXZlIH07XG4gICAgICAgICAgICAvLyBSZW1vdmUgdW5kZWZpbmVkIGtleXNcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gb3B0aW9uc1trZXldID09PSB1bmRlZmluZWQgJiYgZGVsZXRlIG9wdGlvbnNba2V5XTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXBwbHkgZGVmYXVsdHNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICB0ZXh0dXJlOiBUZXh0dXJlLldISVRFLFxuICAgICAgICAgICAgY29sb3I6IChvcHRpb25zICYmIG9wdGlvbnMudGV4dHVyZSkgPyAweEZGRkZGRiA6IDB4MCxcbiAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgbWF0cml4OiBudWxsLFxuICAgICAgICAgICAgYWxpZ25tZW50OiAwLjUsXG4gICAgICAgICAgICBuYXRpdmU6IGZhbHNlLFxuICAgICAgICAgICAgY2FwOiBMSU5FX0NBUC5CVVRULFxuICAgICAgICAgICAgam9pbjogTElORV9KT0lOLk1JVEVSLFxuICAgICAgICAgICAgbWl0ZXJMaW1pdDogMTAsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmlzaWJsZSA9IG9wdGlvbnMud2lkdGggPiAwICYmIG9wdGlvbnMuYWxwaGEgPiAwO1xuICAgICAgICBpZiAoIXZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2xpbmVTdHlsZS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubWF0cml4KSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5tYXRyaXggPSBvcHRpb25zLm1hdHJpeC5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWF0cml4LmludmVydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9saW5lU3R5bGUsIHsgdmlzaWJsZTogdmlzaWJsZSB9LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0YXJ0IGEgcG9seWdvbiBvYmplY3QgaW50ZXJuYWxseVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuc3RhcnRQb2x5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuICAgICAgICAgICAgdmFyIGxlbiA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChsZW4gPiAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2hhcGUodGhpcy5jdXJyZW50UGF0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG5ldyBQb2x5Z29uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5jbG9zZVN0cm9rZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzLnB1c2gocG9pbnRzW2xlbiAtIDJdLCBwb2ludHNbbGVuIC0gMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG5ldyBQb2x5Z29uKCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmNsb3NlU3Ryb2tlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbmlzaCB0aGUgcG9seWdvbiBvYmplY3QuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5maW5pc2hQb2x5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgucG9pbnRzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaGFwZSh0aGlzLmN1cnJlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gdG8geCwgeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gdGhlIFggY29vcmRpbmF0ZSB0byBtb3ZlIHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0aGUgWSBjb29yZGluYXRlIHRvIG1vdmUgdG9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLm1vdmVUbyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHRoaXMuc3RhcnRQb2x5KCk7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzWzBdID0geDtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHNbMV0gPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIGEgbGluZSB1c2luZyB0aGUgY3VycmVudCBsaW5lIHN0eWxlIGZyb20gdGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiB0byAoeCwgeSk7XG4gICAgICogVGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiBpcyB0aGVuIHNldCB0byAoeCwgeSkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIHRoZSBYIGNvb3JkaW5hdGUgdG8gZHJhdyB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gdGhlIFkgY29vcmRpbmF0ZSB0byBkcmF3IHRvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5saW5lVG8gPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAoIXRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlbW92ZSBkdXBsaWNhdGVzLi5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuICAgICAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoZnJvbVggIT09IHggfHwgZnJvbVkgIT09IHkpIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHgsIHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgY3VydmVcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF1cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX2luaXRDdXJ2ZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgucG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzID0gW3gsIHldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oeCwgeSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICogQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NTA5Ny9ob3ctZG8taS1pbXBsZW1lbnQtYS1iZXppZXItY3VydmUtaW4tY1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5xdWFkcmF0aWNDdXJ2ZVRvID0gZnVuY3Rpb24gKGNwWCwgY3BZLCB0b1gsIHRvWSkge1xuICAgICAgICB0aGlzLl9pbml0Q3VydmUoKTtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgUXVhZHJhdGljVXRpbHMuY3VydmVUbyhjcFgsIGNwWSwgdG9YLCB0b1ksIHBvaW50cyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZXppZXJDdXJ2ZVRvID0gZnVuY3Rpb24gKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSkge1xuICAgICAgICB0aGlzLl9pbml0Q3VydmUoKTtcbiAgICAgICAgQmV6aWVyVXRpbHMuY3VydmVUbyhjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1ksIHRoaXMuY3VycmVudFBhdGgucG9pbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgYXJjVG8oKSBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgYmV0d2VlbiB0d28gdGFuZ2VudHMgb24gdGhlIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIFwiYm9ycm93ZWRcIiBmcm9tIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvZnhjYW52YXMvIC0gdGhhbmtzIGdvb2dsZSFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGZpcnN0IHRhbmdlbnQgcG9pbnQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGZpcnN0IHRhbmdlbnQgcG9pbnQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MiAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkyIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgYXJjXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5hcmNUbyA9IGZ1bmN0aW9uICh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzKSB7XG4gICAgICAgIHRoaXMuX2luaXRDdXJ2ZSh4MSwgeTEpO1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgIHZhciByZXN1bHQgPSBBcmNVdGlscy5jdXJ2ZVRvKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMsIHBvaW50cyk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHZhciBjeCA9IHJlc3VsdC5jeCwgY3kgPSByZXN1bHQuY3ksIHJhZGl1c18xID0gcmVzdWx0LnJhZGl1cywgc3RhcnRBbmdsZSA9IHJlc3VsdC5zdGFydEFuZ2xlLCBlbmRBbmdsZSA9IHJlc3VsdC5lbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSA9IHJlc3VsdC5hbnRpY2xvY2t3aXNlO1xuICAgICAgICAgICAgdGhpcy5hcmMoY3gsIGN5LCByYWRpdXNfMSwgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIGFyYyBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgKHVzZWQgdG8gY3JlYXRlIGNpcmNsZXMsIG9yIHBhcnRzIG9mIGNpcmNsZXMpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN4IC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3kgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRBbmdsZSAtIFRoZSBzdGFydGluZyBhbmdsZSwgaW4gcmFkaWFucyAoMCBpcyBhdCB0aGUgMyBvJ2Nsb2NrIHBvc2l0aW9uXG4gICAgICogIG9mIHRoZSBhcmMncyBjaXJjbGUpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEFuZ2xlIC0gVGhlIGVuZGluZyBhbmdsZSwgaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FudGljbG9ja3dpc2U9ZmFsc2VdIC0gU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGRyYXdpbmcgc2hvdWxkIGJlXG4gICAgICogIGNvdW50ZXItY2xvY2t3aXNlIG9yIGNsb2Nrd2lzZS4gRmFsc2UgaXMgZGVmYXVsdCwgYW5kIGluZGljYXRlcyBjbG9ja3dpc2UsIHdoaWxlIHRydWVcbiAgICAgKiAgaW5kaWNhdGVzIGNvdW50ZXItY2xvY2t3aXNlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYXJjID0gZnVuY3Rpb24gKGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSkge1xuICAgICAgICBpZiAoYW50aWNsb2Nrd2lzZSA9PT0gdm9pZCAwKSB7IGFudGljbG9ja3dpc2UgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoc3RhcnRBbmdsZSA9PT0gZW5kQW5nbGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYW50aWNsb2Nrd2lzZSAmJiBlbmRBbmdsZSA8PSBzdGFydEFuZ2xlKSB7XG4gICAgICAgICAgICBlbmRBbmdsZSArPSBQSV8yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFudGljbG9ja3dpc2UgJiYgc3RhcnRBbmdsZSA8PSBlbmRBbmdsZSkge1xuICAgICAgICAgICAgc3RhcnRBbmdsZSArPSBQSV8yO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzd2VlcCA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZTtcbiAgICAgICAgaWYgKHN3ZWVwID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhcnRYID0gY3ggKyAoTWF0aC5jb3Moc3RhcnRBbmdsZSkgKiByYWRpdXMpO1xuICAgICAgICB2YXIgc3RhcnRZID0gY3kgKyAoTWF0aC5zaW4oc3RhcnRBbmdsZSkgKiByYWRpdXMpO1xuICAgICAgICB2YXIgZXBzID0gdGhpcy5fZ2VvbWV0cnkuY2xvc2VQb2ludEVwcztcbiAgICAgICAgLy8gSWYgdGhlIGN1cnJlbnRQYXRoIGV4aXN0cywgdGFrZSBpdHMgcG9pbnRzLiBPdGhlcndpc2UgY2FsbCBgbW92ZVRvYCB0byBzdGFydCBhIHBhdGguXG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoID8gdGhpcy5jdXJyZW50UGF0aC5wb2ludHMgOiBudWxsO1xuICAgICAgICBpZiAocG9pbnRzKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBtYWtlIGEgYmV0dGVyIGZpeC5cbiAgICAgICAgICAgIC8vIFdlIGNoZWNrIGhvdyBmYXIgb3VyIHN0YXJ0IGlzIGZyb20gdGhlIGxhc3QgZXhpc3RpbmcgcG9pbnRcbiAgICAgICAgICAgIHZhciB4RGlmZiA9IE1hdGguYWJzKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gLSBzdGFydFgpO1xuICAgICAgICAgICAgdmFyIHlEaWZmID0gTWF0aC5hYnMocG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSAtIHN0YXJ0WSk7XG4gICAgICAgICAgICBpZiAoeERpZmYgPCBlcHMgJiYgeURpZmYgPCBlcHMpIDtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHN0YXJ0WCwgc3RhcnRZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKHN0YXJ0WCwgc3RhcnRZKTtcbiAgICAgICAgICAgIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuICAgICAgICB9XG4gICAgICAgIEFyY1V0aWxzLmFyYyhzdGFydFgsIHN0YXJ0WSwgY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlLCBwb2ludHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyBhIHNpbXBsZSBvbmUtY29sb3IgZmlsbCB0aGF0IHN1YnNlcXVlbnQgY2FsbHMgdG8gb3RoZXIgR3JhcGhpY3MgbWV0aG9kc1xuICAgICAqIChzdWNoIGFzIGxpbmVUbygpIG9yIGRyYXdDaXJjbGUoKSkgdXNlIHdoZW4gZHJhd2luZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MF0gLSB0aGUgY29sb3Igb2YgdGhlIGZpbGxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gdGhlIGFscGhhIG9mIHRoZSBmaWxsXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZWdpbkZpbGwgPSBmdW5jdGlvbiAoY29sb3IsIGFscGhhKSB7XG4gICAgICAgIGlmIChjb2xvciA9PT0gdm9pZCAwKSB7IGNvbG9yID0gMDsgfVxuICAgICAgICBpZiAoYWxwaGEgPT09IHZvaWQgMCkgeyBhbHBoYSA9IDE7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYmVnaW5UZXh0dXJlRmlsbCh7IHRleHR1cmU6IFRleHR1cmUuV0hJVEUsIGNvbG9yOiBjb2xvciwgYWxwaGE6IGFscGhhIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmVnaW4gdGhlIHRleHR1cmUgZmlsbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9iamVjdCBvYmplY3QuXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFtvcHRpb25zLnRleHR1cmU9UElYSS5UZXh0dXJlLldISVRFXSAtIFRleHR1cmUgdG8gZmlsbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xvcj0weGZmZmZmZl0gLSBCYWNrZ3JvdW5kIHRvIGZpbGwgYmVoaW5kIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYWxwaGE9MV0gLSBBbHBoYSBvZiBmaWxsXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gW29wdGlvbnMubWF0cml4PW51bGxdIC0gVHJhbnNmb3JtIG1hdHJpeFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYmVnaW5UZXh0dXJlRmlsbCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBwYXJhbXM6ICh0ZXh0dXJlLCBjb2xvciwgYWxwaGEsIG1hdHJpeClcbiAgICAgICAgaWYgKG9wdGlvbnMgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbigndjUuMi4wJywgJ1BsZWFzZSB1c2Ugb2JqZWN0LWJhc2VkIG9wdGlvbnMgZm9yIEdyYXBoaWNzI2JlZ2luVGV4dHVyZUZpbGwnKTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgdmFyIF9hID0gYXJndW1lbnRzLCB0ZXh0dXJlID0gX2FbMF0sIGNvbG9yID0gX2FbMV0sIGFscGhhID0gX2FbMl0sIG1hdHJpeCA9IF9hWzNdO1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgdGV4dHVyZTogdGV4dHVyZSwgY29sb3I6IGNvbG9yLCBhbHBoYTogYWxwaGEsIG1hdHJpeDogbWF0cml4IH07XG4gICAgICAgICAgICAvLyBSZW1vdmUgdW5kZWZpbmVkIGtleXNcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gb3B0aW9uc1trZXldID09PSB1bmRlZmluZWQgJiYgZGVsZXRlIG9wdGlvbnNba2V5XTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXBwbHkgZGVmYXVsdHNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdGV4dHVyZTogVGV4dHVyZS5XSElURSxcbiAgICAgICAgICAgIGNvbG9yOiAweEZGRkZGRixcbiAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgbWF0cml4OiBudWxsLFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRQb2x5KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZpc2libGUgPSBvcHRpb25zLmFscGhhID4gMDtcbiAgICAgICAgaWYgKCF2aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm1hdHJpeCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWF0cml4ID0gb3B0aW9ucy5tYXRyaXguY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1hdHJpeC5pbnZlcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fZmlsbFN0eWxlLCB7IHZpc2libGU6IHZpc2libGUgfSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgZmlsbCB0byB0aGUgbGluZXMgYW5kIHNoYXBlcyB0aGF0IHdlcmUgYWRkZWQgc2luY2UgdGhlIGxhc3QgY2FsbCB0byB0aGUgYmVnaW5GaWxsKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5lbmRGaWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlLnJlc2V0KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYSByZWN0YW5nbGUgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1JlY3QgPSBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3IGEgcmVjdGFuZ2xlIHNoYXBlIHdpdGggcm91bmRlZC9iZXZlbGVkIGNvcm5lcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBSYWRpdXMgb2YgdGhlIHJlY3RhbmdsZSBjb3JuZXJzXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3Um91bmRlZFJlY3QgPSBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgUm91bmRlZFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIGEgY2lyY2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3Q2lyY2xlID0gZnVuY3Rpb24gKHgsIHksIHJhZGl1cykge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IENpcmNsZSh4LCB5LCByYWRpdXMpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIGFuIGVsbGlwc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIGhhbGYgd2lkdGggb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhhbGYgaGVpZ2h0IG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3RWxsaXBzZSA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgRWxsaXBzZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIHBvbHlnb24gdXNpbmcgdGhlIGdpdmVuIHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfFBJWEkuUG9pbnRbXXxQSVhJLlBvbHlnb259IHBhdGggLSBUaGUgcGF0aCBkYXRhIHVzZWQgdG8gY29uc3RydWN0IHRoZSBwb2x5Z29uLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1BvbHlnb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgcGF0aCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgcGF0aFtfaV0gPSBhcmd1bWVudHMkMVtfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBvaW50cztcbiAgICAgICAgdmFyIGNsb3NlU3Ryb2tlID0gdHJ1ZTsgLy8gISF0aGlzLl9maWxsU3R5bGU7XG4gICAgICAgIHZhciBwb2x5ID0gcGF0aFswXTtcbiAgICAgICAgLy8gY2hlY2sgaWYgZGF0YSBoYXMgcG9pbnRzLi5cbiAgICAgICAgaWYgKHBvbHkucG9pbnRzKSB7XG4gICAgICAgICAgICBjbG9zZVN0cm9rZSA9IHBvbHkuY2xvc2VTdHJva2U7XG4gICAgICAgICAgICBwb2ludHMgPSBwb2x5LnBvaW50cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHBhdGhbMF0pKSB7XG4gICAgICAgICAgICBwb2ludHMgPSBwYXRoWzBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcG9pbnRzID0gcGF0aDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2hhcGUgPSBuZXcgUG9seWdvbihwb2ludHMpO1xuICAgICAgICBzaGFwZS5jbG9zZVN0cm9rZSA9IGNsb3NlU3Ryb2tlO1xuICAgICAgICB0aGlzLmRyYXdTaGFwZShzaGFwZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhdyBhbnkgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFNoYXBlIHRvIGRyYXdcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdTaGFwZSA9IGZ1bmN0aW9uIChzaGFwZSkge1xuICAgICAgICBpZiAoIXRoaXMuX2hvbGVNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLl9nZW9tZXRyeS5kcmF3U2hhcGUoc2hhcGUsIHRoaXMuX2ZpbGxTdHlsZS5jbG9uZSgpLCB0aGlzLl9saW5lU3R5bGUuY2xvbmUoKSwgdGhpcy5fbWF0cml4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2dlb21ldHJ5LmRyYXdIb2xlKHNoYXBlLCB0aGlzLl9tYXRyaXgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhdyBhIHN0YXIgc2hhcGUgd2l0aCBhbiBhcmJpdHJhcnkgbnVtYmVyIG9mIHBvaW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gQ2VudGVyIFggcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIENlbnRlciBZIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50cyAtIFRoZSBudW1iZXIgb2YgcG9pbnRzIG9mIHRoZSBzdGFyLCBtdXN0IGJlID4gMVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgb3V0ZXIgcmFkaXVzIG9mIHRoZSBzdGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtpbm5lclJhZGl1c10gLSBUaGUgaW5uZXIgcmFkaXVzIGJldHdlZW4gcG9pbnRzLCBkZWZhdWx0IGhhbGYgYHJhZGl1c2BcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uIG9mIHRoZSBzdGFyIGluIHJhZGlhbnMsIHdoZXJlIDAgaXMgdmVydGljYWxcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdTdGFyID0gZnVuY3Rpb24gKHgsIHksIHBvaW50cywgcmFkaXVzLCBpbm5lclJhZGl1cywgcm90YXRpb24pIHtcbiAgICAgICAgaWYgKHJvdGF0aW9uID09PSB2b2lkIDApIHsgcm90YXRpb24gPSAwOyB9XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdQb2x5Z29uKG5ldyBTdGFyKHgsIHksIHBvaW50cywgcmFkaXVzLCBpbm5lclJhZGl1cywgcm90YXRpb24pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgZ3JhcGhpY3MgdGhhdCB3ZXJlIGRyYXduIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LCBhbmQgcmVzZXRzIGZpbGwgYW5kIGxpbmUgc3R5bGUgc2V0dGluZ3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9nZW9tZXRyeS5jbGVhcigpO1xuICAgICAgICB0aGlzLl9saW5lU3R5bGUucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2hvbGVNb2RlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRydWUgaWYgZ3JhcGhpY3MgY29uc2lzdHMgb2Ygb25lIHJlY3RhbmdsZSwgYW5kIHRodXMsIGNhbiBiZSBkcmF3biBsaWtlIGEgU3ByaXRlIGFuZFxuICAgICAqIG1hc2tlZCB3aXRoIGdsLnNjaXNzb3IuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmx5IDEgcmVjdC5cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuaXNGYXN0UmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9nZW9tZXRyeS5ncmFwaGljc0RhdGE7XG4gICAgICAgIHJldHVybiBkYXRhLmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgJiYgZGF0YVswXS5zaGFwZS50eXBlID09PSBTSEFQRVMuUkVDVFxuICAgICAgICAgICAgJiYgIShkYXRhWzBdLmxpbmVTdHlsZS52aXNpYmxlICYmIGRhdGFbMF0ubGluZVN0eWxlLndpZHRoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuX2dlb21ldHJ5O1xuICAgICAgICB2YXIgaGFzdWl0MzIgPSByZW5kZXJlci5jb250ZXh0LnN1cHBvcnRzLnVpbnQzMkluZGljZXM7XG4gICAgICAgIC8vIGJhdGNoIHBhcnQuLlxuICAgICAgICAvLyBiYXRjaCBpdCFcbiAgICAgICAgZ2VvbWV0cnkudXBkYXRlQmF0Y2hlcyhoYXN1aXQzMik7XG4gICAgICAgIGlmIChnZW9tZXRyeS5iYXRjaGFibGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJhdGNoRGlydHkgIT09IGdlb21ldHJ5LmJhdGNoRGlydHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3B1bGF0ZUJhdGNoZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckJhdGNoZWQocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbm8gYmF0Y2hpbmcuLi5cbiAgICAgICAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEaXJlY3QocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQb3B1bGF0aW5nIGJhdGNoZXMgZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcG9wdWxhdGVCYXRjaGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLl9nZW9tZXRyeTtcbiAgICAgICAgdmFyIGJsZW5kTW9kZSA9IHRoaXMuYmxlbmRNb2RlO1xuICAgICAgICB2YXIgbGVuID0gZ2VvbWV0cnkuYmF0Y2hlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuYmF0Y2hUaW50ID0gLTE7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSA9IGdlb21ldHJ5LmJhdGNoRGlydHk7XG4gICAgICAgIHRoaXMuYmF0Y2hlcy5sZW5ndGggPSBsZW47XG4gICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZ2VvbWV0cnkucG9pbnRzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGdJID0gZ2VvbWV0cnkuYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgIHZhciBjb2xvciA9IGdJLnN0eWxlLmNvbG9yO1xuICAgICAgICAgICAgdmFyIHZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudmVydGV4RGF0YS5idWZmZXIsIGdJLmF0dHJpYlN0YXJ0ICogNCAqIDIsIGdJLmF0dHJpYlNpemUgKiAyKTtcbiAgICAgICAgICAgIHZhciB1dnMgPSBuZXcgRmxvYXQzMkFycmF5KGdlb21ldHJ5LnV2c0Zsb2F0MzIuYnVmZmVyLCBnSS5hdHRyaWJTdGFydCAqIDQgKiAyLCBnSS5hdHRyaWJTaXplICogMik7XG4gICAgICAgICAgICB2YXIgaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheShnZW9tZXRyeS5pbmRpY2VzVWludDE2LmJ1ZmZlciwgZ0kuc3RhcnQgKiAyLCBnSS5zaXplKTtcbiAgICAgICAgICAgIHZhciBiYXRjaCA9IHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhOiB2ZXJ0ZXhEYXRhLFxuICAgICAgICAgICAgICAgIGJsZW5kTW9kZTogYmxlbmRNb2RlLFxuICAgICAgICAgICAgICAgIGluZGljZXM6IGluZGljZXMsXG4gICAgICAgICAgICAgICAgdXZzOiB1dnMsXG4gICAgICAgICAgICAgICAgX2JhdGNoUkdCOiBoZXgycmdiKGNvbG9yKSxcbiAgICAgICAgICAgICAgICBfdGludFJHQjogY29sb3IsXG4gICAgICAgICAgICAgICAgX3RleHR1cmU6IGdJLnN0eWxlLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgYWxwaGE6IGdJLnN0eWxlLmFscGhhLFxuICAgICAgICAgICAgICAgIHdvcmxkQWxwaGE6IDFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmJhdGNoZXNbaV0gPSBiYXRjaDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgYmF0Y2hlcyB1c2luZyB0aGUgQmF0aGVkUmVuZGVyZXIgcGx1Z2luXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyQmF0Y2hlZCA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICBpZiAoIXRoaXMuYmF0Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVGludHMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYmF0Y2ggPSB0aGlzLmJhdGNoZXNbaV07XG4gICAgICAgICAgICBiYXRjaC53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhICogYmF0Y2guYWxwaGE7XG4gICAgICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKGJhdGNoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgZ3JhcGhpY3MgZGlyZWN0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyRGlyZWN0ID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLl9yZXNvbHZlRGlyZWN0U2hhZGVyKHJlbmRlcmVyKTtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fZ2VvbWV0cnk7XG4gICAgICAgIHZhciB0aW50ID0gdGhpcy50aW50O1xuICAgICAgICB2YXIgd29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0gc2hhZGVyLnVuaWZvcm1zO1xuICAgICAgICB2YXIgZHJhd0NhbGxzID0gZ2VvbWV0cnkuZHJhd0NhbGxzO1xuICAgICAgICAvLyBsZXRzIHNldCB0aGUgdHJhbnNmb21yXG4gICAgICAgIHVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIC8vIGFuZCB0aGVuIGxldHMgc2V0IHRoZSB0aW50Li5cbiAgICAgICAgdW5pZm9ybXMudGludFswXSA9ICgoKHRpbnQgPj4gMTYpICYgMHhGRikgLyAyNTUpICogd29ybGRBbHBoYTtcbiAgICAgICAgdW5pZm9ybXMudGludFsxXSA9ICgoKHRpbnQgPj4gOCkgJiAweEZGKSAvIDI1NSkgKiB3b3JsZEFscGhhO1xuICAgICAgICB1bmlmb3Jtcy50aW50WzJdID0gKCh0aW50ICYgMHhGRikgLyAyNTUpICogd29ybGRBbHBoYTtcbiAgICAgICAgdW5pZm9ybXMudGludFszXSA9IHdvcmxkQWxwaGE7XG4gICAgICAgIC8vIHRoZSBmaXJzdCBkcmF3IGNhbGwsIHdlIGNhbiBzZXQgdGhlIHVuaWZvcm1zIG9mIHRoZSBzaGFkZXIgZGlyZWN0bHkgaGVyZS5cbiAgICAgICAgLy8gdGhpcyBtZWFucyB0aGF0IHdlIGNhbiB0YWNrIGFkdmFudGFnZSBvZiB0aGUgc3luYyBmdW5jdGlvbiBvZiBwaXhpIVxuICAgICAgICAvLyBiaW5kIGFuZCBzeW5jIHVuaWZvcm1zLi5cbiAgICAgICAgLy8gdGhlcmUgaXMgYSB3YXkgdG8gb3B0aW1pc2UgdGhpcy4uXG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHNoYWRlcik7XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQoZ2VvbWV0cnksIHNoYWRlcik7XG4gICAgICAgIC8vIHNldCBzdGF0ZS4uXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgLy8gdGhlbiByZW5kZXIgdGhlIHJlc3Qgb2YgdGhlbS4uLlxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGRyYXdDYWxscy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckRyYXdDYWxsRGlyZWN0KHJlbmRlcmVyLCBnZW9tZXRyeS5kcmF3Q2FsbHNbaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHNwZWNpZmljIERyYXdDYWxsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhdGNoRHJhd0NhbGx9IGRyYXdDYWxsXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXJEcmF3Q2FsbERpcmVjdCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgZHJhd0NhbGwpIHtcbiAgICAgICAgdmFyIHRleEFycmF5ID0gZHJhd0NhbGwudGV4QXJyYXksIHR5cGUgPSBkcmF3Q2FsbC50eXBlLCBzaXplID0gZHJhd0NhbGwuc2l6ZSwgc3RhcnQgPSBkcmF3Q2FsbC5zdGFydDtcbiAgICAgICAgdmFyIGdyb3VwVGV4dHVyZUNvdW50ID0gdGV4QXJyYXkuY291bnQ7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ3JvdXBUZXh0dXJlQ291bnQ7IGorKykge1xuICAgICAgICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKHRleEFycmF5LmVsZW1lbnRzW2pdLCBqKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KHR5cGUsIHNpemUsIHN0YXJ0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIHNoYWRlciBmb3IgZGlyZWN0IHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3Jlc29sdmVEaXJlY3RTaGFkZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIHNoYWRlciA9IHRoaXMuc2hhZGVyO1xuICAgICAgICB2YXIgcGx1Z2luTmFtZSA9IHRoaXMucGx1Z2luTmFtZTtcbiAgICAgICAgaWYgKCFzaGFkZXIpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIHNoYWRlciBoZXJlLCB3ZSBjYW4gdXNlIHRoZSBkZWZhdWx0IHNoYWRlci5cbiAgICAgICAgICAgIC8vIGFuZCB0aGF0IG9ubHkgZ2V0cyBjcmVhdGVkIGlmIHdlIGFjdHVhbGx5IG5lZWQgaXQuLlxuICAgICAgICAgICAgLy8gYnV0IG1heSBiZSBtb3JlIHRoYW4gb25lIHBsdWdpbnMgZm9yIGdyYXBoaWNzXG4gICAgICAgICAgICBpZiAoIURFRkFVTFRfU0hBREVSU1twbHVnaW5OYW1lXSkge1xuICAgICAgICAgICAgICAgIHZhciBzYW1wbGVWYWx1ZXMgPSBuZXcgSW50MzJBcnJheSgxNik7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdGludDogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBVbmlmb3JtR3JvdXAuZnJvbSh7IHVTYW1wbGVyczogc2FtcGxlVmFsdWVzIH0sIHRydWUpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIHByb2dyYW0gPSByZW5kZXJlci5wbHVnaW5zW3BsdWdpbk5hbWVdLl9zaGFkZXIucHJvZ3JhbTtcbiAgICAgICAgICAgICAgICBERUZBVUxUX1NIQURFUlNbcGx1Z2luTmFtZV0gPSBuZXcgU2hhZGVyKHByb2dyYW0sIHVuaWZvcm1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNoYWRlciA9IERFRkFVTFRfU0hBREVSU1twbHVnaW5OYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2hhZGVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBib3VuZHMgb2YgdGhlIGdyYXBoaWMgc2hhcGUgYXMgYSByZWN0YW5nbGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLl9nZW9tZXRyeTtcbiAgICAgICAgLy8gc2tpcHBpbmcgd2hlbiBncmFwaGljcyBpcyBlbXB0eSwgbGlrZSBhIGNvbnRhaW5lclxuICAgICAgICBpZiAoIWdlb21ldHJ5LmdyYXBoaWNzRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSBnZW9tZXRyeS5ib3VuZHMsIG1pblggPSBfYS5taW5YLCBtaW5ZID0gX2EubWluWSwgbWF4WCA9IF9hLm1heFgsIG1heFkgPSBfYS5tYXhZO1xuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkRnJhbWUodGhpcy50cmFuc2Zvcm0sIG1pblgsIG1pblksIG1heFgsIG1heFkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBncmFwaGljcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCBHcmFwaGljcy5fVEVNUF9QT0lOVCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZW9tZXRyeS5jb250YWluc1BvaW50KEdyYXBoaWNzLl9URU1QX1BPSU5UKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY2FsY3VhdGUgdGhlIHRpbnQgYnkgYXBwbHlpbmcgdGluIHRvIGJhdGNoZXMgdXNpbmcgR3JhcGhpY3MgdGludC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNhbGN1bGF0ZVRpbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5iYXRjaFRpbnQgIT09IHRoaXMudGludCkge1xuICAgICAgICAgICAgdGhpcy5iYXRjaFRpbnQgPSB0aGlzLnRpbnQ7XG4gICAgICAgICAgICB2YXIgdGludFJHQiA9IGhleDJyZ2IodGhpcy50aW50LCB0ZW1wKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJhdGNoID0gdGhpcy5iYXRjaGVzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBiYXRjaFRpbnQgPSBiYXRjaC5fYmF0Y2hSR0I7XG4gICAgICAgICAgICAgICAgdmFyIHIgPSAodGludFJHQlswXSAqIGJhdGNoVGludFswXSkgKiAyNTU7XG4gICAgICAgICAgICAgICAgdmFyIGcgPSAodGludFJHQlsxXSAqIGJhdGNoVGludFsxXSkgKiAyNTU7XG4gICAgICAgICAgICAgICAgdmFyIGIgPSAodGludFJHQlsyXSAqIGJhdGNoVGludFsyXSkgKiAyNTU7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBJdmFuLCBjYW4gdGhpcyBiZSBkb25lIGluIG9uZSBnbz9cbiAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSAociA8PCAxNikgKyAoZyA8PCA4KSArIChiIHwgMCk7XG4gICAgICAgICAgICAgICAgYmF0Y2guX3RpbnRSR0IgPSAoY29sb3IgPj4gMTYpXG4gICAgICAgICAgICAgICAgICAgICsgKGNvbG9yICYgMHhmZjAwKVxuICAgICAgICAgICAgICAgICAgICArICgoY29sb3IgJiAweGZmKSA8PCAxNik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElmIHRoZXJlJ3MgYSB0cmFuc2Zvcm0gdXBkYXRlIG9yIGEgY2hhbmdlIHRvIHRoZSBzaGFwZSBvZiB0aGVcbiAgICAgKiBnZW9tZXRyeSwgcmVjYWN1bGF0ZSB0aGUgdmVydGljZXMuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jYWxjdWxhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHd0SUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybUlEID09PSB3dElEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSB3dElEO1xuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5fZ2VvbWV0cnkucG9pbnRzOyAvLyBiYXRjaC52ZXJ0ZXhEYXRhT3JpZ2luYWw7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciB4ID0gZGF0YVtpXTtcbiAgICAgICAgICAgIHZhciB5ID0gZGF0YVtpICsgMV07XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhW2NvdW50KytdID0gKGEgKiB4KSArIChjICogeSkgKyB0eDtcbiAgICAgICAgICAgIHZlcnRleERhdGFbY291bnQrK10gPSAoZCAqIHkpICsgKGIgKiB4KSArIHR5O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIGN1cnJlbnQgcGF0aC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jbG9zZVBhdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjdXJyZW50UGF0aCA9IHRoaXMuY3VycmVudFBhdGg7XG4gICAgICAgIGlmIChjdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byBhZGQgZXh0cmEgcG9pbnQgaW4gdGhlIGVuZCBiZWNhdXNlIGJ1aWxkTGluZSB3aWxsIHRha2UgY2FyZSBvZiB0aGF0XG4gICAgICAgICAgICBjdXJyZW50UGF0aC5jbG9zZVN0cm9rZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBseSBhIG1hdHJpeCB0byB0aGUgcG9zaXRpb25hbCBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gTWF0cml4IHRvIHVzZSBmb3IgdHJhbnNmb3JtIGN1cnJlbnQgc2hhcGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnNldE1hdHJpeCA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbWF0cml4O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJlZ2luIGFkZGluZyBob2xlcyB0byB0aGUgbGFzdCBkcmF3IHNoYXBlXG4gICAgICogSU1QT1JUQU5UOiBob2xlcyBtdXN0IGJlIGZ1bGx5IGluc2lkZSBhIHNoYXBlIHRvIHdvcmtcbiAgICAgKiBBbHNvIHdlaXJkbmVzcyBlbnN1ZXMgaWYgaG9sZXMgb3ZlcmxhcCFcbiAgICAgKiBFbGxpcHNlcywgQ2lyY2xlcywgUmVjdGFuZ2xlcyBhbmQgUm91bmRlZCBSZWN0YW5nbGVzIGNhbm5vdCBiZSBob2xlcyBvciBob3N0IGZvciBob2xlcyBpbiBDYW52YXNSZW5kZXJlcixcbiAgICAgKiBwbGVhc2UgdXNlIGBtb3ZlVG9gIGBsaW5lVG9gLCBgcXVhZHJhdGljQ3VydmVUb2AgaWYgeW91IHJlbHkgb24gcGl4aS1sZWdhY3kgYnVuZGxlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZWdpbkhvbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5kIGFkZGluZyBob2xlcyB0byB0aGUgbGFzdCBkcmF3IHNoYXBlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmVuZEhvbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbFxuICAgICAqICBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlXG4gICAgICogIHRoZWlyIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX2dlb21ldHJ5LnJlZkNvdW50LS07XG4gICAgICAgIGlmICh0aGlzLl9nZW9tZXRyeS5yZWZDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICB0aGlzLl9saW5lU3R5bGUuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9saW5lU3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9nZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG51bGw7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVtcG9yYXJ5IHBvaW50IHRvIHVzZSBmb3IgY29udGFpbnNQb2ludFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgKi9cbiAgICBHcmFwaGljcy5fVEVNUF9QT0lOVCA9IG5ldyBQb2ludCgpO1xuICAgIHJldHVybiBHcmFwaGljcztcbn0oQ29udGFpbmVyKSk7XG5cbmV4cG9ydCB7IEZpbGxTdHlsZSwgR1JBUEhJQ1NfQ1VSVkVTLCBHcmFwaGljcywgR3JhcGhpY3NEYXRhLCBHcmFwaGljc0dlb21ldHJ5LCBMSU5FX0NBUCwgTElORV9KT0lOLCBMaW5lU3R5bGUsIGluZGV4IGFzIGdyYXBoaWNzVXRpbHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyYXBoaWNzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS90ZXh0IC0gdjUuMy4zXG4gKiBDb21waWxlZCBUdWUsIDA0IEF1ZyAyMDIwIDE2OjIzOjA5IFVUQ1xuICpcbiAqIEBwaXhpL3RleHQgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IGhleDJzdHJpbmcsIGhleDJyZ2IsIHN0cmluZzJoZXgsIHRyaW1DYW52YXMsIHNpZ24gfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIENvbnN0YW50cyB0aGF0IGRlZmluZSB0aGUgdHlwZSBvZiBncmFkaWVudCBvbiB0ZXh0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgVEVYVF9HUkFESUVOVFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSX1ZFUlRJQ0FMIFZlcnRpY2FsIGdyYWRpZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSX0hPUklaT05UQUwgTGluZWFyIGdyYWRpZW50XG4gKi9cbnZhciBURVhUX0dSQURJRU5UO1xuKGZ1bmN0aW9uIChURVhUX0dSQURJRU5UKSB7XG4gICAgVEVYVF9HUkFESUVOVFtURVhUX0dSQURJRU5UW1wiTElORUFSX1ZFUlRJQ0FMXCJdID0gMF0gPSBcIkxJTkVBUl9WRVJUSUNBTFwiO1xuICAgIFRFWFRfR1JBRElFTlRbVEVYVF9HUkFESUVOVFtcIkxJTkVBUl9IT1JJWk9OVEFMXCJdID0gMV0gPSBcIkxJTkVBUl9IT1JJWk9OVEFMXCI7XG59KShURVhUX0dSQURJRU5UIHx8IChURVhUX0dSQURJRU5UID0ge30pKTtcblxuLy8gZGlzYWJsaW5nIGVzbGludCBmb3Igbm93LCBnb2luZyB0byByZXdyaXRlIHRoaXMgaW4gdjVcbnZhciBkZWZhdWx0U3R5bGUgPSB7XG4gICAgYWxpZ246ICdsZWZ0JyxcbiAgICBicmVha1dvcmRzOiBmYWxzZSxcbiAgICBkcm9wU2hhZG93OiBmYWxzZSxcbiAgICBkcm9wU2hhZG93QWxwaGE6IDEsXG4gICAgZHJvcFNoYWRvd0FuZ2xlOiBNYXRoLlBJIC8gNixcbiAgICBkcm9wU2hhZG93Qmx1cjogMCxcbiAgICBkcm9wU2hhZG93Q29sb3I6ICdibGFjaycsXG4gICAgZHJvcFNoYWRvd0Rpc3RhbmNlOiA1LFxuICAgIGZpbGw6ICdibGFjaycsXG4gICAgZmlsbEdyYWRpZW50VHlwZTogVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwsXG4gICAgZmlsbEdyYWRpZW50U3RvcHM6IFtdLFxuICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgZm9udFNpemU6IDI2LFxuICAgIGZvbnRTdHlsZTogJ25vcm1hbCcsXG4gICAgZm9udFZhcmlhbnQ6ICdub3JtYWwnLFxuICAgIGZvbnRXZWlnaHQ6ICdub3JtYWwnLFxuICAgIGxldHRlclNwYWNpbmc6IDAsXG4gICAgbGluZUhlaWdodDogMCxcbiAgICBsaW5lSm9pbjogJ21pdGVyJyxcbiAgICBtaXRlckxpbWl0OiAxMCxcbiAgICBwYWRkaW5nOiAwLFxuICAgIHN0cm9rZTogJ2JsYWNrJyxcbiAgICBzdHJva2VUaGlja25lc3M6IDAsXG4gICAgdGV4dEJhc2VsaW5lOiAnYWxwaGFiZXRpYycsXG4gICAgdHJpbTogZmFsc2UsXG4gICAgd2hpdGVTcGFjZTogJ3ByZScsXG4gICAgd29yZFdyYXA6IGZhbHNlLFxuICAgIHdvcmRXcmFwV2lkdGg6IDEwMCxcbiAgICBsZWFkaW5nOiAwLFxufTtcbnZhciBnZW5lcmljRm9udEZhbWlsaWVzID0gW1xuICAgICdzZXJpZicsXG4gICAgJ3NhbnMtc2VyaWYnLFxuICAgICdtb25vc3BhY2UnLFxuICAgICdjdXJzaXZlJyxcbiAgICAnZmFudGFzeScsXG4gICAgJ3N5c3RlbS11aScgXTtcbi8qKlxuICogQSBUZXh0U3R5bGUgT2JqZWN0IGNvbnRhaW5zIGluZm9ybWF0aW9uIHRvIGRlY29yYXRlIGEgVGV4dCBvYmplY3RzLlxuICpcbiAqIEFuIGluc3RhbmNlIGNhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBUZXh0IG9iamVjdHM7IHRoZW4gY2hhbmdpbmcgdGhlIHN0eWxlIHdpbGwgdXBkYXRlIGFsbCB0ZXh0IG9iamVjdHMgdXNpbmcgaXQuXG4gKlxuICogQSB0b29sIGNhbiBiZSB1c2VkIHRvIGdlbmVyYXRlIGEgdGV4dCBzdHlsZSBbaGVyZV0oaHR0cHM6Ly9waXhpanMuaW8vcGl4aS10ZXh0LXN0eWxlKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0U3R5bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtzdHlsZV0gLSBUaGUgc3R5bGUgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuYWxpZ249J2xlZnQnXSAtIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQgKCdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0JyksXG4gICAgICogIGRvZXMgbm90IGFmZmVjdCBzaW5nbGUgbGluZSB0ZXh0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUuYnJlYWtXb3Jkcz1mYWxzZV0gLSBJbmRpY2F0ZXMgaWYgbGluZXMgY2FuIGJlIHdyYXBwZWQgd2l0aGluIHdvcmRzLCBpdFxuICAgICAqICBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLmRyb3BTaGFkb3c9ZmFsc2VdIC0gU2V0IGEgZHJvcCBzaGFkb3cgZm9yIHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93QWxwaGE9MV0gLSBTZXQgYWxwaGEgZm9yIHRoZSBkcm9wIHNoYWRvd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0FuZ2xlPU1hdGguUEkvNl0gLSBTZXQgYSBhbmdsZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dCbHVyPTBdIC0gU2V0IGEgc2hhZG93IGJsdXIgcmFkaXVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0NvbG9yPSdibGFjayddIC0gQSBmaWxsIHN0eWxlIHRvIGJlIHVzZWQgb24gdGhlIGRyb3BzaGFkb3cgZS5nICdyZWQnLCAnIzAwRkYwMCdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZT01XSAtIFNldCBhIGRpc3RhbmNlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfG51bWJlcnxudW1iZXJbXXxDYW52YXNHcmFkaWVudHxDYW52YXNQYXR0ZXJufSBbc3R5bGUuZmlsbD0nYmxhY2snXSAtIEEgY2FudmFzXG4gICAgICogIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBlLmcgJ3JlZCcsICcjMDBGRjAwJy4gQ2FuIGJlIGFuIGFycmF5IHRvIGNyZWF0ZSBhIGdyYWRpZW50XG4gICAgICogIGVnIFsnIzAwMDAwMCcsJyNGRkZGRkYnXVxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2ZpbGxTdHlsZXxNRE59XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5maWxsR3JhZGllbnRUeXBlPVBJWEkuVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUxdIC0gSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzXG4gICAgICogIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGNhbiBjaGFuZ2UgdGhlIHR5cGUvZGlyZWN0aW9uIG9mIHRoZSBncmFkaWVudC4gU2VlIHtAbGluayBQSVhJLlRFWFRfR1JBRElFTlR9XG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gW3N0eWxlLmZpbGxHcmFkaWVudFN0b3BzXSAtIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBhcnJheSBjYW4gc2V0XG4gICAgICogdGhlIHN0b3AgcG9pbnRzIChudW1iZXJzIGJldHdlZW4gMCBhbmQgMSkgZm9yIHRoZSBjb2xvciwgb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgZXZlbmx5IHNwYWNpbmcgdGhlbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gW3N0eWxlLmZvbnRGYW1pbHk9J0FyaWFsJ10gLSBUaGUgZm9udCBmYW1pbHlcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IFtzdHlsZS5mb250U2l6ZT0yNl0gLSBUaGUgZm9udCBzaXplIChhcyBhIG51bWJlciBpdCBjb252ZXJ0cyB0byBweCwgYnV0IGFzIGEgc3RyaW5nLFxuICAgICAqICBlcXVpdmFsZW50cyBhcmUgJzI2cHgnLCcyMHB0JywnMTYwJScgb3IgJzEuNmVtJylcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmZvbnRTdHlsZT0nbm9ybWFsJ10gLSBUaGUgZm9udCBzdHlsZSAoJ25vcm1hbCcsICdpdGFsaWMnIG9yICdvYmxpcXVlJylcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmZvbnRWYXJpYW50PSdub3JtYWwnXSAtIFRoZSBmb250IHZhcmlhbnQgKCdub3JtYWwnIG9yICdzbWFsbC1jYXBzJylcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmZvbnRXZWlnaHQ9J25vcm1hbCddIC0gVGhlIGZvbnQgd2VpZ2h0ICgnbm9ybWFsJywgJ2JvbGQnLCAnYm9sZGVyJywgJ2xpZ2h0ZXInIGFuZCAnMTAwJyxcbiAgICAgKiAgJzIwMCcsICczMDAnLCAnNDAwJywgJzUwMCcsICc2MDAnLCAnNzAwJywgJzgwMCcgb3IgJzkwMCcpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZWFkaW5nPTBdIC0gVGhlIHNwYWNlIGJldHdlZW4gbGluZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxldHRlclNwYWNpbmc9MF0gLSBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLCBkZWZhdWx0IGlzIDBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxpbmVIZWlnaHRdIC0gVGhlIGxpbmUgaGVpZ2h0LCBhIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIHNwYWNlIHRoYXQgYSBsZXR0ZXIgdXNlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUubGluZUpvaW49J21pdGVyJ10gLSBUaGUgbGluZUpvaW4gcHJvcGVydHkgc2V0cyB0aGUgdHlwZSBvZiBjb3JuZXIgY3JlYXRlZCwgaXQgY2FuIHJlc29sdmVcbiAgICAgKiAgICAgIHNwaWtlZCB0ZXh0IGlzc3Vlcy4gUG9zc2libGUgdmFsdWVzIFwibWl0ZXJcIiAoY3JlYXRlcyBhIHNoYXJwIGNvcm5lciksIFwicm91bmRcIiAoY3JlYXRlcyBhIHJvdW5kIGNvcm5lcikgb3IgXCJiZXZlbFwiXG4gICAgICogICAgICAoY3JlYXRlcyBhIHNxdWFyZWQgY29ybmVyKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLm1pdGVyTGltaXQ9MTBdIC0gVGhlIG1pdGVyIGxpbWl0IHRvIHVzZSB3aGVuIHVzaW5nIHRoZSAnbWl0ZXInIGxpbmVKb2luIG1vZGUuIFRoaXMgY2FuIHJlZHVjZVxuICAgICAqICAgICAgb3IgaW5jcmVhc2UgdGhlIHNwaWtpbmVzcyBvZiByZW5kZXJlZCB0ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUucGFkZGluZz0wXSAtIE9jY2FzaW9uYWxseSBzb21lIGZvbnRzIGFyZSBjcm9wcGVkLiBBZGRpbmcgc29tZSBwYWRkaW5nIHdpbGwgcHJldmVudCB0aGlzIGZyb21cbiAgICAgKiAgICAgaGFwcGVuaW5nIGJ5IGFkZGluZyBwYWRkaW5nIHRvIGFsbCBzaWRlcyBvZiB0aGUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtzdHlsZS5zdHJva2U9J2JsYWNrJ10gLSBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgc3Ryb2tlXG4gICAgICogIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuc3Ryb2tlVGhpY2tuZXNzPTBdIC0gQSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB0aGlja25lc3Mgb2YgdGhlIHN0cm9rZS5cbiAgICAgKiAgRGVmYXVsdCBpcyAwIChubyBzdHJva2UpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUudHJpbT1mYWxzZV0gLSBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLnRleHRCYXNlbGluZT0nYWxwaGFiZXRpYyddIC0gVGhlIGJhc2VsaW5lIG9mIHRoZSB0ZXh0IHRoYXQgaXMgcmVuZGVyZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS53aGl0ZVNwYWNlPSdwcmUnXSAtIERldGVybWluZXMgd2hldGhlciBuZXdsaW5lcyAmIHNwYWNlcyBhcmUgY29sbGFwc2VkIG9yIHByZXNlcnZlZCBcIm5vcm1hbFwiXG4gICAgICogICAgICAoY29sbGFwc2UsIGNvbGxhcHNlKSwgXCJwcmVcIiAocHJlc2VydmUsIHByZXNlcnZlKSB8IFwicHJlLWxpbmVcIiAocHJlc2VydmUsIGNvbGxhcHNlKS4gSXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS53b3JkV3JhcD1mYWxzZV0gLSBJbmRpY2F0ZXMgaWYgd29yZCB3cmFwIHNob3VsZCBiZSB1c2VkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS53b3JkV3JhcFdpZHRoPTEwMF0gLSBUaGUgd2lkdGggYXQgd2hpY2ggdGV4dCB3aWxsIHdyYXAsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dFN0eWxlKHN0eWxlKSB7XG4gICAgICAgIHRoaXMuc3R5bGVJRCA9IDA7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIHN0eWxlLCBzdHlsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgVGV4dFN0eWxlIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIG9ubHkgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCBhcmUgY2xvbmVkLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0U3R5bGV9IE5ldyBjbG9uZWQgVGV4dFN0eWxlIG9iamVjdFxuICAgICAqL1xuICAgIFRleHRTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjbG9uZWRQcm9wZXJ0aWVzID0ge307XG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyhjbG9uZWRQcm9wZXJ0aWVzLCB0aGlzLCBkZWZhdWx0U3R5bGUpO1xuICAgICAgICByZXR1cm4gbmV3IFRleHRTdHlsZShjbG9uZWRQcm9wZXJ0aWVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbGwgcHJvcGVydGllcyB0byB0aGUgZGVmYXVsdHMgc3BlY2lmaWVkIGluIFRleHRTdHlsZS5wcm90b3R5cGUuX2RlZmF1bHRcbiAgICAgKi9cbiAgICBUZXh0U3R5bGUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWVwQ29weVByb3BlcnRpZXModGhpcywgZGVmYXVsdFN0eWxlLCBkZWZhdWx0U3R5bGUpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiYWxpZ25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSwgZG9lcyBub3QgYWZmZWN0IHNpbmdsZSBsaW5lIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWxpZ247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGFsaWduKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWxpZ24gIT09IGFsaWduKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWxpZ24gPSBhbGlnbjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImJyZWFrV29yZHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JyZWFrV29yZHM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGJyZWFrV29yZHMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9icmVha1dvcmRzICE9PSBicmVha1dvcmRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnJlYWtXb3JkcyA9IGJyZWFrV29yZHM7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJkcm9wU2hhZG93XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIGRyb3Agc2hhZG93IGZvciB0aGUgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvdztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZHJvcFNoYWRvdykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3cgIT09IGRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93ID0gZHJvcFNoYWRvdztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImRyb3BTaGFkb3dBbHBoYVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYWxwaGEgZm9yIHRoZSBkcm9wIHNoYWRvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93QWxwaGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRyb3BTaGFkb3dBbHBoYSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dBbHBoYSAhPT0gZHJvcFNoYWRvd0FscGhhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0FscGhhID0gZHJvcFNoYWRvd0FscGhhO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZHJvcFNoYWRvd0FuZ2xlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIGFuZ2xlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93QW5nbGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRyb3BTaGFkb3dBbmdsZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dBbmdsZSAhPT0gZHJvcFNoYWRvd0FuZ2xlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0FuZ2xlID0gZHJvcFNoYWRvd0FuZ2xlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZHJvcFNoYWRvd0JsdXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgc2hhZG93IGJsdXIgcmFkaXVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dCbHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93Qmx1cikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dCbHVyICE9PSBkcm9wU2hhZG93Qmx1cikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dCbHVyID0gZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJkcm9wU2hhZG93Q29sb3JcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBmaWxsIHN0eWxlIHRvIGJlIHVzZWQgb24gdGhlIGRyb3BzaGFkb3cgZS5nICdyZWQnLCAnIzAwRkYwMCdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfG51bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZHJvcFNoYWRvd0NvbG9yKSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihkcm9wU2hhZG93Q29sb3IpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dDb2xvciAhPT0gb3V0cHV0Q29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93Q29sb3IgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImRyb3BTaGFkb3dEaXN0YW5jZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBkaXN0YW5jZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93RGlzdGFuY2UpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2UgIT09IGRyb3BTaGFkb3dEaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZSA9IGRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZpbGxcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IGUuZyAncmVkJywgJyMwMEZGMDAnLlxuICAgICAgICAgKiBDYW4gYmUgYW4gYXJyYXkgdG8gY3JlYXRlIGEgZ3JhZGllbnQgZWcgWycjMDAwMDAwJywnI0ZGRkZGRiddXG4gICAgICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2ZpbGxTdHlsZXxNRE59XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xzdHJpbmdbXXxudW1iZXJ8bnVtYmVyW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGw7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZpbGwpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgbnVtYmVyIHR5cGUgYXNcbiAgICAgICAgICAgIC8vICAgICAgIHRoZSBzZXR0ZXIgY29udmVydHMgdG8gc3RyaW5nLiBTZWUgdGhpcyB0aHJlYWQgZm9yIG1vcmUgZGV0YWlsczpcbiAgICAgICAgICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgICAgICAgICAgLy8gVE9ETzogTm90IHN1cmUgaWYgZ2V0Q29sb3Igd29ya3MgcHJvcGVybHkgd2l0aCBDYW52YXNHcmFkaWVudCBhbmQvb3IgQ2FudmFzUGF0dGVybiwgY2FuJ3QgcGFzcyBpblxuICAgICAgICAgICAgLy8gICAgICAgd2l0aG91dCBjYXN0aW5nIGhlcmUuXG4gICAgICAgICAgICB2YXIgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihmaWxsKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9maWxsICE9PSBvdXRwdXRDb2xvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGwgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZpbGxHcmFkaWVudFR5cGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGNhbiBjaGFuZ2UgdGhlIHR5cGUvZGlyZWN0aW9uIG9mIHRoZSBncmFkaWVudC5cbiAgICAgICAgICogU2VlIHtAbGluayBQSVhJLlRFWFRfR1JBRElFTlR9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZpbGxHcmFkaWVudFR5cGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9maWxsR3JhZGllbnRUeXBlICE9PSBmaWxsR3JhZGllbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbEdyYWRpZW50VHlwZSA9IGZpbGxHcmFkaWVudFR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmaWxsR3JhZGllbnRTdG9wc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgYXJyYXkgY2FuIHNldCB0aGUgc3RvcCBwb2ludHNcbiAgICAgICAgICogKG51bWJlcnMgYmV0d2VlbiAwIGFuZCAxKSBmb3IgdGhlIGNvbG9yLCBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW91ciBvZiBldmVubHkgc3BhY2luZyB0aGVtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmaWxsR3JhZGllbnRTdG9wcykge1xuICAgICAgICAgICAgaWYgKCFhcmVBcnJheXNFcXVhbCh0aGlzLl9maWxsR3JhZGllbnRTdG9wcywgZmlsbEdyYWRpZW50U3RvcHMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbEdyYWRpZW50U3RvcHMgPSBmaWxsR3JhZGllbnRTdG9wcztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZvbnRGYW1pbHlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgZmFtaWx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xzdHJpbmdbXX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRGYW1pbHk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZvbnRGYW1pbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZvbnRGYW1pbHkgIT09IGZvbnRGYW1pbHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250RmFtaWx5ID0gZm9udEZhbWlseTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZvbnRTaXplXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHNpemVcbiAgICAgICAgICogKGFzIGEgbnVtYmVyIGl0IGNvbnZlcnRzIHRvIHB4LCBidXQgYXMgYSBzdHJpbmcsIGVxdWl2YWxlbnRzIGFyZSAnMjZweCcsJzIwcHQnLCcxNjAlJyBvciAnMS42ZW0nKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ8c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFNpemU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZvbnRTaXplKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFNpemUgIT09IGZvbnRTaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFNpemUgPSBmb250U2l6ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZvbnRTdHlsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBzdHlsZVxuICAgICAgICAgKiAoJ25vcm1hbCcsICdpdGFsaWMnIG9yICdvYmxpcXVlJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFN0eWxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmb250U3R5bGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250U3R5bGUgIT09IGZvbnRTdHlsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTdHlsZSA9IGZvbnRTdHlsZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZvbnRWYXJpYW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHZhcmlhbnRcbiAgICAgICAgICogKCdub3JtYWwnIG9yICdzbWFsbC1jYXBzJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFZhcmlhbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZvbnRWYXJpYW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFZhcmlhbnQgIT09IGZvbnRWYXJpYW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFZhcmlhbnQgPSBmb250VmFyaWFudDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZvbnRXZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgd2VpZ2h0XG4gICAgICAgICAqICgnbm9ybWFsJywgJ2JvbGQnLCAnYm9sZGVyJywgJ2xpZ2h0ZXInIGFuZCAnMTAwJywgJzIwMCcsICczMDAnLCAnNDAwJywgJzUwMCcsICc2MDAnLCAnNzAwJywgODAwJyBvciAnOTAwJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFdlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZm9udFdlaWdodCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRXZWlnaHQgIT09IGZvbnRXZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250V2VpZ2h0ID0gZm9udFdlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImxldHRlclNwYWNpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycywgZGVmYXVsdCBpcyAwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGxldHRlclNwYWNpbmcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sZXR0ZXJTcGFjaW5nICE9PSBsZXR0ZXJTcGFjaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IGxldHRlclNwYWNpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJsaW5lSGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGluZUhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobGluZUhlaWdodCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xpbmVIZWlnaHQgIT09IGxpbmVIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lSGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImxlYWRpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNwYWNlIGJldHdlZW4gbGluZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGVhZGluZztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobGVhZGluZykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xlYWRpbmcgIT09IGxlYWRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZWFkaW5nID0gbGVhZGluZztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImxpbmVKb2luXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW5lSm9pbiBwcm9wZXJ0eSBzZXRzIHRoZSB0eXBlIG9mIGNvcm5lciBjcmVhdGVkLCBpdCBjYW4gcmVzb2x2ZSBzcGlrZWQgdGV4dCBpc3N1ZXMuXG4gICAgICAgICAqIERlZmF1bHQgaXMgJ21pdGVyJyAoY3JlYXRlcyBhIHNoYXJwIGNvcm5lcikuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVKb2luO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsaW5lSm9pbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xpbmVKb2luICE9PSBsaW5lSm9pbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVKb2luID0gbGluZUpvaW47XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJtaXRlckxpbWl0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlXG4gICAgICAgICAqIFRoaXMgY2FuIHJlZHVjZSBvciBpbmNyZWFzZSB0aGUgc3Bpa2luZXNzIG9mIHJlbmRlcmVkIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21pdGVyTGltaXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG1pdGVyTGltaXQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9taXRlckxpbWl0ICE9PSBtaXRlckxpbWl0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWl0ZXJMaW1pdCA9IG1pdGVyTGltaXQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJwYWRkaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9jY2FzaW9uYWxseSBzb21lIGZvbnRzIGFyZSBjcm9wcGVkLiBBZGRpbmcgc29tZSBwYWRkaW5nIHdpbGwgcHJldmVudCB0aGlzIGZyb20gaGFwcGVuaW5nXG4gICAgICAgICAqIGJ5IGFkZGluZyBwYWRkaW5nIHRvIGFsbCBzaWRlcyBvZiB0aGUgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFkZGluZztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAocGFkZGluZykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhZGRpbmcgIT09IHBhZGRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYWRkaW5nID0gcGFkZGluZztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcInN0cm9rZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgc3Ryb2tlXG4gICAgICAgICAqIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Ryb2tlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzdHJva2UpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgbnVtYmVyIHR5cGUgYXNcbiAgICAgICAgICAgIC8vICAgICAgIHRoZSBzZXR0ZXIgY29udmVydHMgdG8gc3RyaW5nLiBTZWUgdGhpcyB0aHJlYWQgZm9yIG1vcmUgZGV0YWlsczpcbiAgICAgICAgICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgICAgICAgICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3Ioc3Ryb2tlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdHJva2UgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Ryb2tlID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJzdHJva2VUaGlja25lc3NcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB0aGlja25lc3Mgb2YgdGhlIHN0cm9rZS5cbiAgICAgICAgICogRGVmYXVsdCBpcyAwIChubyBzdHJva2UpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3Ryb2tlVGhpY2tuZXNzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc3Ryb2tlVGhpY2tuZXNzICE9PSBzdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJva2VUaGlja25lc3MgPSBzdHJva2VUaGlja25lc3M7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJ0ZXh0QmFzZWxpbmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2VsaW5lIG9mIHRoZSB0ZXh0IHRoYXQgaXMgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRCYXNlbGluZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodGV4dEJhc2VsaW5lKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGV4dEJhc2VsaW5lICE9PSB0ZXh0QmFzZWxpbmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0QmFzZWxpbmUgPSB0ZXh0QmFzZWxpbmU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJ0cmltXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJpbTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodHJpbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RyaW0gIT09IHRyaW0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmltID0gdHJpbTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcIndoaXRlU3BhY2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSG93IG5ld2xpbmVzIGFuZCBzcGFjZXMgc2hvdWxkIGJlIGhhbmRsZWQuXG4gICAgICAgICAqIERlZmF1bHQgaXMgJ3ByZScgKHByZXNlcnZlLCBwcmVzZXJ2ZSkuXG4gICAgICAgICAqXG4gICAgICAgICAqICB2YWx1ZSAgICAgICB8IE5ldyBsaW5lcyAgICAgfCAgIFNwYWNlc1xuICAgICAgICAgKiAgLS0tICAgICAgICAgfCAtLS0gICAgICAgICAgIHwgICAtLS1cbiAgICAgICAgICogJ25vcm1hbCcgICAgIHwgQ29sbGFwc2UgICAgICB8ICAgQ29sbGFwc2VcbiAgICAgICAgICogJ3ByZScgICAgICAgIHwgUHJlc2VydmUgICAgICB8ICAgUHJlc2VydmVcbiAgICAgICAgICogJ3ByZS1saW5lJyAgIHwgUHJlc2VydmUgICAgICB8ICAgQ29sbGFwc2VcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2hpdGVTcGFjZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAod2hpdGVTcGFjZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3doaXRlU3BhY2UgIT09IHdoaXRlU3BhY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93aGl0ZVNwYWNlID0gd2hpdGVTcGFjZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcIndvcmRXcmFwXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB3b3JkIHdyYXAgc2hvdWxkIGJlIHVzZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmRXcmFwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh3b3JkV3JhcCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3dvcmRXcmFwICE9PSB3b3JkV3JhcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmRXcmFwID0gd29yZFdyYXA7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJ3b3JkV3JhcFdpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBhdCB3aGljaCB0ZXh0IHdpbGwgd3JhcCwgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd29yZFdyYXBXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAod29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3dvcmRXcmFwV2lkdGggIT09IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JkV3JhcFdpZHRoID0gd29yZFdyYXBXaWR0aDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIGZvbnQgc3R5bGUgc3RyaW5nIHRvIHVzZSBmb3IgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBGb250IHN0eWxlIHN0cmluZywgZm9yIHBhc3NpbmcgdG8gYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgXG4gICAgICovXG4gICAgVGV4dFN0eWxlLnByb3RvdHlwZS50b0ZvbnRTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGJ1aWxkIGNhbnZhcyBhcGkgZm9udCBzZXR0aW5nIGZyb20gaW5kaXZpZHVhbCBjb21wb25lbnRzLiBDb252ZXJ0IGEgbnVtZXJpYyB0aGlzLmZvbnRTaXplIHRvIHB4XG4gICAgICAgIHZhciBmb250U2l6ZVN0cmluZyA9ICh0eXBlb2YgdGhpcy5mb250U2l6ZSA9PT0gJ251bWJlcicpID8gdGhpcy5mb250U2l6ZSArIFwicHhcIiA6IHRoaXMuZm9udFNpemU7XG4gICAgICAgIC8vIENsZWFuLXVwIGZvbnRGYW1pbHkgcHJvcGVydHkgYnkgcXVvdGluZyBlYWNoIGZvbnQgbmFtZVxuICAgICAgICAvLyB0aGlzIHdpbGwgc3VwcG9ydCBmb250IG5hbWVzIHdpdGggc3BhY2VzXG4gICAgICAgIHZhciBmb250RmFtaWxpZXMgPSB0aGlzLmZvbnRGYW1pbHk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmZvbnRGYW1pbHkpKSB7XG4gICAgICAgICAgICBmb250RmFtaWxpZXMgPSB0aGlzLmZvbnRGYW1pbHkuc3BsaXQoJywnKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gZm9udEZhbWlsaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAvLyBUcmltIGFueSBleHRyYSB3aGl0ZS1zcGFjZVxuICAgICAgICAgICAgdmFyIGZvbnRGYW1pbHkgPSBmb250RmFtaWxpZXNbaV0udHJpbSgpO1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZm9udCBhbHJlYWR5IGNvbnRhaW5zIHN0cmluZ3NcbiAgICAgICAgICAgIGlmICghKC8oW1xcXCJcXCddKVteXFwnXFxcIl0rXFwxLykudGVzdChmb250RmFtaWx5KSAmJiBnZW5lcmljRm9udEZhbWlsaWVzLmluZGV4T2YoZm9udEZhbWlseSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgZm9udEZhbWlseSA9IFwiXFxcIlwiICsgZm9udEZhbWlseSArIFwiXFxcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9udEZhbWlsaWVzW2ldID0gZm9udEZhbWlseTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5mb250U3R5bGUgKyBcIiBcIiArIHRoaXMuZm9udFZhcmlhbnQgKyBcIiBcIiArIHRoaXMuZm9udFdlaWdodCArIFwiIFwiICsgZm9udFNpemVTdHJpbmcgKyBcIiBcIiArIGZvbnRGYW1pbGllcy5qb2luKCcsJyk7XG4gICAgfTtcbiAgICByZXR1cm4gVGV4dFN0eWxlO1xufSgpKTtcbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGNvbG9yXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjb2xvciBhcyBhIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZ2V0U2luZ2xlQ29sb3IoY29sb3IpIHtcbiAgICBpZiAodHlwZW9mIGNvbG9yID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gaGV4MnN0cmluZyhjb2xvcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKGNvbG9yLmluZGV4T2YoJzB4JykgPT09IDApIHtcbiAgICAgICAgICAgIGNvbG9yID0gY29sb3IucmVwbGFjZSgnMHgnLCAnIycpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb2xvcjtcbn1cbmZ1bmN0aW9uIGdldENvbG9yKGNvbG9yKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbG9yKSkge1xuICAgICAgICByZXR1cm4gZ2V0U2luZ2xlQ29sb3IoY29sb3IpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xvci5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29sb3JbaV0gPSBnZXRTaW5nbGVDb2xvcihjb2xvcltpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbn1cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIFRoaXMgdmVyc2lvbiBjYW4gYWxzbyBjb252ZXJ0IGFycmF5IG9mIGNvbG9yc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MSAtIEZpcnN0IGFycmF5IHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MiAtIFNlY29uZCBhcnJheSB0byBjb21wYXJlXG4gKiBAcmV0dXJuIHtib29sZWFufSBEbyB0aGUgYXJyYXlzIGNvbnRhaW4gdGhlIHNhbWUgdmFsdWVzIGluIHRoZSBzYW1lIG9yZGVyXG4gKi9cbmZ1bmN0aW9uIGFyZUFycmF5c0VxdWFsKGFycmF5MSwgYXJyYXkyKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5MSkgfHwgIUFycmF5LmlzQXJyYXkoYXJyYXkyKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhcnJheTEubGVuZ3RoICE9PSBhcnJheTIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheTEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGFycmF5MVtpXSAhPT0gYXJyYXkyW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gZW5zdXJlIHRoYXQgb2JqZWN0IHByb3BlcnRpZXMgYXJlIGNvcGllZCBieSB2YWx1ZSwgYW5kIG5vdCBieSByZWZlcmVuY2VcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IC0gVGFyZ2V0IG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgaW50b1xuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSAtIFNvdXJjZSBvYmplY3QgZm9yIHRoZSBwcm9wZXJ0aWVzIHRvIGNvcHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eU9iaiAtIE9iamVjdCBjb250YWluaW5nIHByb3BlcnRpZXMgbmFtZXMgd2Ugd2FudCB0byBsb29wIG92ZXJcbiAqL1xuZnVuY3Rpb24gZGVlcENvcHlQcm9wZXJ0aWVzKHRhcmdldCwgc291cmNlLCBwcm9wZXJ0eU9iaikge1xuICAgIGZvciAodmFyIHByb3AgaW4gcHJvcGVydHlPYmopIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlW3Byb3BdKSkge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdLnNsaWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogVGhlIFRleHRNZXRyaWNzIG9iamVjdCByZXByZXNlbnRzIHRoZSBtZWFzdXJlbWVudCBvZiBhIGJsb2NrIG9mIHRleHQgd2l0aCBhIHNwZWNpZmllZCBzdHlsZS5cbiAqXG4gKiBgYGBqc1xuICogbGV0IHN0eWxlID0gbmV3IFBJWEkuVGV4dFN0eWxlKHtmb250RmFtaWx5IDogJ0FyaWFsJywgZm9udFNpemU6IDI0LCBmaWxsIDogMHhmZjEwMTAsIGFsaWduIDogJ2NlbnRlcid9KVxuICogbGV0IHRleHRNZXRyaWNzID0gUElYSS5UZXh0TWV0cmljcy5tZWFzdXJlVGV4dCgnWW91ciB0ZXh0Jywgc3R5bGUpXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0TWV0cmljcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRoZSB0ZXh0IHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSB0aGUgc3R5bGUgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgbWVhc3VyZWQgd2lkdGggb2YgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIG1lYXN1cmVkIGhlaWdodCBvZiB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gYW4gYXJyYXkgb2YgdGhlIGxpbmVzIG9mIHRleHQgYnJva2VuIGJ5IG5ldyBsaW5lcyBhbmQgd3JhcHBpbmcgaWYgc3BlY2lmaWVkIGluIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbGluZVdpZHRocyAtIGFuIGFycmF5IG9mIHRoZSBsaW5lIHdpZHRocyBmb3IgZWFjaCBsaW5lIG1hdGNoZWQgdG8gYGxpbmVzYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsaW5lSGVpZ2h0IC0gdGhlIG1lYXN1cmVkIGxpbmUgaGVpZ2h0IGZvciB0aGlzIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heExpbmVXaWR0aCAtIHRoZSBtYXhpbXVtIGxpbmUgd2lkdGggZm9yIGFsbCBtZWFzdXJlZCBsaW5lc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmb250UHJvcGVydGllcyAtIHRoZSBmb250IHByb3BlcnRpZXMgb2JqZWN0IGZyb20gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0TWV0cmljcyh0ZXh0LCBzdHlsZSwgd2lkdGgsIGhlaWdodCwgbGluZXMsIGxpbmVXaWR0aHMsIGxpbmVIZWlnaHQsIG1heExpbmVXaWR0aCwgZm9udFByb3BlcnRpZXMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0IHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3R5bGUgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0U3R5bGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWVhc3VyZWQgd2lkdGggb2YgdGhlIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1lYXN1cmVkIGhlaWdodCBvZiB0aGUgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIGxpbmVzIG9mIHRoZSB0ZXh0IGJyb2tlbiBieSBuZXcgbGluZXMgYW5kIHdyYXBwaW5nIGlzIHNwZWNpZmllZCBpbiBzdHlsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZXMgPSBsaW5lcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHRoZSBsaW5lIHdpZHRocyBmb3IgZWFjaCBsaW5lIG1hdGNoZWQgdG8gYGxpbmVzYFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZVdpZHRocyA9IGxpbmVXaWR0aHM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWVhc3VyZWQgbGluZSBoZWlnaHQgZm9yIHRoaXMgc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lSGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIGxpbmUgd2lkdGggZm9yIGFsbCBtZWFzdXJlZCBsaW5lc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heExpbmVXaWR0aCA9IG1heExpbmVXaWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHByb3BlcnRpZXMgb2JqZWN0IGZyb20gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JRm9udE1ldHJpY3N9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvbnRQcm9wZXJ0aWVzID0gZm9udFByb3BlcnRpZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1lYXN1cmVzIHRoZSBzdXBwbGllZCBzdHJpbmcgb2YgdGV4dCBhbmQgcmV0dXJucyBhIFJlY3RhbmdsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIHRleHQgdG8gbWVhc3VyZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIHRoZSB0ZXh0IHN0eWxlIHRvIHVzZSBmb3IgbWVhc3VyaW5nXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbd29yZFdyYXBdIC0gb3B0aW9uYWwgb3ZlcnJpZGUgZm9yIGlmIHdvcmQtd3JhcCBzaG91bGQgYmUgYXBwbGllZCB0byB0aGUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHRNZXRyaWNzfSBtZWFzdXJlZCB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSB0ZXh0LlxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLm1lYXN1cmVUZXh0ID0gZnVuY3Rpb24gKHRleHQsIHN0eWxlLCB3b3JkV3JhcCwgY2FudmFzKSB7XG4gICAgICAgIGlmIChjYW52YXMgPT09IHZvaWQgMCkgeyBjYW52YXMgPSBUZXh0TWV0cmljcy5fY2FudmFzOyB9XG4gICAgICAgIHdvcmRXcmFwID0gKHdvcmRXcmFwID09PSB1bmRlZmluZWQgfHwgd29yZFdyYXAgPT09IG51bGwpID8gc3R5bGUud29yZFdyYXAgOiB3b3JkV3JhcDtcbiAgICAgICAgdmFyIGZvbnQgPSBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICAgICAgdmFyIGZvbnRQcm9wZXJ0aWVzID0gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgICAgIC8vIGZhbGxiYWNrIGluIGNhc2UgVUEgZGlzYWxsb3cgY2FudmFzIGRhdGEgZXh0cmFjdGlvblxuICAgICAgICAvLyAodG9EYXRhVVJJLCBnZXRJbWFnZURhdGEgZnVuY3Rpb25zKVxuICAgICAgICBpZiAoZm9udFByb3BlcnRpZXMuZm9udFNpemUgPT09IDApIHtcbiAgICAgICAgICAgIGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplID0gc3R5bGUuZm9udFNpemU7XG4gICAgICAgICAgICBmb250UHJvcGVydGllcy5hc2NlbnQgPSBzdHlsZS5mb250U2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuICAgICAgICB2YXIgb3V0cHV0VGV4dCA9IHdvcmRXcmFwID8gVGV4dE1ldHJpY3Mud29yZFdyYXAodGV4dCwgc3R5bGUsIGNhbnZhcykgOiB0ZXh0O1xuICAgICAgICB2YXIgbGluZXMgPSBvdXRwdXRUZXh0LnNwbGl0KC8oPzpcXHJcXG58XFxyfFxcbikvKTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBuZXcgQXJyYXkobGluZXMubGVuZ3RoKTtcbiAgICAgICAgdmFyIG1heExpbmVXaWR0aCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBsaW5lV2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGxpbmVzW2ldKS53aWR0aCArICgobGluZXNbaV0ubGVuZ3RoIC0gMSkgKiBzdHlsZS5sZXR0ZXJTcGFjaW5nKTtcbiAgICAgICAgICAgIGxpbmVXaWR0aHNbaV0gPSBsaW5lV2lkdGg7XG4gICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gbWF4TGluZVdpZHRoICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdykge1xuICAgICAgICAgICAgd2lkdGggKz0gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gc3R5bGUubGluZUhlaWdodCB8fCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgubWF4KGxpbmVIZWlnaHQsIGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKVxuICAgICAgICAgICAgKyAoKGxpbmVzLmxlbmd0aCAtIDEpICogKGxpbmVIZWlnaHQgKyBzdHlsZS5sZWFkaW5nKSk7XG4gICAgICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICAgICAgICBoZWlnaHQgKz0gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVGV4dE1ldHJpY3ModGV4dCwgc3R5bGUsIHdpZHRoLCBoZWlnaHQsIGxpbmVzLCBsaW5lV2lkdGhzLCBsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZywgbWF4TGluZVdpZHRoLCBmb250UHJvcGVydGllcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIG5ld2xpbmVzIHRvIGEgc3RyaW5nIHRvIGhhdmUgaXQgb3B0aW1hbGx5IGZpdCBpbnRvIHRoZSBob3Jpem9udGFsXG4gICAgICogYm91bmRzIHNldCBieSB0aGUgVGV4dCBvYmplY3QncyB3b3JkV3JhcFdpZHRoIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFN0cmluZyB0byBhcHBseSB3b3JkIHdyYXBwaW5nIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSB0aGUgc3R5bGUgdG8gdXNlIHdoZW4gd3JhcHBpbmdcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IE5ldyBzdHJpbmcgd2l0aCBuZXcgbGluZXMgYXBwbGllZCB3aGVyZSByZXF1aXJlZFxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLndvcmRXcmFwID0gZnVuY3Rpb24gKHRleHQsIHN0eWxlLCBjYW52YXMpIHtcbiAgICAgICAgaWYgKGNhbnZhcyA9PT0gdm9pZCAwKSB7IGNhbnZhcyA9IFRleHRNZXRyaWNzLl9jYW52YXM7IH1cbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdmFyIHdpZHRoID0gMDtcbiAgICAgICAgdmFyIGxpbmUgPSAnJztcbiAgICAgICAgdmFyIGxpbmVzID0gJyc7XG4gICAgICAgIHZhciBjYWNoZSA9IHt9O1xuICAgICAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmcsIHdoaXRlU3BhY2UgPSBzdHlsZS53aGl0ZVNwYWNlO1xuICAgICAgICAvLyBIb3cgdG8gaGFuZGxlIHdoaXRlc3BhY2VzXG4gICAgICAgIHZhciBjb2xsYXBzZVNwYWNlcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlU3BhY2VzKHdoaXRlU3BhY2UpO1xuICAgICAgICB2YXIgY29sbGFwc2VOZXdsaW5lcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlTmV3bGluZXMod2hpdGVTcGFjZSk7XG4gICAgICAgIC8vIHdoZXRoZXIgb3Igbm90IHNwYWNlcyBtYXkgYmUgYWRkZWQgdG8gdGhlIGJlZ2lubmluZyBvZiBsaW5lc1xuICAgICAgICB2YXIgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcbiAgICAgICAgLy8gVGhlcmUgaXMgbGV0dGVyU3BhY2luZyBhZnRlciBldmVyeSBjaGFyIGV4Y2VwdCB0aGUgbGFzdCBvbmVcbiAgICAgICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFcbiAgICAgICAgLy8gc28gZm9yIGNvbnZlbmllbmNlIHRoZSBhYm92ZSBuZWVkcyB0byBiZSBjb21wYXJlZCB0byB3aWR0aCArIDEgZXh0cmEgbGV0dGVyU3BhY2VcbiAgICAgICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFfXG4gICAgICAgIC8vIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuICAgICAgICAvLyBBbmQgdGhlbiB0aGUgZmluYWwgc3BhY2UgaXMgc2ltcGx5IG5vIGFwcGVuZGVkIHRvIGVhY2ggbGluZVxuICAgICAgICB2YXIgd29yZFdyYXBXaWR0aCA9IHN0eWxlLndvcmRXcmFwV2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAvLyBicmVhayB0ZXh0IGludG8gd29yZHMsIHNwYWNlcyBhbmQgbmV3bGluZSBjaGFyc1xuICAgICAgICB2YXIgdG9rZW5zID0gVGV4dE1ldHJpY3MudG9rZW5pemUodGV4dCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIHdvcmQsIHNwYWNlIG9yIG5ld2xpbmVDaGFyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICAvLyBpZiB3b3JkIGlzIGEgbmV3IGxpbmVcbiAgICAgICAgICAgIGlmIChUZXh0TWV0cmljcy5pc05ld2xpbmUodG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgLy8ga2VlcCB0aGUgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICBpZiAoIWNvbGxhcHNlTmV3bGluZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgbmV3IGxpbmVzXG4gICAgICAgICAgICAgICAgLy8gd2Ugc2ltcGx5IGNvbnZlcnQgaXQgaW50byBhIHNwYWNlXG4gICAgICAgICAgICAgICAgdG9rZW4gPSAnICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgcmVwZWF0ZWQgd2hpdGVzcGFjZXNcbiAgICAgICAgICAgIGlmIChjb2xsYXBzZVNwYWNlcykge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGJvdGggdGhpcyBhbmQgdGhlIGxhc3QgdG9rZW5zIGZvciBzcGFjZXNcbiAgICAgICAgICAgICAgICB2YXIgY3VycklzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbik7XG4gICAgICAgICAgICAgICAgdmFyIGxhc3RJc0JyZWFraW5nU3BhY2UgPSBUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UobGluZVtsaW5lLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycklzQnJlYWtpbmdTcGFjZSAmJiBsYXN0SXNCcmVha2luZ1NwYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGdldCB3b3JkIHdpZHRoIGZyb20gY2FjaGUgaWYgcG9zc2libGVcbiAgICAgICAgICAgIHZhciB0b2tlbldpZHRoID0gVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlKHRva2VuLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG4gICAgICAgICAgICAvLyB3b3JkIGlzIGxvbmdlciB0aGFuIGRlc2lyZWQgYm91bmRzXG4gICAgICAgICAgICBpZiAodG9rZW5XaWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGFscmVhZHkgYXQgdGhlIGJlZ2lubmluZyBvZiBhIGxpbmVcbiAgICAgICAgICAgICAgICBpZiAobGluZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgbmV3bGluZXMgZm9yIG92ZXJmbG93IHdvcmRzXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBicmVhayBsYXJnZSB3b3JkIG92ZXIgbXVsdGlwbGUgbGluZXNcbiAgICAgICAgICAgICAgICBpZiAoVGV4dE1ldHJpY3MuY2FuQnJlYWtXb3Jkcyh0b2tlbiwgc3R5bGUuYnJlYWtXb3JkcykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYnJlYWsgd29yZCBpbnRvIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJhY3RlcnMgPSBUZXh0TWV0cmljcy53b3JkV3JhcFNwbGl0KHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9vcCB0aGUgY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNoYXJhY3RlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFyID0gY2hhcmFjdGVyc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBub3QgYXQgdGhlIGVuZCBvZiB0aGUgdG9rZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChjaGFyYWN0ZXJzW2ogKyBrXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0Q2hhciA9IGNoYXJhY3RlcnNbaiArIGtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXN0Q2hhciA9IGNoYXJbY2hhci5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG91bGQgbm90IHNwbGl0IGNoYXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFUZXh0TWV0cmljcy5jYW5CcmVha0NoYXJzKGxhc3RDaGFyLCBuZXh0Q2hhciwgdG9rZW4sIGosIHN0eWxlLmJyZWFrV29yZHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbWJpbmUgY2hhcnMgJiBtb3ZlIGZvcndhcmQgb25lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXIgKz0gbmV4dENoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaiArPSBjaGFyLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmFjdGVyV2lkdGggPSBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUoY2hhciwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJhY3RlcldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gY2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IGNoYXJhY3RlcldpZHRoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJ1biB3b3JkIG91dCBvZiB0aGUgYm91bmRzXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGFyZSB3b3JkcyBpbiB0aGlzIGxpbmUgYWxyZWFkeVxuICAgICAgICAgICAgICAgICAgICAvLyBmaW5pc2ggdGhhdCBsaW5lIGFuZCBzdGFydCBhIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNMYXN0VG9rZW4gPSBpID09PSB0b2tlbnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2l2ZSBpdCBpdHMgb3duIGxpbmUgaWYgaXQncyBub3QgdGhlIGVuZFxuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKHRva2VuLCAhaXNMYXN0VG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdvcmQgY291bGQgZml0XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB3b3JkIHdvbid0IGZpdCBiZWNhdXNlIG9mIGV4aXN0aW5nIHdvcmRzXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgIGlmICh0b2tlbldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0cyBhIHNwYWNlIHdlIGRvbid0IHdhbnQgaXRcbiAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCBhIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkb24ndCBhZGQgc3BhY2VzIHRvIHRoZSBiZWdpbm5pbmcgb2YgbGluZXNcbiAgICAgICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwIHx8ICFUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UodG9rZW4pIHx8IGNhblByZXBlbmRTcGFjZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSB3b3JkIHRvIHRoZSBjdXJyZW50IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgbGluZSArPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHdpZHRoIGNvdW50ZXJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gdG9rZW5XaWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBsaW5lcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZpZW5pZW5jZSBmdW5jdGlvbiBmb3IgbG9nZ2luZyBlYWNoIGxpbmUgYWRkZWQgZHVyaW5nIHRoZSB3b3JkV3JhcFxuICAgICAqIG1ldGhvZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgbGluZSAgICAgICAgLSBUaGUgbGluZSBvZiB0ZXh0IHRvIGFkZFxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBuZXdMaW5lICAgICAtIEFkZCBuZXcgbGluZSBjaGFyYWN0ZXIgdG8gZW5kXG4gICAgICogQHJldHVybiB7c3RyaW5nfSAgQSBmb3JtYXR0ZWQgbGluZVxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmFkZExpbmUgPSBmdW5jdGlvbiAobGluZSwgbmV3TGluZSkge1xuICAgICAgICBpZiAobmV3TGluZSA9PT0gdm9pZCAwKSB7IG5ld0xpbmUgPSB0cnVlOyB9XG4gICAgICAgIGxpbmUgPSBUZXh0TWV0cmljcy50cmltUmlnaHQobGluZSk7XG4gICAgICAgIGxpbmUgPSAobmV3TGluZSkgPyBsaW5lICsgXCJcXG5cIiA6IGxpbmU7XG4gICAgICAgIHJldHVybiBsaW5lO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyAmIHNldHMgdGhlIHdpZHRocyBvZiBjYWxjdWxhdGVkIGNoYXJhY3RlcnMgaW4gYSBjYWNoZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgICAgICAgICAgICAgICAgICAga2V5ICAgICAgICAgICAgLSBUaGUga2V5XG4gICAgICogQHBhcmFtICB7bnVtYmVyfSAgICAgICAgICAgICAgICAgICAgbGV0dGVyU3BhY2luZyAgLSBUaGUgbGV0dGVyIHNwYWNpbmdcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgICBjYWNoZSAgICAgICAgICAtIFRoZSBjYWNoZVxuICAgICAqIEBwYXJhbSAge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gIGNvbnRleHQgICAgICAgIC0gVGhlIGNhbnZhcyBjb250ZXh0XG4gICAgICogQHJldHVybiB7bnVtYmVyfSAgICAgICAgICAgICAgICAgICAgVGhlIGZyb20gY2FjaGUuXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlID0gZnVuY3Rpb24gKGtleSwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gY2FjaGVba2V5XTtcbiAgICAgICAgaWYgKHdpZHRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBzcGFjaW5nID0gKChrZXkubGVuZ3RoKSAqIGxldHRlclNwYWNpbmcpO1xuICAgICAgICAgICAgd2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGtleSkud2lkdGggKyBzcGFjaW5nO1xuICAgICAgICAgICAgY2FjaGVba2V5XSA9IHdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aWR0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciB3ZSBzaG91bGQgY29sbGFwc2UgYnJlYWtpbmcgc3BhY2VzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICB3aGl0ZVNwYWNlIC0gVGhlIFRleHRTdHlsZSBwcm9wZXJ0eSB3aGl0ZVNwYWNlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIHNob3VsZCBjb2xsYXBzZVxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmNvbGxhcHNlU3BhY2VzID0gZnVuY3Rpb24gKHdoaXRlU3BhY2UpIHtcbiAgICAgICAgcmV0dXJuICh3aGl0ZVNwYWNlID09PSAnbm9ybWFsJyB8fCB3aGl0ZVNwYWNlID09PSAncHJlLWxpbmUnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciB3ZSBzaG91bGQgY29sbGFwc2UgbmV3TGluZSBjaGFyc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgd2hpdGVTcGFjZSAtIFRoZSB3aGl0ZSBzcGFjZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBzaG91bGQgY29sbGFwc2VcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5jb2xsYXBzZU5ld2xpbmVzID0gZnVuY3Rpb24gKHdoaXRlU3BhY2UpIHtcbiAgICAgICAgcmV0dXJuICh3aGl0ZVNwYWNlID09PSAnbm9ybWFsJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiB0cmltcyBicmVha2luZyB3aGl0ZXNwYWNlcyBmcm9tIHN0cmluZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0ZXh0IC0gVGhlIHRleHRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9ICB0cmltbWVkIHN0cmluZ1xuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLnRyaW1SaWdodCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gdGV4dC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIGNoYXIgPSB0ZXh0W2ldO1xuICAgICAgICAgICAgaWYgKCFUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UoY2hhcikpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgY2hhciBpcyBhIG5ld2xpbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgLSBUaGUgY2hhcmFjdGVyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIFRydWUgaWYgbmV3bGluZSwgRmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmlzTmV3bGluZSA9IGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFRleHRNZXRyaWNzLl9uZXdsaW5lcy5pbmRleE9mKGNoYXIuY2hhckNvZGVBdCgwKSkgPj0gMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGNoYXIgaXMgYSBicmVha2luZyB3aGl0ZXNwYWNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICBjaGFyIC0gVGhlIGNoYXJhY3RlclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBUcnVlIGlmIHdoaXRlc3BhY2UsIEZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UgPSBmdW5jdGlvbiAoY2hhcikge1xuICAgICAgICBpZiAodHlwZW9mIGNoYXIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChUZXh0TWV0cmljcy5fYnJlYWtpbmdTcGFjZXMuaW5kZXhPZihjaGFyLmNoYXJDb2RlQXQoMCkpID49IDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3BsaXRzIGEgc3RyaW5nIGludG8gd29yZHMsIGJyZWFraW5nLXNwYWNlcyBhbmQgbmV3TGluZSBjaGFyYWN0ZXJzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRleHQgLSBUaGUgdGV4dFxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfSAgQSB0b2tlbml6ZWQgYXJyYXlcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy50b2tlbml6ZSA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIHZhciB0b2tlbnMgPSBbXTtcbiAgICAgICAgdmFyIHRva2VuID0gJyc7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hhciA9IHRleHRbaV07XG4gICAgICAgICAgICBpZiAoVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGNoYXIpIHx8IFRleHRNZXRyaWNzLmlzTmV3bGluZShjaGFyKSkge1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbiAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaChjaGFyKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2VuICs9IGNoYXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRva2VuICE9PSAnJykge1xuICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBoZWxwZXIgbWV0aG9kIHVzZWQgaW50ZXJuYWxseSBieSBUZXh0TWV0cmljcywgZXhwb3NlZCB0byBhbGxvdyBjdXN0b21pemluZyB0aGUgY2xhc3MncyBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqIEl0IGFsbG93cyBvbmUgdG8gY3VzdG9taXNlIHdoaWNoIHdvcmRzIHNob3VsZCBicmVha1xuICAgICAqIEV4YW1wbGVzIGFyZSBpZiB0aGUgdG9rZW4gaXMgQ0pLIG9yIG51bWJlcnMuXG4gICAgICogSXQgbXVzdCByZXR1cm4gYSBib29sZWFuLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdG9rZW4gICAgICAgLSBUaGUgdG9rZW5cbiAgICAgKiBAcGFyYW0gIHtib29sZWFufSAgYnJlYWtXb3JkcyAtIFRoZSBzdHlsZSBhdHRyIGJyZWFrIHdvcmRzXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0byBicmVhayB3b3JkIG9yIG5vdFxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmNhbkJyZWFrV29yZHMgPSBmdW5jdGlvbiAoX3Rva2VuLCBicmVha1dvcmRzKSB7XG4gICAgICAgIHJldHVybiBicmVha1dvcmRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGFibGUgaGVscGVyIG1ldGhvZCB1c2VkIGludGVybmFsbHkgYnkgVGV4dE1ldHJpY3MsIGV4cG9zZWQgdG8gYWxsb3cgY3VzdG9taXppbmcgdGhlIGNsYXNzJ3MgYmVoYXZpb3IuXG4gICAgICpcbiAgICAgKiBJdCBhbGxvd3Mgb25lIHRvIGRldGVybWluZSB3aGV0aGVyIGEgcGFpciBvZiBjaGFyYWN0ZXJzXG4gICAgICogc2hvdWxkIGJlIGJyb2tlbiBieSBuZXdsaW5lc1xuICAgICAqIEZvciBleGFtcGxlIGNlcnRhaW4gY2hhcmFjdGVycyBpbiBDSksgbGFuZ3Mgb3IgbnVtYmVycy5cbiAgICAgKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICBjaGFyICAgICAgICAtIFRoZSBjaGFyYWN0ZXJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICBuZXh0Q2hhciAgICAtIFRoZSBuZXh0IGNoYXJhY3RlclxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRva2VuICAgICAgIC0gVGhlIHRva2VuL3dvcmQgdGhlIGNoYXJhY3RlcnMgYXJlIGZyb21cbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICBpbmRleCAgICAgICAtIFRoZSBpbmRleCBpbiB0aGUgdG9rZW4gb2YgdGhlIGNoYXJcbiAgICAgKiBAcGFyYW0gIHtib29sZWFufSAgYnJlYWtXb3JkcyAtIFRoZSBzdHlsZSBhdHRyIGJyZWFrIHdvcmRzXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0byBicmVhayB3b3JkIG9yIG5vdFxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmNhbkJyZWFrQ2hhcnMgPSBmdW5jdGlvbiAoX2NoYXIsIF9uZXh0Q2hhciwgX3Rva2VuLCBfaW5kZXgsIF9icmVha1dvcmRzKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGFibGUgaGVscGVyIG1ldGhvZCB1c2VkIGludGVybmFsbHkgYnkgVGV4dE1ldHJpY3MsIGV4cG9zZWQgdG8gYWxsb3cgY3VzdG9taXppbmcgdGhlIGNsYXNzJ3MgYmVoYXZpb3IuXG4gICAgICpcbiAgICAgKiBJdCBpcyBjYWxsZWQgd2hlbiBhIHRva2VuICh1c3VhbGx5IGEgd29yZCkgaGFzIHRvIGJlIHNwbGl0IGludG8gc2VwYXJhdGUgcGllY2VzXG4gICAgICogaW4gb3JkZXIgdG8gZGV0ZXJtaW5lIHRoZSBwb2ludCB0byBicmVhayBhIHdvcmQuXG4gICAgICogSXQgbXVzdCByZXR1cm4gYW4gYXJyYXkgb2YgY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ29ycmVjdGx5IHNwbGl0cyBlbW9qaXMsIGVnIFwi8J+kqvCfpKpcIiB3aWxsIHJlc3VsdCBpbiB0d28gZWxlbWVudCBhcnJheSwgZWFjaCB3aXRoIG9uZSBlbW9qaS5cbiAgICAgKiBUZXh0TWV0cmljcy53b3JkV3JhcFNwbGl0ID0gKHRva2VuKSA9PiBbLi4udG9rZW5dO1xuICAgICAqXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdG9rZW4gLSBUaGUgdG9rZW4gdG8gc3BsaXRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmdbXX0gVGhlIGNoYXJhY3RlcnMgb2YgdGhlIHRva2VuXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3Mud29yZFdyYXBTcGxpdCA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICByZXR1cm4gdG9rZW4uc3BsaXQoJycpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgYXNjZW50LCBkZXNjZW50IGFuZCBmb250U2l6ZSBvZiBhIGdpdmVuIGZvbnQtc3R5bGVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZm9udCAtIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIHN0eWxlIG9mIHRoZSBmb250XG4gICAgICogQHJldHVybiB7UElYSS5JRm9udE1ldHJpY3N9IEZvbnQgcHJvcGVydGllcyBvYmplY3RcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCA9IGZ1bmN0aW9uIChmb250KSB7XG4gICAgICAgIC8vIGFzIHRoaXMgbWV0aG9kIGlzIHVzZWQgZm9yIHByZXBhcmluZyBhc3NldHMsIGRvbid0IHJlY2FsY3VsYXRlIHRoaW5ncyBpZiB3ZSBkb24ndCBuZWVkIHRvXG4gICAgICAgIGlmIChUZXh0TWV0cmljcy5fZm9udHNbZm9udF0pIHtcbiAgICAgICAgICAgIHJldHVybiBUZXh0TWV0cmljcy5fZm9udHNbZm9udF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICBhc2NlbnQ6IDAsXG4gICAgICAgICAgICBkZXNjZW50OiAwLFxuICAgICAgICAgICAgZm9udFNpemU6IDAsXG4gICAgICAgIH07XG4gICAgICAgIHZhciBjYW52YXMgPSBUZXh0TWV0cmljcy5fY2FudmFzO1xuICAgICAgICB2YXIgY29udGV4dCA9IFRleHRNZXRyaWNzLl9jb250ZXh0O1xuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuICAgICAgICB2YXIgbWV0cmljc1N0cmluZyA9IFRleHRNZXRyaWNzLk1FVFJJQ1NfU1RSSU5HICsgVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MO1xuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLmNlaWwoY29udGV4dC5tZWFzdXJlVGV4dChtZXRyaWNzU3RyaW5nKS53aWR0aCk7XG4gICAgICAgIHZhciBiYXNlbGluZSA9IE1hdGguY2VpbChjb250ZXh0Lm1lYXN1cmVUZXh0KFRleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTCkud2lkdGgpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gMiAqIGJhc2VsaW5lO1xuICAgICAgICBiYXNlbGluZSA9IGJhc2VsaW5lICogVGV4dE1ldHJpY3MuQkFTRUxJTkVfTVVMVElQTElFUiB8IDA7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjZjAwJztcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAnYWxwaGFiZXRpYyc7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMwMDAnO1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KG1ldHJpY3NTdHJpbmcsIDAsIGJhc2VsaW5lKTtcbiAgICAgICAgdmFyIGltYWdlZGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpLmRhdGE7XG4gICAgICAgIHZhciBwaXhlbHMgPSBpbWFnZWRhdGEubGVuZ3RoO1xuICAgICAgICB2YXIgbGluZSA9IHdpZHRoICogNDtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgdmFyIHN0b3AgPSBmYWxzZTtcbiAgICAgICAgLy8gYXNjZW50LiBzY2FuIGZyb20gdG9wIHRvIGJvdHRvbSB1bnRpbCB3ZSBmaW5kIGEgbm9uIHJlZCBwaXhlbFxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYmFzZWxpbmU7ICsraSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lOyBqICs9IDQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VkYXRhW2lkeCArIGpdICE9PSAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc3RvcCkge1xuICAgICAgICAgICAgICAgIGlkeCArPSBsaW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvcGVydGllcy5hc2NlbnQgPSBiYXNlbGluZSAtIGk7XG4gICAgICAgIGlkeCA9IHBpeGVscyAtIGxpbmU7XG4gICAgICAgIHN0b3AgPSBmYWxzZTtcbiAgICAgICAgLy8gZGVzY2VudC4gc2NhbiBmcm9tIGJvdHRvbSB0byB0b3AgdW50aWwgd2UgZmluZCBhIG5vbiByZWQgcGl4ZWxcbiAgICAgICAgZm9yIChpID0gaGVpZ2h0OyBpID4gYmFzZWxpbmU7IC0taSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lOyBqICs9IDQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VkYXRhW2lkeCArIGpdICE9PSAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc3RvcCkge1xuICAgICAgICAgICAgICAgIGlkeCAtPSBsaW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvcGVydGllcy5kZXNjZW50ID0gaSAtIGJhc2VsaW5lO1xuICAgICAgICBwcm9wZXJ0aWVzLmZvbnRTaXplID0gcHJvcGVydGllcy5hc2NlbnQgKyBwcm9wZXJ0aWVzLmRlc2NlbnQ7XG4gICAgICAgIFRleHRNZXRyaWNzLl9mb250c1tmb250XSA9IHByb3BlcnRpZXM7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0aWVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXIgZm9udCBtZXRyaWNzIGluIG1ldHJpY3MgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmb250XSAtIGZvbnQgbmFtZS4gSWYgZm9udCBuYW1lIG5vdCBzZXQgdGhlbiBjbGVhciBjYWNoZSBmb3IgYWxsIGZvbnRzLlxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmNsZWFyTWV0cmljcyA9IGZ1bmN0aW9uIChmb250KSB7XG4gICAgICAgIGlmIChmb250ID09PSB2b2lkIDApIHsgZm9udCA9ICcnOyB9XG4gICAgICAgIGlmIChmb250KSB7XG4gICAgICAgICAgICBkZWxldGUgVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgVGV4dE1ldHJpY3MuX2ZvbnRzID0ge307XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUZXh0TWV0cmljcztcbn0oKSk7XG4vKipcbiAqIEludGVybmFsIHJldHVybiBvYmplY3QgZm9yIHtAbGluayBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVGb250IGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udGB9LlxuICpcbiAqIEB0eXBlZGVmIHtvYmplY3R9IEZvbnRNZXRyaWNzXG4gKiBAcHJvcGVydHkge251bWJlcn0gYXNjZW50IC0gVGhlIGFzY2VudCBkaXN0YW5jZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRlc2NlbnQgLSBUaGUgZGVzY2VudCBkaXN0YW5jZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGZvbnRTaXplIC0gRm9udCBzaXplIGZyb20gYXNjZW50IHRvIGRlc2NlbnRcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgY2FudmFzID0gKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBPZmZzY3JlZW5DYW52YXMyRCBtZWFzdXJlVGV4dCBjYW4gYmUgdXAgdG8gNDAlIGZhc3Rlci5cbiAgICAgICAgdmFyIGMgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKDAsIDApO1xuICAgICAgICB2YXIgY29udGV4dCA9IGMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5tZWFzdXJlVGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIH1cbiAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIH1cbn0pKCk7XG5jYW52YXMud2lkdGggPSBjYW52YXMuaGVpZ2h0ID0gMTA7XG4vKipcbiAqIENhY2hlZCBjYW52YXMgZWxlbWVudCBmb3IgbWVhc3VyaW5nIHRleHRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2NhbnZhcyA9IGNhbnZhcztcbi8qKlxuICogQ2FjaGUgZm9yIGNvbnRleHQgdG8gdXNlLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbi8qKlxuICogQ2FjaGUgb2Yge0BzZWUgUElYSS5UZXh0TWV0cmljcy5Gb250TWV0cmljc30gb2JqZWN0cy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9mb250cyA9IHt9O1xuLyoqXG4gKiBTdHJpbmcgdXNlZCBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqIFRoZXNlIGNoYXJhY3RlcnMgYXJlIGFsbCB0YWxsIHRvIGhlbHAgY2FsY3VsYXRlIHRoZSBoZWlnaHQgcmVxdWlyZWQgZm9yIHRleHQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIE1FVFJJQ1NfU1RSSU5HXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGRlZmF1bHQgfMOJccOFXG4gKi9cblRleHRNZXRyaWNzLk1FVFJJQ1NfU1RSSU5HID0gJ3zDiXHDhSc7XG4vKipcbiAqIEJhc2VsaW5lIHN5bWJvbCBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgQkFTRUxJTkVfU1lNQk9MXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGRlZmF1bHQgTVxuICovXG5UZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wgPSAnTSc7XG4vKipcbiAqIEJhc2VsaW5lIG11bHRpcGxpZXIgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIEJBU0VMSU5FX01VTFRJUExJRVJcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCAxLjRcbiAqL1xuVGV4dE1ldHJpY3MuQkFTRUxJTkVfTVVMVElQTElFUiA9IDEuNDtcbi8qKlxuICogQ2FjaGUgb2YgbmV3IGxpbmUgY2hhcnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtudW1iZXJbXX1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9uZXdsaW5lcyA9IFtcbiAgICAweDAwMEEsXG4gICAgMHgwMDBEIF07XG4vKipcbiAqIENhY2hlIG9mIGJyZWFraW5nIHNwYWNlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge251bWJlcltdfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzID0gW1xuICAgIDB4MDAwOSxcbiAgICAweDAwMjAsXG4gICAgMHgyMDAwLFxuICAgIDB4MjAwMSxcbiAgICAweDIwMDIsXG4gICAgMHgyMDAzLFxuICAgIDB4MjAwNCxcbiAgICAweDIwMDUsXG4gICAgMHgyMDA2LFxuICAgIDB4MjAwOCxcbiAgICAweDIwMDksXG4gICAgMHgyMDBBLFxuICAgIDB4MjA1RixcbiAgICAweDMwMDAgXTtcbi8qKlxuICogQSBudW1iZXIsIG9yIGEgc3RyaW5nIGNvbnRhaW5pbmcgYSBudW1iZXIuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIElGb250TWV0cmljc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGFzY2VudCAtIEZvbnQgYXNjZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gZGVzY2VudCAtIEZvbnQgZGVzY2VudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGZvbnRTaXplIC0gRm9udCBzaXplXG4gKi9cblxudmFyIGRlZmF1bHREZXN0cm95T3B0aW9ucyA9IHtcbiAgICB0ZXh0dXJlOiB0cnVlLFxuICAgIGNoaWxkcmVuOiBmYWxzZSxcbiAgICBiYXNlVGV4dHVyZTogdHJ1ZSxcbn07XG4vKipcbiAqIEEgVGV4dCBPYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQuXG4gKlxuICogVGhlIHRleHQgaXMgY3JlYXRlZCB1c2luZyB0aGUgW0NhbnZhcyBBUEldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNfQVBJKS5cbiAqXG4gKiBUaGUgcHJpbWFyeSBhZHZhbnRhZ2Ugb2YgdGhpcyBjbGFzcyBvdmVyIEJpdG1hcFRleHQgaXMgdGhhdCB5b3UgaGF2ZSBncmVhdCBjb250cm9sIG92ZXIgdGhlIHN0eWxlIG9mIHRoZSBuZXh0LFxuICogd2hpY2ggeW91IGNhbiBjaGFuZ2UgYXQgcnVudGltZS5cbiAqXG4gKiBUaGUgcHJpbWFyeSBkaXNhZHZhbnRhZ2VzIGlzIHRoYXQgZWFjaCBwaWVjZSBvZiB0ZXh0IGhhcyBpdCdzIG93biB0ZXh0dXJlLCB3aGljaCBjYW4gdXNlIG1vcmUgbWVtb3J5LlxuICogV2hlbiB0ZXh0IGNoYW5nZXMsIHRoaXMgdGV4dHVyZSBoYXMgdG8gYmUgcmUtZ2VuZXJhdGVkIGFuZCByZS11cGxvYWRlZCB0byB0aGUgR1BVLCB0YWtpbmcgdXAgdGltZS5cbiAqXG4gKiBUbyBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicgaW4geW91ciB0ZXh0IHN0cmluZywgb3IsIG9uIHRoZSBgc3R5bGVgIG9iamVjdCxcbiAqIGNoYW5nZSBpdHMgYHdvcmRXcmFwYCBwcm9wZXJ0eSB0byB0cnVlIGFuZCBhbmQgZ2l2ZSB0aGUgYHdvcmRXcmFwV2lkdGhgIHByb3BlcnR5IGEgdmFsdWUuXG4gKlxuICogQSBUZXh0IGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYSBzdHJpbmcgYW5kIGEgc3R5bGUgb2JqZWN0LFxuICogd2hpY2ggY2FuIGJlIGdlbmVyYXRlZCBbaGVyZV0oaHR0cHM6Ly9waXhpanMuaW8vcGl4aS10ZXh0LXN0eWxlKS5cbiAqXG4gKiBgYGBqc1xuICogbGV0IHRleHQgPSBuZXcgUElYSS5UZXh0KCdUaGlzIGlzIGEgUGl4aUpTIHRleHQnLHtmb250RmFtaWx5IDogJ0FyaWFsJywgZm9udFNpemU6IDI0LCBmaWxsIDogMHhmZjEwMTAsIGFsaWduIDogJ2NlbnRlcid9KTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TcHJpdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZXh0LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHN0cmluZyB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSB0ZXh0IHRvIGRpc3BsYXlcbiAgICAgKiBAcGFyYW0ge29iamVjdHxQSVhJLlRleHRTdHlsZX0gW3N0eWxlXSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBUaGUgY2FudmFzIGVsZW1lbnQgZm9yIGRyYXdpbmcgdGV4dFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHQodGV4dCwgc3R5bGUsIGNhbnZhcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3duQ2FudmFzID0gZmFsc2U7XG4gICAgICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIG93bkNhbnZhcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FudmFzLndpZHRoID0gMztcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IDM7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gVGV4dHVyZS5mcm9tKGNhbnZhcyk7XG4gICAgICAgIHRleHR1cmUub3JpZyA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgdGV4dHVyZS50cmltID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRleHR1cmUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZWVwIHRyYWNrIGlmIHRoaXMgVGV4dCBvYmplY3QgY3JlYXRlZCBpdCdzIG93biBjYW52YXNcbiAgICAgICAgICogZWxlbWVudCAoYHRydWVgKSBvciB1c2VzIHRoZSBjb25zdHJ1Y3RvciBhcmd1bWVudCAoYGZhbHNlYCkuXG4gICAgICAgICAqIFVzZWQgdG8gd29ya2Fyb3VuZCBhIEdDIGlzc3VlcyB3aXRoIFNhZmFyaSA8IDEzIHdoZW5cbiAgICAgICAgICogZGVzdHJveWluZyBUZXh0LiBTZWUgYGRlc3Ryb3lgIGZvciBtb3JlIGluZm8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fb3duQ2FudmFzID0gb3duQ2FudmFzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB0b1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgMmQgY29udGV4dCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gd2l0aFxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0ID0gX3RoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzLlxuICAgICAgICAgKiBUaGlzIGlzIHNldCB0byBhdXRvbWF0aWNhbGx5IG1hdGNoIHRoZSByZW5kZXJlciByZXNvbHV0aW9uIGJ5IGRlZmF1bHQsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBieSBzZXR0aW5nIG1hbnVhbGx5LlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9yZXNvbHV0aW9uID0gc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgX3RoaXMuX2F1dG9SZXNvbHV0aW9uID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBzdHlsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3N0eWxlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgbGlzdGVuZXIgdG8gdHJhY2sgc3R5bGUgY2hhbmdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fc3R5bGVMaXN0ZW5lciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mb250ID0gJyc7XG4gICAgICAgIF90aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICBfdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICBfdGhpcy5sb2NhbFN0eWxlSUQgPSAtMTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgdG8gaXRzIGNhbnZhcywgYW5kIHVwZGF0ZXMgaXRzIHRleHR1cmUuXG4gICAgICogQnkgZGVmYXVsdCB0aGlzIGlzIHVzZWQgaW50ZXJuYWxseSB0byBlbnN1cmUgdGhlIHRleHR1cmUgaXMgY29ycmVjdCBiZWZvcmUgcmVuZGVyaW5nLFxuICAgICAqIGJ1dCBpdCBjYW4gYmUgdXNlZCBjYWxsZWQgZXh0ZXJuYWxseSwgZm9yIGV4YW1wbGUgZnJvbSB0aGlzIGNsYXNzIHRvICdwcmUtZ2VuZXJhdGUnIHRoZSB0ZXh0dXJlIGZyb20gYSBwaWVjZSBvZiB0ZXh0LFxuICAgICAqIGFuZCB0aGVuIHNoYXJlZCBhY3Jvc3MgbXVsdGlwbGUgU3ByaXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVzcGVjdERpcnR5IC0gV2hldGhlciB0byBhYm9ydCB1cGRhdGluZyB0aGUgdGV4dCBpZiB0aGUgVGV4dCBpc24ndCBkaXJ0eSBhbmQgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZC5cbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0ID0gZnVuY3Rpb24gKHJlc3BlY3REaXJ0eSkge1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcbiAgICAgICAgLy8gY2hlY2sgaWYgc3R5bGUgaGFzIGNoYW5nZWQuLlxuICAgICAgICBpZiAodGhpcy5sb2NhbFN0eWxlSUQgIT09IHN0eWxlLnN0eWxlSUQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5sb2NhbFN0eWxlSUQgPSBzdHlsZS5zdHlsZUlEO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5kaXJ0eSAmJiByZXNwZWN0RGlydHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mb250ID0gdGhpcy5fc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICB2YXIgbWVhc3VyZWQgPSBUZXh0TWV0cmljcy5tZWFzdXJlVGV4dCh0aGlzLl90ZXh0IHx8ICcgJywgdGhpcy5fc3R5bGUsIHRoaXMuX3N0eWxlLndvcmRXcmFwLCB0aGlzLmNhbnZhcyk7XG4gICAgICAgIHZhciB3aWR0aCA9IG1lYXN1cmVkLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gbWVhc3VyZWQuaGVpZ2h0O1xuICAgICAgICB2YXIgbGluZXMgPSBtZWFzdXJlZC5saW5lcztcbiAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBtZWFzdXJlZC5saW5lSGVpZ2h0O1xuICAgICAgICB2YXIgbGluZVdpZHRocyA9IG1lYXN1cmVkLmxpbmVXaWR0aHM7XG4gICAgICAgIHZhciBtYXhMaW5lV2lkdGggPSBtZWFzdXJlZC5tYXhMaW5lV2lkdGg7XG4gICAgICAgIHZhciBmb250UHJvcGVydGllcyA9IG1lYXN1cmVkLmZvbnRQcm9wZXJ0aWVzO1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGguY2VpbCgoTWF0aC5tYXgoMSwgd2lkdGgpICsgKHN0eWxlLnBhZGRpbmcgKiAyKSkgKiB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKChNYXRoLm1heCgxLCBoZWlnaHQpICsgKHN0eWxlLnBhZGRpbmcgKiAyKSkgKiB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgY29udGV4dC5zY2FsZSh0aGlzLl9yZXNvbHV0aW9uLCB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgICAgIGNvbnRleHQuZm9udCA9IHRoaXMuX2ZvbnQ7XG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IHN0eWxlLnRleHRCYXNlbGluZTtcbiAgICAgICAgY29udGV4dC5saW5lSm9pbiA9IHN0eWxlLmxpbmVKb2luO1xuICAgICAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSBzdHlsZS5taXRlckxpbWl0O1xuICAgICAgICB2YXIgbGluZVBvc2l0aW9uWDtcbiAgICAgICAgdmFyIGxpbmVQb3NpdGlvblk7XG4gICAgICAgIC8vIHJlcXVpcmUgMiBwYXNzZXMgaWYgYSBzaGFkb3c7IHRoZSBmaXJzdCB0byBkcmF3IHRoZSBkcm9wIHNoYWRvdywgdGhlIHNlY29uZCB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICAgIHZhciBwYXNzZXNDb3VudCA9IHN0eWxlLmRyb3BTaGFkb3cgPyAyIDogMTtcbiAgICAgICAgLy8gRm9yIHY0LCB3ZSBkcmV3IHRleHQgYXQgdGhlIGNvbG91cnMgb2YgdGhlIGRyb3Agc2hhZG93IHVuZGVybmVhdGggdGhlIG5vcm1hbCB0ZXh0LiBUaGlzIGdhdmUgdGhlIGNvcnJlY3QgekluZGV4LFxuICAgICAgICAvLyBidXQgZmVhdHVyZXMgc3VjaCBhcyBhbHBoYSBhbmQgc2hhZG93Ymx1ciBkaWQgbm90IGxvb2sgcmlnaHQgYXQgYWxsLCBzaW5jZSB3ZSB3ZXJlIHVzaW5nIGFjdHVhbCB0ZXh0IGFzIGEgc2hhZG93LlxuICAgICAgICAvL1xuICAgICAgICAvLyBGb3IgdjUuMC4wLCB3ZSBtb3ZlZCBvdmVyIHRvIGp1c3QgdXNlIHRoZSBjYW52YXMgQVBJIGZvciBkcm9wIHNoYWRvd3MsIHdoaWNoIG1hZGUgdGhlbSBsb29rIG11Y2ggbmljZXIgYW5kIG1vcmVcbiAgICAgICAgLy8gdmlzdWFsbHkgcGxlYXNlLCBidXQgbm93IGJlY2F1c2UgdGhlIHN0cm9rZSBpcyBkcmF3biBhbmQgdGhlbiB0aGUgZmlsbCwgZHJvcCBzaGFkb3dzIHdvdWxkIGFwcGVhciBvbiBib3RoIHRoZSBmaWxsXG4gICAgICAgIC8vIGFuZCB0aGUgc3Ryb2tlOyBhbmQgZmlsbCBkcm9wIHNoYWRvd3Mgd291bGQgYXBwZWFyIG92ZXIgdGhlIHRvcCBvZiB0aGUgc3Ryb2tlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBGb3IgdjUuMS4xLCB0aGUgbmV3IHJvdXRlIGlzIHRvIHJldmVydCB0byB2NCBzdHlsZSBvZiBkcmF3aW5nIHRleHQgZmlyc3QgdG8gZ2V0IHRoZSBkcm9wIHNoYWRvd3MgdW5kZXJuZWF0aCBub3JtYWxcbiAgICAgICAgLy8gdGV4dCwgYnV0IGluc3RlYWQgZHJhd2luZyB0ZXh0IGluIHRoZSBjb3JyZWN0IGxvY2F0aW9uLCB3ZSdsbCBkcmF3IGl0IG9mZiBzY3JlZW4gKC1wYWRkaW5nWSksIGFuZCB0aGVuIGFkanVzdCB0aGVcbiAgICAgICAgLy8gZHJvcCBzaGFkb3cgc28gb25seSB0aGF0IGFwcGVhcnMgb24gc2NyZWVuICgrcGFkZGluZ1kpLiBOb3cgd2UnbGwgaGF2ZSB0aGUgY29ycmVjdCBkcmF3IG9yZGVyIG9mIHRoZSBzaGFkb3dcbiAgICAgICAgLy8gYmVuZWF0aCB0aGUgdGV4dCwgd2hpbHN0IGFsc28gaGF2aW5nIHRoZSBwcm9wZXIgdGV4dCBzaGFkb3cgc3R5bGluZy5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXNzZXNDb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgaXNTaGFkb3dQYXNzID0gc3R5bGUuZHJvcFNoYWRvdyAmJiBpID09PSAwO1xuICAgICAgICAgICAgdmFyIGRzT2Zmc2V0VGV4dCA9IGlzU2hhZG93UGFzcyA/IGhlaWdodCAqIDIgOiAwOyAvLyB3ZSBvbmx5IHdhbnQgdGhlIGRyb3Agc2hhZG93LCBzbyBwdXQgdGV4dCB3YXkgb2ZmLXNjcmVlblxuICAgICAgICAgICAgdmFyIGRzT2Zmc2V0U2hhZG93ID0gZHNPZmZzZXRUZXh0ICogdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgaWYgKGlzU2hhZG93UGFzcykge1xuICAgICAgICAgICAgICAgIC8vIE9uIFNhZmFyaSwgdGV4dCB3aXRoIGdyYWRpZW50IGFuZCBkcm9wIHNoYWRvd3MgdG9nZXRoZXIgZG8gbm90IHBvc2l0aW9uIGNvcnJlY3RseVxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzY2FsZSBvZiB0aGUgY2FudmFzIGlzIG5vdCAxOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTk3Njg5XG4gICAgICAgICAgICAgICAgLy8gVGhlcmVmb3JlIHdlJ2xsIHNldCB0aGUgc3R5bGVzIHRvIGJlIGEgcGxhaW4gYmxhY2sgd2hpbHN0IGdlbmVyYXRpbmcgdGhpcyBkcm9wIHNoYWRvd1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgICAgICAgICB2YXIgZHJvcFNoYWRvd0NvbG9yID0gc3R5bGUuZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICAgICAgICAgIHZhciByZ2IgPSBoZXgycmdiKHR5cGVvZiBkcm9wU2hhZG93Q29sb3IgPT09ICdudW1iZXInID8gZHJvcFNoYWRvd0NvbG9yIDogc3RyaW5nMmhleChkcm9wU2hhZG93Q29sb3IpKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gXCJyZ2JhKFwiICsgcmdiWzBdICogMjU1ICsgXCIsXCIgKyByZ2JbMV0gKiAyNTUgKyBcIixcIiArIHJnYlsyXSAqIDI1NSArIFwiLFwiICsgc3R5bGUuZHJvcFNoYWRvd0FscGhhICsgXCIpXCI7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gc3R5bGUuZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gTWF0aC5jb3Moc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSAoTWF0aC5zaW4oc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSkgKyBkc09mZnNldFNoYWRvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHNldCBjYW52YXMgdGV4dCBzdHlsZXNcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuX2dlbmVyYXRlRmlsbFN0eWxlKHN0eWxlLCBsaW5lcywgbWVhc3VyZWQpO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgbnVtYmVyIHR5cGUgYXNcbiAgICAgICAgICAgICAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgICAgICAgICAgICAgLy8gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNTIxXG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLnN0cm9rZTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gJzAnO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IDA7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZHJhdyBsaW5lcyBsaW5lIGJ5IGxpbmVcbiAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IDA7IGlfMSA8IGxpbmVzLmxlbmd0aDsgaV8xKyspIHtcbiAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMjtcbiAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25ZID0gKChzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyKSArIChpXzEgKiBsaW5lSGVpZ2h0KSkgKyBmb250UHJvcGVydGllcy5hc2NlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLmFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXzFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXzFdKSAvIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5zdHJva2UgJiYgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbaV8xXSwgbGluZVBvc2l0aW9uWCArIHN0eWxlLnBhZGRpbmcsIGxpbmVQb3NpdGlvblkgKyBzdHlsZS5wYWRkaW5nIC0gZHNPZmZzZXRUZXh0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLmZpbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhsaW5lc1tpXzFdLCBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcgLSBkc09mZnNldFRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgdGV4dCB3aXRoIGxldHRlci1zcGFjaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHRleHQgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gSG9yaXpvbnRhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBWZXJ0aWNhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJva2U9ZmFsc2VdIC0gSXMgdGhpcyBkcmF3aW5nIGZvciB0aGUgb3V0c2lkZSBzdHJva2Ugb2YgdGhlXG4gICAgICogIHRleHQ/IElmIG5vdCwgaXQncyBmb3IgdGhlIGluc2lkZSBmaWxsXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5kcmF3TGV0dGVyU3BhY2luZyA9IGZ1bmN0aW9uICh0ZXh0LCB4LCB5LCBpc1N0cm9rZSkge1xuICAgICAgICBpZiAoaXNTdHJva2UgPT09IHZvaWQgMCkgeyBpc1N0cm9rZSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuICAgICAgICAvLyBsZXR0ZXJTcGFjaW5nIG9mIDAgbWVhbnMgbm9ybWFsXG4gICAgICAgIHZhciBsZXR0ZXJTcGFjaW5nID0gc3R5bGUubGV0dGVyU3BhY2luZztcbiAgICAgICAgaWYgKGxldHRlclNwYWNpbmcgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChpc1N0cm9rZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50UG9zaXRpb24gPSB4O1xuICAgICAgICAvLyBVc2luZyBBcnJheS5mcm9tIGNvcnJlY3RseSBzcGxpdHMgY2hhcmFjdGVycyB3aGlsc3Qga2VlcGluZyBlbW9qaSB0b2dldGhlci5cbiAgICAgICAgLy8gVGhpcyBpcyBub3Qgc3VwcG9ydGVkIG9uIElFIGFzIGl0IHJlcXVpcmVzIEVTNiwgc28gcmVndWxhciB0ZXh0IHNwbGl0dGluZyBvY2N1cnMuXG4gICAgICAgIC8vIFRoaXMgYWxzbyBkb2Vzbid0IGFjY291bnQgZm9yIGVtb2ppIHRoYXQgYXJlIG11bHRpcGxlIGVtb2ppIHB1dCB0b2dldGhlciB0byBtYWtlIHNvbWV0aGluZyBlbHNlLlxuICAgICAgICAvLyBIYW5kbGluZyBhbGwgb2YgdGhpcyB3b3VsZCByZXF1aXJlIGEgYmlnIGxpYnJhcnkgaXRzZWxmLlxuICAgICAgICAvLyBodHRwczovL21lZGl1bS5jb20vQGdpbHRheWFyL2l0ZXJhdGluZy1vdmVyLWVtb2ppLWNoYXJhY3RlcnMtdGhlLWVzNi13YXktZjA2ZTQ1ODk1MTZcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL29ybGluZy9ncmFwaGVtZS1zcGxpdHRlclxuICAgICAgICB2YXIgc3RyaW5nQXJyYXkgPSBBcnJheS5mcm9tID8gQXJyYXkuZnJvbSh0ZXh0KSA6IHRleHQuc3BsaXQoJycpO1xuICAgICAgICB2YXIgcHJldmlvdXNXaWR0aCA9IHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0KS53aWR0aDtcbiAgICAgICAgdmFyIGN1cnJlbnRXaWR0aCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nQXJyYXkubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50Q2hhciA9IHN0cmluZ0FycmF5W2ldO1xuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQoY3VycmVudENoYXIsIGN1cnJlbnRQb3NpdGlvbiwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQoY3VycmVudENoYXIsIGN1cnJlbnRQb3NpdGlvbiwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50V2lkdGggPSB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGV4dC5zdWJzdHJpbmcoaSArIDEpKS53aWR0aDtcbiAgICAgICAgICAgIGN1cnJlbnRQb3NpdGlvbiArPSBwcmV2aW91c1dpZHRoIC0gY3VycmVudFdpZHRoICsgbGV0dGVyU3BhY2luZztcbiAgICAgICAgICAgIHByZXZpb3VzV2lkdGggPSBjdXJyZW50V2lkdGg7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dHVyZSBzaXplIGJhc2VkIG9uIGNhbnZhcyBzaXplXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnVwZGF0ZVRleHR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgICAgaWYgKHRoaXMuX3N0eWxlLnRyaW0pIHtcbiAgICAgICAgICAgIHZhciB0cmltbWVkID0gdHJpbUNhbnZhcyhjYW52YXMpO1xuICAgICAgICAgICAgaWYgKHRyaW1tZWQuZGF0YSkge1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHRyaW1tZWQud2lkdGg7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHRyaW1tZWQuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5wdXRJbWFnZURhdGEodHJpbW1lZC5kYXRhLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuICAgICAgICB2YXIgcGFkZGluZyA9IHN0eWxlLnRyaW0gPyAwIDogc3R5bGUucGFkZGluZztcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdGV4dHVyZS50cmltLndpZHRoID0gdGV4dHVyZS5fZnJhbWUud2lkdGggPSBNYXRoLmNlaWwoY2FudmFzLndpZHRoIC8gdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIHRleHR1cmUudHJpbS5oZWlnaHQgPSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQgPSBNYXRoLmNlaWwoY2FudmFzLmhlaWdodCAvIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICB0ZXh0dXJlLnRyaW0ueCA9IC1wYWRkaW5nO1xuICAgICAgICB0ZXh0dXJlLnRyaW0ueSA9IC1wYWRkaW5nO1xuICAgICAgICB0ZXh0dXJlLm9yaWcud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCAtIChwYWRkaW5nICogMik7XG4gICAgICAgIHRleHR1cmUub3JpZy5oZWlnaHQgPSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQgLSAocGFkZGluZyAqIDIpO1xuICAgICAgICAvLyBjYWxsIHNwcml0ZSBvblRleHR1cmVVcGRhdGUgdG8gdXBkYXRlIHNjYWxlIGlmIF93aWR0aCBvciBfaGVpZ2h0IHdlcmUgc2V0XG4gICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuICAgICAgICBiYXNlVGV4dHVyZS5zZXRSZWFsU2l6ZShjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQsIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICAvLyBSZWN1cnNpdmVseSB1cGRhdGVzIHRyYW5zZm9ybSBvZiBhbGwgb2JqZWN0cyBmcm9tIHRoZSByb290IHRvIHRoaXMgb25lXG4gICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvUmVzb2x1dGlvbiAmJiB0aGlzLl9yZXNvbHV0aW9uICE9PSByZW5kZXJlci5yZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fcmVuZGVyLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSB0ZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIChyZWN0KSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgVGV4dCBhcyBhIHJlY3RhbmdsZS4gVGhlIGJvdW5kcyBjYWxjdWxhdGlvbiB0YWtlcyB0aGUgd29ybGRUcmFuc2Zvcm0gaW50byBhY2NvdW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbHJlYWR5IGRvbmUgdGhpcyBvbiBUSElTIGZyYW1lLlxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleERhdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBmaWxsIHN0eWxlLiBDYW4gYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhIGdyYWRpZW50IGJhc2VkIG9uIHRoZSBmaWxsIHN0eWxlIGJlaW5nIGFuIGFycmF5XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZSAtIFRoZSBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBsaW5lcyAtIFRoZSBsaW5lcyBvZiB0ZXh0LlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3xudW1iZXJ8Q2FudmFzR3JhZGllbnR9IFRoZSBmaWxsIHN0eWxlXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuX2dlbmVyYXRlRmlsbFN0eWxlID0gZnVuY3Rpb24gKHN0eWxlLCBsaW5lcywgbWV0cmljcykge1xuICAgICAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIG51bWJlciB0eXBlIGFzXG4gICAgICAgIC8vICAgICAgIHRoZSBzZXR0ZXIgY29udmVydHMgdG8gc3RyaW5nLiBTZWUgdGhpcyB0aHJlYWQgZm9yIG1vcmUgZGV0YWlsczpcbiAgICAgICAgLy8gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNTIxXG4gICAgICAgIHZhciBmaWxsU3R5bGUgPSBzdHlsZS5maWxsO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZmlsbFN0eWxlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbGxTdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaWxsU3R5bGUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsbFN0eWxlWzBdO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSBncmFkaWVudCB3aWxsIGJlIGV2ZW5seSBzcGFjZWQgb3V0IGFjY29yZGluZyB0byBob3cgbGFyZ2UgdGhlIGFycmF5IGlzLlxuICAgICAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gd291bGQgY3JlYXRlZCBzdG9wcyBhdCAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICAgICAgdmFyIGdyYWRpZW50O1xuICAgICAgICAvLyBhIGRyb3BzaGFkb3cgd2lsbCBlbmxhcmdlIHRoZSBjYW52YXMgYW5kIHJlc3VsdCBpbiB0aGUgZ3JhZGllbnQgYmVpbmdcbiAgICAgICAgLy8gZ2VuZXJhdGVkIHdpdGggdGhlIGluY29ycmVjdCBkaW1lbnNpb25zXG4gICAgICAgIHZhciBkcm9wU2hhZG93Q29ycmVjdGlvbiA9IChzdHlsZS5kcm9wU2hhZG93KSA/IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSA6IDA7XG4gICAgICAgIC8vIHNob3VsZCBhbHNvIHRha2UgcGFkZGluZyBpbnRvIGFjY291bnQsIHBhZGRpbmcgY2FuIG9mZnNldCB0aGUgZ3JhZGllbnRcbiAgICAgICAgdmFyIHBhZGRpbmcgPSBzdHlsZS5wYWRkaW5nIHx8IDA7XG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy53aWR0aCAvIHRoaXMuX3Jlc29sdXRpb24pIC0gZHJvcFNoYWRvd0NvcnJlY3Rpb24gLSAocGFkZGluZyAqIDIpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5jZWlsKHRoaXMuY2FudmFzLmhlaWdodCAvIHRoaXMuX3Jlc29sdXRpb24pIC0gZHJvcFNoYWRvd0NvcnJlY3Rpb24gLSAocGFkZGluZyAqIDIpO1xuICAgICAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgc3R5bGUgc2V0dGluZ3MsIHNvIHdlIGNhbiBtYW5pcHVsYXRlIHRoZW0gbGF0ZXJcbiAgICAgICAgdmFyIGZpbGwgPSBmaWxsU3R5bGUuc2xpY2UoKTtcbiAgICAgICAgdmFyIGZpbGxHcmFkaWVudFN0b3BzID0gc3R5bGUuZmlsbEdyYWRpZW50U3RvcHMuc2xpY2UoKTtcbiAgICAgICAgLy8gd2FudGluZyB0byBldmVubHkgZGlzdHJpYnV0ZSB0aGUgZmlsbHMuIFNvIGFuIGFycmF5IG9mIDQgY29sb3VycyBzaG91bGQgZ2l2ZSBmaWxscyBvZiAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICAgICAgaWYgKCFmaWxsR3JhZGllbnRTdG9wcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBsZW5ndGhQbHVzMSA9IGZpbGwubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoUGx1czE7ICsraSkge1xuICAgICAgICAgICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goaSAvIGxlbmd0aFBsdXMxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzdG9wIHRoZSBibGVlZGluZyBvZiB0aGUgbGFzdCBncmFkaWVudCBvbiB0aGUgbGluZSBhYm92ZSB0byB0aGUgdG9wIGdyYWRpZW50IG9mIHRoZSB0aGlzIGxpbmVcbiAgICAgICAgLy8gYnkgaGFyZCBkZWZpbmluZyB0aGUgZmlyc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDAsIGFuZCBsYXN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAxXG4gICAgICAgIGZpbGwudW5zaGlmdChmaWxsU3R5bGVbMF0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy51bnNoaWZ0KDApO1xuICAgICAgICBmaWxsLnB1c2goZmlsbFN0eWxlW2ZpbGxTdHlsZS5sZW5ndGggLSAxXSk7XG4gICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goMSk7XG4gICAgICAgIGlmIChzdHlsZS5maWxsR3JhZGllbnRUeXBlID09PSBURVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTCkge1xuICAgICAgICAgICAgLy8gc3RhcnQgdGhlIGdyYWRpZW50IGF0IHRoZSB0b3AgY2VudGVyIG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGJvdHRvbSBtaWRkbGUgb2YgdGhlIGNhbnZhc1xuICAgICAgICAgICAgZ3JhZGllbnQgPSB0aGlzLmNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQod2lkdGggLyAyLCBwYWRkaW5nLCB3aWR0aCAvIDIsIGhlaWdodCArIHBhZGRpbmcpO1xuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byByZXBlYXQgdGhlIGdyYWRpZW50IHNvIHRoYXQgZWFjaCBpbmRpdmlkdWFsIGxpbmUgb2YgdGV4dCBoYXMgdGhlIHNhbWUgdmVydGljYWwgZ3JhZGllbnQgZWZmZWN0XG4gICAgICAgICAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gb3ZlciAyIGxpbmVzIHdvdWxkIGNyZWF0ZSBzdG9wcyBhdCAwLjEyNSwgMC4yNSwgMC4zNzUsIDAuNjI1LCAwLjc1LCAwLjg3NVxuICAgICAgICAgICAgLy8gVGhlcmUncyBwb3RlbnRpYWwgZm9yIGZsb2F0aW5nIHBvaW50IHByZWNpc2lvbiBpc3N1ZXMgYXQgdGhlIHNlYW1zIGJldHdlZW4gZ3JhZGllbnQgcmVwZWF0cy5cbiAgICAgICAgICAgIC8vIFRoZSBsb29wIGJlbG93IGdlbmVyYXRlcyB0aGUgc3RvcHMgaW4gb3JkZXIsIHNvIHRyYWNrIHRoZSBsYXN0IGdlbmVyYXRlZCBvbmUgdG8gcHJldmVudFxuICAgICAgICAgICAgLy8gZmxvYXRpbmcgcG9pbnQgcHJlY2lzaW9uIGZyb20gbWFraW5nIHVzIGdvIHRoZSB0ZWVuaWVzdCBiaXQgYmFja3dhcmRzLCByZXN1bHRpbmcgaW5cbiAgICAgICAgICAgIC8vIHRoZSBmaXJzdCBhbmQgbGFzdCBjb2xvcnMgZ2V0dGluZyBzd2FwcGVkLlxuICAgICAgICAgICAgdmFyIGxhc3RJdGVyYXRpb25TdG9wID0gMDtcbiAgICAgICAgICAgIC8vIEFjdHVhbCBoZWlnaHQgb2YgdGhlIHRleHQgaXRzZWxmLCBub3QgY291bnRpbmcgc3BhY2luZyBmb3IgbGluZUhlaWdodC9sZWFkaW5nL2Ryb3BTaGFkb3cgZXRjXG4gICAgICAgICAgICB2YXIgdGV4dEhlaWdodCA9IG1ldHJpY3MuZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgICAgICAvLyB0ZXh0SGVpZ2h0LCBidXQgYXMgYSAwLTEgc2l6ZSBpbiBnbG9iYWwgZ3JhZGllbnQgc3RvcCBzcGFjZVxuICAgICAgICAgICAgdmFyIGdyYWRTdG9wTGluZUhlaWdodCA9IHRleHRIZWlnaHQgLyBoZWlnaHQ7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoaXNMaW5lVG9wID0gbWV0cmljcy5saW5lSGVpZ2h0ICogaTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZpbGwubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gMC0xIHN0b3AgcG9pbnQgZm9yIHRoZSBjdXJyZW50IGxpbmUsIG11bHRpcGxpZWQgdG8gZ2xvYmFsIHNwYWNlIGFmdGVyd2FyZHNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmVTdG9wID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tqXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbal07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RvcCA9IGogLyBmaWxsLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgZ2xvYmFsU3RvcCA9ICh0aGlzTGluZVRvcCAvIGhlaWdodCkgKyAobGluZVN0b3AgKiBncmFkU3RvcExpbmVIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGNvbG9yIHN0b3AgZ2VuZXJhdGlvbiBnb2luZyBiYWNrd2FyZHMgZnJvbSBmbG9hdGluZyBwb2ludCBpbXByZWNpc2lvblxuICAgICAgICAgICAgICAgICAgICB2YXIgY2xhbXBlZFN0b3AgPSBNYXRoLm1heChsYXN0SXRlcmF0aW9uU3RvcCwgZ2xvYmFsU3RvcCk7XG4gICAgICAgICAgICAgICAgICAgIGNsYW1wZWRTdG9wID0gTWF0aC5taW4oY2xhbXBlZFN0b3AsIDEpOyAvLyBDYXAgYXQgMSBhcyB3ZWxsIGZvciBzYWZldHkncyBzYWtlIHRvIGF2b2lkIGEgcG9zc2libGUgdGhyb3cuXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChjbGFtcGVkU3RvcCwgZmlsbFtqXSk7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RJdGVyYXRpb25TdG9wID0gY2xhbXBlZFN0b3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc3RhcnQgdGhlIGdyYWRpZW50IGF0IHRoZSBjZW50ZXIgbGVmdCBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBjZW50ZXIgcmlnaHQgb2YgdGhlIGNhbnZhc1xuICAgICAgICAgICAgZ3JhZGllbnQgPSB0aGlzLmNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQocGFkZGluZywgaGVpZ2h0IC8gMiwgd2lkdGggKyBwYWRkaW5nLCBoZWlnaHQgLyAyKTtcbiAgICAgICAgICAgIC8vIGNhbiBqdXN0IGV2ZW5seSBzcGFjZSBvdXQgdGhlIGdyYWRpZW50cyBpbiB0aGlzIGNhc2UsIGFzIG11bHRpcGxlIGxpbmVzIG1ha2VzIG5vIGRpZmZlcmVuY2VcbiAgICAgICAgICAgIC8vIHRvIGFuIGV2ZW4gbGVmdCB0byByaWdodCBncmFkaWVudFxuICAgICAgICAgICAgdmFyIHRvdGFsSXRlcmF0aW9ucyA9IGZpbGwubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50SXRlcmF0aW9uID0gMTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBzdG9wID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbaV0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSBmaWxsR3JhZGllbnRTdG9wc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcCwgZmlsbFtpXSk7XG4gICAgICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbisrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBncmFkaWVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dCBvYmplY3QuXG4gICAgICogTm90ZSogVW5saWtlIGEgU3ByaXRlLCBhIFRleHQgb2JqZWN0IHdpbGwgYXV0b21hdGljYWxseSBkZXN0cm95IGl0cyBiYXNlVGV4dHVyZSBhbmQgdGV4dHVyZSBhc1xuICAgICAqIHRoZSBtYWpvcml0eSBvZiB0aGUgdGltZSB0aGUgdGV4dHVyZSB3aWxsIG5vdCBiZSBzaGFyZWQgd2l0aCBhbnkgb3RoZXIgU3ByaXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXJcbiAgICAgKiAgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9dHJ1ZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9dHJ1ZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgY2hpbGRyZW46IG9wdGlvbnMgfTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdERlc3Ryb3lPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIC8vIHNldCBjYW52YXMgd2lkdGggYW5kIGhlaWdodCB0byAwIHRvIHdvcmthcm91bmQgbWVtb3J5IGxlYWsgaW4gU2FmYXJpIDwgMTNcbiAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTI1MzI2MTQvdG90YWwtY2FudmFzLW1lbW9yeS11c2UtZXhjZWVkcy10aGUtbWF4aW11bS1saW1pdC1zYWZhcmktMTJcbiAgICAgICAgaWYgKHRoaXMuX293bkNhbnZhcykge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMud2lkdGggPSAwO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0byByZXNldCB0aGUgdGhlIGNvbnRleHQgYW5kIGNhbnZhcy4uIGRvbnQgd2FudCB0aGlzIGhhbmdpbmcgYXJvdW5kIGluIG1lbW9yeSFcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dC5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBUZXh0LCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueCkgfHwgMTtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dC5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRleHQsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueSkgfHwgMTtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0LnByb3RvdHlwZSwgXCJzdHlsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIHN0eWxlIG9mIHRoZSB0ZXh0LiBTZXQgdXAgYW4gZXZlbnQgbGlzdGVuZXIgdG8gbGlzdGVuIGZvciBjaGFuZ2VzIG9uIHRoZSBzdHlsZVxuICAgICAgICAgKiBvYmplY3QgYW5kIG1hcmsgdGhlIHRleHQgYXMgZGlydHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdHxQSVhJLlRleHRTdHlsZX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gVE9ETzogQ2FuJ3QgaGF2ZSBkaWZmZXJlbnQgdHlwZXMgZm9yIGdldHRlciBhbmQgc2V0dGVyLiBUaGUgZ2V0dGVyIHNob3VsZG4ndCBoYXZlIHRoZSBJVGV4dFN0eWxlXG4gICAgICAgICAgICAvLyAgICAgICBzaW5jZSB0aGUgc2V0dGVyIGNyZWF0ZXMgdGhlIFRleHRTdHlsZS4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgICAgICAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdHlsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3R5bGUpIHtcbiAgICAgICAgICAgIHN0eWxlID0gc3R5bGUgfHwge307XG4gICAgICAgICAgICBpZiAoc3R5bGUgaW5zdGFuY2VvZiBUZXh0U3R5bGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHlsZSA9IHN0eWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGUgPSBuZXcgVGV4dFN0eWxlKHN0eWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0LnByb3RvdHlwZSwgXCJ0ZXh0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgY29weSBmb3IgdGhlIHRleHQgb2JqZWN0LiBUbyBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgICAgIHRleHQgPSBTdHJpbmcodGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB1bmRlZmluZWQgPyAnJyA6IHRleHQpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHQgPT09IHRleHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHQucHJvdG90eXBlLCBcInJlc29sdXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhcy5cbiAgICAgICAgICogVGhpcyBpcyBzZXQgdG8gYXV0b21hdGljYWxseSBtYXRjaCB0aGUgcmVuZGVyZXIgcmVzb2x1dGlvbiBieSBkZWZhdWx0LCBidXQgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyBtYW51YWxseS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHV0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fYXV0b1Jlc29sdXRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZXNvbHV0aW9uID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFRleHQ7XG59KFNwcml0ZSkpO1xuXG5leHBvcnQgeyBURVhUX0dSQURJRU5ULCBUZXh0LCBUZXh0TWV0cmljcywgVGV4dFN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9zcHJpdGUgLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvc3ByaXRlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBQb2ludCwgT2JzZXJ2YWJsZVBvaW50LCBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgc2lnbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbnZhciBpbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KFswLCAxLCAyLCAwLCAyLCAzXSk7XG4vKipcbiAqIFRoZSBTcHJpdGUgb2JqZWN0IGlzIHRoZSBiYXNlIGZvciBhbGwgdGV4dHVyZWQgb2JqZWN0cyB0aGF0IGFyZSByZW5kZXJlZCB0byB0aGUgc2NyZWVuXG4qXG4gKiBBIHNwcml0ZSBjYW4gYmUgY3JlYXRlZCBkaXJlY3RseSBmcm9tIGFuIGltYWdlIGxpa2UgdGhpczpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oJ2Fzc2V0cy9pbWFnZS5wbmcnKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBtb3JlIGVmZmljaWVudCB3YXkgdG8gY3JlYXRlIHNwcml0ZXMgaXMgdXNpbmcgYSB7QGxpbmsgUElYSS5TcHJpdGVzaGVldH0sXG4gKiBhcyBzd2FwcGluZyBiYXNlIHRleHR1cmVzIHdoZW4gcmVuZGVyaW5nIHRvIHRoZSBzY3JlZW4gaXMgaW5lZmZpY2llbnQuXG4gKlxuICogYGBganNcbiAqIFBJWEkuTG9hZGVyLnNoYXJlZC5hZGQoXCJhc3NldHMvc3ByaXRlc2hlZXQuanNvblwiKS5sb2FkKHNldHVwKTtcbiAqXG4gKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAqICAgbGV0IHNoZWV0ID0gUElYSS5Mb2FkZXIuc2hhcmVkLnJlc291cmNlc1tcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCJdLnNwcml0ZXNoZWV0O1xuICogICBsZXQgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHNoZWV0LnRleHR1cmVzW1wiaW1hZ2UucG5nXCJdKTtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3ByaXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTcHJpdGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFt0ZXh0dXJlXSAtIFRoZSB0ZXh0dXJlIGZvciB0aGlzIHNwcml0ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTcHJpdGUodGV4dHVyZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuY2hvciBwb2ludCBkZWZpbmVzIHRoZSBub3JtYWxpemVkIGNvb3JkaW5hdGVzXG4gICAgICAgICAqIGluIHRoZSB0ZXh0dXJlIHRoYXQgbWFwIHRvIHRoZSBwb3NpdGlvbiBvZiB0aGlzXG4gICAgICAgICAqIHNwcml0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQnkgZGVmYXVsdCwgdGhpcyBpcyBgKDAsMClgIChvciBgdGV4dHVyZS5kZWZhdWx0QW5jaG9yYFxuICAgICAgICAgKiBpZiB5b3UgaGF2ZSBtb2RpZmllZCB0aGF0KSwgd2hpY2ggbWVhbnMgdGhlIHBvc2l0aW9uXG4gICAgICAgICAqIGAoeCx5KWAgb2YgdGhpcyBgU3ByaXRlYCB3aWxsIGJlIHRoZSB0b3AtbGVmdCBjb3JuZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIE5vdGU6IFVwZGF0aW5nIGB0ZXh0dXJlLmRlZmF1bHRBbmNob3JgIGFmdGVyXG4gICAgICAgICAqIGNvbnN0cnVjdGluZyBhIGBTcHJpdGVgIGRvZXMgX25vdF8gdXBkYXRlIGl0cyBhbmNob3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIHtAbGluayBodHRwczovL2RvY3MuY29jb3MyZC14Lm9yZy9jb2NvczJkLXgvZW4vc3ByaXRlcy9tYW5pcHVsYXRpb24uaHRtbH1cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgYHRleHR1cmUuZGVmYXVsdEFuY2hvcmBcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYW5jaG9yID0gbmV3IE9ic2VydmFibGVQb2ludChfdGhpcy5fb25BbmNob3JVcGRhdGUsIF90aGlzLCAodGV4dHVyZSA/IHRleHR1cmUuZGVmYXVsdEFuY2hvci54IDogMCksICh0ZXh0dXJlID8gdGV4dHVyZS5kZWZhdWx0QW5jaG9yLnkgOiAwKSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBzcHJpdGUgaXMgdXNpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHR1cmUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUgKHRoaXMgaXMgaW5pdGlhbGx5IHNldCBieSB0aGUgdGV4dHVyZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fd2lkdGggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgc3ByaXRlICh0aGlzIGlzIGluaXRpYWxseSBzZXQgYnkgdGhlIHRleHR1cmUpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2hlaWdodCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGludCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFRoaXMgaXMgYSBSR0IgdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDE2Nzc3MjE1XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGludFJHQiA9IG51bGw7XG4gICAgICAgIF90aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGVkIHRpbnQgdmFsdWUgc28gd2UgY2FuIHRlbGwgd2hlbiB0aGUgdGludCBpcyBjaGFuZ2VkLlxuICAgICAgICAgKiBWYWx1ZSBpcyB1c2VkIGZvciAyZCBDYW52YXNSZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhpcyBpcyB1c2VkIHRvIHN0b3JlIHRoZSB1dnMgZGF0YSBvZiB0aGUgc3ByaXRlLCBhc3NpZ25lZCBhdCB0aGUgc2FtZSB0aW1lXG4gICAgICAgICAqIGFzIHRoZSB2ZXJ0ZXhEYXRhIGluIGNhbGN1bGF0ZVZlcnRpY2VzKClcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZzID0gbnVsbDtcbiAgICAgICAgLy8gY2FsbCB0ZXh0dXJlIHNldHRlclxuICAgICAgICBfdGhpcy50ZXh0dXJlID0gdGV4dHVyZSB8fCBUZXh0dXJlLkVNUFRZO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhpcyBpcyB1c2VkIHRvIHN0b3JlIHRoZSB2ZXJ0ZXggZGF0YSBvZiB0aGUgc3ByaXRlIChiYXNpY2FsbHkgYSBxdWFkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdXNlZCB0byBjYWxjdWxhdGUgdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0IElGIGl0IGlzIGEgdHJpbW1lZCBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGV4VHJpbW1lZERhdGEgPSBudWxsO1xuICAgICAgICBfdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgX3RoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICBfdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gLTE7XG4gICAgICAgIF90aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgIC8vIEJhdGNoYWJsZSBzdHVmZi4uXG4gICAgICAgIC8vIFRPRE8gY291bGQgbWFrZSB0aGlzIGEgbWl4aW4/XG4gICAgICAgIF90aGlzLmluZGljZXMgPSBpbmRpY2VzO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGx1Z2luIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyB0aGlzIGVsZW1lbnQuXG4gICAgICAgICAqIEFsbG93cyB0byBjdXN0b21pemUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIHdpdGhvdXQgb3ZlcnJpZGluZyAnX3JlbmRlcicgJiAnX3JlbmRlckNhbnZhcycgbWV0aG9kcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnYmF0Y2gnXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbHVnaW5OYW1lID0gJ2JhdGNoJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVzZWQgdG8gZmFzdCBjaGVjayBpZiBhIHNwcml0ZSBpcy4uIGEgc3ByaXRlIVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXNTcHJpdGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcm91bmRQaXhlbHMgZmllbGRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSB0ZXh0dXJlIGlzIHVwZGF0ZWQsIHRoaXMgZXZlbnQgd2lsbCBmaXJlIHRvIHVwZGF0ZSB0aGUgc2NhbGUgYW5kIGZyYW1lXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgICAgIC8vIHNvIGlmIF93aWR0aCBpcyAwIHRoZW4gd2lkdGggd2FzIG5vdCBzZXQuLlxuICAgICAgICBpZiAodGhpcy5fd2lkdGgpIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHNpZ24odGhpcy5zY2FsZS54KSAqIHRoaXMuX3dpZHRoIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHNpZ24odGhpcy5zY2FsZS55KSAqIHRoaXMuX2hlaWdodCAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBhbmNob3IgcG9zaXRpb24gdXBkYXRlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fb25BbmNob3JVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IC0xO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzLCBzdG9yZSBpdCBpbiB2ZXJ0ZXhEYXRhXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5jYWxjdWxhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEICYmIHRoaXMuX3RleHR1cmVJRCA9PT0gdGV4dHVyZS5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyB1cGRhdGUgdGV4dHVyZSBVViBoZXJlLCBiZWNhdXNlIGJhc2UgdGV4dHVyZSBjYW4gYmUgY2hhbmdlZCB3aXRob3V0IGNhbGxpbmcgYF9vblRleHR1cmVVcGRhdGVgXG4gICAgICAgIGlmICh0aGlzLl90ZXh0dXJlSUQgIT09IHRleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICB0aGlzLnV2cyA9IHRoaXMuX3RleHR1cmUuX3V2cy51dnNGbG9hdDMyO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRleHR1cmUuX3VwZGF0ZUlEO1xuICAgICAgICAvLyBzZXQgdGhlIHZlcnRleCBkYXRhXG4gICAgICAgIHZhciB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IHd0LmE7XG4gICAgICAgIHZhciBiID0gd3QuYjtcbiAgICAgICAgdmFyIGMgPSB3dC5jO1xuICAgICAgICB2YXIgZCA9IHd0LmQ7XG4gICAgICAgIHZhciB0eCA9IHd0LnR4O1xuICAgICAgICB2YXIgdHkgPSB3dC50eTtcbiAgICAgICAgdmFyIHZlcnRleERhdGEgPSB0aGlzLnZlcnRleERhdGE7XG4gICAgICAgIHZhciB0cmltID0gdGV4dHVyZS50cmltO1xuICAgICAgICB2YXIgb3JpZyA9IHRleHR1cmUub3JpZztcbiAgICAgICAgdmFyIGFuY2hvciA9IHRoaXMuX2FuY2hvcjtcbiAgICAgICAgdmFyIHcwID0gMDtcbiAgICAgICAgdmFyIHcxID0gMDtcbiAgICAgICAgdmFyIGgwID0gMDtcbiAgICAgICAgdmFyIGgxID0gMDtcbiAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZCBhbmQgaXMgbm90IGEgdGlsaW5nc3ByaXRlIHRoZW4gd2UgbmVlZCB0byBhZGQgdGhlIGV4dHJhXG4gICAgICAgICAgICAvLyBzcGFjZSBiZWZvcmUgdHJhbnNmb3JtaW5nIHRoZSBzcHJpdGUgY29vcmRzLlxuICAgICAgICAgICAgdzEgPSB0cmltLnggLSAoYW5jaG9yLl94ICogb3JpZy53aWR0aCk7XG4gICAgICAgICAgICB3MCA9IHcxICsgdHJpbS53aWR0aDtcbiAgICAgICAgICAgIGgxID0gdHJpbS55IC0gKGFuY2hvci5feSAqIG9yaWcuaGVpZ2h0KTtcbiAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHcxID0gLWFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICAgICAgICB3MCA9IHcxICsgb3JpZy53aWR0aDtcbiAgICAgICAgICAgIGgxID0gLWFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgaDAgPSBoMSArIG9yaWcuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMF0gPSAoYSAqIHcxKSArIChjICogaDEpICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbMV0gPSAoZCAqIGgxKSArIChiICogdzEpICsgdHk7XG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMl0gPSAoYSAqIHcwKSArIChjICogaDEpICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbM10gPSAoZCAqIGgxKSArIChiICogdzApICsgdHk7XG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNF0gPSAoYSAqIHcwKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbNV0gPSAoZCAqIGgwKSArIChiICogdzApICsgdHk7XG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNl0gPSAoYSAqIHcxKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbN10gPSAoZCAqIGgwKSArIChiICogdzEpICsgdHk7XG4gICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YVtpXSA9IE1hdGgucm91bmQoKHZlcnRleERhdGFbaV0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzIGZvciBhIG5vbiB0ZXh0dXJlIHdpdGggYSB0cmltLiBzdG9yZSBpdCBpbiB2ZXJ0ZXhUcmltbWVkRGF0YVxuICAgICAqIFRoaXMgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCB0aGUgdHJ1ZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIGEgdHJpbW1lZCB0ZXh0dXJlIGlzIHJlc3BlY3RlZFxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMudmVydGV4VHJpbW1lZERhdGEpIHtcbiAgICAgICAgICAgIHRoaXMudmVydGV4VHJpbW1lZERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQgJiYgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9PT0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEO1xuICAgICAgICAvLyBsZXRzIGRvIHNvbWUgc3BlY2lhbCB0cmltIGNvZGUhXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIHZlcnRleERhdGEgPSB0aGlzLnZlcnRleFRyaW1tZWREYXRhO1xuICAgICAgICB2YXIgb3JpZyA9IHRleHR1cmUub3JpZztcbiAgICAgICAgdmFyIGFuY2hvciA9IHRoaXMuX2FuY2hvcjtcbiAgICAgICAgLy8gbGV0cyBjYWxjdWxhdGUgdGhlIG5ldyB1bnRyaW1tZWQgYm91bmRzLi5cbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuICAgICAgICB2YXIgdzEgPSAtYW5jaG9yLl94ICogb3JpZy53aWR0aDtcbiAgICAgICAgdmFyIHcwID0gdzEgKyBvcmlnLndpZHRoO1xuICAgICAgICB2YXIgaDEgPSAtYW5jaG9yLl95ICogb3JpZy5oZWlnaHQ7XG4gICAgICAgIHZhciBoMCA9IGgxICsgb3JpZy5oZWlnaHQ7XG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMF0gPSAoYSAqIHcxKSArIChjICogaDEpICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbMV0gPSAoZCAqIGgxKSArIChiICogdzEpICsgdHk7XG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMl0gPSAoYSAqIHcwKSArIChjICogaDEpICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbM10gPSAoZCAqIGgxKSArIChiICogdzApICsgdHk7XG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNF0gPSAoYSAqIHcwKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbNV0gPSAoZCAqIGgwKSArIChiICogdzApICsgdHk7XG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNl0gPSAoYSAqIHcxKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbN10gPSAoZCAqIGgwKSArIChiICogdzEpICsgdHk7XG4gICAgfTtcbiAgICAvKipcbiAgICAqXG4gICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgKlxuICAgICogQHByb3RlY3RlZFxuICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSB3ZWJnbCByZW5kZXJlciB0byB1c2UuXG4gICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdHJpbSA9IHRoaXMuX3RleHR1cmUudHJpbTtcbiAgICAgICAgdmFyIG9yaWcgPSB0aGlzLl90ZXh0dXJlLm9yaWc7XG4gICAgICAgIC8vIEZpcnN0IGxldHMgY2hlY2sgdG8gc2VlIGlmIHRoZSBjdXJyZW50IHRleHR1cmUgaGFzIGEgdHJpbS4uXG4gICAgICAgIGlmICghdHJpbSB8fCAodHJpbS53aWR0aCA9PT0gb3JpZy53aWR0aCAmJiB0cmltLmhlaWdodCA9PT0gb3JpZy5oZWlnaHQpKSB7XG4gICAgICAgICAgICAvLyBubyB0cmltISBsZXRzIHVzZSB0aGUgdXN1YWwgY2FsY3VsYXRpb25zLi5cbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBsZXRzIGNhbGN1bGF0ZSBhIHNwZWNpYWwgdHJpbW1lZCBib3VuZHMuLi5cbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzKCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleFRyaW1tZWREYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIChyZWN0KSB7XG4gICAgICAgIC8vIHdlIGNhbiBkbyBhIGZhc3QgbG9jYWwgYm91bmRzIGlmIHRoZSBzcHJpdGUgaGFzIG5vIGNoaWxkcmVuIVxuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5YID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5ZID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhZID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcbiAgICAgICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIHNwcml0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvaW50IC0gdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB2YXIgeDEgPSAtd2lkdGggKiB0aGlzLmFuY2hvci54O1xuICAgICAgICB2YXIgeTEgPSAwO1xuICAgICAgICBpZiAodGVtcFBvaW50LnggPj0geDEgJiYgdGVtcFBvaW50LnggPCB4MSArIHdpZHRoKSB7XG4gICAgICAgICAgICB5MSA9IC1oZWlnaHQgKiB0aGlzLmFuY2hvci55O1xuICAgICAgICAgICAgaWYgKHRlbXBQb2ludC55ID49IHkxICYmIHRlbXBQb2ludC55IDwgeTEgKyBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHNwcml0ZSBhbmQgb3B0aW9uYWxseSBpdHMgdGV4dHVyZSBhbmQgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl90ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fYW5jaG9yID0gbnVsbDtcbiAgICAgICAgdmFyIGRlc3Ryb3lUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMudGV4dHVyZTtcbiAgICAgICAgaWYgKGRlc3Ryb3lUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgZGVzdHJveUJhc2VUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlLmRlc3Ryb3koISFkZXN0cm95QmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xuICAgIH07XG4gICAgLy8gc29tZSBoZWxwZXIgZnVuY3Rpb25zLi5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5UZXh0dXJlfEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX0gVGhlIG5ld2x5IGNyZWF0ZWQgc3ByaXRlXG4gICAgICovXG4gICAgU3ByaXRlLmZyb20gPSBmdW5jdGlvbiAoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gKHNvdXJjZSBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgICAgICA/IHNvdXJjZVxuICAgICAgICAgICAgOiBUZXh0dXJlLmZyb20oc291cmNlLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3ByaXRlLnByb3RvdHlwZSwgXCJyb3VuZFBpeGVsc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdW5kUGl4ZWxzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAgICAgKiBUbyBzZXQgdGhlIGdsb2JhbCBkZWZhdWx0LCBjaGFuZ2Uge0BsaW5rIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscyAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueCkgfHwgMTtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3ByaXRlLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBzID0gc2lnbih0aGlzLnNjYWxlLnkpIHx8IDE7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3ByaXRlLnByb3RvdHlwZSwgXCJhbmNob3JcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHNwcml0ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdGFrZW4gZnJvbSB0aGUge0BsaW5rIFBJWEkuVGV4dHVyZXxUZXh0dXJlfVxuICAgICAgICAgKiBhbmQgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGRlZmF1bHQgaXMgYCgwLDApYCwgdGhpcyBtZWFucyB0aGUgc3ByaXRlJ3Mgb3JpZ2luIGlzIHRoZSB0b3AgbGVmdC5cbiAgICAgICAgICpcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMC41LDAuNSlgIG1lYW5zIHRoZSBzcHJpdGUncyBvcmlnaW4gaXMgY2VudGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDEsMSlgIHdvdWxkIG1lYW4gdGhlIHNwcml0ZSdzIG9yaWdpbiBwb2ludCB3aWxsIGJlIHRoZSBib3R0b20gcmlnaHQgY29ybmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiB5b3UgcGFzcyBvbmx5IHNpbmdsZSBwYXJhbWV0ZXIsIGl0IHdpbGwgc2V0IGJvdGggeCBhbmQgeSB0byB0aGUgc2FtZSB2YWx1ZSBhcyBzaG93biBpbiB0aGUgZXhhbXBsZSBiZWxvdy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAgICAgKiBzcHJpdGUuYW5jaG9yLnNldCgwLjUpOyAvLyBUaGlzIHdpbGwgc2V0IHRoZSBvcmlnaW4gdG8gY2VudGVyLiAoMC41KSBpcyBzYW1lIGFzICgwLjUsIDAuNSkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcInRpbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAgICAgKiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RpbnRSR0IgPSAodmFsdWUgPj4gMTYpICsgKHZhbHVlICYgMHhmZjAwKSArICgodmFsdWUgJiAweGZmKSA8PCAxNik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3ByaXRlLnByb3RvdHlwZSwgXCJ0ZXh0dXJlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIHNwcml0ZSBpcyB1c2luZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHR1cmUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZSB8fCBUZXh0dXJlLkVNUFRZO1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciB0aGUgdGV4dHVyZSB0byBsb2FkXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUub25jZSgndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gU3ByaXRlO1xufShDb250YWluZXIpKTtcblxuZXhwb3J0IHsgU3ByaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGUuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3ByZXBhcmUgLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvcHJlcGFyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgVGV4dHVyZSwgQmFzZVRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEdyYXBoaWNzIH0gZnJvbSAnQHBpeGkvZ3JhcGhpY3MnO1xuaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBUZXh0LCBUZXh0U3R5bGUsIFRleHRNZXRyaWNzIH0gZnJvbSAnQHBpeGkvdGV4dCc7XG5cbi8qKlxuICogRGVmYXVsdCBudW1iZXIgb2YgdXBsb2FkcyBwZXIgZnJhbWUgdXNpbmcgcHJlcGFyZSBwbHVnaW4uXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEBuYW1lIFVQTE9BRFNfUEVSX0ZSQU1FXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgNFxuICovXG5zZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSA9IDQ7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIENvdW50TGltaXRlciBsaW1pdHMgdGhlIG51bWJlciBvZiBpdGVtcyBoYW5kbGVkIGJ5IGEge0BsaW5rIFBJWEkuQmFzZVByZXBhcmV9IHRvIGEgc3BlY2lmaWVkXG4gKiBudW1iZXIgb2YgaXRlbXMgcGVyIGZyYW1lLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENvdW50TGltaXRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4SXRlbXNQZXJGcmFtZSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyB0aGF0IGNhbiBiZSBwcmVwYXJlZCBlYWNoIGZyYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvdW50TGltaXRlcihtYXhJdGVtc1BlckZyYW1lKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgZWFjaCBmcmFtZS5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4SXRlbXNQZXJGcmFtZSA9IG1heEl0ZW1zUGVyRnJhbWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGluIHRoZSBjdXJyZW50IGZyYW1lLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pdGVtc0xlZnQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldHMgYW55IGNvdW50aW5nIHByb3BlcnRpZXMgdG8gc3RhcnQgZnJlc2ggb24gYSBuZXcgZnJhbWUuXG4gICAgICovXG4gICAgQ291bnRMaW1pdGVyLnByb3RvdHlwZS5iZWdpbkZyYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLml0ZW1zTGVmdCA9IHRoaXMubWF4SXRlbXNQZXJGcmFtZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgaWYgYW5vdGhlciBpdGVtIGNhbiBiZSB1cGxvYWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgaXRlbS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgaXRlbSBpcyBhbGxvd2VkIHRvIGJlIHVwbG9hZGVkLlxuICAgICAqL1xuICAgIENvdW50TGltaXRlci5wcm90b3R5cGUuYWxsb3dlZFRvVXBsb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtc0xlZnQtLSA+IDA7XG4gICAgfTtcbiAgICByZXR1cm4gQ291bnRMaW1pdGVyO1xufSgpKTtcblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgbXVsdGlwbGUgdGV4dHVyZXMgZnJvbSBvYmplY3RzIGxpa2UgQW5pbWF0ZWRTcHJpdGVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMoaXRlbSwgcXVldWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gICAgLy8gT2JqZWN0cyB3aXRoIG11bHRpcGxlIHRleHR1cmVzXG4gICAgaWYgKGl0ZW0gJiYgaXRlbS5fdGV4dHVyZXMgJiYgaXRlbS5fdGV4dHVyZXMubGVuZ3RoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbS5fdGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpdGVtLl90ZXh0dXJlc1tpXSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBpdGVtLl90ZXh0dXJlc1tpXS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgICAgICBpZiAocXVldWUuaW5kZXhPZihiYXNlVGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgQmFzZVRleHR1cmVzIGZyb20gVGV4dHVyZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHR1cmUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZEJhc2VUZXh0dXJlKGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0uYmFzZVRleHR1cmUgaW5zdGFuY2VvZiBCYXNlVGV4dHVyZSkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uYmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKHRleHR1cmUpID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgdGV4dHVyZXMgZnJvbSBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dHVyZShpdGVtLCBxdWV1ZSkge1xuICAgIGlmIChpdGVtLl90ZXh0dXJlICYmIGl0ZW0uX3RleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gaXRlbS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZHJhdyBQSVhJLlRleHQgdG8gaXRzIHRleHR1cmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfFBJWEkuQmFzZVByZXBhcmV9IGhlbHBlciAtIE5vdCB1c2VkIGJ5IHRoaXMgdXBsb2FkIGhhbmRsZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIGRyYXdUZXh0KF9oZWxwZXIsIGl0ZW0pIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHQpIHtcbiAgICAgICAgLy8gdXBkYXRpbmcgdGV4dCB3aWxsIHJldHVybiBlYXJseSBpZiBpdCBpcyBub3QgZGlydHlcbiAgICAgICAgaXRlbS51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGNhbGN1bGF0ZSBhIHRleHQgc3R5bGUgZm9yIGEgUElYSS5UZXh0IG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ8UElYSS5CYXNlUHJlcGFyZX0gaGVscGVyIC0gTm90IHVzZWQgYnkgdGhpcyB1cGxvYWQgaGFuZGxlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlVGV4dFN0eWxlKF9oZWxwZXIsIGl0ZW0pIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHRTdHlsZSkge1xuICAgICAgICB2YXIgZm9udCA9IGl0ZW0udG9Gb250U3RyaW5nKCk7XG4gICAgICAgIFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgVGV4dCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dCBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dChpdGVtLCBxdWV1ZSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dCkge1xuICAgICAgICAvLyBwdXNoIHRoZSB0ZXh0IHN0eWxlIHRvIHByZXBhcmUgaXQgLSB0aGlzIGNhbiBiZSByZWFsbHkgZXhwZW5zaXZlXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0uc3R5bGUpID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtLnN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHB1c2ggdGhlIHRleHQgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIHJlbmRlciBpdCAodG8gY2FudmFzL3RleHR1cmUpIGlmIG5lZWRlZFxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWxzbyBwdXNoIHRoZSBUZXh0J3MgdGV4dHVyZSBmb3IgdXBsb2FkIHRvIEdQVVxuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKHRleHR1cmUpID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgVGV4dFN0eWxlIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHRTdHlsZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dFN0eWxlKGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0U3R5bGUpIHtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIFRoZSBwcmVwYXJlIG1hbmFnZXIgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byB1cGxvYWQgY29udGVudCB0byB0aGUgR1BVLlxuICpcbiAqIEJhc2VQcmVwYXJlIGhhbmRsZXMgYmFzaWMgcXVldWluZyBmdW5jdGlvbmFsaXR5IGFuZCBpcyBleHRlbmRlZCBieVxuICoge0BsaW5rIFBJWEkuUHJlcGFyZX0gYW5kIHtAbGluayBQSVhJLkNhbnZhc1ByZXBhcmV9XG4gKiB0byBwcm92aWRlIHByZXBhcmF0aW9uIGNhcGFiaWxpdGllcyBzcGVjaWZpYyB0byB0aGVpciByZXNwZWN0aXZlIHJlbmRlcmVycy5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgc3ByaXRlXG4gKiBjb25zdCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKCdzb21ldGhpbmcucG5nJyk7XG4gKlxuICogLy8gTG9hZCBvYmplY3QgaW50byBHUFVcbiAqIGFwcC5yZW5kZXJlci5wbHVnaW5zLnByZXBhcmUudXBsb2FkKHNwcml0ZSwgKCkgPT4ge1xuICpcbiAqICAgICAvL1RleHR1cmUocykgaGFzIGJlZW4gdXBsb2FkZWQgdG8gR1BVXG4gKiAgICAgYXBwLnN0YWdlLmFkZENoaWxkKHNwcml0ZSk7XG4gKlxuICogfSlcbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhc2VQcmVwYXJlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZVByZXBhcmUocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW1pdGVyIHRvIGJlIHVzZWQgdG8gY29udHJvbCBob3cgcXVpY2tseSBpdGVtcyBhcmUgcHJlcGFyZWQuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkNvdW50TGltaXRlcnxQSVhJLlRpbWVMaW1pdGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW1pdGVyID0gbmV3IENvdW50TGltaXRlcihzZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb25seSByZWFsIGRpZmZlcmVuY2UgYmV0d2VlbiBDYW52YXNQcmVwYXJlIGFuZCBQcmVwYXJlIGlzIHdoYXQgdGhleSBwYXNzXG4gICAgICAgICAqIHRvIHVwbG9hZCBob29rcy4gVGhhdCBkaWZmZXJlbnQgcGFyYW1ldGVyIGlzIHN0b3JlZCBoZXJlLlxuICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRzIGF0IG9uY2UuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgYWRkaXRpb25hbCBob29rcyBmb3IgZmluZGluZyBhc3NldHMuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFkZEhvb2tzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGFkZGl0aW9uYWwgaG9va3MgZm9yIHByb2Nlc3NpbmcgYXNzZXRzLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8RnVuY3Rpb24+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGxvYWRIb29rcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgdG8gY2FsbCBhZnRlciBjb21wbGV0ZWQuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbXBsZXRlcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgcHJlcGFyZSBpcyB0aWNraW5nIChydW5uaW5nKS5cbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqICdib3VuZCcgY2FsbCBmb3IgcHJlcGFyZUl0ZW1zKCkuXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVsYXllZFRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyB1bmxpa2VseSwgYnV0IGluIGNhc2Ugd2Ugd2VyZSBkZXN0cm95ZWQgYmV0d2VlbiB0aWNrKCkgYW5kIGRlbGF5ZWRUaWNrKClcbiAgICAgICAgICAgIGlmICghX3RoaXMucXVldWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5wcmVwYXJlSXRlbXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gaG9va3MgdG8gZmluZCB0aGUgY29ycmVjdCB0ZXh0dXJlXG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dFN0eWxlKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kQmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHR1cmUpO1xuICAgICAgICAvLyB1cGxvYWQgaG9va3NcbiAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soZHJhd1RleHQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayhjYWxjdWxhdGVUZXh0U3R5bGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgYWxsIHRoZSB0ZXh0dXJlcyBhbmQgZ3JhcGhpY3MgdG8gdGhlIEdQVS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuQ29udGFpbmVyfFBJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfFBJWEkuR3JhcGhpY3N8UElYSS5UZXh0fSBpdGVtIC1cbiAgICAgKiAgICAgICAgRWl0aGVyIHRoZSBjb250YWluZXIgb3IgZGlzcGxheSBvYmplY3QgdG8gc2VhcmNoIGZvciBpdGVtcyB0byB1cGxvYWQsIHRoZSBpdGVtcyB0byB1cGxvYWQgdGhlbXNlbHZlcyxcbiAgICAgKiAgICAgICAgb3IgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLCBpZiBpdGVtcyBoYXZlIGJlZW4gYWRkZWQgdXNpbmcgYHByZXBhcmUuYWRkYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZG9uZV0gLSBPcHRpb25hbCBjYWxsYmFjayB3aGVuIGFsbCBxdWV1ZWQgdXBsb2FkcyBoYXZlIGNvbXBsZXRlZFxuICAgICAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiAoaXRlbSwgZG9uZSkge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGRvbmUgPSBpdGVtO1xuICAgICAgICAgICAgaXRlbSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgYSBkaXNwbGF5IG9iamVjdCwgc2VhcmNoIGZvciBpdGVtc1xuICAgICAgICAvLyB0aGF0IHdlIGNvdWxkIHVwbG9hZFxuICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgdGhpcy5hZGQoaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IHRoZSBpdGVtcyBmb3IgdXBsb2FkIGZyb20gdGhlIGRpc3BsYXlcbiAgICAgICAgaWYgKHRoaXMucXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVzLnB1c2goZG9uZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMudGlja2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMudGlja2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgVGlja2VyLnN5c3RlbS5hZGRPbmNlKHRoaXMudGljaywgdGhpcywgVVBEQVRFX1BSSU9SSVRZLlVUSUxJVFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRpY2sgdXBkYXRlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXRUaW1lb3V0KHRoaXMuZGVsYXllZFRpY2ssIDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWN0dWFsbHkgcHJlcGFyZSBpdGVtcy4gVGhpcyBpcyBoYW5kbGVkIG91dHNpZGUgb2YgdGhlIHRpY2sgYmVjYXVzZSBpdCB3aWxsIHRha2UgYSB3aGlsZVxuICAgICAqIGFuZCB3ZSBkbyBOT1Qgd2FudCB0byBibG9jayB0aGUgY3VycmVudCBhbmltYXRpb24gZnJhbWUgZnJvbSByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5wcmVwYXJlSXRlbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubGltaXRlci5iZWdpbkZyYW1lKCk7XG4gICAgICAgIC8vIFVwbG9hZCB0aGUgZ3JhcGhpY3NcbiAgICAgICAgd2hpbGUgKHRoaXMucXVldWUubGVuZ3RoICYmIHRoaXMubGltaXRlci5hbGxvd2VkVG9VcGxvYWQoKSkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLnF1ZXVlWzBdO1xuICAgICAgICAgICAgdmFyIHVwbG9hZGVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoaXRlbSAmJiAhaXRlbS5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMudXBsb2FkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXBsb2FkSG9va3NbaV0odGhpcy51cGxvYWRIb29rSGVscGVyLCBpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXVwbG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFdlJ3JlIGZpbmlzaGVkXG4gICAgICAgIGlmICghdGhpcy5xdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGNvbXBsZXRlcyA9IHRoaXMuY29tcGxldGVzLnNsaWNlKDApO1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjb21wbGV0ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZXNbaV0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBub3QgZmluaXNoZWQsIG9uIHRoZSBuZXh0IHJBRiBkbyB0aGlzIGFnYWluXG4gICAgICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuVVRJTElUWSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgaG9va3MgZm9yIGZpbmRpbmcgaXRlbXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhZGRIb29rIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgaXRlbToqLCBxdWV1ZTpBcnJheWBcbiAgICAgKiAgICAgICAgICBmdW5jdGlvbiBtdXN0IHJldHVybiBgdHJ1ZWAgaWYgaXQgd2FzIGFibGUgdG8gYWRkIGl0ZW0gdG8gdGhlIHF1ZXVlLlxuICAgICAqIEByZXR1cm4ge3RoaXN9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnJlZ2lzdGVyRmluZEhvb2sgPSBmdW5jdGlvbiAoYWRkSG9vaykge1xuICAgICAgICBpZiAoYWRkSG9vaykge1xuICAgICAgICAgICAgdGhpcy5hZGRIb29rcy5wdXNoKGFkZEhvb2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBob29rcyBmb3IgdXBsb2FkaW5nIGl0ZW1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBsb2FkSG9vayAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYHByZXBhcmU6Q2FudmFzUHJlcGFyZSwgaXRlbToqYCBhbmRcbiAgICAgKiAgICAgICAgICBmdW5jdGlvbiBtdXN0IHJldHVybiBgdHJ1ZWAgaWYgaXQgd2FzIGFibGUgdG8gaGFuZGxlIHVwbG9hZCBvZiBpdGVtLlxuICAgICAqIEByZXR1cm4ge3RoaXN9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnJlZ2lzdGVyVXBsb2FkSG9vayA9IGZ1bmN0aW9uICh1cGxvYWRIb29rKSB7XG4gICAgICAgIGlmICh1cGxvYWRIb29rKSB7XG4gICAgICAgICAgICB0aGlzLnVwbG9hZEhvb2tzLnB1c2godXBsb2FkSG9vayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYW51YWxseSBhZGQgYW4gaXRlbSB0byB0aGUgdXBsb2FkaW5nIHF1ZXVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5Db250YWluZXJ8UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV8UElYSS5HcmFwaGljc3xQSVhJLlRleHR8Kn0gaXRlbSAtIE9iamVjdCB0b1xuICAgICAqICAgICAgICBhZGQgdG8gdGhlIHF1ZXVlXG4gICAgICogQHJldHVybiB7dGhpc30gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgLy8gQWRkIGFkZGl0aW9uYWwgaG9va3MgZm9yIGZpbmRpbmcgZWxlbWVudHMgb24gc3BlY2lhbFxuICAgICAgICAvLyB0eXBlcyBvZiBvYmplY3RzIHRoYXRcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuYWRkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFkZEhvb2tzW2ldKGl0ZW0sIHRoaXMucXVldWUpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IGNoaWxkcmVuIHJlY3Vyc2l2ZWx5XG4gICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gaXRlbS5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGl0ZW0uY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbiwgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudGlja2luZykge1xuICAgICAgICAgICAgVGlja2VyLnN5c3RlbS5yZW1vdmUodGhpcy50aWNrLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hZGRIb29rcyA9IG51bGw7XG4gICAgICAgIHRoaXMudXBsb2FkSG9va3MgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb21wbGV0ZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnF1ZXVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5saW1pdGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlUHJlcGFyZTtcbn0oKSk7XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byB1cGxvYWQgUElYSS5UZXh0dXJlIG9iamVjdHMgdG8gdGhlIEdQVS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIGluc3RhbmNlIG9mIHRoZSB3ZWJnbCByZW5kZXJlclxuICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIHVwbG9hZEJhc2VUZXh0dXJlcyhyZW5kZXJlciwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgQmFzZVRleHR1cmUpIHtcbiAgICAgICAgLy8gaWYgdGhlIHRleHR1cmUgYWxyZWFkeSBoYXMgYSBHTCB0ZXh0dXJlLCB0aGVuIHRoZSB0ZXh0dXJlIGhhcyBiZWVuIHByZXBhcmVkIG9yIHJlbmRlcmVkXG4gICAgICAgIC8vIGJlZm9yZSBub3cuIElmIHRoZSB0ZXh0dXJlIGNoYW5nZWQsIHRoZW4gdGhlIGNoYW5nZXIgc2hvdWxkIGJlIGNhbGxpbmcgdGV4dHVyZS51cGRhdGUoKSB3aGljaFxuICAgICAgICAvLyByZXVwbG9hZHMgdGhlIHRleHR1cmUgd2l0aG91dCBuZWVkIGZvciBwcmVwYXJpbmcgaXQgYWdhaW5cbiAgICAgICAgaWYgKCFpdGVtLl9nbFRleHR1cmVzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuR3JhcGhpY3MgdG8gdGhlIEdQVS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIGluc3RhbmNlIG9mIHRoZSB3ZWJnbCByZW5kZXJlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gdXBsb2FkR3JhcGhpY3MocmVuZGVyZXIsIGl0ZW0pIHtcbiAgICBpZiAoIShpdGVtIGluc3RhbmNlb2YgR3JhcGhpY3MpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGdlb21ldHJ5ID0gaXRlbS5nZW9tZXRyeTtcbiAgICAvLyB1cGRhdGUgZGlydHkgZ3JhcGhpY3MgdG8gZ2V0IGJhdGNoZXNcbiAgICBpdGVtLmZpbmlzaFBvbHkoKTtcbiAgICBnZW9tZXRyeS51cGRhdGVCYXRjaGVzKCk7XG4gICAgdmFyIGJhdGNoZXMgPSBnZW9tZXRyeS5iYXRjaGVzO1xuICAgIC8vIHVwbG9hZCBhbGwgdGV4dHVyZXMgZm91bmQgaW4gc3R5bGVzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gYmF0Y2hlc1tpXS5zdHlsZS50ZXh0dXJlO1xuICAgICAgICBpZiAodGV4dHVyZSkge1xuICAgICAgICAgICAgdXBsb2FkQmFzZVRleHR1cmVzKHJlbmRlcmVyLCB0ZXh0dXJlLmJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBpZiBpdHMgbm90IGJhdGNoYWJsZSAtIHVwZGF0ZSB2YW8gZm9yIHBhcnRpY3VsYXIgc2hhZGVyXG4gICAgaWYgKCFnZW9tZXRyeS5iYXRjaGFibGUpIHtcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChnZW9tZXRyeSwgaXRlbS5fcmVzb2x2ZURpcmVjdFNoYWRlcihyZW5kZXJlcikpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIGdyYXBoaWNzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuR3JhcGhpY3Mgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZEdyYXBoaWNzKGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBHcmFwaGljcykge1xuICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBUaGUgcHJlcGFyZSBwbHVnaW4gcHJvdmlkZXMgcmVuZGVyZXItc3BlY2lmaWMgcGx1Z2lucyBmb3IgcHJlLXJlbmRlcmluZyBEaXNwbGF5T2JqZWN0cy4gVGhlc2UgcGx1Z2lucyBhcmUgdXNlZnVsIGZvclxuICogYXN5bmNocm9ub3VzbHkgcHJlcGFyaW5nIGFuZCB1cGxvYWRpbmcgdG8gdGhlIEdQVSBhc3NldHMsIHRleHR1cmVzLCBncmFwaGljcyB3YWl0aW5nIHRvIGJlIGRpc3BsYXllZC5cbiAqXG4gKiBEbyBub3QgaW5zdGFudGlhdGUgdGhpcyBwbHVnaW4gZGlyZWN0bHkuIEl0IGlzIGF2YWlsYWJsZSBmcm9tIHRoZSBgcmVuZGVyZXIucGx1Z2luc2AgcHJvcGVydHkuXG4gKiBTZWUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXIjcGx1Z2luc30gb3Ige0BsaW5rIFBJWEkuUmVuZGVyZXIjcGx1Z2luc30uXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgbmV3IGFwcGxpY2F0aW9uXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XG4gKlxuICogLy8gRG9uJ3Qgc3RhcnQgcmVuZGVyaW5nIHJpZ2h0IGF3YXlcbiAqIGFwcC5zdG9wKCk7XG4gKlxuICogLy8gY3JlYXRlIGEgZGlzcGxheSBvYmplY3RcbiAqIGNvbnN0IHJlY3QgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gKiAgICAgLmJlZ2luRmlsbCgweDAwZmYwMClcbiAqICAgICAuZHJhd1JlY3QoNDAsIDQwLCAyMDAsIDIwMCk7XG4gKlxuICogLy8gQWRkIHRvIHRoZSBzdGFnZVxuICogYXBwLnN0YWdlLmFkZENoaWxkKHJlY3QpO1xuICpcbiAqIC8vIERvbid0IHN0YXJ0IHJlbmRlcmluZyB1bnRpbCB0aGUgZ3JhcGhpYyBpcyB1cGxvYWRlZCB0byB0aGUgR1BVXG4gKiBhcHAucmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLnVwbG9hZChhcHAuc3RhZ2UsICgpID0+IHtcbiAqICAgICBhcHAuc3RhcnQoKTtcbiAqIH0pO1xuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5CYXNlUHJlcGFyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFByZXBhcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFByZXBhcmUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gUHJlcGFyZShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudXBsb2FkSG9va0hlbHBlciA9IF90aGlzLnJlbmRlcmVyO1xuICAgICAgICAvLyBBZGQgdGV4dHVyZXMgYW5kIGdyYXBoaWNzIHRvIHVwbG9hZFxuICAgICAgICBfdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRHcmFwaGljcyk7XG4gICAgICAgIF90aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRCYXNlVGV4dHVyZXMpO1xuICAgICAgICBfdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkR3JhcGhpY3MpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBQcmVwYXJlO1xufShCYXNlUHJlcGFyZSkpO1xuXG4vKipcbiAqIFRpbWVMaW1pdGVyIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGhhbmRsZWQgYnkgYSB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gdG8gYSBzcGVjaWZpZWRcbiAqIG51bWJlciBvZiBtaWxsaXNlY29uZHMgcGVyIGZyYW1lLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpbWVMaW1pdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhNaWxsaXNlY29uZHMgLSBUaGUgbWF4aW11bSBtaWxsaXNlY29uZHMgdGhhdCBjYW4gYmUgc3BlbnQgcHJlcGFyaW5nIGl0ZW1zIGVhY2ggZnJhbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGltZUxpbWl0ZXIobWF4TWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4aW11bSBtaWxsaXNlY29uZHMgdGhhdCBjYW4gYmUgc3BlbnQgcHJlcGFyaW5nIGl0ZW1zIGVhY2ggZnJhbWUuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heE1pbGxpc2Vjb25kcyA9IG1heE1pbGxpc2Vjb25kcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdGFydCB0aW1lIG9mIHRoZSBjdXJyZW50IGZyYW1lLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mcmFtZVN0YXJ0ID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFueSBjb3VudGluZyBwcm9wZXJ0aWVzIHRvIHN0YXJ0IGZyZXNoIG9uIGEgbmV3IGZyYW1lLlxuICAgICAqL1xuICAgIFRpbWVMaW1pdGVyLnByb3RvdHlwZS5iZWdpbkZyYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZyYW1lU3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSBpZiBhbm90aGVyIGl0ZW0gY2FuIGJlIHVwbG9hZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBpdGVtLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gICAgICovXG4gICAgVGltZUxpbWl0ZXIucHJvdG90eXBlLmFsbG93ZWRUb1VwbG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIERhdGUubm93KCkgLSB0aGlzLmZyYW1lU3RhcnQgPCB0aGlzLm1heE1pbGxpc2Vjb25kcztcbiAgICB9O1xuICAgIHJldHVybiBUaW1lTGltaXRlcjtcbn0oKSk7XG5cbmV4cG9ydCB7IEJhc2VQcmVwYXJlLCBDb3VudExpbWl0ZXIsIFByZXBhcmUsIFRpbWVMaW1pdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmVwYXJlLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9zcHJpdGVzaGVldCAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9zcHJpdGVzaGVldCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgVGV4dHVyZSwgQmFzZVRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IGdldFJlc29sdXRpb25PZlVybCwgdXJsIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgTG9hZGVyUmVzb3VyY2UgfSBmcm9tICdAcGl4aS9sb2FkZXJzJztcblxuLyoqXG4gKiBVdGlsaXR5IGNsYXNzIGZvciBtYWludGFpbmluZyByZWZlcmVuY2UgdG8gYSBjb2xsZWN0aW9uXG4gKiBvZiBUZXh0dXJlcyBvbiBhIHNpbmdsZSBTcHJpdGVzaGVldC5cbiAqXG4gKiBUbyBhY2Nlc3MgYSBzcHJpdGUgc2hlZXQgZnJvbSB5b3VyIGNvZGUgcGFzcyBpdHMgSlNPTiBkYXRhIGZpbGUgdG8gUGl4aSdzIGxvYWRlcjpcbiAqXG4gKiBgYGBqc1xuICogUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImltYWdlcy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wiaW1hZ2VzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKiBXaXRoIHRoZSBgc2hlZXQudGV4dHVyZXNgIHlvdSBjYW4gY3JlYXRlIFNwcml0ZSBvYmplY3RzLGBzaGVldC5hbmltYXRpb25zYCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgYW4gQW5pbWF0ZWRTcHJpdGUuXG4gKlxuICogU3ByaXRlIHNoZWV0cyBjYW4gYmUgcGFja2VkIHVzaW5nIHRvb2xzIGxpa2Uge0BsaW5rIGh0dHBzOi8vY29kZWFuZHdlYi5jb20vdGV4dHVyZXBhY2tlcnxUZXh0dXJlUGFja2VyfSxcbiAqIHtAbGluayBodHRwczovL3JlbmRlcmhqcy5uZXQvc2hvZWJveC98U2hvZWJveH0gb3Ige0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9rcnp5c3p0b2Ytby9zcHJpdGVzaGVldC5qc3xTcHJpdGVzaGVldC5qc30uXG4gKiBEZWZhdWx0IGFuY2hvciBwb2ludHMgKHNlZSB7QGxpbmsgUElYSS5UZXh0dXJlI2RlZmF1bHRBbmNob3J9KSBhbmQgZ3JvdXBpbmcgb2YgYW5pbWF0aW9uIHNwcml0ZXMgYXJlIGN1cnJlbnRseSBvbmx5XG4gKiBzdXBwb3J0ZWQgYnkgVGV4dHVyZVBhY2tlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGVzaGVldCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlZmVyZW5jZSB0byB0aGUgc291cmNlIEJhc2VUZXh0dXJlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIFNwcml0ZXNoZWV0IGltYWdlIGRhdGEuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtyZXNvbHV0aW9uRmlsZW5hbWVdIC0gVGhlIGZpbGVuYW1lIHRvIGNvbnNpZGVyIHdoZW4gZGV0ZXJtaW5pbmdcbiAgICAgKiAgICAgICAgdGhlIHJlc29sdXRpb24gb2YgdGhlIHNwcml0ZXNoZWV0LiBJZiBub3QgcHJvdmlkZWQsIHRoZSBpbWFnZVVybCB3aWxsXG4gICAgICogICAgICAgIGJlIHVzZWQgb24gdGhlIEJhc2VUZXh0dXJlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNwcml0ZXNoZWV0KHRleHR1cmUsIGRhdGEsIHJlc29sdXRpb25GaWxlbmFtZSkge1xuICAgICAgICBpZiAocmVzb2x1dGlvbkZpbGVuYW1lID09PSB2b2lkIDApIHsgcmVzb2x1dGlvbkZpbGVuYW1lID0gbnVsbDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIG9yaWdpbmFsIHNvdXJjZSBpbWFnZSBmcm9tIHRoZSBMb2FkZXIuIFRoaXMgcmVmZXJlbmNlIGlzIHJldGFpbmVkIHNvIHdlXG4gICAgICAgICAqIGNhbiBkZXN0cm95IHRoZSBUZXh0dXJlIGxhdGVyIG9uLiBJdCBpcyBuZXZlciB1c2VkIGludGVybmFsbHkuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUgPyB0ZXh0dXJlIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aHMgc291cmNlIHRleHR1cmUuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IHRleHR1cmUgaW5zdGFuY2VvZiBCYXNlVGV4dHVyZSA/IHRleHR1cmUgOiB0aGlzLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgY29udGFpbmluZyBhbGwgdGV4dHVyZXMgb2YgdGhlIHNwcml0ZSBzaGVldC5cbiAgICAgICAgICogQ2FuIGJlIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIFBJWEkuU3ByaXRlfFNwcml0ZX06XG4gICAgICAgICAqIGBgYGpzXG4gICAgICAgICAqIG5ldyBQSVhJLlNwcml0ZShzaGVldC50ZXh0dXJlc1tcImltYWdlLnBuZ1wiXSk7XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBjb250YWluaW5nIHRoZSB0ZXh0dXJlcyBmb3IgZWFjaCBhbmltYXRpb24uXG4gICAgICAgICAqIENhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhbiB7QGxpbmsgUElYSS5BbmltYXRlZFNwcml0ZXxBbmltYXRlZFNwcml0ZX06XG4gICAgICAgICAqIGBgYGpzXG4gICAgICAgICAqIG5ldyBQSVhJLkFuaW1hdGVkU3ByaXRlKHNoZWV0LmFuaW1hdGlvbnNbXCJhbmltX25hbWVcIl0pXG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgb3JpZ2luYWwgSlNPTiBkYXRhLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdmFyIHJlc291cmNlID0gdGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBzcHJpdGVzaGVldC5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHRoaXMuX3VwZGF0ZVJlc29sdXRpb24ocmVzb2x1dGlvbkZpbGVuYW1lIHx8IChyZXNvdXJjZSA/IHJlc291cmNlLnVybCA6IG51bGwpKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcCBvZiBzcHJpdGVzaGVldCBmcmFtZXMuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mcmFtZXMgPSB0aGlzLmRhdGEuZnJhbWVzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBmcmFtZSBuYW1lcy5cbiAgICAgICAgICogQHR5cGUge3N0cmluZ1tdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZnJhbWVLZXlzID0gT2JqZWN0LmtleXModGhpcy5fZnJhbWVzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgYmF0Y2ggaW5kZXggYmVpbmcgcHJvY2Vzc2VkLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsYmFjayB3aGVuIHBhcnNlIGlzIGNvbXBsZXRlZC5cbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSB0aGUgcmVzb2x1dGlvbiBmcm9tIHRoZSBmaWxlbmFtZSBvciBmYWxsYmFja1xuICAgICAqIHRvIHRoZSBtZXRhLnNjYWxlIGZpZWxkIG9mIHRoZSBKU09OIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZXNvbHV0aW9uRmlsZW5hbWUgLSBUaGUgZmlsZW5hbWUgdG8gdXNlIGZvciByZXNvbHZpbmdcbiAgICAgKiAgICAgICAgdGhlIGRlZmF1bHQgcmVzb2x1dGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJlc29sdXRpb24gdG8gdXNlIGZvciBzcHJpdGVzaGVldC5cbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3VwZGF0ZVJlc29sdXRpb24gPSBmdW5jdGlvbiAocmVzb2x1dGlvbkZpbGVuYW1lKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uRmlsZW5hbWUgPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uRmlsZW5hbWUgPSBudWxsOyB9XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuZGF0YS5tZXRhLnNjYWxlO1xuICAgICAgICAvLyBVc2UgYSBkZWZhdWx0VmFsdWUgb2YgYG51bGxgIHRvIGNoZWNrIGlmIGEgdXJsLWJhc2VkIHJlc29sdXRpb24gaXMgc2V0XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHJlc29sdXRpb25GaWxlbmFtZSwgbnVsbCk7XG4gICAgICAgIC8vIE5vIHJlc29sdXRpb24gZm91bmQgdmlhIFVSTFxuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVXNlIHRoZSBzY2FsZSB2YWx1ZSBvciBkZWZhdWx0IHRvIDFcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBzY2FsZSAhPT0gdW5kZWZpbmVkID8gcGFyc2VGbG9hdChzY2FsZSkgOiAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZvciBub24tMSByZXNvbHV0aW9ucywgdXBkYXRlIGJhc2VUZXh0dXJlXG4gICAgICAgIGlmIChyZXNvbHV0aW9uICE9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc29sdXRpb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYXJzZXIgc3ByaXRlc2hlZXQgZnJvbSBsb2FkZWQgZGF0YS4gVGhpcyBpcyBkb25lIGFzeW5jaHJvbm91c2x5XG4gICAgICogdG8gcHJldmVudCBjcmVhdGluZyB0b28gbWFueSBUZXh0dXJlIHdpdGhpbiBhIHNpbmdsZSBwcm9jZXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayB3aGVuIGNvbXBsZXRlIHJldHVybnNcbiAgICAgKiAgICAgICAgYSBtYXAgb2YgdGhlIFRleHR1cmVzIGZvciB0aGlzIHNwcml0ZXNoZWV0LlxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgaWYgKHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGggPD0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSkge1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcygwKTtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NBbmltYXRpb25zKCk7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZUNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9uZXh0QmF0Y2goKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBhIGJhdGNoIG9mIGZyYW1lc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5pdGlhbEZyYW1lSW5kZXggLSBUaGUgaW5kZXggb2YgZnJhbWUgdG8gc3RhcnQuXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl9wcm9jZXNzRnJhbWVzID0gZnVuY3Rpb24gKGluaXRpYWxGcmFtZUluZGV4KSB7XG4gICAgICAgIHZhciBmcmFtZUluZGV4ID0gaW5pdGlhbEZyYW1lSW5kZXg7XG4gICAgICAgIHZhciBtYXhGcmFtZXMgPSBTcHJpdGVzaGVldC5CQVRDSF9TSVpFO1xuICAgICAgICB3aGlsZSAoZnJhbWVJbmRleCAtIGluaXRpYWxGcmFtZUluZGV4IDwgbWF4RnJhbWVzICYmIGZyYW1lSW5kZXggPCB0aGlzLl9mcmFtZUtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgaSA9IHRoaXMuX2ZyYW1lS2V5c1tmcmFtZUluZGV4XTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5fZnJhbWVzW2ldO1xuICAgICAgICAgICAgdmFyIHJlY3QgPSBkYXRhLmZyYW1lO1xuICAgICAgICAgICAgaWYgKHJlY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgZnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciB0cmltID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlU2l6ZSA9IGRhdGEudHJpbW1lZCAhPT0gZmFsc2UgJiYgZGF0YS5zb3VyY2VTaXplXG4gICAgICAgICAgICAgICAgICAgID8gZGF0YS5zb3VyY2VTaXplIDogZGF0YS5mcmFtZTtcbiAgICAgICAgICAgICAgICB2YXIgb3JpZyA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgTWF0aC5mbG9vcihzb3VyY2VTaXplLncpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHNvdXJjZVNpemUuaCkgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLnJvdGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWUgPSBuZXcgUmVjdGFuZ2xlKE1hdGguZmxvb3IocmVjdC54KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LnkpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC53KSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoTWF0aC5mbG9vcihyZWN0LngpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QueSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC53KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LmgpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gIENoZWNrIHRvIHNlZSBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWRcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNwcml0ZVNvdXJjZVNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJpbSA9IG5ldyBSZWN0YW5nbGUoTWF0aC5mbG9vcihkYXRhLnNwcml0ZVNvdXJjZVNpemUueCkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLnkpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZXNbaV0gPSBuZXcgVGV4dHVyZSh0aGlzLmJhc2VUZXh0dXJlLCBmcmFtZSwgb3JpZywgdHJpbSwgZGF0YS5yb3RhdGVkID8gMiA6IDAsIGRhdGEuYW5jaG9yKTtcbiAgICAgICAgICAgICAgICAvLyBsZXRzIGFsc28gYWRkIHRoZSBmcmFtZSB0byBwaXhpJ3MgZ2xvYmFsIGNhY2hlIGZvciAnZnJvbScgYW5kICdmcm9tTG9hZGVyJyBmdW5jdGlvbnNcbiAgICAgICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGhpcy50ZXh0dXJlc1tpXSwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZUluZGV4Kys7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhcnNlIGFuaW1hdGlvbnMgY29uZmlnXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fcHJvY2Vzc0FuaW1hdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhbmltYXRpb25zID0gdGhpcy5kYXRhLmFuaW1hdGlvbnMgfHwge307XG4gICAgICAgIGZvciAodmFyIGFuaW1OYW1lIGluIGFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uc1thbmltTmFtZV0gPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9uc1thbmltTmFtZV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZnJhbWVOYW1lID0gYW5pbWF0aW9uc1thbmltTmFtZV1baV07XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zW2FuaW1OYW1lXS5wdXNoKHRoaXMudGV4dHVyZXNbZnJhbWVOYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBwYXJzZSBoYXMgY29tcGxldGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3BhcnNlQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHRoaXMuX2NhbGxiYWNrO1xuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JhdGNoSW5kZXggPSAwO1xuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIHRoaXMudGV4dHVyZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmVnaW4gdGhlIG5leHQgYmF0Y2ggb2YgdGV4dHVyZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fbmV4dEJhdGNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9wcm9jZXNzRnJhbWVzKHRoaXMuX2JhdGNoSW5kZXggKiBTcHJpdGVzaGVldC5CQVRDSF9TSVpFKTtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCsrO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5fYmF0Y2hJbmRleCAqIFNwcml0ZXNoZWV0LkJBVENIX1NJWkUgPCBfdGhpcy5fZnJhbWVLZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9uZXh0QmF0Y2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLl9wcm9jZXNzQW5pbWF0aW9ucygpO1xuICAgICAgICAgICAgICAgIF90aGlzLl9wYXJzZUNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBTcHJpdGVzaGVldCBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95QmFzZT1mYWxzZV0gLSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZGVzdHJveUJhc2UpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoZGVzdHJveUJhc2UgPT09IHZvaWQgMCkgeyBkZXN0cm95QmFzZSA9IGZhbHNlOyB9XG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy50ZXh0dXJlcykge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlc1tpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZnJhbWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZnJhbWVLZXlzID0gbnVsbDtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IG51bGw7XG4gICAgICAgIGlmIChkZXN0cm95QmFzZSkge1xuICAgICAgICAgICAgKF9hID0gdGhpcy5fdGV4dHVyZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBUZXh0dXJlcyB0byBidWlsZCBwZXIgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMTAwMFxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0LkJBVENIX1NJWkUgPSAxMDAwO1xuICAgIHJldHVybiBTcHJpdGVzaGVldDtcbn0oKSk7XG5cbi8qKlxuICoge0BsaW5rIFBJWEkuTG9hZGVyIExvYWRlcn0gbWlkZGxld2FyZSBmb3IgbG9hZGluZyB0ZXh0dXJlIGF0bGFzZXMgdGhhdCBoYXZlIGJlZW4gY3JlYXRlZCB3aXRoXG4gKiBUZXh0dXJlUGFja2VyIG9yIHNpbWlsYXIgSlNPTi1iYXNlZCBzcHJpdGVzaGVldC5cbiAqXG4gKiBUaGlzIG1pZGRsZXdhcmUgYXV0b21hdGljYWxseSBnZW5lcmF0ZXMgVGV4dHVyZSByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgUElYSS5JTG9hZGVyUGx1Z2luXG4gKi9cbnZhciBTcHJpdGVzaGVldExvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTcHJpdGVzaGVldExvYWRlcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGFmdGVyIGEgcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqIEBzZWUgUElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZVxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0XG4gICAgICovXG4gICAgU3ByaXRlc2hlZXRMb2FkZXIudXNlID0gZnVuY3Rpb24gKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIC8vIGJlY2F1c2UgdGhpcyBpcyBtaWRkbGV3YXJlLCBpdCBleGVjdXRlIGluIGxvYWRlciBjb250ZXh0LiBgdGhpc2AgPSBsb2FkZXJcbiAgICAgICAgdmFyIGxvYWRlciA9IHRoaXM7XG4gICAgICAgIHZhciBpbWFnZVJlc291cmNlTmFtZSA9IHJlc291cmNlLm5hbWUgKyBcIl9pbWFnZVwiO1xuICAgICAgICAvLyBza2lwIGlmIG5vIGRhdGEsIGl0cyBub3QganNvbiwgaXQgaXNuJ3Qgc3ByaXRlc2hlZXQgZGF0YSwgb3IgdGhlIGltYWdlIHJlc291cmNlIGFscmVhZHkgZXhpc3RzXG4gICAgICAgIGlmICghcmVzb3VyY2UuZGF0YVxuICAgICAgICAgICAgfHwgcmVzb3VyY2UudHlwZSAhPT0gTG9hZGVyUmVzb3VyY2UuVFlQRS5KU09OXG4gICAgICAgICAgICB8fCAhcmVzb3VyY2UuZGF0YS5mcmFtZXNcbiAgICAgICAgICAgIHx8IGxvYWRlci5yZXNvdXJjZXNbaW1hZ2VSZXNvdXJjZU5hbWVdKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxvYWRPcHRpb25zID0ge1xuICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHJlc291cmNlLm1ldGFkYXRhLmltYWdlTWV0YWRhdGEsXG4gICAgICAgICAgICBwYXJlbnRSZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgICAgIH07XG4gICAgICAgIHZhciByZXNvdXJjZVBhdGggPSBTcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGgocmVzb3VyY2UsIGxvYWRlci5iYXNlVXJsKTtcbiAgICAgICAgLy8gbG9hZCB0aGUgaW1hZ2UgZm9yIHRoaXMgc2hlZXRcbiAgICAgICAgbG9hZGVyLmFkZChpbWFnZVJlc291cmNlTmFtZSwgcmVzb3VyY2VQYXRoLCBsb2FkT3B0aW9ucywgZnVuY3Rpb24gb25JbWFnZUxvYWQocmVzKSB7XG4gICAgICAgICAgICBpZiAocmVzLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgbmV4dChyZXMuZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzcHJpdGVzaGVldCA9IG5ldyBTcHJpdGVzaGVldChyZXMudGV4dHVyZSwgcmVzb3VyY2UuZGF0YSwgcmVzb3VyY2UudXJsKTtcbiAgICAgICAgICAgIHNwcml0ZXNoZWV0LnBhcnNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5zcHJpdGVzaGVldCA9IHNwcml0ZXNoZWV0O1xuICAgICAgICAgICAgICAgIHJlc291cmNlLnRleHR1cmVzID0gc3ByaXRlc2hlZXQudGV4dHVyZXM7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzcHJpdGVzaGVldHMgcm9vdCBwYXRoXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZSAtIFJlc291cmNlIHRvIGNoZWNrIHBhdGhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVybCAtIEJhc2Ugcm9vdCB1cmxcbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGggPSBmdW5jdGlvbiAocmVzb3VyY2UsIGJhc2VVcmwpIHtcbiAgICAgICAgLy8gUHJlcGVuZCB1cmwgcGF0aCB1bmxlc3MgdGhlIHJlc291cmNlIGltYWdlIGlzIGEgZGF0YSB1cmxcbiAgICAgICAgaWYgKHJlc291cmNlLmlzRGF0YVVybCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLmRhdGEubWV0YS5pbWFnZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsLnJlc29sdmUocmVzb3VyY2UudXJsLnJlcGxhY2UoYmFzZVVybCwgJycpLCByZXNvdXJjZS5kYXRhLm1ldGEuaW1hZ2UpO1xuICAgIH07XG4gICAgcmV0dXJuIFNwcml0ZXNoZWV0TG9hZGVyO1xufSgpKTtcblxuZXhwb3J0IHsgU3ByaXRlc2hlZXQsIFNwcml0ZXNoZWV0TG9hZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGVzaGVldC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvc3ByaXRlLXRpbGluZyAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9zcHJpdGUtdGlsaW5nIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgVGV4dHVyZU1hdHJpeCwgVGV4dHVyZSwgU2hhZGVyLCBRdWFkVXYsIFN0YXRlLCBPYmplY3RSZW5kZXJlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgUG9pbnQsIFRyYW5zZm9ybSwgUmVjdGFuZ2xlLCBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBkZXByZWNhdGlvbiwgcHJlbXVsdGlwbHlUaW50VG9SZ2JhLCBjb3JyZWN0QmxlbmRNb2RlIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgV1JBUF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG4vKipcbiAqIEEgdGlsaW5nIHNwcml0ZSBpcyBhIGZhc3Qgd2F5IG9mIHJlbmRlcmluZyBhIHRpbGluZyBpbWFnZVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TcHJpdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUaWxpbmdTcHJpdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRpbGluZ1Nwcml0ZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0xMDBdIC0gdGhlIHdpZHRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MTAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxpbmdTcHJpdGUodGV4dHVyZSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICBpZiAod2lkdGggPT09IHZvaWQgMCkgeyB3aWR0aCA9IDEwMDsgfVxuICAgICAgICBpZiAoaGVpZ2h0ID09PSB2b2lkIDApIHsgaGVpZ2h0ID0gMTAwOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRleHR1cmUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaWxlIHRyYW5zZm9ybVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVUcmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2l0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIG1hdHJpeCB0aGF0IGlzIGFwcGxpZWQgdG8gVVYgdG8gZ2V0IHRoZSBjb29yZHMgaW4gVGV4dHVyZSBub3JtYWxpemVkIHNwYWNlIHRvIGNvb3JkcyBpbiBCYXNlVGV4dHVyZSBzcGFjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dk1hdHJpeCA9IHRleHR1cmUudXZNYXRyaXggfHwgbmV3IFRleHR1cmVNYXRyaXgodGV4dHVyZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbHVnaW4gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIHRoaXMgZWxlbWVudC5cbiAgICAgICAgICogQWxsb3dzIHRvIGN1c3RvbWl6ZSB0aGUgcmVuZGVyaW5nIHByb2Nlc3Mgd2l0aG91dCBvdmVycmlkaW5nICdfcmVuZGVyJyBtZXRob2QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ3RpbGluZ1Nwcml0ZSdcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBsdWdpbk5hbWUgPSAndGlsaW5nU3ByaXRlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IGFuY2hvciBhZmZlY3RzIHV2c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZSZXNwZWN0QW5jaG9yID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIFwiY2xhbXBNYXJnaW5cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZyBpbiBjb3JyZXNwb25kaW5nIHRleHR1cmVUcmFuc2Zvcm0sIHNob3J0Y3V0XG4gICAgICAgICAqIENoYW5nZSB0byAtMC41IHRvIGFkZCBhIHBpeGVsIHRvIHRoZSBlZGdlLCByZWNvbW1lbmRlZCBmb3IgdHJhbnNwYXJlbnQgdHJpbW1lZCB0ZXh0dXJlcyBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51dk1hdHJpeC5jbGFtcE1hcmdpbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudXZNYXRyaXguY2xhbXBNYXJnaW4gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXZNYXRyaXgudXBkYXRlKHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIFwidGlsZVNjYWxlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsaW5nIG9mIHRoZSBpbWFnZSB0aGF0IGlzIGJlaW5nIHRpbGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWxpbmdTcHJpdGUucHJvdG90eXBlLCBcInRpbGVQb3NpdGlvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb2Zmc2V0IG9mIHRoZSBpbWFnZSB0aGF0IGlzIGJlaW5nIHRpbGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlVHJhbnNmb3JtLnBvc2l0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnBvc2l0aW9uLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnV2TWF0cml4KSB7XG4gICAgICAgICAgICB0aGlzLnV2TWF0cml4LnRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIC8vIHR3ZWFrIG91ciB0ZXh0dXJlIHRlbXBvcmFyaWx5Li5cbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICBpZiAoIXRleHR1cmUgfHwgIXRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0udXBkYXRlTG9jYWxUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy51dk1hdHJpeC51cGRhdGUoKTtcbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5fd2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5fd2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5faGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkRnJhbWUodGhpcy50cmFuc2Zvcm0sIG1pblgsIG1pblksIG1heFgsIG1heFkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICAvLyB3ZSBjYW4gZG8gYSBmYXN0IGxvY2FsIGJvdW5kcyBpZiB0aGUgc3ByaXRlIGhhcyBubyBjaGlsZHJlbiFcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWCA9IHRoaXMuX3dpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5ZID0gdGhpcy5faGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhYID0gdGhpcy5fd2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WSA9IHRoaXMuX2hlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcbiAgICAgICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyB0aWxpbmcgc3ByaXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvaW50IC0gdGhlIHBvaW50IHRvIGNoZWNrXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIHNwcml0ZSBjb250YWlucyB0aGUgcG9pbnQuXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLl93aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX2hlaWdodDtcbiAgICAgICAgdmFyIHgxID0gLXdpZHRoICogdGhpcy5hbmNob3IuX3g7XG4gICAgICAgIGlmICh0ZW1wUG9pbnQueCA+PSB4MSAmJiB0ZW1wUG9pbnQueCA8IHgxICsgd2lkdGgpIHtcbiAgICAgICAgICAgIHZhciB5MSA9IC1oZWlnaHQgKiB0aGlzLmFuY2hvci5feTtcbiAgICAgICAgICAgIGlmICh0ZW1wUG9pbnQueSA+PSB5MSAmJiB0ZW1wUG9pbnQueSA8IHkxICsgaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBzcHJpdGUgYW5kIG9wdGlvbmFsbHkgaXRzIHRleHR1cmUgYW5kIGNoaWxkcmVuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IHRpbGluZyBzcHJpdGUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGZyYW1lIGlkLCBpbWFnZSB1cmwsIHZpZGVvIHVybCwgY2FudmFzIGVsZW1lbnQsIHZpZGVvIGVsZW1lbnQsIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuVGV4dHVyZXxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgLSBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLndpZHRoIC0gcmVxdWlyZWQgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5oZWlnaHQgLSByZXF1aXJlZCBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRpbGluZ1Nwcml0ZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5mcm9tID0gZnVuY3Rpb24gKHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICAvLyBEZXByZWNhdGVkXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdUaWxpbmdTcHJpdGUuZnJvbSB1c2Ugb3B0aW9ucyBpbnN0ZWFkIG9mIHdpZHRoIGFuZCBoZWlnaHQgYXJncycpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgd2lkdGg6IG9wdGlvbnMsIGhlaWdodDogYXJndW1lbnRzWzJdIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBUaWxpbmdTcHJpdGUoVGV4dHVyZS5mcm9tKHNvdXJjZSwgb3B0aW9ucyksIG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWxpbmdTcHJpdGUucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlsaW5nU3ByaXRlLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGlsaW5nU3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBUaWxpbmdTcHJpdGU7XG59KFNwcml0ZSkpO1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHVUcmFuc2Zvcm07XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gKHVUcmFuc2Zvcm0gKiB2ZWMzKGFUZXh0dXJlQ29vcmQsIDEuMCkpLnh5O1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcbnVuaWZvcm0gbWF0MyB1TWFwQ29vcmQ7XFxudW5pZm9ybSB2ZWM0IHVDbGFtcEZyYW1lO1xcbnVuaWZvcm0gdmVjMiB1Q2xhbXBPZmZzZXQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWMyIGNvb3JkID0gdlRleHR1cmVDb29yZCAtIGZsb29yKHZUZXh0dXJlQ29vcmQgLSB1Q2xhbXBPZmZzZXQpO1xcbiAgICBjb29yZCA9ICh1TWFwQ29vcmQgKiB2ZWMzKGNvb3JkLCAxLjApKS54eTtcXG4gICAgY29vcmQgPSBjbGFtcChjb29yZCwgdUNsYW1wRnJhbWUueHksIHVDbGFtcEZyYW1lLnp3KTtcXG5cXG4gICAgdmVjNCB0ZXhTYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNvb3JkKTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4U2FtcGxlICogdUNvbG9yO1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50U2ltcGxlID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjNCBzYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBzYW1wbGUgKiB1Q29sb3I7XFxufVxcblwiO1xuXG52YXIgdGVtcE1hdCA9IG5ldyBNYXRyaXgoKTtcbi8qKlxuICogV2ViR0wgcmVuZGVyZXIgcGx1Z2luIGZvciB0aWxpbmcgc3ByaXRlc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xudmFyIFRpbGluZ1Nwcml0ZVJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUaWxpbmdTcHJpdGVSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBjb25zdHJ1Y3RvciBmb3IgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyB0aWxpbmcgYXdlc29tZW5lc3Mgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbGluZ1Nwcml0ZVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7IGdsb2JhbHM6IF90aGlzLnJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zIH07XG4gICAgICAgIF90aGlzLnNoYWRlciA9IFNoYWRlci5mcm9tKHZlcnRleCwgZnJhZ21lbnQsIHVuaWZvcm1zKTtcbiAgICAgICAgX3RoaXMuc2ltcGxlU2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudFNpbXBsZSwgdW5pZm9ybXMpO1xuICAgICAgICBfdGhpcy5xdWFkID0gbmV3IFF1YWRVdigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHN0YXRlIGluIHdoaWNoIHRoaXMgcmVuZGVyZXIgd2lsbCB3b3JrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UaWxpbmdTcHJpdGV9IHRzIC0gdGlsaW5nU3ByaXRlIHRvIGJlIHJlbmRlcmVkXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICh0cykge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgcXVhZCA9IHRoaXMucXVhZDtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gcXVhZC52ZXJ0aWNlcztcbiAgICAgICAgdmVydGljZXNbMF0gPSB2ZXJ0aWNlc1s2XSA9ICh0cy5fd2lkdGgpICogLXRzLmFuY2hvci54O1xuICAgICAgICB2ZXJ0aWNlc1sxXSA9IHZlcnRpY2VzWzNdID0gdHMuX2hlaWdodCAqIC10cy5hbmNob3IueTtcbiAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1s0XSA9ICh0cy5fd2lkdGgpICogKDEuMCAtIHRzLmFuY2hvci54KTtcbiAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IHRzLl9oZWlnaHQgKiAoMS4wIC0gdHMuYW5jaG9yLnkpO1xuICAgICAgICBpZiAodHMudXZSZXNwZWN0QW5jaG9yKSB7XG4gICAgICAgICAgICB2ZXJ0aWNlcyA9IHF1YWQudXZzO1xuICAgICAgICAgICAgdmVydGljZXNbMF0gPSB2ZXJ0aWNlc1s2XSA9IC10cy5hbmNob3IueDtcbiAgICAgICAgICAgIHZlcnRpY2VzWzFdID0gdmVydGljZXNbM10gPSAtdHMuYW5jaG9yLnk7XG4gICAgICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzRdID0gMS4wIC0gdHMuYW5jaG9yLng7XG4gICAgICAgICAgICB2ZXJ0aWNlc1s1XSA9IHZlcnRpY2VzWzddID0gMS4wIC0gdHMuYW5jaG9yLnk7XG4gICAgICAgIH1cbiAgICAgICAgcXVhZC5pbnZhbGlkYXRlKCk7XG4gICAgICAgIHZhciB0ZXggPSB0cy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIGJhc2VUZXggPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBsdCA9IHRzLnRpbGVUcmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIHZhciB1diA9IHRzLnV2TWF0cml4O1xuICAgICAgICB2YXIgaXNTaW1wbGUgPSBiYXNlVGV4LmlzUG93ZXJPZlR3b1xuICAgICAgICAgICAgJiYgdGV4LmZyYW1lLndpZHRoID09PSBiYXNlVGV4LndpZHRoICYmIHRleC5mcmFtZS5oZWlnaHQgPT09IGJhc2VUZXguaGVpZ2h0O1xuICAgICAgICAvLyBhdXRvLCBmb3JjZSByZXBlYXQgd3JhcE1vZGUgZm9yIGJpZyB0aWxpbmcgdGV4dHVyZXNcbiAgICAgICAgaWYgKGlzU2ltcGxlKSB7XG4gICAgICAgICAgICBpZiAoIWJhc2VUZXguX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJhc2VUZXgud3JhcE1vZGUgPT09IFdSQVBfTU9ERVMuQ0xBTVApIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleC53cmFwTW9kZSA9IFdSQVBfTU9ERVMuUkVQRUFUO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlzU2ltcGxlID0gYmFzZVRleC53cmFwTW9kZSAhPT0gV1JBUF9NT0RFUy5DTEFNUDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgc2hhZGVyID0gaXNTaW1wbGUgPyB0aGlzLnNpbXBsZVNoYWRlciA6IHRoaXMuc2hhZGVyO1xuICAgICAgICB2YXIgdyA9IHRleC53aWR0aDtcbiAgICAgICAgdmFyIGggPSB0ZXguaGVpZ2h0O1xuICAgICAgICB2YXIgVyA9IHRzLl93aWR0aDtcbiAgICAgICAgdmFyIEggPSB0cy5faGVpZ2h0O1xuICAgICAgICB0ZW1wTWF0LnNldChsdC5hICogdyAvIFcsIGx0LmIgKiB3IC8gSCwgbHQuYyAqIGggLyBXLCBsdC5kICogaCAvIEgsIGx0LnR4IC8gVywgbHQudHkgLyBIKTtcbiAgICAgICAgLy8gdGhhdCBwYXJ0IGlzIHRoZSBzYW1lIGFzIGFib3ZlOlxuICAgICAgICAvLyB0ZW1wTWF0LmlkZW50aXR5KCk7XG4gICAgICAgIC8vIHRlbXBNYXQuc2NhbGUodGV4LndpZHRoLCB0ZXguaGVpZ2h0KTtcbiAgICAgICAgLy8gdGVtcE1hdC5wcmVwZW5kKGx0KTtcbiAgICAgICAgLy8gdGVtcE1hdC5zY2FsZSgxLjAgLyB0cy5fd2lkdGgsIDEuMCAvIHRzLl9oZWlnaHQpO1xuICAgICAgICB0ZW1wTWF0LmludmVydCgpO1xuICAgICAgICBpZiAoaXNTaW1wbGUpIHtcbiAgICAgICAgICAgIHRlbXBNYXQucHJlcGVuZCh1di5tYXBDb29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudU1hcENvb3JkID0gdXYubWFwQ29vcmQudG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q2xhbXBGcmFtZSA9IHV2LnVDbGFtcEZyYW1lO1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDbGFtcE9mZnNldCA9IHV2LnVDbGFtcE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBzaGFkZXIudW5pZm9ybXMudVRyYW5zZm9ybSA9IHRlbXBNYXQudG9BcnJheSh0cnVlKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IHByZW11bHRpcGx5VGludFRvUmdiYSh0cy50aW50LCB0cy53b3JsZEFscGhhLCBzaGFkZXIudW5pZm9ybXMudUNvbG9yLCBiYXNlVGV4LmFscGhhTW9kZSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IHRzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMudVNhbXBsZXIgPSB0ZXg7XG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHNoYWRlcik7XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQocXVhZCk7XG4gICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gY29ycmVjdEJsZW5kTW9kZSh0cy5ibGVuZE1vZGUsIGJhc2VUZXguYWxwaGFNb2RlKTtcbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0KHRoaXMuc3RhdGUpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KHRoaXMucmVuZGVyZXIuZ2wuVFJJQU5HTEVTLCA2LCAwKTtcbiAgICB9O1xuICAgIHJldHVybiBUaWxpbmdTcHJpdGVSZW5kZXJlcjtcbn0oT2JqZWN0UmVuZGVyZXIpKTtcblxuZXhwb3J0IHsgVGlsaW5nU3ByaXRlLCBUaWxpbmdTcHJpdGVSZW5kZXJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlLXRpbGluZy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWVzaCAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9tZXNoIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgU3RhdGUsIFByb2dyYW0sIFRleHR1cmVNYXRyaXgsIFNoYWRlciwgQnVmZmVyLCBHZW9tZXRyeSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgUG9pbnQsIFBvbHlnb24sIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgRFJBV19NT0RFUywgQkxFTkRfTU9ERVMsIFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBwcmVtdWx0aXBseVRpbnRUb1JnYmEgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIENsYXNzIGNvbnRyb2xzIGNhY2hlIGZvciBVViBtYXBwaW5nIGZyb20gVGV4dHVyZSBub3JtYWwgc3BhY2UgdG8gQmFzZVRleHR1cmUgbm9ybWFsIHNwYWNlLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1lc2hCYXRjaFV2cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQnVmZmVyfSB1dkJ1ZmZlciAtIEJ1ZmZlciB3aXRoIG5vcm1hbGl6ZWQgdXYnc1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlTWF0cml4fSB1dk1hdHJpeCAtIE1hdGVyaWFsIFVWIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2hCYXRjaFV2cyh1dkJ1ZmZlciwgdXZNYXRyaXgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciB3aXRoIG5vcm1hbGl6ZWQgVVYnc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZCdWZmZXIgPSB1dkJ1ZmZlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hdGVyaWFsIFVWIG1hdHJpeFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2TWF0cml4ID0gdXZNYXRyaXg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVViBCdWZmZXIgZGF0YVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID0gLTE7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdXBkYXRlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VVcGRhdGVdIC0gZm9yY2UgdGhlIHVwZGF0ZVxuICAgICAqL1xuICAgIE1lc2hCYXRjaFV2cy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGZvcmNlVXBkYXRlKSB7XG4gICAgICAgIGlmICghZm9yY2VVcGRhdGVcbiAgICAgICAgICAgICYmIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID09PSB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRFxuICAgICAgICAgICAgJiYgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID09PSB0aGlzLnV2TWF0cml4Ll91cGRhdGVJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID0gdGhpcy51dkJ1ZmZlci5fdXBkYXRlSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVVcGRhdGVJZCA9IHRoaXMudXZNYXRyaXguX3VwZGF0ZUlEO1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMudXZCdWZmZXIuZGF0YTtcbiAgICAgICAgaWYgKCF0aGlzLmRhdGEgfHwgdGhpcy5kYXRhLmxlbmd0aCAhPT0gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXZNYXRyaXgubXVsdGlwbHlVdnMoZGF0YSwgdGhpcy5kYXRhKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICB9O1xuICAgIHJldHVybiBNZXNoQmF0Y2hVdnM7XG59KCkpO1xuXG52YXIgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG52YXIgdGVtcFBvbHlnb24gPSBuZXcgUG9seWdvbigpO1xuLyoqXG4gKiBCYXNlIG1lc2ggY2xhc3MuXG4gKlxuICogVGhpcyBjbGFzcyBlbXBvd2VycyB5b3UgdG8gaGF2ZSBtYXhpbXVtIGZsZXhpYmlsaXR5IHRvIHJlbmRlciBhbnkga2luZCBvZiBXZWJHTCB2aXN1YWxzIHlvdSBjYW4gdGhpbmsgb2YuXG4gKiBUaGlzIGNsYXNzIGFzc3VtZXMgYSBjZXJ0YWluIGxldmVsIG9mIFdlYkdMIGtub3dsZWRnZS5cbiAqIElmIHlvdSBrbm93IGEgYml0IHRoaXMgc2hvdWxkIGFic3RyYWN0IGVub3VnaCBhd2F5IHRvIG1ha2UgeW91IGxpZmUgZWFzaWVyIVxuICpcbiAqIFByZXR0eSBtdWNoIEFMTCBXZWJHTCBjYW4gYmUgYnJva2VuIGRvd24gaW50byB0aGUgZm9sbG93aW5nOlxuICogLSBHZW9tZXRyeSAtIFRoZSBzdHJ1Y3R1cmUgYW5kIGRhdGEgZm9yIHRoZSBtZXNoLiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuLlxuICogLSBTaGFkZXIgLSBUaGlzIGlzIHRoZSBzaGFkZXIgdGhhdCBQaXhpSlMgd2lsbCByZW5kZXIgdGhlIGdlb21ldHJ5IHdpdGggKGF0dHJpYnV0ZXMgaW4gdGhlIHNoYWRlciBtdXN0IG1hdGNoIHRoZSBnZW9tZXRyeSlcbiAqIC0gU3RhdGUgLSBUaGlzIGlzIHRoZSBzdGF0ZSBvZiBXZWJHTCByZXF1aXJlZCB0byByZW5kZXIgdGhlIG1lc2guXG4gKlxuICogVGhyb3VnaCBhIGNvbWJpbmF0aW9uIG9mIHRoZSBhYm92ZSBlbGVtZW50cyB5b3UgY2FuIHJlbmRlciBhbnl0aGluZyB5b3Ugd2FudCwgMkQgb3IgM0QhXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1lc2ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1lc2gsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIHRoZSBnZW9tZXRyeSB0aGUgbWVzaCB3aWxsIHVzZVxuICAgICAqIEBwYXJhbSB7UElYSS5NZXNoTWF0ZXJpYWx9IHNoYWRlciAtIHRoZSBzaGFkZXIgdGhlIG1lc2ggd2lsbCB1c2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGV9IFtzdGF0ZV0gLSB0aGUgc3RhdGUgdGhhdCB0aGUgV2ViR0wgY29udGV4dCBpcyByZXF1aXJlZCB0byBiZSBpbiB0byByZW5kZXIgdGhlIG1lc2hcbiAgICAgKiAgICAgICAgaWYgbm8gc3RhdGUgaXMgcHJvdmlkZWQsIHVzZXMge0BsaW5rIFBJWEkuU3RhdGUuZm9yMmR9IHRvIGNyZWF0ZSBhIDJEIHN0YXRlIGZvciBQaXhpSlMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkcmF3TW9kZT1QSVhJLkRSQVdfTU9ERVMuVFJJQU5HTEVTXSAtIHRoZSBkcmF3TW9kZSwgY2FuIGJlIGFueSBvZiB0aGUgUElYSS5EUkFXX01PREVTIGNvbnN0c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2goZ2VvbWV0cnksIHNoYWRlciwgc3RhdGUsIGRyYXdNb2RlKSB7XG4gICAgICAgIGlmIChkcmF3TW9kZSA9PT0gdm9pZCAwKSB7IGRyYXdNb2RlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluY2x1ZGVzIHZlcnRleCBwb3NpdGlvbnMsIGZhY2UgaW5kaWNlcywgbm9ybWFscywgY29sb3JzLCBVVnMsIGFuZFxuICAgICAgICAgKiBjdXN0b20gYXR0cmlidXRlcyB3aXRoaW4gYnVmZmVycywgcmVkdWNpbmcgdGhlIGNvc3Qgb2YgcGFzc2luZyBhbGxcbiAgICAgICAgICogdGhpcyBkYXRhIHRvIHRoZSBHUFUuIENhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBNZXNoIG9iamVjdHMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR2VvbWV0cnl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgZ2VvbWV0cnkucmVmQ291bnQrKztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVycyB0aGF0IHByb2Nlc3NlcyB0aGUgZ2VvbWV0cnkgYW5kIHJ1bnMgb24gdGhlIEdQVS5cbiAgICAgICAgICogQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIE1lc2ggb2JqZWN0cy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ8UElYSS5NZXNoTWF0ZXJpYWx9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBzaGFkZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIHRoZSBXZWJHTCBzdGF0ZSB0aGUgTWVzaCByZXF1aXJlZCB0byByZW5kZXIsIGV4Y2x1ZGVzIHNoYWRlciBhbmQgZ2VvbWV0cnkuIEUuZy4sXG4gICAgICAgICAqIGJsZW5kIG1vZGUsIGN1bGxpbmcsIGRlcHRoIHRlc3RpbmcsIGRpcmVjdGlvbiBvZiByZW5kZXJpbmcgdHJpYW5nbGVzLCBiYWNrZmFjZSwgZXRjLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBzdGF0ZSB8fCBTdGF0ZS5mb3IyZCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdheSB0aGUgTWVzaCBzaG91bGQgYmUgZHJhd24sIGNhbiBiZSBhbnkgb2YgdGhlIHtAbGluayBQSVhJLkRSQVdfTU9ERVN9IGNvbnN0YW50cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuRFJBV19NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHJhd01vZGUgPSBkcmF3TW9kZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR5cGljYWxseSB0aGUgaW5kZXggb2YgdGhlIEluZGV4QnVmZmVyIHdoZXJlIHRvIHN0YXJ0IGRyYXdpbmcuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhcnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogSG93IG11Y2ggb2YgdGhlIGdlb21ldHJ5IHRvIGRyYXcsIGJ5IGRlZmF1bHQgYDBgIHJlbmRlcnMgZXZlcnl0aGluZy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaXplID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZWFzZSBhcmUgdXNlZCBhcyBlYXN5IGFjY2VzcyBmb3IgYmF0Y2hpbmdcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZWFzZSBhcmUgdXNlZCBhcyBlYXN5IGFjY2VzcyBmb3IgYmF0Y2hpbmdcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoaXMgaXMgdGhlIGNhY2hpbmcgbGF5ZXIgdXNlZCBieSB0aGUgYmF0Y2hlclxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSgxKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGdlb21ldHJ5IGlzIGNoYW5nZWQgdXNlZCB0byBkZWNpZGUgdG8gcmUtdHJhbnNmb3JtXG4gICAgICAgICAqIHRoZSB2ZXJ0ZXhEYXRhLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhEaXJ0eSA9IDA7XG4gICAgICAgIF90aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICAvLyBJbmhlcml0ZWQgZnJvbSBEaXNwbGF5TW9kZSwgc2V0IGRlZmF1bHRzXG4gICAgICAgIF90aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcm91bmRQaXhlbHMgZmllbGRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhdGNoZWQgVVYncyBhcmUgY2FjaGVkIGZvciBhdGxhcyB0ZXh0dXJlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1lc2hCYXRjaFV2c31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhdGNoVXZzID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaC5wcm90b3R5cGUsIFwidXZCdWZmZXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVG8gY2hhbmdlIG1lc2ggdXYncywgY2hhbmdlIGl0cyB1dkJ1ZmZlciBkYXRhIGFuZCBpbmNyZW1lbnQgaXRzIF91cGRhdGVJRC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2gucHJvdG90eXBlLCBcInZlcnRpY2VzQnVmZmVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvIGNoYW5nZSBtZXNoIHZlcnRpY2VzLCBjaGFuZ2UgaXRzIHV2QnVmZmVyIGRhdGEgYW5kIGluY3JlbWVudCBpdHMgX3VwZGF0ZUlELlxuICAgICAgICAgKiBJbmNyZW1lbnRpbmcgX3VwZGF0ZUlEIGlzIG9wdGlvbmFsIGJlY2F1c2UgbW9zdCBvZiBNZXNoIG9iamVjdHMgZG8gaXQgYW55d2F5LlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaC5wcm90b3R5cGUsIFwibWF0ZXJpYWxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNoYWRlcjtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsaWFzIGZvciB7QGxpbmsgUElYSS5NZXNoI3NoYWRlcn0uXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWVzaE1hdGVyaWFsfVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaC5wcm90b3R5cGUsIFwiYmxlbmRNb2RlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ibGVuZE1vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBNZXNoLiBBcHBseSBhIHZhbHVlIG9mXG4gICAgICAgICAqIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaC5wcm90b3R5cGUsIFwicm91bmRQaXhlbHNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3VuZFBpeGVscztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgICAgICogVG8gc2V0IHRoZSBnbG9iYWwgZGVmYXVsdCwgY2hhbmdlIHtAbGluayBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU31cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaC5wcm90b3R5cGUsIFwidGludFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbXVsdGlwbHkgdGludCBhcHBsaWVkIHRvIHRoZSBNZXNoLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mXG4gICAgICAgICAqIGAweEZGRkZGRmAgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNoYWRlci50aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIudGludCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2gucHJvdG90eXBlLCBcInRleHR1cmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgTWVzaCB1c2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNoYWRlci50ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIudGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU3RhbmRhcmQgcmVuZGVyZXIgZHJhdy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEluc3RhbmNlIHRvIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgLy8gc2V0IHByb3BlcnRpZXMgZm9yIGJhdGNoaW5nLi5cbiAgICAgICAgLy8gVE9ETyBjb3VsZCB1c2UgYSBkaWZmZXJlbnQgd2F5IHRvIGdyYWIgdmVydHM/XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1swXS5kYXRhO1xuICAgICAgICAvLyBUT0RPIGJlbmNobWFyayBjaGVjayBmb3IgYXR0cmlidXRlIHNpemUuLlxuICAgICAgICBpZiAodGhpcy5zaGFkZXIuYmF0Y2hhYmxlXG4gICAgICAgICAgICAmJiB0aGlzLmRyYXdNb2RlID09PSBEUkFXX01PREVTLlRSSUFOR0xFU1xuICAgICAgICAgICAgJiYgdmVydGljZXMubGVuZ3RoIDwgTWVzaC5CQVRDSEFCTEVfU0laRSAqIDIpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRvQmF0Y2gocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRGVmYXVsdChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0YW5kYXJkIG5vbi1iYXRjaGluZyB3YXkgb2YgcmVuZGVyaW5nLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gSW5zdGFuY2UgdG8gcmVuZGVyZXIuXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuX3JlbmRlckRlZmF1bHQgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIHNoYWRlciA9IHRoaXMuc2hhZGVyO1xuICAgICAgICBzaGFkZXIuYWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgICAgIGlmIChzaGFkZXIudXBkYXRlKSB7XG4gICAgICAgICAgICBzaGFkZXIudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgaWYgKHNoYWRlci5wcm9ncmFtLnVuaWZvcm1EYXRhLnRyYW5zbGF0aW9uTWF0cml4KSB7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGJpbmQgYW5kIHN5bmMgdW5pZm9ybXMuLlxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICAvLyBzZXQgc3RhdGUuLlxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgICAgIC8vIGJpbmQgdGhlIGdlb21ldHJ5Li4uXG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5nZW9tZXRyeSwgc2hhZGVyKTtcbiAgICAgICAgLy8gdGhlbiByZW5kZXIgaXRcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyh0aGlzLmRyYXdNb2RlLCB0aGlzLnNpemUsIHRoaXMuc3RhcnQsIHRoaXMuZ2VvbWV0cnkuaW5zdGFuY2VDb3VudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJpbmcgYnkgdXNpbmcgdGhlIEJhdGNoIHN5c3RlbS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEluc3RhbmNlIHRvIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLl9yZW5kZXJUb0JhdGNoID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIGlmICh0aGlzLnNoYWRlci51dk1hdHJpeCkge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIudXZNYXRyaXgudXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVV2cygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBwcm9wZXJ0aWVzIGZvciBiYXRjaGluZy4uXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YTtcbiAgICAgICAgdGhpcy5fdGludFJHQiA9IHRoaXMuc2hhZGVyLl90aW50UkdCO1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGhpcy5zaGFkZXIudGV4dHVyZTtcbiAgICAgICAgdmFyIHBsdWdpbk5hbWUgPSB0aGlzLm1hdGVyaWFsLnBsdWdpbk5hbWU7XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbcGx1Z2luTmFtZV0pO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3BsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdmVydGV4RGF0YSBmaWVsZCBiYXNlZCBvbiB0cmFuc2Zvcm0gYW5kIHZlcnRpY2VzXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IGdlb21ldHJ5LmJ1ZmZlcnNbMF0uZGF0YTtcbiAgICAgICAgaWYgKGdlb21ldHJ5LnZlcnRleERpcnR5SWQgPT09IHRoaXMudmVydGV4RGlydHkgJiYgdGhpcy5fdHJhbnNmb3JtSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgaWYgKHRoaXMudmVydGV4RGF0YS5sZW5ndGggIT09IHZlcnRpY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0aWNlcy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IHd0LmE7XG4gICAgICAgIHZhciBiID0gd3QuYjtcbiAgICAgICAgdmFyIGMgPSB3dC5jO1xuICAgICAgICB2YXIgZCA9IHd0LmQ7XG4gICAgICAgIHZhciB0eCA9IHd0LnR4O1xuICAgICAgICB2YXIgdHkgPSB3dC50eTtcbiAgICAgICAgdmFyIHZlcnRleERhdGEgPSB0aGlzLnZlcnRleERhdGE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGV4RGF0YS5sZW5ndGggLyAyOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB4ID0gdmVydGljZXNbKGkgKiAyKV07XG4gICAgICAgICAgICB2YXIgeSA9IHZlcnRpY2VzWyhpICogMikgKyAxXTtcbiAgICAgICAgICAgIHZlcnRleERhdGFbKGkgKiAyKV0gPSAoYSAqIHgpICsgKGMgKiB5KSArIHR4O1xuICAgICAgICAgICAgdmVydGV4RGF0YVsoaSAqIDIpICsgMV0gPSAoYiAqIHgpICsgKGQgKiB5KSArIHR5O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YVtpXSA9IE1hdGgucm91bmQoKHZlcnRleERhdGFbaV0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZlcnRleERpcnR5ID0gZ2VvbWV0cnkudmVydGV4RGlydHlJZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdXYgZmllbGQgYmFzZWQgb24gZnJvbSBnZW9tZXRyeSB1didzIG9yIGJhdGNoVXZzXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuY2FsY3VsYXRlVXZzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2VvbVV2cyA9IHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXTtcbiAgICAgICAgaWYgKCF0aGlzLnNoYWRlci51dk1hdHJpeC5pc1NpbXBsZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJhdGNoVXZzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXRjaFV2cyA9IG5ldyBNZXNoQmF0Y2hVdnMoZ2VvbVV2cywgdGhpcy5zaGFkZXIudXZNYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5iYXRjaFV2cy51cGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMudXZzID0gdGhpcy5iYXRjaFV2cy5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51dnMgPSBnZW9tVXZzLmRhdGE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgbWVzaCBhcyBhIHJlY3RhbmdsZS4gVGhlIGJvdW5kcyBjYWxjdWxhdGlvbiB0YWtlcyB0aGUgd29ybGRUcmFuc2Zvcm0gaW50byBhY2NvdW50LlxuICAgICAqIHRoZXJlIG11c3QgYmUgYSBhVmVydGV4UG9zaXRpb24gYXR0cmlidXRlIHByZXNlbnQgaW4gdGhlIGdlb21ldHJ5IGZvciBib3VuZHMgdG8gYmUgY2FsY3VsYXRlZCBjb3JyZWN0bHkuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkVmVydGV4RGF0YSh0aGlzLnZlcnRleERhdGEsIDAsIHRoaXMudmVydGV4RGF0YS5sZW5ndGgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBtZXNoLiBXb3JrcyBvbmx5IGZvciBQSVhJLkRSQVdfTU9ERVMuVFJJQU5HTEVTLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvaW50IC0gdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICBpZiAoIXRoaXMuZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnQueCwgcG9pbnQueSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGE7XG4gICAgICAgIHZhciBwb2ludHMgPSB0ZW1wUG9seWdvbi5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gdGhpcy5nZW9tZXRyeS5nZXRJbmRleCgpLmRhdGE7XG4gICAgICAgIHZhciBsZW4gPSBpbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgdmFyIHN0ZXAgPSB0aGlzLmRyYXdNb2RlID09PSA0ID8gMyA6IDE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpICsgMiA8IGxlbjsgaSArPSBzdGVwKSB7XG4gICAgICAgICAgICB2YXIgaW5kMCA9IGluZGljZXNbaV0gKiAyO1xuICAgICAgICAgICAgdmFyIGluZDEgPSBpbmRpY2VzW2kgKyAxXSAqIDI7XG4gICAgICAgICAgICB2YXIgaW5kMiA9IGluZGljZXNbaSArIDJdICogMjtcbiAgICAgICAgICAgIHBvaW50c1swXSA9IHZlcnRpY2VzW2luZDBdO1xuICAgICAgICAgICAgcG9pbnRzWzFdID0gdmVydGljZXNbaW5kMCArIDFdO1xuICAgICAgICAgICAgcG9pbnRzWzJdID0gdmVydGljZXNbaW5kMV07XG4gICAgICAgICAgICBwb2ludHNbM10gPSB2ZXJ0aWNlc1tpbmQxICsgMV07XG4gICAgICAgICAgICBwb2ludHNbNF0gPSB2ZXJ0aWNlc1tpbmQyXTtcbiAgICAgICAgICAgIHBvaW50c1s1XSA9IHZlcnRpY2VzW2luZDIgKyAxXTtcbiAgICAgICAgICAgIGlmICh0ZW1wUG9seWdvbi5jb250YWlucyh0ZW1wUG9pbnQueCwgdGVtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIE1lc2ggb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGxcbiAgICAgKiAgb3B0aW9ucyBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZVxuICAgICAqICB0aGVpciBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5yZWZDb3VudC0tO1xuICAgICAgICBpZiAodGhpcy5nZW9tZXRyeS5yZWZDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB2ZXJ0aWNlcyB0byBjb25zaWRlciBiYXRjaGFibGUuIEdlbmVyYWxseSwgdGhlIGNvbXBsZXhpdHlcbiAgICAgKiBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogQG1lbWJlcm9mIFBJWEkuTWVzaFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9IEJBVENIQUJMRV9TSVpFXG4gICAgICovXG4gICAgTWVzaC5CQVRDSEFCTEVfU0laRSA9IDEwMDtcbiAgICByZXR1cm4gTWVzaDtcbn0oQ29udGFpbmVyKSk7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1Q29sb3I7XFxufVxcblwiO1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHVUZXh0dXJlTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VGV4dHVyZU1hdHJpeCAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcblwiO1xuXG4vKipcbiAqIFNsaWdodGx5IG9waW5pb25hdGVkIGRlZmF1bHQgc2hhZGVyIGZvciBQaXhpSlMgMkQgb2JqZWN0cy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU2hhZGVyXG4gKi9cbnZhciBNZXNoTWF0ZXJpYWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1lc2hNYXRlcmlhbCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdVNhbXBsZXIgLSBUZXh0dXJlIHRoYXQgbWF0ZXJpYWwgdXNlcyB0byByZW5kZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIEFkZGl0aW9uYWwgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbHBoYT0xXSAtIERlZmF1bHQgYWxwaGEuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRpbnQ9MHhGRkZGRkZdIC0gRGVmYXVsdCB0aW50LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wbHVnaW5OYW1lPSdiYXRjaCddIC0gUmVuZGVyZXIgcGx1Z2luIGZvciBiYXRjaGluZy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gW29wdGlvbnMucHJvZ3JhbT0weEZGRkZGRl0gLSBDdXN0b20gcHJvZ3JhbS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMudW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2hNYXRlcmlhbCh1U2FtcGxlciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICB1U2FtcGxlcjogdVNhbXBsZXIsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIHVUZXh0dXJlTWF0cml4OiBNYXRyaXguSURFTlRJVFksXG4gICAgICAgICAgICB1Q29sb3I6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gU2V0IGRlZmF1bHRzXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHRpbnQ6IDB4RkZGRkZGLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBwbHVnaW5OYW1lOiAnYmF0Y2gnLFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMudW5pZm9ybXMpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odW5pZm9ybXMsIG9wdGlvbnMudW5pZm9ybXMpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucy5wcm9ncmFtIHx8IFByb2dyYW0uZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50KSwgdW5pZm9ybXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPbmx5IGRvIHVwZGF0ZSBpZiB0aW50IG9yIGFscGhhIGNoYW5nZXMuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY29sb3JEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dHVyZU1hdHJpeCBpbnN0YW5jZSBmb3IgdGhpcyBNZXNoLCB1c2VkIHRvIHRyYWNrIFRleHR1cmUgY2hhbmdlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZNYXRyaXggPSBuZXcgVGV4dHVyZU1hdHJpeCh1U2FtcGxlcik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgc2hhZGVyIGNhbiBiZSBiYXRjaCB3aXRoIHRoZSByZW5kZXJlcidzIGJhdGNoIHN5c3RlbS5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmF0Y2hhYmxlID0gb3B0aW9ucy5wcm9ncmFtID09PSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXJlciBwbHVnaW4gZm9yIGJhdGNoaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2JhdGNoJ1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9IG9wdGlvbnMucGx1Z2luTmFtZTtcbiAgICAgICAgX3RoaXMudGludCA9IG9wdGlvbnMudGludDtcbiAgICAgICAgX3RoaXMuYWxwaGEgPSBvcHRpb25zLmFscGhhO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInRleHR1cmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSB0ZXh0dXJlIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMudW5pZm9ybXMudVNhbXBsZXIgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2FtcGxlciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMudXZNYXRyaXgudGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwiYWxwaGFcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgZ2V0cyBhdXRvbWF0aWNhbGx5IHNldCBieSB0aGUgb2JqZWN0IHVzaW5nIHRoaXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fYWxwaGEpXG4gICAgICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHRoaXMuX2FscGhhID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInRpbnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogTXVsdGlwbHkgdGludCBmb3IgdGhlIG1hdGVyaWFsLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLl90aW50KVxuICAgICAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl90aW50UkdCID0gKHZhbHVlID4+IDE2KSArICh2YWx1ZSAmIDB4ZmYwMCkgKyAoKHZhbHVlICYgMHhmZikgPDwgMTYpO1xuICAgICAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBNZXNoLiBJbnRlbmRlZCB0byBiZSBvdmVycmlkZGVuIGZvciBjdXN0b21cbiAgICAgKiBNZXNoTWF0ZXJpYWwgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBNZXNoTWF0ZXJpYWwucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbG9yRGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIHByZW11bHRpcGx5VGludFRvUmdiYSh0aGlzLl90aW50LCB0aGlzLl9hbHBoYSwgdGhpcy51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudXZNYXRyaXgudXBkYXRlKCkpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVRleHR1cmVNYXRyaXggPSB0aGlzLnV2TWF0cml4Lm1hcENvb3JkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTWVzaE1hdGVyaWFsO1xufShTaGFkZXIpKTtcblxuLyoqXG4gKiBTdGFuZGFyZCAyRCBnZW9tZXRyeSB1c2VkIGluIFBpeGlKUy5cbiAqXG4gKiBHZW9tZXRyeSBjYW4gYmUgZGVmaW5lZCB3aXRob3V0IHBhc3NpbmcgaW4gYSBzdHlsZSBvciBkYXRhIGlmIHJlcXVpcmVkLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBnZW9tZXRyeSA9IG5ldyBQSVhJLkdlb21ldHJ5KCk7XG4gKlxuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb3NpdGlvbnMnLCBbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSwgMik7XG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3V2cycsIFswLDAsMSwwLDEsMSwwLDFdLCAyKTtcbiAqIGdlb21ldHJ5LmFkZEluZGV4KFswLDEsMiwxLDMsMl0pO1xuICpcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5HZW9tZXRyeVxuICovXG52YXIgTWVzaEdlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNZXNoR2VvbWV0cnksIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8bnVtYmVyW119IFt2ZXJ0aWNlc10gLSBQb3NpdGlvbmFsIGRhdGEgb24gZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8bnVtYmVyW119IFt1dnNdIC0gVGV4dHVyZSBVVnMuXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheXxudW1iZXJbXX0gW2luZGV4XSAtIEluZGV4QnVmZmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVzaEdlb21ldHJ5KHZlcnRpY2VzLCB1dnMsIGluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciB2ZXJ0aWNlc0J1ZmZlciA9IG5ldyBCdWZmZXIodmVydGljZXMpO1xuICAgICAgICB2YXIgdXZzQnVmZmVyID0gbmV3IEJ1ZmZlcih1dnMsIHRydWUpO1xuICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSBuZXcgQnVmZmVyKGluZGV4LCB0cnVlLCB0cnVlKTtcbiAgICAgICAgX3RoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCB2ZXJ0aWNlc0J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIHV2c0J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEluZGV4KGluZGV4QnVmZmVyKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpcnR5IGZsYWcgdG8gbGltaXQgdXBkYXRlIGNhbGxzIG9uIE1lc2guIEZvciBleGFtcGxlLFxuICAgICAgICAgKiBsaW1pdGluZyB1cGRhdGVzIG9uIGEgc2luZ2xlIE1lc2ggaW5zdGFuY2Ugd2l0aCBhIHNoYXJlZCBHZW9tZXRyeVxuICAgICAgICAgKiB3aXRoaW4gdGhlIHJlbmRlciBsb29wLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdXBkYXRlSWQgPSAtMTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEdlb21ldHJ5LnByb3RvdHlwZSwgXCJ2ZXJ0ZXhEaXJ0eUlkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSB2ZXJ0ZXggcG9zaXRpb24gaXMgdXBkYXRlZC5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyc1swXS5fdXBkYXRlSUQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gTWVzaEdlb21ldHJ5O1xufShHZW9tZXRyeSkpO1xuXG5leHBvcnQgeyBNZXNoLCBNZXNoQmF0Y2hVdnMsIE1lc2hHZW9tZXRyeSwgTWVzaE1hdGVyaWFsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNoLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS90ZXh0LWJpdG1hcCAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS90ZXh0LWJpdG1hcCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJlY3RhbmdsZSwgT2JzZXJ2YWJsZVBvaW50LCBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBNZXNoR2VvbWV0cnksIE1lc2hNYXRlcmlhbCwgTWVzaCB9IGZyb20gJ0BwaXhpL21lc2gnO1xuaW1wb3J0IHsgaGV4MnJnYiwgc3RyaW5nMmhleCwgZ2V0UmVzb2x1dGlvbk9mVXJsLCBkZXByZWNhdGlvbiwgcmVtb3ZlSXRlbXMgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBUZXh0dXJlLCBCYXNlVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgVEVYVF9HUkFESUVOVCwgVGV4dFN0eWxlLCBUZXh0TWV0cmljcyB9IGZyb20gJ0BwaXhpL3RleHQnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBMb2FkZXJSZXNvdXJjZSB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuLyoqXG4gKiBOb3JtYWxpemVkIHBhcnNlZCBkYXRhIGZyb20gLmZudCBmaWxlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCaXRtYXBGb250RGF0YSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCaXRtYXBGb250RGF0YSgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSUJpdG1hcEZvbnREYXRhSW5mb1tdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5mbyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udERhdGFDb21tb25bXX1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbW1vbiA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udERhdGFQYWdlW119XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYWdlID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250RGF0YUNoYXJbXX1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoYXIgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSUJpdG1hcEZvbnREYXRhS2VybmluZ1tdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMua2VybmluZyA9IFtdO1xuICAgIH1cbiAgICByZXR1cm4gQml0bWFwRm9udERhdGE7XG59KCkpO1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSUJpdG1hcEZvbnREYXRhSW5mb1xuICogQHByb3BlcnR5IHtzdHJpbmd9IGZhY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzaXplXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElCaXRtYXBGb250RGF0YUNvbW1vblxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxpbmVIZWlnaHRcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSUJpdG1hcEZvbnREYXRhUGFnZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGlkXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZmlsZVxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFDaGFyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBwYWdlXG4gKiBAcHJvcGVydHkge251bWJlcn0geFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHhvZmZzZXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB5b2Zmc2V0XG4gKiBAcHJvcGVydHkge251bWJlcn0geGFkdmFuY2VcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSUJpdG1hcEZvbnREYXRhS2VybmluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGZpcnN0XG4gKiBAcHJvcGVydHkge251bWJlcn0gc2Vjb25kXG4gKiBAcHJvcGVydHkge251bWJlcn0gYW1vdW50XG4gKi9cblxuLyoqXG4gKiBCaXRtYXBGb250IGZvcm1hdCB0aGF0J3MgVGV4dC1iYXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBUZXh0Rm9ybWF0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRleHRGb3JtYXQoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHJlc291cmNlIHJlZmVycyB0byB0eHQgZm9udCBkYXRhLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHthbnl9IGRhdGFcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHJlc291cmNlIGNvdWxkIGJlIHRyZWF0ZWQgYXMgZm9udCBkYXRhLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgVGV4dEZvcm1hdC50ZXN0ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyAmJiBkYXRhLmluZGV4T2YoJ2luZm8gZmFjZT0nKSA9PT0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdGV4dCBmb250IGRhdGEgdG8gYSBqYXZhc2NyaXB0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eHQgLSBSYXcgc3RyaW5nIGRhdGEgdG8gYmUgY29udmVydGVkXG4gICAgICogQHJldHVybiB7UElYSS5CaXRtYXBGb250RGF0YX0gUGFyc2VkIGZvbnQgZGF0YVxuICAgICAqL1xuICAgIFRleHRGb3JtYXQucGFyc2UgPSBmdW5jdGlvbiAodHh0KSB7XG4gICAgICAgIC8vIFJldHJpZXZlIGRhdGEgaXRlbVxuICAgICAgICB2YXIgaXRlbXMgPSB0eHQubWF0Y2goL15bYS16XStcXHMrLiskL2dtKTtcbiAgICAgICAgdmFyIHJhd0RhdGEgPSB7XG4gICAgICAgICAgICBpbmZvOiBbXSxcbiAgICAgICAgICAgIGNvbW1vbjogW10sXG4gICAgICAgICAgICBwYWdlOiBbXSxcbiAgICAgICAgICAgIGNoYXI6IFtdLFxuICAgICAgICAgICAgY2hhcnM6IFtdLFxuICAgICAgICAgICAga2VybmluZzogW10sXG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIGkgaW4gaXRlbXMpIHtcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgaXRlbSBuYW1lXG4gICAgICAgICAgICB2YXIgbmFtZSA9IGl0ZW1zW2ldLm1hdGNoKC9eW2Etel0rL2dtKVswXTtcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgaXRlbSBhdHRyaWJ1dGUgbGlzdCBhcyBzdHJpbmcgZXguOiBcIndpZHRoPTEwXCJcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVMaXN0ID0gaXRlbXNbaV0ubWF0Y2goL1thLXpBLVpdKz0oW15cXHNcIiddK3xcIihbXlwiXSopXCIpL2dtKTtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgYXR0cmlidXRlIGxpc3QgaW50byBhbiBvYmplY3RcbiAgICAgICAgICAgIHZhciBpdGVtRGF0YSA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgaV8xIGluIGF0dHJpYnV0ZUxpc3QpIHtcbiAgICAgICAgICAgICAgICAvLyBTcGxpdCBrZXktdmFsdWUgcGFpcnNcbiAgICAgICAgICAgICAgICB2YXIgc3BsaXQgPSBhdHRyaWJ1dGVMaXN0W2lfMV0uc3BsaXQoJz0nKTtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gc3BsaXRbMF07XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGV2ZW50dWFsIHF1b3RlcyBmcm9tIHZhbHVlXG4gICAgICAgICAgICAgICAgdmFyIHN0clZhbHVlID0gc3BsaXRbMV0ucmVwbGFjZSgvXCIvZ20sICcnKTtcbiAgICAgICAgICAgICAgICAvLyBUcnkgdG8gY29udmVydCB2YWx1ZSBpbnRvIGZsb2F0XG4gICAgICAgICAgICAgICAgdmFyIGZsb2F0VmFsdWUgPSBwYXJzZUZsb2F0KHN0clZhbHVlKTtcbiAgICAgICAgICAgICAgICAvLyBVc2Ugc3RyaW5nIHZhbHVlIGNhc2UgZmxvYXQgdmFsdWUgaXMgTmFOXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gaXNOYU4oZmxvYXRWYWx1ZSkgPyBzdHJWYWx1ZSA6IGZsb2F0VmFsdWU7XG4gICAgICAgICAgICAgICAgaXRlbURhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUHVzaCBjdXJyZW50IGl0ZW0gdG8gdGhlIHJlc3VsdGluZyBkYXRhXG4gICAgICAgICAgICByYXdEYXRhW25hbWVdLnB1c2goaXRlbURhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmb250ID0gbmV3IEJpdG1hcEZvbnREYXRhKCk7XG4gICAgICAgIHJhd0RhdGEuaW5mby5mb3JFYWNoKGZ1bmN0aW9uIChpbmZvKSB7IHJldHVybiBmb250LmluZm8ucHVzaCh7XG4gICAgICAgICAgICBmYWNlOiBpbmZvLmZhY2UsXG4gICAgICAgICAgICBzaXplOiBwYXJzZUludChpbmZvLnNpemUsIDEwKSxcbiAgICAgICAgfSk7IH0pO1xuICAgICAgICByYXdEYXRhLmNvbW1vbi5mb3JFYWNoKGZ1bmN0aW9uIChjb21tb24pIHsgcmV0dXJuIGZvbnQuY29tbW9uLnB1c2goe1xuICAgICAgICAgICAgbGluZUhlaWdodDogcGFyc2VJbnQoY29tbW9uLmxpbmVIZWlnaHQsIDEwKSxcbiAgICAgICAgfSk7IH0pO1xuICAgICAgICByYXdEYXRhLnBhZ2UuZm9yRWFjaChmdW5jdGlvbiAocGFnZSkgeyByZXR1cm4gZm9udC5wYWdlLnB1c2goe1xuICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHBhZ2UuaWQsIDEwKSxcbiAgICAgICAgICAgIGZpbGU6IHBhZ2UuZmlsZSxcbiAgICAgICAgfSk7IH0pO1xuICAgICAgICByYXdEYXRhLmNoYXIuZm9yRWFjaChmdW5jdGlvbiAoY2hhcikgeyByZXR1cm4gZm9udC5jaGFyLnB1c2goe1xuICAgICAgICAgICAgaWQ6IHBhcnNlSW50KGNoYXIuaWQsIDEwKSxcbiAgICAgICAgICAgIHBhZ2U6IHBhcnNlSW50KGNoYXIucGFnZSwgMTApLFxuICAgICAgICAgICAgeDogcGFyc2VJbnQoY2hhci54LCAxMCksXG4gICAgICAgICAgICB5OiBwYXJzZUludChjaGFyLnksIDEwKSxcbiAgICAgICAgICAgIHdpZHRoOiBwYXJzZUludChjaGFyLndpZHRoLCAxMCksXG4gICAgICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KGNoYXIuaGVpZ2h0LCAxMCksXG4gICAgICAgICAgICB4b2Zmc2V0OiBwYXJzZUludChjaGFyLnhvZmZzZXQsIDEwKSxcbiAgICAgICAgICAgIHlvZmZzZXQ6IHBhcnNlSW50KGNoYXIueW9mZnNldCwgMTApLFxuICAgICAgICAgICAgeGFkdmFuY2U6IHBhcnNlSW50KGNoYXIueGFkdmFuY2UsIDEwKSxcbiAgICAgICAgfSk7IH0pO1xuICAgICAgICByYXdEYXRhLmtlcm5pbmcuZm9yRWFjaChmdW5jdGlvbiAoa2VybmluZykgeyByZXR1cm4gZm9udC5rZXJuaW5nLnB1c2goe1xuICAgICAgICAgICAgZmlyc3Q6IHBhcnNlSW50KGtlcm5pbmcuZmlyc3QsIDEwKSxcbiAgICAgICAgICAgIHNlY29uZDogcGFyc2VJbnQoa2VybmluZy5zZWNvbmQsIDEwKSxcbiAgICAgICAgICAgIGFtb3VudDogcGFyc2VJbnQoa2VybmluZy5hbW91bnQsIDEwKSxcbiAgICAgICAgfSk7IH0pO1xuICAgICAgICByZXR1cm4gZm9udDtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0Rm9ybWF0O1xufSgpKTtcblxuLyoqXG4gKiBCaXRtYXBGb250IGZvcm1hdCB0aGF0J3MgWE1MLWJhc2VkLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIFhNTEZvcm1hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBYTUxGb3JtYXQoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHJlc291cmNlIHJlZmVycyB0byB4bWwgZm9udCBkYXRhLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHthbnl9IGRhdGFcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHJlc291cmNlIGNvdWxkIGJlIHRyZWF0ZWQgYXMgZm9udCBkYXRhLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgWE1MRm9ybWF0LnRlc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gZGF0YSBpbnN0YW5jZW9mIFhNTERvY3VtZW50XG4gICAgICAgICAgICAmJiBkYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJykubGVuZ3RoXG4gICAgICAgICAgICAmJiBkYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJylbMF0uZ2V0QXR0cmlidXRlKCdmYWNlJykgIT09IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRoZSBYTUwgaW50byBCaXRtYXBGb250RGF0YSB0aGF0IHdlIGNhbiB1c2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1hNTERvY3VtZW50fSB4bWxcbiAgICAgKiBAcmV0dXJuIHtCaXRtYXBGb250RGF0YX0gRGF0YSB0byB1c2UgZm9yIEJpdG1hcEZvbnRcbiAgICAgKi9cbiAgICBYTUxGb3JtYXQucGFyc2UgPSBmdW5jdGlvbiAoeG1sKSB7XG4gICAgICAgIHZhciBkYXRhID0gbmV3IEJpdG1hcEZvbnREYXRhKCk7XG4gICAgICAgIHZhciBpbmZvID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJyk7XG4gICAgICAgIHZhciBjb21tb24gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NvbW1vbicpO1xuICAgICAgICB2YXIgcGFnZSA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFnZScpO1xuICAgICAgICB2YXIgY2hhciA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2hhcicpO1xuICAgICAgICB2YXIga2VybmluZyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgna2VybmluZycpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluZm8ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGEuaW5mby5wdXNoKHtcbiAgICAgICAgICAgICAgICBmYWNlOiBpbmZvW2ldLmdldEF0dHJpYnV0ZSgnZmFjZScpLFxuICAgICAgICAgICAgICAgIHNpemU6IHBhcnNlSW50KGluZm9baV0uZ2V0QXR0cmlidXRlKCdzaXplJyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tbW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkYXRhLmNvbW1vbi5wdXNoKHtcbiAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiBwYXJzZUludChjb21tb25baV0uZ2V0QXR0cmlidXRlKCdsaW5lSGVpZ2h0JyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFnZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YS5wYWdlLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBwYXJzZUludChwYWdlW2ldLmdldEF0dHJpYnV0ZSgnaWQnKSwgMTApIHx8IDAsXG4gICAgICAgICAgICAgICAgZmlsZTogcGFnZVtpXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGxldHRlciA9IGNoYXJbaV07XG4gICAgICAgICAgICBkYXRhLmNoYXIucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ2lkJyksIDEwKSxcbiAgICAgICAgICAgICAgICBwYWdlOiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdwYWdlJyksIDEwKSB8fCAwLFxuICAgICAgICAgICAgICAgIHg6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3gnKSwgMTApLFxuICAgICAgICAgICAgICAgIHk6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3knKSwgMTApLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd3aWR0aCcpLCAxMCksXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSwgMTApLFxuICAgICAgICAgICAgICAgIHhvZmZzZXQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3hvZmZzZXQnKSwgMTApLFxuICAgICAgICAgICAgICAgIHlvZmZzZXQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3lvZmZzZXQnKSwgMTApLFxuICAgICAgICAgICAgICAgIHhhZHZhbmNlOiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4YWR2YW5jZScpLCAxMCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtlcm5pbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGEua2VybmluZy5wdXNoKHtcbiAgICAgICAgICAgICAgICBmaXJzdDogcGFyc2VJbnQoa2VybmluZ1tpXS5nZXRBdHRyaWJ1dGUoJ2ZpcnN0JyksIDEwKSxcbiAgICAgICAgICAgICAgICBzZWNvbmQ6IHBhcnNlSW50KGtlcm5pbmdbaV0uZ2V0QXR0cmlidXRlKCdzZWNvbmQnKSwgMTApLFxuICAgICAgICAgICAgICAgIGFtb3VudDogcGFyc2VJbnQoa2VybmluZ1tpXS5nZXRBdHRyaWJ1dGUoJ2Ftb3VudCcpLCAxMCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuICAgIHJldHVybiBYTUxGb3JtYXQ7XG59KCkpO1xuXG4vLyBSZWdpc3RlcmVkIGZvcm1hdHMsIG1heWJlIG1ha2UgdGhpcyBleHRlbnNpYmxlIGluIHRoZSBmdXR1cmU/XG52YXIgZm9ybWF0cyA9IFtcbiAgICBUZXh0Rm9ybWF0LFxuICAgIFhNTEZvcm1hdCBdO1xuLyoqXG4gKiBBdXRvLWRldGVjdCBCaXRtYXBGb250IHBhcnNpbmcgZm9ybWF0IGJhc2VkIG9uIGRhdGEuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHthbnl9IGRhdGEgLSBEYXRhIHRvIGRldGVjdCBmb3JtYXRcbiAqIEByZXR1cm4ge2FueX0gRm9ybWF0IG9yIG51bGxcbiAqL1xuZnVuY3Rpb24gYXV0b0RldGVjdEZvcm1hdChkYXRhKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb3JtYXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmb3JtYXRzW2ldLnRlc3QoZGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG4vLyBUT0RPOiBQcmV2ZW50IGNvZGUgZHVwbGljYXRpb24gYi93IGdlbmVyYXRlRmlsbFN0eWxlICYgVGV4dCNnZW5lcmF0ZUZpbGxTdHlsZVxuLyoqXG4gKiBHZW5lcmF0ZXMgdGhlIGZpbGwgc3R5bGUuIENhbiBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGEgZ3JhZGllbnQgYmFzZWQgb24gdGhlIGZpbGwgc3R5bGUgYmVpbmcgYW4gYXJyYXlcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtvYmplY3R9IHN0eWxlIC0gVGhlIHN0eWxlLlxuICogQHBhcmFtIHtzdHJpbmdbXX0gbGluZXMgLSBUaGUgbGluZXMgb2YgdGV4dC5cbiAqIEByZXR1cm4ge3N0cmluZ3xudW1iZXJ8Q2FudmFzR3JhZGllbnR9IFRoZSBmaWxsIHN0eWxlXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlRmlsbFN0eWxlKGNhbnZhcywgY29udGV4dCwgc3R5bGUsIHJlc29sdXRpb24sIGxpbmVzLCBtZXRyaWNzKSB7XG4gICAgLy8gVE9ETzogQ2FuJ3QgaGF2ZSBkaWZmZXJlbnQgdHlwZXMgZm9yIGdldHRlciBhbmQgc2V0dGVyLiBUaGUgZ2V0dGVyIHNob3VsZG4ndCBoYXZlIHRoZSBudW1iZXIgdHlwZSBhc1xuICAgIC8vICAgICAgIHRoZSBzZXR0ZXIgY29udmVydHMgdG8gc3RyaW5nLiBTZWUgdGhpcyB0aHJlYWQgZm9yIG1vcmUgZGV0YWlsczpcbiAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICB2YXIgZmlsbFN0eWxlID0gc3R5bGUuZmlsbDtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZmlsbFN0eWxlKSkge1xuICAgICAgICByZXR1cm4gZmlsbFN0eWxlO1xuICAgIH1cbiAgICBlbHNlIGlmIChmaWxsU3R5bGUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBmaWxsU3R5bGVbMF07XG4gICAgfVxuICAgIC8vIHRoZSBncmFkaWVudCB3aWxsIGJlIGV2ZW5seSBzcGFjZWQgb3V0IGFjY29yZGluZyB0byBob3cgbGFyZ2UgdGhlIGFycmF5IGlzLlxuICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSB3b3VsZCBjcmVhdGVkIHN0b3BzIGF0IDAuMjUsIDAuNSBhbmQgMC43NVxuICAgIHZhciBncmFkaWVudDtcbiAgICAvLyBhIGRyb3BzaGFkb3cgd2lsbCBlbmxhcmdlIHRoZSBjYW52YXMgYW5kIHJlc3VsdCBpbiB0aGUgZ3JhZGllbnQgYmVpbmdcbiAgICAvLyBnZW5lcmF0ZWQgd2l0aCB0aGUgaW5jb3JyZWN0IGRpbWVuc2lvbnNcbiAgICB2YXIgZHJvcFNoYWRvd0NvcnJlY3Rpb24gPSAoc3R5bGUuZHJvcFNoYWRvdykgPyBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UgOiAwO1xuICAgIC8vIHNob3VsZCBhbHNvIHRha2UgcGFkZGluZyBpbnRvIGFjY291bnQsIHBhZGRpbmcgY2FuIG9mZnNldCB0aGUgZ3JhZGllbnRcbiAgICB2YXIgcGFkZGluZyA9IHN0eWxlLnBhZGRpbmcgfHwgMDtcbiAgICB2YXIgd2lkdGggPSBNYXRoLmNlaWwoY2FudmFzLndpZHRoIC8gcmVzb2x1dGlvbikgLSBkcm9wU2hhZG93Q29ycmVjdGlvbiAtIChwYWRkaW5nICogMik7XG4gICAgdmFyIGhlaWdodCA9IE1hdGguY2VpbChjYW52YXMuaGVpZ2h0IC8gcmVzb2x1dGlvbikgLSBkcm9wU2hhZG93Q29ycmVjdGlvbiAtIChwYWRkaW5nICogMik7XG4gICAgLy8gbWFrZSBhIGNvcHkgb2YgdGhlIHN0eWxlIHNldHRpbmdzLCBzbyB3ZSBjYW4gbWFuaXB1bGF0ZSB0aGVtIGxhdGVyXG4gICAgdmFyIGZpbGwgPSBmaWxsU3R5bGUuc2xpY2UoKTtcbiAgICB2YXIgZmlsbEdyYWRpZW50U3RvcHMgPSBzdHlsZS5maWxsR3JhZGllbnRTdG9wcy5zbGljZSgpO1xuICAgIC8vIHdhbnRpbmcgdG8gZXZlbmx5IGRpc3RyaWJ1dGUgdGhlIGZpbGxzLiBTbyBhbiBhcnJheSBvZiA0IGNvbG91cnMgc2hvdWxkIGdpdmUgZmlsbHMgb2YgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgaWYgKCFmaWxsR3JhZGllbnRTdG9wcy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGxlbmd0aFBsdXMxID0gZmlsbC5sZW5ndGggKyAxO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aFBsdXMxOyArK2kpIHtcbiAgICAgICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goaSAvIGxlbmd0aFBsdXMxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBzdG9wIHRoZSBibGVlZGluZyBvZiB0aGUgbGFzdCBncmFkaWVudCBvbiB0aGUgbGluZSBhYm92ZSB0byB0aGUgdG9wIGdyYWRpZW50IG9mIHRoZSB0aGlzIGxpbmVcbiAgICAvLyBieSBoYXJkIGRlZmluaW5nIHRoZSBmaXJzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMCwgYW5kIGxhc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDFcbiAgICBmaWxsLnVuc2hpZnQoZmlsbFN0eWxlWzBdKTtcbiAgICBmaWxsR3JhZGllbnRTdG9wcy51bnNoaWZ0KDApO1xuICAgIGZpbGwucHVzaChmaWxsU3R5bGVbZmlsbFN0eWxlLmxlbmd0aCAtIDFdKTtcbiAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKDEpO1xuICAgIGlmIChzdHlsZS5maWxsR3JhZGllbnRUeXBlID09PSBURVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTCkge1xuICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIHRvcCBjZW50ZXIgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgYm90dG9tIG1pZGRsZSBvZiB0aGUgY2FudmFzXG4gICAgICAgIGdyYWRpZW50ID0gY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCh3aWR0aCAvIDIsIHBhZGRpbmcsIHdpZHRoIC8gMiwgaGVpZ2h0ICsgcGFkZGluZyk7XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gcmVwZWF0IHRoZSBncmFkaWVudCBzbyB0aGF0IGVhY2ggaW5kaXZpZHVhbCBsaW5lIG9mIHRleHQgaGFzIHRoZSBzYW1lIHZlcnRpY2FsIGdyYWRpZW50IGVmZmVjdFxuICAgICAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gb3ZlciAyIGxpbmVzIHdvdWxkIGNyZWF0ZSBzdG9wcyBhdCAwLjEyNSwgMC4yNSwgMC4zNzUsIDAuNjI1LCAwLjc1LCAwLjg3NVxuICAgICAgICAvLyBUaGVyZSdzIHBvdGVudGlhbCBmb3IgZmxvYXRpbmcgcG9pbnQgcHJlY2lzaW9uIGlzc3VlcyBhdCB0aGUgc2VhbXMgYmV0d2VlbiBncmFkaWVudCByZXBlYXRzLlxuICAgICAgICAvLyBUaGUgbG9vcCBiZWxvdyBnZW5lcmF0ZXMgdGhlIHN0b3BzIGluIG9yZGVyLCBzbyB0cmFjayB0aGUgbGFzdCBnZW5lcmF0ZWQgb25lIHRvIHByZXZlbnRcbiAgICAgICAgLy8gZmxvYXRpbmcgcG9pbnQgcHJlY2lzaW9uIGZyb20gbWFraW5nIHVzIGdvIHRoZSB0ZWVuaWVzdCBiaXQgYmFja3dhcmRzLCByZXN1bHRpbmcgaW5cbiAgICAgICAgLy8gdGhlIGZpcnN0IGFuZCBsYXN0IGNvbG9ycyBnZXR0aW5nIHN3YXBwZWQuXG4gICAgICAgIHZhciBsYXN0SXRlcmF0aW9uU3RvcCA9IDA7XG4gICAgICAgIC8vIEFjdHVhbCBoZWlnaHQgb2YgdGhlIHRleHQgaXRzZWxmLCBub3QgY291bnRpbmcgc3BhY2luZyBmb3IgbGluZUhlaWdodC9sZWFkaW5nL2Ryb3BTaGFkb3cgZXRjXG4gICAgICAgIHZhciB0ZXh0SGVpZ2h0ID0gbWV0cmljcy5mb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgLy8gdGV4dEhlaWdodCwgYnV0IGFzIGEgMC0xIHNpemUgaW4gZ2xvYmFsIGdyYWRpZW50IHN0b3Agc3BhY2VcbiAgICAgICAgdmFyIGdyYWRTdG9wTGluZUhlaWdodCA9IHRleHRIZWlnaHQgLyBoZWlnaHQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0aGlzTGluZVRvcCA9IG1ldHJpY3MubGluZUhlaWdodCAqIGk7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZpbGwubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAvLyAwLTEgc3RvcCBwb2ludCBmb3IgdGhlIGN1cnJlbnQgbGluZSwgbXVsdGlwbGllZCB0byBnbG9iYWwgc3BhY2UgYWZ0ZXJ3YXJkc1xuICAgICAgICAgICAgICAgIHZhciBsaW5lU3RvcCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tqXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVN0b3AgPSBmaWxsR3JhZGllbnRTdG9wc1tqXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVTdG9wID0gaiAvIGZpbGwubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZ2xvYmFsU3RvcCA9ICh0aGlzTGluZVRvcCAvIGhlaWdodCkgKyAobGluZVN0b3AgKiBncmFkU3RvcExpbmVIZWlnaHQpO1xuICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgY29sb3Igc3RvcCBnZW5lcmF0aW9uIGdvaW5nIGJhY2t3YXJkcyBmcm9tIGZsb2F0aW5nIHBvaW50IGltcHJlY2lzaW9uXG4gICAgICAgICAgICAgICAgdmFyIGNsYW1wZWRTdG9wID0gTWF0aC5tYXgobGFzdEl0ZXJhdGlvblN0b3AsIGdsb2JhbFN0b3ApO1xuICAgICAgICAgICAgICAgIGNsYW1wZWRTdG9wID0gTWF0aC5taW4oY2xhbXBlZFN0b3AsIDEpOyAvLyBDYXAgYXQgMSBhcyB3ZWxsIGZvciBzYWZldHkncyBzYWtlIHRvIGF2b2lkIGEgcG9zc2libGUgdGhyb3cuXG4gICAgICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKGNsYW1wZWRTdG9wLCBmaWxsW2pdKTtcbiAgICAgICAgICAgICAgICBsYXN0SXRlcmF0aW9uU3RvcCA9IGNsYW1wZWRTdG9wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIGNlbnRlciBsZWZ0IG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGNlbnRlciByaWdodCBvZiB0aGUgY2FudmFzXG4gICAgICAgIGdyYWRpZW50ID0gY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudChwYWRkaW5nLCBoZWlnaHQgLyAyLCB3aWR0aCArIHBhZGRpbmcsIGhlaWdodCAvIDIpO1xuICAgICAgICAvLyBjYW4ganVzdCBldmVubHkgc3BhY2Ugb3V0IHRoZSBncmFkaWVudHMgaW4gdGhpcyBjYXNlLCBhcyBtdWx0aXBsZSBsaW5lcyBtYWtlcyBubyBkaWZmZXJlbmNlXG4gICAgICAgIC8vIHRvIGFuIGV2ZW4gbGVmdCB0byByaWdodCBncmFkaWVudFxuICAgICAgICB2YXIgdG90YWxJdGVyYXRpb25zID0gZmlsbC5sZW5ndGggKyAxO1xuICAgICAgICB2YXIgY3VycmVudEl0ZXJhdGlvbiA9IDE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0b3AgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2ldID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHN0b3AgPSBmaWxsR3JhZGllbnRTdG9wc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0b3AgPSBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKHN0b3AsIGZpbGxbaV0pO1xuICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbisrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBncmFkaWVudDtcbn1cblxuLy8gVE9ETzogUHJldmVudCBjb2RlIGR1cGxpY2F0aW9uIGIvdyBkcmF3R2x5cGggJiBUZXh0I3VwZGF0ZVRleHRcbi8qKlxuICogRHJhd3MgdGhlIGdseXBoIGBtZXRyaWNzLnRleHRgIG9uIHRoZSBnaXZlbiBjYW52YXMuXG4gKlxuICogSWdub3JlZCBiZWNhdXNlIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhc1xuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHRcbiAqIEBwYXJhbSB7VGV4dE1ldHJpY3N9IG1ldHJpY3NcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcGFyYW0ge251bWJlcn0geVxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb25cbiAqIEBwYXJhbSB7VGV4dFN0eWxlfSBzdHlsZVxuICovXG5mdW5jdGlvbiBkcmF3R2x5cGgoY2FudmFzLCBjb250ZXh0LCBtZXRyaWNzLCB4LCB5LCByZXNvbHV0aW9uLCBzdHlsZSkge1xuICAgIHZhciBjaGFyID0gbWV0cmljcy50ZXh0O1xuICAgIHZhciBmb250UHJvcGVydGllcyA9IG1ldHJpY3MuZm9udFByb3BlcnRpZXM7XG4gICAgY29udGV4dC50cmFuc2xhdGUoeCwgeSk7XG4gICAgY29udGV4dC5zY2FsZShyZXNvbHV0aW9uLCByZXNvbHV0aW9uKTtcbiAgICB2YXIgdHggPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyO1xuICAgIHZhciB0eSA9IC0oc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMik7XG4gICAgY29udGV4dC5mb250ID0gc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgY29udGV4dC5saW5lV2lkdGggPSBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gICAgY29udGV4dC5saW5lSm9pbiA9IHN0eWxlLmxpbmVKb2luO1xuICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0eWxlLm1pdGVyTGltaXQ7XG4gICAgLy8gc2V0IGNhbnZhcyB0ZXh0IHN0eWxlc1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZ2VuZXJhdGVGaWxsU3R5bGUoY2FudmFzLCBjb250ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgW2NoYXJdLCBtZXRyaWNzKTtcbiAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuICAgIGNvbnRleHQuZm9udCA9IHN0eWxlLnRvRm9udFN0cmluZygpO1xuICAgIGNvbnRleHQubGluZVdpZHRoID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gc3R5bGUudGV4dEJhc2VsaW5lO1xuICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHlsZS5saW5lSm9pbjtcbiAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSBzdHlsZS5taXRlckxpbWl0O1xuICAgIC8vIHNldCBjYW52YXMgdGV4dCBzdHlsZXNcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGdlbmVyYXRlRmlsbFN0eWxlKGNhbnZhcywgY29udGV4dCwgc3R5bGUsIHJlc29sdXRpb24sIFtjaGFyXSwgbWV0cmljcyk7XG4gICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLnN0cm9rZTtcbiAgICB2YXIgZHJvcFNoYWRvd0NvbG9yID0gc3R5bGUuZHJvcFNoYWRvd0NvbG9yO1xuICAgIHZhciByZ2IgPSBoZXgycmdiKHR5cGVvZiBkcm9wU2hhZG93Q29sb3IgPT09ICdudW1iZXInID8gZHJvcFNoYWRvd0NvbG9yIDogc3RyaW5nMmhleChkcm9wU2hhZG93Q29sb3IpKTtcbiAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdykge1xuICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gXCJyZ2JhKFwiICsgcmdiWzBdICogMjU1ICsgXCIsXCIgKyByZ2JbMV0gKiAyNTUgKyBcIixcIiArIHJnYlsyXSAqIDI1NSArIFwiLFwiICsgc3R5bGUuZHJvcFNoYWRvd0FscGhhICsgXCIpXCI7XG4gICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IHN0eWxlLmRyb3BTaGFkb3dCbHVyO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSBNYXRoLmNvcyhzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSBNYXRoLnNpbihzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9ICcwJztcbiAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gMDtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gMDtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gMDtcbiAgICB9XG4gICAgaWYgKHN0eWxlLnN0cm9rZSAmJiBzdHlsZS5zdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KGNoYXIsIHR4LCB0eSArIG1ldHJpY3MubGluZUhlaWdodCAtIGZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQpO1xuICAgIH1cbiAgICBpZiAoc3R5bGUuZmlsbCkge1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KGNoYXIsIHR4LCB0eSArIG1ldHJpY3MubGluZUhlaWdodCAtIGZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQpO1xuICAgIH1cbiAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgpO1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3JnYmEoMCwgMCwgMCwgMCknO1xufVxuXG4vKipcbiAqIFByb2Nlc3NlcyB0aGUgcGFzc2VkIGNoYXJhY3RlciBzZXQgZGF0YSBhbmQgcmV0dXJucyBhIGZsYXR0ZW5lZCBhcnJheSBvZiBhbGwgdGhlIGNoYXJhY3RlcnMuXG4gKlxuICogSWdub3JlZCBiZWNhdXNlIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7c3RyaW5nIHwgc3RyaW5nW10gfCBzdHJpbmdbXVtdIH0gY2hhcnNcbiAqIEByZXR1cm5zIHtzdHJpbmdbXX1cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZUNoYXJhY3RlcnMoY2hhcnMpIHtcbiAgICAvLyBTcGxpdCB0aGUgY2hhcnMgc3RyaW5nIGludG8gaW5kaXZpZHVhbCBjaGFyYWN0ZXJzXG4gICAgaWYgKHR5cGVvZiBjaGFycyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY2hhcnMgPSBbY2hhcnNdO1xuICAgIH1cbiAgICAvLyBIYW5kbGUgYW4gYXJyYXkgb2YgY2hhcmFjdGVycytyYW5nZXNcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSBjaGFycy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBjaGFyc1tpXTtcbiAgICAgICAgLy8gSGFuZGxlIHJhbmdlIGRlbGltaXRlZCBieSBzdGFydC9lbmQgY2hhcnNcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIltCaXRtYXBGb250XTogSW52YWxpZCBjaGFyYWN0ZXIgcmFuZ2UgbGVuZ3RoLCBleHBlY3RpbmcgMiBnb3QgXCIgKyBpdGVtLmxlbmd0aCArIFwiLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdGFydENvZGUgPSBpdGVtWzBdLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICB2YXIgZW5kQ29kZSA9IGl0ZW1bMV0uY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIGlmIChlbmRDb2RlIDwgc3RhcnRDb2RlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbQml0bWFwRm9udF06IEludmFsaWQgY2hhcmFjdGVyIHJhbmdlLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gc3RhcnRDb2RlLCBqXzEgPSBlbmRDb2RlOyBpXzEgPD0gal8xOyBpXzErKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoaV8xKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIGEgY2hhcmFjdGVyIHNldCBzdHJpbmdcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaC5hcHBseShyZXN1bHQsIGl0ZW0uc3BsaXQoJycpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tCaXRtYXBGb250XTogRW1wdHkgc2V0IHdoZW4gcmVzb2x2aW5nIGNoYXJhY3RlcnMuJyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQml0bWFwRm9udCByZXByZXNlbnRzIGEgdHlwZWZhY2UgYXZhaWxhYmxlIGZvciB1c2Ugd2l0aCB0aGUgQml0bWFwVGV4dCBjbGFzcy4gVXNlIHRoZSBgaW5zdGFsbGBcbiAqIG1ldGhvZCBmb3IgYWRkaW5nIGEgZm9udCB0byBiZSB1c2VkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJpdG1hcEZvbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJpdG1hcEZvbnREYXRhfSBkYXRhXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmVbXXxPYmplY3QuPHN0cmluZywgUElYSS5UZXh0dXJlPn0gdGV4dHVyZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCaXRtYXBGb250KGRhdGEsIHRleHR1cmVzKSB7XG4gICAgICAgIHZhciBpbmZvID0gZGF0YS5pbmZvWzBdO1xuICAgICAgICB2YXIgY29tbW9uID0gZGF0YS5jb21tb25bMF07XG4gICAgICAgIHZhciBwYWdlID0gZGF0YS5wYWdlWzBdO1xuICAgICAgICB2YXIgcmVzID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHBhZ2UuZmlsZSk7XG4gICAgICAgIHZhciBwYWdlVGV4dHVyZXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmb250IGZhY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvbnQgPSBpbmZvLmZhY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgZm9udCBmYWNlIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IGluZm8uc2l6ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW5lLWhlaWdodCBvZiB0aGUgZm9udCBmYWNlIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZUhlaWdodCA9IGNvbW1vbi5saW5lSGVpZ2h0IC8gcmVzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hcCBvZiBjaGFyYWN0ZXJzIGJ5IGNoYXJhY3RlciBjb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGFycyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hcCBvZiBiYXNlIHBhZ2UgdGV4dHVyZXMgKGkuZS4sIHNoZWV0cyBvZiBnbHlwaHMpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXMgPSBwYWdlVGV4dHVyZXM7XG4gICAgICAgIC8vIENvbnZlcnQgdGhlIGlucHV0IFRleHR1cmUsIFRleHR1cmVzIG9yIG9iamVjdFxuICAgICAgICAvLyBpbnRvIGEgcGFnZSBUZXh0dXJlIGxvb2t1cCBieSBcImlkXCJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnBhZ2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBfYSA9IGRhdGEucGFnZVtpXSwgaWQgPSBfYS5pZCwgZmlsZSA9IF9hLmZpbGU7XG4gICAgICAgICAgICBwYWdlVGV4dHVyZXNbaWRdID0gdGV4dHVyZXMgaW5zdGFuY2VvZiBBcnJheVxuICAgICAgICAgICAgICAgID8gdGV4dHVyZXNbaV0gOiB0ZXh0dXJlc1tmaWxlXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwYXJzZSBsZXR0ZXJzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5jaGFyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBkYXRhLmNoYXJbaV0sIGlkID0gX2IuaWQsIHBhZ2VfMSA9IF9iLnBhZ2U7XG4gICAgICAgICAgICB2YXIgX2MgPSBkYXRhLmNoYXJbaV0sIHggPSBfYy54LCB5ID0gX2MueSwgd2lkdGggPSBfYy53aWR0aCwgaGVpZ2h0ID0gX2MuaGVpZ2h0LCB4b2Zmc2V0ID0gX2MueG9mZnNldCwgeW9mZnNldCA9IF9jLnlvZmZzZXQsIHhhZHZhbmNlID0gX2MueGFkdmFuY2U7XG4gICAgICAgICAgICB4IC89IHJlcztcbiAgICAgICAgICAgIHkgLz0gcmVzO1xuICAgICAgICAgICAgd2lkdGggLz0gcmVzO1xuICAgICAgICAgICAgaGVpZ2h0IC89IHJlcztcbiAgICAgICAgICAgIHhvZmZzZXQgLz0gcmVzO1xuICAgICAgICAgICAgeW9mZnNldCAvPSByZXM7XG4gICAgICAgICAgICB4YWR2YW5jZSAvPSByZXM7XG4gICAgICAgICAgICB2YXIgcmVjdCA9IG5ldyBSZWN0YW5nbGUoeCArIChwYWdlVGV4dHVyZXNbcGFnZV8xXS5mcmFtZS54IC8gcmVzKSwgeSArIChwYWdlVGV4dHVyZXNbcGFnZV8xXS5mcmFtZS55IC8gcmVzKSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLmNoYXJzW2lkXSA9IHtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0OiB4b2Zmc2V0LFxuICAgICAgICAgICAgICAgIHlPZmZzZXQ6IHlvZmZzZXQsXG4gICAgICAgICAgICAgICAgeEFkdmFuY2U6IHhhZHZhbmNlLFxuICAgICAgICAgICAgICAgIGtlcm5pbmc6IHt9LFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IG5ldyBUZXh0dXJlKHBhZ2VUZXh0dXJlc1twYWdlXzFdLmJhc2VUZXh0dXJlLCByZWN0KSxcbiAgICAgICAgICAgICAgICBwYWdlOiBwYWdlXzEsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhcnNlIGtlcm5pbmdzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5rZXJuaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2QgPSBkYXRhLmtlcm5pbmdbaV0sIGZpcnN0ID0gX2QuZmlyc3QsIHNlY29uZCA9IF9kLnNlY29uZCwgYW1vdW50ID0gX2QuYW1vdW50O1xuICAgICAgICAgICAgZmlyc3QgLz0gcmVzO1xuICAgICAgICAgICAgc2Vjb25kIC89IHJlcztcbiAgICAgICAgICAgIGFtb3VudCAvPSByZXM7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyc1tzZWNvbmRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyc1tzZWNvbmRdLmtlcm5pbmdbZmlyc3RdID0gYW1vdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSByZWZlcmVuY2VzIHRvIGNyZWF0ZWQgZ2x5cGggdGV4dHVyZXMuXG4gICAgICovXG4gICAgQml0bWFwRm9udC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5jaGFycykge1xuICAgICAgICAgICAgdGhpcy5jaGFyc1tpZF0udGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmNoYXJzW2lkXS50ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLnBhZ2VUZXh0dXJlcykge1xuICAgICAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXNbaWRdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnBhZ2VUZXh0dXJlc1tpZF0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCByZWFkb25seSBudWxsLlxuICAgICAgICB0aGlzLmNoYXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXMgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBuZXcgYml0bWFwIGZvbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtYTUxEb2N1bWVudHxzdHJpbmd8UElYSS5CaXRtYXBGb250RGF0YX0gZGF0YSAtIFRoZVxuICAgICAqICAgICAgICBjaGFyYWN0ZXJzIG1hcCB0aGF0IGNvdWxkIGJlIHByb3ZpZGVkIGFzIHhtbCBvciByYXcgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIFBJWEkuVGV4dHVyZT58UElYSS5UZXh0dXJlfFBJWEkuVGV4dHVyZVtdfVxuICAgICAqICAgICAgICB0ZXh0dXJlcyAtIExpc3Qgb2YgdGV4dHVyZXMgZm9yIGVhY2ggcGFnZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJpdG1hcEZvbnR9IFJlc3VsdCBmb250IG9iamVjdCB3aXRoIGZvbnQsIHNpemUsIGxpbmVIZWlnaHRcbiAgICAgKiAgICAgICAgIGFuZCBjaGFyIGZpZWxkcy5cbiAgICAgKi9cbiAgICBCaXRtYXBGb250Lmluc3RhbGwgPSBmdW5jdGlvbiAoZGF0YSwgdGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIGZvbnREYXRhO1xuICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEJpdG1hcEZvbnREYXRhKSB7XG4gICAgICAgICAgICBmb250RGF0YSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZm9ybWF0ID0gYXV0b0RldGVjdEZvcm1hdChkYXRhKTtcbiAgICAgICAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnJlY29nbml6ZWQgZGF0YSBmb3JtYXQgZm9yIGZvbnQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb250RGF0YSA9IGZvcm1hdC5wYXJzZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaW5nbGUgdGV4dHVyZSwgY29udmVydCB0byBsaXN0XG4gICAgICAgIGlmICh0ZXh0dXJlcyBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmVzID0gW3RleHR1cmVzXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9udCA9IG5ldyBCaXRtYXBGb250KGZvbnREYXRhLCB0ZXh0dXJlcyk7XG4gICAgICAgIEJpdG1hcEZvbnQuYXZhaWxhYmxlW2ZvbnQuZm9udF0gPSBmb250O1xuICAgICAgICByZXR1cm4gZm9udDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBiaXRtYXAgZm9udCBieSBuYW1lLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICovXG4gICAgQml0bWFwRm9udC51bmluc3RhbGwgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgZm9udCA9IEJpdG1hcEZvbnQuYXZhaWxhYmxlW25hbWVdO1xuICAgICAgICBpZiAoIWZvbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGZvbnQgZm91bmQgbmFtZWQgJ1wiICsgbmFtZSArIFwiJ1wiKTtcbiAgICAgICAgfVxuICAgICAgICBmb250LmRlc3Ryb3koKTtcbiAgICAgICAgZGVsZXRlIEJpdG1hcEZvbnQuYXZhaWxhYmxlW25hbWVdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgYml0bWFwLWZvbnQgZm9yIHRoZSBnaXZlbiBzdHlsZSBhbmQgY2hhcmFjdGVyIHNldC4gVGhpcyBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICoga2VybmluZ3MgeWV0LiBXaXRoIGBzdHlsZWAgcHJvcGVydGllcywgb25seSB0aGUgZm9sbG93aW5nIG5vbi1sYXlvdXQgcHJvcGVydGllcyBhcmUgdXNlZDpcbiAgICAgKlxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3d8ZHJvcFNoYWRvd31cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNkcm9wU2hhZG93RGlzdGFuY2V8ZHJvcFNoYWRvd0Rpc3RhbmNlfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3dDb2xvcnxkcm9wU2hhZG93Q29sb3J9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZHJvcFNoYWRvd0JsdXJ8ZHJvcFNoYWRvd0JsdXJ9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZHJvcFNoYWRvd0FuZ2xlfGRyb3BTaGFkb3dBbmdsZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmaWxsfGZpbGx9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZmlsbEdyYWRpZW50U3RvcHN8ZmlsbEdyYWRpZW50U3RvcHN9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZmlsbEdyYWRpZW50VHlwZXxmaWxsR3JhZGllbnRUeXBlfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZvbnRGYW1pbHl8Zm9udEZhbWlseX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmb250U2l6ZXxmb250U2l6ZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmb250VmFyaWFudHxmb250VmFyaWFudH1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmb250V2VpZ2h0fGZvbnRXZWlnaHR9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjbGluZUpvaW58bGluZUpvaW59XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjbWl0ZXJMaW1pdHxtaXRlckxpbWl0fVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI3N0cm9rZXxzdHJva2V9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjc3Ryb2tlVGhpY2tuZXNzfHN0cm9rZVRoaWNrbmVzc31cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSN0ZXh0QmFzZWxpbmV8dGV4dEJhc2VsaW5lfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgY3VzdG9tIGZvbnQgdG8gdXNlIHdpdGggQml0bWFwVGV4dC5cbiAgICAgKiBAcGFyYW0ge29iamVjdHxQSVhJLlRleHRTdHlsZX0gW3N0eWxlXSAtIFN0eWxlIG9wdGlvbnMgdG8gcmVuZGVyIHdpdGggQml0bWFwRm9udC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuSUJpdG1hcEZvbnRPcHRpb25zfSBbb3B0aW9uc10gLSBTZXR1cCBvcHRpb25zIGZvciBmb250IG9yIG5hbWUgb2YgdGhlIGZvbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW118c3RyaW5nW11bXX0gW29wdGlvbnMuY2hhcnM9UElYSS5CaXRtYXBGb250LkFMUEhBTlVNRVJJQ10gLSBjaGFyYWN0ZXJzIGluY2x1ZGVkXG4gICAgICogICAgICBpbiB0aGUgZm9udCBzZXQuIFlvdSBjYW4gYWxzbyB1c2UgcmFuZ2VzLiBGb3IgZXhhbXBsZSwgYFtbJ2EnLCAneiddLCBbJ0EnLCAnWiddLCBcIiFAIyQlXiYqKCl+e31bXSBcIl1gLlxuICAgICAqICAgICAgRG9uJ3QgZm9yZ2V0IHRvIGluY2x1ZGUgc3BhY2VzICcgJyBpbiB5b3VyIGNoYXJhY3RlciBzZXQhXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBSZW5kZXIgcmVzb2x1dGlvbiBmb3IgZ2x5cGhzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50ZXh0dXJlV2lkdGg9NTEyXSAtIE9wdGlvbmFsIHdpZHRoIG9mIGF0bGFzLCBzbWFsbGVyIHZhbHVlcyB0byByZWR1Y2UgbWVtb3J5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50ZXh0dXJlSGVpZ2h0PTUxMl0gLSBPcHRpb25hbCBoZWlnaHQgb2YgYXRsYXMsIHNtYWxsZXIgdmFsdWVzIHRvIHJlZHVjZSBtZW1vcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnBhZGRpbmc9NF0gLSBQYWRkaW5nIGJldHdlZW4gZ2x5cGhzIG9uIHRleHR1cmUgYXRsYXMuXG4gICAgICogQHJldHVybiB7UElYSS5CaXRtYXBGb250fSBGb250IGdlbmVyYXRlZCBieSBzdHlsZSBvcHRpb25zLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIFBJWEkuQml0bWFwRm9udC5mcm9tKFwiVGl0bGVGb250XCIsIHtcbiAgICAgKiAgICAgZm9udEZhbWlseTogXCJBcmlhbFwiLFxuICAgICAqICAgICBmb250U2l6ZTogMTIsXG4gICAgICogICAgIHN0cm9rZVRoaWNrbmVzczogMixcbiAgICAgKiAgICAgZmlsbDogXCJwdXJwbGVcIlxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogY29uc3QgdGl0bGUgPSBuZXcgUElYSS5CaXRtYXBUZXh0KFwiVGhpcyBpcyB0aGUgdGl0bGVcIiwgeyBmb250TmFtZTogXCJUaXRsZUZvbnRcIiB9KTtcbiAgICAgKi9cbiAgICBCaXRtYXBGb250LmZyb20gPSBmdW5jdGlvbiAobmFtZSwgdGV4dFN0eWxlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbQml0bWFwRm9udF0gUHJvcGVydHkgYG5hbWVgIGlzIHJlcXVpcmVkLicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IE9iamVjdC5hc3NpZ24oe30sIEJpdG1hcEZvbnQuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpLCBjaGFycyA9IF9hLmNoYXJzLCBwYWRkaW5nID0gX2EucGFkZGluZywgcmVzb2x1dGlvbiA9IF9hLnJlc29sdXRpb24sIHRleHR1cmVXaWR0aCA9IF9hLnRleHR1cmVXaWR0aCwgdGV4dHVyZUhlaWdodCA9IF9hLnRleHR1cmVIZWlnaHQ7XG4gICAgICAgIHZhciBjaGFyc0xpc3QgPSByZXNvbHZlQ2hhcmFjdGVycyhjaGFycyk7XG4gICAgICAgIHZhciBzdHlsZSA9IHRleHRTdHlsZSBpbnN0YW5jZW9mIFRleHRTdHlsZSA/IHRleHRTdHlsZSA6IG5ldyBUZXh0U3R5bGUodGV4dFN0eWxlKTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aCA9IHRleHR1cmVXaWR0aDtcbiAgICAgICAgdmFyIGZvbnREYXRhID0gbmV3IEJpdG1hcEZvbnREYXRhKCk7XG4gICAgICAgIGZvbnREYXRhLmluZm9bMF0gPSB7XG4gICAgICAgICAgICBmYWNlOiBzdHlsZS5mb250RmFtaWx5LFxuICAgICAgICAgICAgc2l6ZTogc3R5bGUuZm9udFNpemUsXG4gICAgICAgIH07XG4gICAgICAgIGZvbnREYXRhLmNvbW1vblswXSA9IHtcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6IHN0eWxlLmZvbnRTaXplLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgcG9zaXRpb25YID0gMDtcbiAgICAgICAgdmFyIHBvc2l0aW9uWSA9IDA7XG4gICAgICAgIHZhciBjYW52YXM7XG4gICAgICAgIHZhciBjb250ZXh0O1xuICAgICAgICB2YXIgYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBtYXhDaGFySGVpZ2h0ID0gMDtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnNMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHRleHR1cmVXaWR0aDtcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdGV4dHVyZUhlaWdodDtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoY2FudmFzLCB7IHJlc29sdXRpb246IHJlc29sdXRpb24gfSk7XG4gICAgICAgICAgICAgICAgdGV4dHVyZXMucHVzaChuZXcgVGV4dHVyZShiYXNlVGV4dHVyZSkpO1xuICAgICAgICAgICAgICAgIGZvbnREYXRhLnBhZ2UucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB0ZXh0dXJlcy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICAgICAgICBmaWxlOiAnJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE1lYXN1cmUgZ2x5cGggZGltZW5zaW9uc1xuICAgICAgICAgICAgdmFyIG1ldHJpY3MgPSBUZXh0TWV0cmljcy5tZWFzdXJlVGV4dChjaGFyc0xpc3RbaV0sIHN0eWxlLCBmYWxzZSwgY2FudmFzKTtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IG1ldHJpY3Mud2lkdGg7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5jZWlsKG1ldHJpY3MuaGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdWdseSAtIGJ1dCBpdGFsaWNzIGFyZSBnaXZlbiBtb3JlIHNwYWNlIHNvIHRoZXkgZG9uJ3Qgb3ZlcmxhcFxuICAgICAgICAgICAgdmFyIHRleHR1cmVHbHlwaFdpZHRoID0gTWF0aC5jZWlsKChzdHlsZS5mb250U3R5bGUgPT09ICdpdGFsaWMnID8gMiA6IDEpICogd2lkdGgpO1xuICAgICAgICAgICAgLy8gQ2FuJ3QgZml0IGNoYXIgYW55bW9yZTogbmV4dCBjYW52YXMgcGxlYXNlIVxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uWSA+PSB0ZXh0dXJlSGVpZ2h0IC0gKGhlaWdodCAqIHJlc29sdXRpb24pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uWSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCB3YW50IHVzZXIgZGVidWdnaW5nIGFuIGluZmluaXRlIGxvb3AgKG9yIGRvIHdlPyA6KVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbQml0bWFwRm9udF0gdGV4dHVyZUhlaWdodCBcIiArIHRleHR1cmVIZWlnaHQgKyBcInB4IGlzIFwiXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcInRvbyBzbWFsbCBmb3IgXCIgKyBzdHlsZS5mb250U2l6ZSArIFwicHggZm9udHNcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAtLWk7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBhdGxhcyBvbmNlIGN1cnJlbnQgaGFzIGZpbGxlZCB1cFxuICAgICAgICAgICAgICAgIGNhbnZhcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29udGV4dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWSA9IDA7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25YID0gMDtcbiAgICAgICAgICAgICAgICBtYXhDaGFySGVpZ2h0ID0gMDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1heENoYXJIZWlnaHQgPSBNYXRoLm1heChoZWlnaHQgKyBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQsIG1heENoYXJIZWlnaHQpO1xuICAgICAgICAgICAgLy8gV3JhcCBsaW5lIG9uY2UgZnVsbCByb3cgaGFzIGJlZW4gcmVuZGVyZWRcbiAgICAgICAgICAgIGlmICgodGV4dHVyZUdseXBoV2lkdGggKiByZXNvbHV0aW9uKSArIHBvc2l0aW9uWCA+PSBsaW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAtLWk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25ZICs9IG1heENoYXJIZWlnaHQgKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWSA9IE1hdGguY2VpbChwb3NpdGlvblkpO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWCA9IDA7XG4gICAgICAgICAgICAgICAgbWF4Q2hhckhlaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkcmF3R2x5cGgoY2FudmFzLCBjb250ZXh0LCBtZXRyaWNzLCBwb3NpdGlvblgsIHBvc2l0aW9uWSwgcmVzb2x1dGlvbiwgc3R5bGUpO1xuICAgICAgICAgICAgLy8gVW5pcXVlIChudW1lcmljKSBJRCBtYXBwaW5nIHRvIHRoaXMgZ2x5cGhcbiAgICAgICAgICAgIHZhciBpZCA9IG1ldHJpY3MudGV4dC5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgdGV4dHVyZSBob2xkaW5nIGp1c3QgdGhlIGdseXBoXG4gICAgICAgICAgICBmb250RGF0YS5jaGFyLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICBwYWdlOiB0ZXh0dXJlcy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICAgIHg6IHBvc2l0aW9uWCAvIHJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgeTogcG9zaXRpb25ZIC8gcmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICB3aWR0aDogdGV4dHVyZUdseXBoV2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgeG9mZnNldDogMCxcbiAgICAgICAgICAgICAgICB5b2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIHhhZHZhbmNlOiBNYXRoLmNlaWwod2lkdGhcbiAgICAgICAgICAgICAgICAgICAgLSAoc3R5bGUuZHJvcFNoYWRvdyA/IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSA6IDApXG4gICAgICAgICAgICAgICAgICAgIC0gKHN0eWxlLnN0cm9rZSA/IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyA6IDApKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcG9zaXRpb25YICs9ICh0ZXh0dXJlR2x5cGhXaWR0aCArICgyICogcGFkZGluZykpICogcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHBvc2l0aW9uWCA9IE1hdGguY2VpbChwb3NpdGlvblgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmb250ID0gbmV3IEJpdG1hcEZvbnQoZm9udERhdGEsIHRleHR1cmVzKTtcbiAgICAgICAgLy8gTWFrZSBpdCBlYXNpZXIgdG8gcmVwbGFjZSBhIGZvbnRcbiAgICAgICAgaWYgKEJpdG1hcEZvbnQuYXZhaWxhYmxlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIEJpdG1hcEZvbnQudW5pbnN0YWxsKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIEJpdG1hcEZvbnQuYXZhaWxhYmxlW25hbWVdID0gZm9udDtcbiAgICAgICAgcmV0dXJuIGZvbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNoYXJhY3RlciBzZXQgaW5jbHVkZXMgYWxsIHRoZSBsZXR0ZXJzIGluIHRoZSBhbHBoYWJldCAoYm90aCBsb3dlci0gYW5kIHVwcGVyLSBjYXNlKS5cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7c3RyaW5nW11bXX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIEJpdG1hcEZvbnQuZnJvbShcIkV4YW1wbGVGb250XCIsIHN0eWxlLCB7IGNoYXJzOiBCaXRtYXBGb250LkFMUEhBIH0pXG4gICAgICovXG4gICAgQml0bWFwRm9udC5BTFBIQSA9IFtbJ2EnLCAneiddLCBbJ0EnLCAnWiddLCAnICddO1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBpbmNsdWRlcyBhbGwgZGVjaW1hbCBkaWdpdHMgKGZyb20gMCB0byA5KS5cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7c3RyaW5nW11bXX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIEJpdG1hcEZvbnQuZnJvbShcIkV4YW1wbGVGb250XCIsIHN0eWxlLCB7IGNoYXJzOiBCaXRtYXBGb250Lk5VTUVSSUMgfSlcbiAgICAgKi9cbiAgICBCaXRtYXBGb250Lk5VTUVSSUMgPSBbWycwJywgJzknXV07XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGlzIHRoZSB1bmlvbiBvZiBgQml0bWFwRm9udC5BTFBIQWAgYW5kIGBCaXRtYXBGb250Lk5VTUVSSUNgLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXVtdfVxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuQUxQSEFOVU1FUklDID0gW1snYScsICd6J10sIFsnQScsICdaJ10sIFsnMCcsICc5J10sICcgJ107XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGNvbnNpc3RzIG9mIGFsbCB0aGUgQVNDSUkgdGFibGUuXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge3N0cmluZ1tdW119XG4gICAgICogQHNlZSBodHRwOi8vd3d3LmFzY2lpdGFibGUuY29tL1xuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuQVNDSUkgPSBbWycgJywgJ34nXV07XG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvbiBvZiBkZWZhdWx0IG9wdGlvbnMgd2hlbiB1c2luZyBgQml0bWFwRm9udC5mcm9tYC5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250T3B0aW9uc31cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gcmVzb2x1dGlvbj0xXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRleHR1cmVXaWR0aD01MTJcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gdGV4dHVyZUhlaWdodD01MTJcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gcGFkZGluZz00XG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd8c3RyaW5nW118c3RyaW5nW11bXX0gY2hhcnM9UElYSS5CaXRtYXBGb250LkFMUEhBTlVNRVJJQ1xuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgIHRleHR1cmVXaWR0aDogNTEyLFxuICAgICAgICB0ZXh0dXJlSGVpZ2h0OiA1MTIsXG4gICAgICAgIHBhZGRpbmc6IDQsXG4gICAgICAgIGNoYXJzOiBCaXRtYXBGb250LkFMUEhBTlVNRVJJQyxcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgYXZhaWxhYmxlL2luc3RhbGxlZCBmb250cy5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtPYmplY3QuPHN0cmluZywgUElYSS5CaXRtYXBGb250Pn1cbiAgICAgKi9cbiAgICBCaXRtYXBGb250LmF2YWlsYWJsZSA9IHt9O1xuICAgIHJldHVybiBCaXRtYXBGb250O1xufSgpKTtcbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbnRlcmZhY2UgSUJpdG1hcEZvbnRPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZyB8IHN0cmluZ1tdIHwgc3RyaW5nW11bXX0gW2NoYXJzPVBJWEkuQml0bWFwRm9udC5BTFBIQU5VTUVSSUNdIC0gdGhlIGNoYXJhY3RlciBzZXQgdG8gZ2VuZXJhdGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIHRoZSByZXNvbHV0aW9uIGZvciByZW5kZXJpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcGFkZGluZz00XSAtIHRoZSBwYWRkaW5nIGJldHdlZW4gZ2x5cGhzIGluIHRoZSBhdGxhc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0dXJlV2lkdGg9NTEyXSAtIHRoZSB3aWR0aCBvZiB0aGUgdGV4dHVyZSBhdGxhc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0dXJlSGVpZ2h0PTUxMl0gLSB0aGUgaGVpZ2h0IG9mIHRoZSB0ZXh0dXJlIGF0bGFzXG4gKi9cblxudmFyIHBhZ2VNZXNoRGF0YVBvb2wgPSBbXTtcbnZhciBjaGFyUmVuZGVyRGF0YVBvb2wgPSBbXTtcbi8qKlxuICogQSBCaXRtYXBUZXh0IG9iamVjdCB3aWxsIGNyZWF0ZSBhIGxpbmUgb3IgbXVsdGlwbGUgbGluZXMgb2YgdGV4dCB1c2luZyBiaXRtYXAgZm9udC5cbiAqXG4gKiBUaGUgcHJpbWFyeSBhZHZhbnRhZ2Ugb2YgdGhpcyBjbGFzcyBvdmVyIFRleHQgaXMgdGhhdCBhbGwgb2YgeW91ciB0ZXh0dXJlcyBhcmUgcHJlLWdlbmVyYXRlZCBhbmQgbG9hZGluZyxcbiAqIG1lYW5pbmcgdGhhdCByZW5kZXJpbmcgaXMgZmFzdCwgYW5kIGNoYW5naW5nIHRleHQgaGFzIG5vIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucy5cbiAqXG4gKiBTdXBwb3J0aW5nIGNoYXJhY3RlciBzZXRzIG90aGVyIHRoYW4gbGF0aW4sIHN1Y2ggYXMgQ0pLIGxhbmd1YWdlcywgbWF5IGJlIGltcHJhY3RpY2FsIGR1ZSB0byB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMuXG4gKlxuICogVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLCAnXFxyJyBvciAnXFxyXFxuJyBpbiB5b3VyIHN0cmluZy5cbiAqXG4gKiBQaXhpSlMgY2FuIGF1dG8tZ2VuZXJhdGUgZm9udHMgb24tdGhlLWZseSB1c2luZyBCaXRtYXBGb250IG9yIHVzZSBmbnQgZmlsZXMgcHJvdmlkZWQgYnk6XG4gKiBodHRwOi8vd3d3LmFuZ2VsY29kZS5jb20vcHJvZHVjdHMvYm1mb250LyBmb3IgV2luZG93cyBvclxuICogaHR0cDovL3d3dy5ibWdseXBoLmNvbS8gZm9yIE1hYy5cbiAqXG4gKiBBIEJpdG1hcFRleHQgY2FuIG9ubHkgYmUgY3JlYXRlZCB3aGVuIHRoZSBmb250IGlzIGxvYWRlZC5cbiAqXG4gKiBgYGBqc1xuICogLy8gaW4gdGhpcyBjYXNlIHRoZSBmb250IGlzIGluIGEgZmlsZSBjYWxsZWQgJ2Rlc3lyZWwuZm50J1xuICogbGV0IGJpdG1hcFRleHQgPSBuZXcgUElYSS5CaXRtYXBUZXh0KFwidGV4dCB1c2luZyBhIGZhbmN5IGZvbnQhXCIsIHtmb250OiBcIjM1cHggRGVzeXJlbFwiLCBhbGlnbjogXCJyaWdodFwifSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQml0bWFwVGV4dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQml0bWFwVGV4dCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIEEgc3RyaW5nIHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIHRleHQgdG8gZGlzcGxheS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3R5bGUuZm9udE5hbWUgLSBUaGUgaW5zdGFsbGVkIEJpdG1hcEZvbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmZvbnRTaXplXSAtIFRoZSBzaXplIG9mIHRoZSBmb250IGluIHBpeGVscywgZS5nLiAyNC4gSWYgdW5kZWZpbmVkLFxuICAgICAqLiAgICAgdGhpcyB3aWxsIGRlZmF1bHQgdG8gdGhlIEJpdG1hcEZvbnQgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmFsaWduPSdsZWZ0J10gLSBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLFxuICAgICAqICAgICAgZG9lcyBub3QgYWZmZWN0IHNpbmdsZSBsaW5lIHRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS50aW50PTB4RkZGRkZGXSAtIFRoZSB0aW50IGNvbG9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubGV0dGVyU3BhY2luZz0wXSAtIFRoZSBhbW91bnQgb2Ygc3BhY2luZyBiZXR3ZWVuIGxldHRlcnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5tYXhXaWR0aD0wXSAtIFRoZSBtYXggd2lkdGggb2YgdGhlIHRleHQgYmVmb3JlIGxpbmUgd3JhcHBpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQml0bWFwVGV4dCh0ZXh0LCBzdHlsZSkge1xuICAgICAgICBpZiAoc3R5bGUgPT09IHZvaWQgMCkgeyBzdHlsZSA9IHt9OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl90aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIGlmIChzdHlsZS5mb250KSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5CaXRtYXBUZXh0IGNvbnN0cnVjdG9yIHN0eWxlLmZvbnQgcHJvcGVydHkgaXMgZGVwcmVjYXRlZC4nKTtcbiAgICAgICAgICAgIF90aGlzLl91cGdyYWRlU3R5bGUoc3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFwcGx5IHRoZSBkZWZhdWx0c1xuICAgICAgICB2YXIgX2EgPSBPYmplY3QuYXNzaWduKHt9LCBCaXRtYXBUZXh0LnN0eWxlRGVmYXVsdHMsIHN0eWxlKSwgYWxpZ24gPSBfYS5hbGlnbiwgdGludCA9IF9hLnRpbnQsIG1heFdpZHRoID0gX2EubWF4V2lkdGgsIGxldHRlclNwYWNpbmcgPSBfYS5sZXR0ZXJTcGFjaW5nLCBmb250TmFtZSA9IF9hLmZvbnROYW1lLCBmb250U2l6ZSA9IF9hLmZvbnRTaXplO1xuICAgICAgICBpZiAoIUJpdG1hcEZvbnQuYXZhaWxhYmxlW2ZvbnROYW1lXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBCaXRtYXBGb250IFxcXCJcIiArIGZvbnROYW1lICsgXCJcXFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIHBhZ2UgbWVzaCBkYXRhLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YSA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgd2lkdGggb2YgdGhlIG92ZXJhbGwgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dFdpZHRoID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGhlaWdodCBvZiB0aGUgb3ZlcmFsbCB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0SGVpZ2h0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dCBhbGlnbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FsaWduID0gYWxpZ247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRpbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90aW50ID0gdGludDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgZm9udCBuYW1lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZm9udE5hbWUgPSBmb250TmFtZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgZm9udCBzaXplLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZm9udFNpemUgPSBmb250U2l6ZSB8fCBCaXRtYXBGb250LmF2YWlsYWJsZVtmb250TmFtZV0uc2l6ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHQgPSB0ZXh0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCB3aWR0aCBvZiB0aGlzIGJpdG1hcCB0ZXh0IGluIHBpeGVscy4gSWYgdGhlIHRleHQgcHJvdmlkZWQgaXMgbG9uZ2VyIHRoYW4gdGhlXG4gICAgICAgICAqIHZhbHVlIHByb3ZpZGVkLCBsaW5lIGJyZWFrcyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWQgaW4gdGhlIGxhc3Qgd2hpdGVzcGFjZS5cbiAgICAgICAgICogRGlzYWJsZSBieSBzZXR0aW5nIHZhbHVlIHRvIDBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21heFdpZHRoID0gbWF4V2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IGxpbmUgaGVpZ2h0LiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHRyeWluZyB0byB1c2UgdGhlIHRvdGFsIGhlaWdodCBvZiB0aGUgVGV4dCxcbiAgICAgICAgICogaWU6IHdoZW4gdHJ5aW5nIHRvIHZlcnRpY2FsbHkgYWxpZ24uIChJbnRlcm5hbGx5IHVzZWQpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXhMaW5lSGVpZ2h0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExldHRlciBzcGFjaW5nLiBUaGlzIGlzIHVzZWZ1bCBmb3Igc2V0dGluZyB0aGUgc3BhY2UgYmV0d2VlbiBjaGFyYWN0ZXJzLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbGV0dGVyU3BhY2luZyA9IGxldHRlclNwYWNpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0IGFuY2hvci4gcmVhZC1vbmx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FuY2hvciA9IG5ldyBPYnNlcnZhYmxlUG9pbnQoZnVuY3Rpb24gKCkgeyBfdGhpcy5kaXJ0eSA9IHRydWU7IH0sIF90aGlzLCAwLCAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgICAgICogVG8gc2V0IHRoZSBnbG9iYWwgZGVmYXVsdCwgY2hhbmdlIHtAbGluayBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU31cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRvIGB0cnVlYCBpZiB0aGUgQml0bWFwVGV4dCBuZWVkcyB0byBiZSByZWRyYXduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGV4dCBhbmQgdXBkYXRlcyBpdCB3aGVuIG5lZWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWRcbiAgICAgKiBpZiB0aGUgQml0bWFwRm9udCBpcyByZWdlbmVyYXRlZC5cbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBkYXRhID0gQml0bWFwRm9udC5hdmFpbGFibGVbdGhpcy5fZm9udE5hbWVdO1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl9mb250U2l6ZSAvIGRhdGEuc2l6ZTtcbiAgICAgICAgdmFyIHBvcyA9IG5ldyBQb2ludCgpO1xuICAgICAgICB2YXIgY2hhcnMgPSBbXTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBbXTtcbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLl90ZXh0LnJlcGxhY2UoLyg/OlxcclxcbnxcXHIpL2csICdcXG4nKSB8fCAnICc7XG4gICAgICAgIHZhciB0ZXh0TGVuZ3RoID0gdGV4dC5sZW5ndGg7XG4gICAgICAgIHZhciBtYXhXaWR0aCA9IHRoaXMuX21heFdpZHRoICogZGF0YS5zaXplIC8gdGhpcy5fZm9udFNpemU7XG4gICAgICAgIHZhciBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICB2YXIgbGFzdExpbmVXaWR0aCA9IDA7XG4gICAgICAgIHZhciBtYXhMaW5lV2lkdGggPSAwO1xuICAgICAgICB2YXIgbGluZSA9IDA7XG4gICAgICAgIHZhciBsYXN0QnJlYWtQb3MgPSAtMTtcbiAgICAgICAgdmFyIGxhc3RCcmVha1dpZHRoID0gMDtcbiAgICAgICAgdmFyIHNwYWNlc1JlbW92ZWQgPSAwO1xuICAgICAgICB2YXIgbWF4TGluZUhlaWdodCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICB2YXIgY2hhciA9IHRleHQuY2hhckF0KGkpO1xuICAgICAgICAgICAgaWYgKCgvKD86XFxzKS8pLnRlc3QoY2hhcikpIHtcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtQb3MgPSBpO1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1dpZHRoID0gbGFzdExpbmVXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGFyID09PSAnXFxyJyB8fCBjaGFyID09PSAnXFxuJykge1xuICAgICAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgICsrbGluZTtcbiAgICAgICAgICAgICAgICArK3NwYWNlc1JlbW92ZWQ7XG4gICAgICAgICAgICAgICAgcG9zLnggPSAwO1xuICAgICAgICAgICAgICAgIHBvcy55ICs9IGRhdGEubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoYXJEYXRhID0gZGF0YS5jaGFyc1tjaGFyQ29kZV07XG4gICAgICAgICAgICBpZiAoIWNoYXJEYXRhKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJldkNoYXJDb2RlICYmIGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXSkge1xuICAgICAgICAgICAgICAgIHBvcy54ICs9IGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjaGFyUmVuZGVyRGF0YSA9IGNoYXJSZW5kZXJEYXRhUG9vbC5wb3AoKSB8fCB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZTogVGV4dHVyZS5FTVBUWSxcbiAgICAgICAgICAgICAgICBsaW5lOiAwLFxuICAgICAgICAgICAgICAgIGNoYXJDb2RlOiAwLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgUG9pbnQoKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS50ZXh0dXJlID0gY2hhckRhdGEudGV4dHVyZTtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLmxpbmUgPSBsaW5lO1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEuY2hhckNvZGUgPSBjaGFyQ29kZTtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLnBvc2l0aW9uLnggPSBwb3MueCArIGNoYXJEYXRhLnhPZmZzZXQgKyAodGhpcy5fbGV0dGVyU3BhY2luZyAvIDIpO1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEucG9zaXRpb24ueSA9IHBvcy55ICsgY2hhckRhdGEueU9mZnNldDtcbiAgICAgICAgICAgIGNoYXJzLnB1c2goY2hhclJlbmRlckRhdGEpO1xuICAgICAgICAgICAgcG9zLnggKz0gY2hhckRhdGEueEFkdmFuY2UgKyB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgbGFzdExpbmVXaWR0aCA9IHBvcy54O1xuICAgICAgICAgICAgbWF4TGluZUhlaWdodCA9IE1hdGgubWF4KG1heExpbmVIZWlnaHQsIChjaGFyRGF0YS55T2Zmc2V0ICsgY2hhckRhdGEudGV4dHVyZS5oZWlnaHQpKTtcbiAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IGNoYXJDb2RlO1xuICAgICAgICAgICAgaWYgKGxhc3RCcmVha1BvcyAhPT0gLTEgJiYgbWF4V2lkdGggPiAwICYmIHBvcy54ID4gbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICArK3NwYWNlc1JlbW92ZWQ7XG4gICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXMoY2hhcnMsIDEgKyBsYXN0QnJlYWtQb3MgLSBzcGFjZXNSZW1vdmVkLCAxICsgaSAtIGxhc3RCcmVha1Bvcyk7XG4gICAgICAgICAgICAgICAgaSA9IGxhc3RCcmVha1BvcztcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtQb3MgPSAtMTtcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdEJyZWFrV2lkdGgpO1xuICAgICAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdEJyZWFrV2lkdGgpO1xuICAgICAgICAgICAgICAgIGxpbmUrKztcbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhc3RDaGFyID0gdGV4dC5jaGFyQXQodGV4dC5sZW5ndGggLSAxKTtcbiAgICAgICAgaWYgKGxhc3RDaGFyICE9PSAnXFxyJyAmJiBsYXN0Q2hhciAhPT0gJ1xcbicpIHtcbiAgICAgICAgICAgIGlmICgoLyg/OlxccykvKS50ZXN0KGxhc3RDaGFyKSkge1xuICAgICAgICAgICAgICAgIGxhc3RMaW5lV2lkdGggPSBsYXN0QnJlYWtXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxpbmVBbGlnbk9mZnNldHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gbGluZTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYWxpZ25PZmZzZXQgPSAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2FsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fYWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXSkgLyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGluZUFsaWduT2Zmc2V0cy5wdXNoKGFsaWduT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVuQ2hhcnMgPSBjaGFycy5sZW5ndGg7XG4gICAgICAgIHZhciBwYWdlc01lc2hEYXRhID0ge307XG4gICAgICAgIHZhciBuZXdQYWdlc01lc2hEYXRhID0gW107XG4gICAgICAgIHZhciBhY3RpdmVQYWdlc01lc2hEYXRhID0gdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhY3RpdmVQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYWdlTWVzaERhdGFQb29sLnB1c2goYWN0aXZlUGFnZXNNZXNoRGF0YVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5DaGFyczsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IGNoYXJzW2ldLnRleHR1cmU7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmVVaWQgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnVpZDtcbiAgICAgICAgICAgIGlmICghcGFnZXNNZXNoRGF0YVtiYXNlVGV4dHVyZVVpZF0pIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFnZU1lc2hEYXRhID0gcGFnZU1lc2hEYXRhUG9vbC5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhZ2VNZXNoRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgTWVzaEdlb21ldHJ5KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwoVGV4dHVyZS5FTVBUWSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNoID0gbmV3IE1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleENvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGV4Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB1dnNDb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzaDogbWVzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXZzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kaWNlczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgZGF0YS4uXG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLmluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEuaW5kZXhDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRleENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudXZzQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS50b3RhbCA9IDA7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBuZWVkIHRvIGdldCBwYWdlIHRleHR1cmUgaGVyZSBzb21laG93Li5cbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEubWVzaC50ZXh0dXJlID0gbmV3IFRleHR1cmUodGV4dHVyZS5iYXNlVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLm1lc2gudGludCA9IHRoaXMuX3RpbnQ7XG4gICAgICAgICAgICAgICAgbmV3UGFnZXNNZXNoRGF0YS5wdXNoKHBhZ2VNZXNoRGF0YSk7XG4gICAgICAgICAgICAgICAgcGFnZXNNZXNoRGF0YVtiYXNlVGV4dHVyZVVpZF0gPSBwYWdlTWVzaERhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWdlc01lc2hEYXRhW2Jhc2VUZXh0dXJlVWlkXS50b3RhbCsrO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxldHMgZmluZCBhbnkgcHJldmlvdXNseSBhY3RpdmUgcGFnZU1lc2hEYXRhcyB0aGF0IGFyZSBubyBsb25nZXIgcmVxdWlyZWQgZm9yXG4gICAgICAgIC8vIHRoZSB1cGRhdGVkIHRleHQgKGlmIGFueSksIHJlbW92ZWQgYW5kIHJldHVybiB0aGVtIHRvIHRoZSBwb29sLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFjdGl2ZVBhZ2VzTWVzaERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChuZXdQYWdlc01lc2hEYXRhLmluZGV4T2YoYWN0aXZlUGFnZXNNZXNoRGF0YVtpXSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChhY3RpdmVQYWdlc01lc2hEYXRhW2ldLm1lc2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG5leHQgbGV0cyBhZGQgYW55IG5ldyBtZXNoZXMsIHRoYXQgaGF2ZSBub3QgeWV0IGJlZW4gYWRkZWQgdG8gdGhpcyBCaXRtYXBUZXh0XG4gICAgICAgIC8vIHdlIG9ubHkgYWRkIGlmIGl0cyBub3QgYWxyZWFkeSBhIGNoaWxkIG9mIHRoaXMgQml0bWFwT2JqZWN0XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3UGFnZXNNZXNoRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG5ld1BhZ2VzTWVzaERhdGFbaV0ubWVzaC5wYXJlbnQgIT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKG5ld1BhZ2VzTWVzaERhdGFbaV0ubWVzaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWN0aXZlIHBhZ2UgbWVzaCBkYXRhcyBhcmUgc2V0IHRvIGJlIHRoZSBuZXcgcGFnZXMgYWRkZWQuXG4gICAgICAgIHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGEgPSBuZXdQYWdlc01lc2hEYXRhO1xuICAgICAgICBmb3IgKHZhciBpIGluIHBhZ2VzTWVzaERhdGEpIHtcbiAgICAgICAgICAgIHZhciBwYWdlTWVzaERhdGEgPSBwYWdlc01lc2hEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIHRvdGFsID0gcGFnZU1lc2hEYXRhLnRvdGFsO1xuICAgICAgICAgICAgLy8gbGV0cyBvbmx5IGFsbG9jYXRlIG5ldyBidWZmZXJzIGlmIHdlIGNhbiBmaXQgdGhlIG5ldyB0ZXh0IGluIHRoZSBjdXJyZW50IG9uZXMuLlxuICAgICAgICAgICAgLy8gdW5sZXNzIHRoYXQgaXMsIHdlIHdpbGwgYmUgYmF0Y2hpbmcuIEN1cnJlbnRseSBiYXRjaGluZyBkb3NlIG5vdCByZXNwZWN0IHRoZSBzaXplIHByb3BlcnR5IG9mIG1lc2hcbiAgICAgICAgICAgIGlmICghKCgoX2EgPSBwYWdlTWVzaERhdGEuaW5kaWNlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgPiA2ICogdG90YWwpIHx8IHBhZ2VNZXNoRGF0YS52ZXJ0aWNlcy5sZW5ndGggPCBNZXNoLkJBVENIQUJMRV9TSVpFICogMikge1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoNCAqIDIgKiB0b3RhbCk7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoNCAqIDIgKiB0b3RhbCk7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLmluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoNiAqIHRvdGFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFzIGEgYnVmZmVyIG1heWJlIGJpZ2dlciB0aGFuIHRoZSBjdXJyZW50IHdvcmQsIHdlIHNldCB0aGUgc2l6ZSBvZiB0aGUgbWVzaE1hdGVyaWFsXG4gICAgICAgICAgICAvLyB0byBtYXRjaCB0aGUgbnVtYmVyIG9mIGxldHRlcnMgbmVlZGVkXG4gICAgICAgICAgICBwYWdlTWVzaERhdGEubWVzaC5zaXplID0gNiAqIHRvdGFsO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuQ2hhcnM7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoYXIgPSBjaGFyc1tpXTtcbiAgICAgICAgICAgIHZhciB4UG9zID0gKGNoYXIucG9zaXRpb24ueCArIGxpbmVBbGlnbk9mZnNldHNbY2hhci5saW5lXSkgKiBzY2FsZTtcbiAgICAgICAgICAgIHZhciB5UG9zID0gY2hhci5wb3NpdGlvbi55ICogc2NhbGU7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IGNoYXIudGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBwYWdlTWVzaCA9IHBhZ2VzTWVzaERhdGFbdGV4dHVyZS5iYXNlVGV4dHVyZS51aWRdO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVGcmFtZSA9IHRleHR1cmUuZnJhbWU7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZVV2cyA9IHRleHR1cmUuX3V2cztcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHBhZ2VNZXNoLmluZGV4Kys7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgMF0gPSAwICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgMV0gPSAxICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgMl0gPSAyICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgM10gPSAwICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgNF0gPSAyICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgNV0gPSAzICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDBdID0geFBvcztcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgMV0gPSB5UG9zO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyAyXSA9IHhQb3MgKyAodGV4dHVyZUZyYW1lLndpZHRoICogc2NhbGUpO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyAzXSA9IHlQb3M7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDRdID0geFBvcyArICh0ZXh0dXJlRnJhbWUud2lkdGggKiBzY2FsZSk7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDVdID0geVBvcyArICh0ZXh0dXJlRnJhbWUuaGVpZ2h0ICogc2NhbGUpO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyA2XSA9IHhQb3M7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDddID0geVBvcyArICh0ZXh0dXJlRnJhbWUuaGVpZ2h0ICogc2NhbGUpO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgMF0gPSB0ZXh0dXJlVXZzLngwO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgMV0gPSB0ZXh0dXJlVXZzLnkwO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgMl0gPSB0ZXh0dXJlVXZzLngxO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgM10gPSB0ZXh0dXJlVXZzLnkxO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgNF0gPSB0ZXh0dXJlVXZzLngyO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgNV0gPSB0ZXh0dXJlVXZzLnkyO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgNl0gPSB0ZXh0dXJlVXZzLngzO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgN10gPSB0ZXh0dXJlVXZzLnkzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHRXaWR0aCA9IG1heExpbmVXaWR0aCAqIHNjYWxlO1xuICAgICAgICB0aGlzLl90ZXh0SGVpZ2h0ID0gKHBvcy55ICsgZGF0YS5saW5lSGVpZ2h0KSAqIHNjYWxlO1xuICAgICAgICBmb3IgKHZhciBpIGluIHBhZ2VzTWVzaERhdGEpIHtcbiAgICAgICAgICAgIHZhciBwYWdlTWVzaERhdGEgPSBwYWdlc01lc2hEYXRhW2ldO1xuICAgICAgICAgICAgLy8gYXBwbHkgYW5jaG9yXG4gICAgICAgICAgICBpZiAodGhpcy5hbmNob3IueCAhPT0gMCB8fCB0aGlzLmFuY2hvci55ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZlcnRleENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgYW5jaG9yT2Zmc2V0WCA9IHRoaXMuX3RleHRXaWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgICAgICAgICAgdmFyIGFuY2hvck9mZnNldFkgPSB0aGlzLl90ZXh0SGVpZ2h0ICogdGhpcy5hbmNob3IueTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzEgPSAwOyBpXzEgPCBwYWdlTWVzaERhdGEudG90YWw7IGlfMSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRYO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WTtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRZO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRYO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tYXhMaW5lSGVpZ2h0ID0gbWF4TGluZUhlaWdodCAqIHNjYWxlO1xuICAgICAgICAgICAgdmFyIHZlcnRleEJ1ZmZlciA9IHBhZ2VNZXNoRGF0YS5tZXNoLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJyk7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZUJ1ZmZlciA9IHBhZ2VNZXNoRGF0YS5tZXNoLmdlb21ldHJ5LmdldEJ1ZmZlcignYVRleHR1cmVDb29yZCcpO1xuICAgICAgICAgICAgdmFyIGluZGV4QnVmZmVyID0gcGFnZU1lc2hEYXRhLm1lc2guZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5kYXRhID0gcGFnZU1lc2hEYXRhLnZlcnRpY2VzO1xuICAgICAgICAgICAgdGV4dHVyZUJ1ZmZlci5kYXRhID0gcGFnZU1lc2hEYXRhLnV2cztcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLmRhdGEgPSBwYWdlTWVzaERhdGEuaW5kaWNlcztcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgICAgIHRleHR1cmVCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YVBvb2wucHVzaChjaGFyc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRyYW5zZm9ybSBvZiB0aGlzIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgdGhpcy5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0ZXh0IGJlZm9yZSBjYWxsaW5nIHBhcmVudCdzIGdldExvY2FsQm91bmRzXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWFcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0ZXh0IHdoZW4gbmVlZGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KCk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJ0aW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweGZmZmZmZlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90aW50ID09PSB2YWx1ZSlcbiAgICAgICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YVtpXS5tZXNoLnRpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJhbGlnblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWxpZ25tZW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbGVmdCdcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FsaWduO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2FsaWduICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FsaWduID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwiZm9udE5hbWVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhlIEJpdG1hcEZvbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnROYW1lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFCaXRtYXBGb250LmF2YWlsYWJsZVt2YWx1ZV0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIEJpdG1hcEZvbnQgXFxcIlwiICsgdmFsdWUgKyBcIlxcXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udE5hbWUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udE5hbWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJmb250U2l6ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgZm9udCB0byBkaXNwbGF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250U2l6ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250U2l6ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U2l6ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcImFuY2hvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGRlZmF1bHQgaXMgYCgwLDApYCwgdGhpcyBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDAuNSwwLjUpYCBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyBjZW50ZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMSwxKWAgd291bGQgbWVhbiB0aGUgdGV4dCdzIG9yaWdpbiBwb2ludCB3aWxsIGJlIHRoZSBib3R0b20gcmlnaHQgY29ybmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50IHwgbnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3Iuc2V0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwidGV4dFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgICAgIHRleHQgPSBTdHJpbmcodGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB1bmRlZmluZWQgPyAnJyA6IHRleHQpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHQgPT09IHRleHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcIm1heFdpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB0aGUgdmFsdWUgdG8gMC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWF4V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWF4V2lkdGggPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWF4V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcIm1heExpbmVIZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCBsaW5lIGhlaWdodC4gVGhpcyBpcyB1c2VmdWwgd2hlbiB0cnlpbmcgdG8gdXNlIHRoZSB0b3RhbCBoZWlnaHQgb2YgdGhlIFRleHQsXG4gICAgICAgICAqIGkuZS4gd2hlbiB0cnlpbmcgdG8gdmVydGljYWxseSBhbGlnbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21heExpbmVIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwidGV4dFdpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgb3ZlcmFsbCB0ZXh0LCBkaWZmZXJlbnQgZnJvbSBmb250U2l6ZSxcbiAgICAgICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcImxldHRlclNwYWNpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWRkaXRpb25hbCBzcGFjZSBiZXR3ZWVuIGNoYXJhY3RlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZXR0ZXJTcGFjaW5nID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwidGV4dEhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBvdmVyYWxsIHRleHQsIGRpZmZlcmVudCBmcm9tIGZvbnRTaXplLFxuICAgICAgICAgKiB3aGljaCBpcyBkZWZpbmVkIGluIHRoZSBzdHlsZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0SGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIGNvbnZlcnQgb2xkIHN0eWxlLmZvbnQgY29uc3RydWN0b3IgcGFyYW0gdG8gZm9udE5hbWUgJiBmb250U2l6ZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAqL1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLl91cGdyYWRlU3R5bGUgPSBmdW5jdGlvbiAoc3R5bGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzdHlsZS5mb250ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIHZhbHVlU3BsaXQgPSBzdHlsZS5mb250LnNwbGl0KCcgJyk7XG4gICAgICAgICAgICBzdHlsZS5mb250TmFtZSA9IHZhbHVlU3BsaXQubGVuZ3RoID09PSAxXG4gICAgICAgICAgICAgICAgPyB2YWx1ZVNwbGl0WzBdXG4gICAgICAgICAgICAgICAgOiB2YWx1ZVNwbGl0LnNsaWNlKDEpLmpvaW4oJyAnKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZVNwbGl0Lmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICAgICAgc3R5bGUuZm9udFNpemUgPSBwYXJzZUludCh2YWx1ZVNwbGl0WzBdLCAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdHlsZS5mb250TmFtZSA9IHN0eWxlLmZvbnQubmFtZTtcbiAgICAgICAgICAgIHN0eWxlLmZvbnRTaXplID0gdHlwZW9mIHN0eWxlLmZvbnQuc2l6ZSA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgICA/IHN0eWxlLmZvbnQuc2l6ZVxuICAgICAgICAgICAgICAgIDogcGFyc2VJbnQoc3R5bGUuZm9udC5zaXplLCAxMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgYml0bWFwIGZvbnQgd2l0aCBkYXRhIGFuZCBhIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAqIEBzZWUgUElYSS5CaXRtYXBGb250Lmluc3RhbGxcbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5yZWdpc3RlckZvbnQgPSBmdW5jdGlvbiAoZGF0YSwgdGV4dHVyZXMpIHtcbiAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuQml0bWFwVGV4dC5yZWdpc3RlckZvbnQgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuQml0bWFwRm9udC5pbnN0YWxsJyk7XG4gICAgICAgIHJldHVybiBCaXRtYXBGb250Lmluc3RhbGwoZGF0YSwgdGV4dHVyZXMpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQsIFwiZm9udHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBsaXN0IG9mIGluc3RhbGxlZCBmb250cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHNlZSBQSVhJLkJpdG1hcEZvbnQuYXZhaWxhYmxlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48c3RyaW5nLCBQSVhJLkJpdG1hcEZvbnQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5CaXRtYXBUZXh0LmZvbnRzIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLkJpdG1hcEZvbnQuYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICByZXR1cm4gQml0bWFwRm9udC5hdmFpbGFibGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBCaXRtYXBUZXh0LnN0eWxlRGVmYXVsdHMgPSB7XG4gICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICAgIHRpbnQ6IDB4RkZGRkZGLFxuICAgICAgICBtYXhXaWR0aDogMCxcbiAgICAgICAgbGV0dGVyU3BhY2luZzogMCxcbiAgICB9O1xuICAgIHJldHVybiBCaXRtYXBUZXh0O1xufShDb250YWluZXIpKTtcblxuLyoqXG4gKiB7QGxpbmsgUElYSS5Mb2FkZXIgTG9hZGVyfSBtaWRkbGV3YXJlIGZvciBsb2FkaW5nXG4gKiBiaXRtYXAtYmFzZWQgZm9udHMgc3VpdGFibGUgZm9yIHVzaW5nIHdpdGgge0BsaW5rIFBJWEkuQml0bWFwVGV4dH0uXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqL1xudmFyIEJpdG1hcEZvbnRMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQml0bWFwRm9udExvYWRlcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIHBsdWdpbiBpcyBpbnN0YWxsZWQuXG4gICAgICpcbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luXG4gICAgICovXG4gICAgQml0bWFwRm9udExvYWRlci5hZGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExvYWRlclJlc291cmNlLnNldEV4dGVuc2lvblhoclR5cGUoJ2ZudCcsIExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCBhZnRlciBhIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICAgICAqL1xuICAgIEJpdG1hcEZvbnRMb2FkZXIudXNlID0gZnVuY3Rpb24gKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIHZhciBmb3JtYXQgPSBhdXRvRGV0ZWN0Rm9ybWF0KHJlc291cmNlLmRhdGEpO1xuICAgICAgICAvLyBSZXNvdXJjZSB3YXMgbm90IHJlY29nbmlzZWQgYXMgYW55IG9mIHRoZSBleHBlY3RlZCBmb250IGRhdGEgZm9ybWF0XG4gICAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJhc2VVcmwgPSBCaXRtYXBGb250TG9hZGVyLmdldEJhc2VVcmwodGhpcywgcmVzb3VyY2UpO1xuICAgICAgICB2YXIgZGF0YSA9IGZvcm1hdC5wYXJzZShyZXNvdXJjZS5kYXRhKTtcbiAgICAgICAgdmFyIHRleHR1cmVzID0ge307XG4gICAgICAgIC8vIEhhbmRsZSBjb21wbGV0ZWQsIHdoZW4gdGhlIG51bWJlciBvZiB0ZXh0dXJlc1xuICAgICAgICAvLyBsb2FkIGlzIHRoZSBzYW1lIG51bWJlciBhcyByZWZlcmVuY2VzIGluIHRoZSBmbnQgZmlsZVxuICAgICAgICB2YXIgY29tcGxldGVkID0gZnVuY3Rpb24gKHBhZ2UpIHtcbiAgICAgICAgICAgIHRleHR1cmVzW3BhZ2UubWV0YWRhdGEucGFnZUZpbGVdID0gcGFnZS50ZXh0dXJlO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRleHR1cmVzKS5sZW5ndGggPT09IGRhdGEucGFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5iaXRtYXBGb250ID0gQml0bWFwRm9udC5pbnN0YWxsKGRhdGEsIHRleHR1cmVzKTtcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5wYWdlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcGFnZUZpbGUgPSBkYXRhLnBhZ2VbaV0uZmlsZTtcbiAgICAgICAgICAgIHZhciB1cmwgPSBiYXNlVXJsICsgcGFnZUZpbGU7XG4gICAgICAgICAgICB2YXIgZXhpc3RzID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBpbmNhc2UgdGhlIGltYWdlIGlzIGxvYWRlZCBvdXRzaWRlXG4gICAgICAgICAgICAvLyB1c2luZyB0aGUgc2FtZSBsb2FkZXIsIHJlc291cmNlIHdpbGwgYmUgYXZhaWxhYmxlXG4gICAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMucmVzb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJpdG1hcFJlc291cmNlID0gdGhpcy5yZXNvdXJjZXNbbmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKGJpdG1hcFJlc291cmNlLnVybCA9PT0gdXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIGJpdG1hcFJlc291cmNlLm1ldGFkYXRhLnBhZ2VGaWxlID0gcGFnZUZpbGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiaXRtYXBSZXNvdXJjZS50ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQoYml0bWFwUmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYml0bWFwUmVzb3VyY2Uub25BZnRlck1pZGRsZXdhcmUuYWRkKGNvbXBsZXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGV4dHVyZSBpcyBub3QgbG9hZGVkLCB3ZSdsbCBhdHRlbXB0IHRvIGFkZFxuICAgICAgICAgICAgLy8gaXQgdG8gdGhlIGxvYWQgYW5kIGFkZCB0aGUgdGV4dHVyZSB0byB0aGUgbGlzdFxuICAgICAgICAgICAgaWYgKCFleGlzdHMpIHtcbiAgICAgICAgICAgICAgICAvLyBTdGFuZGFyZCBsb2FkaW5nIG9wdGlvbnMgZm9yIGltYWdlc1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICAgICAgICAgIGxvYWRUeXBlOiBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBPYmplY3QuYXNzaWduKHsgcGFnZUZpbGU6IHBhZ2VGaWxlIH0sIHJlc291cmNlLm1ldGFkYXRhLmltYWdlTWV0YWRhdGEpLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRSZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZCh1cmwsIG9wdGlvbnMsIGNvbXBsZXRlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBmb2xkZXIgcGF0aCBmcm9tIGEgcmVzb3VyY2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJ9IGxvYWRlclxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2VcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgQml0bWFwRm9udExvYWRlci5nZXRCYXNlVXJsID0gZnVuY3Rpb24gKGxvYWRlciwgcmVzb3VyY2UpIHtcbiAgICAgICAgdmFyIHJlc1VybCA9ICFyZXNvdXJjZS5pc0RhdGFVcmwgPyBCaXRtYXBGb250TG9hZGVyLmRpcm5hbWUocmVzb3VyY2UudXJsKSA6ICcnO1xuICAgICAgICBpZiAocmVzb3VyY2UuaXNEYXRhVXJsKSB7XG4gICAgICAgICAgICBpZiAocmVzVXJsID09PSAnLicpIHtcbiAgICAgICAgICAgICAgICByZXNVcmwgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsb2FkZXIuYmFzZVVybCAmJiByZXNVcmwpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBiYXNldXJsIGhhcyBhIHRyYWlsaW5nIHNsYXNoIHRoZW4gYWRkIG9uZSB0byByZXNVcmwgc28gdGhlIHJlcGxhY2Ugd29ya3MgYmVsb3dcbiAgICAgICAgICAgICAgICBpZiAobG9hZGVyLmJhc2VVcmwuY2hhckF0KGxvYWRlci5iYXNlVXJsLmxlbmd0aCAtIDEpID09PSAnLycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzVXJsICs9ICcvJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIGJhc2VVcmwgZnJvbSByZXNVcmxcbiAgICAgICAgcmVzVXJsID0gcmVzVXJsLnJlcGxhY2UobG9hZGVyLmJhc2VVcmwsICcnKTtcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW4gcmVzVXJsIG5vdywgaXQgbmVlZHMgYSB0cmFpbGluZyBzbGFzaC4gRW5zdXJlIHRoYXQgaXQgZG9lcyBpZiB0aGUgc3RyaW5nIGlzbid0IGVtcHR5LlxuICAgICAgICBpZiAocmVzVXJsICYmIHJlc1VybC5jaGFyQXQocmVzVXJsLmxlbmd0aCAtIDEpICE9PSAnLycpIHtcbiAgICAgICAgICAgIHJlc1VybCArPSAnLyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc1VybDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlcGxhY2VtZW50IGZvciBOb2RlSlMncyBwYXRoLmRpcm5hbWVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBQYXRoIHRvIGdldCBkaXJlY3RvcnkgZm9yXG4gICAgICovXG4gICAgQml0bWFwRm9udExvYWRlci5kaXJuYW1lID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICB2YXIgZGlyID0gdXJsXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxcXC9nLCAnLycpIC8vIGNvbnZlcnQgd2luZG93cyBub3RhdGlvbiB0byBVTklYIG5vdGF0aW9uLCBVUkwtc2FmZSBiZWNhdXNlIGl0J3MgYSBmb3JiaWRkZW4gY2hhcmFjdGVyXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwvJC8sICcnKSAvLyByZXBsYWNlIHRyYWlsaW5nIHNsYXNoXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwvW15cXC9dKiQvLCAnJyk7IC8vIHJlbW92ZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBsYXN0XG4gICAgICAgIC8vIEZpbGUgcmVxdWVzdCBpcyByZWxhdGl2ZSwgdXNlIGN1cnJlbnQgZGlyZWN0b3J5XG4gICAgICAgIGlmIChkaXIgPT09IHVybCkge1xuICAgICAgICAgICAgcmV0dXJuICcuJztcbiAgICAgICAgfVxuICAgICAgICAvLyBTdGFydGVkIHdpdGggYSBzbGFzaFxuICAgICAgICBlbHNlIGlmIChkaXIgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaXI7XG4gICAgfTtcbiAgICByZXR1cm4gQml0bWFwRm9udExvYWRlcjtcbn0oKSk7XG5cbmV4cG9ydCB7IEJpdG1hcEZvbnQsIEJpdG1hcEZvbnREYXRhLCBCaXRtYXBGb250TG9hZGVyLCBCaXRtYXBUZXh0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0LWJpdG1hcC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWFscGhhIC0gdjUuMy4zXG4gKiBDb21waWxlZCBUdWUsIDA0IEF1ZyAyMDIwIDE2OjIzOjA5IFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1hbHBoYSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IGRlZmF1bHRWZXJ0ZXgsIEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIGZsb2F0IHVBbHBoYTtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHVBbHBoYTtcXG59XFxuXCI7XG5cbi8qKlxuICogU2ltcGxlc3QgZmlsdGVyIC0gYXBwbGllcyBhbHBoYS5cbiAqXG4gKiBVc2UgdGhpcyBpbnN0ZWFkIG9mIENvbnRhaW5lcidzIGFscGhhIHByb3BlcnR5IHRvIGF2b2lkIHZpc3VhbCBsYXllcmluZyBvZiBpbmRpdmlkdWFsIGVsZW1lbnRzLlxuICogQWxwaGFGaWx0ZXIgYXBwbGllcyBhbHBoYSBldmVubHkgYWNyb3NzIHRoZSBlbnRpcmUgZGlzcGxheSBvYmplY3QgYW5kIGFueSBvcGFxdWUgZWxlbWVudHMgaXQgY29udGFpbnMuXG4gKiBJZiBlbGVtZW50cyBhcmUgbm90IG9wYXF1ZSwgdGhleSB3aWxsIGJsZW5kIHdpdGggZWFjaCBvdGhlciBhbnl3YXkuXG4gKlxuICogVmVyeSBoYW5keSBpZiB5b3Ugd2FudCB0byB1c2UgY29tbW9uIGZlYXR1cmVzIG9mIGFsbCBmaWx0ZXJzOlxuICpcbiAqIDEuIEFzc2lnbiBhIGJsZW5kTW9kZSB0byB0aGlzIGZpbHRlciwgYmxlbmQgYWxsIGVsZW1lbnRzIGluc2lkZSBkaXNwbGF5IG9iamVjdCB3aXRoIGJhY2tncm91bmQuXG4gKlxuICogMi4gVG8gdXNlIGNsaXBwaW5nIGluIGRpc3BsYXkgY29vcmRpbmF0ZXMsIGFzc2lnbiBhIGZpbHRlckFyZWEgdG8gdGhlIHNhbWUgY29udGFpbmVyIHRoYXQgaGFzIHRoaXMgZmlsdGVyLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEFscGhhRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBbHBoYUZpbHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gQW1vdW50IG9mIGFscGhhIGZyb20gMCB0byAxLCB3aGVyZSAwIGlzIHRyYW5zcGFyZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gQWxwaGFGaWx0ZXIoYWxwaGEpIHtcbiAgICAgICAgaWYgKGFscGhhID09PSB2b2lkIDApIHsgYWxwaGEgPSAxLjA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVmYXVsdFZlcnRleCwgZnJhZ21lbnQsIHsgdUFscGhhOiAxIH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFscGhhID0gYWxwaGE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFscGhhRmlsdGVyLnByb3RvdHlwZSwgXCJhbHBoYVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2VmZmljaWVudCBmb3IgYWxwaGEgbXVsdGlwbGljYXRpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudUFscGhhID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQWxwaGFGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBBbHBoYUZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWFscGhhLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItYmx1ciAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItYmx1ciBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgdmVydFRlbXBsYXRlID0gXCJcXG4gICAgYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbiAgICB1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG4gICAgdW5pZm9ybSBmbG9hdCBzdHJlbmd0aDtcXG5cXG4gICAgdmFyeWluZyB2ZWMyIHZCbHVyVGV4Q29vcmRzWyVzaXplJV07XFxuXFxuICAgIHVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XFxuICAgIHVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG4gICAgdmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxuICAgIHtcXG4gICAgICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICAgICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgICB9XFxuXFxuICAgIHZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG4gICAge1xcbiAgICAgICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7XFxuICAgIH1cXG5cXG4gICAgdm9pZCBtYWluKHZvaWQpXFxuICAgIHtcXG4gICAgICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG5cXG4gICAgICAgIHZlYzIgdGV4dHVyZUNvb3JkID0gZmlsdGVyVGV4dHVyZUNvb3JkKCk7XFxuICAgICAgICAlYmx1ciVcXG4gICAgfVwiO1xuZnVuY3Rpb24gZ2VuZXJhdGVCbHVyVmVydFNvdXJjZShrZXJuZWxTaXplLCB4KSB7XG4gICAgdmFyIGhhbGZMZW5ndGggPSBNYXRoLmNlaWwoa2VybmVsU2l6ZSAvIDIpO1xuICAgIHZhciB2ZXJ0U291cmNlID0gdmVydFRlbXBsYXRlO1xuICAgIHZhciBibHVyTG9vcCA9ICcnO1xuICAgIHZhciB0ZW1wbGF0ZTtcbiAgICBpZiAoeCkge1xuICAgICAgICB0ZW1wbGF0ZSA9ICd2Qmx1clRleENvb3Jkc1slaW5kZXglXSA9ICB0ZXh0dXJlQ29vcmQgKyB2ZWMyKCVzYW1wbGVJbmRleCUgKiBzdHJlbmd0aCwgMC4wKTsnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGVtcGxhdGUgPSAndkJsdXJUZXhDb29yZHNbJWluZGV4JV0gPSAgdGV4dHVyZUNvb3JkICsgdmVjMigwLjAsICVzYW1wbGVJbmRleCUgKiBzdHJlbmd0aCk7JztcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXJuZWxTaXplOyBpKyspIHtcbiAgICAgICAgdmFyIGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaS50b1N0cmluZygpKTtcbiAgICAgICAgYmx1ciA9IGJsdXIucmVwbGFjZSgnJXNhbXBsZUluZGV4JScsIGkgLSAoaGFsZkxlbmd0aCAtIDEpICsgXCIuMFwiKTtcbiAgICAgICAgYmx1ckxvb3AgKz0gYmx1cjtcbiAgICAgICAgYmx1ckxvb3AgKz0gJ1xcbic7XG4gICAgfVxuICAgIHZlcnRTb3VyY2UgPSB2ZXJ0U291cmNlLnJlcGxhY2UoJyVibHVyJScsIGJsdXJMb29wKTtcbiAgICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKCclc2l6ZSUnLCBrZXJuZWxTaXplLnRvU3RyaW5nKCkpO1xuICAgIHJldHVybiB2ZXJ0U291cmNlO1xufVxuXG52YXIgR0FVU1NJQU5fVkFMVUVTID0ge1xuICAgIDU6IFswLjE1MzM4OCwgMC4yMjE0NjEsIDAuMjUwMzAxXSxcbiAgICA3OiBbMC4wNzEzMDMsIDAuMTMxNTE0LCAwLjE4OTg3OSwgMC4yMTQ2MDddLFxuICAgIDk6IFswLjAyODUzMiwgMC4wNjcyMzQsIDAuMTI0MDA5LCAwLjE3OTA0NCwgMC4yMDIzNl0sXG4gICAgMTE6IFswLjAwOTMsIDAuMDI4MDAyLCAwLjA2NTk4NCwgMC4xMjE3MDMsIDAuMTc1NzEzLCAwLjE5ODU5Nl0sXG4gICAgMTM6IFswLjAwMjQwNiwgMC4wMDkyNTUsIDAuMDI3ODY3LCAwLjA2NTY2NiwgMC4xMjExMTcsIDAuMTc0ODY4LCAwLjE5NzY0MV0sXG4gICAgMTU6IFswLjAwMDQ4OSwgMC4wMDI0MDMsIDAuMDA5MjQ2LCAwLjAyNzg0LCAwLjA2NTYwMiwgMC4xMjA5OTksIDAuMTc0Njk3LCAwLjE5NzQ0OF0sXG59O1xudmFyIGZyYWdUZW1wbGF0ZSA9IFtcbiAgICAndmFyeWluZyB2ZWMyIHZCbHVyVGV4Q29vcmRzWyVzaXplJV07JyxcbiAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7JyxcbiAgICAndm9pZCBtYWluKHZvaWQpJyxcbiAgICAneycsXG4gICAgJyAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JyxcbiAgICAnICAgICVibHVyJScsXG4gICAgJ30nIF0uam9pbignXFxuJyk7XG5mdW5jdGlvbiBnZW5lcmF0ZUJsdXJGcmFnU291cmNlKGtlcm5lbFNpemUpIHtcbiAgICB2YXIga2VybmVsID0gR0FVU1NJQU5fVkFMVUVTW2tlcm5lbFNpemVdO1xuICAgIHZhciBoYWxmTGVuZ3RoID0ga2VybmVsLmxlbmd0aDtcbiAgICB2YXIgZnJhZ1NvdXJjZSA9IGZyYWdUZW1wbGF0ZTtcbiAgICB2YXIgYmx1ckxvb3AgPSAnJztcbiAgICB2YXIgdGVtcGxhdGUgPSAnZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh1U2FtcGxlciwgdkJsdXJUZXhDb29yZHNbJWluZGV4JV0pICogJXZhbHVlJTsnO1xuICAgIHZhciB2YWx1ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtlcm5lbFNpemU7IGkrKykge1xuICAgICAgICB2YXIgYmx1ciA9IHRlbXBsYXRlLnJlcGxhY2UoJyVpbmRleCUnLCBpLnRvU3RyaW5nKCkpO1xuICAgICAgICB2YWx1ZSA9IGk7XG4gICAgICAgIGlmIChpID49IGhhbGZMZW5ndGgpIHtcbiAgICAgICAgICAgIHZhbHVlID0ga2VybmVsU2l6ZSAtIGkgLSAxO1xuICAgICAgICB9XG4gICAgICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoJyV2YWx1ZSUnLCBrZXJuZWxbdmFsdWVdLnRvU3RyaW5nKCkpO1xuICAgICAgICBibHVyTG9vcCArPSBibHVyO1xuICAgICAgICBibHVyTG9vcCArPSAnXFxuJztcbiAgICB9XG4gICAgZnJhZ1NvdXJjZSA9IGZyYWdTb3VyY2UucmVwbGFjZSgnJWJsdXIlJywgYmx1ckxvb3ApO1xuICAgIGZyYWdTb3VyY2UgPSBmcmFnU291cmNlLnJlcGxhY2UoJyVzaXplJScsIGtlcm5lbFNpemUudG9TdHJpbmcoKSk7XG4gICAgcmV0dXJuIGZyYWdTb3VyY2U7XG59XG5cbi8qKlxuICogRGlmZmVyZW50IHR5cGVzIG9mIGVudmlyb25tZW50cyBmb3IgV2ViR0wuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEVOVlxuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTF9MRUdBQ1kgLSBVc2VkIGZvciBvbGRlciB2MSBXZWJHTCBkZXZpY2VzLiBQaXhpSlMgd2lsbCBhaW0gdG8gZW5zdXJlIGNvbXBhdGliaWxpdHlcbiAqICB3aXRoIG9sZGVyIC8gbGVzcyBhZHZhbmNlZCBkZXZpY2VzLiBJZiB5b3UgZXhwZXJpZW5jZSB1bmV4cGxhaW5lZCBmbGlja2VyaW5nIHByZWZlciB0aGlzIGVudmlyb25tZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gVmVyc2lvbiAxIG9mIFdlYkdMXG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0wyIC0gVmVyc2lvbiAyIG9mIFdlYkdMXG4gKi9cbnZhciBFTlY7XG4oZnVuY3Rpb24gKEVOVikge1xuICAgIEVOVltFTlZbXCJXRUJHTF9MRUdBQ1lcIl0gPSAwXSA9IFwiV0VCR0xfTEVHQUNZXCI7XG4gICAgRU5WW0VOVltcIldFQkdMXCJdID0gMV0gPSBcIldFQkdMXCI7XG4gICAgRU5WW0VOVltcIldFQkdMMlwiXSA9IDJdID0gXCJXRUJHTDJcIjtcbn0pKEVOViB8fCAoRU5WID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnQgdG8gaWRlbnRpZnkgdGhlIFJlbmRlcmVyIFR5cGUuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIFJFTkRFUkVSX1RZUEVcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5LTk9XTiAtIFVua25vd24gcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0wgLSBXZWJHTCByZW5kZXIgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDQU5WQVMgLSBDYW52YXMgcmVuZGVyIHR5cGUuXG4gKi9cbnZhciBSRU5ERVJFUl9UWVBFO1xuKGZ1bmN0aW9uIChSRU5ERVJFUl9UWVBFKSB7XG4gICAgUkVOREVSRVJfVFlQRVtSRU5ERVJFUl9UWVBFW1wiVU5LTk9XTlwiXSA9IDBdID0gXCJVTktOT1dOXCI7XG4gICAgUkVOREVSRVJfVFlQRVtSRU5ERVJFUl9UWVBFW1wiV0VCR0xcIl0gPSAxXSA9IFwiV0VCR0xcIjtcbiAgICBSRU5ERVJFUl9UWVBFW1JFTkRFUkVSX1RZUEVbXCJDQU5WQVNcIl0gPSAyXSA9IFwiQ0FOVkFTXCI7XG59KShSRU5ERVJFUl9UWVBFIHx8IChSRU5ERVJFUl9UWVBFID0ge30pKTtcbi8qKlxuICogQml0d2lzZSBPUiBvZiBtYXNrcyB0aGF0IGluZGljYXRlIHRoZSBidWZmZXJzIHRvIGJlIGNsZWFyZWQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEJVRkZFUl9CSVRTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SIC0gSW5kaWNhdGVzIHRoZSBidWZmZXJzIGN1cnJlbnRseSBlbmFibGVkIGZvciBjb2xvciB3cml0aW5nLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERFUFRIIC0gSW5kaWNhdGVzIHRoZSBkZXB0aCBidWZmZXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1RFTkNJTCAtIEluZGljYXRlcyB0aGUgc3RlbmNpbCBidWZmZXIuXG4gKi9cbnZhciBCVUZGRVJfQklUUztcbihmdW5jdGlvbiAoQlVGRkVSX0JJVFMpIHtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIkNPTE9SXCJdID0gMTYzODRdID0gXCJDT0xPUlwiO1xuICAgIEJVRkZFUl9CSVRTW0JVRkZFUl9CSVRTW1wiREVQVEhcIl0gPSAyNTZdID0gXCJERVBUSFwiO1xuICAgIEJVRkZFUl9CSVRTW0JVRkZFUl9CSVRTW1wiU1RFTkNJTFwiXSA9IDEwMjRdID0gXCJTVEVOQ0lMXCI7XG59KShCVUZGRVJfQklUUyB8fCAoQlVGRkVSX0JJVFMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIGJsZW5kIG1vZGVzIHN1cHBvcnRlZCBieSBQSVhJLlxuICpcbiAqIElNUE9SVEFOVCAtIFRoZSBXZWJHTCByZW5kZXJlciBvbmx5IHN1cHBvcnRzIHRoZSBOT1JNQUwsIEFERCwgTVVMVElQTFkgYW5kIFNDUkVFTiBibGVuZCBtb2Rlcy5cbiAqIEFueXRoaW5nIGVsc2Ugd2lsbCBzaWxlbnRseSBhY3QgbGlrZSBOT1JNQUwuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEJMRU5EX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFERFxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1VTFRJUExZXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NSRUVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gT1ZFUkxBWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IERBUktFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJR0hURU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9ET0RHRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SX0JVUk5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIQVJEX0xJR0hUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU09GVF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERJRkZFUkVOQ0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFWENMVVNJT05cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIVUVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQVRVUkFUSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTk9TSVRZXG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFERF9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ1JFRU5fTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9ORVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19JTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19PVVRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfQVRPUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9PVkVSXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX0lOXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX09VVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9BVE9QXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1VCVFJBQ1RcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfT1ZFUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVSQVNFXG4gKiBAcHJvcGVydHkge251bWJlcn0gWE9SXG4gKi9cbnZhciBCTEVORF9NT0RFUztcbihmdW5jdGlvbiAoQkxFTkRfTU9ERVMpIHtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PUk1BTFwiXSA9IDBdID0gXCJOT1JNQUxcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkFERFwiXSA9IDFdID0gXCJBRERcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk1VTFRJUExZXCJdID0gMl0gPSBcIk1VTFRJUExZXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTQ1JFRU5cIl0gPSAzXSA9IFwiU0NSRUVOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJPVkVSTEFZXCJdID0gNF0gPSBcIk9WRVJMQVlcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRBUktFTlwiXSA9IDVdID0gXCJEQVJLRU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkxJR0hURU5cIl0gPSA2XSA9IFwiTElHSFRFTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQ09MT1JfRE9ER0VcIl0gPSA3XSA9IFwiQ09MT1JfRE9ER0VcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkNPTE9SX0JVUk5cIl0gPSA4XSA9IFwiQ09MT1JfQlVSTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiSEFSRF9MSUdIVFwiXSA9IDldID0gXCJIQVJEX0xJR0hUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTT0ZUX0xJR0hUXCJdID0gMTBdID0gXCJTT0ZUX0xJR0hUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJESUZGRVJFTkNFXCJdID0gMTFdID0gXCJESUZGRVJFTkNFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJFWENMVVNJT05cIl0gPSAxMl0gPSBcIkVYQ0xVU0lPTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiSFVFXCJdID0gMTNdID0gXCJIVUVcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNBVFVSQVRJT05cIl0gPSAxNF0gPSBcIlNBVFVSQVRJT05cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkNPTE9SXCJdID0gMTVdID0gXCJDT0xPUlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTFVNSU5PU0lUWVwiXSA9IDE2XSA9IFwiTFVNSU5PU0lUWVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTk9STUFMX05QTVwiXSA9IDE3XSA9IFwiTk9STUFMX05QTVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQUREX05QTVwiXSA9IDE4XSA9IFwiQUREX05QTVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU0NSRUVOX05QTVwiXSA9IDE5XSA9IFwiU0NSRUVOX05QTVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTk9ORVwiXSA9IDIwXSA9IFwiTk9ORVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX09WRVJcIl0gPSAwXSA9IFwiU1JDX09WRVJcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19JTlwiXSA9IDIxXSA9IFwiU1JDX0lOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfT1VUXCJdID0gMjJdID0gXCJTUkNfT1VUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfQVRPUFwiXSA9IDIzXSA9IFwiU1JDX0FUT1BcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9PVkVSXCJdID0gMjRdID0gXCJEU1RfT1ZFUlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRFNUX0lOXCJdID0gMjVdID0gXCJEU1RfSU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9PVVRcIl0gPSAyNl0gPSBcIkRTVF9PVVRcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9BVE9QXCJdID0gMjddID0gXCJEU1RfQVRPUFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRVJBU0VcIl0gPSAyNl0gPSBcIkVSQVNFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTVUJUUkFDVFwiXSA9IDI4XSA9IFwiU1VCVFJBQ1RcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlhPUlwiXSA9IDI5XSA9IFwiWE9SXCI7XG59KShCTEVORF9NT0RFUyB8fCAoQkxFTkRfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIHdlYmdsIGRyYXcgbW9kZXMuIFRoZXNlIGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgd2hpY2ggR0wgZHJhd01vZGUgdG8gdXNlXG4gKiB1bmRlciBjZXJ0YWluIHNpdHVhdGlvbnMgYW5kIHJlbmRlcmVycy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRFJBV19NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT0lOVFNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVfTE9PUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9TVFJJUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX0ZBTlxuICovXG52YXIgRFJBV19NT0RFUztcbihmdW5jdGlvbiAoRFJBV19NT0RFUykge1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlBPSU5UU1wiXSA9IDBdID0gXCJQT0lOVFNcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJMSU5FU1wiXSA9IDFdID0gXCJMSU5FU1wiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIkxJTkVfTE9PUFwiXSA9IDJdID0gXCJMSU5FX0xPT1BcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJMSU5FX1NUUklQXCJdID0gM10gPSBcIkxJTkVfU1RSSVBcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJUUklBTkdMRVNcIl0gPSA0XSA9IFwiVFJJQU5HTEVTXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVfU1RSSVBcIl0gPSA1XSA9IFwiVFJJQU5HTEVfU1RSSVBcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJUUklBTkdMRV9GQU5cIl0gPSA2XSA9IFwiVFJJQU5HTEVfRkFOXCI7XG59KShEUkFXX01PREVTIHx8IChEUkFXX01PREVTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBHTCB0ZXh0dXJlL3Jlc291cmNlcyBmb3JtYXRzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBGT1JNQVRTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJHQkE9NjQwOFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJHQj02NDA3XG4gKiBAcHJvcGVydHkge251bWJlcn0gQUxQSEE9NjQwNlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRT02NDA5XG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5BTkNFX0FMUEhBPTY0MTBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9DT01QT05FTlQ9NjQwMlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERFUFRIX1NURU5DSUw9MzQwNDFcbiAqL1xudmFyIEZPUk1BVFM7XG4oZnVuY3Rpb24gKEZPUk1BVFMpIHtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJSR0JBXCJdID0gNjQwOF0gPSBcIlJHQkFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJSR0JcIl0gPSA2NDA3XSA9IFwiUkdCXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiQUxQSEFcIl0gPSA2NDA2XSA9IFwiQUxQSEFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJMVU1JTkFOQ0VcIl0gPSA2NDA5XSA9IFwiTFVNSU5BTkNFXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiTFVNSU5BTkNFX0FMUEhBXCJdID0gNjQxMF0gPSBcIkxVTUlOQU5DRV9BTFBIQVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkRFUFRIX0NPTVBPTkVOVFwiXSA9IDY0MDJdID0gXCJERVBUSF9DT01QT05FTlRcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJERVBUSF9TVEVOQ0lMXCJdID0gMzQwNDFdID0gXCJERVBUSF9TVEVOQ0lMXCI7XG59KShGT1JNQVRTIHx8IChGT1JNQVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBHTCB0YXJnZXQgdHlwZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRBUkdFVFNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV8yRD0zNTUzXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUD0zNDA2N1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfMkRfQVJSQVk9MzU4NjZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1g9MzQwNjlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1g9MzQwNzBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1k9MzQwNzFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1k9MzQwNzJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1o9MzQwNzNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1o9MzQwNzRcbiAqL1xudmFyIFRBUkdFVFM7XG4oZnVuY3Rpb24gKFRBUkdFVFMpIHtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFXzJEXCJdID0gMzU1M10gPSBcIlRFWFRVUkVfMkRcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQXCJdID0gMzQwNjddID0gXCJURVhUVVJFX0NVQkVfTUFQXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV8yRF9BUlJBWVwiXSA9IDM1ODY2XSA9IFwiVEVYVFVSRV8yRF9BUlJBWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWFwiXSA9IDM0MDY5XSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YXCJdID0gMzQwNzBdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1hcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1lcIl0gPSAzNDA3MV0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWVwiXSA9IDM0MDcyXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aXCJdID0gMzQwNzNdID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1pcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1pcIl0gPSAzNDA3NF0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWlwiO1xufSkoVEFSR0VUUyB8fCAoVEFSR0VUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgZGF0YSBmb3JtYXQgdHlwZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRZUEVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX0JZVEU9NTEyMVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUPTUxMjNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF81XzZfNT0zMzYzNVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUXzRfNF80XzQ9MzI4MTlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF81XzVfNV8xPTMyODIwXG4gKiBAcHJvcGVydHkge251bWJlcn0gRkxPQVQ9NTEyNlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhBTEZfRkxPQVQ9MzYxOTNcbiAqL1xudmFyIFRZUEVTO1xuKGZ1bmN0aW9uIChUWVBFUykge1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfQllURVwiXSA9IDUxMjFdID0gXCJVTlNJR05FRF9CWVRFXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVFwiXSA9IDUxMjNdID0gXCJVTlNJR05FRF9TSE9SVFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNV82XzVcIl0gPSAzMzYzNV0gPSBcIlVOU0lHTkVEX1NIT1JUXzVfNl81XCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVF80XzRfNF80XCJdID0gMzI4MTldID0gXCJVTlNJR05FRF9TSE9SVF80XzRfNF80XCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVF81XzVfNV8xXCJdID0gMzI4MjBdID0gXCJVTlNJR05FRF9TSE9SVF81XzVfNV8xXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJGTE9BVFwiXSA9IDUxMjZdID0gXCJGTE9BVFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiSEFMRl9GTE9BVFwiXSA9IDM2MTkzXSA9IFwiSEFMRl9GTE9BVFwiO1xufSkoVFlQRVMgfHwgKFRZUEVTID0ge30pKTtcbi8qKlxuICogVGhlIHNjYWxlIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFfSBzY2FsZSBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgc2NhbGluZyBtb2RlIG9mIGZ1dHVyZSBvcGVyYXRpb25zLlxuICogSXQgY2FuIGJlIHJlLWFzc2lnbmVkIHRvIGVpdGhlciBMSU5FQVIgb3IgTkVBUkVTVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFNDQUxFX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUiBTbW9vdGggc2NhbGluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE5FQVJFU1QgUGl4ZWxhdGluZyBzY2FsaW5nXG4gKi9cbnZhciBTQ0FMRV9NT0RFUztcbihmdW5jdGlvbiAoU0NBTEVfTU9ERVMpIHtcbiAgICBTQ0FMRV9NT0RFU1tTQ0FMRV9NT0RFU1tcIk5FQVJFU1RcIl0gPSAwXSA9IFwiTkVBUkVTVFwiO1xuICAgIFNDQUxFX01PREVTW1NDQUxFX01PREVTW1wiTElORUFSXCJdID0gMV0gPSBcIkxJTkVBUlwiO1xufSkoU0NBTEVfTU9ERVMgfHwgKFNDQUxFX01PREVTID0ge30pKTtcbi8qKlxuICogVGhlIHdyYXAgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLldSQVBfTU9ERX0gd3JhcCBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgd3JhcHBpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgQ0xBTVAgb3IgUkVQRUFULCBkZXBlbmRpbmcgdXBvbiBzdWl0YWJpbGl0eS5cbiAqIElmIHRoZSB0ZXh0dXJlIGlzIG5vbiBwb3dlciBvZiB0d28gdGhlbiBjbGFtcCB3aWxsIGJlIHVzZWQgcmVnYXJkbGVzcyBhcyBXZWJHTCBjYW5cbiAqIG9ubHkgdXNlIFJFUEVBVCBpZiB0aGUgdGV4dHVyZSBpcyBwbzIuXG4gKlxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQG5hbWUgV1JBUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0xBTVAgLSBUaGUgdGV4dHVyZXMgdXZzIGFyZSBjbGFtcGVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVQRUFUIC0gVGhlIHRleHR1cmUgdXZzIHRpbGUgYW5kIHJlcGVhdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1JUlJPUkVEX1JFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXQgd2l0aCBtaXJyb3JpbmdcbiAqL1xudmFyIFdSQVBfTU9ERVM7XG4oZnVuY3Rpb24gKFdSQVBfTU9ERVMpIHtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJDTEFNUFwiXSA9IDMzMDcxXSA9IFwiQ0xBTVBcIjtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJSRVBFQVRcIl0gPSAxMDQ5N10gPSBcIlJFUEVBVFwiO1xuICAgIFdSQVBfTU9ERVNbV1JBUF9NT0RFU1tcIk1JUlJPUkVEX1JFUEVBVFwiXSA9IDMzNjQ4XSA9IFwiTUlSUk9SRURfUkVQRUFUXCI7XG59KShXUkFQX01PREVTIHx8IChXUkFQX01PREVTID0ge30pKTtcbi8qKlxuICogTWlwbWFwIGZpbHRlcmluZyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTfSBhZmZlY3RzIGRlZmF1bHQgdGV4dHVyZSBmaWx0ZXJpbmcuXG4gKiBNaXBtYXBzIGFyZSBnZW5lcmF0ZWQgZm9yIGEgYmFzZVRleHR1cmUgaWYgaXRzIGBtaXBtYXBgIGZpZWxkIGlzIGBPTmAsXG4gKiBvciBpdHMgYFBPVzJgIGFuZCB0ZXh0dXJlIGRpbWVuc2lvbnMgYXJlIHBvd2VycyBvZiAyLlxuICogRHVlIHRvIHBsYXRmb3JtIHJlc3RyaWN0aW9uLCBgT05gIG9wdGlvbiB3aWxsIHdvcmsgbGlrZSBgUE9XMmAgZm9yIHdlYmdsLTEuXG4gKlxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQG5hbWUgTUlQTUFQX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPRkYgLSBObyBtaXBtYXBzXG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9XMiAtIEdlbmVyYXRlIG1pcG1hcHMgaWYgdGV4dHVyZSBkaW1lbnNpb25zIGFyZSBwb3cyXG4gKiBAcHJvcGVydHkge251bWJlcn0gT04gLSBBbHdheXMgZ2VuZXJhdGUgbWlwbWFwc1xuICovXG52YXIgTUlQTUFQX01PREVTO1xuKGZ1bmN0aW9uIChNSVBNQVBfTU9ERVMpIHtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiT0ZGXCJdID0gMF0gPSBcIk9GRlwiO1xuICAgIE1JUE1BUF9NT0RFU1tNSVBNQVBfTU9ERVNbXCJQT1cyXCJdID0gMV0gPSBcIlBPVzJcIjtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiT05cIl0gPSAyXSA9IFwiT05cIjtcbn0pKE1JUE1BUF9NT0RFUyB8fCAoTUlQTUFQX01PREVTID0ge30pKTtcbi8qKlxuICogSG93IHRvIHRyZWF0IHRleHR1cmVzIHdpdGggcHJlbXVsdGlwbGllZCBhbHBoYVxuICpcbiAqIEBuYW1lIEFMUEhBX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT19QUkVNVUxUSVBMSUVEX0FMUEhBIC0gU291cmNlIGlzIG5vdCBwcmVtdWx0aXBsaWVkLCBsZWF2ZSBpdCBsaWtlIHRoYXQuXG4gKiAgT3B0aW9uIGZvciBjb21wcmVzc2VkIGFuZCBkYXRhIHRleHR1cmVzIHRoYXQgYXJlIGNyZWF0ZWQgZnJvbSB0eXBlZCBhcnJheXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gUFJFTVVMVElQTFlfT05fVVBMT0FEIC0gU291cmNlIGlzIG5vdCBwcmVtdWx0aXBsaWVkLCBwcmVtdWx0aXBseSBvbiB1cGxvYWQuXG4gKiAgRGVmYXVsdCBvcHRpb24sIHVzZWQgZm9yIGFsbCBsb2FkZWQgaW1hZ2VzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBSRU1VTFRJUExJRURfQUxQSEEgLSBTb3VyY2UgaXMgYWxyZWFkeSBwcmVtdWx0aXBsaWVkXG4gKiAgRXhhbXBsZTogc3BpbmUgYXRsYXNlcyB3aXRoIGBfcG1hYCBzdWZmaXguXG4gKiBAcHJvcGVydHkge251bWJlcn0gTlBNIC0gQWxpYXMgZm9yIE5PX1BSRU1VTFRJUExJRURfQUxQSEEuXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5QQUNLIC0gRGVmYXVsdCBvcHRpb24sIGFsaWFzIGZvciBQUkVNVUxUSVBMWV9PTl9VUExPQUQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gUE1BIC0gQWxpYXMgZm9yIFBSRU1VTFRJUExJRURfQUxQSEEuXG4gKi9cbnZhciBBTFBIQV9NT0RFUztcbihmdW5jdGlvbiAoQUxQSEFfTU9ERVMpIHtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIk5QTVwiXSA9IDBdID0gXCJOUE1cIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlVOUEFDS1wiXSA9IDFdID0gXCJVTlBBQ0tcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBNQVwiXSA9IDJdID0gXCJQTUFcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIk5PX1BSRU1VTFRJUExJRURfQUxQSEFcIl0gPSAwXSA9IFwiTk9fUFJFTVVMVElQTElFRF9BTFBIQVwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiUFJFTVVMVElQTFlfT05fVVBMT0FEXCJdID0gMV0gPSBcIlBSRU1VTFRJUExZX09OX1VQTE9BRFwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiUFJFTVVMVElQTFlfQUxQSEFcIl0gPSAyXSA9IFwiUFJFTVVMVElQTFlfQUxQSEFcIjtcbn0pKEFMUEhBX01PREVTIHx8IChBTFBIQV9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIEhvdyB0byBjbGVhciByZW5kZXJUZXh0dXJlcyBpbiBmaWx0ZXJcbiAqXG4gKiBAbmFtZSBDTEVBUl9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQkxFTkQgLSBQcmVzZXJ2ZSB0aGUgaW5mb3JtYXRpb24gaW4gdGhlIHRleHR1cmUsIGJsZW5kIGFib3ZlXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0xFQVIgLSBNdXN0IHVzZSBgZ2wuY2xlYXJgIG9wZXJhdGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IEJMSVQgLSBDbGVhciBvciBibGl0IGl0LCBkZXBlbmRzIG9uIGRldmljZSBhbmQgbGV2ZWwgb2YgcGFyYW5vaWFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOTyAtIEFsaWFzIGZvciBCTEVORCwgc2FtZSBhcyBgZmFsc2VgIGluIGVhcmxpZXIgdmVyc2lvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBZRVMgLSBBbGlhcyBmb3IgQ0xFQVIsIHNhbWUgYXMgYHRydWVgIGluIGVhcmxpZXIgdmVyc2lvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBVVRPIC0gQWxpYXMgZm9yIEJMSVRcbiAqL1xudmFyIENMRUFSX01PREVTO1xuKGZ1bmN0aW9uIChDTEVBUl9NT0RFUykge1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiTk9cIl0gPSAwXSA9IFwiTk9cIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIllFU1wiXSA9IDFdID0gXCJZRVNcIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkFVVE9cIl0gPSAyXSA9IFwiQVVUT1wiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQkxFTkRcIl0gPSAwXSA9IFwiQkxFTkRcIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkNMRUFSXCJdID0gMV0gPSBcIkNMRUFSXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJCTElUXCJdID0gMl0gPSBcIkJMSVRcIjtcbn0pKENMRUFSX01PREVTIHx8IChDTEVBUl9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSBnYyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuR0NfTU9ERX0gR2FyYmFnZSBDb2xsZWN0aW9uIG1vZGUgZm9yIFBpeGlKUyB0ZXh0dXJlcyBpcyBBVVRPXG4gKiBJZiBzZXQgdG8gR0NfTU9ERSwgdGhlIHJlbmRlcmVyIHdpbGwgb2NjYXNpb25hbGx5IGNoZWNrIHRleHR1cmVzIHVzYWdlLiBJZiB0aGV5IGFyZSBub3RcbiAqIHVzZWQgZm9yIGEgc3BlY2lmaWVkIHBlcmlvZCBvZiB0aW1lIHRoZXkgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVS4gVGhleSB3aWxsIG9mIGNvdXJzZVxuICogYmUgdXBsb2FkZWQgYWdhaW4gd2hlbiB0aGV5IGFyZSByZXF1aXJlZC4gVGhpcyBpcyBhIHNpbGVudCBiZWhpbmQgdGhlIHNjZW5lcyBwcm9jZXNzIHRoYXRcbiAqIHNob3VsZCBlbnN1cmUgdGhhdCB0aGUgR1BVIGRvZXMgbm90ICBnZXQgZmlsbGVkIHVwLlxuICpcbiAqIEhhbmR5IGZvciBtb2JpbGUgZGV2aWNlcyFcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIEdDX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBVVRPIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgaGFwcGVuIHBlcmlvZGljYWxseSBhdXRvbWF0aWNhbGx5XG4gKiBAcHJvcGVydHkge251bWJlcn0gTUFOVUFMIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgbmVlZCB0byBiZSBjYWxsZWQgbWFudWFsbHlcbiAqL1xudmFyIEdDX01PREVTO1xuKGZ1bmN0aW9uIChHQ19NT0RFUykge1xuICAgIEdDX01PREVTW0dDX01PREVTW1wiQVVUT1wiXSA9IDBdID0gXCJBVVRPXCI7XG4gICAgR0NfTU9ERVNbR0NfTU9ERVNbXCJNQU5VQUxcIl0gPSAxXSA9IFwiTUFOVUFMXCI7XG59KShHQ19NT0RFUyB8fCAoR0NfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiBzaGFkZXJzLlxuICpcbiAqIEBuYW1lIFBSRUNJU0lPTlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBjb25zdGFudFxuICogQHN0YXRpY1xuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBMT1c9J2xvd3AnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gTUVESVVNPSdtZWRpdW1wJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IEhJR0g9J2hpZ2hwJ1xuICovXG52YXIgUFJFQ0lTSU9OO1xuKGZ1bmN0aW9uIChQUkVDSVNJT04pIHtcbiAgICBQUkVDSVNJT05bXCJMT1dcIl0gPSBcImxvd3BcIjtcbiAgICBQUkVDSVNJT05bXCJNRURJVU1cIl0gPSBcIm1lZGl1bXBcIjtcbiAgICBQUkVDSVNJT05bXCJISUdIXCJdID0gXCJoaWdocFwiO1xufSkoUFJFQ0lTSU9OIHx8IChQUkVDSVNJT04gPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudHMgZm9yIG1hc2sgaW1wbGVtZW50YXRpb25zLlxuICogV2UgdXNlIGB0eXBlYCBzdWZmaXggYmVjYXVzZSBpdCBsZWFkcyB0byB2ZXJ5IGRpZmZlcmVudCBiZWhhdmlvdXJzXG4gKlxuICogQG5hbWUgTUFTS19UWVBFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9ORSAtIE1hc2sgaXMgaWdub3JlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDSVNTT1IgLSBTY2lzc29yIG1hc2ssIHJlY3RhbmdsZSBvbiBzY3JlZW4sIGNoZWFwXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1RFTkNJTCAtIFN0ZW5jaWwgbWFzaywgMS1iaXQsIG1lZGl1bSwgd29ya3Mgb25seSBpZiByZW5kZXJlciBzdXBwb3J0cyBzdGVuY2lsXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1BSSVRFIC0gTWFzayB0aGF0IHVzZXMgU3ByaXRlTWFza0ZpbHRlciwgdXNlcyB0ZW1wb3JhcnkgUmVuZGVyVGV4dHVyZVxuICovXG52YXIgTUFTS19UWVBFUztcbihmdW5jdGlvbiAoTUFTS19UWVBFUykge1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIlNDSVNTT1JcIl0gPSAxXSA9IFwiU0NJU1NPUlwiO1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIlNURU5DSUxcIl0gPSAyXSA9IFwiU1RFTkNJTFwiO1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIlNQUklURVwiXSA9IDNdID0gXCJTUFJJVEVcIjtcbn0pKE1BU0tfVFlQRVMgfHwgKE1BU0tfVFlQRVMgPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudHMgZm9yIG11bHRpLXNhbXBsaW5nIGFudGlhbGlhc2luZy5cbiAqXG4gKiBAc2VlIFBJWEkuRnJhbWVidWZmZXIjbXVsdGlzYW1wbGVcbiAqXG4gKiBAbmFtZSBNU0FBX1FVQUxJVFlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkUgLSBObyBtdWx0aXNhbXBsaW5nIGZvciB0aGlzIHJlbmRlclRleHR1cmVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMT1cgLSBUcnkgMiBzYW1wbGVzXG4gKiBAcHJvcGVydHkge251bWJlcn0gTUVESVVNIC0gVHJ5IDQgc2FtcGxlc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEhJR0ggLSBUcnkgOCBzYW1wbGVzXG4gKi9cbnZhciBNU0FBX1FVQUxJVFk7XG4oZnVuY3Rpb24gKE1TQUFfUVVBTElUWSkge1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTE9XXCJdID0gMl0gPSBcIkxPV1wiO1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJNRURJVU1cIl0gPSA0XSA9IFwiTUVESVVNXCI7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIkhJR0hcIl0gPSA4XSA9IFwiSElHSFwiO1xufSkoTVNBQV9RVUFMSVRZIHx8IChNU0FBX1FVQUxJVFkgPSB7fSkpO1xuXG4vKipcbiAqIFRoZSBCbHVyRmlsdGVyUGFzcyBhcHBsaWVzIGEgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBCbHVyRmlsdGVyUGFzcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmx1ckZpbHRlclBhc3MsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBob3Jpem9udGFsIC0gRG8gcGFzcyBhbG9uZyB0aGUgeC1heGlzIChgdHJ1ZWApIG9yIHktYXhpcyAoYGZhbHNlYCkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHJlbmd0aD04XSAtIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtxdWFsaXR5PTRdIC0gVGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2tlcm5lbFNpemU9NV0gLSBUaGUga2VybmVsU2l6ZSBvZiB0aGUgYmx1ciBmaWx0ZXIuT3B0aW9uczogNSwgNywgOSwgMTEsIDEzLCAxNS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCbHVyRmlsdGVyUGFzcyhob3Jpem9udGFsLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkge1xuICAgICAgICBpZiAoc3RyZW5ndGggPT09IHZvaWQgMCkgeyBzdHJlbmd0aCA9IDg7IH1cbiAgICAgICAgaWYgKHF1YWxpdHkgPT09IHZvaWQgMCkgeyBxdWFsaXR5ID0gNDsgfVxuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OOyB9XG4gICAgICAgIGlmIChrZXJuZWxTaXplID09PSB2b2lkIDApIHsga2VybmVsU2l6ZSA9IDU7IH1cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHZlcnRTcmMgPSBnZW5lcmF0ZUJsdXJWZXJ0U291cmNlKGtlcm5lbFNpemUsIGhvcml6b250YWwpO1xuICAgICAgICB2YXIgZnJhZ1NyYyA9IGdlbmVyYXRlQmx1ckZyYWdTb3VyY2Uoa2VybmVsU2l6ZSk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgdmVydFNyYywgXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICBmcmFnU3JjKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5ob3Jpem9udGFsID0gaG9yaXpvbnRhbDtcbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIF90aGlzLl9xdWFsaXR5ID0gMDtcbiAgICAgICAgX3RoaXMucXVhbGl0eSA9IHF1YWxpdHk7XG4gICAgICAgIF90aGlzLmJsdXIgPSBzdHJlbmd0aDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IGNsZWFyTW9kZSAtIEhvdyB0byBjbGVhclxuICAgICAqL1xuICAgIEJsdXJGaWx0ZXJQYXNzLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICAgICAgaWYgKG91dHB1dCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIG91dHB1dC53aWR0aCkgKiAob3V0cHV0LndpZHRoIC8gaW5wdXQud2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gb3V0cHV0LmhlaWdodCkgKiAob3V0cHV0LmhlaWdodCAvIGlucHV0LmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ob3Jpem9udGFsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIGZpbHRlck1hbmFnZXIucmVuZGVyZXIud2lkdGgpICogKGZpbHRlck1hbmFnZXIucmVuZGVyZXIud2lkdGggLyBpbnB1dC53aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gKDEgLyBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLmhlaWdodCkgKiAoZmlsdGVyTWFuYWdlci5yZW5kZXJlci5oZWlnaHQgLyBpbnB1dC5oZWlnaHQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2NyZWVuIHNwYWNlIVxuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoICo9IHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggLz0gdGhpcy5wYXNzZXM7XG4gICAgICAgIGlmICh0aGlzLnBhc3NlcyA9PT0gMSkge1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0RmlsdGVyVGV4dHVyZSgpO1xuICAgICAgICAgICAgdmFyIHJlbmRlcmVyID0gZmlsdGVyTWFuYWdlci5yZW5kZXJlcjtcbiAgICAgICAgICAgIHZhciBmbGlwID0gaW5wdXQ7XG4gICAgICAgICAgICB2YXIgZmxvcCA9IHJlbmRlclRhcmdldDtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgZmxpcCwgZmxvcCwgQ0xFQVJfTU9ERVMuQ0xFQVIpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aGlzLnBhc3NlcyAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYmluZEFuZENsZWFyKGZsaXAsIENMRUFSX01PREVTLkJMSVQpO1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVNhbXBsZXIgPSBmbG9wO1xuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gZmxvcDtcbiAgICAgICAgICAgICAgICBmbG9wID0gZmxpcDtcbiAgICAgICAgICAgICAgICBmbGlwID0gdGVtcDtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzKTtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KDUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsb3AsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIucmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUYXJnZXQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmx1ckZpbHRlclBhc3MucHJvdG90eXBlLCBcImJsdXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1ci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxNlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IDEgKyAoTWF0aC5hYnModmFsdWUpICogMik7XG4gICAgICAgICAgICB0aGlzLnN0cmVuZ3RoID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmx1ckZpbHRlclBhc3MucHJvdG90eXBlLCBcInF1YWxpdHlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBieSBtb2RpZnlpbmcgdGhlIG51bWJlciBvZiBwYXNzZXMuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlclxuICAgICAgICAgKiBxdWFpbGl0eSBibHVyaW5nIGJ1dCB0aGUgbG93ZXIgdGhlIHBlcmZvcm1hbmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3F1YWxpdHk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9xdWFsaXR5ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnBhc3NlcyA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEJsdXJGaWx0ZXJQYXNzO1xufShGaWx0ZXIpKTtcblxuLyoqXG4gKiBUaGUgQmx1ckZpbHRlciBhcHBsaWVzIGEgR2F1c3NpYW4gYmx1ciB0byBhbiBvYmplY3QuXG4gKlxuICogVGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyIGNhbiBiZSBzZXQgZm9yIHRoZSB4LWF4aXMgYW5kIHktYXhpcyBzZXBhcmF0ZWx5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEJsdXJGaWx0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJsdXJGaWx0ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHJlbmd0aD04XSAtIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtxdWFsaXR5PTRdIC0gVGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2tlcm5lbFNpemU9NV0gLSBUaGUga2VybmVsU2l6ZSBvZiB0aGUgYmx1ciBmaWx0ZXIuT3B0aW9uczogNSwgNywgOSwgMTEsIDEzLCAxNS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCbHVyRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKSB7XG4gICAgICAgIGlmIChzdHJlbmd0aCA9PT0gdm9pZCAwKSB7IHN0cmVuZ3RoID0gODsgfVxuICAgICAgICBpZiAocXVhbGl0eSA9PT0gdm9pZCAwKSB7IHF1YWxpdHkgPSA0OyB9XG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSB2b2lkIDApIHsgcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFU09MVVRJT047IH1cbiAgICAgICAgaWYgKGtlcm5lbFNpemUgPT09IHZvaWQgMCkgeyBrZXJuZWxTaXplID0gNTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5ibHVyWEZpbHRlciA9IG5ldyBCbHVyRmlsdGVyUGFzcyh0cnVlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIF90aGlzLmJsdXJZRmlsdGVyID0gbmV3IEJsdXJGaWx0ZXJQYXNzKGZhbHNlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBfdGhpcy5xdWFsaXR5ID0gcXVhbGl0eTtcbiAgICAgICAgX3RoaXMuYmx1ciA9IHN0cmVuZ3RoO1xuICAgICAgICBfdGhpcy5yZXBlYXRFZGdlUGl4ZWxzID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLkNMRUFSX01PREVTfSBjbGVhck1vZGUgLSBIb3cgdG8gY2xlYXJcbiAgICAgKi9cbiAgICBCbHVyRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICAgICAgdmFyIHhTdHJlbmd0aCA9IE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpO1xuICAgICAgICB2YXIgeVN0cmVuZ3RoID0gTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCk7XG4gICAgICAgIGlmICh4U3RyZW5ndGggJiYgeVN0cmVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRGaWx0ZXJUZXh0dXJlKCk7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCByZW5kZXJUYXJnZXQsIENMRUFSX01PREVTLkNMRUFSKTtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgcmVuZGVyVGFyZ2V0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh5U3RyZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmx1ckZpbHRlci5wcm90b3R5cGUudXBkYXRlUGFkZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHMpIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSBNYXRoLm1heChNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKSwgTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCkpICogMjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcImJsdXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1clggYW5kIGJsdXJZIHByb3BlcnRpZXMgc2ltdWx0YW5lb3VzbHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLmJsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmJsdXIgPSB0aGlzLmJsdXJZRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcInF1YWxpdHlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHBhc3NlcyBmb3IgYmx1ci4gTW9yZSBwYXNzZXMgbWVhbnMgaGlnaGVyIHF1YWlsaXR5IGJsdXJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5xdWFsaXR5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5xdWFsaXR5ID0gdGhpcy5ibHVyWUZpbHRlci5xdWFsaXR5ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmx1ckZpbHRlci5wcm90b3R5cGUsIFwiYmx1clhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgdGhlIGJsdXJYIHByb3BlcnR5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyLnByb3RvdHlwZSwgXCJibHVyWVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1clkgcHJvcGVydHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJZRmlsdGVyLmJsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcImJsZW5kTW9kZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBibGVuZG1vZGUgb2YgdGhlIGZpbHRlclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJZRmlsdGVyLmJsZW5kTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmx1ckZpbHRlci5wcm90b3R5cGUsIFwicmVwZWF0RWRnZVBpeGVsc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBzZXQgdG8gdHJ1ZSB0aGUgZWRnZSBvZiB0aGUgdGFyZ2V0IHdpbGwgYmUgY2xhbXBlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVwZWF0RWRnZVBpeGVscztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHMgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEJsdXJGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBCbHVyRmlsdGVyLCBCbHVyRmlsdGVyUGFzcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWJsdXIuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXggLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIGZsb2F0IG1bMjBdO1xcbnVuaWZvcm0gZmxvYXQgdUFscGhhO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjNCBjID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG5cXG4gICAgaWYgKHVBbHBoYSA9PSAwLjApIHtcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IGM7XFxuICAgICAgICByZXR1cm47XFxuICAgIH1cXG5cXG4gICAgLy8gVW4tcHJlbXVsdGlwbHkgYWxwaGEgYmVmb3JlIGFwcGx5aW5nIHRoZSBjb2xvciBtYXRyaXguIFNlZSBpc3N1ZSAjMzUzOS5cXG4gICAgaWYgKGMuYSA+IDAuMCkge1xcbiAgICAgIGMucmdiIC89IGMuYTtcXG4gICAgfVxcblxcbiAgICB2ZWM0IHJlc3VsdDtcXG5cXG4gICAgcmVzdWx0LnIgPSAobVswXSAqIGMucik7XFxuICAgICAgICByZXN1bHQuciArPSAobVsxXSAqIGMuZyk7XFxuICAgICAgICByZXN1bHQuciArPSAobVsyXSAqIGMuYik7XFxuICAgICAgICByZXN1bHQuciArPSAobVszXSAqIGMuYSk7XFxuICAgICAgICByZXN1bHQuciArPSBtWzRdO1xcblxcbiAgICByZXN1bHQuZyA9IChtWzVdICogYy5yKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzZdICogYy5nKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzddICogYy5iKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzhdICogYy5hKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IG1bOV07XFxuXFxuICAgIHJlc3VsdC5iID0gKG1bMTBdICogYy5yKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTFdICogYy5nKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTJdICogYy5iKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTNdICogYy5hKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gbVsxNF07XFxuXFxuICAgIHJlc3VsdC5hID0gKG1bMTVdICogYy5yKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMTZdICogYy5nKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMTddICogYy5iKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMThdICogYy5hKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gbVsxOV07XFxuXFxuICAgIHZlYzMgcmdiID0gbWl4KGMucmdiLCByZXN1bHQucmdiLCB1QWxwaGEpO1xcblxcbiAgICAvLyBQcmVtdWx0aXBseSBhbHBoYSBhZ2Fpbi5cXG4gICAgcmdiICo9IHJlc3VsdC5hO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHJnYiwgcmVzdWx0LmEpO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBUaGUgQ29sb3JNYXRyaXhGaWx0ZXIgY2xhc3MgbGV0cyB5b3UgYXBwbHkgYSA1eDQgbWF0cml4IHRyYW5zZm9ybWF0aW9uIG9uIHRoZSBSR0JBXG4gKiBjb2xvciBhbmQgYWxwaGEgdmFsdWVzIG9mIGV2ZXJ5IHBpeGVsIG9uIHlvdXIgZGlzcGxheU9iamVjdCB0byBwcm9kdWNlIGEgcmVzdWx0XG4gKiB3aXRoIGEgbmV3IHNldCBvZiBSR0JBIGNvbG9yIGFuZCBhbHBoYSB2YWx1ZXMuIEl0J3MgcHJldHR5IHBvd2VyZnVsIVxuICpcbiAqIGBgYGpzXG4gKiAgbGV0IGNvbG9yTWF0cml4ID0gbmV3IFBJWEkuZmlsdGVycy5Db2xvck1hdHJpeEZpbHRlcigpO1xuICogIGNvbnRhaW5lci5maWx0ZXJzID0gW2NvbG9yTWF0cml4XTtcbiAqICBjb2xvck1hdHJpeC5jb250cmFzdCgyKTtcbiAqIGBgYFxuICogQGF1dGhvciBDbMOpbWVudCBDaGVuZWJhdWx0IDxjbGVtZW50QGdvb2Rib3lkaWdpdGFsLmNvbT5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIENvbG9yTWF0cml4RmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb2xvck1hdHJpeEZpbHRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb2xvck1hdHJpeEZpbHRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHVuaWZvcm1zID0ge1xuICAgICAgICAgICAgbTogbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMCwgMSwgMF0pLFxuICAgICAgICAgICAgdUFscGhhOiAxLFxuICAgICAgICB9O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIGZyYWdtZW50LCB1bmlmb3JtcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWxwaGEgPSAxO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgY3VycmVudCBtYXRyaXggYW5kIHNldCB0aGUgbmV3IG9uZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fbG9hZE1hdHJpeCA9IGZ1bmN0aW9uIChtYXRyaXgsIG11bHRpcGx5KSB7XG4gICAgICAgIGlmIChtdWx0aXBseSA9PT0gdm9pZCAwKSB7IG11bHRpcGx5ID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIG5ld01hdHJpeCA9IG1hdHJpeDtcbiAgICAgICAgaWYgKG11bHRpcGx5KSB7XG4gICAgICAgICAgICB0aGlzLl9tdWx0aXBseShuZXdNYXRyaXgsIHRoaXMudW5pZm9ybXMubSwgbWF0cml4KTtcbiAgICAgICAgICAgIG5ld01hdHJpeCA9IHRoaXMuX2NvbG9yTWF0cml4KG5ld01hdHJpeCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHRoZSBuZXcgbWF0cml4XG4gICAgICAgIHRoaXMudW5pZm9ybXMubSA9IG5ld01hdHJpeDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdHdvIG1hdDUnc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBvdXQgLSA1eDQgbWF0cml4IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYSAtIDV4NCBtYXRyaXggdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBiIC0gNXg0IG1hdHJpeCB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyW119IDV4NCBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX211bHRpcGx5ID0gZnVuY3Rpb24gKG91dCwgYSwgYikge1xuICAgICAgICAvLyBSZWQgQ2hhbm5lbFxuICAgICAgICBvdXRbMF0gPSAoYVswXSAqIGJbMF0pICsgKGFbMV0gKiBiWzVdKSArIChhWzJdICogYlsxMF0pICsgKGFbM10gKiBiWzE1XSk7XG4gICAgICAgIG91dFsxXSA9IChhWzBdICogYlsxXSkgKyAoYVsxXSAqIGJbNl0pICsgKGFbMl0gKiBiWzExXSkgKyAoYVszXSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzJdID0gKGFbMF0gKiBiWzJdKSArIChhWzFdICogYls3XSkgKyAoYVsyXSAqIGJbMTJdKSArIChhWzNdICogYlsxN10pO1xuICAgICAgICBvdXRbM10gPSAoYVswXSAqIGJbM10pICsgKGFbMV0gKiBiWzhdKSArIChhWzJdICogYlsxM10pICsgKGFbM10gKiBiWzE4XSk7XG4gICAgICAgIG91dFs0XSA9IChhWzBdICogYls0XSkgKyAoYVsxXSAqIGJbOV0pICsgKGFbMl0gKiBiWzE0XSkgKyAoYVszXSAqIGJbMTldKSArIGFbNF07XG4gICAgICAgIC8vIEdyZWVuIENoYW5uZWxcbiAgICAgICAgb3V0WzVdID0gKGFbNV0gKiBiWzBdKSArIChhWzZdICogYls1XSkgKyAoYVs3XSAqIGJbMTBdKSArIChhWzhdICogYlsxNV0pO1xuICAgICAgICBvdXRbNl0gPSAoYVs1XSAqIGJbMV0pICsgKGFbNl0gKiBiWzZdKSArIChhWzddICogYlsxMV0pICsgKGFbOF0gKiBiWzE2XSk7XG4gICAgICAgIG91dFs3XSA9IChhWzVdICogYlsyXSkgKyAoYVs2XSAqIGJbN10pICsgKGFbN10gKiBiWzEyXSkgKyAoYVs4XSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzhdID0gKGFbNV0gKiBiWzNdKSArIChhWzZdICogYls4XSkgKyAoYVs3XSAqIGJbMTNdKSArIChhWzhdICogYlsxOF0pO1xuICAgICAgICBvdXRbOV0gPSAoYVs1XSAqIGJbNF0pICsgKGFbNl0gKiBiWzldKSArIChhWzddICogYlsxNF0pICsgKGFbOF0gKiBiWzE5XSkgKyBhWzldO1xuICAgICAgICAvLyBCbHVlIENoYW5uZWxcbiAgICAgICAgb3V0WzEwXSA9IChhWzEwXSAqIGJbMF0pICsgKGFbMTFdICogYls1XSkgKyAoYVsxMl0gKiBiWzEwXSkgKyAoYVsxM10gKiBiWzE1XSk7XG4gICAgICAgIG91dFsxMV0gPSAoYVsxMF0gKiBiWzFdKSArIChhWzExXSAqIGJbNl0pICsgKGFbMTJdICogYlsxMV0pICsgKGFbMTNdICogYlsxNl0pO1xuICAgICAgICBvdXRbMTJdID0gKGFbMTBdICogYlsyXSkgKyAoYVsxMV0gKiBiWzddKSArIChhWzEyXSAqIGJbMTJdKSArIChhWzEzXSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzEzXSA9IChhWzEwXSAqIGJbM10pICsgKGFbMTFdICogYls4XSkgKyAoYVsxMl0gKiBiWzEzXSkgKyAoYVsxM10gKiBiWzE4XSk7XG4gICAgICAgIG91dFsxNF0gPSAoYVsxMF0gKiBiWzRdKSArIChhWzExXSAqIGJbOV0pICsgKGFbMTJdICogYlsxNF0pICsgKGFbMTNdICogYlsxOV0pICsgYVsxNF07XG4gICAgICAgIC8vIEFscGhhIENoYW5uZWxcbiAgICAgICAgb3V0WzE1XSA9IChhWzE1XSAqIGJbMF0pICsgKGFbMTZdICogYls1XSkgKyAoYVsxN10gKiBiWzEwXSkgKyAoYVsxOF0gKiBiWzE1XSk7XG4gICAgICAgIG91dFsxNl0gPSAoYVsxNV0gKiBiWzFdKSArIChhWzE2XSAqIGJbNl0pICsgKGFbMTddICogYlsxMV0pICsgKGFbMThdICogYlsxNl0pO1xuICAgICAgICBvdXRbMTddID0gKGFbMTVdICogYlsyXSkgKyAoYVsxNl0gKiBiWzddKSArIChhWzE3XSAqIGJbMTJdKSArIChhWzE4XSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzE4XSA9IChhWzE1XSAqIGJbM10pICsgKGFbMTZdICogYls4XSkgKyAoYVsxN10gKiBiWzEzXSkgKyAoYVsxOF0gKiBiWzE4XSk7XG4gICAgICAgIG91dFsxOV0gPSAoYVsxNV0gKiBiWzRdKSArIChhWzE2XSAqIGJbOV0pICsgKGFbMTddICogYlsxNF0pICsgKGFbMThdICogYlsxOV0pICsgYVsxOV07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBGbG9hdDMyIEFycmF5IGFuZCBub3JtYWxpemUgdGhlIG9mZnNldCBjb21wb25lbnQgdG8gMC0xXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IG1hdHJpeCAtIDV4NCBtYXRyaXhcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJbXX0gNXg0IG1hdHJpeCB3aXRoIGFsbCB2YWx1ZXMgYmV0d2VlbiAwLTFcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX2NvbG9yTWF0cml4ID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICAvLyBDcmVhdGUgYSBGbG9hdDMyIEFycmF5IGFuZCBub3JtYWxpemUgdGhlIG9mZnNldCBjb21wb25lbnQgdG8gMC0xXG4gICAgICAgIHZhciBtID0gbmV3IEZsb2F0MzJBcnJheShtYXRyaXgpO1xuICAgICAgICBtWzRdIC89IDI1NTtcbiAgICAgICAgbVs5XSAvPSAyNTU7XG4gICAgICAgIG1bMTRdIC89IDI1NTtcbiAgICAgICAgbVsxOV0gLz0gMjU1O1xuICAgICAgICByZXR1cm4gbTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkanVzdHMgYnJpZ2h0bmVzc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGIgLSB2YWx1ZSBvZiB0aGUgYnJpZ3RobmVzcyAoMC0xLCB3aGVyZSAwIGlzIGJsYWNrKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5icmlnaHRuZXNzID0gZnVuY3Rpb24gKGIsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICBiLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgYiwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIGIsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1hdHJpY2VzIGluIGdyZXkgc2NhbGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSB2YWx1ZSBvZiB0aGUgZ3JleSAoMC0xLCB3aGVyZSAwIGlzIGJsYWNrKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmV5c2NhbGUgPSBmdW5jdGlvbiAoc2NhbGUsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLFxuICAgICAgICAgICAgc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCxcbiAgICAgICAgICAgIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGJsYWNrIGFuZCB3aGl0ZSBtYXRyaWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJsYWNrQW5kV2hpdGUgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuMywgMC42LCAwLjEsIDAsIDAsXG4gICAgICAgICAgICAwLjMsIDAuNiwgMC4xLCAwLCAwLFxuICAgICAgICAgICAgMC4zLCAwLjYsIDAuMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgaHVlIHByb3BlcnR5IG9mIHRoZSBjb2xvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gaW4gZGVncmVlc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5odWUgPSBmdW5jdGlvbiAocm90YXRpb24sIG11bHRpcGx5KSB7XG4gICAgICAgIHJvdGF0aW9uID0gKHJvdGF0aW9uIHx8IDApIC8gMTgwICogTWF0aC5QSTtcbiAgICAgICAgdmFyIGNvc1IgPSBNYXRoLmNvcyhyb3RhdGlvbik7XG4gICAgICAgIHZhciBzaW5SID0gTWF0aC5zaW4ocm90YXRpb24pO1xuICAgICAgICB2YXIgc3FydCA9IE1hdGguc3FydDtcbiAgICAgICAgLyogYSBnb29kIGFwcHJveGltYXRpb24gZm9yIGh1ZSByb3RhdGlvblxuICAgICAgICAgVGhpcyBtYXRyaXggaXMgZmFyIGJldHRlciB0aGFuIHRoZSB2ZXJzaW9ucyB3aXRoIG1hZ2ljIGx1bWluYW5jZSBjb25zdGFudHNcbiAgICAgICAgIGZvcm1lcmx5IHVzZWQgaGVyZSwgYnV0IGFsc28gdXNlZCBpbiB0aGUgc3RhcmxpbmcgZnJhbWV3b3JrIChmbGFzaCkgYW5kIGtub3duIGZyb20gdGhpc1xuICAgICAgICAgb2xkIHBhcnQgb2YgdGhlIGludGVybmV0OiBxdWFzaW1vbmRvLmNvbS9hcmNoaXZlcy8wMDA1NjUucGhwXG5cbiAgICAgICAgIFRoaXMgbmV3IG1hdHJpeCBpcyBiYXNlZCBvbiByZ2IgY3ViZSByb3RhdGlvbiBpbiBzcGFjZS4gTG9vayBoZXJlIGZvciBhIG1vcmUgZGVzY3JpcHRpdmVcbiAgICAgICAgIGltcGxlbWVudGF0aW9uIGFzIGEgc2hhZGVyIG5vdCBhIGdlbmVyYWwgbWF0cml4OlxuICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2dsZnguanMvYmxvYi81ODg0MWMyMzkxOWJkNTk3ODdlZmZjMDMzM2E0ODk3YjQzODM1NDEyL3NyYy9maWx0ZXJzL2FkanVzdC9odWVzYXR1cmF0aW9uLmpzXG5cbiAgICAgICAgIFRoaXMgaXMgdGhlIHNvdXJjZSBmb3IgdGhlIGNvZGU6XG4gICAgICAgICBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84NTA3ODg1L3NoaWZ0LWh1ZS1vZi1hbi1yZ2ItY29sb3IvODUxMDc1MSM4NTEwNzUxXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdyA9IDEgLyAzO1xuICAgICAgICB2YXIgc3FyVyA9IHNxcnQodyk7IC8vIHdlaWdodCBpc1xuICAgICAgICB2YXIgYTAwID0gY29zUiArICgoMS4wIC0gY29zUikgKiB3KTtcbiAgICAgICAgdmFyIGEwMSA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMDIgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTEwID0gKHcgKiAoMS4wIC0gY29zUikpICsgKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGExMSA9IGNvc1IgKyAodyAqICgxLjAgLSBjb3NSKSk7XG4gICAgICAgIHZhciBhMTIgPSAodyAqICgxLjAgLSBjb3NSKSkgLSAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTIwID0gKHcgKiAoMS4wIC0gY29zUikpIC0gKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGEyMSA9ICh3ICogKDEuMCAtIGNvc1IpKSArIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMjIgPSBjb3NSICsgKHcgKiAoMS4wIC0gY29zUikpO1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgYTAwLCBhMDEsIGEwMiwgMCwgMCxcbiAgICAgICAgICAgIGExMCwgYTExLCBhMTIsIDAsIDAsXG4gICAgICAgICAgICBhMjAsIGEyMSwgYTIyLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjb250cmFzdCBtYXRyaXgsIGluY3JlYXNlIHRoZSBzZXBhcmF0aW9uIGJldHdlZW4gZGFyayBhbmQgYnJpZ2h0XG4gICAgICogSW5jcmVhc2UgY29udHJhc3QgOiBzaGFkb3dzIGRhcmtlciBhbmQgaGlnaGxpZ2h0cyBicmlnaHRlclxuICAgICAqIERlY3JlYXNlIGNvbnRyYXN0IDogYnJpbmcgdGhlIHNoYWRvd3MgdXAgYW5kIHRoZSBoaWdobGlnaHRzIGRvd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB2YWx1ZSBvZiB0aGUgY29udHJhc3QgKDAtMSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuY29udHJhc3QgPSBmdW5jdGlvbiAoYW1vdW50LCBtdWx0aXBseSkge1xuICAgICAgICB2YXIgdiA9IChhbW91bnQgfHwgMCkgKyAxO1xuICAgICAgICB2YXIgbyA9IC0wLjUgKiAodiAtIDEpO1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgdiwgMCwgMCwgMCwgbyxcbiAgICAgICAgICAgIDAsIHYsIDAsIDAsIG8sXG4gICAgICAgICAgICAwLCAwLCB2LCAwLCBvLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzYXR1cmF0aW9uIG1hdHJpeCwgaW5jcmVhc2UgdGhlIHNlcGFyYXRpb24gYmV0d2VlbiBjb2xvcnNcbiAgICAgKiBJbmNyZWFzZSBzYXR1cmF0aW9uIDogaW5jcmVhc2UgY29udHJhc3QsIGJyaWdodG5lc3MsIGFuZCBzaGFycG5lc3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgc2F0dXJhdGlvbiBhbW91bnQgKDAtMSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFttdWx0aXBseV0gLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5zYXR1cmF0ZSA9IGZ1bmN0aW9uIChhbW91bnQsIG11bHRpcGx5KSB7XG4gICAgICAgIGlmIChhbW91bnQgPT09IHZvaWQgMCkgeyBhbW91bnQgPSAwOyB9XG4gICAgICAgIHZhciB4ID0gKGFtb3VudCAqIDIgLyAzKSArIDE7XG4gICAgICAgIHZhciB5ID0gKCh4IC0gMSkgKiAtMC41KTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIHgsIHksIHksIDAsIDAsXG4gICAgICAgICAgICB5LCB4LCB5LCAwLCAwLFxuICAgICAgICAgICAgeSwgeSwgeCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc2F0dXJhdGUgaW1hZ2UgKHJlbW92ZSBjb2xvcilcbiAgICAgKlxuICAgICAqIENhbGwgdGhlIHNhdHVyYXRlIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZGVzYXR1cmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zYXR1cmF0ZSgtMSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOZWdhdGl2ZSBpbWFnZSAoaW52ZXJzZSBvZiBjbGFzc2ljIHJnYiBtYXRyaXgpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUubmVnYXRpdmUgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIC0xLCAwLCAwLCAxLCAwLFxuICAgICAgICAgICAgMCwgLTEsIDAsIDEsIDAsXG4gICAgICAgICAgICAwLCAwLCAtMSwgMSwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlcGlhIGltYWdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuc2VwaWEgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuMzkzLCAwLjc2ODk5OTksIDAuMTg4OTk5OTksIDAsIDAsXG4gICAgICAgICAgICAwLjM0OSwgMC42ODU5OTk5LCAwLjE2Nzk5OTk5LCAwLCAwLFxuICAgICAgICAgICAgMC4yNzIsIDAuNTMzOTk5OSwgMC4xMzA5OTk5OSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbG9yIG1vdGlvbiBwaWN0dXJlIHByb2Nlc3MgaW52ZW50ZWQgaW4gMTkxNiAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS50ZWNobmljb2xvciA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMS45MTI1Mjc3ODkxNDU2MDgzLCAtMC44NTQ1MzQ0OTc2OTUxNjQ1LCAtMC4wOTE1NTUwODQ4Mjc1NTU4NSwgMCwgMTEuNzkzNjAzNDM0Mzc3MzM3LFxuICAgICAgICAgICAgLTAuMzA4NzgzMzM4NTkyODA5NywgMS43NjU4OTA4NTU1NDU4NDI4LCAtMC4xMDYwMTc0MzA3NDcyMjI0NSwgMCwgLTcwLjM1MjA1MTYxNDYxMzk4LFxuICAgICAgICAgICAgLTAuMjMxMTAzMzc3NTQ4NjE2LCAtMC43NTAxODk5MTk3NDQwMjEyLCAxLjg0NzU5NzgxNjEwODE4OSwgMCwgMzAuOTUwOTQwODY5NDkxMTM4LFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9sYXJvaWQgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucG9sYXJvaWQgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEuNDM4LCAtMC4wNjIsIC0wLjA2MiwgMCwgMCxcbiAgICAgICAgICAgIC0wLjEyMiwgMS4zNzgsIC0wLjEyMiwgMCwgMCxcbiAgICAgICAgICAgIC0wLjAxNiwgLTAuMDE2LCAxLjQ4MywgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbHRlciB3aG8gdHJhbnNmb3JtcyA6IFJlZCAtPiBCbHVlIGFuZCBCbHVlIC0+IFJlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnRvQkdSID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLCAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgMCwgMSwgMCwgMCwgMCxcbiAgICAgICAgICAgIDEsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb2xvciByZXZlcnNhbCBmaWxtIGludHJvZHVjZWQgYnkgRWFzdG1hbiBLb2RhayBpbiAxOTM1LiAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5rb2RhY2hyb21lID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLjEyODU1ODIzOTY1OTM1MjUsIC0wLjM5NjczODIyODM2MDEzNDgsIC0wLjAzOTkyNTU5MTcyOTIxNzkzLCAwLCA2My43Mjk1ODc2MjE5NjUwMixcbiAgICAgICAgICAgIC0wLjE2NDA0MzM5OTYyMjQ0NjE2LCAxLjA4MzUyNTE1NjYyOTEzMDQsIC0wLjA1NDk4ODA1MTE1NjMzMTMyLCAwLCAyNC43MzI0MDc4OTY3MDYyMDMsXG4gICAgICAgICAgICAtMC4xNjc4NjAxMDcwNjE1NTc2MywgLTAuNTYwMzQxNjI3NzY5NTI0OCwgMS42MDE0ODUwNzYxOTY0OTQzLCAwLCAzNS42Mjk4MjgwNzQ2MDk0NixcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJyb3duIGRlbGljaW91cyBicm93bmkgZmlsdGVyICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJyb3duaSA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC41OTk3MDIzNDk4MTU5NzE1LCAwLjM0NTUzMjQzMDQ4MzkxMjYzLCAtMC4yNzA4Mjk4Njc0NTM4MDQyLCAwLCA0Ny40MzE5Mjg1NTYwMDg3MyxcbiAgICAgICAgICAgIC0wLjAzNzcwMzI0OTgzNzc4MzE1NywgMC44NjA5NTc3NTg3OTkyNjQxLCAwLjE1MDU5NTUyMzg4NDU5OTEzLCAwLCAtMzYuOTY4NDE0OTgzMTkxMjcsXG4gICAgICAgICAgICAwLjI0MTEzNjM1MTI4MTUzMzM1LCAtMC4wNzQ0MTAzNzkwODQyMjQ5MiwgMC40NDk3MjE4MjA2NDg3NzE1MywgMCwgLTcuNTYyMDc1Mjc3NTkxMjgzLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVmludGFnZSBmaWx0ZXIgKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudmludGFnZSA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC42Mjc5MzQ1NjM1NjA1OTk0LCAwLjMyMDIxODM0MjA4MTkzNjcsIC0wLjAzOTY1NDA4MjExMzEyNDUzLCAwLCA5LjY1MTI4NTgzNTI5NDEyMyxcbiAgICAgICAgICAgIDAuMDI1NzgzOTc3MDQ4MDg4NjgsIDAuNjQ0MTE4ODY0NDM3NDc3MSwgMC4wMzI1OTEyNzYxNjE0OTI5NCwgMCwgNy40NjI4MjkxNzY0NzA1OTEsXG4gICAgICAgICAgICAwLjA0NjYwNTU1NTY3ODI3MTksIC0wLjA4NTEyMzI5ODcyNDc4OTEsIDAuNTI0MTY0ODAxODcwMDQ2NSwgMCwgNS4xNTkxOTA1ODgyMzUyOTYsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXZSBkb24ndCBrbm93IGV4YWN0bHkgd2hhdCBpdCBkb2VzLCBraW5kIG9mIGdyYWRpZW50IG1hcCwgYnV0IGZ1bm55IHRvIHBsYXkgd2l0aCFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXNhdHVyYXRpb24gLSBUb25lIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9uZWQgLSBUb25lIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGlnaHRDb2xvciAtIFRvbmUgdmFsdWVzLCBleGFtcGxlOiBgMHhGRkU1ODBgXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRhcmtDb2xvciAtIFRvbmUgdmFsdWVzLCBleGFtcGxlOiBgMHhGRkU1ODBgXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmNvbG9yVG9uZSA9IGZ1bmN0aW9uIChkZXNhdHVyYXRpb24sIHRvbmVkLCBsaWdodENvbG9yLCBkYXJrQ29sb3IsIG11bHRpcGx5KSB7XG4gICAgICAgIGRlc2F0dXJhdGlvbiA9IGRlc2F0dXJhdGlvbiB8fCAwLjI7XG4gICAgICAgIHRvbmVkID0gdG9uZWQgfHwgMC4xNTtcbiAgICAgICAgbGlnaHRDb2xvciA9IGxpZ2h0Q29sb3IgfHwgMHhGRkU1ODA7XG4gICAgICAgIGRhcmtDb2xvciA9IGRhcmtDb2xvciB8fCAweDMzODAwMDtcbiAgICAgICAgdmFyIGxSID0gKChsaWdodENvbG9yID4+IDE2KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgbEcgPSAoKGxpZ2h0Q29sb3IgPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGxCID0gKGxpZ2h0Q29sb3IgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGRSID0gKChkYXJrQ29sb3IgPj4gMTYpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBkRyA9ICgoZGFya0NvbG9yID4+IDgpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBkQiA9IChkYXJrQ29sb3IgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuMywgMC41OSwgMC4xMSwgMCwgMCxcbiAgICAgICAgICAgIGxSLCBsRywgbEIsIGRlc2F0dXJhdGlvbiwgMCxcbiAgICAgICAgICAgIGRSLCBkRywgZEIsIHRvbmVkLCAwLFxuICAgICAgICAgICAgbFIgLSBkUiwgbEcgLSBkRywgbEIgLSBkQiwgMCwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTmlnaHQgZWZmZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW50ZW5zaXR5IC0gVGhlIGludGVuc2l0eSBvZiB0aGUgbmlnaHQgZWZmZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5uaWdodCA9IGZ1bmN0aW9uIChpbnRlbnNpdHksIG11bHRpcGx5KSB7XG4gICAgICAgIGludGVuc2l0eSA9IGludGVuc2l0eSB8fCAwLjE7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICBpbnRlbnNpdHkgKiAoLTIuMCksIC1pbnRlbnNpdHksIDAsIDAsIDAsXG4gICAgICAgICAgICAtaW50ZW5zaXR5LCAwLCBpbnRlbnNpdHksIDAsIDAsXG4gICAgICAgICAgICAwLCBpbnRlbnNpdHksIGludGVuc2l0eSAqIDIuMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByZWRhdG9yIGVmZmVjdFxuICAgICAqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgYSBuZXcgaW5kZXBlbnQgb25lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gaG93IG11Y2ggdGhlIHByZWRhdG9yIGZlZWxzIGhpcyBmdXR1cmUgdmljdGltXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnByZWRhdG9yID0gZnVuY3Rpb24gKGFtb3VudCwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIC8vIHJvdyAxXG4gICAgICAgICAgICAxMS4yMjQxMzA2MzA0OTMxNjQgKiBhbW91bnQsXG4gICAgICAgICAgICAtNC43OTQ0ODY5OTk1MTE3MTkgKiBhbW91bnQsXG4gICAgICAgICAgICAtMi44NzQ2MTE4NTQ1NTMyMjI3ICogYW1vdW50LFxuICAgICAgICAgICAgMCAqIGFtb3VudCxcbiAgICAgICAgICAgIDAuNDAzNDI0MzgyMjA5Nzc3ODMgKiBhbW91bnQsXG4gICAgICAgICAgICAvLyByb3cgMlxuICAgICAgICAgICAgLTMuNjMzMDY5NzUzNjQ2ODUwNiAqIGFtb3VudCxcbiAgICAgICAgICAgIDkuMTkzMTU3MTk2MDQ0OTIyICogYW1vdW50LFxuICAgICAgICAgICAgLTIuOTUxODEwODM2NzkxOTkyICogYW1vdW50LFxuICAgICAgICAgICAgMCAqIGFtb3VudCxcbiAgICAgICAgICAgIC0xLjMxNjEzNTA0ODg2NjI3MiAqIGFtb3VudCxcbiAgICAgICAgICAgIC8vIHJvdyAzXG4gICAgICAgICAgICAtMy4yMTg0MTk3OTAyNjc5NDQzICogYW1vdW50LFxuICAgICAgICAgICAgLTQuMjM3NTAzMDUxNzU3ODEyNSAqIGFtb3VudCxcbiAgICAgICAgICAgIDcuNDc2NDQ4MDU5MDgyMDMxICogYW1vdW50LFxuICAgICAgICAgICAgMCAqIGFtb3VudCxcbiAgICAgICAgICAgIDAuODA0NDQ1OTIyMzc0NzI1MyAqIGFtb3VudCxcbiAgICAgICAgICAgIC8vIHJvdyA0XG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMU0QgZWZmZWN0XG4gICAgICpcbiAgICAgKiBNdWx0aXBseSB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5sc2QgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDIsIC0wLjQsIDAuNSwgMCwgMCxcbiAgICAgICAgICAgIC0wLjUsIDIsIC0wLjQsIDAsIDAsXG4gICAgICAgICAgICAtMC40LCAtMC41LCAzLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgdGhlIGRlZmF1bHQgb25lXG4gICAgICpcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMSwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBmYWxzZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLCBcIm1hdHJpeFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF0cml4IG9mIHRoZSBjb2xvciBtYXRyaXggZmlsdGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAZGVmYXVsdCBbMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMubTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMubSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZSwgXCJhbHBoYVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3BhY2l0eSB2YWx1ZSB0byB1c2Ugd2hlbiBtaXhpbmcgdGhlIG9yaWdpbmFsIGFuZCByZXN1bHRhbnQgY29sb3JzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXaGVuIHRoZSB2YWx1ZSBpcyAwLCB0aGUgb3JpZ2luYWwgY29sb3IgaXMgdXNlZCB3aXRob3V0IG1vZGlmaWNhdGlvbi5cbiAgICAgICAgICogV2hlbiB0aGUgdmFsdWUgaXMgMSwgdGhlIHJlc3VsdCBjb2xvciBpcyB1c2VkLlxuICAgICAgICAgKiBXaGVuIGluIHRoZSByYW5nZSAoMCwgMSkgdGhlIGNvbG9yIGlzIGludGVycG9sYXRlZCBiZXR3ZWVuIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0IGJ5IHRoaXMgYW1vdW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudUFscGhhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51QWxwaGEgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBDb2xvck1hdHJpeEZpbHRlcjtcbn0oRmlsdGVyKSk7XG4vLyBBbWVyaWNhbml6ZWQgYWxpYXNcbkNvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmF5c2NhbGUgPSBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JleXNjYWxlO1xuXG5leHBvcnQgeyBDb2xvck1hdHJpeEZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWNvbG9yLW1hdHJpeC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudCAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBNYXRyaXgsIFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWMyIHNjYWxlO1xcbnVuaWZvcm0gbWF0MiByb3RhdGlvbjtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHNhbXBsZXIyRCBtYXBTYW1wbGVyO1xcblxcbnVuaWZvcm0gaGlnaHAgdmVjNCBpbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IGlucHV0Q2xhbXA7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgdmVjNCBtYXAgPSAgdGV4dHVyZTJEKG1hcFNhbXBsZXIsIHZGaWx0ZXJDb29yZCk7XFxuXFxuICBtYXAgLT0gMC41O1xcbiAgbWFwLnh5ID0gc2NhbGUgKiBpbnB1dFNpemUuencgKiAocm90YXRpb24gKiBtYXAueHkpO1xcblxcbiAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcCh2ZWMyKHZUZXh0dXJlQ29vcmQueCArIG1hcC54LCB2VGV4dHVyZUNvb3JkLnkgKyBtYXAueSksIGlucHV0Q2xhbXAueHksIGlucHV0Q2xhbXAuencpKTtcXG59XFxuXCI7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgZmlsdGVyTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IGlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbn1cXG5cXG52ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxue1xcbiAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcblxcdGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG5cXHR2VGV4dHVyZUNvb3JkID0gZmlsdGVyVGV4dHVyZUNvb3JkKCk7XFxuXFx0dkZpbHRlckNvb3JkID0gKCBmaWx0ZXJNYXRyaXggKiB2ZWMzKCB2VGV4dHVyZUNvb3JkLCAxLjApICApLnh5O1xcbn1cXG5cIjtcblxuLyoqXG4gKiBUaGUgRGlzcGxhY2VtZW50RmlsdGVyIGNsYXNzIHVzZXMgdGhlIHBpeGVsIHZhbHVlcyBmcm9tIHRoZSBzcGVjaWZpZWQgdGV4dHVyZVxuICogKGNhbGxlZCB0aGUgZGlzcGxhY2VtZW50IG1hcCkgdG8gcGVyZm9ybSBhIGRpc3BsYWNlbWVudCBvZiBhbiBvYmplY3QuXG4gKlxuICogWW91IGNhbiB1c2UgdGhpcyBmaWx0ZXIgdG8gYXBwbHkgYWxsIG1hbm9yIG9mIGNyYXp5IHdhcnBpbmcgZWZmZWN0cy5cbiAqIEN1cnJlbnRseSB0aGUgYHJgIHByb3BlcnR5IG9mIHRoZSB0ZXh0dXJlIGlzIHVzZWQgdG8gb2Zmc2V0IHRoZSBgeGBcbiAqIGFuZCB0aGUgYGdgIHByb3BlcnR5IG9mIHRoZSB0ZXh0dXJlIGlzIHVzZWQgdG8gb2Zmc2V0IHRoZSBgeWAuXG4gKlxuICogVGhlIHdheSBpdCB3b3JrcyBpcyBpdCB1c2VzIHRoZSB2YWx1ZXMgb2YgdGhlIGRpc3BsYWNlbWVudCBtYXAgdG8gbG9vayB1cCB0aGVcbiAqIGNvcnJlY3QgcGl4ZWxzIHRvIG91dHB1dC4gVGhpcyBtZWFucyBpdCdzIG5vdCB0ZWNobmljYWxseSBtb3ZpbmcgdGhlIG9yaWdpbmFsLlxuICogSW5zdGVhZCwgaXQncyBzdGFydGluZyBhdCB0aGUgb3V0cHV0IGFuZCBhc2tpbmcgXCJ3aGljaCBwaXhlbCBmcm9tIHRoZSBvcmlnaW5hbCBnb2VzIGhlcmVcIi5cbiAqIEZvciBleGFtcGxlLCBpZiBhIGRpc3BsYWNlbWVudCBtYXAgcGl4ZWwgaGFzIGByZWQgPSAxYCBhbmQgdGhlIGZpbHRlciBzY2FsZSBpcyBgMjBgLFxuICogdGhpcyBmaWx0ZXIgd2lsbCBvdXRwdXQgdGhlIHBpeGVsIGFwcHJveGltYXRlbHkgMjAgcGl4ZWxzIHRvIHRoZSByaWdodCBvZiB0aGUgb3JpZ2luYWwuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgRGlzcGxhY2VtZW50RmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEaXNwbGFjZW1lbnRGaWx0ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gVGhlIHNwcml0ZSB1c2VkIGZvciB0aGUgZGlzcGxhY2VtZW50IG1hcC4gKG1ha2Ugc3VyZSBpdHMgYWRkZWQgdG8gdGhlIHNjZW5lISlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlXSAtIFRoZSBzY2FsZSBvZiB0aGUgZGlzcGxhY2VtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gRGlzcGxhY2VtZW50RmlsdGVyKHNwcml0ZSwgc2NhbGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1hc2tNYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIHNwcml0ZS5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdmVydGV4LCBmcmFnbWVudCwge1xuICAgICAgICAgICAgbWFwU2FtcGxlcjogc3ByaXRlLl90ZXh0dXJlLFxuICAgICAgICAgICAgZmlsdGVyTWF0cml4OiBtYXNrTWF0cml4LFxuICAgICAgICAgICAgc2NhbGU6IHsgeDogMSwgeTogMSB9LFxuICAgICAgICAgICAgcm90YXRpb246IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsIDFdKSxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcbiAgICAgICAgX3RoaXMubWFza01hdHJpeCA9IG1hc2tNYXRyaXg7XG4gICAgICAgIGlmIChzY2FsZSA9PT0gbnVsbCB8fCBzY2FsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzY2FsZSA9IDIwO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzY2FsZVgsIHNjYWxlWSBmb3IgZGlzcGxhY2VtZW50c1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2NhbGUgPSBuZXcgUG9pbnQoc2NhbGUsIHNjYWxlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IGNsZWFyTW9kZSAtIGNsZWFyTW9kZS5cbiAgICAgKi9cbiAgICBEaXNwbGFjZW1lbnRGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSkge1xuICAgICAgICAvLyBmaWxsIG1hc2tNYXRyaXggd2l0aCBfbm9ybWFsaXplZCBzcHJpdGUgdGV4dHVyZSBjb29yZHNfXG4gICAgICAgIHRoaXMudW5pZm9ybXMuZmlsdGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCB0aGlzLm1hc2tTcHJpdGUpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnggPSB0aGlzLnNjYWxlLng7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc2NhbGUueSA9IHRoaXMuc2NhbGUueTtcbiAgICAgICAgLy8gRXh0cmFjdCByb3RhdGlvbiBmcm9tIHdvcmxkIHRyYW5zZm9ybVxuICAgICAgICB2YXIgd3QgPSB0aGlzLm1hc2tTcHJpdGUud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBsZW5YID0gTWF0aC5zcXJ0KCh3dC5hICogd3QuYSkgKyAod3QuYiAqIHd0LmIpKTtcbiAgICAgICAgdmFyIGxlblkgPSBNYXRoLnNxcnQoKHd0LmMgKiB3dC5jKSArICh3dC5kICogd3QuZCkpO1xuICAgICAgICBpZiAobGVuWCAhPT0gMCAmJiBsZW5ZICE9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzBdID0gd3QuYSAvIGxlblg7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzFdID0gd3QuYiAvIGxlblg7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzJdID0gd3QuYyAvIGxlblk7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzNdID0gd3QuZCAvIGxlblk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZHJhdyB0aGUgZmlsdGVyLi4uXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGFjZW1lbnRGaWx0ZXIucHJvdG90eXBlLCBcIm1hcFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB1c2VkIGZvciB0aGUgZGlzcGxhY2VtZW50IG1hcC4gTXVzdCBiZSBwb3dlciBvZiAyIHNpemVkIHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMubWFwU2FtcGxlcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMubWFwU2FtcGxlciA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIERpc3BsYWNlbWVudEZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbmV4cG9ydCB7IERpc3BsYWNlbWVudEZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWRpc3BsYWNlbWVudC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWZ4YWEgLSB2NS4zLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDQgQXVnIDIwMjAgMTY6MjM6MDkgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWZ4YWEgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciB2ZXJ0ZXggPSBcIlxcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdl9yZ2JOVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JORTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTRTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JNO1xcblxcbnZhcnlpbmcgdmVjMiB2RnJhZ0Nvb3JkO1xcblxcbnVuaWZvcm0gdmVjNCBpbnB1dFBpeGVsO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZvaWQgdGV4Y29vcmRzKHZlYzIgZnJhZ0Nvb3JkLCB2ZWMyIGludmVyc2VWUCxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYk5XLCBvdXQgdmVjMiB2X3JnYk5FLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiU1csIG91dCB2ZWMyIHZfcmdiU0UsXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JNKSB7XFxuICAgIHZfcmdiTlcgPSAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAtMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiTkUgPSAoZnJhZ0Nvb3JkICsgdmVjMigxLjAsIC0xLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JTVyA9IChmcmFnQ29vcmQgKyB2ZWMyKC0xLjAsIDEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYlNFID0gKGZyYWdDb29yZCArIHZlYzIoMS4wLCAxLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JNID0gdmVjMihmcmFnQ29vcmQgKiBpbnZlcnNlVlApO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcbiAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG5cXG4gICB2RnJhZ0Nvb3JkID0gYVZlcnRleFBvc2l0aW9uICogb3V0cHV0RnJhbWUuenc7XFxuXFxuICAgdGV4Y29vcmRzKHZGcmFnQ29vcmQsIGlucHV0UGl4ZWwuencsIHZfcmdiTlcsIHZfcmdiTkUsIHZfcmdiU1csIHZfcmdiU0UsIHZfcmdiTSk7XFxufVxcblwiO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2X3JnYk5XO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk5FO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNXO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNFO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk07XFxuXFxudmFyeWluZyB2ZWMyIHZGcmFnQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBoaWdocCB2ZWM0IGlucHV0UGl4ZWw7XFxuXFxuXFxuLyoqXFxuIEJhc2ljIEZYQUEgaW1wbGVtZW50YXRpb24gYmFzZWQgb24gdGhlIGNvZGUgb24gZ2Vla3MzZC5jb20gd2l0aCB0aGVcXG4gbW9kaWZpY2F0aW9uIHRoYXQgdGhlIHRleHR1cmUyRExvZCBzdHVmZiB3YXMgcmVtb3ZlZCBzaW5jZSBpdCdzXFxuIHVuc3VwcG9ydGVkIGJ5IFdlYkdMLlxcblxcbiAtLVxcblxcbiBGcm9tOlxcbiBodHRwczovL2dpdGh1Yi5jb20vbWl0c3VoaWtvL3dlYmdsLW1laW5jcmFmdFxcblxcbiBDb3B5cmlnaHQgKGMpIDIwMTEgYnkgQXJtaW4gUm9uYWNoZXIuXFxuXFxuIFNvbWUgcmlnaHRzIHJlc2VydmVkLlxcblxcbiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcXG4gbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxcbiBtZXQ6XFxuXFxuICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcXG4gbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxcblxcbiAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcXG4gY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcXG4gZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkXFxuIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cXG5cXG4gKiBUaGUgbmFtZXMgb2YgdGhlIGNvbnRyaWJ1dG9ycyBtYXkgbm90IGJlIHVzZWQgdG8gZW5kb3JzZSBvclxcbiBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWNcXG4gcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxcblxcbiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXFxuIFxcXCJBUyBJU1xcXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXFxuIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxcbiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxcbiBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcXG4gU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVFxcbiBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcXG4gREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXFxuIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcXG4gKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXFxuIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXFxuICovXFxuXFxuI2lmbmRlZiBGWEFBX1JFRFVDRV9NSU5cXG4jZGVmaW5lIEZYQUFfUkVEVUNFX01JTiAgICgxLjAvIDEyOC4wKVxcbiNlbmRpZlxcbiNpZm5kZWYgRlhBQV9SRURVQ0VfTVVMXFxuI2RlZmluZSBGWEFBX1JFRFVDRV9NVUwgICAoMS4wIC8gOC4wKVxcbiNlbmRpZlxcbiNpZm5kZWYgRlhBQV9TUEFOX01BWFxcbiNkZWZpbmUgRlhBQV9TUEFOX01BWCAgICAgOC4wXFxuI2VuZGlmXFxuXFxuLy9vcHRpbWl6ZWQgdmVyc2lvbiBmb3IgbW9iaWxlLCB3aGVyZSBkZXBlbmRlbnRcXG4vL3RleHR1cmUgcmVhZHMgY2FuIGJlIGEgYm90dGxlbmVja1xcbnZlYzQgZnhhYShzYW1wbGVyMkQgdGV4LCB2ZWMyIGZyYWdDb29yZCwgdmVjMiBpbnZlcnNlVlAsXFxuICAgICAgICAgIHZlYzIgdl9yZ2JOVywgdmVjMiB2X3JnYk5FLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiU1csIHZlYzIgdl9yZ2JTRSxcXG4gICAgICAgICAgdmVjMiB2X3JnYk0pIHtcXG4gICAgdmVjNCBjb2xvcjtcXG4gICAgdmVjMyByZ2JOVyA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiTlcpLnh5ejtcXG4gICAgdmVjMyByZ2JORSA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiTkUpLnh5ejtcXG4gICAgdmVjMyByZ2JTVyA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiU1cpLnh5ejtcXG4gICAgdmVjMyByZ2JTRSA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiU0UpLnh5ejtcXG4gICAgdmVjNCB0ZXhDb2xvciA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiTSk7XFxuICAgIHZlYzMgcmdiTSAgPSB0ZXhDb2xvci54eXo7XFxuICAgIHZlYzMgbHVtYSA9IHZlYzMoMC4yOTksIDAuNTg3LCAwLjExNCk7XFxuICAgIGZsb2F0IGx1bWFOVyA9IGRvdChyZ2JOVywgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFORSA9IGRvdChyZ2JORSwgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFTVyA9IGRvdChyZ2JTVywgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFTRSA9IGRvdChyZ2JTRSwgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFNICA9IGRvdChyZ2JNLCAgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFNaW4gPSBtaW4obHVtYU0sIG1pbihtaW4obHVtYU5XLCBsdW1hTkUpLCBtaW4obHVtYVNXLCBsdW1hU0UpKSk7XFxuICAgIGZsb2F0IGx1bWFNYXggPSBtYXgobHVtYU0sIG1heChtYXgobHVtYU5XLCBsdW1hTkUpLCBtYXgobHVtYVNXLCBsdW1hU0UpKSk7XFxuXFxuICAgIG1lZGl1bXAgdmVjMiBkaXI7XFxuICAgIGRpci54ID0gLSgobHVtYU5XICsgbHVtYU5FKSAtIChsdW1hU1cgKyBsdW1hU0UpKTtcXG4gICAgZGlyLnkgPSAgKChsdW1hTlcgKyBsdW1hU1cpIC0gKGx1bWFORSArIGx1bWFTRSkpO1xcblxcbiAgICBmbG9hdCBkaXJSZWR1Y2UgPSBtYXgoKGx1bWFOVyArIGx1bWFORSArIGx1bWFTVyArIGx1bWFTRSkgKlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKDAuMjUgKiBGWEFBX1JFRFVDRV9NVUwpLCBGWEFBX1JFRFVDRV9NSU4pO1xcblxcbiAgICBmbG9hdCByY3BEaXJNaW4gPSAxLjAgLyAobWluKGFicyhkaXIueCksIGFicyhkaXIueSkpICsgZGlyUmVkdWNlKTtcXG4gICAgZGlyID0gbWluKHZlYzIoRlhBQV9TUEFOX01BWCwgRlhBQV9TUEFOX01BWCksXFxuICAgICAgICAgICAgICBtYXgodmVjMigtRlhBQV9TUEFOX01BWCwgLUZYQUFfU1BBTl9NQVgpLFxcbiAgICAgICAgICAgICAgICAgIGRpciAqIHJjcERpck1pbikpICogaW52ZXJzZVZQO1xcblxcbiAgICB2ZWMzIHJnYkEgPSAwLjUgKiAoXFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAoMS4wIC8gMy4wIC0gMC41KSkueHl6ICtcXG4gICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqICgyLjAgLyAzLjAgLSAwLjUpKS54eXopO1xcbiAgICB2ZWMzIHJnYkIgPSByZ2JBICogMC41ICsgMC4yNSAqIChcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogLTAuNSkueHl6ICtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogMC41KS54eXopO1xcblxcbiAgICBmbG9hdCBsdW1hQiA9IGRvdChyZ2JCLCBsdW1hKTtcXG4gICAgaWYgKChsdW1hQiA8IGx1bWFNaW4pIHx8IChsdW1hQiA+IGx1bWFNYXgpKVxcbiAgICAgICAgY29sb3IgPSB2ZWM0KHJnYkEsIHRleENvbG9yLmEpO1xcbiAgICBlbHNlXFxuICAgICAgICBjb2xvciA9IHZlYzQocmdiQiwgdGV4Q29sb3IuYSk7XFxuICAgIHJldHVybiBjb2xvcjtcXG59XFxuXFxudm9pZCBtYWluKCkge1xcblxcbiAgICAgIHZlYzQgY29sb3I7XFxuXFxuICAgICAgY29sb3IgPSBmeGFhKHVTYW1wbGVyLCB2RnJhZ0Nvb3JkLCBpbnB1dFBpeGVsLnp3LCB2X3JnYk5XLCB2X3JnYk5FLCB2X3JnYlNXLCB2X3JnYlNFLCB2X3JnYk0pO1xcblxcbiAgICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBCYXNpYyBGWEFBIChGYXN0IEFwcHJveGltYXRlIEFudGktQWxpYXNpbmcpIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIHRoZSBjb2RlIG9uIGdlZWtzM2QuY29tXG4gKiB3aXRoIHRoZSBtb2RpZmljYXRpb24gdGhhdCB0aGUgdGV4dHVyZTJETG9kIHN0dWZmIHdhcyByZW1vdmVkIHNpbmNlIGl0IGlzIHVuc3VwcG9ydGVkIGJ5IFdlYkdMLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21pdHN1aGlrby93ZWJnbC1tZWluY3JhZnRcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKlxuICovXG52YXIgRlhBQUZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRlhBQUZpbHRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGWEFBRmlsdGVyKCkge1xuICAgICAgICAvLyBUT0RPIC0gbmVlZHMgd29ya1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgdmVydGV4LCBmcmFnbWVudCkgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEZYQUFGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBGWEFBRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItZnhhYS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLW5vaXNlIC0gdjUuMy4zXG4gKiBDb21waWxlZCBUdWUsIDA0IEF1ZyAyMDIwIDE2OjIzOjA5IFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1ub2lzZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIGZyYWdtZW50ID0gXCJwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG51bmlmb3JtIGZsb2F0IHVOb2lzZTtcXG51bmlmb3JtIGZsb2F0IHVTZWVkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbmZsb2F0IHJhbmQodmVjMiBjbylcXG57XFxuICAgIHJldHVybiBmcmFjdChzaW4oZG90KGNvLnh5LCB2ZWMyKDEyLjk4OTgsIDc4LjIzMykpKSAqIDQzNzU4LjU0NTMpO1xcbn1cXG5cXG52b2lkIG1haW4oKVxcbntcXG4gICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIGZsb2F0IHJhbmRvbVZhbHVlID0gcmFuZChnbF9GcmFnQ29vcmQueHkgKiB1U2VlZCk7XFxuICAgIGZsb2F0IGRpZmYgPSAocmFuZG9tVmFsdWUgLSAwLjUpICogdU5vaXNlO1xcblxcbiAgICAvLyBVbi1wcmVtdWx0aXBseSBhbHBoYSBiZWZvcmUgYXBwbHlpbmcgdGhlIGNvbG9yIG1hdHJpeC4gU2VlIGlzc3VlICMzNTM5LlxcbiAgICBpZiAoY29sb3IuYSA+IDAuMCkge1xcbiAgICAgICAgY29sb3IucmdiIC89IGNvbG9yLmE7XFxuICAgIH1cXG5cXG4gICAgY29sb3IuciArPSBkaWZmO1xcbiAgICBjb2xvci5nICs9IGRpZmY7XFxuICAgIGNvbG9yLmIgKz0gZGlmZjtcXG5cXG4gICAgLy8gUHJlbXVsdGlwbHkgYWxwaGEgYWdhaW4uXFxuICAgIGNvbG9yLnJnYiAqPSBjb2xvci5hO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XFxuXCI7XG5cbi8qKlxuICogQGF1dGhvciBWaWNvIEB2aWNvY290ZWFcbiAqIG9yaWdpbmFsIGZpbHRlcjogaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2dsZnguanMvYmxvYi9tYXN0ZXIvc3JjL2ZpbHRlcnMvYWRqdXN0L25vaXNlLmpzXG4gKi9cbi8qKlxuICogQSBOb2lzZSBlZmZlY3QgZmlsdGVyLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIE5vaXNlRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOb2lzZUZpbHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW25vaXNlPTAuNV0gLSBUaGUgbm9pc2UgaW50ZW5zaXR5LCBzaG91bGQgYmUgYSBub3JtYWxpemVkIHZhbHVlIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzZWVkXSAtIEEgcmFuZG9tIHNlZWQgZm9yIHRoZSBub2lzZSBnZW5lcmF0aW9uLiBEZWZhdWx0IGlzIGBNYXRoLnJhbmRvbSgpYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOb2lzZUZpbHRlcihub2lzZSwgc2VlZCkge1xuICAgICAgICBpZiAobm9pc2UgPT09IHZvaWQgMCkgeyBub2lzZSA9IDAuNTsgfVxuICAgICAgICBpZiAoc2VlZCA9PT0gdm9pZCAwKSB7IHNlZWQgPSBNYXRoLnJhbmRvbSgpOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIGZyYWdtZW50LCB7XG4gICAgICAgICAgICB1Tm9pc2U6IDAsXG4gICAgICAgICAgICB1U2VlZDogMCxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubm9pc2UgPSBub2lzZTtcbiAgICAgICAgX3RoaXMuc2VlZCA9IHNlZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vaXNlRmlsdGVyLnByb3RvdHlwZSwgXCJub2lzZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW1vdW50IG9mIG5vaXNlIHRvIGFwcGx5LCB0aGlzIHZhbHVlIHNob3VsZCBiZSBpbiB0aGUgcmFuZ2UgKDAsIDFdLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51Tm9pc2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVOb2lzZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vaXNlRmlsdGVyLnByb3RvdHlwZSwgXCJzZWVkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgc2VlZCB2YWx1ZSB0byBhcHBseSB0byB0aGUgcmFuZG9tIG5vaXNlIGdlbmVyYXRpb24uIGBNYXRoLnJhbmRvbSgpYCBpcyBhIGdvb2QgdmFsdWUgdG8gdXNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVTZWVkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2VlZCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIE5vaXNlRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgTm9pc2VGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1ub2lzZS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwIC0gdjUuMy4zXG4gKiBDb21waWxlZCBUdWUsIDA0IEF1ZyAyMDIwIDE2OjIzOjA5IFVUQ1xuICpcbiAqIEBwaXhpL21peGluLWNhY2hlLWFzLWJpdG1hcCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJlbmRlclRleHR1cmUsIEJhc2VUZXh0dXJlLCBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyB1aWQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxudmFyIF90ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZURhdGEgPSBudWxsO1xuLy8gZmlndXJlZCB0aGVyZSdzIG5vIHBvaW50IGFkZGluZyBBTEwgdGhlIGV4dHJhIHZhcmlhYmxlcyB0byBwcm90b3R5cGUuXG4vLyB0aGlzIG1vZGVsIGNhbiBob2xkIHRoZSBpbmZvcm1hdGlvbiBuZWVkZWQuIFRoaXMgY2FuIGFsc28gYmUgZ2VuZXJhdGVkIG9uIGRlbWFuZCBhc1xuLy8gbW9zdCBvYmplY3RzIGFyZSBub3QgY2FjaGVkIGFzIGJpdG1hcHMuXG4vKipcbiAqIEBjbGFzc1xuICogQGlnbm9yZVxuICovXG52YXIgQ2FjaGVEYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENhY2hlRGF0YSgpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZCA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxSZW5kZXIgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsUmVuZGVyQ2FudmFzID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxHZXRMb2NhbEJvdW5kcyA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRGVzdHJveSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxNYXNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEZpbHRlckFyZWEgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ29udGFpbnNQb2ludCA9IG51bGw7XG4gICAgICAgIHRoaXMuc3ByaXRlID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIENhY2hlRGF0YTtcbn0oKSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwge1xuICAgIC8qKlxuICAgICAqIFNldCB0aGlzIHRvIHRydWUgaWYgeW91IHdhbnQgdGhpcyBkaXNwbGF5IG9iamVjdCB0byBiZSBjYWNoZWQgYXMgYSBiaXRtYXAuXG4gICAgICogVGhpcyBiYXNpY2FsbHkgdGFrZXMgYSBzbmFwIHNob3Qgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IGFzIGl0IGlzIGF0IHRoYXQgbW9tZW50LiBJdCBjYW5cbiAgICAgKiBwcm92aWRlIGEgcGVyZm9ybWFuY2UgYmVuZWZpdCBmb3IgY29tcGxleCBzdGF0aWMgZGlzcGxheU9iamVjdHMuXG4gICAgICogVG8gcmVtb3ZlIHNpbXBseSBzZXQgdGhpcyBwcm9wZXJ0eSB0byBgZmFsc2VgXG4gICAgICpcbiAgICAgKiBJTVBPUlRBTlQgR09UQ0hBIC0gTWFrZSBzdXJlIHRoYXQgYWxsIHlvdXIgdGV4dHVyZXMgYXJlIHByZWxvYWRlZCBCRUZPUkUgc2V0dGluZyB0aGlzIHByb3BlcnR5IHRvIHRydWVcbiAgICAgKiBhcyBpdCB3aWxsIHRha2UgYSBzbmFwc2hvdCBvZiB3aGF0IGlzIGN1cnJlbnRseSB0aGVyZS4gSWYgdGhlIHRleHR1cmVzIGhhdmUgbm90IGxvYWRlZCB0aGVuIHRoZXkgd2lsbCBub3QgYXBwZWFyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGNhY2hlQXNCaXRtYXA6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVBc0JpdG1hcDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYWNoZUFzQml0bWFwID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2NhY2hlQXNCaXRtYXAgPSB2YWx1ZTtcbiAgICAgICAgICAgIHZhciBkYXRhO1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jYWNoZURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVEYXRhID0gbmV3IENhY2hlRGF0YSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5fY2FjaGVEYXRhO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxSZW5kZXIgPSB0aGlzLnJlbmRlcjtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzID0gdGhpcy5yZW5kZXJDYW52YXM7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMudXBkYXRlVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMgPSB0aGlzLmNhbGN1bGF0ZUJvdW5kcztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxEZXN0cm95ID0gdGhpcy5kZXN0cm95O1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxDb250YWluc1BvaW50ID0gdGhpcy5jb250YWluc1BvaW50O1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxNYXNrID0gdGhpcy5fbWFzaztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsRmlsdGVyQXJlYSA9IHRoaXMuZmlsdGVyQXJlYTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlciA9IHRoaXMuX3JlbmRlckNhY2hlZDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX3JlbmRlckNhY2hlZENhbnZhcztcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSB0aGlzLl9jYWNoZUFzQml0bWFwRGVzdHJveTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jYWNoZURhdGE7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc3ByaXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyID0gZGF0YS5vcmlnaW5hbFJlbmRlcjtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyA9IGRhdGEub3JpZ2luYWxSZW5kZXJDYW52YXM7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMgPSBkYXRhLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSBkYXRhLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHM7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95ID0gZGF0YS5vcmlnaW5hbERlc3Ryb3k7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSBkYXRhLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGRhdGEub3JpZ2luYWxDb250YWluc1BvaW50O1xuICAgICAgICAgICAgICAgIHRoaXMuX21hc2sgPSBkYXRhLm9yaWdpbmFsTWFzaztcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckFyZWEgPSBkYXRhLm9yaWdpbmFsRmlsdGVyQXJlYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9LFxufSk7XG4vKipcbiAqIFJlbmRlcnMgYSBjYWNoZWQgdmVyc2lvbiBvZiB0aGUgc3ByaXRlIHdpdGggV2ViR0xcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZW5kZXJDYWNoZWQgPSBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkKHJlbmRlcmVyKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0KHJlbmRlcmVyKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLnRyYW5zZm9ybS5fd29ybGRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9yZW5kZXIocmVuZGVyZXIpO1xufTtcbi8qKlxuICogUHJlcGFyZXMgdGhlIFdlYkdMIHJlbmRlcmVyIHRvIGNhY2hlIHRoZSBzcHJpdGVcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdFxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0ID0gZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0KHJlbmRlcmVyKSB7XG4gICAgaWYgKHRoaXMuX2NhY2hlRGF0YSAmJiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gbWFrZSBzdXJlIGFscGhhIGlzIHNldCB0byAxIG90aGVyd2lzZSBpdCB3aWxsIGdldCByZW5kZXJlZCBhcyBpbnZpc2libGUhXG4gICAgdmFyIGNhY2hlQWxwaGEgPSB0aGlzLmFscGhhO1xuICAgIHRoaXMuYWxwaGEgPSAxO1xuICAgIC8vIGZpcnN0IHdlIGZsdXNoIGFueXRoaW5nIGxlZnQgaW4gdGhlIHJlbmRlcmVyIChvdGhlcndpc2UgaXQgd291bGQgZ2V0IHJlbmRlcmVkIHRvIHRoZSBjYWNoZWQgdGV4dHVyZSlcbiAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgIC8vIHRoaXMuZmlsdGVycz0gW107XG4gICAgLy8gbmV4dCB3ZSBmaW5kIHRoZSBkaW1lbnNpb25zIG9mIHRoZSB1bnRyYW5zZm9ybWVkIG9iamVjdFxuICAgIC8vIHRoaXMgZnVuY3Rpb24gYWxzbyBjYWxscyB1cGRhdGV0cmFuc2Zvcm0gb24gYWxsIGl0cyBjaGlsZHJlbiBhcyBwYXJ0IG9mIHRoZSBtZWFzdXJpbmcuXG4gICAgLy8gVGhpcyBtZWFucyB3ZSBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgdHJhbnNmb3JtIGFnYWluIGluIHRoaXMgZnVuY3Rpb25cbiAgICAvLyBUT0RPIHBhc3MgYW4gb2JqZWN0IHRvIGNsb25lIHRvbz8gc2F2ZXMgaGF2aW5nIHRvIGNyZWF0ZSBhIG5ldyBvbmUgZWFjaCB0aW1lIVxuICAgIHZhciBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKG51bGwsIHRydWUpLmNsb25lKCk7XG4gICAgLy8gYWRkIHNvbWUgcGFkZGluZyFcbiAgICBpZiAodGhpcy5maWx0ZXJzKSB7XG4gICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy5maWx0ZXJzWzBdLnBhZGRpbmc7XG4gICAgICAgIGJvdW5kcy5wYWQocGFkZGluZyk7XG4gICAgfVxuICAgIGJvdW5kcy5jZWlsKHNldHRpbmdzLlJFU09MVVRJT04pO1xuICAgIC8vIGZvciBub3cgd2UgY2FjaGUgdGhlIGN1cnJlbnQgcmVuZGVyVGFyZ2V0IHRoYXQgdGhlIFdlYkdMIHJlbmRlcmVyIGlzIGN1cnJlbnRseSB1c2luZy5cbiAgICAvLyB0aGlzIGNvdWxkIGJlIG1vcmUgZWxlZ2FudC4uXG4gICAgdmFyIGNhY2hlZFJlbmRlclRleHR1cmUgPSByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmN1cnJlbnQ7XG4gICAgdmFyIGNhY2hlZFNvdXJjZUZyYW1lID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5zb3VyY2VGcmFtZS5jbG9uZSgpO1xuICAgIHZhciBjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtID0gcmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm07XG4gICAgLy8gV2UgYWxzbyBzdG9yZSB0aGUgZmlsdGVyIHN0YWNrIC0gSSB3aWxsIGRlZmluaXRlbHkgbG9vayB0byBjaGFuZ2UgaG93IHRoaXMgd29ya3MgYSBsaXR0bGUgbGF0ZXIgZG93biB0aGUgbGluZS5cbiAgICAvLyBjb25zdCBzdGFjayA9IHJlbmRlcmVyLmZpbHRlck1hbmFnZXIuZmlsdGVyU3RhY2s7XG4gICAgLy8gdGhpcyByZW5kZXJUZXh0dXJlIHdpbGwgYmUgdXNlZCB0byBzdG9yZSB0aGUgY2FjaGVkIERpc3BsYXlPYmplY3RcbiAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKHsgd2lkdGg6IGJvdW5kcy53aWR0aCwgaGVpZ2h0OiBib3VuZHMuaGVpZ2h0IH0pO1xuICAgIHZhciB0ZXh0dXJlQ2FjaGVJZCA9IFwiY2FjaGVBc0JpdG1hcF9cIiArIHVpZCgpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IHRleHR1cmVDYWNoZUlkO1xuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIFRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gICAgLy8gbmVlZCB0byBzZXQgLy9cbiAgICB2YXIgbSA9IHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtLmNvcHlUbyhfdGVtcE1hdHJpeCkuaW52ZXJ0KCkudHJhbnNsYXRlKC1ib3VuZHMueCwgLWJvdW5kcy55KTtcbiAgICAvLyBzZXQgYWxsIHByb3BlcnRpZXMgdG8gdGhlcmUgb3JpZ2luYWwgc28gd2UgY2FuIHJlbmRlciB0byBhIHRleHR1cmVcbiAgICB0aGlzLnJlbmRlciA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlcjtcbiAgICByZW5kZXJlci5yZW5kZXIodGhpcywgcmVuZGVyVGV4dHVyZSwgdHJ1ZSwgbSwgZmFsc2UpO1xuICAgIC8vIG5vdyByZXN0b3JlIHRoZSBzdGF0ZSBiZSBzZXR0aW5nIHRoZSBuZXcgcHJvcGVydGllc1xuICAgIHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtID0gY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybTtcbiAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQoY2FjaGVkUmVuZGVyVGV4dHVyZSwgY2FjaGVkU291cmNlRnJhbWUpO1xuICAgIC8vIHJlbmRlcmVyLmZpbHRlck1hbmFnZXIuZmlsdGVyU3RhY2sgPSBzdGFjaztcbiAgICB0aGlzLnJlbmRlciA9IHRoaXMuX3JlbmRlckNhY2hlZDtcbiAgICAvLyB0aGUgcmVzdCBpcyB0aGUgc2FtZSBhcyBmb3IgQ2FudmFzXG4gICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm07XG4gICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMgPSB0aGlzLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHM7XG4gICAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IHRoaXMuX2dldENhY2hlZExvY2FsQm91bmRzO1xuICAgIHRoaXMuX21hc2sgPSBudWxsO1xuICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG4gICAgLy8gY3JlYXRlIG91ciBjYWNoZWQgc3ByaXRlXG4gICAgdmFyIGNhY2hlZFNwcml0ZSA9IG5ldyBTcHJpdGUocmVuZGVyVGV4dHVyZSk7XG4gICAgY2FjaGVkU3ByaXRlLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueCA9IC0oYm91bmRzLnggLyBib3VuZHMud2lkdGgpO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueSA9IC0oYm91bmRzLnkgLyBib3VuZHMuaGVpZ2h0KTtcbiAgICBjYWNoZWRTcHJpdGUuYWxwaGEgPSBjYWNoZUFscGhhO1xuICAgIGNhY2hlZFNwcml0ZS5fYm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG4gICAgdGhpcy50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgLy8gcmVzdG9yZSB0aGUgdHJhbnNmb3JtIG9mIHRoZSBjYWNoZWQgc3ByaXRlIHRvIGF2b2lkIHRoZSBuYXN0eSBmbGlja2VyLi5cbiAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMuZW5hYmxlVGVtcFBhcmVudCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLmRpc2FibGVUZW1wUGFyZW50KG51bGwpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9XG4gICAgLy8gbWFwIHRoZSBoaXQgdGVzdC4uXG4gICAgdGhpcy5jb250YWluc1BvaW50ID0gY2FjaGVkU3ByaXRlLmNvbnRhaW5zUG9pbnQuYmluZChjYWNoZWRTcHJpdGUpO1xufTtcbi8qKlxuICogUmVuZGVycyBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBzcHJpdGUgd2l0aCBjYW52YXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRDYW52YXNcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIGNhbnZhcyByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVuZGVyQ2FjaGVkQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhY2hlZENhbnZhcyhyZW5kZXJlcikge1xuICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyhyZW5kZXJlcik7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3JlbmRlckNhbnZhcyhyZW5kZXJlcik7XG59O1xuLy8gVE9ETyB0aGlzIGNhbiBiZSB0aGUgc2FtZSBhcyB0aGUgV2ViR0wgdmVyc2lvbi4uIHdpbGwgbmVlZCB0byBkbyBhIGxpdHRsZSB0d2Vha2luZyBmaXJzdCB0aG91Z2guLlxuLyoqXG4gKiBQcmVwYXJlcyB0aGUgQ2FudmFzIHJlbmRlcmVyIHRvIGNhY2hlIHRoZSBzcHJpdGVcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhc1xuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY2FudmFzIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyA9IGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyhyZW5kZXJlcikge1xuICAgIGlmICh0aGlzLl9jYWNoZURhdGEgJiYgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGdldCBib3VuZHMgYWN0dWFsbHkgdHJhbnNmb3JtcyB0aGUgb2JqZWN0IGZvciB1cyBhbHJlYWR5IVxuICAgIHZhciBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKG51bGwsIHRydWUpO1xuICAgIHZhciBjYWNoZUFscGhhID0gdGhpcy5hbHBoYTtcbiAgICB0aGlzLmFscGhhID0gMTtcbiAgICB2YXIgY2FjaGVkUmVuZGVyVGFyZ2V0ID0gcmVuZGVyZXIuY29udGV4dDtcbiAgICB2YXIgY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybSA9IHJlbmRlcmVyLl9wcm9qVHJhbnNmb3JtO1xuICAgIGJvdW5kcy5jZWlsKHNldHRpbmdzLlJFU09MVVRJT04pO1xuICAgIHZhciByZW5kZXJUZXh0dXJlID0gUmVuZGVyVGV4dHVyZS5jcmVhdGUoeyB3aWR0aDogYm91bmRzLndpZHRoLCBoZWlnaHQ6IGJvdW5kcy5oZWlnaHQgfSk7XG4gICAgdmFyIHRleHR1cmVDYWNoZUlkID0gXCJjYWNoZUFzQml0bWFwX1wiICsgdWlkKCk7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gdGV4dHVyZUNhY2hlSWQ7XG4gICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gICAgVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICAvLyBuZWVkIHRvIHNldCAvL1xuICAgIHZhciBtID0gX3RlbXBNYXRyaXg7XG4gICAgdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm0uY29weVRvKG0pO1xuICAgIG0uaW52ZXJ0KCk7XG4gICAgbS50eCAtPSBib3VuZHMueDtcbiAgICBtLnR5IC09IGJvdW5kcy55O1xuICAgIC8vIG0uYXBwZW5kKHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLilcbiAgICAvLyBzZXQgYWxsIHByb3BlcnRpZXMgdG8gdGhlcmUgb3JpZ2luYWwgc28gd2UgY2FuIHJlbmRlciB0byBhIHRleHR1cmVcbiAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcztcbiAgICByZW5kZXJlci5yZW5kZXIodGhpcywgcmVuZGVyVGV4dHVyZSwgdHJ1ZSwgbSwgZmFsc2UpO1xuICAgIC8vIG5vdyByZXN0b3JlIHRoZSBzdGF0ZSBiZSBzZXR0aW5nIHRoZSBuZXcgcHJvcGVydGllc1xuICAgIHJlbmRlcmVyLmNvbnRleHQgPSBjYWNoZWRSZW5kZXJUYXJnZXQ7XG4gICAgcmVuZGVyZXIuX3Byb2pUcmFuc2Zvcm0gPSBjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtO1xuICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fcmVuZGVyQ2FjaGVkQ2FudmFzO1xuICAgIC8vIHRoZSByZXN0IGlzIHRoZSBzYW1lIGFzIGZvciBXZWJHTFxuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzO1xuICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSB0aGlzLl9nZXRDYWNoZWRMb2NhbEJvdW5kcztcbiAgICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuICAgIC8vIGNyZWF0ZSBvdXIgY2FjaGVkIHNwcml0ZVxuICAgIHZhciBjYWNoZWRTcHJpdGUgPSBuZXcgU3ByaXRlKHJlbmRlclRleHR1cmUpO1xuICAgIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnggPSAtKGJvdW5kcy54IC8gYm91bmRzLndpZHRoKTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gICAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcbiAgICBjYWNoZWRTcHJpdGUuX2JvdW5kcyA9IHRoaXMuX2JvdW5kcztcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gY2FjaGVkU3ByaXRlO1xuICAgIHRoaXMudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgIC8vIHJlc3RvcmUgdGhlIHRyYW5zZm9ybSBvZiB0aGUgY2FjaGVkIHNwcml0ZSB0byBhdm9pZCB0aGUgbmFzdHkgZmxpY2tlci4uXG4gICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHJlbmRlcmVyLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9XG4gICAgLy8gbWFwIHRoZSBoaXQgdGVzdC4uXG4gICAgdGhpcy5jb250YWluc1BvaW50ID0gY2FjaGVkU3ByaXRlLmNvbnRhaW5zUG9pbnQuYmluZChjYWNoZWRTcHJpdGUpO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjYWNoZWQgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVDYWNoZWRCb3VuZHMoKSB7XG4gICAgdGhpcy5fYm91bmRzLmNsZWFyKCk7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS50cmFuc2Zvcm0uX3dvcmxkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICB0aGlzLl9ib3VuZHMudXBkYXRlSUQgPSB0aGlzLl9ib3VuZHNJRDtcbn07XG4vKipcbiAqIEdldHMgdGhlIGJvdW5kcyBvZiB0aGUgY2FjaGVkIHNwcml0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7UmVjdGFuZ2xlfSBUaGUgbG9jYWwgYm91bmRzLlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBfZ2V0Q2FjaGVkTG9jYWxCb3VuZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuZ2V0TG9jYWxCb3VuZHMobnVsbCk7XG59O1xuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIHNwcml0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QgPSBmdW5jdGlvbiBfZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKSB7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fdGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBudWxsO1xuICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQpO1xuICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCk7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gbnVsbDtcbn07XG4vKipcbiAqIERlc3Ryb3lzIHRoZSBjYWNoZWQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlLlxuICogIFVzZWQgd2hlbiBkZXN0cm95aW5nIGNvbnRhaW5lcnMsIHNlZSB0aGUgQ29udGFpbmVyLmRlc3Ryb3kgbWV0aG9kLlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVBc0JpdG1hcERlc3Ryb3kgPSBmdW5jdGlvbiBfY2FjaGVBc0JpdG1hcERlc3Ryb3kob3B0aW9ucykge1xuICAgIHRoaXMuY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuICAgIHRoaXMuZGVzdHJveShvcHRpb25zKTtcbn07XG5cbmV4cG9ydCB7IENhY2hlRGF0YSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWl4aW4tY2FjaGUtYXMtYml0bWFwLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSAtIHY1LjMuM1xuICogQ29tcGlsZWQgVHVlLCAwNCBBdWcgMjAyMCAxNjoyMzowOSBVVENcbiAqXG4gKiBAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IERpc3BsYXlPYmplY3QsIENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG4vKipcbiAqIFRoZSBpbnN0YW5jZSBuYW1lIG9mIHRoZSBvYmplY3QuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBtZW1iZXIge3N0cmluZ30gbmFtZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5uYW1lID0gbnVsbDtcbi8qKlxuICogUmV0dXJucyB0aGUgZGlzcGxheSBvYmplY3QgaW4gdGhlIGNvbnRhaW5lci5cbiAqXG4gKiBSZWN1cnNpdmUgc2VhcmNoZXMgYXJlIGRvbmUgaW4gYSBwcmVvcmRlciB0cmF2ZXJzYWwuXG4gKlxuICogQG1ldGhvZCBnZXRDaGlsZEJ5TmFtZVxuICogQG1lbWJlcm9mIFBJWEkuQ29udGFpbmVyI1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBJbnN0YW5jZSBuYW1lLlxuICogQHBhcmFtIHtib29sZWFufVtkZWVwPWZhbHNlXSAtIFdoZXRoZXIgdG8gc2VhcmNoIHJlY3Vyc2l2ZWx5XG4gKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZS5cbiAqL1xuQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEJ5TmFtZSA9IGZ1bmN0aW9uIGdldENoaWxkQnlOYW1lKG5hbWUsIGRlZXApIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChkZWVwKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoIWNoaWxkLmdldENoaWxkQnlOYW1lKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5jaGlsZHJlbltpXS5nZXRDaGlsZEJ5TmFtZShuYW1lLCB0cnVlKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peGluLWdldC1jaGlsZC1ieS1uYW1lLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uIC0gdjUuMy4zXG4gKiBDb21waWxlZCBUdWUsIDA0IEF1ZyAyMDIwIDE2OjIzOjA5IFVUQ1xuICpcbiAqIEBwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24gaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdC4gRG9lcyBub3QgZGVwZW5kIG9uIG9iamVjdCBzY2FsZSwgcm90YXRpb24gYW5kIHBpdm90LlxuICpcbiAqIEBtZXRob2QgZ2V0R2xvYmFsUG9zaXRpb25cbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludD1uZXcgUElYSS5Qb2ludCgpXSAtIFRoZSBwb2ludCB0byB3cml0ZSB0aGUgZ2xvYmFsIHZhbHVlIHRvLlxuICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTZXR0aW5nIHRvIHRydWUgd2lsbCBzdG9wIHRoZSB0cmFuc2Zvcm1zIG9mIHRoZSBzY2VuZSBncmFwaCBmcm9tXG4gKiAgYmVpbmcgdXBkYXRlZC4gVGhpcyBtZWFucyB0aGUgY2FsY3VsYXRpb24gcmV0dXJuZWQgTUFZIGJlIG91dCBvZiBkYXRlIEJVVCB3aWxsIGdpdmUgeW91IGFcbiAqICBuaWNlIHBlcmZvcm1hbmNlIGJvb3N0LlxuICogQHJldHVybiB7UElYSS5Qb2ludH0gVGhlIHVwZGF0ZWQgcG9pbnQuXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldEdsb2JhbFBvc2l0aW9uID0gZnVuY3Rpb24gZ2V0R2xvYmFsUG9zaXRpb24ocG9pbnQsIHNraXBVcGRhdGUpIHtcbiAgICBpZiAocG9pbnQgPT09IHZvaWQgMCkgeyBwb2ludCA9IG5ldyBQb2ludCgpOyB9XG4gICAgaWYgKHNraXBVcGRhdGUgPT09IHZvaWQgMCkgeyBza2lwVXBkYXRlID0gZmFsc2U7IH1cbiAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQudG9HbG9iYWwodGhpcy5wb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcG9pbnQueCA9IHRoaXMucG9zaXRpb24ueDtcbiAgICAgICAgcG9pbnQueSA9IHRoaXMucG9zaXRpb24ueTtcbiAgICB9XG4gICAgcmV0dXJuIHBvaW50O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peGluLWdldC1nbG9iYWwtcG9zaXRpb24uZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21lc2gtZXh0cmFzIC0gdjUuMy4zXG4gKiBDb21waWxlZCBUdWUsIDA0IEF1ZyAyMDIwIDE2OjIzOjA5IFVUQ1xuICpcbiAqIEBwaXhpL21lc2gtZXh0cmFzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgTWVzaEdlb21ldHJ5LCBNZXNoTWF0ZXJpYWwsIE1lc2ggfSBmcm9tICdAcGl4aS9tZXNoJztcbmltcG9ydCB7IFdSQVBfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIFBsYW5lR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBsYW5lR2VvbWV0cnksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUGxhbmVHZW9tZXRyeSh3aWR0aCwgaGVpZ2h0LCBzZWdXaWR0aCwgc2VnSGVpZ2h0KSB7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7IHdpZHRoID0gMTAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAxMDA7IH1cbiAgICAgICAgaWYgKHNlZ1dpZHRoID09PSB2b2lkIDApIHsgc2VnV2lkdGggPSAxMDsgfVxuICAgICAgICBpZiAoc2VnSGVpZ2h0ID09PSB2b2lkIDApIHsgc2VnSGVpZ2h0ID0gMTA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2VnV2lkdGggPSBzZWdXaWR0aDtcbiAgICAgICAgX3RoaXMuc2VnSGVpZ2h0ID0gc2VnSGVpZ2h0O1xuICAgICAgICBfdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBfdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIF90aGlzLmJ1aWxkKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIHBsYW5lIGNvb3JkaW5hdGVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbGFuZUdlb21ldHJ5LnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRvdGFsID0gdGhpcy5zZWdXaWR0aCAqIHRoaXMuc2VnSGVpZ2h0O1xuICAgICAgICB2YXIgdmVydHMgPSBbXTtcbiAgICAgICAgdmFyIHV2cyA9IFtdO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IFtdO1xuICAgICAgICB2YXIgc2VnbWVudHNYID0gdGhpcy5zZWdXaWR0aCAtIDE7XG4gICAgICAgIHZhciBzZWdtZW50c1kgPSB0aGlzLnNlZ0hlaWdodCAtIDE7XG4gICAgICAgIHZhciBzaXplWCA9ICh0aGlzLndpZHRoKSAvIHNlZ21lbnRzWDtcbiAgICAgICAgdmFyIHNpemVZID0gKHRoaXMuaGVpZ2h0KSAvIHNlZ21lbnRzWTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgeCA9IChpICUgdGhpcy5zZWdXaWR0aCk7XG4gICAgICAgICAgICB2YXIgeSA9ICgoaSAvIHRoaXMuc2VnV2lkdGgpIHwgMCk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHggKiBzaXplWCwgeSAqIHNpemVZKTtcbiAgICAgICAgICAgIHV2cy5wdXNoKHggLyBzZWdtZW50c1gsIHkgLyBzZWdtZW50c1kpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0b3RhbFN1YiA9IHNlZ21lbnRzWCAqIHNlZ21lbnRzWTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbFN1YjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgeHBvcyA9IGkgJSBzZWdtZW50c1g7XG4gICAgICAgICAgICB2YXIgeXBvcyA9IChpIC8gc2VnbWVudHNYKSB8IDA7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSAoeXBvcyAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcztcbiAgICAgICAgICAgIHZhciB2YWx1ZTIgPSAoeXBvcyAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcyArIDE7XG4gICAgICAgICAgICB2YXIgdmFsdWUzID0gKCh5cG9zICsgMSkgKiB0aGlzLnNlZ1dpZHRoKSArIHhwb3M7XG4gICAgICAgICAgICB2YXIgdmFsdWU0ID0gKCh5cG9zICsgMSkgKiB0aGlzLnNlZ1dpZHRoKSArIHhwb3MgKyAxO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZhbHVlLCB2YWx1ZTIsIHZhbHVlMywgdmFsdWUyLCB2YWx1ZTQsIHZhbHVlMyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWZmZXJzWzBdLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRzKTtcbiAgICAgICAgdGhpcy5idWZmZXJzWzFdLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHV2cyk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIuZGF0YSA9IG5ldyBVaW50MTZBcnJheShpbmRpY2VzKTtcbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlIGNoYW5nZXMgYXJlIHVwbG9hZGVkXG4gICAgICAgIHRoaXMuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5idWZmZXJzWzFdLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFBsYW5lR2VvbWV0cnk7XG59KE1lc2hHZW9tZXRyeSkpO1xuXG4vKipcbiAqIFJvcGVHZW9tZXRyeSBhbGxvd3MgeW91IHRvIGRyYXcgYSBnZW9tZXRyeSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW4gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHMuXG4gKlxuICogYGBganNcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICogICAgIHBvaW50cy5wdXNoKG5ldyBQSVhJLlBvaW50KGkgKiA1MCwgMCkpO1xuICogfTtcbiAqIGNvbnN0IHJvcGUgPSBuZXcgUElYSS5Sb3BlR2VvbWV0cnkoMTAwLCBwb2ludHMpO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hHZW9tZXRyeVxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbnZhciBSb3BlR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJvcGVHZW9tZXRyeSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTIwMF0gLSBUaGUgd2lkdGggKGkuZS4sIHRoaWNrbmVzcykgb2YgdGhlIHJvcGUuXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50W119IFtwb2ludHNdIC0gQW4gYXJyYXkgb2Yge0BsaW5rIFBJWEkuUG9pbnR9IG9iamVjdHMgdG8gY29uc3RydWN0IHRoaXMgcm9wZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RleHR1cmVTY2FsZT0wXSAtIEJ5IGRlZmF1bHQgdGhlIHJvcGUgdGV4dHVyZSB3aWxsIGJlIHN0cmV0Y2hlZCB0byBtYXRjaFxuICAgICAqICAgICByb3BlIGxlbmd0aC4gSWYgdGV4dHVyZVNjYWxlIGlzIHBvc2l0aXZlIHRoaXMgdmFsdWUgd2lsbCBiZSB0cmVhdGVkIGFzIGEgc2NhbGluZ1xuICAgICAqICAgICBmYWN0b3IgYW5kIHRoZSB0ZXh0dXJlIHdpbGwgcHJlc2VydmUgaXRzIGFzcGVjdCByYXRpbyBpbnN0ZWFkLiBUbyBjcmVhdGUgYSB0aWxpbmcgcm9wZVxuICAgICAqICAgICBzZXQgYmFzZVRleHR1cmUud3JhcE1vZGUgdG8ge0BsaW5rIFBJWEkuV1JBUF9NT0RFUy5SRVBFQVR9IGFuZCB1c2UgYSBwb3dlciBvZiB0d28gdGV4dHVyZSxcbiAgICAgKiAgICAgdGhlbiBzZXQgdGV4dHVyZVNjYWxlPTEgdG8ga2VlcCB0aGUgb3JpZ2luYWwgdGV4dHVyZSBwaXhlbCBzaXplLlxuICAgICAqICAgICBJbiBvcmRlciB0byByZWR1Y2UgYWxwaGEgY2hhbm5lbCBhcnRpZmFjdHMgcHJvdmlkZSBhIGxhcmdlciB0ZXh0dXJlIGFuZCBkb3duc2FtcGxlIC1cbiAgICAgKiAgICAgaS5lLiBzZXQgdGV4dHVyZVNjYWxlPTAuNSB0byBzY2FsZSBpdCBkb3duIHR3aWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJvcGVHZW9tZXRyeSh3aWR0aCwgcG9pbnRzLCB0ZXh0dXJlU2NhbGUpIHtcbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAyMDA7IH1cbiAgICAgICAgaWYgKHRleHR1cmVTY2FsZSA9PT0gdm9pZCAwKSB7IHRleHR1cmVTY2FsZSA9IDA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCksIG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpLCBuZXcgVWludDE2QXJyYXkoKHBvaW50cy5sZW5ndGggLSAxKSAqIDYpKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgcG9pbnRzIHRoYXQgZGV0ZXJtaW5lIHRoZSByb3BlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnRbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBvaW50cyA9IHBvaW50cztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCAoaS5lLiwgdGhpY2tuZXNzKSBvZiB0aGUgcm9wZS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogUm9wZSB0ZXh0dXJlIHNjYWxlLCBpZiB6ZXJvIHRoZW4gdGhlIHJvcGUgdGV4dHVyZSBpcyBzdHJldGNoZWQuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlU2NhbGUgPSB0ZXh0dXJlU2NhbGU7XG4gICAgICAgIF90aGlzLmJ1aWxkKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJvcGVHZW9tZXRyeS5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIChpLmUuLCB0aGlja25lc3MpIG9mIHRoZSByb3BlLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgUm9wZSBpbmRpY2VzIGFuZCB1dnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFJvcGVHZW9tZXRyeS5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cztcbiAgICAgICAgaWYgKCFwb2ludHMpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB2YXIgdmVydGV4QnVmZmVyID0gdGhpcy5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpO1xuICAgICAgICB2YXIgdXZCdWZmZXIgPSB0aGlzLmdldEJ1ZmZlcignYVRleHR1cmVDb29yZCcpO1xuICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSB0aGlzLmdldEluZGV4KCk7XG4gICAgICAgIC8vIGlmIHRvbyBsaXR0bGUgcG9pbnRzLCBvciB0ZXh0dXJlIGhhc24ndCBnb3QgVVZzIHNldCB5ZXQganVzdCBtb3ZlIG9uLlxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGUgbnVtYmVyIG9mIHBvaW50cyBoYXMgY2hhbmdlZCB3ZSB3aWxsIG5lZWQgdG8gcmVjcmVhdGUgdGhlIGFycmF5YnVmZmVyc1xuICAgICAgICBpZiAodmVydGV4QnVmZmVyLmRhdGEubGVuZ3RoIC8gNCAhPT0gcG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmVydGV4QnVmZmVyLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcbiAgICAgICAgICAgIHV2QnVmZmVyLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLmRhdGEgPSBuZXcgVWludDE2QXJyYXkoKHBvaW50cy5sZW5ndGggLSAxKSAqIDYpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1dnMgPSB1dkJ1ZmZlci5kYXRhO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IGluZGV4QnVmZmVyLmRhdGE7XG4gICAgICAgIHV2c1swXSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IDA7XG4gICAgICAgIHV2c1syXSA9IDA7XG4gICAgICAgIHV2c1szXSA9IDE7XG4gICAgICAgIHZhciBhbW91bnQgPSAwO1xuICAgICAgICB2YXIgcHJldiA9IHBvaW50c1swXTtcbiAgICAgICAgdmFyIHRleHR1cmVXaWR0aCA9IHRoaXMuX3dpZHRoICogdGhpcy50ZXh0dXJlU2NhbGU7XG4gICAgICAgIHZhciB0b3RhbCA9IHBvaW50cy5sZW5ndGg7IC8vIC0gMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICAvLyB0aW1lIHRvIGRvIHNvbWUgc21hcnQgZHJhd2luZyFcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiA0O1xuICAgICAgICAgICAgaWYgKHRoaXMudGV4dHVyZVNjYWxlID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBwaXhlbCBkaXN0YW5jZSBmcm9tIHByZXZpb3VzIHBvaW50XG4gICAgICAgICAgICAgICAgdmFyIGR4ID0gcHJldi54IC0gcG9pbnRzW2ldLng7XG4gICAgICAgICAgICAgICAgdmFyIGR5ID0gcHJldi55IC0gcG9pbnRzW2ldLnk7XG4gICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KChkeCAqIGR4KSArIChkeSAqIGR5KSk7XG4gICAgICAgICAgICAgICAgcHJldiA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgICAgICBhbW91bnQgKz0gZGlzdGFuY2UgLyB0ZXh0dXJlV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzdHJldGNoIHRleHR1cmVcbiAgICAgICAgICAgICAgICBhbW91bnQgPSBpIC8gKHRvdGFsIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1dnNbaW5kZXhdID0gYW1vdW50O1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgMV0gPSAwO1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgMl0gPSBhbW91bnQ7XG4gICAgICAgICAgICB1dnNbaW5kZXggKyAzXSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4Q291bnQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogMjtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4O1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAyO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAyO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAzO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBjaGFuZ2VzIGFyZSB1cGxvYWRlZFxuICAgICAgICB1dkJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgaW5kZXhCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgIHRoaXMudXBkYXRlVmVydGljZXMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJlZnJlc2hlcyB2ZXJ0aWNlcyBvZiBSb3BlIG1lc2hcbiAgICAgKi9cbiAgICBSb3BlR2VvbWV0cnkucHJvdG90eXBlLnVwZGF0ZVZlcnRpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHM7XG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXN0UG9pbnQgPSBwb2ludHNbMF07XG4gICAgICAgIHZhciBuZXh0UG9pbnQ7XG4gICAgICAgIHZhciBwZXJwWCA9IDA7XG4gICAgICAgIHZhciBwZXJwWSA9IDA7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMuYnVmZmVyc1swXS5kYXRhO1xuICAgICAgICB2YXIgdG90YWwgPSBwb2ludHMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiA0O1xuICAgICAgICAgICAgaWYgKGkgPCBwb2ludHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIG5leHRQb2ludCA9IHBvaW50c1tpICsgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXh0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBlcnBZID0gLShuZXh0UG9pbnQueCAtIGxhc3RQb2ludC54KTtcbiAgICAgICAgICAgIHBlcnBYID0gbmV4dFBvaW50LnkgLSBsYXN0UG9pbnQueTtcbiAgICAgICAgICAgIHZhciBwZXJwTGVuZ3RoID0gTWF0aC5zcXJ0KChwZXJwWCAqIHBlcnBYKSArIChwZXJwWSAqIHBlcnBZKSk7XG4gICAgICAgICAgICB2YXIgbnVtID0gdGhpcy50ZXh0dXJlU2NhbGUgPiAwID8gdGhpcy50ZXh0dXJlU2NhbGUgKiB0aGlzLl93aWR0aCAvIDIgOiB0aGlzLl93aWR0aCAvIDI7XG4gICAgICAgICAgICBwZXJwWCAvPSBwZXJwTGVuZ3RoO1xuICAgICAgICAgICAgcGVycFkgLz0gcGVycExlbmd0aDtcbiAgICAgICAgICAgIHBlcnBYICo9IG51bTtcbiAgICAgICAgICAgIHBlcnBZICo9IG51bTtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4XSA9IHBvaW50LnggKyBwZXJwWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgMV0gPSBwb2ludC55ICsgcGVycFk7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDJdID0gcG9pbnQueCAtIHBlcnBYO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAzXSA9IHBvaW50LnkgLSBwZXJwWTtcbiAgICAgICAgICAgIGxhc3RQb2ludCA9IHBvaW50O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICB9O1xuICAgIFJvcGVHZW9tZXRyeS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy50ZXh0dXJlU2NhbGUgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmJ1aWxkKCk7IC8vIHdlIG5lZWQgdG8gdXBkYXRlIFVWc1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNlcygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUm9wZUdlb21ldHJ5O1xufShNZXNoR2VvbWV0cnkpKTtcblxuLyoqXG4gKiBUaGUgcm9wZSBhbGxvd3MgeW91IHRvIGRyYXcgYSB0ZXh0dXJlIGFjcm9zcyBzZXZlcmFsIHBvaW50cyBhbmQgdGhlbiBtYW5pcHVsYXRlIHRoZXNlIHBvaW50c1xuICpcbiAqYGBganNcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICogICAgIHBvaW50cy5wdXNoKG5ldyBQSVhJLlBvaW50KGkgKiA1MCwgMCkpO1xuICogfTtcbiAqIGxldCByb3BlID0gbmV3IFBJWEkuU2ltcGxlUm9wZShQSVhJLlRleHR1cmUuZnJvbShcInNuYWtlLnBuZ1wiKSwgcG9pbnRzKTtcbiAqICBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuTWVzaFxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbnZhciBTaW1wbGVSb3BlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTaW1wbGVSb3BlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSByb3BlLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludFtdfSBwb2ludHMgLSBBbiBhcnJheSBvZiB7QGxpbmsgUElYSS5Qb2ludH0gb2JqZWN0cyB0byBjb25zdHJ1Y3QgdGhpcyByb3BlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdGV4dHVyZVNjYWxlPTBdIC0gT3B0aW9uYWwuIFBvc2l0aXZlIHZhbHVlcyBzY2FsZSByb3BlIHRleHR1cmVcbiAgICAgKiBrZWVwaW5nIGl0cyBhc3BlY3QgcmF0aW8uIFlvdSBjYW4gcmVkdWNlIGFscGhhIGNoYW5uZWwgYXJ0aWZhY3RzIGJ5IHByb3ZpZGluZyBhIGxhcmdlciB0ZXh0dXJlXG4gICAgICogYW5kIGRvd25zYW1wbGluZyBoZXJlLiBJZiBzZXQgdG8gemVybywgdGV4dHVyZSB3aWxsIGJlIHN0cmVjaGVkIGluc3RlYWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2ltcGxlUm9wZSh0ZXh0dXJlLCBwb2ludHMsIHRleHR1cmVTY2FsZSkge1xuICAgICAgICBpZiAodGV4dHVyZVNjYWxlID09PSB2b2lkIDApIHsgdGV4dHVyZVNjYWxlID0gMDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcm9wZUdlb21ldHJ5ID0gbmV3IFJvcGVHZW9tZXRyeSh0ZXh0dXJlLmhlaWdodCwgcG9pbnRzLCB0ZXh0dXJlU2NhbGUpO1xuICAgICAgICB2YXIgbWVzaE1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbCh0ZXh0dXJlKTtcbiAgICAgICAgaWYgKHRleHR1cmVTY2FsZSA+IDApIHtcbiAgICAgICAgICAgIC8vIGF0dGVtcHQgdG8gc2V0IFVWIHdyYXBwaW5nLCB3aWxsIGZhaWwgb24gbm9uLXBvd2VyIG9mIHR3byB0ZXh0dXJlc1xuICAgICAgICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS53cmFwTW9kZSA9IFdSQVBfTU9ERVMuUkVQRUFUO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcm9wZUdlb21ldHJ5LCBtZXNoTWF0ZXJpYWwpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZS1jYWxjdWxhdGUgdmVydGljZXMgYnkgcm9wZSBwb2ludHMgZWFjaCBmcmFtZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2ltcGxlUm9wZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlIHx8IGdlb21ldHJ5Ll93aWR0aCAhPT0gdGhpcy5zaGFkZXIudGV4dHVyZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIGdlb21ldHJ5Ll93aWR0aCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgZ2VvbWV0cnkudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fcmVuZGVyLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbXBsZVJvcGU7XG59KE1lc2gpKTtcblxuLyoqXG4gKiBUaGUgU2ltcGxlUGxhbmUgYWxsb3dzIHlvdSB0byBkcmF3IGEgdGV4dHVyZSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW4gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHNcbiAqXG4gKmBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBsZXQgU2ltcGxlUGxhbmUgPSBuZXcgUElYSS5TaW1wbGVQbGFuZShQSVhJLlRleHR1cmUuZnJvbShcInNuYWtlLnBuZ1wiKSwgcG9pbnRzKTtcbiAqICBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuTWVzaFxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbnZhciBTaW1wbGVQbGFuZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2ltcGxlUGxhbmUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIFNpbXBsZVBsYW5lLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2ZXJ0aWNlc1ggLSBUaGUgbnVtYmVyIG9mIHZlcnRpY2VzIGluIHRoZSB4LWF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmVydGljZXNZIC0gVGhlIG51bWJlciBvZiB2ZXJ0aWNlcyBpbiB0aGUgeS1heGlzXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2ltcGxlUGxhbmUodGV4dHVyZSwgdmVydGljZXNYLCB2ZXJ0aWNlc1kpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHBsYW5lR2VvbWV0cnkgPSBuZXcgUGxhbmVHZW9tZXRyeSh0ZXh0dXJlLndpZHRoLCB0ZXh0dXJlLmhlaWdodCwgdmVydGljZXNYLCB2ZXJ0aWNlc1kpO1xuICAgICAgICB2YXIgbWVzaE1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbChUZXh0dXJlLldISVRFKTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwbGFuZUdlb21ldHJ5LCBtZXNoTWF0ZXJpYWwpIHx8IHRoaXM7XG4gICAgICAgIC8vIGxldHMgY2FsbCB0aGUgc2V0dGVyIHRvIGVuc3VyZSBhbGwgbmVjZXNzYXJ5IHVwZGF0ZXMgYXJlIHBlcmZvcm1lZFxuICAgICAgICBfdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCBmb3Igb3ZlcnJpZGVzLCB0byBkbyBzb21ldGhpbmcgaW4gY2FzZSB0ZXh0dXJlIGZyYW1lIHdhcyBjaGFuZ2VkLlxuICAgICAqIE1lc2hlcyBiYXNlZCBvbiBwbGFuZSBjYW4gb3ZlcnJpZGUgaXQgYW5kIGNoYW5nZSBtb3JlIGRldGFpbHMgYmFzZWQgb24gdGV4dHVyZS5cbiAgICAgKi9cbiAgICBTaW1wbGVQbGFuZS5wcm90b3R5cGUudGV4dHVyZVVwZGF0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuX3VwZGF0ZUlEO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgICAgICBnZW9tZXRyeS53aWR0aCA9IHRoaXMuc2hhZGVyLnRleHR1cmUud2lkdGg7XG4gICAgICAgIGdlb21ldHJ5LmhlaWdodCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuaGVpZ2h0O1xuICAgICAgICBnZW9tZXRyeS5idWlsZCgpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNpbXBsZVBsYW5lLnByb3RvdHlwZSwgXCJ0ZXh0dXJlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIudGV4dHVyZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIC8vIFRyYWNrIHRleHR1cmUgc2FtZSB3YXkgc3ByaXRlIGRvZXMuXG4gICAgICAgICAgICAvLyBGb3IgZ2VuZXJhdGVkIG1lc2hlcyBsaWtlIE5pbmVTbGljZVBsYW5lIGl0IGNhbiBjaGFuZ2UgdGhlIGdlb21ldHJ5LlxuICAgICAgICAgICAgLy8gVW5mb3J0dW5hdGVseSwgdGhpcyBtZXRob2QgbWlnaHQgbm90IHdvcmsgaWYgeW91IGRpcmVjdGx5IGNoYW5nZSB0ZXh0dXJlIGluIG1hdGVyaWFsLlxuICAgICAgICAgICAgaWYgKHRoaXMuc2hhZGVyLnRleHR1cmUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zaGFkZXIudGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgICAgICBpZiAodmFsdWUuYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVVcGRhdGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5vbmNlKCd1cGRhdGUnLCB0aGlzLnRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFNpbXBsZVBsYW5lLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLl90ZXh0dXJlSUQgIT09IHRoaXMuc2hhZGVyLnRleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVVcGRhdGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fcmVuZGVyLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbXBsZVBsYW5lO1xufShNZXNoKSk7XG5cbi8qKlxuICogVGhlIFNpbXBsZSBNZXNoIGNsYXNzIG1pbWljcyBNZXNoIGluIFBpeGlKUyB2NCwgcHJvdmlkaW5nIGVhc3ktdG8tdXNlIGNvbnN0cnVjdG9yIGFyZ3VtZW50cy5cbiAqIEZvciBtb3JlIHJvYnVzdCBjdXN0b21pemF0aW9uLCB1c2Uge0BsaW5rIFBJWEkuTWVzaH0uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTaW1wbGVNZXNoID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTaW1wbGVNZXNoLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbdGV4dHVyZT1UZXh0dXJlLkVNUFRZXSAtIFRoZSB0ZXh0dXJlIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbdmVydGljZXNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgdmVydGljZXNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW3V2c10gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSB1dnNcbiAgICAgKiBAcGFyYW0ge1VpbnQxNkFycmF5fSBbaW5kaWNlc10gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSBpbmRpY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkcmF3TW9kZV0gLSB0aGUgZHJhd01vZGUsIGNhbiBiZSBhbnkgb2YgdGhlIE1lc2guRFJBV19NT0RFUyBjb25zdHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTaW1wbGVNZXNoKHRleHR1cmUsIHZlcnRpY2VzLCB1dnMsIGluZGljZXMsIGRyYXdNb2RlKSB7XG4gICAgICAgIGlmICh0ZXh0dXJlID09PSB2b2lkIDApIHsgdGV4dHVyZSA9IFRleHR1cmUuRU1QVFk7IH1cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gbmV3IE1lc2hHZW9tZXRyeSh2ZXJ0aWNlcywgdXZzLCBpbmRpY2VzKTtcbiAgICAgICAgZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5zdGF0aWMgPSBmYWxzZTtcbiAgICAgICAgdmFyIG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwodGV4dHVyZSk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZ2VvbWV0cnksIG1lc2hNYXRlcmlhbCwgbnVsbCwgZHJhd01vZGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1cGxvYWQgdmVydGljZXMgYnVmZmVyIGVhY2ggZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9VcGRhdGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTaW1wbGVNZXNoLnByb3RvdHlwZSwgXCJ2ZXJ0aWNlc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIHZlcnRpY2VzIGRhdGEuXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFNpbXBsZU1lc2gucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIHJldHVybiBTaW1wbGVNZXNoO1xufShNZXNoKSk7XG5cbnZhciBERUZBVUxUX0JPUkRFUl9TSVpFID0gMTA7XG4vKipcbiAqIFRoZSBOaW5lU2xpY2VQbGFuZSBhbGxvd3MgeW91IHRvIHN0cmV0Y2ggYSB0ZXh0dXJlIHVzaW5nIDktc2xpY2Ugc2NhbGluZy4gVGhlIGNvcm5lcnMgd2lsbCByZW1haW4gdW5zY2FsZWQgKHVzZWZ1bFxuICogZm9yIGJ1dHRvbnMgd2l0aCByb3VuZGVkIGNvcm5lcnMgZm9yIGV4YW1wbGUpIGFuZCB0aGUgb3RoZXIgYXJlYXMgd2lsbCBiZSBzY2FsZWQgaG9yaXpvbnRhbGx5IGFuZCBvciB2ZXJ0aWNhbGx5XG4gKlxuICpgYGBqc1xuICogbGV0IFBsYW5lOSA9IG5ldyBQSVhJLk5pbmVTbGljZVBsYW5lKFBJWEkuVGV4dHVyZS5mcm9tKCdCb3hXaXRoUm91bmRlZENvcm5lcnMucG5nJyksIDE1LCAxNSwgMTUsIDE1KTtcbiAqICBgYGBcbiAqIDxwcmU+XG4gKiAgICAgIEEgICAgICAgICAgICAgICAgICAgICAgICAgIEJcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgQyB8IDEgfCAgICAgICAgICAyICAgICAgICAgICB8IDMgfFxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICAgIHwgICB8ICAgICAgICAgICAgICAgICAgICAgIHwgICB8XG4gKiAgICB8IDQgfCAgICAgICAgICA1ICAgICAgICAgICB8IDYgfFxuICogICAgfCAgIHwgICAgICAgICAgICAgICAgICAgICAgfCAgIHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgRCB8IDcgfCAgICAgICAgICA4ICAgICAgICAgICB8IDkgfFxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcblxuICogIFdoZW4gY2hhbmdpbmcgdGhpcyBvYmplY3RzIHdpZHRoIGFuZC9vciBoZWlnaHQ6XG4gKiAgICAgYXJlYXMgMSAzIDcgYW5kIDkgd2lsbCByZW1haW4gdW5zY2FsZWQuXG4gKiAgICAgYXJlYXMgMiBhbmQgOCB3aWxsIGJlIHN0cmV0Y2hlZCBob3Jpem9udGFsbHlcbiAqICAgICBhcmVhcyA0IGFuZCA2IHdpbGwgYmUgc3RyZXRjaGVkIHZlcnRpY2FsbHlcbiAqICAgICBhcmVhIDUgd2lsbCBiZSBzdHJldGNoZWQgYm90aCBob3Jpem9udGFsbHkgYW5kIHZlcnRpY2FsbHlcbiAqIDwvcHJlPlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TaW1wbGVQbGFuZVxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbnZhciBOaW5lU2xpY2VQbGFuZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTmluZVNsaWNlUGxhbmUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIE5pbmVTbGljZVBsYW5lLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVmdFdpZHRoPTEwXSAtIHNpemUgb2YgdGhlIGxlZnQgdmVydGljYWwgYmFyIChBKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdG9wSGVpZ2h0PTEwXSAtIHNpemUgb2YgdGhlIHRvcCBob3Jpem9udGFsIGJhciAoQylcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JpZ2h0V2lkdGg9MTBdIC0gc2l6ZSBvZiB0aGUgcmlnaHQgdmVydGljYWwgYmFyIChCKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYm90dG9tSGVpZ2h0PTEwXSAtIHNpemUgb2YgdGhlIGJvdHRvbSBob3Jpem9udGFsIGJhciAoRClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOaW5lU2xpY2VQbGFuZSh0ZXh0dXJlLCBsZWZ0V2lkdGgsIHRvcEhlaWdodCwgcmlnaHRXaWR0aCwgYm90dG9tSGVpZ2h0KSB7XG4gICAgICAgIGlmIChsZWZ0V2lkdGggPT09IHZvaWQgMCkgeyBsZWZ0V2lkdGggPSBERUZBVUxUX0JPUkRFUl9TSVpFOyB9XG4gICAgICAgIGlmICh0b3BIZWlnaHQgPT09IHZvaWQgMCkgeyB0b3BIZWlnaHQgPSBERUZBVUxUX0JPUkRFUl9TSVpFOyB9XG4gICAgICAgIGlmIChyaWdodFdpZHRoID09PSB2b2lkIDApIHsgcmlnaHRXaWR0aCA9IERFRkFVTFRfQk9SREVSX1NJWkU7IH1cbiAgICAgICAgaWYgKGJvdHRvbUhlaWdodCA9PT0gdm9pZCAwKSB7IGJvdHRvbUhlaWdodCA9IERFRkFVTFRfQk9SREVSX1NJWkU7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgVGV4dHVyZS5XSElURSwgNCwgNCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgX3RoaXMuX29yaWdIZWlnaHQgPSB0ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fd2lkdGggPSBfdGhpcy5fb3JpZ1dpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2hlaWdodCA9IF90aGlzLl9vcmlnSGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBsZWZ0IGNvbHVtbiAoYSlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xlZnRXaWR0aCA9IGxlZnRXaWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcmlnaHQgY29sdW1uIChiKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcmlnaHRXaWR0aCA9IHJpZ2h0V2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0b3Agcm93IChjKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdG9wSGVpZ2h0ID0gdG9wSGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgYm90dG9tIHJvdyAoZClcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JvdHRvbUhlaWdodCA9IGJvdHRvbUhlaWdodDtcbiAgICAgICAgLy8gbGV0cyBjYWxsIHRoZSBzZXR0ZXIgdG8gZW5zdXJlIGFsbCBuZWNlc3NhcnkgdXBkYXRlcyBhcmUgcGVyZm9ybWVkXG4gICAgICAgIF90aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS50ZXh0dXJlVXBkYXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwidmVydGljZXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBob3Jpem9udGFsIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICovXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLnVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fZ2V0TWluU2NhbGUoKTtcbiAgICAgICAgdmVydGljZXNbOV0gPSB2ZXJ0aWNlc1sxMV0gPSB2ZXJ0aWNlc1sxM10gPSB2ZXJ0aWNlc1sxNV0gPSB0aGlzLl90b3BIZWlnaHQgKiBzY2FsZTtcbiAgICAgICAgdmVydGljZXNbMTddID0gdmVydGljZXNbMTldID0gdmVydGljZXNbMjFdID0gdmVydGljZXNbMjNdID0gdGhpcy5faGVpZ2h0IC0gKHRoaXMuX2JvdHRvbUhlaWdodCAqIHNjYWxlKTtcbiAgICAgICAgdmVydGljZXNbMjVdID0gdmVydGljZXNbMjddID0gdmVydGljZXNbMjldID0gdmVydGljZXNbMzFdID0gdGhpcy5faGVpZ2h0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdmVydGljYWwgdmVydGljZXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUudXBkYXRlVmVydGljYWxWZXJ0aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fZ2V0TWluU2NhbGUoKTtcbiAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1sxMF0gPSB2ZXJ0aWNlc1sxOF0gPSB2ZXJ0aWNlc1syNl0gPSB0aGlzLl9sZWZ0V2lkdGggKiBzY2FsZTtcbiAgICAgICAgdmVydGljZXNbNF0gPSB2ZXJ0aWNlc1sxMl0gPSB2ZXJ0aWNlc1syMF0gPSB2ZXJ0aWNlc1syOF0gPSB0aGlzLl93aWR0aCAtICh0aGlzLl9yaWdodFdpZHRoICogc2NhbGUpO1xuICAgICAgICB2ZXJ0aWNlc1s2XSA9IHZlcnRpY2VzWzE0XSA9IHZlcnRpY2VzWzIyXSA9IHZlcnRpY2VzWzMwXSA9IHRoaXMuX3dpZHRoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc21hbGxlciBvZiBhIHNldCBvZiB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FsZSBvZiBuaW5lIHNsaWNlIGNvcm5lcnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFNtYWxsZXIgbnVtYmVyIG9mIHZlcnRpY2FsIGFuZCBob3Jpem9udGFsIHNjYWxlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLl9nZXRNaW5TY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHcgPSB0aGlzLl9sZWZ0V2lkdGggKyB0aGlzLl9yaWdodFdpZHRoO1xuICAgICAgICB2YXIgc2NhbGVXID0gdGhpcy5fd2lkdGggPiB3ID8gMS4wIDogdGhpcy5fd2lkdGggLyB3O1xuICAgICAgICB2YXIgaCA9IHRoaXMuX3RvcEhlaWdodCArIHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICAgICAgdmFyIHNjYWxlSCA9IHRoaXMuX2hlaWdodCA+IGggPyAxLjAgOiB0aGlzLl9oZWlnaHQgLyBoO1xuICAgICAgICB2YXIgc2NhbGUgPSBNYXRoLm1pbihzY2FsZVcsIHNjYWxlSCk7XG4gICAgICAgIHJldHVybiBzY2FsZTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcImxlZnRXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGxlZnQgY29sdW1uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xlZnRXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2xlZnRXaWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJyaWdodFdpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcmlnaHQgY29sdW1uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9yaWdodFdpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcInRvcEhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0b3Agcm93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RvcEhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RvcEhlaWdodCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJib3R0b21IZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgYm90dG9tIHJvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9ib3R0b21IZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBOaW5lU2xpY2VQbGFuZSBjb29yZHMuIEFsbCBvZiB0aGVtLlxuICAgICAqL1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS5fcmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgIHZhciB1dnMgPSB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV0uZGF0YTtcbiAgICAgICAgdGhpcy5fb3JpZ1dpZHRoID0gdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB0aGlzLl9vcmlnSGVpZ2h0ID0gdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgdmFyIF91dncgPSAxLjAgLyB0aGlzLl9vcmlnV2lkdGg7XG4gICAgICAgIHZhciBfdXZoID0gMS4wIC8gdGhpcy5fb3JpZ0hlaWdodDtcbiAgICAgICAgdXZzWzBdID0gdXZzWzhdID0gdXZzWzE2XSA9IHV2c1syNF0gPSAwO1xuICAgICAgICB1dnNbMV0gPSB1dnNbM10gPSB1dnNbNV0gPSB1dnNbN10gPSAwO1xuICAgICAgICB1dnNbNl0gPSB1dnNbMTRdID0gdXZzWzIyXSA9IHV2c1szMF0gPSAxO1xuICAgICAgICB1dnNbMjVdID0gdXZzWzI3XSA9IHV2c1syOV0gPSB1dnNbMzFdID0gMTtcbiAgICAgICAgdXZzWzJdID0gdXZzWzEwXSA9IHV2c1sxOF0gPSB1dnNbMjZdID0gX3V2dyAqIHRoaXMuX2xlZnRXaWR0aDtcbiAgICAgICAgdXZzWzRdID0gdXZzWzEyXSA9IHV2c1syMF0gPSB1dnNbMjhdID0gMSAtIChfdXZ3ICogdGhpcy5fcmlnaHRXaWR0aCk7XG4gICAgICAgIHV2c1s5XSA9IHV2c1sxMV0gPSB1dnNbMTNdID0gdXZzWzE1XSA9IF91dmggKiB0aGlzLl90b3BIZWlnaHQ7XG4gICAgICAgIHV2c1sxN10gPSB1dnNbMTldID0gdXZzWzIxXSA9IHV2c1syM10gPSAxIC0gKF91dmggKiB0aGlzLl9ib3R0b21IZWlnaHQpO1xuICAgICAgICB0aGlzLnVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2FsVmVydGljZXMoKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5idWZmZXJzWzBdLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV0udXBkYXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gTmluZVNsaWNlUGxhbmU7XG59KFNpbXBsZVBsYW5lKSk7XG5cbmV4cG9ydCB7IE5pbmVTbGljZVBsYW5lLCBQbGFuZUdlb21ldHJ5LCBSb3BlR2VvbWV0cnksIFNpbXBsZU1lc2gsIFNpbXBsZVBsYW5lLCBTaW1wbGVSb3BlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNoLWV4dHJhcy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvc3ByaXRlLWFuaW1hdGVkIC0gdjUuMy4zXG4gKiBDb21waWxlZCBUdWUsIDA0IEF1ZyAyMDIwIDE2OjIzOjA5IFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZS1hbmltYXRlZCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBUaWNrZXIsIFVQREFURV9QUklPUklUWSB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIEFuIEFuaW1hdGVkU3ByaXRlIGlzIGEgc2ltcGxlIHdheSB0byBkaXNwbGF5IGFuIGFuaW1hdGlvbiBkZXBpY3RlZCBieSBhIGxpc3Qgb2YgdGV4dHVyZXMuXG4gKlxuICogYGBganNcbiAqIGxldCBhbGllbkltYWdlcyA9IFtcImltYWdlX3NlcXVlbmNlXzAxLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDIucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wMy5wbmdcIixcImltYWdlX3NlcXVlbmNlXzA0LnBuZ1wiXTtcbiAqIGxldCB0ZXh0dXJlQXJyYXkgPSBbXTtcbiAqXG4gKiBmb3IgKGxldCBpPTA7IGkgPCA0OyBpKyspXG4gKiB7XG4gKiAgICAgIGxldCB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20oYWxpZW5JbWFnZXNbaV0pO1xuICogICAgICB0ZXh0dXJlQXJyYXkucHVzaCh0ZXh0dXJlKTtcbiAqIH07XG4gKlxuICogbGV0IGFuaW1hdGVkU3ByaXRlID0gbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUodGV4dHVyZUFycmF5KTtcbiAqIGBgYFxuICpcbiAqIFRoZSBtb3JlIGVmZmljaWVudCBhbmQgc2ltcGxlciB3YXkgdG8gY3JlYXRlIGFuIGFuaW1hdGVkIHNwcml0ZSBpcyB1c2luZyBhIHtAbGluayBQSVhJLlNwcml0ZXNoZWV0fVxuICogY29udGFpbmluZyB0aGUgYW5pbWF0aW9uIGRlZmluaXRpb25zOlxuICpcbiAqIGBgYGpzXG4gKiBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKFwiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIikubG9hZChzZXR1cCk7XG4gKlxuICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gKiAgIGxldCBzaGVldCA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbXCJhc3NldHMvc3ByaXRlc2hlZXQuanNvblwiXS5zcHJpdGVzaGVldDtcbiAqICAgYW5pbWF0ZWRTcHJpdGUgPSBuZXcgUElYSS5BbmltYXRlZFNwcml0ZShzaGVldC5hbmltYXRpb25zW1wiaW1hZ2Vfc2VxdWVuY2VcIl0pO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TcHJpdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBbmltYXRlZFNwcml0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQW5pbWF0ZWRTcHJpdGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmVbXXxQSVhJLkFuaW1hdGVkU3ByaXRlLkZyYW1lT2JqZWN0W119IHRleHR1cmVzIC0gQW4gYXJyYXkgb2Yge0BsaW5rIFBJWEkuVGV4dHVyZX0gb3IgZnJhbWVcbiAgICAgKiAgb2JqZWN0cyB0aGF0IG1ha2UgdXAgdGhlIGFuaW1hdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvVXBkYXRlPXRydWVdIC0gV2hldGhlciB0byB1c2UgUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzLCBhdXRvVXBkYXRlKSB7XG4gICAgICAgIGlmIChhdXRvVXBkYXRlID09PSB2b2lkIDApIHsgYXV0b1VwZGF0ZSA9IHRydWU7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdGV4dHVyZXNbMF0gaW5zdGFuY2VvZiBUZXh0dXJlID8gdGV4dHVyZXNbMF0gOiB0ZXh0dXJlc1swXS50ZXh0dXJlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge1BJWEkuVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHR1cmVzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9kdXJhdGlvbnMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIHVzZXMgUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2F1dG9VcGRhdGUgPSBhdXRvVXBkYXRlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoZSBpbnN0YW5jZSBpcyBjdXJyZW50bHkgY29ubmVjdGVkIHRvIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNwZWVkIHRoYXQgdGhlIEFuaW1hdGVkU3ByaXRlIHdpbGwgcGxheSBhdC4gSGlnaGVyIGlzIGZhc3RlciwgbG93ZXIgaXMgc2xvd2VyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuaW1hdGlvblNwZWVkID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSBhbmltYXRlIHNwcml0ZSByZXBlYXRzIGFmdGVyIHBsYXlpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxvb3AgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIGFuY2hvciB0byBbVGV4dHVyZSdzIGRlZmF1bHRBbmNob3Jde0BsaW5rIFBJWEkuVGV4dHVyZSNkZWZhdWx0QW5jaG9yfSB3aGVuIGZyYW1lIGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFVzZWZ1bCB3aXRoIFtzcHJpdGUgc2hlZXQgYW5pbWF0aW9uc117QGxpbmsgUElYSS5TcHJpdGVzaGVldCNhbmltYXRpb25zfSBjcmVhdGVkIHdpdGggdG9vbHMuXG4gICAgICAgICAqIENoYW5naW5nIGFuY2hvciBmb3IgZWFjaCBmcmFtZSBhbGxvd3MgdG8gcGluIHNwcml0ZSBvcmlnaW4gdG8gY2VydGFpbiBtb3ZpbmcgZmVhdHVyZVxuICAgICAgICAgKiBvZiB0aGUgZnJhbWUgKGUuZy4gbGVmdCBmb290KS5cbiAgICAgICAgICpcbiAgICAgICAgICogTm90ZTogRW5hYmxpbmcgdGhpcyB3aWxsIG92ZXJyaWRlIGFueSBwcmV2aW91c2x5IHNldCBgYW5jaG9yYCBvbiBlYWNoIGZyYW1lIGNoYW5nZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVwZGF0ZUFuY2hvciA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlci1hc3NpZ25lZCBmdW5jdGlvbiB0byBjYWxsIHdoZW4gYW4gQW5pbWF0ZWRTcHJpdGUgZmluaXNoZXMgcGxheWluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogYW5pbWF0aW9uLm9uQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgLy8gZmluaXNoZWQhXG4gICAgICAgICAqIH07XG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Db21wbGV0ZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VyLWFzc2lnbmVkIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhbiBBbmltYXRlZFNwcml0ZSBjaGFuZ2VzIHdoaWNoIHRleHR1cmUgaXMgYmVpbmcgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGFuaW1hdGlvbi5vbkZyYW1lQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgIC8vIHVwZGF0ZWQhXG4gICAgICAgICAqIH07XG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25GcmFtZUNoYW5nZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VyLWFzc2lnbmVkIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBgbG9vcGAgaXMgdHJ1ZSwgYW5kIGFuIEFuaW1hdGVkU3ByaXRlIGlzIHBsYXllZCBhbmRcbiAgICAgICAgICogbG9vcHMgYXJvdW5kIHRvIHN0YXJ0IGFnYWluLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBhbmltYXRpb24ub25Mb29wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgIC8vIGxvb3BlZCFcbiAgICAgICAgICogfTtcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbkxvb3AgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogRWxhcHNlZCB0aW1lIHNpbmNlIGFuaW1hdGlvbiBoYXMgYmVlbiBzdGFydGVkLCB1c2VkIGludGVybmFsbHkgdG8gZGlzcGxheSBjdXJyZW50IHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9jdXJyZW50VGltZSA9IDA7XG4gICAgICAgIF90aGlzLl9wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSBpbmRleCB0aGF0IHdhcyBkaXNwbGF5ZWQgbGFzdCB0aW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wcmV2aW91c0ZyYW1lID0gbnVsbDtcbiAgICAgICAgX3RoaXMudGV4dHVyZXMgPSB0ZXh0dXJlcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wbGF5aW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcGxheWluZyA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fYXV0b1VwZGF0ZSAmJiB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBsYXlzIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fcGxheWluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3BsYXlpbmcgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fYXV0b1VwZGF0ZSAmJiAhdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMsIFVQREFURV9QUklPUklUWS5ISUdIKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUgYW5kIGdvZXMgdG8gYSBzcGVjaWZpYyBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcmFtZU51bWJlciAtIEZyYW1lIGluZGV4IHRvIHN0b3AgYXQuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmdvdG9BbmRTdG9wID0gZnVuY3Rpb24gKGZyYW1lTnVtYmVyKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB2YXIgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IGZyYW1lTnVtYmVyO1xuICAgICAgICBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHb2VzIHRvIGEgc3BlY2lmaWMgZnJhbWUgYW5kIGJlZ2lucyBwbGF5aW5nIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcmFtZU51bWJlciAtIEZyYW1lIGluZGV4IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5nb3RvQW5kUGxheSA9IGZ1bmN0aW9uIChmcmFtZU51bWJlcikge1xuICAgICAgICB2YXIgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IGZyYW1lTnVtYmVyO1xuICAgICAgICBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIFRpbWUgc2luY2UgbGFzdCB0aWNrLlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGVsdGFUaW1lKSB7XG4gICAgICAgIHZhciBlbGFwc2VkID0gdGhpcy5hbmltYXRpb25TcGVlZCAqIGRlbHRhVGltZTtcbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcbiAgICAgICAgaWYgKHRoaXMuX2R1cmF0aW9ucyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxhZyA9IHRoaXMuX2N1cnJlbnRUaW1lICUgMSAqIHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgICAgICBsYWcgKz0gZWxhcHNlZCAvIDYwICogMTAwMDtcbiAgICAgICAgICAgIHdoaWxlIChsYWcgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUtLTtcbiAgICAgICAgICAgICAgICBsYWcgKz0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzaWduID0gTWF0aC5zaWduKHRoaXMuYW5pbWF0aW9uU3BlZWQgKiBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBNYXRoLmZsb29yKHRoaXMuX2N1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIHdoaWxlIChsYWcgPj0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSkge1xuICAgICAgICAgICAgICAgIGxhZyAtPSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdICogc2lnbjtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBzaWduO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gbGFnIC8gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IGVsYXBzZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRUaW1lIDwgMCAmJiAhdGhpcy5sb29wKSB7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKDApO1xuICAgICAgICAgICAgaWYgKHRoaXMub25Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2N1cnJlbnRUaW1lID49IHRoaXMuX3RleHR1cmVzLmxlbmd0aCAmJiAhdGhpcy5sb29wKSB7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKHRoaXMuX3RleHR1cmVzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgaWYgKHRoaXMub25Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sb29wICYmIHRoaXMub25Mb29wKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPiAwICYmIHRoaXMuY3VycmVudEZyYW1lIDwgcHJldmlvdXNGcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9vcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmFuaW1hdGlvblNwZWVkIDwgMCAmJiB0aGlzLmN1cnJlbnRGcmFtZSA+IHByZXZpb3VzRnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkxvb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZGlzcGxheWVkIHRleHR1cmUgdG8gbWF0Y2ggdGhlIGN1cnJlbnQgZnJhbWUgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3VycmVudEZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG4gICAgICAgIGlmICh0aGlzLl9wcmV2aW91c0ZyYW1lID09PSBjdXJyZW50RnJhbWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wcmV2aW91c0ZyYW1lID0gY3VycmVudEZyYW1lO1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGhpcy5fdGV4dHVyZXNbY3VycmVudEZyYW1lXTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgICAgICB0aGlzLnV2cyA9IHRoaXMuX3RleHR1cmUuX3V2cy51dnNGbG9hdDMyO1xuICAgICAgICBpZiAodGhpcy51cGRhdGVBbmNob3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh0aGlzLl90ZXh0dXJlLmRlZmF1bHRBbmNob3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9uRnJhbWVDaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMub25GcmFtZUNoYW5nZSh0aGlzLmN1cnJlbnRGcmFtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZSBhbmQgZGVzdHJveXMgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIElmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbC5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbkZyYW1lQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbkxvb3AgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhbiBBbmltYXRlZFNwcml0ZSBmcm9tIGFuIGFycmF5IG9mIGZyYW1lIGlkcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBmcmFtZXMgLSBUaGUgYXJyYXkgb2YgZnJhbWVzIGlkcyB0aGUgQW5pbWF0ZWRTcHJpdGUgd2lsbCB1c2UgYXMgaXRzIHRleHR1cmUgZnJhbWVzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQW5pbWF0ZWRTcHJpdGV9IFRoZSBuZXcgYW5pbWF0ZWQgc3ByaXRlIHdpdGggdGhlIHNwZWNpZmllZCBmcmFtZXMuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUuZnJvbUZyYW1lcyA9IGZ1bmN0aW9uIChmcmFtZXMpIHtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZnJhbWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKFRleHR1cmUuZnJvbShmcmFtZXNbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYW4gQW5pbWF0ZWRTcHJpdGUgZnJvbSBhbiBhcnJheSBvZiBpbWFnZSBpZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gaW1hZ2VzIC0gVGhlIGFycmF5IG9mIGltYWdlIHVybHMgdGhlIEFuaW1hdGVkU3ByaXRlIHdpbGwgdXNlIGFzIGl0cyB0ZXh0dXJlIGZyYW1lcy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkFuaW1hdGVkU3ByaXRlfSBUaGUgbmV3IGFuaW1hdGUgc3ByaXRlIHdpdGggdGhlIHNwZWNpZmllZCBpbWFnZXMgYXMgZnJhbWVzLlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLmZyb21JbWFnZXMgPSBmdW5jdGlvbiAoaW1hZ2VzKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGV4dHVyZXMucHVzaChUZXh0dXJlLmZyb20oaW1hZ2VzW2ldKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcyk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLCBcInRvdGFsRnJhbWVzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0b3RhbCBudW1iZXIgb2YgZnJhbWVzIGluIHRoZSBBbmltYXRlZFNwcml0ZS4gVGhpcyBpcyB0aGUgc2FtZSBhcyBudW1iZXIgb2YgdGV4dHVyZXNcbiAgICAgICAgICogYXNzaWduZWQgdG8gdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLCBcInRleHR1cmVzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcnJheSBvZiB0ZXh0dXJlcyB1c2VkIGZvciB0aGlzIEFuaW1hdGVkU3ByaXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVbXX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlWzBdIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmVzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmVzID0gW107XG4gICAgICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlcy5wdXNoKHZhbHVlW2ldLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMucHVzaCh2YWx1ZVtpXS50aW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9wcmV2aW91c0ZyYW1lID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AoMCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUsIFwiY3VycmVudEZyYW1lXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICogVGhlIEFuaW1hdGVkU3ByaXRlcyBjdXJyZW50IGZyYW1lIGluZGV4LlxuICAgICAgICAqXG4gICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50RnJhbWUgPSBNYXRoLmZsb29yKHRoaXMuX2N1cnJlbnRUaW1lKSAlIHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChjdXJyZW50RnJhbWUgPCAwKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudEZyYW1lICs9IHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50RnJhbWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLCBcInBsYXlpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBBbmltYXRlZFNwcml0ZSBpcyBjdXJyZW50bHkgcGxheWluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wbGF5aW5nO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZSwgXCJhdXRvVXBkYXRlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdG8gdXNlIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXV0b1VwZGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F1dG9VcGRhdGUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2F1dG9VcGRhdGUgJiYgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fYXV0b1VwZGF0ZSAmJiAhdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciAmJiB0aGlzLl9wbGF5aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIFRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEFuaW1hdGVkU3ByaXRlO1xufShTcHJpdGUpKTtcbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuQW5pbWF0ZWRTcHJpdGVcbiAqIEB0eXBlZGVmIHtvYmplY3R9IEZyYW1lT2JqZWN0XG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUge0BsaW5rIFBJWEkuVGV4dHVyZX0gb2YgdGhlIGZyYW1lXG4gKiBAcHJvcGVydHkge251bWJlcn0gdGltZSAtIHRoZSBkdXJhdGlvbiBvZiB0aGUgZnJhbWUgaW4gbXNcbiAqL1xuXG5leHBvcnQgeyBBbmltYXRlZFNwcml0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlLWFuaW1hdGVkLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBwaXhpLmpzIC0gdjUuMy4zXG4gKiBDb21waWxlZCBUdWUsIDA0IEF1ZyAyMDIwIDE2OjIzOjA5IFVUQ1xuICpcbiAqIHBpeGkuanMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgJ0BwaXhpL3BvbHlmaWxsJztcbmltcG9ydCB7IGRlcHJlY2F0aW9uIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnQHBpeGkvdXRpbHMnO1xuZXhwb3J0IHsgdXRpbHMgfTtcbmltcG9ydCB7IEFjY2Vzc2liaWxpdHlNYW5hZ2VyIH0gZnJvbSAnQHBpeGkvYWNjZXNzaWJpbGl0eSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9hY2Nlc3NpYmlsaXR5JztcbmltcG9ydCB7IEludGVyYWN0aW9uTWFuYWdlciB9IGZyb20gJ0BwaXhpL2ludGVyYWN0aW9uJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2ludGVyYWN0aW9uJztcbmltcG9ydCB7IEFwcGxpY2F0aW9uIH0gZnJvbSAnQHBpeGkvYXBwJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2FwcCc7XG5pbXBvcnQgeyBSZW5kZXJlciwgQmF0Y2hSZW5kZXJlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBFeHRyYWN0IH0gZnJvbSAnQHBpeGkvZXh0cmFjdCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9leHRyYWN0JztcbmltcG9ydCB7IExvYWRlciwgQXBwTG9hZGVyUGx1Z2luIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9sb2FkZXJzJztcbmltcG9ydCB7IFBhcnRpY2xlUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9wYXJ0aWNsZXMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvcGFydGljbGVzJztcbmltcG9ydCB7IFByZXBhcmUgfSBmcm9tICdAcGl4aS9wcmVwYXJlJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3ByZXBhcmUnO1xuaW1wb3J0IHsgU3ByaXRlc2hlZXRMb2FkZXIgfSBmcm9tICdAcGl4aS9zcHJpdGVzaGVldCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGVzaGVldCc7XG5pbXBvcnQgeyBUaWxpbmdTcHJpdGVSZW5kZXJlciB9IGZyb20gJ0BwaXhpL3Nwcml0ZS10aWxpbmcnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlLXRpbGluZyc7XG5pbXBvcnQgeyBCaXRtYXBGb250TG9hZGVyIH0gZnJvbSAnQHBpeGkvdGV4dC1iaXRtYXAnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvdGV4dC1iaXRtYXAnO1xuaW1wb3J0IHsgVGlja2VyUGx1Z2luIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3RpY2tlcic7XG5pbXBvcnQgeyBBbHBoYUZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1hbHBoYSc7XG5pbXBvcnQgeyBCbHVyRmlsdGVyLCBCbHVyRmlsdGVyUGFzcyB9IGZyb20gJ0BwaXhpL2ZpbHRlci1ibHVyJztcbmltcG9ydCB7IENvbG9yTWF0cml4RmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeCc7XG5pbXBvcnQgeyBEaXNwbGFjZW1lbnRGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50JztcbmltcG9ydCB7IEZYQUFGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItZnhhYSc7XG5pbXBvcnQgeyBOb2lzZUZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1ub2lzZSc7XG5pbXBvcnQgJ0BwaXhpL21peGluLWNhY2hlLWFzLWJpdG1hcCc7XG5pbXBvcnQgJ0BwaXhpL21peGluLWdldC1jaGlsZC1ieS1uYW1lJztcbmltcG9ydCAnQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9ncmFwaGljcyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tYXRoJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL21lc2gnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbWVzaC1leHRyYXMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvcnVubmVyJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGUtYW5pbWF0ZWQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvdGV4dCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgdjUgPSAnNS4wLjAnO1xuLyoqXG4gKiBEZXByZWNhdGlvbnMgKGJhY2t3YXJkIGNvbXBhdGliaWxpdGllcykgYXJlIGF1dG9tYXRpY2FsbHkgYXBwbGllZCBmb3IgYnJvd3NlciBidW5kbGVzXG4gKiBpbiB0aGUgVU1EIG1vZHVsZSBmb3JtYXQuIElmIHVzaW5nIFdlYnBhY2sgb3IgUm9sbHVwLCB5b3UnbGwgbmVlZCB0byBhcHBseSB0aGVzZVxuICogZGVwcmVjYXRpb25zIG1hbnVhbGx5IGJ5IGRvaW5nIHNvbWV0aGluZyBsaWtlIHRoaXM6XG4gKiBAZXhhbXBsZVxuICogaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcbiAqIFBJWEkudXNlRGVwcmVjYXRlZCgpOyAvLyBNVVNUIGJlIGJvdW5kIHRvIG5hbWVzcGFjZVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiB1c2VEZXByZWNhdGVkXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5mdW5jdGlvbiB1c2VEZXByZWNhdGVkKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgIHZhciBQSVhJID0gdGhpcztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY29uc3RhbnQge1JlZ0V4cHxzdHJpbmd9IFNWR19TSVpFXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuU1ZHX1NJWkVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFNWR19TSVpFOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMuU1ZHX1NJWkUgcHJvcGVydHkgaGFzIG1vdmVkIHRvIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLlNWR19TSVpFJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU1ZHUmVzb3VyY2UuU1ZHX1NJWkU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuVHJhbnNmb3JtU3RhdGljXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UcmFuc2Zvcm1cbiAgICAgICAgICovXG4gICAgICAgIFRyYW5zZm9ybVN0YXRpYzoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlRyYW5zZm9ybVN0YXRpYyBjbGFzcyBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5UcmFuc2Zvcm0nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UcmFuc2Zvcm07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuVHJhbnNmb3JtQmFzZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuVHJhbnNmb3JtXG4gICAgICAgICAqL1xuICAgICAgICBUcmFuc2Zvcm1CYXNlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuVHJhbnNmb3JtQmFzZSBjbGFzcyBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5UcmFuc2Zvcm0nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UcmFuc2Zvcm07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQ29uc3RhbnRzIHRoYXQgc3BlY2lmeSB0aGUgdHJhbnNmb3JtIHR5cGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFRSQU5TRk9STV9NT0RFXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBlbnVtIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVEFUSUNcbiAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IERZTkFNSUNcbiAgICAgICAgICovXG4gICAgICAgIFRSQU5TRk9STV9NT0RFOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuVFJBTlNGT1JNX01PREUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IFNUQVRJQzogMCwgRFlOQU1JQzogMSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLldlYkdMUmVuZGVyZXJcbiAgICAgICAgICogQHNlZSBQSVhJLlJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBXZWJHTFJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuV2ViR0xSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5SZW5kZXJlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLkNhbnZhc1JlbmRlclRhcmdldFxuICAgICAgICAgKiBAc2VlIFBJWEkudXRpbHMuQ2FudmFzUmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBDYW52YXNSZW5kZXJUYXJnZXQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5DYW52YXNSZW5kZXJUYXJnZXQgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkudXRpbHMuQ2FudmFzUmVuZGVyVGFyZ2V0Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkudXRpbHMuQ2FudmFzUmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBuYW1lIGxvYWRlclxuICAgICAgICAgKiBAdHlwZSB7UElYSS5Mb2FkZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5Mb2FkZXIuc2hhcmVkXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBsb2FkZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXIgaW5zdGFuY2UgaGFzIG1vdmVkIHRvIFBJWEkuTG9hZGVyLnNoYXJlZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkxvYWRlci5zaGFyZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuRmlsdGVyTWFuYWdlclxuICAgICAgICAgKiBAc2VlIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIEZpbHRlck1hbmFnZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5GaWx0ZXJNYW5hZ2VyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWVzcGFjZSBQSVhJLkNhbnZhc1RpbnRlclxuICAgICAgICAgKiBAc2VlIFBJWEkuY2FudmFzVXRpbHNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjBcbiAgICAgICAgICovXG4gICAgICAgIENhbnZhc1RpbnRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4wJywgJ1BJWEkuQ2FudmFzVGludGVyIG5hbWVzcGFjZSBoYXMgbW92ZWQgdG8gUElYSS5jYW52YXNVdGlscycpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLmNhbnZhc1V0aWxzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lc3BhY2UgUElYSS5Hcm91cEQ4XG4gICAgICAgICAqIEBzZWUgUElYSS5ncm91cEQ4XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBHcm91cEQ4OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5Hcm91cEQ4IG5hbWVzcGFjZSBoYXMgbW92ZWQgdG8gUElYSS5ncm91cEQ4Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuZ3JvdXBEODtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLmFjY2Vzc2liaWxpdHlcbiAgICAgKiBAc2VlIFBJWElcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAqL1xuICAgIFBJWEkuYWNjZXNzaWJpbGl0eSA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkuYWNjZXNzaWJpbGl0eSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuQWNjZXNzaWJpbGl0eU1hbmFnZXJcbiAgICAgICAgICovXG4gICAgICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5hY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyIG1vdmVkIHRvIFBJWEkuQWNjZXNzaWJpbGl0eU1hbmFnZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5BY2Nlc3NpYmlsaXR5TWFuYWdlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLmludGVyYWN0aW9uXG4gICAgICogQHNlZSBQSVhJXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgKi9cbiAgICBQSVhJLmludGVyYWN0aW9uID0ge307XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5pbnRlcmFjdGlvbiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICAgICAqIEBzZWUgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXJcbiAgICAgICAgICovXG4gICAgICAgIEludGVyYWN0aW9uTWFuYWdlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyIG1vdmVkIHRvIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqL1xuICAgICAgICBJbnRlcmFjdGlvbkRhdGE6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YSBtb3ZlZCB0byBQSVhJLkludGVyYWN0aW9uRGF0YScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkludGVyYWN0aW9uRGF0YTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICAgICAqIEBzZWUgUElYSS5JbnRlcmFjdGlvbkV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICBJbnRlcmFjdGlvbkV2ZW50OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50IG1vdmVkIHRvIFBJWEkuSW50ZXJhY3Rpb25FdmVudCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkludGVyYWN0aW9uRXZlbnQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5wcmVwYXJlXG4gICAgICogQHNlZSBQSVhJXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjFcbiAgICAgKi9cbiAgICBQSVhJLnByZXBhcmUgPSB7fTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLnByZXBhcmUsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjFcbiAgICAgICAgICogQHNlZSBQSVhJLkJhc2VQcmVwYXJlXG4gICAgICAgICAqL1xuICAgICAgICBCYXNlUHJlcGFyZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4xJywgJ1BJWEkucHJlcGFyZS5CYXNlUHJlcGFyZSBtb3ZlZCB0byBQSVhJLkJhc2VQcmVwYXJlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQmFzZVByZXBhcmU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkucHJlcGFyZS5QcmVwYXJlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4xXG4gICAgICAgICAqIEBzZWUgUElYSS5QcmVwYXJlXG4gICAgICAgICAqL1xuICAgICAgICBQcmVwYXJlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjEnLCAnUElYSS5wcmVwYXJlLlByZXBhcmUgbW92ZWQgdG8gUElYSS5QcmVwYXJlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuUHJlcGFyZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5wcmVwYXJlLkNhbnZhc1ByZXBhcmVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjFcbiAgICAgICAgICogQHNlZSBQSVhJLkNhbnZhc1ByZXBhcmVcbiAgICAgICAgICovXG4gICAgICAgIENhbnZhc1ByZXBhcmU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMScsICdQSVhJLnByZXBhcmUuQ2FudmFzUHJlcGFyZSBtb3ZlZCB0byBQSVhJLkNhbnZhc1ByZXBhcmUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5DYW52YXNQcmVwYXJlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkuZXh0cmFjdFxuICAgICAqIEBzZWUgUElYSVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4xXG4gICAgICovXG4gICAgUElYSS5leHRyYWN0ID0ge307XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5leHRyYWN0LCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYWN0LkV4dHJhY3RcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjFcbiAgICAgICAgICogQHNlZSBQSVhJLkV4dHJhY3RcbiAgICAgICAgICovXG4gICAgICAgIEV4dHJhY3Q6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMScsICdQSVhJLmV4dHJhY3QuRXh0cmFjdCBtb3ZlZCB0byBQSVhJLkV4dHJhY3QnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5FeHRyYWN0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhY3QuQ2FudmFzRXh0cmFjdFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMVxuICAgICAgICAgKiBAc2VlIFBJWEkuQ2FudmFzRXh0cmFjdFxuICAgICAgICAgKi9cbiAgICAgICAgQ2FudmFzRXh0cmFjdDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4xJywgJ1BJWEkuZXh0cmFjdC5DYW52YXNFeHRyYWN0IG1vdmVkIHRvIFBJWEkuQ2FudmFzRXh0cmFjdCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkNhbnZhc0V4dHJhY3Q7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFRoaXMgbmFtZXNwYWNlIGhhcyBiZWVuIHJlbW92ZWQuIEFsbCBjbGFzc2VzIHByZXZpb3VzIG5lc3RlZFxuICAgICAqIHVuZGVyIHRoaXMgbmFtZXNwYWNlIGhhdmUgYmVlbiBtb3ZlZCB0byB0aGUgdG9wLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLmV4dHJhc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS5leHRyYXMgPSB7fTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLmV4dHJhcywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuVGlsaW5nU3ByaXRlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBUaWxpbmdTcHJpdGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlRpbGluZ1Nwcml0ZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRpbGluZ1Nwcml0ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlUmVuZGVyZXJcbiAgICAgICAgICogQHNlZSBQSVhJLlRpbGluZ1Nwcml0ZVJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBUaWxpbmdTcHJpdGVSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGVSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5UaWxpbmdTcHJpdGVSZW5kZXJlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRpbGluZ1Nwcml0ZVJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuQW5pbWF0ZWRTcHJpdGVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIEFuaW1hdGVkU3ByaXRlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkFuaW1hdGVkU3ByaXRlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQW5pbWF0ZWRTcHJpdGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLkJpdG1hcFRleHRcbiAgICAgICAgICogQHNlZSBQSVhJLkJpdG1hcFRleHRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIEJpdG1hcFRleHQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5leHRyYXMuQml0bWFwVGV4dCBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5CaXRtYXBUZXh0Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQml0bWFwVGV4dDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZXRob2QgUElYSS5UaWxpbmdTcHJpdGUuZnJvbUZyYW1lXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgKiBAc2VlIFBJWEkuVGlsaW5nU3ByaXRlLmZyb21cbiAgICAgKi9cbiAgICBQSVhJLlRpbGluZ1Nwcml0ZS5mcm9tRnJhbWUgPSBmdW5jdGlvbiBmcm9tRnJhbWUoZnJhbWVJZCwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnVGlsaW5nU3ByaXRlLmZyb21GcmFtZSBpcyBkZXByZWNhdGVkLCB1c2UgVGlsaW5nU3ByaXRlLmZyb20nKTtcbiAgICAgICAgcmV0dXJuIFBJWEkuVGlsaW5nU3ByaXRlLmZyb20oZnJhbWVJZCwgeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZXRob2QgUElYSS5UaWxpbmdTcHJpdGUuZnJvbUltYWdlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgKiBAc2VlIFBJWEkuVGlsaW5nU3ByaXRlLmZyb21cbiAgICAgKi9cbiAgICBQSVhJLlRpbGluZ1Nwcml0ZS5mcm9tSW1hZ2UgPSBmdW5jdGlvbiBmcm9tSW1hZ2UoaW1hZ2VJZCwgd2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnVGlsaW5nU3ByaXRlLmZyb21JbWFnZSBpcyBkZXByZWNhdGVkLCB1c2UgVGlsaW5nU3ByaXRlLmZyb20nKTtcbiAgICAgICAgLy8gRmFsbGJhY2sgc3VwcG9ydCBmb3IgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSBwYXJhbWV0ZXJzXG4gICAgICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICAgICAgc2NhbGVNb2RlOiBhcmd1bWVudHNbNF0sXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NvcmlnaW46IGFyZ3VtZW50c1szXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLndpZHRoID0gd2lkdGg7XG4gICAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICByZXR1cm4gUElYSS5UaWxpbmdTcHJpdGUuZnJvbShpbWFnZUlkLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkudXRpbHMsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLnV0aWxzLmdldFN2Z1NpemVcbiAgICAgICAgICogQHNlZSBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZS5nZXRTaXplXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBnZXRTdmdTaXplOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMuZ2V0U3ZnU2l6ZSBmdW5jdGlvbiBoYXMgbW92ZWQgdG8gUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuZ2V0U2l6ZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZS5nZXRTaXplO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBbGwgY2xhc3NlcyBvbiB0aGlzIG5hbWVzcGFjZSBoYXZlIG1vdmVkIHRvIHRoZSBoaWdoLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLm1lc2hcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkubWVzaCA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkubWVzaCwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5NZXNoXG4gICAgICAgICAqIEBzZWUgUElYSS5TaW1wbGVNZXNoXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBNZXNoOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5NZXNoIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlNpbXBsZU1lc2gnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TaW1wbGVNZXNoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guTmluZVNsaWNlUGxhbmVcbiAgICAgICAgICogQHNlZSBQSVhJLk5pbmVTbGljZVBsYW5lXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBOaW5lU2xpY2VQbGFuZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guTmluZVNsaWNlUGxhbmUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTmluZVNsaWNlUGxhbmUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5OaW5lU2xpY2VQbGFuZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLlBsYW5lXG4gICAgICAgICAqIEBzZWUgUElYSS5TaW1wbGVQbGFuZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUGxhbmU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLlBsYW5lIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlNpbXBsZVBsYW5lJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU2ltcGxlUGxhbmU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5Sb3BlXG4gICAgICAgICAqIEBzZWUgUElYSS5TaW1wbGVSb3BlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBSb3BlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5Sb3BlIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlNpbXBsZVJvcGUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TaW1wbGVSb3BlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guUmF3TWVzaFxuICAgICAgICAgKiBAc2VlIFBJWEkuTWVzaFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUmF3TWVzaDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guUmF3TWVzaCBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5NZXNoJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTWVzaDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLkNhbnZhc01lc2hSZW5kZXJlclxuICAgICAgICAgKiBAc2VlIFBJWEkuQ2FudmFzTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBDYW52YXNNZXNoUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLkNhbnZhc01lc2hSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5DYW52YXNNZXNoUmVuZGVyZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5DYW52YXNNZXNoUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5NZXNoUmVuZGVyZXJcbiAgICAgICAgICogQHNlZSBQSVhJLk1lc2hSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTWVzaFJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5NZXNoUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTWVzaFJlbmRlcmVyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTWVzaFJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBUaGlzIG5hbWVzcGFjZSBoYXMgYmVlbiByZW1vdmVkIGFuZCBpdGVtcyBoYXZlIGJlZW4gbW92ZWQgdG9cbiAgICAgKiB0aGUgdG9wLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLnBhcnRpY2xlc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS5wYXJ0aWNsZXMgPSB7fTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLnBhcnRpY2xlcywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkucGFydGljbGVzLlBhcnRpY2xlQ29udGFpbmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5QYXJ0aWNsZUNvbnRhaW5lclxuICAgICAgICAgKi9cbiAgICAgICAgUGFydGljbGVDb250YWluZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5wYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuUGFydGljbGVDb250YWluZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5QYXJ0aWNsZUNvbnRhaW5lcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5wYXJ0aWNsZXMuUGFydGljbGVSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuUGFydGljbGVSZW5kZXJlclxuICAgICAgICAgKi9cbiAgICAgICAgUGFydGljbGVSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZVJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlBhcnRpY2xlUmVuZGVyZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5QYXJ0aWNsZVJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBUaGlzIG5hbWVzcGFjZSBoYXMgYmVlbiByZW1vdmVkIGFuZCBpdGVtcyBoYXZlIGJlZW4gbW92ZWQgdG9cbiAgICAgKiB0aGUgdG9wLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLnRpY2tlclxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS50aWNrZXIgPSB7fTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLnRpY2tlciwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkudGlja2VyLlRpY2tlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuVGlja2VyXG4gICAgICAgICAqL1xuICAgICAgICBUaWNrZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS50aWNrZXIuVGlja2VyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlRpY2tlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRpY2tlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLnRpY2tlci5zaGFyZWRcbiAgICAgICAgICogQHR5cGUge1BJWEkuVGlja2VyfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuVGlja2VyLnNoYXJlZFxuICAgICAgICAgKi9cbiAgICAgICAgc2hhcmVkOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudGlja2VyLnNoYXJlZCBpbnN0YW5jZSBoYXMgbW92ZWQgdG8gUElYSS5UaWNrZXIuc2hhcmVkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlja2VyLnNoYXJlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQWxsIGNsYXNzZXMgb24gdGhpcyBuYW1lc3BhY2UgaGF2ZSBtb3ZlZCB0byB0aGUgaGlnaC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5sb2FkZXJzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLmxvYWRlcnMgPSB7fTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLmxvYWRlcnMsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmxvYWRlcnMuTG9hZGVyXG4gICAgICAgICAqIEBzZWUgUElYSS5Mb2FkZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIExvYWRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuTG9hZGVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkxvYWRlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkxvYWRlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5sb2FkZXJzLlJlc291cmNlXG4gICAgICAgICAqIEBzZWUgUElYSS5Mb2FkZXJSZXNvdXJjZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUmVzb3VyY2U6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLlJlc291cmNlIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkxvYWRlclJlc291cmNlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTG9hZGVyUmVzb3VyY2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5iaXRtYXBGb250UGFyc2VyXG4gICAgICAgICAqIEBzZWUgUElYSS5CaXRtYXBGb250TG9hZGVyLnVzZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgYml0bWFwRm9udFBhcnNlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuYml0bWFwRm9udFBhcnNlciBmdW5jdGlvbiBoYXMgbW92ZWQgdG8gUElYSS5CaXRtYXBGb250TG9hZGVyLnVzZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkJpdG1hcEZvbnRMb2FkZXIudXNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMucGFyc2VCaXRtYXBGb250RGF0YVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgcGFyc2VCaXRtYXBGb250RGF0YToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMucGFyc2VCaXRtYXBGb250RGF0YSBmdW5jdGlvbiBoYXMgcmVtb3ZlZCcpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMuc3ByaXRlc2hlZXRQYXJzZXJcbiAgICAgICAgICogQHNlZSBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLnVzZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgc3ByaXRlc2hlZXRQYXJzZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLnNwcml0ZXNoZWV0UGFyc2VyIGZ1bmN0aW9uIGhhcyBtb3ZlZCB0byBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLnVzZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLnVzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLmdldFJlc291cmNlUGF0aFxuICAgICAgICAgKiBAc2VlIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBnZXRSZXNvdXJjZVBhdGg6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLmdldFJlc291cmNlUGF0aCBwcm9wZXJ0eSBoYXMgbW92ZWQgdG8gUElYSS5TcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGgnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMuTG9hZGVyLmFkZFBpeGlNaWRkbGV3YXJlXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5yZWdpc3RlclBsdWdpblxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbWlkZGxld2FyZVxuICAgICAqL1xuICAgIFBJWEkuTG9hZGVyLmFkZFBpeGlNaWRkbGV3YXJlID0gZnVuY3Rpb24gYWRkUGl4aU1pZGRsZXdhcmUobWlkZGxld2FyZSkge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5Mb2FkZXIuYWRkUGl4aU1pZGRsZXdhcmUgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkubG9hZGVycy5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4nKTtcbiAgICAgICAgcmV0dXJuIFBJWEkubG9hZGVycy5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oeyB1c2U6IG1pZGRsZXdhcmUoKSB9KTtcbiAgICB9O1xuICAgIC8vIGNvbnZlbmllbmNlIGZvciBjb252ZXJ0aW5nIGV2ZW50IG5hbWUgdG8gc2lnbmFsIG5hbWVcbiAgICB2YXIgZXZlbnRUb1NpZ25hbCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gXCJvblwiICsgZXZlbnQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBldmVudC5zbGljZSgxKTtcbiAgICB9O1xuICAgIE9iamVjdC5hc3NpZ24oUElYSS5Mb2FkZXIucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2UgdGhlIGNvcnJlc3BvbmRpbmcgc2lnbmFsLCBlLmcuLCBldmVudCBgc3RhcnRgYCBpcyBzaWduYWwgYG9uU3RhcnRgLlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuTG9hZGVyI29uXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBvbjogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgc2lnbmFsID0gZXZlbnRUb1NpZ25hbChldmVudCk7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgXCJQSVhJLkxvYWRlciNvbiBpcyBjb21wbGV0ZWx5IGRlcHJlY2F0ZWQsIHVzZSBQSVhJLkxvYWRlciNcIiArIHNpZ25hbCArIFwiLmFkZFwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZSB0aGUgY29ycmVzcG9uZGluZyBzaWduYWwsIGUuZy4sIGV2ZW50IGBzdGFydGBgIGlzIHNpZ25hbCBgb25TdGFydGAuXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5Mb2FkZXIjb25jZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgb25jZTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgc2lnbmFsID0gZXZlbnRUb1NpZ25hbChldmVudCk7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgXCJQSVhJLkxvYWRlciNvbmNlIGlzIGNvbXBsZXRlbHkgZGVwcmVjYXRlZCwgdXNlIFBJWEkuTG9hZGVyI1wiICsgc2lnbmFsICsgXCIub25jZVwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZSB0aGUgY29ycmVzcG9uZGluZyBzaWduYWwsIGUuZy4sIGV2ZW50IGBzdGFydGBgIGlzIHNpZ25hbCBgb25TdGFydGAuXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5Mb2FkZXIjb2ZmXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBvZmY6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIHNpZ25hbCA9IGV2ZW50VG9TaWduYWwoZXZlbnQpO1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsIFwiUElYSS5Mb2FkZXIjb2ZmIGlzIGNvbXBsZXRlbHkgZGVwcmVjYXRlZCwgdXNlIFBJWEkuTG9hZGVyI1wiICsgc2lnbmFsICsgXCIuZGV0YWNoXCIpO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhY3QuV2ViR0xFeHRyYWN0XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuRXh0cmFjdFxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLmV4dHJhY3QsICdXZWJHTEV4dHJhY3QnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhY3QuV2ViR0xFeHRyYWN0IG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5FeHRyYWN0Jyk7XG4gICAgICAgICAgICByZXR1cm4gUElYSS5FeHRyYWN0O1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBjbGFzcyBQSVhJLnByZXBhcmUuV2ViR0xQcmVwYXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuUHJlcGFyZVxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLnByZXBhcmUsICdXZWJHTFByZXBhcmUnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnByZXBhcmUuV2ViR0xQcmVwYXJlIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlByZXBhcmUnKTtcbiAgICAgICAgICAgIHJldHVybiBQSVhJLlByZXBhcmU7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkNvbnRhaW5lciNfcmVuZGVyV2ViR0xcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkNvbnRhaW5lciNyZW5kZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIEluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUElYSS5Db250YWluZXIucHJvdG90eXBlLl9yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIF9yZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQ29udGFpbmVyLl9yZW5kZXJXZWJHTCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuQ29udGFpbmVyLl9yZW5kZXInKTtcbiAgICAgICAgdGhpcy5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Db250YWluZXIjcmVuZGVyV2ViR0xcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5Db250YWluZXIjcmVuZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBJbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Db250YWluZXIucmVuZGVyV2ViR0wgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLkNvbnRhaW5lci5yZW5kZXInKTtcbiAgICAgICAgdGhpcy5yZW5kZXIocmVuZGVyZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkRpc3BsYXlPYmplY3QjcmVuZGVyV2ViR0xcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5EaXNwbGF5T2JqZWN0I3JlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgSW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQSVhJLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLnJlbmRlcldlYkdMID0gZnVuY3Rpb24gcmVuZGVyV2ViR0wocmVuZGVyZXIpIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkRpc3BsYXlPYmplY3QucmVuZGVyV2ViR0wgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLkRpc3BsYXlPYmplY3QucmVuZGVyJyk7XG4gICAgICAgIHRoaXMucmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Db250YWluZXIjcmVuZGVyQWR2YW5jZWRXZWJHTFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkNvbnRhaW5lciNyZW5kZXJBZHZhbmNlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgSW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQWR2YW5jZWRXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlckFkdmFuY2VkV2ViR0wocmVuZGVyZXIpIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkNvbnRhaW5lci5yZW5kZXJBZHZhbmNlZFdlYkdMIG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5Db250YWluZXIucmVuZGVyQWR2YW5jZWQnKTtcbiAgICAgICAgdGhpcy5yZW5kZXJBZHZhbmNlZChyZW5kZXJlcik7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLnNldHRpbmdzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IHRyYW5zZm9ybSB0eXBlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRSQU5TRk9STV9NT0RFfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlRSQU5TRk9STV9NT0RFLlNUQVRJQ1xuICAgICAgICAgKi9cbiAgICAgICAgVFJBTlNGT1JNX01PREU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5zZXR0aW5ncy5UUkFOU0ZPUk1fTU9ERSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnNldHRpbmdzLlRSQU5TRk9STV9NT0RFIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgdmFyIEJhc2VUZXh0dXJlQW55ID0gUElYSS5CYXNlVGV4dHVyZTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGxvYWRTb3VyY2VcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5CYXNlVGV4dHVyZSNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlQW55LnByb3RvdHlwZS5sb2FkU291cmNlID0gZnVuY3Rpb24gbG9hZFNvdXJjZShpbWFnZSkge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUubG9hZFNvdXJjZSBtZXRob2QgaGFzIGJlZW4gZGVwcmVjYXRlZCcpO1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2UoaW1hZ2UpO1xuICAgICAgICByZXNvdXJjZS5pbnRlcm5hbCA9IHRydWU7XG4gICAgICAgIHRoaXMuc2V0UmVzb3VyY2UocmVzb3VyY2UpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgdmFyIGJhc2VUZXh0dXJlSWREZXByZWNhdGlvbiA9IGZhbHNlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEJhc2VUZXh0dXJlQW55LnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5CYXNlVGV4dHVyZSNoYXNMb2FkZWRcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUjdmFsaWRcbiAgICAgICAgICovXG4gICAgICAgIGhhc0xvYWRlZDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmhhc0xvYWRlZCBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5CYXNlVGV4dHVyZS52YWxpZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbGlkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjaW1hZ2VVcmxcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlI3VybFxuICAgICAgICAgKi9cbiAgICAgICAgaW1hZ2VVcmw6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuaW1hZ2VVcmwgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlIFBJWEkuQmFzZVRleHR1cmUucmVzb3VyY2UudXJsJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMucmVzb3VyY2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51cmw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoaW1hZ2VVcmwpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuaW1hZ2VVcmwgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlIFBJWEkuQmFzZVRleHR1cmUucmVzb3VyY2UudXJsJyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS51cmwgPSBpbWFnZVVybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5CYXNlVGV4dHVyZSNzb3VyY2VcbiAgICAgICAgICogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxTVkdFbGVtZW50fVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHNlZSBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZSNzb3VyY2VcbiAgICAgICAgICovXG4gICAgICAgIHNvdXJjZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLnNvdXJjZSBwcm9wZXJ0eSBoYXMgYmVlbiBtb3ZlZCwgdXNlIGBQSVhJLkJhc2VUZXh0dXJlLnJlc291cmNlLnNvdXJjZWAnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNvdXJjZS5zb3VyY2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLnNvdXJjZSBwcm9wZXJ0eSBoYXMgYmVlbiBtb3ZlZCwgdXNlIGBQSVhJLkJhc2VUZXh0dXJlLnJlc291cmNlLnNvdXJjZWAgJ1xuICAgICAgICAgICAgICAgICAgICArICdpZiB5b3Ugd2FudCB0byBzZXQgSFRNTENhbnZhc0VsZW1lbnQuIE90aGVyd2lzZSwgY3JlYXRlIG5ldyBCYXNlVGV4dHVyZS4nKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5CYXNlVGV4dHVyZSNwcmVtdWx0aXBseUFscGhhXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlI2FscGhhTW9kZVxuICAgICAgICAgKi9cbiAgICAgICAgcHJlbXVsdGlwbHlBbHBoYToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4wJywgJ1BJWEkuQmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSBwcm9wZXJ0eSBoYXMgYmVlbiBjaGFuZ2VkIHRvIGBhbHBoYU1vZGVgJ1xuICAgICAgICAgICAgICAgICAgICArICcsIHNlZSBgUElYSS5BTFBIQV9NT0RFU2AnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hbHBoYU1vZGUgIT09IDA7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5CYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhIHByb3BlcnR5IGhhcyBiZWVuIGNoYW5nZWQgdG8gYGFscGhhTW9kZWAnXG4gICAgICAgICAgICAgICAgICAgICsgJywgc2VlIGBQSVhJLkFMUEhBX01PREVTYCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWxwaGFNb2RlID0gTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXRjaCBsb2NhbCBmaWVsZCwgc3RvcmVzIGN1cnJlbnQgdGV4dHVyZSBsb2NhdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkJhc2VUZXh0dXJlI19pZFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUjX2JhdGNoTG9jYXRpb25cbiAgICAgICAgICovXG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFiYXNlVGV4dHVyZUlkRGVwcmVjYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gI3BvcGVseXNoZXY6IFRoYXQgcHJvcGVydHkgd2FzIGEgaG90IHBsYWNlLCBJIGRvbid0IHdhbnQgdG8gY2FsbCBkZXByZWNhdGlvbiBtZXRob2Qgb24gaXQgaWYgcG9zc2libGVcbiAgICAgICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4wJywgJ1BJWEkuQmFzZVRleHR1cmUuX2lkIGJhdGNoIGxvY2FsIGZpZWxkIGhhcyBiZWVuIGNoYW5nZWQgdG8gYF9iYXRjaExvY2F0aW9uYCcpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZUlkRGVwcmVjYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYmF0Y2hMb2NhdGlvbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JhdGNoTG9jYXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBmcm9tSW1hZ2VcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQmFzZVRleHR1cmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZS5mcm9tXG4gICAgICovXG4gICAgQmFzZVRleHR1cmVBbnkuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlKGNhbnZhcywgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSwgc2NhbGUpIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmZyb21JbWFnZSBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLkJhc2VUZXh0dXJlLmZyb20nKTtcbiAgICAgICAgdmFyIHJlc291cmNlT3B0aW9ucyA9IHsgc2NhbGU6IHNjYWxlLCBjcm9zc29yaWdpbjogY3Jvc3NvcmlnaW4gfTtcbiAgICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlQW55LmZyb20oY2FudmFzLCB7IHNjYWxlTW9kZTogc2NhbGVNb2RlLCByZXNvdXJjZU9wdGlvbnM6IHJlc291cmNlT3B0aW9ucyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZnJvbUNhbnZhc1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5CYXNlVGV4dHVyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlLmZyb21cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZUFueS5mcm9tQ2FudmFzID0gZnVuY3Rpb24gZnJvbUNhbnZhcyhjYW52YXMsIHNjYWxlTW9kZSkge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuZnJvbUNhbnZhcyBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLkJhc2VUZXh0dXJlLmZyb20nKTtcbiAgICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlQW55LmZyb20oY2FudmFzLCB7IHNjYWxlTW9kZTogc2NhbGVNb2RlIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBmcm9tU1ZHXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJhc2VUZXh0dXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUuZnJvbVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlQW55LmZyb21TVkcgPSBmdW5jdGlvbiBmcm9tU1ZHKGNhbnZhcywgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSwgc2NhbGUpIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmZyb21TVkcgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5CYXNlVGV4dHVyZS5mcm9tJyk7XG4gICAgICAgIHZhciByZXNvdXJjZU9wdGlvbnMgPSB7IHNjYWxlOiBzY2FsZSwgY3Jvc3NvcmlnaW46IGNyb3Nzb3JpZ2luIH07XG4gICAgICAgIHJldHVybiBCYXNlVGV4dHVyZUFueS5mcm9tKGNhbnZhcywgeyBzY2FsZU1vZGU6IHNjYWxlTW9kZSwgcmVzb3VyY2VPcHRpb25zOiByZXNvdXJjZU9wdGlvbnMgfSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5yZXNvdXJjZXMuSW1hZ2VSZXNvdXJjZSNwcmVtdWx0aXBseUFscGhhXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHNlZSBQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlI2FscGhhTW9kZVxuICAgICAgICAgKi9cbiAgICAgICAgcHJlbXVsdGlwbHlBbHBoYToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4wJywgJ1BJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2UucHJlbXVsdGlwbHlBbHBoYSBwcm9wZXJ0eSAnXG4gICAgICAgICAgICAgICAgICAgICsgJ2hhcyBiZWVuIGNoYW5nZWQgdG8gYGFscGhhTW9kZWAsIHNlZSBgUElYSS5BTFBIQV9NT0RFU2AnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hbHBoYU1vZGUgIT09IDA7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5yZXNvdXJjZXMuSW1hZ2VSZXNvdXJjZS5wcmVtdWx0aXBseUFscGhhIHByb3BlcnR5ICdcbiAgICAgICAgICAgICAgICAgICAgKyAnaGFzIGJlZW4gY2hhbmdlZCB0byBgYWxwaGFNb2RlYCwgc2VlIGBQSVhJLkFMUEhBX01PREVTYCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWxwaGFNb2RlID0gTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLlBvaW50I2NvcHlcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5Qb2ludCNjb3B5RnJvbVxuICAgICAqL1xuICAgIFBJWEkuUG9pbnQucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlBvaW50LmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5Qb2ludC5jb3B5RnJvbScpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RnJvbShwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5PYnNlcnZhYmxlUG9pbnQjY29weVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLk9ic2VydmFibGVQb2ludCNjb3B5RnJvbVxuICAgICAqL1xuICAgIFBJWEkuT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5PYnNlcnZhYmxlUG9pbnQuY29weSBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLk9ic2VydmFibGVQb2ludC5jb3B5RnJvbScpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RnJvbShwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5SZWN0YW5nbGUjY29weVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLlJlY3RhbmdsZSNjb3B5RnJvbVxuICAgICAqL1xuICAgIFBJWEkuUmVjdGFuZ2xlLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5SZWN0YW5nbGUuY29weSBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLlJlY3RhbmdsZS5jb3B5RnJvbScpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RnJvbShwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5NYXRyaXgjY29weVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLk1hdHJpeCNjb3B5VG9cbiAgICAgKi9cbiAgICBQSVhJLk1hdHJpeC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocCkge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuTWF0cml4LmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5NYXRyaXguY29weVRvJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlUbyhwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5zeXN0ZW1zLlN0YXRlU3lzdGVtI3NldFN0YXRlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4xLjBcbiAgICAgKiBAc2VlIFBJWEkuc3lzdGVtcy5TdGF0ZVN5c3RlbSNzZXRcbiAgICAgKi9cbiAgICBQSVhJLnN5c3RlbXMuU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gc2V0U3RhdGUocykge1xuICAgICAgICBkZXByZWNhdGlvbigndjUuMS4wJywgJ1N0YXRlU3lzdGVtLnNldFN0YXRlIGhhcyBiZWVuIHJlbmFtZWQgdG8gU3RhdGVTeXN0ZW0uc2V0Jyk7XG4gICAgICAgIHJldHVybiB0aGlzLnNldChzKTtcbiAgICB9O1xuICAgIE9iamVjdC5hc3NpZ24oUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbS5wcm90b3R5cGUsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5GaWx0ZXJNYW5hZ2VyI2dldFJlbmRlclRhcmdldFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0jZ2V0RmlsdGVyVGV4dHVyZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UmVuZGVyVGFyZ2V0OiBmdW5jdGlvbiAoX2NsZWFyLCByZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuRmlsdGVyTWFuYWdlci5nZXRSZW5kZXJUYXJnZXQgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNnZXRGaWx0ZXJUZXh0dXJlJyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRGaWx0ZXJUZXh0dXJlKG51bGwsIHJlc29sdXRpb24pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkZpbHRlck1hbmFnZXIjcmV0dXJuUmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNyZXR1cm5GaWx0ZXJUZXh0dXJlXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm5SZW5kZXJUYXJnZXQ6IGZ1bmN0aW9uIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuRmlsdGVyTWFuYWdlci5yZXR1cm5SZW5kZXJUYXJnZXQgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggJ1xuICAgICAgICAgICAgICAgICsgJ1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0ucmV0dXJuRmlsdGVyVGV4dHVyZScpO1xuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI2NhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG91dHB1dE1hdHJpeCAtIHRoZSBtYXRyaXggdG8gb3V0cHV0IHRvLlxuICAgICAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICAgICAqL1xuICAgICAgICBjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeDogZnVuY3Rpb24gKG91dHB1dE1hdHJpeCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtLmNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4IG1ldGhvZCBpcyByZW1vdmVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIGAodlRleHR1cmVDb29yZCAqIGlucHV0U2l6ZS54eSkgKyBvdXRwdXRGcmFtZS54eWAgaW5zdGVhZCcpO1xuICAgICAgICAgICAgdmFyIG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5pZGVudGl0eSgpO1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5hY3RpdmVTdGF0ZSwgc291cmNlRnJhbWUgPSBfYS5zb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSA9IF9hLmRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgICAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKHNvdXJjZUZyYW1lLnggLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoLCBzb3VyY2VGcmFtZS55IC8gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgbWFwcGVkTWF0cml4LnNjYWxlKGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0jY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG91dHB1dE1hdHJpeCAtIFRoZSBtYXRyaXggdG8gb3V0cHV0IHRvLlxuICAgICAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICAgICAqL1xuICAgICAgICBjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXg6IGZ1bmN0aW9uIChvdXRwdXRNYXRyaXgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5zeXN0ZW1zLkZpbHRlck1hbmFnZXIuY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4IG1ldGhvZCBpcyByZW1vdmVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIGAoKHZUZXh0dXJlQ29vcmQgKiBpbnB1dFNpemUueHkpICsgb3V0cHV0RnJhbWUueHkpIC8gb3V0cHV0RnJhbWUuendgIGluc3RlYWQuJyk7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLmFjdGl2ZVN0YXRlLCBzb3VyY2VGcmFtZSA9IF9hLnNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lID0gX2EuZGVzdGluYXRpb25GcmFtZTtcbiAgICAgICAgICAgIHZhciBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguaWRlbnRpdHkoKTtcbiAgICAgICAgICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoc291cmNlRnJhbWUueCAvIGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIHNvdXJjZUZyYW1lLnkgLyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICB2YXIgdHJhbnNsYXRlU2NhbGVYID0gKGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyBzb3VyY2VGcmFtZS53aWR0aCk7XG4gICAgICAgICAgICB2YXIgdHJhbnNsYXRlU2NhbGVZID0gKGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gc291cmNlRnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIG1hcHBlZE1hdHJpeC5zY2FsZSh0cmFuc2xhdGVTY2FsZVgsIHRyYW5zbGF0ZVNjYWxlWSk7XG4gICAgICAgICAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuUmVuZGVyVGV4dHVyZSNzb3VyY2VGcmFtZVxuICAgICAgICAgKiBAdHlwZSB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgc291cmNlRnJhbWU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5SZW5kZXJUZXh0dXJlLnNvdXJjZUZyYW1lIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJGcmFtZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJlbmRlclRleHR1cmUjc2l6ZVxuICAgICAgICAgKiBAdHlwZSB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgc2l6ZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlJlbmRlclRleHR1cmUuc2l6ZSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZyYW1lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAY2xhc3MgQmx1clhGaWx0ZXJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzc1xuICAgICAqL1xuICAgIHZhciBCbHVyWEZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKEJsdXJYRmlsdGVyLCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBCbHVyWEZpbHRlcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5maWx0ZXJzLkJsdXJYRmlsdGVyIGNsYXNzIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3MnKTtcbiAgICAgICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHJ1ZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpIHx8IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEJsdXJYRmlsdGVyO1xuICAgIH0oUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzKSk7XG4gICAgLyoqXG4gICAgICogQGNsYXNzIEJsdXJZRmlsdGVyXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3NcbiAgICAgKi9cbiAgICB2YXIgQmx1cllGaWx0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhCbHVyWUZpbHRlciwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gQmx1cllGaWx0ZXIoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZmlsdGVycy5CbHVyWUZpbHRlciBjbGFzcyBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzJyk7XG4gICAgICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGZhbHNlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkgfHwgdGhpcztcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQmx1cllGaWx0ZXI7XG4gICAgfShQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3MpKTtcbiAgICBPYmplY3QuYXNzaWduKFBJWEkuZmlsdGVycywge1xuICAgICAgICBCbHVyWEZpbHRlcjogQmx1clhGaWx0ZXIsXG4gICAgICAgIEJsdXJZRmlsdGVyOiBCbHVyWUZpbHRlcixcbiAgICB9KTtcbiAgICB2YXIgU3ByaXRlQW55ID0gUElYSS5TcHJpdGUsIFRleHR1cmVBbnkgPSBQSVhJLlRleHR1cmUsIEdyYXBoaWNzQW55ID0gUElYSS5HcmFwaGljcztcbiAgICAvLyBTdXBwb3J0IGZvciBwaXhpLmpzLWxlZ2FjeSBiaWZ1cmNhdGlvblxuICAgIC8vIGdpdmUgdXNlcnMgYSBmcmllbmRseSBhc3Npc3QgdG8gdXNlIGxlZ2FjeVxuICAgIGlmICghR3JhcGhpY3NBbnkucHJvdG90eXBlLmdlbmVyYXRlQ2FudmFzVGV4dHVyZSkge1xuICAgICAgICBHcmFwaGljc0FueS5wcm90b3R5cGUuZ2VuZXJhdGVDYW52YXNUZXh0dXJlID0gZnVuY3Rpb24gZ2VuZXJhdGVDYW52YXNUZXh0dXJlKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkdyYXBoaWNzLmdlbmVyYXRlQ2FudmFzVGV4dHVyZSBtZXRob2QgaXMgb25seSBhdmFpbGFibGUgaW4gXCJwaXhpLmpzLWxlZ2FjeVwiJyk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc30gUElYSS5HcmFwaGljcyNncmFwaGljc0RhdGFcbiAgICAgKiBAc2VlIFBJWEkuR3JhcGhpY3MjZ2VvbWV0cnlcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR3JhcGhpY3NBbnkucHJvdG90eXBlLCAnZ3JhcGhpY3NEYXRhJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5HcmFwaGljcy5ncmFwaGljc0RhdGEgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuR3JhcGhpY3MuZ2VvbWV0cnkuZ3JhcGhpY3NEYXRhJyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5ncmFwaGljc0RhdGE7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLy8gVXNlIHRoZXNlIHRvIGRlcHJlY2F0ZSBhbGwgdGhlIFNwcml0ZSBmcm9tKiBtZXRob2RzXG4gICAgZnVuY3Rpb24gc3ByaXRlRnJvbShuYW1lLCBzb3VyY2UsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsIFwiUElYSS5TcHJpdGUuXCIgKyBuYW1lICsgXCIgbWV0aG9kIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLlNwcml0ZS5mcm9tXCIpO1xuICAgICAgICByZXR1cm4gU3ByaXRlQW55LmZyb20oc291cmNlLCB7XG4gICAgICAgICAgICByZXNvdXJjZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBzY2FsZTogc2NhbGVNb2RlLFxuICAgICAgICAgICAgICAgIGNyb3Nzb3JpZ2luOiBjcm9zc29yaWdpbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbUltYWdlXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlQW55LmZyb21JbWFnZSA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbUltYWdlJyk7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuU3ByaXRlLmZyb21TVkdcbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGVBbnkuZnJvbVNWRyA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbVNWRycpO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tQ2FudmFzXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlQW55LmZyb21DYW52YXMgPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21DYW52YXMnKTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbVZpZGVvXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlQW55LmZyb21WaWRlbyA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbVZpZGVvJyk7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuU3ByaXRlLmZyb21GcmFtZVxuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZUFueS5mcm9tRnJhbWUgPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21GcmFtZScpO1xuICAgIC8vIFVzZSB0aGVzZSB0byBkZXByZWNhdGUgYWxsIHRoZSBUZXh0dXJlIGZyb20qIG1ldGhvZHNcbiAgICBmdW5jdGlvbiB0ZXh0dXJlRnJvbShuYW1lLCBzb3VyY2UsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsIFwiUElYSS5UZXh0dXJlLlwiICsgbmFtZSArIFwiIG1ldGhvZCBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5UZXh0dXJlLmZyb21cIik7XG4gICAgICAgIHJldHVybiBUZXh0dXJlQW55LmZyb20oc291cmNlLCB7XG4gICAgICAgICAgICByZXNvdXJjZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBzY2FsZTogc2NhbGVNb2RlLFxuICAgICAgICAgICAgICAgIGNyb3Nzb3JpZ2luOiBjcm9zc29yaWdpbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5UZXh0dXJlLmZyb21JbWFnZVxuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZUFueS5mcm9tSW1hZ2UgPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tSW1hZ2UnKTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5UZXh0dXJlLmZyb21TVkdcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmVBbnkuZnJvbVNWRyA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21TVkcnKTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5UZXh0dXJlLmZyb21DYW52YXNcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmVBbnkuZnJvbUNhbnZhcyA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21DYW52YXMnKTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5UZXh0dXJlLmZyb21WaWRlb1xuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZUFueS5mcm9tVmlkZW8gPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tVmlkZW8nKTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5UZXh0dXJlLmZyb21GcmFtZVxuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZUFueS5mcm9tRnJhbWUgPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tRnJhbWUnKTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59IFBJWEkuQWJzdHJhY3RSZW5kZXJlciNhdXRvUmVzaXplXG4gICAgICogQHNlZSBQSVhJLkFic3RyYWN0UmVuZGVyZXIjYXV0b0RlbnNpdHlcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5BYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZSwgJ2F1dG9SZXNpemUnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkFic3RyYWN0UmVuZGVyZXIuYXV0b1Jlc2l6ZSBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIFBJWEkuQWJzdHJhY3RSZW5kZXJlci5hdXRvRGVuc2l0eScpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0b0RlbnNpdHk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQWJzdHJhY3RSZW5kZXJlci5hdXRvUmVzaXplIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsICdcbiAgICAgICAgICAgICAgICArICd1c2UgUElYSS5BYnN0cmFjdFJlbmRlcmVyLmF1dG9EZW5zaXR5Jyk7XG4gICAgICAgICAgICB0aGlzLmF1dG9EZW5zaXR5ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuVGV4dHVyZVN5c3RlbX0gUElYSS5SZW5kZXJlciN0ZXh0dXJlTWFuYWdlclxuICAgICAqIEBzZWUgUElYSS5SZW5kZXJlciN0ZXh0dXJlXG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkuUmVuZGVyZXIucHJvdG90eXBlLCAndGV4dHVyZU1hbmFnZXInLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlJlbmRlcmVyLnRleHR1cmVNYW5hZ2VyIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLlJlbmRlcmVyLnRleHR1cmUnKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHR1cmU7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLnV0aWxzLm1peGluc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS51dGlscy5taXhpbnMgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS51dGlscy5taXhpbnNcbiAgICAgICAgICogQGZ1bmN0aW9uIG1peGluXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBtaXhpbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLm1peGlucy5taXhpbiBmdW5jdGlvbiBpcyBubyBsb25nZXIgYXZhaWxhYmxlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS51dGlscy5taXhpbnNcbiAgICAgICAgICogQGZ1bmN0aW9uIGRlbGF5TWl4aW5cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGRlbGF5TWl4aW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5taXhpbnMuZGVsYXlNaXhpbiBmdW5jdGlvbiBpcyBubyBsb25nZXIgYXZhaWxhYmxlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS51dGlscy5taXhpbnNcbiAgICAgICAgICogQGZ1bmN0aW9uIHBlcmZvcm1NaXhpbnNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIHBlcmZvcm1NaXhpbnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5taXhpbnMucGVyZm9ybU1peGlucyBmdW5jdGlvbiBpcyBubyBsb25nZXIgYXZhaWxhYmxlJyk7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5CaXRtYXBUZXh0XG4gICAgICogQG1lbWJlciB7b2JqZWN0fSBmb250XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5CaXRtYXBUZXh0LnByb3RvdHlwZSwgJ2ZvbnQnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuQml0bWFwVGV4dC5mb250IHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsICdcbiAgICAgICAgICAgICAgICArICd1c2UgZm9udE5hbWUsIGZvbnRTaXplLCB0aW50IG9yIGFsaWduIHByb3BlcnRpZXMnKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5fZm9udE5hbWUsXG4gICAgICAgICAgICAgICAgc2l6ZTogdGhpcy5fZm9udFNpemUsXG4gICAgICAgICAgICAgICAgdGludDogdGhpcy5fdGludCxcbiAgICAgICAgICAgICAgICBhbGlnbjogdGhpcy5fYWxpZ24sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuQml0bWFwVGV4dC5mb250IHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsICdcbiAgICAgICAgICAgICAgICArICd1c2UgZm9udE5hbWUsIGZvbnRTaXplLCB0aW50IG9yIGFsaWduIHByb3BlcnRpZXMnKTtcbiAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB7IGZvbnQ6IHZhbHVlIH07XG4gICAgICAgICAgICB0aGlzLl91cGdyYWRlU3R5bGUoc3R5bGUpO1xuICAgICAgICAgICAgc3R5bGUuZm9udFNpemUgPSBzdHlsZS5mb250U2l6ZSB8fCBQSVhJLkJpdG1hcEZvbnQuYXZhaWxhYmxlW3N0eWxlLmZvbnROYW1lXS5zaXplO1xuICAgICAgICAgICAgdGhpcy5fZm9udE5hbWUgPSBzdHlsZS5mb250TmFtZTtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gc3R5bGUuZm9udFNpemU7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cblxuLy8gSW5zdGFsbCByZW5kZXJlciBwbHVnaW5zXG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignYWNjZXNzaWJpbGl0eScsIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdleHRyYWN0JywgRXh0cmFjdCk7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignaW50ZXJhY3Rpb24nLCBJbnRlcmFjdGlvbk1hbmFnZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3BhcnRpY2xlJywgUGFydGljbGVSZW5kZXJlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbigncHJlcGFyZScsIFByZXBhcmUpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2JhdGNoJywgQmF0Y2hSZW5kZXJlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbigndGlsaW5nU3ByaXRlJywgVGlsaW5nU3ByaXRlUmVuZGVyZXIpO1xuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKEJpdG1hcEZvbnRMb2FkZXIpO1xuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKFNwcml0ZXNoZWV0TG9hZGVyKTtcbkFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKFRpY2tlclBsdWdpbik7XG5BcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihBcHBMb2FkZXJQbHVnaW4pO1xuLyoqXG4gKiBTdHJpbmcgb2YgdGhlIGN1cnJlbnQgUElYSSB2ZXJzaW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIFZFUlNJT05cbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbnZhciBWRVJTSU9OID0gJzUuMy4zJztcbi8qKlxuICogQG5hbWVzcGFjZSBQSVhJXG4gKi9cbi8qKlxuICogVGhpcyBuYW1lc3BhY2UgY29udGFpbnMgV2ViR0wtb25seSBkaXNwbGF5IGZpbHRlcnMgdGhhdCBjYW4gYmUgYXBwbGllZFxuICogdG8gRGlzcGxheU9iamVjdHMgdXNpbmcgdGhlIHtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZmlsdGVycyBmaWx0ZXJzfSBwcm9wZXJ0eS5cbiAqXG4gKiBTaW5jZSBQaXhpSlMgb25seSBoYWQgYSBoYW5kZnVsIG9mIGJ1aWx0LWluIGZpbHRlcnMsIGFkZGl0aW9uYWwgZmlsdGVyc1xuICogY2FuIGJlIGRvd25sb2FkZWQge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS1maWx0ZXJzIGhlcmV9IGZyb20gdGhlXG4gKiBQaXhpSlMgRmlsdGVycyByZXBvc2l0b3J5LlxuICpcbiAqIEFsbCBmaWx0ZXJzIG11c3QgZXh0ZW5kIHtAbGluayBQSVhJLkZpbHRlcn0uXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIG5ldyBhcHBsaWNhdGlvblxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBEcmF3IGEgZ3JlZW4gcmVjdGFuZ2xlXG4gKiBjb25zdCByZWN0ID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICogICAgIC5iZWdpbkZpbGwoMHgwMGZmMDApXG4gKiAgICAgLmRyYXdSZWN0KDQwLCA0MCwgMjAwLCAyMDApO1xuICpcbiAqIC8vIEFkZCBhIGJsdXIgZmlsdGVyXG4gKiByZWN0LmZpbHRlcnMgPSBbbmV3IFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyKCldO1xuICpcbiAqIC8vIERpc3BsYXkgcmVjdGFuZ2xlXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQocmVjdCk7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcbiAqIEBuYW1lc3BhY2UgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBmaWx0ZXJzID0ge1xuICAgIEFscGhhRmlsdGVyOiBBbHBoYUZpbHRlcixcbiAgICBCbHVyRmlsdGVyOiBCbHVyRmlsdGVyLFxuICAgIEJsdXJGaWx0ZXJQYXNzOiBCbHVyRmlsdGVyUGFzcyxcbiAgICBDb2xvck1hdHJpeEZpbHRlcjogQ29sb3JNYXRyaXhGaWx0ZXIsXG4gICAgRGlzcGxhY2VtZW50RmlsdGVyOiBEaXNwbGFjZW1lbnRGaWx0ZXIsXG4gICAgRlhBQUZpbHRlcjogRlhBQUZpbHRlcixcbiAgICBOb2lzZUZpbHRlcjogTm9pc2VGaWx0ZXIsXG59O1xuXG5leHBvcnQgeyBWRVJTSU9OLCBmaWx0ZXJzLCB1c2VEZXByZWNhdGVkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXhpLmVzLmpzLm1hcFxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ga2V5Ym9hcmQodmFsdWUpIHtcbiAgICBsZXQga2V5ID0ge307XG4gICAga2V5LnZhbHVlID0gdmFsdWU7XG4gICAga2V5LmlzRG93biA9IGZhbHNlO1xuICAgIGtleS5pc1VwID0gdHJ1ZTtcbiAgICBrZXkucHJlc3MgPSB1bmRlZmluZWQ7XG4gICAga2V5LnJlbGVhc2UgPSB1bmRlZmluZWQ7XG4gICAgLy9UaGUgYGRvd25IYW5kbGVyYFxuICAgIGtleS5kb3duSGFuZGxlciA9IGV2ZW50ID0+IHtcbiAgICAgIGlmIChldmVudC5rZXkgPT09IGtleS52YWx1ZSkge1xuICAgICAgICBpZiAoa2V5LmlzVXAgJiYga2V5LnByZXNzKSBrZXkucHJlc3MoKTtcbiAgICAgICAga2V5LmlzRG93biA9IHRydWU7XG4gICAgICAgIGtleS5pc1VwID0gZmFsc2U7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfTtcbiAgXG4gICAgLy9UaGUgYHVwSGFuZGxlcmBcbiAgICBrZXkudXBIYW5kbGVyID0gZXZlbnQgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0ga2V5LnZhbHVlKSB7XG4gICAgICAgIGlmIChrZXkuaXNEb3duICYmIGtleS5yZWxlYXNlKSBrZXkucmVsZWFzZSgpO1xuICAgICAgICBrZXkuaXNEb3duID0gZmFsc2U7XG4gICAgICAgIGtleS5pc1VwID0gdHJ1ZTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9O1xuICBcbiAgICAvL0F0dGFjaCBldmVudCBsaXN0ZW5lcnNcbiAgICBjb25zdCBkb3duTGlzdGVuZXIgPSBrZXkuZG93bkhhbmRsZXIuYmluZChrZXkpO1xuICAgIGNvbnN0IHVwTGlzdGVuZXIgPSBrZXkudXBIYW5kbGVyLmJpbmQoa2V5KTtcbiAgICBcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwia2V5ZG93blwiLCBkb3duTGlzdGVuZXIsIGZhbHNlXG4gICAgKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwia2V5dXBcIiwgdXBMaXN0ZW5lciwgZmFsc2VcbiAgICApO1xuICAgIFxuICAgIC8vIERldGFjaCBldmVudCBsaXN0ZW5lcnNcbiAgICBrZXkudW5zdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZG93bkxpc3RlbmVyKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdXBMaXN0ZW5lcik7XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4ga2V5O1xuICB9IiwiaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcbmltcG9ydCBuaXBwbGVqcyBmcm9tICduaXBwbGVqcyc7XG5cbmltcG9ydCBoZXJvQW5pbSBmcm9tICcuL2FuaW1zL2hlcm9BbmltJztcbmltcG9ydCBrZXlib2FyZCBmcm9tICcuL3V0aWxzL2tleWJvYXJkJztcblxuUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OID0gNTtcblBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERSA9IFBJWEkuU0NBTEVfTU9ERVMuTkVBUkVTVDtcblxuLy8gVGhlIGFwcGxpY2F0aW9uIHdpbGwgY3JlYXRlIGEgcmVuZGVyZXIgdXNpbmcgV2ViR0wsIGlmIHBvc3NpYmxlLFxuLy8gd2l0aCBhIGZhbGxiYWNrIHRvIGEgY2FudmFzIHJlbmRlci4gSXQgd2lsbCBhbHNvIHNldHVwIHRoZSB0aWNrZXJcbi8vIGFuZCB0aGUgcm9vdCBzdGFnZSBQSVhJLkNvbnRhaW5lclxuY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oe3RyYW5zcGFyZW50OiB0cnVlfSk7XG5cbmFwcC5yZW5kZXJlci52aWV3LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuYXBwLnJlbmRlcmVyLnZpZXcuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbmFwcC5yZW5kZXJlci52aWV3LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiIzAwRkYwMFwiO1xuXG53aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbigpXG57XG4gICAgYXBwLnJlbmRlcmVyLnJlc2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCAvIFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTiwgd2luZG93LmlubmVySGVpZ2h0IC8gUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OKTtcbn1cbndpbmRvdy5vbnJlc2l6ZSgpO1xuXG4vLyBUaGUgYXBwbGljYXRpb24gd2lsbCBjcmVhdGUgYSBjYW52YXMgZWxlbWVudCBmb3IgeW91IHRoYXQgeW91XG4vLyBjYW4gdGhlbiBpbnNlcnQgaW50byB0aGUgRE9NXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcblxuY29uc3QgbmlwcGxlTWFuYWdlciA9IG5pcHBsZWpzLmNyZWF0ZSh7em9uZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRyb2xzLW92ZXJsYXknKSwgY29sb3I6ICcjMzMzJywgbWF4TnVtYmVyT2ZOaXBwbGVzOiAxfSk7XG5cbmhlcm9BbmltKGFwcCkudGhlbihoZXJvQW5pbSA9PiB7XG4gICAgY29uc3QgaGVybyA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICAgIGhlcm8udnggPSAwO1xuICAgIGhlcm8udnkgPSAwO1xuICAgIGhlcm8uYWRkQ2hpbGQoLi4uaGVyb0FuaW0uYW5pbXMpO1xuICAgIGhlcm8ueCA9IGFwcC5yZW5kZXJlci53aWR0aCAvIDIgLyBQSVhJLnNldHRpbmdzLlJFU09MVVRJT047XG4gICAgaGVyby55ID0gYXBwLnJlbmRlcmVyLmhlaWdodCAvIDIgLyBQSVhJLnNldHRpbmdzLlJFU09MVVRJT047XG4gICAgaGVyb0FuaW0uc3RhbmQoKTtcbiAgICBcbiAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQoaGVybyk7XG4gICAgXG4gICAgbmlwcGxlTWFuYWdlci5vbignc3RhcnQnLCAoZSwgdkpveXN0aWNrKSA9PiB7XG4gICAgICAgIHZKb3lzdGljay5vbignbW92ZScsIChlLCB7ZGlyZWN0aW9uLCBmb3JjZX0pID0+IHtcbiAgICAgICAgICAgIGlmKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGlmKGRpcmVjdGlvbi54ID09PSBcInJpZ2h0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVyby52eCA9IE1hdGgubWluKGZvcmNlLCAzKSAqIDAuMzM7XG4gICAgICAgICAgICAgICAgICAgIGhlcm8uc2NhbGUueCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGhlcm9BbmltLndhbGsoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoZXJvLnZ4ID0gTWF0aC5taW4oZm9yY2UsIDMpICogLTAuMzM7XG4gICAgICAgICAgICAgICAgICAgIGhlcm8uc2NhbGUueCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICBoZXJvQW5pbS53YWxrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIG5pcHBsZU1hbmFnZXIub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgaGVyby52eCA9IDA7XG4gICAgICAgIGhlcm9BbmltLnN0YW5kKCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBtb3ZlTGVmdCA9IGtleWJvYXJkKFwiQXJyb3dMZWZ0XCIpO1xuICAgIG1vdmVMZWZ0LnByZXNzID0gKCkgPT4ge1xuICAgICAgICBoZXJvLnZ4ID0gLTE7XG4gICAgICAgIGhlcm8uc2NhbGUueCA9IC0xO1xuICAgICAgICBoZXJvQW5pbS53YWxrKCk7XG4gICAgfTtcbiAgICBtb3ZlTGVmdC5yZWxlYXNlID0gKCkgPT4ge1xuICAgICAgICBoZXJvLnZ4ID0gMDtcbiAgICAgICAgaGVyb0FuaW0uc3RhbmQoKTtcbiAgICB9XG5cbiAgICBjb25zdCBtb3ZlUmlnaHQgPSBrZXlib2FyZChcIkFycm93UmlnaHRcIik7XG4gICAgbW92ZVJpZ2h0LnByZXNzID0gKCkgPT4ge1xuICAgICAgICBoZXJvLnZ4ID0gMTtcbiAgICAgICAgaGVyby5zY2FsZS54ID0gMTtcbiAgICAgICAgaGVyb0FuaW0ud2FsaygpO1xuICAgIH07XG4gICAgbW92ZVJpZ2h0LnJlbGVhc2UgPSAoKSA9PiB7XG4gICAgICAgIGhlcm8udnggPSAwO1xuICAgICAgICBoZXJvQW5pbS5zdGFuZCgpO1xuICAgIH1cblxuICAgIGFwcC50aWNrZXIuYWRkKGRlbHRhID0+IHtcbiAgICAgICAgaGVyby54ICs9IGhlcm8udnggKiBkZWx0YTtcbiAgICAgICAgaGVyby55ICs9IGhlcm8udnkgKiBkZWx0YTtcbiAgICB9KTtcbn0pO1xuXG5hcHAucmVuZGVyZXIub24oJ3Jlc2l6ZScsICgpID0+IHtcbiAgICBjb25zdCBidW5ueSA9IGFwcC5zdGFnZS5nZXRDaGlsZEF0KDApO1xuICAgIGJ1bm55LnggPSBhcHAucmVuZGVyZXIud2lkdGggLyAyIC8gUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgIGJ1bm55LnkgPSBhcHAucmVuZGVyZXIuaGVpZ2h0IC8gMiAvIFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTjtcbn0pOyIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IChhcHApID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzID0+IHtcbiAgICAgICAgYXBwLmxvYWRlci5hZGQoJ2hlcm8uanNvbicpLmxvYWQoKGxvYWRlciwgcmVzb3VyY2VzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzaGVldCA9IHJlc291cmNlc1snaGVyby5qc29uJ107XG4gICAgICAgIFxuICAgICAgICAgICAgY29uc3QgYW5pbXMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGFkZEFuaW0gPSAobmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuaW0gPSBuZXcgUElYSS5BbmltYXRlZFNwcml0ZShzaGVldC5zcHJpdGVzaGVldC5hbmltYXRpb25zW25hbWVdKTtcbiAgICAgICAgICAgICAgICBzZXRBbmNob3IoYW5pbSk7XG4gICAgICAgICAgICAgICAgYW5pbS5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYW5pbXMucHVzaChhbmltKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5pbTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBpbnZhbGlkYXRlQW5pbXMgPSAoYW5pbSkgPT4ge1xuICAgICAgICAgICAgICAgIGFuaW1zLmZvckVhY2goYSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGEgIT09IGFuaW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCB2YWxpZGF0ZUFuaW0gPSAoYW5pbSkgPT4ge1xuICAgICAgICAgICAgICAgIGFuaW0ucGxheSgpO1xuICAgICAgICAgICAgICAgIGFuaW0ucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcnVuID0gKGFuaW0pID0+IHtcbiAgICAgICAgICAgICAgICBpbnZhbGlkYXRlQW5pbXMoYW5pbSk7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGVBbmltKGFuaW0pO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgY29uc3QgaGVyb1N0YW5kaW5nID0gYWRkQW5pbShcImhlcm9fc3RhbmRpbmdcIik7XG4gICAgICAgICAgICBoZXJvU3RhbmRpbmcuYW5pbWF0aW9uU3BlZWQgPSAwLjAyNTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgaGVyb1dhbGtpbmcgPSBhZGRBbmltKFwiaGVyb193YWxraW5nXCIpO1xuICAgICAgICAgICAgaGVyb1dhbGtpbmcuYW5pbWF0aW9uU3BlZWQgPSAwLjE7IFxuICAgIFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIGFuaW1zLFxuICAgICAgICAgICAgICAgIHdhbGs6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcnVuKGhlcm9XYWxraW5nKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0YW5kOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bihoZXJvU3RhbmRpbmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzKHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuZnVuY3Rpb24gc2V0QW5jaG9yKHNwcml0ZSkge1xuICAgIHNwcml0ZS5hbmNob3IueCA9IDAuNTtcbiAgICBzcHJpdGUuYW5jaG9yLnkgPSAxO1xufSJdLCJzb3VyY2VSb290IjoiIn0=